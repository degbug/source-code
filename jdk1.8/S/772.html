<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/net/URLClassLoader.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L231">[^]</a><a href="#L802">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L231" title="Defined at 231.">getResourceAsStream</a></li>
<li><a href="#L286" title="Defined at 286.">close</a></li>
<li><a href="#L331" title="Defined at 331.">addURL</a></li>
<li><a href="#L341" title="Defined at 341.">getURLs</a></li>
<li><a href="#L356" title="Defined at 356.">findClass</a></li>
<li><a href="#L391" title="Defined at 391.">getAndVerifyPackage</a></li>
<li><a href="#L417" title="Defined at 417.">definePackageInternal</a></li>
<li><a href="#L443" title="Defined at 443.">defineClass</a></li>
<li><a href="#L486" title="Defined at 486.">definePackage</a></li>
<li><a href="#L540" title="Defined at 540.">isSealed</a></li>
<li><a href="#L562" title="Defined at 562.">findResource</a></li>
<li><a href="#L585" title="Defined at 585.">findResources</a></li>
<li><a href="#L652" title="Defined at 652.">getPermissions</a></li>
<li><a href="#L732" title="Defined at 732.">newInstance</a></li>
<li><a href="#L758" title="Defined at 758.">newInstance</a></li>
<li><a href="#L802" title="Defined at 802.">loadClass</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.Closeable;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.File;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.FilePermission;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.IOException;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.AccessControlContext;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.security.CodeSigner;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.CodeSource;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.security.Permission;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.security.PermissionCollection;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.security.PrivilegedExceptionAction;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.security.SecureClassLoader;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.util.List;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.NoSuchElementException;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.Objects;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.Set;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.util.WeakHashMap;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.util.jar.Attributes;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.util.jar.Attributes.Name;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.util.jar.JarFile;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.util.jar.Manifest;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> sun.misc.Resource;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> sun.misc.URLClassPath;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> sun.net.www.ParseUtil;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> sun.security.util.SecurityConstants;
<a id="L56" name="L56"></a>  56 
<div class="comment">
  This class loader is used to load classes and resources from a search
  path of URLs referring to both JAR files and directories. Any URL that
  ends with a '/' is assumed to refer to a directory. Otherwise, the URL
  is assumed to refer to a JAR file which will be opened as needed.
  <p>
  The AccessControlContext of the thread that created the instance of
  URLClassLoader will be used when subsequently loading classes and
  resources.
  </p><p>
  The classes that are loaded are by default granted permission only to
  access the URLs specified when the URLClassLoader was created.
  @author  David Connelly
  @since   1.2</p></div>
<a id="L73" name="L73"></a>  73 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8409.html" title="Multiple referred from 17 places.">URLClassLoader</a> <strong class="reserved">extends</strong> <a href="../S/1325.html#L42" title="Defined at 42 in src/java/security/SecureClassLoader.java.">SecureClassLoader</a> <strong class="reserved">implements</strong> <a href="../S/1405.html#L37" title="Defined at 37 in src/java/io/Closeable.java.">Closeable</a> <em class="brace">{</em>
<div class="comment">
     /* The search path for classes and resources */</div>
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <strong class="reserved">final</strong> URLClassPath ucp;
<a id="L76" name="L76"></a>  76 
<div class="comment">
     /* The context to be used when loading classes and resources */</div>
<a id="L78" name="L78"></a>  78     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc;
<a id="L79" name="L79"></a>  79 
<div class="comment">
      Constructs a new URLClassLoader for the given URLs. The URLs will be
      searched in the order specified for classes and resources after first
      searching in the specified parent class loader. Any URL that ends with
      a '/' is assumed to refer to a directory. Otherwise, the URL is assumed
      to refer to a JAR file which will be downloaded and opened as needed.
      <p>If there is a security manager, this method first
      calls the security manager's <code>checkCreateClassLoader</code> method
      to ensure creation of a class loader is allowed.
      @param urls the URLs from which to load classes and resources
      @param parent the parent class loader for delegation
      @exception  SecurityException  if a security manager exists and its
                  <code>checkCreateClassLoader</code> method doesn't allow
                  creation of a class loader.
      @exception  NullPointerException if <code>urls</code> is <code>null</code>.
      @see SecurityManager#checkCreateClassLoader</p></div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">public</strong> URLClassLoader(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L100" name="L100"></a> 100         <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L101" name="L101"></a> 101         <em class="comment">// this is to make the stack depth consistent with 1.1</em>
<a id="L102" name="L102"></a> 102         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L103" name="L103"></a> 103         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L104" name="L104"></a> 104             security.<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>();
<a id="L105" name="L105"></a> 105         <em class="brace">}</em>
<a id="L106" name="L106"></a> 106         ucp = <strong class="reserved">new</strong> URLClassPath(urls);
<a id="L107" name="L107"></a> 107         <strong class="reserved">this</strong>.acc = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L108" name="L108"></a> 108     <em class="brace">}</em>
<a id="L109" name="L109"></a> 109 
<a id="L110" name="L110"></a> 110     URLClassLoader(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>,
<a id="L111" name="L111"></a> 111                    <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc) <em class="brace">{</em>
<a id="L112" name="L112"></a> 112         <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L113" name="L113"></a> 113         <em class="comment">// this is to make the stack depth consistent with 1.1</em>
<a id="L114" name="L114"></a> 114         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L115" name="L115"></a> 115         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L116" name="L116"></a> 116             security.<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>();
<a id="L117" name="L117"></a> 117         <em class="brace">}</em>
<a id="L118" name="L118"></a> 118         ucp = <strong class="reserved">new</strong> URLClassPath(urls);
<a id="L119" name="L119"></a> 119         <strong class="reserved">this</strong>.acc = acc;
<a id="L120" name="L120"></a> 120     <em class="brace">}</em>
<a id="L121" name="L121"></a> 121 
<div class="comment">
      Constructs a new URLClassLoader for the specified URLs using the
      default delegation parent <code>ClassLoader</code>. The URLs will
      be searched in the order specified for classes and resources after
      first searching in the parent class loader. Any URL that ends with
      a '/' is assumed to refer to a directory. Otherwise, the URL is
      assumed to refer to a JAR file which will be downloaded and opened
      as needed.
      <p>If there is a security manager, this method first
      calls the security manager's <code>checkCreateClassLoader</code> method
      to ensure creation of a class loader is allowed.
      @param urls the URLs from which to load classes and resources
      @exception  SecurityException  if a security manager exists and its
                  <code>checkCreateClassLoader</code> method doesn't allow
                  creation of a class loader.
      @exception  NullPointerException if <code>urls</code> is <code>null</code>.
      @see SecurityManager#checkCreateClassLoader</p></div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">public</strong> URLClassLoader(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144         <strong class="reserved">super</strong>();
<a id="L145" name="L145"></a> 145         <em class="comment">// this is to make the stack depth consistent with 1.1</em>
<a id="L146" name="L146"></a> 146         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L147" name="L147"></a> 147         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L148" name="L148"></a> 148             security.<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>();
<a id="L149" name="L149"></a> 149         <em class="brace">}</em>
<a id="L150" name="L150"></a> 150         ucp = <strong class="reserved">new</strong> URLClassPath(urls);
<a id="L151" name="L151"></a> 151         <strong class="reserved">this</strong>.acc = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L152" name="L152"></a> 152     <em class="brace">}</em>
<a id="L153" name="L153"></a> 153 
<a id="L154" name="L154"></a> 154     URLClassLoader(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls, <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc) <em class="brace">{</em>
<a id="L155" name="L155"></a> 155         <strong class="reserved">super</strong>();
<a id="L156" name="L156"></a> 156         <em class="comment">// this is to make the stack depth consistent with 1.1</em>
<a id="L157" name="L157"></a> 157         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L158" name="L158"></a> 158         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L159" name="L159"></a> 159             security.<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>();
<a id="L160" name="L160"></a> 160         <em class="brace">}</em>
<a id="L161" name="L161"></a> 161         ucp = <strong class="reserved">new</strong> URLClassPath(urls);
<a id="L162" name="L162"></a> 162         <strong class="reserved">this</strong>.acc = acc;
<a id="L163" name="L163"></a> 163     <em class="brace">}</em>
<a id="L164" name="L164"></a> 164 
<div class="comment">
      Constructs a new URLClassLoader for the specified URLs, parent
      class loader, and URLStreamHandlerFactory. The parent argument
      will be used as the parent class loader for delegation. The
      factory argument will be used as the stream handler factory to
      obtain protocol handlers when creating new jar URLs.
      <p>If there is a security manager, this method first
      calls the security manager's <code>checkCreateClassLoader</code> method
      to ensure creation of a class loader is allowed.
      @param urls the URLs from which to load classes and resources
      @param parent the parent class loader for delegation
      @param factory the URLStreamHandlerFactory to use when creating URLs
      @exception  SecurityException  if a security manager exists and its
                  <code>checkCreateClassLoader</code> method doesn't allow
                  creation of a class loader.
      @exception  NullPointerException if <code>urls</code> is <code>null</code>.
      @see SecurityManager#checkCreateClassLoader</p></div>
<a id="L186" name="L186"></a> 186     <strong class="reserved">public</strong> URLClassLoader(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>,
<a id="L187" name="L187"></a> 187                           <a href="../S/782.html#L40" title="Defined at 40 in src/java/net/URLStreamHandlerFactory.java.">URLStreamHandlerFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188         <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L189" name="L189"></a> 189         <em class="comment">// this is to make the stack depth consistent with 1.1</em>
<a id="L190" name="L190"></a> 190         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L191" name="L191"></a> 191         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L192" name="L192"></a> 192             security.<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>();
<a id="L193" name="L193"></a> 193         <em class="brace">}</em>
<a id="L194" name="L194"></a> 194         ucp = <strong class="reserved">new</strong> URLClassPath(urls, <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>);
<a id="L195" name="L195"></a> 195         acc = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L196" name="L196"></a> 196     <em class="brace">}</em>
<a id="L197" name="L197"></a> 197 
<div class="comment">
 A map (used as a set) to keep track of closeable local resources
      (either JarFiles or FileInputStreams). We don't care about
      Http resources since they don't need to be closed.
      If the resource is coming from a jar file
      we keep a (weak) reference to the JarFile object which can
      be closed if URLClassLoader.close() called. Due to jar file
      caching there will typically be only one JarFile object
      per underlying jar file.
      For file resources, which is probably a less common situation
      we have to keep a weak reference to each stream.</div>
<a id="L211" name="L211"></a> 211 
<a id="L212" name="L212"></a> 212     <strong class="reserved">private</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;<a href="../S/1405.html#L37" title="Defined at 37 in src/java/io/Closeable.java.">Closeable</a>,<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;
<a id="L213" name="L213"></a> 213         closeables = <strong class="reserved">new</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;&gt;();
<a id="L214" name="L214"></a> 214 
<div class="comment">
      Returns an input stream for reading the specified resource.
      If this loader is closed, then any resources opened by this method
      will be closed.
      <p> The search order is described in the documentation for {@link
      #getResource(String)}.  </p>
      @param  name
              The resource name
      @return  An input stream for reading the resource, or <code>null</code>
               if the resource could not be found
      @since  1.7</div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/18712.html" title="Multiple referred from 70 places.">getResourceAsStream</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L232" name="L232"></a> 232         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L233" name="L233"></a> 233         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L234" name="L234"></a> 234             <strong class="reserved">if</strong> (url == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L236" name="L236"></a> 236             <em class="brace">}</em>
<a id="L237" name="L237"></a> 237             <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> urlc = url.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>();
<a id="L238" name="L238"></a> 238             <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = urlc.<a href="../D/19744.html" title="Multiple defined in 16 places.">getInputStream</a>();
<a id="L239" name="L239"></a> 239             <strong class="reserved">if</strong> (urlc <strong class="reserved">instanceof</strong> <a href="../S/799.html#L137" title="Defined at 137 in src/java/net/JarURLConnection.java.">JarURLConnection</a>) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240                 <a href="../S/799.html#L137" title="Defined at 137 in src/java/net/JarURLConnection.java.">JarURLConnection</a> juc = (<a href="../S/799.html#L137" title="Defined at 137 in src/java/net/JarURLConnection.java.">JarURLConnection</a>)urlc;
<a id="L241" name="L241"></a> 241                 <a href="../S/919.html#L71" title="Defined at 71 in src/java/util/jar/JarFile.java.">JarFile</a> jar = juc.<a href="../S/799.html#L217" title="Defined at 217 in src/java/net/JarURLConnection.java.">getJarFile</a>();
<a id="L242" name="L242"></a> 242                 <strong class="reserved">synchronized</strong> (closeables) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243                     <strong class="reserved">if</strong> (!closeables.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(jar)) <em class="brace">{</em>
<a id="L244" name="L244"></a> 244                         closeables.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(jar, <strong class="reserved">null</strong>);
<a id="L245" name="L245"></a> 245                     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246                 <em class="brace">}</em>
<a id="L247" name="L247"></a> 247             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (urlc <strong class="reserved">instanceof</strong> sun.net.www.protocol.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.FileURLConnection) <em class="brace">{</em>
<a id="L248" name="L248"></a> 248                 <strong class="reserved">synchronized</strong> (closeables) <em class="brace">{</em>
<a id="L249" name="L249"></a> 249                     closeables.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>, <strong class="reserved">null</strong>);
<a id="L250" name="L250"></a> 250                 <em class="brace">}</em>
<a id="L251" name="L251"></a> 251             <em class="brace">}</em>
<a id="L252" name="L252"></a> 252             <strong class="reserved">return</strong> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>;
<a id="L253" name="L253"></a> 253         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L255" name="L255"></a> 255         <em class="brace">}</em>
<a id="L256" name="L256"></a> 256     <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
     Closes this URLClassLoader, so that it can no longer be used to load
     new classes or resources that are defined by this loader.
     Classes and resources defined by any of this loader's parents in the
     delegation hierarchy are still accessible. Also, any classes or resources
     that are already loaded, are still accessible.
     <p>
     In the case of jar: and file: URLs, it also closes any files
     that were opened by it. If another thread is loading a
     class when the <code>close</code> method is invoked, then the result of
     that load is undefined.
     </p><p>
     The method makes a best effort attempt to close all opened files,
     by catching {@link IOException}s internally. Unchecked exceptions
     and errors are not caught. Calling close on an already closed
     loader has no effect.
     </p><p>
     @exception IOException if closing any file opened by this class loader
     resulted in an IOException. Any such exceptions are caught internally.
     If only one is caught, then it is re-thrown. If more than one exception
     is caught, then the second and following exceptions are added
     as suppressed exceptions of the first one caught, which is then re-thrown.
     @exception SecurityException if a security manager is set, and it denies
       {@link RuntimePermission}<code>("closeClassLoader")</code>
     @since 1.7</p></div>
<a id="L286" name="L286"></a> 286     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11587.html" title="Multiple referred from 410 places.">close</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L288" name="L288"></a> 288         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L289" name="L289"></a> 289             security.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/1764.html#L349" title="Defined at 349 in src/java/lang/RuntimePermission.java.">RuntimePermission</a>("closeClassLoader"));
<a id="L290" name="L290"></a> 290         <em class="brace">}</em>
<a id="L291" name="L291"></a> 291         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>&gt; <a href="../S/7704.html#L88" title="Defined at 88 in src/com/sun/javadoc/PackageDoc.java.">errors</a> = ucp.closeLoaders();
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293         <em class="comment">// now close any remaining streams.</em>
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295         <strong class="reserved">synchronized</strong> (closeables) <em class="brace">{</em>
<a id="L296" name="L296"></a> 296             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1405.html#L37" title="Defined at 37 in src/java/io/Closeable.java.">Closeable</a>&gt; <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = closeables.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>();
<a id="L297" name="L297"></a> 297             <strong class="reserved">for</strong> (<a href="../S/1405.html#L37" title="Defined at 37 in src/java/io/Closeable.java.">Closeable</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> : <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L299" name="L299"></a> 299                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L300" name="L300"></a> 300                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioex) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301                     <a href="../S/7704.html#L88" title="Defined at 88 in src/com/sun/javadoc/PackageDoc.java.">errors</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(ioex);
<a id="L302" name="L302"></a> 302                 <em class="brace">}</em>
<a id="L303" name="L303"></a> 303             <em class="brace">}</em>
<a id="L304" name="L304"></a> 304             closeables.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L305" name="L305"></a> 305         <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<a id="L307" name="L307"></a> 307         <strong class="reserved">if</strong> (<a href="../S/7704.html#L88" title="Defined at 88 in src/com/sun/javadoc/PackageDoc.java.">errors</a>.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L308" name="L308"></a> 308             <strong class="reserved">return</strong>;
<a id="L309" name="L309"></a> 309         <em class="brace">}</em>
<a id="L310" name="L310"></a> 310 
<a id="L311" name="L311"></a> 311         <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> firstex = <a href="../S/7704.html#L88" title="Defined at 88 in src/com/sun/javadoc/PackageDoc.java.">errors</a>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(0);
<a id="L312" name="L312"></a> 312 
<a id="L313" name="L313"></a> 313         <em class="comment">// Suppress any remaining exceptions</em>
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315         <strong class="reserved">for</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>: <a href="../S/7704.html#L88" title="Defined at 88 in src/com/sun/javadoc/PackageDoc.java.">errors</a>) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316             firstex.<a href="../S/1726.html#L1041" title="Defined at 1041 in src/java/lang/Throwable.java.">addSuppressed</a>(<a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>);
<a id="L317" name="L317"></a> 317         <em class="brace">}</em>
<a id="L318" name="L318"></a> 318         <strong class="reserved">throw</strong> firstex;
<a id="L319" name="L319"></a> 319     <em class="brace">}</em>
<a id="L320" name="L320"></a> 320 
<div class="comment">
      Appends the specified URL to the list of URLs to search for
      classes and resources.
      <p>
      If the URL specified is <code>null</code> or is already in the
      list of URLs, or if this loader is closed, then invoking this
      method has no effect.
      @param url the URL to be added to the search path of URLs</p></div>
<a id="L331" name="L331"></a> 331     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/10019.html" title="Multiple referred from 4 places.">addURL</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332         ucp.<a href="../D/11146.html" title="Multiple defined in 5 places.">addURL</a>(url);
<a id="L333" name="L333"></a> 333     <em class="brace">}</em>
<a id="L334" name="L334"></a> 334 
<div class="comment">
      Returns the search path of URLs for loading classes and resources.
      This includes the original list of URLs specified to the constructor,
      along with any URLs subsequently appended by the addURL() method.
      @return the search path of URLs for loading classes and resources.</div>
<a id="L341" name="L341"></a> 341     <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] <a href="../R/19664.html" title="Multiple referred from 8 places.">getURLs</a>() <em class="brace">{</em>
<a id="L342" name="L342"></a> 342         <strong class="reserved">return</strong> ucp.<a href="../D/23388.html" title="Multiple defined in 5 places.">getURLs</a>();
<a id="L343" name="L343"></a> 343     <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<div class="comment">
      Finds and loads the class with the specified name from the URL search
      path. Any URLs referring to JAR files are loaded and opened as needed
      until the class is found.
      @param name the name of the class
      @return the resulting class
      @exception ClassNotFoundException if the class could not be found,
                 or if the loader is closed.
      @exception NullPointerException if <code>name</code> is <code>null</code>.</div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">protected</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/14355.html" title="Multiple referred from 18 places.">findClass</a>(<strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L357" name="L357"></a> 357         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L358" name="L358"></a> 358     <em class="brace">{</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L360" name="L360"></a> 360         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L361" name="L361"></a> 361             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L362" name="L362"></a> 362                 <strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;&gt;() <em class="brace">{</em>
<a id="L363" name="L363"></a> 363                     <strong class="reserved">public</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L364" name="L364"></a> 364                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.', '/').<a href="../D/13207.html" title="Multiple defined in 11 places.">concat</a>(".class");
<a id="L365" name="L365"></a> 365                         <a href="../S/3651.html#L55" title="Defined at 55 in src/javax/annotation/Resource.java.">Resource</a> res = ucp.<a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(path, <strong class="reserved">false</strong>);
<a id="L366" name="L366"></a> 366                         <strong class="reserved">if</strong> (res != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L368" name="L368"></a> 368                                 <strong class="reserved">return</strong> <a href="../D/14762.html" title="Multiple defined in 8 places.">defineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, res);
<a id="L369" name="L369"></a> 369                             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, e);
<a id="L371" name="L371"></a> 371                             <em class="brace">}</em>
<a id="L372" name="L372"></a> 372                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L373" name="L373"></a> 373                             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L374" name="L374"></a> 374                         <em class="brace">}</em>
<a id="L375" name="L375"></a> 375                     <em class="brace">}</em>
<a id="L376" name="L376"></a> 376                 <em class="brace">}</em>, acc);
<a id="L377" name="L377"></a> 377         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> pae) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             <strong class="reserved">throw</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>) pae.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L382" name="L382"></a> 382         <em class="brace">}</em>
<a id="L383" name="L383"></a> 383         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L384" name="L384"></a> 384     <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<div class="comment">
      Retrieve the package using the specified package name.
      If non-null, verify the package using the specified code
      source and manifest.</div>
<a id="L391" name="L391"></a> 391     <strong class="reserved">private</strong> <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> <a href="../R/15063.html" title="Multiple referred from 2 places.">getAndVerifyPackage</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pkgname,
<a id="L392" name="L392"></a> 392                                         <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> man, <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393         <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> pkg = <a href="../D/21318.html" title="Multiple defined in 4 places.">getPackage</a>(pkgname);
<a id="L394" name="L394"></a> 394         <strong class="reserved">if</strong> (pkg != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395             <em class="comment">// Package found, so check package sealing.</em>
<a id="L396" name="L396"></a> 396             <strong class="reserved">if</strong> (pkg.<a href="../D/26212.html" title="Multiple defined in 3 places.">isSealed</a>()) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                 <em class="comment">// Verify that code source URL is the same.</em>
<a id="L398" name="L398"></a> 398                 <strong class="reserved">if</strong> (!pkg.<a href="../D/26212.html" title="Multiple defined in 3 places.">isSealed</a>(url)) <em class="brace">{</em>
<a id="L399" name="L399"></a> 399                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>(
<a id="L400" name="L400"></a> 400                         "sealing violation: package " + pkgname + " is sealed");
<a id="L401" name="L401"></a> 401                 <em class="brace">}</em>
<a id="L402" name="L402"></a> 402             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L403" name="L403"></a> 403                 <em class="comment">// Make sure we are not attempting to seal the package</em>
<a id="L404" name="L404"></a> 404                 <em class="comment">// at this code source URL.</em>
<a id="L405" name="L405"></a> 405                 <strong class="reserved">if</strong> ((man != <strong class="reserved">null</strong>) &amp;&amp; <a href="../D/26212.html" title="Multiple defined in 3 places.">isSealed</a>(pkgname, man)) <em class="brace">{</em>
<a id="L406" name="L406"></a> 406                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>(
<a id="L407" name="L407"></a> 407                         "sealing violation: can't seal package " + pkgname +
<a id="L408" name="L408"></a> 408                         ": already loaded");
<a id="L409" name="L409"></a> 409                 <em class="brace">}</em>
<a id="L410" name="L410"></a> 410             <em class="brace">}</em>
<a id="L411" name="L411"></a> 411         <em class="brace">}</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">return</strong> pkg;
<a id="L413" name="L413"></a> 413     <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415     <em class="comment">// Also called by VM to define Package for classes loaded from the CDS</em>
<a id="L416" name="L416"></a> 416     <em class="comment">// archive</em>
<a id="L417" name="L417"></a> 417     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/772.html#L451" title="Referred from 451 in src/java/net/URLClassLoader.java.">definePackageInternal</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pkgname, <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> man, <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url)
<a id="L418" name="L418"></a> 418     <em class="brace">{</em>
<a id="L419" name="L419"></a> 419         <strong class="reserved">if</strong> (<a href="../S/772.html#L391" title="Defined at 391 in src/java/net/URLClassLoader.java.">getAndVerifyPackage</a>(pkgname, man, url) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L421" name="L421"></a> 421                 <strong class="reserved">if</strong> (man != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L422" name="L422"></a> 422                     <a href="../D/14769.html" title="Multiple defined in 2 places.">definePackage</a>(pkgname, man, url);
<a id="L423" name="L423"></a> 423                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L424" name="L424"></a> 424                     <a href="../D/14769.html" title="Multiple defined in 2 places.">definePackage</a>(pkgname, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L425" name="L425"></a> 425                 <em class="brace">}</em>
<a id="L426" name="L426"></a> 426             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> iae) <em class="brace">{</em>
<a id="L427" name="L427"></a> 427                 <em class="comment">// parallel-capable class loaders: re-verify in case of a</em>
<a id="L428" name="L428"></a> 428                 <em class="comment">// race condition</em>
<a id="L429" name="L429"></a> 429                 <strong class="reserved">if</strong> (<a href="../S/772.html#L391" title="Defined at 391 in src/java/net/URLClassLoader.java.">getAndVerifyPackage</a>(pkgname, man, url) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430                     <em class="comment">// Should never happen</em>
<a id="L431" name="L431"></a> 431                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>("Cannot find package " +
<a id="L432" name="L432"></a> 432                                              pkgname);
<a id="L433" name="L433"></a> 433                 <em class="brace">}</em>
<a id="L434" name="L434"></a> 434             <em class="brace">}</em>
<a id="L435" name="L435"></a> 435         <em class="brace">}</em>
<a id="L436" name="L436"></a> 436     <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<div class="comment">
      Defines a Class using the class bytes obtained from the specified
      Resource. The resulting Class must be resolved before it can be
      used.</div>
<a id="L443" name="L443"></a> 443     <strong class="reserved">private</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/13174.html" title="Multiple referred from 14 places.">defineClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/3651.html#L55" title="Defined at 55 in src/javax/annotation/Resource.java.">Resource</a> res) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">long</strong> t0 = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L399" title="Defined at 399 in src/java/lang/System.java.">nanoTime</a>();
<a id="L445" name="L445"></a> 445         <strong class="reserved">int</strong> i = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('.');
<a id="L446" name="L446"></a> 446         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = res.getCodeSourceURL();
<a id="L447" name="L447"></a> 447         <strong class="reserved">if</strong> (i != -1) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pkgname = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, i);
<a id="L449" name="L449"></a> 449             <em class="comment">// Check if package already loaded.</em>
<a id="L450" name="L450"></a> 450             <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> man = res.<a href="../D/20364.html" title="Multiple defined in 3 places.">getManifest</a>();
<a id="L451" name="L451"></a> 451             <a href="../S/772.html#L417" title="Defined at 417 in src/java/net/URLClassLoader.java.">definePackageInternal</a>(pkgname, man, url);
<a id="L452" name="L452"></a> 452         <em class="brace">}</em>
<a id="L453" name="L453"></a> 453         <em class="comment">// Now read the class bytes and define the class</em>
<a id="L454" name="L454"></a> 454         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.nio.<a href="../D/1042.html" title="Multiple defined in 2 places.">ByteBuffer</a> bb = res.<a href="../D/17401.html" title="Multiple defined in 12 places.">getByteBuffer</a>();
<a id="L455" name="L455"></a> 455         <strong class="reserved">if</strong> (bb != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456             <em class="comment">// Use (direct) ByteBuffer:</em>
<a id="L457" name="L457"></a> 457             <a href="../S/1331.html#L39" title="Defined at 39 in src/java/security/CodeSigner.java.">CodeSigner</a>[] signers = res.<a href="../D/17760.html" title="Multiple defined in 5 places.">getCodeSigners</a>();
<a id="L458" name="L458"></a> 458             <a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a> cs = <strong class="reserved">new</strong> <a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a>(url, signers);
<a id="L459" name="L459"></a> 459             sun.misc.PerfCounter.getReadClassBytesTime().addElapsedTimeFrom(t0);
<a id="L460" name="L460"></a> 460             <strong class="reserved">return</strong> <a href="../D/14762.html" title="Multiple defined in 8 places.">defineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, bb, cs);
<a id="L461" name="L461"></a> 461         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <strong class="reserved">byte</strong>[] b = res.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L463" name="L463"></a> 463             <em class="comment">// must read certificates AFTER reading bytes.</em>
<a id="L464" name="L464"></a> 464             <a href="../S/1331.html#L39" title="Defined at 39 in src/java/security/CodeSigner.java.">CodeSigner</a>[] signers = res.<a href="../D/17760.html" title="Multiple defined in 5 places.">getCodeSigners</a>();
<a id="L465" name="L465"></a> 465             <a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a> cs = <strong class="reserved">new</strong> <a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a>(url, signers);
<a id="L466" name="L466"></a> 466             sun.misc.PerfCounter.getReadClassBytesTime().addElapsedTimeFrom(t0);
<a id="L467" name="L467"></a> 467             <strong class="reserved">return</strong> <a href="../D/14762.html" title="Multiple defined in 8 places.">defineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, b, 0, b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, cs);
<a id="L468" name="L468"></a> 468         <em class="brace">}</em>
<a id="L469" name="L469"></a> 469     <em class="brace">}</em>
<a id="L470" name="L470"></a> 470 
<div class="comment">
      Defines a new package by name in this ClassLoader. The attributes
      contained in the specified Manifest will be used to obtain package
      version and sealing information. For sealed packages, the additional
      URL specifies the code source URL from which the package was loaded.
      @param name  the package name
      @param man   the Manifest containing package version and sealing
                   information
      @param url   the code source url for the package, or null if none
      @exception   IllegalArgumentException if the package name duplicates
                   an existing package either in this class loader or one
                   of its ancestors
      @return the newly defined Package object</div>
<a id="L486" name="L486"></a> 486     <strong class="reserved">protected</strong> <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> <a href="../R/13181.html" title="Multiple referred from 3 places.">definePackage</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> man, <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url)
<a id="L487" name="L487"></a> 487         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L488" name="L488"></a> 488     <em class="brace">{</em>
<a id="L489" name="L489"></a> 489         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.', '/').<a href="../D/13207.html" title="Multiple defined in 11 places.">concat</a>("/");
<a id="L490" name="L490"></a> 490         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> specTitle = <strong class="reserved">null</strong>, specVersion = <strong class="reserved">null</strong>, specVendor = <strong class="reserved">null</strong>;
<a id="L491" name="L491"></a> 491         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> implTitle = <strong class="reserved">null</strong>, implVersion = <strong class="reserved">null</strong>, implVendor = <strong class="reserved">null</strong>;
<a id="L492" name="L492"></a> 492         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> sealed = <strong class="reserved">null</strong>;
<a id="L493" name="L493"></a> 493         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> sealBase = <strong class="reserved">null</strong>;
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495         <a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = man.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>(path);
<a id="L496" name="L496"></a> 496         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497             specTitle   = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SPECIFICATION_TITLE);
<a id="L498" name="L498"></a> 498             specVersion = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SPECIFICATION_VERSION);
<a id="L499" name="L499"></a> 499             specVendor  = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SPECIFICATION_VENDOR);
<a id="L500" name="L500"></a> 500             implTitle   = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.IMPLEMENTATION_TITLE);
<a id="L501" name="L501"></a> 501             implVersion = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.IMPLEMENTATION_VERSION);
<a id="L502" name="L502"></a> 502             implVendor  = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.IMPLEMENTATION_VENDOR);
<a id="L503" name="L503"></a> 503             sealed      = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SEALED);
<a id="L504" name="L504"></a> 504         <em class="brace">}</em>
<a id="L505" name="L505"></a> 505         <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = man.<a href="../D/20346.html" title="Multiple defined in 2 places.">getMainAttributes</a>();
<a id="L506" name="L506"></a> 506         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507             <strong class="reserved">if</strong> (specTitle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508                 specTitle = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SPECIFICATION_TITLE);
<a id="L509" name="L509"></a> 509             <em class="brace">}</em>
<a id="L510" name="L510"></a> 510             <strong class="reserved">if</strong> (specVersion == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511                 specVersion = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SPECIFICATION_VERSION);
<a id="L512" name="L512"></a> 512             <em class="brace">}</em>
<a id="L513" name="L513"></a> 513             <strong class="reserved">if</strong> (specVendor == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L514" name="L514"></a> 514                 specVendor = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SPECIFICATION_VENDOR);
<a id="L515" name="L515"></a> 515             <em class="brace">}</em>
<a id="L516" name="L516"></a> 516             <strong class="reserved">if</strong> (implTitle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L517" name="L517"></a> 517                 implTitle = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.IMPLEMENTATION_TITLE);
<a id="L518" name="L518"></a> 518             <em class="brace">}</em>
<a id="L519" name="L519"></a> 519             <strong class="reserved">if</strong> (implVersion == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520                 implVersion = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.IMPLEMENTATION_VERSION);
<a id="L521" name="L521"></a> 521             <em class="brace">}</em>
<a id="L522" name="L522"></a> 522             <strong class="reserved">if</strong> (implVendor == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L523" name="L523"></a> 523                 implVendor = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.IMPLEMENTATION_VENDOR);
<a id="L524" name="L524"></a> 524             <em class="brace">}</em>
<a id="L525" name="L525"></a> 525             <strong class="reserved">if</strong> (sealed == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L526" name="L526"></a> 526                 sealed = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SEALED);
<a id="L527" name="L527"></a> 527             <em class="brace">}</em>
<a id="L528" name="L528"></a> 528         <em class="brace">}</em>
<a id="L529" name="L529"></a> 529         <strong class="reserved">if</strong> ("true".<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(sealed)) <em class="brace">{</em>
<a id="L530" name="L530"></a> 530             sealBase = url;
<a id="L531" name="L531"></a> 531         <em class="brace">}</em>
<a id="L532" name="L532"></a> 532         <strong class="reserved">return</strong> <a href="../D/14769.html" title="Multiple defined in 2 places.">definePackage</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, specTitle, specVersion, specVendor,
<a id="L533" name="L533"></a> 533                              implTitle, implVersion, implVendor, sealBase);
<a id="L534" name="L534"></a> 534     <em class="brace">}</em>
<a id="L535" name="L535"></a> 535 
<div class="comment">
      Returns true if the specified package name is sealed according to the
      given manifest.</div>
<a id="L540" name="L540"></a> 540     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/21997.html" title="Multiple referred from 3 places.">isSealed</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> man) <em class="brace">{</em>
<a id="L541" name="L541"></a> 541         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.', '/').<a href="../D/13207.html" title="Multiple defined in 11 places.">concat</a>("/");
<a id="L542" name="L542"></a> 542         <a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = man.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>(path);
<a id="L543" name="L543"></a> 543         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> sealed = <strong class="reserved">null</strong>;
<a id="L544" name="L544"></a> 544         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L545" name="L545"></a> 545             sealed = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SEALED);
<a id="L546" name="L546"></a> 546         <em class="brace">}</em>
<a id="L547" name="L547"></a> 547         <strong class="reserved">if</strong> (sealed == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L548" name="L548"></a> 548             <strong class="reserved">if</strong> ((<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = man.<a href="../D/20346.html" title="Multiple defined in 2 places.">getMainAttributes</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L549" name="L549"></a> 549                 sealed = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.SEALED);
<a id="L550" name="L550"></a> 550             <em class="brace">}</em>
<a id="L551" name="L551"></a> 551         <em class="brace">}</em>
<a id="L552" name="L552"></a> 552         <strong class="reserved">return</strong> "true".<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(sealed);
<a id="L553" name="L553"></a> 553     <em class="brace">}</em>
<a id="L554" name="L554"></a> 554 
<div class="comment">
      Finds the resource with the specified name on the URL search path.
      @param name the name of the resource
      @return a <code>URL</code> for the resource, or <code>null</code>
      if the resource could not be found, or if the loader is closed.</div>
<a id="L562" name="L562"></a> 562     <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../R/14475.html" title="Multiple referred from 2 places.">findResource</a>(<strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<div class="comment">
          The same restriction to finding classes applies to resources</div>
<a id="L566" name="L566"></a> 566         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L567" name="L567"></a> 567             <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt;() <em class="brace">{</em>
<a id="L568" name="L568"></a> 568                 <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L569" name="L569"></a> 569                     <strong class="reserved">return</strong> ucp.<a href="../D/16229.html" title="Multiple defined in 2 places.">findResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">true</strong>);
<a id="L570" name="L570"></a> 570                 <em class="brace">}</em>
<a id="L571" name="L571"></a> 571             <em class="brace">}</em>, acc);
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573         <strong class="reserved">return</strong> url != <strong class="reserved">null</strong> ? ucp.checkURL(url) : <strong class="reserved">null</strong>;
<a id="L574" name="L574"></a> 574     <em class="brace">}</em>
<a id="L575" name="L575"></a> 575 
<div class="comment">
      Returns an Enumeration of URLs representing all of the resources
      on the URL search path having the specified name.
      @param name the resource name
      @exception IOException if an I/O exception occurs
      @return an <code>Enumeration</code> of <code>URL</code>s
              If the loader is closed, the Enumeration will be empty.</div>
<a id="L585" name="L585"></a> 585     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt; <a href="../R/14477.html" title="Multiple referred from 2 places.">findResources</a>(<strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L586" name="L586"></a> 586         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L587" name="L587"></a> 587     <em class="brace">{</em>
<a id="L588" name="L588"></a> 588         <strong class="reserved">final</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt; e = ucp.<a href="../D/16231.html" title="Multiple defined in 2 places.">findResources</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">true</strong>);
<a id="L589" name="L589"></a> 589 
<a id="L590" name="L590"></a> 590         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt;() <em class="brace">{</em>
<a id="L591" name="L591"></a> 591             <strong class="reserved">private</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <strong class="reserved">null</strong>;
<a id="L592" name="L592"></a> 592 
<a id="L593" name="L593"></a> 593             <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>() <em class="brace">{</em>
<a id="L594" name="L594"></a> 594                 <strong class="reserved">if</strong> (url != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L595" name="L595"></a> 595                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L596" name="L596"></a> 596                 <em class="brace">}</em>
<a id="L597" name="L597"></a> 597                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L598" name="L598"></a> 598                     <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L599" name="L599"></a> 599                         <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt;() <em class="brace">{</em>
<a id="L600" name="L600"></a> 600                             <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L601" name="L601"></a> 601                                 <strong class="reserved">if</strong> (!e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>())
<a id="L602" name="L602"></a> 602                                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L603" name="L603"></a> 603                                 <strong class="reserved">return</strong> e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L604" name="L604"></a> 604                             <em class="brace">}</em>
<a id="L605" name="L605"></a> 605                         <em class="brace">}</em>, acc);
<a id="L606" name="L606"></a> 606                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> == <strong class="reserved">null</strong>)
<a id="L607" name="L607"></a> 607                         <strong class="reserved">break</strong>;
<a id="L608" name="L608"></a> 608                     url = ucp.checkURL(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L609" name="L609"></a> 609                 <em class="brace">}</em> <strong class="reserved">while</strong> (url == <strong class="reserved">null</strong>);
<a id="L610" name="L610"></a> 610                 <strong class="reserved">return</strong> url != <strong class="reserved">null</strong>;
<a id="L611" name="L611"></a> 611             <em class="brace">}</em>
<a id="L612" name="L612"></a> 612 
<a id="L613" name="L613"></a> 613             <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() <em class="brace">{</em>
<a id="L614" name="L614"></a> 614                 <strong class="reserved">if</strong> (!<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>()) <em class="brace">{</em>
<a id="L615" name="L615"></a> 615                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L616" name="L616"></a> 616                 <em class="brace">}</em>
<a id="L617" name="L617"></a> 617                 <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = url;
<a id="L618" name="L618"></a> 618                 url = <strong class="reserved">null</strong>;
<a id="L619" name="L619"></a> 619                 <strong class="reserved">return</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>;
<a id="L620" name="L620"></a> 620             <em class="brace">}</em>
<a id="L621" name="L621"></a> 621 
<a id="L622" name="L622"></a> 622             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() <em class="brace">{</em>
<a id="L623" name="L623"></a> 623                 <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L624" name="L624"></a> 624             <em class="brace">}</em>
<a id="L625" name="L625"></a> 625         <em class="brace">}</em>;
<a id="L626" name="L626"></a> 626     <em class="brace">}</em>
<a id="L627" name="L627"></a> 627 
<div class="comment">
      Returns the permissions for the given codesource object.
      The implementation of this method first calls super.getPermissions
      and then adds permissions based on the URL of the codesource.
      <p>
      If the protocol of this URL is "jar", then the permission granted
      is based on the permission that is required by the URL of the Jar
      file.
      </p><p>
      If the protocol is "file" and there is an authority component, then
      permission to connect to and accept connections from that authority
      may be granted. If the protocol is "file"
      and the path specifies a file, then permission to read that
      file is granted. If protocol is "file" and the path is
      a directory, permission is granted to read all files
      and (recursively) all files and subdirectories contained in
      that directory.
      </p><p>
      If the protocol is not "file", then permission
      to connect to and accept connections from the URL's host is granted.
      @param codesource the codesource
      @exception NullPointerException if <code>codesource</code> is <code>null</code>.
      @return the permissions granted to the codesource</p></div>
<a id="L652" name="L652"></a> 652     <strong class="reserved">protected</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/18335.html" title="Multiple referred from 13 places.">getPermissions</a>(<a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a> codesource)
<a id="L653" name="L653"></a> 653     <em class="brace">{</em>
<a id="L654" name="L654"></a> 654         <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> perms = <strong class="reserved">super</strong>.<a href="../D/21480.html" title="Multiple defined in 11 places.">getPermissions</a>(codesource);
<a id="L655" name="L655"></a> 655 
<a id="L656" name="L656"></a> 656         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = codesource.<a href="../D/20238.html" title="Multiple defined in 36 places.">getLocation</a>();
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658         <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> p;
<a id="L659" name="L659"></a> 659         <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> urlConnection;
<a id="L660" name="L660"></a> 660 
<a id="L661" name="L661"></a> 661         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L662" name="L662"></a> 662             urlConnection = url.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>();
<a id="L663" name="L663"></a> 663             p = urlConnection.<a href="../D/21478.html" title="Multiple defined in 3 places.">getPermission</a>();
<a id="L664" name="L664"></a> 664         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L665" name="L665"></a> 665             p = <strong class="reserved">null</strong>;
<a id="L666" name="L666"></a> 666             urlConnection = <strong class="reserved">null</strong>;
<a id="L667" name="L667"></a> 667         <em class="brace">}</em>
<a id="L668" name="L668"></a> 668 
<a id="L669" name="L669"></a> 669         <strong class="reserved">if</strong> (p <strong class="reserved">instanceof</strong> <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>) <em class="brace">{</em>
<a id="L670" name="L670"></a> 670             <em class="comment">// if the permission has a separator char on the end,</em>
<a id="L671" name="L671"></a> 671             <em class="comment">// it means the codebase is a directory, and we need</em>
<a id="L672" name="L672"></a> 672             <em class="comment">// to add an additional permission to read recursively</em>
<a id="L673" name="L673"></a> 673             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = p.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L674" name="L674"></a> 674             <strong class="reserved">if</strong> (path.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a>)) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675                 path += "-";
<a id="L676" name="L676"></a> 676                 p = <strong class="reserved">new</strong> <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>(path, SecurityConstants.FILE_READ_ACTION);
<a id="L677" name="L677"></a> 677             <em class="brace">}</em>
<a id="L678" name="L678"></a> 678         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((p == <strong class="reserved">null</strong>) &amp;&amp; (url.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("file"))) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = url.<a href="../D/19040.html" title="Multiple defined in 3 places.">getFile</a>().<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('/', <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar);
<a id="L680" name="L680"></a> 680             path = ParseUtil.<a href="../D/14516.html" title="Multiple defined in 39 places.">decode</a>(path);
<a id="L681" name="L681"></a> 681             <strong class="reserved">if</strong> (path.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a>))
<a id="L682" name="L682"></a> 682                 path += "-";
<a id="L683" name="L683"></a> 683             p =  <strong class="reserved">new</strong> <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>(path, SecurityConstants.FILE_READ_ACTION);
<a id="L684" name="L684"></a> 684         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<div class="comment">
              Not loading from a 'file:' URL so we want to give the class
              permission to connect to and accept from the remote host
              after we've made sure the host is the correct one and is valid.</div>
<a id="L690" name="L690"></a> 690             <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> locUrl = url;
<a id="L691" name="L691"></a> 691             <strong class="reserved">if</strong> (urlConnection <strong class="reserved">instanceof</strong> <a href="../S/799.html#L137" title="Defined at 137 in src/java/net/JarURLConnection.java.">JarURLConnection</a>) <em class="brace">{</em>
<a id="L692" name="L692"></a> 692                 locUrl = ((<a href="../S/799.html#L137" title="Defined at 137 in src/java/net/JarURLConnection.java.">JarURLConnection</a>)urlConnection).<a href="../S/799.html#L190" title="Defined at 190 in src/java/net/JarURLConnection.java.">getJarFileURL</a>();
<a id="L693" name="L693"></a> 693             <em class="brace">}</em>
<a id="L694" name="L694"></a> 694             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host = locUrl.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>();
<a id="L695" name="L695"></a> 695             <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong> &amp;&amp; (host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0))
<a id="L696" name="L696"></a> 696                 p = <strong class="reserved">new</strong> <a href="../S/774.html#L148" title="Defined at 148 in src/java/net/SocketPermission.java.">SocketPermission</a>(host,
<a id="L697" name="L697"></a> 697                                          SecurityConstants.SOCKET_CONNECT_ACCEPT_ACTION);
<a id="L698" name="L698"></a> 698         <em class="brace">}</em>
<a id="L699" name="L699"></a> 699 
<a id="L700" name="L700"></a> 700         <em class="comment">// make sure the person that created this class loader</em>
<a id="L701" name="L701"></a> 701         <em class="comment">// would have this permission</em>
<a id="L702" name="L702"></a> 702 
<a id="L703" name="L703"></a> 703         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704             <strong class="reserved">final</strong> <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L705" name="L705"></a> 705             <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L706" name="L706"></a> 706                 <strong class="reserved">final</strong> <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> fp = p;
<a id="L707" name="L707"></a> 707                 <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L708" name="L708"></a> 708                     <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L709" name="L709"></a> 709                         sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(fp);
<a id="L710" name="L710"></a> 710                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L711" name="L711"></a> 711                     <em class="brace">}</em>
<a id="L712" name="L712"></a> 712                 <em class="brace">}</em>, acc);
<a id="L713" name="L713"></a> 713             <em class="brace">}</em>
<a id="L714" name="L714"></a> 714             perms.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(p);
<a id="L715" name="L715"></a> 715         <em class="brace">}</em>
<a id="L716" name="L716"></a> 716         <strong class="reserved">return</strong> perms;
<a id="L717" name="L717"></a> 717     <em class="brace">}</em>
<a id="L718" name="L718"></a> 718 
<div class="comment">
      Creates a new instance of URLClassLoader for the specified
      URLs and parent class loader. If a security manager is
      installed, the <code>loadClass</code> method of the URLClassLoader
      returned by this method will invoke the
      <code>SecurityManager.checkPackageAccess</code> method before
      loading the class.
      @param urls the URLs to search for classes and resources
      @param parent the parent class loader for delegation
      @exception  NullPointerException if <code>urls</code> is <code>null</code>.
      @return the resulting class loader</div>
<a id="L732" name="L732"></a> 732     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> <a href="../R/23567.html" title="Multiple referred from 523 places.">newInstance</a>(<strong class="reserved">final</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls,
<a id="L733" name="L733"></a> 733                                              <strong class="reserved">final</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L734" name="L734"></a> 734         <em class="comment">// Save the caller's context</em>
<a id="L735" name="L735"></a> 735         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L736" name="L736"></a> 736         <em class="comment">// Need a privileged block to create the class loader</em>
<a id="L737" name="L737"></a> 737         <a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> ucl = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L738" name="L738"></a> 738             <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a>&gt;() <em class="brace">{</em>
<a id="L739" name="L739"></a> 739                 <strong class="reserved">public</strong> <a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L740" name="L740"></a> 740                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/772.html#L787" title="Defined at 787 in src/java/net/URLClassLoader.java.">FactoryURLClassLoader</a>(urls, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, acc);
<a id="L741" name="L741"></a> 741                 <em class="brace">}</em>
<a id="L742" name="L742"></a> 742             <em class="brace">}</em>);
<a id="L743" name="L743"></a> 743         <strong class="reserved">return</strong> ucl;
<a id="L744" name="L744"></a> 744     <em class="brace">}</em>
<a id="L745" name="L745"></a> 745 
<div class="comment">
      Creates a new instance of URLClassLoader for the specified
      URLs and default parent class loader. If a security manager is
      installed, the <code>loadClass</code> method of the URLClassLoader
      returned by this method will invoke the
      <code>SecurityManager.checkPackageAccess</code> before
      loading the class.
      @param urls the URLs to search for classes and resources
      @exception  NullPointerException if <code>urls</code> is <code>null</code>.
      @return the resulting class loader</div>
<a id="L758" name="L758"></a> 758     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> <a href="../R/23567.html" title="Multiple referred from 523 places.">newInstance</a>(<strong class="reserved">final</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759         <em class="comment">// Save the caller's context</em>
<a id="L760" name="L760"></a> 760         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L761" name="L761"></a> 761         <em class="comment">// Need a privileged block to create the class loader</em>
<a id="L762" name="L762"></a> 762         <a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> ucl = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L763" name="L763"></a> 763             <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a>&gt;() <em class="brace">{</em>
<a id="L764" name="L764"></a> 764                 <strong class="reserved">public</strong> <a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L765" name="L765"></a> 765                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/772.html#L787" title="Defined at 787 in src/java/net/URLClassLoader.java.">FactoryURLClassLoader</a>(urls, acc);
<a id="L766" name="L766"></a> 766                 <em class="brace">}</em>
<a id="L767" name="L767"></a> 767             <em class="brace">}</em>);
<a id="L768" name="L768"></a> 768         <strong class="reserved">return</strong> ucl;
<a id="L769" name="L769"></a> 769     <em class="brace">}</em>
<a id="L770" name="L770"></a> 770 
<a id="L771" name="L771"></a> 771     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L772" name="L772"></a> 772         sun.misc.SharedSecrets.setJavaNetAccess (
<a id="L773" name="L773"></a> 773             <strong class="reserved">new</strong> sun.misc.JavaNetAccess() <em class="brace">{</em>
<a id="L774" name="L774"></a> 774                 <strong class="reserved">public</strong> URLClassPath getURLClassPath (<a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>) <em class="brace">{</em>
<a id="L775" name="L775"></a> 775                     <strong class="reserved">return</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.ucp;
<a id="L776" name="L776"></a> 776                 <em class="brace">}</em>
<a id="L777" name="L777"></a> 777 
<a id="L778" name="L778"></a> 778                 <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/826.html#L245" title="Defined at 245 in src/java/net/InetAddress.java.">getOriginalHostName</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> ia) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779                     <strong class="reserved">return</strong> ia.<a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>.<a href="../S/826.html#L245" title="Defined at 245 in src/java/net/InetAddress.java.">getOriginalHostName</a>();
<a id="L780" name="L780"></a> 780                 <em class="brace">}</em>
<a id="L781" name="L781"></a> 781             <em class="brace">}</em>
<a id="L782" name="L782"></a> 782         );
<a id="L783" name="L783"></a> 783         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../S/1745.html#L1199" title="Defined at 1199 in src/java/lang/ClassLoader.java.">registerAsParallelCapable</a>();
<a id="L784" name="L784"></a> 784     <em class="brace">}</em>
<a id="L785" name="L785"></a> 785 <em class="brace">}</em>
<a id="L786" name="L786"></a> 786 
<a id="L787" name="L787"></a> 787 <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2864.html" title="Multiple referred from 2 places.">FactoryURLClassLoader</a> <strong class="reserved">extends</strong> <a href="../S/772.html#L73" title="Defined at 73 in src/java/net/URLClassLoader.java.">URLClassLoader</a> <em class="brace">{</em>
<a id="L788" name="L788"></a> 788 
<a id="L789" name="L789"></a> 789     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L790" name="L790"></a> 790         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../S/1745.html#L1199" title="Defined at 1199 in src/java/lang/ClassLoader.java.">registerAsParallelCapable</a>();
<a id="L791" name="L791"></a> 791     <em class="brace">}</em>
<a id="L792" name="L792"></a> 792 
<a id="L793" name="L793"></a> 793     FactoryURLClassLoader(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>,
<a id="L794" name="L794"></a> 794                           <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc) <em class="brace">{</em>
<a id="L795" name="L795"></a> 795         <strong class="reserved">super</strong>(urls, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, acc);
<a id="L796" name="L796"></a> 796     <em class="brace">}</em>
<a id="L797" name="L797"></a> 797 
<a id="L798" name="L798"></a> 798     FactoryURLClassLoader(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>[] urls, <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc) <em class="brace">{</em>
<a id="L799" name="L799"></a> 799         <strong class="reserved">super</strong>(urls, acc);
<a id="L800" name="L800"></a> 800     <em class="brace">}</em>
<a id="L801" name="L801"></a> 801 
<a id="L802" name="L802"></a> 802     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">boolean</strong> <a href="../D/31237.html" title="Multiple defined in 38 places.">resolve</a>)
<a id="L803" name="L803"></a> 803         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L804" name="L804"></a> 804     <em class="brace">{</em>
<a id="L805" name="L805"></a> 805         <em class="comment">// First check if we have permission to access the package. This</em>
<a id="L806" name="L806"></a> 806         <em class="comment">// should go away once we've added support for exported packages.</em>
<a id="L807" name="L807"></a> 807         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L808" name="L808"></a> 808         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L809" name="L809"></a> 809             <strong class="reserved">int</strong> i = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('.');
<a id="L810" name="L810"></a> 810             <strong class="reserved">if</strong> (i != -1) <em class="brace">{</em>
<a id="L811" name="L811"></a> 811                 sm.<a href="../D/12578.html" title="Multiple defined in 3 places.">checkPackageAccess</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, i));
<a id="L812" name="L812"></a> 812             <em class="brace">}</em>
<a id="L813" name="L813"></a> 813         <em class="brace">}</em>
<a id="L814" name="L814"></a> 814         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/31237.html" title="Multiple defined in 38 places.">resolve</a>);
<a id="L815" name="L815"></a> 815     <em class="brace">}</em>
<a id="L816" name="L816"></a> 816 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L231">[^]</a><a href="#L802">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>