<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/stream/Collectors.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L132">[^]</a><a href="#L1552">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L132" title="Defined at 132.">throwingMerger</a></li>
<li><a href="#L136" title="Defined at 136.">SuppressWarnings</a></li>
<li><a href="#L137" title="Defined at 137.">castingIdentity</a></li>
<li><a href="#L174" title="Defined at 174.">accumulator</a></li>
<li><a href="#L179" title="Defined at 179.">supplier</a></li>
<li><a href="#L184" title="Defined at 184.">combiner</a></li>
<li><a href="#L189" title="Defined at 189.">finisher</a></li>
<li><a href="#L194" title="Defined at 194.">characteristics</a></li>
<li><a href="#L212" title="Defined at 212.">toCollection</a></li>
<li><a href="#L229" title="Defined at 229.">toList</a></li>
<li><a href="#L250" title="Defined at 250.">toSet</a></li>
<li><a href="#L263" title="Defined at 263.">joining</a></li>
<li><a href="#L278" title="Defined at 278.">joining</a></li>
<li><a href="#L295" title="Defined at 295.">joining</a></li>
<li><a href="#L317" title="Defined at 317.">mapMerger</a></li>
<li><a href="#L351" title="Defined at 351.">mapping</a></li>
<li><a href="#L378" title="Defined at 378.">collectingAndThen</a></li>
<li><a href="#L412" title="Defined at 412.">counting</a></li>
<li><a href="#L431" title="Defined at 431.">minBy</a></li>
<li><a href="#L450" title="Defined at 450.">maxBy</a></li>
<li><a href="#L464" title="Defined at 464.">summingInt</a></li>
<li><a href="#L482" title="Defined at 482.">summingLong</a></li>
<li><a href="#L507" title="Defined at 507.">summingDouble</a></li>
<li><a href="#L538" title="Defined at 538.">sumWithCompensation</a></li>
<li><a href="#L552" title="Defined at 552.">computeFinalSum</a></li>
<li><a href="#L572" title="Defined at 572.">averagingInt</a></li>
<li><a href="#L590" title="Defined at 590.">averagingLong</a></li>
<li><a href="#L621" title="Defined at 621.">averagingDouble</a></li>
<li><a href="#L657" title="Defined at 657.">reducing</a></li>
<li><a href="#L666" title="Defined at 666.">SuppressWarnings</a></li>
<li><a href="#L667" title="Defined at 667.">boxSupplier</a></li>
<li><a href="#L698" title="Defined at 698.">reducing</a></li>
<li><a href="#L704" title="Defined at 704.">accept</a></li>
<li><a href="#L756" title="Defined at 756.">reducing</a></li>
<li><a href="#L804" title="Defined at 804.">groupingBy</a></li>
<li><a href="#L851" title="Defined at 851.">groupingBy</a></li>
<li><a href="#L901" title="Defined at 901.">groupingBy</a></li>
<li><a href="#L966" title="Defined at 966.">groupingByConcurrent</a></li>
<li><a href="#L1006" title="Defined at 1006.">groupingByConcurrent</a></li>
<li><a href="#L1052" title="Defined at 1052.">groupingByConcurrent</a></li>
<li><a href="#L1109" title="Defined at 1109.">partitioningBy</a></li>
<li><a href="#L1135" title="Defined at 1135.">partitioningBy</a></li>
<li><a href="#L1210" title="Defined at 1210.">toMap</a></li>
<li><a href="#L1268" title="Defined at 1268.">toMap</a></li>
<li><a href="#L1315" title="Defined at 1315.">toMap</a></li>
<li><a href="#L1373" title="Defined at 1373.">toConcurrentMap</a></li>
<li><a href="#L1426" title="Defined at 1426.">toConcurrentMap</a></li>
<li><a href="#L1467" title="Defined at 1467.">toConcurrentMap</a></li>
<li><a href="#L1490" title="Defined at 1490.">summarizingInt</a></li>
<li><a href="#L1510" title="Defined at 1510.">summarizingLong</a></li>
<li><a href="#L1530" title="Defined at 1530.">summarizingDouble</a></li>
<li><a href="#L1552" title="Defined at 1552.">entrySet</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.util.AbstractMap;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.AbstractSet;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Collection;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Collections;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Comparator;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.DoubleSummaryStatistics;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.EnumSet;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.IntSummaryStatistics;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.util.List;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.util.LongSummaryStatistics;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.util.Map;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.util.Objects;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.Optional;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.Set;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.StringJoiner;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentMap;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.util.function.BiConsumer;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.util.function.BiFunction;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.util.function.BinaryOperator;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> java.util.function.Consumer;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> java.util.function.Function;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> java.util.function.Predicate;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> java.util.function.Supplier;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> java.util.function.ToDoubleFunction;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> java.util.function.ToIntFunction;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> java.util.function.ToLongFunction;
<a id="L59" name="L59"></a>  59 
<div class="comment">
  Implementations of <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a> that implement various useful reduction
  operations, such as accumulating elements into collections, summarizing
  elements according to various criteria, etc.
  <p>The following are examples of using the predefined collectors to perform
  common mutable reduction tasks:
  </p><pre>{@code
      // Accumulate names into a List
      List<string> list = people.stream().map(Person::getName).collect(Collectors.toList());
      // Accumulate names into a TreeSet
      Set<string> set = people.stream().map(Person::getName).collect(Collectors.toCollection(TreeSet::new));
      // Convert elements to strings and concatenate them, separated by commas
      String joined = things.stream()
                            .map(Object::toString)
                            .collect(Collectors.joining(", "));
      // Compute sum of salaries of employee
      int total = employees.stream()
                           .collect(Collectors.summingInt(Employee::getSalary)));
      // Group employees by department
      Map<department, list<employee>&gt; byDept
          = employees.stream()
                     .collect(Collectors.groupingBy(Employee::getDepartment));
      // Compute sum of salaries by department
      Map<department, integer> totalByDept
          = employees.stream()
                     .collect(Collectors.groupingBy(Employee::getDepartment,
                                                    Collectors.summingInt(Employee::getSalary)));
      // Partition students into passing and failing
      Map<boolean, list<student>&gt; passingFailing =
          students.stream()
                  .collect(Collectors.partitioningBy(s -&gt; s.getGrade() &gt;= PASS_THRESHOLD));
  }</boolean,></department,></department,></string></string></pre>
  @since 1.8</div>
<a id="L104" name="L104"></a> 104 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1487.html" title="Multiple referred from 17 places.">Collectors</a> <em class="brace">{</em>
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; CH_CONCURRENT_ID
<a id="L107" name="L107"></a> 107             = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<a href="../S/1149.html#L80" title="Defined at 80 in src/java/util/EnumSet.java.">EnumSet</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.CONCURRENT,
<a id="L108" name="L108"></a> 108                                                      <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.UNORDERED,
<a id="L109" name="L109"></a> 109                                                      <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH));
<a id="L110" name="L110"></a> 110     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; CH_CONCURRENT_NOID
<a id="L111" name="L111"></a> 111             = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<a href="../S/1149.html#L80" title="Defined at 80 in src/java/util/EnumSet.java.">EnumSet</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.CONCURRENT,
<a id="L112" name="L112"></a> 112                                                      <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.UNORDERED));
<a id="L113" name="L113"></a> 113     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; CH_ID
<a id="L114" name="L114"></a> 114             = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<a href="../S/1149.html#L80" title="Defined at 80 in src/java/util/EnumSet.java.">EnumSet</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH));
<a id="L115" name="L115"></a> 115     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; CH_UNORDERED_ID
<a id="L116" name="L116"></a> 116             = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<a href="../S/1149.html#L80" title="Defined at 80 in src/java/util/EnumSet.java.">EnumSet</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.UNORDERED,
<a id="L117" name="L117"></a> 117                                                      <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH));
<a id="L118" name="L118"></a> 118     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; CH_NOID = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L119" name="L119"></a> 119 
<a id="L120" name="L120"></a> 120     <strong class="reserved">private</strong> Collectors() <em class="brace">{</em> <em class="brace">}</em>
<a id="L121" name="L121"></a> 121 
<div class="comment">
      Returns a merge function, suitable for use in
      {@link Map#merge(Object, Object, BiFunction) Map.merge()} or
      {@link #toMap(Function, Function, BinaryOperator) toMap()}, which always
      throws <code>IllegalStateException</code>.  This can be used to enforce the
      assumption that the elements being collected are distinct.
      @param <t> the type of input arguments to the merge function
      @return a merge function which always throw <code>IllegalStateException</code></t></div>
<a id="L132" name="L132"></a> 132     <strong class="reserved">private</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/29184.html" title="Multiple referred from 2 places.">throwingMerger</a>() <em class="brace">{</em>
<a id="L133" name="L133"></a> 133         <strong class="reserved">return</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>,v) -&gt; <em class="brace">{</em> <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>("Duplicate key %s", <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>)); <em class="brace">}</em>;
<a id="L134" name="L134"></a> 134     <em class="brace">}</em>
<a id="L135" name="L135"></a> 135 
<a id="L136" name="L136"></a> 136     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L137" name="L137"></a> 137     <strong class="reserved">private</strong> <strong class="reserved">static</strong> &lt;I, R&gt; <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;I, R&gt; <a href="../S/910.html#L170" title="Referred from 170 in src/java/util/stream/Collectors.java.">castingIdentity</a>() <em class="brace">{</em>
<a id="L138" name="L138"></a> 138         <strong class="reserved">return</strong> i -&gt; (R) i;
<a id="L139" name="L139"></a> 139     <em class="brace">}</em>
<a id="L140" name="L140"></a> 140 
<div class="comment">
      Simple implementation class for <code>Collector</code>.
      @param <t> the type of elements to be collected
      @param <r> the type of the result</r></t></div>
<a id="L147" name="L147"></a> 147     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1485.html" title="Multiple referred from 29 places.">CollectorImpl</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, A, R&gt; <strong class="reserved">implements</strong> <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, A, R&gt; <em class="brace">{</em>
<a id="L148" name="L148"></a> 148         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;A&gt; <a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>;
<a id="L149" name="L149"></a> 149         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>;
<a id="L150" name="L150"></a> 150         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;A&gt; <a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>;
<a id="L151" name="L151"></a> 151         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;A, R&gt; <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>;
<a id="L152" name="L152"></a> 152         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>;
<a id="L153" name="L153"></a> 153 
<a id="L154" name="L154"></a> 154         CollectorImpl(<a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;A&gt; <a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>,
<a id="L155" name="L155"></a> 155                       <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>,
<a id="L156" name="L156"></a> 156                       <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;A&gt; <a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>,
<a id="L157" name="L157"></a> 157                       <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;A,R&gt; <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>,
<a id="L158" name="L158"></a> 158                       <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>) <em class="brace">{</em>
<a id="L159" name="L159"></a> 159             <strong class="reserved">this</strong>.<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a> = <a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>;
<a id="L160" name="L160"></a> 160             <strong class="reserved">this</strong>.<a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a> = <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>;
<a id="L161" name="L161"></a> 161             <strong class="reserved">this</strong>.<a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a> = <a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>;
<a id="L162" name="L162"></a> 162             <strong class="reserved">this</strong>.<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a> = <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>;
<a id="L163" name="L163"></a> 163             <strong class="reserved">this</strong>.<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a> = <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>;
<a id="L164" name="L164"></a> 164         <em class="brace">}</em>
<a id="L165" name="L165"></a> 165 
<a id="L166" name="L166"></a> 166         CollectorImpl(<a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;A&gt; <a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>,
<a id="L167" name="L167"></a> 167                       <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>,
<a id="L168" name="L168"></a> 168                       <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;A&gt; <a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>,
<a id="L169" name="L169"></a> 169                       <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170             <strong class="reserved">this</strong>(<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, <a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>, <a href="../S/910.html#L137" title="Defined at 137 in src/java/util/stream/Collectors.java.">castingIdentity</a>(), <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>);
<a id="L171" name="L171"></a> 171         <em class="brace">}</em>
<a id="L172" name="L172"></a> 172 
<a id="L173" name="L173"></a> 173         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L174" name="L174"></a> 174         <strong class="reserved">public</strong> <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/9541.html" title="Multiple referred from 78 places.">accumulator</a>() <em class="brace">{</em>
<a id="L175" name="L175"></a> 175             <strong class="reserved">return</strong> <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>;
<a id="L176" name="L176"></a> 176         <em class="brace">}</em>
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L179" name="L179"></a> 179         <strong class="reserved">public</strong> <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;A&gt; <a href="../R/29042.html" title="Multiple referred from 114 places.">supplier</a>() <em class="brace">{</em>
<a id="L180" name="L180"></a> 180             <strong class="reserved">return</strong> <a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>;
<a id="L181" name="L181"></a> 181         <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L184" name="L184"></a> 184         <strong class="reserved">public</strong> <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;A&gt; <a href="../R/11669.html" title="Multiple referred from 73 places.">combiner</a>() <em class="brace">{</em>
<a id="L185" name="L185"></a> 185             <strong class="reserved">return</strong> <a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>;
<a id="L186" name="L186"></a> 186         <em class="brace">}</em>
<a id="L187" name="L187"></a> 187 
<a id="L188" name="L188"></a> 188         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L189" name="L189"></a> 189         <strong class="reserved">public</strong> <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;A, R&gt; <a href="../R/14540.html" title="Multiple referred from 23 places.">finisher</a>() <em class="brace">{</em>
<a id="L190" name="L190"></a> 190             <strong class="reserved">return</strong> <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>;
<a id="L191" name="L191"></a> 191         <em class="brace">}</em>
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L194" name="L194"></a> 194         <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L195" name="L195"></a> 195             <strong class="reserved">return</strong> <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>;
<a id="L196" name="L196"></a> 196         <em class="brace">}</em>
<a id="L197" name="L197"></a> 197     <em class="brace">}</em>
<a id="L198" name="L198"></a> 198 
<div class="comment">
      Returns a <code>Collector</code> that accumulates the input elements into a
      new <code>Collection</code>, in encounter order.  The <code>Collection</code> is
      created by the provided factory.
      @param <t> the type of the input elements
      @param <c> the type of the resulting <code>Collection</code>
      @param collectionFactory a <code>Supplier</code> which returns a new, empty
      <code>Collection</code> of the appropriate type
      @return a <code>Collector</code> which collects all the input elements into a
      <code>Collection</code>, in encounter order</c></t></div>
<a id="L211" name="L211"></a> 211     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, C <strong class="reserved">extends</strong> <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;
<a id="L212" name="L212"></a> 212     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, C&gt; toCollection(<a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;C&gt; collectionFactory) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(collectionFactory, <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;::<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>,
<a id="L214" name="L214"></a> 214                                    (r1, r2) -&gt; <em class="brace">{</em> r1.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(r2); <strong class="reserved">return</strong> r1; <em class="brace">}</em>,
<a id="L215" name="L215"></a> 215                                    CH_ID);
<a id="L216" name="L216"></a> 216     <em class="brace">}</em>
<a id="L217" name="L217"></a> 217 
<div class="comment">
      Returns a <code>Collector</code> that accumulates the input elements into a
      new <code>List</code>. There are no guarantees on the type, mutability,
      serializability, or thread-safety of the <code>List</code> returned; if more
      control over the returned <code>List</code> is required, use {@link #toCollection(Supplier)}.
      @param <t> the type of the input elements
      @return a <code>Collector</code> which collects all the input elements into a
      <code>List</code>, in encounter order</t></div>
<a id="L228" name="L228"></a> 228     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L229" name="L229"></a> 229     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt; <a href="../R/29282.html" title="Multiple referred from 9 places.">toList</a>() <em class="brace">{</em>
<a id="L230" name="L230"></a> 230         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;((<a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;) <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>::<strong class="reserved">new</strong>, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>::<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>,
<a id="L231" name="L231"></a> 231                                    (left, right) -&gt; <em class="brace">{</em> left.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(right); <strong class="reserved">return</strong> left; <em class="brace">}</em>,
<a id="L232" name="L232"></a> 232                                    CH_ID);
<a id="L233" name="L233"></a> 233     <em class="brace">}</em>
<a id="L234" name="L234"></a> 234 
<div class="comment">
      Returns a <code>Collector</code> that accumulates the input elements into a
      new <code>Set</code>. There are no guarantees on the type, mutability,
      serializability, or thread-safety of the <code>Set</code> returned; if more
      control over the returned <code>Set</code> is required, use
      {@link #toCollection(Supplier)}.
      <p>This is an {@link Collector.Characteristics#UNORDERED unordered}
      Collector.
      @param <t> the type of the input elements
      @return a <code>Collector</code> which collects all the input elements into a
      <code>Set</code></t></p></div>
<a id="L249" name="L249"></a> 249     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L250" name="L250"></a> 250     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt; <a href="../R/29330.html" title="Multiple referred from 61 places.">toSet</a>() <em class="brace">{</em>
<a id="L251" name="L251"></a> 251         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;((<a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;) <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>::<strong class="reserved">new</strong>, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>::<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>,
<a id="L252" name="L252"></a> 252                                    (left, right) -&gt; <em class="brace">{</em> left.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(right); <strong class="reserved">return</strong> left; <em class="brace">}</em>,
<a id="L253" name="L253"></a> 253                                    CH_UNORDERED_ID);
<a id="L254" name="L254"></a> 254     <em class="brace">}</em>
<a id="L255" name="L255"></a> 255 
<div class="comment">
      Returns a <code>Collector</code> that concatenates the input elements into a
      <code>String</code>, in encounter order.
      @return a <code>Collector</code> that concatenates the input elements into a
      <code>String</code>, in encounter order</div>
<a id="L263" name="L263"></a> 263     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a>, ?, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/910.html#L279" title="Referred from 279 in src/java/util/stream/Collectors.java.">joining</a>() <em class="brace">{</em>
<a id="L264" name="L264"></a> 264         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;(
<a id="L265" name="L265"></a> 265                 <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>::<strong class="reserved">new</strong>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>::<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>,
<a id="L266" name="L266"></a> 266                 (r1, r2) -&gt; <em class="brace">{</em> r1.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(r2); <strong class="reserved">return</strong> r1; <em class="brace">}</em>,
<a id="L267" name="L267"></a> 267                 <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>::<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>, CH_NOID);
<a id="L268" name="L268"></a> 268     <em class="brace">}</em>
<a id="L269" name="L269"></a> 269 
<div class="comment">
      Returns a <code>Collector</code> that concatenates the input elements,
      separated by the specified delimiter, in encounter order.
      @param delimiter the delimiter to be used between each element
      @return A <code>Collector</code> which concatenates CharSequence elements,
      separated by the specified delimiter, in encounter order</div>
<a id="L278" name="L278"></a> 278     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a>, ?, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/910.html#L279" title="Referred from 279 in src/java/util/stream/Collectors.java.">joining</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../S/872.html#L1120" title="Defined at 1120 in src/java/util/Scanner.java.">delimiter</a>) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">return</strong> <a href="../D/26700.html" title="Multiple defined in 3 places.">joining</a>(<a href="../S/872.html#L1120" title="Defined at 1120 in src/java/util/Scanner.java.">delimiter</a>, "", "");
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<div class="comment">
      Returns a <code>Collector</code> that concatenates the input elements,
      separated by the specified delimiter, with the specified prefix and
      suffix, in encounter order.
      @param delimiter the delimiter to be used between each element
      @param  prefix the sequence of characters to be used at the beginning
                     of the joined result
      @param  suffix the sequence of characters to be used at the end
                     of the joined result
      @return A <code>Collector</code> which concatenates CharSequence elements,
      separated by the specified delimiter, in encounter order</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a>, ?, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/910.html#L279" title="Referred from 279 in src/java/util/stream/Collectors.java.">joining</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../S/872.html#L1120" title="Defined at 1120 in src/java/util/Scanner.java.">delimiter</a>,
<a id="L296" name="L296"></a> 296                                                              <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>,
<a id="L297" name="L297"></a> 297                                                              <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> suffix) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L299" name="L299"></a> 299                 () -&gt; <strong class="reserved">new</strong> <a href="../S/1191.html#L65" title="Defined at 65 in src/java/util/StringJoiner.java.">StringJoiner</a>(<a href="../S/872.html#L1120" title="Defined at 1120 in src/java/util/Scanner.java.">delimiter</a>, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, suffix),
<a id="L300" name="L300"></a> 300                 <a href="../S/1191.html#L65" title="Defined at 65 in src/java/util/StringJoiner.java.">StringJoiner</a>::<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>, <a href="../S/1191.html#L65" title="Defined at 65 in src/java/util/StringJoiner.java.">StringJoiner</a>::<a href="../D/27630.html" title="Multiple defined in 17 places.">merge</a>,
<a id="L301" name="L301"></a> 301                 <a href="../S/1191.html#L65" title="Defined at 65 in src/java/util/StringJoiner.java.">StringJoiner</a>::<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>, CH_NOID);
<a id="L302" name="L302"></a> 302     <em class="brace">}</em>
<a id="L303" name="L303"></a> 303 
<div class="comment">
      <code>BinaryOperator<map></map></code> that merges the contents of its right
      argument into its left argument, using the provided merge function to
      handle duplicate keys.
      @param <k> type of the map keys
      @param <v> type of the map values
      @param <m> type of the map
      @param mergeFunction A merge function suitable for
      {@link Map#merge(Object, Object, BiFunction) Map.merge()}
      @return a merge function for two maps</m></v></k></div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">private</strong> <strong class="reserved">static</strong> &lt;K, V, M <strong class="reserved">extends</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K,V&gt;&gt;
<a id="L317" name="L317"></a> 317     <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;M&gt; <a href="../R/23055.html" title="Multiple referred from 4 places.">mapMerger</a>(<a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;V&gt; mergeFunction) <em class="brace">{</em>
<a id="L318" name="L318"></a> 318         <strong class="reserved">return</strong> (m1, m2) -&gt; <em class="brace">{</em>
<a id="L319" name="L319"></a> 319             <strong class="reserved">for</strong> (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e : m2.<a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>())
<a id="L320" name="L320"></a> 320                 m1.<a href="../D/27630.html" title="Multiple defined in 17 places.">merge</a>(e.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>(), e.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(), mergeFunction);
<a id="L321" name="L321"></a> 321             <strong class="reserved">return</strong> m1;
<a id="L322" name="L322"></a> 322         <em class="brace">}</em>;
<a id="L323" name="L323"></a> 323     <em class="brace">}</em>
<a id="L324" name="L324"></a> 324 
<div class="comment">
      Adapts a <code>Collector</code> accepting elements of type <code>U</code> to one
      accepting elements of type <code>T</code> by applying a mapping function to
      each input element before accumulation.
      @apiNote
      The <code>mapping()</code> collectors are most useful when used in a
      multi-level reduction, such as downstream of a <code>groupingBy</code> or
      <code>partitioningBy</code>.  For example, given a stream of
      <code>Person</code>, to accumulate the set of last names in each city:
      <pre>{@code
          Map<city, set<string>&gt; lastNamesByCity
              = people.stream().collect(groupingBy(Person::getCity,
                                                   mapping(Person::getLastName, toSet())));
      }</city,></pre>
      @param <t> the type of the input elements
      @param <u> type of elements accepted by downstream collector
      @param <a> intermediate accumulation type of the downstream collector
      @param <r> result type of collector
      @param mapper a function to be applied to the input elements
      @param downstream a collector which will accept mapped values
      @return a collector which applies the mapping function to the input
      elements and provides the mapped results to the downstream collector</r></a></u></t></div>
<a id="L350" name="L350"></a> 350     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, U, A, R&gt;
<a id="L351" name="L351"></a> 351     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, R&gt; <a href="../R/23080.html" title="Multiple referred from 79 places.">mapping</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; mapper,
<a id="L352" name="L352"></a> 352                                <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;? <strong class="reserved">super</strong> U, A, R&gt; downstream) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, ? <strong class="reserved">super</strong> U&gt; downstreamAccumulator = downstream.<a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>();
<a id="L354" name="L354"></a> 354         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(downstream.<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>(),
<a id="L355" name="L355"></a> 355                                    (r, t) -&gt; downstreamAccumulator.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(r, mapper.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(t)),
<a id="L356" name="L356"></a> 356                                    downstream.<a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>(), downstream.<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>(),
<a id="L357" name="L357"></a> 357                                    downstream.<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>());
<a id="L358" name="L358"></a> 358     <em class="brace">}</em>
<a id="L359" name="L359"></a> 359 
<div class="comment">
      Adapts a <code>Collector</code> to perform an additional finishing
      transformation.  For example, one could adapt the {@link #toList()}
      collector to always produce an immutable list with:
      <pre>{@code
          List<string> people
              = people.stream().collect(collectingAndThen(toList(), Collections::unmodifiableList));
      }</string></pre>
      @param <t> the type of the input elements
      @param <a> intermediate accumulation type of the downstream collector
      @param <r> result type of the downstream collector
      @param <rr> result type of the resulting collector
      @param downstream a collector
      @param finisher a function to be applied to the final result of the downstream collector
      @return a collector which performs the action of the downstream collector,
      followed by an additional finishing step</rr></r></a></t></div>
<a id="L378" name="L378"></a> 378     <strong class="reserved">public</strong> <strong class="reserved">static</strong>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>,A,R,RR&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>,A,RR&gt; collectingAndThen(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>,A,R&gt; downstream,
<a id="L379" name="L379"></a> 379                                                                 <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;R,RR&gt; <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>) <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>&gt; <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a> = downstream.<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>();
<a id="L381" name="L381"></a> 381         <strong class="reserved">if</strong> (<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH)) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382             <strong class="reserved">if</strong> (<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 1)
<a id="L383" name="L383"></a> 383                 <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a> = <a href="../S/910.html#L104" title="Defined at 104 in src/java/util/stream/Collectors.java.">Collectors</a>.CH_NOID;
<a id="L384" name="L384"></a> 384             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L385" name="L385"></a> 385                 <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a> = <a href="../S/1149.html#L80" title="Defined at 80 in src/java/util/EnumSet.java.">EnumSet</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>);
<a id="L386" name="L386"></a> 386                 <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH);
<a id="L387" name="L387"></a> 387                 <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a> = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>);
<a id="L388" name="L388"></a> 388             <em class="brace">}</em>
<a id="L389" name="L389"></a> 389         <em class="brace">}</em>
<a id="L390" name="L390"></a> 390         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(downstream.<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>(),
<a id="L391" name="L391"></a> 391                                    downstream.<a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>(),
<a id="L392" name="L392"></a> 392                                    downstream.<a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>(),
<a id="L393" name="L393"></a> 393                                    downstream.<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>().<a href="../D/11337.html" title="Multiple defined in 10 places.">andThen</a>(<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>),
<a id="L394" name="L394"></a> 394                                    <a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>);
<a id="L395" name="L395"></a> 395     <em class="brace">}</em>
<a id="L396" name="L396"></a> 396 
<div class="comment">
      Returns a <code>Collector</code> accepting elements of type <code>T</code> that
      counts the number of input elements.  If no elements are present, the
      result is 0.
      @implSpec
      This produces a result equivalent to:
      <pre>{@code
          reducing(0L, e -&gt; 1L, Long::sum)
      }</pre>
      @param <t> the type of the input elements
      @return a <code>Collector</code> that counts the input elements</t></div>
<a id="L411" name="L411"></a> 411     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt;
<a id="L412" name="L412"></a> 412     counting() <em class="brace">{</em>
<a id="L413" name="L413"></a> 413         <strong class="reserved">return</strong> <a href="../D/30461.html" title="Multiple defined in 3 places.">reducing</a>(0L, e -&gt; 1L, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>::<a href="../D/35029.html" title="Multiple defined in 15 places.">sum</a>);
<a id="L414" name="L414"></a> 414     <em class="brace">}</em>
<a id="L415" name="L415"></a> 415 
<div class="comment">
      Returns a <code>Collector</code> that produces the minimal element according
      to a given <code>Comparator</code>, described as an <code>Optional<t></t></code>.
      @implSpec
      This produces a result equivalent to:
      <pre>{@code
          reducing(BinaryOperator.minBy(comparator))
      }</pre>
      @param <t> the type of the input elements
      @param comparator a <code>Comparator</code> for comparing elements
      @return a <code>Collector</code> that produces the minimal value</t></div>
<a id="L430" name="L430"></a> 430     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/861.html#L50" title="Defined at 50 in src/java/util/Optional.java.">Optional</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;
<a id="L431" name="L431"></a> 431     <a href="../R/23288.html" title="Multiple referred from 2 places.">minBy</a>(<a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/13031.html" title="Multiple defined in 21 places.">comparator</a>) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432         <strong class="reserved">return</strong> <a href="../D/30461.html" title="Multiple defined in 3 places.">reducing</a>(<a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>.<a href="../D/27698.html" title="Multiple defined in 2 places.">minBy</a>(<a href="../D/13031.html" title="Multiple defined in 21 places.">comparator</a>));
<a id="L433" name="L433"></a> 433     <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<div class="comment">
      Returns a <code>Collector</code> that produces the maximal element according
      to a given <code>Comparator</code>, described as an <code>Optional<t></t></code>.
      @implSpec
      This produces a result equivalent to:
      <pre>{@code
          reducing(BinaryOperator.maxBy(comparator))
      }</pre>
      @param <t> the type of the input elements
      @param comparator a <code>Comparator</code> for comparing elements
      @return a <code>Collector</code> that produces the maximal value</t></div>
<a id="L449" name="L449"></a> 449     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/861.html#L50" title="Defined at 50 in src/java/util/Optional.java.">Optional</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;
<a id="L450" name="L450"></a> 450     <a href="../R/23167.html" title="Multiple referred from 2 places.">maxBy</a>(<a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/13031.html" title="Multiple defined in 21 places.">comparator</a>) <em class="brace">{</em>
<a id="L451" name="L451"></a> 451         <strong class="reserved">return</strong> <a href="../D/30461.html" title="Multiple defined in 3 places.">reducing</a>(<a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>.<a href="../D/27570.html" title="Multiple defined in 2 places.">maxBy</a>(<a href="../D/13031.html" title="Multiple defined in 21 places.">comparator</a>));
<a id="L452" name="L452"></a> 452     <em class="brace">}</em>
<a id="L453" name="L453"></a> 453 
<div class="comment">
      Returns a <code>Collector</code> that produces the sum of a integer-valued
      function applied to the input elements.  If no elements are present,
      the result is 0.
      @param <t> the type of the input elements
      @param mapper a function extracting the property to be summed
      @return a <code>Collector</code> that produces the sum of a derived property</t></div>
<a id="L463" name="L463"></a> 463     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt;
<a id="L464" name="L464"></a> 464     summingInt(<a href="../S/960.html#L40" title="Defined at 40 in src/java/util/function/ToIntFunction.java.">ToIntFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L466" name="L466"></a> 466                 () -&gt; <strong class="reserved">new</strong> <strong class="reserved">int</strong>[1],
<a id="L467" name="L467"></a> 467                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += mapper.<a href="../D/11443.html" title="Multiple defined in 6 places.">applyAsInt</a>(t); <em class="brace">}</em>,
<a id="L468" name="L468"></a> 468                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += b[0]; <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L469" name="L469"></a> 469                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0], CH_NOID);
<a id="L470" name="L470"></a> 470     <em class="brace">}</em>
<a id="L471" name="L471"></a> 471 
<div class="comment">
      Returns a <code>Collector</code> that produces the sum of a long-valued
      function applied to the input elements.  If no elements are present,
      the result is 0.
      @param <t> the type of the input elements
      @param mapper a function extracting the property to be summed
      @return a <code>Collector</code> that produces the sum of a derived property</t></div>
<a id="L481" name="L481"></a> 481     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt;
<a id="L482" name="L482"></a> 482     summingLong(<a href="../S/972.html#L40" title="Defined at 40 in src/java/util/function/ToLongFunction.java.">ToLongFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L484" name="L484"></a> 484                 () -&gt; <strong class="reserved">new</strong> <strong class="reserved">long</strong>[1],
<a id="L485" name="L485"></a> 485                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += mapper.<a href="../D/11444.html" title="Multiple defined in 6 places.">applyAsLong</a>(t); <em class="brace">}</em>,
<a id="L486" name="L486"></a> 486                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += b[0]; <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L487" name="L487"></a> 487                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0], CH_NOID);
<a id="L488" name="L488"></a> 488     <em class="brace">}</em>
<a id="L489" name="L489"></a> 489 
<div class="comment">
      Returns a <code>Collector</code> that produces the sum of a double-valued
      function applied to the input elements.  If no elements are present,
      the result is 0.
      <p>The sum returned can vary depending upon the order in which
      values are recorded, due to accumulated rounding error in
      addition of values of differing magnitudes. Values sorted by increasing
      absolute magnitude tend to yield more accurate results.  If any recorded
      value is a <code>NaN</code> or the sum is at any point a <code>NaN</code> then the
      sum will be <code>NaN</code>.
      @param <t> the type of the input elements
      @param mapper a function extracting the property to be summed
      @return a <code>Collector</code> that produces the sum of a derived property</t></p></div>
<a id="L506" name="L506"></a> 506     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>&gt;
<a id="L507" name="L507"></a> 507     summingDouble(<a href="../S/940.html#L40" title="Defined at 40 in src/java/util/function/ToDoubleFunction.java.">ToDoubleFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<div class="comment">
          In the arrays allocated for the collect operation, index 0
          holds the high-order bits of the running sum, index 1 holds
          the low-order bits of the sum computed via compensated
          summation, and index 2 holds the simple sum used to compute
          the proper result if the stream contains infinite values of
          the same sign.</div>
<a id="L516" name="L516"></a> 516         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L517" name="L517"></a> 517                 () -&gt; <strong class="reserved">new</strong> <strong class="reserved">double</strong>[3],
<a id="L518" name="L518"></a> 518                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/35033.html" title="Multiple defined in 2 places.">sumWithCompensation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, mapper.<a href="../D/11442.html" title="Multiple defined in 6 places.">applyAsDouble</a>(t));
<a id="L519" name="L519"></a> 519                             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[2] += mapper.<a href="../D/11442.html" title="Multiple defined in 6 places.">applyAsDouble</a>(t);<em class="brace">}</em>,
<a id="L520" name="L520"></a> 520                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/35033.html" title="Multiple defined in 2 places.">sumWithCompensation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b[0]);
<a id="L521" name="L521"></a> 521                             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[2] += b[2];
<a id="L522" name="L522"></a> 522                             <strong class="reserved">return</strong> <a href="../D/35033.html" title="Multiple defined in 2 places.">sumWithCompensation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b[1]); <em class="brace">}</em>,
<a id="L523" name="L523"></a> 523                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; <a href="../S/910.html#L552" title="Defined at 552 in src/java/util/stream/Collectors.java.">computeFinalSum</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>),
<a id="L524" name="L524"></a> 524                 CH_NOID);
<a id="L525" name="L525"></a> 525     <em class="brace">}</em>
<a id="L526" name="L526"></a> 526 
<div class="comment">
      Incorporate a new double value using Kahan summation /
      compensation summation.
      High-order bits of the sum are in intermediateSum[0], low-order
      bits of the sum are in intermediateSum[1], any additional
      elements are application-specific.
      @param intermediateSum the high-order and low-order words of the intermediate sum
      @param value the name value to be included in the running sum</div>
<a id="L538" name="L538"></a> 538     <strong class="reserved">static</strong> <strong class="reserved">double</strong>[] <a href="../R/29034.html" title="Multiple referred from 14 places.">sumWithCompensation</a>(<strong class="reserved">double</strong>[] intermediateSum, <strong class="reserved">double</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539         <strong class="reserved">double</strong> tmp = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> - intermediateSum[1];
<a id="L540" name="L540"></a> 540         <strong class="reserved">double</strong> <a href="../D/35029.html" title="Multiple defined in 15 places.">sum</a> = intermediateSum[0];
<a id="L541" name="L541"></a> 541         <strong class="reserved">double</strong> velvel = <a href="../D/35029.html" title="Multiple defined in 15 places.">sum</a> + tmp; <em class="comment">// Little wolf of rounding error</em>
<a id="L542" name="L542"></a> 542         intermediateSum[1] = (velvel - <a href="../D/35029.html" title="Multiple defined in 15 places.">sum</a>) - tmp;
<a id="L543" name="L543"></a> 543         intermediateSum[0] = velvel;
<a id="L544" name="L544"></a> 544         <strong class="reserved">return</strong> intermediateSum;
<a id="L545" name="L545"></a> 545     <em class="brace">}</em>
<a id="L546" name="L546"></a> 546 
<div class="comment">
      If the compensated sum is spuriously NaN from accumulating one
      or more same-signed infinite values, return the
      correctly-signed infinity stored in the simple sum.</div>
<a id="L552" name="L552"></a> 552     <strong class="reserved">static</strong> <strong class="reserved">double</strong> <a href="../R/11826.html" title="Multiple referred from 4 places.">computeFinalSum</a>(<strong class="reserved">double</strong>[] summands) <em class="brace">{</em>
<a id="L553" name="L553"></a> 553         <em class="comment">// Better error bounds to add both terms as the final sum</em>
<a id="L554" name="L554"></a> 554         <strong class="reserved">double</strong> tmp = summands[0] + summands[1];
<a id="L555" name="L555"></a> 555         <strong class="reserved">double</strong> simpleSum = summands[summands.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1];
<a id="L556" name="L556"></a> 556         <strong class="reserved">if</strong> (<a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<a href="../D/25912.html" title="Multiple defined in 4 places.">isNaN</a>(tmp) &amp;&amp; <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<a href="../D/25716.html" title="Multiple defined in 4 places.">isInfinite</a>(simpleSum))
<a id="L557" name="L557"></a> 557             <strong class="reserved">return</strong> simpleSum;
<a id="L558" name="L558"></a> 558         <strong class="reserved">else</strong>
<a id="L559" name="L559"></a> 559             <strong class="reserved">return</strong> tmp;
<a id="L560" name="L560"></a> 560     <em class="brace">}</em>
<a id="L561" name="L561"></a> 561 
<div class="comment">
      Returns a <code>Collector</code> that produces the arithmetic mean of an integer-valued
      function applied to the input elements.  If no elements are present,
      the result is 0.
      @param <t> the type of the input elements
      @param mapper a function extracting the property to be summed
      @return a <code>Collector</code> that produces the sum of a derived property</t></div>
<a id="L571" name="L571"></a> 571     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>&gt;
<a id="L572" name="L572"></a> 572     averagingInt(<a href="../S/960.html#L40" title="Defined at 40 in src/java/util/function/ToIntFunction.java.">ToIntFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<a id="L573" name="L573"></a> 573         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L574" name="L574"></a> 574                 () -&gt; <strong class="reserved">new</strong> <strong class="reserved">long</strong>[2],
<a id="L575" name="L575"></a> 575                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += mapper.<a href="../D/11443.html" title="Multiple defined in 6 places.">applyAsInt</a>(t); <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1]++; <em class="brace">}</em>,
<a id="L576" name="L576"></a> 576                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += b[0]; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1] += b[1]; <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L577" name="L577"></a> 577                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1] == 0) ? 0.0d : (<strong class="reserved">double</strong>) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] / <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1], CH_NOID);
<a id="L578" name="L578"></a> 578     <em class="brace">}</em>
<a id="L579" name="L579"></a> 579 
<div class="comment">
      Returns a <code>Collector</code> that produces the arithmetic mean of a long-valued
      function applied to the input elements.  If no elements are present,
      the result is 0.
      @param <t> the type of the input elements
      @param mapper a function extracting the property to be summed
      @return a <code>Collector</code> that produces the sum of a derived property</t></div>
<a id="L589" name="L589"></a> 589     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>&gt;
<a id="L590" name="L590"></a> 590     averagingLong(<a href="../S/972.html#L40" title="Defined at 40 in src/java/util/function/ToLongFunction.java.">ToLongFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L592" name="L592"></a> 592                 () -&gt; <strong class="reserved">new</strong> <strong class="reserved">long</strong>[2],
<a id="L593" name="L593"></a> 593                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += mapper.<a href="../D/11444.html" title="Multiple defined in 6 places.">applyAsLong</a>(t); <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1]++; <em class="brace">}</em>,
<a id="L594" name="L594"></a> 594                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] += b[0]; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1] += b[1]; <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L595" name="L595"></a> 595                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1] == 0) ? 0.0d : (<strong class="reserved">double</strong>) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] / <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[1], CH_NOID);
<a id="L596" name="L596"></a> 596     <em class="brace">}</em>
<a id="L597" name="L597"></a> 597 
<div class="comment">
      Returns a <code>Collector</code> that produces the arithmetic mean of a double-valued
      function applied to the input elements.  If no elements are present,
      the result is 0.
      <p>The average returned can vary depending upon the order in which
      values are recorded, due to accumulated rounding error in
      addition of values of differing magnitudes. Values sorted by increasing
      absolute magnitude tend to yield more accurate results.  If any recorded
      value is a <code>NaN</code> or the sum is at any point a <code>NaN</code> then the
      average will be <code>NaN</code>.
      @implNote The <code>double</code> format can represent all
      consecutive integers in the range -2<sup>53</sup> to
      2<sup>53</sup>. If the pipeline has more than 2<sup>53</sup>
      values, the divisor in the average computation will saturate at
      2<sup>53</sup>, leading to additional numerical errors.
      @param <t> the type of the input elements
      @param mapper a function extracting the property to be summed
      @return a <code>Collector</code> that produces the sum of a derived property</t></p></div>
<a id="L620" name="L620"></a> 620     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>&gt;
<a id="L621" name="L621"></a> 621     averagingDouble(<a href="../S/940.html#L40" title="Defined at 40 in src/java/util/function/ToDoubleFunction.java.">ToDoubleFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<div class="comment">
          In the arrays allocated for the collect operation, index 0
          holds the high-order bits of the running sum, index 1 holds
          the low-order bits of the sum computed via compensated
          summation, and index 2 holds the number of values seen.</div>
<a id="L628" name="L628"></a> 628         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L629" name="L629"></a> 629                 () -&gt; <strong class="reserved">new</strong> <strong class="reserved">double</strong>[4],
<a id="L630" name="L630"></a> 630                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/35033.html" title="Multiple defined in 2 places.">sumWithCompensation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, mapper.<a href="../D/11442.html" title="Multiple defined in 6 places.">applyAsDouble</a>(t)); <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[2]++; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[3]+= mapper.<a href="../D/11442.html" title="Multiple defined in 6 places.">applyAsDouble</a>(t);<em class="brace">}</em>,
<a id="L631" name="L631"></a> 631                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/35033.html" title="Multiple defined in 2 places.">sumWithCompensation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b[0]); <a href="../D/35033.html" title="Multiple defined in 2 places.">sumWithCompensation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b[1]); <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[2] += b[2]; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[3] += b[3]; <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L632" name="L632"></a> 632                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[2] == 0) ? 0.0d : (<a href="../S/910.html#L552" title="Defined at 552 in src/java/util/stream/Collectors.java.">computeFinalSum</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) / <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[2]),
<a id="L633" name="L633"></a> 633                 CH_NOID);
<a id="L634" name="L634"></a> 634     <em class="brace">}</em>
<a id="L635" name="L635"></a> 635 
<div class="comment">
      Returns a <code>Collector</code> which performs a reduction of its
      input elements under a specified <code>BinaryOperator</code> using the
      provided identity.
      @apiNote
      The <code>reducing()</code> collectors are most useful when used in a
      multi-level reduction, downstream of <code>groupingBy</code> or
      <code>partitioningBy</code>.  To perform a simple reduction on a stream,
      use {@link Stream#reduce(Object, BinaryOperator)}} instead.
      @param <t> element type for the input and output of the reduction
      @param identity the identity value for the reduction (also, the value
                      that is returned when there are no input elements)
      @param op a <code>BinaryOperator<t></t></code> used to reduce the input elements
      @return a <code>Collector</code> which implements the reduction operation
      @see #reducing(BinaryOperator)
      @see #reducing(Object, Function, BinaryOperator)</t></div>
<a id="L656" name="L656"></a> 656     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L657" name="L657"></a> 657     <a href="../R/25704.html" title="Multiple referred from 3 places.">reducing</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>, <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>) <em class="brace">{</em>
<a id="L658" name="L658"></a> 658         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L659" name="L659"></a> 659                 <a href="../S/910.html#L667" title="Defined at 667 in src/java/util/stream/Collectors.java.">boxSupplier</a>(<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>),
<a id="L660" name="L660"></a> 660                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] = <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0], t); <em class="brace">}</em>,
<a id="L661" name="L661"></a> 661                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] = <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0], b[0]); <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L662" name="L662"></a> 662                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0],
<a id="L663" name="L663"></a> 663                 CH_NOID);
<a id="L664" name="L664"></a> 664     <em class="brace">}</em>
<a id="L665" name="L665"></a> 665 
<a id="L666" name="L666"></a> 666     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L667" name="L667"></a> 667     <strong class="reserved">private</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[]&gt; <a href="../R/10661.html" title="Multiple referred from 2 places.">boxSupplier</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>) <em class="brace">{</em>
<a id="L668" name="L668"></a> 668         <strong class="reserved">return</strong> () -&gt; (<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[]) <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a> <em class="brace">}</em>;
<a id="L669" name="L669"></a> 669     <em class="brace">}</em>
<a id="L670" name="L670"></a> 670 
<div class="comment">
      Returns a <code>Collector</code> which performs a reduction of its
      input elements under a specified <code>BinaryOperator</code>.  The result
      is described as an <code>Optional<t></t></code>.
      @apiNote
      The <code>reducing()</code> collectors are most useful when used in a
      multi-level reduction, downstream of <code>groupingBy</code> or
      <code>partitioningBy</code>.  To perform a simple reduction on a stream,
      use {@link Stream#reduce(BinaryOperator)} instead.
      <p>For example, given a stream of <code>Person</code>, to calculate tallest
      person in each city:
      </p><pre>{@code
          Comparator<person> byHeight = Comparator.comparing(Person::getHeight);
          Map<city, person> tallestByCity
              = people.stream().collect(groupingBy(Person::getCity, reducing(BinaryOperator.maxBy(byHeight))));
      }</city,></person></pre>
      @param <t> element type for the input and output of the reduction
      @param op a <code>BinaryOperator<t></t></code> used to reduce the input elements
      @return a <code>Collector</code> which implements the reduction operation
      @see #reducing(Object, BinaryOperator)
      @see #reducing(Object, Function, BinaryOperator)</t></div>
<a id="L697" name="L697"></a> 697     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/861.html#L50" title="Defined at 50 in src/java/util/Optional.java.">Optional</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;
<a id="L698" name="L698"></a> 698     <a href="../R/25704.html" title="Multiple referred from 3 places.">reducing</a>(<a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>) <em class="brace">{</em>
<a id="L699" name="L699"></a> 699         <strong class="reserved">class</strong> <a href="../R/5842.html" title="Multiple referred from 2 places.">OptionalBox</a> <strong class="reserved">implements</strong> <a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <em class="brace">{</em>
<a id="L700" name="L700"></a> 700             <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>;
<a id="L701" name="L701"></a> 701             <strong class="reserved">boolean</strong> present = <strong class="reserved">false</strong>;
<a id="L702" name="L702"></a> 702 
<a id="L703" name="L703"></a> 703             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L704" name="L704"></a> 704             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9513.html" title="Multiple referred from 551 places.">accept</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> t) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705                 <strong class="reserved">if</strong> (present) <em class="brace">{</em>
<a id="L706" name="L706"></a> 706                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, t);
<a id="L707" name="L707"></a> 707                 <em class="brace">}</em>
<a id="L708" name="L708"></a> 708                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L709" name="L709"></a> 709                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = t;
<a id="L710" name="L710"></a> 710                     present = <strong class="reserved">true</strong>;
<a id="L711" name="L711"></a> 711                 <em class="brace">}</em>
<a id="L712" name="L712"></a> 712             <em class="brace">}</em>
<a id="L713" name="L713"></a> 713         <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<a id="L715" name="L715"></a> 715         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, <a href="../S/910.html#L699" title="Defined at 699 in src/java/util/stream/Collectors.java.">OptionalBox</a>, <a href="../S/861.html#L50" title="Defined at 50 in src/java/util/Optional.java.">Optional</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;(
<a id="L716" name="L716"></a> 716                 <a href="../S/910.html#L699" title="Defined at 699 in src/java/util/stream/Collectors.java.">OptionalBox</a>::<strong class="reserved">new</strong>, <a href="../S/910.html#L699" title="Defined at 699 in src/java/util/stream/Collectors.java.">OptionalBox</a>::<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>,
<a id="L717" name="L717"></a> 717                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <strong class="reserved">if</strong> (b.present) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(b.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>); <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L718" name="L718"></a> 718                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; <a href="../S/861.html#L50" title="Defined at 50 in src/java/util/Optional.java.">Optional</a>.<a href="../S/861.html#L120" title="Defined at 120 in src/java/util/Optional.java.">ofNullable</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>), CH_NOID);
<a id="L719" name="L719"></a> 719     <em class="brace">}</em>
<a id="L720" name="L720"></a> 720 
<div class="comment">
      Returns a <code>Collector</code> which performs a reduction of its
      input elements under a specified mapping function and
      <code>BinaryOperator</code>. This is a generalization of
      {@link #reducing(Object, BinaryOperator)} which allows a transformation
      of the elements before reduction.
      @apiNote
      The <code>reducing()</code> collectors are most useful when used in a
      multi-level reduction, downstream of <code>groupingBy</code> or
      <code>partitioningBy</code>.  To perform a simple map-reduce on a stream,
      use {@link Stream#map(Function)} and {@link Stream#reduce(Object, BinaryOperator)}
      instead.
      <p>For example, given a stream of <code>Person</code>, to calculate the longest
      last name of residents in each city:
      </p><pre>{@code
          Comparator<string> byLength = Comparator.comparing(String::length);
          Map<city, string> longestLastNameByCity
              = people.stream().collect(groupingBy(Person::getCity,
                                                   reducing(Person::getLastName, BinaryOperator.maxBy(byLength))));
      }</city,></string></pre>
      @param <t> the type of the input elements
      @param <u> the type of the mapped values
      @param identity the identity value for the reduction (also, the value
                      that is returned when there are no input elements)
      @param mapper a mapping function to apply to each input value
      @param op a <code>BinaryOperator<u></u></code><u> used to reduce the mapped values
      @return a <code>Collector</code> implementing the map-reduce operation
      @see #reducing(Object, BinaryOperator)
      @see #reducing(BinaryOperator)</u></u></t></div>
<a id="L755" name="L755"></a> 755     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, U&gt;
<a id="L756" name="L756"></a> 756     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, U&gt; <a href="../R/25704.html" title="Multiple referred from 3 places.">reducing</a>(U <a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>,
<a id="L757" name="L757"></a> 757                                 <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; mapper,
<a id="L758" name="L758"></a> 758                                 <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;U&gt; <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(
<a id="L760" name="L760"></a> 760                 <a href="../S/910.html#L667" title="Defined at 667 in src/java/util/stream/Collectors.java.">boxSupplier</a>(<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>),
<a id="L761" name="L761"></a> 761                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] = <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0], mapper.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(t)); <em class="brace">}</em>,
<a id="L762" name="L762"></a> 762                 (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b) -&gt; <em class="brace">{</em> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0] = <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0], b[0]); <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>; <em class="brace">}</em>,
<a id="L763" name="L763"></a> 763                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> -&gt; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[0], CH_NOID);
<a id="L764" name="L764"></a> 764     <em class="brace">}</em>
<a id="L765" name="L765"></a> 765 
<div class="comment">
      Returns a <code>Collector</code> implementing a "group by" operation on
      input elements of type <code>T</code>, grouping elements according to a
      classification function, and returning the results in a <code>Map</code>.
      <p>The classification function maps elements to some key type <code>K</code>.
      The collector produces a <code>Map<k, list<t>&gt;</k,></code> whose keys are the
      values resulting from applying the classification function to the input
      elements, and whose corresponding values are <code>List</code>s containing the
      input elements which map to the associated key under the classification
      function.
      </p><p>There are no guarantees on the type, mutability, serializability, or
      thread-safety of the <code>Map</code> or <code>List</code> objects returned.
      @implSpec
      This produces a result similar to:
      </p><pre>{@code
          groupingBy(classifier, toList());
      }</pre>
      @implNote
      The returned <code>Collector</code> is not concurrent.  For parallel stream
      pipelines, the <code>combiner</code> function operates by merging the keys
      from one map into another, which can be an expensive operation.  If
      preservation of the order in which elements appear in the resulting <code>Map</code>
      collector is not required, using {@link #groupingByConcurrent(Function)}
      may offer better parallel performance.
      @param <t> the type of the input elements
      @param <k> the type of the keys
      @param classifier the classifier function mapping input elements to keys
      @return a <code>Collector</code> implementing the group-by operation
      @see #groupingBy(Function, Collector)
      @see #groupingBy(Function, Supplier, Collector)
      @see #groupingByConcurrent(Function)</k></t></div>
<a id="L803" name="L803"></a> 803     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K&gt; <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;&gt;
<a id="L804" name="L804"></a> 804     <a href="../R/20038.html" title="Multiple referred from 2 places.">groupingBy</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; classifier) <em class="brace">{</em>
<a id="L805" name="L805"></a> 805         <strong class="reserved">return</strong> <a href="../D/23918.html" title="Multiple defined in 3 places.">groupingBy</a>(classifier, <a href="../D/35428.html" title="Multiple defined in 2 places.">toList</a>());
<a id="L806" name="L806"></a> 806     <em class="brace">}</em>
<a id="L807" name="L807"></a> 807 
<div class="comment">
      Returns a <code>Collector</code> implementing a cascaded "group by" operation
      on input elements of type <code>T</code>, grouping elements according to a
      classification function, and then performing a reduction operation on
      the values associated with a given key using the specified downstream
      <code>Collector</code>.
      <p>The classification function maps elements to some key type <code>K</code>.
      The downstream collector operates on elements of type <code>T</code> and
      produces a result of type <code>D</code>. The resulting collector produces a
      <code>Map<k, d></k,></code>.
      </p><p>There are no guarantees on the type, mutability,
      serializability, or thread-safety of the <code>Map</code> returned.
      </p><p>For example, to compute the set of last names of people in each city:
      </p><pre>{@code
          Map<city, set<string>&gt; namesByCity
              = people.stream().collect(groupingBy(Person::getCity,
                                                   mapping(Person::getLastName, toSet())));
      }</city,></pre>
      @implNote
      The returned <code>Collector</code> is not concurrent.  For parallel stream
      pipelines, the <code>combiner</code> function operates by merging the keys
      from one map into another, which can be an expensive operation.  If
      preservation of the order in which elements are presented to the downstream
      collector is not required, using {@link #groupingByConcurrent(Function, Collector)}
      may offer better parallel performance.
      @param <t> the type of the input elements
      @param <k> the type of the keys
      @param <a> the intermediate accumulation type of the downstream collector
      @param <d> the result type of the downstream reduction
      @param classifier a classifier function mapping input elements to keys
      @param downstream a <code>Collector</code> implementing the downstream reduction
      @return a <code>Collector</code> implementing the cascaded group-by operation
      @see #groupingBy(Function)
      @see #groupingBy(Function, Supplier, Collector)
      @see #groupingByConcurrent(Function, Collector)</d></a></k></t></div>
<a id="L850" name="L850"></a> 850     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, A, D&gt;
<a id="L851" name="L851"></a> 851     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, D&gt;&gt; <a href="../R/20038.html" title="Multiple referred from 2 places.">groupingBy</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; classifier,
<a id="L852" name="L852"></a> 852                                           <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, A, D&gt; downstream) <em class="brace">{</em>
<a id="L853" name="L853"></a> 853         <strong class="reserved">return</strong> <a href="../D/23918.html" title="Multiple defined in 3 places.">groupingBy</a>(classifier, <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>::<strong class="reserved">new</strong>, downstream);
<a id="L854" name="L854"></a> 854     <em class="brace">}</em>
<a id="L855" name="L855"></a> 855 
<div class="comment">
      Returns a <code>Collector</code> implementing a cascaded "group by" operation
      on input elements of type <code>T</code>, grouping elements according to a
      classification function, and then performing a reduction operation on
      the values associated with a given key using the specified downstream
      <code>Collector</code>.  The <code>Map</code> produced by the Collector is created
      with the supplied factory function.
      <p>The classification function maps elements to some key type <code>K</code>.
      The downstream collector operates on elements of type <code>T</code> and
      produces a result of type <code>D</code>. The resulting collector produces a
      <code>Map<k, d></k,></code>.
      </p><p>For example, to compute the set of last names of people in each city,
      where the city names are sorted:
      </p><pre>{@code
          Map<city, set<string>&gt; namesByCity
              = people.stream().collect(groupingBy(Person::getCity, TreeMap::new,
                                                   mapping(Person::getLastName, toSet())));
      }</city,></pre>
      @implNote
      The returned <code>Collector</code> is not concurrent.  For parallel stream
      pipelines, the <code>combiner</code> function operates by merging the keys
      from one map into another, which can be an expensive operation.  If
      preservation of the order in which elements are presented to the downstream
      collector is not required, using {@link #groupingByConcurrent(Function, Supplier, Collector)}
      may offer better parallel performance.
      @param <t> the type of the input elements
      @param <k> the type of the keys
      @param <a> the intermediate accumulation type of the downstream collector
      @param <d> the result type of the downstream reduction
      @param <m> the type of the resulting <code>Map</code>
      @param classifier a classifier function mapping input elements to keys
      @param downstream a <code>Collector</code> implementing the downstream reduction
      @param mapFactory a function which, when called, produces a new empty
                        <code>Map</code> of the desired type
      @return a <code>Collector</code> implementing the cascaded group-by operation
      @see #groupingBy(Function, Collector)
      @see #groupingBy(Function)
      @see #groupingByConcurrent(Function, Supplier, Collector)</m></d></a></k></t></div>
<a id="L900" name="L900"></a> 900     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, D, A, M <strong class="reserved">extends</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, D&gt;&gt;
<a id="L901" name="L901"></a> 901     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, M&gt; <a href="../R/20038.html" title="Multiple referred from 2 places.">groupingBy</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; classifier,
<a id="L902" name="L902"></a> 902                                   <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;M&gt; mapFactory,
<a id="L903" name="L903"></a> 903                                   <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, A, D&gt; downstream) <em class="brace">{</em>
<a id="L904" name="L904"></a> 904         <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;A&gt; downstreamSupplier = downstream.<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>();
<a id="L905" name="L905"></a> 905         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, ? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; downstreamAccumulator = downstream.<a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>();
<a id="L906" name="L906"></a> 906         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, A&gt;, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a> = (m, t) -&gt; <em class="brace">{</em>
<a id="L907" name="L907"></a> 907             K <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(classifier.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(t), "element cannot be mapped to a null key");
<a id="L908" name="L908"></a> 908             A container = m.<a href="../D/13180.html" title="Multiple defined in 12 places.">computeIfAbsent</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, k -&gt; downstreamSupplier.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>());
<a id="L909" name="L909"></a> 909             downstreamAccumulator.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(container, t);
<a id="L910" name="L910"></a> 910         <em class="brace">}</em>;
<a id="L911" name="L911"></a> 911         <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, A&gt;&gt; merger = <a href="../S/910.html#L104" title="Defined at 104 in src/java/util/stream/Collectors.java.">Collectors</a>.&lt;K, A, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, A&gt;&gt;<a href="../S/910.html#L317" title="Defined at 317 in src/java/util/stream/Collectors.java.">mapMerger</a>(downstream.<a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>());
<a id="L912" name="L912"></a> 912         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L913" name="L913"></a> 913         <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, A&gt;&gt; mangledFactory = (<a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, A&gt;&gt;) mapFactory;
<a id="L914" name="L914"></a> 914 
<a id="L915" name="L915"></a> 915         <strong class="reserved">if</strong> (downstream.<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>().<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH)) <em class="brace">{</em>
<a id="L916" name="L916"></a> 916             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(mangledFactory, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, merger, CH_ID);
<a id="L917" name="L917"></a> 917         <em class="brace">}</em>
<a id="L918" name="L918"></a> 918         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L919" name="L919"></a> 919             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L920" name="L920"></a> 920             <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;A, A&gt; downstreamFinisher = (<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;A, A&gt;) downstream.<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>();
<a id="L921" name="L921"></a> 921             <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, A&gt;, M&gt; <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a> = intermediate -&gt; <em class="brace">{</em>
<a id="L922" name="L922"></a> 922                 intermediate.<a href="../D/31036.html" title="Multiple defined in 30 places.">replaceAll</a>((k, v) -&gt; downstreamFinisher.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(v));
<a id="L923" name="L923"></a> 923                 @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L924" name="L924"></a> 924                 M castResult = (M) intermediate;
<a id="L925" name="L925"></a> 925                 <strong class="reserved">return</strong> castResult;
<a id="L926" name="L926"></a> 926             <em class="brace">}</em>;
<a id="L927" name="L927"></a> 927             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(mangledFactory, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, merger, <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>, CH_NOID);
<a id="L928" name="L928"></a> 928         <em class="brace">}</em>
<a id="L929" name="L929"></a> 929     <em class="brace">}</em>
<a id="L930" name="L930"></a> 930 
<div class="comment">
      Returns a concurrent <code>Collector</code> implementing a "group by"
      operation on input elements of type <code>T</code>, grouping elements
      according to a classification function.
      <p>This is a {@link Collector.Characteristics#CONCURRENT concurrent} and
      {@link Collector.Characteristics#UNORDERED unordered} Collector.
      </p><p>The classification function maps elements to some key type <code>K</code>.
      The collector produces a <code>ConcurrentMap<k, list<t>&gt;</k,></code> whose keys are the
      values resulting from applying the classification function to the input
      elements, and whose corresponding values are <code>List</code>s containing the
      input elements which map to the associated key under the classification
      function.
      </p><p>There are no guarantees on the type, mutability, or serializability
      of the <code>Map</code> or <code>List</code> objects returned, or of the
      thread-safety of the <code>List</code> objects returned.
      @implSpec
      This produces a result similar to:
      </p><pre>{@code
          groupingByConcurrent(classifier, toList());
      }</pre>
      @param <t> the type of the input elements
      @param <k> the type of the keys
      @param classifier a classifier function mapping input elements to keys
      @return a concurrent, unordered <code>Collector</code> implementing the group-by operation
      @see #groupingBy(Function)
      @see #groupingByConcurrent(Function, Collector)
      @see #groupingByConcurrent(Function, Supplier, Collector)</k></t></div>
<a id="L964" name="L964"></a> 964     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K&gt;
<a id="L965" name="L965"></a> 965     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;&gt;
<a id="L966" name="L966"></a> 966     <a href="../R/20039.html" title="Multiple referred from 2 places.">groupingByConcurrent</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; classifier) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967         <strong class="reserved">return</strong> <a href="../D/23919.html" title="Multiple defined in 3 places.">groupingByConcurrent</a>(classifier, <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>::<strong class="reserved">new</strong>, <a href="../D/35428.html" title="Multiple defined in 2 places.">toList</a>());
<a id="L968" name="L968"></a> 968     <em class="brace">}</em>
<a id="L969" name="L969"></a> 969 
<div class="comment">
      Returns a concurrent <code>Collector</code> implementing a cascaded "group by"
      operation on input elements of type <code>T</code>, grouping elements
      according to a classification function, and then performing a reduction
      operation on the values associated with a given key using the specified
      downstream <code>Collector</code>.
      <p>This is a {@link Collector.Characteristics#CONCURRENT concurrent} and
      {@link Collector.Characteristics#UNORDERED unordered} Collector.
      </p><p>The classification function maps elements to some key type <code>K</code>.
      The downstream collector operates on elements of type <code>T</code> and
      produces a result of type <code>D</code>. The resulting collector produces a
      <code>Map<k, d></k,></code>.
      </p><p>For example, to compute the set of last names of people in each city,
      where the city names are sorted:
      </p><pre>{@code
          ConcurrentMap<city, set<string>&gt; namesByCity
              = people.stream().collect(groupingByConcurrent(Person::getCity,
                                                             mapping(Person::getLastName, toSet())));
      }</city,></pre>
      @param <t> the type of the input elements
      @param <k> the type of the keys
      @param <a> the intermediate accumulation type of the downstream collector
      @param <d> the result type of the downstream reduction
      @param classifier a classifier function mapping input elements to keys
      @param downstream a <code>Collector</code> implementing the downstream reduction
      @return a concurrent, unordered <code>Collector</code> implementing the cascaded group-by operation
      @see #groupingBy(Function, Collector)
      @see #groupingByConcurrent(Function)
      @see #groupingByConcurrent(Function, Supplier, Collector)</d></a></k></t></div>
<a id="L1005" name="L1005"></a>1005     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, A, D&gt;
<a id="L1006" name="L1006"></a>1006     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, D&gt;&gt; <a href="../R/20039.html" title="Multiple referred from 2 places.">groupingByConcurrent</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; classifier,
<a id="L1007" name="L1007"></a>1007                                                               <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, A, D&gt; downstream) <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008         <strong class="reserved">return</strong> <a href="../D/23919.html" title="Multiple defined in 3 places.">groupingByConcurrent</a>(classifier, <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>::<strong class="reserved">new</strong>, downstream);
<a id="L1009" name="L1009"></a>1009     <em class="brace">}</em>
<a id="L1010" name="L1010"></a>1010 
<div class="comment">
      Returns a concurrent <code>Collector</code> implementing a cascaded "group by"
      operation on input elements of type <code>T</code>, grouping elements
      according to a classification function, and then performing a reduction
      operation on the values associated with a given key using the specified
      downstream <code>Collector</code>.  The <code>ConcurrentMap</code> produced by the
      Collector is created with the supplied factory function.
      <p>This is a {@link Collector.Characteristics#CONCURRENT concurrent} and
      {@link Collector.Characteristics#UNORDERED unordered} Collector.
      </p><p>The classification function maps elements to some key type <code>K</code>.
      The downstream collector operates on elements of type <code>T</code> and
      produces a result of type <code>D</code>. The resulting collector produces a
      <code>Map<k, d></k,></code>.
      </p><p>For example, to compute the set of last names of people in each city,
      where the city names are sorted:
      </p><pre>{@code
          ConcurrentMap<city, set<string>&gt; namesByCity
              = people.stream().collect(groupingBy(Person::getCity, ConcurrentSkipListMap::new,
                                                   mapping(Person::getLastName, toSet())));
      }</city,></pre>
      @param <t> the type of the input elements
      @param <k> the type of the keys
      @param <a> the intermediate accumulation type of the downstream collector
      @param <d> the result type of the downstream reduction
      @param <m> the type of the resulting <code>ConcurrentMap</code>
      @param classifier a classifier function mapping input elements to keys
      @param downstream a <code>Collector</code> implementing the downstream reduction
      @param mapFactory a function which, when called, produces a new empty
                        <code>ConcurrentMap</code> of the desired type
      @return a concurrent, unordered <code>Collector</code> implementing the cascaded group-by operation
      @see #groupingByConcurrent(Function)
      @see #groupingByConcurrent(Function, Collector)
      @see #groupingBy(Function, Supplier, Collector)</m></d></a></k></t></div>
<a id="L1051" name="L1051"></a>1051     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, A, D, M <strong class="reserved">extends</strong> <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, D&gt;&gt;
<a id="L1052" name="L1052"></a>1052     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, M&gt; <a href="../R/20039.html" title="Multiple referred from 2 places.">groupingByConcurrent</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; classifier,
<a id="L1053" name="L1053"></a>1053                                             <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;M&gt; mapFactory,
<a id="L1054" name="L1054"></a>1054                                             <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, A, D&gt; downstream) <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055         <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;A&gt; downstreamSupplier = downstream.<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>();
<a id="L1056" name="L1056"></a>1056         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, ? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; downstreamAccumulator = downstream.<a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>();
<a id="L1057" name="L1057"></a>1057         <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;<a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, A&gt;&gt; merger = <a href="../S/910.html#L104" title="Defined at 104 in src/java/util/stream/Collectors.java.">Collectors</a>.&lt;K, A, <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, A&gt;&gt;<a href="../S/910.html#L317" title="Defined at 317 in src/java/util/stream/Collectors.java.">mapMerger</a>(downstream.<a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>());
<a id="L1058" name="L1058"></a>1058         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L1059" name="L1059"></a>1059         <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, A&gt;&gt; mangledFactory = (<a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, A&gt;&gt;) mapFactory;
<a id="L1060" name="L1060"></a>1060         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;<a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, A&gt;, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>;
<a id="L1061" name="L1061"></a>1061         <strong class="reserved">if</strong> (downstream.<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>().<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.CONCURRENT)) <em class="brace">{</em>
<a id="L1062" name="L1062"></a>1062             <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a> = (m, t) -&gt; <em class="brace">{</em>
<a id="L1063" name="L1063"></a>1063                 K <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(classifier.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(t), "element cannot be mapped to a null key");
<a id="L1064" name="L1064"></a>1064                 A resultContainer = m.<a href="../D/13180.html" title="Multiple defined in 12 places.">computeIfAbsent</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, k -&gt; downstreamSupplier.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>());
<a id="L1065" name="L1065"></a>1065                 downstreamAccumulator.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(resultContainer, t);
<a id="L1066" name="L1066"></a>1066             <em class="brace">}</em>;
<a id="L1067" name="L1067"></a>1067         <em class="brace">}</em>
<a id="L1068" name="L1068"></a>1068         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1069" name="L1069"></a>1069             <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a> = (m, t) -&gt; <em class="brace">{</em>
<a id="L1070" name="L1070"></a>1070                 K <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(classifier.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(t), "element cannot be mapped to a null key");
<a id="L1071" name="L1071"></a>1071                 A resultContainer = m.<a href="../D/13180.html" title="Multiple defined in 12 places.">computeIfAbsent</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, k -&gt; downstreamSupplier.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>());
<a id="L1072" name="L1072"></a>1072                 <strong class="reserved">synchronized</strong> (resultContainer) <em class="brace">{</em>
<a id="L1073" name="L1073"></a>1073                     downstreamAccumulator.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(resultContainer, t);
<a id="L1074" name="L1074"></a>1074                 <em class="brace">}</em>
<a id="L1075" name="L1075"></a>1075             <em class="brace">}</em>;
<a id="L1076" name="L1076"></a>1076         <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077 
<a id="L1078" name="L1078"></a>1078         <strong class="reserved">if</strong> (downstream.<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>().<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH)) <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(mangledFactory, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, merger, CH_CONCURRENT_ID);
<a id="L1080" name="L1080"></a>1080         <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1082" name="L1082"></a>1082             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L1083" name="L1083"></a>1083             <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;A, A&gt; downstreamFinisher = (<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;A, A&gt;) downstream.<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>();
<a id="L1084" name="L1084"></a>1084             <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;<a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, A&gt;, M&gt; <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a> = intermediate -&gt; <em class="brace">{</em>
<a id="L1085" name="L1085"></a>1085                 intermediate.<a href="../D/31036.html" title="Multiple defined in 30 places.">replaceAll</a>((k, v) -&gt; downstreamFinisher.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(v));
<a id="L1086" name="L1086"></a>1086                 @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L1087" name="L1087"></a>1087                 M castResult = (M) intermediate;
<a id="L1088" name="L1088"></a>1088                 <strong class="reserved">return</strong> castResult;
<a id="L1089" name="L1089"></a>1089             <em class="brace">}</em>;
<a id="L1090" name="L1090"></a>1090             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(mangledFactory, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, merger, <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>, CH_CONCURRENT_NOID);
<a id="L1091" name="L1091"></a>1091         <em class="brace">}</em>
<a id="L1092" name="L1092"></a>1092     <em class="brace">}</em>
<a id="L1093" name="L1093"></a>1093 
<div class="comment">
      Returns a <code>Collector</code> which partitions the input elements according
      to a <code>Predicate</code>, and organizes them into a
      <code>Map<boolean, list<t>&gt;</boolean,></code>.
      There are no guarantees on the type, mutability,
      serializability, or thread-safety of the <code>Map</code> returned.
      @param <t> the type of the input elements
      @param predicate a predicate used for classifying input elements
      @return a <code>Collector</code> implementing the partitioning operation
      @see #partitioningBy(Predicate, Collector)</t></div>
<a id="L1108" name="L1108"></a>1108     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1109" name="L1109"></a>1109     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;&gt; <a href="../S/910.html#L1110" title="Referred from 1110 in src/java/util/stream/Collectors.java.">partitioningBy</a>(<a href="../D/6788.html" title="Multiple defined in 4 places.">Predicate</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/4997.html#L666" title="Defined at 666 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">predicate</a>) <em class="brace">{</em>
<a id="L1110" name="L1110"></a>1110         <strong class="reserved">return</strong> <a href="../D/29264.html" title="Multiple defined in 2 places.">partitioningBy</a>(<a href="../S/4997.html#L666" title="Defined at 666 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">predicate</a>, <a href="../D/35428.html" title="Multiple defined in 2 places.">toList</a>());
<a id="L1111" name="L1111"></a>1111     <em class="brace">}</em>
<a id="L1112" name="L1112"></a>1112 
<div class="comment">
      Returns a <code>Collector</code> which partitions the input elements according
      to a <code>Predicate</code>, reduces the values in each partition according to
      another <code>Collector</code>, and organizes them into a
      <code>Map<boolean, d></boolean,></code> whose values are the result of the downstream
      reduction.
      <p>There are no guarantees on the type, mutability,
      serializability, or thread-safety of the <code>Map</code> returned.
      @param <t> the type of the input elements
      @param <a> the intermediate accumulation type of the downstream collector
      @param <d> the result type of the downstream reduction
      @param predicate a predicate used for classifying input elements
      @param downstream a <code>Collector</code> implementing the downstream
                        reduction
      @return a <code>Collector</code> implementing the cascaded partitioning
              operation
      @see #partitioningBy(Predicate)</d></a></t></p></div>
<a id="L1134" name="L1134"></a>1134     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, D, A&gt;
<a id="L1135" name="L1135"></a>1135     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, D&gt;&gt; <a href="../S/910.html#L1110" title="Referred from 1110 in src/java/util/stream/Collectors.java.">partitioningBy</a>(<a href="../D/6788.html" title="Multiple defined in 4 places.">Predicate</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/4997.html#L666" title="Defined at 666 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">predicate</a>,
<a id="L1136" name="L1136"></a>1136                                                     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, A, D&gt; downstream) <em class="brace">{</em>
<a id="L1137" name="L1137"></a>1137         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;A, ? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; downstreamAccumulator = downstream.<a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>();
<a id="L1138" name="L1138"></a>1138         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;<a href="../S/910.html#L1540" title="Defined at 1540 in src/java/util/stream/Collectors.java.">Partition</a>&lt;A&gt;, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a> = (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, t) -&gt;
<a id="L1139" name="L1139"></a>1139                 downstreamAccumulator.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(<a href="../S/4997.html#L666" title="Defined at 666 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">predicate</a>.<a href="../D/35234.html" title="Multiple defined in 11 places.">test</a>(t) ? <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.forTrue : <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.forFalse, t);
<a id="L1140" name="L1140"></a>1140         <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;A&gt; <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a> = downstream.<a href="../D/13009.html" title="Multiple defined in 2 places.">combiner</a>();
<a id="L1141" name="L1141"></a>1141         <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;<a href="../S/910.html#L1540" title="Defined at 1540 in src/java/util/stream/Collectors.java.">Partition</a>&lt;A&gt;&gt; merger = (left, right) -&gt;
<a id="L1142" name="L1142"></a>1142                 <strong class="reserved">new</strong> <a href="../S/910.html#L1540" title="Defined at 1540 in src/java/util/stream/Collectors.java.">Partition</a>&lt;&gt;(<a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(left.forTrue, right.forTrue),
<a id="L1143" name="L1143"></a>1143                                 <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(left.forFalse, right.forFalse));
<a id="L1144" name="L1144"></a>1144         <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;<a href="../S/910.html#L1540" title="Defined at 1540 in src/java/util/stream/Collectors.java.">Partition</a>&lt;A&gt;&gt; <a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a> = () -&gt;
<a id="L1145" name="L1145"></a>1145                 <strong class="reserved">new</strong> <a href="../S/910.html#L1540" title="Defined at 1540 in src/java/util/stream/Collectors.java.">Partition</a>&lt;&gt;(downstream.<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>().<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(),
<a id="L1146" name="L1146"></a>1146                                 downstream.<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>().<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>());
<a id="L1147" name="L1147"></a>1147         <strong class="reserved">if</strong> (downstream.<a href="../D/12338.html" title="Multiple defined in 75 places.">characteristics</a>().<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>.<a href="../S/895.html#L314" title="Defined at 314 in src/java/util/stream/Collector.java.">Characteristics</a>.IDENTITY_FINISH)) <em class="brace">{</em>
<a id="L1148" name="L1148"></a>1148             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, merger, CH_ID);
<a id="L1149" name="L1149"></a>1149         <em class="brace">}</em>
<a id="L1150" name="L1150"></a>1150         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1151" name="L1151"></a>1151             <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;<a href="../S/910.html#L1540" title="Defined at 1540 in src/java/util/stream/Collectors.java.">Partition</a>&lt;A&gt;, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, D&gt;&gt; <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a> = par -&gt;
<a id="L1152" name="L1152"></a>1152                     <strong class="reserved">new</strong> <a href="../S/910.html#L1540" title="Defined at 1540 in src/java/util/stream/Collectors.java.">Partition</a>&lt;&gt;(downstream.<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>().<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(par.forTrue),
<a id="L1153" name="L1153"></a>1153                                     downstream.<a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>().<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(par.forFalse));
<a id="L1154" name="L1154"></a>1154             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(<a href="../D/35051.html" title="Multiple defined in 2 places.">supplier</a>, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, merger, <a href="../D/16302.html" title="Multiple defined in 2 places.">finisher</a>, CH_NOID);
<a id="L1155" name="L1155"></a>1155         <em class="brace">}</em>
<a id="L1156" name="L1156"></a>1156     <em class="brace">}</em>
<a id="L1157" name="L1157"></a>1157 
<div class="comment">
      Returns a <code>Collector</code> that accumulates elements into a
      <code>Map</code> whose keys and values are the result of applying the provided
      mapping functions to the input elements.
      <p>If the mapped keys contains duplicates (according to
      {@link Object#equals(Object)}), an <code>IllegalStateException</code> is
      thrown when the collection operation is performed.  If the mapped keys
      may have duplicates, use {@link #toMap(Function, Function, BinaryOperator)}
      instead.
      @apiNote
      It is common for either the key or the value to be the input elements.
      In this case, the utility method
      {@link java.util.function.Function#identity()} may be helpful.
      For example, the following produces a <code>Map</code> mapping
      students to their grade point average:
      </p><pre>{@code
          Map<student, double> studentToGPA
              students.stream().collect(toMap(Functions.identity(),
                                              student -&gt; computeGPA(student)));
      }</student,></pre>
      And the following produces a <code>Map</code> mapping a unique identifier to
      students:
      <pre>{@code
          Map<string, student> studentIdToStudent
              students.stream().collect(toMap(Student::getId,
                                              Functions.identity());
      }</string,></pre>
      @implNote
      The returned <code>Collector</code> is not concurrent.  For parallel stream
      pipelines, the <code>combiner</code> function operates by merging the keys
      from one map into another, which can be an expensive operation.  If it is
      not required that results are inserted into the <code>Map</code> in encounter
      order, using {@link #toConcurrentMap(Function, Function)}
      may offer better parallel performance.
      @param <t> the type of the input elements
      @param <k> the output type of the key mapping function
      @param <u> the output type of the value mapping function
      @param keyMapper a mapping function to produce keys
      @param valueMapper a mapping function to produce values
      @return a <code>Collector</code> which collects elements into a <code>Map</code>
      whose keys and values are the result of applying mapping functions to
      the input elements
      @see #toMap(Function, Function, BinaryOperator)
      @see #toMap(Function, Function, BinaryOperator, Supplier)
      @see #toConcurrentMap(Function, Function)</u></k></t></div>
<a id="L1209" name="L1209"></a>1209     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, U&gt;
<a id="L1210" name="L1210"></a>1210     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K,U&gt;&gt; <a href="../R/29292.html" title="Multiple referred from 3 places.">toMap</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; keyMapper,
<a id="L1211" name="L1211"></a>1211                                     <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; valueMapper) <em class="brace">{</em>
<a id="L1212" name="L1212"></a>1212         <strong class="reserved">return</strong> <a href="../D/35440.html" title="Multiple defined in 3 places.">toMap</a>(keyMapper, valueMapper, <a href="../S/910.html#L132" title="Defined at 132 in src/java/util/stream/Collectors.java.">throwingMerger</a>(), <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>::<strong class="reserved">new</strong>);
<a id="L1213" name="L1213"></a>1213     <em class="brace">}</em>
<a id="L1214" name="L1214"></a>1214 
<div class="comment">
      Returns a <code>Collector</code> that accumulates elements into a
      <code>Map</code> whose keys and values are the result of applying the provided
      mapping functions to the input elements.
      <p>If the mapped
      keys contains duplicates (according to {@link Object#equals(Object)}),
      the value mapping function is applied to each equal element, and the
      results are merged using the provided merging function.
      @apiNote
      There are multiple ways to deal with collisions between multiple elements
      mapping to the same key.  The other forms of <code>toMap</code> simply use
      a merge function that throws unconditionally, but you can easily write
      more flexible merge policies.  For example, if you have a stream
      of <code>Person</code>, and you want to produce a "phone book" mapping name to
      address, but it is possible that two persons have the same name, you can
      do as follows to gracefully deals with these collisions, and produce a
      <code>Map</code> mapping names to a concatenated list of addresses:
      </p><pre>{@code
          Map<string, string> phoneBook
              people.stream().collect(toMap(Person::getName,
                                            Person::getAddress,
                                            (s, a) -&gt; s + ", " + a));
      }</string,></pre>
      @implNote
      The returned <code>Collector</code> is not concurrent.  For parallel stream
      pipelines, the <code>combiner</code> function operates by merging the keys
      from one map into another, which can be an expensive operation.  If it is
      not required that results are merged into the <code>Map</code> in encounter
      order, using {@link #toConcurrentMap(Function, Function, BinaryOperator)}
      may offer better parallel performance.
      @param <t> the type of the input elements
      @param <k> the output type of the key mapping function
      @param <u> the output type of the value mapping function
      @param keyMapper a mapping function to produce keys
      @param valueMapper a mapping function to produce values
      @param mergeFunction a merge function, used to resolve collisions between
                           values associated with the same key, as supplied
                           to {@link Map#merge(Object, Object, BiFunction)}
      @return a <code>Collector</code> which collects elements into a <code>Map</code>
      whose keys are the result of applying a key mapping function to the input
      elements, and whose values are the result of applying a value mapping
      function to all input elements equal to the key and combining them
      using the merge function
      @see #toMap(Function, Function)
      @see #toMap(Function, Function, BinaryOperator, Supplier)
      @see #toConcurrentMap(Function, Function, BinaryOperator)</u></k></t></div>
<a id="L1267" name="L1267"></a>1267     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, U&gt;
<a id="L1268" name="L1268"></a>1268     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K,U&gt;&gt; <a href="../R/29292.html" title="Multiple referred from 3 places.">toMap</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; keyMapper,
<a id="L1269" name="L1269"></a>1269                                     <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; valueMapper,
<a id="L1270" name="L1270"></a>1270                                     <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;U&gt; mergeFunction) <em class="brace">{</em>
<a id="L1271" name="L1271"></a>1271         <strong class="reserved">return</strong> <a href="../D/35440.html" title="Multiple defined in 3 places.">toMap</a>(keyMapper, valueMapper, mergeFunction, <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>::<strong class="reserved">new</strong>);
<a id="L1272" name="L1272"></a>1272     <em class="brace">}</em>
<a id="L1273" name="L1273"></a>1273 
<div class="comment">
      Returns a <code>Collector</code> that accumulates elements into a
      <code>Map</code> whose keys and values are the result of applying the provided
      mapping functions to the input elements.
      <p>If the mapped
      keys contains duplicates (according to {@link Object#equals(Object)}),
      the value mapping function is applied to each equal element, and the
      results are merged using the provided merging function.  The <code>Map</code>
      is created by a provided supplier function.
      @implNote
      The returned <code>Collector</code> is not concurrent.  For parallel stream
      pipelines, the <code>combiner</code> function operates by merging the keys
      from one map into another, which can be an expensive operation.  If it is
      not required that results are merged into the <code>Map</code> in encounter
      order, using {@link #toConcurrentMap(Function, Function, BinaryOperator, Supplier)}
      may offer better parallel performance.
      @param <t> the type of the input elements
      @param <k> the output type of the key mapping function
      @param <u> the output type of the value mapping function
      @param <m> the type of the resulting <code>Map</code>
      @param keyMapper a mapping function to produce keys
      @param valueMapper a mapping function to produce values
      @param mergeFunction a merge function, used to resolve collisions between
                           values associated with the same key, as supplied
                           to {@link Map#merge(Object, Object, BiFunction)}
      @param mapSupplier a function which returns a new, empty <code>Map</code> into
                         which the results will be inserted
      @return a <code>Collector</code> which collects elements into a <code>Map</code>
      whose keys are the result of applying a key mapping function to the input
      elements, and whose values are the result of applying a value mapping
      function to all input elements equal to the key and combining them
      using the merge function
      @see #toMap(Function, Function)
      @see #toMap(Function, Function, BinaryOperator)
      @see #toConcurrentMap(Function, Function, BinaryOperator, Supplier)</m></u></k></t></p></div>
<a id="L1314" name="L1314"></a>1314     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, U, M <strong class="reserved">extends</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K, U&gt;&gt;
<a id="L1315" name="L1315"></a>1315     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, M&gt; <a href="../R/29292.html" title="Multiple referred from 3 places.">toMap</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; keyMapper,
<a id="L1316" name="L1316"></a>1316                                 <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; valueMapper,
<a id="L1317" name="L1317"></a>1317                                 <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;U&gt; mergeFunction,
<a id="L1318" name="L1318"></a>1318                                 <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;M&gt; mapSupplier) <em class="brace">{</em>
<a id="L1319" name="L1319"></a>1319         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;M, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>
<a id="L1320" name="L1320"></a>1320                 = (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) -&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/27630.html" title="Multiple defined in 17 places.">merge</a>(keyMapper.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>),
<a id="L1321" name="L1321"></a>1321                                               valueMapper.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>), mergeFunction);
<a id="L1322" name="L1322"></a>1322         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(mapSupplier, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, <a href="../S/910.html#L317" title="Defined at 317 in src/java/util/stream/Collectors.java.">mapMerger</a>(mergeFunction), CH_ID);
<a id="L1323" name="L1323"></a>1323     <em class="brace">}</em>
<a id="L1324" name="L1324"></a>1324 
<div class="comment">
      Returns a concurrent <code>Collector</code> that accumulates elements into a
      <code>ConcurrentMap</code> whose keys and values are the result of applying
      the provided mapping functions to the input elements.
      <p>If the mapped keys contains duplicates (according to
      {@link Object#equals(Object)}), an <code>IllegalStateException</code> is
      thrown when the collection operation is performed.  If the mapped keys
      may have duplicates, use
      {@link #toConcurrentMap(Function, Function, BinaryOperator)} instead.
      @apiNote
      It is common for either the key or the value to be the input elements.
      In this case, the utility method
      {@link java.util.function.Function#identity()} may be helpful.
      For example, the following produces a <code>Map</code> mapping
      students to their grade point average:
      </p><pre>{@code
          Map<student, double> studentToGPA
              students.stream().collect(toMap(Functions.identity(),
                                              student -&gt; computeGPA(student)));
      }</student,></pre>
      And the following produces a <code>Map</code> mapping a unique identifier to
      students:
      <pre>{@code
          Map<string, student> studentIdToStudent
              students.stream().collect(toConcurrentMap(Student::getId,
                                                        Functions.identity());
      }</string,></pre>
      <p>This is a {@link Collector.Characteristics#CONCURRENT concurrent} and
      {@link Collector.Characteristics#UNORDERED unordered} Collector.
      @param <t> the type of the input elements
      @param <k> the output type of the key mapping function
      @param <u> the output type of the value mapping function
      @param keyMapper the mapping function to produce keys
      @param valueMapper the mapping function to produce values
      @return a concurrent, unordered <code>Collector</code> which collects elements into a
      <code>ConcurrentMap</code> whose keys are the result of applying a key mapping
      function to the input elements, and whose values are the result of
      applying a value mapping function to the input elements
      @see #toMap(Function, Function)
      @see #toConcurrentMap(Function, Function, BinaryOperator)
      @see #toConcurrentMap(Function, Function, BinaryOperator, Supplier)</u></k></t></p></div>
<a id="L1372" name="L1372"></a>1372     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, U&gt;
<a id="L1373" name="L1373"></a>1373     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K,U&gt;&gt; <a href="../R/29239.html" title="Multiple referred from 2 places.">toConcurrentMap</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; keyMapper,
<a id="L1374" name="L1374"></a>1374                                                         <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; valueMapper) <em class="brace">{</em>
<a id="L1375" name="L1375"></a>1375         <strong class="reserved">return</strong> <a href="../D/35379.html" title="Multiple defined in 3 places.">toConcurrentMap</a>(keyMapper, valueMapper, <a href="../S/910.html#L132" title="Defined at 132 in src/java/util/stream/Collectors.java.">throwingMerger</a>(), <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>::<strong class="reserved">new</strong>);
<a id="L1376" name="L1376"></a>1376     <em class="brace">}</em>
<a id="L1377" name="L1377"></a>1377 
<div class="comment">
      Returns a concurrent <code>Collector</code> that accumulates elements into a
      <code>ConcurrentMap</code> whose keys and values are the result of applying
      the provided mapping functions to the input elements.
      <p>If the mapped keys contains duplicates (according to {@link Object#equals(Object)}),
      the value mapping function is applied to each equal element, and the
      results are merged using the provided merging function.
      @apiNote
      There are multiple ways to deal with collisions between multiple elements
      mapping to the same key.  The other forms of <code>toConcurrentMap</code> simply use
      a merge function that throws unconditionally, but you can easily write
      more flexible merge policies.  For example, if you have a stream
      of <code>Person</code>, and you want to produce a "phone book" mapping name to
      address, but it is possible that two persons have the same name, you can
      do as follows to gracefully deals with these collisions, and produce a
      <code>Map</code> mapping names to a concatenated list of addresses:
      </p><pre>{@code
          Map<string, string> phoneBook
              people.stream().collect(toConcurrentMap(Person::getName,
                                                      Person::getAddress,
                                                      (s, a) -&gt; s + ", " + a));
      }</string,></pre>
      <p>This is a {@link Collector.Characteristics#CONCURRENT concurrent} and
      {@link Collector.Characteristics#UNORDERED unordered} Collector.
      @param <t> the type of the input elements
      @param <k> the output type of the key mapping function
      @param <u> the output type of the value mapping function
      @param keyMapper a mapping function to produce keys
      @param valueMapper a mapping function to produce values
      @param mergeFunction a merge function, used to resolve collisions between
                           values associated with the same key, as supplied
                           to {@link Map#merge(Object, Object, BiFunction)}
      @return a concurrent, unordered <code>Collector</code> which collects elements into a
      <code>ConcurrentMap</code> whose keys are the result of applying a key mapping
      function to the input elements, and whose values are the result of
      applying a value mapping function to all input elements equal to the key
      and combining them using the merge function
      @see #toConcurrentMap(Function, Function)
      @see #toConcurrentMap(Function, Function, BinaryOperator, Supplier)
      @see #toMap(Function, Function, BinaryOperator)</u></k></t></p></div>
<a id="L1424" name="L1424"></a>1424     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, U&gt;
<a id="L1425" name="L1425"></a>1425     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K,U&gt;&gt;
<a id="L1426" name="L1426"></a>1426     <a href="../R/29239.html" title="Multiple referred from 2 places.">toConcurrentMap</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; keyMapper,
<a id="L1427" name="L1427"></a>1427                     <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; valueMapper,
<a id="L1428" name="L1428"></a>1428                     <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;U&gt; mergeFunction) <em class="brace">{</em>
<a id="L1429" name="L1429"></a>1429         <strong class="reserved">return</strong> <a href="../D/35379.html" title="Multiple defined in 3 places.">toConcurrentMap</a>(keyMapper, valueMapper, mergeFunction, <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>::<strong class="reserved">new</strong>);
<a id="L1430" name="L1430"></a>1430     <em class="brace">}</em>
<a id="L1431" name="L1431"></a>1431 
<div class="comment">
      Returns a concurrent <code>Collector</code> that accumulates elements into a
      <code>ConcurrentMap</code> whose keys and values are the result of applying
      the provided mapping functions to the input elements.
      <p>If the mapped keys contains duplicates (according to {@link Object#equals(Object)}),
      the value mapping function is applied to each equal element, and the
      results are merged using the provided merging function.  The
      <code>ConcurrentMap</code> is created by a provided supplier function.
      </p><p>This is a {@link Collector.Characteristics#CONCURRENT concurrent} and
      {@link Collector.Characteristics#UNORDERED unordered} Collector.
      @param <t> the type of the input elements
      @param <k> the output type of the key mapping function
      @param <u> the output type of the value mapping function
      @param <m> the type of the resulting <code>ConcurrentMap</code>
      @param keyMapper a mapping function to produce keys
      @param valueMapper a mapping function to produce values
      @param mergeFunction a merge function, used to resolve collisions between
                           values associated with the same key, as supplied
                           to {@link Map#merge(Object, Object, BiFunction)}
      @param mapSupplier a function which returns a new, empty <code>Map</code> into
                         which the results will be inserted
      @return a concurrent, unordered <code>Collector</code> which collects elements into a
      <code>ConcurrentMap</code> whose keys are the result of applying a key mapping
      function to the input elements, and whose values are the result of
      applying a value mapping function to all input elements equal to the key
      and combining them using the merge function
      @see #toConcurrentMap(Function, Function)
      @see #toConcurrentMap(Function, Function, BinaryOperator)
      @see #toMap(Function, Function, BinaryOperator, Supplier)</m></u></k></t></p></div>
<a id="L1466" name="L1466"></a>1466     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, K, U, M <strong class="reserved">extends</strong> <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;K, U&gt;&gt;
<a id="L1467" name="L1467"></a>1467     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, M&gt; <a href="../R/29239.html" title="Multiple referred from 2 places.">toConcurrentMap</a>(<a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> K&gt; keyMapper,
<a id="L1468" name="L1468"></a>1468                                        <a href="../D/3453.html" title="Multiple defined in 3 places.">Function</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ? <strong class="reserved">extends</strong> U&gt; valueMapper,
<a id="L1469" name="L1469"></a>1469                                        <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;U&gt; mergeFunction,
<a id="L1470" name="L1470"></a>1470                                        <a href="../S/949.html#L41" title="Defined at 41 in src/java/util/function/Supplier.java.">Supplier</a>&lt;M&gt; mapSupplier) <em class="brace">{</em>
<a id="L1471" name="L1471"></a>1471         <a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;M, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>
<a id="L1472" name="L1472"></a>1472                 = (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) -&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/27630.html" title="Multiple defined in 17 places.">merge</a>(keyMapper.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>),
<a id="L1473" name="L1473"></a>1473                                               valueMapper.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>), mergeFunction);
<a id="L1474" name="L1474"></a>1474         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;&gt;(mapSupplier, <a href="../D/10573.html" title="Multiple defined in 2 places.">accumulator</a>, <a href="../S/910.html#L317" title="Defined at 317 in src/java/util/stream/Collectors.java.">mapMerger</a>(mergeFunction), CH_CONCURRENT_ID);
<a id="L1475" name="L1475"></a>1475     <em class="brace">}</em>
<a id="L1476" name="L1476"></a>1476 
<div class="comment">
      Returns a <code>Collector</code> which applies an <code>int</code>-producing
      mapping function to each input element, and returns summary statistics
      for the resulting values.
      @param <t> the type of the input elements
      @param mapper a mapping function to apply to each element
      @return a <code>Collector</code> implementing the summary-statistics reduction
      @see #summarizingDouble(ToDoubleFunction)
      @see #summarizingLong(ToLongFunction)</t></div>
<a id="L1489" name="L1489"></a>1489     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1490" name="L1490"></a>1490     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/855.html#L65" title="Defined at 65 in src/java/util/IntSummaryStatistics.java.">IntSummaryStatistics</a>&gt; summarizingInt(<a href="../S/960.html#L40" title="Defined at 40 in src/java/util/function/ToIntFunction.java.">ToIntFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<a id="L1491" name="L1491"></a>1491         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, <a href="../S/855.html#L65" title="Defined at 65 in src/java/util/IntSummaryStatistics.java.">IntSummaryStatistics</a>, <a href="../S/855.html#L65" title="Defined at 65 in src/java/util/IntSummaryStatistics.java.">IntSummaryStatistics</a>&gt;(
<a id="L1492" name="L1492"></a>1492                 <a href="../S/855.html#L65" title="Defined at 65 in src/java/util/IntSummaryStatistics.java.">IntSummaryStatistics</a>::<strong class="reserved">new</strong>,
<a id="L1493" name="L1493"></a>1493                 (r, t) -&gt; r.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(mapper.<a href="../D/11443.html" title="Multiple defined in 6 places.">applyAsInt</a>(t)),
<a id="L1494" name="L1494"></a>1494                 (l, r) -&gt; <em class="brace">{</em> l.<a href="../D/13006.html" title="Multiple defined in 21 places.">combine</a>(r); <strong class="reserved">return</strong> l; <em class="brace">}</em>, CH_ID);
<a id="L1495" name="L1495"></a>1495     <em class="brace">}</em>
<a id="L1496" name="L1496"></a>1496 
<div class="comment">
      Returns a <code>Collector</code> which applies an <code>long</code>-producing
      mapping function to each input element, and returns summary statistics
      for the resulting values.
      @param <t> the type of the input elements
      @param mapper the mapping function to apply to each element
      @return a <code>Collector</code> implementing the summary-statistics reduction
      @see #summarizingDouble(ToDoubleFunction)
      @see #summarizingInt(ToIntFunction)</t></div>
<a id="L1509" name="L1509"></a>1509     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1510" name="L1510"></a>1510     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/876.html#L66" title="Defined at 66 in src/java/util/LongSummaryStatistics.java.">LongSummaryStatistics</a>&gt; summarizingLong(<a href="../S/972.html#L40" title="Defined at 40 in src/java/util/function/ToLongFunction.java.">ToLongFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<a id="L1511" name="L1511"></a>1511         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, <a href="../S/876.html#L66" title="Defined at 66 in src/java/util/LongSummaryStatistics.java.">LongSummaryStatistics</a>, <a href="../S/876.html#L66" title="Defined at 66 in src/java/util/LongSummaryStatistics.java.">LongSummaryStatistics</a>&gt;(
<a id="L1512" name="L1512"></a>1512                 <a href="../S/876.html#L66" title="Defined at 66 in src/java/util/LongSummaryStatistics.java.">LongSummaryStatistics</a>::<strong class="reserved">new</strong>,
<a id="L1513" name="L1513"></a>1513                 (r, t) -&gt; r.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(mapper.<a href="../D/11444.html" title="Multiple defined in 6 places.">applyAsLong</a>(t)),
<a id="L1514" name="L1514"></a>1514                 (l, r) -&gt; <em class="brace">{</em> l.<a href="../D/13006.html" title="Multiple defined in 21 places.">combine</a>(r); <strong class="reserved">return</strong> l; <em class="brace">}</em>, CH_ID);
<a id="L1515" name="L1515"></a>1515     <em class="brace">}</em>
<a id="L1516" name="L1516"></a>1516 
<div class="comment">
      Returns a <code>Collector</code> which applies an <code>double</code>-producing
      mapping function to each input element, and returns summary statistics
      for the resulting values.
      @param <t> the type of the input elements
      @param mapper a mapping function to apply to each element
      @return a <code>Collector</code> implementing the summary-statistics reduction
      @see #summarizingLong(ToLongFunction)
      @see #summarizingInt(ToIntFunction)</t></div>
<a id="L1529" name="L1529"></a>1529     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1530" name="L1530"></a>1530     <a href="../S/895.html#L197" title="Defined at 197 in src/java/util/stream/Collector.java.">Collector</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, ?, <a href="../S/929.html#L63" title="Defined at 63 in src/java/util/DoubleSummaryStatistics.java.">DoubleSummaryStatistics</a>&gt; summarizingDouble(<a href="../S/940.html#L40" title="Defined at 40 in src/java/util/function/ToDoubleFunction.java.">ToDoubleFunction</a>&lt;? <strong class="reserved">super</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; mapper) <em class="brace">{</em>
<a id="L1531" name="L1531"></a>1531         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/910.html#L147" title="Defined at 147 in src/java/util/stream/Collectors.java.">CollectorImpl</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, <a href="../S/929.html#L63" title="Defined at 63 in src/java/util/DoubleSummaryStatistics.java.">DoubleSummaryStatistics</a>, <a href="../S/929.html#L63" title="Defined at 63 in src/java/util/DoubleSummaryStatistics.java.">DoubleSummaryStatistics</a>&gt;(
<a id="L1532" name="L1532"></a>1532                 <a href="../S/929.html#L63" title="Defined at 63 in src/java/util/DoubleSummaryStatistics.java.">DoubleSummaryStatistics</a>::<strong class="reserved">new</strong>,
<a id="L1533" name="L1533"></a>1533                 (r, t) -&gt; r.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(mapper.<a href="../D/11442.html" title="Multiple defined in 6 places.">applyAsDouble</a>(t)),
<a id="L1534" name="L1534"></a>1534                 (l, r) -&gt; <em class="brace">{</em> l.<a href="../D/13006.html" title="Multiple defined in 21 places.">combine</a>(r); <strong class="reserved">return</strong> l; <em class="brace">}</em>, CH_ID);
<a id="L1535" name="L1535"></a>1535     <em class="brace">}</em>
<a id="L1536" name="L1536"></a>1536 
<div class="comment">
      Implementation class used by partitioningBy.</div>
<a id="L1540" name="L1540"></a>1540     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6062.html" title="Multiple referred from 7 places.">Partition</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1541" name="L1541"></a>1541             <strong class="reserved">extends</strong> <a href="../S/1135.html#L68" title="Defined at 68 in src/java/util/AbstractMap.java.">AbstractMap</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1542" name="L1542"></a>1542             <strong class="reserved">implements</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <em class="brace">{</em>
<a id="L1543" name="L1543"></a>1543         <strong class="reserved">final</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> forTrue;
<a id="L1544" name="L1544"></a>1544         <strong class="reserved">final</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> forFalse;
<a id="L1545" name="L1545"></a>1545 
<a id="L1546" name="L1546"></a>1546         Partition(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> forTrue, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> forFalse) <em class="brace">{</em>
<a id="L1547" name="L1547"></a>1547             <strong class="reserved">this</strong>.forTrue = forTrue;
<a id="L1548" name="L1548"></a>1548             <strong class="reserved">this</strong>.forFalse = forFalse;
<a id="L1549" name="L1549"></a>1549         <em class="brace">}</em>
<a id="L1550" name="L1550"></a>1550 
<a id="L1551" name="L1551"></a>1551         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1552" name="L1552"></a>1552         <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt; <a href="../R/13962.html" title="Multiple referred from 210 places.">entrySet</a>() <em class="brace">{</em>
<a id="L1553" name="L1553"></a>1553             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/869.html#L58" title="Defined at 58 in src/java/util/AbstractSet.java.">AbstractSet</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt;() <em class="brace">{</em>
<a id="L1554" name="L1554"></a>1554                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1555" name="L1555"></a>1555                 <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;&gt; <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>() <em class="brace">{</em>
<a id="L1556" name="L1556"></a>1556                     <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; falseEntry = <strong class="reserved">new</strong> <a href="../S/1135.html#L714" title="Defined at 714 in src/java/util/AbstractMap.java.">SimpleImmutableEntry</a>&lt;&gt;(<strong class="reserved">false</strong>, forFalse);
<a id="L1557" name="L1557"></a>1557                     <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; trueEntry = <strong class="reserved">new</strong> <a href="../S/1135.html#L714" title="Defined at 714 in src/java/util/AbstractMap.java.">SimpleImmutableEntry</a>&lt;&gt;(<strong class="reserved">true</strong>, forTrue);
<a id="L1558" name="L1558"></a>1558                     <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>(falseEntry, trueEntry).<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1559" name="L1559"></a>1559                 <em class="brace">}</em>
<a id="L1560" name="L1560"></a>1560 
<a id="L1561" name="L1561"></a>1561                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1562" name="L1562"></a>1562                 <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() <em class="brace">{</em>
<a id="L1563" name="L1563"></a>1563                     <strong class="reserved">return</strong> 2;
<a id="L1564" name="L1564"></a>1564                 <em class="brace">}</em>
<a id="L1565" name="L1565"></a>1565             <em class="brace">}</em>;
<a id="L1566" name="L1566"></a>1566         <em class="brace">}</em>
<a id="L1567" name="L1567"></a>1567     <em class="brace">}</em>
<a id="L1568" name="L1568"></a>1568 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L132">[^]</a><a href="#L1552">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>