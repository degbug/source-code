<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L105">[^]</a><a href="#L433">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L105" title="Defined at 105.">newUpdater</a></li>
<li><a href="#L130" title="Defined at 130.">compareAndSet</a></li>
<li><a href="#L148" title="Defined at 148.">weakCompareAndSet</a></li>
<li><a href="#L158" title="Defined at 158.">set</a></li>
<li><a href="#L168" title="Defined at 168.">lazySet</a></li>
<li><a href="#L177" title="Defined at 177.">get</a></li>
<li><a href="#L187" title="Defined at 187.">getAndSet</a></li>
<li><a href="#L206" title="Defined at 206.">getAndUpdate</a></li>
<li><a href="#L226" title="Defined at 226.">updateAndGet</a></li>
<li><a href="#L250" title="Defined at 250.">getAndAccumulate</a></li>
<li><a href="#L275" title="Defined at 275.">accumulateAndGet</a></li>
<li><a href="#L358" title="Defined at 358.">isAncestor</a></li>
<li><a href="#L369" title="Defined at 369.">targetCheck</a></li>
<li><a href="#L376" title="Defined at 376.">updateCheck</a></li>
<li><a href="#L384" title="Defined at 384.">compareAndSet</a></li>
<li><a href="#L392" title="Defined at 392.">weakCompareAndSet</a></li>
<li><a href="#L401" title="Defined at 401.">set</a></li>
<li><a href="#L409" title="Defined at 409.">lazySet</a></li>
<li><a href="#L417" title="Defined at 417.">SuppressWarnings</a></li>
<li><a href="#L418" title="Defined at 418.">get</a></li>
<li><a href="#L424" title="Defined at 424.">SuppressWarnings</a></li>
<li><a href="#L425" title="Defined at 425.">getAndSet</a></li>
<li><a href="#L433" title="Defined at 433.">ensureProtectedAccess</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L24" name="L24"></a>  24 
<div class="comment">
  Written by Doug Lea with assistance from members of JCP JSR-166
  Expert Group and released to the public domain, as explained at
  http://creativecommons.org/publicdomain/zero/1.0/</div>
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.concurrent.atomic;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.function.UnaryOperator;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.function.BinaryOperator;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> sun.misc.Unsafe;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.lang.reflect.Field;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.lang.reflect.Modifier;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.security.PrivilegedExceptionAction;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.security.PrivilegedActionException;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> sun.reflect.CallerSensitive;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> sun.reflect.Reflection;
<a id="L47" name="L47"></a>  47 
<div class="comment">
  A reflection-based utility that enables atomic updates to
  designated <code>volatile</code> reference fields of designated
  classes.  This class is designed for use in atomic data structures
  in which several reference fields of the same node are
  independently subject to atomic updates. For example, a tree node
  might be declared as
   <pre> {@code
  class Node {
    private volatile Node left, right;
    private static final AtomicReferenceFieldUpdater<node, node> leftUpdater =
      AtomicReferenceFieldUpdater.newUpdater(Node.class, Node.class, "left");
    private static AtomicReferenceFieldUpdater<node, node> rightUpdater =
      AtomicReferenceFieldUpdater.newUpdater(Node.class, Node.class, "right");
    Node getLeft() { return left;  }
    boolean compareAndSetLeft(Node expect, Node update) {
      return leftUpdater.compareAndSet(this, expect, update);
    }
    // ... and so on
  }}</node,></node,></pre>
  <p>Note that the guarantees of the <code>compareAndSet</code>
  method in this class are weaker than in other atomic classes.
  Because this class cannot ensure that all uses of the field
  are appropriate for purposes of atomic access, it can
  guarantee atomicity only with respect to other invocations of
  <code>compareAndSet</code> and <code>set</code> on the same updater.
  @since 1.5
  @author Doug Lea
  @param <t> The type of the object holding the updatable field
  @param <v> The type of the field</v></t></p></div>
<a id="L84" name="L84"></a>  84 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/506.html" title="Multiple referred from 11 places.">AtomicReferenceFieldUpdater</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>,V&gt; <em class="brace">{</em>
<a id="L85" name="L85"></a>  85 
<div class="comment">
      Creates and returns an updater for objects with the given field.
      The Class arguments are needed to check that reflective types and
      generic types match.
      @param tclass the class of the objects holding the field
      @param vclass the class of the field
      @param fieldName the name of the field to be updated
      @param <u> the type of instances of tclass
      @param <w> the type of instances of vclass
      @return the updater
      @throws ClassCastException if the field is of the wrong type
      @throws IllegalArgumentException if the field is not volatile
      @throws RuntimeException with a nested reflection-based
      exception if the class does not hold field or is the wrong type,
      or the field is inaccessible to the caller according to Java language
      access control</w></u></div>
<a id="L104" name="L104"></a> 104     @CallerSensitive
<a id="L105" name="L105"></a> 105     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;U,W&gt; <a href="../S/1086.html#L84" title="Defined at 84 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">AtomicReferenceFieldUpdater</a>&lt;U,W&gt; <a href="../R/23636.html" title="Multiple referred from 3 places.">newUpdater</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;U&gt; tclass,
<a id="L106" name="L106"></a> 106                                                                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;W&gt; vclass,
<a id="L107" name="L107"></a> 107                                                                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7700.html#L51" title="Defined at 51 in src/com/sun/javadoc/SerialFieldTag.java.">fieldName</a>) <em class="brace">{</em>
<a id="L108" name="L108"></a> 108         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1086.html#L285" title="Defined at 285 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">AtomicReferenceFieldUpdaterImpl</a>&lt;U,W&gt;
<a id="L109" name="L109"></a> 109             (tclass, vclass, <a href="../S/7700.html#L51" title="Defined at 51 in src/com/sun/javadoc/SerialFieldTag.java.">fieldName</a>, Reflection.getCallerClass());
<a id="L110" name="L110"></a> 110     <em class="brace">}</em>
<a id="L111" name="L111"></a> 111 
<div class="comment">
      Protected do-nothing constructor for use by subclasses.</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">protected</strong> AtomicReferenceFieldUpdater() <em class="brace">{</em>
<a id="L116" name="L116"></a> 116     <em class="brace">}</em>
<a id="L117" name="L117"></a> 117 
<div class="comment">
      Atomically sets the field of the given object managed by this updater
      to the given updated value if the current value <code>==</code> the
      expected value. This method is guaranteed to be atomic with respect to
      other calls to <code>compareAndSet</code> and <code>set</code>, but not
      necessarily with respect to other changes in the field.
      @param obj An object whose field to conditionally set
      @param expect the expected value
      @param update the new value
      @return <code>true</code> if successful</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/11694.html" title="Multiple referred from 69 places.">compareAndSet</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V expect, V <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>);
<a id="L131" name="L131"></a> 131 
<div class="comment">
      Atomically sets the field of the given object managed by this updater
      to the given updated value if the current value <code>==</code> the
      expected value. This method is guaranteed to be atomic with respect to
      other calls to <code>compareAndSet</code> and <code>set</code>, but not
      necessarily with respect to other changes in the field.
      <p><a href="package-summary.html#weakCompareAndSet">May fail
      spuriously and does not provide ordering guarantees</a>, so is
      only rarely an appropriate alternative to <code>compareAndSet</code>.
      @param obj An object whose field to conditionally set
      @param expect the expected value
      @param update the new value
      @return <code>true</code> if successful</p></div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> weakCompareAndSet(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V expect, V <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>);
<a id="L149" name="L149"></a> 149 
<div class="comment">
      Sets the field of the given object managed by this updater to the
      given updated value. This operation is guaranteed to act as a volatile
      store with respect to subsequent invocations of <code>compareAndSet</code>.
      @param obj An object whose field to set
      @param newValue the new value</div>
<a id="L158" name="L158"></a> 158     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/26855.html" title="Multiple referred from 752 places.">set</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V newValue);
<a id="L159" name="L159"></a> 159 
<div class="comment">
      Eventually sets the field of the given object managed by this
      updater to the given updated value.
      @param obj An object whose field to set
      @param newValue the new value
      @since 1.6</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../S/1608.html#L276" title="Referred from 276 in src/java/lang/invoke/MutableCallSite.java.">lazySet</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V newValue);
<a id="L169" name="L169"></a> 169 
<div class="comment">
      Gets the current value held in the field of the given object managed
      by this updater.
      @param obj An object whose field to get
      @return the current value</div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> V <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj);
<a id="L178" name="L178"></a> 178 
<div class="comment">
      Atomically sets the field of the given object managed by this updater
      to the given value and returns the old value.
      @param obj An object whose field to get and set
      @param newValue the new value
      @return the previous value</div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">public</strong> V <a href="../R/15062.html" title="Multiple referred from 5 places.">getAndSet</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V newValue) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188         V prev;
<a id="L189" name="L189"></a> 189         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L190" name="L190"></a> 190             prev = <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(obj);
<a id="L191" name="L191"></a> 191         <em class="brace">}</em> <strong class="reserved">while</strong> (!<a href="../D/13035.html" title="Multiple defined in 16 places.">compareAndSet</a>(obj, prev, newValue));
<a id="L192" name="L192"></a> 192         <strong class="reserved">return</strong> prev;
<a id="L193" name="L193"></a> 193     <em class="brace">}</em>
<a id="L194" name="L194"></a> 194 
<div class="comment">
      Atomically updates the field of the given object managed by this updater
      with the results of applying the given function, returning the previous
      value. The function should be side-effect-free, since it may be
      re-applied when attempted updates fail due to contention among threads.
      @param obj An object whose field to get and set
      @param updateFunction a side-effect-free function
      @return the previous value
      @since 1.8</div>
<a id="L206" name="L206"></a> 206     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V getAndUpdate(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, <a href="../S/974.html#L41" title="Defined at 41 in src/java/util/function/UnaryOperator.java.">UnaryOperator</a>&lt;V&gt; updateFunction) <em class="brace">{</em>
<a id="L207" name="L207"></a> 207         V prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L208" name="L208"></a> 208         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L209" name="L209"></a> 209             prev = <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(obj);
<a id="L210" name="L210"></a> 210             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = updateFunction.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(prev);
<a id="L211" name="L211"></a> 211         <em class="brace">}</em> <strong class="reserved">while</strong> (!<a href="../D/13035.html" title="Multiple defined in 16 places.">compareAndSet</a>(obj, prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>));
<a id="L212" name="L212"></a> 212         <strong class="reserved">return</strong> prev;
<a id="L213" name="L213"></a> 213     <em class="brace">}</em>
<a id="L214" name="L214"></a> 214 
<div class="comment">
      Atomically updates the field of the given object managed by this updater
      with the results of applying the given function, returning the updated
      value. The function should be side-effect-free, since it may be
      re-applied when attempted updates fail due to contention among threads.
      @param obj An object whose field to get and set
      @param updateFunction a side-effect-free function
      @return the updated value
      @since 1.8</div>
<a id="L226" name="L226"></a> 226     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V updateAndGet(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, <a href="../S/974.html#L41" title="Defined at 41 in src/java/util/function/UnaryOperator.java.">UnaryOperator</a>&lt;V&gt; updateFunction) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         V prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L228" name="L228"></a> 228         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L229" name="L229"></a> 229             prev = <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(obj);
<a id="L230" name="L230"></a> 230             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = updateFunction.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(prev);
<a id="L231" name="L231"></a> 231         <em class="brace">}</em> <strong class="reserved">while</strong> (!<a href="../D/13035.html" title="Multiple defined in 16 places.">compareAndSet</a>(obj, prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>));
<a id="L232" name="L232"></a> 232         <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L233" name="L233"></a> 233     <em class="brace">}</em>
<a id="L234" name="L234"></a> 234 
<div class="comment">
      Atomically updates the field of the given object managed by this
      updater with the results of applying the given function to the
      current and given values, returning the previous value. The
      function should be side-effect-free, since it may be re-applied
      when attempted updates fail due to contention among threads.  The
      function is applied with the current value as its first argument,
      and the given update as the second argument.
      @param obj An object whose field to get and set
      @param x the update value
      @param accumulatorFunction a side-effect-free function of two arguments
      @return the previous value
      @since 1.8</div>
<a id="L250" name="L250"></a> 250     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V getAndAccumulate(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,
<a id="L251" name="L251"></a> 251                                     <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;V&gt; accumulatorFunction) <em class="brace">{</em>
<a id="L252" name="L252"></a> 252         V prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L253" name="L253"></a> 253         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L254" name="L254"></a> 254             prev = <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(obj);
<a id="L255" name="L255"></a> 255             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = accumulatorFunction.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(prev, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L256" name="L256"></a> 256         <em class="brace">}</em> <strong class="reserved">while</strong> (!<a href="../D/13035.html" title="Multiple defined in 16 places.">compareAndSet</a>(obj, prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>));
<a id="L257" name="L257"></a> 257         <strong class="reserved">return</strong> prev;
<a id="L258" name="L258"></a> 258     <em class="brace">}</em>
<a id="L259" name="L259"></a> 259 
<div class="comment">
      Atomically updates the field of the given object managed by this
      updater with the results of applying the given function to the
      current and given values, returning the updated value. The
      function should be side-effect-free, since it may be re-applied
      when attempted updates fail due to contention among threads.  The
      function is applied with the current value as its first argument,
      and the given update as the second argument.
      @param obj An object whose field to get and set
      @param x the update value
      @param accumulatorFunction a side-effect-free function of two arguments
      @return the updated value
      @since 1.8</div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V accumulateAndGet(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,
<a id="L276" name="L276"></a> 276                                     <a href="../S/968.html#L46" title="Defined at 46 in src/java/util/function/BinaryOperator.java.">BinaryOperator</a>&lt;V&gt; accumulatorFunction) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277         V prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L278" name="L278"></a> 278         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L279" name="L279"></a> 279             prev = <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(obj);
<a id="L280" name="L280"></a> 280             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = accumulatorFunction.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>(prev, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L281" name="L281"></a> 281         <em class="brace">}</em> <strong class="reserved">while</strong> (!<a href="../D/13035.html" title="Multiple defined in 16 places.">compareAndSet</a>(obj, prev, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>));
<a id="L282" name="L282"></a> 282         <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L283" name="L283"></a> 283     <em class="brace">}</em>
<a id="L284" name="L284"></a> 284 
<a id="L285" name="L285"></a> 285     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1086.html#L108" title="Referred from 108 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">AtomicReferenceFieldUpdaterImpl</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>,V&gt;
<a id="L286" name="L286"></a> 286         <strong class="reserved">extends</strong> <a href="../S/1086.html#L84" title="Defined at 84 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">AtomicReferenceFieldUpdater</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>,V&gt; <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> Unsafe <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a> = Unsafe.getUnsafe();
<a id="L288" name="L288"></a> 288         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L289" name="L289"></a> 289         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; tclass;
<a id="L290" name="L290"></a> 290         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;V&gt; vclass;
<a id="L291" name="L291"></a> 291         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; cclass;
<a id="L292" name="L292"></a> 292 
<div class="comment">
          Internal type checks within all update methods contain
          internal inlined optimizations checking for the common
          cases where the class is final (in which case a simple
          getClass comparison suffices) or is of type Object (in
          which case no check is needed because all objects are
          instances of Object). The Object case is handled simply by
          setting vclass to null in constructor.  The targetCheck and
          updateCheck methods are invoked when these faster
          screenings fail.</div>
<a id="L304" name="L304"></a> 304 
<a id="L305" name="L305"></a> 305         AtomicReferenceFieldUpdaterImpl(<strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; tclass,
<a id="L306" name="L306"></a> 306                                         <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;V&gt; vclass,
<a id="L307" name="L307"></a> 307                                         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7700.html#L51" title="Defined at 51 in src/com/sun/javadoc/SerialFieldTag.java.">fieldName</a>,
<a id="L308" name="L308"></a> 308                                         <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; caller) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309             <strong class="reserved">final</strong> <a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> field;
<a id="L310" name="L310"></a> 310             <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; fieldClass;
<a id="L311" name="L311"></a> 311             <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a>;
<a id="L312" name="L312"></a> 312             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L313" name="L313"></a> 313                 field = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L314" name="L314"></a> 314                     <strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>&gt;() <em class="brace">{</em>
<a id="L315" name="L315"></a> 315                         <strong class="reserved">public</strong> <a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1573.html#L34" title="Defined at 34 in src/java/lang/NoSuchFieldException.java.">NoSuchFieldException</a> <em class="brace">{</em>
<a id="L316" name="L316"></a> 316                             <strong class="reserved">return</strong> tclass.<a href="../S/1722.html#L2065" title="Defined at 2065 in src/java/lang/Class.java.">getDeclaredField</a>(<a href="../S/7700.html#L51" title="Defined at 51 in src/com/sun/javadoc/SerialFieldTag.java.">fieldName</a>);
<a id="L317" name="L317"></a> 317                         <em class="brace">}</em>
<a id="L318" name="L318"></a> 318                     <em class="brace">}</em>);
<a id="L319" name="L319"></a> 319                 <a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a> = field.<a href="../D/20712.html" title="Multiple defined in 18 places.">getModifiers</a>();
<a id="L320" name="L320"></a> 320                 sun.reflect.misc.ReflectUtil.ensureMemberAccess(
<a id="L321" name="L321"></a> 321                     caller, tclass, <strong class="reserved">null</strong>, <a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a>);
<a id="L322" name="L322"></a> 322                 <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> cl = tclass.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L323" name="L323"></a> 323                 <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> ccl = caller.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L324" name="L324"></a> 324                 <strong class="reserved">if</strong> ((ccl != <strong class="reserved">null</strong>) &amp;&amp; (ccl != cl) &amp;&amp;
<a id="L325" name="L325"></a> 325                     ((cl == <strong class="reserved">null</strong>) || !<a href="../D/25187.html" title="Multiple defined in 5 places.">isAncestor</a>(cl, ccl))) <em class="brace">{</em>
<a id="L326" name="L326"></a> 326                   sun.reflect.misc.ReflectUtil.<a href="../D/12578.html" title="Multiple defined in 3 places.">checkPackageAccess</a>(tclass);
<a id="L327" name="L327"></a> 327                 <em class="brace">}</em>
<a id="L328" name="L328"></a> 328                 fieldClass = field.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L329" name="L329"></a> 329             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> pae) <em class="brace">{</em>
<a id="L330" name="L330"></a> 330                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(pae.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>());
<a id="L331" name="L331"></a> 331             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L333" name="L333"></a> 333             <em class="brace">}</em>
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335             <strong class="reserved">if</strong> (vclass != fieldClass)
<a id="L336" name="L336"></a> 336                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a>();
<a id="L337" name="L337"></a> 337             <strong class="reserved">if</strong> (vclass.<a href="../D/26086.html" title="Multiple defined in 8 places.">isPrimitive</a>())
<a id="L338" name="L338"></a> 338                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Must be reference type");
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340             <strong class="reserved">if</strong> (!<a href="../D/5688.html" title="Multiple defined in 3 places.">Modifier</a>.<a href="../D/26494.html" title="Multiple defined in 5 places.">isVolatile</a>(<a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a>))
<a id="L341" name="L341"></a> 341                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Must be volatile type");
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343             <strong class="reserved">this</strong>.cclass = (<a href="../D/5688.html" title="Multiple defined in 3 places.">Modifier</a>.<a href="../D/26106.html" title="Multiple defined in 5 places.">isProtected</a>(<a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a>) &amp;&amp;
<a id="L344" name="L344"></a> 344                            caller != tclass) ? caller : <strong class="reserved">null</strong>;
<a id="L345" name="L345"></a> 345             <strong class="reserved">this</strong>.tclass = tclass;
<a id="L346" name="L346"></a> 346             <strong class="reserved">if</strong> (vclass == <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>.<strong class="reserved">class</strong>)
<a id="L347" name="L347"></a> 347                 <strong class="reserved">this</strong>.vclass = <strong class="reserved">null</strong>;
<a id="L348" name="L348"></a> 348             <strong class="reserved">else</strong>
<a id="L349" name="L349"></a> 349                 <strong class="reserved">this</strong>.vclass = vclass;
<a id="L350" name="L350"></a> 350             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.<a href="../D/28395.html" title="Multiple defined in 5 places.">objectFieldOffset</a>(field);
<a id="L351" name="L351"></a> 351         <em class="brace">}</em>
<a id="L352" name="L352"></a> 352 
<div class="comment">
          Returns true if the second classloader can be found in the first
          classloader's delegation chain.
          Equivalent to the inaccessible: first.isAncestor(second).</div>
<a id="L358" name="L358"></a> 358         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21161.html" title="Multiple referred from 7 places.">isAncestor</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> second) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359             <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> acl = <a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>;
<a id="L360" name="L360"></a> 360             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L361" name="L361"></a> 361                 acl = acl.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L362" name="L362"></a> 362                 <strong class="reserved">if</strong> (second == acl) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L364" name="L364"></a> 364                 <em class="brace">}</em>
<a id="L365" name="L365"></a> 365             <em class="brace">}</em> <strong class="reserved">while</strong> (acl != <strong class="reserved">null</strong>);
<a id="L366" name="L366"></a> 366             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L367" name="L367"></a> 367         <em class="brace">}</em>
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369         <strong class="reserved">void</strong> <a href="../S/1086.html#L420" title="Referred from 420 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">targetCheck</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370             <strong class="reserved">if</strong> (!tclass.<a href="../S/1722.html#L483" title="Defined at 483 in src/java/lang/Class.java.">isInstance</a>(obj))
<a id="L371" name="L371"></a> 371                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a>();
<a id="L372" name="L372"></a> 372             <strong class="reserved">if</strong> (cclass != <strong class="reserved">null</strong>)
<a id="L373" name="L373"></a> 373                 <a href="../D/15628.html" title="Multiple defined in 4 places.">ensureProtectedAccess</a>(obj);
<a id="L374" name="L374"></a> 374         <em class="brace">}</em>
<a id="L375" name="L375"></a> 375 
<a id="L376" name="L376"></a> 376         <strong class="reserved">void</strong> <a href="../R/29825.html" title="Multiple referred from 5 places.">updateCheck</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377             <strong class="reserved">if</strong> (!tclass.<a href="../S/1722.html#L483" title="Defined at 483 in src/java/lang/Class.java.">isInstance</a>(obj) ||
<a id="L378" name="L378"></a> 378                 (<a href="../D/36027.html" title="Multiple defined in 124 places.">update</a> != <strong class="reserved">null</strong> &amp;&amp; vclass != <strong class="reserved">null</strong> &amp;&amp; !vclass.<a href="../S/1722.html#L483" title="Defined at 483 in src/java/lang/Class.java.">isInstance</a>(<a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>)))
<a id="L379" name="L379"></a> 379                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a>();
<a id="L380" name="L380"></a> 380             <strong class="reserved">if</strong> (cclass != <strong class="reserved">null</strong>)
<a id="L381" name="L381"></a> 381                 <a href="../D/15628.html" title="Multiple defined in 4 places.">ensureProtectedAccess</a>(obj);
<a id="L382" name="L382"></a> 382         <em class="brace">}</em>
<a id="L383" name="L383"></a> 383 
<a id="L384" name="L384"></a> 384         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11694.html" title="Multiple referred from 69 places.">compareAndSet</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V expect, V <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> || obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != tclass || cclass != <strong class="reserved">null</strong> ||
<a id="L386" name="L386"></a> 386                 (<a href="../D/36027.html" title="Multiple defined in 124 places.">update</a> != <strong class="reserved">null</strong> &amp;&amp; vclass != <strong class="reserved">null</strong> &amp;&amp;
<a id="L387" name="L387"></a> 387                  vclass != <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()))
<a id="L388" name="L388"></a> 388                 <a href="../S/1086.html#L376" title="Defined at 376 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">updateCheck</a>(obj, <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>);
<a id="L389" name="L389"></a> 389             <strong class="reserved">return</strong> <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.compareAndSwapObject(obj, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, expect, <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>);
<a id="L390" name="L390"></a> 390         <em class="brace">}</em>
<a id="L391" name="L391"></a> 391 
<a id="L392" name="L392"></a> 392         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> weakCompareAndSet(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V expect, V <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <em class="comment">// same implementation as strong form for now</em>
<a id="L394" name="L394"></a> 394             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> || obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != tclass || cclass != <strong class="reserved">null</strong> ||
<a id="L395" name="L395"></a> 395                 (<a href="../D/36027.html" title="Multiple defined in 124 places.">update</a> != <strong class="reserved">null</strong> &amp;&amp; vclass != <strong class="reserved">null</strong> &amp;&amp;
<a id="L396" name="L396"></a> 396                  vclass != <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()))
<a id="L397" name="L397"></a> 397                 <a href="../S/1086.html#L376" title="Defined at 376 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">updateCheck</a>(obj, <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>);
<a id="L398" name="L398"></a> 398             <strong class="reserved">return</strong> <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.compareAndSwapObject(obj, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, expect, <a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>);
<a id="L399" name="L399"></a> 399         <em class="brace">}</em>
<a id="L400" name="L400"></a> 400 
<a id="L401" name="L401"></a> 401         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26855.html" title="Multiple referred from 752 places.">set</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V newValue) <em class="brace">{</em>
<a id="L402" name="L402"></a> 402             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> || obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != tclass || cclass != <strong class="reserved">null</strong> ||
<a id="L403" name="L403"></a> 403                 (newValue != <strong class="reserved">null</strong> &amp;&amp; vclass != <strong class="reserved">null</strong> &amp;&amp;
<a id="L404" name="L404"></a> 404                  vclass != newValue.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()))
<a id="L405" name="L405"></a> 405                 <a href="../S/1086.html#L376" title="Defined at 376 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">updateCheck</a>(obj, newValue);
<a id="L406" name="L406"></a> 406             <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.putObjectVolatile(obj, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, newValue);
<a id="L407" name="L407"></a> 407         <em class="brace">}</em>
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/1608.html#L276" title="Referred from 276 in src/java/lang/invoke/MutableCallSite.java.">lazySet</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V newValue) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> || obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != tclass || cclass != <strong class="reserved">null</strong> ||
<a id="L411" name="L411"></a> 411                 (newValue != <strong class="reserved">null</strong> &amp;&amp; vclass != <strong class="reserved">null</strong> &amp;&amp;
<a id="L412" name="L412"></a> 412                  vclass != newValue.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()))
<a id="L413" name="L413"></a> 413                 <a href="../S/1086.html#L376" title="Defined at 376 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">updateCheck</a>(obj, newValue);
<a id="L414" name="L414"></a> 414             <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.putOrderedObject(obj, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, newValue);
<a id="L415" name="L415"></a> 415         <em class="brace">}</em>
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417         @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L418" name="L418"></a> 418         <strong class="reserved">public</strong> V <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj) <em class="brace">{</em>
<a id="L419" name="L419"></a> 419             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> || obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != tclass || cclass != <strong class="reserved">null</strong>)
<a id="L420" name="L420"></a> 420                 <a href="../S/1086.html#L369" title="Defined at 369 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">targetCheck</a>(obj);
<a id="L421" name="L421"></a> 421             <strong class="reserved">return</strong> (V)<a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.getObjectVolatile(obj, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L422" name="L422"></a> 422         <em class="brace">}</em>
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424         @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L425" name="L425"></a> 425         <strong class="reserved">public</strong> V <a href="../R/15062.html" title="Multiple referred from 5 places.">getAndSet</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj, V newValue) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> || obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != tclass || cclass != <strong class="reserved">null</strong> ||
<a id="L427" name="L427"></a> 427                 (newValue != <strong class="reserved">null</strong> &amp;&amp; vclass != <strong class="reserved">null</strong> &amp;&amp;
<a id="L428" name="L428"></a> 428                  vclass != newValue.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()))
<a id="L429" name="L429"></a> 429                 <a href="../S/1086.html#L376" title="Defined at 376 in src/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.java.">updateCheck</a>(obj, newValue);
<a id="L430" name="L430"></a> 430             <strong class="reserved">return</strong> (V)<a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.getAndSetObject(obj, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, newValue);
<a id="L431" name="L431"></a> 431         <em class="brace">}</em>
<a id="L432" name="L432"></a> 432 
<a id="L433" name="L433"></a> 433         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13938.html" title="Multiple referred from 5 places.">ensureProtectedAccess</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> obj) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             <strong class="reserved">if</strong> (cclass.<a href="../S/1722.html#L483" title="Defined at 483 in src/java/lang/Class.java.">isInstance</a>(obj)) <em class="brace">{</em>
<a id="L435" name="L435"></a> 435                 <strong class="reserved">return</strong>;
<a id="L436" name="L436"></a> 436             <em class="brace">}</em>
<a id="L437" name="L437"></a> 437             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(
<a id="L438" name="L438"></a> 438                 <strong class="reserved">new</strong> <a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a>("Class " +
<a id="L439" name="L439"></a> 439                     cclass.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() +
<a id="L440" name="L440"></a> 440                     " can not access a protected member of class " +
<a id="L441" name="L441"></a> 441                     tclass.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() +
<a id="L442" name="L442"></a> 442                     " using an instance of " +
<a id="L443" name="L443"></a> 443                     obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()
<a id="L444" name="L444"></a> 444                 )
<a id="L445" name="L445"></a> 445             );
<a id="L446" name="L446"></a> 446         <em class="brace">}</em>
<a id="L447" name="L447"></a> 447     <em class="brace">}</em>
<a id="L448" name="L448"></a> 448 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L105">[^]</a><a href="#L433">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>