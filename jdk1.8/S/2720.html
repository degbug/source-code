<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/tree/DefaultTreeCellEditor.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L160">[^]</a><a href="#L758">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L160" title="Defined at 160.">setBorderSelectionColor</a></li>
<li><a href="#L168" title="Defined at 168.">getBorderSelectionColor</a></li>
<li><a href="#L183" title="Defined at 183.">setFont</a></li>
<li><a href="#L193" title="Defined at 193.">getFont</a></li>
<li><a href="#L204" title="Defined at 204.">getTreeCellEditorComponent</a></li>
<li><a href="#L243" title="Defined at 243.">getCellEditorValue</a></li>
<li><a href="#L252" title="Defined at 252.">isCellEditable</a></li>
<li><a href="#L295" title="Defined at 295.">shouldSelectCell</a></li>
<li><a href="#L304" title="Defined at 304.">stopCellEditing</a></li>
<li><a href="#L316" title="Defined at 316.">cancelCellEditing</a></li>
<li><a href="#L325" title="Defined at 325.">addCellEditorListener</a></li>
<li><a href="#L333" title="Defined at 333.">removeCellEditorListener</a></li>
<li><a href="#L345" title="Defined at 345.">getCellEditorListeners</a></li>
<li><a href="#L356" title="Defined at 356.">valueChanged</a></li>
<li><a href="#L376" title="Defined at 376.">actionPerformed</a></li>
<li><a href="#L391" title="Defined at 391.">setTree</a></li>
<li><a href="#L409" title="Defined at 409.">shouldStartEditingTimer</a></li>
<li><a href="#L423" title="Defined at 423.">startEditingTimer</a></li>
<li><a href="#L437" title="Defined at 437.">canEditImmediately</a></li>
<li><a href="#L459" title="Defined at 459.">inHitRegion</a></li>
<li><a href="#L479" title="Defined at 479.">determineOffset</a></li>
<li><a href="#L506" title="Defined at 506.">prepareForEditing</a></li>
<li><a href="#L516" title="Defined at 516.">createContainer</a></li>
<li><a href="#L526" title="Defined at 526.">createTreeCellEditor</a></li>
<li><a href="#L545" title="Defined at 545.">cleanupAfterEditing</a></li>
<li><a href="#L553" title="Defined at 553.">writeObject</a></li>
<li><a href="#L565" title="Defined at 565.">readObject</a></li>
<li><a href="#L616" title="Defined at 616.">setBorder</a></li>
<li><a href="#L625" title="Defined at 625.">getBorder</a></li>
<li><a href="#L630" title="Defined at 630.">getFont</a></li>
<li><a href="#L651" title="Defined at 651.">getPreferredSize</a></li>
<li><a href="#L687" title="Defined at 687.">paint</a></li>
<li><a href="#L718" title="Defined at 718.">doLayout</a></li>
<li><a href="#L735" title="Defined at 735.">calculateIconY</a></li>
<li><a href="#L758" title="Defined at 758.">getPreferredSize</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.tree;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.swing.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.swing.border.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> javax.swing.plaf.FontUIResource;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.awt.*;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.awt.event.*;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.beans.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.io.*;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.EventObject;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.Vector;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  A <code>TreeCellEditor</code>. You need to supply an
  instance of <code>DefaultTreeCellRenderer</code>
  so that the icons can be obtained. You can optionally supply
  a <code>TreeCellEditor</code> that will be layed out according
  to the icon in the <code>DefaultTreeCellRenderer</code>.
  If you do not supply a <code>TreeCellEditor</code>,
  a <code>TextField</code> will be used. Editing is started
  on a triple mouse click, or after a click, pause, click and
  a delay of 1200 milliseconds.
 <p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases. The current serialization support is
  appropriate for short term storage or RMI between applications running
  the same version of Swing.  As of 1.4, support for long term storage
  of all JavaBeansâ„¢
  has been added to the <code>java.beans</code> package.
  Please see {@link java.beans.XMLEncoder}.
  @see javax.swing.JTree
  @author Scott Violet</p></div>
<a id="L63" name="L63"></a>  63 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/2141.html" title="Multiple referred from 6 places.">DefaultTreeCellEditor</a> <strong class="reserved">implements</strong> <a href="../S/2397.html#L45" title="Defined at 45 in src/java/awt/event/ActionListener.java.">ActionListener</a>, <a href="../S/2730.html#L41" title="Defined at 41 in src/javax/swing/tree/TreeCellEditor.java.">TreeCellEditor</a>,
<a id="L64" name="L64"></a>  64             <a href="../S/3392.html#L43" title="Defined at 43 in src/javax/swing/event/TreeSelectionListener.java.">TreeSelectionListener</a> <em class="brace">{</em>
<div class="comment">
     /** Editor handling the editing. */</div>
<a id="L66" name="L66"></a>  66     <strong class="reserved">protected</strong> <a href="../S/2730.html#L41" title="Defined at 41 in src/javax/swing/tree/TreeCellEditor.java.">TreeCellEditor</a>               realEditor;
<a id="L67" name="L67"></a>  67 
<div class="comment">
     /** Renderer, used to get border and offsets from. */</div>
<a id="L69" name="L69"></a>  69     <strong class="reserved">protected</strong> <a href="../S/2715.html#L106" title="Defined at 106 in src/javax/swing/tree/DefaultTreeCellRenderer.java.">DefaultTreeCellRenderer</a>      renderer;
<a id="L70" name="L70"></a>  70 
<div class="comment">
     /** Editing container, will contain the <code>editorComponent</code>. */</div>
<a id="L72" name="L72"></a>  72     <strong class="reserved">protected</strong> <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a>                    editingContainer;
<a id="L73" name="L73"></a>  73 
<div class="comment">
      Component used in editing, obtained from the
      <code>editingContainer</code>.</div>
<a id="L78" name="L78"></a>  78     <strong class="reserved">transient</strong> <strong class="reserved">protected</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>          editingComponent;
<a id="L79" name="L79"></a>  79 
<div class="comment">
      As of Java 2 platform v1.4 this field should no longer be used. If
      you wish to provide similar behavior you should directly override
      <code>isCellEditable</code>.</div>
<a id="L85" name="L85"></a>  85     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong>                      canEdit;
<a id="L86" name="L86"></a>  86 
<div class="comment">
      Used in editing. Indicates x position to place
      <code>editingComponent</code>.</div>
<a id="L91" name="L91"></a>  91     <strong class="reserved">protected</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong>                <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L92" name="L92"></a>  92 
<div class="comment">
     /** <code>JTree</code> instance listening too. */</div>
<a id="L94" name="L94"></a>  94     <strong class="reserved">protected</strong> <strong class="reserved">transient</strong> <a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a>              tree;
<a id="L95" name="L95"></a>  95 
<div class="comment">
     /** Last path that was selected. */</div>
<a id="L97" name="L97"></a>  97     <strong class="reserved">protected</strong> <strong class="reserved">transient</strong> <a href="../D/9148.html" title="Multiple defined in 2 places.">TreePath</a>           lastPath;
<a id="L98" name="L98"></a>  98 
<div class="comment">
     /** Used before starting the editing session. */</div>
<a id="L100" name="L100"></a> 100     <strong class="reserved">protected</strong> <strong class="reserved">transient</strong> <a href="../D/8987.html" title="Multiple defined in 3 places.">Timer</a>              timer;
<a id="L101" name="L101"></a> 101 
<div class="comment">
      Row that was last passed into
      <code>getTreeCellEditorComponent</code>.</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">protected</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong>                lastRow;
<a id="L107" name="L107"></a> 107 
<div class="comment">
     /** True if the border selection color should be drawn. */</div>
<a id="L109" name="L109"></a> 109     <strong class="reserved">protected</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>                        borderSelectionColor;
<a id="L110" name="L110"></a> 110 
<div class="comment">
     /** Icon to use when editing. */</div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">protected</strong> <strong class="reserved">transient</strong> <a href="../S/3146.html#L37" title="Defined at 37 in src/javax/swing/Icon.java.">Icon</a>               editingIcon;
<a id="L113" name="L113"></a> 113 
<div class="comment">
      Font to paint with, <code>null</code> indicates
      font of renderer is to be used.</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">protected</strong> <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a>                         font;
<a id="L119" name="L119"></a> 119 
<a id="L120" name="L120"></a> 120 
<div class="comment">
      Constructs a <code>DefaultTreeCellEditor</code>
      object for a JTree using the specified renderer and
      a default editor. (Use this constructor for normal editing.)
      @param tree      a <code>JTree</code> object
      @param renderer  a <code>DefaultTreeCellRenderer</code> object</div>
<a id="L129" name="L129"></a> 129     <strong class="reserved">public</strong> DefaultTreeCellEditor(<a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a> tree,
<a id="L130" name="L130"></a> 130                                  <a href="../S/2715.html#L106" title="Defined at 106 in src/javax/swing/tree/DefaultTreeCellRenderer.java.">DefaultTreeCellRenderer</a> renderer) <em class="brace">{</em>
<a id="L131" name="L131"></a> 131         <strong class="reserved">this</strong>(tree, renderer, <strong class="reserved">null</strong>);
<a id="L132" name="L132"></a> 132     <em class="brace">}</em>
<a id="L133" name="L133"></a> 133 
<div class="comment">
      Constructs a <code>DefaultTreeCellEditor</code>
      object for a <code>JTree</code> using the
      specified renderer and the specified editor. (Use this constructor
      for specialized editing.)
      @param tree      a <code>JTree</code> object
      @param renderer  a <code>DefaultTreeCellRenderer</code> object
      @param editor    a <code>TreeCellEditor</code> object</div>
<a id="L144" name="L144"></a> 144     <strong class="reserved">public</strong> DefaultTreeCellEditor(<a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a> tree, <a href="../S/2715.html#L106" title="Defined at 106 in src/javax/swing/tree/DefaultTreeCellRenderer.java.">DefaultTreeCellRenderer</a> renderer,
<a id="L145" name="L145"></a> 145                                  <a href="../S/2730.html#L41" title="Defined at 41 in src/javax/swing/tree/TreeCellEditor.java.">TreeCellEditor</a> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146         <strong class="reserved">this</strong>.renderer = renderer;
<a id="L147" name="L147"></a> 147         realEditor = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>;
<a id="L148" name="L148"></a> 148         <strong class="reserved">if</strong>(realEditor == <strong class="reserved">null</strong>)
<a id="L149" name="L149"></a> 149             realEditor = <a href="../D/14270.html" title="Multiple defined in 2 places.">createTreeCellEditor</a>();
<a id="L150" name="L150"></a> 150         editingContainer = <a href="../S/2720.html#L516" title="Defined at 516 in src/javax/swing/tree/DefaultTreeCellEditor.java.">createContainer</a>();
<a id="L151" name="L151"></a> 151         <a href="../S/2720.html#L391" title="Defined at 391 in src/javax/swing/tree/DefaultTreeCellEditor.java.">setTree</a>(tree);
<a id="L152" name="L152"></a> 152         <a href="../D/32031.html" title="Multiple defined in 2 places.">setBorderSelectionColor</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>
<a id="L153" name="L153"></a> 153                                 ("Tree.editorBorderSelectionColor"));
<a id="L154" name="L154"></a> 154     <em class="brace">}</em>
<a id="L155" name="L155"></a> 155 
<div class="comment">
       Sets the color to use for the border.
       @param newColor the new border color</div>
<a id="L160" name="L160"></a> 160     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26962.html" title="Multiple referred from 4 places.">setBorderSelectionColor</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> newColor) <em class="brace">{</em>
<a id="L161" name="L161"></a> 161         borderSelectionColor = newColor;
<a id="L162" name="L162"></a> 162     <em class="brace">}</em>
<a id="L163" name="L163"></a> 163 
<div class="comment">
       Returns the color the border is drawn.
       @return the border selection color</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">public</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../R/15308.html" title="Multiple referred from 4 places.">getBorderSelectionColor</a>() <em class="brace">{</em>
<a id="L169" name="L169"></a> 169         <strong class="reserved">return</strong> borderSelectionColor;
<a id="L170" name="L170"></a> 170     <em class="brace">}</em>
<a id="L171" name="L171"></a> 171 
<div class="comment">
      Sets the font to edit with. <code>null</code> indicates
      the renderers font should be used. This will NOT
      override any font you have set in the editor
      the receiver was instantiated with. If <code>null</code>
      for an editor was passed in a default editor will be
      created that will pick up this font.
      @param font  the editing <code>Font</code>
      @see #getFont</div>
<a id="L183" name="L183"></a> 183     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27434.html" title="Multiple referred from 120 places.">setFont</a>(<a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> font) <em class="brace">{</em>
<a id="L184" name="L184"></a> 184         <strong class="reserved">this</strong>.font = font;
<a id="L185" name="L185"></a> 185     <em class="brace">}</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      Gets the font used for editing.
      @return the editing <code>Font</code>
      @see #setFont</div>
<a id="L193" name="L193"></a> 193     <strong class="reserved">public</strong> <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> <a href="../R/16676.html" title="Multiple referred from 256 places.">getFont</a>() <em class="brace">{</em>
<a id="L194" name="L194"></a> 194         <strong class="reserved">return</strong> font;
<a id="L195" name="L195"></a> 195     <em class="brace">}</em>
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197     <em class="comment">//</em>
<a id="L198" name="L198"></a> 198     <em class="comment">// TreeCellEditor</em>
<a id="L199" name="L199"></a> 199     <em class="comment">//</em>
<a id="L200" name="L200"></a> 200 
<div class="comment">
      Configures the editor.  Passed onto the <code>realEditor</code>.</div>
<a id="L204" name="L204"></a> 204     <strong class="reserved">public</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../R/19597.html" title="Multiple referred from 2 places.">getTreeCellEditorComponent</a>(<a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a> tree, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L205" name="L205"></a> 205                                                 <strong class="reserved">boolean</strong> <a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>,
<a id="L206" name="L206"></a> 206                                                 <strong class="reserved">boolean</strong> expanded,
<a id="L207" name="L207"></a> 207                                                 <strong class="reserved">boolean</strong> leaf, <strong class="reserved">int</strong> row) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <a href="../S/2720.html#L391" title="Defined at 391 in src/javax/swing/tree/DefaultTreeCellEditor.java.">setTree</a>(tree);
<a id="L209" name="L209"></a> 209         lastRow = row;
<a id="L210" name="L210"></a> 210         <a href="../S/2720.html#L479" title="Defined at 479 in src/javax/swing/tree/DefaultTreeCellEditor.java.">determineOffset</a>(tree, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>, expanded, leaf, row);
<a id="L211" name="L211"></a> 211 
<a id="L212" name="L212"></a> 212         <strong class="reserved">if</strong> (editingComponent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213             editingContainer.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(editingComponent);
<a id="L214" name="L214"></a> 214         <em class="brace">}</em>
<a id="L215" name="L215"></a> 215         editingComponent = realEditor.<a href="../D/23284.html" title="Multiple defined in 3 places.">getTreeCellEditorComponent</a>(tree, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L216" name="L216"></a> 216                                         <a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>, expanded,leaf, row);
<a id="L217" name="L217"></a> 217 
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219         <em class="comment">// this is kept for backwards compatibility but isn't really needed</em>
<a id="L220" name="L220"></a> 220         <em class="comment">// with the current BasicTreeUI implementation.</em>
<a id="L221" name="L221"></a> 221         <a href="../D/9148.html" title="Multiple defined in 2 places.">TreePath</a>        newPath = tree.<a href="../D/21443.html" title="Multiple defined in 8 places.">getPathForRow</a>(row);
<a id="L222" name="L222"></a> 222 
<a id="L223" name="L223"></a> 223         canEdit = (lastPath != <strong class="reserved">null</strong> &amp;&amp; newPath != <strong class="reserved">null</strong> &amp;&amp;
<a id="L224" name="L224"></a> 224                    lastPath.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(newPath));
<a id="L225" name="L225"></a> 225 
<a id="L226" name="L226"></a> 226         <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a>            font = <a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>();
<a id="L227" name="L227"></a> 227 
<a id="L228" name="L228"></a> 228         <strong class="reserved">if</strong>(font == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229             <strong class="reserved">if</strong>(renderer != <strong class="reserved">null</strong>)
<a id="L230" name="L230"></a> 230                 font = renderer.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>();
<a id="L231" name="L231"></a> 231             <strong class="reserved">if</strong>(font == <strong class="reserved">null</strong>)
<a id="L232" name="L232"></a> 232                 font = tree.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>();
<a id="L233" name="L233"></a> 233         <em class="brace">}</em>
<a id="L234" name="L234"></a> 234         editingContainer.<a href="../D/32750.html" title="Multiple defined in 25 places.">setFont</a>(font);
<a id="L235" name="L235"></a> 235         <a href="../S/2720.html#L506" title="Defined at 506 in src/javax/swing/tree/DefaultTreeCellEditor.java.">prepareForEditing</a>();
<a id="L236" name="L236"></a> 236         <strong class="reserved">return</strong> editingContainer;
<a id="L237" name="L237"></a> 237     <em class="brace">}</em>
<a id="L238" name="L238"></a> 238 
<div class="comment">
      Returns the value currently being edited.
      @return the value currently being edited</div>
<a id="L243" name="L243"></a> 243     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/15474.html" title="Multiple referred from 8 places.">getCellEditorValue</a>() <em class="brace">{</em>
<a id="L244" name="L244"></a> 244         <strong class="reserved">return</strong> realEditor.<a href="../D/17532.html" title="Multiple defined in 5 places.">getCellEditorValue</a>();
<a id="L245" name="L245"></a> 245     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246 
<div class="comment">
      If the <code>realEditor</code> returns true to this
      message, <code>prepareForEditing</code>
      is messaged and true is returned.</div>
<a id="L252" name="L252"></a> 252     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21237.html" title="Multiple referred from 8 places.">isCellEditable</a>(<a href="../S/938.html#L39" title="Defined at 39 in src/java/util/EventObject.java.">EventObject</a> event) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">boolean</strong>            retValue = <strong class="reserved">false</strong>;
<a id="L254" name="L254"></a> 254         <strong class="reserved">boolean</strong>            editable = <strong class="reserved">false</strong>;
<a id="L255" name="L255"></a> 255 
<a id="L256" name="L256"></a> 256         <strong class="reserved">if</strong> (event != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             <strong class="reserved">if</strong> (event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() <strong class="reserved">instanceof</strong> <a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a>) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258                 <a href="../S/2720.html#L391" title="Defined at 391 in src/javax/swing/tree/DefaultTreeCellEditor.java.">setTree</a>((<a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a>)event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>());
<a id="L259" name="L259"></a> 259                 <strong class="reserved">if</strong> (event <strong class="reserved">instanceof</strong> <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>) <em class="brace">{</em>
<a id="L260" name="L260"></a> 260                     <a href="../D/9148.html" title="Multiple defined in 2 places.">TreePath</a> path = tree.<a href="../S/3165.html#L2262" title="Defined at 2262 in src/javax/swing/JTree.java.">getPathForLocation</a>(
<a id="L261" name="L261"></a> 261                                          ((<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>)event).<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(),
<a id="L262" name="L262"></a> 262                                          ((<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>)event).<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>());
<a id="L263" name="L263"></a> 263                     editable = (lastPath != <strong class="reserved">null</strong> &amp;&amp; path != <strong class="reserved">null</strong> &amp;&amp;
<a id="L264" name="L264"></a> 264                                lastPath.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(path));
<a id="L265" name="L265"></a> 265                     <strong class="reserved">if</strong> (path!=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L266" name="L266"></a> 266                         lastRow = tree.<a href="../D/22161.html" title="Multiple defined in 7 places.">getRowForPath</a>(path);
<a id="L267" name="L267"></a> 267                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = path.<a href="../S/2725.html#L201" title="Defined at 201 in src/javax/swing/tree/TreePath.java.">getLastPathComponent</a>();
<a id="L268" name="L268"></a> 268                         <strong class="reserved">boolean</strong> <a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a> = tree.<a href="../D/26196.html" title="Multiple defined in 4 places.">isRowSelected</a>(lastRow);
<a id="L269" name="L269"></a> 269                         <strong class="reserved">boolean</strong> expanded = tree.<a href="../D/25532.html" title="Multiple defined in 7 places.">isExpanded</a>(path);
<a id="L270" name="L270"></a> 270                         <a href="../S/2726.html#L61" title="Defined at 61 in src/javax/swing/tree/TreeModel.java.">TreeModel</a> treeModel = tree.<a href="../D/20699.html" title="Multiple defined in 27 places.">getModel</a>();
<a id="L271" name="L271"></a> 271                         <strong class="reserved">boolean</strong> leaf = treeModel.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L272" name="L272"></a> 272                         <a href="../S/2720.html#L479" title="Defined at 479 in src/javax/swing/tree/DefaultTreeCellEditor.java.">determineOffset</a>(tree, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>,
<a id="L273" name="L273"></a> 273                                         expanded, leaf, lastRow);
<a id="L274" name="L274"></a> 274                     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275                 <em class="brace">}</em>
<a id="L276" name="L276"></a> 276             <em class="brace">}</em>
<a id="L277" name="L277"></a> 277         <em class="brace">}</em>
<a id="L278" name="L278"></a> 278         <strong class="reserved">if</strong>(!realEditor.<a href="../D/25287.html" title="Multiple defined in 9 places.">isCellEditable</a>(event))
<a id="L279" name="L279"></a> 279             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L280" name="L280"></a> 280         <strong class="reserved">if</strong>(<a href="../S/2720.html#L437" title="Defined at 437 in src/javax/swing/tree/DefaultTreeCellEditor.java.">canEditImmediately</a>(event))
<a id="L281" name="L281"></a> 281             retValue = <strong class="reserved">true</strong>;
<a id="L282" name="L282"></a> 282         <strong class="reserved">else</strong> <strong class="reserved">if</strong>(editable &amp;&amp; <a href="../S/2720.html#L409" title="Defined at 409 in src/javax/swing/tree/DefaultTreeCellEditor.java.">shouldStartEditingTimer</a>(event)) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283             <a href="../S/2720.html#L423" title="Defined at 423 in src/javax/swing/tree/DefaultTreeCellEditor.java.">startEditingTimer</a>();
<a id="L284" name="L284"></a> 284         <em class="brace">}</em>
<a id="L285" name="L285"></a> 285         <strong class="reserved">else</strong> <strong class="reserved">if</strong>(timer != <strong class="reserved">null</strong> &amp;&amp; timer.<a href="../D/26198.html" title="Multiple defined in 5 places.">isRunning</a>())
<a id="L286" name="L286"></a> 286             timer.<a href="../D/34877.html" title="Multiple defined in 25 places.">stop</a>();
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong>(retValue)
<a id="L288" name="L288"></a> 288             <a href="../S/2720.html#L506" title="Defined at 506 in src/javax/swing/tree/DefaultTreeCellEditor.java.">prepareForEditing</a>();
<a id="L289" name="L289"></a> 289         <strong class="reserved">return</strong> retValue;
<a id="L290" name="L290"></a> 290     <em class="brace">}</em>
<a id="L291" name="L291"></a> 291 
<div class="comment">
      Messages the <code>realEditor</code> for the return value.</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/28548.html" title="Multiple referred from 8 places.">shouldSelectCell</a>(<a href="../S/938.html#L39" title="Defined at 39 in src/java/util/EventObject.java.">EventObject</a> event) <em class="brace">{</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">return</strong> realEditor.<a href="../D/34493.html" title="Multiple defined in 5 places.">shouldSelectCell</a>(event);
<a id="L297" name="L297"></a> 297     <em class="brace">}</em>
<a id="L298" name="L298"></a> 298 
<div class="comment">
      If the <code>realEditor</code> will allow editing to stop,
      the <code>realEditor</code> is removed and true is returned,
      otherwise false is returned.</div>
<a id="L304" name="L304"></a> 304     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/28904.html" title="Multiple referred from 20 places.">stopCellEditing</a>() <em class="brace">{</em>
<a id="L305" name="L305"></a> 305         <strong class="reserved">if</strong>(realEditor.<a href="../D/34881.html" title="Multiple defined in 6 places.">stopCellEditing</a>()) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306             <a href="../S/2720.html#L545" title="Defined at 545 in src/javax/swing/tree/DefaultTreeCellEditor.java.">cleanupAfterEditing</a>();
<a id="L307" name="L307"></a> 307             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L308" name="L308"></a> 308         <em class="brace">}</em>
<a id="L309" name="L309"></a> 309         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L310" name="L310"></a> 310     <em class="brace">}</em>
<a id="L311" name="L311"></a> 311 
<div class="comment">
      Messages <code>cancelCellEditing</code> to the
      <code>realEditor</code> and removes it from this instance.</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10923.html" title="Multiple referred from 8 places.">cancelCellEditing</a>() <em class="brace">{</em>
<a id="L317" name="L317"></a> 317         realEditor.<a href="../D/12197.html" title="Multiple defined in 5 places.">cancelCellEditing</a>();
<a id="L318" name="L318"></a> 318         <a href="../S/2720.html#L545" title="Defined at 545 in src/javax/swing/tree/DefaultTreeCellEditor.java.">cleanupAfterEditing</a>();
<a id="L319" name="L319"></a> 319     <em class="brace">}</em>
<a id="L320" name="L320"></a> 320 
<div class="comment">
      Adds the <code>CellEditorListener</code>.
      @param l the listener to be added</div>
<a id="L325" name="L325"></a> 325     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9638.html" title="Multiple referred from 4 places.">addCellEditorListener</a>(<a href="../S/3401.html#L38" title="Defined at 38 in src/javax/swing/event/CellEditorListener.java.">CellEditorListener</a> l) <em class="brace">{</em>
<a id="L326" name="L326"></a> 326         realEditor.<a href="../D/10693.html" title="Multiple defined in 3 places.">addCellEditorListener</a>(l);
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
       Removes the previously added <code>CellEditorListener</code>.
       @param l the listener to be removed</div>
<a id="L333" name="L333"></a> 333     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25918.html" title="Multiple referred from 4 places.">removeCellEditorListener</a>(<a href="../S/3401.html#L38" title="Defined at 38 in src/javax/swing/event/CellEditorListener.java.">CellEditorListener</a> l) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334         realEditor.<a href="../D/30728.html" title="Multiple defined in 3 places.">removeCellEditorListener</a>(l);
<a id="L335" name="L335"></a> 335     <em class="brace">}</em>
<a id="L336" name="L336"></a> 336 
<div class="comment">
      Returns an array of all the <code>CellEditorListener</code>s added
      to this DefaultTreeCellEditor with addCellEditorListener().
      @return all of the <code>CellEditorListener</code>s added or an empty
              array if no listeners have been added
      @since 1.4</div>
<a id="L345" name="L345"></a> 345     <strong class="reserved">public</strong> <a href="../S/3401.html#L38" title="Defined at 38 in src/javax/swing/event/CellEditorListener.java.">CellEditorListener</a>[] <a href="../S/2720.html#L346" title="Referred from 346 in src/javax/swing/tree/DefaultTreeCellEditor.java.">getCellEditorListeners</a>() <em class="brace">{</em>
<a id="L346" name="L346"></a> 346         <strong class="reserved">return</strong> ((<a href="../S/3123.html#L54" title="Defined at 54 in src/javax/swing/DefaultCellEditor.java.">DefaultCellEditor</a>)realEditor).<a href="../D/17531.html" title="Multiple defined in 2 places.">getCellEditorListeners</a>();
<a id="L347" name="L347"></a> 347     <em class="brace">}</em>
<a id="L348" name="L348"></a> 348 
<a id="L349" name="L349"></a> 349     <em class="comment">//</em>
<a id="L350" name="L350"></a> 350     <em class="comment">// TreeSelectionListener</em>
<a id="L351" name="L351"></a> 351     <em class="comment">//</em>
<a id="L352" name="L352"></a> 352 
<div class="comment">
      Resets <code>lastPath</code>.</div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30092.html" title="Multiple referred from 8 places.">valueChanged</a>(<a href="../S/3422.html#L52" title="Defined at 52 in src/javax/swing/event/TreeSelectionEvent.java.">TreeSelectionEvent</a> e) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357         <strong class="reserved">if</strong>(tree != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358             <strong class="reserved">if</strong>(tree.<a href="../D/22370.html" title="Multiple defined in 3 places.">getSelectionCount</a>() == 1)
<a id="L359" name="L359"></a> 359                 lastPath = tree.<a href="../D/22377.html" title="Multiple defined in 3 places.">getSelectionPath</a>();
<a id="L360" name="L360"></a> 360             <strong class="reserved">else</strong>
<a id="L361" name="L361"></a> 361                 lastPath = <strong class="reserved">null</strong>;
<a id="L362" name="L362"></a> 362         <em class="brace">}</em>
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong>(timer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364             timer.<a href="../D/34877.html" title="Multiple defined in 25 places.">stop</a>();
<a id="L365" name="L365"></a> 365         <em class="brace">}</em>
<a id="L366" name="L366"></a> 366     <em class="brace">}</em>
<a id="L367" name="L367"></a> 367 
<a id="L368" name="L368"></a> 368     <em class="comment">//</em>
<a id="L369" name="L369"></a> 369     <em class="comment">// ActionListener (for Timer).</em>
<a id="L370" name="L370"></a> 370     <em class="comment">//</em>
<a id="L371" name="L371"></a> 371 
<div class="comment">
      Messaged when the timer fires, this will start the editing
      session.</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9558.html" title="Multiple referred from 49 places.">actionPerformed</a>(<a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> e) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">if</strong>(tree != <strong class="reserved">null</strong> &amp;&amp; lastPath != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             tree.<a href="../D/34778.html" title="Multiple defined in 4 places.">startEditingAtPath</a>(lastPath);
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 
<a id="L382" name="L382"></a> 382     <em class="comment">//</em>
<a id="L383" name="L383"></a> 383     <em class="comment">// Local methods</em>
<a id="L384" name="L384"></a> 384     <em class="comment">//</em>
<a id="L385" name="L385"></a> 385 
<div class="comment">
      Sets the tree currently editing for. This is needed to add
      a selection listener.
      @param newTree the new tree to be edited</div>
<a id="L391" name="L391"></a> 391     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/28330.html" title="Multiple referred from 3 places.">setTree</a>(<a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a> <a href="../D/28103.html" title="Multiple defined in 2 places.">newTree</a>) <em class="brace">{</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong>(tree != <a href="../D/28103.html" title="Multiple defined in 2 places.">newTree</a>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <strong class="reserved">if</strong>(tree != <strong class="reserved">null</strong>)
<a id="L394" name="L394"></a> 394                 tree.<a href="../D/30976.html" title="Multiple defined in 4 places.">removeTreeSelectionListener</a>(<strong class="reserved">this</strong>);
<a id="L395" name="L395"></a> 395             tree = <a href="../D/28103.html" title="Multiple defined in 2 places.">newTree</a>;
<a id="L396" name="L396"></a> 396             <strong class="reserved">if</strong>(tree != <strong class="reserved">null</strong>)
<a id="L397" name="L397"></a> 397                 tree.<a href="../D/11140.html" title="Multiple defined in 4 places.">addTreeSelectionListener</a>(<strong class="reserved">this</strong>);
<a id="L398" name="L398"></a> 398             <strong class="reserved">if</strong>(timer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L399" name="L399"></a> 399                 timer.<a href="../D/34877.html" title="Multiple defined in 25 places.">stop</a>();
<a id="L400" name="L400"></a> 400             <em class="brace">}</em>
<a id="L401" name="L401"></a> 401         <em class="brace">}</em>
<a id="L402" name="L402"></a> 402     <em class="brace">}</em>
<a id="L403" name="L403"></a> 403 
<div class="comment">
      Returns true if <code>event</code> is a <code>MouseEvent</code>
      and the click count is 1.
      @param event  the event being studied</div>
<a id="L409" name="L409"></a> 409     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/2720.html#L282" title="Referred from 282 in src/javax/swing/tree/DefaultTreeCellEditor.java.">shouldStartEditingTimer</a>(<a href="../S/938.html#L39" title="Defined at 39 in src/java/util/EventObject.java.">EventObject</a> event) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410         <strong class="reserved">if</strong>((event <strong class="reserved">instanceof</strong> <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>) &amp;&amp;
<a id="L411" name="L411"></a> 411             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L795" title="Defined at 795 in src/javax/swing/SwingUtilities.java.">isLeftMouseButton</a>((<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>)event)) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412             <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>        me = (<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>)event;
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414             <strong class="reserved">return</strong> (me.<a href="../S/2399.html#L840" title="Defined at 840 in src/java/awt/event/MouseEvent.java.">getClickCount</a>() == 1 &amp;&amp;
<a id="L415" name="L415"></a> 415                     <a href="../S/2720.html#L459" title="Defined at 459 in src/javax/swing/tree/DefaultTreeCellEditor.java.">inHitRegion</a>(me.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(), me.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>()));
<a id="L416" name="L416"></a> 416         <em class="brace">}</em>
<a id="L417" name="L417"></a> 417         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L418" name="L418"></a> 418     <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<div class="comment">
      Starts the editing timer.</div>
<a id="L423" name="L423"></a> 423     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/2720.html#L283" title="Referred from 283 in src/javax/swing/tree/DefaultTreeCellEditor.java.">startEditingTimer</a>() <em class="brace">{</em>
<a id="L424" name="L424"></a> 424         <strong class="reserved">if</strong>(timer == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425             timer = <strong class="reserved">new</strong> <a href="../D/8987.html" title="Multiple defined in 3 places.">Timer</a>(1200, <strong class="reserved">this</strong>);
<a id="L426" name="L426"></a> 426             timer.<a href="../S/3155.html#L461" title="Defined at 461 in src/javax/swing/Timer.java.">setRepeats</a>(<strong class="reserved">false</strong>);
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428         timer.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>();
<a id="L429" name="L429"></a> 429     <em class="brace">}</em>
<a id="L430" name="L430"></a> 430 
<div class="comment">
      Returns true if <code>event</code> is <code>null</code>,
      or it is a <code>MouseEvent</code> with a click count &gt; 2
      and <code>inHitRegion</code> returns true.
      @param event the event being studied</div>
<a id="L437" name="L437"></a> 437     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/2720.html#L280" title="Referred from 280 in src/javax/swing/tree/DefaultTreeCellEditor.java.">canEditImmediately</a>(<a href="../S/938.html#L39" title="Defined at 39 in src/java/util/EventObject.java.">EventObject</a> event) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438         <strong class="reserved">if</strong>((event <strong class="reserved">instanceof</strong> <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>) &amp;&amp;
<a id="L439" name="L439"></a> 439            <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L795" title="Defined at 795 in src/javax/swing/SwingUtilities.java.">isLeftMouseButton</a>((<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>)event)) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440             <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>       me = (<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>)event;
<a id="L441" name="L441"></a> 441 
<a id="L442" name="L442"></a> 442             <strong class="reserved">return</strong> ((me.<a href="../S/2399.html#L840" title="Defined at 840 in src/java/awt/event/MouseEvent.java.">getClickCount</a>() &gt; 2) &amp;&amp;
<a id="L443" name="L443"></a> 443                     <a href="../S/2720.html#L459" title="Defined at 459 in src/javax/swing/tree/DefaultTreeCellEditor.java.">inHitRegion</a>(me.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(), me.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>()));
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">return</strong> (event == <strong class="reserved">null</strong>);
<a id="L446" name="L446"></a> 446     <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<div class="comment">
      Returns true if the passed in location is a valid mouse location
      to start editing from. This is implemented to return false if
      <code>x</code> is &lt;= the width of the icon and icon gap displayed
      by the renderer. In other words this returns true if the user
      clicks over the text part displayed by the renderer, and false
      otherwise.
      @param x the x-coordinate of the point
      @param y the y-coordinate of the point
      @return true if the passed in location is a valid mouse location</div>
<a id="L459" name="L459"></a> 459     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/20454.html" title="Multiple referred from 2 places.">inHitRegion</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y) <em class="brace">{</em>
<a id="L460" name="L460"></a> 460         <strong class="reserved">if</strong>(lastRow != -1 &amp;&amp; tree != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> = tree.<a href="../S/3165.html#L2123" title="Defined at 2123 in src/javax/swing/JTree.java.">getRowBounds</a>(lastRow);
<a id="L462" name="L462"></a> 462             <a href="../S/2305.html#L91" title="Defined at 91 in src/java/awt/ComponentOrientation.java.">ComponentOrientation</a> treeOrientation = tree.<a href="../S/2177.html#L8910" title="Defined at 8910 in src/java/awt/Component.java.">getComponentOrientation</a>();
<a id="L463" name="L463"></a> 463 
<a id="L464" name="L464"></a> 464             <strong class="reserved">if</strong> ( treeOrientation.<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>() ) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465                 <strong class="reserved">if</strong> (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt;= (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) &amp;&amp;
<a id="L466" name="L466"></a> 466                     <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - 5)) <em class="brace">{</em>
<a id="L467" name="L467"></a> 467                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L468" name="L468"></a> 468                 <em class="brace">}</em>
<a id="L469" name="L469"></a> 469             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( <a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> != <strong class="reserved">null</strong> &amp;&amp;
<a id="L470" name="L470"></a> 470                         ( <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>+<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+5) ||
<a id="L471" name="L471"></a> 471                           <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt;= (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + 5) ) &amp;&amp;
<a id="L472" name="L472"></a> 472                         <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - 5) ) <em class="brace">{</em>
<a id="L473" name="L473"></a> 473                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L474" name="L474"></a> 474             <em class="brace">}</em>
<a id="L475" name="L475"></a> 475         <em class="brace">}</em>
<a id="L476" name="L476"></a> 476         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L477" name="L477"></a> 477     <em class="brace">}</em>
<a id="L478" name="L478"></a> 478 
<a id="L479" name="L479"></a> 479     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13279.html" title="Multiple referred from 2 places.">determineOffset</a>(<a href="../S/3165.html#L146" title="Defined at 146 in src/javax/swing/JTree.java.">JTree</a> tree, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L480" name="L480"></a> 480                                    <strong class="reserved">boolean</strong> <a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>, <strong class="reserved">boolean</strong> expanded,
<a id="L481" name="L481"></a> 481                                    <strong class="reserved">boolean</strong> leaf, <strong class="reserved">int</strong> row) <em class="brace">{</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">if</strong>(renderer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483             <strong class="reserved">if</strong>(leaf)
<a id="L484" name="L484"></a> 484                 editingIcon = renderer.<a href="../S/2715.html#L296" title="Defined at 296 in src/javax/swing/tree/DefaultTreeCellRenderer.java.">getLeafIcon</a>();
<a id="L485" name="L485"></a> 485             <strong class="reserved">else</strong> <strong class="reserved">if</strong>(expanded)
<a id="L486" name="L486"></a> 486                 editingIcon = renderer.<a href="../S/2715.html#L267" title="Defined at 267 in src/javax/swing/tree/DefaultTreeCellRenderer.java.">getOpenIcon</a>();
<a id="L487" name="L487"></a> 487             <strong class="reserved">else</strong>
<a id="L488" name="L488"></a> 488                 editingIcon = renderer.<a href="../S/2715.html#L282" title="Defined at 282 in src/javax/swing/tree/DefaultTreeCellRenderer.java.">getClosedIcon</a>();
<a id="L489" name="L489"></a> 489             <strong class="reserved">if</strong>(editingIcon != <strong class="reserved">null</strong>)
<a id="L490" name="L490"></a> 490                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = renderer.<a href="../D/19562.html" title="Multiple defined in 2 places.">getIconTextGap</a>() +
<a id="L491" name="L491"></a> 491                          editingIcon.<a href="../D/19564.html" title="Multiple defined in 72 places.">getIconWidth</a>();
<a id="L492" name="L492"></a> 492             <strong class="reserved">else</strong>
<a id="L493" name="L493"></a> 493                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = renderer.<a href="../D/19562.html" title="Multiple defined in 2 places.">getIconTextGap</a>();
<a id="L494" name="L494"></a> 494         <em class="brace">}</em>
<a id="L495" name="L495"></a> 495         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L496" name="L496"></a> 496             editingIcon = <strong class="reserved">null</strong>;
<a id="L497" name="L497"></a> 497             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = 0;
<a id="L498" name="L498"></a> 498         <em class="brace">}</em>
<a id="L499" name="L499"></a> 499     <em class="brace">}</em>
<a id="L500" name="L500"></a> 500 
<div class="comment">
      Invoked just before editing is to start. Will add the
      <code>editingComponent</code> to the
      <code>editingContainer</code>.</div>
<a id="L506" name="L506"></a> 506     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24936.html" title="Multiple referred from 2 places.">prepareForEditing</a>() <em class="brace">{</em>
<a id="L507" name="L507"></a> 507         <strong class="reserved">if</strong> (editingComponent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508             editingContainer.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(editingComponent);
<a id="L509" name="L509"></a> 509         <em class="brace">}</em>
<a id="L510" name="L510"></a> 510     <em class="brace">}</em>
<a id="L511" name="L511"></a> 511 
<div class="comment">
      Creates the container to manage placement of
      <code>editingComponent</code>.</div>
<a id="L516" name="L516"></a> 516     <strong class="reserved">protected</strong> <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../S/2720.html#L150" title="Referred from 150 in src/javax/swing/tree/DefaultTreeCellEditor.java.">createContainer</a>() <em class="brace">{</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2720.html#L669" title="Defined at 669 in src/javax/swing/tree/DefaultTreeCellEditor.java.">EditorContainer</a>();
<a id="L518" name="L518"></a> 518     <em class="brace">}</em>
<a id="L519" name="L519"></a> 519 
<div class="comment">
      This is invoked if a <code>TreeCellEditor</code>
      is not supplied in the constructor.
      It returns a <code>TextField</code> editor.
      @return a new <code>TextField</code> editor</div>
<a id="L526" name="L526"></a> 526     <strong class="reserved">protected</strong> <a href="../S/2730.html#L41" title="Defined at 41 in src/javax/swing/tree/TreeCellEditor.java.">TreeCellEditor</a> <a href="../S/2720.html#L149" title="Referred from 149 in src/javax/swing/tree/DefaultTreeCellEditor.java.">createTreeCellEditor</a>() <em class="brace">{</em>
<a id="L527" name="L527"></a> 527         <a href="../S/2703.html#L64" title="Defined at 64 in src/javax/swing/border/Border.java.">Border</a>              aBorder = <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17297.html" title="Multiple defined in 14 places.">getBorder</a>("Tree.editorBorder");
<a id="L528" name="L528"></a> 528         <a href="../S/3123.html#L54" title="Defined at 54 in src/javax/swing/DefaultCellEditor.java.">DefaultCellEditor</a>   <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a> = <strong class="reserved">new</strong> <a href="../S/3123.html#L54" title="Defined at 54 in src/javax/swing/DefaultCellEditor.java.">DefaultCellEditor</a>
<a id="L529" name="L529"></a> 529             (<strong class="reserved">new</strong> <a href="../S/2720.html#L588" title="Defined at 588 in src/javax/swing/tree/DefaultTreeCellEditor.java.">DefaultTextField</a>(aBorder)) <em class="brace">{</em>
<a id="L530" name="L530"></a> 530             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/34493.html" title="Multiple defined in 5 places.">shouldSelectCell</a>(<a href="../S/938.html#L39" title="Defined at 39 in src/java/util/EventObject.java.">EventObject</a> event) <em class="brace">{</em>
<a id="L531" name="L531"></a> 531                 <strong class="reserved">boolean</strong> retValue = <strong class="reserved">super</strong>.<a href="../D/34493.html" title="Multiple defined in 5 places.">shouldSelectCell</a>(event);
<a id="L532" name="L532"></a> 532                 <strong class="reserved">return</strong> retValue;
<a id="L533" name="L533"></a> 533             <em class="brace">}</em>
<a id="L534" name="L534"></a> 534         <em class="brace">}</em>;
<a id="L535" name="L535"></a> 535 
<a id="L536" name="L536"></a> 536         <em class="comment">// One click to edit.</em>
<a id="L537" name="L537"></a> 537         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3123.html#L183" title="Defined at 183 in src/javax/swing/DefaultCellEditor.java.">setClickCountToStart</a>(1);
<a id="L538" name="L538"></a> 538         <strong class="reserved">return</strong> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>;
<a id="L539" name="L539"></a> 539     <em class="brace">}</em>
<a id="L540" name="L540"></a> 540 
<div class="comment">
      Cleans up any state after editing has completed. Removes the
      <code>editingComponent</code> the <code>editingContainer</code>.</div>
<a id="L545" name="L545"></a> 545     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11491.html" title="Multiple referred from 2 places.">cleanupAfterEditing</a>() <em class="brace">{</em>
<a id="L546" name="L546"></a> 546         <strong class="reserved">if</strong> (editingComponent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547             editingContainer.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(editingComponent);
<a id="L548" name="L548"></a> 548         <em class="brace">}</em>
<a id="L549" name="L549"></a> 549         editingComponent = <strong class="reserved">null</strong>;
<a id="L550" name="L550"></a> 550     <em class="brace">}</em>
<a id="L551" name="L551"></a> 551 
<a id="L552" name="L552"></a> 552     <em class="comment">// Serialization support.</em>
<a id="L553" name="L553"></a> 553     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L554" name="L554"></a> 554         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556         s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L557" name="L557"></a> 557         <em class="comment">// Save the realEditor, if its Serializable.</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">if</strong>(realEditor != <strong class="reserved">null</strong> &amp;&amp; realEditor <strong class="reserved">instanceof</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>) <em class="brace">{</em>
<a id="L559" name="L559"></a> 559             <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>("realEditor");
<a id="L560" name="L560"></a> 560             <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(realEditor);
<a id="L561" name="L561"></a> 561         <em class="brace">}</em>
<a id="L562" name="L562"></a> 562         s.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>);
<a id="L563" name="L563"></a> 563     <em class="brace">}</em>
<a id="L564" name="L564"></a> 564 
<a id="L565" name="L565"></a> 565     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L566" name="L566"></a> 566         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L567" name="L567"></a> 567         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L568" name="L568"></a> 568 
<a id="L569" name="L569"></a> 569         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>          <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a> = (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>)s.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L570" name="L570"></a> 570         <strong class="reserved">int</strong>             indexCounter = 0;
<a id="L571" name="L571"></a> 571         <strong class="reserved">int</strong>             maxCounter = <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573         <strong class="reserved">if</strong>(indexCounter &lt; maxCounter &amp;&amp; <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(indexCounter).
<a id="L574" name="L574"></a> 574            <a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("realEditor")) <em class="brace">{</em>
<a id="L575" name="L575"></a> 575             realEditor = (<a href="../S/2730.html#L41" title="Defined at 41 in src/javax/swing/tree/TreeCellEditor.java.">TreeCellEditor</a>)<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(++indexCounter);
<a id="L576" name="L576"></a> 576             indexCounter++;
<a id="L577" name="L577"></a> 577         <em class="brace">}</em>
<a id="L578" name="L578"></a> 578     <em class="brace">}</em>
<a id="L579" name="L579"></a> 579 
<a id="L580" name="L580"></a> 580 
<div class="comment">
      <code>TextField</code> used when no editor is supplied.
      This textfield locks into the border it is constructed with.
      It also prefers its parents font over its font. And if the
      renderer is not <code>null</code> and no font
      has been specified the preferred height is that of the renderer.</div>
<a id="L588" name="L588"></a> 588     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../S/2720.html#L529" title="Referred from 529 in src/javax/swing/tree/DefaultTreeCellEditor.java.">DefaultTextField</a> <strong class="reserved">extends</strong> <a href="../S/3161.html#L164" title="Defined at 164 in src/javax/swing/JTextField.java.">JTextField</a> <em class="brace">{</em>
<div class="comment">
         /** Border to use. */</div>
<a id="L590" name="L590"></a> 590         <strong class="reserved">protected</strong> <a href="../S/2703.html#L64" title="Defined at 64 in src/javax/swing/border/Border.java.">Border</a>         border;
<a id="L591" name="L591"></a> 591 
<div class="comment">
          Constructs a
          <code>DefaultTreeCellEditor.DefaultTextField</code> object.
          @param border  a <code>Border</code> object
          @since 1.4</div>
<a id="L599" name="L599"></a> 599         <strong class="reserved">public</strong> DefaultTextField(<a href="../S/2703.html#L64" title="Defined at 64 in src/javax/swing/border/Border.java.">Border</a> border) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600             <a href="../D/32014.html" title="Multiple defined in 15 places.">setBorder</a>(border);
<a id="L601" name="L601"></a> 601         <em class="brace">}</em>
<a id="L602" name="L602"></a> 602 
<div class="comment">
          Sets the border of this component.<p>
          This is a bound property.
          @param border the border to be rendered for this component
          @see Border
          @see CompoundBorder
          @beaninfo
                 bound: true
             preferred: true
             attribute: visualUpdate true
           description: The component's border.</p></div>
<a id="L616" name="L616"></a> 616         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26959.html" title="Multiple referred from 101 places.">setBorder</a>(<a href="../S/2703.html#L64" title="Defined at 64 in src/javax/swing/border/Border.java.">Border</a> border) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617             <strong class="reserved">super</strong>.<a href="../D/32014.html" title="Multiple defined in 15 places.">setBorder</a>(border);
<a id="L618" name="L618"></a> 618             <strong class="reserved">this</strong>.border = border;
<a id="L619" name="L619"></a> 619         <em class="brace">}</em>
<a id="L620" name="L620"></a> 620 
<div class="comment">
          Overrides <code>JComponent.getBorder</code> to
          returns the current border.</div>
<a id="L625" name="L625"></a> 625         <strong class="reserved">public</strong> <a href="../S/2703.html#L64" title="Defined at 64 in src/javax/swing/border/Border.java.">Border</a> <a href="../R/15304.html" title="Multiple referred from 89 places.">getBorder</a>() <em class="brace">{</em>
<a id="L626" name="L626"></a> 626             <strong class="reserved">return</strong> border;
<a id="L627" name="L627"></a> 627         <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629         <em class="comment">// implements java.awt.MenuContainer</em>
<a id="L630" name="L630"></a> 630         <strong class="reserved">public</strong> <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> <a href="../R/16676.html" title="Multiple referred from 256 places.">getFont</a>() <em class="brace">{</em>
<a id="L631" name="L631"></a> 631             <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a>     font = <strong class="reserved">super</strong>.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>();
<a id="L632" name="L632"></a> 632 
<a id="L633" name="L633"></a> 633             <em class="comment">// Prefer the parent containers font if our font is a</em>
<a id="L634" name="L634"></a> 634             <em class="comment">// FontUIResource</em>
<a id="L635" name="L635"></a> 635             <strong class="reserved">if</strong>(font <strong class="reserved">instanceof</strong> <a href="../S/2924.html#L50" title="Defined at 50 in src/javax/swing/plaf/FontUIResource.java.">FontUIResource</a>) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636                 <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a>     <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L637" name="L637"></a> 637 
<a id="L638" name="L638"></a> 638                 <strong class="reserved">if</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>() != <strong class="reserved">null</strong>)
<a id="L639" name="L639"></a> 639                     font = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>();
<a id="L640" name="L640"></a> 640             <em class="brace">}</em>
<a id="L641" name="L641"></a> 641             <strong class="reserved">return</strong> font;
<a id="L642" name="L642"></a> 642         <em class="brace">}</em>
<a id="L643" name="L643"></a> 643 
<div class="comment">
          Overrides <code>JTextField.getPreferredSize</code> to
          return the preferred size based on current font, if set,
          or else use renderer's font.
          @return a <code>Dimension</code> object containing
            the preferred size</div>
<a id="L651" name="L651"></a> 651         <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/18410.html" title="Multiple referred from 356 places.">getPreferredSize</a>() <em class="brace">{</em>
<a id="L652" name="L652"></a> 652             <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>      <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <strong class="reserved">super</strong>.<a href="../D/21582.html" title="Multiple defined in 121 places.">getPreferredSize</a>();
<a id="L653" name="L653"></a> 653 
<a id="L654" name="L654"></a> 654             <em class="comment">// If not font has been set, prefer the renderers height.</em>
<a id="L655" name="L655"></a> 655             <strong class="reserved">if</strong>(renderer != <strong class="reserved">null</strong> &amp;&amp;
<a id="L656" name="L656"></a> 656                <a href="../S/2720.html#L63" title="Defined at 63 in src/javax/swing/tree/DefaultTreeCellEditor.java.">DefaultTreeCellEditor</a>.<strong class="reserved">this</strong>.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L657" name="L657"></a> 657                 <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>     rSize = renderer.<a href="../D/21582.html" title="Multiple defined in 121 places.">getPreferredSize</a>();
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = rSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L660" name="L660"></a> 660             <em class="brace">}</em>
<a id="L661" name="L661"></a> 661             <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L662" name="L662"></a> 662         <em class="brace">}</em>
<a id="L663" name="L663"></a> 663     <em class="brace">}</em>
<a id="L664" name="L664"></a> 664 
<a id="L665" name="L665"></a> 665 
<div class="comment">
      Container responsible for placing the <code>editingComponent</code>.</div>
<a id="L669" name="L669"></a> 669     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../S/2720.html#L517" title="Referred from 517 in src/javax/swing/tree/DefaultTreeCellEditor.java.">EditorContainer</a> <strong class="reserved">extends</strong> <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <em class="brace">{</em>
<div class="comment">
          Constructs an <code>EditorContainer</code> object.</div>
<a id="L673" name="L673"></a> 673         <strong class="reserved">public</strong> EditorContainer() <em class="brace">{</em>
<a id="L674" name="L674"></a> 674             <a href="../D/33061.html" title="Multiple defined in 12 places.">setLayout</a>(<strong class="reserved">null</strong>);
<a id="L675" name="L675"></a> 675         <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677         <em class="comment">// This should not be used. It will be removed when new API is</em>
<a id="L678" name="L678"></a> 678         <em class="comment">// allowed.</em>
<a id="L679" name="L679"></a> 679         <strong class="reserved">public</strong> <strong class="reserved">void</strong> EditorContainer() <em class="brace">{</em>
<a id="L680" name="L680"></a> 680             <a href="../D/33061.html" title="Multiple defined in 12 places.">setLayout</a>(<strong class="reserved">null</strong>);
<a id="L681" name="L681"></a> 681         <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<div class="comment">
          Overrides <code>Container.paint</code> to paint the node's
          icon and use the selection color for the background.</div>
<a id="L687" name="L687"></a> 687         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g) <em class="brace">{</em>
<a id="L688" name="L688"></a> 688             <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = <a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L689" name="L689"></a> 689             <strong class="reserved">int</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L690" name="L690"></a> 690 
<a id="L691" name="L691"></a> 691             <em class="comment">// Then the icon.</em>
<a id="L692" name="L692"></a> 692             <strong class="reserved">if</strong>(editingIcon != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693                 <strong class="reserved">int</strong> yLoc = <a href="../S/2720.html#L735" title="Defined at 735 in src/javax/swing/tree/DefaultTreeCellEditor.java.">calculateIconY</a>(editingIcon);
<a id="L694" name="L694"></a> 694 
<a id="L695" name="L695"></a> 695                 <strong class="reserved">if</strong> (<a href="../S/2177.html#L8910" title="Defined at 8910 in src/java/awt/Component.java.">getComponentOrientation</a>().<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>()) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696                     editingIcon.<a href="../D/28833.html" title="Multiple defined in 87 places.">paintIcon</a>(<strong class="reserved">this</strong>, g, 0, yLoc);
<a id="L697" name="L697"></a> 697                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L698" name="L698"></a> 698                     editingIcon.<a href="../D/28833.html" title="Multiple defined in 87 places.">paintIcon</a>(
<a id="L699" name="L699"></a> 699                             <strong class="reserved">this</strong>, g, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - editingIcon.<a href="../D/19564.html" title="Multiple defined in 72 places.">getIconWidth</a>(),
<a id="L700" name="L700"></a> 700                             yLoc);
<a id="L701" name="L701"></a> 701                 <em class="brace">}</em>
<a id="L702" name="L702"></a> 702             <em class="brace">}</em>
<a id="L703" name="L703"></a> 703 
<a id="L704" name="L704"></a> 704             <em class="comment">// Border selection color</em>
<a id="L705" name="L705"></a> 705             <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>       background = <a href="../D/17314.html" title="Multiple defined in 2 places.">getBorderSelectionColor</a>();
<a id="L706" name="L706"></a> 706             <strong class="reserved">if</strong>(background != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L707" name="L707"></a> 707                 g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(background);
<a id="L708" name="L708"></a> 708                 g.<a href="../D/15210.html" title="Multiple defined in 2 places.">drawRect</a>(0, 0, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - 1, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> - 1);
<a id="L709" name="L709"></a> 709             <em class="brace">}</em>
<a id="L710" name="L710"></a> 710             <strong class="reserved">super</strong>.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g);
<a id="L711" name="L711"></a> 711         <em class="brace">}</em>
<a id="L712" name="L712"></a> 712 
<div class="comment">
          Lays out this <code>Container</code>.  If editing,
          the editor will be placed at
          <code>offset</code> in the x direction and 0 for y.</div>
<a id="L718" name="L718"></a> 718         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13409.html" title="Multiple referred from 3 places.">doLayout</a>() <em class="brace">{</em>
<a id="L719" name="L719"></a> 719             <strong class="reserved">if</strong>(editingComponent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L720" name="L720"></a> 720                 <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = <a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L721" name="L721"></a> 721                 <strong class="reserved">int</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L722" name="L722"></a> 722                 <strong class="reserved">if</strong> (<a href="../S/2177.html#L8910" title="Defined at 8910 in src/java/awt/Component.java.">getComponentOrientation</a>().<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>()) <em class="brace">{</em>
<a id="L723" name="L723"></a> 723                     editingComponent.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(
<a id="L724" name="L724"></a> 724                             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, 0, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L725" name="L725"></a> 725                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L726" name="L726"></a> 726                     editingComponent.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(
<a id="L727" name="L727"></a> 727                         0, 0, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L728" name="L728"></a> 728                 <em class="brace">}</em>
<a id="L729" name="L729"></a> 729             <em class="brace">}</em>
<a id="L730" name="L730"></a> 730         <em class="brace">}</em>
<a id="L731" name="L731"></a> 731 
<div class="comment">
          Calculate the y location for the icon.</div>
<a id="L735" name="L735"></a> 735         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/2720.html#L693" title="Referred from 693 in src/javax/swing/tree/DefaultTreeCellEditor.java.">calculateIconY</a>(<a href="../S/3146.html#L37" title="Defined at 37 in src/javax/swing/Icon.java.">Icon</a> icon) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736             <em class="comment">// To make sure the icon position matches that of the</em>
<a id="L737" name="L737"></a> 737             <em class="comment">// renderer, use the same algorithm as JLabel</em>
<a id="L738" name="L738"></a> 738             <em class="comment">// (SwingUtilities.layoutCompoundLabel).</em>
<a id="L739" name="L739"></a> 739             <strong class="reserved">int</strong> iconHeight = icon.<a href="../D/19556.html" title="Multiple defined in 71 places.">getIconHeight</a>();
<a id="L740" name="L740"></a> 740             <strong class="reserved">int</strong> textHeight = editingComponent.<a href="../D/19185.html" title="Multiple defined in 25 places.">getFontMetrics</a>(
<a id="L741" name="L741"></a> 741                 editingComponent.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>()).<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L742" name="L742"></a> 742             <strong class="reserved">int</strong> textY = iconHeight / 2 - textHeight / 2;
<a id="L743" name="L743"></a> 743             <strong class="reserved">int</strong> totalY = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(0, textY);
<a id="L744" name="L744"></a> 744             <strong class="reserved">int</strong> totalHeight = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(iconHeight, textY + textHeight) -
<a id="L745" name="L745"></a> 745                 totalY;
<a id="L746" name="L746"></a> 746             <strong class="reserved">return</strong> <a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() / 2 - (totalY + (totalHeight / 2));
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<div class="comment">
          Returns the preferred size for the <code>Container</code>.
          This will be at least preferred size of the editor plus
          <code>offset</code>.
          @return a <code>Dimension</code> containing the preferred
            size for the <code>Container</code>; if
            <code>editingComponent</code> is <code>null</code> the
            <code>Dimension</code> returned is 0, 0</div>
<a id="L758" name="L758"></a> 758         <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/18410.html" title="Multiple referred from 356 places.">getPreferredSize</a>() <em class="brace">{</em>
<a id="L759" name="L759"></a> 759             <strong class="reserved">if</strong>(editingComponent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L760" name="L760"></a> 760                 <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>         pSize = editingComponent.<a href="../D/21582.html" title="Multiple defined in 121 places.">getPreferredSize</a>();
<a id="L761" name="L761"></a> 761 
<a id="L762" name="L762"></a> 762                 pSize.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> += <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + 5;
<a id="L763" name="L763"></a> 763 
<a id="L764" name="L764"></a> 764                 <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>         rSize = (renderer != <strong class="reserved">null</strong>) ?
<a id="L765" name="L765"></a> 765                                           renderer.<a href="../D/21582.html" title="Multiple defined in 121 places.">getPreferredSize</a>() : <strong class="reserved">null</strong>;
<a id="L766" name="L766"></a> 766 
<a id="L767" name="L767"></a> 767                 <strong class="reserved">if</strong>(rSize != <strong class="reserved">null</strong>)
<a id="L768" name="L768"></a> 768                     pSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(pSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>, rSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L769" name="L769"></a> 769                 <strong class="reserved">if</strong>(editingIcon != <strong class="reserved">null</strong>)
<a id="L770" name="L770"></a> 770                     pSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(pSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>,
<a id="L771" name="L771"></a> 771                                             editingIcon.<a href="../D/19556.html" title="Multiple defined in 71 places.">getIconHeight</a>());
<a id="L772" name="L772"></a> 772 
<a id="L773" name="L773"></a> 773                 <em class="comment">// Make sure width is at least 100.</em>
<a id="L774" name="L774"></a> 774                 pSize.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(pSize.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, 100);
<a id="L775" name="L775"></a> 775                 <strong class="reserved">return</strong> pSize;
<a id="L776" name="L776"></a> 776             <em class="brace">}</em>
<a id="L777" name="L777"></a> 777             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>(0, 0);
<a id="L778" name="L778"></a> 778         <em class="brace">}</em>
<a id="L779" name="L779"></a> 779     <em class="brace">}</em>
<a id="L780" name="L780"></a> 780 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L160">[^]</a><a href="#L758">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>