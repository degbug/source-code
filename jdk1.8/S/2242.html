<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/image/IndexColorModel.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L138">[^]</a><a href="#L1525">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L138" title="Defined at 138.">initIDs</a></li>
<li><a href="#L508" title="Defined at 508.">setRGBs</a></li>
<li><a href="#L545" title="Defined at 545.">setRGBs</a></li>
<li><a href="#L585" title="Defined at 585.">calcRealMapSize</a></li>
<li><a href="#L590" title="Defined at 590.">getAllValid</a></li>
<li><a href="#L607" title="Defined at 607.">getTransparency</a></li>
<li><a href="#L618" title="Defined at 618.">getComponentSize</a></li>
<li><a href="#L637" title="Defined at 637.">getMapSize</a></li>
<li><a href="#L653" title="Defined at 653.">getTransparentPixel</a></li>
<li><a href="#L664" title="Defined at 664.">getReds</a></li>
<li><a href="#L677" title="Defined at 677.">getGreens</a></li>
<li><a href="#L690" title="Defined at 690.">getBlues</a></li>
<li><a href="#L703" title="Defined at 703.">getAlphas</a></li>
<li><a href="#L720" title="Defined at 720.">getRGBs</a></li>
<li><a href="#L724" title="Defined at 724.">setTransparentPixel</a></li>
<li><a href="#L735" title="Defined at 735.">setTransparency</a></li>
<li><a href="#L756" title="Defined at 756.">calculatePixelMask</a></li>
<li><a href="#L779" title="Defined at 779.">getRed</a></li>
<li><a href="#L794" title="Defined at 794.">getGreen</a></li>
<li><a href="#L809" title="Defined at 809.">getBlue</a></li>
<li><a href="#L822" title="Defined at 822.">getAlpha</a></li>
<li><a href="#L837" title="Defined at 837.">getRGB</a></li>
<li><a href="#L878" title="Defined at 878.">getDataElements</a></li>
<li><a href="#L1032" title="Defined at 1032.">installpixel</a></li>
<li><a href="#L1093" title="Defined at 1093.">getComponents</a></li>
<li><a href="#L1159" title="Defined at 1159.">getComponents</a></li>
<li><a href="#L1205" title="Defined at 1205.">getDataElement</a></li>
<li><a href="#L1278" title="Defined at 1278.">getDataElements</a></li>
<li><a href="#L1309" title="Defined at 1309.">createCompatibleWritableRaster</a></li>
<li><a href="#L1342" title="Defined at 1342.">isCompatibleRaster</a></li>
<li><a href="#L1361" title="Defined at 1361.">createCompatibleSampleModel</a></li>
<li><a href="#L1385" title="Defined at 1385.">isCompatibleSampleModel</a></li>
<li><a href="#L1425" title="Defined at 1425.">convertToIntDiscrete</a></li>
<li><a href="#L1477" title="Defined at 1477.">isValid</a></li>
<li><a href="#L1488" title="Defined at 1488.">isValid</a></li>
<li><a href="#L1502" title="Defined at 1502.">getValidPixels</a></li>
<li><a href="#L1516" title="Defined at 1516.">finalize</a></li>
<li><a href="#L1525" title="Defined at 1525.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.image;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.Transparency;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.color.ColorSpace;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.math.BigInteger;
<a id="L31" name="L31"></a>  31 
<div class="comment">
  The <code>IndexColorModel</code> class is a <code>ColorModel</code>
  class that works with pixel values consisting of a
  single sample that is an index into a fixed colormap in the default
  sRGB color space.  The colormap specifies red, green, blue, and
  optional alpha components corresponding to each index.  All components
  are represented in the colormap as 8-bit unsigned integral values.
  Some constructors allow the caller to specify "holes" in the colormap
  by indicating which colormap entries are valid and which represent
  unusable colors via the bits set in a <code>BigInteger</code> object.
  This color model is similar to an X11 PseudoColor visual.
  <p>
  Some constructors provide a means to specify an alpha component
  for each pixel in the colormap, while others either provide no
  such means or, in some cases, a flag to indicate whether the
  colormap data contains alpha values.  If no alpha is supplied to
  the constructor, an opaque alpha component (alpha = 1.0) is
  assumed for each entry.
  An optional transparent pixel value can be supplied that indicates a
  pixel to be made completely transparent, regardless of any alpha
  component supplied or assumed for that pixel value.
  Note that the color components in the colormap of an
  <code>IndexColorModel</code> objects are never pre-multiplied with
  the alpha components.
  </p><p>
  <a name="transparency">
  The transparency of an <code>IndexColorModel</code> object is
  determined by examining the alpha components of the colors in the
  colormap and choosing the most specific value after considering
  the optional alpha values and any transparent index specified.
  The transparency value is <code>Transparency.OPAQUE</code>
  only if all valid colors in
  the colormap are opaque and there is no valid transparent pixel.
  If all valid colors
  in the colormap are either completely opaque (alpha = 1.0) or
  completely transparent (alpha = 0.0), which typically occurs when
  a valid transparent pixel is specified,
  the value is <code>Transparency.BITMASK</code>.
  Otherwise, the value is <code>Transparency.TRANSLUCENT</code>, indicating
  that some valid color has an alpha component that is
  neither completely transparent nor completely opaque
  (0.0 &lt; alpha &lt; 1.0).
  </a>
  </p><p>
  If an <code>IndexColorModel</code> object has
  a transparency value of <code>Transparency.OPAQUE</code>,
  then the <code>hasAlpha</code>
  and <code>getNumComponents</code> methods
  (both inherited from <code>ColorModel</code>)
  return false and 3, respectively.
  For any other transparency value,
  <code>hasAlpha</code> returns true
  and <code>getNumComponents</code> returns 4.
  </p><p>
  <a name="index_values">
  The values used to index into the colormap are taken from the least
  significant <em>n</em> bits of pixel representations where
  <em>n</em> is based on the pixel size specified in the constructor.
  For pixel sizes smaller than 8 bits, <em>n</em> is rounded up to a
  power of two (3 becomes 4 and 5,6,7 become 8).
  For pixel sizes between 8 and 16 bits, <em>n</em> is equal to the
  pixel size.
  Pixel sizes larger than 16 bits are not supported by this class.
  Higher order bits beyond <em>n</em> are ignored in pixel representations.
  Index values greater than or equal to the map size, but less than
  2<sup><em>n</em></sup>, are undefined and return 0 for all color and
  alpha components.
  </a>
  </p><p>
  For those methods that use a primitive array pixel representation of
  type <code>transferType</code>, the array length is always one.
  The transfer types supported are <code>DataBuffer.TYPE_BYTE</code> and
  <code>DataBuffer.TYPE_USHORT</code>.  A single int pixel
  representation is valid for all objects of this class, since it is
  always possible to represent pixel values used with this class in a
  single int.  Therefore, methods that use this representation do
  not throw an <code>IllegalArgumentException</code> due to an invalid
  pixel value.
  </p><p>
  Many of the methods in this class are final.  The reason for
  this is that the underlying native graphics code makes assumptions
  about the layout and operation of this class and those assumptions
  are reflected in the implementations of the methods here that are
  marked final.  You can subclass this class for other reasons, but
  you cannot override or modify the behaviour of those methods.
  @see ColorModel
  @see ColorSpace
  @see DataBuffer</p></div>
<a id="L125" name="L125"></a> 125 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/3776.html" title="Multiple referred from 92 places.">IndexColorModel</a> <strong class="reserved">extends</strong> <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> <em class="brace">{</em>
<a id="L126" name="L126"></a> 126     <strong class="reserved">private</strong> <strong class="reserved">int</strong> rgb[];
<a id="L127" name="L127"></a> 127     <strong class="reserved">private</strong> <strong class="reserved">int</strong> map_size;
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <strong class="reserved">int</strong> pixel_mask;
<a id="L129" name="L129"></a> 129     <strong class="reserved">private</strong> <strong class="reserved">int</strong> transparent_index = -1;
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> allgrayopaque;
<a id="L131" name="L131"></a> 131     <strong class="reserved">private</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> validBits;
<a id="L132" name="L132"></a> 132 
<a id="L133" name="L133"></a> 133     <strong class="reserved">private</strong> sun.awt.image.BufImgSurfaceData.ICMColorData colorData = <strong class="reserved">null</strong>;
<a id="L134" name="L134"></a> 134 
<a id="L135" name="L135"></a> 135     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] opaqueBits = <em class="brace">{</em>8, 8, 8<em class="brace">}</em>;
<a id="L136" name="L136"></a> 136     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] alphaBits = <em class="brace">{</em>8, 8, 8, 8<em class="brace">}</em>;
<a id="L137" name="L137"></a> 137 
<a id="L138" name="L138"></a> 138     <strong class="reserved">static</strong> <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/20590.html" title="Multiple referred from 52 places.">initIDs</a>();
<a id="L139" name="L139"></a> 139     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L140" name="L140"></a> 140         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../D/26950.html" title="Multiple defined in 3 places.">loadLibraries</a>();
<a id="L141" name="L141"></a> 141         <a href="../D/24550.html" title="Multiple defined in 53 places.">initIDs</a>();
<a id="L142" name="L142"></a> 142     <em class="brace">}</em>
<div class="comment">
      Constructs an <code>IndexColorModel</code> from the specified
      arrays of red, green, and blue components.  Pixels described
      by this color model all have alpha components of 255
      unnormalized (1.0&nbsp;normalized), which means they
      are fully opaque.  All of the arrays specifying the color
      components must have at least the specified number of entries.
      The <code>ColorSpace</code> is the default sRGB space.
      Since there is no alpha information in any of the arguments
      to this constructor, the transparency value is always
      <code>Transparency.OPAQUE</code>.
      The transfer type is the smallest of <code>DataBuffer.TYPE_BYTE</code>
      or <code>DataBuffer.TYPE_USHORT</code> that can hold a single pixel.
      @param bits      the number of bits each pixel occupies
      @param size      the size of the color component arrays
      @param r         the array of red color components
      @param g         the array of green color components
      @param b         the array of blue color components
      @throws IllegalArgumentException if <code>bits</code> is less
              than 1 or greater than 16
      @throws IllegalArgumentException if <code>size</code> is less
              than 1</div>
<a id="L166" name="L166"></a> 166     <strong class="reserved">public</strong> IndexColorModel(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>,
<a id="L167" name="L167"></a> 167                            <strong class="reserved">byte</strong> r[], <strong class="reserved">byte</strong> g[], <strong class="reserved">byte</strong> b[]) <em class="brace">{</em>
<a id="L168" name="L168"></a> 168         <strong class="reserved">super</strong>(bits, opaqueBits,
<a id="L169" name="L169"></a> 169               <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.CS_sRGB),
<a id="L170" name="L170"></a> 170               <strong class="reserved">false</strong>, <strong class="reserved">false</strong>, OPAQUE,
<a id="L171" name="L171"></a> 171               <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../S/2256.html#L1682" title="Defined at 1682 in src/java/awt/image/ColorModel.java.">getDefaultTransferType</a>(bits));
<a id="L172" name="L172"></a> 172         <strong class="reserved">if</strong> (bits &lt; 1 || bits &gt; 16) <em class="brace">{</em>
<a id="L173" name="L173"></a> 173             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bits must be between"
<a id="L174" name="L174"></a> 174                                                +" 1 and 16.");
<a id="L175" name="L175"></a> 175         <em class="brace">}</em>
<a id="L176" name="L176"></a> 176         <a href="../D/33647.html" title="Multiple defined in 2 places.">setRGBs</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, r, g, b, <strong class="reserved">null</strong>);
<a id="L177" name="L177"></a> 177         <a href="../S/2242.html#L756" title="Defined at 756 in src/java/awt/image/IndexColorModel.java.">calculatePixelMask</a>();
<a id="L178" name="L178"></a> 178     <em class="brace">}</em>
<a id="L179" name="L179"></a> 179 
<div class="comment">
      Constructs an <code>IndexColorModel</code> from the given arrays
      of red, green, and blue components.  Pixels described by this color
      model all have alpha components of 255 unnormalized
      (1.0&nbsp;normalized), which means they are fully opaque, except
      for the indicated pixel to be made transparent.  All of the arrays
      specifying the color components must have at least the specified
      number of entries.
      The <code>ColorSpace</code> is the default sRGB space.
      The transparency value may be <code>Transparency.OPAQUE</code> or
      <code>Transparency.BITMASK</code> depending on the arguments, as
      specified in the <a href="#transparency">class description</a> above.
      The transfer type is the smallest of <code>DataBuffer.TYPE_BYTE</code>
      or <code>DataBuffer.TYPE_USHORT</code> that can hold a
      single pixel.
      @param bits      the number of bits each pixel occupies
      @param size      the size of the color component arrays
      @param r         the array of red color components
      @param g         the array of green color components
      @param b         the array of blue color components
      @param trans     the index of the transparent pixel
      @throws IllegalArgumentException if <code>bits</code> is less than
               1 or greater than 16
      @throws IllegalArgumentException if <code>size</code> is less than
               1</div>
<a id="L206" name="L206"></a> 206     <strong class="reserved">public</strong> IndexColorModel(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>,
<a id="L207" name="L207"></a> 207                            <strong class="reserved">byte</strong> r[], <strong class="reserved">byte</strong> g[], <strong class="reserved">byte</strong> b[], <strong class="reserved">int</strong> trans) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <strong class="reserved">super</strong>(bits, opaqueBits,
<a id="L209" name="L209"></a> 209               <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.CS_sRGB),
<a id="L210" name="L210"></a> 210               <strong class="reserved">false</strong>, <strong class="reserved">false</strong>, OPAQUE,
<a id="L211" name="L211"></a> 211               <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../S/2256.html#L1682" title="Defined at 1682 in src/java/awt/image/ColorModel.java.">getDefaultTransferType</a>(bits));
<a id="L212" name="L212"></a> 212         <strong class="reserved">if</strong> (bits &lt; 1 || bits &gt; 16) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bits must be between"
<a id="L214" name="L214"></a> 214                                                +" 1 and 16.");
<a id="L215" name="L215"></a> 215         <em class="brace">}</em>
<a id="L216" name="L216"></a> 216         <a href="../D/33647.html" title="Multiple defined in 2 places.">setRGBs</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, r, g, b, <strong class="reserved">null</strong>);
<a id="L217" name="L217"></a> 217         <a href="../S/2242.html#L724" title="Defined at 724 in src/java/awt/image/IndexColorModel.java.">setTransparentPixel</a>(trans);
<a id="L218" name="L218"></a> 218         <a href="../S/2242.html#L756" title="Defined at 756 in src/java/awt/image/IndexColorModel.java.">calculatePixelMask</a>();
<a id="L219" name="L219"></a> 219     <em class="brace">}</em>
<a id="L220" name="L220"></a> 220 
<div class="comment">
      Constructs an <code>IndexColorModel</code> from the given
      arrays of red, green, blue and alpha components.  All of the
      arrays specifying the components must have at least the specified
      number of entries.
      The <code>ColorSpace</code> is the default sRGB space.
      The transparency value may be any of <code>Transparency.OPAQUE</code>,
      <code>Transparency.BITMASK</code>,
      or <code>Transparency.TRANSLUCENT</code>
      depending on the arguments, as specified
      in the <a href="#transparency">class description</a> above.
      The transfer type is the smallest of <code>DataBuffer.TYPE_BYTE</code>
      or <code>DataBuffer.TYPE_USHORT</code> that can hold a single pixel.
      @param bits      the number of bits each pixel occupies
      @param size      the size of the color component arrays
      @param r         the array of red color components
      @param g         the array of green color components
      @param b         the array of blue color components
      @param a         the array of alpha value components
      @throws IllegalArgumentException if <code>bits</code> is less
                than 1 or greater than 16
      @throws IllegalArgumentException if <code>size</code> is less
                than 1</div>
<a id="L245" name="L245"></a> 245     <strong class="reserved">public</strong> IndexColorModel(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>,
<a id="L246" name="L246"></a> 246                            <strong class="reserved">byte</strong> r[], <strong class="reserved">byte</strong> g[], <strong class="reserved">byte</strong> b[], <strong class="reserved">byte</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[]) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">super</strong> (bits, alphaBits,
<a id="L248" name="L248"></a> 248                <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.CS_sRGB),
<a id="L249" name="L249"></a> 249                <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, TRANSLUCENT,
<a id="L250" name="L250"></a> 250                <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../S/2256.html#L1682" title="Defined at 1682 in src/java/awt/image/ColorModel.java.">getDefaultTransferType</a>(bits));
<a id="L251" name="L251"></a> 251         <strong class="reserved">if</strong> (bits &lt; 1 || bits &gt; 16) <em class="brace">{</em>
<a id="L252" name="L252"></a> 252             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bits must be between"
<a id="L253" name="L253"></a> 253                                                +" 1 and 16.");
<a id="L254" name="L254"></a> 254         <em class="brace">}</em>
<a id="L255" name="L255"></a> 255         <a href="../D/33647.html" title="Multiple defined in 2 places.">setRGBs</a> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, r, g, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L256" name="L256"></a> 256         <a href="../S/2242.html#L756" title="Defined at 756 in src/java/awt/image/IndexColorModel.java.">calculatePixelMask</a>();
<a id="L257" name="L257"></a> 257     <em class="brace">}</em>
<a id="L258" name="L258"></a> 258 
<div class="comment">
      Constructs an <code>IndexColorModel</code> from a single
      array of interleaved red, green, blue and optional alpha
      components.  The array must have enough values in it to
      fill all of the needed component arrays of the specified
      size.  The <code>ColorSpace</code> is the default sRGB space.
      The transparency value may be any of <code>Transparency.OPAQUE</code>,
      <code>Transparency.BITMASK</code>,
      or <code>Transparency.TRANSLUCENT</code>
      depending on the arguments, as specified
      in the <a href="#transparency">class description</a> above.
      The transfer type is the smallest of
      <code>DataBuffer.TYPE_BYTE</code> or <code>DataBuffer.TYPE_USHORT</code>
      that can hold a single pixel.
      @param bits      the number of bits each pixel occupies
      @param size      the size of the color component arrays
      @param cmap      the array of color components
      @param start     the starting offset of the first color component
      @param hasalpha  indicates whether alpha values are contained in
                       the <code>cmap</code> array
      @throws IllegalArgumentException if <code>bits</code> is less
                than 1 or greater than 16
      @throws IllegalArgumentException if <code>size</code> is less
                than 1</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> IndexColorModel(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">byte</strong> cmap[], <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,
<a id="L286" name="L286"></a> 286                            <strong class="reserved">boolean</strong> hasalpha) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <strong class="reserved">this</strong>(bits, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, cmap, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, hasalpha, -1);
<a id="L288" name="L288"></a> 288         <strong class="reserved">if</strong> (bits &lt; 1 || bits &gt; 16) <em class="brace">{</em>
<a id="L289" name="L289"></a> 289             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bits must be between"
<a id="L290" name="L290"></a> 290                                                +" 1 and 16.");
<a id="L291" name="L291"></a> 291         <em class="brace">}</em>
<a id="L292" name="L292"></a> 292     <em class="brace">}</em>
<a id="L293" name="L293"></a> 293 
<div class="comment">
      Constructs an <code>IndexColorModel</code> from a single array of
      interleaved red, green, blue and optional alpha components.  The
      specified transparent index represents a pixel that is made
      entirely transparent regardless of any alpha value specified
      for it.  The array must have enough values in it to fill all
      of the needed component arrays of the specified size.
      The <code>ColorSpace</code> is the default sRGB space.
      The transparency value may be any of <code>Transparency.OPAQUE</code>,
      <code>Transparency.BITMASK</code>,
      or <code>Transparency.TRANSLUCENT</code>
      depending on the arguments, as specified
      in the <a href="#transparency">class description</a> above.
      The transfer type is the smallest of
      <code>DataBuffer.TYPE_BYTE</code> or <code>DataBuffer.TYPE_USHORT</code>
      that can hold a single pixel.
      @param bits      the number of bits each pixel occupies
      @param size      the size of the color component arrays
      @param cmap      the array of color components
      @param start     the starting offset of the first color component
      @param hasalpha  indicates whether alpha values are contained in
                       the <code>cmap</code> array
      @param trans     the index of the fully transparent pixel
      @throws IllegalArgumentException if <code>bits</code> is less than
                    1 or greater than 16
      @throws IllegalArgumentException if <code>size</code> is less than
                    1</div>
<a id="L322" name="L322"></a> 322     <strong class="reserved">public</strong> IndexColorModel(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">byte</strong> cmap[], <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,
<a id="L323" name="L323"></a> 323                            <strong class="reserved">boolean</strong> hasalpha, <strong class="reserved">int</strong> trans) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324         <em class="comment">// REMIND: This assumes the ordering: RGB[A]</em>
<a id="L325" name="L325"></a> 325         <strong class="reserved">super</strong>(bits, opaqueBits,
<a id="L326" name="L326"></a> 326               <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.CS_sRGB),
<a id="L327" name="L327"></a> 327               <strong class="reserved">false</strong>, <strong class="reserved">false</strong>, OPAQUE,
<a id="L328" name="L328"></a> 328               <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../S/2256.html#L1682" title="Defined at 1682 in src/java/awt/image/ColorModel.java.">getDefaultTransferType</a>(bits));
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330         <strong class="reserved">if</strong> (bits &lt; 1 || bits &gt; 16) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bits must be between"
<a id="L332" name="L332"></a> 332                                                +" 1 and 16.");
<a id="L333" name="L333"></a> 333         <em class="brace">}</em>
<a id="L334" name="L334"></a> 334         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &lt; 1) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Map size ("+<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>+
<a id="L336" name="L336"></a> 336                                                ") must be &gt;= 1");
<a id="L337" name="L337"></a> 337         <em class="brace">}</em>
<a id="L338" name="L338"></a> 338         map_size = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L339" name="L339"></a> 339         rgb = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[<a href="../S/2242.html#L585" title="Defined at 585 in src/java/awt/image/IndexColorModel.java.">calcRealMapSize</a>(bits, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)];
<a id="L340" name="L340"></a> 340         <strong class="reserved">int</strong> j = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L341" name="L341"></a> 341         <strong class="reserved">int</strong> alpha = 0xff;
<a id="L342" name="L342"></a> 342         <strong class="reserved">boolean</strong> allgray = <strong class="reserved">true</strong>;
<a id="L343" name="L343"></a> 343         <strong class="reserved">int</strong> transparency = OPAQUE;
<a id="L344" name="L344"></a> 344         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345             <strong class="reserved">int</strong> r = cmap[j++] &amp; 0xff;
<a id="L346" name="L346"></a> 346             <strong class="reserved">int</strong> g = cmap[j++] &amp; 0xff;
<a id="L347" name="L347"></a> 347             <strong class="reserved">int</strong> b = cmap[j++] &amp; 0xff;
<a id="L348" name="L348"></a> 348             allgray = allgray &amp;&amp; (r == g) &amp;&amp; (g == b);
<a id="L349" name="L349"></a> 349             <strong class="reserved">if</strong> (hasalpha) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350                 alpha = cmap[j++] &amp; 0xff;
<a id="L351" name="L351"></a> 351                 <strong class="reserved">if</strong> (alpha != 0xff) <em class="brace">{</em>
<a id="L352" name="L352"></a> 352                     <strong class="reserved">if</strong> (alpha == 0x00) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353                         <strong class="reserved">if</strong> (transparency == OPAQUE) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354                             transparency = BITMASK;
<a id="L355" name="L355"></a> 355                         <em class="brace">}</em>
<a id="L356" name="L356"></a> 356                         <strong class="reserved">if</strong> (transparent_index &lt; 0) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357                             transparent_index = i;
<a id="L358" name="L358"></a> 358                         <em class="brace">}</em>
<a id="L359" name="L359"></a> 359                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L360" name="L360"></a> 360                         transparency = TRANSLUCENT;
<a id="L361" name="L361"></a> 361                     <em class="brace">}</em>
<a id="L362" name="L362"></a> 362                     allgray = <strong class="reserved">false</strong>;
<a id="L363" name="L363"></a> 363                 <em class="brace">}</em>
<a id="L364" name="L364"></a> 364             <em class="brace">}</em>
<a id="L365" name="L365"></a> 365             rgb[i] = (alpha &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;
<a id="L366" name="L366"></a> 366         <em class="brace">}</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">this</strong>.allgrayopaque = allgray;
<a id="L368" name="L368"></a> 368         <a href="../S/2242.html#L735" title="Defined at 735 in src/java/awt/image/IndexColorModel.java.">setTransparency</a>(transparency);
<a id="L369" name="L369"></a> 369         <a href="../S/2242.html#L724" title="Defined at 724 in src/java/awt/image/IndexColorModel.java.">setTransparentPixel</a>(trans);
<a id="L370" name="L370"></a> 370         <a href="../S/2242.html#L756" title="Defined at 756 in src/java/awt/image/IndexColorModel.java.">calculatePixelMask</a>();
<a id="L371" name="L371"></a> 371     <em class="brace">}</em>
<a id="L372" name="L372"></a> 372 
<div class="comment">
      Constructs an <code>IndexColorModel</code> from an array of
      ints where each int is comprised of red, green, blue, and
      optional alpha components in the default RGB color model format.
      The specified transparent index represents a pixel that is made
      entirely transparent regardless of any alpha value specified
      for it.  The array must have enough values in it to fill all
      of the needed component arrays of the specified size.
      The <code>ColorSpace</code> is the default sRGB space.
      The transparency value may be any of <code>Transparency.OPAQUE</code>,
      <code>Transparency.BITMASK</code>,
      or <code>Transparency.TRANSLUCENT</code>
      depending on the arguments, as specified
      in the <a href="#transparency">class description</a> above.
      @param bits      the number of bits each pixel occupies
      @param size      the size of the color component arrays
      @param cmap      the array of color components
      @param start     the starting offset of the first color component
      @param hasalpha  indicates whether alpha values are contained in
                       the <code>cmap</code> array
      @param trans     the index of the fully transparent pixel
      @param transferType the data type of the array used to represent
                pixel values.  The data type must be either
                <code>DataBuffer.TYPE_BYTE</code> or
                <code>DataBuffer.TYPE_USHORT</code>.
      @throws IllegalArgumentException if <code>bits</code> is less
                than 1 or greater than 16
      @throws IllegalArgumentException if <code>size</code> is less
                than 1
      @throws IllegalArgumentException if <code>transferType</code> is not
                one of <code>DataBuffer.TYPE_BYTE</code> or
                <code>DataBuffer.TYPE_USHORT</code></div>
<a id="L406" name="L406"></a> 406     <strong class="reserved">public</strong> IndexColorModel(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>,
<a id="L407" name="L407"></a> 407                            <strong class="reserved">int</strong> cmap[], <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,
<a id="L408" name="L408"></a> 408                            <strong class="reserved">boolean</strong> hasalpha, <strong class="reserved">int</strong> trans, <strong class="reserved">int</strong> transferType) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409         <em class="comment">// REMIND: This assumes the ordering: RGB[A]</em>
<a id="L410" name="L410"></a> 410         <strong class="reserved">super</strong>(bits, opaqueBits,
<a id="L411" name="L411"></a> 411               <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.CS_sRGB),
<a id="L412" name="L412"></a> 412               <strong class="reserved">false</strong>, <strong class="reserved">false</strong>, OPAQUE,
<a id="L413" name="L413"></a> 413               transferType);
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415         <strong class="reserved">if</strong> (bits &lt; 1 || bits &gt; 16) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bits must be between"
<a id="L417" name="L417"></a> 417                                                +" 1 and 16.");
<a id="L418" name="L418"></a> 418         <em class="brace">}</em>
<a id="L419" name="L419"></a> 419         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &lt; 1) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Map size ("+<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>+
<a id="L421" name="L421"></a> 421                                                ") must be &gt;= 1");
<a id="L422" name="L422"></a> 422         <em class="brace">}</em>
<a id="L423" name="L423"></a> 423         <strong class="reserved">if</strong> ((transferType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE) &amp;&amp;
<a id="L424" name="L424"></a> 424             (transferType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT)) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("transferType must be either" +
<a id="L426" name="L426"></a> 426                 "DataBuffer.TYPE_BYTE or DataBuffer.TYPE_USHORT");
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428 
<a id="L429" name="L429"></a> 429         <a href="../D/33647.html" title="Multiple defined in 2 places.">setRGBs</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, cmap, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, hasalpha);
<a id="L430" name="L430"></a> 430         <a href="../S/2242.html#L724" title="Defined at 724 in src/java/awt/image/IndexColorModel.java.">setTransparentPixel</a>(trans);
<a id="L431" name="L431"></a> 431         <a href="../S/2242.html#L756" title="Defined at 756 in src/java/awt/image/IndexColorModel.java.">calculatePixelMask</a>();
<a id="L432" name="L432"></a> 432     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<div class="comment">
      Constructs an <code>IndexColorModel</code> from an
      <code>int</code> array where each <code>int</code> is
      comprised of red, green, blue, and alpha
      components in the default RGB color model format.
      The array must have enough values in it to fill all
      of the needed component arrays of the specified size.
      The <code>ColorSpace</code> is the default sRGB space.
      The transparency value may be any of <code>Transparency.OPAQUE</code>,
      <code>Transparency.BITMASK</code>,
      or <code>Transparency.TRANSLUCENT</code>
      depending on the arguments, as specified
      in the <a href="#transparency">class description</a> above.
      The transfer type must be one of <code>DataBuffer.TYPE_BYTE</code>
      <code>DataBuffer.TYPE_USHORT</code>.
      The <code>BigInteger</code> object specifies the valid/invalid pixels
      in the <code>cmap</code> array.  A pixel is valid if the
      <code>BigInteger</code> value at that index is set, and is invalid
      if the <code>BigInteger</code> bit  at that index is not set.
      @param bits the number of bits each pixel occupies
      @param size the size of the color component array
      @param cmap the array of color components
      @param start the starting offset of the first color component
      @param transferType the specified data type
      @param validBits a <code>BigInteger</code> object.  If a bit is
         set in the BigInteger, the pixel at that index is valid.
         If a bit is not set, the pixel at that index
         is considered invalid.  If null, all pixels are valid.
         Only bits from 0 to the map size are considered.
      @throws IllegalArgumentException if <code>bits</code> is less
                than 1 or greater than 16
      @throws IllegalArgumentException if <code>size</code> is less
                than 1
      @throws IllegalArgumentException if <code>transferType</code> is not
                one of <code>DataBuffer.TYPE_BYTE</code> or
                <code>DataBuffer.TYPE_USHORT</code>
      @since 1.3</div>
<a id="L473" name="L473"></a> 473     <strong class="reserved">public</strong> IndexColorModel(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> cmap[], <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,
<a id="L474" name="L474"></a> 474                            <strong class="reserved">int</strong> transferType, <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> validBits) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475         <strong class="reserved">super</strong> (bits, alphaBits,
<a id="L476" name="L476"></a> 476                <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.CS_sRGB),
<a id="L477" name="L477"></a> 477                <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, TRANSLUCENT,
<a id="L478" name="L478"></a> 478                transferType);
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480         <strong class="reserved">if</strong> (bits &lt; 1 || bits &gt; 16) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bits must be between"
<a id="L482" name="L482"></a> 482                                                +" 1 and 16.");
<a id="L483" name="L483"></a> 483         <em class="brace">}</em>
<a id="L484" name="L484"></a> 484         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &lt; 1) <em class="brace">{</em>
<a id="L485" name="L485"></a> 485             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Map size ("+<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>+
<a id="L486" name="L486"></a> 486                                                ") must be &gt;= 1");
<a id="L487" name="L487"></a> 487         <em class="brace">}</em>
<a id="L488" name="L488"></a> 488         <strong class="reserved">if</strong> ((transferType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE) &amp;&amp;
<a id="L489" name="L489"></a> 489             (transferType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT)) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("transferType must be either" +
<a id="L491" name="L491"></a> 491                 "DataBuffer.TYPE_BYTE or DataBuffer.TYPE_USHORT");
<a id="L492" name="L492"></a> 492         <em class="brace">}</em>
<a id="L493" name="L493"></a> 493 
<a id="L494" name="L494"></a> 494         <strong class="reserved">if</strong> (validBits != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L495" name="L495"></a> 495             <em class="comment">// Check to see if it is all valid</em>
<a id="L496" name="L496"></a> 496             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497                 <strong class="reserved">if</strong> (!validBits.<a href="../S/1462.html#L3156" title="Defined at 3156 in src/java/math/BigInteger.java.">testBit</a>(i)) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498                     <strong class="reserved">this</strong>.validBits = validBits;
<a id="L499" name="L499"></a> 499                     <strong class="reserved">break</strong>;
<a id="L500" name="L500"></a> 500                 <em class="brace">}</em>
<a id="L501" name="L501"></a> 501             <em class="brace">}</em>
<a id="L502" name="L502"></a> 502         <em class="brace">}</em>
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504         <a href="../D/33647.html" title="Multiple defined in 2 places.">setRGBs</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, cmap, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">true</strong>);
<a id="L505" name="L505"></a> 505         <a href="../S/2242.html#L756" title="Defined at 756 in src/java/awt/image/IndexColorModel.java.">calculatePixelMask</a>();
<a id="L506" name="L506"></a> 506     <em class="brace">}</em>
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27989.html" title="Multiple referred from 5 places.">setRGBs</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">byte</strong> r[], <strong class="reserved">byte</strong> g[], <strong class="reserved">byte</strong> b[], <strong class="reserved">byte</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[]) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &lt; 1) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Map size ("+<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>+
<a id="L511" name="L511"></a> 511                                                ") must be &gt;= 1");
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513         map_size = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L514" name="L514"></a> 514         rgb = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[<a href="../S/2242.html#L585" title="Defined at 585 in src/java/awt/image/IndexColorModel.java.">calcRealMapSize</a>(pixel_bits, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)];
<a id="L515" name="L515"></a> 515         <strong class="reserved">int</strong> alpha = 0xff;
<a id="L516" name="L516"></a> 516         <strong class="reserved">int</strong> transparency = OPAQUE;
<a id="L517" name="L517"></a> 517         <strong class="reserved">boolean</strong> allgray = <strong class="reserved">true</strong>;
<a id="L518" name="L518"></a> 518         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519             <strong class="reserved">int</strong> rc = r[i] &amp; 0xff;
<a id="L520" name="L520"></a> 520             <strong class="reserved">int</strong> <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> = g[i] &amp; 0xff;
<a id="L521" name="L521"></a> 521             <strong class="reserved">int</strong> bc = b[i] &amp; 0xff;
<a id="L522" name="L522"></a> 522             allgray = allgray &amp;&amp; (rc == <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>) &amp;&amp; (<a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> == bc);
<a id="L523" name="L523"></a> 523             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524                 alpha = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] &amp; 0xff;
<a id="L525" name="L525"></a> 525                 <strong class="reserved">if</strong> (alpha != 0xff) <em class="brace">{</em>
<a id="L526" name="L526"></a> 526                     <strong class="reserved">if</strong> (alpha == 0x00) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                         <strong class="reserved">if</strong> (transparency == OPAQUE) <em class="brace">{</em>
<a id="L528" name="L528"></a> 528                             transparency = BITMASK;
<a id="L529" name="L529"></a> 529                         <em class="brace">}</em>
<a id="L530" name="L530"></a> 530                         <strong class="reserved">if</strong> (transparent_index &lt; 0) <em class="brace">{</em>
<a id="L531" name="L531"></a> 531                             transparent_index = i;
<a id="L532" name="L532"></a> 532                         <em class="brace">}</em>
<a id="L533" name="L533"></a> 533                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L534" name="L534"></a> 534                         transparency = TRANSLUCENT;
<a id="L535" name="L535"></a> 535                     <em class="brace">}</em>
<a id="L536" name="L536"></a> 536                     allgray = <strong class="reserved">false</strong>;
<a id="L537" name="L537"></a> 537                 <em class="brace">}</em>
<a id="L538" name="L538"></a> 538             <em class="brace">}</em>
<a id="L539" name="L539"></a> 539             rgb[i] = (alpha &lt;&lt; 24) | (rc &lt;&lt; 16) | (<a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> &lt;&lt; 8) | bc;
<a id="L540" name="L540"></a> 540         <em class="brace">}</em>
<a id="L541" name="L541"></a> 541         <strong class="reserved">this</strong>.allgrayopaque = allgray;
<a id="L542" name="L542"></a> 542         <a href="../S/2242.html#L735" title="Defined at 735 in src/java/awt/image/IndexColorModel.java.">setTransparency</a>(transparency);
<a id="L543" name="L543"></a> 543     <em class="brace">}</em>
<a id="L544" name="L544"></a> 544 
<a id="L545" name="L545"></a> 545     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27989.html" title="Multiple referred from 5 places.">setRGBs</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> cmap[], <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">boolean</strong> hasalpha) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546         map_size = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L547" name="L547"></a> 547         rgb = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[<a href="../S/2242.html#L585" title="Defined at 585 in src/java/awt/image/IndexColorModel.java.">calcRealMapSize</a>(pixel_bits, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)];
<a id="L548" name="L548"></a> 548         <strong class="reserved">int</strong> j = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L549" name="L549"></a> 549         <strong class="reserved">int</strong> transparency = OPAQUE;
<a id="L550" name="L550"></a> 550         <strong class="reserved">boolean</strong> allgray = <strong class="reserved">true</strong>;
<a id="L551" name="L551"></a> 551         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> validBits = <strong class="reserved">this</strong>.validBits;
<a id="L552" name="L552"></a> 552         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++, j++) <em class="brace">{</em>
<a id="L553" name="L553"></a> 553             <strong class="reserved">if</strong> (validBits != <strong class="reserved">null</strong> &amp;&amp; !validBits.<a href="../S/1462.html#L3156" title="Defined at 3156 in src/java/math/BigInteger.java.">testBit</a>(i)) <em class="brace">{</em>
<a id="L554" name="L554"></a> 554                 <strong class="reserved">continue</strong>;
<a id="L555" name="L555"></a> 555             <em class="brace">}</em>
<a id="L556" name="L556"></a> 556             <strong class="reserved">int</strong> cmaprgb = cmap[j];
<a id="L557" name="L557"></a> 557             <strong class="reserved">int</strong> r = (cmaprgb &gt;&gt; 16) &amp; 0xff;
<a id="L558" name="L558"></a> 558             <strong class="reserved">int</strong> g = (cmaprgb &gt;&gt;  8) &amp; 0xff;
<a id="L559" name="L559"></a> 559             <strong class="reserved">int</strong> b = (cmaprgb      ) &amp; 0xff;
<a id="L560" name="L560"></a> 560             allgray = allgray &amp;&amp; (r == g) &amp;&amp; (g == b);
<a id="L561" name="L561"></a> 561             <strong class="reserved">if</strong> (hasalpha) <em class="brace">{</em>
<a id="L562" name="L562"></a> 562                 <strong class="reserved">int</strong> alpha = cmaprgb &gt;&gt;&gt; 24;
<a id="L563" name="L563"></a> 563                 <strong class="reserved">if</strong> (alpha != 0xff) <em class="brace">{</em>
<a id="L564" name="L564"></a> 564                     <strong class="reserved">if</strong> (alpha == 0x00) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565                         <strong class="reserved">if</strong> (transparency == OPAQUE) <em class="brace">{</em>
<a id="L566" name="L566"></a> 566                             transparency = BITMASK;
<a id="L567" name="L567"></a> 567                         <em class="brace">}</em>
<a id="L568" name="L568"></a> 568                         <strong class="reserved">if</strong> (transparent_index &lt; 0) <em class="brace">{</em>
<a id="L569" name="L569"></a> 569                             transparent_index = i;
<a id="L570" name="L570"></a> 570                         <em class="brace">}</em>
<a id="L571" name="L571"></a> 571                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L572" name="L572"></a> 572                         transparency = TRANSLUCENT;
<a id="L573" name="L573"></a> 573                     <em class="brace">}</em>
<a id="L574" name="L574"></a> 574                     allgray = <strong class="reserved">false</strong>;
<a id="L575" name="L575"></a> 575                 <em class="brace">}</em>
<a id="L576" name="L576"></a> 576             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L577" name="L577"></a> 577                 cmaprgb |= 0xff000000;
<a id="L578" name="L578"></a> 578             <em class="brace">}</em>
<a id="L579" name="L579"></a> 579             rgb[i] = cmaprgb;
<a id="L580" name="L580"></a> 580         <em class="brace">}</em>
<a id="L581" name="L581"></a> 581         <strong class="reserved">this</strong>.allgrayopaque = allgray;
<a id="L582" name="L582"></a> 582         <a href="../S/2242.html#L735" title="Defined at 735 in src/java/awt/image/IndexColorModel.java.">setTransparency</a>(transparency);
<a id="L583" name="L583"></a> 583     <em class="brace">}</em>
<a id="L584" name="L584"></a> 584 
<a id="L585" name="L585"></a> 585     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/10777.html" title="Multiple referred from 3 places.">calcRealMapSize</a>(<strong class="reserved">int</strong> bits, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586         <strong class="reserved">int</strong> newSize = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(1 &lt;&lt; bits, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L587" name="L587"></a> 587         <strong class="reserved">return</strong> <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(newSize, 256);
<a id="L588" name="L588"></a> 588     <em class="brace">}</em>
<a id="L589" name="L589"></a> 589 
<a id="L590" name="L590"></a> 590     <strong class="reserved">private</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../S/2242.html#L1504" title="Referred from 1504 in src/java/awt/image/IndexColorModel.java.">getAllValid</a>() <em class="brace">{</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">int</strong> numbytes = (map_size+7)/8;
<a id="L592" name="L592"></a> 592         <strong class="reserved">byte</strong>[] <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[numbytes];
<a id="L593" name="L593"></a> 593         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/16028.html" title="Multiple defined in 25 places.">fill</a>(<a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>, (<strong class="reserved">byte</strong>)0xff);
<a id="L594" name="L594"></a> 594         <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>[0] = (<strong class="reserved">byte</strong>)(0xff &gt;&gt;&gt; (numbytes*8 - map_size));
<a id="L595" name="L595"></a> 595 
<a id="L596" name="L596"></a> 596         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>(1, <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>);
<a id="L597" name="L597"></a> 597     <em class="brace">}</em>
<a id="L598" name="L598"></a> 598 
<div class="comment">
      Returns the transparency.  Returns either OPAQUE, BITMASK,
      or TRANSLUCENT
      @return the transparency of this <code>IndexColorModel</code>
      @see Transparency#OPAQUE
      @see Transparency#BITMASK
      @see Transparency#TRANSLUCENT</div>
<a id="L607" name="L607"></a> 607     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19586.html" title="Multiple referred from 12 places.">getTransparency</a>() <em class="brace">{</em>
<a id="L608" name="L608"></a> 608         <strong class="reserved">return</strong> transparency;
<a id="L609" name="L609"></a> 609     <em class="brace">}</em>
<a id="L610" name="L610"></a> 610 
<div class="comment">
      Returns an array of the number of bits for each color/alpha component.
      The array contains the color components in the order red, green,
      blue, followed by the alpha component, if present.
      @return an array containing the number of bits of each color
              and alpha component of this <code>IndexColorModel</code></div>
<a id="L618" name="L618"></a> 618     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/15727.html" title="Multiple referred from 7 places.">getComponentSize</a>() <em class="brace">{</em>
<a id="L619" name="L619"></a> 619         <strong class="reserved">if</strong> (nBits == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L620" name="L620"></a> 620             <strong class="reserved">if</strong> (supportsAlpha) <em class="brace">{</em>
<a id="L621" name="L621"></a> 621                 nBits = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[4];
<a id="L622" name="L622"></a> 622                 nBits[3] = 8;
<a id="L623" name="L623"></a> 623             <em class="brace">}</em>
<a id="L624" name="L624"></a> 624             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L625" name="L625"></a> 625                 nBits = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[3];
<a id="L626" name="L626"></a> 626             <em class="brace">}</em>
<a id="L627" name="L627"></a> 627             nBits[0] = nBits[1] = nBits[2] = 8;
<a id="L628" name="L628"></a> 628         <em class="brace">}</em>
<a id="L629" name="L629"></a> 629         <strong class="reserved">return</strong> nBits.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L630" name="L630"></a> 630     <em class="brace">}</em>
<a id="L631" name="L631"></a> 631 
<div class="comment">
      Returns the size of the color/alpha component arrays in this
      <code>IndexColorModel</code>.
      @return the size of the color and alpha component arrays.</div>
<a id="L637" name="L637"></a> 637     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17547.html" title="Multiple referred from 10 places.">getMapSize</a>() <em class="brace">{</em>
<a id="L638" name="L638"></a> 638         <strong class="reserved">return</strong> map_size;
<a id="L639" name="L639"></a> 639     <em class="brace">}</em>
<a id="L640" name="L640"></a> 640 
<div class="comment">
      Returns the index of a transparent pixel in this
      <code>IndexColorModel</code> or -1 if there is no pixel
      with an alpha value of 0.  If a transparent pixel was
      explicitly specified in one of the constructors by its
      index, then that index will be preferred, otherwise,
      the index of any pixel which happens to be fully transparent
      may be returned.
      @return the index of a transparent pixel in this
              <code>IndexColorModel</code> object, or -1 if there
              is no such pixel</div>
<a id="L653" name="L653"></a> 653     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19587.html" title="Multiple referred from 3 places.">getTransparentPixel</a>() <em class="brace">{</em>
<a id="L654" name="L654"></a> 654         <strong class="reserved">return</strong> transparent_index;
<a id="L655" name="L655"></a> 655     <em class="brace">}</em>
<a id="L656" name="L656"></a> 656 
<div class="comment">
      Copies the array of red color components into the specified array.
      Only the initial entries of the array as specified by
      {@link #getMapSize() getMapSize} are written.
      @param r the specified array into which the elements of the
           array of red color components are copied</div>
<a id="L664" name="L664"></a> 664     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/18634.html" title="Multiple referred from 8 places.">getReds</a>(<strong class="reserved">byte</strong> r[]) <em class="brace">{</em>
<a id="L665" name="L665"></a> 665         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L666" name="L666"></a> 666             r[i] = (<strong class="reserved">byte</strong>) (rgb[i] &gt;&gt; 16);
<a id="L667" name="L667"></a> 667         <em class="brace">}</em>
<a id="L668" name="L668"></a> 668     <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<div class="comment">
      Copies the array of green color components into the specified array.
      Only the initial entries of the array as specified by
      <code>getMapSize</code> are written.
      @param g the specified array into which the elements of the
           array of green color components are copied</div>
<a id="L677" name="L677"></a> 677     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/16821.html" title="Multiple referred from 8 places.">getGreens</a>(<strong class="reserved">byte</strong> g[]) <em class="brace">{</em>
<a id="L678" name="L678"></a> 678         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679             g[i] = (<strong class="reserved">byte</strong>) (rgb[i] &gt;&gt; 8);
<a id="L680" name="L680"></a> 680         <em class="brace">}</em>
<a id="L681" name="L681"></a> 681     <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<div class="comment">
      Copies the array of blue color components into the specified array.
      Only the initial entries of the array as specified by
      <code>getMapSize</code> are written.
      @param b the specified array into which the elements of the
           array of blue color components are copied</div>
<a id="L690" name="L690"></a> 690     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/15292.html" title="Multiple referred from 8 places.">getBlues</a>(<strong class="reserved">byte</strong> b[]) <em class="brace">{</em>
<a id="L691" name="L691"></a> 691         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L692" name="L692"></a> 692             b[i] = (<strong class="reserved">byte</strong>) rgb[i];
<a id="L693" name="L693"></a> 693         <em class="brace">}</em>
<a id="L694" name="L694"></a> 694     <em class="brace">}</em>
<a id="L695" name="L695"></a> 695 
<div class="comment">
      Copies the array of alpha transparency components into the
      specified array.  Only the initial entries of the array as specified
      by <code>getMapSize</code> are written.
      @param a the specified array into which the elements of the
           array of alpha components are copied</div>
<a id="L703" name="L703"></a> 703     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/15038.html" title="Multiple referred from 4 places.">getAlphas</a>(<strong class="reserved">byte</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[]) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] = (<strong class="reserved">byte</strong>) (rgb[i] &gt;&gt; 24);
<a id="L706" name="L706"></a> 706         <em class="brace">}</em>
<a id="L707" name="L707"></a> 707     <em class="brace">}</em>
<a id="L708" name="L708"></a> 708 
<div class="comment">
      Converts data for each index from the color and alpha component
      arrays to an int in the default RGB ColorModel format and copies
      the resulting 32-bit ARGB values into the specified array.  Only
      the initial entries of the array as specified by
      <code>getMapSize</code> are
      written.
      @param rgb the specified array into which the converted ARGB
             values from this array of color and alpha components
             are copied.</div>
<a id="L720" name="L720"></a> 720     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L646" title="Referred from 646 in src/java/awt/TexturePaintContext.java.">getRGBs</a>(<strong class="reserved">int</strong> rgb[]) <em class="brace">{</em>
<a id="L721" name="L721"></a> 721         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<strong class="reserved">this</strong>.rgb, 0, rgb, 0, map_size);
<a id="L722" name="L722"></a> 722     <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<a id="L724" name="L724"></a> 724     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/28328.html" title="Multiple referred from 3 places.">setTransparentPixel</a>(<strong class="reserved">int</strong> trans) <em class="brace">{</em>
<a id="L725" name="L725"></a> 725         <strong class="reserved">if</strong> (trans &gt;= 0 &amp;&amp; trans &lt; map_size) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726             rgb[trans] &amp;= 0x00ffffff;
<a id="L727" name="L727"></a> 727             transparent_index = trans;
<a id="L728" name="L728"></a> 728             allgrayopaque = <strong class="reserved">false</strong>;
<a id="L729" name="L729"></a> 729             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.transparency == OPAQUE) <em class="brace">{</em>
<a id="L730" name="L730"></a> 730                 <a href="../S/2242.html#L735" title="Defined at 735 in src/java/awt/image/IndexColorModel.java.">setTransparency</a>(BITMASK);
<a id="L731" name="L731"></a> 731             <em class="brace">}</em>
<a id="L732" name="L732"></a> 732         <em class="brace">}</em>
<a id="L733" name="L733"></a> 733     <em class="brace">}</em>
<a id="L734" name="L734"></a> 734 
<a id="L735" name="L735"></a> 735     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/28327.html" title="Multiple referred from 4 places.">setTransparency</a>(<strong class="reserved">int</strong> transparency) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.transparency != transparency) <em class="brace">{</em>
<a id="L737" name="L737"></a> 737             <strong class="reserved">this</strong>.transparency = transparency;
<a id="L738" name="L738"></a> 738             <strong class="reserved">if</strong> (transparency == OPAQUE) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739                 supportsAlpha = <strong class="reserved">false</strong>;
<a id="L740" name="L740"></a> 740                 numComponents = 3;
<a id="L741" name="L741"></a> 741                 nBits = opaqueBits;
<a id="L742" name="L742"></a> 742             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L743" name="L743"></a> 743                 supportsAlpha = <strong class="reserved">true</strong>;
<a id="L744" name="L744"></a> 744                 numComponents = 4;
<a id="L745" name="L745"></a> 745                 nBits = alphaBits;
<a id="L746" name="L746"></a> 746             <em class="brace">}</em>
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748     <em class="brace">}</em>
<a id="L749" name="L749"></a> 749 
<div class="comment">
      This method is called from the constructors to set the pixel_mask
      value, which is based on the value of pixel_bits.  The pixel_mask
      value is used to mask off the pixel parameters for methods such
      as getRed(), getGreen(), getBlue(), getAlpha(), and getRGB().</div>
<a id="L756" name="L756"></a> 756     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/10828.html" title="Multiple referred from 6 places.">calculatePixelMask</a>() <em class="brace">{</em>
<a id="L757" name="L757"></a> 757         <em class="comment">// Note that we adjust the mask so that our masking behavior here</em>
<a id="L758" name="L758"></a> 758         <em class="comment">// is consistent with that of our native rendering loops.</em>
<a id="L759" name="L759"></a> 759         <strong class="reserved">int</strong> maskbits = pixel_bits;
<a id="L760" name="L760"></a> 760         <strong class="reserved">if</strong> (maskbits == 3) <em class="brace">{</em>
<a id="L761" name="L761"></a> 761             maskbits = 4;
<a id="L762" name="L762"></a> 762         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (maskbits &gt; 4 &amp;&amp; maskbits &lt; 8) <em class="brace">{</em>
<a id="L763" name="L763"></a> 763             maskbits = 8;
<a id="L764" name="L764"></a> 764         <em class="brace">}</em>
<a id="L765" name="L765"></a> 765         pixel_mask = (1 &lt;&lt; maskbits) - 1;
<a id="L766" name="L766"></a> 766     <em class="brace">}</em>
<a id="L767" name="L767"></a> 767 
<div class="comment">
      Returns the red color component for the specified pixel, scaled
      from 0 to 255 in the default RGB ColorSpace, sRGB.  The pixel value
      is specified as an int.
      Only the lower <em>n</em> bits of the pixel value, as specified in the
      <a href="#index_values">class description</a> above, are used to
      calculate the returned value.
      The returned value is a non pre-multiplied value.
      @param pixel the specified pixel
      @return the value of the red color component for the specified pixel</div>
<a id="L779" name="L779"></a> 779     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18630.html" title="Multiple referred from 50 places.">getRed</a>(<strong class="reserved">int</strong> pixel) <em class="brace">{</em>
<a id="L780" name="L780"></a> 780         <strong class="reserved">return</strong> (rgb[pixel &amp; pixel_mask] &gt;&gt; 16) &amp; 0xff;
<a id="L781" name="L781"></a> 781     <em class="brace">}</em>
<a id="L782" name="L782"></a> 782 
<div class="comment">
      Returns the green color component for the specified pixel, scaled
      from 0 to 255 in the default RGB ColorSpace, sRGB.  The pixel value
      is specified as an int.
      Only the lower <em>n</em> bits of the pixel value, as specified in the
      <a href="#index_values">class description</a> above, are used to
      calculate the returned value.
      The returned value is a non pre-multiplied value.
      @param pixel the specified pixel
      @return the value of the green color component for the specified pixel</div>
<a id="L794" name="L794"></a> 794     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16819.html" title="Multiple referred from 45 places.">getGreen</a>(<strong class="reserved">int</strong> pixel) <em class="brace">{</em>
<a id="L795" name="L795"></a> 795         <strong class="reserved">return</strong> (rgb[pixel &amp; pixel_mask] &gt;&gt; 8) &amp; 0xff;
<a id="L796" name="L796"></a> 796     <em class="brace">}</em>
<a id="L797" name="L797"></a> 797 
<div class="comment">
      Returns the blue color component for the specified pixel, scaled
      from 0 to 255 in the default RGB ColorSpace, sRGB.  The pixel value
      is specified as an int.
      Only the lower <em>n</em> bits of the pixel value, as specified in the
      <a href="#index_values">class description</a> above, are used to
      calculate the returned value.
      The returned value is a non pre-multiplied value.
      @param pixel the specified pixel
      @return the value of the blue color component for the specified pixel</div>
<a id="L809" name="L809"></a> 809     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15290.html" title="Multiple referred from 45 places.">getBlue</a>(<strong class="reserved">int</strong> pixel) <em class="brace">{</em>
<a id="L810" name="L810"></a> 810         <strong class="reserved">return</strong> rgb[pixel &amp; pixel_mask] &amp; 0xff;
<a id="L811" name="L811"></a> 811     <em class="brace">}</em>
<a id="L812" name="L812"></a> 812 
<div class="comment">
      Returns the alpha component for the specified pixel, scaled
      from 0 to 255.  The pixel value is specified as an int.
      Only the lower <em>n</em> bits of the pixel value, as specified in the
      <a href="#index_values">class description</a> above, are used to
      calculate the returned value.
      @param pixel the specified pixel
      @return the value of the alpha component for the specified pixel</div>
<a id="L822" name="L822"></a> 822     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15034.html" title="Multiple referred from 34 places.">getAlpha</a>(<strong class="reserved">int</strong> pixel) <em class="brace">{</em>
<a id="L823" name="L823"></a> 823         <strong class="reserved">return</strong> (rgb[pixel &amp; pixel_mask] &gt;&gt; 24) &amp; 0xff;
<a id="L824" name="L824"></a> 824     <em class="brace">}</em>
<a id="L825" name="L825"></a> 825 
<div class="comment">
      Returns the color/alpha components of the pixel in the default
      RGB color model format.  The pixel value is specified as an int.
      Only the lower <em>n</em> bits of the pixel value, as specified in the
      <a href="#index_values">class description</a> above, are used to
      calculate the returned value.
      The returned value is in a non pre-multiplied format.
      @param pixel the specified pixel
      @return the color and alpha components of the specified pixel
      @see ColorModel#getRGBdefault</div>
<a id="L837" name="L837"></a> 837     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18575.html" title="Multiple referred from 57 places.">getRGB</a>(<strong class="reserved">int</strong> pixel) <em class="brace">{</em>
<a id="L838" name="L838"></a> 838         <strong class="reserved">return</strong> rgb[pixel &amp; pixel_mask];
<a id="L839" name="L839"></a> 839     <em class="brace">}</em>
<a id="L840" name="L840"></a> 840 
<a id="L841" name="L841"></a> 841     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CACHESIZE = 40;
<a id="L842" name="L842"></a> 842     <strong class="reserved">private</strong> <strong class="reserved">int</strong> lookupcache[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[CACHESIZE];
<a id="L843" name="L843"></a> 843 
<div class="comment">
      Returns a data element array representation of a pixel in this
      ColorModel, given an integer pixel representation in the
      default RGB color model.  This array can then be passed to the
      {@link WritableRaster#setDataElements(int, int, java.lang.Object) setDataElements}
      method of a <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> object.  If the pixel variable is
      <code>null</code>, a new array is allocated.  If <code>pixel</code>
      is not <code>null</code>, it must be
      a primitive array of type <code>transferType</code>; otherwise, a
      <code>ClassCastException</code> is thrown.  An
      <code>ArrayIndexOutOfBoundsException</code> is
      thrown if <code>pixel</code> is not large enough to hold a pixel
      value for this <code>ColorModel</code>.  The pixel array is returned.
      <p>
      Since <code>IndexColorModel</code> can be subclassed, subclasses
      inherit the implementation of this method and if they don't
      override it then they throw an exception if they use an
      unsupported <code>transferType</code>.
      @param rgb the integer pixel representation in the default RGB
      color model
      @param pixel the specified pixel
      @return an array representation of the specified pixel in this
       <code>IndexColorModel</code>.
      @throws ClassCastException if <code>pixel</code>
       is not a primitive array of type <code>transferType</code>
      @throws ArrayIndexOutOfBoundsException if
       <code>pixel</code> is not large enough to hold a pixel value
       for this <code>ColorModel</code>
      @throws UnsupportedOperationException if <code>transferType</code>
              is invalid
      @see WritableRaster#setDataElements
      @see SampleModel#setDataElements</p></div>
<a id="L878" name="L878"></a> 878     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/15949.html" title="Multiple referred from 46 places.">getDataElements</a>(<strong class="reserved">int</strong> rgb, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> pixel) <em class="brace">{</em>
<a id="L879" name="L879"></a> 879         <strong class="reserved">int</strong> red = (rgb&gt;&gt;16) &amp; 0xff;
<a id="L880" name="L880"></a> 880         <strong class="reserved">int</strong> green = (rgb&gt;&gt;8) &amp; 0xff;
<a id="L881" name="L881"></a> 881         <strong class="reserved">int</strong> blue  = rgb &amp; 0xff;
<a id="L882" name="L882"></a> 882         <strong class="reserved">int</strong> alpha = (rgb&gt;&gt;&gt;24);
<a id="L883" name="L883"></a> 883         <strong class="reserved">int</strong> pix = 0;
<a id="L884" name="L884"></a> 884 
<a id="L885" name="L885"></a> 885         <em class="comment">// Note that pixels are stored at lookupcache[2*i]</em>
<a id="L886" name="L886"></a> 886         <em class="comment">// and the rgb that was searched is stored at</em>
<a id="L887" name="L887"></a> 887         <em class="comment">// lookupcache[2*i+1].  Also, the pixel is first</em>
<a id="L888" name="L888"></a> 888         <em class="comment">// inverted using the unary complement operator</em>
<a id="L889" name="L889"></a> 889         <em class="comment">// before storing in the cache so it can never be 0.</em>
<a id="L890" name="L890"></a> 890         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = CACHESIZE - 2; i &gt;= 0; i -= 2) <em class="brace">{</em>
<a id="L891" name="L891"></a> 891             <strong class="reserved">if</strong> ((pix = lookupcache[i]) == 0) <em class="brace">{</em>
<a id="L892" name="L892"></a> 892                 <strong class="reserved">break</strong>;
<a id="L893" name="L893"></a> 893             <em class="brace">}</em>
<a id="L894" name="L894"></a> 894             <strong class="reserved">if</strong> (rgb == lookupcache[i+1]) <em class="brace">{</em>
<a id="L895" name="L895"></a> 895                 <strong class="reserved">return</strong> <a href="../S/2242.html#L1032" title="Defined at 1032 in src/java/awt/image/IndexColorModel.java.">installpixel</a>(pixel, ~pix);
<a id="L896" name="L896"></a> 896             <em class="brace">}</em>
<a id="L897" name="L897"></a> 897         <em class="brace">}</em>
<a id="L898" name="L898"></a> 898 
<a id="L899" name="L899"></a> 899         <strong class="reserved">if</strong> (allgrayopaque) <em class="brace">{</em>
<a id="L900" name="L900"></a> 900             <em class="comment">// IndexColorModel objects are all tagged as</em>
<a id="L901" name="L901"></a> 901             <em class="comment">// non-premultiplied so ignore the alpha value</em>
<a id="L902" name="L902"></a> 902             <em class="comment">// of the incoming color, convert the</em>
<a id="L903" name="L903"></a> 903             <em class="comment">// non-premultiplied color components to a</em>
<a id="L904" name="L904"></a> 904             <em class="comment">// grayscale value and search for the closest</em>
<a id="L905" name="L905"></a> 905             <em class="comment">// gray value in the palette.  Since all colors</em>
<a id="L906" name="L906"></a> 906             <em class="comment">// in the palette are gray, we only need compare</em>
<a id="L907" name="L907"></a> 907             <em class="comment">// to one of the color components for a match</em>
<a id="L908" name="L908"></a> 908             <em class="comment">// using a simple linear distance formula.</em>
<a id="L909" name="L909"></a> 909 
<a id="L910" name="L910"></a> 910             <strong class="reserved">int</strong> minDist = 256;
<a id="L911" name="L911"></a> 911             <strong class="reserved">int</strong> d;
<a id="L912" name="L912"></a> 912             <strong class="reserved">int</strong> gray = (<strong class="reserved">int</strong>) (red*77 + green*150 + blue*29 + 128)/256;
<a id="L913" name="L913"></a> 913 
<a id="L914" name="L914"></a> 914             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L915" name="L915"></a> 915                 <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.rgb[i] == 0x0) <em class="brace">{</em>
<a id="L916" name="L916"></a> 916                     <em class="comment">// For allgrayopaque colormaps, entries are 0</em>
<a id="L917" name="L917"></a> 917                     <em class="comment">// iff they are an invalid color and should be</em>
<a id="L918" name="L918"></a> 918                     <em class="comment">// ignored during color searches.</em>
<a id="L919" name="L919"></a> 919                     <strong class="reserved">continue</strong>;
<a id="L920" name="L920"></a> 920                 <em class="brace">}</em>
<a id="L921" name="L921"></a> 921                 d = (<strong class="reserved">this</strong>.rgb[i] &amp; 0xff) - gray;
<a id="L922" name="L922"></a> 922                 <strong class="reserved">if</strong> (d &lt; 0) d = -d;
<a id="L923" name="L923"></a> 923                 <strong class="reserved">if</strong> (d &lt; minDist) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924                     pix = i;
<a id="L925" name="L925"></a> 925                     <strong class="reserved">if</strong> (d == 0) <em class="brace">{</em>
<a id="L926" name="L926"></a> 926                         <strong class="reserved">break</strong>;
<a id="L927" name="L927"></a> 927                     <em class="brace">}</em>
<a id="L928" name="L928"></a> 928                     minDist = d;
<a id="L929" name="L929"></a> 929                 <em class="brace">}</em>
<a id="L930" name="L930"></a> 930             <em class="brace">}</em>
<a id="L931" name="L931"></a> 931         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (transparency == OPAQUE) <em class="brace">{</em>
<a id="L932" name="L932"></a> 932             <em class="comment">// IndexColorModel objects are all tagged as</em>
<a id="L933" name="L933"></a> 933             <em class="comment">// non-premultiplied so ignore the alpha value</em>
<a id="L934" name="L934"></a> 934             <em class="comment">// of the incoming color and search for closest</em>
<a id="L935" name="L935"></a> 935             <em class="comment">// color match independently using a 3 component</em>
<a id="L936" name="L936"></a> 936             <em class="comment">// Euclidean distance formula.</em>
<a id="L937" name="L937"></a> 937             <em class="comment">// For opaque colormaps, palette entries are 0</em>
<a id="L938" name="L938"></a> 938             <em class="comment">// iff they are an invalid color and should be</em>
<a id="L939" name="L939"></a> 939             <em class="comment">// ignored during color searches.</em>
<a id="L940" name="L940"></a> 940             <em class="comment">// As an optimization, exact color searches are</em>
<a id="L941" name="L941"></a> 941             <em class="comment">// likely to be fairly common in opaque colormaps</em>
<a id="L942" name="L942"></a> 942             <em class="comment">// so first we will do a quick search for an</em>
<a id="L943" name="L943"></a> 943             <em class="comment">// exact match.</em>
<a id="L944" name="L944"></a> 944 
<a id="L945" name="L945"></a> 945             <strong class="reserved">int</strong> smallestError = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L946" name="L946"></a> 946             <strong class="reserved">int</strong> lut[] = <strong class="reserved">this</strong>.rgb;
<a id="L947" name="L947"></a> 947             <strong class="reserved">int</strong> lutrgb;
<a id="L948" name="L948"></a> 948             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L949" name="L949"></a> 949                 lutrgb = lut[i];
<a id="L950" name="L950"></a> 950                 <strong class="reserved">if</strong> (lutrgb == rgb &amp;&amp; lutrgb != 0) <em class="brace">{</em>
<a id="L951" name="L951"></a> 951                     pix = i;
<a id="L952" name="L952"></a> 952                     smallestError = 0;
<a id="L953" name="L953"></a> 953                     <strong class="reserved">break</strong>;
<a id="L954" name="L954"></a> 954                 <em class="brace">}</em>
<a id="L955" name="L955"></a> 955             <em class="brace">}</em>
<a id="L956" name="L956"></a> 956 
<a id="L957" name="L957"></a> 957             <strong class="reserved">if</strong> (smallestError != 0) <em class="brace">{</em>
<a id="L958" name="L958"></a> 958                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L959" name="L959"></a> 959                     lutrgb = lut[i];
<a id="L960" name="L960"></a> 960                     <strong class="reserved">if</strong> (lutrgb == 0) <em class="brace">{</em>
<a id="L961" name="L961"></a> 961                         <strong class="reserved">continue</strong>;
<a id="L962" name="L962"></a> 962                     <em class="brace">}</em>
<a id="L963" name="L963"></a> 963 
<a id="L964" name="L964"></a> 964                     <strong class="reserved">int</strong> tmp = ((lutrgb &gt;&gt; 16) &amp; 0xff) - red;
<a id="L965" name="L965"></a> 965                     <strong class="reserved">int</strong> currentError = tmp*tmp;
<a id="L966" name="L966"></a> 966                     <strong class="reserved">if</strong> (currentError &lt; smallestError) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967                         tmp = ((lutrgb &gt;&gt; 8) &amp; 0xff) - green;
<a id="L968" name="L968"></a> 968                         currentError += tmp * tmp;
<a id="L969" name="L969"></a> 969                         <strong class="reserved">if</strong> (currentError &lt; smallestError) <em class="brace">{</em>
<a id="L970" name="L970"></a> 970                             tmp = (lutrgb &amp; 0xff) - blue;
<a id="L971" name="L971"></a> 971                             currentError += tmp * tmp;
<a id="L972" name="L972"></a> 972                             <strong class="reserved">if</strong> (currentError &lt; smallestError) <em class="brace">{</em>
<a id="L973" name="L973"></a> 973                                 pix = i;
<a id="L974" name="L974"></a> 974                                 smallestError = currentError;
<a id="L975" name="L975"></a> 975                             <em class="brace">}</em>
<a id="L976" name="L976"></a> 976                         <em class="brace">}</em>
<a id="L977" name="L977"></a> 977                     <em class="brace">}</em>
<a id="L978" name="L978"></a> 978                 <em class="brace">}</em>
<a id="L979" name="L979"></a> 979             <em class="brace">}</em>
<a id="L980" name="L980"></a> 980         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (alpha == 0 &amp;&amp; transparent_index &gt;= 0) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981             <em class="comment">// Special case - transparent color maps to the</em>
<a id="L982" name="L982"></a> 982             <em class="comment">// specified transparent pixel, if there is one</em>
<a id="L983" name="L983"></a> 983 
<a id="L984" name="L984"></a> 984             pix = transparent_index;
<a id="L985" name="L985"></a> 985         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L986" name="L986"></a> 986             <em class="comment">// IndexColorModel objects are all tagged as</em>
<a id="L987" name="L987"></a> 987             <em class="comment">// non-premultiplied so use non-premultiplied</em>
<a id="L988" name="L988"></a> 988             <em class="comment">// color components in the distance calculations.</em>
<a id="L989" name="L989"></a> 989             <em class="comment">// Look for closest match using a 4 component</em>
<a id="L990" name="L990"></a> 990             <em class="comment">// Euclidean distance formula.</em>
<a id="L991" name="L991"></a> 991 
<a id="L992" name="L992"></a> 992             <strong class="reserved">int</strong> smallestError = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L993" name="L993"></a> 993             <strong class="reserved">int</strong> lut[] = <strong class="reserved">this</strong>.rgb;
<a id="L994" name="L994"></a> 994             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; map_size; i++) <em class="brace">{</em>
<a id="L995" name="L995"></a> 995                 <strong class="reserved">int</strong> lutrgb = lut[i];
<a id="L996" name="L996"></a> 996                 <strong class="reserved">if</strong> (lutrgb == rgb) <em class="brace">{</em>
<a id="L997" name="L997"></a> 997                     <strong class="reserved">if</strong> (validBits != <strong class="reserved">null</strong> &amp;&amp; !validBits.<a href="../S/1462.html#L3156" title="Defined at 3156 in src/java/math/BigInteger.java.">testBit</a>(i)) <em class="brace">{</em>
<a id="L998" name="L998"></a> 998                         <strong class="reserved">continue</strong>;
<a id="L999" name="L999"></a> 999                     <em class="brace">}</em>
<a id="L1000" name="L1000"></a>1000                     pix = i;
<a id="L1001" name="L1001"></a>1001                     <strong class="reserved">break</strong>;
<a id="L1002" name="L1002"></a>1002                 <em class="brace">}</em>
<a id="L1003" name="L1003"></a>1003 
<a id="L1004" name="L1004"></a>1004                 <strong class="reserved">int</strong> tmp = ((lutrgb &gt;&gt; 16) &amp; 0xff) - red;
<a id="L1005" name="L1005"></a>1005                 <strong class="reserved">int</strong> currentError = tmp*tmp;
<a id="L1006" name="L1006"></a>1006                 <strong class="reserved">if</strong> (currentError &lt; smallestError) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007                     tmp = ((lutrgb &gt;&gt; 8) &amp; 0xff) - green;
<a id="L1008" name="L1008"></a>1008                     currentError += tmp * tmp;
<a id="L1009" name="L1009"></a>1009                     <strong class="reserved">if</strong> (currentError &lt; smallestError) <em class="brace">{</em>
<a id="L1010" name="L1010"></a>1010                         tmp = (lutrgb &amp; 0xff) - blue;
<a id="L1011" name="L1011"></a>1011                         currentError += tmp * tmp;
<a id="L1012" name="L1012"></a>1012                         <strong class="reserved">if</strong> (currentError &lt; smallestError) <em class="brace">{</em>
<a id="L1013" name="L1013"></a>1013                             tmp = (lutrgb &gt;&gt;&gt; 24) - alpha;
<a id="L1014" name="L1014"></a>1014                             currentError += tmp * tmp;
<a id="L1015" name="L1015"></a>1015                             <strong class="reserved">if</strong> (currentError &lt; smallestError &amp;&amp;
<a id="L1016" name="L1016"></a>1016                                 (validBits == <strong class="reserved">null</strong> || validBits.<a href="../S/1462.html#L3156" title="Defined at 3156 in src/java/math/BigInteger.java.">testBit</a>(i)))
<a id="L1017" name="L1017"></a>1017                             <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018                                 pix = i;
<a id="L1019" name="L1019"></a>1019                                 smallestError = currentError;
<a id="L1020" name="L1020"></a>1020                             <em class="brace">}</em>
<a id="L1021" name="L1021"></a>1021                         <em class="brace">}</em>
<a id="L1022" name="L1022"></a>1022                     <em class="brace">}</em>
<a id="L1023" name="L1023"></a>1023                 <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024             <em class="brace">}</em>
<a id="L1025" name="L1025"></a>1025         <em class="brace">}</em>
<a id="L1026" name="L1026"></a>1026         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(lookupcache, 2, lookupcache, 0, CACHESIZE - 2);
<a id="L1027" name="L1027"></a>1027         lookupcache[CACHESIZE - 1] = rgb;
<a id="L1028" name="L1028"></a>1028         lookupcache[CACHESIZE - 2] = ~pix;
<a id="L1029" name="L1029"></a>1029         <strong class="reserved">return</strong> <a href="../S/2242.html#L1032" title="Defined at 1032 in src/java/awt/image/IndexColorModel.java.">installpixel</a>(pixel, pix);
<a id="L1030" name="L1030"></a>1030     <em class="brace">}</em>
<a id="L1031" name="L1031"></a>1031 
<a id="L1032" name="L1032"></a>1032     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/20885.html" title="Multiple referred from 2 places.">installpixel</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> pixel, <strong class="reserved">int</strong> pix) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033         <strong class="reserved">switch</strong> (transferType) <em class="brace">{</em>
<a id="L1034" name="L1034"></a>1034         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT:
<a id="L1035" name="L1035"></a>1035             <strong class="reserved">int</strong>[] intObj;
<a id="L1036" name="L1036"></a>1036             <strong class="reserved">if</strong> (pixel == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1037" name="L1037"></a>1037                 pixel = intObj = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[1];
<a id="L1038" name="L1038"></a>1038             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039                 intObj = (<strong class="reserved">int</strong>[]) pixel;
<a id="L1040" name="L1040"></a>1040             <em class="brace">}</em>
<a id="L1041" name="L1041"></a>1041             intObj[0] = pix;
<a id="L1042" name="L1042"></a>1042             <strong class="reserved">break</strong>;
<a id="L1043" name="L1043"></a>1043         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE:
<a id="L1044" name="L1044"></a>1044             <strong class="reserved">byte</strong>[] byteObj;
<a id="L1045" name="L1045"></a>1045             <strong class="reserved">if</strong> (pixel == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046                 pixel = byteObj = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[1];
<a id="L1047" name="L1047"></a>1047             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048                 byteObj = (<strong class="reserved">byte</strong>[]) pixel;
<a id="L1049" name="L1049"></a>1049             <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050             byteObj[0] = (<strong class="reserved">byte</strong>) pix;
<a id="L1051" name="L1051"></a>1051             <strong class="reserved">break</strong>;
<a id="L1052" name="L1052"></a>1052         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT:
<a id="L1053" name="L1053"></a>1053             <strong class="reserved">short</strong>[] shortObj;
<a id="L1054" name="L1054"></a>1054             <strong class="reserved">if</strong> (pixel == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055                 pixel = shortObj = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[1];
<a id="L1056" name="L1056"></a>1056             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1057" name="L1057"></a>1057                 shortObj = (<strong class="reserved">short</strong>[]) pixel;
<a id="L1058" name="L1058"></a>1058             <em class="brace">}</em>
<a id="L1059" name="L1059"></a>1059             shortObj[0] = (<strong class="reserved">short</strong>) pix;
<a id="L1060" name="L1060"></a>1060             <strong class="reserved">break</strong>;
<a id="L1061" name="L1061"></a>1061         <strong class="reserved">default</strong>:
<a id="L1062" name="L1062"></a>1062             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>("This method has not been "+
<a id="L1063" name="L1063"></a>1063                              "implemented for transferType " + transferType);
<a id="L1064" name="L1064"></a>1064         <em class="brace">}</em>
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">return</strong> pixel;
<a id="L1066" name="L1066"></a>1066     <em class="brace">}</em>
<a id="L1067" name="L1067"></a>1067 
<div class="comment">
      Returns an array of unnormalized color/alpha components for a
      specified pixel in this <code>ColorModel</code>.  The pixel value
      is specified as an int.  If the <code>components</code> array is <code>null</code>,
      a new array is allocated that contains
      <code>offset + getNumComponents()</code> elements.
      The <code>components</code> array is returned,
      with the alpha component included
      only if <code>hasAlpha</code> returns true.
      Color/alpha components are stored in the <code>components</code> array starting
      at <code>offset</code> even if the array is allocated by this method.
      An <code>ArrayIndexOutOfBoundsException</code>
      is thrown if  the <code>components</code> array is not <code>null</code> and is
      not large enough to hold all the color and alpha components
      starting at <code>offset</code>.
      @param pixel the specified pixel
      @param components the array to receive the color and alpha
      components of the specified pixel
      @param offset the offset into the <code>components</code> array at
      which to start storing the color and alpha components
      @return an array containing the color and alpha components of the
      specified pixel starting at the specified offset.
      @see ColorModel#hasAlpha
      @see ColorModel#getNumComponents</div>
<a id="L1093" name="L1093"></a>1093     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/15734.html" title="Multiple referred from 80 places.">getComponents</a>(<strong class="reserved">int</strong> pixel, <strong class="reserved">int</strong>[] components, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094         <strong class="reserved">if</strong> (components == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1095" name="L1095"></a>1095             components = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+numComponents];
<a id="L1096" name="L1096"></a>1096         <em class="brace">}</em>
<a id="L1097" name="L1097"></a>1097 
<a id="L1098" name="L1098"></a>1098         <em class="comment">// REMIND: Needs to change if different color space</em>
<a id="L1099" name="L1099"></a>1099         components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+0] = <a href="../D/21904.html" title="Multiple defined in 9 places.">getRed</a>(pixel);
<a id="L1100" name="L1100"></a>1100         components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+1] = <a href="../D/19369.html" title="Multiple defined in 9 places.">getGreen</a>(pixel);
<a id="L1101" name="L1101"></a>1101         components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+2] = <a href="../D/17280.html" title="Multiple defined in 9 places.">getBlue</a>(pixel);
<a id="L1102" name="L1102"></a>1102         <strong class="reserved">if</strong> (supportsAlpha &amp;&amp; (components.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) &gt; 3) <em class="brace">{</em>
<a id="L1103" name="L1103"></a>1103             components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+3] = <a href="../D/16906.html" title="Multiple defined in 9 places.">getAlpha</a>(pixel);
<a id="L1104" name="L1104"></a>1104         <em class="brace">}</em>
<a id="L1105" name="L1105"></a>1105 
<a id="L1106" name="L1106"></a>1106         <strong class="reserved">return</strong> components;
<a id="L1107" name="L1107"></a>1107     <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108 
<div class="comment">
      Returns an array of unnormalized color/alpha components for
      a specified pixel in this <code>ColorModel</code>.  The pixel
      value is specified by an array of data elements of type
      <code>transferType</code> passed in as an object reference.
      If <code>pixel</code> is not a primitive array of type
      <code>transferType</code>, a <code>ClassCastException</code>
      is thrown.  An <code>ArrayIndexOutOfBoundsException</code>
      is thrown if <code>pixel</code> is not large enough to hold
      a pixel value for this <code>ColorModel</code>.  If the
      <code>components</code> array is <code>null</code>, a new array
      is allocated that contains
      <code>offset + getNumComponents()</code> elements.
      The <code>components</code> array is returned,
      with the alpha component included
      only if <code>hasAlpha</code> returns true.
      Color/alpha components are stored in the <code>components</code>
      array starting at <code>offset</code> even if the array is
      allocated by this method.  An
      <code>ArrayIndexOutOfBoundsException</code> is also
      thrown if  the <code>components</code> array is not
      <code>null</code> and is not large enough to hold all the color
      and alpha components starting at <code>offset</code>.
      <p>
      Since <code>IndexColorModel</code> can be subclassed, subclasses
      inherit the implementation of this method and if they don't
      override it then they throw an exception if they use an
      unsupported <code>transferType</code>.
      @param pixel the specified pixel
      @param components an array that receives the color and alpha
      components of the specified pixel
      @param offset the index into the <code>components</code> array at
      which to begin storing the color and alpha components of the
      specified pixel
      @return an array containing the color and alpha components of the
      specified pixel starting at the specified offset.
      @throws ArrayIndexOutOfBoundsException if <code>pixel</code>
                 is not large enough to hold a pixel value for this
                 <code>ColorModel</code> or if the
                 <code>components</code> array is not <code>null</code>
                 and is not large enough to hold all the color
                 and alpha components starting at <code>offset</code>
      @throws ClassCastException if <code>pixel</code> is not a
                 primitive array of type <code>transferType</code>
      @throws UnsupportedOperationException if <code>transferType</code>
              is not one of the supported transfer types
      @see ColorModel#hasAlpha
      @see ColorModel#getNumComponents</p></div>
<a id="L1159" name="L1159"></a>1159     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/15734.html" title="Multiple referred from 80 places.">getComponents</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> pixel, <strong class="reserved">int</strong>[] components, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L1160" name="L1160"></a>1160         <strong class="reserved">int</strong> intpixel;
<a id="L1161" name="L1161"></a>1161         <strong class="reserved">switch</strong> (transferType) <em class="brace">{</em>
<a id="L1162" name="L1162"></a>1162             <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE:
<a id="L1163" name="L1163"></a>1163                <strong class="reserved">byte</strong> bdata[] = (<strong class="reserved">byte</strong>[])pixel;
<a id="L1164" name="L1164"></a>1164                intpixel = bdata[0] &amp; 0xff;
<a id="L1165" name="L1165"></a>1165             <strong class="reserved">break</strong>;
<a id="L1166" name="L1166"></a>1166             <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT:
<a id="L1167" name="L1167"></a>1167                <strong class="reserved">short</strong> sdata[] = (<strong class="reserved">short</strong>[])pixel;
<a id="L1168" name="L1168"></a>1168                intpixel = sdata[0] &amp; 0xffff;
<a id="L1169" name="L1169"></a>1169             <strong class="reserved">break</strong>;
<a id="L1170" name="L1170"></a>1170             <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT:
<a id="L1171" name="L1171"></a>1171                <strong class="reserved">int</strong> idata[] = (<strong class="reserved">int</strong>[])pixel;
<a id="L1172" name="L1172"></a>1172                intpixel = idata[0];
<a id="L1173" name="L1173"></a>1173             <strong class="reserved">break</strong>;
<a id="L1174" name="L1174"></a>1174             <strong class="reserved">default</strong>:
<a id="L1175" name="L1175"></a>1175                <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>("This method has not been "+
<a id="L1176" name="L1176"></a>1176                    "implemented for transferType " + transferType);
<a id="L1177" name="L1177"></a>1177         <em class="brace">}</em>
<a id="L1178" name="L1178"></a>1178         <strong class="reserved">return</strong> <a href="../D/17883.html" title="Multiple defined in 18 places.">getComponents</a>(intpixel, components, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L1179" name="L1179"></a>1179     <em class="brace">}</em>
<a id="L1180" name="L1180"></a>1180 
<div class="comment">
      Returns a pixel value represented as an int in this
      <code>ColorModel</code> given an array of unnormalized
      color/alpha components.  An
      <code>ArrayIndexOutOfBoundsException</code>
      is thrown if the <code>components</code> array is not large
      enough to hold all of the color and alpha components starting
      at <code>offset</code>.  Since
      <code>ColorModel</code> can be subclassed, subclasses inherit the
      implementation of this method and if they don't override it then
      they throw an exception if they use an unsupported transferType.
      @param components an array of unnormalized color and alpha
      components
      @param offset the index into <code>components</code> at which to
      begin retrieving the color and alpha components
      @return an <code>int</code> pixel value in this
      <code>ColorModel</code> corresponding to the specified components.
      @throws ArrayIndexOutOfBoundsException if
       the <code>components</code> array is not large enough to
       hold all of the color and alpha components starting at
       <code>offset</code>
      @throws UnsupportedOperationException if <code>transferType</code>
              is invalid</div>
<a id="L1205" name="L1205"></a>1205     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15948.html" title="Multiple referred from 2 places.">getDataElement</a>(<strong class="reserved">int</strong>[] components, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L1206" name="L1206"></a>1206         <strong class="reserved">int</strong> rgb = (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+0]&lt;&lt;16)
<a id="L1207" name="L1207"></a>1207             | (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+1]&lt;&lt;8) | (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+2]);
<a id="L1208" name="L1208"></a>1208         <strong class="reserved">if</strong> (supportsAlpha) <em class="brace">{</em>
<a id="L1209" name="L1209"></a>1209             rgb |= (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+3]&lt;&lt;24);
<a id="L1210" name="L1210"></a>1210         <em class="brace">}</em>
<a id="L1211" name="L1211"></a>1211         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1212" name="L1212"></a>1212             rgb |= 0xff000000;
<a id="L1213" name="L1213"></a>1213         <em class="brace">}</em>
<a id="L1214" name="L1214"></a>1214         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> inData = <a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(rgb, <strong class="reserved">null</strong>);
<a id="L1215" name="L1215"></a>1215         <strong class="reserved">int</strong> pixel;
<a id="L1216" name="L1216"></a>1216         <strong class="reserved">switch</strong> (transferType) <em class="brace">{</em>
<a id="L1217" name="L1217"></a>1217             <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE:
<a id="L1218" name="L1218"></a>1218                <strong class="reserved">byte</strong> bdata[] = (<strong class="reserved">byte</strong>[])inData;
<a id="L1219" name="L1219"></a>1219                pixel = bdata[0] &amp; 0xff;
<a id="L1220" name="L1220"></a>1220             <strong class="reserved">break</strong>;
<a id="L1221" name="L1221"></a>1221             <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT:
<a id="L1222" name="L1222"></a>1222                <strong class="reserved">short</strong> sdata[] = (<strong class="reserved">short</strong>[])inData;
<a id="L1223" name="L1223"></a>1223                pixel = sdata[0];
<a id="L1224" name="L1224"></a>1224             <strong class="reserved">break</strong>;
<a id="L1225" name="L1225"></a>1225             <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT:
<a id="L1226" name="L1226"></a>1226                <strong class="reserved">int</strong> idata[] = (<strong class="reserved">int</strong>[])inData;
<a id="L1227" name="L1227"></a>1227                pixel = idata[0];
<a id="L1228" name="L1228"></a>1228             <strong class="reserved">break</strong>;
<a id="L1229" name="L1229"></a>1229             <strong class="reserved">default</strong>:
<a id="L1230" name="L1230"></a>1230                <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>("This method has not been "+
<a id="L1231" name="L1231"></a>1231                    "implemented for transferType " + transferType);
<a id="L1232" name="L1232"></a>1232         <em class="brace">}</em>
<a id="L1233" name="L1233"></a>1233         <strong class="reserved">return</strong> pixel;
<a id="L1234" name="L1234"></a>1234     <em class="brace">}</em>
<a id="L1235" name="L1235"></a>1235 
<div class="comment">
      Returns a data element array representation of a pixel in this
      <code>ColorModel</code> given an array of unnormalized color/alpha
      components.  This array can then be passed to the
      <code>setDataElements</code> method of a <code>WritableRaster</code>
      object.  An <code>ArrayIndexOutOfBoundsException</code> is
      thrown if the
      <code>components</code> array is not large enough to hold all of the
      color and alpha components starting at <code>offset</code>.
      If the pixel variable is <code>null</code>, a new array
      is allocated.  If <code>pixel</code> is not <code>null</code>,
      it must be a primitive array of type <code>transferType</code>;
      otherwise, a <code>ClassCastException</code> is thrown.
      An <code>ArrayIndexOutOfBoundsException</code> is thrown if pixel
      is not large enough to hold a pixel value for this
      <code>ColorModel</code>.
      <p>
      Since <code>IndexColorModel</code> can be subclassed, subclasses
      inherit the implementation of this method and if they don't
      override it then they throw an exception if they use an
      unsupported <code>transferType</code>
      @param components an array of unnormalized color and alpha
      components
      @param offset the index into <code>components</code> at which to
      begin retrieving color and alpha components
      @param pixel the <code>Object</code> representing an array of color
      and alpha components
      @return an <code>Object</code> representing an array of color and
      alpha components.
      @throws ClassCastException if <code>pixel</code>
       is not a primitive array of type <code>transferType</code>
      @throws ArrayIndexOutOfBoundsException if
       <code>pixel</code> is not large enough to hold a pixel value
       for this <code>ColorModel</code> or the <code>components</code>
       array is not large enough to hold all of the color and alpha
       components starting at <code>offset</code>
      @throws UnsupportedOperationException if <code>transferType</code>
              is not one of the supported transfer types
      @see WritableRaster#setDataElements
      @see SampleModel#setDataElements</p></div>
<a id="L1278" name="L1278"></a>1278     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/15949.html" title="Multiple referred from 46 places.">getDataElements</a>(<strong class="reserved">int</strong>[] components, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> pixel) <em class="brace">{</em>
<a id="L1279" name="L1279"></a>1279         <strong class="reserved">int</strong> rgb = (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+0]&lt;&lt;16) | (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+1]&lt;&lt;8)
<a id="L1280" name="L1280"></a>1280             | (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+2]);
<a id="L1281" name="L1281"></a>1281         <strong class="reserved">if</strong> (supportsAlpha) <em class="brace">{</em>
<a id="L1282" name="L1282"></a>1282             rgb |= (components[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+3]&lt;&lt;24);
<a id="L1283" name="L1283"></a>1283         <em class="brace">}</em>
<a id="L1284" name="L1284"></a>1284         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1285" name="L1285"></a>1285             rgb &amp;= 0xff000000;
<a id="L1286" name="L1286"></a>1286         <em class="brace">}</em>
<a id="L1287" name="L1287"></a>1287         <strong class="reserved">return</strong> <a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(rgb, pixel);
<a id="L1288" name="L1288"></a>1288     <em class="brace">}</em>
<a id="L1289" name="L1289"></a>1289 
<div class="comment">
      Creates a <code>WritableRaster</code> with the specified width
      and height that has a data layout (<code>SampleModel</code>)
      compatible with this <code>ColorModel</code>.  This method
      only works for color models with 16 or fewer bits per pixel.
      <p>
      Since <code>IndexColorModel</code> can be subclassed, any
      subclass that supports greater than 16 bits per pixel must
      override this method.
      @param w the width to apply to the new <code>WritableRaster</code>
      @param h the height to apply to the new <code>WritableRaster</code>
      @return a <code>WritableRaster</code> object with the specified
      width and height.
      @throws UnsupportedOperationException if the number of bits in a
              pixel is greater than 16
      @see WritableRaster
      @see SampleModel</p></div>
<a id="L1309" name="L1309"></a>1309     <strong class="reserved">public</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/12291.html" title="Multiple referred from 37 places.">createCompatibleWritableRaster</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L1310" name="L1310"></a>1310         <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> raster;
<a id="L1311" name="L1311"></a>1311 
<a id="L1312" name="L1312"></a>1312         <strong class="reserved">if</strong> (pixel_bits == 1 || pixel_bits == 2 || pixel_bits == 4) <em class="brace">{</em>
<a id="L1313" name="L1313"></a>1313             <em class="comment">// TYPE_BINARY</em>
<a id="L1314" name="L1314"></a>1314             raster = <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a>.<a href="../D/14112.html" title="Multiple defined in 4 places.">createPackedRaster</a>(<a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE,
<a id="L1315" name="L1315"></a>1315                                                w, h, 1, pixel_bits, <strong class="reserved">null</strong>);
<a id="L1316" name="L1316"></a>1316         <em class="brace">}</em>
<a id="L1317" name="L1317"></a>1317         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (pixel_bits &lt;= 8) <em class="brace">{</em>
<a id="L1318" name="L1318"></a>1318             raster = <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a>.<a href="../D/13973.html" title="Multiple defined in 3 places.">createInterleavedRaster</a>(<a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE,
<a id="L1319" name="L1319"></a>1319                                                   w,h,1,<strong class="reserved">null</strong>);
<a id="L1320" name="L1320"></a>1320         <em class="brace">}</em>
<a id="L1321" name="L1321"></a>1321         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (pixel_bits &lt;= 16) <em class="brace">{</em>
<a id="L1322" name="L1322"></a>1322             raster = <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a>.<a href="../D/13973.html" title="Multiple defined in 3 places.">createInterleavedRaster</a>(<a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT,
<a id="L1323" name="L1323"></a>1323                                                   w,h,1,<strong class="reserved">null</strong>);
<a id="L1324" name="L1324"></a>1324         <em class="brace">}</em>
<a id="L1325" name="L1325"></a>1325         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1326" name="L1326"></a>1326             <strong class="reserved">throw</strong> <strong class="reserved">new</strong>
<a id="L1327" name="L1327"></a>1327                 <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>("This method is not supported "+
<a id="L1328" name="L1328"></a>1328                                               " for pixel bits &gt; 16.");
<a id="L1329" name="L1329"></a>1329         <em class="brace">}</em>
<a id="L1330" name="L1330"></a>1330         <strong class="reserved">return</strong> raster;
<a id="L1331" name="L1331"></a>1331     <em class="brace">}</em>
<a id="L1332" name="L1332"></a>1332 
<div class="comment">
       Returns <code>true</code> if <code>raster</code> is compatible
       with this <code>ColorModel</code> or <code>false</code> if it
       is not compatible with this <code>ColorModel</code>.
       @param raster the <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> object to test for compatibility
       @return <code>true</code> if <code>raster</code> is compatible
       with this <code>ColorModel</code>; <code>false</code> otherwise.</div>
<a id="L1342" name="L1342"></a>1342     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21271.html" title="Multiple referred from 3 places.">isCompatibleRaster</a>(<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> raster) <em class="brace">{</em>
<a id="L1343" name="L1343"></a>1343 
<a id="L1344" name="L1344"></a>1344         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = raster.<a href="../D/22223.html" title="Multiple defined in 5 places.">getSampleModel</a>().<a href="../D/22227.html" title="Multiple defined in 8 places.">getSampleSize</a>(0);
<a id="L1345" name="L1345"></a>1345         <strong class="reserved">return</strong> ((raster.<a href="../D/23246.html" title="Multiple defined in 4 places.">getTransferType</a>() == transferType) &amp;&amp;
<a id="L1346" name="L1346"></a>1346                 (raster.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>() == 1) &amp;&amp; ((1 &lt;&lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) &gt;= map_size));
<a id="L1347" name="L1347"></a>1347     <em class="brace">}</em>
<a id="L1348" name="L1348"></a>1348 
<div class="comment">
      Creates a <code>SampleModel</code> with the specified
      width and height that has a data layout compatible with
      this <code>ColorModel</code>.
      @param w the width to apply to the new <code>SampleModel</code>
      @param h the height to apply to the new <code>SampleModel</code>
      @return a <code>SampleModel</code> object with the specified
      width and height.
      @throws IllegalArgumentException if <code>w</code> or
              <code>h</code> is not greater than 0
      @see SampleModel</div>
<a id="L1361" name="L1361"></a>1361     <strong class="reserved">public</strong> <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> <a href="../R/12288.html" title="Multiple referred from 9 places.">createCompatibleSampleModel</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L1362" name="L1362"></a>1362         <strong class="reserved">int</strong>[] off = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[1];
<a id="L1363" name="L1363"></a>1363         off[0] = 0;
<a id="L1364" name="L1364"></a>1364         <strong class="reserved">if</strong> (pixel_bits == 1 || pixel_bits == 2 || pixel_bits == 4) <em class="brace">{</em>
<a id="L1365" name="L1365"></a>1365             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2229.html#L65" title="Defined at 65 in src/java/awt/image/MultiPixelPackedSampleModel.java.">MultiPixelPackedSampleModel</a>(transferType, w, h,
<a id="L1366" name="L1366"></a>1366                                                    pixel_bits);
<a id="L1367" name="L1367"></a>1367         <em class="brace">}</em>
<a id="L1368" name="L1368"></a>1368         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1369" name="L1369"></a>1369             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2254.html#L76" title="Defined at 76 in src/java/awt/image/ComponentSampleModel.java.">ComponentSampleModel</a>(transferType, w, h, 1, w,
<a id="L1370" name="L1370"></a>1370                                             off);
<a id="L1371" name="L1371"></a>1371         <em class="brace">}</em>
<a id="L1372" name="L1372"></a>1372     <em class="brace">}</em>
<a id="L1373" name="L1373"></a>1373 
<div class="comment">
      Checks if the specified <code>SampleModel</code> is compatible
      with this <code>ColorModel</code>.  If <code>sm</code> is
      <code>null</code>, this method returns <code>false</code>.
      @param sm the specified <code>SampleModel</code>,
                or <code>null</code>
      @return <code>true</code> if the specified <code>SampleModel</code>
      is compatible with this <code>ColorModel</code>; <code>false</code>
      otherwise.
      @see SampleModel</div>
<a id="L1385" name="L1385"></a>1385     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/4243.html#L105" title="Referred from 105 in src/javax/imageio/ImageTypeSpecifier.java.">isCompatibleSampleModel</a>(<a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> sm) <em class="brace">{</em>
<a id="L1386" name="L1386"></a>1386         <em class="comment">// fix 4238629</em>
<a id="L1387" name="L1387"></a>1387         <strong class="reserved">if</strong> (! (sm <strong class="reserved">instanceof</strong> <a href="../S/2254.html#L76" title="Defined at 76 in src/java/awt/image/ComponentSampleModel.java.">ComponentSampleModel</a>) &amp;&amp;
<a id="L1388" name="L1388"></a>1388             ! (sm <strong class="reserved">instanceof</strong> <a href="../S/2229.html#L65" title="Defined at 65 in src/java/awt/image/MultiPixelPackedSampleModel.java.">MultiPixelPackedSampleModel</a>)   ) <em class="brace">{</em>
<a id="L1389" name="L1389"></a>1389             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1390" name="L1390"></a>1390         <em class="brace">}</em>
<a id="L1391" name="L1391"></a>1391 
<a id="L1392" name="L1392"></a>1392         <em class="comment">// Transfer type must be the same</em>
<a id="L1393" name="L1393"></a>1393         <strong class="reserved">if</strong> (sm.<a href="../D/23246.html" title="Multiple defined in 4 places.">getTransferType</a>() != transferType) <em class="brace">{</em>
<a id="L1394" name="L1394"></a>1394             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1395" name="L1395"></a>1395         <em class="brace">}</em>
<a id="L1396" name="L1396"></a>1396 
<a id="L1397" name="L1397"></a>1397         <strong class="reserved">if</strong> (sm.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>() != 1) <em class="brace">{</em>
<a id="L1398" name="L1398"></a>1398             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1399" name="L1399"></a>1399         <em class="brace">}</em>
<a id="L1400" name="L1400"></a>1400 
<a id="L1401" name="L1401"></a>1401         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1402" name="L1402"></a>1402     <em class="brace">}</em>
<a id="L1403" name="L1403"></a>1403 
<div class="comment">
      Returns a new <code>BufferedImage</code> of TYPE_INT_ARGB or
      TYPE_INT_RGB that has a <code>Raster</code> with pixel data
      computed by expanding the indices in the source <code>Raster</code>
      using the color/alpha component arrays of this <code>ColorModel</code>.
      Only the lower <em>n</em> bits of each index value in the source
      <code>Raster</code>, as specified in the
      <a href="#index_values">class description</a> above, are used to
      compute the color/alpha values in the returned image.
      If <code>forceARGB</code> is <code>true</code>, a TYPE_INT_ARGB image is
      returned regardless of whether or not this <code>ColorModel</code>
      has an alpha component array or a transparent pixel.
      @param raster the specified <code>Raster</code>
      @param forceARGB if <code>true</code>, the returned
          <code>BufferedImage</code> is TYPE_INT_ARGB; otherwise it is
          TYPE_INT_RGB
      @return a <code>BufferedImage</code> created with the specified
          <code>Raster</code>
      @throws IllegalArgumentException if the raster argument is not
                compatible with this IndexColorModel</div>
<a id="L1425" name="L1425"></a>1425     <strong class="reserved">public</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> <a href="../R/12070.html" title="Multiple referred from 4 places.">convertToIntDiscrete</a>(<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> raster,
<a id="L1426" name="L1426"></a>1426                                               <strong class="reserved">boolean</strong> forceARGB) <em class="brace">{</em>
<a id="L1427" name="L1427"></a>1427         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm;
<a id="L1428" name="L1428"></a>1428 
<a id="L1429" name="L1429"></a>1429         <strong class="reserved">if</strong> (!<a href="../D/25331.html" title="Multiple defined in 4 places.">isCompatibleRaster</a>(raster)) <em class="brace">{</em>
<a id="L1430" name="L1430"></a>1430             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("This raster is not compatible" +
<a id="L1431" name="L1431"></a>1431                  "with this IndexColorModel.");
<a id="L1432" name="L1432"></a>1432         <em class="brace">}</em>
<a id="L1433" name="L1433"></a>1433         <strong class="reserved">if</strong> (forceARGB || transparency == TRANSLUCENT) <em class="brace">{</em>
<a id="L1434" name="L1434"></a>1434             cm = <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../S/2256.html#L240" title="Defined at 240 in src/java/awt/image/ColorModel.java.">getRGBdefault</a>();
<a id="L1435" name="L1435"></a>1435         <em class="brace">}</em>
<a id="L1436" name="L1436"></a>1436         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (transparency == BITMASK) <em class="brace">{</em>
<a id="L1437" name="L1437"></a>1437             cm = <strong class="reserved">new</strong> <a href="../S/2270.html#L109" title="Defined at 109 in src/java/awt/image/DirectColorModel.java.">DirectColorModel</a>(25, 0xff0000, 0x00ff00, 0x0000ff,
<a id="L1438" name="L1438"></a>1438                                       0x1000000);
<a id="L1439" name="L1439"></a>1439         <em class="brace">}</em>
<a id="L1440" name="L1440"></a>1440         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1441" name="L1441"></a>1441             cm = <strong class="reserved">new</strong> <a href="../S/2270.html#L109" title="Defined at 109 in src/java/awt/image/DirectColorModel.java.">DirectColorModel</a>(24, 0xff0000, 0x00ff00, 0x0000ff);
<a id="L1442" name="L1442"></a>1442         <em class="brace">}</em>
<a id="L1443" name="L1443"></a>1443 
<a id="L1444" name="L1444"></a>1444         <strong class="reserved">int</strong> w = raster.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L1445" name="L1445"></a>1445         <strong class="reserved">int</strong> h = raster.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L1446" name="L1446"></a>1446         <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> discreteRaster =
<a id="L1447" name="L1447"></a>1447                   cm.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(w, h);
<a id="L1448" name="L1448"></a>1448         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj = <strong class="reserved">null</strong>;
<a id="L1449" name="L1449"></a>1449         <strong class="reserved">int</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <strong class="reserved">null</strong>;
<a id="L1450" name="L1450"></a>1450 
<a id="L1451" name="L1451"></a>1451         <strong class="reserved">int</strong> rX = raster.<a href="../D/20651.html" title="Multiple defined in 6 places.">getMinX</a>();
<a id="L1452" name="L1452"></a>1452         <strong class="reserved">int</strong> rY = raster.<a href="../D/20652.html" title="Multiple defined in 6 places.">getMinY</a>();
<a id="L1453" name="L1453"></a>1453 
<a id="L1454" name="L1454"></a>1454         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> y=0; y &lt; h; y++, rY++) <em class="brace">{</em>
<a id="L1455" name="L1455"></a>1455             obj = raster.<a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(rX, rY, w, 1, obj);
<a id="L1456" name="L1456"></a>1456             <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <strong class="reserved">int</strong>[]) <em class="brace">{</em>
<a id="L1457" name="L1457"></a>1457                 <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = (<strong class="reserved">int</strong>[])obj;
<a id="L1458" name="L1458"></a>1458             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1459" name="L1459"></a>1459                 <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.<a href="../D/35415.html" title="Multiple defined in 3 places.">toIntArray</a>(obj);
<a id="L1460" name="L1460"></a>1460             <em class="brace">}</em>
<a id="L1461" name="L1461"></a>1461             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>=0; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; w; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>++) <em class="brace">{</em>
<a id="L1462" name="L1462"></a>1462                 <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>] = rgb[<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>] &amp; pixel_mask];
<a id="L1463" name="L1463"></a>1463             <em class="brace">}</em>
<a id="L1464" name="L1464"></a>1464             discreteRaster.<a href="../D/32349.html" title="Multiple defined in 9 places.">setDataElements</a>(0, y, w, 1, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1465" name="L1465"></a>1465         <em class="brace">}</em>
<a id="L1466" name="L1466"></a>1466 
<a id="L1467" name="L1467"></a>1467         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(cm, discreteRaster, <strong class="reserved">false</strong>, <strong class="reserved">null</strong>);
<a id="L1468" name="L1468"></a>1468     <em class="brace">}</em>
<a id="L1469" name="L1469"></a>1469 
<div class="comment">
      Returns whether or not the pixel is valid.
      @param pixel the specified pixel value
      @return <code>true</code> if <code>pixel</code>
      is valid; <code>false</code> otherwise.
      @since 1.3</div>
<a id="L1477" name="L1477"></a>1477     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22162.html" title="Multiple referred from 125 places.">isValid</a>(<strong class="reserved">int</strong> pixel) <em class="brace">{</em>
<a id="L1478" name="L1478"></a>1478         <strong class="reserved">return</strong> ((pixel &gt;= 0 &amp;&amp; pixel &lt; map_size) &amp;&amp;
<a id="L1479" name="L1479"></a>1479                 (validBits == <strong class="reserved">null</strong> || validBits.<a href="../S/1462.html#L3156" title="Defined at 3156 in src/java/math/BigInteger.java.">testBit</a>(pixel)));
<a id="L1480" name="L1480"></a>1480     <em class="brace">}</em>
<a id="L1481" name="L1481"></a>1481 
<div class="comment">
      Returns whether or not all of the pixels are valid.
      @return <code>true</code> if all pixels are valid;
      <code>false</code> otherwise.
      @since 1.3</div>
<a id="L1488" name="L1488"></a>1488     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22162.html" title="Multiple referred from 125 places.">isValid</a>() <em class="brace">{</em>
<a id="L1489" name="L1489"></a>1489         <strong class="reserved">return</strong> (validBits == <strong class="reserved">null</strong>);
<a id="L1490" name="L1490"></a>1490     <em class="brace">}</em>
<a id="L1491" name="L1491"></a>1491 
<div class="comment">
      Returns a <code>BigInteger</code> that indicates the valid/invalid
      pixels in the colormap.  A bit is valid if the
      <code>BigInteger</code> value at that index is set, and is invalid
      if the <code>BigInteger</code> value at that index is not set.
      The only valid ranges to query in the <code>BigInteger</code> are
      between 0 and the map size.
      @return a <code>BigInteger</code> indicating the valid/invalid pixels.
      @since 1.3</div>
<a id="L1502" name="L1502"></a>1502     <strong class="reserved">public</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> getValidPixels() <em class="brace">{</em>
<a id="L1503" name="L1503"></a>1503         <strong class="reserved">if</strong> (validBits == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1504" name="L1504"></a>1504             <strong class="reserved">return</strong> <a href="../S/2242.html#L590" title="Defined at 590 in src/java/awt/image/IndexColorModel.java.">getAllValid</a>();
<a id="L1505" name="L1505"></a>1505         <em class="brace">}</em>
<a id="L1506" name="L1506"></a>1506         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1507" name="L1507"></a>1507             <strong class="reserved">return</strong> validBits;
<a id="L1508" name="L1508"></a>1508         <em class="brace">}</em>
<a id="L1509" name="L1509"></a>1509     <em class="brace">}</em>
<a id="L1510" name="L1510"></a>1510 
<div class="comment">
      Disposes of system resources associated with this
      <code>ColorModel</code> once this <code>ColorModel</code> is no
      longer referenced.</div>
<a id="L1516" name="L1516"></a>1516     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14337.html" title="Multiple referred from 5 places.">finalize</a>() <em class="brace">{</em>
<a id="L1517" name="L1517"></a>1517     <em class="brace">}</em>
<a id="L1518" name="L1518"></a>1518 
<div class="comment">
      Returns the <code>String</code> representation of the contents of
      this <code>ColorModel</code>object.
      @return a <code>String</code> representing the contents of this
      <code>ColorModel</code> object.</div>
<a id="L1525" name="L1525"></a>1525     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1526" name="L1526"></a>1526        <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>("IndexColorModel: #pixelBits = "+pixel_bits
<a id="L1527" name="L1527"></a>1527                          + " numComponents = "+numComponents
<a id="L1528" name="L1528"></a>1528                          + " color space = "+colorSpace
<a id="L1529" name="L1529"></a>1529                          + " transparency = "+transparency
<a id="L1530" name="L1530"></a>1530                          + " transIndex   = "+transparent_index
<a id="L1531" name="L1531"></a>1531                          + " has alpha = "+supportsAlpha
<a id="L1532" name="L1532"></a>1532                          + " isAlphaPre = "+<a href="../D/25179.html" title="Multiple defined in 2 places.">isAlphaPremultiplied</a>
<a id="L1533" name="L1533"></a>1533                          );
<a id="L1534" name="L1534"></a>1534     <em class="brace">}</em>
<a id="L1535" name="L1535"></a>1535 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L138">[^]</a><a href="#L1525">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>