<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L263">[^]</a><a href="#L3533">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L263" title="Defined at 263.">setSerializer</a></li>
<li><a href="#L271" title="Defined at 271.">getSerializer</a></li>
<li><a href="#L335" title="Defined at 335.">isValidEncryptionAlgorithm</a></li>
<li><a href="#L361" title="Defined at 361.">validateTransformation</a></li>
<li><a href="#L398" title="Defined at 398.">getInstance</a></li>
<li><a href="#L419" title="Defined at 419.">getInstance</a></li>
<li><a href="#L442" title="Defined at 442.">getInstance</a></li>
<li><a href="#L460" title="Defined at 460.">getProviderInstance</a></li>
<li><a href="#L486" title="Defined at 486.">getProviderInstance</a></li>
<li><a href="#L514" title="Defined at 514.">getProviderInstance</a></li>
<li><a href="#L536" title="Defined at 536.">getInstance</a></li>
<li><a href="#L556" title="Defined at 556.">getProviderInstance</a></li>
<li><a href="#L583" title="Defined at 583.">init</a></li>
<li><a href="#L628" title="Defined at 628.">setSecureValidation</a></li>
<li><a href="#L639" title="Defined at 639.">registerInternalKeyResolver</a></li>
<li><a href="#L655" title="Defined at 655.">getEncryptedData</a></li>
<li><a href="#L672" title="Defined at 672.">getEncryptedKey</a></li>
<li><a href="#L691" title="Defined at 691.">setKEK</a></li>
<li><a href="#L708" title="Defined at 708.">martial</a></li>
<li><a href="#L723" title="Defined at 723.">martial</a></li>
<li><a href="#L742" title="Defined at 742.">martial</a></li>
<li><a href="#L757" title="Defined at 757.">martial</a></li>
<li><a href="#L776" title="Defined at 776.">martial</a></li>
<li><a href="#L791" title="Defined at 791.">martial</a></li>
<li><a href="#L807" title="Defined at 807.">encryptElement</a></li>
<li><a href="#L845" title="Defined at 845.">encryptElementContent</a></li>
<li><a href="#L878" title="Defined at 878.">doFinal</a></li>
<li><a href="#L919" title="Defined at 919.">doFinal</a></li>
<li><a href="#L963" title="Defined at 963.">doFinal</a></li>
<li><a href="#L1016" title="Defined at 1016.">encryptData</a></li>
<li><a href="#L1035" title="Defined at 1035.">encryptData</a></li>
<li><a href="#L1068" title="Defined at 1068.">encryptData</a></li>
<li><a href="#L1091" title="Defined at 1091.">encryptData</a></li>
<li><a href="#L1223" title="Defined at 1223.">loadEncryptedData</a></li>
<li><a href="#L1254" title="Defined at 1254.">loadEncryptedKey</a></li>
<li><a href="#L1287" title="Defined at 1287.">loadEncryptedKey</a></li>
<li><a href="#L1300" title="Defined at 1300.">encryptKey</a></li>
<li><a href="#L1315" title="Defined at 1315.">encryptKey</a></li>
<li><a href="#L1399" title="Defined at 1399.">decryptKey</a></li>
<li><a href="#L1496" title="Defined at 1496.">constructOAEPParameters</a></li>
<li><a href="#L1534" title="Defined at 1534.">constructCipher</a></li>
<li><a href="#L1585" title="Defined at 1585.">decryptKey</a></li>
<li><a href="#L1594" title="Defined at 1594.">removeContent</a></li>
<li><a href="#L1607" title="Defined at 1607.">decryptElement</a></li>
<li><a href="#L1643" title="Defined at 1643.">decryptElementContent</a></li>
<li><a href="#L1668" title="Defined at 1668.">decryptToByteArray</a></li>
<li><a href="#L1812" title="Defined at 1812.">createEncryptedData</a></li>
<li><a href="#L1867" title="Defined at 1867.">createEncryptedKey</a></li>
<li><a href="#L1894" title="Defined at 1894.">createAgreementMethod</a></li>
<li><a href="#L1905" title="Defined at 1905.">createCipherData</a></li>
<li><a href="#L1915" title="Defined at 1915.">createCipherReference</a></li>
<li><a href="#L1925" title="Defined at 1925.">createCipherValue</a></li>
<li><a href="#L1935" title="Defined at 1935.">createEncryptionMethod</a></li>
<li><a href="#L1943" title="Defined at 1943.">createEncryptionProperties</a></li>
<li><a href="#L1951" title="Defined at 1951.">createEncryptionProperty</a></li>
<li><a href="#L1960" title="Defined at 1960.">createReferenceList</a></li>
<li><a href="#L1972" title="Defined at 1972.">createTransforms</a></li>
<li><a href="#L1986" title="Defined at 1986.">createTransforms</a></li>
<li><a href="#L1999" title="Defined at 1999.">newAgreementMethod</a></li>
<li><a href="#L2008" title="Defined at 2008.">newCipherData</a></li>
<li><a href="#L2016" title="Defined at 2016.">newCipherReference</a></li>
<li><a href="#L2024" title="Defined at 2024.">newCipherValue</a></li>
<li><a href="#L2038" title="Defined at 2038.">newEncryptedData</a></li>
<li><a href="#L2046" title="Defined at 2046.">newEncryptedKey</a></li>
<li><a href="#L2054" title="Defined at 2054.">newEncryptionMethod</a></li>
<li><a href="#L2061" title="Defined at 2061.">newEncryptionProperties</a></li>
<li><a href="#L2068" title="Defined at 2068.">newEncryptionProperty</a></li>
<li><a href="#L2076" title="Defined at 2076.">newReferenceList</a></li>
<li><a href="#L2083" title="Defined at 2083.">newTransforms</a></li>
<li><a href="#L2091" title="Defined at 2091.">newTransforms</a></li>
<li><a href="#L2100" title="Defined at 2100.">newCipherData</a></li>
<li><a href="#L2140" title="Defined at 2140.">newCipherReference</a></li>
<li><a href="#L2174" title="Defined at 2174.">newCipherValue</a></li>
<li><a href="#L2186" title="Defined at 2186.">newEncryptedData</a></li>
<li><a href="#L2246" title="Defined at 2246.">newEncryptedKey</a></li>
<li><a href="#L2314" title="Defined at 2314.">newKeyInfo</a></li>
<li><a href="#L2334" title="Defined at 2334.">newEncryptionMethod</a></li>
<li><a href="#L2389" title="Defined at 2389.">newEncryptionProperties</a></li>
<li><a href="#L2412" title="Defined at 2412.">newEncryptionProperty</a></li>
<li><a href="#L2430" title="Defined at 2430.">newReferenceList</a></li>
<li><a href="#L2473" title="Defined at 2473.">toElement</a></li>
<li><a href="#L2481" title="Defined at 2481.">toElement</a></li>
<li><a href="#L2489" title="Defined at 2489.">toElement</a></li>
<li><a href="#L2516" title="Defined at 2516.">getKANonce</a></li>
<li><a href="#L2521" title="Defined at 2521.">setKANonce</a></li>
<li><a href="#L2526" title="Defined at 2526.">getAgreementMethodInformation</a></li>
<li><a href="#L2531" title="Defined at 2531.">addAgreementMethodInformation</a></li>
<li><a href="#L2536" title="Defined at 2536.">revoveAgreementMethodInformation</a></li>
<li><a href="#L2541" title="Defined at 2541.">getOriginatorKeyInfo</a></li>
<li><a href="#L2546" title="Defined at 2546.">setOriginatorKeyInfo</a></li>
<li><a href="#L2551" title="Defined at 2551.">getRecipientKeyInfo</a></li>
<li><a href="#L2556" title="Defined at 2556.">setRecipientKeyInfo</a></li>
<li><a href="#L2561" title="Defined at 2561.">getAlgorithm</a></li>
<li><a href="#L2583" title="Defined at 2583.">getCipherValue</a></li>
<li><a href="#L2588" title="Defined at 2588.">setCipherValue</a></li>
<li><a href="#L2600" title="Defined at 2600.">getCipherReference</a></li>
<li><a href="#L2605" title="Defined at 2605.">setCipherReference</a></li>
<li><a href="#L2617" title="Defined at 2617.">getDataType</a></li>
<li><a href="#L2621" title="Defined at 2621.">toElement</a></li>
<li><a href="#L2659" title="Defined at 2659.">getURI</a></li>
<li><a href="#L2664" title="Defined at 2664.">getURIAsAttr</a></li>
<li><a href="#L2669" title="Defined at 2669.">getTransforms</a></li>
<li><a href="#L2674" title="Defined at 2674.">setTransforms</a></li>
<li><a href="#L2678" title="Defined at 2678.">toElement</a></li>
<li><a href="#L2703" title="Defined at 2703.">getValue</a></li>
<li><a href="#L2708" title="Defined at 2708.">setValue</a></li>
<li><a href="#L2712" title="Defined at 2712.">toElement</a></li>
<li><a href="#L2732" title="Defined at 2732.">toElement</a></li>
<li><a href="#L2787" title="Defined at 2787.">getRecipient</a></li>
<li><a href="#L2792" title="Defined at 2792.">setRecipient</a></li>
<li><a href="#L2797" title="Defined at 2797.">getReferenceList</a></li>
<li><a href="#L2802" title="Defined at 2802.">setReferenceList</a></li>
<li><a href="#L2807" title="Defined at 2807.">getCarriedName</a></li>
<li><a href="#L2812" title="Defined at 2812.">setCarriedName</a></li>
<li><a href="#L2816" title="Defined at 2816.">toElement</a></li>
<li><a href="#L2895" title="Defined at 2895.">getId</a></li>
<li><a href="#L2903" title="Defined at 2903.">setId</a></li>
<li><a href="#L2911" title="Defined at 2911.">getType</a></li>
<li><a href="#L2919" title="Defined at 2919.">setType</a></li>
<li><a href="#L2938" title="Defined at 2938.">getMimeType</a></li>
<li><a href="#L2945" title="Defined at 2945.">setMimeType</a></li>
<li><a href="#L2953" title="Defined at 2953.">getEncoding</a></li>
<li><a href="#L2961" title="Defined at 2961.">setEncoding</a></li>
<li><a href="#L2980" title="Defined at 2980.">getEncryptionMethod</a></li>
<li><a href="#L2988" title="Defined at 2988.">setEncryptionMethod</a></li>
<li><a href="#L2996" title="Defined at 2996.">getKeyInfo</a></li>
<li><a href="#L3004" title="Defined at 3004.">setKeyInfo</a></li>
<li><a href="#L3012" title="Defined at 3012.">getCipherData</a></li>
<li><a href="#L3020" title="Defined at 3020.">getEncryptionProperties</a></li>
<li><a href="#L3028" title="Defined at 3028.">setEncryptionProperties</a></li>
<li><a href="#L3058" title="Defined at 3058.">getAlgorithm</a></li>
<li><a href="#L3063" title="Defined at 3063.">getKeySize</a></li>
<li><a href="#L3068" title="Defined at 3068.">setKeySize</a></li>
<li><a href="#L3073" title="Defined at 3073.">getOAEPparams</a></li>
<li><a href="#L3078" title="Defined at 3078.">setOAEPparams</a></li>
<li><a href="#L3083" title="Defined at 3083.">setDigestAlgorithm</a></li>
<li><a href="#L3088" title="Defined at 3088.">getDigestAlgorithm</a></li>
<li><a href="#L3093" title="Defined at 3093.">setMGFAlgorithm</a></li>
<li><a href="#L3098" title="Defined at 3098.">getMGFAlgorithm</a></li>
<li><a href="#L3103" title="Defined at 3103.">getEncryptionMethodInformation</a></li>
<li><a href="#L3108" title="Defined at 3108.">addEncryptionMethodInformation</a></li>
<li><a href="#L3113" title="Defined at 3113.">removeEncryptionMethodInformation</a></li>
<li><a href="#L3117" title="Defined at 3117.">toElement</a></li>
<li><a href="#L3177" title="Defined at 3177.">getId</a></li>
<li><a href="#L3182" title="Defined at 3182.">setId</a></li>
<li><a href="#L3187" title="Defined at 3187.">getEncryptionProperties</a></li>
<li><a href="#L3192" title="Defined at 3192.">addEncryptionProperty</a></li>
<li><a href="#L3197" title="Defined at 3197.">removeEncryptionProperty</a></li>
<li><a href="#L3201" title="Defined at 3201.">toElement</a></li>
<li><a href="#L3232" title="Defined at 3232.">getTarget</a></li>
<li><a href="#L3237" title="Defined at 3237.">setTarget</a></li>
<li><a href="#L3259" title="Defined at 3259.">getId</a></li>
<li><a href="#L3264" title="Defined at 3264.">setId</a></li>
<li><a href="#L3269" title="Defined at 3269.">getAttribute</a></li>
<li><a href="#L3274" title="Defined at 3274.">setAttribute</a></li>
<li><a href="#L3279" title="Defined at 3279.">getEncryptionInformation</a></li>
<li><a href="#L3284" title="Defined at 3284.">addEncryptionInformation</a></li>
<li><a href="#L3289" title="Defined at 3289.">removeEncryptionInformation</a></li>
<li><a href="#L3293" title="Defined at 3293.">toElement</a></li>
<li><a href="#L3355" title="Defined at 3355.">toElement</a></li>
<li><a href="#L3364" title="Defined at 3364.">getDSTransforms</a></li>
<li><a href="#L3370" title="Defined at 3370.">getBaseNamespace</a></li>
<li><a href="#L3395" title="Defined at 3395.">add</a></li>
<li><a href="#L3403" title="Defined at 3403.">remove</a></li>
<li><a href="#L3411" title="Defined at 3411.">size</a></li>
<li><a href="#L3416" title="Defined at 3416.">isEmpty</a></li>
<li><a href="#L3421" title="Defined at 3421.">getReferences</a></li>
<li><a href="#L3425" title="Defined at 3425.">toElement</a></li>
<li><a href="#L3441" title="Defined at 3441.">newDataReference</a></li>
<li><a href="#L3446" title="Defined at 3446.">newKeyReference</a></li>
<li><a href="#L3466" title="Defined at 3466.">getType</a></li>
<li><a href="#L3469" title="Defined at 3469.">getURI</a></li>
<li><a href="#L3474" title="Defined at 3474.">getElementRetrievalInformation</a></li>
<li><a href="#L3479" title="Defined at 3479.">setURI</a></li>
<li><a href="#L3484" title="Defined at 3484.">removeElementRetrievalInformation</a></li>
<li><a href="#L3489" title="Defined at 3489.">addElementRetrievalInformation</a></li>
<li><a href="#L3496" title="Defined at 3496.">toElement</a></li>
<li><a href="#L3521" title="Defined at 3521.">getType</a></li>
<li><a href="#L3533" title="Defined at 3533.">getType</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements. See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership. The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License. You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied. See the License for the
  specific language governing permissions and limitations
  under the License.</div>
<a id="L23" name="L23"></a>  23 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.security.encryption;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.ByteArrayOutputStream;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.io.UnsupportedEncodingException;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.net.URI;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.net.URISyntaxException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.security.InvalidAlgorithmParameterException;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.InvalidKeyException;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.Key;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.NoSuchAlgorithmException;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.security.NoSuchProviderException;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.security.SecureRandom;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.spec.MGF1ParameterSpec;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.util.LinkedList;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.util.List;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.util.Map;
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> javax.crypto.BadPaddingException;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> javax.crypto.Cipher;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> javax.crypto.IllegalBlockSizeException;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> javax.crypto.NoSuchPaddingException;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> javax.crypto.spec.IvParameterSpec;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> javax.crypto.spec.OAEPParameterSpec;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> javax.crypto.spec.PSource;
<a id="L51" name="L51"></a>  51 
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.algorithms.JCEMapper;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.algorithms.MessageDigestAlgorithm;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.c14n.Canonicalizer;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.c14n.InvalidCanonicalizerException;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.exceptions.Base64DecodingException;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.exceptions.XMLSecurityException;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.keys.KeyInfo;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.keys.keyresolver.KeyResolverException;
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.keys.keyresolver.KeyResolverSpi;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.keys.keyresolver.implementations.EncryptedKeyResolver;
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.signature.XMLSignatureException;
<a id="L63" name="L63"></a>  63 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.transforms.InvalidTransformException;
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.transforms.TransformationException;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.Base64;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.Constants;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.ElementProxy;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.EncryptionConstants;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.XMLUtils;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> org.w3c.dom.NodeList;
<a id="L75" name="L75"></a>  75 
<div class="comment">
  <code>XMLCipher</code> encrypts and decrypts the contents of
  <code>Document</code>s, <code>Element</code>s and <code>Element</code>
  contents. It was designed to resemble <code>javax.crypto.Cipher</code> in
  order to facilitate understanding of its functioning.
  @author Axl Mattheus (Sun Microsystems)
  @author Christian Geuer-Pollmann</div>
<a id="L85" name="L85"></a>  85 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8962.html" title="Multiple referred from 48 places.">XMLCipher</a> <em class="brace">{</em>
<a id="L86" name="L86"></a>  86 
<a id="L87" name="L87"></a>  87     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a> =
<a id="L88" name="L88"></a>  88         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>(<a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L89" name="L89"></a>  89 
<div class="comment">
     /** Triple DES EDE (192 bit key) in CBC mode */</div>
<a id="L91" name="L91"></a>  91     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> TRIPLEDES =
<a id="L92" name="L92"></a>  92         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_BLOCKCIPHER_TRIPLEDES;
<a id="L93" name="L93"></a>  93 
<div class="comment">
     /** AES 128 Cipher */</div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_128 =
<a id="L96" name="L96"></a>  96         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_BLOCKCIPHER_AES128;
<a id="L97" name="L97"></a>  97 
<div class="comment">
     /** AES 256 Cipher */</div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_256 =
<a id="L100" name="L100"></a> 100         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_BLOCKCIPHER_AES256;
<a id="L101" name="L101"></a> 101 
<div class="comment">
     /** AES 192 Cipher */</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_192 =
<a id="L104" name="L104"></a> 104         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_BLOCKCIPHER_AES192;
<a id="L105" name="L105"></a> 105 
<div class="comment">
     /** AES 128 GCM Cipher */</div>
<a id="L107" name="L107"></a> 107     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_128_GCM =
<a id="L108" name="L108"></a> 108         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_BLOCKCIPHER_AES128_GCM;
<a id="L109" name="L109"></a> 109 
<div class="comment">
     /** AES 192 GCM Cipher */</div>
<a id="L111" name="L111"></a> 111     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_192_GCM =
<a id="L112" name="L112"></a> 112         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_BLOCKCIPHER_AES192_GCM;
<a id="L113" name="L113"></a> 113 
<div class="comment">
     /** AES 256 GCM Cipher */</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_256_GCM =
<a id="L116" name="L116"></a> 116         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_BLOCKCIPHER_AES256_GCM;
<a id="L117" name="L117"></a> 117 
<div class="comment">
     /** RSA 1.5 Cipher */</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> RSA_v1dot5 =
<a id="L120" name="L120"></a> 120         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYTRANSPORT_RSA15;
<a id="L121" name="L121"></a> 121 
<div class="comment">
     /** RSA OAEP Cipher */</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> RSA_OAEP =
<a id="L124" name="L124"></a> 124         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYTRANSPORT_RSAOAEP;
<a id="L125" name="L125"></a> 125 
<div class="comment">
     /** RSA OAEP Cipher */</div>
<a id="L127" name="L127"></a> 127     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> RSA_OAEP_11 =
<a id="L128" name="L128"></a> 128         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYTRANSPORT_RSAOAEP_11;
<a id="L129" name="L129"></a> 129 
<div class="comment">
     /** DIFFIE_HELLMAN Cipher */</div>
<a id="L131" name="L131"></a> 131     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> DIFFIE_HELLMAN =
<a id="L132" name="L132"></a> 132         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYAGREEMENT_DH;
<a id="L133" name="L133"></a> 133 
<div class="comment">
     /** Triple DES EDE (192 bit key) in CBC mode KEYWRAP*/</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> TRIPLEDES_KeyWrap =
<a id="L136" name="L136"></a> 136         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYWRAP_TRIPLEDES;
<a id="L137" name="L137"></a> 137 
<div class="comment">
     /** AES 128 Cipher KeyWrap */</div>
<a id="L139" name="L139"></a> 139     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_128_KeyWrap =
<a id="L140" name="L140"></a> 140         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYWRAP_AES128;
<a id="L141" name="L141"></a> 141 
<div class="comment">
     /** AES 256 Cipher KeyWrap */</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_256_KeyWrap =
<a id="L144" name="L144"></a> 144         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYWRAP_AES256;
<a id="L145" name="L145"></a> 145 
<div class="comment">
     /** AES 192 Cipher KeyWrap */</div>
<a id="L147" name="L147"></a> 147     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AES_192_KeyWrap =
<a id="L148" name="L148"></a> 148         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.ALGO_ID_KEYWRAP_AES192;
<a id="L149" name="L149"></a> 149 
<div class="comment">
     /** SHA1 Cipher */</div>
<a id="L151" name="L151"></a> 151     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SHA1 =
<a id="L152" name="L152"></a> 152         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ALGO_ID_DIGEST_SHA1;
<a id="L153" name="L153"></a> 153 
<div class="comment">
     /** SHA256 Cipher */</div>
<a id="L155" name="L155"></a> 155     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SHA256 =
<a id="L156" name="L156"></a> 156         <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.ALGO_ID_DIGEST_SHA256;
<a id="L157" name="L157"></a> 157 
<div class="comment">
     /** SHA512 Cipher */</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SHA512 =
<a id="L160" name="L160"></a> 160         <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.ALGO_ID_DIGEST_SHA512;
<a id="L161" name="L161"></a> 161 
<div class="comment">
     /** RIPEMD Cipher */</div>
<a id="L163" name="L163"></a> 163     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> RIPEMD_160 =
<a id="L164" name="L164"></a> 164         <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.ALGO_ID_DIGEST_RIPEMD160;
<a id="L165" name="L165"></a> 165 
<div class="comment">
     /** XML Signature NS */</div>
<a id="L167" name="L167"></a> 167     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> XML_DSIG =
<a id="L168" name="L168"></a> 168         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS;
<a id="L169" name="L169"></a> 169 
<div class="comment">
     /** N14C_XML */</div>
<a id="L171" name="L171"></a> 171     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> N14C_XML =
<a id="L172" name="L172"></a> 172         <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_OMIT_COMMENTS;
<a id="L173" name="L173"></a> 173 
<div class="comment">
     /** N14C_XML with comments*/</div>
<a id="L175" name="L175"></a> 175     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> N14C_XML_WITH_COMMENTS =
<a id="L176" name="L176"></a> 176         <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_WITH_COMMENTS;
<a id="L177" name="L177"></a> 177 
<div class="comment">
     /** N14C_XML exclusive */</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> EXCL_XML_N14C =
<a id="L180" name="L180"></a> 180         <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_EXCL_OMIT_COMMENTS;
<a id="L181" name="L181"></a> 181 
<div class="comment">
     /** N14C_XML exclusive with comments*/</div>
<a id="L183" name="L183"></a> 183     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> EXCL_XML_N14C_WITH_COMMENTS =
<a id="L184" name="L184"></a> 184         <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_EXCL_WITH_COMMENTS;
<a id="L185" name="L185"></a> 185 
<div class="comment">
     /** N14C_PHYSICAL preserve the physical representation*/</div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> PHYSICAL_XML_N14C =
<a id="L188" name="L188"></a> 188         <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_PHYSICAL;
<a id="L189" name="L189"></a> 189 
<div class="comment">
     /** Base64 encoding */</div>
<a id="L191" name="L191"></a> 191     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BASE64_ENCODING =
<a id="L192" name="L192"></a> 192         com.sun.org.apache.xml.internal.security.transforms.<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_BASE64_DECODE;
<a id="L193" name="L193"></a> 193 
<div class="comment">
     /** ENCRYPT Mode */</div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> ENCRYPT_MODE = Cipher.ENCRYPT_MODE;
<a id="L196" name="L196"></a> 196 
<div class="comment">
     /** DECRYPT Mode */</div>
<a id="L198" name="L198"></a> 198     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DECRYPT_MODE = Cipher.DECRYPT_MODE;
<a id="L199" name="L199"></a> 199 
<div class="comment">
     /** UNWRAP Mode */</div>
<a id="L201" name="L201"></a> 201     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> UNWRAP_MODE  = Cipher.UNWRAP_MODE;
<a id="L202" name="L202"></a> 202 
<div class="comment">
     /** WRAP Mode */</div>
<a id="L204" name="L204"></a> 204     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> WRAP_MODE    = Cipher.WRAP_MODE;
<a id="L205" name="L205"></a> 205 
<a id="L206" name="L206"></a> 206     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ENC_ALGORITHMS = TRIPLEDES + "\n" +
<a id="L207" name="L207"></a> 207     AES_128 + "\n" + AES_256 + "\n" + AES_192 + "\n" + RSA_v1dot5 + "\n" +
<a id="L208" name="L208"></a> 208     RSA_OAEP + "\n" + RSA_OAEP_11 + "\n" + TRIPLEDES_KeyWrap + "\n" +
<a id="L209" name="L209"></a> 209     AES_128_KeyWrap + "\n" + AES_256_KeyWrap + "\n" + AES_192_KeyWrap + "\n" +
<a id="L210" name="L210"></a> 210     AES_128_GCM + "\n" + AES_192_GCM + "\n" + AES_256_GCM + "\n";
<a id="L211" name="L211"></a> 211 
<div class="comment">
     /** Cipher created during initialisation that is used for encryption */</div>
<a id="L213" name="L213"></a> 213     <strong class="reserved">private</strong> Cipher contextCipher;
<a id="L214" name="L214"></a> 214 
<div class="comment">
     /** Mode that the XMLCipher object is operating in */</div>
<a id="L216" name="L216"></a> 216     <strong class="reserved">private</strong> <strong class="reserved">int</strong> cipherMode = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE;
<a id="L217" name="L217"></a> 217 
<div class="comment">
     /** URI of algorithm that is being used for cryptographic operation */</div>
<a id="L219" name="L219"></a> 219     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm = <strong class="reserved">null</strong>;
<a id="L220" name="L220"></a> 220 
<div class="comment">
     /** Cryptographic provider requested by caller */</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> requestedJCEProvider = <strong class="reserved">null</strong>;
<a id="L223" name="L223"></a> 223 
<div class="comment">
     /** Holds c14n to serialize, if initialized then _always_ use this c14n to serialize */</div>
<a id="L225" name="L225"></a> 225     <strong class="reserved">private</strong> <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a> canon;
<a id="L226" name="L226"></a> 226 
<div class="comment">
     /** Used for creation of DOM nodes in WRAP and ENCRYPT modes */</div>
<a id="L228" name="L228"></a> 228     <strong class="reserved">private</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> contextDocument;
<a id="L229" name="L229"></a> 229 
<div class="comment">
     /** Instance of factory used to create XML Encryption objects */</div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">private</strong> <a href="../D/3122.html" title="Multiple defined in 4 places.">Factory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>;
<a id="L232" name="L232"></a> 232 
<div class="comment">
     /** Serializer class for going to/from UTF-8 */</div>
<a id="L234" name="L234"></a> 234     <strong class="reserved">private</strong> <a href="../D/7746.html" title="Multiple defined in 3 places.">Serializer</a> serializer;
<a id="L235" name="L235"></a> 235 
<div class="comment">
     /** Local copy of user's key */</div>
<a id="L237" name="L237"></a> 237     <strong class="reserved">private</strong> <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L238" name="L238"></a> 238 
<div class="comment">
 Local copy of the kek (used to decrypt EncryptedKeys during a
     *  DECRYPT_MODE operation </div>
<a id="L241" name="L241"></a> 241     <strong class="reserved">private</strong> <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> kek;
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243     <em class="comment">// The EncryptedKey being built (part of a WRAP operation) or read</em>
<a id="L244" name="L244"></a> 244     <em class="comment">// (part of an UNWRAP operation)</em>
<a id="L245" name="L245"></a> 245     <strong class="reserved">private</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> ek;
<a id="L246" name="L246"></a> 246 
<a id="L247" name="L247"></a> 247     <em class="comment">// The EncryptedData being built (part of a WRAP operation) or read</em>
<a id="L248" name="L248"></a> 248     <em class="comment">// (part of an UNWRAP operation)</em>
<a id="L249" name="L249"></a> 249     <strong class="reserved">private</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> ed;
<a id="L250" name="L250"></a> 250 
<a id="L251" name="L251"></a> 251     <strong class="reserved">private</strong> <a href="../S/1198.html#L94" title="Defined at 94 in src/java/security/SecureRandom.java.">SecureRandom</a> <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>;
<a id="L252" name="L252"></a> 252 
<a id="L253" name="L253"></a> 253     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> secureValidation;
<a id="L254" name="L254"></a> 254 
<a id="L255" name="L255"></a> 255     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestAlg;
<a id="L256" name="L256"></a> 256 
<div class="comment">
     /** List of internal KeyResolvers for DECRYPT and UNWRAP modes. */</div>
<a id="L258" name="L258"></a> 258     <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/5743.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/KeyResolverSpi.java.">KeyResolverSpi</a>&gt; internalKeyResolvers;
<a id="L259" name="L259"></a> 259 
<div class="comment">
      Set the Serializer algorithm to use</div>
<a id="L263" name="L263"></a> 263     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setSerializer(<a href="../D/7746.html" title="Multiple defined in 3 places.">Serializer</a> serializer) <em class="brace">{</em>
<a id="L264" name="L264"></a> 264         <strong class="reserved">this</strong>.serializer = serializer;
<a id="L265" name="L265"></a> 265         serializer.<a href="../D/32091.html" title="Multiple defined in 2 places.">setCanonicalizer</a>(<strong class="reserved">this</strong>.canon);
<a id="L266" name="L266"></a> 266     <em class="brace">}</em>
<a id="L267" name="L267"></a> 267 
<div class="comment">
      Get the Serializer algorithm to use</div>
<a id="L271" name="L271"></a> 271     <strong class="reserved">public</strong> <a href="../D/7746.html" title="Multiple defined in 3 places.">Serializer</a> <a href="../R/18969.html" title="Multiple referred from 4 places.">getSerializer</a>() <em class="brace">{</em>
<a id="L272" name="L272"></a> 272         <strong class="reserved">return</strong> serializer;
<a id="L273" name="L273"></a> 273     <em class="brace">}</em>
<a id="L274" name="L274"></a> 274 
<div class="comment">
      Creates a new <code>XMLCipher</code>.
      @param transformation    the name of the transformation, e.g.,
                               <code>XMLCipher.TRIPLEDES</code>. If null the XMLCipher can only
                               be used for decrypt or unwrap operations where the encryption method
                               is defined in the <code>EncryptionMethod</code> element.
      @param provider          the JCE provider that supplies the transformation,
                               if null use the default provider.
      @param canon             the name of the c14n algorithm, if
                               <code>null</code> use standard serializer
      @param digestMethod      An optional digestMethod to use.</div>
<a id="L288" name="L288"></a> 288     <strong class="reserved">private</strong> XMLCipher(
<a id="L289" name="L289"></a> 289         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation,
<a id="L290" name="L290"></a> 290         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L291" name="L291"></a> 291         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canonAlg,
<a id="L292" name="L292"></a> 292         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestMethod
<a id="L293" name="L293"></a> 293     ) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Constructing XMLCipher...");
<a id="L296" name="L296"></a> 296         <em class="brace">}</em>
<a id="L297" name="L297"></a> 297 
<a id="L298" name="L298"></a> 298         <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = <strong class="reserved">new</strong> <a href="../D/3122.html" title="Multiple defined in 4 places.">Factory</a>();
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300         algorithm = transformation;
<a id="L301" name="L301"></a> 301         requestedJCEProvider = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L302" name="L302"></a> 302         digestAlg = digestMethod;
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304         <em class="comment">// Create a canonicalizer - used when serializing DOM to octets</em>
<a id="L305" name="L305"></a> 305         <em class="comment">// prior to encryption (and for the reverse)</em>
<a id="L306" name="L306"></a> 306 
<a id="L307" name="L307"></a> 307         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L308" name="L308"></a> 308             <strong class="reserved">if</strong> (canonAlg == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309                 <em class="comment">// The default is to preserve the physical representation.</em>
<a id="L310" name="L310"></a> 310                 <strong class="reserved">this</strong>.canon = <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_PHYSICAL);
<a id="L311" name="L311"></a> 311             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L312" name="L312"></a> 312                 <strong class="reserved">this</strong>.canon = <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(canonAlg);
<a id="L313" name="L313"></a> 313             <em class="brace">}</em>
<a id="L314" name="L314"></a> 314         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5622.html#L27" title="Defined at 27 in src/com/sun/org/apache/xml/internal/security/c14n/InvalidCanonicalizerException.java.">InvalidCanonicalizerException</a> ice) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ice);
<a id="L316" name="L316"></a> 316         <em class="brace">}</em>
<a id="L317" name="L317"></a> 317 
<a id="L318" name="L318"></a> 318         <strong class="reserved">if</strong> (serializer == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319             serializer = <strong class="reserved">new</strong> <a href="../S/5628.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/DocumentSerializer.java.">DocumentSerializer</a>();
<a id="L320" name="L320"></a> 320         <em class="brace">}</em>
<a id="L321" name="L321"></a> 321         serializer.<a href="../D/32091.html" title="Multiple defined in 2 places.">setCanonicalizer</a>(<strong class="reserved">this</strong>.canon);
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323         <strong class="reserved">if</strong> (transformation != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324             contextCipher = <a href="../S/5638.html#L1534" title="Defined at 1534 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">constructCipher</a>(transformation, digestMethod);
<a id="L325" name="L325"></a> 325         <em class="brace">}</em>
<a id="L326" name="L326"></a> 326     <em class="brace">}</em>
<a id="L327" name="L327"></a> 327 
<div class="comment">
      Checks to ensure that the supplied algorithm is valid.
      @param algorithm the algorithm to check.
      @return true if the algorithm is valid, otherwise false.
      @since 1.0.</div>
<a id="L335" name="L335"></a> 335     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/5638.html#L365" title="Referred from 365 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">isValidEncryptionAlgorithm</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336         <strong class="reserved">return</strong> (
<a id="L337" name="L337"></a> 337             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(TRIPLEDES) ||
<a id="L338" name="L338"></a> 338             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_128) ||
<a id="L339" name="L339"></a> 339             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_256) ||
<a id="L340" name="L340"></a> 340             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_192) ||
<a id="L341" name="L341"></a> 341             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_128_GCM) ||
<a id="L342" name="L342"></a> 342             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_192_GCM) ||
<a id="L343" name="L343"></a> 343             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_256_GCM) ||
<a id="L344" name="L344"></a> 344             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(RSA_v1dot5) ||
<a id="L345" name="L345"></a> 345             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(RSA_OAEP) ||
<a id="L346" name="L346"></a> 346             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(RSA_OAEP_11) ||
<a id="L347" name="L347"></a> 347             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(TRIPLEDES_KeyWrap) ||
<a id="L348" name="L348"></a> 348             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_128_KeyWrap) ||
<a id="L349" name="L349"></a> 349             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_256_KeyWrap) ||
<a id="L350" name="L350"></a> 350             algorithm.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(AES_192_KeyWrap)
<a id="L351" name="L351"></a> 351         );
<a id="L352" name="L352"></a> 352     <em class="brace">}</em>
<a id="L353" name="L353"></a> 353 
<div class="comment">
      Validate the transformation argument of getInstance or getProviderInstance
      @param transformation the name of the transformation, e.g.,
        <code>XMLCipher.TRIPLEDES</code> which is shorthand for
        "http://www.w3.org/2001/04/xmlenc#tripledes-cbc"</div>
<a id="L361" name="L361"></a> 361     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/30082.html" title="Multiple referred from 6 places.">validateTransformation</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == transformation) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Transformation unexpectedly null...");
<a id="L364" name="L364"></a> 364         <em class="brace">}</em>
<a id="L365" name="L365"></a> 365         <strong class="reserved">if</strong> (!<a href="../S/5638.html#L335" title="Defined at 335 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">isValidEncryptionAlgorithm</a>(transformation)) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.WARNING, "Algorithm non-standard, expected one of " + ENC_ALGORITHMS);
<a id="L367" name="L367"></a> 367         <em class="brace">}</em>
<a id="L368" name="L368"></a> 368     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements the specified
      transformation and operates on the specified context document.
      <p>
      If the default provider package supplies an implementation of the
      requested transformation, an instance of Cipher containing that
      implementation is returned. If the transformation is not available in
      the default provider package, other provider packages are searched.
      </p><p>
      <b>NOTE<sub>1</sub>:</b> The transformation name does not follow the same
      pattern as that outlined in the Java Cryptography Extension Reference
      Guide but rather that specified by the XML Encryption Syntax and
      Processing document. The rational behind this is to make it easier for a
      novice at writing Java Encryption software to use the library.
      </p><p>
      <b>NOTE<sub>2</sub>:</b> <code>getInstance()</code> does not follow the
      same pattern regarding exceptional conditions as that used in
      <code>javax.crypto.Cipher</code>. Instead, it only throws an
      <code>XMLEncryptionException</code> which wraps an underlying exception.
      The stack trace from the exception should be self explanatory.
      @param transformation the name of the transformation, e.g.,
        <code>XMLCipher.TRIPLEDES</code> which is shorthand for
        "http://www.w3.org/2001/04/xmlenc#tripledes-cbc"
      @throws XMLEncryptionException
      @return the XMLCipher
      @see javax.crypto.Cipher#getInstance(java.lang.String)</p></div>
<a id="L398" name="L398"></a> 398     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L399" name="L399"></a> 399         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L400" name="L400"></a> 400             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with transformation");
<a id="L401" name="L401"></a> 401         <em class="brace">}</em>
<a id="L402" name="L402"></a> 402         <a href="../S/5638.html#L361" title="Defined at 361 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">validateTransformation</a>(transformation);
<a id="L403" name="L403"></a> 403         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(transformation, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L404" name="L404"></a> 404     <em class="brace">}</em>
<a id="L405" name="L405"></a> 405 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements the specified
      transformation, operates on the specified context document and serializes
      the document with the specified canonicalization algorithm before it
      encrypts the document.
      <p>
      @param transformation    the name of the transformation
      @param canon             the name of the c14n algorithm, if <code>null</code> use
                               standard serializer
      @return the XMLCipher
      @throws XMLEncryptionException</p></div>
<a id="L419" name="L419"></a> 419     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canon)
<a id="L420" name="L420"></a> 420         <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L421" name="L421"></a> 421         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L422" name="L422"></a> 422             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with transformation and c14n algorithm");
<a id="L423" name="L423"></a> 423         <em class="brace">}</em>
<a id="L424" name="L424"></a> 424         <a href="../S/5638.html#L361" title="Defined at 361 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">validateTransformation</a>(transformation);
<a id="L425" name="L425"></a> 425         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(transformation, <strong class="reserved">null</strong>, canon, <strong class="reserved">null</strong>);
<a id="L426" name="L426"></a> 426     <em class="brace">}</em>
<a id="L427" name="L427"></a> 427 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements the specified
      transformation, operates on the specified context document and serializes
      the document with the specified canonicalization algorithm before it
      encrypts the document.
      <p>
      @param transformation    the name of the transformation
      @param canon             the name of the c14n algorithm, if <code>null</code> use
                               standard serializer
      @param digestMethod      An optional digestMethod to use
      @return the XMLCipher
      @throws XMLEncryptionException</p></div>
<a id="L442" name="L442"></a> 442     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canon, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestMethod)
<a id="L443" name="L443"></a> 443         <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with transformation and c14n algorithm");
<a id="L446" name="L446"></a> 446         <em class="brace">}</em>
<a id="L447" name="L447"></a> 447         <a href="../S/5638.html#L361" title="Defined at 361 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">validateTransformation</a>(transformation);
<a id="L448" name="L448"></a> 448         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(transformation, <strong class="reserved">null</strong>, canon, digestMethod);
<a id="L449" name="L449"></a> 449     <em class="brace">}</em>
<a id="L450" name="L450"></a> 450 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements the specified
      transformation and operates on the specified context document.
      @param transformation    the name of the transformation
      @param provider          the JCE provider that supplies the transformation
      @return the XMLCipher
      @throws XMLEncryptionException</div>
<a id="L460" name="L460"></a> 460     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/18539.html" title="Multiple referred from 2 places.">getProviderInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L461" name="L461"></a> 461         <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L462" name="L462"></a> 462         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L463" name="L463"></a> 463             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with transformation and provider");
<a id="L464" name="L464"></a> 464         <em class="brace">}</em>
<a id="L465" name="L465"></a> 465         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <em class="brace">{</em>
<a id="L466" name="L466"></a> 466             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Provider unexpectedly null..");
<a id="L467" name="L467"></a> 467         <em class="brace">}</em>
<a id="L468" name="L468"></a> 468         <a href="../S/5638.html#L361" title="Defined at 361 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">validateTransformation</a>(transformation);
<a id="L469" name="L469"></a> 469         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(transformation, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L470" name="L470"></a> 470     <em class="brace">}</em>
<a id="L471" name="L471"></a> 471 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements the specified
      transformation, operates on the specified context document and serializes
      the document with the specified canonicalization algorithm before it
      encrypts the document.
      <p>
      @param transformation    the name of the transformation
      @param provider          the JCE provider that supplies the transformation
      @param canon             the name of the c14n algorithm, if <code>null</code> use standard
                               serializer
      @return the XMLCipher
      @throws XMLEncryptionException</p></div>
<a id="L486" name="L486"></a> 486     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/18539.html" title="Multiple referred from 2 places.">getProviderInstance</a>(
<a id="L487" name="L487"></a> 487         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canon
<a id="L488" name="L488"></a> 488     ) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L489" name="L489"></a> 489         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with transformation, provider and c14n algorithm");
<a id="L491" name="L491"></a> 491         <em class="brace">}</em>
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Provider unexpectedly null..");
<a id="L494" name="L494"></a> 494         <em class="brace">}</em>
<a id="L495" name="L495"></a> 495         <a href="../S/5638.html#L361" title="Defined at 361 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">validateTransformation</a>(transformation);
<a id="L496" name="L496"></a> 496         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(transformation, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, canon, <strong class="reserved">null</strong>);
<a id="L497" name="L497"></a> 497     <em class="brace">}</em>
<a id="L498" name="L498"></a> 498 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements the specified
      transformation, operates on the specified context document and serializes
      the document with the specified canonicalization algorithm before it
      encrypts the document.
      <p>
      @param transformation    the name of the transformation
      @param provider          the JCE provider that supplies the transformation
      @param canon             the name of the c14n algorithm, if <code>null</code> use standard
                               serializer
      @param digestMethod      An optional digestMethod to use
      @return the XMLCipher
      @throws XMLEncryptionException</p></div>
<a id="L514" name="L514"></a> 514     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/18539.html" title="Multiple referred from 2 places.">getProviderInstance</a>(
<a id="L515" name="L515"></a> 515         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> transformation, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canon, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestMethod
<a id="L516" name="L516"></a> 516     ) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with transformation, provider and c14n algorithm");
<a id="L519" name="L519"></a> 519         <em class="brace">}</em>
<a id="L520" name="L520"></a> 520         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Provider unexpectedly null..");
<a id="L522" name="L522"></a> 522         <em class="brace">}</em>
<a id="L523" name="L523"></a> 523         <a href="../S/5638.html#L361" title="Defined at 361 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">validateTransformation</a>(transformation);
<a id="L524" name="L524"></a> 524         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(transformation, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, canon, digestMethod);
<a id="L525" name="L525"></a> 525     <em class="brace">}</em>
<a id="L526" name="L526"></a> 526 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements no specific
      transformation, and can therefore only be used for decrypt or
      unwrap operations where the encryption method is defined in the
      <code>EncryptionMethod</code> element.
      @return The XMLCipher
      @throws XMLEncryptionException</div>
<a id="L536" name="L536"></a> 536     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>() <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L537" name="L537"></a> 537         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with no arguments");
<a id="L539" name="L539"></a> 539         <em class="brace">}</em>
<a id="L540" name="L540"></a> 540         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L541" name="L541"></a> 541     <em class="brace">}</em>
<a id="L542" name="L542"></a> 542 
<div class="comment">
      Returns an <code>XMLCipher</code> that implements no specific
      transformation, and can therefore only be used for decrypt or
      unwrap operations where the encryption method is defined in the
      <code>EncryptionMethod</code> element.
      Allows the caller to specify a provider that will be used for
      cryptographic operations.
      @param provider          the JCE provider that supplies the transformation
      @return the XMLCipher
      @throws XMLEncryptionException</div>
<a id="L556" name="L556"></a> 556     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a> <a href="../R/18539.html" title="Multiple referred from 2 places.">getProviderInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L557" name="L557"></a> 557         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Getting XMLCipher with provider");
<a id="L559" name="L559"></a> 559         <em class="brace">}</em>
<a id="L560" name="L560"></a> 560         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>(<strong class="reserved">null</strong>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L561" name="L561"></a> 561     <em class="brace">}</em>
<a id="L562" name="L562"></a> 562 
<div class="comment">
      Initializes this cipher with a key.
      <p>
      The cipher is initialized for one of the following four operations:
      encryption, decryption, key wrapping or key unwrapping, depending on the
      value of opmode.
      For WRAP and ENCRYPT modes, this also initialises the internal
      EncryptedKey or EncryptedData (with a CipherValue)
      structure that will be used during the ensuing operations.  This
      can be obtained (in order to modify KeyInfo elements etc. prior to
      finalising the encryption) by calling
      <a href="#L655" title="Defined at 655.">getEncryptedData</a> or <a href="#L672" title="Defined at 672.">getEncryptedKey</a>.
      @param opmode the operation mode of this cipher (this is one of the
        following: ENCRYPT_MODE, DECRYPT_MODE, WRAP_MODE or UNWRAP_MODE)
      @param key
      @see javax.crypto.Cipher#init(int, java.security.Key)
      @throws XMLEncryptionException</p></div>
<a id="L583" name="L583"></a> 583     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<strong class="reserved">int</strong> opmode, <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L584" name="L584"></a> 584         <em class="comment">// sanity checks</em>
<a id="L585" name="L585"></a> 585         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Initializing XMLCipher...");
<a id="L587" name="L587"></a> 587         <em class="brace">}</em>
<a id="L588" name="L588"></a> 588 
<a id="L589" name="L589"></a> 589         ek = <strong class="reserved">null</strong>;
<a id="L590" name="L590"></a> 590         ed = <strong class="reserved">null</strong>;
<a id="L591" name="L591"></a> 591 
<a id="L592" name="L592"></a> 592         <strong class="reserved">switch</strong> (opmode) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593 
<a id="L594" name="L594"></a> 594         <strong class="reserved">case</strong> ENCRYPT_MODE :
<a id="L595" name="L595"></a> 595             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L596" name="L596"></a> 596                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "opmode = ENCRYPT_MODE");
<a id="L597" name="L597"></a> 597             <em class="brace">}</em>
<a id="L598" name="L598"></a> 598             ed = <a href="../S/5638.html#L1812" title="Defined at 1812 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">createEncryptedData</a>(<a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.VALUE_TYPE, "NO VALUE YET");
<a id="L599" name="L599"></a> 599             <strong class="reserved">break</strong>;
<a id="L600" name="L600"></a> 600         <strong class="reserved">case</strong> DECRYPT_MODE :
<a id="L601" name="L601"></a> 601             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "opmode = DECRYPT_MODE");
<a id="L603" name="L603"></a> 603             <em class="brace">}</em>
<a id="L604" name="L604"></a> 604             <strong class="reserved">break</strong>;
<a id="L605" name="L605"></a> 605         <strong class="reserved">case</strong> WRAP_MODE :
<a id="L606" name="L606"></a> 606             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "opmode = WRAP_MODE");
<a id="L608" name="L608"></a> 608             <em class="brace">}</em>
<a id="L609" name="L609"></a> 609             ek = <a href="../S/5638.html#L1867" title="Defined at 1867 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">createEncryptedKey</a>(<a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.VALUE_TYPE, "NO VALUE YET");
<a id="L610" name="L610"></a> 610             <strong class="reserved">break</strong>;
<a id="L611" name="L611"></a> 611         <strong class="reserved">case</strong> UNWRAP_MODE :
<a id="L612" name="L612"></a> 612             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L613" name="L613"></a> 613                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "opmode = UNWRAP_MODE");
<a id="L614" name="L614"></a> 614             <em class="brace">}</em>
<a id="L615" name="L615"></a> 615             <strong class="reserved">break</strong>;
<a id="L616" name="L616"></a> 616         <strong class="reserved">default</strong> :
<a id="L617" name="L617"></a> 617             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Mode unexpectedly invalid");
<a id="L618" name="L618"></a> 618             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("Invalid mode in init");
<a id="L619" name="L619"></a> 619         <em class="brace">}</em>
<a id="L620" name="L620"></a> 620 
<a id="L621" name="L621"></a> 621         cipherMode = opmode;
<a id="L622" name="L622"></a> 622         <strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L623" name="L623"></a> 623     <em class="brace">}</em>
<a id="L624" name="L624"></a> 624 
<div class="comment">
      Set whether secure validation is enabled or not. The default is false.</div>
<a id="L628" name="L628"></a> 628     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28121.html" title="Multiple referred from 17 places.">setSecureValidation</a>(<strong class="reserved">boolean</strong> secureValidation) <em class="brace">{</em>
<a id="L629" name="L629"></a> 629         <strong class="reserved">this</strong>.secureValidation = secureValidation;
<a id="L630" name="L630"></a> 630     <em class="brace">}</em>
<a id="L631" name="L631"></a> 631 
<div class="comment">
      This method is used to add a custom <a href="../S/5743.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/KeyResolverSpi.java.">KeyResolverSpi</a> to an XMLCipher.
      These KeyResolvers are used in KeyInfo objects in DECRYPT and
      UNWRAP modes.
      @param keyResolver</div>
<a id="L639" name="L639"></a> 639     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25779.html" title="Multiple referred from 4 places.">registerInternalKeyResolver</a>(<a href="../S/5743.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/KeyResolverSpi.java.">KeyResolverSpi</a> keyResolver) <em class="brace">{</em>
<a id="L640" name="L640"></a> 640         <strong class="reserved">if</strong> (internalKeyResolvers == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L641" name="L641"></a> 641             internalKeyResolvers = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/5743.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/KeyResolverSpi.java.">KeyResolverSpi</a>&gt;();
<a id="L642" name="L642"></a> 642         <em class="brace">}</em>
<a id="L643" name="L643"></a> 643         internalKeyResolvers.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(keyResolver);
<a id="L644" name="L644"></a> 644     <em class="brace">}</em>
<a id="L645" name="L645"></a> 645 
<div class="comment">
      Get the EncryptedData being built
      <p>
      Returns the EncryptedData being built during an ENCRYPT operation.
      This can then be used by applications to add KeyInfo elements and
      set other parameters.
      @return The EncryptedData being built</p></div>
<a id="L655" name="L655"></a> 655     <strong class="reserved">public</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> getEncryptedData() <em class="brace">{</em>
<a id="L656" name="L656"></a> 656         <em class="comment">// Sanity checks</em>
<a id="L657" name="L657"></a> 657         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L658" name="L658"></a> 658             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Returning EncryptedData");
<a id="L659" name="L659"></a> 659         <em class="brace">}</em>
<a id="L660" name="L660"></a> 660         <strong class="reserved">return</strong> ed;
<a id="L661" name="L661"></a> 661     <em class="brace">}</em>
<a id="L662" name="L662"></a> 662 
<div class="comment">
      Get the EncryptedData being build
      Returns the EncryptedData being built during an ENCRYPT operation.
      This can then be used by applications to add KeyInfo elements and
      set other parameters.
      @return The EncryptedData being built</div>
<a id="L672" name="L672"></a> 672     <strong class="reserved">public</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> getEncryptedKey() <em class="brace">{</em>
<a id="L673" name="L673"></a> 673         <em class="comment">// Sanity checks</em>
<a id="L674" name="L674"></a> 674         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Returning EncryptedKey");
<a id="L676" name="L676"></a> 676         <em class="brace">}</em>
<a id="L677" name="L677"></a> 677         <strong class="reserved">return</strong> ek;
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<div class="comment">
      Set a Key Encryption Key.
      <p>
      The Key Encryption Key (KEK) is used for encrypting/decrypting
      EncryptedKey elements.  By setting this separately, the XMLCipher
      class can know whether a key applies to the data part or wrapped key
      part of an encrypted object.
      @param kek The key to use for de/encrypting key data</p></div>
<a id="L690" name="L690"></a> 690 
<a id="L691" name="L691"></a> 691     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setKEK(<a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> kek) <em class="brace">{</em>
<a id="L692" name="L692"></a> 692         <strong class="reserved">this</strong>.kek = kek;
<a id="L693" name="L693"></a> 693     <em class="brace">}</em>
<a id="L694" name="L694"></a> 694 
<div class="comment">
      Martial an EncryptedData
      Takes an EncryptedData object and returns a DOM Element that
      represents the appropriate <code>EncryptedData</code>
      <p>
      <b>Note:</b> This should only be used in cases where the context
      document has been passed in via a call to doFinal.
      @param encryptedData EncryptedData object to martial
      @return the DOM <code>Element</code> representing the passed in
      object</p></div>
<a id="L708" name="L708"></a> 708     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5787.html#L340" title="Referred from 340 in src/com/sun/org/apache/xml/internal/security/keys/KeyInfo.java.">martial</a>(<a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> encryptedData) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(encryptedData);
<a id="L710" name="L710"></a> 710     <em class="brace">}</em>
<a id="L711" name="L711"></a> 711 
<div class="comment">
      Martial an EncryptedData
      Takes an EncryptedData object and returns a DOM Element that
      represents the appropriate <code>EncryptedData</code>
      @param context The document that will own the returned nodes
      @param encryptedData EncryptedData object to martial
      @return the DOM <code>Element</code> representing the passed in
      object</div>
<a id="L723" name="L723"></a> 723     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5787.html#L340" title="Referred from 340 in src/com/sun/org/apache/xml/internal/security/keys/KeyInfo.java.">martial</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> encryptedData) <em class="brace">{</em>
<a id="L724" name="L724"></a> 724         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L725" name="L725"></a> 725         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(encryptedData);
<a id="L726" name="L726"></a> 726     <em class="brace">}</em>
<a id="L727" name="L727"></a> 727 
<div class="comment">
      Martial an EncryptedKey
      Takes an EncryptedKey object and returns a DOM Element that
      represents the appropriate <code>EncryptedKey</code>
      <p>
      <b>Note:</b> This should only be used in cases where the context
      document has been passed in via a call to doFinal.
      @param encryptedKey EncryptedKey object to martial
      @return the DOM <code>Element</code> representing the passed in
      object</p></div>
<a id="L742" name="L742"></a> 742     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5787.html#L340" title="Referred from 340 in src/com/sun/org/apache/xml/internal/security/keys/KeyInfo.java.">martial</a>(<a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> encryptedKey) <em class="brace">{</em>
<a id="L743" name="L743"></a> 743         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(encryptedKey);
<a id="L744" name="L744"></a> 744     <em class="brace">}</em>
<a id="L745" name="L745"></a> 745 
<div class="comment">
      Martial an EncryptedKey
      Takes an EncryptedKey object and returns a DOM Element that
      represents the appropriate <code>EncryptedKey</code>
      @param context The document that will own the created nodes
      @param encryptedKey EncryptedKey object to martial
      @return the DOM <code>Element</code> representing the passed in
      object</div>
<a id="L757" name="L757"></a> 757     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5787.html#L340" title="Referred from 340 in src/com/sun/org/apache/xml/internal/security/keys/KeyInfo.java.">martial</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> encryptedKey) <em class="brace">{</em>
<a id="L758" name="L758"></a> 758         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L759" name="L759"></a> 759         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(encryptedKey);
<a id="L760" name="L760"></a> 760     <em class="brace">}</em>
<a id="L761" name="L761"></a> 761 
<div class="comment">
      Martial a ReferenceList
      Takes a ReferenceList object and returns a DOM Element that
      represents the appropriate <code>ReferenceList</code>
      <p>
      <b>Note:</b> This should only be used in cases where the context
      document has been passed in via a call to doFinal.
      @param referenceList ReferenceList object to martial
      @return the DOM <code>Element</code> representing the passed in
      object</p></div>
<a id="L776" name="L776"></a> 776     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5787.html#L340" title="Referred from 340 in src/com/sun/org/apache/xml/internal/security/keys/KeyInfo.java.">martial</a>(<a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> referenceList) <em class="brace">{</em>
<a id="L777" name="L777"></a> 777         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(referenceList);
<a id="L778" name="L778"></a> 778     <em class="brace">}</em>
<a id="L779" name="L779"></a> 779 
<div class="comment">
      Martial a ReferenceList
      Takes a ReferenceList object and returns a DOM Element that
      represents the appropriate <code>ReferenceList</code>
      @param context The document that will own the created nodes
      @param referenceList ReferenceList object to martial
      @return the DOM <code>Element</code> representing the passed in
      object</div>
<a id="L791" name="L791"></a> 791     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5787.html#L340" title="Referred from 340 in src/com/sun/org/apache/xml/internal/security/keys/KeyInfo.java.">martial</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> referenceList) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L793" name="L793"></a> 793         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(referenceList);
<a id="L794" name="L794"></a> 794     <em class="brace">}</em>
<a id="L795" name="L795"></a> 795 
<div class="comment">
      Encrypts an <code>Element</code> and replaces it with its encrypted
      counterpart in the context <code>Document</code>, that is, the
      <code>Document</code> specified when one calls
      {@link #getInstance(String) getInstance}.
      @param element the <code>Element</code> to encrypt.
      @return the context <code>Document</code> with the encrypted
        <code>Element</code> having replaced the source <code>Element</code>.
       @throws Exception</div>
<a id="L807" name="L807"></a> 807     <strong class="reserved">private</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/13746.html" title="Multiple referred from 3 places.">encryptElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a><em class="brace">{</em>
<a id="L808" name="L808"></a> 808         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L809" name="L809"></a> 809             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypting element...");
<a id="L810" name="L810"></a> 810         <em class="brace">}</em>
<a id="L811" name="L811"></a> 811         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L812" name="L812"></a> 812             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Element unexpectedly null...");
<a id="L813" name="L813"></a> 813         <em class="brace">}</em>
<a id="L814" name="L814"></a> 814         <strong class="reserved">if</strong> (cipherMode != ENCRYPT_MODE &amp;&amp; <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L815" name="L815"></a> 815             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "XMLCipher unexpectedly not in ENCRYPT_MODE...");
<a id="L816" name="L816"></a> 816         <em class="brace">}</em>
<a id="L817" name="L817"></a> 817 
<a id="L818" name="L818"></a> 818         <strong class="reserved">if</strong> (algorithm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L819" name="L819"></a> 819             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("XMLCipher instance without transformation specified");
<a id="L820" name="L820"></a> 820         <em class="brace">}</em>
<a id="L821" name="L821"></a> 821         <a href="../D/15427.html" title="Multiple defined in 4 places.">encryptData</a>(contextDocument, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <strong class="reserved">false</strong>);
<a id="L822" name="L822"></a> 822 
<a id="L823" name="L823"></a> 823         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> encryptedElement = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(ed);
<a id="L824" name="L824"></a> 824 
<a id="L825" name="L825"></a> 825         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sourceParent = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L826" name="L826"></a> 826         sourceParent.<a href="../D/31039.html" title="Multiple defined in 11 places.">replaceChild</a>(encryptedElement, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L827" name="L827"></a> 827 
<a id="L828" name="L828"></a> 828         <strong class="reserved">return</strong> contextDocument;
<a id="L829" name="L829"></a> 829     <em class="brace">}</em>
<a id="L830" name="L830"></a> 830 
<div class="comment">
      Encrypts a <code>NodeList</code> (the contents of an
      <code>Element</code>) and replaces its parent <code>Element</code>'s
      content with this the resulting <code>EncryptedType</code> within the
      context <code>Document</code>, that is, the <code>Document</code>
      specified when one calls
      {@link #getInstance(String) getInstance}.
      @param element the <code>NodeList</code> to encrypt.
      @return the context <code>Document</code> with the encrypted
        <code>NodeList</code> having replaced the content of the source
        <code>Element</code>.
      @throws Exception</div>
<a id="L845" name="L845"></a> 845     <strong class="reserved">private</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/5638.html#L989" title="Referred from 989 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">encryptElementContent</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <div class="comment">
/* XMLEncryption */</div><a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L846" name="L846"></a> 846         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L847" name="L847"></a> 847             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypting element content...");
<a id="L848" name="L848"></a> 848         <em class="brace">}</em>
<a id="L849" name="L849"></a> 849         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L850" name="L850"></a> 850             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Element unexpectedly null...");
<a id="L851" name="L851"></a> 851         <em class="brace">}</em>
<a id="L852" name="L852"></a> 852         <strong class="reserved">if</strong> (cipherMode != ENCRYPT_MODE &amp;&amp; <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L853" name="L853"></a> 853             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "XMLCipher unexpectedly not in ENCRYPT_MODE...");
<a id="L854" name="L854"></a> 854         <em class="brace">}</em>
<a id="L855" name="L855"></a> 855 
<a id="L856" name="L856"></a> 856         <strong class="reserved">if</strong> (algorithm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L857" name="L857"></a> 857             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("XMLCipher instance without transformation specified");
<a id="L858" name="L858"></a> 858         <em class="brace">}</em>
<a id="L859" name="L859"></a> 859         <a href="../D/15427.html" title="Multiple defined in 4 places.">encryptData</a>(contextDocument, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <strong class="reserved">true</strong>);
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> encryptedElement = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>(ed);
<a id="L862" name="L862"></a> 862 
<a id="L863" name="L863"></a> 863         <a href="../S/5638.html#L1594" title="Defined at 1594 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">removeContent</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L864" name="L864"></a> 864         <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(encryptedElement);
<a id="L865" name="L865"></a> 865 
<a id="L866" name="L866"></a> 866         <strong class="reserved">return</strong> contextDocument;
<a id="L867" name="L867"></a> 867     <em class="brace">}</em>
<a id="L868" name="L868"></a> 868 
<div class="comment">
      Process a DOM <code>Document</code> node. The processing depends on the
      initialization parameters of {@link #init(int, Key) init()}.
      @param context the context <code>Document</code>.
      @param source the <code>Document</code> to be encrypted or decrypted.
      @return the processed <code>Document</code>.
      @throws Exception to indicate any exceptional conditions.</div>
<a id="L878" name="L878"></a> 878     <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/13398.html" title="Multiple referred from 7 places.">doFinal</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>) <div class="comment">
/* XMLEncryption */</div><a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L879" name="L879"></a> 879         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L880" name="L880"></a> 880             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Processing source document...");
<a id="L881" name="L881"></a> 881         <em class="brace">}</em>
<a id="L882" name="L882"></a> 882         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L883" name="L883"></a> 883             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Context document unexpectedly null...");
<a id="L884" name="L884"></a> 884         <em class="brace">}</em>
<a id="L885" name="L885"></a> 885         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Source document unexpectedly null...");
<a id="L887" name="L887"></a> 887         <em class="brace">}</em>
<a id="L888" name="L888"></a> 888 
<a id="L889" name="L889"></a> 889         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L890" name="L890"></a> 890 
<a id="L891" name="L891"></a> 891         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L892" name="L892"></a> 892 
<a id="L893" name="L893"></a> 893         <strong class="reserved">switch</strong> (cipherMode) <em class="brace">{</em>
<a id="L894" name="L894"></a> 894         <strong class="reserved">case</strong> DECRYPT_MODE:
<a id="L895" name="L895"></a> 895             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L1607" title="Defined at 1607 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptElement</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/18558.html" title="Multiple defined in 7 places.">getDocumentElement</a>());
<a id="L896" name="L896"></a> 896             <strong class="reserved">break</strong>;
<a id="L897" name="L897"></a> 897         <strong class="reserved">case</strong> ENCRYPT_MODE:
<a id="L898" name="L898"></a> 898             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L807" title="Defined at 807 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">encryptElement</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/18558.html" title="Multiple defined in 7 places.">getDocumentElement</a>());
<a id="L899" name="L899"></a> 899             <strong class="reserved">break</strong>;
<a id="L900" name="L900"></a> 900         <strong class="reserved">case</strong> UNWRAP_MODE:
<a id="L901" name="L901"></a> 901         <strong class="reserved">case</strong> WRAP_MODE:
<a id="L902" name="L902"></a> 902             <strong class="reserved">break</strong>;
<a id="L903" name="L903"></a> 903         <strong class="reserved">default</strong>:
<a id="L904" name="L904"></a> 904             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>());
<a id="L905" name="L905"></a> 905         <em class="brace">}</em>
<a id="L906" name="L906"></a> 906 
<a id="L907" name="L907"></a> 907         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L908" name="L908"></a> 908     <em class="brace">}</em>
<a id="L909" name="L909"></a> 909 
<div class="comment">
      Process a DOM <code>Element</code> node. The processing depends on the
      initialization parameters of {@link #init(int, Key) init()}.
      @param context the context <code>Document</code>.
      @param element the <code>Element</code> to be encrypted.
      @return the processed <code>Document</code>.
      @throws Exception to indicate any exceptional conditions.</div>
<a id="L919" name="L919"></a> 919     <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/13398.html" title="Multiple referred from 7 places.">doFinal</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <div class="comment">
/* XMLEncryption */</div><a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L920" name="L920"></a> 920         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Processing source element...");
<a id="L922" name="L922"></a> 922         <em class="brace">}</em>
<a id="L923" name="L923"></a> 923         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Context document unexpectedly null...");
<a id="L925" name="L925"></a> 925         <em class="brace">}</em>
<a id="L926" name="L926"></a> 926         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L927" name="L927"></a> 927             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Source element unexpectedly null...");
<a id="L928" name="L928"></a> 928         <em class="brace">}</em>
<a id="L929" name="L929"></a> 929 
<a id="L930" name="L930"></a> 930         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L931" name="L931"></a> 931 
<a id="L932" name="L932"></a> 932         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L933" name="L933"></a> 933 
<a id="L934" name="L934"></a> 934         <strong class="reserved">switch</strong> (cipherMode) <em class="brace">{</em>
<a id="L935" name="L935"></a> 935         <strong class="reserved">case</strong> DECRYPT_MODE:
<a id="L936" name="L936"></a> 936             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L1607" title="Defined at 1607 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptElement</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L937" name="L937"></a> 937             <strong class="reserved">break</strong>;
<a id="L938" name="L938"></a> 938         <strong class="reserved">case</strong> ENCRYPT_MODE:
<a id="L939" name="L939"></a> 939             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L807" title="Defined at 807 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">encryptElement</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L940" name="L940"></a> 940             <strong class="reserved">break</strong>;
<a id="L941" name="L941"></a> 941         <strong class="reserved">case</strong> UNWRAP_MODE:
<a id="L942" name="L942"></a> 942         <strong class="reserved">case</strong> WRAP_MODE:
<a id="L943" name="L943"></a> 943             <strong class="reserved">break</strong>;
<a id="L944" name="L944"></a> 944         <strong class="reserved">default</strong>:
<a id="L945" name="L945"></a> 945             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>());
<a id="L946" name="L946"></a> 946         <em class="brace">}</em>
<a id="L947" name="L947"></a> 947 
<a id="L948" name="L948"></a> 948         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L949" name="L949"></a> 949     <em class="brace">}</em>
<a id="L950" name="L950"></a> 950 
<div class="comment">
      Process the contents of a DOM <code>Element</code> node. The processing
      depends on the initialization parameters of
      {@link #init(int, Key) init()}.
      @param context the context <code>Document</code>.
      @param element the <code>Element</code> which contents is to be
        encrypted.
      @param content
      @return the processed <code>Document</code>.
      @throws Exception to indicate any exceptional conditions.</div>
<a id="L963" name="L963"></a> 963     <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/13398.html" title="Multiple referred from 7 places.">doFinal</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <strong class="reserved">boolean</strong> <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>)
<a id="L964" name="L964"></a> 964         <div class="comment">
/* XMLEncryption*/</div> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L965" name="L965"></a> 965         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L966" name="L966"></a> 966             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Processing source element...");
<a id="L967" name="L967"></a> 967         <em class="brace">}</em>
<a id="L968" name="L968"></a> 968         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L969" name="L969"></a> 969             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Context document unexpectedly null...");
<a id="L970" name="L970"></a> 970         <em class="brace">}</em>
<a id="L971" name="L971"></a> 971         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L972" name="L972"></a> 972             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Source element unexpectedly null...");
<a id="L973" name="L973"></a> 973         <em class="brace">}</em>
<a id="L974" name="L974"></a> 974 
<a id="L975" name="L975"></a> 975         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L976" name="L976"></a> 976 
<a id="L977" name="L977"></a> 977         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L978" name="L978"></a> 978 
<a id="L979" name="L979"></a> 979         <strong class="reserved">switch</strong> (cipherMode) <em class="brace">{</em>
<a id="L980" name="L980"></a> 980         <strong class="reserved">case</strong> DECRYPT_MODE:
<a id="L981" name="L981"></a> 981             <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>) <em class="brace">{</em>
<a id="L982" name="L982"></a> 982                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L1643" title="Defined at 1643 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptElementContent</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L983" name="L983"></a> 983             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L984" name="L984"></a> 984                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L1607" title="Defined at 1607 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptElement</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L985" name="L985"></a> 985             <em class="brace">}</em>
<a id="L986" name="L986"></a> 986             <strong class="reserved">break</strong>;
<a id="L987" name="L987"></a> 987         <strong class="reserved">case</strong> ENCRYPT_MODE:
<a id="L988" name="L988"></a> 988             <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>) <em class="brace">{</em>
<a id="L989" name="L989"></a> 989                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L845" title="Defined at 845 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">encryptElementContent</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L990" name="L990"></a> 990             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L991" name="L991"></a> 991                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5638.html#L807" title="Defined at 807 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">encryptElement</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L992" name="L992"></a> 992             <em class="brace">}</em>
<a id="L993" name="L993"></a> 993             <strong class="reserved">break</strong>;
<a id="L994" name="L994"></a> 994         <strong class="reserved">case</strong> UNWRAP_MODE:
<a id="L995" name="L995"></a> 995         <strong class="reserved">case</strong> WRAP_MODE:
<a id="L996" name="L996"></a> 996             <strong class="reserved">break</strong>;
<a id="L997" name="L997"></a> 997         <strong class="reserved">default</strong>:
<a id="L998" name="L998"></a> 998             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>());
<a id="L999" name="L999"></a> 999         <em class="brace">}</em>
<a id="L1000" name="L1000"></a>1000 
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1002" name="L1002"></a>1002     <em class="brace">}</em>
<a id="L1003" name="L1003"></a>1003 
<div class="comment">
      Returns an <code>EncryptedData</code> interface. Use this operation if
      you want to have full control over the contents of the
      <code>EncryptedData</code> structure.
      This does not change the source document in any way.
      @param context the context <code>Document</code>.
      @param element the <code>Element</code> that will be encrypted.
      @return the <code>EncryptedData</code>
      @throws Exception</div>
<a id="L1016" name="L1016"></a>1016     <strong class="reserved">public</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../R/13745.html" title="Multiple referred from 6 places.">encryptData</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong>
<div class="comment">
         /* XMLEncryption */</div><a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018         <strong class="reserved">return</strong> <a href="../D/15427.html" title="Multiple defined in 4 places.">encryptData</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <strong class="reserved">false</strong>);
<a id="L1019" name="L1019"></a>1019     <em class="brace">}</em>
<a id="L1020" name="L1020"></a>1020 
<div class="comment">
      Returns an <code>EncryptedData</code> interface. Use this operation if
      you want to have full control over the serialization of the element
      or element content.
      This does not change the source document in any way.
      @param context the context <code>Document</code>.
      @param type a URI identifying type information about the plaintext form
         of the encrypted content (may be <code>null</code>)
      @param serializedData the serialized data
      @return the <code>EncryptedData</code>
      @throws Exception</div>
<a id="L1035" name="L1035"></a>1035     <strong class="reserved">public</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../R/13745.html" title="Multiple referred from 6 places.">encryptData</a>(
<a id="L1036" name="L1036"></a>1036         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> serializedData
<a id="L1037" name="L1037"></a>1037     ) <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypting element...");
<a id="L1040" name="L1040"></a>1040         <em class="brace">}</em>
<a id="L1041" name="L1041"></a>1041         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1042" name="L1042"></a>1042             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Context document unexpectedly null...");
<a id="L1043" name="L1043"></a>1043         <em class="brace">}</em>
<a id="L1044" name="L1044"></a>1044         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == serializedData) <em class="brace">{</em>
<a id="L1045" name="L1045"></a>1045             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Serialized data unexpectedly null...");
<a id="L1046" name="L1046"></a>1046         <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047         <strong class="reserved">if</strong> (cipherMode != ENCRYPT_MODE &amp;&amp; <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "XMLCipher unexpectedly not in ENCRYPT_MODE...");
<a id="L1049" name="L1049"></a>1049         <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050 
<a id="L1051" name="L1051"></a>1051         <strong class="reserved">return</strong> <a href="../D/15427.html" title="Multiple defined in 4 places.">encryptData</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <strong class="reserved">null</strong>, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, serializedData);
<a id="L1052" name="L1052"></a>1052     <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053 
<div class="comment">
      Returns an <code>EncryptedData</code> interface. Use this operation if
      you want to have full control over the contents of the
      <code>EncryptedData</code> structure.
      This does not change the source document in any way.
      @param context the context <code>Document</code>.
      @param element the <code>Element</code> that will be encrypted.
      @param contentMode <code>true</code> to encrypt element's content only,
         <code>false</code> otherwise
      @return the <code>EncryptedData</code>
      @throws Exception</div>
<a id="L1068" name="L1068"></a>1068     <strong class="reserved">public</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../R/13745.html" title="Multiple referred from 6 places.">encryptData</a>(
<a id="L1069" name="L1069"></a>1069         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <strong class="reserved">boolean</strong> contentMode
<a id="L1070" name="L1070"></a>1070     ) <div class="comment">
/* XMLEncryption */</div> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1071" name="L1071"></a>1071         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1072" name="L1072"></a>1072             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypting element...");
<a id="L1073" name="L1073"></a>1073         <em class="brace">}</em>
<a id="L1074" name="L1074"></a>1074         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Context document unexpectedly null...");
<a id="L1076" name="L1076"></a>1076         <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L1078" name="L1078"></a>1078             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Element unexpectedly null...");
<a id="L1079" name="L1079"></a>1079         <em class="brace">}</em>
<a id="L1080" name="L1080"></a>1080         <strong class="reserved">if</strong> (cipherMode != ENCRYPT_MODE &amp;&amp; <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1081" name="L1081"></a>1081             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "XMLCipher unexpectedly not in ENCRYPT_MODE...");
<a id="L1082" name="L1082"></a>1082         <em class="brace">}</em>
<a id="L1083" name="L1083"></a>1083 
<a id="L1084" name="L1084"></a>1084         <strong class="reserved">if</strong> (contentMode) <em class="brace">{</em>
<a id="L1085" name="L1085"></a>1085             <strong class="reserved">return</strong> <a href="../D/15427.html" title="Multiple defined in 4 places.">encryptData</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.TYPE_CONTENT, <strong class="reserved">null</strong>);
<a id="L1086" name="L1086"></a>1086         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1087" name="L1087"></a>1087             <strong class="reserved">return</strong> <a href="../D/15427.html" title="Multiple defined in 4 places.">encryptData</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.TYPE_ELEMENT, <strong class="reserved">null</strong>);
<a id="L1088" name="L1088"></a>1088         <em class="brace">}</em>
<a id="L1089" name="L1089"></a>1089     <em class="brace">}</em>
<a id="L1090" name="L1090"></a>1090 
<a id="L1091" name="L1091"></a>1091     <strong class="reserved">private</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../R/13745.html" title="Multiple referred from 6 places.">encryptData</a>(
<a id="L1092" name="L1092"></a>1092         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> serializedData
<a id="L1093" name="L1093"></a>1093     ) <div class="comment">
/* XMLEncryption */</div> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1095" name="L1095"></a>1095 
<a id="L1096" name="L1096"></a>1096         <strong class="reserved">if</strong> (algorithm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1097" name="L1097"></a>1097             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("XMLCipher instance without transformation specified");
<a id="L1098" name="L1098"></a>1098         <em class="brace">}</em>
<a id="L1099" name="L1099"></a>1099 
<a id="L1100" name="L1100"></a>1100         <strong class="reserved">byte</strong>[] serializedOctets = <strong class="reserved">null</strong>;
<a id="L1101" name="L1101"></a>1101         <strong class="reserved">if</strong> (serializedData == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1102" name="L1102"></a>1102             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.TYPE_CONTENT)) <em class="brace">{</em>
<a id="L1103" name="L1103"></a>1103                 <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17640.html" title="Multiple defined in 11 places.">getChildNodes</a>();
<a id="L1104" name="L1104"></a>1104                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>) <em class="brace">{</em>
<a id="L1105" name="L1105"></a>1105                     serializedOctets = serializer.<a href="../D/31791.html" title="Multiple defined in 4 places.">serializeToByteArray</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>);
<a id="L1106" name="L1106"></a>1106                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1107" name="L1107"></a>1107                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> exArgs[] = <em class="brace">{</em> "Element has no content." <em class="brace">}</em>;
<a id="L1108" name="L1108"></a>1108                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", exArgs);
<a id="L1109" name="L1109"></a>1109                 <em class="brace">}</em>
<a id="L1110" name="L1110"></a>1110             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1111" name="L1111"></a>1111                 serializedOctets = serializer.<a href="../D/31791.html" title="Multiple defined in 4 places.">serializeToByteArray</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L1112" name="L1112"></a>1112             <em class="brace">}</em>
<a id="L1113" name="L1113"></a>1113             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1114" name="L1114"></a>1114                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Serialized octets:\n" + <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(serializedOctets, "UTF-8"));
<a id="L1115" name="L1115"></a>1115             <em class="brace">}</em>
<a id="L1116" name="L1116"></a>1116         <em class="brace">}</em>
<a id="L1117" name="L1117"></a>1117 
<a id="L1118" name="L1118"></a>1118         <strong class="reserved">byte</strong>[] encryptedBytes = <strong class="reserved">null</strong>;
<a id="L1119" name="L1119"></a>1119 
<a id="L1120" name="L1120"></a>1120         <em class="comment">// Now create the working cipher if none was created already</em>
<a id="L1121" name="L1121"></a>1121         Cipher <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1122" name="L1122"></a>1122         <strong class="reserved">if</strong> (contextCipher == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1123" name="L1123"></a>1123             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/5638.html#L1534" title="Defined at 1534 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">constructCipher</a>(algorithm, <strong class="reserved">null</strong>);
<a id="L1124" name="L1124"></a>1124         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1125" name="L1125"></a>1125             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = contextCipher;
<a id="L1126" name="L1126"></a>1126         <em class="brace">}</em>
<a id="L1127" name="L1127"></a>1127         <em class="comment">// Now perform the encryption</em>
<a id="L1128" name="L1128"></a>1128 
<a id="L1129" name="L1129"></a>1129         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1130" name="L1130"></a>1130             <em class="comment">// The Spec mandates a 96-bit IV for GCM algorithms</em>
<a id="L1131" name="L1131"></a>1131             <strong class="reserved">if</strong> (AES_128_GCM.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(algorithm) || AES_192_GCM.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(algorithm)
<a id="L1132" name="L1132"></a>1132                 || AES_256_GCM.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(algorithm)) <em class="brace">{</em>
<a id="L1133" name="L1133"></a>1133                 <strong class="reserved">if</strong> (<a href="../D/30092.html" title="Multiple defined in 3 places.">random</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1134" name="L1134"></a>1134                     <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a> = <a href="../S/1198.html#L94" title="Defined at 94 in src/java/security/SecureRandom.java.">SecureRandom</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("SHA1PRNG");
<a id="L1135" name="L1135"></a>1135                 <em class="brace">}</em>
<a id="L1136" name="L1136"></a>1136                 <strong class="reserved">byte</strong>[] temp = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[12];
<a id="L1137" name="L1137"></a>1137                 <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>.<a href="../D/28138.html" title="Multiple defined in 2 places.">nextBytes</a>(temp);
<a id="L1138" name="L1138"></a>1138                 IvParameterSpec paramSpec = <strong class="reserved">new</strong> IvParameterSpec(temp);
<a id="L1139" name="L1139"></a>1139                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(cipherMode, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, paramSpec);
<a id="L1140" name="L1140"></a>1140             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1141" name="L1141"></a>1141                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(cipherMode, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1142" name="L1142"></a>1142             <em class="brace">}</em>
<a id="L1143" name="L1143"></a>1143         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4384.html" title="Multiple defined in 2 places.">InvalidKeyException</a> ike) <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ike);
<a id="L1145" name="L1145"></a>1145         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1146" name="L1146"></a>1146             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1147" name="L1147"></a>1147         <em class="brace">}</em>
<a id="L1148" name="L1148"></a>1148 
<a id="L1149" name="L1149"></a>1149         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1150" name="L1150"></a>1150             <strong class="reserved">if</strong> (serializedData != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1151" name="L1151"></a>1151                 <strong class="reserved">int</strong> numBytes;
<a id="L1152" name="L1152"></a>1152                 <strong class="reserved">byte</strong>[] <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[8192];
<a id="L1153" name="L1153"></a>1153                 <a href="../S/1448.html#L45" title="Defined at 45 in src/java/io/ByteArrayOutputStream.java.">ByteArrayOutputStream</a> baos = <strong class="reserved">new</strong> <a href="../S/1448.html#L45" title="Defined at 45 in src/java/io/ByteArrayOutputStream.java.">ByteArrayOutputStream</a>();
<a id="L1154" name="L1154"></a>1154                 <strong class="reserved">while</strong> ((numBytes = serializedData.<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>)) != -1) <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155                     <strong class="reserved">byte</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/36027.html" title="Multiple defined in 124 places.">update</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, 0, numBytes);
<a id="L1156" name="L1156"></a>1156                     baos.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1157" name="L1157"></a>1157                 <em class="brace">}</em>
<a id="L1158" name="L1158"></a>1158                 baos.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/15035.html" title="Multiple defined in 3 places.">doFinal</a>());
<a id="L1159" name="L1159"></a>1159                 encryptedBytes = baos.<a href="../D/35362.html" title="Multiple defined in 10 places.">toByteArray</a>();
<a id="L1160" name="L1160"></a>1160             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1161" name="L1161"></a>1161                 encryptedBytes = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/15035.html" title="Multiple defined in 3 places.">doFinal</a>(serializedOctets);
<a id="L1162" name="L1162"></a>1162                 <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163                     <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Expected cipher.outputSize = " +
<a id="L1164" name="L1164"></a>1164                         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.getOutputSize(serializedOctets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)));
<a id="L1165" name="L1165"></a>1165                 <em class="brace">}</em>
<a id="L1166" name="L1166"></a>1166             <em class="brace">}</em>
<a id="L1167" name="L1167"></a>1167             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1168" name="L1168"></a>1168                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Actual cipher.outputSize = "
<a id="L1169" name="L1169"></a>1169                              + <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(encryptedBytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L1170" name="L1170"></a>1170             <em class="brace">}</em>
<a id="L1171" name="L1171"></a>1171         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> ise) <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ise);
<a id="L1173" name="L1173"></a>1173         <em class="brace">}</em> <strong class="reserved">catch</strong> (IllegalBlockSizeException ibse) <em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ibse);
<a id="L1175" name="L1175"></a>1175         <em class="brace">}</em> <strong class="reserved">catch</strong> (BadPaddingException bpe) <em class="brace">{</em>
<a id="L1176" name="L1176"></a>1176             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", bpe);
<a id="L1177" name="L1177"></a>1177         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1372.html#L33" title="Defined at 33 in src/java/io/UnsupportedEncodingException.java.">UnsupportedEncodingException</a> uee) <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", uee);
<a id="L1179" name="L1179"></a>1179         <em class="brace">}</em>
<a id="L1180" name="L1180"></a>1180 
<a id="L1181" name="L1181"></a>1181         <em class="comment">// Now build up to a properly XML Encryption encoded octet stream</em>
<a id="L1182" name="L1182"></a>1182         <em class="comment">// IvParameterSpec iv;</em>
<a id="L1183" name="L1183"></a>1183         <strong class="reserved">byte</strong>[] iv = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.getIV();
<a id="L1184" name="L1184"></a>1184         <strong class="reserved">byte</strong>[] finalEncryptedBytes = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[iv.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + encryptedBytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L1185" name="L1185"></a>1185         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(iv, 0, finalEncryptedBytes, 0, iv.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1186" name="L1186"></a>1186         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(encryptedBytes, 0, finalEncryptedBytes, iv.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, encryptedBytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1187" name="L1187"></a>1187         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> base64EncodedEncryptedOctets = <a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/15393.html" title="Multiple defined in 39 places.">encode</a>(finalEncryptedBytes);
<a id="L1188" name="L1188"></a>1188 
<a id="L1189" name="L1189"></a>1189         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1190" name="L1190"></a>1190             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypted octets:\n" + base64EncodedEncryptedOctets);
<a id="L1191" name="L1191"></a>1191             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypted octets length = " + base64EncodedEncryptedOctets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L1192" name="L1192"></a>1192         <em class="brace">}</em>
<a id="L1193" name="L1193"></a>1193 
<a id="L1194" name="L1194"></a>1194         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1195" name="L1195"></a>1195             <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> cd = ed.<a href="../D/17670.html" title="Multiple defined in 2 places.">getCipherData</a>();
<a id="L1196" name="L1196"></a>1196             <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> cv = cd.<a href="../D/17673.html" title="Multiple defined in 2 places.">getCipherValue</a>();
<a id="L1197" name="L1197"></a>1197             <em class="comment">// cv.setValue(base64EncodedEncryptedOctets.getBytes());</em>
<a id="L1198" name="L1198"></a>1198             cv.<a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(base64EncodedEncryptedOctets);
<a id="L1199" name="L1199"></a>1199 
<a id="L1200" name="L1200"></a>1200             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1201" name="L1201"></a>1201                 ed.<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a>(<strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>).<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L1202" name="L1202"></a>1202             <em class="brace">}</em>
<a id="L1203" name="L1203"></a>1203             <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> method =
<a id="L1204" name="L1204"></a>1204                 <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27994.html" title="Multiple defined in 2 places.">newEncryptionMethod</a>(<strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(algorithm).<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L1205" name="L1205"></a>1205             method.<a href="../D/32456.html" title="Multiple defined in 2 places.">setDigestAlgorithm</a>(digestAlg);
<a id="L1206" name="L1206"></a>1206             ed.<a href="../D/32581.html" title="Multiple defined in 2 places.">setEncryptionMethod</a>(method);
<a id="L1207" name="L1207"></a>1207         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1208" name="L1208"></a>1208             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1209" name="L1209"></a>1209         <em class="brace">}</em>
<a id="L1210" name="L1210"></a>1210         <strong class="reserved">return</strong> ed;
<a id="L1211" name="L1211"></a>1211     <em class="brace">}</em>
<a id="L1212" name="L1212"></a>1212 
<div class="comment">
      Returns an <code>EncryptedData</code> interface. Use this operation if
      you want to load an <code>EncryptedData</code> structure from a DOM
      structure and manipulate the contents.
      @param context the context <code>Document</code>.
      @param element the <code>Element</code> that will be loaded
      @throws XMLEncryptionException
      @return the <code>EncryptedData</code></div>
<a id="L1223" name="L1223"></a>1223     <strong class="reserved">public</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> loadEncryptedData(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>)
<a id="L1224" name="L1224"></a>1224         <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1225" name="L1225"></a>1225         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1226" name="L1226"></a>1226             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Loading encrypted element...");
<a id="L1227" name="L1227"></a>1227         <em class="brace">}</em>
<a id="L1228" name="L1228"></a>1228         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Context document unexpectedly null...");
<a id="L1230" name="L1230"></a>1230         <em class="brace">}</em>
<a id="L1231" name="L1231"></a>1231         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L1232" name="L1232"></a>1232             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Element unexpectedly null...");
<a id="L1233" name="L1233"></a>1233         <em class="brace">}</em>
<a id="L1234" name="L1234"></a>1234         <strong class="reserved">if</strong> (cipherMode != DECRYPT_MODE) <em class="brace">{</em>
<a id="L1235" name="L1235"></a>1235             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("XMLCipher unexpectedly not in DECRYPT_MODE...");
<a id="L1236" name="L1236"></a>1236         <em class="brace">}</em>
<a id="L1237" name="L1237"></a>1237 
<a id="L1238" name="L1238"></a>1238         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1239" name="L1239"></a>1239         ed = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27992.html" title="Multiple defined in 2 places.">newEncryptedData</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L1240" name="L1240"></a>1240 
<a id="L1241" name="L1241"></a>1241         <strong class="reserved">return</strong> ed;
<a id="L1242" name="L1242"></a>1242     <em class="brace">}</em>
<a id="L1243" name="L1243"></a>1243 
<div class="comment">
      Returns an <code>EncryptedKey</code> interface. Use this operation if
      you want to load an <code>EncryptedKey</code> structure from a DOM
      structure and manipulate the contents.
      @param context the context <code>Document</code>.
      @param element the <code>Element</code> that will be loaded
      @return the <code>EncryptedKey</code>
      @throws XMLEncryptionException</div>
<a id="L1254" name="L1254"></a>1254     <strong class="reserved">public</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../R/22573.html" title="Multiple referred from 3 places.">loadEncryptedKey</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>)
<a id="L1255" name="L1255"></a>1255         <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1256" name="L1256"></a>1256         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1257" name="L1257"></a>1257             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Loading encrypted key...");
<a id="L1258" name="L1258"></a>1258         <em class="brace">}</em>
<a id="L1259" name="L1259"></a>1259         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1260" name="L1260"></a>1260             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Context document unexpectedly null...");
<a id="L1261" name="L1261"></a>1261         <em class="brace">}</em>
<a id="L1262" name="L1262"></a>1262         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L1263" name="L1263"></a>1263             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Element unexpectedly null...");
<a id="L1264" name="L1264"></a>1264         <em class="brace">}</em>
<a id="L1265" name="L1265"></a>1265         <strong class="reserved">if</strong> (cipherMode != UNWRAP_MODE &amp;&amp; cipherMode != DECRYPT_MODE) <em class="brace">{</em>
<a id="L1266" name="L1266"></a>1266             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>(
<a id="L1267" name="L1267"></a>1267                 "XMLCipher unexpectedly not in UNWRAP_MODE or DECRYPT_MODE..."
<a id="L1268" name="L1268"></a>1268             );
<a id="L1269" name="L1269"></a>1269         <em class="brace">}</em>
<a id="L1270" name="L1270"></a>1270 
<a id="L1271" name="L1271"></a>1271         contextDocument = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1272" name="L1272"></a>1272         ek = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27993.html" title="Multiple defined in 2 places.">newEncryptedKey</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L1273" name="L1273"></a>1273         <strong class="reserved">return</strong> ek;
<a id="L1274" name="L1274"></a>1274     <em class="brace">}</em>
<a id="L1275" name="L1275"></a>1275 
<div class="comment">
      Returns an <code>EncryptedKey</code> interface. Use this operation if
      you want to load an <code>EncryptedKey</code> structure from a DOM
      structure and manipulate the contents.
      Assumes that the context document is the document that owns the element
      @param element the <code>Element</code> that will be loaded
      @return the <code>EncryptedKey</code>
      @throws XMLEncryptionException</div>
<a id="L1287" name="L1287"></a>1287     <strong class="reserved">public</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../R/22573.html" title="Multiple referred from 3 places.">loadEncryptedKey</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1288" name="L1288"></a>1288         <strong class="reserved">return</strong> <a href="../D/26921.html" title="Multiple defined in 2 places.">loadEncryptedKey</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>(), <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L1289" name="L1289"></a>1289     <em class="brace">}</em>
<a id="L1290" name="L1290"></a>1290 
<div class="comment">
      Encrypts a key to an EncryptedKey structure
      @param doc the Context document that will be used to general DOM
      @param key Key to encrypt (will use previously set KEK to
      perform encryption
      @return the <code>EncryptedKey</code>
      @throws XMLEncryptionException</div>
<a id="L1300" name="L1300"></a>1300     <strong class="reserved">public</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../S/5638.html#L1301" title="Referred from 1301 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">encryptKey</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1301" name="L1301"></a>1301         <strong class="reserved">return</strong> <a href="../D/15430.html" title="Multiple defined in 2 places.">encryptKey</a>(doc, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L1302" name="L1302"></a>1302     <em class="brace">}</em>
<a id="L1303" name="L1303"></a>1303 
<div class="comment">
      Encrypts a key to an EncryptedKey structure
      @param doc the Context document that will be used to general DOM
      @param key Key to encrypt (will use previously set KEK to
      perform encryption
      @param mgfAlgorithm The xenc11 MGF Algorithm to use
      @param oaepParams The OAEPParams to use
      @return the <code>EncryptedKey</code>
      @throws XMLEncryptionException</div>
<a id="L1315" name="L1315"></a>1315     <strong class="reserved">public</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../S/5638.html#L1301" title="Referred from 1301 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">encryptKey</a>(
<a id="L1316" name="L1316"></a>1316         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc,
<a id="L1317" name="L1317"></a>1317         <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L1318" name="L1318"></a>1318         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mgfAlgorithm,
<a id="L1319" name="L1319"></a>1319         <strong class="reserved">byte</strong>[] oaepParams
<a id="L1320" name="L1320"></a>1320     ) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1321" name="L1321"></a>1321         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1322" name="L1322"></a>1322             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypting key ...");
<a id="L1323" name="L1323"></a>1323         <em class="brace">}</em>
<a id="L1324" name="L1324"></a>1324 
<a id="L1325" name="L1325"></a>1325         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L1326" name="L1326"></a>1326             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "Key unexpectedly null...");
<a id="L1327" name="L1327"></a>1327         <em class="brace">}</em>
<a id="L1328" name="L1328"></a>1328         <strong class="reserved">if</strong> (cipherMode != WRAP_MODE) <em class="brace">{</em>
<a id="L1329" name="L1329"></a>1329             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "XMLCipher unexpectedly not in WRAP_MODE...");
<a id="L1330" name="L1330"></a>1330         <em class="brace">}</em>
<a id="L1331" name="L1331"></a>1331         <strong class="reserved">if</strong> (algorithm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1332" name="L1332"></a>1332             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("XMLCipher instance without transformation specified");
<a id="L1333" name="L1333"></a>1333         <em class="brace">}</em>
<a id="L1334" name="L1334"></a>1334 
<a id="L1335" name="L1335"></a>1335         contextDocument = doc;
<a id="L1336" name="L1336"></a>1336 
<a id="L1337" name="L1337"></a>1337         <strong class="reserved">byte</strong>[] encryptedBytes = <strong class="reserved">null</strong>;
<a id="L1338" name="L1338"></a>1338         Cipher <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1339" name="L1339"></a>1339 
<a id="L1340" name="L1340"></a>1340         <strong class="reserved">if</strong> (contextCipher == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1341" name="L1341"></a>1341             <em class="comment">// Now create the working cipher</em>
<a id="L1342" name="L1342"></a>1342             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/5638.html#L1534" title="Defined at 1534 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">constructCipher</a>(algorithm, <strong class="reserved">null</strong>);
<a id="L1343" name="L1343"></a>1343         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1344" name="L1344"></a>1344             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = contextCipher;
<a id="L1345" name="L1345"></a>1345         <em class="brace">}</em>
<a id="L1346" name="L1346"></a>1346         <em class="comment">// Now perform the encryption</em>
<a id="L1347" name="L1347"></a>1347 
<a id="L1348" name="L1348"></a>1348         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1349" name="L1349"></a>1349             <em class="comment">// Should internally generate an IV</em>
<a id="L1350" name="L1350"></a>1350             <em class="comment">// todo - allow user to set an IV</em>
<a id="L1351" name="L1351"></a>1351             OAEPParameterSpec oaepParameters =
<a id="L1352" name="L1352"></a>1352                 <a href="../S/5638.html#L1496" title="Defined at 1496 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">constructOAEPParameters</a>(
<a id="L1353" name="L1353"></a>1353                     algorithm, digestAlg, mgfAlgorithm, oaepParams
<a id="L1354" name="L1354"></a>1354                 );
<a id="L1355" name="L1355"></a>1355             <strong class="reserved">if</strong> (oaepParameters == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1356" name="L1356"></a>1356                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(Cipher.WRAP_MODE, <strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1357" name="L1357"></a>1357             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1358" name="L1358"></a>1358                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(Cipher.WRAP_MODE, <strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, oaepParameters);
<a id="L1359" name="L1359"></a>1359             <em class="brace">}</em>
<a id="L1360" name="L1360"></a>1360             encryptedBytes = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1361" name="L1361"></a>1361         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4384.html" title="Multiple defined in 2 places.">InvalidKeyException</a> ike) <em class="brace">{</em>
<a id="L1362" name="L1362"></a>1362             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ike);
<a id="L1363" name="L1363"></a>1363         <em class="brace">}</em> <strong class="reserved">catch</strong> (IllegalBlockSizeException ibse) <em class="brace">{</em>
<a id="L1364" name="L1364"></a>1364             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ibse);
<a id="L1365" name="L1365"></a>1365         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a> e) <em class="brace">{</em>
<a id="L1366" name="L1366"></a>1366             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", e);
<a id="L1367" name="L1367"></a>1367         <em class="brace">}</em>
<a id="L1368" name="L1368"></a>1368 
<a id="L1369" name="L1369"></a>1369         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> base64EncodedEncryptedOctets = <a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/15393.html" title="Multiple defined in 39 places.">encode</a>(encryptedBytes);
<a id="L1370" name="L1370"></a>1370         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1371" name="L1371"></a>1371             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypted key octets:\n" + base64EncodedEncryptedOctets);
<a id="L1372" name="L1372"></a>1372             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Encrypted key octets length = " + base64EncodedEncryptedOctets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L1373" name="L1373"></a>1373         <em class="brace">}</em>
<a id="L1374" name="L1374"></a>1374 
<a id="L1375" name="L1375"></a>1375         <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> cv = ek.<a href="../D/17670.html" title="Multiple defined in 2 places.">getCipherData</a>().<a href="../D/17673.html" title="Multiple defined in 2 places.">getCipherValue</a>();
<a id="L1376" name="L1376"></a>1376         cv.<a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(base64EncodedEncryptedOctets);
<a id="L1377" name="L1377"></a>1377 
<a id="L1378" name="L1378"></a>1378         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379             <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> method = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27994.html" title="Multiple defined in 2 places.">newEncryptionMethod</a>(<strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(algorithm).<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L1380" name="L1380"></a>1380             method.<a href="../D/32456.html" title="Multiple defined in 2 places.">setDigestAlgorithm</a>(digestAlg);
<a id="L1381" name="L1381"></a>1381             method.<a href="../D/33167.html" title="Multiple defined in 2 places.">setMGFAlgorithm</a>(mgfAlgorithm);
<a id="L1382" name="L1382"></a>1382             method.<a href="../D/33395.html" title="Multiple defined in 2 places.">setOAEPparams</a>(oaepParams);
<a id="L1383" name="L1383"></a>1383             ek.<a href="../D/32581.html" title="Multiple defined in 2 places.">setEncryptionMethod</a>(method);
<a id="L1384" name="L1384"></a>1384         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1385" name="L1385"></a>1385             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1386" name="L1386"></a>1386         <em class="brace">}</em>
<a id="L1387" name="L1387"></a>1387         <strong class="reserved">return</strong> ek;
<a id="L1388" name="L1388"></a>1388     <em class="brace">}</em>
<a id="L1389" name="L1389"></a>1389 
<div class="comment">
      Decrypt a key from a passed in EncryptedKey structure
      @param encryptedKey Previously loaded EncryptedKey that needs
      to be decrypted.
      @param algorithm Algorithm for the decryption
      @return a key corresponding to the given type
      @throws XMLEncryptionException</div>
<a id="L1399" name="L1399"></a>1399     <strong class="reserved">public</strong> <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../R/13131.html" title="Multiple referred from 2 places.">decryptKey</a>(<a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> encryptedKey, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm)
<a id="L1400" name="L1400"></a>1400         <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1401" name="L1401"></a>1401         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1402" name="L1402"></a>1402             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Decrypting key from previously loaded EncryptedKey...");
<a id="L1403" name="L1403"></a>1403         <em class="brace">}</em>
<a id="L1404" name="L1404"></a>1404 
<a id="L1405" name="L1405"></a>1405         <strong class="reserved">if</strong> (cipherMode != UNWRAP_MODE &amp;&amp; <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1406" name="L1406"></a>1406             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "XMLCipher unexpectedly not in UNWRAP_MODE...");
<a id="L1407" name="L1407"></a>1407         <em class="brace">}</em>
<a id="L1408" name="L1408"></a>1408 
<a id="L1409" name="L1409"></a>1409         <strong class="reserved">if</strong> (algorithm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1410" name="L1410"></a>1410             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("Cannot decrypt a key without knowing the algorithm");
<a id="L1411" name="L1411"></a>1411         <em class="brace">}</em>
<a id="L1412" name="L1412"></a>1412 
<a id="L1413" name="L1413"></a>1413         <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1414" name="L1414"></a>1414             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1415" name="L1415"></a>1415                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Trying to find a KEK via key resolvers");
<a id="L1416" name="L1416"></a>1416             <em class="brace">}</em>
<a id="L1417" name="L1417"></a>1417 
<a id="L1418" name="L1418"></a>1418             <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> ki = encryptedKey.<a href="../D/19933.html" title="Multiple defined in 4 places.">getKeyInfo</a>();
<a id="L1419" name="L1419"></a>1419             <strong class="reserved">if</strong> (ki != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1420" name="L1420"></a>1420                 ki.<a href="../D/33834.html" title="Multiple defined in 5 places.">setSecureValidation</a>(secureValidation);
<a id="L1421" name="L1421"></a>1421                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1422" name="L1422"></a>1422                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> keyWrapAlg = encryptedKey.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>().<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>();
<a id="L1423" name="L1423"></a>1423                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> keyType = <a href="../S/5670.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">JCEMapper</a>.<a href="../S/5670.html#L277" title="Defined at 277 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">getJCEKeyAlgorithmFromURI</a>(keyWrapAlg);
<a id="L1424" name="L1424"></a>1424                     <strong class="reserved">if</strong> ("RSA".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(keyType)) <em class="brace">{</em>
<a id="L1425" name="L1425"></a>1425                         <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = ki.<a href="../D/21684.html" title="Multiple defined in 4 places.">getPrivateKey</a>();
<a id="L1426" name="L1426"></a>1426                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1427" name="L1427"></a>1427                         <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = ki.<a href="../D/22314.html" title="Multiple defined in 2 places.">getSecretKey</a>();
<a id="L1428" name="L1428"></a>1428                     <em class="brace">}</em>
<a id="L1429" name="L1429"></a>1429                 <em class="brace">}</em>
<a id="L1430" name="L1430"></a>1430                 <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1431" name="L1431"></a>1431                     <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1432" name="L1432"></a>1432                         <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e);
<a id="L1433" name="L1433"></a>1433                     <em class="brace">}</em>
<a id="L1434" name="L1434"></a>1434                 <em class="brace">}</em>
<a id="L1435" name="L1435"></a>1435             <em class="brace">}</em>
<a id="L1436" name="L1436"></a>1436             <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1437" name="L1437"></a>1437                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "XMLCipher::decryptKey called without a KEK and cannot resolve");
<a id="L1438" name="L1438"></a>1438                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("Unable to decrypt without a KEK");
<a id="L1439" name="L1439"></a>1439             <em class="brace">}</em>
<a id="L1440" name="L1440"></a>1440         <em class="brace">}</em>
<a id="L1441" name="L1441"></a>1441 
<a id="L1442" name="L1442"></a>1442         <em class="comment">// Obtain the encrypted octets</em>
<a id="L1443" name="L1443"></a>1443         <a href="../S/5632.html#L50" title="Defined at 50 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipherInput.java.">XMLCipherInput</a> cipherInput = <strong class="reserved">new</strong> <a href="../S/5632.html#L50" title="Defined at 50 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipherInput.java.">XMLCipherInput</a>(encryptedKey);
<a id="L1444" name="L1444"></a>1444         cipherInput.<a href="../D/33834.html" title="Multiple defined in 5 places.">setSecureValidation</a>(secureValidation);
<a id="L1445" name="L1445"></a>1445         <strong class="reserved">byte</strong>[] encryptedBytes = cipherInput.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L1446" name="L1446"></a>1446 
<a id="L1447" name="L1447"></a>1447         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> jceKeyAlgorithm = <a href="../S/5670.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">JCEMapper</a>.<a href="../S/5670.html#L277" title="Defined at 277 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">getJCEKeyAlgorithmFromURI</a>(algorithm);
<a id="L1448" name="L1448"></a>1448         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1449" name="L1449"></a>1449             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "JCE Key Algorithm: " + jceKeyAlgorithm);
<a id="L1450" name="L1450"></a>1450         <em class="brace">}</em>
<a id="L1451" name="L1451"></a>1451 
<a id="L1452" name="L1452"></a>1452         Cipher <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1453" name="L1453"></a>1453         <strong class="reserved">if</strong> (contextCipher == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1454" name="L1454"></a>1454             <em class="comment">// Now create the working cipher</em>
<a id="L1455" name="L1455"></a>1455             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> =
<a id="L1456" name="L1456"></a>1456                 <a href="../S/5638.html#L1534" title="Defined at 1534 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">constructCipher</a>(
<a id="L1457" name="L1457"></a>1457                     encryptedKey.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>().<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>(),
<a id="L1458" name="L1458"></a>1458                     encryptedKey.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>().<a href="../D/18469.html" title="Multiple defined in 4 places.">getDigestAlgorithm</a>()
<a id="L1459" name="L1459"></a>1459                 );
<a id="L1460" name="L1460"></a>1460         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1461" name="L1461"></a>1461             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = contextCipher;
<a id="L1462" name="L1462"></a>1462         <em class="brace">}</em>
<a id="L1463" name="L1463"></a>1463 
<a id="L1464" name="L1464"></a>1464         <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> ret;
<a id="L1465" name="L1465"></a>1465 
<a id="L1466" name="L1466"></a>1466         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1467" name="L1467"></a>1467             <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> encMethod = encryptedKey.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>();
<a id="L1468" name="L1468"></a>1468             OAEPParameterSpec oaepParameters =
<a id="L1469" name="L1469"></a>1469                 <a href="../S/5638.html#L1496" title="Defined at 1496 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">constructOAEPParameters</a>(
<a id="L1470" name="L1470"></a>1470                     encMethod.<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>(), encMethod.<a href="../D/18469.html" title="Multiple defined in 4 places.">getDigestAlgorithm</a>(),
<a id="L1471" name="L1471"></a>1471                     encMethod.<a href="../D/20331.html" title="Multiple defined in 3 places.">getMGFAlgorithm</a>(), encMethod.<a href="../D/21100.html" title="Multiple defined in 2 places.">getOAEPparams</a>()
<a id="L1472" name="L1472"></a>1472                 );
<a id="L1473" name="L1473"></a>1473             <strong class="reserved">if</strong> (oaepParameters == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1474" name="L1474"></a>1474                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(Cipher.UNWRAP_MODE, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1475" name="L1475"></a>1475             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1476" name="L1476"></a>1476                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(Cipher.UNWRAP_MODE, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, oaepParameters);
<a id="L1477" name="L1477"></a>1477             <em class="brace">}</em>
<a id="L1478" name="L1478"></a>1478             ret = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/36022.html" title="Multiple defined in 10 places.">unwrap</a>(encryptedBytes, jceKeyAlgorithm, Cipher.SECRET_KEY);
<a id="L1479" name="L1479"></a>1479         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4384.html" title="Multiple defined in 2 places.">InvalidKeyException</a> ike) <em class="brace">{</em>
<a id="L1480" name="L1480"></a>1480             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ike);
<a id="L1481" name="L1481"></a>1481         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L1482" name="L1482"></a>1482             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", nsae);
<a id="L1483" name="L1483"></a>1483         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a> e) <em class="brace">{</em>
<a id="L1484" name="L1484"></a>1484             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", e);
<a id="L1485" name="L1485"></a>1485         <em class="brace">}</em>
<a id="L1486" name="L1486"></a>1486         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1487" name="L1487"></a>1487             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Decryption of key type " + algorithm + " OK");
<a id="L1488" name="L1488"></a>1488         <em class="brace">}</em>
<a id="L1489" name="L1489"></a>1489 
<a id="L1490" name="L1490"></a>1490         <strong class="reserved">return</strong> ret;
<a id="L1491" name="L1491"></a>1491     <em class="brace">}</em>
<a id="L1492" name="L1492"></a>1492 
<div class="comment">
      Construct an OAEPParameterSpec object from the given parameters</div>
<a id="L1496" name="L1496"></a>1496     <strong class="reserved">private</strong> OAEPParameterSpec <a href="../R/11928.html" title="Multiple referred from 2 places.">constructOAEPParameters</a>(
<a id="L1497" name="L1497"></a>1497         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> encryptionAlgorithm,
<a id="L1498" name="L1498"></a>1498         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestAlgorithm,
<a id="L1499" name="L1499"></a>1499         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mgfAlgorithm,
<a id="L1500" name="L1500"></a>1500         <strong class="reserved">byte</strong>[] oaepParams
<a id="L1501" name="L1501"></a>1501     ) <em class="brace">{</em>
<a id="L1502" name="L1502"></a>1502         <strong class="reserved">if</strong> (<a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>.RSA_OAEP.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(encryptionAlgorithm)
<a id="L1503" name="L1503"></a>1503             || <a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>.RSA_OAEP_11.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(encryptionAlgorithm)) <em class="brace">{</em>
<a id="L1504" name="L1504"></a>1504 
<a id="L1505" name="L1505"></a>1505             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> jceDigestAlgorithm = "SHA-1";
<a id="L1506" name="L1506"></a>1506             <strong class="reserved">if</strong> (digestAlgorithm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1507" name="L1507"></a>1507                 jceDigestAlgorithm = <a href="../S/5670.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">JCEMapper</a>.<a href="../S/5670.html#L225" title="Defined at 225 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">translateURItoJCEID</a>(digestAlgorithm);
<a id="L1508" name="L1508"></a>1508             <em class="brace">}</em>
<a id="L1509" name="L1509"></a>1509 
<a id="L1510" name="L1510"></a>1510             PSource.PSpecified pSource = PSource.PSpecified.<a href="../D/2015.html" title="Multiple defined in 7 places.">DEFAULT</a>;
<a id="L1511" name="L1511"></a>1511             <strong class="reserved">if</strong> (oaepParams != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1512" name="L1512"></a>1512                 pSource = <strong class="reserved">new</strong> PSource.PSpecified(oaepParams);
<a id="L1513" name="L1513"></a>1513             <em class="brace">}</em>
<a id="L1514" name="L1514"></a>1514 
<a id="L1515" name="L1515"></a>1515             <a href="../S/1225.html#L59" title="Defined at 59 in src/java/security/spec/MGF1ParameterSpec.java.">MGF1ParameterSpec</a> mgfParameterSpec = <strong class="reserved">new</strong> <a href="../S/1225.html#L59" title="Defined at 59 in src/java/security/spec/MGF1ParameterSpec.java.">MGF1ParameterSpec</a>("SHA-1");
<a id="L1516" name="L1516"></a>1516             <strong class="reserved">if</strong> (<a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>.RSA_OAEP_11.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(encryptionAlgorithm)) <em class="brace">{</em>
<a id="L1517" name="L1517"></a>1517                 <strong class="reserved">if</strong> (<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.MGF1_SHA256.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(mgfAlgorithm)) <em class="brace">{</em>
<a id="L1518" name="L1518"></a>1518                     mgfParameterSpec = <strong class="reserved">new</strong> <a href="../S/1225.html#L59" title="Defined at 59 in src/java/security/spec/MGF1ParameterSpec.java.">MGF1ParameterSpec</a>("SHA-256");
<a id="L1519" name="L1519"></a>1519                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.MGF1_SHA384.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(mgfAlgorithm)) <em class="brace">{</em>
<a id="L1520" name="L1520"></a>1520                     mgfParameterSpec = <strong class="reserved">new</strong> <a href="../S/1225.html#L59" title="Defined at 59 in src/java/security/spec/MGF1ParameterSpec.java.">MGF1ParameterSpec</a>("SHA-384");
<a id="L1521" name="L1521"></a>1521                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.MGF1_SHA512.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(mgfAlgorithm)) <em class="brace">{</em>
<a id="L1522" name="L1522"></a>1522                     mgfParameterSpec = <strong class="reserved">new</strong> <a href="../S/1225.html#L59" title="Defined at 59 in src/java/security/spec/MGF1ParameterSpec.java.">MGF1ParameterSpec</a>("SHA-512");
<a id="L1523" name="L1523"></a>1523                 <em class="brace">}</em>
<a id="L1524" name="L1524"></a>1524             <em class="brace">}</em>
<a id="L1525" name="L1525"></a>1525             <strong class="reserved">return</strong> <strong class="reserved">new</strong> OAEPParameterSpec(jceDigestAlgorithm, "MGF1", mgfParameterSpec, pSource);
<a id="L1526" name="L1526"></a>1526         <em class="brace">}</em>
<a id="L1527" name="L1527"></a>1527 
<a id="L1528" name="L1528"></a>1528         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1529" name="L1529"></a>1529     <em class="brace">}</em>
<a id="L1530" name="L1530"></a>1530 
<div class="comment">
      Construct a Cipher object</div>
<a id="L1534" name="L1534"></a>1534     <strong class="reserved">private</strong> Cipher <a href="../R/11926.html" title="Multiple referred from 4 places.">constructCipher</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestAlgorithm) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1535" name="L1535"></a>1535         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> jceAlgorithm = <a href="../S/5670.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">JCEMapper</a>.<a href="../S/5670.html#L225" title="Defined at 225 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">translateURItoJCEID</a>(algorithm);
<a id="L1536" name="L1536"></a>1536         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1537" name="L1537"></a>1537             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "JCE Algorithm = " + jceAlgorithm);
<a id="L1538" name="L1538"></a>1538         <em class="brace">}</em>
<a id="L1539" name="L1539"></a>1539 
<a id="L1540" name="L1540"></a>1540         Cipher <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1541" name="L1541"></a>1541         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1542" name="L1542"></a>1542             <strong class="reserved">if</strong> (requestedJCEProvider == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1543" name="L1543"></a>1543                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = Cipher.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(jceAlgorithm);
<a id="L1544" name="L1544"></a>1544             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1545" name="L1545"></a>1545                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = Cipher.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(jceAlgorithm, requestedJCEProvider);
<a id="L1546" name="L1546"></a>1546             <em class="brace">}</em>
<a id="L1547" name="L1547"></a>1547         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L1548" name="L1548"></a>1548             <em class="comment">// Check to see if an RSA OAEP MGF-1 with SHA-1 algorithm was requested</em>
<a id="L1549" name="L1549"></a>1549             <em class="comment">// Some JDKs don't support RSA/ECB/OAEPPadding</em>
<a id="L1550" name="L1550"></a>1550             <strong class="reserved">if</strong> (<a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>.RSA_OAEP.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(algorithm)
<a id="L1551" name="L1551"></a>1551                 &amp;&amp; (digestAlgorithm == <strong class="reserved">null</strong>
<a id="L1552" name="L1552"></a>1552                     || <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.ALGO_ID_DIGEST_SHA1.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(digestAlgorithm))) <em class="brace">{</em>
<a id="L1553" name="L1553"></a>1553                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1554" name="L1554"></a>1554                     <strong class="reserved">if</strong> (requestedJCEProvider == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1555" name="L1555"></a>1555                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = Cipher.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("RSA/ECB/OAEPWithSHA1AndMGF1Padding");
<a id="L1556" name="L1556"></a>1556                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1557" name="L1557"></a>1557                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = Cipher.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("RSA/ECB/OAEPWithSHA1AndMGF1Padding", requestedJCEProvider);
<a id="L1558" name="L1558"></a>1558                     <em class="brace">}</em>
<a id="L1559" name="L1559"></a>1559                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1560" name="L1560"></a>1560                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1561" name="L1561"></a>1561                 <em class="brace">}</em>
<a id="L1562" name="L1562"></a>1562             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1563" name="L1563"></a>1563                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", nsae);
<a id="L1564" name="L1564"></a>1564             <em class="brace">}</em>
<a id="L1565" name="L1565"></a>1565         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a> nspre) <em class="brace">{</em>
<a id="L1566" name="L1566"></a>1566             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", nspre);
<a id="L1567" name="L1567"></a>1567         <em class="brace">}</em> <strong class="reserved">catch</strong> (NoSuchPaddingException nspae) <em class="brace">{</em>
<a id="L1568" name="L1568"></a>1568             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", nspae);
<a id="L1569" name="L1569"></a>1569         <em class="brace">}</em>
<a id="L1570" name="L1570"></a>1570 
<a id="L1571" name="L1571"></a>1571         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1572" name="L1572"></a>1572     <em class="brace">}</em>
<a id="L1573" name="L1573"></a>1573 
<div class="comment">
      Decrypt a key from a passed in EncryptedKey structure.  This version
      is used mainly internally, when  the cipher already has an
      EncryptedData loaded.  The algorithm URI will be read from the
      EncryptedData
      @param encryptedKey Previously loaded EncryptedKey that needs
      to be decrypted.
      @return a key corresponding to the given type
      @throws XMLEncryptionException</div>
<a id="L1585" name="L1585"></a>1585     <strong class="reserved">public</strong> <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../R/13131.html" title="Multiple referred from 2 places.">decryptKey</a>(<a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> encryptedKey) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1586" name="L1586"></a>1586         <strong class="reserved">return</strong> <a href="../D/14715.html" title="Multiple defined in 2 places.">decryptKey</a>(encryptedKey, ed.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>().<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>());
<a id="L1587" name="L1587"></a>1587     <em class="brace">}</em>
<a id="L1588" name="L1588"></a>1588 
<div class="comment">
      Removes the contents of a <code>Node</code>.
      @param node the <code>Node</code> to clear.</div>
<a id="L1594" name="L1594"></a>1594     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5638.html#L863" title="Referred from 863 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">removeContent</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1595" name="L1595"></a>1595         <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/24077.html" title="Multiple defined in 16 places.">hasChildNodes</a>()) <em class="brace">{</em>
<a id="L1596" name="L1596"></a>1596             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>());
<a id="L1597" name="L1597"></a>1597         <em class="brace">}</em>
<a id="L1598" name="L1598"></a>1598     <em class="brace">}</em>
<a id="L1599" name="L1599"></a>1599 
<div class="comment">
      Decrypts <code>EncryptedData</code> in a single-part operation.
      @param element the <code>EncryptedData</code> to decrypt.
      @return the <code>Node</code> as a result of the decrypt operation.
      @throws XMLEncryptionException</div>
<a id="L1607" name="L1607"></a>1607     <strong class="reserved">private</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/13129.html" title="Multiple referred from 4 places.">decryptElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1608" name="L1608"></a>1608         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1609" name="L1609"></a>1609             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Decrypting element...");
<a id="L1610" name="L1610"></a>1610         <em class="brace">}</em>
<a id="L1611" name="L1611"></a>1611 
<a id="L1612" name="L1612"></a>1612         <strong class="reserved">if</strong> (cipherMode != DECRYPT_MODE) <em class="brace">{</em>
<a id="L1613" name="L1613"></a>1613             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "XMLCipher unexpectedly not in DECRYPT_MODE...");
<a id="L1614" name="L1614"></a>1614         <em class="brace">}</em>
<a id="L1615" name="L1615"></a>1615 
<a id="L1616" name="L1616"></a>1616         <strong class="reserved">byte</strong>[] octets = <a href="../S/5638.html#L1668" title="Defined at 1668 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptToByteArray</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L1617" name="L1617"></a>1617 
<a id="L1618" name="L1618"></a>1618         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1619" name="L1619"></a>1619             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Decrypted octets:\n" + <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(octets));
<a id="L1620" name="L1620"></a>1620         <em class="brace">}</em>
<a id="L1621" name="L1621"></a>1621 
<a id="L1622" name="L1622"></a>1622         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sourceParent = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L1623" name="L1623"></a>1623         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> decryptedNode = serializer.<a href="../D/14866.html" title="Multiple defined in 24 places.">deserialize</a>(octets, sourceParent);
<a id="L1624" name="L1624"></a>1624 
<a id="L1625" name="L1625"></a>1625         <em class="comment">// The de-serialiser returns a node whose children we need to take on.</em>
<a id="L1626" name="L1626"></a>1626         <strong class="reserved">if</strong> (sourceParent != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE == sourceParent.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()) <em class="brace">{</em>
<a id="L1627" name="L1627"></a>1627             <em class="comment">// If this is a content decryption, this may have problems</em>
<a id="L1628" name="L1628"></a>1628             contextDocument.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(contextDocument.<a href="../D/18558.html" title="Multiple defined in 7 places.">getDocumentElement</a>());
<a id="L1629" name="L1629"></a>1629             contextDocument.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(decryptedNode);
<a id="L1630" name="L1630"></a>1630         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (sourceParent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1631" name="L1631"></a>1631             sourceParent.<a href="../D/31039.html" title="Multiple defined in 11 places.">replaceChild</a>(decryptedNode, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L1632" name="L1632"></a>1632         <em class="brace">}</em>
<a id="L1633" name="L1633"></a>1633 
<a id="L1634" name="L1634"></a>1634         <strong class="reserved">return</strong> contextDocument;
<a id="L1635" name="L1635"></a>1635     <em class="brace">}</em>
<a id="L1636" name="L1636"></a>1636 
<div class="comment">
      @param element
      @return the <code>Node</code> as a result of the decrypt operation.
      @throws XMLEncryptionException</div>
<a id="L1643" name="L1643"></a>1643     <strong class="reserved">private</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../S/5638.html#L982" title="Referred from 982 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptElementContent</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1644" name="L1644"></a>1644         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e =
<a id="L1645" name="L1645"></a>1645             (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L1646" name="L1646"></a>1646                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L1647" name="L1647"></a>1647                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTEDDATA
<a id="L1648" name="L1648"></a>1648             ).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L1649" name="L1649"></a>1649 
<a id="L1650" name="L1650"></a>1650         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == e) <em class="brace">{</em>
<a id="L1651" name="L1651"></a>1651             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("No EncryptedData child element.");
<a id="L1652" name="L1652"></a>1652         <em class="brace">}</em>
<a id="L1653" name="L1653"></a>1653 
<a id="L1654" name="L1654"></a>1654         <strong class="reserved">return</strong> <a href="../S/5638.html#L1607" title="Defined at 1607 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptElement</a>(e);
<a id="L1655" name="L1655"></a>1655     <em class="brace">}</em>
<a id="L1656" name="L1656"></a>1656 
<div class="comment">
      Decrypt an EncryptedData element to a byte array.
      When passed in an EncryptedData node, returns the decryption
      as a byte array.
      Does not modify the source document.
      @param element
      @return the bytes resulting from the decryption
      @throws XMLEncryptionException</div>
<a id="L1668" name="L1668"></a>1668     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] <a href="../S/5638.html#L1616" title="Referred from 1616 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">decryptToByteArray</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1669" name="L1669"></a>1669         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1670" name="L1670"></a>1670             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Decrypting to ByteArray...");
<a id="L1671" name="L1671"></a>1671         <em class="brace">}</em>
<a id="L1672" name="L1672"></a>1672 
<a id="L1673" name="L1673"></a>1673         <strong class="reserved">if</strong> (cipherMode != DECRYPT_MODE) <em class="brace">{</em>
<a id="L1674" name="L1674"></a>1674             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE, "XMLCipher unexpectedly not in DECRYPT_MODE...");
<a id="L1675" name="L1675"></a>1675         <em class="brace">}</em>
<a id="L1676" name="L1676"></a>1676 
<a id="L1677" name="L1677"></a>1677         <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> encryptedData = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27992.html" title="Multiple defined in 2 places.">newEncryptedData</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L1678" name="L1678"></a>1678 
<a id="L1679" name="L1679"></a>1679         <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1680" name="L1680"></a>1680             <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> ki = encryptedData.<a href="../D/19933.html" title="Multiple defined in 4 places.">getKeyInfo</a>();
<a id="L1681" name="L1681"></a>1681             <strong class="reserved">if</strong> (ki != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1682" name="L1682"></a>1682                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1683" name="L1683"></a>1683                     <em class="comment">// Add an EncryptedKey resolver</em>
<a id="L1684" name="L1684"></a>1684                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> encMethodAlgorithm = encryptedData.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>().<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>();
<a id="L1685" name="L1685"></a>1685                     <a href="../S/5752.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/implementations/EncryptedKeyResolver.java.">EncryptedKeyResolver</a> resolver = <strong class="reserved">new</strong> <a href="../S/5752.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/implementations/EncryptedKeyResolver.java.">EncryptedKeyResolver</a>(encMethodAlgorithm, kek);
<a id="L1686" name="L1686"></a>1686                     <strong class="reserved">if</strong> (internalKeyResolvers != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1687" name="L1687"></a>1687                         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = internalKeyResolvers.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1688" name="L1688"></a>1688                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1689" name="L1689"></a>1689                             resolver.<a href="../D/30556.html" title="Multiple defined in 3 places.">registerInternalKeyResolver</a>(internalKeyResolvers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i));
<a id="L1690" name="L1690"></a>1690                         <em class="brace">}</em>
<a id="L1691" name="L1691"></a>1691                     <em class="brace">}</em>
<a id="L1692" name="L1692"></a>1692                     ki.<a href="../D/30556.html" title="Multiple defined in 3 places.">registerInternalKeyResolver</a>(resolver);
<a id="L1693" name="L1693"></a>1693                     ki.<a href="../D/33834.html" title="Multiple defined in 5 places.">setSecureValidation</a>(secureValidation);
<a id="L1694" name="L1694"></a>1694                     <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = ki.<a href="../D/22314.html" title="Multiple defined in 2 places.">getSecretKey</a>();
<a id="L1695" name="L1695"></a>1695                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5741.html#L27" title="Defined at 27 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/KeyResolverException.java.">KeyResolverException</a> kre) <em class="brace">{</em>
<a id="L1696" name="L1696"></a>1696                     <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1697" name="L1697"></a>1697                         <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, kre.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), kre);
<a id="L1698" name="L1698"></a>1698                     <em class="brace">}</em>
<a id="L1699" name="L1699"></a>1699                 <em class="brace">}</em>
<a id="L1700" name="L1700"></a>1700             <em class="brace">}</em>
<a id="L1701" name="L1701"></a>1701 
<a id="L1702" name="L1702"></a>1702             <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1703" name="L1703"></a>1703                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.SEVERE,
<a id="L1704" name="L1704"></a>1704                     "XMLCipher::decryptElement called without a key and unable to resolve"
<a id="L1705" name="L1705"></a>1705                 );
<a id="L1706" name="L1706"></a>1706                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("encryption.nokey");
<a id="L1707" name="L1707"></a>1707             <em class="brace">}</em>
<a id="L1708" name="L1708"></a>1708         <em class="brace">}</em>
<a id="L1709" name="L1709"></a>1709 
<a id="L1710" name="L1710"></a>1710         <em class="comment">// Obtain the encrypted octets</em>
<a id="L1711" name="L1711"></a>1711         <a href="../S/5632.html#L50" title="Defined at 50 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipherInput.java.">XMLCipherInput</a> cipherInput = <strong class="reserved">new</strong> <a href="../S/5632.html#L50" title="Defined at 50 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipherInput.java.">XMLCipherInput</a>(encryptedData);
<a id="L1712" name="L1712"></a>1712         cipherInput.<a href="../D/33834.html" title="Multiple defined in 5 places.">setSecureValidation</a>(secureValidation);
<a id="L1713" name="L1713"></a>1713         <strong class="reserved">byte</strong>[] encryptedBytes = cipherInput.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L1714" name="L1714"></a>1714 
<a id="L1715" name="L1715"></a>1715         <em class="comment">// Now create the working cipher</em>
<a id="L1716" name="L1716"></a>1716         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> jceAlgorithm =
<a id="L1717" name="L1717"></a>1717             <a href="../S/5670.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">JCEMapper</a>.<a href="../S/5670.html#L225" title="Defined at 225 in src/com/sun/org/apache/xml/internal/security/algorithms/JCEMapper.java.">translateURItoJCEID</a>(encryptedData.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>().<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>());
<a id="L1718" name="L1718"></a>1718         <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L1719" name="L1719"></a>1719             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "JCE Algorithm = " + jceAlgorithm);
<a id="L1720" name="L1720"></a>1720         <em class="brace">}</em>
<a id="L1721" name="L1721"></a>1721 
<a id="L1722" name="L1722"></a>1722         Cipher <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1723" name="L1723"></a>1723         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1724" name="L1724"></a>1724             <strong class="reserved">if</strong> (requestedJCEProvider == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1725" name="L1725"></a>1725                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = Cipher.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(jceAlgorithm);
<a id="L1726" name="L1726"></a>1726             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1727" name="L1727"></a>1727                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = Cipher.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(jceAlgorithm, requestedJCEProvider);
<a id="L1728" name="L1728"></a>1728             <em class="brace">}</em>
<a id="L1729" name="L1729"></a>1729         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L1730" name="L1730"></a>1730             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", nsae);
<a id="L1731" name="L1731"></a>1731         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a> nspre) <em class="brace">{</em>
<a id="L1732" name="L1732"></a>1732             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", nspre);
<a id="L1733" name="L1733"></a>1733         <em class="brace">}</em> <strong class="reserved">catch</strong> (NoSuchPaddingException nspae) <em class="brace">{</em>
<a id="L1734" name="L1734"></a>1734             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", nspae);
<a id="L1735" name="L1735"></a>1735         <em class="brace">}</em>
<a id="L1736" name="L1736"></a>1736 
<a id="L1737" name="L1737"></a>1737         <em class="comment">// Calculate the IV length and copy out</em>
<a id="L1738" name="L1738"></a>1738 
<a id="L1739" name="L1739"></a>1739         <em class="comment">// For now, we only work with Block ciphers, so this will work.</em>
<a id="L1740" name="L1740"></a>1740         <em class="comment">// This should probably be put into the JCE mapper.</em>
<a id="L1741" name="L1741"></a>1741 
<a id="L1742" name="L1742"></a>1742         <strong class="reserved">int</strong> ivLen = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.getBlockSize();
<a id="L1743" name="L1743"></a>1743         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alg = encryptedData.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>().<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>();
<a id="L1744" name="L1744"></a>1744         <strong class="reserved">if</strong> (AES_128_GCM.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(alg) || AES_192_GCM.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(alg) || AES_256_GCM.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(alg)) <em class="brace">{</em>
<a id="L1745" name="L1745"></a>1745             ivLen = 12;
<a id="L1746" name="L1746"></a>1746         <em class="brace">}</em>
<a id="L1747" name="L1747"></a>1747         <strong class="reserved">byte</strong>[] ivBytes = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[ivLen];
<a id="L1748" name="L1748"></a>1748 
<a id="L1749" name="L1749"></a>1749         <em class="comment">// You may be able to pass the entire piece in to IvParameterSpec</em>
<a id="L1750" name="L1750"></a>1750         <em class="comment">// and it will only take the first x bytes, but no way to be certain</em>
<a id="L1751" name="L1751"></a>1751         <em class="comment">// that this will work for every JCE provider, so lets copy the</em>
<a id="L1752" name="L1752"></a>1752         <em class="comment">// necessary bytes into a dedicated array.</em>
<a id="L1753" name="L1753"></a>1753 
<a id="L1754" name="L1754"></a>1754         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(encryptedBytes, 0, ivBytes, 0, ivLen);
<a id="L1755" name="L1755"></a>1755         IvParameterSpec iv = <strong class="reserved">new</strong> IvParameterSpec(ivBytes);
<a id="L1756" name="L1756"></a>1756 
<a id="L1757" name="L1757"></a>1757         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1758" name="L1758"></a>1758             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(cipherMode, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, iv);
<a id="L1759" name="L1759"></a>1759         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4384.html" title="Multiple defined in 2 places.">InvalidKeyException</a> ike) <em class="brace">{</em>
<a id="L1760" name="L1760"></a>1760             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ike);
<a id="L1761" name="L1761"></a>1761         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a> iape) <em class="brace">{</em>
<a id="L1762" name="L1762"></a>1762             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", iape);
<a id="L1763" name="L1763"></a>1763         <em class="brace">}</em>
<a id="L1764" name="L1764"></a>1764 
<a id="L1765" name="L1765"></a>1765         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1766" name="L1766"></a>1766             <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/15035.html" title="Multiple defined in 3 places.">doFinal</a>(encryptedBytes, ivLen, encryptedBytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - ivLen);
<a id="L1767" name="L1767"></a>1767         <em class="brace">}</em> <strong class="reserved">catch</strong> (IllegalBlockSizeException ibse) <em class="brace">{</em>
<a id="L1768" name="L1768"></a>1768             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ibse);
<a id="L1769" name="L1769"></a>1769         <em class="brace">}</em> <strong class="reserved">catch</strong> (BadPaddingException bpe) <em class="brace">{</em>
<a id="L1770" name="L1770"></a>1770             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", bpe);
<a id="L1771" name="L1771"></a>1771         <em class="brace">}</em>
<a id="L1772" name="L1772"></a>1772     <em class="brace">}</em>
<a id="L1773" name="L1773"></a>1773 
<div class="comment">
      Expose the interface for creating XML Encryption objects</div>
<a id="L1777" name="L1777"></a>1777 
<div class="comment">
      Creates an <code>EncryptedData</code> <code>Element</code>.
      The newEncryptedData and newEncryptedKey methods create fairly complete
      elements that are immediately useable.  All the other create* methods
      return bare elements that still need to be built upon.
     <p>
      An EncryptionMethod will still need to be added however
      @param type Either REFERENCE_TYPE or VALUE_TYPE - defines what kind of
      CipherData this EncryptedData will contain.
      @param value the Base 64 encoded, encrypted text to wrap in the
        <code>EncryptedData</code> or the URI to set in the CipherReference
      (usage will depend on the <code>type</code>
      @return the <code>EncryptedData</code> <code>Element</code>.
      <!--
      <EncryptedData Id[OPT] Type[OPT] MimeType[OPT] Encoding[OPT]>
          <EncryptionMethod/>[OPT]
          <ds:KeyInfo>[OPT]
              <EncryptedKey/>[OPT]
              <AgreementMethod/>[OPT]
              <ds:KeyName/>[OPT]
              <ds:RetrievalMethod/>[OPT]
              <ds:[MUL]/>[OPT]
          </ds:KeyInfo>
          <CipherData>[MAN]
              <CipherValue/> XOR <CipherReference/>
          </CipherData>
          <EncryptionProperties/>[OPT]
      </EncryptedData>
      -->
      @throws XMLEncryptionException</p></div>
<a id="L1812" name="L1812"></a>1812     <strong class="reserved">public</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../S/5638.html#L598" title="Referred from 598 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">createEncryptedData</a>(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1813" name="L1813"></a>1813         <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L1814" name="L1814"></a>1814         <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <strong class="reserved">null</strong>;
<a id="L1815" name="L1815"></a>1815 
<a id="L1816" name="L1816"></a>1816         <strong class="reserved">switch</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L1817" name="L1817"></a>1817         <strong class="reserved">case</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.REFERENCE_TYPE:
<a id="L1818" name="L1818"></a>1818             <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> cipherReference = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27973.html" title="Multiple defined in 2 places.">newCipherReference</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1819" name="L1819"></a>1819             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1820" name="L1820"></a>1820             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32149.html" title="Multiple defined in 2 places.">setCipherReference</a>(cipherReference);
<a id="L1821" name="L1821"></a>1821             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27992.html" title="Multiple defined in 2 places.">newEncryptedData</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1822" name="L1822"></a>1822             <strong class="reserved">break</strong>;
<a id="L1823" name="L1823"></a>1823         <strong class="reserved">case</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.VALUE_TYPE:
<a id="L1824" name="L1824"></a>1824             <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> cipherValue = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27974.html" title="Multiple defined in 2 places.">newCipherValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1825" name="L1825"></a>1825             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1826" name="L1826"></a>1826             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32150.html" title="Multiple defined in 2 places.">setCipherValue</a>(cipherValue);
<a id="L1827" name="L1827"></a>1827             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27992.html" title="Multiple defined in 2 places.">newEncryptedData</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1828" name="L1828"></a>1828         <em class="brace">}</em>
<a id="L1829" name="L1829"></a>1829 
<a id="L1830" name="L1830"></a>1830         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1831" name="L1831"></a>1831     <em class="brace">}</em>
<a id="L1832" name="L1832"></a>1832 
<div class="comment">
      Creates an <code>EncryptedKey</code> <code>Element</code>.
      The newEncryptedData and newEncryptedKey methods create fairly complete
      elements that are immediately useable.  All the other create* methods
      return bare elements that still need to be built upon.
     <p>
      An EncryptionMethod will still need to be added however
      @param type Either REFERENCE_TYPE or VALUE_TYPE - defines what kind of
      CipherData this EncryptedData will contain.
      @param value the Base 64 encoded, encrypted text to wrap in the
        <code>EncryptedKey</code> or the URI to set in the CipherReference
      (usage will depend on the <code>type</code>
      @return the <code>EncryptedKey</code> <code>Element</code>.
      <!--
      <EncryptedKey Id[OPT] Type[OPT] MimeType[OPT] Encoding[OPT]>
          <EncryptionMethod/>[OPT]
          <ds:KeyInfo>[OPT]
              <EncryptedKey/>[OPT]
              <AgreementMethod/>[OPT]
              <ds:KeyName/>[OPT]
              <ds:RetrievalMethod/>[OPT]
              <ds:[MUL]/>[OPT]
          </ds:KeyInfo>
          <CipherData>[MAN]
              <CipherValue/> XOR <CipherReference/>
          </CipherData>
          <EncryptionProperties/>[OPT]
      </EncryptedData>
      -->
      @throws XMLEncryptionException</p></div>
<a id="L1867" name="L1867"></a>1867     <strong class="reserved">public</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../S/5638.html#L609" title="Referred from 609 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">createEncryptedKey</a>(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L1868" name="L1868"></a>1868         <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L1869" name="L1869"></a>1869         <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <strong class="reserved">null</strong>;
<a id="L1870" name="L1870"></a>1870 
<a id="L1871" name="L1871"></a>1871         <strong class="reserved">switch</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L1872" name="L1872"></a>1872         <strong class="reserved">case</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.REFERENCE_TYPE:
<a id="L1873" name="L1873"></a>1873             <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> cipherReference = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27973.html" title="Multiple defined in 2 places.">newCipherReference</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1874" name="L1874"></a>1874             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1875" name="L1875"></a>1875             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32149.html" title="Multiple defined in 2 places.">setCipherReference</a>(cipherReference);
<a id="L1876" name="L1876"></a>1876             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27993.html" title="Multiple defined in 2 places.">newEncryptedKey</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1877" name="L1877"></a>1877             <strong class="reserved">break</strong>;
<a id="L1878" name="L1878"></a>1878         <strong class="reserved">case</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.VALUE_TYPE:
<a id="L1879" name="L1879"></a>1879             <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> cipherValue = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27974.html" title="Multiple defined in 2 places.">newCipherValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1880" name="L1880"></a>1880             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1881" name="L1881"></a>1881             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32150.html" title="Multiple defined in 2 places.">setCipherValue</a>(cipherValue);
<a id="L1882" name="L1882"></a>1882             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27993.html" title="Multiple defined in 2 places.">newEncryptedKey</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1883" name="L1883"></a>1883         <em class="brace">}</em>
<a id="L1884" name="L1884"></a>1884 
<a id="L1885" name="L1885"></a>1885         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1886" name="L1886"></a>1886     <em class="brace">}</em>
<a id="L1887" name="L1887"></a>1887 
<div class="comment">
      Create an AgreementMethod object
      @param algorithm Algorithm of the agreement method
      @return a new <code>AgreementMethod</code></div>
<a id="L1894" name="L1894"></a>1894     <strong class="reserved">public</strong> <a href="../S/5633.html#L81" title="Defined at 81 in src/com/sun/org/apache/xml/internal/security/encryption/AgreementMethod.java.">AgreementMethod</a> createAgreementMethod(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L1895" name="L1895"></a>1895         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../S/5638.html#L1999" title="Defined at 1999 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">newAgreementMethod</a>(algorithm);
<a id="L1896" name="L1896"></a>1896     <em class="brace">}</em>
<a id="L1897" name="L1897"></a>1897 
<div class="comment">
      Create a CipherData object
      @param type Type of this CipherData (either VALUE_TUPE or
      REFERENCE_TYPE)
      @return a new <code>CipherData</code></div>
<a id="L1905" name="L1905"></a>1905     <strong class="reserved">public</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> createCipherData(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L1906" name="L1906"></a>1906         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1907" name="L1907"></a>1907     <em class="brace">}</em>
<a id="L1908" name="L1908"></a>1908 
<div class="comment">
      Create a CipherReference object
      @param uri The URI that the reference will refer
      @return a new <code>CipherReference</code></div>
<a id="L1915" name="L1915"></a>1915     <strong class="reserved">public</strong> <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> createCipherReference(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L1916" name="L1916"></a>1916         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27973.html" title="Multiple defined in 2 places.">newCipherReference</a>(uri);
<a id="L1917" name="L1917"></a>1917     <em class="brace">}</em>
<a id="L1918" name="L1918"></a>1918 
<div class="comment">
      Create a CipherValue element
      @param value The value to set the ciphertext to
      @return a new <code>CipherValue</code></div>
<a id="L1925" name="L1925"></a>1925     <strong class="reserved">public</strong> <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> createCipherValue(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L1926" name="L1926"></a>1926         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27974.html" title="Multiple defined in 2 places.">newCipherValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1927" name="L1927"></a>1927     <em class="brace">}</em>
<a id="L1928" name="L1928"></a>1928 
<div class="comment">
      Create an EncryptionMethod object
      @param algorithm Algorithm for the encryption
      @return a new <code>EncryptionMethod</code></div>
<a id="L1935" name="L1935"></a>1935     <strong class="reserved">public</strong> <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> createEncryptionMethod(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L1936" name="L1936"></a>1936         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27994.html" title="Multiple defined in 2 places.">newEncryptionMethod</a>(algorithm);
<a id="L1937" name="L1937"></a>1937     <em class="brace">}</em>
<a id="L1938" name="L1938"></a>1938 
<div class="comment">
      Create an EncryptionProperties element
      @return a new <code>EncryptionProperties</code></div>
<a id="L1943" name="L1943"></a>1943     <strong class="reserved">public</strong> <a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> createEncryptionProperties() <em class="brace">{</em>
<a id="L1944" name="L1944"></a>1944         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27995.html" title="Multiple defined in 2 places.">newEncryptionProperties</a>();
<a id="L1945" name="L1945"></a>1945     <em class="brace">}</em>
<a id="L1946" name="L1946"></a>1946 
<div class="comment">
      Create a new EncryptionProperty element
      @return a new <code>EncryptionProperty</code></div>
<a id="L1951" name="L1951"></a>1951     <strong class="reserved">public</strong> <a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a> createEncryptionProperty() <em class="brace">{</em>
<a id="L1952" name="L1952"></a>1952         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27996.html" title="Multiple defined in 2 places.">newEncryptionProperty</a>();
<a id="L1953" name="L1953"></a>1953     <em class="brace">}</em>
<a id="L1954" name="L1954"></a>1954 
<div class="comment">
      Create a new ReferenceList object
      @param type ReferenceList.DATA_REFERENCE or ReferenceList.KEY_REFERENCE
      @return a new <code>ReferenceList</code></div>
<a id="L1960" name="L1960"></a>1960     <strong class="reserved">public</strong> <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> createReferenceList(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L1961" name="L1961"></a>1961         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/28062.html" title="Multiple defined in 2 places.">newReferenceList</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1962" name="L1962"></a>1962     <em class="brace">}</em>
<a id="L1963" name="L1963"></a>1963 
<div class="comment">
      Create a new Transforms object
      <p>
      <b>Note</b>: A context document <i>must</i> have been set
      elsewhere (possibly via a call to doFinal).  If not, use the
      createTransforms(Document) method.
      @return a new <code>Transforms</code></p></div>
<a id="L1972" name="L1972"></a>1972     <strong class="reserved">public</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> createTransforms() <em class="brace">{</em>
<a id="L1973" name="L1973"></a>1973         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/28102.html" title="Multiple defined in 2 places.">newTransforms</a>();
<a id="L1974" name="L1974"></a>1974     <em class="brace">}</em>
<a id="L1975" name="L1975"></a>1975 
<div class="comment">
      Create a new Transforms object
      Because the handling of Transforms is currently done in the signature
      code, the creation of a Transforms object <b>requires</b> a
      context document.
      @param doc Document that will own the created Transforms node
      @return a new <code>Transforms</code></div>
<a id="L1986" name="L1986"></a>1986     <strong class="reserved">public</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> createTransforms(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L1987" name="L1987"></a>1987         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/28102.html" title="Multiple defined in 2 places.">newTransforms</a>(doc);
<a id="L1988" name="L1988"></a>1988     <em class="brace">}</em>
<a id="L1989" name="L1989"></a>1989 
<div class="comment">
      @author Axl Mattheus</div>
<a id="L1994" name="L1994"></a>1994     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2859.html" title="Multiple referred from 20 places.">Factory</a> <em class="brace">{</em>
<div class="comment">
          @param algorithm
          @return a new AgreementMethod</div>
<a id="L1999" name="L1999"></a>1999         <a href="../S/5633.html#L81" title="Defined at 81 in src/com/sun/org/apache/xml/internal/security/encryption/AgreementMethod.java.">AgreementMethod</a> <a href="../S/5638.html#L1895" title="Referred from 1895 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">newAgreementMethod</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm)  <em class="brace">{</em>
<a id="L2000" name="L2000"></a>2000             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L2493" title="Defined at 2493 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">AgreementMethodImpl</a>(algorithm);
<a id="L2001" name="L2001"></a>2001         <em class="brace">}</em>
<a id="L2002" name="L2002"></a>2002 
<div class="comment">
          @param type
          @return a new CipherData</div>
<a id="L2008" name="L2008"></a>2008         <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../R/23529.html" title="Multiple referred from 8 places.">newCipherData</a>(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2009" name="L2009"></a>2009             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L2566" title="Defined at 2566 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherDataImpl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L2010" name="L2010"></a>2010         <em class="brace">}</em>
<a id="L2011" name="L2011"></a>2011 
<div class="comment">
          @param uri
          @return a new CipherReference</div>
<a id="L2016" name="L2016"></a>2016         <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> <a href="../R/23530.html" title="Multiple referred from 4 places.">newCipherReference</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri)  <em class="brace">{</em>
<a id="L2017" name="L2017"></a>2017             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L2636" title="Defined at 2636 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherReferenceImpl</a>(uri);
<a id="L2018" name="L2018"></a>2018         <em class="brace">}</em>
<a id="L2019" name="L2019"></a>2019 
<div class="comment">
          @param value
          @return a new CipherValue</div>
<a id="L2024" name="L2024"></a>2024         <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> <a href="../R/23531.html" title="Multiple referred from 5 places.">newCipherValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2025" name="L2025"></a>2025             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L2692" title="Defined at 2692 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherValueImpl</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L2026" name="L2026"></a>2026         <em class="brace">}</em>
<a id="L2027" name="L2027"></a>2027 
<div class="comment">
        CipherValue newCipherValue(byte[] value) {
            return new CipherValueImpl(value);
        }</div>
<a id="L2033" name="L2033"></a>2033 
<div class="comment">
          @param data
          @return a new EncryptedData</div>
<a id="L2038" name="L2038"></a>2038         <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../R/23546.html" title="Multiple referred from 5 places.">newEncryptedData</a>(<a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L2039" name="L2039"></a>2039             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L2723" title="Defined at 2723 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptedDataImpl</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2040" name="L2040"></a>2040         <em class="brace">}</em>
<a id="L2041" name="L2041"></a>2041 
<div class="comment">
          @param data
          @return a new EncryptedKey</div>
<a id="L2046" name="L2046"></a>2046         <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../R/23547.html" title="Multiple referred from 4 places.">newEncryptedKey</a>(<a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L2047" name="L2047"></a>2047             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L2774" title="Defined at 2774 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptedKeyImpl</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2048" name="L2048"></a>2048         <em class="brace">}</em>
<a id="L2049" name="L2049"></a>2049 
<div class="comment">
          @param algorithm
          @return a new EncryptionMethod</div>
<a id="L2054" name="L2054"></a>2054         <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> <a href="../R/23548.html" title="Multiple referred from 6 places.">newEncryptionMethod</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L2055" name="L2055"></a>2055             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3033" title="Defined at 3033 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionMethodImpl</a>(algorithm);
<a id="L2056" name="L2056"></a>2056         <em class="brace">}</em>
<a id="L2057" name="L2057"></a>2057 
<div class="comment">
          @return a new EncryptionProperties</div>
<a id="L2061" name="L2061"></a>2061         <a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> <a href="../R/23549.html" title="Multiple referred from 4 places.">newEncryptionProperties</a>() <em class="brace">{</em>
<a id="L2062" name="L2062"></a>2062             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3165" title="Defined at 3165 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionPropertiesImpl</a>();
<a id="L2063" name="L2063"></a>2063         <em class="brace">}</em>
<a id="L2064" name="L2064"></a>2064 
<div class="comment">
          @return a new EncryptionProperty</div>
<a id="L2068" name="L2068"></a>2068         <a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a> <a href="../R/23550.html" title="Multiple referred from 3 places.">newEncryptionProperty</a>() <em class="brace">{</em>
<a id="L2069" name="L2069"></a>2069             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3218" title="Defined at 3218 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionPropertyImpl</a>();
<a id="L2070" name="L2070"></a>2070         <em class="brace">}</em>
<a id="L2071" name="L2071"></a>2071 
<div class="comment">
          @param type ReferenceList.DATA_REFERENCE or ReferenceList.KEY_REFERENCE
          @return a new ReferenceList</div>
<a id="L2076" name="L2076"></a>2076         <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> <a href="../R/23603.html" title="Multiple referred from 2 places.">newReferenceList</a>(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2077" name="L2077"></a>2077             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3375" title="Defined at 3375 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">ReferenceListImpl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L2078" name="L2078"></a>2078         <em class="brace">}</em>
<a id="L2079" name="L2079"></a>2079 
<div class="comment">
          @return a new Transforms</div>
<a id="L2083" name="L2083"></a>2083         <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> <a href="../R/23632.html" title="Multiple referred from 2 places.">newTransforms</a>() <em class="brace">{</em>
<a id="L2084" name="L2084"></a>2084             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3311" title="Defined at 3311 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">TransformsImpl</a>();
<a id="L2085" name="L2085"></a>2085         <em class="brace">}</em>
<a id="L2086" name="L2086"></a>2086 
<div class="comment">
          @param doc
          @return a new Transforms</div>
<a id="L2091" name="L2091"></a>2091         <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> <a href="../R/23632.html" title="Multiple referred from 2 places.">newTransforms</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L2092" name="L2092"></a>2092             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3311" title="Defined at 3311 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">TransformsImpl</a>(doc);
<a id="L2093" name="L2093"></a>2093         <em class="brace">}</em>
<a id="L2094" name="L2094"></a>2094 
<div class="comment">
          @param element
          @return a new CipherData
          @throws XMLEncryptionException</div>
<a id="L2100" name="L2100"></a>2100         <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../R/23529.html" title="Multiple referred from 8 places.">newCipherData</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L2101" name="L2101"></a>2101             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L2102" name="L2102"></a>2102                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("element is null");
<a id="L2103" name="L2103"></a>2103             <em class="brace">}</em>
<a id="L2104" name="L2104"></a>2104 
<a id="L2105" name="L2105"></a>2105             <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = 0;
<a id="L2106" name="L2106"></a>2106             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e = <strong class="reserved">null</strong>;
<a id="L2107" name="L2107"></a>2107             <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2108" name="L2108"></a>2108                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2109" name="L2109"></a>2109                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERVALUE).<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &gt; 0
<a id="L2110" name="L2110"></a>2110             ) <em class="brace">{</em>
<a id="L2111" name="L2111"></a>2111                 <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.VALUE_TYPE;
<a id="L2112" name="L2112"></a>2112                 e = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2113" name="L2113"></a>2113                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2114" name="L2114"></a>2114                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERVALUE).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2115" name="L2115"></a>2115             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2116" name="L2116"></a>2116                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2117" name="L2117"></a>2117                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERREFERENCE).<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &gt; 0) <em class="brace">{</em>
<a id="L2118" name="L2118"></a>2118                 <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.REFERENCE_TYPE;
<a id="L2119" name="L2119"></a>2119                 e = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2120" name="L2120"></a>2120                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2121" name="L2121"></a>2121                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERREFERENCE).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2122" name="L2122"></a>2122             <em class="brace">}</em>
<a id="L2123" name="L2123"></a>2123 
<a id="L2124" name="L2124"></a>2124             <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L2125" name="L2125"></a>2125             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.VALUE_TYPE) <em class="brace">{</em>
<a id="L2126" name="L2126"></a>2126                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32150.html" title="Multiple defined in 2 places.">setCipherValue</a>(<a href="../D/27974.html" title="Multiple defined in 2 places.">newCipherValue</a>(e));
<a id="L2127" name="L2127"></a>2127             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a>.REFERENCE_TYPE) <em class="brace">{</em>
<a id="L2128" name="L2128"></a>2128                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32149.html" title="Multiple defined in 2 places.">setCipherReference</a>(<a href="../D/27973.html" title="Multiple defined in 2 places.">newCipherReference</a>(e));
<a id="L2129" name="L2129"></a>2129             <em class="brace">}</em>
<a id="L2130" name="L2130"></a>2130 
<a id="L2131" name="L2131"></a>2131             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2132" name="L2132"></a>2132         <em class="brace">}</em>
<a id="L2133" name="L2133"></a>2133 
<div class="comment">
          @param element
          @return a new CipherReference
          @throws XMLEncryptionException</div>
<a id="L2140" name="L2140"></a>2140         <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> <a href="../R/23530.html" title="Multiple referred from 4 places.">newCipherReference</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L2141" name="L2141"></a>2141 
<a id="L2142" name="L2142"></a>2142             <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> uriAttr =
<a id="L2143" name="L2143"></a>2143                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17095.html" title="Multiple defined in 7 places.">getAttributeNodeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_URI);
<a id="L2144" name="L2144"></a>2144             <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/5638.html#L2636" title="Defined at 2636 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherReferenceImpl</a>(uriAttr);
<a id="L2145" name="L2145"></a>2145 
<a id="L2146" name="L2146"></a>2146             <em class="comment">// Find any Transforms</em>
<a id="L2147" name="L2147"></a>2147             <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> transformsElements =
<a id="L2148" name="L2148"></a>2148                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2149" name="L2149"></a>2149                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_TRANSFORMS);
<a id="L2150" name="L2150"></a>2150             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> transformsElement = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) transformsElements.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2151" name="L2151"></a>2151 
<a id="L2152" name="L2152"></a>2152             <strong class="reserved">if</strong> (transformsElement != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2153" name="L2153"></a>2153                 <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L2154" name="L2154"></a>2154                     <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Creating a DSIG based Transforms element");
<a id="L2155" name="L2155"></a>2155                 <em class="brace">}</em>
<a id="L2156" name="L2156"></a>2156                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2157" name="L2157"></a>2157                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/34185.html" title="Multiple defined in 2 places.">setTransforms</a>(<strong class="reserved">new</strong> <a href="../S/5638.html#L3311" title="Defined at 3311 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">TransformsImpl</a>(transformsElement));
<a id="L2158" name="L2158"></a>2158                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> xse) <em class="brace">{</em>
<a id="L2159" name="L2159"></a>2159                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", xse);
<a id="L2160" name="L2160"></a>2160                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5720.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/InvalidTransformException.java.">InvalidTransformException</a> ite) <em class="brace">{</em>
<a id="L2161" name="L2161"></a>2161                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", ite);
<a id="L2162" name="L2162"></a>2162                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> xse) <em class="brace">{</em>
<a id="L2163" name="L2163"></a>2163                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("empty", xse);
<a id="L2164" name="L2164"></a>2164                 <em class="brace">}</em>
<a id="L2165" name="L2165"></a>2165             <em class="brace">}</em>
<a id="L2166" name="L2166"></a>2166 
<a id="L2167" name="L2167"></a>2167             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2168" name="L2168"></a>2168         <em class="brace">}</em>
<a id="L2169" name="L2169"></a>2169 
<div class="comment">
          @param element
          @return a new CipherValue</div>
<a id="L2174" name="L2174"></a>2174         <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> <a href="../R/23531.html" title="Multiple referred from 5 places.">newCipherValue</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L2175" name="L2175"></a>2175             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L275" title="Defined at 275 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">getFullTextChildrenFromElement</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L2176" name="L2176"></a>2176 
<a id="L2177" name="L2177"></a>2177             <strong class="reserved">return</strong> <a href="../D/27974.html" title="Multiple defined in 2 places.">newCipherValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L2178" name="L2178"></a>2178         <em class="brace">}</em>
<a id="L2179" name="L2179"></a>2179 
<div class="comment">
          @param element
          @return a new EncryptedData
          @throws XMLEncryptionException</div>
<a id="L2186" name="L2186"></a>2186         <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../R/23546.html" title="Multiple referred from 5 places.">newEncryptedData</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L2187" name="L2187"></a>2187             <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L2188" name="L2188"></a>2188 
<a id="L2189" name="L2189"></a>2189             <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> dataElements =
<a id="L2190" name="L2190"></a>2190                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2191" name="L2191"></a>2191                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERDATA);
<a id="L2192" name="L2192"></a>2192 
<a id="L2193" name="L2193"></a>2193             <em class="comment">// Need to get the last CipherData found, as earlier ones will</em>
<a id="L2194" name="L2194"></a>2194             <em class="comment">// be for elements in the KeyInfo lists</em>
<a id="L2195" name="L2195"></a>2195 
<a id="L2196" name="L2196"></a>2196             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> dataElement =
<a id="L2197" name="L2197"></a>2197                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) dataElements.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(dataElements.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() - 1);
<a id="L2198" name="L2198"></a>2198 
<a id="L2199" name="L2199"></a>2199             <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(dataElement);
<a id="L2200" name="L2200"></a>2200 
<a id="L2201" name="L2201"></a>2201             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/27992.html" title="Multiple defined in 2 places.">newEncryptedData</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2202" name="L2202"></a>2202 
<a id="L2203" name="L2203"></a>2203             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32884.html" title="Multiple defined in 18 places.">setId</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID));
<a id="L2204" name="L2204"></a>2204             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_TYPE));
<a id="L2205" name="L2205"></a>2205             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33251.html" title="Multiple defined in 3 places.">setMimeType</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_MIMETYPE));
<a id="L2206" name="L2206"></a>2206             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32578.html" title="Multiple defined in 27 places.">setEncoding</a>( <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_ENCODING));
<a id="L2207" name="L2207"></a>2207 
<a id="L2208" name="L2208"></a>2208             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> encryptionMethodElement =
<a id="L2209" name="L2209"></a>2209                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2210" name="L2210"></a>2210                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2211" name="L2211"></a>2211                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONMETHOD).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2212" name="L2212"></a>2212             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != encryptionMethodElement) <em class="brace">{</em>
<a id="L2213" name="L2213"></a>2213                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32581.html" title="Multiple defined in 2 places.">setEncryptionMethod</a>(<a href="../D/27994.html" title="Multiple defined in 2 places.">newEncryptionMethod</a>(encryptionMethodElement));
<a id="L2214" name="L2214"></a>2214             <em class="brace">}</em>
<a id="L2215" name="L2215"></a>2215 
<a id="L2216" name="L2216"></a>2216             <em class="comment">// BFL 16/7/03 - simple implementation</em>
<a id="L2217" name="L2217"></a>2217             <em class="comment">// TODO: Work out how to handle relative URI</em>
<a id="L2218" name="L2218"></a>2218 
<a id="L2219" name="L2219"></a>2219             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> keyInfoElement =
<a id="L2220" name="L2220"></a>2220                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2221" name="L2221"></a>2221                     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_KEYINFO).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2222" name="L2222"></a>2222             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != keyInfoElement) <em class="brace">{</em>
<a id="L2223" name="L2223"></a>2223                 <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> ki = <a href="../D/28028.html" title="Multiple defined in 3 places.">newKeyInfo</a>(keyInfoElement);
<a id="L2224" name="L2224"></a>2224                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33031.html" title="Multiple defined in 2 places.">setKeyInfo</a>(ki);
<a id="L2225" name="L2225"></a>2225             <em class="brace">}</em>
<a id="L2226" name="L2226"></a>2226 
<a id="L2227" name="L2227"></a>2227             <em class="comment">// TODO: Implement</em>
<a id="L2228" name="L2228"></a>2228             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> encryptionPropertiesElement =
<a id="L2229" name="L2229"></a>2229                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2230" name="L2230"></a>2230                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2231" name="L2231"></a>2231                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONPROPERTIES).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2232" name="L2232"></a>2232             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != encryptionPropertiesElement) <em class="brace">{</em>
<a id="L2233" name="L2233"></a>2233                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32582.html" title="Multiple defined in 2 places.">setEncryptionProperties</a>(
<a id="L2234" name="L2234"></a>2234                     <a href="../D/27995.html" title="Multiple defined in 2 places.">newEncryptionProperties</a>(encryptionPropertiesElement)
<a id="L2235" name="L2235"></a>2235                 );
<a id="L2236" name="L2236"></a>2236             <em class="brace">}</em>
<a id="L2237" name="L2237"></a>2237 
<a id="L2238" name="L2238"></a>2238             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2239" name="L2239"></a>2239         <em class="brace">}</em>
<a id="L2240" name="L2240"></a>2240 
<div class="comment">
          @param element
          @return a new EncryptedKey
          @throws XMLEncryptionException</div>
<a id="L2246" name="L2246"></a>2246         <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../R/23547.html" title="Multiple referred from 4 places.">newEncryptedKey</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L2247" name="L2247"></a>2247             <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L2248" name="L2248"></a>2248             <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> dataElements =
<a id="L2249" name="L2249"></a>2249                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2250" name="L2250"></a>2250                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERDATA);
<a id="L2251" name="L2251"></a>2251             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> dataElement =
<a id="L2252" name="L2252"></a>2252                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) dataElements.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(dataElements.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() - 1);
<a id="L2253" name="L2253"></a>2253 
<a id="L2254" name="L2254"></a>2254             <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/27972.html" title="Multiple defined in 2 places.">newCipherData</a>(dataElement);
<a id="L2255" name="L2255"></a>2255             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/27993.html" title="Multiple defined in 2 places.">newEncryptedKey</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2256" name="L2256"></a>2256 
<a id="L2257" name="L2257"></a>2257             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32884.html" title="Multiple defined in 18 places.">setId</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID));
<a id="L2258" name="L2258"></a>2258             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_TYPE));
<a id="L2259" name="L2259"></a>2259             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33251.html" title="Multiple defined in 3 places.">setMimeType</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_MIMETYPE));
<a id="L2260" name="L2260"></a>2260             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32578.html" title="Multiple defined in 27 places.">setEncoding</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_ENCODING));
<a id="L2261" name="L2261"></a>2261             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33670.html" title="Multiple defined in 2 places.">setRecipient</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_RECIPIENT));
<a id="L2262" name="L2262"></a>2262 
<a id="L2263" name="L2263"></a>2263             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> encryptionMethodElement =
<a id="L2264" name="L2264"></a>2264                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2265" name="L2265"></a>2265                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2266" name="L2266"></a>2266                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONMETHOD).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2267" name="L2267"></a>2267             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != encryptionMethodElement) <em class="brace">{</em>
<a id="L2268" name="L2268"></a>2268                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32581.html" title="Multiple defined in 2 places.">setEncryptionMethod</a>(<a href="../D/27994.html" title="Multiple defined in 2 places.">newEncryptionMethod</a>(encryptionMethodElement));
<a id="L2269" name="L2269"></a>2269             <em class="brace">}</em>
<a id="L2270" name="L2270"></a>2270 
<a id="L2271" name="L2271"></a>2271             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> keyInfoElement =
<a id="L2272" name="L2272"></a>2272                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2273" name="L2273"></a>2273                     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_KEYINFO).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2274" name="L2274"></a>2274             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != keyInfoElement) <em class="brace">{</em>
<a id="L2275" name="L2275"></a>2275                 <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> ki = <a href="../D/28028.html" title="Multiple defined in 3 places.">newKeyInfo</a>(keyInfoElement);
<a id="L2276" name="L2276"></a>2276                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33031.html" title="Multiple defined in 2 places.">setKeyInfo</a>(ki);
<a id="L2277" name="L2277"></a>2277             <em class="brace">}</em>
<a id="L2278" name="L2278"></a>2278 
<a id="L2279" name="L2279"></a>2279             <em class="comment">// TODO: Implement</em>
<a id="L2280" name="L2280"></a>2280             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> encryptionPropertiesElement =
<a id="L2281" name="L2281"></a>2281                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2282" name="L2282"></a>2282                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2283" name="L2283"></a>2283                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONPROPERTIES).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2284" name="L2284"></a>2284             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != encryptionPropertiesElement) <em class="brace">{</em>
<a id="L2285" name="L2285"></a>2285                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32582.html" title="Multiple defined in 2 places.">setEncryptionProperties</a>(
<a id="L2286" name="L2286"></a>2286                     <a href="../D/27995.html" title="Multiple defined in 2 places.">newEncryptionProperties</a>(encryptionPropertiesElement)
<a id="L2287" name="L2287"></a>2287                 );
<a id="L2288" name="L2288"></a>2288             <em class="brace">}</em>
<a id="L2289" name="L2289"></a>2289 
<a id="L2290" name="L2290"></a>2290             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> referenceListElement =
<a id="L2291" name="L2291"></a>2291                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2292" name="L2292"></a>2292                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2293" name="L2293"></a>2293                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_REFERENCELIST).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2294" name="L2294"></a>2294             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != referenceListElement) <em class="brace">{</em>
<a id="L2295" name="L2295"></a>2295                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33676.html" title="Multiple defined in 2 places.">setReferenceList</a>(<a href="../D/28062.html" title="Multiple defined in 2 places.">newReferenceList</a>(referenceListElement));
<a id="L2296" name="L2296"></a>2296             <em class="brace">}</em>
<a id="L2297" name="L2297"></a>2297 
<a id="L2298" name="L2298"></a>2298             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> carriedNameElement =
<a id="L2299" name="L2299"></a>2299                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2300" name="L2300"></a>2300                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2301" name="L2301"></a>2301                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CARRIEDKEYNAME).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2302" name="L2302"></a>2302             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != carriedNameElement) <em class="brace">{</em>
<a id="L2303" name="L2303"></a>2303                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32098.html" title="Multiple defined in 2 places.">setCarriedName</a>(carriedNameElement.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>().<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L2304" name="L2304"></a>2304             <em class="brace">}</em>
<a id="L2305" name="L2305"></a>2305 
<a id="L2306" name="L2306"></a>2306             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2307" name="L2307"></a>2307         <em class="brace">}</em>
<a id="L2308" name="L2308"></a>2308 
<div class="comment">
          @param element
          @return a new KeyInfo
          @throws XMLEncryptionException</div>
<a id="L2314" name="L2314"></a>2314         <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> <a href="../R/23575.html" title="Multiple referred from 2 places.">newKeyInfo</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L2315" name="L2315"></a>2315             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2316" name="L2316"></a>2316                 <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> ki = <strong class="reserved">new</strong> <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <strong class="reserved">null</strong>);
<a id="L2317" name="L2317"></a>2317                 ki.<a href="../D/33834.html" title="Multiple defined in 5 places.">setSecureValidation</a>(secureValidation);
<a id="L2318" name="L2318"></a>2318                 <strong class="reserved">if</strong> (internalKeyResolvers != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2319" name="L2319"></a>2319                     <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = internalKeyResolvers.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L2320" name="L2320"></a>2320                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L2321" name="L2321"></a>2321                         ki.<a href="../D/30556.html" title="Multiple defined in 3 places.">registerInternalKeyResolver</a>(internalKeyResolvers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i));
<a id="L2322" name="L2322"></a>2322                     <em class="brace">}</em>
<a id="L2323" name="L2323"></a>2323                 <em class="brace">}</em>
<a id="L2324" name="L2324"></a>2324                 <strong class="reserved">return</strong> ki;
<a id="L2325" name="L2325"></a>2325             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> xse) <em class="brace">{</em>
<a id="L2326" name="L2326"></a>2326                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>("Error loading Key Info", xse);
<a id="L2327" name="L2327"></a>2327             <em class="brace">}</em>
<a id="L2328" name="L2328"></a>2328         <em class="brace">}</em>
<a id="L2329" name="L2329"></a>2329 
<div class="comment">
          @param element
          @return a new EncryptionMethod</div>
<a id="L2334" name="L2334"></a>2334         <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> <a href="../R/23548.html" title="Multiple referred from 6 places.">newEncryptionMethod</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L2335" name="L2335"></a>2335             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> encAlgorithm = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ALGORITHM);
<a id="L2336" name="L2336"></a>2336             <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/27994.html" title="Multiple defined in 2 places.">newEncryptionMethod</a>(encAlgorithm);
<a id="L2337" name="L2337"></a>2337 
<a id="L2338" name="L2338"></a>2338             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> keySizeElement =
<a id="L2339" name="L2339"></a>2339                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2340" name="L2340"></a>2340                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2341" name="L2341"></a>2341                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_KEYSIZE).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2342" name="L2342"></a>2342             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != keySizeElement) <em class="brace">{</em>
<a id="L2343" name="L2343"></a>2343                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33035.html" title="Multiple defined in 2 places.">setKeySize</a>(
<a id="L2344" name="L2344"></a>2344                     <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(
<a id="L2345" name="L2345"></a>2345                         keySizeElement.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>().<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>()).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L2346" name="L2346"></a>2346             <em class="brace">}</em>
<a id="L2347" name="L2347"></a>2347 
<a id="L2348" name="L2348"></a>2348             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> oaepParamsElement =
<a id="L2349" name="L2349"></a>2349                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2350" name="L2350"></a>2350                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2351" name="L2351"></a>2351                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_OAEPPARAMS).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2352" name="L2352"></a>2352             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != oaepParamsElement) <em class="brace">{</em>
<a id="L2353" name="L2353"></a>2353                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2354" name="L2354"></a>2354                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oaepParams = oaepParamsElement.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>().<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L2355" name="L2355"></a>2355                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33395.html" title="Multiple defined in 2 places.">setOAEPparams</a>(<a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/14516.html" title="Multiple defined in 39 places.">decode</a>(oaepParams.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>("UTF-8")));
<a id="L2356" name="L2356"></a>2356                 <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/1372.html#L33" title="Defined at 33 in src/java/io/UnsupportedEncodingException.java.">UnsupportedEncodingException</a> e) <em class="brace">{</em>
<a id="L2357" name="L2357"></a>2357                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("UTF-8 not supported", e);
<a id="L2358" name="L2358"></a>2358                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5714.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/exceptions/Base64DecodingException.java.">Base64DecodingException</a> e) <em class="brace">{</em>
<a id="L2359" name="L2359"></a>2359                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("BASE-64 decoding error", e);
<a id="L2360" name="L2360"></a>2360                 <em class="brace">}</em>
<a id="L2361" name="L2361"></a>2361             <em class="brace">}</em>
<a id="L2362" name="L2362"></a>2362 
<a id="L2363" name="L2363"></a>2363             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> digestElement =
<a id="L2364" name="L2364"></a>2364                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2365" name="L2365"></a>2365                     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_DIGESTMETHOD).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2366" name="L2366"></a>2366             <strong class="reserved">if</strong> (digestElement != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2367" name="L2367"></a>2367                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestAlgorithm = digestElement.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, "Algorithm");
<a id="L2368" name="L2368"></a>2368                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32456.html" title="Multiple defined in 2 places.">setDigestAlgorithm</a>(digestAlgorithm);
<a id="L2369" name="L2369"></a>2369             <em class="brace">}</em>
<a id="L2370" name="L2370"></a>2370 
<a id="L2371" name="L2371"></a>2371             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> mgfElement =
<a id="L2372" name="L2372"></a>2372                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2373" name="L2373"></a>2373                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpec11NS, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_MGF).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0);
<a id="L2374" name="L2374"></a>2374             <strong class="reserved">if</strong> (mgfElement != <strong class="reserved">null</strong> &amp;&amp; !<a href="../S/5638.html#L85" title="Defined at 85 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">XMLCipher</a>.RSA_OAEP.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(algorithm)) <em class="brace">{</em>
<a id="L2375" name="L2375"></a>2375                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mgfAlgorithm = mgfElement.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, "Algorithm");
<a id="L2376" name="L2376"></a>2376                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33167.html" title="Multiple defined in 2 places.">setMGFAlgorithm</a>(mgfAlgorithm);
<a id="L2377" name="L2377"></a>2377             <em class="brace">}</em>
<a id="L2378" name="L2378"></a>2378 
<a id="L2379" name="L2379"></a>2379             <em class="comment">// TODO: Make this mess work</em>
<a id="L2380" name="L2380"></a>2380             <em class="comment">// &lt;any namespace='##other' minOccurs='0' maxOccurs='unbounded'/&gt;</em>
<a id="L2381" name="L2381"></a>2381 
<a id="L2382" name="L2382"></a>2382             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2383" name="L2383"></a>2383         <em class="brace">}</em>
<a id="L2384" name="L2384"></a>2384 
<div class="comment">
          @param element
          @return a new EncryptionProperties</div>
<a id="L2389" name="L2389"></a>2389         <a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> <a href="../R/23549.html" title="Multiple referred from 4 places.">newEncryptionProperties</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L2390" name="L2390"></a>2390             <a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/27995.html" title="Multiple defined in 2 places.">newEncryptionProperties</a>();
<a id="L2391" name="L2391"></a>2391 
<a id="L2392" name="L2392"></a>2392             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32884.html" title="Multiple defined in 18 places.">setId</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID));
<a id="L2393" name="L2393"></a>2393 
<a id="L2394" name="L2394"></a>2394             <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> encryptionPropertyList =
<a id="L2395" name="L2395"></a>2395                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2396" name="L2396"></a>2396                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2397" name="L2397"></a>2397                     <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONPROPERTY);
<a id="L2398" name="L2398"></a>2398             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; encryptionPropertyList.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L2399" name="L2399"></a>2399                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n = encryptionPropertyList.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L2400" name="L2400"></a>2400                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != n) <em class="brace">{</em>
<a id="L2401" name="L2401"></a>2401                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10781.html" title="Multiple defined in 2 places.">addEncryptionProperty</a>(<a href="../D/27996.html" title="Multiple defined in 2 places.">newEncryptionProperty</a>((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) n));
<a id="L2402" name="L2402"></a>2402                 <em class="brace">}</em>
<a id="L2403" name="L2403"></a>2403             <em class="brace">}</em>
<a id="L2404" name="L2404"></a>2404 
<a id="L2405" name="L2405"></a>2405             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2406" name="L2406"></a>2406         <em class="brace">}</em>
<a id="L2407" name="L2407"></a>2407 
<div class="comment">
          @param element
          @return a new EncryptionProperty</div>
<a id="L2412" name="L2412"></a>2412         <a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a> <a href="../R/23550.html" title="Multiple referred from 3 places.">newEncryptionProperty</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L2413" name="L2413"></a>2413             <a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/27996.html" title="Multiple defined in 2 places.">newEncryptionProperty</a>();
<a id="L2414" name="L2414"></a>2414 
<a id="L2415" name="L2415"></a>2415             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/34078.html" title="Multiple defined in 20 places.">setTarget</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_TARGET));
<a id="L2416" name="L2416"></a>2416             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32884.html" title="Multiple defined in 18 places.">setId</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID));
<a id="L2417" name="L2417"></a>2417             <em class="comment">// TODO: Make this lot work...</em>
<a id="L2418" name="L2418"></a>2418             <em class="comment">// &lt;anyAttribute namespace="http://www.w3.org/XML/1998/namespace"/&gt;</em>
<a id="L2419" name="L2419"></a>2419 
<a id="L2420" name="L2420"></a>2420             <em class="comment">// TODO: Make this work...</em>
<a id="L2421" name="L2421"></a>2421             <em class="comment">// &lt;any namespace='##other' processContents='lax'/&gt;</em>
<a id="L2422" name="L2422"></a>2422 
<a id="L2423" name="L2423"></a>2423             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2424" name="L2424"></a>2424         <em class="brace">}</em>
<a id="L2425" name="L2425"></a>2425 
<div class="comment">
          @param element
          @return a new ReferenceList</div>
<a id="L2430" name="L2430"></a>2430         <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> <a href="../R/23603.html" title="Multiple referred from 2 places.">newReferenceList</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L2431" name="L2431"></a>2431             <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = 0;
<a id="L2432" name="L2432"></a>2432             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2433" name="L2433"></a>2433                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2434" name="L2434"></a>2434                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_DATAREFERENCE).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0)) <em class="brace">{</em>
<a id="L2435" name="L2435"></a>2435                 <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a>.DATA_REFERENCE;
<a id="L2436" name="L2436"></a>2436             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2437" name="L2437"></a>2437                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2438" name="L2438"></a>2438                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_KEYREFERENCE).<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(0)) <em class="brace">{</em>
<a id="L2439" name="L2439"></a>2439                 <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a>.KEY_REFERENCE;
<a id="L2440" name="L2440"></a>2440             <em class="brace">}</em>
<a id="L2441" name="L2441"></a>2441 
<a id="L2442" name="L2442"></a>2442             <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/5638.html#L3375" title="Defined at 3375 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">ReferenceListImpl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L2443" name="L2443"></a>2443             <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">null</strong>;
<a id="L2444" name="L2444"></a>2444             <strong class="reserved">switch</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2445" name="L2445"></a>2445             <strong class="reserved">case</strong> <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a>.DATA_REFERENCE:
<a id="L2446" name="L2446"></a>2446                 <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> =
<a id="L2447" name="L2447"></a>2447                     <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2448" name="L2448"></a>2448                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2449" name="L2449"></a>2449                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_DATAREFERENCE);
<a id="L2450" name="L2450"></a>2450                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() ; i++) <em class="brace">{</em>
<a id="L2451" name="L2451"></a>2451                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = ((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i)).<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>("URI");
<a id="L2452" name="L2452"></a>2452                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/27981.html" title="Multiple defined in 2 places.">newDataReference</a>(uri));
<a id="L2453" name="L2453"></a>2453                 <em class="brace">}</em>
<a id="L2454" name="L2454"></a>2454                 <strong class="reserved">break</strong>;
<a id="L2455" name="L2455"></a>2455             <strong class="reserved">case</strong> <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a>.KEY_REFERENCE:
<a id="L2456" name="L2456"></a>2456                 <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> =
<a id="L2457" name="L2457"></a>2457                     <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18714.html" title="Multiple defined in 9 places.">getElementsByTagNameNS</a>(
<a id="L2458" name="L2458"></a>2458                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2459" name="L2459"></a>2459                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_KEYREFERENCE);
<a id="L2460" name="L2460"></a>2460                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() ; i++) <em class="brace">{</em>
<a id="L2461" name="L2461"></a>2461                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = ((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i)).<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>("URI");
<a id="L2462" name="L2462"></a>2462                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/28030.html" title="Multiple defined in 2 places.">newKeyReference</a>(uri));
<a id="L2463" name="L2463"></a>2463                 <em class="brace">}</em>
<a id="L2464" name="L2464"></a>2464             <em class="brace">}</em>
<a id="L2465" name="L2465"></a>2465 
<a id="L2466" name="L2466"></a>2466             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2467" name="L2467"></a>2467         <em class="brace">}</em>
<a id="L2468" name="L2468"></a>2468 
<div class="comment">
          @param encryptedData
          @return the XML Element form of that EncryptedData</div>
<a id="L2473" name="L2473"></a>2473         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>(<a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> encryptedData) <em class="brace">{</em>
<a id="L2474" name="L2474"></a>2474             <strong class="reserved">return</strong> ((<a href="../S/5638.html#L2723" title="Defined at 2723 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptedDataImpl</a>) encryptedData).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>();
<a id="L2475" name="L2475"></a>2475         <em class="brace">}</em>
<a id="L2476" name="L2476"></a>2476 
<div class="comment">
          @param encryptedKey
          @return the XML Element form of that EncryptedKey</div>
<a id="L2481" name="L2481"></a>2481         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>(<a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> encryptedKey) <em class="brace">{</em>
<a id="L2482" name="L2482"></a>2482             <strong class="reserved">return</strong> ((<a href="../S/5638.html#L2774" title="Defined at 2774 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptedKeyImpl</a>) encryptedKey).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>();
<a id="L2483" name="L2483"></a>2483         <em class="brace">}</em>
<a id="L2484" name="L2484"></a>2484 
<div class="comment">
          @param referenceList
          @return the XML Element form of that ReferenceList</div>
<a id="L2489" name="L2489"></a>2489         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>(<a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> referenceList) <em class="brace">{</em>
<a id="L2490" name="L2490"></a>2490             <strong class="reserved">return</strong> ((<a href="../S/5638.html#L3375" title="Defined at 3375 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">ReferenceListImpl</a>) referenceList).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>();
<a id="L2491" name="L2491"></a>2491         <em class="brace">}</em>
<a id="L2492" name="L2492"></a>2492 
<a id="L2493" name="L2493"></a>2493         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../S/5638.html#L2000" title="Referred from 2000 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">AgreementMethodImpl</a> <strong class="reserved">implements</strong> <a href="../S/5633.html#L81" title="Defined at 81 in src/com/sun/org/apache/xml/internal/security/encryption/AgreementMethod.java.">AgreementMethod</a> <em class="brace">{</em>
<a id="L2494" name="L2494"></a>2494             <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] kaNonce = <strong class="reserved">null</strong>;
<a id="L2495" name="L2495"></a>2495             <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; agreementMethodInformation = <strong class="reserved">null</strong>;
<a id="L2496" name="L2496"></a>2496             <strong class="reserved">private</strong> <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> originatorKeyInfo = <strong class="reserved">null</strong>;
<a id="L2497" name="L2497"></a>2497             <strong class="reserved">private</strong> <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> recipientKeyInfo = <strong class="reserved">null</strong>;
<a id="L2498" name="L2498"></a>2498             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithmURI = <strong class="reserved">null</strong>;
<a id="L2499" name="L2499"></a>2499 
<div class="comment">
              @param algorithm</div>
<a id="L2503" name="L2503"></a>2503             <strong class="reserved">public</strong> AgreementMethodImpl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L2504" name="L2504"></a>2504                 agreementMethodInformation = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt;();
<a id="L2505" name="L2505"></a>2505                 <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> tmpAlgorithm = <strong class="reserved">null</strong>;
<a id="L2506" name="L2506"></a>2506                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2507" name="L2507"></a>2507                     tmpAlgorithm = <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(algorithm);
<a id="L2508" name="L2508"></a>2508                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L2509" name="L2509"></a>2509                     <strong class="reserved">throw</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>)
<a id="L2510" name="L2510"></a>2510                     <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>().<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L2511" name="L2511"></a>2511                 <em class="brace">}</em>
<a id="L2512" name="L2512"></a>2512                 algorithmURI = tmpAlgorithm.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2513" name="L2513"></a>2513             <em class="brace">}</em>
<a id="L2514" name="L2514"></a>2514 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2516" name="L2516"></a>2516             <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] getKANonce() <em class="brace">{</em>
<a id="L2517" name="L2517"></a>2517                 <strong class="reserved">return</strong> kaNonce;
<a id="L2518" name="L2518"></a>2518             <em class="brace">}</em>
<a id="L2519" name="L2519"></a>2519 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2521" name="L2521"></a>2521             <strong class="reserved">public</strong> <strong class="reserved">void</strong> setKANonce(<strong class="reserved">byte</strong>[] kanonce) <em class="brace">{</em>
<a id="L2522" name="L2522"></a>2522                 kaNonce = kanonce;
<a id="L2523" name="L2523"></a>2523             <em class="brace">}</em>
<a id="L2524" name="L2524"></a>2524 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2526" name="L2526"></a>2526             <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; getAgreementMethodInformation() <em class="brace">{</em>
<a id="L2527" name="L2527"></a>2527                 <strong class="reserved">return</strong> agreementMethodInformation.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L2528" name="L2528"></a>2528             <em class="brace">}</em>
<a id="L2529" name="L2529"></a>2529 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2531" name="L2531"></a>2531             <strong class="reserved">public</strong> <strong class="reserved">void</strong> addAgreementMethodInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L2532" name="L2532"></a>2532                 agreementMethodInformation.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L2533" name="L2533"></a>2533             <em class="brace">}</em>
<a id="L2534" name="L2534"></a>2534 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2536" name="L2536"></a>2536             <strong class="reserved">public</strong> <strong class="reserved">void</strong> revoveAgreementMethodInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L2537" name="L2537"></a>2537                 agreementMethodInformation.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L2538" name="L2538"></a>2538             <em class="brace">}</em>
<a id="L2539" name="L2539"></a>2539 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2541" name="L2541"></a>2541             <strong class="reserved">public</strong> <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> getOriginatorKeyInfo() <em class="brace">{</em>
<a id="L2542" name="L2542"></a>2542                 <strong class="reserved">return</strong> originatorKeyInfo;
<a id="L2543" name="L2543"></a>2543             <em class="brace">}</em>
<a id="L2544" name="L2544"></a>2544 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2546" name="L2546"></a>2546             <strong class="reserved">public</strong> <strong class="reserved">void</strong> setOriginatorKeyInfo(<a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> keyInfo) <em class="brace">{</em>
<a id="L2547" name="L2547"></a>2547                 originatorKeyInfo = keyInfo;
<a id="L2548" name="L2548"></a>2548             <em class="brace">}</em>
<a id="L2549" name="L2549"></a>2549 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2551" name="L2551"></a>2551             <strong class="reserved">public</strong> <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> getRecipientKeyInfo() <em class="brace">{</em>
<a id="L2552" name="L2552"></a>2552                 <strong class="reserved">return</strong> recipientKeyInfo;
<a id="L2553" name="L2553"></a>2553             <em class="brace">}</em>
<a id="L2554" name="L2554"></a>2554 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2556" name="L2556"></a>2556             <strong class="reserved">public</strong> <strong class="reserved">void</strong> setRecipientKeyInfo(<a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> keyInfo) <em class="brace">{</em>
<a id="L2557" name="L2557"></a>2557                 recipientKeyInfo = keyInfo;
<a id="L2558" name="L2558"></a>2558             <em class="brace">}</em>
<a id="L2559" name="L2559"></a>2559 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2561" name="L2561"></a>2561             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14999.html" title="Multiple referred from 32 places.">getAlgorithm</a>() <em class="brace">{</em>
<a id="L2562" name="L2562"></a>2562                 <strong class="reserved">return</strong> algorithmURI;
<a id="L2563" name="L2563"></a>2563             <em class="brace">}</em>
<a id="L2564" name="L2564"></a>2564         <em class="brace">}</em>
<a id="L2565" name="L2565"></a>2565 
<a id="L2566" name="L2566"></a>2566         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/1364.html" title="Multiple referred from 3 places.">CipherDataImpl</a> <strong class="reserved">implements</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <em class="brace">{</em>
<a id="L2567" name="L2567"></a>2567             <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> valueMessage =
<a id="L2568" name="L2568"></a>2568                 "Data type is reference type.";
<a id="L2569" name="L2569"></a>2569             <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> referenceMessage =
<a id="L2570" name="L2570"></a>2570                 "Data type is value type.";
<a id="L2571" name="L2571"></a>2571             <strong class="reserved">private</strong> <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> cipherValue = <strong class="reserved">null</strong>;
<a id="L2572" name="L2572"></a>2572             <strong class="reserved">private</strong> <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> cipherReference = <strong class="reserved">null</strong>;
<a id="L2573" name="L2573"></a>2573             <strong class="reserved">private</strong> <strong class="reserved">int</strong> cipherType = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE;
<a id="L2574" name="L2574"></a>2574 
<div class="comment">
              @param type</div>
<a id="L2578" name="L2578"></a>2578             <strong class="reserved">public</strong> CipherDataImpl(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2579" name="L2579"></a>2579                 cipherType = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L2580" name="L2580"></a>2580             <em class="brace">}</em>
<a id="L2581" name="L2581"></a>2581 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2583" name="L2583"></a>2583             <strong class="reserved">public</strong> <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> <a href="../R/15573.html" title="Multiple referred from 3 places.">getCipherValue</a>() <em class="brace">{</em>
<a id="L2584" name="L2584"></a>2584                 <strong class="reserved">return</strong> cipherValue;
<a id="L2585" name="L2585"></a>2585             <em class="brace">}</em>
<a id="L2586" name="L2586"></a>2586 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2588" name="L2588"></a>2588             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27038.html" title="Multiple referred from 3 places.">setCipherValue</a>(<a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <strong class="reserved">throws</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L2589" name="L2589"></a>2589 
<a id="L2590" name="L2590"></a>2590                 <strong class="reserved">if</strong> (cipherType == REFERENCE_TYPE) <em class="brace">{</em>
<a id="L2591" name="L2591"></a>2591                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>(
<a id="L2592" name="L2592"></a>2592                         "empty", <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(valueMessage)
<a id="L2593" name="L2593"></a>2593                     );
<a id="L2594" name="L2594"></a>2594                 <em class="brace">}</em>
<a id="L2595" name="L2595"></a>2595 
<a id="L2596" name="L2596"></a>2596                 cipherValue = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2597" name="L2597"></a>2597             <em class="brace">}</em>
<a id="L2598" name="L2598"></a>2598 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2600" name="L2600"></a>2600             <strong class="reserved">public</strong> <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> <a href="../S/5632.html#L125" title="Referred from 125 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipherInput.java.">getCipherReference</a>() <em class="brace">{</em>
<a id="L2601" name="L2601"></a>2601                 <strong class="reserved">return</strong> cipherReference;
<a id="L2602" name="L2602"></a>2602             <em class="brace">}</em>
<a id="L2603" name="L2603"></a>2603 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2605" name="L2605"></a>2605             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27037.html" title="Multiple referred from 3 places.">setCipherReference</a>(<a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> reference) <strong class="reserved">throws</strong>
<a id="L2606" name="L2606"></a>2606             <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a> <em class="brace">{</em>
<a id="L2607" name="L2607"></a>2607                 <strong class="reserved">if</strong> (cipherType == VALUE_TYPE) <em class="brace">{</em>
<a id="L2608" name="L2608"></a>2608                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5630.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/XMLEncryptionException.java.">XMLEncryptionException</a>(
<a id="L2609" name="L2609"></a>2609                         "empty", <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(referenceMessage)
<a id="L2610" name="L2610"></a>2610                     );
<a id="L2611" name="L2611"></a>2611                 <em class="brace">}</em>
<a id="L2612" name="L2612"></a>2612 
<a id="L2613" name="L2613"></a>2613                 cipherReference = reference;
<a id="L2614" name="L2614"></a>2614             <em class="brace">}</em>
<a id="L2615" name="L2615"></a>2615 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2617" name="L2617"></a>2617             <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15953.html" title="Multiple referred from 29 places.">getDataType</a>() <em class="brace">{</em>
<a id="L2618" name="L2618"></a>2618                 <strong class="reserved">return</strong> cipherType;
<a id="L2619" name="L2619"></a>2619             <em class="brace">}</em>
<a id="L2620" name="L2620"></a>2620 
<a id="L2621" name="L2621"></a>2621             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L2622" name="L2622"></a>2622                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L2623" name="L2623"></a>2623                     <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L2624" name="L2624"></a>2624                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERDATA
<a id="L2625" name="L2625"></a>2625                     );
<a id="L2626" name="L2626"></a>2626                 <strong class="reserved">if</strong> (cipherType == VALUE_TYPE) <em class="brace">{</em>
<a id="L2627" name="L2627"></a>2627                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L2692" title="Defined at 2692 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherValueImpl</a>) cipherValue).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2628" name="L2628"></a>2628                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cipherType == REFERENCE_TYPE) <em class="brace">{</em>
<a id="L2629" name="L2629"></a>2629                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L2636" title="Defined at 2636 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherReferenceImpl</a>) cipherReference).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2630" name="L2630"></a>2630                 <em class="brace">}</em>
<a id="L2631" name="L2631"></a>2631 
<a id="L2632" name="L2632"></a>2632                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2633" name="L2633"></a>2633             <em class="brace">}</em>
<a id="L2634" name="L2634"></a>2634         <em class="brace">}</em>
<a id="L2635" name="L2635"></a>2635 
<a id="L2636" name="L2636"></a>2636         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/1366.html" title="Multiple referred from 3 places.">CipherReferenceImpl</a> <strong class="reserved">implements</strong> <a href="../S/5643.html#L61" title="Defined at 61 in src/com/sun/org/apache/xml/internal/security/encryption/CipherReference.java.">CipherReference</a> <em class="brace">{</em>
<a id="L2637" name="L2637"></a>2637             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> referenceURI = <strong class="reserved">null</strong>;
<a id="L2638" name="L2638"></a>2638             <strong class="reserved">private</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> referenceTransforms = <strong class="reserved">null</strong>;
<a id="L2639" name="L2639"></a>2639             <strong class="reserved">private</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> referenceNode = <strong class="reserved">null</strong>;
<a id="L2640" name="L2640"></a>2640 
<div class="comment">
              @param uri</div>
<a id="L2644" name="L2644"></a>2644             <strong class="reserved">public</strong> CipherReferenceImpl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<div class="comment">
                 /* Don't check validity of URI as may be "" */</div>
<a id="L2646" name="L2646"></a>2646                 referenceURI = uri;
<a id="L2647" name="L2647"></a>2647                 referenceNode = <strong class="reserved">null</strong>;
<a id="L2648" name="L2648"></a>2648             <em class="brace">}</em>
<a id="L2649" name="L2649"></a>2649 
<div class="comment">
              @param uri</div>
<a id="L2653" name="L2653"></a>2653             <strong class="reserved">public</strong> CipherReferenceImpl(<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> uri) <em class="brace">{</em>
<a id="L2654" name="L2654"></a>2654                 referenceURI = uri.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L2655" name="L2655"></a>2655                 referenceNode = uri;
<a id="L2656" name="L2656"></a>2656             <em class="brace">}</em>
<a id="L2657" name="L2657"></a>2657 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2659" name="L2659"></a>2659             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19651.html" title="Multiple referred from 112 places.">getURI</a>() <em class="brace">{</em>
<a id="L2660" name="L2660"></a>2660                 <strong class="reserved">return</strong> referenceURI;
<a id="L2661" name="L2661"></a>2661             <em class="brace">}</em>
<a id="L2662" name="L2662"></a>2662 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2664" name="L2664"></a>2664             <strong class="reserved">public</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../S/5632.html#L130" title="Referred from 130 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipherInput.java.">getURIAsAttr</a>() <em class="brace">{</em>
<a id="L2665" name="L2665"></a>2665                 <strong class="reserved">return</strong> referenceNode;
<a id="L2666" name="L2666"></a>2666             <em class="brace">}</em>
<a id="L2667" name="L2667"></a>2667 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2669" name="L2669"></a>2669             <strong class="reserved">public</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> <a href="../R/19573.html" title="Multiple referred from 5 places.">getTransforms</a>() <em class="brace">{</em>
<a id="L2670" name="L2670"></a>2670                 <strong class="reserved">return</strong> referenceTransforms;
<a id="L2671" name="L2671"></a>2671             <em class="brace">}</em>
<a id="L2672" name="L2672"></a>2672 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2674" name="L2674"></a>2674             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5638.html#L2157" title="Referred from 2157 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">setTransforms</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> transforms) <em class="brace">{</em>
<a id="L2675" name="L2675"></a>2675                 referenceTransforms = transforms;
<a id="L2676" name="L2676"></a>2676             <em class="brace">}</em>
<a id="L2677" name="L2677"></a>2677 
<a id="L2678" name="L2678"></a>2678             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L2679" name="L2679"></a>2679                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L2680" name="L2680"></a>2680                     <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L2681" name="L2681"></a>2681                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERREFERENCE
<a id="L2682" name="L2682"></a>2682                     );
<a id="L2683" name="L2683"></a>2683                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_URI, referenceURI);
<a id="L2684" name="L2684"></a>2684                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != referenceTransforms) <em class="brace">{</em>
<a id="L2685" name="L2685"></a>2685                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L3311" title="Defined at 3311 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">TransformsImpl</a>) referenceTransforms).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2686" name="L2686"></a>2686                 <em class="brace">}</em>
<a id="L2687" name="L2687"></a>2687 
<a id="L2688" name="L2688"></a>2688                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2689" name="L2689"></a>2689             <em class="brace">}</em>
<a id="L2690" name="L2690"></a>2690         <em class="brace">}</em>
<a id="L2691" name="L2691"></a>2691 
<a id="L2692" name="L2692"></a>2692         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/1368.html" title="Multiple referred from 2 places.">CipherValueImpl</a> <strong class="reserved">implements</strong> <a href="../S/5629.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/encryption/CipherValue.java.">CipherValue</a> <em class="brace">{</em>
<a id="L2693" name="L2693"></a>2693             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cipherValue = <strong class="reserved">null</strong>;
<a id="L2694" name="L2694"></a>2694 
<div class="comment">
              @param value</div>
<a id="L2698" name="L2698"></a>2698             <strong class="reserved">public</strong> CipherValueImpl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2699" name="L2699"></a>2699                 cipherValue = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2700" name="L2700"></a>2700             <em class="brace">}</em>
<a id="L2701" name="L2701"></a>2701 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2703" name="L2703"></a>2703             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19753.html" title="Multiple referred from 961 places.">getValue</a>() <em class="brace">{</em>
<a id="L2704" name="L2704"></a>2704                 <strong class="reserved">return</strong> cipherValue;
<a id="L2705" name="L2705"></a>2705             <em class="brace">}</em>
<a id="L2706" name="L2706"></a>2706 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2708" name="L2708"></a>2708             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28371.html" title="Multiple referred from 200 places.">setValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2709" name="L2709"></a>2709                 cipherValue = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2710" name="L2710"></a>2710             <em class="brace">}</em>
<a id="L2711" name="L2711"></a>2711 
<a id="L2712" name="L2712"></a>2712             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L2713" name="L2713"></a>2713                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L2714" name="L2714"></a>2714                     <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L2715" name="L2715"></a>2715                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CIPHERVALUE
<a id="L2716" name="L2716"></a>2716                     );
<a id="L2717" name="L2717"></a>2717                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(contextDocument.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(cipherValue));
<a id="L2718" name="L2718"></a>2718 
<a id="L2719" name="L2719"></a>2719                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2720" name="L2720"></a>2720             <em class="brace">}</em>
<a id="L2721" name="L2721"></a>2721         <em class="brace">}</em>
<a id="L2722" name="L2722"></a>2722 
<a id="L2723" name="L2723"></a>2723         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2648.html" title="Multiple referred from 2 places.">EncryptedDataImpl</a> <strong class="reserved">extends</strong> <a href="../S/5638.html#L2873" title="Defined at 2873 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptedTypeImpl</a> <strong class="reserved">implements</strong> <a href="../S/5637.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedData.java.">EncryptedData</a> <em class="brace">{</em>
<a id="L2724" name="L2724"></a>2724 
<div class="comment">
              @param data</div>
<a id="L2728" name="L2728"></a>2728             <strong class="reserved">public</strong> EncryptedDataImpl(<a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L2729" name="L2729"></a>2729                 <strong class="reserved">super</strong>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2730" name="L2730"></a>2730             <em class="brace">}</em>
<a id="L2731" name="L2731"></a>2731 
<a id="L2732" name="L2732"></a>2732             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L2733" name="L2733"></a>2733                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L2734" name="L2734"></a>2734                     <a href="../S/5696.html#L42" title="Defined at 42 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">ElementProxy</a>.<a href="../S/5696.html#L152" title="Defined at 152 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">createElementForFamily</a>(
<a id="L2735" name="L2735"></a>2735                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2736" name="L2736"></a>2736                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTEDDATA
<a id="L2737" name="L2737"></a>2737                     );
<a id="L2738" name="L2738"></a>2738 
<a id="L2739" name="L2739"></a>2739                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>()) <em class="brace">{</em>
<a id="L2740" name="L2740"></a>2740                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID, <strong class="reserved">super</strong>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L2741" name="L2741"></a>2741                 <em class="brace">}</em>
<a id="L2742" name="L2742"></a>2742                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>()) <em class="brace">{</em>
<a id="L2743" name="L2743"></a>2743                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_TYPE, <strong class="reserved">super</strong>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>());
<a id="L2744" name="L2744"></a>2744                 <em class="brace">}</em>
<a id="L2745" name="L2745"></a>2745                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/20626.html" title="Multiple defined in 9 places.">getMimeType</a>()) <em class="brace">{</em>
<a id="L2746" name="L2746"></a>2746                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(
<a id="L2747" name="L2747"></a>2747                         <strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_MIMETYPE, <strong class="reserved">super</strong>.<a href="../D/20626.html" title="Multiple defined in 9 places.">getMimeType</a>()
<a id="L2748" name="L2748"></a>2748                     );
<a id="L2749" name="L2749"></a>2749                 <em class="brace">}</em>
<a id="L2750" name="L2750"></a>2750                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>()) <em class="brace">{</em>
<a id="L2751" name="L2751"></a>2751                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(
<a id="L2752" name="L2752"></a>2752                         <strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ENCODING, <strong class="reserved">super</strong>.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>()
<a id="L2753" name="L2753"></a>2753                     );
<a id="L2754" name="L2754"></a>2754                 <em class="brace">}</em>
<a id="L2755" name="L2755"></a>2755                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>()) <em class="brace">{</em>
<a id="L2756" name="L2756"></a>2756                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(
<a id="L2757" name="L2757"></a>2757                         ((<a href="../S/5638.html#L3033" title="Defined at 3033 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionMethodImpl</a>)<strong class="reserved">super</strong>.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>()
<a id="L2758" name="L2758"></a>2758                     );
<a id="L2759" name="L2759"></a>2759                 <em class="brace">}</em>
<a id="L2760" name="L2760"></a>2760                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/19933.html" title="Multiple defined in 4 places.">getKeyInfo</a>()) <em class="brace">{</em>
<a id="L2761" name="L2761"></a>2761                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(<strong class="reserved">super</strong>.<a href="../D/19933.html" title="Multiple defined in 4 places.">getKeyInfo</a>().<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(<strong class="reserved">true</strong>));
<a id="L2762" name="L2762"></a>2762                 <em class="brace">}</em>
<a id="L2763" name="L2763"></a>2763 
<a id="L2764" name="L2764"></a>2764                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L2566" title="Defined at 2566 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherDataImpl</a>) <strong class="reserved">super</strong>.<a href="../D/17670.html" title="Multiple defined in 2 places.">getCipherData</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2765" name="L2765"></a>2765                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/18762.html" title="Multiple defined in 4 places.">getEncryptionProperties</a>()) <em class="brace">{</em>
<a id="L2766" name="L2766"></a>2766                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L3165" title="Defined at 3165 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionPropertiesImpl</a>)
<a id="L2767" name="L2767"></a>2767                         <strong class="reserved">super</strong>.<a href="../D/18762.html" title="Multiple defined in 4 places.">getEncryptionProperties</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2768" name="L2768"></a>2768                 <em class="brace">}</em>
<a id="L2769" name="L2769"></a>2769 
<a id="L2770" name="L2770"></a>2770                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2771" name="L2771"></a>2771             <em class="brace">}</em>
<a id="L2772" name="L2772"></a>2772         <em class="brace">}</em>
<a id="L2773" name="L2773"></a>2773 
<a id="L2774" name="L2774"></a>2774         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2650.html" title="Multiple referred from 2 places.">EncryptedKeyImpl</a> <strong class="reserved">extends</strong> <a href="../S/5638.html#L2873" title="Defined at 2873 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptedTypeImpl</a> <strong class="reserved">implements</strong> <a href="../S/5627.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptedKey.java.">EncryptedKey</a> <em class="brace">{</em>
<a id="L2775" name="L2775"></a>2775             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> keyRecipient = <strong class="reserved">null</strong>;
<a id="L2776" name="L2776"></a>2776             <strong class="reserved">private</strong> <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> referenceList = <strong class="reserved">null</strong>;
<a id="L2777" name="L2777"></a>2777             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> carriedName = <strong class="reserved">null</strong>;
<a id="L2778" name="L2778"></a>2778 
<div class="comment">
              @param data</div>
<a id="L2782" name="L2782"></a>2782             <strong class="reserved">public</strong> EncryptedKeyImpl(<a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L2783" name="L2783"></a>2783                 <strong class="reserved">super</strong>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2784" name="L2784"></a>2784             <em class="brace">}</em>
<a id="L2785" name="L2785"></a>2785 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2787" name="L2787"></a>2787             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18623.html" title="Multiple referred from 2 places.">getRecipient</a>() <em class="brace">{</em>
<a id="L2788" name="L2788"></a>2788                 <strong class="reserved">return</strong> keyRecipient;
<a id="L2789" name="L2789"></a>2789             <em class="brace">}</em>
<a id="L2790" name="L2790"></a>2790 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2792" name="L2792"></a>2792             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5638.html#L2261" title="Referred from 2261 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">setRecipient</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> recipient) <em class="brace">{</em>
<a id="L2793" name="L2793"></a>2793                 keyRecipient = recipient;
<a id="L2794" name="L2794"></a>2794             <em class="brace">}</em>
<a id="L2795" name="L2795"></a>2795 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2797" name="L2797"></a>2797             <strong class="reserved">public</strong> <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> <a href="../S/5638.html#L2855" title="Referred from 2855 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">getReferenceList</a>() <em class="brace">{</em>
<a id="L2798" name="L2798"></a>2798                 <strong class="reserved">return</strong> referenceList;
<a id="L2799" name="L2799"></a>2799             <em class="brace">}</em>
<a id="L2800" name="L2800"></a>2800 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2802" name="L2802"></a>2802             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5638.html#L2295" title="Referred from 2295 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">setReferenceList</a>(<a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) <em class="brace">{</em>
<a id="L2803" name="L2803"></a>2803                 referenceList = <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>;
<a id="L2804" name="L2804"></a>2804             <em class="brace">}</em>
<a id="L2805" name="L2805"></a>2805 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2807" name="L2807"></a>2807             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getCarriedName() <em class="brace">{</em>
<a id="L2808" name="L2808"></a>2808                 <strong class="reserved">return</strong> carriedName;
<a id="L2809" name="L2809"></a>2809             <em class="brace">}</em>
<a id="L2810" name="L2810"></a>2810 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L2812" name="L2812"></a>2812             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5638.html#L2303" title="Referred from 2303 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">setCarriedName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L2813" name="L2813"></a>2813                 carriedName = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L2814" name="L2814"></a>2814             <em class="brace">}</em>
<a id="L2815" name="L2815"></a>2815 
<a id="L2816" name="L2816"></a>2816             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L2817" name="L2817"></a>2817                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L2818" name="L2818"></a>2818                     <a href="../S/5696.html#L42" title="Defined at 42 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">ElementProxy</a>.<a href="../S/5696.html#L152" title="Defined at 152 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">createElementForFamily</a>(
<a id="L2819" name="L2819"></a>2819                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2820" name="L2820"></a>2820                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTEDKEY
<a id="L2821" name="L2821"></a>2821                     );
<a id="L2822" name="L2822"></a>2822 
<a id="L2823" name="L2823"></a>2823                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>()) <em class="brace">{</em>
<a id="L2824" name="L2824"></a>2824                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID, <strong class="reserved">super</strong>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L2825" name="L2825"></a>2825                 <em class="brace">}</em>
<a id="L2826" name="L2826"></a>2826                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>()) <em class="brace">{</em>
<a id="L2827" name="L2827"></a>2827                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_TYPE, <strong class="reserved">super</strong>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>());
<a id="L2828" name="L2828"></a>2828                 <em class="brace">}</em>
<a id="L2829" name="L2829"></a>2829                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/20626.html" title="Multiple defined in 9 places.">getMimeType</a>()) <em class="brace">{</em>
<a id="L2830" name="L2830"></a>2830                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(
<a id="L2831" name="L2831"></a>2831                         <strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_MIMETYPE, <strong class="reserved">super</strong>.<a href="../D/20626.html" title="Multiple defined in 9 places.">getMimeType</a>()
<a id="L2832" name="L2832"></a>2832                     );
<a id="L2833" name="L2833"></a>2833                 <em class="brace">}</em>
<a id="L2834" name="L2834"></a>2834                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>()) <em class="brace">{</em>
<a id="L2835" name="L2835"></a>2835                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_ENCODING, <strong class="reserved">super</strong>.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>());
<a id="L2836" name="L2836"></a>2836                 <em class="brace">}</em>
<a id="L2837" name="L2837"></a>2837                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <a href="../D/21893.html" title="Multiple defined in 2 places.">getRecipient</a>()) <em class="brace">{</em>
<a id="L2838" name="L2838"></a>2838                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(
<a id="L2839" name="L2839"></a>2839                         <strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_RECIPIENT, <a href="../D/21893.html" title="Multiple defined in 2 places.">getRecipient</a>()
<a id="L2840" name="L2840"></a>2840                     );
<a id="L2841" name="L2841"></a>2841                 <em class="brace">}</em>
<a id="L2842" name="L2842"></a>2842                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>()) <em class="brace">{</em>
<a id="L2843" name="L2843"></a>2843                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L3033" title="Defined at 3033 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionMethodImpl</a>)
<a id="L2844" name="L2844"></a>2844                         <strong class="reserved">super</strong>.<a href="../D/18760.html" title="Multiple defined in 2 places.">getEncryptionMethod</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2845" name="L2845"></a>2845                 <em class="brace">}</em>
<a id="L2846" name="L2846"></a>2846                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/19933.html" title="Multiple defined in 4 places.">getKeyInfo</a>()) <em class="brace">{</em>
<a id="L2847" name="L2847"></a>2847                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(<strong class="reserved">super</strong>.<a href="../D/19933.html" title="Multiple defined in 4 places.">getKeyInfo</a>().<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(<strong class="reserved">true</strong>));
<a id="L2848" name="L2848"></a>2848                 <em class="brace">}</em>
<a id="L2849" name="L2849"></a>2849                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L2566" title="Defined at 2566 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">CipherDataImpl</a>) <strong class="reserved">super</strong>.<a href="../D/17670.html" title="Multiple defined in 2 places.">getCipherData</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2850" name="L2850"></a>2850                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <strong class="reserved">super</strong>.<a href="../D/18762.html" title="Multiple defined in 4 places.">getEncryptionProperties</a>()) <em class="brace">{</em>
<a id="L2851" name="L2851"></a>2851                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L3165" title="Defined at 3165 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionPropertiesImpl</a>)
<a id="L2852" name="L2852"></a>2852                         <strong class="reserved">super</strong>.<a href="../D/18762.html" title="Multiple defined in 4 places.">getEncryptionProperties</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2853" name="L2853"></a>2853                 <em class="brace">}</em>
<a id="L2854" name="L2854"></a>2854                 <strong class="reserved">if</strong> (referenceList != <strong class="reserved">null</strong> &amp;&amp; !referenceList.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L2855" name="L2855"></a>2855                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L3375" title="Defined at 3375 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">ReferenceListImpl</a>)<a href="../D/21917.html" title="Multiple defined in 2 places.">getReferenceList</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L2856" name="L2856"></a>2856                 <em class="brace">}</em>
<a id="L2857" name="L2857"></a>2857                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != carriedName) <em class="brace">{</em>
<a id="L2858" name="L2858"></a>2858                     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> =
<a id="L2859" name="L2859"></a>2859                         <a href="../S/5696.html#L42" title="Defined at 42 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">ElementProxy</a>.<a href="../S/5696.html#L152" title="Defined at 152 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">createElementForFamily</a>(
<a id="L2860" name="L2860"></a>2860                             contextDocument,
<a id="L2861" name="L2861"></a>2861                             <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L2862" name="L2862"></a>2862                             <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_CARRIEDKEYNAME
<a id="L2863" name="L2863"></a>2863                         );
<a id="L2864" name="L2864"></a>2864                     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = contextDocument.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(carriedName);
<a id="L2865" name="L2865"></a>2865                     <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L2866" name="L2866"></a>2866                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L2867" name="L2867"></a>2867                 <em class="brace">}</em>
<a id="L2868" name="L2868"></a>2868 
<a id="L2869" name="L2869"></a>2869                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2870" name="L2870"></a>2870             <em class="brace">}</em>
<a id="L2871" name="L2871"></a>2871         <em class="brace">}</em>
<a id="L2872" name="L2872"></a>2872 
<a id="L2873" name="L2873"></a>2873         <strong class="reserved">private</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/2653.html" title="Multiple referred from 2 places.">EncryptedTypeImpl</a> <em class="brace">{</em>
<a id="L2874" name="L2874"></a>2874             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> =  <strong class="reserved">null</strong>;
<a id="L2875" name="L2875"></a>2875             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L2876" name="L2876"></a>2876             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mimeType = <strong class="reserved">null</strong>;
<a id="L2877" name="L2877"></a>2877             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a> = <strong class="reserved">null</strong>;
<a id="L2878" name="L2878"></a>2878             <strong class="reserved">private</strong> <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> encryptionMethod = <strong class="reserved">null</strong>;
<a id="L2879" name="L2879"></a>2879             <strong class="reserved">private</strong> <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> keyInfo = <strong class="reserved">null</strong>;
<a id="L2880" name="L2880"></a>2880             <strong class="reserved">private</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> cipherData = <strong class="reserved">null</strong>;
<a id="L2881" name="L2881"></a>2881             <strong class="reserved">private</strong> <a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> encryptionProperties = <strong class="reserved">null</strong>;
<a id="L2882" name="L2882"></a>2882 
<div class="comment">
              Constructor.
              @param data</div>
<a id="L2887" name="L2887"></a>2887             <strong class="reserved">protected</strong> EncryptedTypeImpl(<a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L2888" name="L2888"></a>2888                 cipherData = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L2889" name="L2889"></a>2889             <em class="brace">}</em>
<a id="L2890" name="L2890"></a>2890 
<div class="comment">
              @return the Id</div>
<a id="L2895" name="L2895"></a>2895             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16968.html" title="Multiple referred from 227 places.">getId</a>() <em class="brace">{</em>
<a id="L2896" name="L2896"></a>2896                 <strong class="reserved">return</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L2897" name="L2897"></a>2897             <em class="brace">}</em>
<a id="L2898" name="L2898"></a>2898 
<div class="comment">
              @param id</div>
<a id="L2903" name="L2903"></a>2903             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27527.html" title="Multiple referred from 22 places.">setId</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L2904" name="L2904"></a>2904                 <strong class="reserved">this</strong>.<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L2905" name="L2905"></a>2905             <em class="brace">}</em>
<a id="L2906" name="L2906"></a>2906 
<div class="comment">
              @return the type</div>
<a id="L2911" name="L2911"></a>2911             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em>
<a id="L2912" name="L2912"></a>2912                 <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L2913" name="L2913"></a>2913             <em class="brace">}</em>
<a id="L2914" name="L2914"></a>2914 
<div class="comment">
              @param type</div>
<a id="L2919" name="L2919"></a>2919             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28332.html" title="Multiple referred from 31 places.">setType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2920" name="L2920"></a>2920                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong> || <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L2921" name="L2921"></a>2921                     <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L2922" name="L2922"></a>2922                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2923" name="L2923"></a>2923                     <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> tmpType = <strong class="reserved">null</strong>;
<a id="L2924" name="L2924"></a>2924                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2925" name="L2925"></a>2925                         tmpType = <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L2926" name="L2926"></a>2926                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L2927" name="L2927"></a>2927                         <strong class="reserved">throw</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>)
<a id="L2928" name="L2928"></a>2928                         <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>().<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L2929" name="L2929"></a>2929                     <em class="brace">}</em>
<a id="L2930" name="L2930"></a>2930                     <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = tmpType.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2931" name="L2931"></a>2931                 <em class="brace">}</em>
<a id="L2932" name="L2932"></a>2932             <em class="brace">}</em>
<a id="L2933" name="L2933"></a>2933 
<div class="comment">
              @return the MimeType</div>
<a id="L2938" name="L2938"></a>2938             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17707.html" title="Multiple referred from 10 places.">getMimeType</a>() <em class="brace">{</em>
<a id="L2939" name="L2939"></a>2939                 <strong class="reserved">return</strong> mimeType;
<a id="L2940" name="L2940"></a>2940             <em class="brace">}</em>
<div class="comment">
              @param type</div>
<a id="L2945" name="L2945"></a>2945             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27752.html" title="Multiple referred from 2 places.">setMimeType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2946" name="L2946"></a>2946                 mimeType = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L2947" name="L2947"></a>2947             <em class="brace">}</em>
<a id="L2948" name="L2948"></a>2948 
<div class="comment">
              @return the encoding</div>
<a id="L2953" name="L2953"></a>2953             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16356.html" title="Multiple referred from 82 places.">getEncoding</a>() <em class="brace">{</em>
<a id="L2954" name="L2954"></a>2954                 <strong class="reserved">return</strong> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>;
<a id="L2955" name="L2955"></a>2955             <em class="brace">}</em>
<a id="L2956" name="L2956"></a>2956 
<div class="comment">
              @param encoding</div>
<a id="L2961" name="L2961"></a>2961             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27319.html" title="Multiple referred from 47 places.">setEncoding</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>) <em class="brace">{</em>
<a id="L2962" name="L2962"></a>2962                 <strong class="reserved">if</strong> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a> == <strong class="reserved">null</strong> || <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L2963" name="L2963"></a>2963                     <strong class="reserved">this</strong>.<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a> = <strong class="reserved">null</strong>;
<a id="L2964" name="L2964"></a>2964                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2965" name="L2965"></a>2965                     <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> tmpEncoding = <strong class="reserved">null</strong>;
<a id="L2966" name="L2966"></a>2966                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2967" name="L2967"></a>2967                         tmpEncoding = <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L2968" name="L2968"></a>2968                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L2969" name="L2969"></a>2969                         <strong class="reserved">throw</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>)
<a id="L2970" name="L2970"></a>2970                         <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>().<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L2971" name="L2971"></a>2971                     <em class="brace">}</em>
<a id="L2972" name="L2972"></a>2972                     <strong class="reserved">this</strong>.<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a> = tmpEncoding.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2973" name="L2973"></a>2973                 <em class="brace">}</em>
<a id="L2974" name="L2974"></a>2974             <em class="brace">}</em>
<a id="L2975" name="L2975"></a>2975 
<div class="comment">
              @return the EncryptionMethod</div>
<a id="L2980" name="L2980"></a>2980             <strong class="reserved">public</strong> <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> <a href="../R/16361.html" title="Multiple referred from 12 places.">getEncryptionMethod</a>() <em class="brace">{</em>
<a id="L2981" name="L2981"></a>2981                 <strong class="reserved">return</strong> encryptionMethod;
<a id="L2982" name="L2982"></a>2982             <em class="brace">}</em>
<a id="L2983" name="L2983"></a>2983 
<div class="comment">
              @param method</div>
<a id="L2988" name="L2988"></a>2988             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27321.html" title="Multiple referred from 4 places.">setEncryptionMethod</a>(<a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> method) <em class="brace">{</em>
<a id="L2989" name="L2989"></a>2989                 encryptionMethod = method;
<a id="L2990" name="L2990"></a>2990             <em class="brace">}</em>
<a id="L2991" name="L2991"></a>2991 
<div class="comment">
              @return the KeyInfo</div>
<a id="L2996" name="L2996"></a>2996             <strong class="reserved">public</strong> <a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> <a href="../R/17233.html" title="Multiple referred from 8 places.">getKeyInfo</a>() <em class="brace">{</em>
<a id="L2997" name="L2997"></a>2997                 <strong class="reserved">return</strong> keyInfo;
<a id="L2998" name="L2998"></a>2998             <em class="brace">}</em>
<a id="L2999" name="L2999"></a>2999 
<div class="comment">
              @param info</div>
<a id="L3004" name="L3004"></a>3004             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27623.html" title="Multiple referred from 2 places.">setKeyInfo</a>(<a href="../D/4801.html" title="Multiple defined in 2 places.">KeyInfo</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L3005" name="L3005"></a>3005                 keyInfo = <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>;
<a id="L3006" name="L3006"></a>3006             <em class="brace">}</em>
<a id="L3007" name="L3007"></a>3007 
<div class="comment">
              @return the CipherData</div>
<a id="L3012" name="L3012"></a>3012             <strong class="reserved">public</strong> <a href="../S/5634.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/security/encryption/CipherData.java.">CipherData</a> <a href="../R/15571.html" title="Multiple referred from 5 places.">getCipherData</a>() <em class="brace">{</em>
<a id="L3013" name="L3013"></a>3013                 <strong class="reserved">return</strong> cipherData;
<a id="L3014" name="L3014"></a>3014             <em class="brace">}</em>
<a id="L3015" name="L3015"></a>3015 
<div class="comment">
              @return the EncryptionProperties</div>
<a id="L3020" name="L3020"></a>3020             <strong class="reserved">public</strong> <a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> <a href="../R/16362.html" title="Multiple referred from 5 places.">getEncryptionProperties</a>() <em class="brace">{</em>
<a id="L3021" name="L3021"></a>3021                 <strong class="reserved">return</strong> encryptionProperties;
<a id="L3022" name="L3022"></a>3022             <em class="brace">}</em>
<a id="L3023" name="L3023"></a>3023 
<div class="comment">
              @param properties</div>
<a id="L3028" name="L3028"></a>3028             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27322.html" title="Multiple referred from 2 places.">setEncryptionProperties</a>(<a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> <a href="../D/29897.html" title="Multiple defined in 5 places.">properties</a>) <em class="brace">{</em>
<a id="L3029" name="L3029"></a>3029                 encryptionProperties = <a href="../D/29897.html" title="Multiple defined in 5 places.">properties</a>;
<a id="L3030" name="L3030"></a>3030             <em class="brace">}</em>
<a id="L3031" name="L3031"></a>3031         <em class="brace">}</em>
<a id="L3032" name="L3032"></a>3032 
<a id="L3033" name="L3033"></a>3033         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2656.html" title="Multiple referred from 3 places.">EncryptionMethodImpl</a> <strong class="reserved">implements</strong> <a href="../S/5625.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionMethod.java.">EncryptionMethod</a> <em class="brace">{</em>
<a id="L3034" name="L3034"></a>3034             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm = <strong class="reserved">null</strong>;
<a id="L3035" name="L3035"></a>3035             <strong class="reserved">private</strong> <strong class="reserved">int</strong> keySize = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE;
<a id="L3036" name="L3036"></a>3036             <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] oaepParams = <strong class="reserved">null</strong>;
<a id="L3037" name="L3037"></a>3037             <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; encryptionMethodInformation = <strong class="reserved">null</strong>;
<a id="L3038" name="L3038"></a>3038             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestAlgorithm = <strong class="reserved">null</strong>;
<a id="L3039" name="L3039"></a>3039             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mgfAlgorithm = <strong class="reserved">null</strong>;
<a id="L3040" name="L3040"></a>3040 
<div class="comment">
              Constructor.
              @param algorithm</div>
<a id="L3045" name="L3045"></a>3045             <strong class="reserved">public</strong> EncryptionMethodImpl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L3046" name="L3046"></a>3046                 <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> tmpAlgorithm = <strong class="reserved">null</strong>;
<a id="L3047" name="L3047"></a>3047                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3048" name="L3048"></a>3048                     tmpAlgorithm = <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(algorithm);
<a id="L3049" name="L3049"></a>3049                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L3050" name="L3050"></a>3050                     <strong class="reserved">throw</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>)
<a id="L3051" name="L3051"></a>3051                     <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>().<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L3052" name="L3052"></a>3052                 <em class="brace">}</em>
<a id="L3053" name="L3053"></a>3053                 <strong class="reserved">this</strong>.algorithm = tmpAlgorithm.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L3054" name="L3054"></a>3054                 encryptionMethodInformation = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt;();
<a id="L3055" name="L3055"></a>3055             <em class="brace">}</em>
<a id="L3056" name="L3056"></a>3056 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3058" name="L3058"></a>3058             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14999.html" title="Multiple referred from 32 places.">getAlgorithm</a>() <em class="brace">{</em>
<a id="L3059" name="L3059"></a>3059                 <strong class="reserved">return</strong> algorithm;
<a id="L3060" name="L3060"></a>3060             <em class="brace">}</em>
<a id="L3061" name="L3061"></a>3061 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3063" name="L3063"></a>3063             <strong class="reserved">public</strong> <strong class="reserved">int</strong> getKeySize() <em class="brace">{</em>
<a id="L3064" name="L3064"></a>3064                 <strong class="reserved">return</strong> keySize;
<a id="L3065" name="L3065"></a>3065             <em class="brace">}</em>
<a id="L3066" name="L3066"></a>3066 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3068" name="L3068"></a>3068             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5638.html#L2343" title="Referred from 2343 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">setKeySize</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L3069" name="L3069"></a>3069                 keySize = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L3070" name="L3070"></a>3070             <em class="brace">}</em>
<a id="L3071" name="L3071"></a>3071 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3073" name="L3073"></a>3073             <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] <a href="../S/5638.html#L1471" title="Referred from 1471 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">getOAEPparams</a>() <em class="brace">{</em>
<a id="L3074" name="L3074"></a>3074                 <strong class="reserved">return</strong> oaepParams;
<a id="L3075" name="L3075"></a>3075             <em class="brace">}</em>
<a id="L3076" name="L3076"></a>3076 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3078" name="L3078"></a>3078             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27839.html" title="Multiple referred from 2 places.">setOAEPparams</a>(<strong class="reserved">byte</strong>[] <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>) <em class="brace">{</em>
<a id="L3079" name="L3079"></a>3079                 oaepParams = <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>;
<a id="L3080" name="L3080"></a>3080             <em class="brace">}</em>
<a id="L3081" name="L3081"></a>3081 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3083" name="L3083"></a>3083             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27235.html" title="Multiple referred from 3 places.">setDigestAlgorithm</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> digestAlgorithm) <em class="brace">{</em>
<a id="L3084" name="L3084"></a>3084                 <strong class="reserved">this</strong>.digestAlgorithm = digestAlgorithm;
<a id="L3085" name="L3085"></a>3085             <em class="brace">}</em>
<a id="L3086" name="L3086"></a>3086 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3088" name="L3088"></a>3088             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16148.html" title="Multiple referred from 2 places.">getDigestAlgorithm</a>() <em class="brace">{</em>
<a id="L3089" name="L3089"></a>3089                 <strong class="reserved">return</strong> digestAlgorithm;
<a id="L3090" name="L3090"></a>3090             <em class="brace">}</em>
<a id="L3091" name="L3091"></a>3091 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3093" name="L3093"></a>3093             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27708.html" title="Multiple referred from 2 places.">setMGFAlgorithm</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mgfAlgorithm) <em class="brace">{</em>
<a id="L3094" name="L3094"></a>3094                 <strong class="reserved">this</strong>.mgfAlgorithm = mgfAlgorithm;
<a id="L3095" name="L3095"></a>3095             <em class="brace">}</em>
<a id="L3096" name="L3096"></a>3096 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3098" name="L3098"></a>3098             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/5638.html#L1471" title="Referred from 1471 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">getMGFAlgorithm</a>() <em class="brace">{</em>
<a id="L3099" name="L3099"></a>3099                 <strong class="reserved">return</strong> mgfAlgorithm;
<a id="L3100" name="L3100"></a>3100             <em class="brace">}</em>
<a id="L3101" name="L3101"></a>3101 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3103" name="L3103"></a>3103             <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; getEncryptionMethodInformation() <em class="brace">{</em>
<a id="L3104" name="L3104"></a>3104                 <strong class="reserved">return</strong> encryptionMethodInformation.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L3105" name="L3105"></a>3105             <em class="brace">}</em>
<a id="L3106" name="L3106"></a>3106 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3108" name="L3108"></a>3108             <strong class="reserved">public</strong> <strong class="reserved">void</strong> addEncryptionMethodInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L3109" name="L3109"></a>3109                 encryptionMethodInformation.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L3110" name="L3110"></a>3110             <em class="brace">}</em>
<a id="L3111" name="L3111"></a>3111 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3113" name="L3113"></a>3113             <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeEncryptionMethodInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L3114" name="L3114"></a>3114                 encryptionMethodInformation.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L3115" name="L3115"></a>3115             <em class="brace">}</em>
<a id="L3116" name="L3116"></a>3116 
<a id="L3117" name="L3117"></a>3117             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L3118" name="L3118"></a>3118                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L3119" name="L3119"></a>3119                     <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L3120" name="L3120"></a>3120                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONMETHOD
<a id="L3121" name="L3121"></a>3121                     );
<a id="L3122" name="L3122"></a>3122                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ALGORITHM, algorithm);
<a id="L3123" name="L3123"></a>3123                 <strong class="reserved">if</strong> (keySize &gt; 0) <em class="brace">{</em>
<a id="L3124" name="L3124"></a>3124                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(
<a id="L3125" name="L3125"></a>3125                         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L3126" name="L3126"></a>3126                             contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_KEYSIZE
<a id="L3127" name="L3127"></a>3127                     ).<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(contextDocument.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(keySize))));
<a id="L3128" name="L3128"></a>3128                 <em class="brace">}</em>
<a id="L3129" name="L3129"></a>3129                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != oaepParams) <em class="brace">{</em>
<a id="L3130" name="L3130"></a>3130                     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> oaepElement =
<a id="L3131" name="L3131"></a>3131                         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L3132" name="L3132"></a>3132                             contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_OAEPPARAMS
<a id="L3133" name="L3133"></a>3133                         );
<a id="L3134" name="L3134"></a>3134                     oaepElement.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(contextDocument.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(<a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/15393.html" title="Multiple defined in 39 places.">encode</a>(oaepParams)));
<a id="L3135" name="L3135"></a>3135                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(oaepElement);
<a id="L3136" name="L3136"></a>3136                 <em class="brace">}</em>
<a id="L3137" name="L3137"></a>3137                 <strong class="reserved">if</strong> (digestAlgorithm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3138" name="L3138"></a>3138                     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> digestElement =
<a id="L3139" name="L3139"></a>3139                         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInSignatureSpace</a>(contextDocument, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_DIGESTMETHOD);
<a id="L3140" name="L3140"></a>3140                     digestElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, "Algorithm", digestAlgorithm);
<a id="L3141" name="L3141"></a>3141                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(digestElement);
<a id="L3142" name="L3142"></a>3142                 <em class="brace">}</em>
<a id="L3143" name="L3143"></a>3143                 <strong class="reserved">if</strong> (mgfAlgorithm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3144" name="L3144"></a>3144                     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> mgfElement =
<a id="L3145" name="L3145"></a>3145                         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L353" title="Defined at 353 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryption11Space</a>(
<a id="L3146" name="L3146"></a>3146                             contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_MGF
<a id="L3147" name="L3147"></a>3147                         );
<a id="L3148" name="L3148"></a>3148                     mgfElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, "Algorithm", mgfAlgorithm);
<a id="L3149" name="L3149"></a>3149                     mgfElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(
<a id="L3150" name="L3150"></a>3150                         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.NamespaceSpecNS,
<a id="L3151" name="L3151"></a>3151                         "xmlns:" + <a href="../S/5696.html#L42" title="Defined at 42 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">ElementProxy</a>.<a href="../S/5696.html#L517" title="Defined at 517 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">getDefaultPrefix</a>(<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpec11NS),
<a id="L3152" name="L3152"></a>3152                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpec11NS
<a id="L3153" name="L3153"></a>3153                     );
<a id="L3154" name="L3154"></a>3154                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(mgfElement);
<a id="L3155" name="L3155"></a>3155                 <em class="brace">}</em>
<a id="L3156" name="L3156"></a>3156                 <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; itr = encryptionMethodInformation.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L3157" name="L3157"></a>3157                 <strong class="reserved">while</strong> (itr.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L3158" name="L3158"></a>3158                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(itr.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>());
<a id="L3159" name="L3159"></a>3159                 <em class="brace">}</em>
<a id="L3160" name="L3160"></a>3160 
<a id="L3161" name="L3161"></a>3161                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L3162" name="L3162"></a>3162             <em class="brace">}</em>
<a id="L3163" name="L3163"></a>3163         <em class="brace">}</em>
<a id="L3164" name="L3164"></a>3164 
<a id="L3165" name="L3165"></a>3165         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2658.html" title="Multiple referred from 3 places.">EncryptionPropertiesImpl</a> <strong class="reserved">implements</strong> <a href="../S/5639.html#L48" title="Defined at 48 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperties.java.">EncryptionProperties</a> <em class="brace">{</em>
<a id="L3166" name="L3166"></a>3166             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <strong class="reserved">null</strong>;
<a id="L3167" name="L3167"></a>3167             <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a>&gt; encryptionProperties = <strong class="reserved">null</strong>;
<a id="L3168" name="L3168"></a>3168 
<div class="comment">
              Constructor.</div>
<a id="L3172" name="L3172"></a>3172             <strong class="reserved">public</strong> EncryptionPropertiesImpl() <em class="brace">{</em>
<a id="L3173" name="L3173"></a>3173                 encryptionProperties = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a>&gt;();
<a id="L3174" name="L3174"></a>3174             <em class="brace">}</em>
<a id="L3175" name="L3175"></a>3175 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3177" name="L3177"></a>3177             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16968.html" title="Multiple referred from 227 places.">getId</a>() <em class="brace">{</em>
<a id="L3178" name="L3178"></a>3178                 <strong class="reserved">return</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L3179" name="L3179"></a>3179             <em class="brace">}</em>
<a id="L3180" name="L3180"></a>3180 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3182" name="L3182"></a>3182             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27527.html" title="Multiple referred from 22 places.">setId</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L3183" name="L3183"></a>3183                 <strong class="reserved">this</strong>.<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L3184" name="L3184"></a>3184             <em class="brace">}</em>
<a id="L3185" name="L3185"></a>3185 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3187" name="L3187"></a>3187             <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a>&gt; <a href="../R/16362.html" title="Multiple referred from 5 places.">getEncryptionProperties</a>() <em class="brace">{</em>
<a id="L3188" name="L3188"></a>3188                 <strong class="reserved">return</strong> encryptionProperties.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L3189" name="L3189"></a>3189             <em class="brace">}</em>
<a id="L3190" name="L3190"></a>3190 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3192" name="L3192"></a>3192             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5638.html#L2401" title="Referred from 2401 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">addEncryptionProperty</a>(<a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a> property) <em class="brace">{</em>
<a id="L3193" name="L3193"></a>3193                 encryptionProperties.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(property);
<a id="L3194" name="L3194"></a>3194             <em class="brace">}</em>
<a id="L3195" name="L3195"></a>3195 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3197" name="L3197"></a>3197             <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeEncryptionProperty(<a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a> property) <em class="brace">{</em>
<a id="L3198" name="L3198"></a>3198                 encryptionProperties.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(property);
<a id="L3199" name="L3199"></a>3199             <em class="brace">}</em>
<a id="L3200" name="L3200"></a>3200 
<a id="L3201" name="L3201"></a>3201             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L3202" name="L3202"></a>3202                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L3203" name="L3203"></a>3203                     <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L3204" name="L3204"></a>3204                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONPROPERTIES
<a id="L3205" name="L3205"></a>3205                     );
<a id="L3206" name="L3206"></a>3206                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L3207" name="L3207"></a>3207                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID, <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L3208" name="L3208"></a>3208                 <em class="brace">}</em>
<a id="L3209" name="L3209"></a>3209                 <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a>&gt; itr = <a href="../D/18762.html" title="Multiple defined in 4 places.">getEncryptionProperties</a>();
<a id="L3210" name="L3210"></a>3210                 <strong class="reserved">while</strong> (itr.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L3211" name="L3211"></a>3211                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L3218" title="Defined at 3218 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">EncryptionPropertyImpl</a>)itr.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>()).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L3212" name="L3212"></a>3212                 <em class="brace">}</em>
<a id="L3213" name="L3213"></a>3213 
<a id="L3214" name="L3214"></a>3214                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L3215" name="L3215"></a>3215             <em class="brace">}</em>
<a id="L3216" name="L3216"></a>3216         <em class="brace">}</em>
<a id="L3217" name="L3217"></a>3217 
<a id="L3218" name="L3218"></a>3218         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2660.html" title="Multiple referred from 2 places.">EncryptionPropertyImpl</a> <strong class="reserved">implements</strong> <a href="../S/5641.html#L53" title="Defined at 53 in src/com/sun/org/apache/xml/internal/security/encryption/EncryptionProperty.java.">EncryptionProperty</a> <em class="brace">{</em>
<a id="L3219" name="L3219"></a>3219             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> = <strong class="reserved">null</strong>;
<a id="L3220" name="L3220"></a>3220             <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <strong class="reserved">null</strong>;
<a id="L3221" name="L3221"></a>3221             <strong class="reserved">private</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; attributeMap = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;();
<a id="L3222" name="L3222"></a>3222             <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; encryptionInformation = <strong class="reserved">null</strong>;
<a id="L3223" name="L3223"></a>3223 
<div class="comment">
              Constructor.</div>
<a id="L3227" name="L3227"></a>3227             <strong class="reserved">public</strong> EncryptionPropertyImpl() <em class="brace">{</em>
<a id="L3228" name="L3228"></a>3228                 encryptionInformation = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt;();
<a id="L3229" name="L3229"></a>3229             <em class="brace">}</em>
<a id="L3230" name="L3230"></a>3230 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3232" name="L3232"></a>3232             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19386.html" title="Multiple referred from 53 places.">getTarget</a>() <em class="brace">{</em>
<a id="L3233" name="L3233"></a>3233                 <strong class="reserved">return</strong> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>;
<a id="L3234" name="L3234"></a>3234             <em class="brace">}</em>
<a id="L3235" name="L3235"></a>3235 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3237" name="L3237"></a>3237             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28260.html" title="Multiple referred from 68 places.">setTarget</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>) <em class="brace">{</em>
<a id="L3238" name="L3238"></a>3238                 <strong class="reserved">if</strong> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> == <strong class="reserved">null</strong> || <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L3239" name="L3239"></a>3239                     <strong class="reserved">this</strong>.<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> = <strong class="reserved">null</strong>;
<a id="L3240" name="L3240"></a>3240                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("#")) <em class="brace">{</em>
<div class="comment">
                      This is a same document URI reference. Do not parse,
                      because it has no scheme.</div>
<a id="L3245" name="L3245"></a>3245                     <strong class="reserved">this</strong>.<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> = <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>;
<a id="L3246" name="L3246"></a>3246                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3247" name="L3247"></a>3247                     <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> tmpTarget = <strong class="reserved">null</strong>;
<a id="L3248" name="L3248"></a>3248                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3249" name="L3249"></a>3249                         tmpTarget = <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>);
<a id="L3250" name="L3250"></a>3250                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L3251" name="L3251"></a>3251                         <strong class="reserved">throw</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>)
<a id="L3252" name="L3252"></a>3252                         <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>().<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L3253" name="L3253"></a>3253                     <em class="brace">}</em>
<a id="L3254" name="L3254"></a>3254                     <strong class="reserved">this</strong>.<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> = tmpTarget.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L3255" name="L3255"></a>3255                 <em class="brace">}</em>
<a id="L3256" name="L3256"></a>3256             <em class="brace">}</em>
<a id="L3257" name="L3257"></a>3257 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3259" name="L3259"></a>3259             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16968.html" title="Multiple referred from 227 places.">getId</a>() <em class="brace">{</em>
<a id="L3260" name="L3260"></a>3260                 <strong class="reserved">return</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L3261" name="L3261"></a>3261             <em class="brace">}</em>
<a id="L3262" name="L3262"></a>3262 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3264" name="L3264"></a>3264             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27527.html" title="Multiple referred from 22 places.">setId</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L3265" name="L3265"></a>3265                 <strong class="reserved">this</strong>.<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L3266" name="L3266"></a>3266             <em class="brace">}</em>
<a id="L3267" name="L3267"></a>3267 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3269" name="L3269"></a>3269             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15136.html" title="Multiple referred from 528 places.">getAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>) <em class="brace">{</em>
<a id="L3270" name="L3270"></a>3270                 <strong class="reserved">return</strong> attributeMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>);
<a id="L3271" name="L3271"></a>3271             <em class="brace">}</em>
<a id="L3272" name="L3272"></a>3272 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3274" name="L3274"></a>3274             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26918.html" title="Multiple referred from 340 places.">setAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L3275" name="L3275"></a>3275                 attributeMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L3276" name="L3276"></a>3276             <em class="brace">}</em>
<a id="L3277" name="L3277"></a>3277 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3279" name="L3279"></a>3279             <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; getEncryptionInformation() <em class="brace">{</em>
<a id="L3280" name="L3280"></a>3280                 <strong class="reserved">return</strong> encryptionInformation.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L3281" name="L3281"></a>3281             <em class="brace">}</em>
<a id="L3282" name="L3282"></a>3282 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3284" name="L3284"></a>3284             <strong class="reserved">public</strong> <strong class="reserved">void</strong> addEncryptionInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L3285" name="L3285"></a>3285                 encryptionInformation.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L3286" name="L3286"></a>3286             <em class="brace">}</em>
<a id="L3287" name="L3287"></a>3287 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3289" name="L3289"></a>3289             <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeEncryptionInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L3290" name="L3290"></a>3290                 encryptionInformation.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L3291" name="L3291"></a>3291             <em class="brace">}</em>
<a id="L3292" name="L3292"></a>3292 
<a id="L3293" name="L3293"></a>3293             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L3294" name="L3294"></a>3294                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L3295" name="L3295"></a>3295                     <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L332" title="Defined at 332 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInEncryptionSpace</a>(
<a id="L3296" name="L3296"></a>3296                         contextDocument, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_ENCRYPTIONPROPERTY
<a id="L3297" name="L3297"></a>3297                     );
<a id="L3298" name="L3298"></a>3298                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>) <em class="brace">{</em>
<a id="L3299" name="L3299"></a>3299                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_TARGET, <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>);
<a id="L3300" name="L3300"></a>3300                 <em class="brace">}</em>
<a id="L3301" name="L3301"></a>3301                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L3302" name="L3302"></a>3302                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_ID, <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L3303" name="L3303"></a>3303                 <em class="brace">}</em>
<a id="L3304" name="L3304"></a>3304                 <em class="comment">// TODO: figure out the anyAttribyte stuff...</em>
<a id="L3305" name="L3305"></a>3305                 <em class="comment">// TODO: figure out the any stuff...</em>
<a id="L3306" name="L3306"></a>3306 
<a id="L3307" name="L3307"></a>3307                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L3308" name="L3308"></a>3308             <em class="brace">}</em>
<a id="L3309" name="L3309"></a>3309         <em class="brace">}</em>
<a id="L3310" name="L3310"></a>3310 
<a id="L3311" name="L3311"></a>3311         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/8271.html" title="Multiple referred from 4 places.">TransformsImpl</a> <strong class="reserved">extends</strong> com.sun.org.apache.xml.internal.security.transforms.<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>
<a id="L3312" name="L3312"></a>3312             <strong class="reserved">implements</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> <em class="brace">{</em>
<a id="L3313" name="L3313"></a>3313 
<div class="comment">
              Construct Transforms</div>
<a id="L3317" name="L3317"></a>3317             <strong class="reserved">public</strong> TransformsImpl() <em class="brace">{</em>
<a id="L3318" name="L3318"></a>3318                 <strong class="reserved">super</strong>(contextDocument);
<a id="L3319" name="L3319"></a>3319             <em class="brace">}</em>
<a id="L3320" name="L3320"></a>3320 
<div class="comment">
              @param doc</div>
<a id="L3325" name="L3325"></a>3325             <strong class="reserved">public</strong> TransformsImpl(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L3326" name="L3326"></a>3326                 <strong class="reserved">if</strong> (doc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3327" name="L3327"></a>3327                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Document is null");
<a id="L3328" name="L3328"></a>3328                 <em class="brace">}</em>
<a id="L3329" name="L3329"></a>3329 
<a id="L3330" name="L3330"></a>3330                 <strong class="reserved">this</strong>.doc = doc;
<a id="L3331" name="L3331"></a>3331                 <strong class="reserved">this</strong>.constructionElement =
<a id="L3332" name="L3332"></a>3332                     <a href="../S/5696.html#L119" title="Defined at 119 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">createElementForFamilyLocal</a>(
<a id="L3333" name="L3333"></a>3333                         <strong class="reserved">this</strong>.doc, <strong class="reserved">this</strong>.<a href="../D/17199.html" title="Multiple defined in 11 places.">getBaseNamespace</a>(), <strong class="reserved">this</strong>.<a href="../D/17196.html" title="Multiple defined in 35 places.">getBaseLocalName</a>()
<a id="L3334" name="L3334"></a>3334                     );
<a id="L3335" name="L3335"></a>3335             <em class="brace">}</em>
<a id="L3336" name="L3336"></a>3336 
<div class="comment">
              @param element
              @throws XMLSignatureException
              @throws InvalidTransformException
              @throws XMLSecurityException
              @throws TransformationException</div>
<a id="L3345" name="L3345"></a>3345             <strong class="reserved">public</strong> TransformsImpl(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>)
<a id="L3346" name="L3346"></a>3346                 <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>, <a href="../S/5720.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/InvalidTransformException.java.">InvalidTransformException</a>,
<a id="L3347" name="L3347"></a>3347                     <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a>, <a href="../S/5718.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/TransformationException.java.">TransformationException</a> <em class="brace">{</em>
<a id="L3348" name="L3348"></a>3348                 <strong class="reserved">super</strong>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, "");
<a id="L3349" name="L3349"></a>3349             <em class="brace">}</em>
<a id="L3350" name="L3350"></a>3350 
<div class="comment">
              @return the XML Element form of that Transforms</div>
<a id="L3355" name="L3355"></a>3355             <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L3356" name="L3356"></a>3356                 <strong class="reserved">if</strong> (doc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3357" name="L3357"></a>3357                     doc = contextDocument;
<a id="L3358" name="L3358"></a>3358                 <em class="brace">}</em>
<a id="L3359" name="L3359"></a>3359 
<a id="L3360" name="L3360"></a>3360                 <strong class="reserved">return</strong> <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L3361" name="L3361"></a>3361             <em class="brace">}</em>
<a id="L3362" name="L3362"></a>3362 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3364" name="L3364"></a>3364             <strong class="reserved">public</strong> com.sun.org.apache.xml.internal.security.transforms.<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> <a href="../S/5632.html#L159" title="Referred from 159 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipherInput.java.">getDSTransforms</a>() <em class="brace">{</em>
<a id="L3365" name="L3365"></a>3365                 <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L3366" name="L3366"></a>3366             <em class="brace">}</em>
<a id="L3367" name="L3367"></a>3367 
<a id="L3368" name="L3368"></a>3368             <em class="comment">// Over-ride the namespace</em>
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3370" name="L3370"></a>3370             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15227.html" title="Multiple referred from 13 places.">getBaseNamespace</a>() <em class="brace">{</em>
<a id="L3371" name="L3371"></a>3371                 <strong class="reserved">return</strong> <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS;
<a id="L3372" name="L3372"></a>3372             <em class="brace">}</em>
<a id="L3373" name="L3373"></a>3373         <em class="brace">}</em>
<a id="L3374" name="L3374"></a>3374 
<a id="L3375" name="L3375"></a>3375         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/6543.html" title="Multiple referred from 4 places.">ReferenceListImpl</a> <strong class="reserved">implements</strong> <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a> <em class="brace">{</em>
<a id="L3376" name="L3376"></a>3376             <strong class="reserved">private</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; sentry;
<a id="L3377" name="L3377"></a>3377             <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>&gt; references;
<a id="L3378" name="L3378"></a>3378 
<div class="comment">
              Constructor.
              @param type</div>
<a id="L3383" name="L3383"></a>3383             <strong class="reserved">public</strong> ReferenceListImpl(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L3384" name="L3384"></a>3384                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a>.DATA_REFERENCE) <em class="brace">{</em>
<a id="L3385" name="L3385"></a>3385                     sentry = <a href="../S/5638.html#L3514" title="Defined at 3514 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">DataReference</a>.<strong class="reserved">class</strong>;
<a id="L3386" name="L3386"></a>3386                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../S/5642.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/encryption/ReferenceList.java.">ReferenceList</a>.KEY_REFERENCE) <em class="brace">{</em>
<a id="L3387" name="L3387"></a>3387                     sentry = <a href="../S/5638.html#L3526" title="Defined at 3526 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">KeyReference</a>.<strong class="reserved">class</strong>;
<a id="L3388" name="L3388"></a>3388                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3389" name="L3389"></a>3389                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L3390" name="L3390"></a>3390                 <em class="brace">}</em>
<a id="L3391" name="L3391"></a>3391                 references = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>&gt;();
<a id="L3392" name="L3392"></a>3392             <em class="brace">}</em>
<a id="L3393" name="L3393"></a>3393 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3395" name="L3395"></a>3395             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> reference) <em class="brace">{</em>
<a id="L3396" name="L3396"></a>3396                 <strong class="reserved">if</strong> (!reference.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(sentry)) <em class="brace">{</em>
<a id="L3397" name="L3397"></a>3397                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L3398" name="L3398"></a>3398                 <em class="brace">}</em>
<a id="L3399" name="L3399"></a>3399                 references.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(reference);
<a id="L3400" name="L3400"></a>3400             <em class="brace">}</em>
<a id="L3401" name="L3401"></a>3401 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3403" name="L3403"></a>3403             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> reference) <em class="brace">{</em>
<a id="L3404" name="L3404"></a>3404                 <strong class="reserved">if</strong> (!reference.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(sentry)) <em class="brace">{</em>
<a id="L3405" name="L3405"></a>3405                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L3406" name="L3406"></a>3406                 <em class="brace">}</em>
<a id="L3407" name="L3407"></a>3407                 references.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(reference);
<a id="L3408" name="L3408"></a>3408             <em class="brace">}</em>
<a id="L3409" name="L3409"></a>3409 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3411" name="L3411"></a>3411             <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L3412" name="L3412"></a>3412                 <strong class="reserved">return</strong> references.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L3413" name="L3413"></a>3413             <em class="brace">}</em>
<a id="L3414" name="L3414"></a>3414 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3416" name="L3416"></a>3416             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>() <em class="brace">{</em>
<a id="L3417" name="L3417"></a>3417                 <strong class="reserved">return</strong> references.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>();
<a id="L3418" name="L3418"></a>3418             <em class="brace">}</em>
<a id="L3419" name="L3419"></a>3419 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3421" name="L3421"></a>3421             <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>&gt; getReferences() <em class="brace">{</em>
<a id="L3422" name="L3422"></a>3422                 <strong class="reserved">return</strong> references.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L3423" name="L3423"></a>3423             <em class="brace">}</em>
<a id="L3424" name="L3424"></a>3424 
<a id="L3425" name="L3425"></a>3425             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L3426" name="L3426"></a>3426                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L3427" name="L3427"></a>3427                     <a href="../S/5696.html#L42" title="Defined at 42 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">ElementProxy</a>.<a href="../S/5696.html#L152" title="Defined at 152 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">createElementForFamily</a>(
<a id="L3428" name="L3428"></a>3428                         contextDocument,
<a id="L3429" name="L3429"></a>3429                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L3430" name="L3430"></a>3430                         <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_REFERENCELIST
<a id="L3431" name="L3431"></a>3431                     );
<a id="L3432" name="L3432"></a>3432                 <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>&gt; eachReference = references.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L3433" name="L3433"></a>3433                 <strong class="reserved">while</strong> (eachReference.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L3434" name="L3434"></a>3434                     <a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> reference = eachReference.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L3435" name="L3435"></a>3435                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(((<a href="../S/5638.html#L3456" title="Defined at 3456 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">ReferenceImpl</a>) reference).<a href="../D/35387.html" title="Multiple defined in 14 places.">toElement</a>());
<a id="L3436" name="L3436"></a>3436                 <em class="brace">}</em>
<a id="L3437" name="L3437"></a>3437                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L3438" name="L3438"></a>3438             <em class="brace">}</em>
<a id="L3439" name="L3439"></a>3439 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3441" name="L3441"></a>3441             <strong class="reserved">public</strong> <a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> <a href="../S/5638.html#L2452" title="Referred from 2452 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">newDataReference</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L3442" name="L3442"></a>3442                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3514" title="Defined at 3514 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">DataReference</a>(uri);
<a id="L3443" name="L3443"></a>3443             <em class="brace">}</em>
<a id="L3444" name="L3444"></a>3444 
<div class="comment">
             /** @inheritDoc */</div>
<a id="L3446" name="L3446"></a>3446             <strong class="reserved">public</strong> <a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> <a href="../S/5638.html#L2462" title="Referred from 2462 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">newKeyReference</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L3447" name="L3447"></a>3447                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5638.html#L3526" title="Defined at 3526 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">KeyReference</a>(uri);
<a id="L3448" name="L3448"></a>3448             <em class="brace">}</em>
<a id="L3449" name="L3449"></a>3449 
<div class="comment">
              <code>ReferenceImpl</code> is an implementation of
              <code>Reference</code>.
              @see Reference</div>
<a id="L3456" name="L3456"></a>3456             <strong class="reserved">private</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/6541.html" title="Multiple referred from 3 places.">ReferenceImpl</a> <strong class="reserved">implements</strong> <a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> <em class="brace">{</em>
<a id="L3457" name="L3457"></a>3457                 <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri;
<a id="L3458" name="L3458"></a>3458                 <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; referenceInformation;
<a id="L3459" name="L3459"></a>3459 
<a id="L3460" name="L3460"></a>3460                 ReferenceImpl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L3461" name="L3461"></a>3461                     <strong class="reserved">this</strong>.uri = uri;
<a id="L3462" name="L3462"></a>3462                     referenceInformation = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt;();
<a id="L3463" name="L3463"></a>3463                 <em class="brace">}</em>
<a id="L3464" name="L3464"></a>3464 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3466" name="L3466"></a>3466                 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>();
<a id="L3467" name="L3467"></a>3467 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3469" name="L3469"></a>3469                 <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19651.html" title="Multiple referred from 112 places.">getURI</a>() <em class="brace">{</em>
<a id="L3470" name="L3470"></a>3470                     <strong class="reserved">return</strong> uri;
<a id="L3471" name="L3471"></a>3471                 <em class="brace">}</em>
<a id="L3472" name="L3472"></a>3472 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3474" name="L3474"></a>3474                 <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; getElementRetrievalInformation() <em class="brace">{</em>
<a id="L3475" name="L3475"></a>3475                     <strong class="reserved">return</strong> referenceInformation.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L3476" name="L3476"></a>3476                 <em class="brace">}</em>
<a id="L3477" name="L3477"></a>3477 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3479" name="L3479"></a>3479                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28339.html" title="Multiple referred from 7 places.">setURI</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L3480" name="L3480"></a>3480                     <strong class="reserved">this</strong>.uri = uri;
<a id="L3481" name="L3481"></a>3481                 <em class="brace">}</em>
<a id="L3482" name="L3482"></a>3482 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3484" name="L3484"></a>3484                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeElementRetrievalInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L3485" name="L3485"></a>3485                     referenceInformation.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L3486" name="L3486"></a>3486                 <em class="brace">}</em>
<a id="L3487" name="L3487"></a>3487 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3489" name="L3489"></a>3489                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> addElementRetrievalInformation(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L3490" name="L3490"></a>3490                     referenceInformation.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L3491" name="L3491"></a>3491                 <em class="brace">}</em>
<a id="L3492" name="L3492"></a>3492 
<div class="comment">
                  @return the XML Element form of that Reference</div>
<a id="L3496" name="L3496"></a>3496                 <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/29247.html" title="Multiple referred from 93 places.">toElement</a>() <em class="brace">{</em>
<a id="L3497" name="L3497"></a>3497                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> tagName = <a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L3498" name="L3498"></a>3498                     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> =
<a id="L3499" name="L3499"></a>3499                         <a href="../S/5696.html#L42" title="Defined at 42 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">ElementProxy</a>.<a href="../S/5696.html#L152" title="Defined at 152 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">createElementForFamily</a>(
<a id="L3500" name="L3500"></a>3500                             contextDocument,
<a id="L3501" name="L3501"></a>3501                             <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS,
<a id="L3502" name="L3502"></a>3502                             tagName
<a id="L3503" name="L3503"></a>3503                         );
<a id="L3504" name="L3504"></a>3504                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31941.html" title="Multiple defined in 34 places.">setAttribute</a>(<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._ATT_URI, uri);
<a id="L3505" name="L3505"></a>3505 
<a id="L3506" name="L3506"></a>3506                     <em class="comment">// TODO: Need to martial referenceInformation</em>
<a id="L3507" name="L3507"></a>3507                     <em class="comment">// Figure out how to make this work..</em>
<a id="L3508" name="L3508"></a>3508                     <em class="comment">// &lt;any namespace="##other" minOccurs="0" maxOccurs="unbounded"/&gt;</em>
<a id="L3509" name="L3509"></a>3509 
<a id="L3510" name="L3510"></a>3510                     <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L3511" name="L3511"></a>3511                 <em class="brace">}</em>
<a id="L3512" name="L3512"></a>3512             <em class="brace">}</em>
<a id="L3513" name="L3513"></a>3513 
<a id="L3514" name="L3514"></a>3514             <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2005.html" title="Multiple referred from 2 places.">DataReference</a> <strong class="reserved">extends</strong> <a href="../S/5638.html#L3456" title="Defined at 3456 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">ReferenceImpl</a> <em class="brace">{</em>
<a id="L3515" name="L3515"></a>3515 
<a id="L3516" name="L3516"></a>3516                 DataReference(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L3517" name="L3517"></a>3517                     <strong class="reserved">super</strong>(uri);
<a id="L3518" name="L3518"></a>3518                 <em class="brace">}</em>
<a id="L3519" name="L3519"></a>3519 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3521" name="L3521"></a>3521                 <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em>
<a id="L3522" name="L3522"></a>3522                     <strong class="reserved">return</strong> <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_DATAREFERENCE;
<a id="L3523" name="L3523"></a>3523                 <em class="brace">}</em>
<a id="L3524" name="L3524"></a>3524             <em class="brace">}</em>
<a id="L3525" name="L3525"></a>3525 
<a id="L3526" name="L3526"></a>3526             <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/4380.html" title="Multiple referred from 2 places.">KeyReference</a> <strong class="reserved">extends</strong> <a href="../S/5638.html#L3456" title="Defined at 3456 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">ReferenceImpl</a> <em class="brace">{</em>
<a id="L3527" name="L3527"></a>3527 
<a id="L3528" name="L3528"></a>3528                 KeyReference(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L3529" name="L3529"></a>3529                     <strong class="reserved">super</strong>(uri);
<a id="L3530" name="L3530"></a>3530                 <em class="brace">}</em>
<a id="L3531" name="L3531"></a>3531 
<div class="comment">
                 /** @inheritDoc */</div>
<a id="L3533" name="L3533"></a>3533                 <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em>
<a id="L3534" name="L3534"></a>3534                     <strong class="reserved">return</strong> <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>._TAG_KEYREFERENCE;
<a id="L3535" name="L3535"></a>3535                 <em class="brace">}</em>
<a id="L3536" name="L3536"></a>3536             <em class="brace">}</em>
<a id="L3537" name="L3537"></a>3537         <em class="brace">}</em>
<a id="L3538" name="L3538"></a>3538     <em class="brace">}</em>
<a id="L3539" name="L3539"></a>3539 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L263">[^]</a><a href="#L3533">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>