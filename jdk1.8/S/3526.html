<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/management/MBeanServerPermission.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L165">[^]</a><a href="#L363">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L165" title="Defined at 165.">readObject</a></li>
<li><a href="#L171" title="Defined at 171.">simplifyMask</a></li>
<li><a href="#L177" title="Defined at 177.">impliedMask</a></li>
<li><a href="#L183" title="Defined at 183.">getCanonicalName</a></li>
<li><a href="#L197" title="Defined at 197.">makeCanonicalName</a></li>
<li><a href="#L214" title="Defined at 214.">parseMask</a></li>
<li><a href="#L241" title="Defined at 241.">nameIndex</a></li>
<li><a href="#L252" title="Defined at 252.">hashCode</a></li>
<li><a href="#L275" title="Defined at 275.">implies</a></li>
<li><a href="#L292" title="Defined at 292.">equals</a></li>
<li><a href="#L304" title="Defined at 304.">newPermissionCollection</a></li>
<li><a href="#L341" title="Defined at 341.">add</a></li>
<li><a href="#L358" title="Defined at 358.">implies</a></li>
<li><a href="#L363" title="Defined at 363.">elements</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2001, 2007, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.management;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.IOException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.security.BasicPermission;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.Permission;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.PermissionCollection;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Collections;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.Set;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.StringTokenizer;
<a id="L37" name="L37"></a>  37 
<div class="comment">
 A Permission to perform actions related to MBeanServers.
    The <em>name</em> of the permission specifies the operation requested
    or granted by the permission.  For a granted permission, it can be
    <code>*</code> to allow all of the MBeanServer operations specified below.
    Otherwise, for a granted or requested permission, it must be one of the
    following:
    <dl>
    <dt>createMBeanServer</dt>
    <dd>Create a new MBeanServer object using the method
    {@link MBeanServerFactory#createMBeanServer()} or
    {@link MBeanServerFactory#createMBeanServer(java.lang.String)}.
    </dd><dt>findMBeanServer</dt>
    <dd>Find an MBeanServer with a given name, or all MBeanServers in this
    JVM, using the method {@link MBeanServerFactory#findMBeanServer}.
    </dd><dt>newMBeanServer</dt>
    <dd>Create a new MBeanServer object without keeping a reference to it,
    using the method {@link MBeanServerFactory#newMBeanServer()} or
    {@link MBeanServerFactory#newMBeanServer(java.lang.String)}.
    </dd><dt>releaseMBeanServer</dt>
    <dd>Remove the MBeanServerFactory's reference to an MBeanServer,
    using the method {@link MBeanServerFactory#releaseMBeanServer}.
    </dd></dl>
    The <em>name</em> of the permission can also denote a list of one or more
    comma-separated operations.  Spaces are allowed at the beginning and
    end of the <em>name</em> and before and after commas.
    <p>
    <code>MBeanServerPermission("createMBeanServer")</code> implies
    <code>MBeanServerPermission("newMBeanServer")</code>.
  @since 1.5</p></div>
<a id="L69" name="L69"></a>  69 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/4840.html" title="Multiple referred from 13 places.">MBeanServerPermission</a> <strong class="reserved">extends</strong> <a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a> <em class="brace">{</em>
<a id="L70" name="L70"></a>  70     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -5661980843569388590L;
<a id="L71" name="L71"></a>  71 
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong>
<a id="L73" name="L73"></a>  73         CREATE = 0,
<a id="L74" name="L74"></a>  74         FIND = 1,
<a id="L75" name="L75"></a>  75         <a href="../S/4824.html#L69" title="Defined at 69 in src/com/sun/org/apache/bcel/internal/generic/NEW.java.">NEW</a> = 2,
<a id="L76" name="L76"></a>  76         RELEASE = 3,
<a id="L77" name="L77"></a>  77         N_NAMES = 4;
<a id="L78" name="L78"></a>  78 
<a id="L79" name="L79"></a>  79     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] names = <em class="brace">{</em>
<a id="L80" name="L80"></a>  80         "createMBeanServer",
<a id="L81" name="L81"></a>  81         "findMBeanServer",
<a id="L82" name="L82"></a>  82         "newMBeanServer",
<a id="L83" name="L83"></a>  83         "releaseMBeanServer",
<a id="L84" name="L84"></a>  84     <em class="brace">}</em>;
<a id="L85" name="L85"></a>  85 
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong>
<a id="L87" name="L87"></a>  87         CREATE_MASK = 1&lt;&lt;CREATE,
<a id="L88" name="L88"></a>  88         FIND_MASK = 1&lt;&lt;FIND,
<a id="L89" name="L89"></a>  89         NEW_MASK = 1&lt;&lt;<a href="../S/4824.html#L69" title="Defined at 69 in src/com/sun/org/apache/bcel/internal/generic/NEW.java.">NEW</a>,
<a id="L90" name="L90"></a>  90         RELEASE_MASK = 1&lt;&lt;RELEASE,
<a id="L91" name="L91"></a>  91         ALL_MASK = CREATE_MASK|FIND_MASK|NEW_MASK|RELEASE_MASK;
<a id="L92" name="L92"></a>  92 
<div class="comment">
      Map from permission masks to canonical names.  This array is
      filled in on demand.
      This isn't very scalable.  If we have more than five or six
      permissions, we should consider doing this differently,
      e.g. with a Map.</div>
<a id="L101" name="L101"></a> 101     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] canonicalNames = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[1 &lt;&lt; N_NAMES];
<a id="L102" name="L102"></a> 102 
<div class="comment">
      The target names mask.  This is not private to avoid having to
      generate accessor methods for accesses from the collection class.
      This mask includes implied bits.  So if it has CREATE_MASK then
      it necessarily has NEW_MASK too.</div>
<a id="L110" name="L110"></a> 110     <strong class="reserved">transient</strong> <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L111" name="L111"></a> 111 
<div class="comment">
 <p>Create a new MBeanServerPermission with the given name.</p>
        <p>This constructor is equivalent to
        <code>MBeanServerPermission(name,null)</code>.</p>
        @param name the name of the granted permission.  It must
        respect the constraints spelt out in the description of the
        <a href="../R/4840.html" title="Multiple referred from 13 places.">MBeanServerPermission</a> class.
        @exception NullPointerException if the name is null.
        @exception IllegalArgumentException if the name is not
        <code>*</code> or one of the allowed names or a comma-separated
        list of the allowed names.</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">public</strong> MBeanServerPermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124         <strong class="reserved">this</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">null</strong>);
<a id="L125" name="L125"></a> 125     <em class="brace">}</em>
<a id="L126" name="L126"></a> 126 
<div class="comment">
 <p>Create a new MBeanServerPermission with the given name.</p>
        @param name the name of the granted permission.  It must
        respect the constraints spelt out in the description of the
        <a href="../R/4840.html" title="Multiple referred from 13 places.">MBeanServerPermission</a> class.
        @param actions the associated actions.  This parameter is not
        currently used and must be null or the empty string.
        @exception NullPointerException if the name is null.
        @exception IllegalArgumentException if the name is not
        <code>*</code> or one of the allowed names or a comma-separated
        list of the allowed names, or if <code>actions</code> is a non-null
        non-empty string.
      @throws NullPointerException if <code>name</code> is <code>null</code>.
      @throws IllegalArgumentException if <code>name</code> is empty or
      if arguments are invalid.</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">public</strong> MBeanServerPermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144         <strong class="reserved">super</strong>(<a href="../D/17480.html" title="Multiple defined in 4 places.">getCanonicalName</a>(<a href="../S/3526.html#L214" title="Defined at 214 in src/javax/management/MBeanServerPermission.java.">parseMask</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)), <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>);
<a id="L145" name="L145"></a> 145 
<div class="comment">
 It's annoying to have to parse the name twice, but since
           Permission.getName() is final and since we can't access "this"
           until after the call to the superclass constructor, there
           isn't any very clean way to do this.  MBeanServerPermission
           objects aren't constructed very often, luckily.  </div>
<a id="L151" name="L151"></a> 151         <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../S/3526.html#L214" title="Defined at 214 in src/javax/management/MBeanServerPermission.java.">parseMask</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L152" name="L152"></a> 152 
<div class="comment">
         /* Check that actions is a null empty string */</div>
<a id="L154" name="L154"></a> 154         <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L155" name="L155"></a> 155             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("MBeanServerPermission " +
<a id="L156" name="L156"></a> 156                                                "actions must be null: " +
<a id="L157" name="L157"></a> 157                                                <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>);
<a id="L158" name="L158"></a> 158     <em class="brace">}</em>
<a id="L159" name="L159"></a> 159 
<a id="L160" name="L160"></a> 160     MBeanServerPermission(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L161" name="L161"></a> 161         <strong class="reserved">super</strong>(<a href="../D/17480.html" title="Multiple defined in 4 places.">getCanonicalName</a>(<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>));
<a id="L162" name="L162"></a> 162         <strong class="reserved">this</strong>.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../S/3526.html#L177" title="Defined at 177 in src/javax/management/MBeanServerPermission.java.">impliedMask</a>(<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L163" name="L163"></a> 163     <em class="brace">}</em>
<a id="L164" name="L164"></a> 164 
<a id="L165" name="L165"></a> 165     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>)
<a id="L166" name="L166"></a> 166             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L167" name="L167"></a> 167         <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L168" name="L168"></a> 168         <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../S/3526.html#L214" title="Defined at 214 in src/javax/management/MBeanServerPermission.java.">parseMask</a>(<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L169" name="L169"></a> 169     <em class="brace">}</em>
<a id="L170" name="L170"></a> 170 
<a id="L171" name="L171"></a> 171     <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/3526.html#L187" title="Referred from 187 in src/javax/management/MBeanServerPermission.java.">simplifyMask</a>(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L172" name="L172"></a> 172         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; CREATE_MASK) != 0)
<a id="L173" name="L173"></a> 173             <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp;= ~NEW_MASK;
<a id="L174" name="L174"></a> 174         <strong class="reserved">return</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L175" name="L175"></a> 175     <em class="brace">}</em>
<a id="L176" name="L176"></a> 176 
<a id="L177" name="L177"></a> 177     <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/20433.html" title="Multiple referred from 3 places.">impliedMask</a>(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; CREATE_MASK) != 0)
<a id="L179" name="L179"></a> 179             <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> |= NEW_MASK;
<a id="L180" name="L180"></a> 180         <strong class="reserved">return</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L181" name="L181"></a> 181     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183     <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15440.html" title="Multiple referred from 25 places.">getCanonicalName</a>(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L184" name="L184"></a> 184         <strong class="reserved">if</strong> (<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == ALL_MASK)
<a id="L185" name="L185"></a> 185             <strong class="reserved">return</strong> "*";
<a id="L186" name="L186"></a> 186 
<a id="L187" name="L187"></a> 187         <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../S/3526.html#L171" title="Defined at 171 in src/javax/management/MBeanServerPermission.java.">simplifyMask</a>(<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L188" name="L188"></a> 188 
<a id="L189" name="L189"></a> 189         <strong class="reserved">synchronized</strong> (canonicalNames) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190             <strong class="reserved">if</strong> (canonicalNames[<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>] == <strong class="reserved">null</strong>)
<a id="L191" name="L191"></a> 191                 canonicalNames[<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>] = <a href="../S/3526.html#L197" title="Defined at 197 in src/javax/management/MBeanServerPermission.java.">makeCanonicalName</a>(<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L192" name="L192"></a> 192         <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<a id="L194" name="L194"></a> 194         <strong class="reserved">return</strong> canonicalNames[<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>];
<a id="L195" name="L195"></a> 195     <em class="brace">}</em>
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3526.html#L191" title="Referred from 191 in src/javax/management/MBeanServerPermission.java.">makeCanonicalName</a>(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198         <strong class="reserved">final</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L199" name="L199"></a> 199         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; N_NAMES; i++) <em class="brace">{</em>
<a id="L200" name="L200"></a> 200             <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; (1&lt;&lt;i)) != 0) <em class="brace">{</em>
<a id="L201" name="L201"></a> 201                 <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L202" name="L202"></a> 202                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(',');
<a id="L203" name="L203"></a> 203                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(names[i]);
<a id="L204" name="L204"></a> 204             <em class="brace">}</em>
<a id="L205" name="L205"></a> 205         <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <strong class="reserved">return</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>().<a href="../S/1729.html#L3167" title="Defined at 3167 in src/java/lang/String.java.">intern</a>();
<div class="comment">
 intern() avoids duplication when the mask has only
           one bit, so is equivalent to the string constants
           we have for the names[] array.  </div>
<a id="L210" name="L210"></a> 210     <em class="brace">}</em>
<a id="L211" name="L211"></a> 211 
<div class="comment">
 Convert the string into a bitmask, including bits that
       are implied by the permissions in the string.  </div>
<a id="L214" name="L214"></a> 214     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/24576.html" title="Multiple referred from 3 places.">parseMask</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<div class="comment">
         /* Check that target name is a non-null non-empty string */</div>
<a id="L216" name="L216"></a> 216         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L217" name="L217"></a> 217             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("MBeanServerPermission: " +
<a id="L218" name="L218"></a> 218                                            "target name can't be null");
<a id="L219" name="L219"></a> 219         <em class="brace">}</em>
<a id="L220" name="L220"></a> 220 
<a id="L221" name="L221"></a> 221         <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L222" name="L222"></a> 222         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*"))
<a id="L223" name="L223"></a> 223             <strong class="reserved">return</strong> ALL_MASK;
<a id="L224" name="L224"></a> 224 
<div class="comment">
         /* If the name is empty, nameIndex will barf. */</div>
<a id="L226" name="L226"></a> 226         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(',') &lt; 0)
<a id="L227" name="L227"></a> 227             <strong class="reserved">return</strong> <a href="../S/3526.html#L177" title="Defined at 177 in src/javax/management/MBeanServerPermission.java.">impliedMask</a>(1 &lt;&lt; <a href="../S/3526.html#L241" title="Defined at 241 in src/javax/management/MBeanServerPermission.java.">nameIndex</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>()));
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = 0;
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231         <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a> tok = <strong class="reserved">new</strong> <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, ",");
<a id="L232" name="L232"></a> 232         <strong class="reserved">while</strong> (tok.<a href="../D/24131.html" title="Multiple defined in 2 places.">hasMoreTokens</a>()) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = tok.<a href="../D/28195.html" title="Multiple defined in 10 places.">nextToken</a>();
<a id="L234" name="L234"></a> 234             <strong class="reserved">int</strong> i = <a href="../S/3526.html#L241" title="Defined at 241 in src/javax/management/MBeanServerPermission.java.">nameIndex</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>());
<a id="L235" name="L235"></a> 235             <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> |= (1 &lt;&lt; i);
<a id="L236" name="L236"></a> 236         <em class="brace">}</em>
<a id="L237" name="L237"></a> 237 
<a id="L238" name="L238"></a> 238         <strong class="reserved">return</strong> <a href="../S/3526.html#L177" title="Defined at 177 in src/javax/management/MBeanServerPermission.java.">impliedMask</a>(<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L239" name="L239"></a> 239     <em class="brace">}</em>
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/23427.html" title="Multiple referred from 17 places.">nameIndex</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L242" name="L242"></a> 242             <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L243" name="L243"></a> 243         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; N_NAMES; i++) <em class="brace">{</em>
<a id="L244" name="L244"></a> 244             <strong class="reserved">if</strong> (names[i].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>))
<a id="L245" name="L245"></a> 245                 <strong class="reserved">return</strong> i;
<a id="L246" name="L246"></a> 246         <em class="brace">}</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L248" name="L248"></a> 248             "Invalid MBeanServerPermission name: \"" + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + "\"";
<a id="L249" name="L249"></a> 249         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L250" name="L250"></a> 250     <em class="brace">}</em>
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">return</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L254" name="L254"></a> 254     <em class="brace">}</em>
<a id="L255" name="L255"></a> 255 
<div class="comment">
      <p>Checks if this MBeanServerPermission object "implies" the specified
      permission.</p>
      <p>More specifically, this method returns true if:</p>
      <ul><li> <i>p</i> is an instance of MBeanServerPermission,</li><li> <i>p</i>'s target names are a subset of this object's target
      names</li>
      </ul>
      <p>The <code>createMBeanServer</code> permission implies the
      <code>newMBeanServer</code> permission.</p>
      @param p the permission to check against.
      @return true if the specified permission is implied by this object,
      false if not.</div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> p) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <strong class="reserved">if</strong> (!(p <strong class="reserved">instanceof</strong> <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a>))
<a id="L277" name="L277"></a> 277             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L278" name="L278"></a> 278 
<a id="L279" name="L279"></a> 279         <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a> that = (<a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a>) p;
<a id="L280" name="L280"></a> 280 
<a id="L281" name="L281"></a> 281         <strong class="reserved">return</strong> ((<strong class="reserved">this</strong>.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; that.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) == that.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L282" name="L282"></a> 282     <em class="brace">}</em>
<a id="L283" name="L283"></a> 283 
<div class="comment">
      Checks two MBeanServerPermission objects for equality. Checks that
      <i>obj</i> is an MBeanServerPermission, and represents the same
      list of allowable actions as this object.
      <p>
      @param obj the object we are testing for equality with this object.
      @return true if the objects are equal.</p></div>
<a id="L292" name="L292"></a> 292     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">if</strong> (obj == <strong class="reserved">this</strong>)
<a id="L294" name="L294"></a> 294             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L295" name="L295"></a> 295 
<a id="L296" name="L296"></a> 296         <strong class="reserved">if</strong> (! (obj <strong class="reserved">instanceof</strong> <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a>))
<a id="L297" name="L297"></a> 297             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299         <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a> that = (<a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a>) obj;
<a id="L300" name="L300"></a> 300 
<a id="L301" name="L301"></a> 301         <strong class="reserved">return</strong> (<strong class="reserved">this</strong>.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == that.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L302" name="L302"></a> 302     <em class="brace">}</em>
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304     <strong class="reserved">public</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/23594.html" title="Multiple referred from 3 places.">newPermissionCollection</a>() <em class="brace">{</em>
<a id="L305" name="L305"></a> 305         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3526.html#L333" title="Defined at 333 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermissionCollection</a>();
<a id="L306" name="L306"></a> 306     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307 <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<div class="comment">
  Class returned by {@link MBeanServerPermission#newPermissionCollection()}.
  @serial include</div>
<a id="L314" name="L314"></a> 314 
<div class="comment">
  Since every collection of MBSP can be represented by a single MBSP,
  that is what our PermissionCollection does.  We need to define a
  PermissionCollection because the one inherited from BasicPermission
  doesn't know that createMBeanServer implies newMBeanServer.
  Though the serial form is defined, the TCK does not check it.  We do
  not require independent implementations to duplicate it.  Even though
  PermissionCollection is Serializable, instances of this class will
  hardly ever be serialized, and different implementations do not
  typically exchange serialized permission collections.
  If we did require that a particular form be respected here, we would
  logically also have to require it for
  MBeanPermission.newPermissionCollection, which would preclude an
  implementation from defining a PermissionCollection there with an
  optimized "implies" method.</div>
<a id="L333" name="L333"></a> 333 <strong class="reserved">class</strong> <a href="../S/3526.html#L305" title="Referred from 305 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermissionCollection</a> <strong class="reserved">extends</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <em class="brace">{</em>
<div class="comment">
 @serial Null if no permissions in collection, otherwise a
        single permission that is the union of all permissions that
        have been added.  </div>
<a id="L337" name="L337"></a> 337     <strong class="reserved">private</strong> <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a> collectionPermission;
<a id="L338" name="L338"></a> 338 
<a id="L339" name="L339"></a> 339     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -5661980843569388590L;
<a id="L340" name="L340"></a> 340 
<a id="L341" name="L341"></a> 341     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342         <strong class="reserved">if</strong> (!(permission <strong class="reserved">instanceof</strong> <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a>)) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L344" name="L344"></a> 344                 "Permission not an MBeanServerPermission: " + permission;
<a id="L345" name="L345"></a> 345             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L346" name="L346"></a> 346         <em class="brace">}</em>
<a id="L347" name="L347"></a> 347         <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>())
<a id="L348" name="L348"></a> 348             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>("Read-only permission collection");
<a id="L349" name="L349"></a> 349         <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a> mbsp = (<a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a>) permission;
<a id="L350" name="L350"></a> 350         <strong class="reserved">if</strong> (collectionPermission == <strong class="reserved">null</strong>)
<a id="L351" name="L351"></a> 351             collectionPermission = mbsp;
<a id="L352" name="L352"></a> 352         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (!collectionPermission.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(permission)) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353             <strong class="reserved">int</strong> newmask = collectionPermission.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> | mbsp.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L354" name="L354"></a> 354             collectionPermission = <strong class="reserved">new</strong> <a href="../S/3526.html#L69" title="Defined at 69 in src/javax/management/MBeanServerPermission.java.">MBeanServerPermission</a>(newmask);
<a id="L355" name="L355"></a> 355         <em class="brace">}</em>
<a id="L356" name="L356"></a> 356     <em class="brace">}</em>
<a id="L357" name="L357"></a> 357 
<a id="L358" name="L358"></a> 358     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">return</strong> (collectionPermission != <strong class="reserved">null</strong> &amp;&amp;
<a id="L360" name="L360"></a> 360                 collectionPermission.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(permission));
<a id="L361" name="L361"></a> 361     <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<a id="L363" name="L363"></a> 363     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../R/13650.html" title="Multiple referred from 679 places.">elements</a>() <em class="brace">{</em>
<a id="L364" name="L364"></a> 364         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>;
<a id="L365" name="L365"></a> 365         <strong class="reserved">if</strong> (collectionPermission == <strong class="reserved">null</strong>)
<a id="L366" name="L366"></a> 366             <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L367" name="L367"></a> 367         <strong class="reserved">else</strong>
<a id="L368" name="L368"></a> 368             <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/34585.html" title="Multiple defined in 2 places.">singleton</a>((<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>) collectionPermission);
<a id="L369" name="L369"></a> 369         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L5207" title="Defined at 5207 in src/java/util/Collections.java.">enumeration</a>(<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>);
<a id="L370" name="L370"></a> 370     <em class="brace">}</em>
<a id="L371" name="L371"></a> 371 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L165">[^]</a><a href="#L363">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>