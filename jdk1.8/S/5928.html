<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/resolver/tools/ResolvingParser.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L124">[^]</a><a href="#L440">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L124" title="Defined at 124.">initParser</a></li>
<li><a href="#L142" title="Defined at 142.">getCatalog</a></li>
<li><a href="#L167" title="Defined at 167.">parse</a></li>
<li><a href="#L183" title="Defined at 183.">parse</a></li>
<li><a href="#L196" title="Defined at 196.">setDocumentHandler</a></li>
<li><a href="#L201" title="Defined at 201.">setDTDHandler</a></li>
<li><a href="#L211" title="Defined at 211.">setEntityResolver</a></li>
<li><a href="#L216" title="Defined at 216.">setErrorHandler</a></li>
<li><a href="#L221" title="Defined at 221.">setLocale</a></li>
<li><a href="#L226" title="Defined at 226.">characters</a></li>
<li><a href="#L234" title="Defined at 234.">endDocument</a></li>
<li><a href="#L241" title="Defined at 241.">endElement</a></li>
<li><a href="#L248" title="Defined at 248.">ignorableWhitespace</a></li>
<li><a href="#L256" title="Defined at 256.">processingInstruction</a></li>
<li><a href="#L321" title="Defined at 321.">setDocumentLocator</a></li>
<li><a href="#L328" title="Defined at 328.">startDocument</a></li>
<li><a href="#L335" title="Defined at 335.">startElement</a></li>
<li><a href="#L344" title="Defined at 344.">notationDecl</a></li>
<li><a href="#L353" title="Defined at 353.">unparsedEntityDecl</a></li>
<li><a href="#L369" title="Defined at 369.">resolveEntity</a></li>
<li><a href="#L408" title="Defined at 408.">setupParse</a></li>
<li><a href="#L440" title="Defined at 440.">explain</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L5" name="L5"></a>   5 <em class="comment">// ResolvingParser.java - An interface for reading catalog files</em>
<a id="L6" name="L6"></a>   6 
<div class="comment">
  Copyright 2001-2004 The Apache Software Foundation or its licensors,
  as applicable.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L23" name="L23"></a>  23 
<a id="L24" name="L24"></a>  24 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.resolver.tools;
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.IOException;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.net.URL;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.net.MalformedURLException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Locale;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> org.xml.sax.Parser;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> org.xml.sax.InputSource;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> org.xml.sax.Locator;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> org.xml.sax.ErrorHandler;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> org.xml.sax.DTDHandler;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> org.xml.sax.DocumentHandler;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> org.xml.sax.AttributeList;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> org.xml.sax.EntityResolver;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L41" name="L41"></a>  41 
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> javax.xml.parsers.SAXParserFactory;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> javax.xml.parsers.SAXParser;
<a id="L44" name="L44"></a>  44 
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.Catalog;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.CatalogManager;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.helpers.FileURL;
<a id="L49" name="L49"></a>  49 
<div class="comment">
  A SAX Parser that performs catalog-based entity resolution.
  <p>This class implements a SAX Parser that performs entity resolution
  using the CatalogResolver. The actual, underlying parser is obtained
  from a SAXParserFactory.</p>
  <p></p>
  @deprecated This interface has been replaced by the
              {@link com.sun.org.apache.xml.internal.resolver.tools.ResolvingXMLReader} for SAX2.
  @see CatalogResolver
  @see org.xml.sax.Parser
  @author Norman Walsh
  <a href="mailto:Norman.Walsh@Sun.COM">Norman.Walsh@Sun.COM</a>
  @version 1.0</div>
<a id="L68" name="L68"></a>  68 <strong class="reserved">public</strong> <strong class="reserved">class</strong> ResolvingParser
<a id="L69" name="L69"></a>  69   <strong class="reserved">implements</strong> <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a>, <a href="../S/721.html#L74" title="Defined at 74 in src/org/xml/sax/DTDHandler.java.">DTDHandler</a>, <a href="../D/2556.html" title="Multiple defined in 3 places.">DocumentHandler</a>, <a href="../S/722.html#L93" title="Defined at 93 in src/org/xml/sax/EntityResolver.java.">EntityResolver</a> <em class="brace">{</em>
<div class="comment">
   /** Make the parser Namespace aware? */</div>
<a id="L71" name="L71"></a>  71   <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> namespaceAware = <strong class="reserved">true</strong>;
<a id="L72" name="L72"></a>  72 
<div class="comment">
   /** Make the parser validating? */</div>
<a id="L74" name="L74"></a>  74   <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> validating = <strong class="reserved">false</strong>;
<a id="L75" name="L75"></a>  75 
<div class="comment">
 Suppress explanatory message?
    @see #parse(InputSource)</div>
<a id="L80" name="L80"></a>  80   <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> suppressExplanation = <strong class="reserved">false</strong>;
<a id="L81" name="L81"></a>  81 
<div class="comment">
   /** The underlying parser. */</div>
<a id="L83" name="L83"></a>  83   <strong class="reserved">private</strong> <a href="../D/7467.html" title="Multiple defined in 2 places.">SAXParser</a> saxParser = <strong class="reserved">null</strong>;
<a id="L84" name="L84"></a>  84 
<div class="comment">
   /** The underlying reader. */</div>
<a id="L86" name="L86"></a>  86   <strong class="reserved">private</strong> <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> parser = <strong class="reserved">null</strong>;
<a id="L87" name="L87"></a>  87 
<div class="comment">
   /** The underlying DocumentHandler. */</div>
<a id="L89" name="L89"></a>  89   <strong class="reserved">private</strong> <a href="../D/2556.html" title="Multiple defined in 3 places.">DocumentHandler</a> documentHandler = <strong class="reserved">null</strong>;
<a id="L90" name="L90"></a>  90 
<div class="comment">
   /** The underlying DTDHandler. */</div>
<a id="L92" name="L92"></a>  92   <strong class="reserved">private</strong> <a href="../S/721.html#L74" title="Defined at 74 in src/org/xml/sax/DTDHandler.java.">DTDHandler</a> dtdHandler = <strong class="reserved">null</strong>;
<a id="L93" name="L93"></a>  93 
<div class="comment">
   /** The manager for the underlying resolver. */</div>
<a id="L95" name="L95"></a>  95   <strong class="reserved">private</strong> <a href="../S/5933.html#L126" title="Defined at 126 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">CatalogManager</a> catalogManager = <a href="../S/5933.html#L126" title="Defined at 126 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">CatalogManager</a>.<a href="../S/5933.html#L291" title="Defined at 291 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">getStaticManager</a>();
<a id="L96" name="L96"></a>  96 
<div class="comment">
   /** The underlying catalog resolver. */</div>
<a id="L98" name="L98"></a>  98   <strong class="reserved">private</strong> <a href="../S/5930.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/resolver/tools/CatalogResolver.java.">CatalogResolver</a> catalogResolver = <strong class="reserved">null</strong>;
<a id="L99" name="L99"></a>  99 
<div class="comment">
   /** A separate resolver for oasis-xml-pi catalogs. */</div>
<a id="L101" name="L101"></a> 101   <strong class="reserved">private</strong> <a href="../S/5930.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/resolver/tools/CatalogResolver.java.">CatalogResolver</a> piCatalogResolver = <strong class="reserved">null</strong>;
<a id="L102" name="L102"></a> 102 
<div class="comment">
   /** Are we in the prolog? Is an oasis-xml-catalog PI valid now? */</div>
<a id="L104" name="L104"></a> 104   <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> allowXMLCatalogPI = <strong class="reserved">false</strong>;
<a id="L105" name="L105"></a> 105 
<div class="comment">
   /** Has an oasis-xml-catalog PI been seen? */</div>
<a id="L107" name="L107"></a> 107   <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> oasisXMLCatalogPI = <strong class="reserved">false</strong>;
<a id="L108" name="L108"></a> 108 
<div class="comment">
   /** The base URI of the input document, if known. */</div>
<a id="L110" name="L110"></a> 110   <strong class="reserved">private</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> baseURL = <strong class="reserved">null</strong>;
<a id="L111" name="L111"></a> 111 
<div class="comment">
   /** Constructor. */</div>
<a id="L113" name="L113"></a> 113   <strong class="reserved">public</strong> ResolvingParser() <em class="brace">{</em>
<a id="L114" name="L114"></a> 114     <a href="../S/5928.html#L124" title="Defined at 124 in src/com/sun/org/apache/xml/internal/resolver/tools/ResolvingParser.java.">initParser</a>();
<a id="L115" name="L115"></a> 115   <em class="brace">}</em>
<a id="L116" name="L116"></a> 116 
<div class="comment">
   /** Constructor. */</div>
<a id="L118" name="L118"></a> 118   <strong class="reserved">public</strong> ResolvingParser(<a href="../S/5933.html#L126" title="Defined at 126 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">CatalogManager</a> manager) <em class="brace">{</em>
<a id="L119" name="L119"></a> 119     catalogManager = manager;
<a id="L120" name="L120"></a> 120     <a href="../S/5928.html#L124" title="Defined at 124 in src/com/sun/org/apache/xml/internal/resolver/tools/ResolvingParser.java.">initParser</a>();
<a id="L121" name="L121"></a> 121   <em class="brace">}</em>
<a id="L122" name="L122"></a> 122 
<div class="comment">
   /** Initialize the parser. */</div>
<a id="L124" name="L124"></a> 124   <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20624.html" title="Multiple referred from 2 places.">initParser</a>() <em class="brace">{</em>
<a id="L125" name="L125"></a> 125     catalogResolver = <strong class="reserved">new</strong> <a href="../S/5930.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/resolver/tools/CatalogResolver.java.">CatalogResolver</a>(catalogManager);
<a id="L126" name="L126"></a> 126     <a href="../S/3844.html#L43" title="Defined at 43 in src/javax/xml/parsers/SAXParserFactory.java.">SAXParserFactory</a> spf = catalogManager.<a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a>() ?
<a id="L127" name="L127"></a> 127                     <a href="../S/3844.html#L43" title="Defined at 43 in src/javax/xml/parsers/SAXParserFactory.java.">SAXParserFactory</a>.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>() : <strong class="reserved">new</strong> <a href="../S/5399.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/jaxp/SAXParserFactoryImpl.java.">SAXParserFactoryImpl</a>();
<a id="L128" name="L128"></a> 128     spf.<a href="../D/33323.html" title="Multiple defined in 3 places.">setNamespaceAware</a>(namespaceAware);
<a id="L129" name="L129"></a> 129     spf.<a href="../D/34262.html" title="Multiple defined in 5 places.">setValidating</a>(validating);
<a id="L130" name="L130"></a> 130 
<a id="L131" name="L131"></a> 131     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L132" name="L132"></a> 132       saxParser = spf.<a href="../D/28066.html" title="Multiple defined in 2 places.">newSAXParser</a>();
<a id="L133" name="L133"></a> 133       parser = saxParser.<a href="../D/21413.html" title="Multiple defined in 8 places.">getParser</a>();
<a id="L134" name="L134"></a> 134       documentHandler = <strong class="reserved">null</strong>;
<a id="L135" name="L135"></a> 135       dtdHandler = <strong class="reserved">null</strong>;
<a id="L136" name="L136"></a> 136     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L137" name="L137"></a> 137       <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L138" name="L138"></a> 138     <em class="brace">}</em>
<a id="L139" name="L139"></a> 139   <em class="brace">}</em>
<a id="L140" name="L140"></a> 140 
<div class="comment">
   /** Return the Catalog being used. */</div>
<a id="L142" name="L142"></a> 142   <strong class="reserved">public</strong> <a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a> <a href="../R/15458.html" title="Multiple referred from 5 places.">getCatalog</a>() <em class="brace">{</em>
<a id="L143" name="L143"></a> 143     <strong class="reserved">return</strong> catalogResolver.<a href="../D/17511.html" title="Multiple defined in 7 places.">getCatalog</a>();
<a id="L144" name="L144"></a> 144   <em class="brace">}</em>
<a id="L145" name="L145"></a> 145 
<div class="comment">
    SAX Parser API.
    <p>Note that the JAXP 1.1ea2 parser crashes with an InternalError if
    it encounters a system identifier that appears to be a relative URI
    that begins with a slash. For example, the declaration:</p>
    <pre>    &lt;!DOCTYPE book SYSTEM "/path/to/dtd/on/my/system/docbookx.dtd"&gt;
    </pre>
    <p>would cause such an error. As a convenience, this method catches
    that error and prints an explanation. (Unfortunately, it's not possible
    to identify the particular system identifier that causes the problem.)
    </p>
    <p>The underlying error is forwarded after printing the explanatory
    message. The message is only every printed once and if
    <code>suppressExplanation</code> is set to <code>false</code> before
    parsing, it will never be printed.</p></div>
<a id="L167" name="L167"></a> 167   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>)
<a id="L168" name="L168"></a> 168     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>,
<a id="L169" name="L169"></a> 169            <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L170" name="L170"></a> 170     <a href="../D/34420.html" title="Multiple defined in 2 places.">setupParse</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>());
<a id="L171" name="L171"></a> 171     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L172" name="L172"></a> 172       parser.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>);
<a id="L173" name="L173"></a> 173     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a> ie) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174       <a href="../D/15869.html" title="Multiple defined in 2 places.">explain</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>());
<a id="L175" name="L175"></a> 175       <strong class="reserved">throw</strong> ie;
<a id="L176" name="L176"></a> 176     <em class="brace">}</em>
<a id="L177" name="L177"></a> 177   <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<div class="comment">
 SAX Parser API.
    @see #parse(InputSource)</div>
<a id="L183" name="L183"></a> 183   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L184" name="L184"></a> 184     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>,
<a id="L185" name="L185"></a> 185            <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L186" name="L186"></a> 186     <a href="../D/34420.html" title="Multiple defined in 2 places.">setupParse</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L187" name="L187"></a> 187     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L188" name="L188"></a> 188       parser.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L189" name="L189"></a> 189     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a> ie) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190       <a href="../D/15869.html" title="Multiple defined in 2 places.">explain</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L191" name="L191"></a> 191       <strong class="reserved">throw</strong> ie;
<a id="L192" name="L192"></a> 192     <em class="brace">}</em>
<a id="L193" name="L193"></a> 193   <em class="brace">}</em>
<a id="L194" name="L194"></a> 194 
<div class="comment">
   /** SAX Parser API. */</div>
<a id="L196" name="L196"></a> 196   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27268.html" title="Multiple referred from 93 places.">setDocumentHandler</a>(<a href="../D/2556.html" title="Multiple defined in 3 places.">DocumentHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <em class="brace">{</em>
<a id="L197" name="L197"></a> 197     documentHandler = <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L198" name="L198"></a> 198   <em class="brace">}</em>
<a id="L199" name="L199"></a> 199 
<div class="comment">
   /** SAX Parser API. */</div>
<a id="L201" name="L201"></a> 201   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27157.html" title="Multiple referred from 65 places.">setDTDHandler</a>(<a href="../S/721.html#L74" title="Defined at 74 in src/org/xml/sax/DTDHandler.java.">DTDHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202     dtdHandler = <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L203" name="L203"></a> 203   <em class="brace">}</em>
<a id="L204" name="L204"></a> 204 
<div class="comment">
    SAX Parser API.
    <p>The purpose of this class is to implement an entity resolver.
    Attempting to set a different one is pointless (and ignored).</p></div>
<a id="L211" name="L211"></a> 211   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27337.html" title="Multiple referred from 40 places.">setEntityResolver</a>(<a href="../S/722.html#L93" title="Defined at 93 in src/org/xml/sax/EntityResolver.java.">EntityResolver</a> resolver) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212     <em class="comment">// nop</em>
<a id="L213" name="L213"></a> 213   <em class="brace">}</em>
<a id="L214" name="L214"></a> 214 
<div class="comment">
   /** SAX Parser API. */</div>
<a id="L216" name="L216"></a> 216   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27345.html" title="Multiple referred from 43 places.">setErrorHandler</a>(<a href="../S/723.html#L73" title="Defined at 73 in src/org/xml/sax/ErrorHandler.java.">ErrorHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <em class="brace">{</em>
<a id="L217" name="L217"></a> 217     parser.<a href="../D/32615.html" title="Multiple defined in 34 places.">setErrorHandler</a>(<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>);
<a id="L218" name="L218"></a> 218   <em class="brace">}</em>
<a id="L219" name="L219"></a> 219 
<div class="comment">
   /** SAX Parser API. */</div>
<a id="L221" name="L221"></a> 221   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27688.html" title="Multiple referred from 47 places.">setLocale</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L222" name="L222"></a> 222     parser.<a href="../D/33132.html" title="Multiple defined in 36 places.">setLocale</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L223" name="L223"></a> 223   <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L226" name="L226"></a> 226   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11056.html" title="Multiple referred from 150 places.">characters</a>(<strong class="reserved">char</strong>[] ch, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L227" name="L227"></a> 227     <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L228" name="L228"></a> 228     <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229       documentHandler.<a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(ch,<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L230" name="L230"></a> 230     <em class="brace">}</em>
<a id="L231" name="L231"></a> 231   <em class="brace">}</em>
<a id="L232" name="L232"></a> 232 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L234" name="L234"></a> 234   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13761.html" title="Multiple referred from 58 places.">endDocument</a>() <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L235" name="L235"></a> 235     <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236       documentHandler.<a href="../D/15443.html" title="Multiple defined in 65 places.">endDocument</a>();
<a id="L237" name="L237"></a> 237     <em class="brace">}</em>
<a id="L238" name="L238"></a> 238   <em class="brace">}</em>
<a id="L239" name="L239"></a> 239 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L241" name="L241"></a> 241   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13766.html" title="Multiple referred from 95 places.">endElement</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L242" name="L242"></a> 242     <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243       documentHandler.<a href="../D/15448.html" title="Multiple defined in 90 places.">endElement</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L244" name="L244"></a> 244     <em class="brace">}</em>
<a id="L245" name="L245"></a> 245   <em class="brace">}</em>
<a id="L246" name="L246"></a> 246 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L248" name="L248"></a> 248   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20375.html" title="Multiple referred from 42 places.">ignorableWhitespace</a>(<strong class="reserved">char</strong>[] ch, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L249" name="L249"></a> 249     <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L250" name="L250"></a> 250     <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251       documentHandler.<a href="../D/24316.html" title="Multiple defined in 59 places.">ignorableWhitespace</a>(ch,<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L252" name="L252"></a> 252     <em class="brace">}</em>
<a id="L253" name="L253"></a> 253   <em class="brace">}</em>
<a id="L254" name="L254"></a> 254 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L256" name="L256"></a> 256   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25204.html" title="Multiple referred from 66 places.">processingInstruction</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pidata)
<a id="L257" name="L257"></a> 257     <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L258" name="L258"></a> 258 
<a id="L259" name="L259"></a> 259     <strong class="reserved">if</strong> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("oasis-xml-catalog")) <em class="brace">{</em>
<a id="L260" name="L260"></a> 260       <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> catalog = <strong class="reserved">null</strong>;
<a id="L261" name="L261"></a> 261       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = pidata;
<a id="L262" name="L262"></a> 262 
<a id="L263" name="L263"></a> 263       <strong class="reserved">int</strong> pos = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("catalog=");
<a id="L264" name="L264"></a> 264       <strong class="reserved">if</strong> (pos &gt;= 0) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(pos+8);
<a id="L266" name="L266"></a> 266         <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 1) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267           <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0,1);
<a id="L268" name="L268"></a> 268           <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L269" name="L269"></a> 269           pos = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(<a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a>);
<a id="L270" name="L270"></a> 270           <strong class="reserved">if</strong> (pos &gt;= 0) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, pos);
<a id="L272" name="L272"></a> 272             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L273" name="L273"></a> 273               <strong class="reserved">if</strong> (baseURL != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274                 catalog = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(baseURL, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L275" name="L275"></a> 275               <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L276" name="L276"></a> 276                 catalog = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L277" name="L277"></a> 277               <em class="brace">}</em>
<a id="L278" name="L278"></a> 278             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mue) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279               <em class="comment">// nevermind</em>
<a id="L280" name="L280"></a> 280             <em class="brace">}</em>
<a id="L281" name="L281"></a> 281           <em class="brace">}</em>
<a id="L282" name="L282"></a> 282         <em class="brace">}</em>
<a id="L283" name="L283"></a> 283       <em class="brace">}</em>
<a id="L284" name="L284"></a> 284 
<a id="L285" name="L285"></a> 285       <strong class="reserved">if</strong> (allowXMLCatalogPI) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286         <strong class="reserved">if</strong> (catalogManager.<a href="../S/5933.html#L773" title="Defined at 773 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">getAllowOasisXMLCatalogPI</a>()) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287           catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(4,"oasis-xml-catalog PI", pidata);
<a id="L288" name="L288"></a> 288 
<a id="L289" name="L289"></a> 289           <strong class="reserved">if</strong> (catalog != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L290" name="L290"></a> 290             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L291" name="L291"></a> 291               catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(4,"oasis-xml-catalog", catalog.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L292" name="L292"></a> 292               oasisXMLCatalogPI = <strong class="reserved">true</strong>;
<a id="L293" name="L293"></a> 293 
<a id="L294" name="L294"></a> 294               <strong class="reserved">if</strong> (piCatalogResolver == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295                 piCatalogResolver = <strong class="reserved">new</strong> <a href="../S/5930.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/resolver/tools/CatalogResolver.java.">CatalogResolver</a>(<strong class="reserved">true</strong>);
<a id="L296" name="L296"></a> 296               <em class="brace">}</em>
<a id="L297" name="L297"></a> 297 
<a id="L298" name="L298"></a> 298               piCatalogResolver.<a href="../D/17511.html" title="Multiple defined in 7 places.">getCatalog</a>().<a href="../D/29102.html" title="Multiple defined in 3 places.">parseCatalog</a>(catalog.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L299" name="L299"></a> 299             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L300" name="L300"></a> 300               catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(3, "Exception parsing oasis-xml-catalog: "
<a id="L301" name="L301"></a> 301                             + catalog.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L302" name="L302"></a> 302             <em class="brace">}</em>
<a id="L303" name="L303"></a> 303           <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L304" name="L304"></a> 304             catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(3, "PI oasis-xml-catalog unparseable: " + pidata);
<a id="L305" name="L305"></a> 305           <em class="brace">}</em>
<a id="L306" name="L306"></a> 306         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L307" name="L307"></a> 307           catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(4,"PI oasis-xml-catalog ignored: " + pidata);
<a id="L308" name="L308"></a> 308         <em class="brace">}</em>
<a id="L309" name="L309"></a> 309       <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(3, "PI oasis-xml-catalog occurred in an invalid place: "
<a id="L311" name="L311"></a> 311                       + pidata);
<a id="L312" name="L312"></a> 312       <em class="brace">}</em>
<a id="L313" name="L313"></a> 313     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L314" name="L314"></a> 314       <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315         documentHandler.<a href="../D/29876.html" title="Multiple defined in 72 places.">processingInstruction</a>(<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, pidata);
<a id="L316" name="L316"></a> 316       <em class="brace">}</em>
<a id="L317" name="L317"></a> 317     <em class="brace">}</em>
<a id="L318" name="L318"></a> 318   <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L321" name="L321"></a> 321   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27270.html" title="Multiple referred from 45 places.">setDocumentLocator</a>(<a href="../D/5191.html" title="Multiple defined in 3 places.">Locator</a> locator) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322     <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L323" name="L323"></a> 323       documentHandler.<a href="../D/32500.html" title="Multiple defined in 33 places.">setDocumentLocator</a>(locator);
<a id="L324" name="L324"></a> 324     <em class="brace">}</em>
<a id="L325" name="L325"></a> 325   <em class="brace">}</em>
<a id="L326" name="L326"></a> 326 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L328" name="L328"></a> 328   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28800.html" title="Multiple referred from 67 places.">startDocument</a>() <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L329" name="L329"></a> 329     <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L330" name="L330"></a> 330       documentHandler.<a href="../D/34768.html" title="Multiple defined in 61 places.">startDocument</a>();
<a id="L331" name="L331"></a> 331     <em class="brace">}</em>
<a id="L332" name="L332"></a> 332   <em class="brace">}</em>
<a id="L333" name="L333"></a> 333 
<div class="comment">
   /** SAX DocumentHandler API. */</div>
<a id="L335" name="L335"></a> 335   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28813.html" title="Multiple referred from 116 places.">startElement</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/576.html" title="Multiple defined in 3 places.">AttributeList</a> atts)
<a id="L336" name="L336"></a> 336     <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L337" name="L337"></a> 337     allowXMLCatalogPI = <strong class="reserved">false</strong>;
<a id="L338" name="L338"></a> 338     <strong class="reserved">if</strong> (documentHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339       documentHandler.<a href="../D/34781.html" title="Multiple defined in 105 places.">startElement</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,atts);
<a id="L340" name="L340"></a> 340     <em class="brace">}</em>
<a id="L341" name="L341"></a> 341   <em class="brace">}</em>
<a id="L342" name="L342"></a> 342 
<div class="comment">
   /** SAX DTDHandler API. */</div>
<a id="L344" name="L344"></a> 344   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23809.html" title="Multiple referred from 25 places.">notationDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L345" name="L345"></a> 345     <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L346" name="L346"></a> 346     allowXMLCatalogPI = <strong class="reserved">false</strong>;
<a id="L347" name="L347"></a> 347     <strong class="reserved">if</strong> (dtdHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L348" name="L348"></a> 348       dtdHandler.<a href="../D/28313.html" title="Multiple defined in 26 places.">notationDecl</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L349" name="L349"></a> 349     <em class="brace">}</em>
<a id="L350" name="L350"></a> 350   <em class="brace">}</em>
<a id="L351" name="L351"></a> 351 
<div class="comment">
   /** SAX DTDHandler API. */</div>
<a id="L353" name="L353"></a> 353   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29743.html" title="Multiple referred from 14 places.">unparsedEntityDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L354" name="L354"></a> 354                                   <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L355" name="L355"></a> 355                                   <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>,
<a id="L356" name="L356"></a> 356                                   <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> notationName)
<a id="L357" name="L357"></a> 357     <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L358" name="L358"></a> 358     allowXMLCatalogPI = <strong class="reserved">false</strong>;
<a id="L359" name="L359"></a> 359     <strong class="reserved">if</strong> (dtdHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360       dtdHandler.<a href="../D/35954.html" title="Multiple defined in 26 places.">unparsedEntityDecl</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, notationName);
<a id="L361" name="L361"></a> 361     <em class="brace">}</em>
<a id="L362" name="L362"></a> 362   <em class="brace">}</em>
<a id="L363" name="L363"></a> 363 
<div class="comment">
    Implements the <code>resolveEntity</code> method
    for the SAX interface, using an underlying CatalogResolver
    to do the real work.</div>
<a id="L369" name="L369"></a> 369   <strong class="reserved">public</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../R/26336.html" title="Multiple referred from 17 places.">resolveEntity</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370     allowXMLCatalogPI = <strong class="reserved">false</strong>;
<a id="L371" name="L371"></a> 371     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolved = catalogResolver.<a href="../S/5930.html#L126" title="Defined at 126 in src/com/sun/org/apache/xml/internal/resolver/tools/CatalogResolver.java.">getResolvedEntity</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373     <strong class="reserved">if</strong> (resolved == <strong class="reserved">null</strong> &amp;&amp; piCatalogResolver != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L374" name="L374"></a> 374       resolved = piCatalogResolver.<a href="../S/5930.html#L126" title="Defined at 126 in src/com/sun/org/apache/xml/internal/resolver/tools/CatalogResolver.java.">getResolvedEntity</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L375" name="L375"></a> 375     <em class="brace">}</em>
<a id="L376" name="L376"></a> 376 
<a id="L377" name="L377"></a> 377     <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378       <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L379" name="L379"></a> 379         <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> iSource = <strong class="reserved">new</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a>(resolved);
<a id="L380" name="L380"></a> 380         iSource.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L381" name="L381"></a> 381 
<a id="L382" name="L382"></a> 382         <em class="comment">// Ideally this method would not attempt to open the</em>
<a id="L383" name="L383"></a> 383         <em class="comment">// InputStream, but there is a bug (in Xerces, at least)</em>
<a id="L384" name="L384"></a> 384         <em class="comment">// that causes the parser to mistakenly open the wrong</em>
<a id="L385" name="L385"></a> 385         <em class="comment">// system identifier if the returned InputSource does</em>
<a id="L386" name="L386"></a> 386         <em class="comment">// not have a byteStream.</em>
<a id="L387" name="L387"></a> 387         <em class="comment">//</em>
<a id="L388" name="L388"></a> 388         <em class="comment">// It could be argued that we still shouldn't do this here,</em>
<a id="L389" name="L389"></a> 389         <em class="comment">// but since the purpose of calling the entityResolver is</em>
<a id="L390" name="L390"></a> 390         <em class="comment">// almost certainly to open the input stream, it seems to</em>
<a id="L391" name="L391"></a> 391         <em class="comment">// do little harm.</em>
<a id="L392" name="L392"></a> 392         <em class="comment">//</em>
<a id="L393" name="L393"></a> 393         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(resolved);
<a id="L394" name="L394"></a> 394         <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> iStream = url.<a href="../S/768.html#L1037" title="Defined at 1037 in src/java/net/URL.java.">openStream</a>();
<a id="L395" name="L395"></a> 395         iSource.<a href="../D/32067.html" title="Multiple defined in 7 places.">setByteStream</a>(iStream);
<a id="L396" name="L396"></a> 396 
<a id="L397" name="L397"></a> 397         <strong class="reserved">return</strong> iSource;
<a id="L398" name="L398"></a> 398       <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L399" name="L399"></a> 399         catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "Failed to create InputSource", resolved);
<a id="L400" name="L400"></a> 400         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L401" name="L401"></a> 401       <em class="brace">}</em>
<a id="L402" name="L402"></a> 402     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L403" name="L403"></a> 403       <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L404" name="L404"></a> 404     <em class="brace">}</em>
<a id="L405" name="L405"></a> 405   <em class="brace">}</em>
<a id="L406" name="L406"></a> 406 
<div class="comment">
   /** Setup for parsing. */</div>
<a id="L408" name="L408"></a> 408   <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/28481.html" title="Multiple referred from 3 places.">setupParse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409     allowXMLCatalogPI = <strong class="reserved">true</strong>;
<a id="L410" name="L410"></a> 410     parser.<a href="../D/32603.html" title="Multiple defined in 31 places.">setEntityResolver</a>(<strong class="reserved">this</strong>);
<a id="L411" name="L411"></a> 411     parser.<a href="../D/32498.html" title="Multiple defined in 21 places.">setDocumentHandler</a>(<strong class="reserved">this</strong>);
<a id="L412" name="L412"></a> 412     parser.<a href="../D/32341.html" title="Multiple defined in 25 places.">setDTDHandler</a>(<strong class="reserved">this</strong>);
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414     <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> cwd = <strong class="reserved">null</strong>;
<a id="L415" name="L415"></a> 415 
<a id="L416" name="L416"></a> 416     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L417" name="L417"></a> 417       cwd = <a href="../S/5950.html#L46" title="Defined at 46 in src/com/sun/org/apache/xml/internal/resolver/helpers/FileURL.java.">FileURL</a>.<a href="../S/5950.html#L76" title="Defined at 76 in src/com/sun/org/apache/xml/internal/resolver/helpers/FileURL.java.">makeURL</a>("basename");
<a id="L418" name="L418"></a> 418     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mue) <em class="brace">{</em>
<a id="L419" name="L419"></a> 419       cwd = <strong class="reserved">null</strong>;
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<a id="L422" name="L422"></a> 422     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L423" name="L423"></a> 423       baseURL = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L424" name="L424"></a> 424     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mue) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425       <strong class="reserved">if</strong> (cwd != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L427" name="L427"></a> 427           baseURL = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(cwd, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L428" name="L428"></a> 428         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mue2) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429           <em class="comment">// give up</em>
<a id="L430" name="L430"></a> 430           baseURL = <strong class="reserved">null</strong>;
<a id="L431" name="L431"></a> 431         <em class="brace">}</em>
<a id="L432" name="L432"></a> 432       <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L433" name="L433"></a> 433         <em class="comment">// give up</em>
<a id="L434" name="L434"></a> 434         baseURL = <strong class="reserved">null</strong>;
<a id="L435" name="L435"></a> 435       <em class="brace">}</em>
<a id="L436" name="L436"></a> 436     <em class="brace">}</em>
<a id="L437" name="L437"></a> 437   <em class="brace">}</em>
<a id="L438" name="L438"></a> 438 
<div class="comment">
   /** Provide one possible explanation for an InternalError. */</div>
<a id="L440" name="L440"></a> 440   <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/14153.html" title="Multiple referred from 4 places.">explain</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441     <strong class="reserved">if</strong> (!suppressExplanation) <em class="brace">{</em>
<a id="L442" name="L442"></a> 442       <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Parser probably encountered bad URI in " + <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L443" name="L443"></a> 443       <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("For example, replace '/some/uri' with 'file:/some/uri'.");
<a id="L444" name="L444"></a> 444     <em class="brace">}</em>
<a id="L445" name="L445"></a> 445   <em class="brace">}</em>
<a id="L446" name="L446"></a> 446 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L124">[^]</a><a href="#L440">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>