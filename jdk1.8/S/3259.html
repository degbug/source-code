<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/rtf/RTFGenerator.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L115">[^]</a><a href="#L989">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L115" title="Defined at 115.">writeDocument</a></li>
<li><a href="#L154" title="Defined at 154.">examineElement</a></li>
<li><a href="#L197" title="Defined at 197.">tallyStyles</a></li>
<li><a href="#L211" title="Defined at 211.">findStyle</a></li>
<li><a href="#L224" title="Defined at 224.">findStyleNumber</a></li>
<li><a href="#L241" title="Defined at 241.">attrDiff</a></li>
<li><a href="#L268" title="Defined at 268.">equalArraysOK</a></li>
<li><a href="#L295" title="Defined at 295.">writeLineBreak</a></li>
<li><a href="#L303" title="Defined at 303.">writeRTFHeader</a></li>
<li><a href="#L435" title="Defined at 435.">writeDocumentProperties</a></li>
<li><a href="#L456" title="Defined at 456.">writeRTFTrailer</a></li>
<li><a href="#L463" title="Defined at 463.">checkNumericControlWord</a></li>
<li><a href="#L483" title="Defined at 483.">checkControlWord</a></li>
<li><a href="#L498" title="Defined at 498.">checkControlWords</a></li>
<li><a href="#L513" title="Defined at 513.">updateSectionAttributes</a></li>
<li><a href="#L538" title="Defined at 538.">resetSectionAttributes</a></li>
<li><a href="#L554" title="Defined at 554.">updateParagraphAttributes</a></li>
<li><a href="#L648" title="Defined at 648.">writeParagraphElement</a></li>
<li><a href="#L683" title="Defined at 683.">resetParagraphAttributes</a></li>
<li><a href="#L702" title="Defined at 702.">updateCharacterAttributes</a></li>
<li><a href="#L764" title="Defined at 764.">resetCharacterAttributes</a></li>
<li><a href="#L785" title="Defined at 785.">writeTextElement</a></li>
<li><a href="#L808" title="Defined at 808.">writeText</a></li>
<li><a href="#L821" title="Defined at 821.">writeText</a></li>
<li><a href="#L832" title="Defined at 832.">writeRawString</a></li>
<li><a href="#L840" title="Defined at 840.">writeControlWord</a></li>
<li><a href="#L848" title="Defined at 848.">writeControlWord</a></li>
<li><a href="#L857" title="Defined at 857.">writeBegingroup</a></li>
<li><a href="#L864" title="Defined at 864.">writeEndgroup</a></li>
<li><a href="#L871" title="Defined at 871.">writeCharacter</a></li>
<li><a href="#L949" title="Defined at 949.">approximationForUnicode</a></li>
<li><a href="#L962" title="Defined at 962.">outputConversionFromTranslationTable</a></li>
<li><a href="#L976" title="Defined at 976.">outputConversionForName</a></li>
<li><a href="#L989" title="Defined at 989.">convertCharacter</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2008, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/31476.html" title="Multiple defined in 6 places.">rtf</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.lang.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.Color;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.Font;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.io.IOException;
<a id="L33" name="L33"></a>  33 
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.swing.text.*;
<a id="L35" name="L35"></a>  35 
<div class="comment">
  Generates an RTF output stream (java.io.OutputStream) from rich text
  (handed off through a series of LTTextAcceptor calls).  Can be used to
  generate RTF from any object which knows how to write to a text acceptor
  (e.g., LTAttributedText and LTRTFFilter).
  <p>Note that this is a lossy conversion since RTF's model of
  text does not exactly correspond with LightText's.
  @see LTAttributedText
  @see LTRTFFilter
  @see LTTextAcceptor
  @see java.io.OutputStream</p></div>
<a id="L50" name="L50"></a>  50 
<a id="L51" name="L51"></a>  51 <strong class="reserved">class</strong> <a href="../R/6449.html" title="Multiple referred from 9 places.">RTFGenerator</a> <strong class="reserved">extends</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>
<a id="L52" name="L52"></a>  52 <em class="brace">{</em>
<div class="comment">
 These dictionaries map Colors, font names, or Style objects
       to Integers </div>
<a id="L55" name="L55"></a>  55     <a href="../S/1131.html#L50" title="Defined at 50 in src/java/util/Dictionary.java.">Dictionary</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; colorTable;
<a id="L56" name="L56"></a>  56     <strong class="reserved">int</strong> colorCount;
<a id="L57" name="L57"></a>  57     <a href="../S/1131.html#L50" title="Defined at 50 in src/java/util/Dictionary.java.">Dictionary</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; fontTable;
<a id="L58" name="L58"></a>  58     <strong class="reserved">int</strong> fontCount;
<a id="L59" name="L59"></a>  59     <a href="../S/1131.html#L50" title="Defined at 50 in src/java/util/Dictionary.java.">Dictionary</a>&lt;<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; styleTable;
<a id="L60" name="L60"></a>  60     <strong class="reserved">int</strong> styleCount;
<a id="L61" name="L61"></a>  61 
<div class="comment">
     /* where all the text is going */</div>
<a id="L63" name="L63"></a>  63     <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> outputStream;
<a id="L64" name="L64"></a>  64 
<a id="L65" name="L65"></a>  65     <strong class="reserved">boolean</strong> afterKeyword;
<a id="L66" name="L66"></a>  66 
<a id="L67" name="L67"></a>  67     <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> outputAttributes;
<a id="L68" name="L68"></a>  68 
<div class="comment">
     /* the value of the last \\ucN keyword emitted */</div>
<a id="L70" name="L70"></a>  70     <strong class="reserved">int</strong> unicodeCount;
<a id="L71" name="L71"></a>  71 
<div class="comment">
     /* for efficiency's sake (ha) */</div>
<a id="L73" name="L73"></a>  73     <strong class="reserved">private</strong> <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> workingSegment;
<a id="L74" name="L74"></a>  74 
<a id="L75" name="L75"></a>  75     <strong class="reserved">int</strong>[] outputConversion;
<a id="L76" name="L76"></a>  76 
<div class="comment">
 The default color, used for text without an explicit color
     *  attribute. </div>
<a id="L79" name="L79"></a>  79     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> defaultRTFColor = <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>.black;
<a id="L80" name="L80"></a>  80 
<a id="L81" name="L81"></a>  81     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">float</strong> defaultFontSize = 12f;
<a id="L82" name="L82"></a>  82 
<a id="L83" name="L83"></a>  83     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> defaultFontFamily = "Helvetica";
<a id="L84" name="L84"></a>  84 
<div class="comment">
     /* constants so we can avoid allocating objects in inner loops */</div>
<a id="L86" name="L86"></a>  86     <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> MagicToken;
<a id="L87" name="L87"></a>  87 
<div class="comment">
 An array of character-keyword pairs. This could be done
       as a dictionary (and lookup would be quicker), but that
       would require allocating an object for every character
       written (slow!). </div>
<a id="L92" name="L92"></a>  92     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1294.html" title="Multiple referred from 4 places.">CharacterKeywordPair</a>
<a id="L93" name="L93"></a>  93       <em class="brace">{</em> <strong class="reserved">public</strong> <strong class="reserved">char</strong> character; <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> keyword; <em class="brace">}</em>
<a id="L94" name="L94"></a>  94     <strong class="reserved">static</strong> <strong class="reserved">protected</strong> <a href="../S/3259.html#L92" title="Defined at 92 in src/javax/swing/text/rtf/RTFGenerator.java.">CharacterKeywordPair</a>[] textKeywords;
<a id="L95" name="L95"></a>  95 
<a id="L96" name="L96"></a>  96     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L97" name="L97"></a>  97         MagicToken = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L98" name="L98"></a>  98 
<a id="L99" name="L99"></a>  99         <a href="../S/1131.html#L50" title="Defined at 50 in src/java/util/Dictionary.java.">Dictionary</a> textKeywordDictionary = <a href="../S/3263.html#L49" title="Defined at 49 in src/javax/swing/text/rtf/RTFReader.java.">RTFReader</a>.textKeywords;
<a id="L100" name="L100"></a> 100         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = textKeywordDictionary.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L101" name="L101"></a> 101         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3259.html#L92" title="Defined at 92 in src/javax/swing/text/rtf/RTFGenerator.java.">CharacterKeywordPair</a>&gt; tempPairs = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3259.html#L92" title="Defined at 92 in src/javax/swing/text/rtf/RTFGenerator.java.">CharacterKeywordPair</a>&gt;();
<a id="L102" name="L102"></a> 102         <strong class="reserved">while</strong>(<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L103" name="L103"></a> 103             <a href="../S/3259.html#L92" title="Defined at 92 in src/javax/swing/text/rtf/RTFGenerator.java.">CharacterKeywordPair</a> pair = <strong class="reserved">new</strong> <a href="../S/3259.html#L92" title="Defined at 92 in src/javax/swing/text/rtf/RTFGenerator.java.">CharacterKeywordPair</a>();
<a id="L104" name="L104"></a> 104             pair.keyword = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L105" name="L105"></a> 105             pair.character = ((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)textKeywordDictionary.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(pair.keyword)).<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L106" name="L106"></a> 106             tempPairs.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(pair);
<a id="L107" name="L107"></a> 107         <em class="brace">}</em>
<a id="L108" name="L108"></a> 108         textKeywords = <strong class="reserved">new</strong> <a href="../S/3259.html#L92" title="Defined at 92 in src/javax/swing/text/rtf/RTFGenerator.java.">CharacterKeywordPair</a>[tempPairs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()];
<a id="L109" name="L109"></a> 109         tempPairs.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(textKeywords);
<a id="L110" name="L110"></a> 110     <em class="brace">}</em>
<a id="L111" name="L111"></a> 111 
<a id="L112" name="L112"></a> 112     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong>[] hexdigits = <em class="brace">{</em> '0', '1', '2', '3', '4', '5', '6', '7',
<a id="L113" name="L113"></a> 113                                       '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' <em class="brace">}</em>;
<a id="L114" name="L114"></a> 114 
<a id="L115" name="L115"></a> 115 <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3257.html#L108" title="Referred from 108 in src/javax/swing/text/rtf/RTFEditorKit.java.">writeDocument</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> d, <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>)
<a id="L116" name="L116"></a> 116     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L117" name="L117"></a> 117 <em class="brace">{</em>
<a id="L118" name="L118"></a> 118     <a href="../S/3259.html#L51" title="Defined at 51 in src/javax/swing/text/rtf/RTFGenerator.java.">RTFGenerator</a> gen = <strong class="reserved">new</strong> <a href="../S/3259.html#L51" title="Defined at 51 in src/javax/swing/text/rtf/RTFGenerator.java.">RTFGenerator</a>(<a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>);
<a id="L119" name="L119"></a> 119     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> = d.<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L120" name="L120"></a> 120 
<a id="L121" name="L121"></a> 121     gen.<a href="../S/3259.html#L154" title="Defined at 154 in src/javax/swing/text/rtf/RTFGenerator.java.">examineElement</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>);
<a id="L122" name="L122"></a> 122     gen.<a href="../S/3259.html#L303" title="Defined at 303 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRTFHeader</a>();
<a id="L123" name="L123"></a> 123     gen.<a href="../S/3259.html#L435" title="Defined at 435 in src/javax/swing/text/rtf/RTFGenerator.java.">writeDocumentProperties</a>(d);
<a id="L124" name="L124"></a> 124 
<div class="comment">
 TODO this assumes a particular element structure; is there
       a way to iterate more generically ? </div>
<a id="L127" name="L127"></a> 127     <strong class="reserved">int</strong> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L128" name="L128"></a> 128     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> idx = 0; idx &lt; <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>; idx++)
<a id="L129" name="L129"></a> 129         gen.<a href="../S/3259.html#L648" title="Defined at 648 in src/javax/swing/text/rtf/RTFGenerator.java.">writeParagraphElement</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(idx));
<a id="L130" name="L130"></a> 130 
<a id="L131" name="L131"></a> 131     gen.<a href="../S/3259.html#L456" title="Defined at 456 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRTFTrailer</a>();
<a id="L132" name="L132"></a> 132 <em class="brace">}</em>
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134 <strong class="reserved">public</strong> RTFGenerator(<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>)
<a id="L135" name="L135"></a> 135 <em class="brace">{</em>
<a id="L136" name="L136"></a> 136     colorTable = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt;();
<a id="L137" name="L137"></a> 137     colorTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(defaultRTFColor, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(0));
<a id="L138" name="L138"></a> 138     colorCount = 1;
<a id="L139" name="L139"></a> 139 
<a id="L140" name="L140"></a> 140     fontTable = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt;();
<a id="L141" name="L141"></a> 141     fontCount = 0;
<a id="L142" name="L142"></a> 142 
<a id="L143" name="L143"></a> 143     styleTable = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt;();
<div class="comment">
     /* TODO: put default style in style table */</div>
<a id="L145" name="L145"></a> 145     styleCount = 0;
<a id="L146" name="L146"></a> 146 
<a id="L147" name="L147"></a> 147     workingSegment = <strong class="reserved">new</strong> <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a>();
<a id="L148" name="L148"></a> 148 
<a id="L149" name="L149"></a> 149     outputStream = <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>;
<a id="L150" name="L150"></a> 150 
<a id="L151" name="L151"></a> 151     unicodeCount = 1;
<a id="L152" name="L152"></a> 152 <em class="brace">}</em>
<a id="L153" name="L153"></a> 153 
<a id="L154" name="L154"></a> 154 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14065.html" title="Multiple referred from 2 places.">examineElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el)
<a id="L155" name="L155"></a> 155 <em class="brace">{</em>
<a id="L156" name="L156"></a> 156     <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = el.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L157" name="L157"></a> 157     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fontName;
<a id="L158" name="L158"></a> 158     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> foregroundColor, backgroundColor;
<a id="L159" name="L159"></a> 159 
<a id="L160" name="L160"></a> 160     <a href="../S/3259.html#L197" title="Defined at 197 in src/javax/swing/text/rtf/RTFGenerator.java.">tallyStyles</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L161" name="L161"></a> 161 
<a id="L162" name="L162"></a> 162     <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<div class="comment">
         /* TODO: default color must be color 0! */</div>
<a id="L164" name="L164"></a> 164 
<a id="L165" name="L165"></a> 165         foregroundColor = <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../D/19200.html" title="Multiple defined in 21 places.">getForeground</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L166" name="L166"></a> 166         <strong class="reserved">if</strong> (foregroundColor != <strong class="reserved">null</strong> &amp;&amp;
<a id="L167" name="L167"></a> 167             colorTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(foregroundColor) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L168" name="L168"></a> 168             colorTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(foregroundColor, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(colorCount));
<a id="L169" name="L169"></a> 169             colorCount ++;
<a id="L170" name="L170"></a> 170         <em class="brace">}</em>
<a id="L171" name="L171"></a> 171 
<a id="L172" name="L172"></a> 172         backgroundColor = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.Background);
<a id="L173" name="L173"></a> 173         <strong class="reserved">if</strong> (backgroundColor != <strong class="reserved">null</strong> &amp;&amp;
<a id="L174" name="L174"></a> 174             colorTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(backgroundColor) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L175" name="L175"></a> 175             colorTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(backgroundColor, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(colorCount));
<a id="L176" name="L176"></a> 176             colorCount ++;
<a id="L177" name="L177"></a> 177         <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<a id="L179" name="L179"></a> 179         fontName = <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../D/19182.html" title="Multiple defined in 2 places.">getFontFamily</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L180" name="L180"></a> 180 
<a id="L181" name="L181"></a> 181         <strong class="reserved">if</strong> (fontName == <strong class="reserved">null</strong>)
<a id="L182" name="L182"></a> 182             fontName = defaultFontFamily;
<a id="L183" name="L183"></a> 183 
<a id="L184" name="L184"></a> 184         <strong class="reserved">if</strong> (fontName != <strong class="reserved">null</strong> &amp;&amp;
<a id="L185" name="L185"></a> 185             fontTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(fontName) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L186" name="L186"></a> 186             fontTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(fontName, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(fontCount));
<a id="L187" name="L187"></a> 187             fontCount ++;
<a id="L188" name="L188"></a> 188         <em class="brace">}</em>
<a id="L189" name="L189"></a> 189     <em class="brace">}</em>
<a id="L190" name="L190"></a> 190 
<a id="L191" name="L191"></a> 191     <strong class="reserved">int</strong> el_count = el.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L192" name="L192"></a> 192     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> el_idx = 0; el_idx &lt; el_count; el_idx ++) <em class="brace">{</em>
<a id="L193" name="L193"></a> 193         <a href="../S/3259.html#L154" title="Defined at 154 in src/javax/swing/text/rtf/RTFGenerator.java.">examineElement</a>(el.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(el_idx));
<a id="L194" name="L194"></a> 194     <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 <em class="brace">}</em>
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197 <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3259.html#L160" title="Referred from 160 in src/javax/swing/text/rtf/RTFGenerator.java.">tallyStyles</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198     <strong class="reserved">while</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a>) <em class="brace">{</em>
<a id="L200" name="L200"></a> 200             <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> aNum = styleTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L201" name="L201"></a> 201             <strong class="reserved">if</strong> (aNum == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202                 styleCount = styleCount + 1;
<a id="L203" name="L203"></a> 203                 aNum = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(styleCount);
<a id="L204" name="L204"></a> 204                 styleTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, aNum);
<a id="L205" name="L205"></a> 205             <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/22034.html" title="Multiple defined in 13 places.">getResolveParent</a>();
<a id="L208" name="L208"></a> 208     <em class="brace">}</em>
<a id="L209" name="L209"></a> 209 <em class="brace">}</em>
<a id="L210" name="L210"></a> 210 
<a id="L211" name="L211"></a> 211 <strong class="reserved">private</strong> <a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a> findStyle(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>)
<a id="L212" name="L212"></a> 212 <em class="brace">{</em>
<a id="L213" name="L213"></a> 213     <strong class="reserved">while</strong>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a>) <em class="brace">{</em>
<a id="L215" name="L215"></a> 215             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> aNum = styleTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L216" name="L216"></a> 216             <strong class="reserved">if</strong> (aNum != <strong class="reserved">null</strong>)
<a id="L217" name="L217"></a> 217                 <strong class="reserved">return</strong> (<a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L218" name="L218"></a> 218         <em class="brace">}</em>
<a id="L219" name="L219"></a> 219         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/22034.html" title="Multiple defined in 13 places.">getResolveParent</a>();
<a id="L220" name="L220"></a> 220     <em class="brace">}</em>
<a id="L221" name="L221"></a> 221     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L222" name="L222"></a> 222 <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224 <strong class="reserved">private</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../R/14486.html" title="Multiple referred from 3 places.">findStyleNumber</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>)
<a id="L225" name="L225"></a> 225 <em class="brace">{</em>
<a id="L226" name="L226"></a> 226     <strong class="reserved">while</strong>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a>) <em class="brace">{</em>
<a id="L228" name="L228"></a> 228             <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> aNum = styleTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L229" name="L229"></a> 229             <strong class="reserved">if</strong> (aNum != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L230" name="L230"></a> 230                 <strong class="reserved">if</strong> (<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a> == <strong class="reserved">null</strong> ||
<a id="L231" name="L231"></a> 231                     <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.StyleType)))
<a id="L232" name="L232"></a> 232                     <strong class="reserved">return</strong> aNum;
<a id="L233" name="L233"></a> 233             <em class="brace">}</em>
<a id="L234" name="L234"></a> 234 
<a id="L235" name="L235"></a> 235         <em class="brace">}</em>
<a id="L236" name="L236"></a> 236         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/22034.html" title="Multiple defined in 13 places.">getResolveParent</a>();
<a id="L237" name="L237"></a> 237     <em class="brace">}</em>
<a id="L238" name="L238"></a> 238     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L239" name="L239"></a> 239 <em class="brace">}</em>
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241 <strong class="reserved">static</strong> <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/10401.html" title="Multiple referred from 5 places.">attrDiff</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> oldAttrs,
<a id="L242" name="L242"></a> 242                                <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttrs,
<a id="L243" name="L243"></a> 243                                <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L244" name="L244"></a> 244                                <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> dfl)
<a id="L245" name="L245"></a> 245 <em class="brace">{</em>
<a id="L246" name="L246"></a> 246     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldValue, newValue;
<a id="L247" name="L247"></a> 247 
<a id="L248" name="L248"></a> 248     oldValue = oldAttrs.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L249" name="L249"></a> 249     newValue = newAttrs.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L250" name="L250"></a> 250 
<a id="L251" name="L251"></a> 251     <strong class="reserved">if</strong> (newValue == oldValue)
<a id="L252" name="L252"></a> 252         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L253" name="L253"></a> 253     <strong class="reserved">if</strong> (newValue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254         oldAttrs.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L255" name="L255"></a> 255         <strong class="reserved">if</strong> (dfl != <strong class="reserved">null</strong> &amp;&amp; !dfl.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(oldValue))
<a id="L256" name="L256"></a> 256             <strong class="reserved">return</strong> dfl;
<a id="L257" name="L257"></a> 257         <strong class="reserved">else</strong>
<a id="L258" name="L258"></a> 258             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L259" name="L259"></a> 259     <em class="brace">}</em>
<a id="L260" name="L260"></a> 260     <strong class="reserved">if</strong> (oldValue == <strong class="reserved">null</strong> ||
<a id="L261" name="L261"></a> 261         !<a href="../S/3259.html#L268" title="Defined at 268 in src/javax/swing/text/rtf/RTFGenerator.java.">equalArraysOK</a>(oldValue, newValue)) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262         oldAttrs.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, newValue);
<a id="L263" name="L263"></a> 263         <strong class="reserved">return</strong> newValue;
<a id="L264" name="L264"></a> 264     <em class="brace">}</em>
<a id="L265" name="L265"></a> 265     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L266" name="L266"></a> 266 <em class="brace">}</em>
<a id="L267" name="L267"></a> 267 
<a id="L268" name="L268"></a> 268 <strong class="reserved">static</strong> <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/13985.html" title="Multiple referred from 2 places.">equalArraysOK</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> b)
<a id="L269" name="L269"></a> 269 <em class="brace">{</em>
<a id="L270" name="L270"></a> 270     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] aa, bb;
<a id="L271" name="L271"></a> 271     <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == b)
<a id="L272" name="L272"></a> 272         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L273" name="L273"></a> 273     <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong> || b == <strong class="reserved">null</strong>)
<a id="L274" name="L274"></a> 274         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L275" name="L275"></a> 275     <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(b))
<a id="L276" name="L276"></a> 276         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L277" name="L277"></a> 277     <strong class="reserved">if</strong> (!(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a>() &amp;&amp; b.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a>()))
<a id="L278" name="L278"></a> 278         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L279" name="L279"></a> 279     aa = (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[])<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L280" name="L280"></a> 280     bb = (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[])b;
<a id="L281" name="L281"></a> 281     <strong class="reserved">if</strong> (aa.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != bb.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L282" name="L282"></a> 282         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284     <strong class="reserved">int</strong> i;
<a id="L285" name="L285"></a> 285     <strong class="reserved">int</strong> l = aa.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L286" name="L286"></a> 286     <strong class="reserved">for</strong>(i = 0; i &lt; l; i++) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong> (!<a href="../S/3259.html#L268" title="Defined at 268 in src/javax/swing/text/rtf/RTFGenerator.java.">equalArraysOK</a>(aa[i], bb[i]))
<a id="L288" name="L288"></a> 288             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L289" name="L289"></a> 289     <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<a id="L291" name="L291"></a> 291     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L292" name="L292"></a> 292 <em class="brace">}</em>
<a id="L293" name="L293"></a> 293 
<div class="comment">
 /* Writes a line break to the output file, for ease in debugging */</div>
<a id="L295" name="L295"></a> 295 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30652.html" title="Multiple referred from 7 places.">writeLineBreak</a>()
<a id="L296" name="L296"></a> 296     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L297" name="L297"></a> 297 <em class="brace">{</em>
<a id="L298" name="L298"></a> 298     <a href="../S/3259.html#L832" title="Defined at 832 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRawString</a>("\n");
<a id="L299" name="L299"></a> 299     afterKeyword = <strong class="reserved">false</strong>;
<a id="L300" name="L300"></a> 300 <em class="brace">}</em>
<a id="L301" name="L301"></a> 301 
<a id="L302" name="L302"></a> 302 
<a id="L303" name="L303"></a> 303 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3259.html#L122" title="Referred from 122 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRTFHeader</a>()
<a id="L304" name="L304"></a> 304     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L305" name="L305"></a> 305 <em class="brace">{</em>
<a id="L306" name="L306"></a> 306     <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L307" name="L307"></a> 307 
<div class="comment">
 TODO: Should the writer attempt to examine the text it's writing
       and pick a character set which will most compactly represent the
       document? (currently the writer always uses the ansi character
       set, which is roughly ISO-8859 Latin-1, and uses Unicode escapes
       for all other characters. However Unicode is a relatively
       recent addition to RTF, and not all readers will understand it.) </div>
<a id="L314" name="L314"></a> 314     <a href="../S/3259.html#L857" title="Defined at 857 in src/javax/swing/text/rtf/RTFGenerator.java.">writeBegingroup</a>();
<a id="L315" name="L315"></a> 315     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("rtf", 1);
<a id="L316" name="L316"></a> 316     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("ansi");
<a id="L317" name="L317"></a> 317     outputConversion = <a href="../S/3259.html#L976" title="Defined at 976 in src/javax/swing/text/rtf/RTFGenerator.java.">outputConversionForName</a>("ansi");
<a id="L318" name="L318"></a> 318     <a href="../S/3259.html#L295" title="Defined at 295 in src/javax/swing/text/rtf/RTFGenerator.java.">writeLineBreak</a>();
<a id="L319" name="L319"></a> 319 
<div class="comment">
     /* write font table */</div>
<a id="L321" name="L321"></a> 321     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] sortedFontTable = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[fontCount];
<a id="L322" name="L322"></a> 322     <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; fonts = fontTable.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L323" name="L323"></a> 323     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> font;
<a id="L324" name="L324"></a> 324     <strong class="reserved">while</strong>(fonts.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325         font = fonts.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L326" name="L326"></a> 326         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> = fontTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(font);
<a id="L327" name="L327"></a> 327         sortedFontTable[<a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>()] = font;
<a id="L328" name="L328"></a> 328     <em class="brace">}</em>
<a id="L329" name="L329"></a> 329     <a href="../S/3259.html#L857" title="Defined at 857 in src/javax/swing/text/rtf/RTFGenerator.java.">writeBegingroup</a>();
<a id="L330" name="L330"></a> 330     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("fonttbl");
<a id="L331" name="L331"></a> 331     <strong class="reserved">for</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; fontCount; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ++) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("f", <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L333" name="L333"></a> 333         <div class="comment">
/* TODO: supply correct font style */</div>
<a id="L334" name="L334"></a> 334         <a href="../D/37181.html" title="Multiple defined in 2 places.">writeText</a>(sortedFontTable[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L335" name="L335"></a> 335         <a href="../D/37181.html" title="Multiple defined in 2 places.">writeText</a>(";");
<a id="L336" name="L336"></a> 336     <em class="brace">}</em>
<a id="L337" name="L337"></a> 337     <a href="../S/3259.html#L864" title="Defined at 864 in src/javax/swing/text/rtf/RTFGenerator.java.">writeEndgroup</a>();
<a id="L338" name="L338"></a> 338     <a href="../S/3259.html#L295" title="Defined at 295 in src/javax/swing/text/rtf/RTFGenerator.java.">writeLineBreak</a>();
<a id="L339" name="L339"></a> 339 
<div class="comment">
     /* write color table */</div>
<a id="L341" name="L341"></a> 341     <strong class="reserved">if</strong> (colorCount &gt; 1) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>[] sortedColorTable = <strong class="reserved">new</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>[colorCount];
<a id="L343" name="L343"></a> 343         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> colors = colorTable.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L344" name="L344"></a> 344         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> color;
<a id="L345" name="L345"></a> 345         <strong class="reserved">while</strong>(colors.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             color = (<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>)colors.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L347" name="L347"></a> 347             <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> = colorTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(color);
<a id="L348" name="L348"></a> 348             sortedColorTable[<a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>()] = color;
<a id="L349" name="L349"></a> 349         <em class="brace">}</em>
<a id="L350" name="L350"></a> 350         <a href="../S/3259.html#L857" title="Defined at 857 in src/javax/swing/text/rtf/RTFGenerator.java.">writeBegingroup</a>();
<a id="L351" name="L351"></a> 351         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("colortbl");
<a id="L352" name="L352"></a> 352         <strong class="reserved">for</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; colorCount; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ++) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353             color = sortedColorTable[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L354" name="L354"></a> 354             <strong class="reserved">if</strong> (color != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("red", color.<a href="../D/21904.html" title="Multiple defined in 9 places.">getRed</a>());
<a id="L356" name="L356"></a> 356                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("green", color.<a href="../D/19369.html" title="Multiple defined in 9 places.">getGreen</a>());
<a id="L357" name="L357"></a> 357                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("blue", color.<a href="../D/17280.html" title="Multiple defined in 9 places.">getBlue</a>());
<a id="L358" name="L358"></a> 358             <em class="brace">}</em>
<a id="L359" name="L359"></a> 359             <a href="../S/3259.html#L832" title="Defined at 832 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRawString</a>(";");
<a id="L360" name="L360"></a> 360         <em class="brace">}</em>
<a id="L361" name="L361"></a> 361         <a href="../S/3259.html#L864" title="Defined at 864 in src/javax/swing/text/rtf/RTFGenerator.java.">writeEndgroup</a>();
<a id="L362" name="L362"></a> 362         <a href="../S/3259.html#L295" title="Defined at 295 in src/javax/swing/text/rtf/RTFGenerator.java.">writeLineBreak</a>();
<a id="L363" name="L363"></a> 363     <em class="brace">}</em>
<a id="L364" name="L364"></a> 364 
<div class="comment">
     /* write the style sheet */</div>
<a id="L366" name="L366"></a> 366     <strong class="reserved">if</strong> (styleCount &gt; 1) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367         <a href="../S/3259.html#L857" title="Defined at 857 in src/javax/swing/text/rtf/RTFGenerator.java.">writeBegingroup</a>();
<a id="L368" name="L368"></a> 368         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("stylesheet");
<a id="L369" name="L369"></a> 369         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>&gt; styles = styleTable.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L370" name="L370"></a> 370         <strong class="reserved">while</strong>(styles.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371             <a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a> style = (<a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a>)styles.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L372" name="L372"></a> 372             <strong class="reserved">int</strong> styleNumber = styleTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(style).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L373" name="L373"></a> 373             <a href="../S/3259.html#L857" title="Defined at 857 in src/javax/swing/text/rtf/RTFGenerator.java.">writeBegingroup</a>();
<a id="L374" name="L374"></a> 374             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> styleType = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)style.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.StyleType);
<a id="L375" name="L375"></a> 375             <strong class="reserved">if</strong> (styleType == <strong class="reserved">null</strong>)
<a id="L376" name="L376"></a> 376                 styleType = <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.STParagraph;
<a id="L377" name="L377"></a> 377             <strong class="reserved">if</strong> (styleType.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.STCharacter)) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("*");
<a id="L379" name="L379"></a> 379                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("cs", styleNumber);
<a id="L380" name="L380"></a> 380             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong>(styleType.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.STSection)) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("*");
<a id="L382" name="L382"></a> 382                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("ds", styleNumber);
<a id="L383" name="L383"></a> 383             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L384" name="L384"></a> 384                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("s", styleNumber);
<a id="L385" name="L385"></a> 385             <em class="brace">}</em>
<a id="L386" name="L386"></a> 386 
<a id="L387" name="L387"></a> 387             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> basis = style.<a href="../D/22034.html" title="Multiple defined in 13 places.">getResolveParent</a>();
<a id="L388" name="L388"></a> 388             <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> goat;
<a id="L389" name="L389"></a> 389             <strong class="reserved">if</strong> (basis == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390                 goat = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L391" name="L391"></a> 391             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L392" name="L392"></a> 392                 goat = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>(basis);
<a id="L393" name="L393"></a> 393             <em class="brace">}</em>
<a id="L394" name="L394"></a> 394 
<a id="L395" name="L395"></a> 395             <a href="../S/3259.html#L513" title="Defined at 513 in src/javax/swing/text/rtf/RTFGenerator.java.">updateSectionAttributes</a>(goat, style, <strong class="reserved">false</strong>);
<a id="L396" name="L396"></a> 396             <a href="../S/3259.html#L554" title="Defined at 554 in src/javax/swing/text/rtf/RTFGenerator.java.">updateParagraphAttributes</a>(goat, style, <strong class="reserved">false</strong>);
<a id="L397" name="L397"></a> 397             <a href="../S/3259.html#L702" title="Defined at 702 in src/javax/swing/text/rtf/RTFGenerator.java.">updateCharacterAttributes</a>(goat, style, <strong class="reserved">false</strong>);
<a id="L398" name="L398"></a> 398 
<a id="L399" name="L399"></a> 399             basis = style.<a href="../D/22034.html" title="Multiple defined in 13 places.">getResolveParent</a>();
<a id="L400" name="L400"></a> 400             <strong class="reserved">if</strong> (basis != <strong class="reserved">null</strong> &amp;&amp; basis <strong class="reserved">instanceof</strong> <a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a>) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401                 <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> basedOn = styleTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(basis);
<a id="L402" name="L402"></a> 402                 <strong class="reserved">if</strong> (basedOn != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L403" name="L403"></a> 403                     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("sbasedon", basedOn.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L404" name="L404"></a> 404                 <em class="brace">}</em>
<a id="L405" name="L405"></a> 405             <em class="brace">}</em>
<a id="L406" name="L406"></a> 406 
<a id="L407" name="L407"></a> 407             <a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a> nextStyle = (<a href="../S/3333.html#L48" title="Defined at 48 in src/javax/swing/text/Style.java.">Style</a>)style.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.StyleNext);
<a id="L408" name="L408"></a> 408             <strong class="reserved">if</strong> (nextStyle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409                 <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> nextNum = styleTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(nextStyle);
<a id="L410" name="L410"></a> 410                 <strong class="reserved">if</strong> (nextNum != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("snext", nextNum.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L412" name="L412"></a> 412                 <em class="brace">}</em>
<a id="L413" name="L413"></a> 413             <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415             <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> hidden = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)style.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.StyleHidden);
<a id="L416" name="L416"></a> 416             <strong class="reserved">if</strong> (hidden != <strong class="reserved">null</strong> &amp;&amp; hidden.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>())
<a id="L417" name="L417"></a> 417                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("shidden");
<a id="L418" name="L418"></a> 418 
<a id="L419" name="L419"></a> 419             <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> additive = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)style.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.StyleAdditive);
<a id="L420" name="L420"></a> 420             <strong class="reserved">if</strong> (additive != <strong class="reserved">null</strong> &amp;&amp; additive.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>())
<a id="L421" name="L421"></a> 421                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("additive");
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424             <a href="../D/37181.html" title="Multiple defined in 2 places.">writeText</a>(style.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L425" name="L425"></a> 425             <a href="../D/37181.html" title="Multiple defined in 2 places.">writeText</a>(";");
<a id="L426" name="L426"></a> 426             <a href="../S/3259.html#L864" title="Defined at 864 in src/javax/swing/text/rtf/RTFGenerator.java.">writeEndgroup</a>();
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428         <a href="../S/3259.html#L864" title="Defined at 864 in src/javax/swing/text/rtf/RTFGenerator.java.">writeEndgroup</a>();
<a id="L429" name="L429"></a> 429         <a href="../S/3259.html#L295" title="Defined at 295 in src/javax/swing/text/rtf/RTFGenerator.java.">writeLineBreak</a>();
<a id="L430" name="L430"></a> 430     <em class="brace">}</em>
<a id="L431" name="L431"></a> 431 
<a id="L432" name="L432"></a> 432     outputAttributes = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L433" name="L433"></a> 433 <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<a id="L435" name="L435"></a> 435 <strong class="reserved">void</strong> <a href="../S/3259.html#L123" title="Referred from 123 in src/javax/swing/text/rtf/RTFGenerator.java.">writeDocumentProperties</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc)
<a id="L436" name="L436"></a> 436     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L437" name="L437"></a> 437 <em class="brace">{</em>
<div class="comment">
     /* Write the document properties */</div>
<a id="L439" name="L439"></a> 439     <strong class="reserved">int</strong> i;
<a id="L440" name="L440"></a> 440     <strong class="reserved">boolean</strong> wroteSomething = <strong class="reserved">false</strong>;
<a id="L441" name="L441"></a> 441 
<a id="L442" name="L442"></a> 442     <strong class="reserved">for</strong>(i = 0; i &lt; <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443         <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>[i];
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>() != <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a>.D_DOCUMENT)
<a id="L445" name="L445"></a> 445             <strong class="reserved">continue</strong>;
<a id="L446" name="L446"></a> 446         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> prop = doc.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/35151.html" title="Multiple defined in 2 places.">swingName</a>());
<a id="L447" name="L447"></a> 447         <strong class="reserved">boolean</strong> ok = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/37205.html" title="Multiple defined in 9 places.">writeValue</a>(prop, <strong class="reserved">this</strong>, <strong class="reserved">false</strong>);
<a id="L448" name="L448"></a> 448         <strong class="reserved">if</strong> (ok)
<a id="L449" name="L449"></a> 449             wroteSomething = <strong class="reserved">true</strong>;
<a id="L450" name="L450"></a> 450     <em class="brace">}</em>
<a id="L451" name="L451"></a> 451 
<a id="L452" name="L452"></a> 452     <strong class="reserved">if</strong> (wroteSomething)
<a id="L453" name="L453"></a> 453         <a href="../S/3259.html#L295" title="Defined at 295 in src/javax/swing/text/rtf/RTFGenerator.java.">writeLineBreak</a>();
<a id="L454" name="L454"></a> 454 <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<a id="L456" name="L456"></a> 456 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3259.html#L131" title="Referred from 131 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRTFTrailer</a>()
<a id="L457" name="L457"></a> 457     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L458" name="L458"></a> 458 <em class="brace">{</em>
<a id="L459" name="L459"></a> 459     <a href="../S/3259.html#L864" title="Defined at 864 in src/javax/swing/text/rtf/RTFGenerator.java.">writeEndgroup</a>();
<a id="L460" name="L460"></a> 460     <a href="../S/3259.html#L295" title="Defined at 295 in src/javax/swing/text/rtf/RTFGenerator.java.">writeLineBreak</a>();
<a id="L461" name="L461"></a> 461 <em class="brace">}</em>
<a id="L462" name="L462"></a> 462 
<a id="L463" name="L463"></a> 463 <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/11273.html" title="Multiple referred from 2 places.">checkNumericControlWord</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> currentAttributes,
<a id="L464" name="L464"></a> 464                                        <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttributes,
<a id="L465" name="L465"></a> 465                                        <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> attrName,
<a id="L466" name="L466"></a> 466                                        <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> controlWord,
<a id="L467" name="L467"></a> 467                                        <strong class="reserved">float</strong> dflt, <strong class="reserved">float</strong> <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>)
<a id="L468" name="L468"></a> 468     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L469" name="L469"></a> 469 <em class="brace">{</em>
<a id="L470" name="L470"></a> 470     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> parm;
<a id="L471" name="L471"></a> 471 
<a id="L472" name="L472"></a> 472     <strong class="reserved">if</strong> ((parm = <a href="../S/3259.html#L241" title="Defined at 241 in src/javax/swing/text/rtf/RTFGenerator.java.">attrDiff</a>(currentAttributes, newAttributes,
<a id="L473" name="L473"></a> 473                          attrName, MagicToken)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L474" name="L474"></a> 474         <strong class="reserved">float</strong> targ;
<a id="L475" name="L475"></a> 475         <strong class="reserved">if</strong> (parm == MagicToken)
<a id="L476" name="L476"></a> 476             targ = dflt;
<a id="L477" name="L477"></a> 477         <strong class="reserved">else</strong>
<a id="L478" name="L478"></a> 478             targ = ((<a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a>)parm).<a href="../D/16466.html" title="Multiple defined in 15 places.">floatValue</a>();
<a id="L479" name="L479"></a> 479         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>(controlWord, <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/31457.html" title="Multiple defined in 6 places.">round</a>(targ * <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>));
<a id="L480" name="L480"></a> 480     <em class="brace">}</em>
<a id="L481" name="L481"></a> 481 <em class="brace">}</em>
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483 <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/3259.html#L509" title="Referred from 509 in src/javax/swing/text/rtf/RTFGenerator.java.">checkControlWord</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> currentAttributes,
<a id="L484" name="L484"></a> 484                                 <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttributes,
<a id="L485" name="L485"></a> 485                                 <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a> word)
<a id="L486" name="L486"></a> 486     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L487" name="L487"></a> 487 <em class="brace">{</em>
<a id="L488" name="L488"></a> 488     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> parm;
<a id="L489" name="L489"></a> 489 
<a id="L490" name="L490"></a> 490     <strong class="reserved">if</strong> ((parm = <a href="../S/3259.html#L241" title="Defined at 241 in src/javax/swing/text/rtf/RTFGenerator.java.">attrDiff</a>(currentAttributes, newAttributes,
<a id="L491" name="L491"></a> 491                          word.<a href="../D/35151.html" title="Multiple defined in 2 places.">swingName</a>(), MagicToken)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (parm == MagicToken)
<a id="L493" name="L493"></a> 493             parm = <strong class="reserved">null</strong>;
<a id="L494" name="L494"></a> 494         word.<a href="../D/37205.html" title="Multiple defined in 9 places.">writeValue</a>(parm, <strong class="reserved">this</strong>, <strong class="reserved">true</strong>);
<a id="L495" name="L495"></a> 495     <em class="brace">}</em>
<a id="L496" name="L496"></a> 496 <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<a id="L498" name="L498"></a> 498 <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/11129.html" title="Multiple referred from 3 places.">checkControlWords</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> currentAttributes,
<a id="L499" name="L499"></a> 499                                  <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttributes,
<a id="L500" name="L500"></a> 500                                  <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a> words[],
<a id="L501" name="L501"></a> 501                                  <strong class="reserved">int</strong> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>)
<a id="L502" name="L502"></a> 502     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L503" name="L503"></a> 503 <em class="brace">{</em>
<a id="L504" name="L504"></a> 504     <strong class="reserved">int</strong> wordIndex;
<a id="L505" name="L505"></a> 505     <strong class="reserved">int</strong> wordCount = words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L506" name="L506"></a> 506     <strong class="reserved">for</strong>(wordIndex = 0; wordIndex &lt; wordCount; wordIndex++) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507         <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = words[wordIndex];
<a id="L508" name="L508"></a> 508         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>() == <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>)
<a id="L509" name="L509"></a> 509             <a href="../S/3259.html#L483" title="Defined at 483 in src/javax/swing/text/rtf/RTFGenerator.java.">checkControlWord</a>(currentAttributes, newAttributes, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L510" name="L510"></a> 510     <em class="brace">}</em>
<a id="L511" name="L511"></a> 511 <em class="brace">}</em>
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513 <strong class="reserved">void</strong> <a href="../S/3259.html#L395" title="Referred from 395 in src/javax/swing/text/rtf/RTFGenerator.java.">updateSectionAttributes</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>,
<a id="L514" name="L514"></a> 514                              <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttributes,
<a id="L515" name="L515"></a> 515                              <strong class="reserved">boolean</strong> emitStyleChanges)
<a id="L516" name="L516"></a> 516     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L517" name="L517"></a> 517 <em class="brace">{</em>
<a id="L518" name="L518"></a> 518     <strong class="reserved">if</strong> (emitStyleChanges) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldStyle = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>("sectionStyle");
<a id="L520" name="L520"></a> 520         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newStyle = <a href="../S/3259.html#L224" title="Defined at 224 in src/javax/swing/text/rtf/RTFGenerator.java.">findStyleNumber</a>(newAttributes, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.STSection);
<a id="L521" name="L521"></a> 521         <strong class="reserved">if</strong> (oldStyle != newStyle) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522             <strong class="reserved">if</strong> (oldStyle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L523" name="L523"></a> 523                 <a href="../D/31200.html" title="Multiple defined in 2 places.">resetSectionAttributes</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>);
<a id="L524" name="L524"></a> 524             <em class="brace">}</em>
<a id="L525" name="L525"></a> 525             <strong class="reserved">if</strong> (newStyle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L526" name="L526"></a> 526                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("ds", ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)newStyle).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L527" name="L527"></a> 527                 <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>("sectionStyle", newStyle);
<a id="L528" name="L528"></a> 528             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L529" name="L529"></a> 529                 <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>("sectionStyle");
<a id="L530" name="L530"></a> 530             <em class="brace">}</em>
<a id="L531" name="L531"></a> 531         <em class="brace">}</em>
<a id="L532" name="L532"></a> 532     <em class="brace">}</em>
<a id="L533" name="L533"></a> 533 
<a id="L534" name="L534"></a> 534     <a href="../S/3259.html#L498" title="Defined at 498 in src/javax/swing/text/rtf/RTFGenerator.java.">checkControlWords</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L535" name="L535"></a> 535                       <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a>.D_SECTION);
<a id="L536" name="L536"></a> 536 <em class="brace">}</em>
<a id="L537" name="L537"></a> 537 
<a id="L538" name="L538"></a> 538 <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26282.html" title="Multiple referred from 2 places.">resetSectionAttributes</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> currentAttributes)
<a id="L539" name="L539"></a> 539     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L540" name="L540"></a> 540 <em class="brace">{</em>
<a id="L541" name="L541"></a> 541     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("sectd");
<a id="L542" name="L542"></a> 542 
<a id="L543" name="L543"></a> 543     <strong class="reserved">int</strong> wordIndex;
<a id="L544" name="L544"></a> 544     <strong class="reserved">int</strong> wordCount = <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L545" name="L545"></a> 545     <strong class="reserved">for</strong>(wordIndex = 0; wordIndex &lt; wordCount; wordIndex++) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546         <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>[wordIndex];
<a id="L547" name="L547"></a> 547         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>() == <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a>.D_SECTION)
<a id="L548" name="L548"></a> 548             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/32376.html" title="Multiple defined in 18 places.">setDefault</a>(currentAttributes);
<a id="L549" name="L549"></a> 549     <em class="brace">}</em>
<a id="L550" name="L550"></a> 550 
<a id="L551" name="L551"></a> 551     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>("sectionStyle");
<a id="L552" name="L552"></a> 552 <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<a id="L554" name="L554"></a> 554 <strong class="reserved">void</strong> <a href="../R/29932.html" title="Multiple referred from 2 places.">updateParagraphAttributes</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>,
<a id="L555" name="L555"></a> 555                                <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttributes,
<a id="L556" name="L556"></a> 556                                <strong class="reserved">boolean</strong> emitStyleChanges)
<a id="L557" name="L557"></a> 557     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L558" name="L558"></a> 558 <em class="brace">{</em>
<a id="L559" name="L559"></a> 559     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> parm;
<a id="L560" name="L560"></a> 560     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldStyle, newStyle;
<a id="L561" name="L561"></a> 561 
<div class="comment">
 The only way to get rid of tabs or styles is with the \pard keyword,
       emitted by resetParagraphAttributes(). Ideally we should avoid
       emitting \pard if the new paragraph's tabs are a superset of the old
       paragraph's tabs. </div>
<a id="L566" name="L566"></a> 566 
<a id="L567" name="L567"></a> 567     <strong class="reserved">if</strong> (emitStyleChanges) <em class="brace">{</em>
<a id="L568" name="L568"></a> 568         oldStyle = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>("paragraphStyle");
<a id="L569" name="L569"></a> 569         newStyle = <a href="../S/3259.html#L224" title="Defined at 224 in src/javax/swing/text/rtf/RTFGenerator.java.">findStyleNumber</a>(newAttributes, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.STParagraph);
<a id="L570" name="L570"></a> 570         <strong class="reserved">if</strong> (oldStyle != newStyle) <em class="brace">{</em>
<a id="L571" name="L571"></a> 571             <strong class="reserved">if</strong> (oldStyle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L572" name="L572"></a> 572                 <a href="../D/31189.html" title="Multiple defined in 2 places.">resetParagraphAttributes</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>);
<a id="L573" name="L573"></a> 573                 oldStyle = <strong class="reserved">null</strong>;
<a id="L574" name="L574"></a> 574             <em class="brace">}</em>
<a id="L575" name="L575"></a> 575         <em class="brace">}</em>
<a id="L576" name="L576"></a> 576     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L577" name="L577"></a> 577         oldStyle = <strong class="reserved">null</strong>;
<a id="L578" name="L578"></a> 578         newStyle = <strong class="reserved">null</strong>;
<a id="L579" name="L579"></a> 579     <em class="brace">}</em>
<a id="L580" name="L580"></a> 580 
<a id="L581" name="L581"></a> 581     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldTabs = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.Tabs);
<a id="L582" name="L582"></a> 582     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newTabs = newAttributes.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.Tabs);
<a id="L583" name="L583"></a> 583     <strong class="reserved">if</strong> (oldTabs != newTabs) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584         <strong class="reserved">if</strong> (oldTabs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L585" name="L585"></a> 585             <a href="../D/31189.html" title="Multiple defined in 2 places.">resetParagraphAttributes</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>);
<a id="L586" name="L586"></a> 586             oldTabs = <strong class="reserved">null</strong>;
<a id="L587" name="L587"></a> 587             oldStyle = <strong class="reserved">null</strong>;
<a id="L588" name="L588"></a> 588         <em class="brace">}</em>
<a id="L589" name="L589"></a> 589     <em class="brace">}</em>
<a id="L590" name="L590"></a> 590 
<a id="L591" name="L591"></a> 591     <strong class="reserved">if</strong> (oldStyle != newStyle &amp;&amp; newStyle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L592" name="L592"></a> 592         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("s", ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)newStyle).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L593" name="L593"></a> 593         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>("paragraphStyle", newStyle);
<a id="L594" name="L594"></a> 594     <em class="brace">}</em>
<a id="L595" name="L595"></a> 595 
<a id="L596" name="L596"></a> 596     <a href="../S/3259.html#L498" title="Defined at 498 in src/javax/swing/text/rtf/RTFGenerator.java.">checkControlWords</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L597" name="L597"></a> 597                       <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a>.D_PARAGRAPH);
<a id="L598" name="L598"></a> 598 
<a id="L599" name="L599"></a> 599     <strong class="reserved">if</strong> (oldTabs != newTabs &amp;&amp; newTabs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600         <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a> tabs[] = (<a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>[])newTabs;
<a id="L601" name="L601"></a> 601         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L602" name="L602"></a> 602         <strong class="reserved">for</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; tabs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ++) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603             <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a> tab = tabs[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L604" name="L604"></a> 604             <strong class="reserved">switch</strong> (tab.<a href="../D/16863.html" title="Multiple defined in 22 places.">getAlignment</a>()) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_LEFT:
<a id="L606" name="L606"></a> 606               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_BAR:
<a id="L607" name="L607"></a> 607                 <strong class="reserved">break</strong>;
<a id="L608" name="L608"></a> 608               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_RIGHT:
<a id="L609" name="L609"></a> 609                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tqr");
<a id="L610" name="L610"></a> 610                 <strong class="reserved">break</strong>;
<a id="L611" name="L611"></a> 611               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_CENTER:
<a id="L612" name="L612"></a> 612                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tqc");
<a id="L613" name="L613"></a> 613                 <strong class="reserved">break</strong>;
<a id="L614" name="L614"></a> 614               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_DECIMAL:
<a id="L615" name="L615"></a> 615                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tqdec");
<a id="L616" name="L616"></a> 616                 <strong class="reserved">break</strong>;
<a id="L617" name="L617"></a> 617             <em class="brace">}</em>
<a id="L618" name="L618"></a> 618             <strong class="reserved">switch</strong> (tab.<a href="../S/3325.html#L119" title="Defined at 119 in src/javax/swing/text/TabStop.java.">getLeader</a>()) <em class="brace">{</em>
<a id="L619" name="L619"></a> 619               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.LEAD_NONE:
<a id="L620" name="L620"></a> 620                 <strong class="reserved">break</strong>;
<a id="L621" name="L621"></a> 621               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.LEAD_DOTS:
<a id="L622" name="L622"></a> 622                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tldot");
<a id="L623" name="L623"></a> 623                 <strong class="reserved">break</strong>;
<a id="L624" name="L624"></a> 624               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.LEAD_HYPHENS:
<a id="L625" name="L625"></a> 625                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tlhyph");
<a id="L626" name="L626"></a> 626                 <strong class="reserved">break</strong>;
<a id="L627" name="L627"></a> 627               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.LEAD_UNDERLINE:
<a id="L628" name="L628"></a> 628                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tlul");
<a id="L629" name="L629"></a> 629                 <strong class="reserved">break</strong>;
<a id="L630" name="L630"></a> 630               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.LEAD_THICKLINE:
<a id="L631" name="L631"></a> 631                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tlth");
<a id="L632" name="L632"></a> 632                 <strong class="reserved">break</strong>;
<a id="L633" name="L633"></a> 633               <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.LEAD_EQUALS:
<a id="L634" name="L634"></a> 634                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tleq");
<a id="L635" name="L635"></a> 635                 <strong class="reserved">break</strong>;
<a id="L636" name="L636"></a> 636             <em class="brace">}</em>
<a id="L637" name="L637"></a> 637             <strong class="reserved">int</strong> twips = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/31457.html" title="Multiple defined in 6 places.">round</a>(20f * tab.<a href="../D/21546.html" title="Multiple defined in 41 places.">getPosition</a>());
<a id="L638" name="L638"></a> 638             <strong class="reserved">if</strong> (tab.<a href="../D/16863.html" title="Multiple defined in 22 places.">getAlignment</a>() == <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_BAR) <em class="brace">{</em>
<a id="L639" name="L639"></a> 639                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tb", twips);
<a id="L640" name="L640"></a> 640             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L641" name="L641"></a> 641                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tx", twips);
<a id="L642" name="L642"></a> 642             <em class="brace">}</em>
<a id="L643" name="L643"></a> 643         <em class="brace">}</em>
<a id="L644" name="L644"></a> 644         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.Tabs, tabs);
<a id="L645" name="L645"></a> 645     <em class="brace">}</em>
<a id="L646" name="L646"></a> 646 <em class="brace">}</em>
<a id="L647" name="L647"></a> 647 
<a id="L648" name="L648"></a> 648 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3259.html#L129" title="Referred from 129 in src/javax/swing/text/rtf/RTFGenerator.java.">writeParagraphElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el)
<a id="L649" name="L649"></a> 649     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L650" name="L650"></a> 650 <em class="brace">{</em>
<a id="L651" name="L651"></a> 651     <a href="../S/3259.html#L554" title="Defined at 554 in src/javax/swing/text/rtf/RTFGenerator.java.">updateParagraphAttributes</a>(outputAttributes, el.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>(), <strong class="reserved">true</strong>);
<a id="L652" name="L652"></a> 652 
<a id="L653" name="L653"></a> 653     <strong class="reserved">int</strong> sub_count = el.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L654" name="L654"></a> 654     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> idx = 0; idx &lt; sub_count; idx ++) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655         <a href="../S/3259.html#L785" title="Defined at 785 in src/javax/swing/text/rtf/RTFGenerator.java.">writeTextElement</a>(el.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(idx));
<a id="L656" name="L656"></a> 656     <em class="brace">}</em>
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("par");
<a id="L659" name="L659"></a> 659     <div class="comment">
/* makes the raw file more readable */</div>
<a id="L660" name="L660"></a> 660 <em class="brace">}</em>
<a id="L661" name="L661"></a> 661 
<div class="comment">
 debugging. TODO: remove.
private static String tabdump(Object tso)
{
    String buf;
    int i;
    if (tso == null)
        return "[none]";
    TabStop[] ts = (TabStop[])tso;
    buf = "[";
    for(i = 0; i &lt; ts.length; i++) {
        buf = buf + ts[i].toString();
        if ((i+1) &lt; ts.length)
            buf = buf + ",";
    }
    return buf + "]";
}</div>
<a id="L682" name="L682"></a> 682 
<a id="L683" name="L683"></a> 683 <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26274.html" title="Multiple referred from 3 places.">resetParagraphAttributes</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> currentAttributes)
<a id="L684" name="L684"></a> 684     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L685" name="L685"></a> 685 <em class="brace">{</em>
<a id="L686" name="L686"></a> 686     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("pard");
<a id="L687" name="L687"></a> 687 
<a id="L688" name="L688"></a> 688     currentAttributes.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3122.html#L297" title="Defined at 297 in src/javax/swing/GroupLayout.java.">Alignment</a>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(0));
<a id="L689" name="L689"></a> 689 
<a id="L690" name="L690"></a> 690     <strong class="reserved">int</strong> wordIndex;
<a id="L691" name="L691"></a> 691     <strong class="reserved">int</strong> wordCount = <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L692" name="L692"></a> 692     <strong class="reserved">for</strong>(wordIndex = 0; wordIndex &lt; wordCount; wordIndex++) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693         <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>[wordIndex];
<a id="L694" name="L694"></a> 694         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>() == <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a>.D_PARAGRAPH)
<a id="L695" name="L695"></a> 695             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/32376.html" title="Multiple defined in 18 places.">setDefault</a>(currentAttributes);
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<a id="L698" name="L698"></a> 698     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>("paragraphStyle");
<a id="L699" name="L699"></a> 699     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.Tabs);
<a id="L700" name="L700"></a> 700 <em class="brace">}</em>
<a id="L701" name="L701"></a> 701 
<a id="L702" name="L702"></a> 702 <strong class="reserved">void</strong> <a href="../R/29824.html" title="Multiple referred from 2 places.">updateCharacterAttributes</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>,
<a id="L703" name="L703"></a> 703                                <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttributes,
<a id="L704" name="L704"></a> 704                                <strong class="reserved">boolean</strong> updateStyleChanges)
<a id="L705" name="L705"></a> 705     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L706" name="L706"></a> 706 <em class="brace">{</em>
<a id="L707" name="L707"></a> 707     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> parm;
<a id="L708" name="L708"></a> 708 
<a id="L709" name="L709"></a> 709     <strong class="reserved">if</strong> (updateStyleChanges) <em class="brace">{</em>
<a id="L710" name="L710"></a> 710         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldStyle = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>("characterStyle");
<a id="L711" name="L711"></a> 711         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newStyle = <a href="../S/3259.html#L224" title="Defined at 224 in src/javax/swing/text/rtf/RTFGenerator.java.">findStyleNumber</a>(newAttributes,
<a id="L712" name="L712"></a> 712                                           <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.STCharacter);
<a id="L713" name="L713"></a> 713         <strong class="reserved">if</strong> (oldStyle != newStyle) <em class="brace">{</em>
<a id="L714" name="L714"></a> 714             <strong class="reserved">if</strong> (oldStyle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L715" name="L715"></a> 715                 <a href="../D/31157.html" title="Multiple defined in 2 places.">resetCharacterAttributes</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>);
<a id="L716" name="L716"></a> 716             <em class="brace">}</em>
<a id="L717" name="L717"></a> 717             <strong class="reserved">if</strong> (newStyle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L718" name="L718"></a> 718                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("cs", ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)newStyle).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L719" name="L719"></a> 719                 <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>("characterStyle", newStyle);
<a id="L720" name="L720"></a> 720             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L721" name="L721"></a> 721                 <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>("characterStyle");
<a id="L722" name="L722"></a> 722             <em class="brace">}</em>
<a id="L723" name="L723"></a> 723         <em class="brace">}</em>
<a id="L724" name="L724"></a> 724     <em class="brace">}</em>
<a id="L725" name="L725"></a> 725 
<a id="L726" name="L726"></a> 726     <strong class="reserved">if</strong> ((parm = <a href="../S/3259.html#L241" title="Defined at 241 in src/javax/swing/text/rtf/RTFGenerator.java.">attrDiff</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L727" name="L727"></a> 727                          <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3294.html#L1969" title="Defined at 1969 in src/javax/swing/text/html/CSS.java.">FontFamily</a>, <strong class="reserved">null</strong>)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> fontNum = fontTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(parm);
<a id="L729" name="L729"></a> 729         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("f", fontNum.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L730" name="L730"></a> 730     <em class="brace">}</em>
<a id="L731" name="L731"></a> 731 
<a id="L732" name="L732"></a> 732     <a href="../S/3259.html#L463" title="Defined at 463 in src/javax/swing/text/rtf/RTFGenerator.java.">checkNumericControlWord</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L733" name="L733"></a> 733                             <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3294.html#L1800" title="Defined at 1800 in src/javax/swing/text/html/CSS.java.">FontSize</a>, "fs",
<a id="L734" name="L734"></a> 734                             defaultFontSize, 2f);
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736     <a href="../S/3259.html#L498" title="Defined at 498 in src/javax/swing/text/rtf/RTFGenerator.java.">checkControlWords</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L737" name="L737"></a> 737                       <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a>.D_CHARACTER);
<a id="L738" name="L738"></a> 738 
<a id="L739" name="L739"></a> 739     <a href="../S/3259.html#L463" title="Defined at 463 in src/javax/swing/text/rtf/RTFGenerator.java.">checkNumericControlWord</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L740" name="L740"></a> 740                             <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.LineSpacing, "sl",
<div class="comment">
                             0, 20f); /* TODO: sl wackiness */</div>
<a id="L742" name="L742"></a> 742 
<a id="L743" name="L743"></a> 743     <strong class="reserved">if</strong> ((parm = <a href="../S/3259.html#L241" title="Defined at 241 in src/javax/swing/text/rtf/RTFGenerator.java.">attrDiff</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L744" name="L744"></a> 744                          <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.Background, MagicToken)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L745" name="L745"></a> 745         <strong class="reserved">int</strong> colorNum;
<a id="L746" name="L746"></a> 746         <strong class="reserved">if</strong> (parm == MagicToken)
<a id="L747" name="L747"></a> 747             colorNum = 0;
<a id="L748" name="L748"></a> 748         <strong class="reserved">else</strong>
<a id="L749" name="L749"></a> 749             colorNum = colorTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(parm).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L750" name="L750"></a> 750         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("cb", colorNum);
<a id="L751" name="L751"></a> 751     <em class="brace">}</em>
<a id="L752" name="L752"></a> 752 
<a id="L753" name="L753"></a> 753     <strong class="reserved">if</strong> ((parm = <a href="../S/3259.html#L241" title="Defined at 241 in src/javax/swing/text/rtf/RTFGenerator.java.">attrDiff</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, newAttributes,
<a id="L754" name="L754"></a> 754                          <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.Foreground, <strong class="reserved">null</strong>)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L755" name="L755"></a> 755         <strong class="reserved">int</strong> colorNum;
<a id="L756" name="L756"></a> 756         <strong class="reserved">if</strong> (parm == MagicToken)
<a id="L757" name="L757"></a> 757             colorNum = 0;
<a id="L758" name="L758"></a> 758         <strong class="reserved">else</strong>
<a id="L759" name="L759"></a> 759             colorNum = colorTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(parm).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L760" name="L760"></a> 760         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("cf", colorNum);
<a id="L761" name="L761"></a> 761     <em class="brace">}</em>
<a id="L762" name="L762"></a> 762 <em class="brace">}</em>
<a id="L763" name="L763"></a> 763 
<a id="L764" name="L764"></a> 764 <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26243.html" title="Multiple referred from 2 places.">resetCharacterAttributes</a>(<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> currentAttributes)
<a id="L765" name="L765"></a> 765     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L766" name="L766"></a> 766 <em class="brace">{</em>
<a id="L767" name="L767"></a> 767     <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("plain");
<a id="L768" name="L768"></a> 768 
<a id="L769" name="L769"></a> 769     <strong class="reserved">int</strong> wordIndex;
<a id="L770" name="L770"></a> 770     <strong class="reserved">int</strong> wordCount = <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L771" name="L771"></a> 771     <strong class="reserved">for</strong>(wordIndex = 0; wordIndex &lt; wordCount; wordIndex++) <em class="brace">{</em>
<a id="L772" name="L772"></a> 772         <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../S/3256.html#L34" title="Defined at 34 in src/javax/swing/text/rtf/RTFAttributes.java.">RTFAttributes</a>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>[wordIndex];
<a id="L773" name="L773"></a> 773         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>() == <a href="../S/3260.html#L35" title="Defined at 35 in src/javax/swing/text/rtf/RTFAttribute.java.">RTFAttribute</a>.D_CHARACTER)
<a id="L774" name="L774"></a> 774             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/32376.html" title="Multiple defined in 18 places.">setDefault</a>(currentAttributes);
<a id="L775" name="L775"></a> 775     <em class="brace">}</em>
<a id="L776" name="L776"></a> 776 
<a id="L777" name="L777"></a> 777     <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../D/32753.html" title="Multiple defined in 2 places.">setFontFamily</a>(currentAttributes, defaultFontFamily);
<a id="L778" name="L778"></a> 778     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<div class="comment">
/* =default */</div>
<a id="L779" name="L779"></a> 779     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.Background);
<a id="L780" name="L780"></a> 780     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.Foreground);
<a id="L781" name="L781"></a> 781     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.LineSpacing);
<a id="L782" name="L782"></a> 782     currentAttributes.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>("characterStyle");
<a id="L783" name="L783"></a> 783 <em class="brace">}</em>
<a id="L784" name="L784"></a> 784 
<a id="L785" name="L785"></a> 785 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30733.html" title="Multiple referred from 2 places.">writeTextElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el)
<a id="L786" name="L786"></a> 786     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L787" name="L787"></a> 787 <em class="brace">{</em>
<a id="L788" name="L788"></a> 788     <a href="../S/3259.html#L702" title="Defined at 702 in src/javax/swing/text/rtf/RTFGenerator.java.">updateCharacterAttributes</a>(outputAttributes, el.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>(), <strong class="reserved">true</strong>);
<a id="L789" name="L789"></a> 789 
<a id="L790" name="L790"></a> 790     <strong class="reserved">if</strong> (el.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L791" name="L791"></a> 791         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L792" name="L792"></a> 792             el.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(el.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L793" name="L793"></a> 793                                      el.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - el.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L794" name="L794"></a> 794                                      <strong class="reserved">this</strong>.workingSegment);
<a id="L795" name="L795"></a> 795         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<div class="comment">
             /* TODO is this the correct error to raise? */</div>
<a id="L797" name="L797"></a> 797             ble.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L798" name="L798"></a> 798             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(ble.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L799" name="L799"></a> 799         <em class="brace">}</em>
<a id="L800" name="L800"></a> 800         <a href="../D/37181.html" title="Multiple defined in 2 places.">writeText</a>(<strong class="reserved">this</strong>.workingSegment);
<a id="L801" name="L801"></a> 801     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L802" name="L802"></a> 802         <strong class="reserved">int</strong> sub_count = el.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L803" name="L803"></a> 803         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> idx = 0; idx &lt; sub_count; idx ++)
<a id="L804" name="L804"></a> 804             <a href="../S/3259.html#L785" title="Defined at 785 in src/javax/swing/text/rtf/RTFGenerator.java.">writeTextElement</a>(el.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(idx));
<a id="L805" name="L805"></a> 805     <em class="brace">}</em>
<a id="L806" name="L806"></a> 806 <em class="brace">}</em>
<a id="L807" name="L807"></a> 807 
<a id="L808" name="L808"></a> 808 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30732.html" title="Multiple referred from 5 places.">writeText</a>(<a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> s)
<a id="L809" name="L809"></a> 809     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L810" name="L810"></a> 810 <em class="brace">{</em>
<a id="L811" name="L811"></a> 811     <strong class="reserved">int</strong> pos, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>;
<a id="L812" name="L812"></a> 812     <strong class="reserved">char</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>;
<a id="L813" name="L813"></a> 813 
<a id="L814" name="L814"></a> 814     pos = s.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L815" name="L815"></a> 815     <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = pos + s.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L816" name="L816"></a> 816     <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a> = s.<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>;
<a id="L817" name="L817"></a> 817     <strong class="reserved">for</strong>( ; pos &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; pos ++)
<a id="L818" name="L818"></a> 818         <a href="../S/3259.html#L871" title="Defined at 871 in src/javax/swing/text/rtf/RTFGenerator.java.">writeCharacter</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[pos]);
<a id="L819" name="L819"></a> 819 <em class="brace">}</em>
<a id="L820" name="L820"></a> 820 
<a id="L821" name="L821"></a> 821 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30732.html" title="Multiple referred from 5 places.">writeText</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s)
<a id="L822" name="L822"></a> 822     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L823" name="L823"></a> 823 <em class="brace">{</em>
<a id="L824" name="L824"></a> 824     <strong class="reserved">int</strong> pos, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>;
<a id="L825" name="L825"></a> 825 
<a id="L826" name="L826"></a> 826     pos = 0;
<a id="L827" name="L827"></a> 827     <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L828" name="L828"></a> 828     <strong class="reserved">for</strong>( ; pos &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; pos ++)
<a id="L829" name="L829"></a> 829         <a href="../S/3259.html#L871" title="Defined at 871 in src/javax/swing/text/rtf/RTFGenerator.java.">writeCharacter</a>(s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos));
<a id="L830" name="L830"></a> 830 <em class="brace">}</em>
<a id="L831" name="L831"></a> 831 
<a id="L832" name="L832"></a> 832 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30701.html" title="Multiple referred from 7 places.">writeRawString</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>)
<a id="L833" name="L833"></a> 833     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L834" name="L834"></a> 834 <em class="brace">{</em>
<a id="L835" name="L835"></a> 835     <strong class="reserved">int</strong> strlen = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L836" name="L836"></a> 836     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = 0; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; strlen; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> ++)
<a id="L837" name="L837"></a> 837         outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((<strong class="reserved">int</strong>)<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>));
<a id="L838" name="L838"></a> 838 <em class="brace">}</em>
<a id="L839" name="L839"></a> 839 
<a id="L840" name="L840"></a> 840 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30594.html" title="Multiple referred from 48 places.">writeControlWord</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> keyword)
<a id="L841" name="L841"></a> 841     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L842" name="L842"></a> 842 <em class="brace">{</em>
<a id="L843" name="L843"></a> 843     outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('\\');
<a id="L844" name="L844"></a> 844     <a href="../S/3259.html#L832" title="Defined at 832 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRawString</a>(keyword);
<a id="L845" name="L845"></a> 845     afterKeyword = <strong class="reserved">true</strong>;
<a id="L846" name="L846"></a> 846 <em class="brace">}</em>
<a id="L847" name="L847"></a> 847 
<a id="L848" name="L848"></a> 848 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30594.html" title="Multiple referred from 48 places.">writeControlWord</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> keyword, <strong class="reserved">int</strong> <a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>)
<a id="L849" name="L849"></a> 849     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L850" name="L850"></a> 850 <em class="brace">{</em>
<a id="L851" name="L851"></a> 851     outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('\\');
<a id="L852" name="L852"></a> 852     <a href="../S/3259.html#L832" title="Defined at 832 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRawString</a>(keyword);
<a id="L853" name="L853"></a> 853     <a href="../S/3259.html#L832" title="Defined at 832 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRawString</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<div class="comment">
/* TODO: correct in all cases? */</div>
<a id="L854" name="L854"></a> 854     afterKeyword = <strong class="reserved">true</strong>;
<a id="L855" name="L855"></a> 855 <em class="brace">}</em>
<a id="L856" name="L856"></a> 856 
<a id="L857" name="L857"></a> 857 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30561.html" title="Multiple referred from 5 places.">writeBegingroup</a>()
<a id="L858" name="L858"></a> 858     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L859" name="L859"></a> 859 <em class="brace">{</em>
<a id="L860" name="L860"></a> 860     outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('{');
<a id="L861" name="L861"></a> 861     afterKeyword = <strong class="reserved">false</strong>;
<a id="L862" name="L862"></a> 862 <em class="brace">}</em>
<a id="L863" name="L863"></a> 863 
<a id="L864" name="L864"></a> 864 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30613.html" title="Multiple referred from 5 places.">writeEndgroup</a>()
<a id="L865" name="L865"></a> 865     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L866" name="L866"></a> 866 <em class="brace">{</em>
<a id="L867" name="L867"></a> 867     outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('}');
<a id="L868" name="L868"></a> 868     afterKeyword = <strong class="reserved">false</strong>;
<a id="L869" name="L869"></a> 869 <em class="brace">}</em>
<a id="L870" name="L870"></a> 870 
<a id="L871" name="L871"></a> 871 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30579.html" title="Multiple referred from 2 places.">writeCharacter</a>(<strong class="reserved">char</strong> ch)
<a id="L872" name="L872"></a> 872     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L873" name="L873"></a> 873 <em class="brace">{</em>
<div class="comment">
 Nonbreaking space is in most RTF encodings, but the keyword is
       preferable; same goes for tabs </div>
<a id="L876" name="L876"></a> 876     <strong class="reserved">if</strong> (ch == 0xA0) <div class="comment">
/* nonbreaking space */</div>
<a id="L877" name="L877"></a> 877         outputStream.<div class="comment">
x5C);  /* backslash */</div>
<a id="L878" name="L878"></a> 878         outputStream.<div class="comment">
x7E);  /* tilde */</div>
<a id="L879" name="L879"></a> 879         afterKeyword = <div class="comment">
/* non-alpha keywords are self-terminating */</div>
<a id="L880" name="L880"></a> 880         <strong class="reserved">return</strong>;
<a id="L881" name="L881"></a> 881     <em class="brace">}</em>
<a id="L882" name="L882"></a> 882 
<a id="L883" name="L883"></a> 883     <strong class="reserved">if</strong> (ch == 0x09) <div class="comment">
/* horizontal tab */</div>
<a id="L884" name="L884"></a> 884         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("tab");
<a id="L885" name="L885"></a> 885         <strong class="reserved">return</strong>;
<a id="L886" name="L886"></a> 886     <em class="brace">}</em>
<a id="L887" name="L887"></a> 887 
<a id="L888" name="L888"></a> 888     <strong class="reserved">if</strong> (ch == 10 || ch == 13) <div class="comment">
/* newline / paragraph */</div>
<div class="comment">
         /* ignore CRs, we'll write a paragraph element soon enough */</div>
<a id="L890" name="L890"></a> 890         <strong class="reserved">return</strong>;
<a id="L891" name="L891"></a> 891     <em class="brace">}</em>
<a id="L892" name="L892"></a> 892 
<a id="L893" name="L893"></a> 893     <strong class="reserved">int</strong> b = <a href="../S/3259.html#L989" title="Defined at 989 in src/javax/swing/text/rtf/RTFGenerator.java.">convertCharacter</a>(outputConversion, ch);
<a id="L894" name="L894"></a> 894     <strong class="reserved">if</strong> (b == 0) <em class="brace">{</em>
<div class="comment">
         /* Unicode characters which have corresponding RTF keywords */</div>
<a id="L896" name="L896"></a> 896         <strong class="reserved">int</strong> i;
<a id="L897" name="L897"></a> 897         <strong class="reserved">for</strong>(i = 0; i &lt; textKeywords.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L898" name="L898"></a> 898             <strong class="reserved">if</strong> (textKeywords[i].character == ch) <em class="brace">{</em>
<a id="L899" name="L899"></a> 899                 <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>(textKeywords[i].keyword);
<a id="L900" name="L900"></a> 900                 <strong class="reserved">return</strong>;
<a id="L901" name="L901"></a> 901             <em class="brace">}</em>
<a id="L902" name="L902"></a> 902         <em class="brace">}</em>
<div class="comment">
 In some cases it would be reasonable to check to see if the
           glyph being written out is in the Symbol encoding, and if so,
           to switch to the Symbol font for this character. TODO. </div>
<div class="comment">
 Currently all unrepresentable characters are written as
           Unicode escapes. </div>
<a id="L908" name="L908"></a> 908         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> approximation = <a href="../S/3259.html#L949" title="Defined at 949 in src/javax/swing/text/rtf/RTFGenerator.java.">approximationForUnicode</a>(ch);
<a id="L909" name="L909"></a> 909         <strong class="reserved">if</strong> (approximation.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != unicodeCount) <em class="brace">{</em>
<a id="L910" name="L910"></a> 910             unicodeCount = approximation.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L911" name="L911"></a> 911             <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("uc", unicodeCount);
<a id="L912" name="L912"></a> 912         <em class="brace">}</em>
<a id="L913" name="L913"></a> 913         <a href="../D/37028.html" title="Multiple defined in 2 places.">writeControlWord</a>("u", (<strong class="reserved">int</strong>)ch);
<a id="L914" name="L914"></a> 914         <a href="../S/3259.html#L832" title="Defined at 832 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRawString</a>(" ");
<a id="L915" name="L915"></a> 915         <a href="../S/3259.html#L832" title="Defined at 832 in src/javax/swing/text/rtf/RTFGenerator.java.">writeRawString</a>(approximation);
<a id="L916" name="L916"></a> 916         afterKeyword = <strong class="reserved">false</strong>;
<a id="L917" name="L917"></a> 917         <strong class="reserved">return</strong>;
<a id="L918" name="L918"></a> 918     <em class="brace">}</em>
<a id="L919" name="L919"></a> 919 
<a id="L920" name="L920"></a> 920     <strong class="reserved">if</strong> (b &gt; 127) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921         <strong class="reserved">int</strong> nybble;
<a id="L922" name="L922"></a> 922         outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('\\');
<a id="L923" name="L923"></a> 923         outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('\'');
<a id="L924" name="L924"></a> 924         nybble = ( b &amp; 0xF0 ) &gt;&gt;&gt; 4;
<a id="L925" name="L925"></a> 925         outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(hexdigits[nybble]);
<a id="L926" name="L926"></a> 926         nybble = ( b &amp; 0x0F );
<a id="L927" name="L927"></a> 927         outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(hexdigits[nybble]);
<a id="L928" name="L928"></a> 928         afterKeyword = <strong class="reserved">false</strong>;
<a id="L929" name="L929"></a> 929         <strong class="reserved">return</strong>;
<a id="L930" name="L930"></a> 930     <em class="brace">}</em>
<a id="L931" name="L931"></a> 931 
<a id="L932" name="L932"></a> 932     <strong class="reserved">switch</strong> (b) <em class="brace">{</em>
<a id="L933" name="L933"></a> 933     <strong class="reserved">case</strong> '}':
<a id="L934" name="L934"></a> 934     <strong class="reserved">case</strong> '{':
<a id="L935" name="L935"></a> 935     <strong class="reserved">case</strong> '\\':
<a id="L936" name="L936"></a> 936         outputStream.<div class="comment">
x5C);  /* backslash */</div>
<a id="L937" name="L937"></a> 937         afterKeyword = <div class="comment">
/* in a keyword, actually ... */</div>
<div class="comment">
         /* fall through */</div>
<a id="L939" name="L939"></a> 939     <strong class="reserved">default</strong>:
<a id="L940" name="L940"></a> 940         <strong class="reserved">if</strong> (afterKeyword) <em class="brace">{</em>
<a id="L941" name="L941"></a> 941             outputStream.<div class="comment">
x20);  /* space */</div>
<a id="L942" name="L942"></a> 942             afterKeyword = <strong class="reserved">false</strong>;
<a id="L943" name="L943"></a> 943         <em class="brace">}</em>
<a id="L944" name="L944"></a> 944         outputStream.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(b);
<a id="L945" name="L945"></a> 945         <strong class="reserved">break</strong>;
<a id="L946" name="L946"></a> 946     <em class="brace">}</em>
<a id="L947" name="L947"></a> 947 <em class="brace">}</em>
<a id="L948" name="L948"></a> 948 
<a id="L949" name="L949"></a> 949 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3259.html#L908" title="Referred from 908 in src/javax/swing/text/rtf/RTFGenerator.java.">approximationForUnicode</a>(<strong class="reserved">char</strong> ch)
<a id="L950" name="L950"></a> 950 <em class="brace">{</em>
<div class="comment">
 TODO: Find reasonable approximations for all Unicode characters
       in all RTF code pages... heh, heh... </div>
<a id="L953" name="L953"></a> 953     <strong class="reserved">return</strong> "?";
<a id="L954" name="L954"></a> 954 <em class="brace">}</em>
<a id="L955" name="L955"></a> 955 
<div class="comment">
 Takes a translation table (a 256-element array of characters)
  and creates an output conversion table for use by
 * convertCharacter(). </div>
<div class="comment">
 Not very efficient at all. Could be changed to sort the table
       for binary search. TODO. (Even though this is inefficient however,
       writing RTF is still much faster than reading it.) </div>
<a id="L962" name="L962"></a> 962 <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] <a href="../S/3259.html#L980" title="Referred from 980 in src/javax/swing/text/rtf/RTFGenerator.java.">outputConversionFromTranslationTable</a>(<strong class="reserved">char</strong>[] table)
<a id="L963" name="L963"></a> 963 <em class="brace">{</em>
<a id="L964" name="L964"></a> 964     <strong class="reserved">int</strong>[] <a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a> = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[2 * table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L965" name="L965"></a> 965 
<a id="L966" name="L966"></a> 966     <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L967" name="L967"></a> 967 
<a id="L968" name="L968"></a> 968     <strong class="reserved">for</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ++) <em class="brace">{</em>
<a id="L969" name="L969"></a> 969         <a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> * 2] = table[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L970" name="L970"></a> 970         <a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a>[(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> * 2) + 1] = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L971" name="L971"></a> 971     <em class="brace">}</em>
<a id="L972" name="L972"></a> 972 
<a id="L973" name="L973"></a> 973     <strong class="reserved">return</strong> <a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a>;
<a id="L974" name="L974"></a> 974 <em class="brace">}</em>
<a id="L975" name="L975"></a> 975 
<a id="L976" name="L976"></a> 976 <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] <a href="../S/3259.html#L317" title="Referred from 317 in src/javax/swing/text/rtf/RTFGenerator.java.">outputConversionForName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L977" name="L977"></a> 977     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L978" name="L978"></a> 978 <em class="brace">{</em>
<a id="L979" name="L979"></a> 979     <strong class="reserved">char</strong>[] table = (<strong class="reserved">char</strong>[])<a href="../S/3263.html#L49" title="Defined at 49 in src/javax/swing/text/rtf/RTFReader.java.">RTFReader</a>.<a href="../S/3263.html#L556" title="Defined at 556 in src/javax/swing/text/rtf/RTFReader.java.">getCharacterSet</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L980" name="L980"></a> 980     <strong class="reserved">return</strong> <a href="../S/3259.html#L962" title="Defined at 962 in src/javax/swing/text/rtf/RTFGenerator.java.">outputConversionFromTranslationTable</a>(table);
<a id="L981" name="L981"></a> 981 <em class="brace">}</em>
<a id="L982" name="L982"></a> 982 
<div class="comment">
 Takes a char and a conversion table (an int[] in the current
  implementation, but conversion tables should be treated as an opaque
  type) and returns the
  corresponding byte value (as an int, since bytes are signed).</div>
<div class="comment">
     /* Not very efficient. TODO. */</div>
<a id="L989" name="L989"></a> 989 <strong class="reserved">static</strong> <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../S/3259.html#L893" title="Referred from 893 in src/javax/swing/text/rtf/RTFGenerator.java.">convertCharacter</a>(<strong class="reserved">int</strong>[] <a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a>, <strong class="reserved">char</strong> ch)
<a id="L990" name="L990"></a> 990 <em class="brace">{</em>
<a id="L991" name="L991"></a> 991    <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L992" name="L992"></a> 992 
<a id="L993" name="L993"></a> 993    <strong class="reserved">for</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += 2) <em class="brace">{</em>
<a id="L994" name="L994"></a> 994        <strong class="reserved">if</strong>(<a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] == ch)
<a id="L995" name="L995"></a> 995            <strong class="reserved">return</strong> <a href="../D/13387.html" title="Multiple defined in 2 places.">conversion</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1];
<a id="L996" name="L996"></a> 996    <em class="brace">}</em>
<a id="L997" name="L997"></a> 997 
<a id="L998" name="L998"></a> 998    <div class="comment">
;  /* 0 indicates an unrepresentable character */</div>
<a id="L999" name="L999"></a> 999 <em class="brace">}</em>
<a id="L1000" name="L1000"></a>1000 
<a id="L1001" name="L1001"></a>1001 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L115">[^]</a><a href="#L989">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>