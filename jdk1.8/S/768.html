<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/net/URL.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L629">[^]</a><a href="#L1310">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L629" title="Defined at 629.">isValidProtocol</a></li>
<li><a href="#L649" title="Defined at 649.">checkSpecifyHandler</a></li>
<li><a href="#L664" title="Defined at 664.">set</a></li>
<li><a href="#L701" title="Defined at 701.">set</a></li>
<li><a href="#L728" title="Defined at 728.">getQuery</a></li>
<li><a href="#L739" title="Defined at 739.">getPath</a></li>
<li><a href="#L750" title="Defined at 750.">getUserInfo</a></li>
<li><a href="#L760" title="Defined at 760.">getAuthority</a></li>
<li><a href="#L769" title="Defined at 769.">getPort</a></li>
<li><a href="#L782" title="Defined at 782.">getDefaultPort</a></li>
<li><a href="#L791" title="Defined at 791.">getProtocol</a></li>
<li><a href="#L803" title="Defined at 803.">getHost</a></li>
<li><a href="#L818" title="Defined at 818.">getFile</a></li>
<li><a href="#L829" title="Defined at 829.">getRef</a></li>
<li><a href="#L858" title="Defined at 858.">equals</a></li>
<li><a href="#L874" title="Defined at 874.">hashCode</a></li>
<li><a href="#L893" title="Defined at 893.">sameFile</a></li>
<li><a href="#L907" title="Defined at 907.">toString</a></li>
<li><a href="#L921" title="Defined at 921.">toExternalForm</a></li>
<li><a href="#L938" title="Defined at 938.">toURI</a></li>
<li><a href="#L971" title="Defined at 971.">openConnection</a></li>
<li><a href="#L1004" title="Defined at 1004.">openConnection</a></li>
<li><a href="#L1037" title="Defined at 1037.">openStream</a></li>
<li><a href="#L1051" title="Defined at 1051.">getContent</a></li>
<li><a href="#L1069" title="Defined at 1069.">getContent</a></li>
<li><a href="#L1102" title="Defined at 1102.">setURLStreamHandlerFactory</a></li>
<li><a href="#L1126" title="Defined at 1126.">getURLStreamHandler</a></li>
<li><a href="#L1232" title="Defined at 1232.">writeObject</a></li>
<li><a href="#L1243" title="Defined at 1243.">readObject</a></li>
<li><a href="#L1302" title="Defined at 1302.">getPath</a></li>
<li><a href="#L1306" title="Defined at 1306.">getQuery</a></li>
<li><a href="#L1310" title="Defined at 1310.">getRef</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.IOException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.StringTokenizer;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> sun.security.util.SecurityConstants;
<a id="L33" name="L33"></a>  33 
<div class="comment">
  Class <code>URL</code> represents a Uniform Resource
  Locator, a pointer to a "resource" on the World
  Wide Web. A resource can be something as simple as a file or a
  directory, or it can be a reference to a more complicated object,
  such as a query to a database or to a search engine. More
  information on the types of URLs and their formats can be found at:
  <a href="http://web.archive.org/web/20051219043731/http://archive.ncsa.uiuc.edu/SDG/Software/Mosaic/Demo/url-primer.html">
  <i>Types of URL</i></a>
  <p>
  In general, a URL can be broken into several parts. Consider the
  following example:
  </p><blockquote><pre>      http://www.example.com/docs/resource1.html
  </pre></blockquote>
  <p>
  The URL above indicates that the protocol to use is
  <code>http</code> (HyperText Transfer Protocol) and that the
  information resides on a host machine named
  <code>www.example.com</code>. The information on that host
  machine is named <code>/docs/resource1.html</code>. The exact
  meaning of this name on the host machine is both protocol
  dependent and host dependent. The information normally resides in
  a file, but it could be generated on the fly. This component of
  the URL is called the <i>path</i> component.
  </p><p>
  A URL can optionally specify a "port", which is the
  port number to which the TCP connection is made on the remote host
  machine. If the port is not specified, the default port for
  the protocol is used instead. For example, the default port for
  <code>http</code> is <code>80</code>. An alternative port could be
  specified as:
  </p><blockquote><pre>      http://www.example.com:1080/docs/resource1.html
  </pre></blockquote>
  <p>
  The syntax of <code>URL</code> is defined by  <a href="http://www.ietf.org/rfc/rfc2396.txt"><i>RFC&nbsp;2396: Uniform
  Resource Identifiers (URI): Generic Syntax</i></a>, amended by <a href="http://www.ietf.org/rfc/rfc2732.txt"><i>RFC&nbsp;2732: Format for
  Literal IPv6 Addresses in URLs</i></a>. The Literal IPv6 address format
  also supports scope_ids. The syntax and usage of scope_ids is described
  <a href="Inet6Address.html#scoped">here</a>.
  </p><p>
  A URL may have appended to it a "fragment", also known
  as a "ref" or a "reference". The fragment is indicated by the sharp
  sign character "#" followed by more characters. For example,
  </p><blockquote><pre>      http://java.sun.com/index.html#chapter1
  </pre></blockquote>
  <p>
  This fragment is not technically part of the URL. Rather, it
  indicates that after the specified resource is retrieved, the
  application is specifically interested in that part of the
  document that has the tag <code>chapter1</code> attached to it. The
  meaning of a tag is resource specific.
  </p><p>
  An application can also specify a "relative URL",
  which contains only enough information to reach the resource
  relative to another URL. Relative URLs are frequently used within
  HTML pages. For example, if the contents of the URL:
  </p><blockquote><pre>      http://java.sun.com/index.html
  </pre></blockquote>
  contained within it the relative URL:
  <blockquote><pre>      FAQ.html
  </pre></blockquote>
  it would be a shorthand for:
  <blockquote><pre>      http://java.sun.com/FAQ.html
  </pre></blockquote>
  <p>
  The relative URL need not specify all the components of a URL. If
  the protocol, host name, or port number is missing, the value is
  inherited from the fully specified URL. The file component must be
  specified. The optional fragment is not inherited.
  </p><p>
  The URL class does not itself encode or decode any URL components
  according to the escaping mechanism defined in RFC2396. It is the
  responsibility of the caller to encode any fields, which need to be
  escaped prior to calling URL, and also to decode any escaped fields,
  that are returned from URL. Furthermore, because URL has no knowledge
  of URL escaping, it does not recognise equivalence between the encoded
  or decoded form of the same URL. For example, the two URLs:<br>
  </p><pre>    http://foo.com/hello world/ and http://foo.com/hello%20world</pre>
  would be considered not equal to each other.
  <p>
  Note, the {@link java.net.URI} class does perform escaping of its
  component fields in certain circumstances. The recommended way
  to manage the encoding and decoding of URLs is to use {@link java.net.URI},
  and to convert between these two classes using {@link #toURI()} and
  {@link URI#toURL()}.
  </p><p>
  The {@link URLEncoder} and {@link URLDecoder} classes can also be
  used, but only for HTML form encoding, which is not the same
  as the encoding scheme defined in RFC2396.
  @author  James Gosling
  @since JDK1.0</p></div>
<a id="L136" name="L136"></a> 136 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8407.html" title="Multiple referred from 667 places.">URL</a> <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L137" name="L137"></a> 137 
<a id="L138" name="L138"></a> 138     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -7627629688361524110L;
<a id="L139" name="L139"></a> 139 
<div class="comment">
      The property which specifies the package prefix list to be scanned
      for protocol handlers.  The value of this property (if any) should
      be a vertical bar delimited list of package names to search through
      for a protocol handler to load.  The policy of this class is that
      all protocol handlers will be in a class called <protocolname>.Handler,
      and each package in the list is examined in turn for a matching
      handler.  If none are found (or the property is not specified), the
      default package prefix, sun.net.www.protocol, is used.  The search
      proceeds from the first package in the list to the last and stops
      when a match is found.</protocolname></div>
<a id="L152" name="L152"></a> 152     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocolPathProp = "java.protocol.handler.pkgs";
<a id="L153" name="L153"></a> 153 
<div class="comment">
      The protocol to use (ftp, http, nntp, ... etc.) .
      @serial</div>
<a id="L158" name="L158"></a> 158     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol;
<a id="L159" name="L159"></a> 159 
<div class="comment">
      The host name to connect to.
      @serial</div>
<a id="L164" name="L164"></a> 164     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host;
<a id="L165" name="L165"></a> 165 
<div class="comment">
      The protocol port to connect to.
      @serial</div>
<a id="L170" name="L170"></a> 170     <strong class="reserved">private</strong> <strong class="reserved">int</strong> port = -1;
<a id="L171" name="L171"></a> 171 
<div class="comment">
      The specified file name on that host. <code>file</code> is
      defined as <code>path[?query]</code>
      @serial</div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L178" name="L178"></a> 178 
<div class="comment">
      The query part of this URL.</div>
<a id="L182" name="L182"></a> 182     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L183" name="L183"></a> 183 
<div class="comment">
      The authority part of this URL.
      @serial</div>
<a id="L188" name="L188"></a> 188     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authority;
<a id="L189" name="L189"></a> 189 
<div class="comment">
      The path part of this URL.</div>
<a id="L193" name="L193"></a> 193     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path;
<a id="L194" name="L194"></a> 194 
<div class="comment">
      The userinfo part of this URL.</div>
<a id="L198" name="L198"></a> 198     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> userInfo;
<a id="L199" name="L199"></a> 199 
<div class="comment">
      # reference.
      @serial</div>
<a id="L204" name="L204"></a> 204     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<a id="L205" name="L205"></a> 205 
<div class="comment">
      The host's IP address, used in equals and hashCode.
      Computed on demand. An uninitialized or unknown hostAddress is null.</div>
<a id="L210" name="L210"></a> 210     <strong class="reserved">transient</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> hostAddress;
<a id="L211" name="L211"></a> 211 
<div class="comment">
      The URLStreamHandler for this URL.</div>
<a id="L215" name="L215"></a> 215     <strong class="reserved">transient</strong> <a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L216" name="L216"></a> 216 
<div class="comment">
 Our hash code.
      @serial</div>
<a id="L220" name="L220"></a> 220     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> = -1;
<a id="L221" name="L221"></a> 221 
<div class="comment">
      Creates a <code>URL</code> object from the specified
      <code>protocol</code>, <code>host</code>, <code>port</code>
      number, and <code>file</code>.<p>
      <code>host</code> can be expressed as a host name or a literal
      IP address. If IPv6 literal address is used, it should be
      enclosed in square brackets (<code>'['</code> and <code>']'</code>), as
      specified by <a href="http://www.ietf.org/rfc/rfc2732.txt">RFC&nbsp;2732</a>;
      However, the literal IPv6 address format defined in <a href="http://www.ietf.org/rfc/rfc2373.txt"><i>RFC&nbsp;2373: IP
      Version 6 Addressing Architecture</i></a> is also accepted.</p><p>
      Specifying a <code>port</code> number of <code>-1</code>
      indicates that the URL should use the default port for the
      protocol.</p><p>
      If this is the first URL object being created with the specified
      protocol, a <i>stream protocol handler</i> object, an instance of
      class <code>URLStreamHandler</code>, is created for that protocol:
      </p><ol>
      <li>If the application has previously set up an instance of
          <code>URLStreamHandlerFactory</code> as the stream handler factory,
          then the <code>createURLStreamHandler</code> method of that instance
          is called with the protocol string as an argument to create the
          stream protocol handler.
      </li><li>If no <code>URLStreamHandlerFactory</code> has yet been set up,
          or if the factory's <code>createURLStreamHandler</code> method
          returns <code>null</code>, then the constructor finds the
          value of the system property:
          <blockquote><pre>              java.protocol.handler.pkgs
          </pre></blockquote>
          If the value of that system property is not <code>null</code>,
          it is interpreted as a list of packages separated by a vertical
          slash character '<code>|</code>'. The constructor tries to load
          the class named:
          <blockquote><pre>              &lt;<i>package</i>&gt;.&lt;<i>protocol</i>&gt;.Handler
          </pre></blockquote>
          where &lt;<i>package</i>&gt; is replaced by the name of the package
          and &lt;<i>protocol</i>&gt; is replaced by the name of the protocol.
          If this class does not exist, or if the class exists but it is not
          a subclass of <code>URLStreamHandler</code>, then the next package
          in the list is tried.
      </li><li>If the previous step fails to find a protocol handler, then the
          constructor tries to load from a system default package.
          <blockquote><pre>              &lt;<i>system default package</i>&gt;.&lt;<i>protocol</i>&gt;.Handler
          </pre></blockquote>
          If this class does not exist, or if the class exists but it is not a
          subclass of <code>URLStreamHandler</code>, then a
          <code>MalformedURLException</code> is thrown.
      </li></ol>
      <p>Protocol handlers for the following protocols are guaranteed
      to exist on the search path :-
      </p><blockquote><pre>          http, https, file, and jar
      </pre></blockquote>
      Protocol handlers for additional protocols may also be
      available.
      <p>No validation of the inputs is performed by this constructor.
      @param      protocol   the name of the protocol to use.
      @param      host       the name of the host.
      @param      port       the port number on the host.
      @param      file       the file on the host
      @exception  MalformedURLException  if an unknown protocol is specified.
      @see        java.lang.System#getProperty(java.lang.String)
      @see        java.net.URL#setURLStreamHandlerFactory(
                       java.net.URLStreamHandlerFactory)
      @see        java.net.URLStreamHandler
      @see        java.net.URLStreamHandlerFactory#createURLStreamHandler(
                       java.lang.String)</p></div>
<a id="L300" name="L300"></a> 300     <strong class="reserved">public</strong> URL(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>)
<a id="L301" name="L301"></a> 301         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>
<a id="L302" name="L302"></a> 302     <em class="brace">{</em>
<a id="L303" name="L303"></a> 303         <strong class="reserved">this</strong>(protocol, host, port, <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, <strong class="reserved">null</strong>);
<a id="L304" name="L304"></a> 304     <em class="brace">}</em>
<a id="L305" name="L305"></a> 305 
<div class="comment">
      Creates a URL from the specified <code>protocol</code>
      name, <code>host</code> name, and <code>file</code> name. The
      default port for the specified protocol is used.
      <p>
      This method is equivalent to calling the four-argument
      constructor with the arguments being <code>protocol</code>,
      <code>host</code>, <code>-1</code>, and <code>file</code>.
      No validation of the inputs is performed by this constructor.
      @param      protocol   the name of the protocol to use.
      @param      host       the name of the host.
      @param      file       the file on the host.
      @exception  MalformedURLException  if an unknown protocol is specified.
      @see        java.net.URL#URL(java.lang.String, java.lang.String,
                       int, java.lang.String)</p></div>
<a id="L324" name="L324"></a> 324     <strong class="reserved">public</strong> URL(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>)
<a id="L325" name="L325"></a> 325             <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L326" name="L326"></a> 326         <strong class="reserved">this</strong>(protocol, host, -1, <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>);
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Creates a <code>URL</code> object from the specified
      <code>protocol</code>, <code>host</code>, <code>port</code>
      number, <code>file</code>, and <code>handler</code>. Specifying
      a <code>port</code> number of <code>-1</code> indicates that
      the URL should use the default port for the protocol. Specifying
      a <code>handler</code> of <code>null</code> indicates that the URL
      should use a default stream handler for the protocol, as outlined
      for:
          java.net.URL#URL(java.lang.String, java.lang.String, int,
                           java.lang.String)
      <p>If the handler is not null and there is a security manager,
      the security manager's <code>checkPermission</code>
      method is called with a
      <code>NetPermission("specifyStreamHandler")</code> permission.
      This may result in a SecurityException.
      No validation of the inputs is performed by this constructor.
      @param      protocol   the name of the protocol to use.
      @param      host       the name of the host.
      @param      port       the port number on the host.
      @param      file       the file on the host
      @param      handler    the stream handler for the URL.
      @exception  MalformedURLException  if an unknown protocol is specified.
      @exception  SecurityException
             if a security manager exists and its
             <code>checkPermission</code> method doesn't allow
             specifying a stream handler explicitly.
      @see        java.lang.System#getProperty(java.lang.String)
      @see        java.net.URL#setURLStreamHandlerFactory(
                       java.net.URLStreamHandlerFactory)
      @see        java.net.URLStreamHandler
      @see        java.net.URLStreamHandlerFactory#createURLStreamHandler(
                       java.lang.String)
      @see        SecurityManager#checkPermission
      @see        java.net.NetPermission</p></div>
<a id="L368" name="L368"></a> 368     <strong class="reserved">public</strong> URL(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>,
<a id="L369" name="L369"></a> 369                <a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L370" name="L370"></a> 370         <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L372" name="L372"></a> 372             <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L373" name="L373"></a> 373                 <em class="comment">// check for permission to specify a handler</em>
<a id="L374" name="L374"></a> 374                 <a href="../S/768.html#L649" title="Defined at 649 in src/java/net/URL.java.">checkSpecifyHandler</a>(sm);
<a id="L375" name="L375"></a> 375             <em class="brace">}</em>
<a id="L376" name="L376"></a> 376         <em class="brace">}</em>
<a id="L377" name="L377"></a> 377 
<a id="L378" name="L378"></a> 378         protocol = protocol.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L379" name="L379"></a> 379         <strong class="reserved">this</strong>.protocol = protocol;
<a id="L380" name="L380"></a> 380         <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381 
<div class="comment">
              if host is a literal IPv6 address,
              we will make it conform to RFC 2732</div>
<a id="L386" name="L386"></a> 386             <strong class="reserved">if</strong> (host.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':') &gt;= 0 &amp;&amp; !host.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("[")) <em class="brace">{</em>
<a id="L387" name="L387"></a> 387                 host = "["+host+"]";
<a id="L388" name="L388"></a> 388             <em class="brace">}</em>
<a id="L389" name="L389"></a> 389             <strong class="reserved">this</strong>.host = host;
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391             <strong class="reserved">if</strong> (port &lt; -1) <em class="brace">{</em>
<a id="L392" name="L392"></a> 392                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Invalid port number :" +
<a id="L393" name="L393"></a> 393                                                     port);
<a id="L394" name="L394"></a> 394             <em class="brace">}</em>
<a id="L395" name="L395"></a> 395             <strong class="reserved">this</strong>.port = port;
<a id="L396" name="L396"></a> 396             authority = (port == -1) ? host : host + ":" + port;
<a id="L397" name="L397"></a> 397         <em class="brace">}</em>
<a id="L398" name="L398"></a> 398 
<a id="L399" name="L399"></a> 399         <a href="../S/768.html#L1286" title="Defined at 1286 in src/java/net/URL.java.">Parts</a> parts = <strong class="reserved">new</strong> <a href="../S/768.html#L1286" title="Defined at 1286 in src/java/net/URL.java.">Parts</a>(<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>);
<a id="L400" name="L400"></a> 400         path = parts.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>();
<a id="L401" name="L401"></a> 401         <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = parts.<a href="../D/21802.html" title="Multiple defined in 3 places.">getQuery</a>();
<a id="L402" name="L402"></a> 402 
<a id="L403" name="L403"></a> 403         <strong class="reserved">if</strong> (<a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L404" name="L404"></a> 404             <strong class="reserved">this</strong>.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = path + "?" + <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L405" name="L405"></a> 405         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L406" name="L406"></a> 406             <strong class="reserved">this</strong>.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = path;
<a id="L407" name="L407"></a> 407         <em class="brace">}</em>
<a id="L408" name="L408"></a> 408         <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = parts.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>();
<a id="L409" name="L409"></a> 409 
<a id="L410" name="L410"></a> 410         <em class="comment">// Note: we don't do validation of the URL here. Too risky to change</em>
<a id="L411" name="L411"></a> 411         <em class="comment">// right now, but worth considering for future reference. -br</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> == <strong class="reserved">null</strong> &amp;&amp;
<a id="L413" name="L413"></a> 413             (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../S/768.html#L1126" title="Defined at 1126 in src/java/net/URL.java.">getURLStreamHandler</a>(protocol)) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("unknown protocol: " + protocol);
<a id="L415" name="L415"></a> 415         <em class="brace">}</em>
<a id="L416" name="L416"></a> 416         <strong class="reserved">this</strong>.<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L417" name="L417"></a> 417     <em class="brace">}</em>
<a id="L418" name="L418"></a> 418 
<div class="comment">
      Creates a <code>URL</code> object from the <code>String</code>
      representation.
      <p>
      This constructor is equivalent to a call to the two-argument
      constructor with a <code>null</code> first argument.
      @param      spec   the <code>String</code> to parse as a URL.
      @exception  MalformedURLException  if no protocol is specified, or an
                    unknown protocol is found, or <code>spec</code> is <code>null</code>.
      @see        java.net.URL#URL(java.net.URL, java.lang.String)</p></div>
<a id="L431" name="L431"></a> 431     <strong class="reserved">public</strong> URL(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> spec) <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L432" name="L432"></a> 432         <strong class="reserved">this</strong>(<strong class="reserved">null</strong>, spec);
<a id="L433" name="L433"></a> 433     <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<div class="comment">
      Creates a URL by parsing the given spec within a specified context.
      The new URL is created from the given context URL and the spec
      argument as described in
      RFC2396 "Uniform Resource Identifiers : Generic * Syntax" :
      <blockquote><pre>               &lt;scheme&gt;://&lt;authority&gt;&lt;path&gt;?&lt;query&gt;#&lt;fragment&gt;
      </pre></blockquote>
      The reference is parsed into the scheme, authority, path, query and
      fragment parts. If the path component is empty and the scheme,
      authority, and query components are undefined, then the new URL is a
      reference to the current document. Otherwise, the fragment and query
      parts present in the spec are used in the new URL.
      <p>
      If the scheme component is defined in the given spec and does not match
      the scheme of the context, then the new URL is created as an absolute
      URL based on the spec alone. Otherwise the scheme component is inherited
      from the context URL.
      </p><p>
      If the authority component is present in the spec then the spec is
      treated as absolute and the spec authority and path will replace the
      context authority and path. If the authority component is absent in the
      spec then the authority of the new URL will be inherited from the
      context.
      </p><p>
      If the spec's path component begins with a slash character
      "/" then the
      path is treated as absolute and the spec path replaces the context path.
      </p><p>
      Otherwise, the path is treated as a relative path and is appended to the
      context path, as described in RFC2396. Also, in this case,
      the path is canonicalized through the removal of directory
      changes made by occurrences of ".." and ".".
      </p><p>
      For a more detailed description of URL parsing, refer to RFC2396.
      @param      context   the context in which to parse the specification.
      @param      spec      the <code>String</code> to parse as a URL.
      @exception  MalformedURLException  if no protocol is specified, or an
                    unknown protocol is found, or <code>spec</code> is <code>null</code>.
      @see        java.net.URL#URL(java.lang.String, java.lang.String,
                       int, java.lang.String)
      @see        java.net.URLStreamHandler
      @see        java.net.URLStreamHandler#parseURL(java.net.URL,
                       java.lang.String, int, int)</p></div>
<a id="L482" name="L482"></a> 482     <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(URL <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> spec) <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L483" name="L483"></a> 483         <strong class="reserved">this</strong>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, spec, <strong class="reserved">null</strong>);
<a id="L484" name="L484"></a> 484     <em class="brace">}</em>
<a id="L485" name="L485"></a> 485 
<div class="comment">
      Creates a URL by parsing the given spec with the specified handler
      within a specified context. If the handler is null, the parsing
      occurs as with the two argument constructor.
      @param      context   the context in which to parse the specification.
      @param      spec      the <code>String</code> to parse as a URL.
      @param      handler   the stream handler for the URL.
      @exception  MalformedURLException  if no protocol is specified, or an
                    unknown protocol is found, or <code>spec</code> is <code>null</code>.
      @exception  SecurityException
             if a security manager exists and its
             <code>checkPermission</code> method doesn't allow
             specifying a stream handler.
      @see        java.net.URL#URL(java.lang.String, java.lang.String,
                       int, java.lang.String)
      @see        java.net.URLStreamHandler
      @see        java.net.URLStreamHandler#parseURL(java.net.URL,
                       java.lang.String, int, int)</div>
<a id="L506" name="L506"></a> 506     <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(URL <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> spec, <a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>)
<a id="L507" name="L507"></a> 507         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>
<a id="L508" name="L508"></a> 508     <em class="brace">{</em>
<a id="L509" name="L509"></a> 509         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> original = spec;
<a id="L510" name="L510"></a> 510         <strong class="reserved">int</strong> i, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L511" name="L511"></a> 511         <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = 0;
<a id="L512" name="L512"></a> 512         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newProtocol = <strong class="reserved">null</strong>;
<a id="L513" name="L513"></a> 513         <strong class="reserved">boolean</strong> aRef=<strong class="reserved">false</strong>;
<a id="L514" name="L514"></a> 514         <strong class="reserved">boolean</strong> <a href="../S/4245.html#L214" title="Defined at 214 in src/javax/naming/NameClassPair.java.">isRelative</a> = <strong class="reserved">false</strong>;
<a id="L515" name="L515"></a> 515 
<a id="L516" name="L516"></a> 516         <em class="comment">// Check for permission to specify a handler</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L519" name="L519"></a> 519             <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520                 <a href="../S/768.html#L649" title="Defined at 649 in src/java/net/URL.java.">checkSpecifyHandler</a>(sm);
<a id="L521" name="L521"></a> 521             <em class="brace">}</em>
<a id="L522" name="L522"></a> 522         <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<a id="L524" name="L524"></a> 524         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L525" name="L525"></a> 525             <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = spec.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L526" name="L526"></a> 526             <strong class="reserved">while</strong> ((<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> &gt; 0) &amp;&amp; (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> - 1) &lt;= ' ')) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                 <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>--;        <em class="comment">//eliminate trailing whitespace</em>
<a id="L528" name="L528"></a> 528             <em class="brace">}</em>
<a id="L529" name="L529"></a> 529             <strong class="reserved">while</strong> ((<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) &amp;&amp; (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) &lt;= ' ')) <em class="brace">{</em>
<a id="L530" name="L530"></a> 530                 <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>++;        <em class="comment">// eliminate leading whitespace</em>
<a id="L531" name="L531"></a> 531             <em class="brace">}</em>
<a id="L532" name="L532"></a> 532 
<a id="L533" name="L533"></a> 533             <strong class="reserved">if</strong> (spec.<a href="../D/30514.html" title="Multiple defined in 14 places.">regionMatches</a>(<strong class="reserved">true</strong>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, "url:", 0, 4)) <em class="brace">{</em>
<a id="L534" name="L534"></a> 534                 <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> += 4;
<a id="L535" name="L535"></a> 535             <em class="brace">}</em>
<a id="L536" name="L536"></a> 536             <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; spec.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &amp;&amp; spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) == '#') <em class="brace">{</em>
<div class="comment">
 we're assuming this is a ref relative to the context URL.
                  This means protocols cannot start w/ '#', but we must parse
                  ref URL's like: "hello:there" w/ a ':' in them.</div>
<a id="L541" name="L541"></a> 541                 aRef=<strong class="reserved">true</strong>;
<a id="L542" name="L542"></a> 542             <em class="brace">}</em>
<a id="L543" name="L543"></a> 543             <strong class="reserved">for</strong> (i = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> ; !aRef &amp;&amp; (i &lt; <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) &amp;&amp;
<a id="L544" name="L544"></a> 544                      ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i)) != '/') ; i++) <em class="brace">{</em>
<a id="L545" name="L545"></a> 545                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ':') <em class="brace">{</em>
<a id="L546" name="L546"></a> 546 
<a id="L547" name="L547"></a> 547                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, i).<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L548" name="L548"></a> 548                     <strong class="reserved">if</strong> (<a href="../S/768.html#L629" title="Defined at 629 in src/java/net/URL.java.">isValidProtocol</a>(s)) <em class="brace">{</em>
<a id="L549" name="L549"></a> 549                         newProtocol = s;
<a id="L550" name="L550"></a> 550                         <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = i + 1;
<a id="L551" name="L551"></a> 551                     <em class="brace">}</em>
<a id="L552" name="L552"></a> 552                     <strong class="reserved">break</strong>;
<a id="L553" name="L553"></a> 553                 <em class="brace">}</em>
<a id="L554" name="L554"></a> 554             <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556             <em class="comment">// Only use our context if the protocols match.</em>
<a id="L557" name="L557"></a> 557             protocol = newProtocol;
<a id="L558" name="L558"></a> 558             <strong class="reserved">if</strong> ((<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> != <strong class="reserved">null</strong>) &amp;&amp; ((newProtocol == <strong class="reserved">null</strong>) ||
<a id="L559" name="L559"></a> 559                             newProtocol.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.protocol))) <em class="brace">{</em>
<a id="L560" name="L560"></a> 560                 <em class="comment">// inherit the protocol handler from the context</em>
<a id="L561" name="L561"></a> 561                 <em class="comment">// if not specified to the constructor</em>
<a id="L562" name="L562"></a> 562                 <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L563" name="L563"></a> 563                     <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L564" name="L564"></a> 564                 <em class="brace">}</em>
<a id="L565" name="L565"></a> 565 
<a id="L566" name="L566"></a> 566                 <em class="comment">// If the context is a hierarchical URL scheme and the spec</em>
<a id="L567" name="L567"></a> 567                 <em class="comment">// contains a matching scheme then maintain backwards</em>
<a id="L568" name="L568"></a> 568                 <em class="comment">// compatibility and treat it as if the spec didn't contain</em>
<a id="L569" name="L569"></a> 569                 <em class="comment">// the scheme; see 5.2.3 of RFC2396</em>
<a id="L570" name="L570"></a> 570                 <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.path != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.path.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("/"))
<a id="L571" name="L571"></a> 571                     newProtocol = <strong class="reserved">null</strong>;
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573                 <strong class="reserved">if</strong> (newProtocol == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L574" name="L574"></a> 574                     protocol = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.protocol;
<a id="L575" name="L575"></a> 575                     authority = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.authority;
<a id="L576" name="L576"></a> 576                     userInfo = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.userInfo;
<a id="L577" name="L577"></a> 577                     host = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.host;
<a id="L578" name="L578"></a> 578                     port = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.port;
<a id="L579" name="L579"></a> 579                     <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L580" name="L580"></a> 580                     path = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.path;
<a id="L581" name="L581"></a> 581                     <a href="../S/4245.html#L214" title="Defined at 214 in src/javax/naming/NameClassPair.java.">isRelative</a> = <strong class="reserved">true</strong>;
<a id="L582" name="L582"></a> 582                 <em class="brace">}</em>
<a id="L583" name="L583"></a> 583             <em class="brace">}</em>
<a id="L584" name="L584"></a> 584 
<a id="L585" name="L585"></a> 585             <strong class="reserved">if</strong> (protocol == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("no protocol: "+original);
<a id="L587" name="L587"></a> 587             <em class="brace">}</em>
<a id="L588" name="L588"></a> 588 
<a id="L589" name="L589"></a> 589             <em class="comment">// Get the protocol handler if not specified or the protocol</em>
<a id="L590" name="L590"></a> 590             <em class="comment">// of the context could not be used</em>
<a id="L591" name="L591"></a> 591             <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> == <strong class="reserved">null</strong> &amp;&amp;
<a id="L592" name="L592"></a> 592                 (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../S/768.html#L1126" title="Defined at 1126 in src/java/net/URL.java.">getURLStreamHandler</a>(protocol)) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("unknown protocol: "+protocol);
<a id="L594" name="L594"></a> 594             <em class="brace">}</em>
<a id="L595" name="L595"></a> 595 
<a id="L596" name="L596"></a> 596             <strong class="reserved">this</strong>.<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L597" name="L597"></a> 597 
<a id="L598" name="L598"></a> 598             i = spec.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('#', <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L599" name="L599"></a> 599             <strong class="reserved">if</strong> (i &gt;= 0) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600                 <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(i + 1, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L601" name="L601"></a> 601                 <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = i;
<a id="L602" name="L602"></a> 602             <em class="brace">}</em>
<a id="L603" name="L603"></a> 603 
<div class="comment">
              Handle special case inheritance of query and fragment
              implied by RFC2396 section 5.2.2.</div>
<a id="L608" name="L608"></a> 608             <strong class="reserved">if</strong> (<a href="../S/4245.html#L214" title="Defined at 214 in src/javax/naming/NameClassPair.java.">isRelative</a> &amp;&amp; <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> == <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609                 <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L610" name="L610"></a> 610                 <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L611" name="L611"></a> 611                     <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<a id="L612" name="L612"></a> 612                 <em class="brace">}</em>
<a id="L613" name="L613"></a> 613             <em class="brace">}</em>
<a id="L614" name="L614"></a> 614 
<a id="L615" name="L615"></a> 615             <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/29225.html" title="Multiple defined in 4 places.">parseURL</a>(<strong class="reserved">this</strong>, spec, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L616" name="L616"></a> 616 
<a id="L617" name="L617"></a> 617         <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> e) <em class="brace">{</em>
<a id="L618" name="L618"></a> 618             <strong class="reserved">throw</strong> e;
<a id="L619" name="L619"></a> 619         <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L620" name="L620"></a> 620             <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a> = <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L621" name="L621"></a> 621             <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(e);
<a id="L622" name="L622"></a> 622             <strong class="reserved">throw</strong> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L623" name="L623"></a> 623         <em class="brace">}</em>
<a id="L624" name="L624"></a> 624     <em class="brace">}</em>
<a id="L625" name="L625"></a> 625 
<div class="comment">
      Returns true if specified string is a valid protocol name.</div>
<a id="L629" name="L629"></a> 629     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/768.html#L548" title="Referred from 548 in src/java/net/URL.java.">isValidProtocol</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol) <em class="brace">{</em>
<a id="L630" name="L630"></a> 630         <strong class="reserved">int</strong> len = protocol.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L631" name="L631"></a> 631         <strong class="reserved">if</strong> (len &lt; 1)
<a id="L632" name="L632"></a> 632             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L633" name="L633"></a> 633         <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = protocol.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L634" name="L634"></a> 634         <strong class="reserved">if</strong> (!<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/25794.html" title="Multiple defined in 3 places.">isLetter</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>))
<a id="L635" name="L635"></a> 635             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L636" name="L636"></a> 636         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt; len; i++) <em class="brace">{</em>
<a id="L637" name="L637"></a> 637             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = protocol.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L638" name="L638"></a> 638             <strong class="reserved">if</strong> (!<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/25795.html" title="Multiple defined in 2 places.">isLetterOrDigit</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != '.' &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != '+' &amp;&amp;
<a id="L639" name="L639"></a> 639                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != '-') <em class="brace">{</em>
<a id="L640" name="L640"></a> 640                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L641" name="L641"></a> 641             <em class="brace">}</em>
<a id="L642" name="L642"></a> 642         <em class="brace">}</em>
<a id="L643" name="L643"></a> 643         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L644" name="L644"></a> 644     <em class="brace">}</em>
<a id="L645" name="L645"></a> 645 
<div class="comment">
      Checks for permission to specify a stream handler.</div>
<a id="L649" name="L649"></a> 649     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11367.html" title="Multiple referred from 2 places.">checkSpecifyHandler</a>(<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm) <em class="brace">{</em>
<a id="L650" name="L650"></a> 650         sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(SecurityConstants.SPECIFY_HANDLER_PERMISSION);
<a id="L651" name="L651"></a> 651     <em class="brace">}</em>
<a id="L652" name="L652"></a> 652 
<div class="comment">
      Sets the fields of the URL. This is not a public method so that
      only URLStreamHandlers can modify URL fields. URLs are
      otherwise constant.
      @param protocol the name of the protocol to use
      @param host the name of the host
       @param port the port number on the host
      @param file the file on the host
      @param ref the internal reference in the URL</div>
<a id="L664" name="L664"></a> 664     <strong class="reserved">void</strong> <a href="../R/26855.html" title="Multiple referred from 752 places.">set</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port,
<a id="L665" name="L665"></a> 665              <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>) <em class="brace">{</em>
<a id="L666" name="L666"></a> 666         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L667" name="L667"></a> 667             <strong class="reserved">this</strong>.protocol = protocol;
<a id="L668" name="L668"></a> 668             <strong class="reserved">this</strong>.host = host;
<a id="L669" name="L669"></a> 669             authority = port == -1 ? host : host + ":" + port;
<a id="L670" name="L670"></a> 670             <strong class="reserved">this</strong>.port = port;
<a id="L671" name="L671"></a> 671             <strong class="reserved">this</strong>.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L672" name="L672"></a> 672             <strong class="reserved">this</strong>.<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<div class="comment">
 This is very important. We must recompute this after the
             * URL has been changed. </div>
<a id="L675" name="L675"></a> 675             <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> = -1;
<a id="L676" name="L676"></a> 676             hostAddress = <strong class="reserved">null</strong>;
<a id="L677" name="L677"></a> 677             <strong class="reserved">int</strong> q = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('?');
<a id="L678" name="L678"></a> 678             <strong class="reserved">if</strong> (q != -1) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679                 <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(q+1);
<a id="L680" name="L680"></a> 680                 path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, q);
<a id="L681" name="L681"></a> 681             <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L682" name="L682"></a> 682                 path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L683" name="L683"></a> 683         <em class="brace">}</em>
<a id="L684" name="L684"></a> 684     <em class="brace">}</em>
<a id="L685" name="L685"></a> 685 
<div class="comment">
      Sets the specified 8 fields of the URL. This is not a public method so
      that only URLStreamHandlers can modify URL fields. URLs are otherwise
      constant.
      @param protocol the name of the protocol to use
      @param host the name of the host
      @param port the port number on the host
      @param authority the authority part for the url
      @param userInfo the username and password
      @param path the file on the host
      @param ref the internal reference in the URL
      @param query the query part of this URL
      @since 1.3</div>
<a id="L701" name="L701"></a> 701     <strong class="reserved">void</strong> <a href="../R/26855.html" title="Multiple referred from 752 places.">set</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port,
<a id="L702" name="L702"></a> 702              <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authority, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> userInfo, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path,
<a id="L703" name="L703"></a> 703              <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705             <strong class="reserved">this</strong>.protocol = protocol;
<a id="L706" name="L706"></a> 706             <strong class="reserved">this</strong>.host = host;
<a id="L707" name="L707"></a> 707             <strong class="reserved">this</strong>.port = port;
<a id="L708" name="L708"></a> 708             <strong class="reserved">this</strong>.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> == <strong class="reserved">null</strong> ? path : path + "?" + <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L709" name="L709"></a> 709             <strong class="reserved">this</strong>.userInfo = userInfo;
<a id="L710" name="L710"></a> 710             <strong class="reserved">this</strong>.path = path;
<a id="L711" name="L711"></a> 711             <strong class="reserved">this</strong>.<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<div class="comment">
 This is very important. We must recompute this after the
             * URL has been changed. </div>
<a id="L714" name="L714"></a> 714             <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> = -1;
<a id="L715" name="L715"></a> 715             hostAddress = <strong class="reserved">null</strong>;
<a id="L716" name="L716"></a> 716             <strong class="reserved">this</strong>.<a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L717" name="L717"></a> 717             <strong class="reserved">this</strong>.authority = authority;
<a id="L718" name="L718"></a> 718         <em class="brace">}</em>
<a id="L719" name="L719"></a> 719     <em class="brace">}</em>
<a id="L720" name="L720"></a> 720 
<div class="comment">
      Gets the query part of this <code>URL</code>.
      @return  the query part of this <code>URL</code>,
      or <code>null</code> if one does not exist
      @since 1.3</div>
<a id="L728" name="L728"></a> 728     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18569.html" title="Multiple referred from 11 places.">getQuery</a>() <em class="brace">{</em>
<a id="L729" name="L729"></a> 729         <strong class="reserved">return</strong> <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L730" name="L730"></a> 730     <em class="brace">}</em>
<a id="L731" name="L731"></a> 731 
<div class="comment">
      Gets the path part of this <code>URL</code>.
      @return  the path part of this <code>URL</code>, or an
      empty string if one does not exist
      @since 1.3</div>
<a id="L739" name="L739"></a> 739     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18300.html" title="Multiple referred from 125 places.">getPath</a>() <em class="brace">{</em>
<a id="L740" name="L740"></a> 740         <strong class="reserved">return</strong> path;
<a id="L741" name="L741"></a> 741     <em class="brace">}</em>
<a id="L742" name="L742"></a> 742 
<div class="comment">
      Gets the userInfo part of this <code>URL</code>.
      @return  the userInfo part of this <code>URL</code>, or
      <code>null</code> if one does not exist
      @since 1.3</div>
<a id="L750" name="L750"></a> 750     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19723.html" title="Multiple referred from 3 places.">getUserInfo</a>() <em class="brace">{</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">return</strong> userInfo;
<a id="L752" name="L752"></a> 752     <em class="brace">}</em>
<a id="L753" name="L753"></a> 753 
<div class="comment">
      Gets the authority part of this <code>URL</code>.
      @return  the authority part of this <code>URL</code>
      @since 1.3</div>
<a id="L760" name="L760"></a> 760     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15182.html" title="Multiple referred from 12 places.">getAuthority</a>() <em class="brace">{</em>
<a id="L761" name="L761"></a> 761         <strong class="reserved">return</strong> authority;
<a id="L762" name="L762"></a> 762     <em class="brace">}</em>
<a id="L763" name="L763"></a> 763 
<div class="comment">
      Gets the port number of this <code>URL</code>.
      @return  the port number, or -1 if the port is not set</div>
<a id="L769" name="L769"></a> 769     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18374.html" title="Multiple referred from 119 places.">getPort</a>() <em class="brace">{</em>
<a id="L770" name="L770"></a> 770         <strong class="reserved">return</strong> port;
<a id="L771" name="L771"></a> 771     <em class="brace">}</em>
<a id="L772" name="L772"></a> 772 
<div class="comment">
      Gets the default port number of the protocol associated
      with this <code>URL</code>. If the URL scheme or the URLStreamHandler
      for the URL do not define a default port number,
      then -1 is returned.
      @return  the port number
      @since 1.4</div>
<a id="L782" name="L782"></a> 782     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16058.html" title="Multiple referred from 5 places.">getDefaultPort</a>() <em class="brace">{</em>
<a id="L783" name="L783"></a> 783         <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/18340.html" title="Multiple defined in 2 places.">getDefaultPort</a>();
<a id="L784" name="L784"></a> 784     <em class="brace">}</em>
<a id="L785" name="L785"></a> 785 
<div class="comment">
      Gets the protocol name of this <code>URL</code>.
      @return  the protocol of this <code>URL</code>.</div>
<a id="L791" name="L791"></a> 791     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18529.html" title="Multiple referred from 40 places.">getProtocol</a>() <em class="brace">{</em>
<a id="L792" name="L792"></a> 792         <strong class="reserved">return</strong> protocol;
<a id="L793" name="L793"></a> 793     <em class="brace">}</em>
<a id="L794" name="L794"></a> 794 
<div class="comment">
      Gets the host name of this <code>URL</code>, if applicable.
      The format of the host conforms to RFC 2732, i.e. for a
      literal IPv6 address, this method will return the IPv6 address
      enclosed in square brackets (<code>'['</code> and <code>']'</code>).
      @return  the host name of this <code>URL</code>.</div>
<a id="L803" name="L803"></a> 803     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16910.html" title="Multiple referred from 54 places.">getHost</a>() <em class="brace">{</em>
<a id="L804" name="L804"></a> 804         <strong class="reserved">return</strong> host;
<a id="L805" name="L805"></a> 805     <em class="brace">}</em>
<a id="L806" name="L806"></a> 806 
<div class="comment">
      Gets the file name of this <code>URL</code>.
      The returned file portion will be
      the same as <code>getPath()</code>, plus the concatenation of
      the value of <code>getQuery()</code>, if any. If there is
      no query portion, this method and <code>getPath()</code> will
      return identical results.
      @return  the file name of this <code>URL</code>,
      or an empty string if one does not exist</div>
<a id="L818" name="L818"></a> 818     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16568.html" title="Multiple referred from 25 places.">getFile</a>() <em class="brace">{</em>
<a id="L819" name="L819"></a> 819         <strong class="reserved">return</strong> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L820" name="L820"></a> 820     <em class="brace">}</em>
<a id="L821" name="L821"></a> 821 
<div class="comment">
      Gets the anchor (also known as the "reference") of this
      <code>URL</code>.
      @return  the anchor (also known as the "reference") of this
               <code>URL</code>, or <code>null</code> if one does not exist</div>
<a id="L829" name="L829"></a> 829     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18635.html" title="Multiple referred from 20 places.">getRef</a>() <em class="brace">{</em>
<a id="L830" name="L830"></a> 830         <strong class="reserved">return</strong> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<a id="L831" name="L831"></a> 831     <em class="brace">}</em>
<a id="L832" name="L832"></a> 832 
<div class="comment">
      Compares this URL for equality with another object.<p>
      If the given object is not a URL then this method immediately returns
      <code>false</code>.</p><p>
      Two URL objects are equal if they have the same protocol, reference
      equivalent hosts, have the same port number on the host, and the same
      file and fragment of the file.</p><p>
      Two hosts are considered equivalent if both host names can be resolved
      into the same IP addresses; else if either host name can't be
      resolved, the host names must be equal without regard to case; or both
      host names equal to null.</p><p>
      Since hosts comparison requires name resolution, this operation is a
      blocking operation. </p><p>
      Note: The defined behavior for <code>equals</code> is known to
      be inconsistent with virtual hosting in HTTP.
      @param   obj   the URL to compare against.
      @return  <code>true</code> if the objects are the same;
               <code>false</code> otherwise.</p></div>
<a id="L858" name="L858"></a> 858     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L859" name="L859"></a> 859         <strong class="reserved">if</strong> (!(obj <strong class="reserved">instanceof</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>))
<a id="L860" name="L860"></a> 860             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L861" name="L861"></a> 861         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> u2 = (<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>)obj;
<a id="L862" name="L862"></a> 862 
<a id="L863" name="L863"></a> 863         <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<strong class="reserved">this</strong>, u2);
<a id="L864" name="L864"></a> 864     <em class="brace">}</em>
<a id="L865" name="L865"></a> 865 
<div class="comment">
      Creates an integer suitable for hash table indexing.<p>
      The hash code is based upon all the URL components relevant for URL
      comparison. As such, this operation is a blocking operation.</p><p>
      @return  a hash code for this <code>URL</code>.</p></div>
<a id="L874" name="L874"></a> 874     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L875" name="L875"></a> 875         <strong class="reserved">if</strong> (<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> != -1)
<a id="L876" name="L876"></a> 876             <strong class="reserved">return</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>;
<a id="L877" name="L877"></a> 877 
<a id="L878" name="L878"></a> 878         <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> = <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(<strong class="reserved">this</strong>);
<a id="L879" name="L879"></a> 879         <strong class="reserved">return</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>;
<a id="L880" name="L880"></a> 880     <em class="brace">}</em>
<a id="L881" name="L881"></a> 881 
<div class="comment">
      Compares two URLs, excluding the fragment component.<p>
      Returns <code>true</code> if this <code>URL</code> and the
      <code>other</code> argument are equal without taking the
      fragment component into consideration.
      @param   other   the <code>URL</code> to compare against.
      @return  <code>true</code> if they reference the same remote object;
               <code>false</code> otherwise.</p></div>
<a id="L893" name="L893"></a> 893     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26581.html" title="Multiple referred from 3 places.">sameFile</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> other) <em class="brace">{</em>
<a id="L894" name="L894"></a> 894         <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/31527.html" title="Multiple defined in 2 places.">sameFile</a>(<strong class="reserved">this</strong>, other);
<a id="L895" name="L895"></a> 895     <em class="brace">}</em>
<a id="L896" name="L896"></a> 896 
<div class="comment">
      Constructs a string representation of this <code>URL</code>. The
      string is created by calling the <code>toExternalForm</code>
      method of the stream protocol handler for this object.
      @return  a string representation of this object.
      @see     java.net.URL#URL(java.lang.String, java.lang.String, int,
                       java.lang.String)
      @see     java.net.URLStreamHandler#toExternalForm(java.net.URL)</div>
<a id="L907" name="L907"></a> 907     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L908" name="L908"></a> 908         <strong class="reserved">return</strong> <a href="../D/35395.html" title="Multiple defined in 2 places.">toExternalForm</a>();
<a id="L909" name="L909"></a> 909     <em class="brace">}</em>
<a id="L910" name="L910"></a> 910 
<div class="comment">
      Constructs a string representation of this <code>URL</code>. The
      string is created by calling the <code>toExternalForm</code>
      method of the stream protocol handler for this object.
      @return  a string representation of this object.
      @see     java.net.URL#URL(java.lang.String, java.lang.String,
                       int, java.lang.String)
      @see     java.net.URLStreamHandler#toExternalForm(java.net.URL)</div>
<a id="L921" name="L921"></a> 921     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29254.html" title="Multiple referred from 9 places.">toExternalForm</a>() <em class="brace">{</em>
<a id="L922" name="L922"></a> 922         <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/35395.html" title="Multiple defined in 2 places.">toExternalForm</a>(<strong class="reserved">this</strong>);
<a id="L923" name="L923"></a> 923     <em class="brace">}</em>
<a id="L924" name="L924"></a> 924 
<div class="comment">
      Returns a {@link java.net.URI} equivalent to this URL.
      This method functions in the same way as <code>new URI (this.toString())</code>.
      <p>Note, any URL instance that complies with RFC 2396 can be converted
      to a URI. However, some URLs that are not strictly in compliance
      can not be converted to a URI.
      @exception URISyntaxException if this URL is not formatted strictly according to
                 to RFC2396 and cannot be converted to a URI.
      @return    a URI instance equivalent to this URL.
      @since 1.5</p></div>
<a id="L938" name="L938"></a> 938     <strong class="reserved">public</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> <a href="../R/29346.html" title="Multiple referred from 13 places.">toURI</a>() <strong class="reserved">throws</strong> <a href="../S/791.html#L38" title="Defined at 38 in src/java/net/URISyntaxException.java.">URISyntaxException</a> <em class="brace">{</em>
<a id="L939" name="L939"></a> 939         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> (<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L940" name="L940"></a> 940     <em class="brace">}</em>
<a id="L941" name="L941"></a> 941 
<div class="comment">
      Returns a {@link java.net.URLConnection URLConnection} instance that
      represents a connection to the remote object referred to by the
      <code>URL</code>.
      <p>A new instance of {@linkplain java.net.URLConnection URLConnection} is
      created every time when invoking the
      {@linkplain java.net.URLStreamHandler#openConnection(URL)
      URLStreamHandler.openConnection(URL)} method of the protocol handler for
      this URL.</p>
      <p>It should be noted that a URLConnection instance does not establish
      the actual network connection on creation. This will happen only when
      calling {@linkplain java.net.URLConnection#connect() URLConnection.connect()}.</p>
      <p>If for the URL's protocol (such as HTTP or JAR), there
      exists a public, specialized URLConnection subclass belonging
      to one of the following packages or one of their subpackages:
      java.lang, java.io, java.util, java.net, the connection
      returned will be of that subclass. For example, for HTTP an
      HttpURLConnection will be returned, and for JAR a
      JarURLConnection will be returned.</p>
      @return     a {@link java.net.URLConnection URLConnection} linking
                  to the URL.
      @exception  IOException  if an I/O exception occurs.
      @see        java.net.URL#URL(java.lang.String, java.lang.String,
                  int, java.lang.String)</div>
<a id="L971" name="L971"></a> 971     <strong class="reserved">public</strong> <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> <a href="../R/23975.html" title="Multiple referred from 31 places.">openConnection</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L972" name="L972"></a> 972         <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>(<strong class="reserved">this</strong>);
<a id="L973" name="L973"></a> 973     <em class="brace">}</em>
<a id="L974" name="L974"></a> 974 
<div class="comment">
      Same as {@link #openConnection()}, except that the connection will be
      made through the specified proxy; Protocol handlers that do not
      support proxing will ignore the proxy parameter and make a
      normal connection.
      Invoking this method preempts the system's default ProxySelector
      settings.
      @param      proxy the Proxy through which this connection
                  will be made. If direct connection is desired,
                  Proxy.NO_PROXY should be specified.
      @return     a <code>URLConnection</code> to the URL.
      @exception  IOException  if an I/O exception occurs.
      @exception  SecurityException if a security manager is present
                  and the caller doesn't have permission to connect
                  to the proxy.
      @exception  IllegalArgumentException will be thrown if proxy is null,
                  or proxy has the wrong type
      @exception  UnsupportedOperationException if the subclass that
                  implements the protocol handler doesn't support
                  this method.
      @see        java.net.URL#URL(java.lang.String, java.lang.String,
                  int, java.lang.String)
      @see        java.net.URLConnection
      @see        java.net.URLStreamHandler#openConnection(java.net.URL,
                  java.net.Proxy)
      @since      1.5</div>
<a id="L1004" name="L1004"></a>1004     <strong class="reserved">public</strong> <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> <a href="../R/23975.html" title="Multiple referred from 31 places.">openConnection</a>(<a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a> proxy)
<a id="L1005" name="L1005"></a>1005         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1006" name="L1006"></a>1006         <strong class="reserved">if</strong> (proxy == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("proxy can not be null");
<a id="L1008" name="L1008"></a>1008         <em class="brace">}</em>
<a id="L1009" name="L1009"></a>1009 
<a id="L1010" name="L1010"></a>1010         <em class="comment">// Create a copy of Proxy as a security measure</em>
<a id="L1011" name="L1011"></a>1011         <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a> p = proxy == <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.NO_PROXY ? <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.NO_PROXY : sun.net.ApplicationProxy.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(proxy);
<a id="L1012" name="L1012"></a>1012         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1013" name="L1013"></a>1013         <strong class="reserved">if</strong> (p.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>() != <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a>.DIRECT &amp;&amp; sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1014" name="L1014"></a>1014             <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a> epoint = (<a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>) p.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>();
<a id="L1015" name="L1015"></a>1015             <strong class="reserved">if</strong> (epoint.<a href="../D/26409.html" title="Multiple defined in 2 places.">isUnresolved</a>())
<a id="L1016" name="L1016"></a>1016                 sm.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(epoint.<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(), epoint.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>());
<a id="L1017" name="L1017"></a>1017             <strong class="reserved">else</strong>
<a id="L1018" name="L1018"></a>1018                 sm.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(epoint.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>().<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>(),
<a id="L1019" name="L1019"></a>1019                                 epoint.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>());
<a id="L1020" name="L1020"></a>1020         <em class="brace">}</em>
<a id="L1021" name="L1021"></a>1021         <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>(<strong class="reserved">this</strong>, p);
<a id="L1022" name="L1022"></a>1022     <em class="brace">}</em>
<a id="L1023" name="L1023"></a>1023 
<div class="comment">
      Opens a connection to this <code>URL</code> and returns an
      <code>InputStream</code> for reading from that connection. This
      method is a shorthand for:
      <blockquote><pre>          openConnection().getInputStream()
      </pre></blockquote>
      @return     an input stream for reading from the URL connection.
      @exception  IOException  if an I/O exception occurs.
      @see        java.net.URL#openConnection()
      @see        java.net.URLConnection#getInputStream()</div>
<a id="L1037" name="L1037"></a>1037     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/23993.html" title="Multiple referred from 33 places.">openStream</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038         <strong class="reserved">return</strong> <a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>().<a href="../D/19744.html" title="Multiple defined in 16 places.">getInputStream</a>();
<a id="L1039" name="L1039"></a>1039     <em class="brace">}</em>
<a id="L1040" name="L1040"></a>1040 
<div class="comment">
      Gets the contents of this URL. This method is a shorthand for:
      <blockquote><pre>          openConnection().getContent()
      </pre></blockquote>
      @return     the contents of this URL.
      @exception  IOException  if an I/O exception occurs.
      @see        java.net.URLConnection#getContent()</div>
<a id="L1051" name="L1051"></a>1051     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/15781.html" title="Multiple referred from 28 places.">getContent</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1052" name="L1052"></a>1052         <strong class="reserved">return</strong> <a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>().<a href="../D/17951.html" title="Multiple defined in 22 places.">getContent</a>();
<a id="L1053" name="L1053"></a>1053     <em class="brace">}</em>
<a id="L1054" name="L1054"></a>1054 
<div class="comment">
      Gets the contents of this URL. This method is a shorthand for:
      <blockquote><pre>          openConnection().getContent(Class[])
      </pre></blockquote>
      @param classes an array of Java types
      @return     the content object of this URL that is the first match of
                    the types specified in the classes array.
                    null if none of the requested types are supported.
      @exception  IOException  if an I/O exception occurs.
      @see        java.net.URLConnection#getContent(Class[])
      @since 1.3</div>
<a id="L1069" name="L1069"></a>1069     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/15781.html" title="Multiple referred from 28 places.">getContent</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>[] <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>)
<a id="L1070" name="L1070"></a>1070     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1071" name="L1071"></a>1071         <strong class="reserved">return</strong> <a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>().<a href="../D/17951.html" title="Multiple defined in 22 places.">getContent</a>(<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>);
<a id="L1072" name="L1072"></a>1072     <em class="brace">}</em>
<a id="L1073" name="L1073"></a>1073 
<div class="comment">
      The URLStreamHandler factory.</div>
<a id="L1077" name="L1077"></a>1077     <strong class="reserved">static</strong> <a href="../S/782.html#L40" title="Defined at 40 in src/java/net/URLStreamHandlerFactory.java.">URLStreamHandlerFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>;
<a id="L1078" name="L1078"></a>1078 
<div class="comment">
      Sets an application's <code>URLStreamHandlerFactory</code>.
      This method can be called at most once in a given Java Virtual
      Machine.
     <p> The <code>URLStreamHandlerFactory</code> instance is used to
     construct a stream protocol handler from a protocol name.
      </p><p> If there is a security manager, this method first calls
      the security manager's <code>checkSetFactory</code> method
      to ensure the operation is allowed.
      This could result in a SecurityException.
      @param      fac   the desired factory.
      @exception  Error  if the application has already set a factory.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkSetFactory</code> method doesn't allow
                  the operation.
      @see        java.net.URL#URL(java.lang.String, java.lang.String,
                  int, java.lang.String)
      @see        java.net.URLStreamHandlerFactory
      @see        SecurityManager#checkSetFactory</p></div>
<a id="L1102" name="L1102"></a>1102     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> setURLStreamHandlerFactory(<a href="../S/782.html#L40" title="Defined at 40 in src/java/net/URLStreamHandlerFactory.java.">URLStreamHandlerFactory</a> fac) <em class="brace">{</em>
<a id="L1103" name="L1103"></a>1103         <strong class="reserved">synchronized</strong> (streamHandlerLock) <em class="brace">{</em>
<a id="L1104" name="L1104"></a>1104             <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1105" name="L1105"></a>1105                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("factory already defined");
<a id="L1106" name="L1106"></a>1106             <em class="brace">}</em>
<a id="L1107" name="L1107"></a>1107             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1108" name="L1108"></a>1108             <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1109" name="L1109"></a>1109                 security.<a href="../S/1785.html#L1663" title="Defined at 1663 in src/java/lang/SecurityManager.java.">checkSetFactory</a>();
<a id="L1110" name="L1110"></a>1110             <em class="brace">}</em>
<a id="L1111" name="L1111"></a>1111             handlers.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L1112" name="L1112"></a>1112             <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = fac;
<a id="L1113" name="L1113"></a>1113         <em class="brace">}</em>
<a id="L1114" name="L1114"></a>1114     <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115 
<div class="comment">
      A table of protocol handlers.</div>
<a id="L1119" name="L1119"></a>1119     <strong class="reserved">static</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a>&gt; handlers = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;&gt;();
<a id="L1120" name="L1120"></a>1120     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> streamHandlerLock = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L1121" name="L1121"></a>1121 
<div class="comment">
      Returns the Stream Handler.
      @param protocol the protocol to use</div>
<a id="L1126" name="L1126"></a>1126     <strong class="reserved">static</strong> <a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a> <a href="../R/19663.html" title="Multiple referred from 3 places.">getURLStreamHandler</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol) <em class="brace">{</em>
<a id="L1127" name="L1127"></a>1127 
<a id="L1128" name="L1128"></a>1128         <a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = handlers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(protocol);
<a id="L1129" name="L1129"></a>1129         <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1130" name="L1130"></a>1130 
<a id="L1131" name="L1131"></a>1131             <strong class="reserved">boolean</strong> checkedWithFactory = <strong class="reserved">false</strong>;
<a id="L1132" name="L1132"></a>1132 
<a id="L1133" name="L1133"></a>1133             <em class="comment">// Use the factory (if any)</em>
<a id="L1134" name="L1134"></a>1134             <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1135" name="L1135"></a>1135                 <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../S/782.html#L50" title="Defined at 50 in src/java/net/URLStreamHandlerFactory.java.">createURLStreamHandler</a>(protocol);
<a id="L1136" name="L1136"></a>1136                 checkedWithFactory = <strong class="reserved">true</strong>;
<a id="L1137" name="L1137"></a>1137             <em class="brace">}</em>
<a id="L1138" name="L1138"></a>1138 
<a id="L1139" name="L1139"></a>1139             <em class="comment">// Try java protocol handler</em>
<a id="L1140" name="L1140"></a>1140             <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1141" name="L1141"></a>1141                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> packagePrefixList = <strong class="reserved">null</strong>;
<a id="L1142" name="L1142"></a>1142 
<a id="L1143" name="L1143"></a>1143                 packagePrefixList
<a id="L1144" name="L1144"></a>1144                     = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L1145" name="L1145"></a>1145                     <strong class="reserved">new</strong> sun.security.<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(
<a id="L1146" name="L1146"></a>1146                         protocolPathProp,""));
<a id="L1147" name="L1147"></a>1147                 <strong class="reserved">if</strong> (packagePrefixList != "") <em class="brace">{</em>
<a id="L1148" name="L1148"></a>1148                     packagePrefixList += "|";
<a id="L1149" name="L1149"></a>1149                 <em class="brace">}</em>
<a id="L1150" name="L1150"></a>1150 
<a id="L1151" name="L1151"></a>1151                 <em class="comment">// REMIND: decide whether to allow the "null" class prefix</em>
<a id="L1152" name="L1152"></a>1152                 <em class="comment">// or not.</em>
<a id="L1153" name="L1153"></a>1153                 packagePrefixList += "sun.net.www.protocol";
<a id="L1154" name="L1154"></a>1154 
<a id="L1155" name="L1155"></a>1155                 <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a> packagePrefixIter =
<a id="L1156" name="L1156"></a>1156                     <strong class="reserved">new</strong> <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a>(packagePrefixList, "|");
<a id="L1157" name="L1157"></a>1157 
<a id="L1158" name="L1158"></a>1158                 <strong class="reserved">while</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> == <strong class="reserved">null</strong> &amp;&amp;
<a id="L1159" name="L1159"></a>1159                        packagePrefixIter.<a href="../D/24131.html" title="Multiple defined in 2 places.">hasMoreTokens</a>()) <em class="brace">{</em>
<a id="L1160" name="L1160"></a>1160 
<a id="L1161" name="L1161"></a>1161                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6906.html#L39" title="Defined at 39 in src/com/sun/corba/se/impl/util/PackagePrefixChecker.java.">packagePrefix</a> =
<a id="L1162" name="L1162"></a>1162                       packagePrefixIter.<a href="../D/28195.html" title="Multiple defined in 10 places.">nextToken</a>().<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L1163" name="L1163"></a>1163                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1164" name="L1164"></a>1164                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> clsName = <a href="../S/6906.html#L39" title="Defined at 39 in src/com/sun/corba/se/impl/util/PackagePrefixChecker.java.">packagePrefix</a> + "." + protocol +
<a id="L1165" name="L1165"></a>1165                           ".Handler";
<a id="L1166" name="L1166"></a>1166                         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; cls = <strong class="reserved">null</strong>;
<a id="L1167" name="L1167"></a>1167                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1168" name="L1168"></a>1168                             cls = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(clsName);
<a id="L1169" name="L1169"></a>1169                         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L1170" name="L1170"></a>1170                             <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> cl = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>();
<a id="L1171" name="L1171"></a>1171                             <strong class="reserved">if</strong> (cl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172                                 cls = cl.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(clsName);
<a id="L1173" name="L1173"></a>1173                             <em class="brace">}</em>
<a id="L1174" name="L1174"></a>1174                         <em class="brace">}</em>
<a id="L1175" name="L1175"></a>1175                         <strong class="reserved">if</strong> (cls != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1176" name="L1176"></a>1176                             <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>  =
<a id="L1177" name="L1177"></a>1177                               (<a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a>)cls.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1178" name="L1178"></a>1178                         <em class="brace">}</em>
<a id="L1179" name="L1179"></a>1179                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1180" name="L1180"></a>1180                         <em class="comment">// any number of exceptions can get thrown here</em>
<a id="L1181" name="L1181"></a>1181                     <em class="brace">}</em>
<a id="L1182" name="L1182"></a>1182                 <em class="brace">}</em>
<a id="L1183" name="L1183"></a>1183             <em class="brace">}</em>
<a id="L1184" name="L1184"></a>1184 
<a id="L1185" name="L1185"></a>1185             <strong class="reserved">synchronized</strong> (streamHandlerLock) <em class="brace">{</em>
<a id="L1186" name="L1186"></a>1186 
<a id="L1187" name="L1187"></a>1187                 <a href="../S/780.html#L52" title="Defined at 52 in src/java/net/URLStreamHandler.java.">URLStreamHandler</a> handler2 = <strong class="reserved">null</strong>;
<a id="L1188" name="L1188"></a>1188 
<a id="L1189" name="L1189"></a>1189                 <em class="comment">// Check again with hashtable just in case another</em>
<a id="L1190" name="L1190"></a>1190                 <em class="comment">// thread created a handler since we last checked</em>
<a id="L1191" name="L1191"></a>1191                 handler2 = handlers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(protocol);
<a id="L1192" name="L1192"></a>1192 
<a id="L1193" name="L1193"></a>1193                 <strong class="reserved">if</strong> (handler2 != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1194" name="L1194"></a>1194                     <strong class="reserved">return</strong> handler2;
<a id="L1195" name="L1195"></a>1195                 <em class="brace">}</em>
<a id="L1196" name="L1196"></a>1196 
<a id="L1197" name="L1197"></a>1197                 <em class="comment">// Check with factory if another thread set a</em>
<a id="L1198" name="L1198"></a>1198                 <em class="comment">// factory since our last check</em>
<a id="L1199" name="L1199"></a>1199                 <strong class="reserved">if</strong> (!checkedWithFactory &amp;&amp; <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1200" name="L1200"></a>1200                     handler2 = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../S/782.html#L50" title="Defined at 50 in src/java/net/URLStreamHandlerFactory.java.">createURLStreamHandler</a>(protocol);
<a id="L1201" name="L1201"></a>1201                 <em class="brace">}</em>
<a id="L1202" name="L1202"></a>1202 
<a id="L1203" name="L1203"></a>1203                 <strong class="reserved">if</strong> (handler2 != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1204" name="L1204"></a>1204                     <em class="comment">// The handler from the factory must be given more</em>
<a id="L1205" name="L1205"></a>1205                     <em class="comment">// importance. Discard the default handler that</em>
<a id="L1206" name="L1206"></a>1206                     <em class="comment">// this thread created.</em>
<a id="L1207" name="L1207"></a>1207                     <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = handler2;
<a id="L1208" name="L1208"></a>1208                 <em class="brace">}</em>
<a id="L1209" name="L1209"></a>1209 
<a id="L1210" name="L1210"></a>1210                 <em class="comment">// Insert this handler into the hashtable</em>
<a id="L1211" name="L1211"></a>1211                 <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1212" name="L1212"></a>1212                     handlers.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(protocol, <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>);
<a id="L1213" name="L1213"></a>1213                 <em class="brace">}</em>
<a id="L1214" name="L1214"></a>1214 
<a id="L1215" name="L1215"></a>1215             <em class="brace">}</em>
<a id="L1216" name="L1216"></a>1216         <em class="brace">}</em>
<a id="L1217" name="L1217"></a>1217 
<a id="L1218" name="L1218"></a>1218         <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L1219" name="L1219"></a>1219 
<a id="L1220" name="L1220"></a>1220     <em class="brace">}</em>
<a id="L1221" name="L1221"></a>1221 
<div class="comment">
      WriteObject is called to save the state of the URL to an
      ObjectOutputStream. The handler is not saved since it is
      specific to this system.
      @serialData the default write object value. When read back in,
      the reader must ensure that calling getURLStreamHandler with
      the protocol variable returns a valid URLStreamHandler and
      throw an IOException if it does not.</div>
<a id="L1232" name="L1232"></a>1232     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L1233" name="L1233"></a>1233         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1234" name="L1234"></a>1234     <em class="brace">{</em>
<a id="L1235" name="L1235"></a>1235         s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>(); <em class="comment">// write the fields</em>
<a id="L1236" name="L1236"></a>1236     <em class="brace">}</em>
<a id="L1237" name="L1237"></a>1237 
<div class="comment">
      readObject is called to restore the state of the URL from the
      stream.  It reads the components of the URL and finds the local
      stream handler.</div>
<a id="L1243" name="L1243"></a>1243     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L1244" name="L1244"></a>1244          <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L1245" name="L1245"></a>1245     <em class="brace">{</em>
<a id="L1246" name="L1246"></a>1246         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();  <em class="comment">// read the fields</em>
<a id="L1247" name="L1247"></a>1247         <strong class="reserved">if</strong> ((<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../S/768.html#L1126" title="Defined at 1126 in src/java/net/URL.java.">getURLStreamHandler</a>(protocol)) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1248" name="L1248"></a>1248             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>("unknown protocol: " + protocol);
<a id="L1249" name="L1249"></a>1249         <em class="brace">}</em>
<a id="L1250" name="L1250"></a>1250 
<a id="L1251" name="L1251"></a>1251         <em class="comment">// Construct authority part</em>
<a id="L1252" name="L1252"></a>1252         <strong class="reserved">if</strong> (authority == <strong class="reserved">null</strong> &amp;&amp;
<a id="L1253" name="L1253"></a>1253             ((host != <strong class="reserved">null</strong> &amp;&amp; host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) || port != -1)) <em class="brace">{</em>
<a id="L1254" name="L1254"></a>1254             <strong class="reserved">if</strong> (host == <strong class="reserved">null</strong>)
<a id="L1255" name="L1255"></a>1255                 host = "";
<a id="L1256" name="L1256"></a>1256             authority = (port == -1) ? host : host + ":" + port;
<a id="L1257" name="L1257"></a>1257 
<a id="L1258" name="L1258"></a>1258             <em class="comment">// Handle hosts with userInfo in them</em>
<a id="L1259" name="L1259"></a>1259             <strong class="reserved">int</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> = host.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('@');
<a id="L1260" name="L1260"></a>1260             <strong class="reserved">if</strong> (<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> != -1) <em class="brace">{</em>
<a id="L1261" name="L1261"></a>1261                 userInfo = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L1262" name="L1262"></a>1262                 host = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>+1);
<a id="L1263" name="L1263"></a>1263             <em class="brace">}</em>
<a id="L1264" name="L1264"></a>1264         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (authority != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1265" name="L1265"></a>1265             <em class="comment">// Construct user info part</em>
<a id="L1266" name="L1266"></a>1266             <strong class="reserved">int</strong> ind = authority.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('@');
<a id="L1267" name="L1267"></a>1267             <strong class="reserved">if</strong> (ind != -1)
<a id="L1268" name="L1268"></a>1268                 userInfo = authority.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, ind);
<a id="L1269" name="L1269"></a>1269         <em class="brace">}</em>
<a id="L1270" name="L1270"></a>1270 
<a id="L1271" name="L1271"></a>1271         <em class="comment">// Construct path and query part</em>
<a id="L1272" name="L1272"></a>1272         path = <strong class="reserved">null</strong>;
<a id="L1273" name="L1273"></a>1273         <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <strong class="reserved">null</strong>;
<a id="L1274" name="L1274"></a>1274         <strong class="reserved">if</strong> (<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1275" name="L1275"></a>1275             <em class="comment">// Fix: only do this if hierarchical?</em>
<a id="L1276" name="L1276"></a>1276             <strong class="reserved">int</strong> q = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('?');
<a id="L1277" name="L1277"></a>1277             <strong class="reserved">if</strong> (q != -1) <em class="brace">{</em>
<a id="L1278" name="L1278"></a>1278                 <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(q+1);
<a id="L1279" name="L1279"></a>1279                 path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, q);
<a id="L1280" name="L1280"></a>1280             <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L1281" name="L1281"></a>1281                 path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L1282" name="L1282"></a>1282         <em class="brace">}</em>
<a id="L1283" name="L1283"></a>1283     <em class="brace">}</em>
<a id="L1284" name="L1284"></a>1284 <em class="brace">}</em>
<a id="L1285" name="L1285"></a>1285 
<a id="L1286" name="L1286"></a>1286 <strong class="reserved">class</strong> <a href="../S/768.html#L399" title="Referred from 399 in src/java/net/URL.java.">Parts</a> <em class="brace">{</em>
<a id="L1287" name="L1287"></a>1287     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path, <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>, <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<a id="L1288" name="L1288"></a>1288 
<a id="L1289" name="L1289"></a>1289     Parts(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>) <em class="brace">{</em>
<a id="L1290" name="L1290"></a>1290         <strong class="reserved">int</strong> ind = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('#');
<a id="L1291" name="L1291"></a>1291         <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = ind &lt; 0 ? <strong class="reserved">null</strong>: <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(ind + 1);
<a id="L1292" name="L1292"></a>1292         <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = ind &lt; 0 ? <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>: <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, ind);
<a id="L1293" name="L1293"></a>1293         <strong class="reserved">int</strong> q = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('?');
<a id="L1294" name="L1294"></a>1294         <strong class="reserved">if</strong> (q != -1) <em class="brace">{</em>
<a id="L1295" name="L1295"></a>1295             <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(q+1);
<a id="L1296" name="L1296"></a>1296             path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, q);
<a id="L1297" name="L1297"></a>1297         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1298" name="L1298"></a>1298             path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L1299" name="L1299"></a>1299         <em class="brace">}</em>
<a id="L1300" name="L1300"></a>1300     <em class="brace">}</em>
<a id="L1301" name="L1301"></a>1301 
<a id="L1302" name="L1302"></a>1302     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18300.html" title="Multiple referred from 125 places.">getPath</a>() <em class="brace">{</em>
<a id="L1303" name="L1303"></a>1303         <strong class="reserved">return</strong> path;
<a id="L1304" name="L1304"></a>1304     <em class="brace">}</em>
<a id="L1305" name="L1305"></a>1305 
<a id="L1306" name="L1306"></a>1306     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18569.html" title="Multiple referred from 11 places.">getQuery</a>() <em class="brace">{</em>
<a id="L1307" name="L1307"></a>1307         <strong class="reserved">return</strong> <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L1308" name="L1308"></a>1308     <em class="brace">}</em>
<a id="L1309" name="L1309"></a>1309 
<a id="L1310" name="L1310"></a>1310     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18635.html" title="Multiple referred from 20 places.">getRef</a>() <em class="brace">{</em>
<a id="L1311" name="L1311"></a>1311         <strong class="reserved">return</strong> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<a id="L1312" name="L1312"></a>1312     <em class="brace">}</em>
<a id="L1313" name="L1313"></a>1313 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L629">[^]</a><a href="#L1310">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>