<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/naming/spi/NamingManager.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L108">[^]</a><a href="#L853">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L108" title="Defined at 108.">setObjectFactoryBuilder</a></li>
<li><a href="#L123" title="Defined at 123.">getObjectFactoryBuilder</a></li>
<li><a href="#L137" title="Defined at 137.">getObjectFactoryFromReference</a></li>
<li><a href="#L174" title="Defined at 174.">createObjectFromFactories</a></li>
<li><a href="#L193" title="Defined at 193.">getURLScheme</a></li>
<li><a href="#L288" title="Defined at 288.">getObjectInstance</a></li>
<li><a href="#L351" title="Defined at 351.">processURLAddrs</a></li>
<li><a href="#L370" title="Defined at 370.">processURL</a></li>
<li><a href="#L429" title="Defined at 429.">getContext</a></li>
<li><a href="#L454" title="Defined at 454.">getResolver</a></li>
<li><a href="#L543" title="Defined at 543.">getURLContext</a></li>
<li><a href="#L586" title="Defined at 586.">getURLObject</a></li>
<li><a href="#L621" title="Defined at 621.">getInitialContextFactoryBuilder</a></li>
<li><a href="#L650" title="Defined at 650.">getInitialContext</a></li>
<li><a href="#L705" title="Defined at 705.">setInitialContextFactoryBuilder</a></li>
<li><a href="#L726" title="Defined at 726.">hasInitialContextFactoryBuilder</a></li>
<li><a href="#L774" title="Defined at 774.">SuppressWarnings</a></li>
<li><a href="#L775" title="Defined at 775.">getContinuationContext</a></li>
<li><a href="#L853" title="Defined at 853.">getStateToBind</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1999, 2012, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.naming.spi;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.StringTokenizer;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.net.MalformedURLException;
<a id="L32" name="L32"></a>  32 
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.naming.*;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.naming.internal.VersionHelper;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.naming.internal.ResourceManager;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.naming.internal.FactoryEnumeration;
<a id="L37" name="L37"></a>  37 
<div class="comment">
  This class contains methods for creating context objects
  and objects referred to by location information in the naming
  or directory service.
 <p>
  This class cannot be instantiated.  It has only static methods.
 </p><p>
  The mention of URL in the documentation for this class refers to
  a URL string as defined by RFC 1738 and its related RFCs. It is
  any string that conforms to the syntax described therein, and
  may not always have corresponding support in the java.net.URL
  class or Web browsers.
 </p><p>
  NamingManager is safe for concurrent access by multiple threads.
 </p><p>
  Except as otherwise noted,
  a <tt>Name</tt> or environment parameter
  passed to any method is owned by the caller.
  The implementation will not modify the object or keep a reference
  to it, although it may keep a reference to a clone or copy.
  @author Rosanna Lee
  @author Scott Seligman
  @since 1.3</p></div>
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/5475.html" title="Multiple referred from 13 places.">NamingManager</a> <em class="brace">{</em>
<a id="L65" name="L65"></a>  65 
<div class="comment">
      Disallow anyone from creating one of these.
      Made package private so that DirectoryManager can subclass.</div>
<a id="L70" name="L70"></a>  70 
<a id="L71" name="L71"></a>  71     NamingManager() <em class="brace">{</em><em class="brace">}</em>
<a id="L72" name="L72"></a>  72 
<a id="L73" name="L73"></a>  73     <em class="comment">// should be protected and package private</em>
<a id="L74" name="L74"></a>  74     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/7690.html#L48" title="Defined at 48 in src/com/sun/naming/internal/VersionHelper.java.">VersionHelper</a> helper = <a href="../S/7690.html#L48" title="Defined at 48 in src/com/sun/naming/internal/VersionHelper.java.">VersionHelper</a>.<a href="../S/7690.html#L76" title="Defined at 76 in src/com/sun/naming/internal/VersionHelper.java.">getVersionHelper</a>();
<a id="L75" name="L75"></a>  75 
<a id="L76" name="L76"></a>  76 <em class="comment">// --------- object factory stuff</em>
<a id="L77" name="L77"></a>  77 
<div class="comment">
      Package-private; used by DirectoryManager and NamingManager.</div>
<a id="L81" name="L81"></a>  81     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/4311.html#L57" title="Defined at 57 in src/javax/naming/spi/ObjectFactoryBuilder.java.">ObjectFactoryBuilder</a> object_factory_builder = <strong class="reserved">null</strong>;
<a id="L82" name="L82"></a>  82 
<div class="comment">
      The ObjectFactoryBuilder determines the policy used when
      trying to load object factories.
      See getObjectInstance() and class ObjectFactory for a description
      of the default policy.
      setObjectFactoryBuilder() overrides this default policy by installing
      an ObjectFactoryBuilder. Subsequent object factories will
      be loaded and created using the installed builder.
     <p>
      The builder can only be installed if the executing thread is allowed
      (by the security manager's checkSetFactory() method) to do so.
      Once installed, the builder cannot be replaced.
     </p><p>
      @param builder The factory builder to install. If null, no builder
                       is installed.
      @exception SecurityException builder cannot be installed
               for security reasons.
      @exception NamingException builder cannot be installed for
              a non-security-related reason.
      @exception IllegalStateException If a factory has already been installed.
      @see #getObjectInstance
      @see ObjectFactory
      @see ObjectFactoryBuilder
      @see java.lang.SecurityManager#checkSetFactory</p></div>
<a id="L108" name="L108"></a> 108     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setObjectFactoryBuilder(
<a id="L109" name="L109"></a> 109             <a href="../S/4311.html#L57" title="Defined at 57 in src/javax/naming/spi/ObjectFactoryBuilder.java.">ObjectFactoryBuilder</a> <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a>) <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L110" name="L110"></a> 110         <strong class="reserved">if</strong> (object_factory_builder != <strong class="reserved">null</strong>)
<a id="L111" name="L111"></a> 111             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("ObjectFactoryBuilder already set");
<a id="L112" name="L112"></a> 112 
<a id="L113" name="L113"></a> 113         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L114" name="L114"></a> 114         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L115" name="L115"></a> 115             security.<a href="../S/1785.html#L1663" title="Defined at 1663 in src/java/lang/SecurityManager.java.">checkSetFactory</a>();
<a id="L116" name="L116"></a> 116         <em class="brace">}</em>
<a id="L117" name="L117"></a> 117         object_factory_builder = <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a>;
<a id="L118" name="L118"></a> 118     <em class="brace">}</em>
<a id="L119" name="L119"></a> 119 
<div class="comment">
      Used for accessing object factory builder.</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <a href="../S/4311.html#L57" title="Defined at 57 in src/javax/naming/spi/ObjectFactoryBuilder.java.">ObjectFactoryBuilder</a> <a href="../R/18091.html" title="Multiple referred from 2 places.">getObjectFactoryBuilder</a>() <em class="brace">{</em>
<a id="L124" name="L124"></a> 124         <strong class="reserved">return</strong> object_factory_builder;
<a id="L125" name="L125"></a> 125     <em class="brace">}</em>
<a id="L126" name="L126"></a> 126 
<a id="L127" name="L127"></a> 127 
<div class="comment">
      Retrieves the ObjectFactory for the object identified by a reference,
      using the reference's factory class name and factory codebase
      to load in the factory's class.
      @param ref The non-null reference to use.
      @param factoryName The non-null class name of the factory.
      @return The object factory for the object identified by ref; null
      if unable to load the factory.</div>
<a id="L137" name="L137"></a> 137     <strong class="reserved">static</strong> <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a> <a href="../R/18092.html" title="Multiple referred from 2 places.">getObjectFactoryFromReference</a>(
<a id="L138" name="L138"></a> 138         <a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> factoryName)
<a id="L139" name="L139"></a> 139         <strong class="reserved">throws</strong> <a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a>,
<a id="L140" name="L140"></a> 140         <a href="../S/1743.html#L46" title="Defined at 46 in src/java/lang/InstantiationException.java.">InstantiationException</a>,
<a id="L141" name="L141"></a> 141         <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L142" name="L142"></a> 142         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clas = <strong class="reserved">null</strong>;
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144         <em class="comment">// Try to use current class loader</em>
<a id="L145" name="L145"></a> 145         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L146" name="L146"></a> 146              clas = helper.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(factoryName);
<a id="L147" name="L147"></a> 147         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L148" name="L148"></a> 148             <em class="comment">// ignore and continue</em>
<a id="L149" name="L149"></a> 149             <em class="comment">// e.printStackTrace();</em>
<a id="L150" name="L150"></a> 150         <em class="brace">}</em>
<a id="L151" name="L151"></a> 151         <em class="comment">// All other exceptions are passed up.</em>
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153         <em class="comment">// Not in class path; try to use codebase</em>
<a id="L154" name="L154"></a> 154         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase;
<a id="L155" name="L155"></a> 155         <strong class="reserved">if</strong> (clas == <strong class="reserved">null</strong> &amp;&amp;
<a id="L156" name="L156"></a> 156                 (codebase = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../S/4304.html#L212" title="Defined at 212 in src/javax/naming/Reference.java.">getFactoryClassLocation</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L157" name="L157"></a> 157             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L158" name="L158"></a> 158                 clas = helper.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(factoryName, codebase);
<a id="L159" name="L159"></a> 159             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L160" name="L160"></a> 160             <em class="brace">}</em>
<a id="L161" name="L161"></a> 161         <em class="brace">}</em>
<a id="L162" name="L162"></a> 162 
<a id="L163" name="L163"></a> 163         <strong class="reserved">return</strong> (clas != <strong class="reserved">null</strong>) ? (<a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>) clas.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>() : <strong class="reserved">null</strong>;
<a id="L164" name="L164"></a> 164     <em class="brace">}</em>
<a id="L165" name="L165"></a> 165 
<a id="L166" name="L166"></a> 166 
<div class="comment">
      Creates an object using the factories specified in the
      <tt>Context.OBJECT_FACTORIES</tt> property of the environment
      or of the provider resource file associated with <tt>nameCtx</tt>.
      @return factory created; null if cannot create</div>
<a id="L174" name="L174"></a> 174     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/12608.html" title="Multiple referred from 2 places.">createObjectFromFactories</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj, <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L175" name="L175"></a> 175             <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx, <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>) <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L176" name="L176"></a> 176 
<a id="L177" name="L177"></a> 177         <a href="../S/7687.html#L39" title="Defined at 39 in src/com/sun/naming/internal/FactoryEnumeration.java.">FactoryEnumeration</a> factories = <a href="../S/7688.html#L51" title="Defined at 51 in src/com/sun/naming/internal/ResourceManager.java.">ResourceManager</a>.<a href="../D/18980.html" title="Multiple defined in 3 places.">getFactories</a>(
<a id="L178" name="L178"></a> 178             <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>.OBJECT_FACTORIES, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>, nameCtx);
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180         <strong class="reserved">if</strong> (factories == <strong class="reserved">null</strong>)
<a id="L181" name="L181"></a> 181             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183         <em class="comment">// Try each factory until one succeeds</em>
<a id="L184" name="L184"></a> 184         <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>;
<a id="L185" name="L185"></a> 185         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer = <strong class="reserved">null</strong>;
<a id="L186" name="L186"></a> 186         <strong class="reserved">while</strong> (answer == <strong class="reserved">null</strong> &amp;&amp; factories.<a href="../D/24127.html" title="Multiple defined in 9 places.">hasMore</a>()) <em class="brace">{</em>
<a id="L187" name="L187"></a> 187             <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = (<a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>)factories.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L188" name="L188"></a> 188             answer = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/21142.html" title="Multiple defined in 12 places.">getObjectInstance</a>(obj, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L189" name="L189"></a> 189         <em class="brace">}</em>
<a id="L190" name="L190"></a> 190         <strong class="reserved">return</strong> answer;
<a id="L191" name="L191"></a> 191     <em class="brace">}</em>
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19662.html" title="Multiple referred from 4 places.">getURLScheme</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>) <em class="brace">{</em>
<a id="L194" name="L194"></a> 194         <strong class="reserved">int</strong> colon_posn = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L195" name="L195"></a> 195         <strong class="reserved">int</strong> slash_posn = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('/');
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197         <strong class="reserved">if</strong> (colon_posn &gt; 0 &amp;&amp; (slash_posn == -1 || colon_posn &lt; slash_posn))
<a id="L198" name="L198"></a> 198             <strong class="reserved">return</strong> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, colon_posn);
<a id="L199" name="L199"></a> 199         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L200" name="L200"></a> 200     <em class="brace">}</em>
<a id="L201" name="L201"></a> 201 
<div class="comment">
      Creates an instance of an object for the specified object
      and environment.
      <p>
      If an object factory builder has been installed, it is used to
      create a factory for creating the object.
      Otherwise, the following rules are used to create the object:
     </p><ol>
      <li>If <code>refInfo</code> is a <code>Reference</code>
         or <code>Referenceable</code> containing a factory class name,
         use the named factory to create the object.
         Return <code>refInfo</code> if the factory cannot be created.
         Under JDK 1.1, if the factory class must be loaded from a location
         specified in the reference, a <tt>SecurityManager</tt> must have
         been installed or the factory creation will fail.
         If an exception is encountered while creating the factory,
         it is passed up to the caller.
      </li><li>If <tt>refInfo</tt> is a <tt>Reference</tt> or
         <tt>Referenceable</tt> with no factory class name,
         and the address or addresses are <tt>StringRefAddr</tt>s with
         address type "URL",
         try the URL context factory corresponding to each URL's scheme id
         to create the object (see <tt>getURLContext()</tt>).
         If that fails, continue to the next step.
      </li><li> Use the object factories specified in
         the <tt>Context.OBJECT_FACTORIES</tt> property of the environment,
         and of the provider resource file associated with
         <tt>nameCtx</tt>, in that order.
         The value of this property is a colon-separated list of factory
         class names that are tried in order, and the first one that succeeds
         in creating an object is the one used.
         If none of the factories can be loaded,
         return <code>refInfo</code>.
         If an exception is encountered while creating the object, the
         exception is passed up to the caller.
     </li></ol>
     <p>
      Service providers that implement the <tt>DirContext</tt>
      interface should use
      <tt>DirectoryManager.getObjectInstance()</tt>, not this method.
      Service providers that implement only the <tt>Context</tt>
      interface should use this method.
      </p><p>
      Note that an object factory (an object that implements the ObjectFactory
      interface) must be public and must have a public constructor that
      accepts no arguments.
      </p><p>
      The <code>name</code> and <code>nameCtx</code> parameters may
      optionally be used to specify the name of the object being created.
      <code>name</code> is the name of the object, relative to context
      <code>nameCtx</code>.  This information could be useful to the object
      factory or to the object implementation.
       If there are several possible contexts from which the object
       could be named -- as will often be the case -- it is up to
       the caller to select one.  A good rule of thumb is to select the
      "deepest" context available.
      If <code>nameCtx</code> is null, <code>name</code> is relative
      to the default initial context.  If no name is being specified, the
      <code>name</code> parameter should be null.
      @param refInfo The possibly null object for which to create an object.
      @param name The name of this object relative to <code>nameCtx</code>.
               Specifying a name is optional; if it is
               omitted, <code>name</code> should be null.
      @param nameCtx The context relative to which the <code>name</code>
               parameter is specified.  If null, <code>name</code> is
               relative to the default initial context.
      @param environment The possibly null environment to
               be used in the creation of the object factory and the object.
      @return An object created using <code>refInfo</code>; or
               <code>refInfo</code> if an object cannot be created using
               the algorithm described above.
      @exception NamingException if a naming exception was encountered
       while attempting to get a URL context, or if one of the
               factories accessed throws a NamingException.
      @exception Exception if one of the factories accessed throws an
               exception, or if an error was encountered while loading
               and instantiating the factory and object classes.
               A factory should only throw an exception if it does not want
               other factories to be used in an attempt to create an object.
       See ObjectFactory.getObjectInstance().
      @see #getURLContext
      @see ObjectFactory
      @see ObjectFactory#getObjectInstance</p></div>
<a id="L287" name="L287"></a> 287     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>
<a id="L288" name="L288"></a> 288         <a href="../R/18096.html" title="Multiple referred from 21 places.">getObjectInstance</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> refInfo, <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx,
<a id="L289" name="L289"></a> 289                           <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>)
<a id="L290" name="L290"></a> 290         <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L291" name="L291"></a> 291     <em class="brace">{</em>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293         <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>;
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295         <em class="comment">// Use builder if installed</em>
<a id="L296" name="L296"></a> 296         <a href="../S/4311.html#L57" title="Defined at 57 in src/javax/naming/spi/ObjectFactoryBuilder.java.">ObjectFactoryBuilder</a> <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a> = <a href="../S/4313.html#L123" title="Defined at 123 in src/javax/naming/spi/NamingManager.java.">getObjectFactoryBuilder</a>();
<a id="L297" name="L297"></a> 297         <strong class="reserved">if</strong> (<a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             <em class="comment">// builder must return non-null factory</em>
<a id="L299" name="L299"></a> 299             <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a>.<a href="../S/4311.html#L72" title="Defined at 72 in src/javax/naming/spi/ObjectFactoryBuilder.java.">createObjectFactory</a>(refInfo, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L300" name="L300"></a> 300             <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/21142.html" title="Multiple defined in 12 places.">getObjectInstance</a>(refInfo, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx,
<a id="L301" name="L301"></a> 301                 <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L302" name="L302"></a> 302         <em class="brace">}</em>
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304         <em class="comment">// Use reference if possible</em>
<a id="L305" name="L305"></a> 305         <a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <strong class="reserved">null</strong>;
<a id="L306" name="L306"></a> 306         <strong class="reserved">if</strong> (refInfo <strong class="reserved">instanceof</strong> <a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307             <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = (<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>) refInfo;
<a id="L308" name="L308"></a> 308         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (refInfo <strong class="reserved">instanceof</strong> <a href="../S/4282.html#L49" title="Defined at 49 in src/javax/naming/Referenceable.java.">Referenceable</a>) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309             <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = ((<a href="../S/4282.html#L49" title="Defined at 49 in src/javax/naming/Referenceable.java.">Referenceable</a>)(refInfo)).<a href="../D/21914.html" title="Multiple defined in 7 places.">getReference</a>();
<a id="L310" name="L310"></a> 310         <em class="brace">}</em>
<a id="L311" name="L311"></a> 311 
<a id="L312" name="L312"></a> 312         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer;
<a id="L313" name="L313"></a> 313 
<a id="L314" name="L314"></a> 314         <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> f = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../S/4304.html#L198" title="Defined at 198 in src/javax/naming/Reference.java.">getFactoryClassName</a>();
<a id="L316" name="L316"></a> 316             <strong class="reserved">if</strong> (f != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317                 <em class="comment">// if reference identifies a factory, use exclusively</em>
<a id="L318" name="L318"></a> 318 
<a id="L319" name="L319"></a> 319                 <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = <a href="../S/4313.html#L137" title="Defined at 137 in src/javax/naming/spi/NamingManager.java.">getObjectFactoryFromReference</a>(<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>, f);
<a id="L320" name="L320"></a> 320                 <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L321" name="L321"></a> 321                     <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/21142.html" title="Multiple defined in 12 places.">getObjectInstance</a>(<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx,
<a id="L322" name="L322"></a> 322                                                      <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L323" name="L323"></a> 323                 <em class="brace">}</em>
<a id="L324" name="L324"></a> 324                 <em class="comment">// No factory found, so return original refInfo.</em>
<a id="L325" name="L325"></a> 325                 <em class="comment">// Will reach this point if factory class is not in</em>
<a id="L326" name="L326"></a> 326                 <em class="comment">// class path and reference does not contain a URL for it</em>
<a id="L327" name="L327"></a> 327                 <strong class="reserved">return</strong> refInfo;
<a id="L328" name="L328"></a> 328 
<a id="L329" name="L329"></a> 329             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L330" name="L330"></a> 330                 <em class="comment">// if reference has no factory, check for addresses</em>
<a id="L331" name="L331"></a> 331                 <em class="comment">// containing URLs</em>
<a id="L332" name="L332"></a> 332 
<a id="L333" name="L333"></a> 333                 answer = <a href="../S/4313.html#L351" title="Defined at 351 in src/javax/naming/spi/NamingManager.java.">processURLAddrs</a>(<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L334" name="L334"></a> 334                 <strong class="reserved">if</strong> (answer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335                     <strong class="reserved">return</strong> answer;
<a id="L336" name="L336"></a> 336                 <em class="brace">}</em>
<a id="L337" name="L337"></a> 337             <em class="brace">}</em>
<a id="L338" name="L338"></a> 338         <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340         <em class="comment">// try using any specified factories</em>
<a id="L341" name="L341"></a> 341         answer =
<a id="L342" name="L342"></a> 342             <a href="../D/14097.html" title="Multiple defined in 2 places.">createObjectFromFactories</a>(refInfo, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L343" name="L343"></a> 343         <strong class="reserved">return</strong> (answer != <strong class="reserved">null</strong>) ? answer : refInfo;
<a id="L344" name="L344"></a> 344     <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<div class="comment">
      Ref has no factory.  For each address of type "URL", try its URL
      context factory.  Returns null if unsuccessful in creating and
      invoking a factory.</div>
<a id="L351" name="L351"></a> 351     <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/25195.html" title="Multiple referred from 2 places.">processURLAddrs</a>(<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>, <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx,
<a id="L352" name="L352"></a> 352                                   <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>)
<a id="L353" name="L353"></a> 353             <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L354" name="L354"></a> 354 
<a id="L355" name="L355"></a> 355         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); i++) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356             <a href="../S/4284.html#L58" title="Defined at 58 in src/javax/naming/RefAddr.java.">RefAddr</a> addr = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L357" name="L357"></a> 357             <strong class="reserved">if</strong> (addr <strong class="reserved">instanceof</strong> <a href="../S/4255.html#L54" title="Defined at 54 in src/javax/naming/StringRefAddr.java.">StringRefAddr</a> &amp;&amp;
<a id="L358" name="L358"></a> 358                 addr.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>().<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("URL")) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359 
<a id="L360" name="L360"></a> 360                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)addr.<a href="../D/17951.html" title="Multiple defined in 22 places.">getContent</a>();
<a id="L361" name="L361"></a> 361                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer = <a href="../S/4313.html#L370" title="Defined at 370 in src/javax/naming/spi/NamingManager.java.">processURL</a>(url, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L362" name="L362"></a> 362                 <strong class="reserved">if</strong> (answer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363                     <strong class="reserved">return</strong> answer;
<a id="L364" name="L364"></a> 364                 <em class="brace">}</em>
<a id="L365" name="L365"></a> 365             <em class="brace">}</em>
<a id="L366" name="L366"></a> 366         <em class="brace">}</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L368" name="L368"></a> 368     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/4313.html#L361" title="Referred from 361 in src/javax/naming/spi/NamingManager.java.">processURL</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> refInfo, <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L371" name="L371"></a> 371                                      <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx, <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>)
<a id="L372" name="L372"></a> 372             <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L373" name="L373"></a> 373         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer;
<a id="L374" name="L374"></a> 374 
<a id="L375" name="L375"></a> 375         <em class="comment">// If refInfo is a URL string, try to use its URL context factory</em>
<a id="L376" name="L376"></a> 376         <em class="comment">// If no context found, continue to try object factories.</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">if</strong> (refInfo <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)refInfo;
<a id="L379" name="L379"></a> 379             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scheme = <a href="../D/23386.html" title="Multiple defined in 2 places.">getURLScheme</a>(url);
<a id="L380" name="L380"></a> 380             <strong class="reserved">if</strong> (scheme != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381                 answer = <a href="../S/4313.html#L586" title="Defined at 586 in src/javax/naming/spi/NamingManager.java.">getURLObject</a>(scheme, refInfo, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx,
<a id="L382" name="L382"></a> 382                                       <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L383" name="L383"></a> 383                 <strong class="reserved">if</strong> (answer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L384" name="L384"></a> 384                     <strong class="reserved">return</strong> answer;
<a id="L385" name="L385"></a> 385                 <em class="brace">}</em>
<a id="L386" name="L386"></a> 386             <em class="brace">}</em>
<a id="L387" name="L387"></a> 387         <em class="brace">}</em>
<a id="L388" name="L388"></a> 388 
<a id="L389" name="L389"></a> 389         <em class="comment">// If refInfo is an array of URL strings,</em>
<a id="L390" name="L390"></a> 390         <em class="comment">// try to find a context factory for any one of its URLs.</em>
<a id="L391" name="L391"></a> 391         <em class="comment">// If no context found, continue to try object factories.</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong> (refInfo <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] urls = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[])refInfo;
<a id="L394" name="L394"></a> 394             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt;urls.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scheme = <a href="../D/23386.html" title="Multiple defined in 2 places.">getURLScheme</a>(urls[i]);
<a id="L396" name="L396"></a> 396                 <strong class="reserved">if</strong> (scheme != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                     answer = <a href="../S/4313.html#L586" title="Defined at 586 in src/javax/naming/spi/NamingManager.java.">getURLObject</a>(scheme, refInfo, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx,
<a id="L398" name="L398"></a> 398                                           <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L399" name="L399"></a> 399                     <strong class="reserved">if</strong> (answer != <strong class="reserved">null</strong>)
<a id="L400" name="L400"></a> 400                         <strong class="reserved">return</strong> answer;
<a id="L401" name="L401"></a> 401                 <em class="brace">}</em>
<a id="L402" name="L402"></a> 402             <em class="brace">}</em>
<a id="L403" name="L403"></a> 403         <em class="brace">}</em>
<a id="L404" name="L404"></a> 404         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L405" name="L405"></a> 405     <em class="brace">}</em>
<a id="L406" name="L406"></a> 406 
<a id="L407" name="L407"></a> 407 
<div class="comment">
      Retrieves a context identified by <code>obj</code>, using the specified
      environment.
      Used by ContinuationContext.
      @param obj       The object identifying the context.
      @param name      The name of the context being returned, relative to
                       <code>nameCtx</code>, or null if no name is being
                       specified.
                       See the <code>getObjectInstance</code> method for
                       details.
      @param nameCtx   The context relative to which <code>name</code> is
                       specified, or null for the default initial context.
                       See the <code>getObjectInstance</code> method for
                       details.
      @param environment Environment specifying characteristics of the
                       resulting context.
      @return A context identified by <code>obj</code>.
      @see #getObjectInstance</div>
<a id="L429" name="L429"></a> 429     <strong class="reserved">static</strong> <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> <a href="../R/15801.html" title="Multiple referred from 401 places.">getContext</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj, <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx,
<a id="L430" name="L430"></a> 430                               <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>) <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L431" name="L431"></a> 431         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer;
<a id="L432" name="L432"></a> 432 
<a id="L433" name="L433"></a> 433         <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             <em class="comment">// %%% Ignore environment for now.  OK since method not public.</em>
<a id="L435" name="L435"></a> 435             <strong class="reserved">return</strong> (<a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>)obj;
<a id="L436" name="L436"></a> 436         <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<a id="L438" name="L438"></a> 438         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L439" name="L439"></a> 439             answer = <a href="../D/21142.html" title="Multiple defined in 12 places.">getObjectInstance</a>(obj, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L440" name="L440"></a> 440         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> e) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441             <strong class="reserved">throw</strong> e;
<a id="L442" name="L442"></a> 442         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443             <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> ne = <strong class="reserved">new</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a>();
<a id="L444" name="L444"></a> 444             ne.<a href="../S/4338.html#L342" title="Defined at 342 in src/javax/naming/NamingException.java.">setRootCause</a>(e);
<a id="L445" name="L445"></a> 445             <strong class="reserved">throw</strong> ne;
<a id="L446" name="L446"></a> 446         <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<a id="L448" name="L448"></a> 448         <strong class="reserved">return</strong> (answer <strong class="reserved">instanceof</strong> <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>)
<a id="L449" name="L449"></a> 449             ? (<a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>)answer
<a id="L450" name="L450"></a> 450             : <strong class="reserved">null</strong>;
<a id="L451" name="L451"></a> 451     <em class="brace">}</em>
<a id="L452" name="L452"></a> 452 
<a id="L453" name="L453"></a> 453     <em class="comment">// Used by ContinuationContext</em>
<a id="L454" name="L454"></a> 454     <strong class="reserved">static</strong> <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a> <a href="../R/18709.html" title="Multiple referred from 2 places.">getResolver</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj, <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx,
<a id="L455" name="L455"></a> 455                                 <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>) <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L456" name="L456"></a> 456         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer;
<a id="L457" name="L457"></a> 457 
<a id="L458" name="L458"></a> 458         <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a>) <em class="brace">{</em>
<a id="L459" name="L459"></a> 459             <em class="comment">// %%% Ignore environment for now.  OK since method not public.</em>
<a id="L460" name="L460"></a> 460             <strong class="reserved">return</strong> (<a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a>)obj;
<a id="L461" name="L461"></a> 461         <em class="brace">}</em>
<a id="L462" name="L462"></a> 462 
<a id="L463" name="L463"></a> 463         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L464" name="L464"></a> 464             answer = <a href="../D/21142.html" title="Multiple defined in 12 places.">getObjectInstance</a>(obj, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L465" name="L465"></a> 465         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> e) <em class="brace">{</em>
<a id="L466" name="L466"></a> 466             <strong class="reserved">throw</strong> e;
<a id="L467" name="L467"></a> 467         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L468" name="L468"></a> 468             <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> ne = <strong class="reserved">new</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a>();
<a id="L469" name="L469"></a> 469             ne.<a href="../S/4338.html#L342" title="Defined at 342 in src/javax/naming/NamingException.java.">setRootCause</a>(e);
<a id="L470" name="L470"></a> 470             <strong class="reserved">throw</strong> ne;
<a id="L471" name="L471"></a> 471         <em class="brace">}</em>
<a id="L472" name="L472"></a> 472 
<a id="L473" name="L473"></a> 473         <strong class="reserved">return</strong> (answer <strong class="reserved">instanceof</strong> <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a>)
<a id="L474" name="L474"></a> 474             ? (<a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a>)answer
<a id="L475" name="L475"></a> 475             : <strong class="reserved">null</strong>;
<a id="L476" name="L476"></a> 476     <em class="brace">}</em>
<a id="L477" name="L477"></a> 477 
<a id="L478" name="L478"></a> 478 
<div class="comment">
     /***************** URL Context implementations ***************/</div>
<a id="L480" name="L480"></a> 480 
<div class="comment">
      Creates a context for the given URL scheme id.
      <p>
      The resulting context is for resolving URLs of the
      scheme <code>scheme</code>. The resulting context is not tied
      to a specific URL. It is able to handle arbitrary URLs with
      the specified scheme.
     </p><p>
      The class name of the factory that creates the resulting context
      has the naming convention <i>scheme-id</i>URLContextFactory
      (e.g. "ftpURLContextFactory" for the "ftp" scheme-id),
      in the package specified as follows.
      The <tt>Context.URL_PKG_PREFIXES</tt> environment property (which
      may contain values taken from applet parameters, system properties,
      or application resource files)
      contains a colon-separated list of package prefixes.
      Each package prefix in
      the property is tried in the order specified to load the factory class.
      The default package prefix is "com.sun.jndi.url" (if none of the
      specified packages work, this default is tried).
      The complete package name is constructed using the package prefix,
      concatenated with the scheme id.
     </p><p>
      For example, if the scheme id is "ldap", and the
      <tt>Context.URL_PKG_PREFIXES</tt> property
      contains "com.widget:com.wiz.jndi",
      the naming manager would attempt to load the following classes
      until one is successfully instantiated:
     </p><ul><li>com.widget.ldap.ldapURLContextFactory
       </li><li>com.wiz.jndi.ldap.ldapURLContextFactory
       </li><li>com.sun.jndi.url.ldap.ldapURLContextFactory
     </li></ul>
      If none of the package prefixes work, null is returned.
     <p>
      If a factory is instantiated, it is invoked with the following
      parameters to produce the resulting context.
      </p><p>
      <code>factory.getObjectInstance(null, environment);</code>
      </p><p>
      For example, invoking getObjectInstance() as shown above
      on a LDAP URL context factory would return a
      context that can resolve LDAP urls
      (e.g. "ldap://ldap.wiz.com/o=wiz,c=us",
      "ldap://ldap.umich.edu/o=umich,c=us", ...).
     </p><p>
      Note that an object factory (an object that implements the ObjectFactory
      interface) must be public and must have a public constructor that
      accepts no arguments.
      @param scheme    The non-null scheme-id of the URLs supported by the context.
      @param environment The possibly null environment properties to be
                used in the creation of the object factory and the context.
      @return A context for resolving URLs with the
              scheme id <code>scheme</code>;
       <code>null</code> if the factory for creating the
              context is not found.
      @exception NamingException If a naming exception occurs while creating
               the context.
      @see #getObjectInstance
      @see ObjectFactory#getObjectInstance</p></div>
<a id="L543" name="L543"></a> 543     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> <a href="../R/19657.html" title="Multiple referred from 2 places.">getURLContext</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scheme,
<a id="L544" name="L544"></a> 544                                         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>)
<a id="L545" name="L545"></a> 545         <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a>
<a id="L546" name="L546"></a> 546     <em class="brace">{</em>
<a id="L547" name="L547"></a> 547         <em class="comment">// pass in 'null' to indicate creation of generic context for scheme</em>
<a id="L548" name="L548"></a> 548         <em class="comment">// (i.e. not specific to a URL).</em>
<a id="L549" name="L549"></a> 549 
<a id="L550" name="L550"></a> 550             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer = <a href="../S/4313.html#L586" title="Defined at 586 in src/javax/naming/spi/NamingManager.java.">getURLObject</a>(scheme, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L551" name="L551"></a> 551             <strong class="reserved">if</strong> (answer <strong class="reserved">instanceof</strong> <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>) <em class="brace">{</em>
<a id="L552" name="L552"></a> 552                 <strong class="reserved">return</strong> (<a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>)answer;
<a id="L553" name="L553"></a> 553             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L554" name="L554"></a> 554                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L555" name="L555"></a> 555             <em class="brace">}</em>
<a id="L556" name="L556"></a> 556     <em class="brace">}</em>
<a id="L557" name="L557"></a> 557 
<a id="L558" name="L558"></a> 558     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> defaultPkgPrefix = "com.sun.jndi.url";
<a id="L559" name="L559"></a> 559 
<div class="comment">
      Creates an object for the given URL scheme id using
      the supplied urlInfo.
      <p>
      If urlInfo is null, the result is a context for resolving URLs
      with the scheme id 'scheme'.
      If urlInfo is a URL, the result is a context named by the URL.
      Names passed to this context is assumed to be relative to this
      context (i.e. not a URL). For example, if urlInfo is
      "ldap://ldap.wiz.com/o=Wiz,c=us", the resulting context will
      be that pointed to by "o=Wiz,c=us" on the server 'ldap.wiz.com'.
      Subsequent names that can be passed to this context will be
      LDAP names relative to this context (e.g. cn="Barbs Jensen").
      If urlInfo is an array of URLs, the URLs are assumed
      to be equivalent in terms of the context to which they refer.
      The resulting context is like that of the single URL case.
      If urlInfo is of any other type, that is handled by the
      context factory for the URL scheme.
      @param scheme the URL scheme id for the context
      @param urlInfo information used to create the context
      @param name name of this object relative to <code>nameCtx</code>
      @param nameCtx Context whose provider resource file will be searched
               for package prefix values (or null if none)
      @param environment Environment properties for creating the context
      @see javax.naming.InitialContext</p></div>
<a id="L586" name="L586"></a> 586     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/19658.html" title="Multiple referred from 3 places.">getURLObject</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scheme, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> urlInfo,
<a id="L587" name="L587"></a> 587                                        <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx,
<a id="L588" name="L588"></a> 588                                        <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>)
<a id="L589" name="L589"></a> 589             <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L590" name="L590"></a> 590 
<a id="L591" name="L591"></a> 591         <em class="comment">// e.g. "ftpURLContextFactory"</em>
<a id="L592" name="L592"></a> 592         <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = (<a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>)<a href="../S/7688.html#L51" title="Defined at 51 in src/com/sun/naming/internal/ResourceManager.java.">ResourceManager</a>.<a href="../D/18981.html" title="Multiple defined in 13 places.">getFactory</a>(
<a id="L593" name="L593"></a> 593             <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>.URL_PKG_PREFIXES, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>, nameCtx,
<a id="L594" name="L594"></a> 594             "." + scheme + "." + scheme + "URLContextFactory", defaultPkgPrefix);
<a id="L595" name="L595"></a> 595 
<a id="L596" name="L596"></a> 596         <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> == <strong class="reserved">null</strong>)
<a id="L597" name="L597"></a> 597           <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L598" name="L598"></a> 598 
<a id="L599" name="L599"></a> 599         <em class="comment">// Found object factory</em>
<a id="L600" name="L600"></a> 600         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L601" name="L601"></a> 601             <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/21142.html" title="Multiple defined in 12 places.">getObjectInstance</a>(urlInfo, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L602" name="L602"></a> 602         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> e) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603             <strong class="reserved">throw</strong> e;
<a id="L604" name="L604"></a> 604         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605             <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> ne = <strong class="reserved">new</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a>();
<a id="L606" name="L606"></a> 606             ne.<a href="../S/4338.html#L342" title="Defined at 342 in src/javax/naming/NamingException.java.">setRootCause</a>(e);
<a id="L607" name="L607"></a> 607             <strong class="reserved">throw</strong> ne;
<a id="L608" name="L608"></a> 608         <em class="brace">}</em>
<a id="L609" name="L609"></a> 609 
<a id="L610" name="L610"></a> 610     <em class="brace">}</em>
<a id="L611" name="L611"></a> 611 
<a id="L612" name="L612"></a> 612 
<a id="L613" name="L613"></a> 613 <em class="comment">// ------------ Initial Context Factory Stuff</em>
<a id="L614" name="L614"></a> 614     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/4318.html#L54" title="Defined at 54 in src/javax/naming/spi/InitialContextFactoryBuilder.java.">InitialContextFactoryBuilder</a> initctx_factory_builder = <strong class="reserved">null</strong>;
<a id="L615" name="L615"></a> 615 
<div class="comment">
      Use this method for accessing initctx_factory_builder while
      inside an unsynchronized method.</div>
<a id="L620" name="L620"></a> 620     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <a href="../S/4318.html#L54" title="Defined at 54 in src/javax/naming/spi/InitialContextFactoryBuilder.java.">InitialContextFactoryBuilder</a>
<a id="L621" name="L621"></a> 621     <a href="../R/17070.html" title="Multiple referred from 2 places.">getInitialContextFactoryBuilder</a>() <em class="brace">{</em>
<a id="L622" name="L622"></a> 622         <strong class="reserved">return</strong> initctx_factory_builder;
<a id="L623" name="L623"></a> 623     <em class="brace">}</em>
<a id="L624" name="L624"></a> 624 
<div class="comment">
      Creates an initial context using the specified environment
      properties.
     <p>
      If an InitialContextFactoryBuilder has been installed,
      it is used to create the factory for creating the initial context.
      Otherwise, the class specified in the
      <tt>Context.INITIAL_CONTEXT_FACTORY</tt> environment property is used.
      Note that an initial context factory (an object that implements the
      InitialContextFactory interface) must be public and must have a
      public constructor that accepts no arguments.
      @param env The possibly null environment properties used when
                       creating the context.
      @return A non-null initial context.
      @exception NoInitialContextException If the
               <tt>Context.INITIAL_CONTEXT_FACTORY</tt> property
              is not found or names a nonexistent
              class or a class that cannot be instantiated,
               or if the initial context could not be created for some other
               reason.
      @exception NamingException If some other naming exception was encountered.
      @see javax.naming.InitialContext
      @see javax.naming.directory.InitialDirContext</p></div>
<a id="L650" name="L650"></a> 650     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> <a href="../R/17069.html" title="Multiple referred from 2 places.">getInitialContext</a>(<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15665.html" title="Multiple defined in 2 places.">env</a>)
<a id="L651" name="L651"></a> 651         <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L652" name="L652"></a> 652         <a href="../S/4323.html#L53" title="Defined at 53 in src/javax/naming/spi/InitialContextFactory.java.">InitialContextFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>;
<a id="L653" name="L653"></a> 653 
<a id="L654" name="L654"></a> 654         <a href="../S/4318.html#L54" title="Defined at 54 in src/javax/naming/spi/InitialContextFactoryBuilder.java.">InitialContextFactoryBuilder</a> <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a> = <a href="../S/4313.html#L621" title="Defined at 621 in src/javax/naming/spi/NamingManager.java.">getInitialContextFactoryBuilder</a>();
<a id="L655" name="L655"></a> 655         <strong class="reserved">if</strong> (<a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656             <em class="comment">// No factory installed, use property</em>
<a id="L657" name="L657"></a> 657             <em class="comment">// Get initial context factory class name</em>
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = <a href="../D/15665.html" title="Multiple defined in 2 places.">env</a> != <strong class="reserved">null</strong> ?
<a id="L660" name="L660"></a> 660                 (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/15665.html" title="Multiple defined in 2 places.">env</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>.INITIAL_CONTEXT_FACTORY) : <strong class="reserved">null</strong>;
<a id="L661" name="L661"></a> 661             <strong class="reserved">if</strong> (<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L662" name="L662"></a> 662                 <a href="../S/4285.html#L52" title="Defined at 52 in src/javax/naming/NoInitialContextException.java.">NoInitialContextException</a> ne = <strong class="reserved">new</strong> <a href="../S/4285.html#L52" title="Defined at 52 in src/javax/naming/NoInitialContextException.java.">NoInitialContextException</a>(
<a id="L663" name="L663"></a> 663                     "Need to specify class name in environment or system " +
<a id="L664" name="L664"></a> 664                     "property, or as an applet parameter, or in an " +
<a id="L665" name="L665"></a> 665                     "application resource file:  " +
<a id="L666" name="L666"></a> 666                     <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>.INITIAL_CONTEXT_FACTORY);
<a id="L667" name="L667"></a> 667                 <strong class="reserved">throw</strong> ne;
<a id="L668" name="L668"></a> 668             <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<a id="L670" name="L670"></a> 670             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L671" name="L671"></a> 671                 <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = (<a href="../S/4323.html#L53" title="Defined at 53 in src/javax/naming/spi/InitialContextFactory.java.">InitialContextFactory</a>)
<a id="L672" name="L672"></a> 672                     helper.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>).<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L673" name="L673"></a> 673             <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674                 <a href="../S/4285.html#L52" title="Defined at 52 in src/javax/naming/NoInitialContextException.java.">NoInitialContextException</a> ne =
<a id="L675" name="L675"></a> 675                     <strong class="reserved">new</strong> <a href="../S/4285.html#L52" title="Defined at 52 in src/javax/naming/NoInitialContextException.java.">NoInitialContextException</a>(
<a id="L676" name="L676"></a> 676                         "Cannot instantiate class: " + <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L677" name="L677"></a> 677                 ne.<a href="../S/4338.html#L342" title="Defined at 342 in src/javax/naming/NamingException.java.">setRootCause</a>(e);
<a id="L678" name="L678"></a> 678                 <strong class="reserved">throw</strong> ne;
<a id="L679" name="L679"></a> 679             <em class="brace">}</em>
<a id="L680" name="L680"></a> 680         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L681" name="L681"></a> 681             <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a>.<a href="../S/4318.html#L69" title="Defined at 69 in src/javax/naming/spi/InitialContextFactoryBuilder.java.">createInitialContextFactory</a>(<a href="../D/15665.html" title="Multiple defined in 2 places.">env</a>);
<a id="L682" name="L682"></a> 682         <em class="brace">}</em>
<a id="L683" name="L683"></a> 683 
<a id="L684" name="L684"></a> 684         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/19704.html" title="Multiple defined in 2 places.">getInitialContext</a>(<a href="../D/15665.html" title="Multiple defined in 2 places.">env</a>);
<a id="L685" name="L685"></a> 685     <em class="brace">}</em>
<a id="L686" name="L686"></a> 686 
<a id="L687" name="L687"></a> 687 
<div class="comment">
      Sets the InitialContextFactory builder to be builder.
     <p>
      The builder can only be installed if the executing thread is allowed by
      the security manager to do so. Once installed, the builder cannot
      be replaced.
      @param builder The initial context factory builder to install. If null,
                     no builder is set.
      @exception SecurityException builder cannot be installed for security
                       reasons.
      @exception NamingException builder cannot be installed for
              a non-security-related reason.
      @exception IllegalStateException If a builder was previous installed.
      @see #hasInitialContextFactoryBuilder
      @see java.lang.SecurityManager#checkSetFactory</p></div>
<a id="L705" name="L705"></a> 705     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setInitialContextFactoryBuilder(
<a id="L706" name="L706"></a> 706         <a href="../S/4318.html#L54" title="Defined at 54 in src/javax/naming/spi/InitialContextFactoryBuilder.java.">InitialContextFactoryBuilder</a> <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a>)
<a id="L707" name="L707"></a> 707         <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L708" name="L708"></a> 708             <strong class="reserved">if</strong> (initctx_factory_builder != <strong class="reserved">null</strong>)
<a id="L709" name="L709"></a> 709                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(
<a id="L710" name="L710"></a> 710                     "InitialContextFactoryBuilder already set");
<a id="L711" name="L711"></a> 711 
<a id="L712" name="L712"></a> 712             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L713" name="L713"></a> 713             <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L714" name="L714"></a> 714                 security.<a href="../S/1785.html#L1663" title="Defined at 1663 in src/java/lang/SecurityManager.java.">checkSetFactory</a>();
<a id="L715" name="L715"></a> 715             <em class="brace">}</em>
<a id="L716" name="L716"></a> 716             initctx_factory_builder = <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a>;
<a id="L717" name="L717"></a> 717     <em class="brace">}</em>
<a id="L718" name="L718"></a> 718 
<div class="comment">
      Determines whether an initial context factory builder has
      been set.
      @return true if an initial context factory builder has
                been set; false otherwise.
      @see #setInitialContextFactoryBuilder</div>
<a id="L726" name="L726"></a> 726     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/20207.html" title="Multiple referred from 2 places.">hasInitialContextFactoryBuilder</a>() <em class="brace">{</em>
<a id="L727" name="L727"></a> 727         <strong class="reserved">return</strong> (<a href="../S/4313.html#L621" title="Defined at 621 in src/javax/naming/spi/NamingManager.java.">getInitialContextFactoryBuilder</a>() != <strong class="reserved">null</strong>);
<a id="L728" name="L728"></a> 728     <em class="brace">}</em>
<a id="L729" name="L729"></a> 729 
<a id="L730" name="L730"></a> 730 <em class="comment">// -----  Continuation Context Stuff</em>
<a id="L731" name="L731"></a> 731 
<div class="comment">
      Constant that holds the name of the environment property into
      which <tt>getContinuationContext()</tt> stores the value of its
      <tt>CannotProceedException</tt> parameter.
      This property is inherited by the continuation context, and may
      be used by that context's service provider to inspect the
      fields of the exception.
     <p>
      The value of this constant is "java.naming.spi.CannotProceedException".
      @see #getContinuationContext
      @since 1.3</p></div>
<a id="L745" name="L745"></a> 745     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> CPE = "java.naming.spi.CannotProceedException";
<a id="L746" name="L746"></a> 746 
<div class="comment">
      Creates a context in which to continue a context operation.
     <p>
      In performing an operation on a name that spans multiple
      namespaces, a context from one naming system may need to pass
      the operation on to the next naming system.  The context
      implementation does this by first constructing a
      <code>CannotProceedException</code> containing information
      pinpointing how far it has proceeded.  It then obtains a
      continuation context from JNDI by calling
      <code>getContinuationContext</code>.  The context
      implementation should then resume the context operation by
      invoking the same operation on the continuation context, using
      the remainder of the name that has not yet been resolved.
     </p><p>
      Before making use of the <tt>cpe</tt> parameter, this method
      updates the environment associated with that object by setting
      the value of the property <a href="#CPE"><tt>CPE</tt></a>
      to <tt>cpe</tt>.  This property will be inherited by the
      continuation context, and may be used by that context's
      service provider to inspect the fields of this exception.
      @param cpe
               The non-null exception that triggered this continuation.
      @return A non-null Context object for continuing the operation.
      @exception NamingException If a naming exception occurred.</p></div>
<a id="L774" name="L774"></a> 774     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L775" name="L775"></a> 775     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> getContinuationContext(<a href="../S/4310.html#L63" title="Defined at 63 in src/javax/naming/CannotProceedException.java.">CannotProceedException</a> cpe)
<a id="L776" name="L776"></a> 776             <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a> <em class="brace">{</em>
<a id="L777" name="L777"></a> 777 
<a id="L778" name="L778"></a> 778         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../D/15665.html" title="Multiple defined in 2 places.">env</a> = (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;)cpe.<a href="../D/18834.html" title="Multiple defined in 4 places.">getEnvironment</a>();
<a id="L779" name="L779"></a> 779         <strong class="reserved">if</strong> (<a href="../D/15665.html" title="Multiple defined in 2 places.">env</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L780" name="L780"></a> 780             <a href="../D/15665.html" title="Multiple defined in 2 places.">env</a> = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;&gt;(7);
<a id="L781" name="L781"></a> 781         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L782" name="L782"></a> 782             <em class="comment">// Make a (shallow) copy of the environment.</em>
<a id="L783" name="L783"></a> 783             <a href="../D/15665.html" title="Multiple defined in 2 places.">env</a> = (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;)<a href="../D/15665.html" title="Multiple defined in 2 places.">env</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L784" name="L784"></a> 784         <em class="brace">}</em>
<a id="L785" name="L785"></a> 785         <a href="../D/15665.html" title="Multiple defined in 2 places.">env</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(CPE, cpe);
<a id="L786" name="L786"></a> 786 
<a id="L787" name="L787"></a> 787         <a href="../S/4316.html#L39" title="Defined at 39 in src/javax/naming/spi/ContinuationContext.java.">ContinuationContext</a> cctx = <strong class="reserved">new</strong> <a href="../S/4316.html#L39" title="Defined at 39 in src/javax/naming/spi/ContinuationContext.java.">ContinuationContext</a>(cpe, <a href="../D/15665.html" title="Multiple defined in 2 places.">env</a>);
<a id="L788" name="L788"></a> 788         <strong class="reserved">return</strong> cctx.<a href="../D/23003.html" title="Multiple defined in 3 places.">getTargetContext</a>();
<a id="L789" name="L789"></a> 789     <em class="brace">}</em>
<a id="L790" name="L790"></a> 790 
<a id="L791" name="L791"></a> 791 <em class="comment">// ------------ State Factory Stuff</em>
<a id="L792" name="L792"></a> 792 
<div class="comment">
      Retrieves the state of an object for binding.
      <p>
      Service providers that implement the <tt>DirContext</tt> interface
      should use <tt>DirectoryManager.getStateToBind()</tt>, not this method.
      Service providers that implement only the <tt>Context</tt> interface
      should use this method.
     </p><p>
      This method uses the specified state factories in
      the <tt>Context.STATE_FACTORIES</tt> property from the environment
      properties, and from the provider resource file associated with
      <tt>nameCtx</tt>, in that order.
         The value of this property is a colon-separated list of factory
         class names that are tried in order, and the first one that succeeds
         in returning the object's state is the one used.
      If no object's state can be retrieved in this way, return the
      object itself.
         If an exception is encountered while retrieving the state, the
         exception is passed up to the caller.
      </p><p>
      Note that a state factory
      (an object that implements the StateFactory
      interface) must be public and must have a public constructor that
      accepts no arguments.
      </p><p>
      The <code>name</code> and <code>nameCtx</code> parameters may
      optionally be used to specify the name of the object being created.
      See the description of "Name and Context Parameters" in
      {@link ObjectFactory#getObjectInstance
               ObjectFactory.getObjectInstance()}
      for details.
      </p><p>
      This method may return a <tt>Referenceable</tt> object.  The
      service provider obtaining this object may choose to store it
      directly, or to extract its reference (using
      <tt>Referenceable.getReference()</tt>) and store that instead.
      @param obj The non-null object for which to get state to bind.
      @param name The name of this object relative to <code>nameCtx</code>,
               or null if no name is specified.
      @param nameCtx The context relative to which the <code>name</code>
               parameter is specified, or null if <code>name</code> is
               relative to the default initial context.
       @param environment The possibly null environment to
               be used in the creation of the state factory and
       the object's state.
      @return The non-null object representing <tt>obj</tt>'s state for
       binding.  It could be the object (<tt>obj</tt>) itself.
      @exception NamingException If one of the factories accessed throws an
               exception, or if an error was encountered while loading
               and instantiating the factory and object classes.
               A factory should only throw an exception if it does not want
               other factories to be used in an attempt to create an object.
       See <tt>StateFactory.getStateToBind()</tt>.
      @see StateFactory
      @see StateFactory#getStateToBind
      @see DirectoryManager#getStateToBind
      @since 1.3</p></div>
<a id="L852" name="L852"></a> 852     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>
<a id="L853" name="L853"></a> 853         <a href="../R/19181.html" title="Multiple referred from 3 places.">getStateToBind</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj, <a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a> nameCtx,
<a id="L854" name="L854"></a> 854                        <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;?,?&gt; <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>)
<a id="L855" name="L855"></a> 855         <strong class="reserved">throws</strong> <a href="../S/4338.html#L60" title="Defined at 60 in src/javax/naming/NamingException.java.">NamingException</a>
<a id="L856" name="L856"></a> 856     <em class="brace">{</em>
<a id="L857" name="L857"></a> 857 
<a id="L858" name="L858"></a> 858         <a href="../S/7687.html#L39" title="Defined at 39 in src/com/sun/naming/internal/FactoryEnumeration.java.">FactoryEnumeration</a> factories = <a href="../S/7688.html#L51" title="Defined at 51 in src/com/sun/naming/internal/ResourceManager.java.">ResourceManager</a>.<a href="../D/18980.html" title="Multiple defined in 3 places.">getFactories</a>(
<a id="L859" name="L859"></a> 859             <a href="../D/1859.html" title="Multiple defined in 4 places.">Context</a>.STATE_FACTORIES, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>, nameCtx);
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861         <strong class="reserved">if</strong> (factories == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L862" name="L862"></a> 862             <strong class="reserved">return</strong> obj;
<a id="L863" name="L863"></a> 863         <em class="brace">}</em>
<a id="L864" name="L864"></a> 864 
<a id="L865" name="L865"></a> 865         <em class="comment">// Try each factory until one succeeds</em>
<a id="L866" name="L866"></a> 866         <a href="../S/4321.html#L80" title="Defined at 80 in src/javax/naming/spi/StateFactory.java.">StateFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>;
<a id="L867" name="L867"></a> 867         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> answer = <strong class="reserved">null</strong>;
<a id="L868" name="L868"></a> 868         <strong class="reserved">while</strong> (answer == <strong class="reserved">null</strong> &amp;&amp; factories.<a href="../D/24127.html" title="Multiple defined in 9 places.">hasMore</a>()) <em class="brace">{</em>
<a id="L869" name="L869"></a> 869             <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = (<a href="../S/4321.html#L80" title="Defined at 80 in src/javax/naming/spi/StateFactory.java.">StateFactory</a>)factories.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L870" name="L870"></a> 870             answer = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/22729.html" title="Multiple defined in 5 places.">getStateToBind</a>(obj, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, nameCtx, <a href="../D/15666.html" title="Multiple defined in 3 places.">environment</a>);
<a id="L871" name="L871"></a> 871         <em class="brace">}</em>
<a id="L872" name="L872"></a> 872 
<a id="L873" name="L873"></a> 873         <strong class="reserved">return</strong> (answer != <strong class="reserved">null</strong>) ? answer : obj;
<a id="L874" name="L874"></a> 874     <em class="brace">}</em>
<a id="L875" name="L875"></a> 875 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L108">[^]</a><a href="#L853">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>