<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L169">[^]</a><a href="#L1225">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L169" title="Defined at 169.">rename</a></li>
<li><a href="#L177" title="Defined at 177.">makeChildNode</a></li>
<li><a href="#L196" title="Defined at 196.">setOwnerDocument</a></li>
<li><a href="#L214" title="Defined at 214.">setIdAttribute</a></li>
<li><a href="#L221" title="Defined at 221.">isId</a></li>
<li><a href="#L232" title="Defined at 232.">cloneNode</a></li>
<li><a href="#L261" title="Defined at 261.">getNodeType</a></li>
<li><a href="#L268" title="Defined at 268.">getNodeName</a></li>
<li><a href="#L281" title="Defined at 281.">setNodeValue</a></li>
<li><a href="#L288" title="Defined at 288.">getTypeName</a></li>
<li><a href="#L295" title="Defined at 295.">getTypeNamespace</a></li>
<li><a href="#L306" title="Defined at 306.">getSchemaTypeInfo</a></li>
<li><a href="#L316" title="Defined at 316.">getNodeValue</a></li>
<li><a href="#L328" title="Defined at 328.">getName</a></li>
<li><a href="#L342" title="Defined at 342.">setValue</a></li>
<li><a href="#L440" title="Defined at 440.">getValue</a></li>
<li><a href="#L497" title="Defined at 497.">getSpecified</a></li>
<li><a href="#L519" title="Defined at 519.">getElement</a></li>
<li><a href="#L531" title="Defined at 531.">getOwnerElement</a></li>
<li><a href="#L537" title="Defined at 537.">normalize</a></li>
<li><a href="#L581" title="Defined at 581.">setSpecified</a></li>
<li><a href="#L594" title="Defined at 594.">setType</a></li>
<li><a href="#L603" title="Defined at 603.">toString</a></li>
<li><a href="#L611" title="Defined at 611.">hasChildNodes</a></li>
<li><a href="#L631" title="Defined at 631.">getChildNodes</a></li>
<li><a href="#L642" title="Defined at 642.">getFirstChild</a></li>
<li><a href="#L653" title="Defined at 653.">getLastChild</a></li>
<li><a href="#L662" title="Defined at 662.">lastChild</a></li>
<li><a href="#L668" title="Defined at 668.">lastChild</a></li>
<li><a href="#L703" title="Defined at 703.">insertBefore</a></li>
<li><a href="#L714" title="Defined at 714.">internalInsertBefore</a></li>
<li><a href="#L882" title="Defined at 882.">removeChild</a></li>
<li><a href="#L898" title="Defined at 898.">internalRemoveChild</a></li>
<li><a href="#L985" title="Defined at 985.">replaceChild</a></li>
<li><a href="#L1019" title="Defined at 1019.">getLength</a></li>
<li><a href="#L1039" title="Defined at 1039.">item</a></li>
<li><a href="#L1070" title="Defined at 1070.">isEqualNode</a></li>
<li><a href="#L1089" title="Defined at 1089.">isDerivedFrom</a></li>
<li><a href="#L1109" title="Defined at 1109.">setReadOnly</a></li>
<li><a href="#L1141" title="Defined at 1141.">synchronizeChildren</a></li>
<li><a href="#L1161" title="Defined at 1161.">checkNormalizationAfterInsert</a></li>
<li><a href="#L1194" title="Defined at 1194.">checkNormalizationAfterRemove</a></li>
<li><a href="#L1213" title="Defined at 1213.">writeObject</a></li>
<li><a href="#L1225" title="Defined at 1225.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.dom;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.io.IOException;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.ObjectOutputStream;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> org.w3c.dom.TypeInfo;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> org.w3c.dom.DOMException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> org.w3c.dom.NodeList;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> org.w3c.dom.Text;
<a id="L34" name="L34"></a>  34 
<div class="comment">
  Attribute represents an XML-style attribute of an
  Element. Typically, the allowable values are controlled by its
  declaration in the Document Type Definition (DTD) governing this
  kind of document.
  <p>
  If the attribute has not been explicitly assigned a value, but has
  been declared in the DTD, it will exist and have that default. Only
  if neither the document nor the DTD specifies a value will the
  Attribute really be considered absent and have no value; in that
  case, querying the attribute will return null.
  </p><p>
  Attributes may have multiple children that contain their data. (XML
  allows attributes to contain entity references, and tokenized
  attribute types such as NMTOKENS may have a child for each token.)
  For convenience, the Attribute object's getValue() method returns
  the string version of the attribute's value.
  </p><p>
  Attributes are not children of the Elements they belong to, in the
  usual sense, and have no valid Parent reference. However, the spec
  says they _do_ belong to a specific Element, and an INUSE exception
  is to be thrown if the user attempts to explicitly share them
  between elements.
  </p><p>
  Note that Elements do not permit attributes to appear to be shared
  (see the INUSE exception), so this object's mutability is
  officially not an issue.
  </p><p>
  Note: The ownerNode attribute is used to store the Element the Attr
  node is associated with. Attr nodes do not have parent nodes.
  Besides, the getOwnerElement() method can be used to get the element node
  this attribute is associated with.
  </p><p>
  AttrImpl does not support Namespaces. AttrNSImpl, which inherits from
  it, does.
  </p><p>AttrImpl used to inherit from ParentNode. It now directly inherits from
  NodeImpl and provide its own implementation of the ParentNode's behavior.
  The reason is that we now try and avoid to always create a Text node to
  hold the value of an attribute. The DOM spec requires it, so we still have
  to do it in case getFirstChild() is called for instance. The reason
  attribute values are stored as a list of nodes is so that they can carry
  more than a simple string. They can also contain EntityReference nodes.
  However, most of the times people only have a single string that they only
  set and get through Element.set/getAttribute or Attr.set/getValue. In this
  new version, the Attr node has a value pointer which can either be the
  String directly or a pointer to the first ChildNode. A flag tells which one
  it currently is. Note that while we try to stick with the direct String as
  much as possible once we've switched to a node there is no going back. This
  is because we have no way to know whether the application keeps referring to
  the node we once returned.
  </p><p> The gain in memory varies on the density of attributes in the document.
  But in the tests I've run I've seen up to 12% of memory gain. And the good
  thing is that it also leads to a slight gain in speed because we allocate
  fewer objects! I mean, that's until we have to actually create the node...
  </p><p>
  To avoid too much duplicated code, I got rid of ParentNode and renamed
  ChildAndParentNode, which I never really liked, to ParentNode for
  simplicity, this doesn't make much of a difference in memory usage because
  there are only very few objects that are only a Parent. This is only true
  now because AttrImpl now inherits directly from NodeImpl and has its own
  implementation of the ParentNode's node behavior. So there is still some
  duplicated code there.
  </p><p>
  This class doesn't directly support mutation events, however, it notifies
  the document when mutations are performed so that the document class do so.
  </p><p><b>WARNING</b>: Some of the code here is partially duplicated in
  ParentNode, be careful to keep these two classes in sync!
  @xerces.internal
  @see AttrNSImpl
  @author Arnaud  Le Hors, IBM
  @author Joe Kesselman, IBM
  @author Andy Clark, IBM
  @version $Id: AttrImpl.java,v 1.5 2008/06/10 00:59:32 joehw Exp $
  @since PR-DOM-Level-1-19980818.</p></div>
<a id="L116" name="L116"></a> 116 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/516.html" title="Multiple referred from 68 places.">AttrImpl</a>
<a id="L117" name="L117"></a> 117     <strong class="reserved">extends</strong> <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>
<a id="L118" name="L118"></a> 118     <strong class="reserved">implements</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>, <a href="../S/143.html#L123" title="Defined at 123 in src/org/w3c/dom/TypeInfo.java.">TypeInfo</a><em class="brace">{</em>
<a id="L119" name="L119"></a> 119 
<a id="L120" name="L120"></a> 120     <em class="comment">//</em>
<a id="L121" name="L121"></a> 121     <em class="comment">// Constants</em>
<a id="L122" name="L122"></a> 122     <em class="comment">//</em>
<a id="L123" name="L123"></a> 123 
<div class="comment">
     /** Serialization version. */</div>
<a id="L125" name="L125"></a> 125     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 7277707688218972102L;
<a id="L126" name="L126"></a> 126 
<div class="comment">
     /** DTD namespace. **/</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> DTD_URI = "http://www.w3.org/TR/REC-xml";
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130     <em class="comment">//</em>
<a id="L131" name="L131"></a> 131     <em class="comment">// Data</em>
<a id="L132" name="L132"></a> 132     <em class="comment">//</em>
<a id="L133" name="L133"></a> 133 
<div class="comment">
     /** This can either be a String or the first child node. */</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">protected</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>;
<a id="L136" name="L136"></a> 136 
<div class="comment">
     /** Attribute name. */</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L139" name="L139"></a> 139 
<div class="comment">
     /** Type information */</div>
<a id="L141" name="L141"></a> 141     <em class="comment">// REVISIT: we are losing the type information in DOM during serialization</em>
<a id="L142" name="L142"></a> 142     <strong class="reserved">transient</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144     <strong class="reserved">protected</strong> <a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a> textNode = <strong class="reserved">null</strong>;
<a id="L145" name="L145"></a> 145 
<a id="L146" name="L146"></a> 146     <em class="comment">//</em>
<a id="L147" name="L147"></a> 147     <em class="comment">// Constructors</em>
<a id="L148" name="L148"></a> 148     <em class="comment">//</em>
<a id="L149" name="L149"></a> 149 
<div class="comment">
      Attribute has no public constructor. Please use the factory
      method in the Document class.</div>
<a id="L154" name="L154"></a> 154     <strong class="reserved">protected</strong> AttrImpl(<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L155" name="L155"></a> 155         <strong class="reserved">super</strong>(<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>);
<a id="L156" name="L156"></a> 156         <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<div class="comment">
         /** False for default attributes. */</div>
<a id="L158" name="L158"></a> 158         <a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a>(<strong class="reserved">true</strong>);
<a id="L159" name="L159"></a> 159         <a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>(<strong class="reserved">true</strong>);
<a id="L160" name="L160"></a> 160     <em class="brace">}</em>
<a id="L161" name="L161"></a> 161 
<a id="L162" name="L162"></a> 162     <em class="comment">// for AttrNSImpl</em>
<a id="L163" name="L163"></a> 163     <strong class="reserved">protected</strong> AttrImpl() <em class="brace">{</em><em class="brace">}</em>
<a id="L164" name="L164"></a> 164 
<a id="L165" name="L165"></a> 165     <em class="comment">// Support for DOM Level 3 renameNode method.</em>
<a id="L166" name="L166"></a> 166     <em class="comment">// Note: This only deals with part of the pb. It is expected to be</em>
<a id="L167" name="L167"></a> 167     <em class="comment">// called after the Attr has been detached for one thing.</em>
<a id="L168" name="L168"></a> 168     <em class="comment">// CoreDocumentImpl does all the work.</em>
<a id="L169" name="L169"></a> 169     <strong class="reserved">void</strong> <a href="../R/26109.html" title="Multiple referred from 9 places.">rename</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L171" name="L171"></a> 171             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L172" name="L172"></a> 172         <em class="brace">}</em>
<a id="L173" name="L173"></a> 173         <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L174" name="L174"></a> 174     <em class="brace">}</em>
<a id="L175" name="L175"></a> 175 
<a id="L176" name="L176"></a> 176     <em class="comment">// create a real text node as child if we don't have one yet</em>
<a id="L177" name="L177"></a> 177     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22842.html" title="Multiple referred from 5 places.">makeChildNode</a>() <em class="brace">{</em>
<a id="L178" name="L178"></a> 178         <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180                 <a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> =
<a id="L181" name="L181"></a> 181                     (<a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a>) <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>().<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L182" name="L182"></a> 182                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L183" name="L183"></a> 183                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L184" name="L184"></a> 184                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L185" name="L185"></a> 185                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.ownerNode = <strong class="reserved">this</strong>;
<a id="L186" name="L186"></a> 186                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>(<strong class="reserved">true</strong>);
<a id="L187" name="L187"></a> 187             <em class="brace">}</em>
<a id="L188" name="L188"></a> 188             <a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>(<strong class="reserved">false</strong>);
<a id="L189" name="L189"></a> 189         <em class="brace">}</em>
<a id="L190" name="L190"></a> 190     <em class="brace">}</em>
<a id="L191" name="L191"></a> 191 
<div class="comment">
      NON-DOM
      set the ownerDocument of this node and its children</div>
<a id="L196" name="L196"></a> 196     <strong class="reserved">void</strong> <a href="../R/27887.html" title="Multiple referred from 18 places.">setOwnerDocument</a>(<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> doc) <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L199" name="L199"></a> 199         <em class="brace">}</em>
<a id="L200" name="L200"></a> 200         <strong class="reserved">super</strong>.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(doc);
<a id="L201" name="L201"></a> 201         <strong class="reserved">if</strong> (!<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202             <strong class="reserved">for</strong> (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> child = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L203" name="L203"></a> 203                  child != <strong class="reserved">null</strong>; child = child.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204                 child.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(doc);
<a id="L205" name="L205"></a> 205             <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207     <em class="brace">}</em>
<a id="L208" name="L208"></a> 208 
<div class="comment">
      NON-DOM: set the type of this attribute to be ID type.
      @param id</div>
<a id="L214" name="L214"></a> 214     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27528.html" title="Multiple referred from 5 places.">setIdAttribute</a>(<strong class="reserved">boolean</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>)<em class="brace">{</em>
<a id="L215" name="L215"></a> 215         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L217" name="L217"></a> 217         <em class="brace">}</em>
<a id="L218" name="L218"></a> 218         <a href="../D/25676.html" title="Multiple defined in 5 places.">isIdAttribute</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L219" name="L219"></a> 219     <em class="brace">}</em>
<div class="comment">
     /** DOM Level 3: isId*/</div>
<a id="L221" name="L221"></a> 221     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21549.html" title="Multiple referred from 8 places.">isId</a>()<em class="brace">{</em>
<a id="L222" name="L222"></a> 222         <em class="comment">// REVISIT: should an attribute that is not in the tree return</em>
<a id="L223" name="L223"></a> 223         <em class="comment">// isID true?</em>
<a id="L224" name="L224"></a> 224         <strong class="reserved">return</strong> <a href="../D/25676.html" title="Multiple defined in 5 places.">isIdAttribute</a>();
<a id="L225" name="L225"></a> 225     <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<a id="L227" name="L227"></a> 227 
<a id="L228" name="L228"></a> 228     <em class="comment">//</em>
<a id="L229" name="L229"></a> 229     <em class="comment">// Node methods</em>
<a id="L230" name="L230"></a> 230     <em class="comment">//</em>
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/11574.html" title="Multiple referred from 32 places.">cloneNode</a>(<strong class="reserved">boolean</strong> deep) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233 
<a id="L234" name="L234"></a> 234         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L236" name="L236"></a> 236         <em class="brace">}</em>
<a id="L237" name="L237"></a> 237         <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a> = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) <strong class="reserved">super</strong>.<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(deep);
<a id="L238" name="L238"></a> 238 
<a id="L239" name="L239"></a> 239         <em class="comment">// take care of case where there are kids</em>
<a id="L240" name="L240"></a> 240         <strong class="reserved">if</strong> (!<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L241" name="L241"></a> 241 
<a id="L242" name="L242"></a> 242             <em class="comment">// Need to break the association w/ original kids</em>
<a id="L243" name="L243"></a> 243             <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>;
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245             <em class="comment">// Cloning an Attribute always clones its children,</em>
<a id="L246" name="L246"></a> 246             <em class="comment">// since they represent its value, no matter whether this</em>
<a id="L247" name="L247"></a> 247             <em class="comment">// is a deep clone or not</em>
<a id="L248" name="L248"></a> 248             <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>; child != <strong class="reserved">null</strong>;
<a id="L249" name="L249"></a> 249                  child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L250" name="L250"></a> 250                  <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(child.<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(<strong class="reserved">true</strong>));
<a id="L251" name="L251"></a> 251             <em class="brace">}</em>
<a id="L252" name="L252"></a> 252         <em class="brace">}</em>
<a id="L253" name="L253"></a> 253         <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.<a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a>(<strong class="reserved">true</strong>);
<a id="L254" name="L254"></a> 254         <strong class="reserved">return</strong> <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>;
<a id="L255" name="L255"></a> 255     <em class="brace">}</em>
<a id="L256" name="L256"></a> 256 
<div class="comment">
      A short integer indicating what type of node this is. The named
      constants for this value are defined in the org.w3c.dom.Node interface.</div>
<a id="L261" name="L261"></a> 261     <strong class="reserved">public</strong> <strong class="reserved">short</strong> <a href="../R/17989.html" title="Multiple referred from 431 places.">getNodeType</a>() <em class="brace">{</em>
<a id="L262" name="L262"></a> 262         <strong class="reserved">return</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ATTRIBUTE_NODE;
<a id="L263" name="L263"></a> 263     <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<div class="comment">
      Returns the attribute name</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17984.html" title="Multiple referred from 297 places.">getNodeName</a>() <em class="brace">{</em>
<a id="L269" name="L269"></a> 269         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L271" name="L271"></a> 271         <em class="brace">}</em>
<a id="L272" name="L272"></a> 272         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L273" name="L273"></a> 273     <em class="brace">}</em>
<a id="L274" name="L274"></a> 274 
<div class="comment">
      Implicit in the rerouting of getNodeValue to getValue is the
      need to redefine setNodeValue, for symmetry's sake.  Note that
      since we're explicitly providing a value, Specified should be set
      true.... even if that value equals the default.</div>
<a id="L281" name="L281"></a> 281     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27825.html" title="Multiple referred from 20 places.">setNodeValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L282" name="L282"></a> 282         <a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L283" name="L283"></a> 283     <em class="brace">}</em>
<a id="L284" name="L284"></a> 284 
<div class="comment">
      @see org.w3c.dom.TypeInfo#getTypeName()</div>
<a id="L288" name="L288"></a> 288     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19632.html" title="Multiple referred from 34 places.">getTypeName</a>() <em class="brace">{</em>
<a id="L289" name="L289"></a> 289         <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L290" name="L290"></a> 290     <em class="brace">}</em>
<a id="L291" name="L291"></a> 291 
<div class="comment">
      @see org.w3c.dom.TypeInfo#getTypeNamespace()</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getTypeNamespace() <em class="brace">{</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297             <strong class="reserved">return</strong> DTD_URI;
<a id="L298" name="L298"></a> 298         <em class="brace">}</em>
<a id="L299" name="L299"></a> 299         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L300" name="L300"></a> 300     <em class="brace">}</em>
<a id="L301" name="L301"></a> 301 
<div class="comment">
      Method getSchemaTypeInfo.
      @return TypeInfo</div>
<a id="L306" name="L306"></a> 306     <strong class="reserved">public</strong> <a href="../S/143.html#L123" title="Defined at 123 in src/org/w3c/dom/TypeInfo.java.">TypeInfo</a> getSchemaTypeInfo()<em class="brace">{</em>
<a id="L307" name="L307"></a> 307       <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L308" name="L308"></a> 308     <em class="brace">}</em>
<a id="L309" name="L309"></a> 309 
<div class="comment">
      In Attribute objects, NodeValue is considered a synonym for
      Value.
      @see #getValue()</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17992.html" title="Multiple referred from 231 places.">getNodeValue</a>() <em class="brace">{</em>
<a id="L317" name="L317"></a> 317         <strong class="reserved">return</strong> <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L318" name="L318"></a> 318     <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<a id="L320" name="L320"></a> 320     <em class="comment">//</em>
<a id="L321" name="L321"></a> 321     <em class="comment">// Attr methods</em>
<a id="L322" name="L322"></a> 322     <em class="comment">//</em>
<a id="L323" name="L323"></a> 323 
<div class="comment">
      In Attributes, NodeName is considered a synonym for the
      attribute's Name</div>
<a id="L328" name="L328"></a> 328     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L332" name="L332"></a> 332         <em class="brace">}</em>
<a id="L333" name="L333"></a> 333         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335     <em class="brace">}</em> <em class="comment">// getName():String</em>
<a id="L336" name="L336"></a> 336 
<div class="comment">
      The DOM doesn't clearly define what setValue(null) means. I've taken it
      as "remove all children", which from outside should appear
      similar to setting it to the empty string.</div>
<a id="L342" name="L342"></a> 342     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28371.html" title="Multiple referred from 200 places.">setValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newvalue) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343 
<a id="L344" name="L344"></a> 344         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L345" name="L345"></a> 345 
<a id="L346" name="L346"></a> 346         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking &amp;&amp; <a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L348" name="L348"></a> 348             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L349" name="L349"></a> 349         <em class="brace">}</em>
<a id="L350" name="L350"></a> 350 
<a id="L351" name="L351"></a> 351         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> ownerElement = <a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L352" name="L352"></a> 352         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue = "";
<a id="L353" name="L353"></a> 353         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L355" name="L355"></a> 355         <em class="brace">}</em>
<a id="L356" name="L356"></a> 356         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L358" name="L358"></a> 358         <em class="brace">}</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360             <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/20770.html" title="Multiple defined in 2 places.">getMutationEvents</a>()) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361                 <em class="comment">// Can no longer just discard the kids; they may have</em>
<a id="L362" name="L362"></a> 362                 <em class="comment">// event listeners waiting for them to disconnect.</em>
<a id="L363" name="L363"></a> 363                 <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364                     oldvalue = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L365" name="L365"></a> 365                     <em class="comment">// create an actual text node as our child so</em>
<a id="L366" name="L366"></a> 366                     <em class="comment">// that we can use it in the event</em>
<a id="L367" name="L367"></a> 367                     <strong class="reserved">if</strong> (textNode == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368                         textNode = (<a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a>)
<a id="L369" name="L369"></a> 369                             <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L370" name="L370"></a> 370                     <em class="brace">}</em>
<a id="L371" name="L371"></a> 371                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L372" name="L372"></a> 372                         textNode.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L373" name="L373"></a> 373                     <em class="brace">}</em>
<a id="L374" name="L374"></a> 374                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = textNode;
<a id="L375" name="L375"></a> 375                     textNode.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L376" name="L376"></a> 376                     textNode.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = textNode;
<a id="L377" name="L377"></a> 377                     textNode.ownerNode = <strong class="reserved">this</strong>;
<a id="L378" name="L378"></a> 378                     textNode.<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>(<strong class="reserved">true</strong>);
<a id="L379" name="L379"></a> 379                     <a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>(<strong class="reserved">false</strong>);
<a id="L380" name="L380"></a> 380                     <a href="../D/24953.html" title="Multiple defined in 2 places.">internalRemoveChild</a>(textNode, <strong class="reserved">true</strong>);
<a id="L381" name="L381"></a> 381                 <em class="brace">}</em>
<a id="L382" name="L382"></a> 382                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L383" name="L383"></a> 383                     oldvalue = <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L384" name="L384"></a> 384                     <strong class="reserved">while</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385                         <a href="../D/24953.html" title="Multiple defined in 2 places.">internalRemoveChild</a>((<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">true</strong>);
<a id="L386" name="L386"></a> 386                     <em class="brace">}</em>
<a id="L387" name="L387"></a> 387                 <em class="brace">}</em>
<a id="L388" name="L388"></a> 388             <em class="brace">}</em>
<a id="L389" name="L389"></a> 389             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L390" name="L390"></a> 390                 <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391                     oldvalue = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L392" name="L392"></a> 392                 <em class="brace">}</em>
<a id="L393" name="L393"></a> 393                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L394" name="L394"></a> 394                     <em class="comment">// simply discard children if any</em>
<a id="L395" name="L395"></a> 395                     oldvalue = <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L396" name="L396"></a> 396                     <em class="comment">// remove ref from first child to last child</em>
<a id="L397" name="L397"></a> 397                     <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L398" name="L398"></a> 398                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <strong class="reserved">null</strong>;
<a id="L399" name="L399"></a> 399                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">false</strong>);
<a id="L400" name="L400"></a> 400                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.ownerNode = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L401" name="L401"></a> 401                 <em class="brace">}</em>
<a id="L402" name="L402"></a> 402                 <em class="comment">// then remove ref to current value</em>
<a id="L403" name="L403"></a> 403                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>;
<a id="L404" name="L404"></a> 404                 <a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>(<strong class="reserved">false</strong>);
<a id="L405" name="L405"></a> 405             <em class="brace">}</em>
<a id="L406" name="L406"></a> 406             <strong class="reserved">if</strong> (<a href="../D/25676.html" title="Multiple defined in 5 places.">isIdAttribute</a>() &amp;&amp; ownerElement != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407                 <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2041" title="Defined at 2041 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">removeIdentifier</a>(oldvalue);
<a id="L408" name="L408"></a> 408             <em class="brace">}</em>
<a id="L409" name="L409"></a> 409         <em class="brace">}</em>
<a id="L410" name="L410"></a> 410 
<a id="L411" name="L411"></a> 411         <em class="comment">// Create and add the new one, generating only non-aggregate events</em>
<a id="L412" name="L412"></a> 412         <em class="comment">// (There are no listeners on the new Text, but there may be</em>
<a id="L413" name="L413"></a> 413         <em class="comment">// capture/bubble listeners on the Attr.</em>
<a id="L414" name="L414"></a> 414         <em class="comment">// Note that aggregate events are NOT dispatched here,</em>
<a id="L415" name="L415"></a> 415         <em class="comment">// since we need to combine the remove and insert.</em>
<a id="L416" name="L416"></a> 416         <a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a>(<strong class="reserved">true</strong>);
<a id="L417" name="L417"></a> 417         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/20770.html" title="Multiple defined in 2 places.">getMutationEvents</a>()) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418             <em class="comment">// if there are any event handlers create a real node</em>
<a id="L419" name="L419"></a> 419             <a href="../D/24937.html" title="Multiple defined in 2 places.">internalInsertBefore</a>(<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(newvalue),
<a id="L420" name="L420"></a> 420                                  <strong class="reserved">null</strong>, <strong class="reserved">true</strong>);
<a id="L421" name="L421"></a> 421             <a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>(<strong class="reserved">false</strong>);
<a id="L422" name="L422"></a> 422             <em class="comment">// notify document</em>
<a id="L423" name="L423"></a> 423             <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/27747.html" title="Multiple defined in 2 places.">modifiedAttrValue</a>(<strong class="reserved">this</strong>, oldvalue);
<a id="L424" name="L424"></a> 424         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L425" name="L425"></a> 425             <em class="comment">// directly store the string</em>
<a id="L426" name="L426"></a> 426             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = newvalue;
<a id="L427" name="L427"></a> 427             <a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>(<strong class="reserved">true</strong>);
<a id="L428" name="L428"></a> 428             <a href="../D/12315.html" title="Multiple defined in 4 places.">changed</a>();
<a id="L429" name="L429"></a> 429         <em class="brace">}</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">if</strong> (<a href="../D/25676.html" title="Multiple defined in 5 places.">isIdAttribute</a>() &amp;&amp; ownerElement != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/30004.html" title="Multiple defined in 2 places.">putIdentifier</a>(newvalue, ownerElement);
<a id="L432" name="L432"></a> 432         <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<a id="L434" name="L434"></a> 434     <em class="brace">}</em> <em class="comment">// setValue(String)</em>
<a id="L435" name="L435"></a> 435 
<div class="comment">
      The "string value" of an Attribute is its text representation,
      which in turn is a concatenation of the string values of its children.</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19753.html" title="Multiple referred from 961 places.">getValue</a>() <em class="brace">{</em>
<a id="L441" name="L441"></a> 441 
<a id="L442" name="L442"></a> 442         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L447" name="L447"></a> 447         <em class="brace">}</em>
<a id="L448" name="L448"></a> 448         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449             <strong class="reserved">return</strong> "";
<a id="L450" name="L450"></a> 450         <em class="brace">}</em>
<a id="L451" name="L451"></a> 451         <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L452" name="L452"></a> 452             <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L453" name="L453"></a> 453         <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<a id="L455" name="L455"></a> 455         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = ((<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L456" name="L456"></a> 456 
<a id="L457" name="L457"></a> 457         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <strong class="reserved">null</strong>;
<a id="L458" name="L458"></a> 458         <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE)<em class="brace">{</em>
<a id="L459" name="L459"></a> 459                 <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = ((<a href="../S/5430.html#L85" title="Defined at 85 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">EntityReferenceImpl</a>)<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>).<a href="../S/5430.html#L205" title="Defined at 205 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">getEntityRefValue</a>();
<a id="L460" name="L460"></a> 460         <em class="brace">}</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L462" name="L462"></a> 462                 <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> =  <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L463" name="L463"></a> 463         <em class="brace">}</em>
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467         <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> == <strong class="reserved">null</strong> || <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> == <strong class="reserved">null</strong>)  <strong class="reserved">return</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> == <strong class="reserved">null</strong>)?"":<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L468" name="L468"></a> 468 
<a id="L469" name="L469"></a> 469         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L470" name="L470"></a> 470         <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L471" name="L471"></a> 471             <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()  == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE)<em class="brace">{</em>
<a id="L472" name="L472"></a> 472                 <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = ((<a href="../S/5430.html#L85" title="Defined at 85 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">EntityReferenceImpl</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../S/5430.html#L205" title="Defined at 205 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">getEntityRefValue</a>();
<a id="L473" name="L473"></a> 473                 <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> == <strong class="reserved">null</strong>) <strong class="reserved">return</strong> "";
<a id="L474" name="L474"></a> 474                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L475" name="L475"></a> 475             <em class="brace">}</em>
<a id="L476" name="L476"></a> 476             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L477" name="L477"></a> 477                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L478" name="L478"></a> 478             <em class="brace">}</em>
<a id="L479" name="L479"></a> 479             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L480" name="L480"></a> 480         <em class="brace">}</em>
<a id="L481" name="L481"></a> 481         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483     <em class="brace">}</em> <em class="comment">// getValue():String</em>
<a id="L484" name="L484"></a> 484 
<a id="L485" name="L485"></a> 485 
<div class="comment">
      The "specified" flag is true if and only if this attribute's
      value was explicitly specified in the original document. Note that
      the implementation, not the user, is in charge of this
      property. If the user asserts an Attribute value (even if it ends
      up having the same value as the default), it is considered a
      specified attribute. If you really want to revert to the default,
      delete the attribute from the Element, and the Implementation will
      re-assert the default (if any) in its place, with the appropriate
      specified=false setting.</div>
<a id="L497" name="L497"></a> 497     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/19128.html" title="Multiple referred from 14 places.">getSpecified</a>() <em class="brace">{</em>
<a id="L498" name="L498"></a> 498 
<a id="L499" name="L499"></a> 499         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L501" name="L501"></a> 501         <em class="brace">}</em>
<a id="L502" name="L502"></a> 502         <strong class="reserved">return</strong> <a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a>();
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504     <em class="brace">}</em> <em class="comment">// getSpecified():boolean</em>
<a id="L505" name="L505"></a> 505 
<a id="L506" name="L506"></a> 506     <em class="comment">//</em>
<a id="L507" name="L507"></a> 507     <em class="comment">// Attr2 methods</em>
<a id="L508" name="L508"></a> 508     <em class="comment">//</em>
<a id="L509" name="L509"></a> 509 
<div class="comment">
      Returns the element node that this attribute is associated with,
      or null if the attribute has not been added to an element.
      @see #getOwnerElement
      @deprecated Previous working draft of DOM Level 2. New method
                  is <tt>getOwnerElement()</tt>.</div>
<a id="L519" name="L519"></a> 519     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>() <em class="brace">{</em>
<a id="L520" name="L520"></a> 520         <em class="comment">// if we have an owner, ownerNode is our ownerElement, otherwise it's</em>
<a id="L521" name="L521"></a> 521         <em class="comment">// our ownerDocument and we don't have an ownerElement</em>
<a id="L522" name="L522"></a> 522         <strong class="reserved">return</strong> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) (<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>() ? ownerNode : <strong class="reserved">null</strong>);
<a id="L523" name="L523"></a> 523     <em class="brace">}</em>
<a id="L524" name="L524"></a> 524 
<div class="comment">
      Returns the element node that this attribute is associated with,
      or null if the attribute has not been added to an element.
      @since WD-DOM-Level-2-19990719</div>
<a id="L531" name="L531"></a> 531     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/18202.html" title="Multiple referred from 43 places.">getOwnerElement</a>() <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <em class="comment">// if we have an owner, ownerNode is our ownerElement, otherwise it's</em>
<a id="L533" name="L533"></a> 533         <em class="comment">// our ownerDocument and we don't have an ownerElement</em>
<a id="L534" name="L534"></a> 534         <strong class="reserved">return</strong> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) (<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>() ? ownerNode : <strong class="reserved">null</strong>);
<a id="L535" name="L535"></a> 535     <em class="brace">}</em>
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23781.html" title="Multiple referred from 143 places.">normalize</a>() <em class="brace">{</em>
<a id="L538" name="L538"></a> 538 
<a id="L539" name="L539"></a> 539         <em class="comment">// No need to normalize if already normalized or</em>
<a id="L540" name="L540"></a> 540         <em class="comment">// if value is kept as a String.</em>
<a id="L541" name="L541"></a> 541         <strong class="reserved">if</strong> (<a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>() || <a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>())
<a id="L542" name="L542"></a> 542             <strong class="reserved">return</strong>;
<a id="L543" name="L543"></a> 543 
<a id="L544" name="L544"></a> 544         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> kid, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L545" name="L545"></a> 545         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>)<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L546" name="L546"></a> 546         <strong class="reserved">for</strong> (kid = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>; kid != <strong class="reserved">null</strong>; kid = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = kid.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L548" name="L548"></a> 548 
<a id="L549" name="L549"></a> 549             <em class="comment">// If kid is a text node, we need to check for one of two</em>
<a id="L550" name="L550"></a> 550             <em class="comment">// conditions:</em>
<a id="L551" name="L551"></a> 551             <em class="comment">//   1) There is an adjacent text node</em>
<a id="L552" name="L552"></a> 552             <em class="comment">//   2) There is no adjacent text node, but kid is</em>
<a id="L553" name="L553"></a> 553             <em class="comment">//      an empty text node.</em>
<a id="L554" name="L554"></a> 554             <strong class="reserved">if</strong> ( kid.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE )
<a id="L555" name="L555"></a> 555             <em class="brace">{</em>
<a id="L556" name="L556"></a> 556                 <em class="comment">// If an adjacent text node, merge it with kid</em>
<a id="L557" name="L557"></a> 557                 <strong class="reserved">if</strong> ( <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>!=<strong class="reserved">null</strong> &amp;&amp; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE )
<a id="L558" name="L558"></a> 558                 <em class="brace">{</em>
<a id="L559" name="L559"></a> 559                     ((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)kid).<a href="../D/11372.html" title="Multiple defined in 5 places.">appendData</a>(<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L560" name="L560"></a> 560                     <a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>( <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> );
<a id="L561" name="L561"></a> 561                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = kid; <em class="comment">// Don't advance; there might be another.</em>
<a id="L562" name="L562"></a> 562                 <em class="brace">}</em>
<a id="L563" name="L563"></a> 563                 <strong class="reserved">else</strong>
<a id="L564" name="L564"></a> 564                 <em class="brace">{</em>
<a id="L565" name="L565"></a> 565                     <em class="comment">// If kid is empty, remove it</em>
<a id="L566" name="L566"></a> 566                     <strong class="reserved">if</strong> ( kid.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>() == <strong class="reserved">null</strong> || kid.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0 ) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567                         <a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>( kid );
<a id="L568" name="L568"></a> 568                     <em class="brace">}</em>
<a id="L569" name="L569"></a> 569                 <em class="brace">}</em>
<a id="L570" name="L570"></a> 570             <em class="brace">}</em>
<a id="L571" name="L571"></a> 571         <em class="brace">}</em>
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573         <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">true</strong>);
<a id="L574" name="L574"></a> 574     <em class="brace">}</em> <em class="comment">// normalize()</em>
<a id="L575" name="L575"></a> 575 
<a id="L576" name="L576"></a> 576     <em class="comment">//</em>
<a id="L577" name="L577"></a> 577     <em class="comment">// Public methods</em>
<a id="L578" name="L578"></a> 578     <em class="comment">//</em>
<a id="L579" name="L579"></a> 579 
<div class="comment">
     /** NON-DOM, for use by parser */</div>
<a id="L581" name="L581"></a> 581     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28212.html" title="Multiple referred from 22 places.">setSpecified</a>(<strong class="reserved">boolean</strong> <a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582 
<a id="L583" name="L583"></a> 583         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L585" name="L585"></a> 585         <em class="brace">}</em>
<a id="L586" name="L586"></a> 586         <a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a>(<a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>);
<a id="L587" name="L587"></a> 587 
<a id="L588" name="L588"></a> 588     <em class="brace">}</em> <em class="comment">// setSpecified(boolean)</em>
<a id="L589" name="L589"></a> 589 
<div class="comment">
          NON-DOM: used by the parser
          @param type</div>
<a id="L594" name="L594"></a> 594     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28332.html" title="Multiple referred from 31 places.">setType</a> (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)<em class="brace">{</em>
<a id="L595" name="L595"></a> 595         <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L596" name="L596"></a> 596     <em class="brace">}</em>
<a id="L597" name="L597"></a> 597 
<a id="L598" name="L598"></a> 598     <em class="comment">//</em>
<a id="L599" name="L599"></a> 599     <em class="comment">// Object methods</em>
<a id="L600" name="L600"></a> 600     <em class="comment">//</em>
<a id="L601" name="L601"></a> 601 
<div class="comment">
     /** NON-DOM method for debugging convenience */</div>
<a id="L603" name="L603"></a> 603     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L604" name="L604"></a> 604         <strong class="reserved">return</strong> <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "=" + "\"" + <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>() + "\"";
<a id="L605" name="L605"></a> 605     <em class="brace">}</em>
<a id="L606" name="L606"></a> 606 
<div class="comment">
      Test whether this node has any children. Convenience shorthand
      for (Node.getFirstChild()!=null)</div>
<a id="L611" name="L611"></a> 611     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20185.html" title="Multiple referred from 24 places.">hasChildNodes</a>() <em class="brace">{</em>
<a id="L612" name="L612"></a> 612         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L613" name="L613"></a> 613             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L614" name="L614"></a> 614         <em class="brace">}</em>
<a id="L615" name="L615"></a> 615         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>;
<a id="L616" name="L616"></a> 616     <em class="brace">}</em>
<a id="L617" name="L617"></a> 617 
<div class="comment">
      Obtain a NodeList enumerating all children of this node. If there
      are none, an (initially) empty NodeList is returned.
      <p>
      NodeLists are "live"; as children are added/removed the NodeList
      will immediately reflect those changes. Also, the NodeList refers
      to the actual nodes, so changes to those nodes made via the DOM tree
      will be reflected in the NodeList and vice versa.
      </p><p>
      In this implementation, Nodes implement the NodeList interface and
      provide their own getChildNodes() support. Other DOMs may solve this
      differently.</p></div>
<a id="L631" name="L631"></a> 631     <strong class="reserved">public</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../R/15546.html" title="Multiple referred from 51 places.">getChildNodes</a>() <em class="brace">{</em>
<a id="L632" name="L632"></a> 632         <em class="comment">// JKESS: KNOWN ISSUE HERE</em>
<a id="L633" name="L633"></a> 633 
<a id="L634" name="L634"></a> 634         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L635" name="L635"></a> 635             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L636" name="L636"></a> 636         <em class="brace">}</em>
<a id="L637" name="L637"></a> 637         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L638" name="L638"></a> 638 
<a id="L639" name="L639"></a> 639     <em class="brace">}</em> <em class="comment">// getChildNodes():NodeList</em>
<a id="L640" name="L640"></a> 640 
<div class="comment">
     /** The first child of this Node, or null if none. */</div>
<a id="L642" name="L642"></a> 642     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/16606.html" title="Multiple referred from 267 places.">getFirstChild</a>() <em class="brace">{</em>
<a id="L643" name="L643"></a> 643 
<a id="L644" name="L644"></a> 644         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L646" name="L646"></a> 646         <em class="brace">}</em>
<a id="L647" name="L647"></a> 647         <a href="../S/5449.html#L177" title="Defined at 177 in src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java.">makeChildNode</a>();
<a id="L648" name="L648"></a> 648         <strong class="reserved">return</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L649" name="L649"></a> 649 
<a id="L650" name="L650"></a> 650     <em class="brace">}</em>   <em class="comment">// getFirstChild():Node</em>
<a id="L651" name="L651"></a> 651 
<div class="comment">
     /** The last child of this Node, or null if none. */</div>
<a id="L653" name="L653"></a> 653     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/17271.html" title="Multiple referred from 52 places.">getLastChild</a>() <em class="brace">{</em>
<a id="L654" name="L654"></a> 654 
<a id="L655" name="L655"></a> 655         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L657" name="L657"></a> 657         <em class="brace">}</em>
<a id="L658" name="L658"></a> 658         <strong class="reserved">return</strong> <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>();
<a id="L659" name="L659"></a> 659 
<a id="L660" name="L660"></a> 660     <em class="brace">}</em> <em class="comment">// getLastChild():Node</em>
<a id="L661" name="L661"></a> 661 
<a id="L662" name="L662"></a> 662     <strong class="reserved">final</strong> <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../R/22413.html" title="Multiple referred from 55 places.">lastChild</a>() <em class="brace">{</em>
<a id="L663" name="L663"></a> 663         <em class="comment">// last child is stored as the previous sibling of first child</em>
<a id="L664" name="L664"></a> 664         <a href="../S/5449.html#L177" title="Defined at 177 in src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java.">makeChildNode</a>();
<a id="L665" name="L665"></a> 665         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong> ? ((<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>).<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> : <strong class="reserved">null</strong>;
<a id="L666" name="L666"></a> 666     <em class="brace">}</em>
<a id="L667" name="L667"></a> 667 
<a id="L668" name="L668"></a> 668     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/22413.html" title="Multiple referred from 55 places.">lastChild</a>(<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L669" name="L669"></a> 669         <em class="comment">// store lastChild as previous sibling of first child</em>
<a id="L670" name="L670"></a> 670         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L671" name="L671"></a> 671             ((<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>).<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L672" name="L672"></a> 672         <em class="brace">}</em>
<a id="L673" name="L673"></a> 673     <em class="brace">}</em>
<a id="L674" name="L674"></a> 674 
<div class="comment">
      Move one or more node(s) to our list of children. Note that this
      implicitly removes them from their previous parent.
      @param newChild The Node to be moved to our subtree. As a
      convenience feature, inserting a DocumentNode will instead insert
      all its children.
      @param refChild Current child which newChild should be placed
      immediately before. If refChild is null, the insertion occurs
      after all existing Nodes, like appendChild().
      @return newChild, in its new state (relocated, or emptied in the case of
      DocumentNode.)
      @throws DOMException(HIERARCHY_REQUEST_ERR) if newChild is of a
      type that shouldn't be a child of this node, or if newChild is an
      ancestor of this node.
      @throws DOMException(WRONG_DOCUMENT_ERR) if newChild has a
      different owner document than we do.
      @throws DOMException(NOT_FOUND_ERR) if refChild is not a child of
      this node.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if this node is
      read-only.</div>
<a id="L703" name="L703"></a> 703     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20761.html" title="Multiple referred from 37 places.">insertBefore</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> refChild)
<a id="L704" name="L704"></a> 704         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L705" name="L705"></a> 705         <em class="comment">// Tail-call; optimizer should be able to do good things with.</em>
<a id="L706" name="L706"></a> 706         <strong class="reserved">return</strong> <a href="../D/24937.html" title="Multiple defined in 2 places.">internalInsertBefore</a>(newChild, refChild, <strong class="reserved">false</strong>);
<a id="L707" name="L707"></a> 707     <em class="brace">}</em> <em class="comment">// insertBefore(Node,Node):Node</em>
<a id="L708" name="L708"></a> 708 
<div class="comment">
 NON-DOM INTERNAL: Within DOM actions,we sometimes need to be able
      to control which mutation events are spawned. This version of the
      insertBefore operation allows us to do so. It is not intended
      for use by application programs.</div>
<a id="L714" name="L714"></a> 714     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20946.html" title="Multiple referred from 5 places.">internalInsertBefore</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> refChild, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>)
<a id="L715" name="L715"></a> 715         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L716" name="L716"></a> 716 
<a id="L717" name="L717"></a> 717         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L718" name="L718"></a> 718         <strong class="reserved">boolean</strong> errorChecking = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking;
<a id="L719" name="L719"></a> 719 
<a id="L720" name="L720"></a> 720         <strong class="reserved">if</strong> (newChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_FRAGMENT_NODE) <em class="brace">{</em>
<a id="L721" name="L721"></a> 721             <em class="comment">// SLOW BUT SAFE: We could insert the whole subtree without</em>
<a id="L722" name="L722"></a> 722             <em class="comment">// juggling so many next/previous pointers. (Wipe out the</em>
<a id="L723" name="L723"></a> 723             <em class="comment">// parent's child-list, patch the parent pointers, set the</em>
<a id="L724" name="L724"></a> 724             <em class="comment">// ends of the list.) But we know some subclasses have special-</em>
<a id="L725" name="L725"></a> 725             <em class="comment">// case behavior they add to insertBefore(), so we don't risk it.</em>
<a id="L726" name="L726"></a> 726             <em class="comment">// This approch also takes fewer bytecodes.</em>
<a id="L727" name="L727"></a> 727 
<a id="L728" name="L728"></a> 728             <em class="comment">// NOTE: If one of the children is not a legal child of this</em>
<a id="L729" name="L729"></a> 729             <em class="comment">// node, throw HIERARCHY_REQUEST_ERR before _any_ of the children</em>
<a id="L730" name="L730"></a> 730             <em class="comment">// have been transferred. (Alternative behaviors would be to</em>
<a id="L731" name="L731"></a> 731             <em class="comment">// reparent up to the first failure point or reparent all those</em>
<a id="L732" name="L732"></a> 732             <em class="comment">// which are acceptable to the target node, neither of which is</em>
<a id="L733" name="L733"></a> 733             <em class="comment">// as robust. PR-DOM-0818 isn't entirely clear on which it</em>
<a id="L734" name="L734"></a> 734             <em class="comment">// recommends?????</em>
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736             <em class="comment">// No need to check kids for right-document; if they weren't,</em>
<a id="L737" name="L737"></a> 737             <em class="comment">// they wouldn't be kids of that DocFrag.</em>
<a id="L738" name="L738"></a> 738             <strong class="reserved">if</strong> (errorChecking) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739                 <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> kid = newChild.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(); <em class="comment">// Prescan</em>
<a id="L740" name="L740"></a> 740                      kid != <strong class="reserved">null</strong>; kid = kid.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L741" name="L741"></a> 741 
<a id="L742" name="L742"></a> 742                     <strong class="reserved">if</strong> (!<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2253" title="Defined at 2253 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isKidOK</a>(<strong class="reserved">this</strong>, kid)) <em class="brace">{</em>
<a id="L743" name="L743"></a> 743                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>);
<a id="L744" name="L744"></a> 744                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L745" name="L745"></a> 745                     <em class="brace">}</em>
<a id="L746" name="L746"></a> 746                 <em class="brace">}</em>
<a id="L747" name="L747"></a> 747             <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<a id="L749" name="L749"></a> 749             <strong class="reserved">while</strong> (newChild.<a href="../D/24077.html" title="Multiple defined in 16 places.">hasChildNodes</a>()) <em class="brace">{</em>
<a id="L750" name="L750"></a> 750                 <a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(newChild.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(), refChild);
<a id="L751" name="L751"></a> 751             <em class="brace">}</em>
<a id="L752" name="L752"></a> 752             <strong class="reserved">return</strong> newChild;
<a id="L753" name="L753"></a> 753         <em class="brace">}</em>
<a id="L754" name="L754"></a> 754 
<a id="L755" name="L755"></a> 755         <strong class="reserved">if</strong> (newChild == refChild) <em class="brace">{</em>
<a id="L756" name="L756"></a> 756             <em class="comment">// stupid case that must be handled as a no-op triggering events...</em>
<a id="L757" name="L757"></a> 757             refChild = refChild.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L758" name="L758"></a> 758             <a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(newChild);
<a id="L759" name="L759"></a> 759             <a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(newChild, refChild);
<a id="L760" name="L760"></a> 760             <strong class="reserved">return</strong> newChild;
<a id="L761" name="L761"></a> 761         <em class="brace">}</em>
<a id="L762" name="L762"></a> 762 
<a id="L763" name="L763"></a> 763         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L764" name="L764"></a> 764             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L765" name="L765"></a> 765         <em class="brace">}</em>
<a id="L766" name="L766"></a> 766 
<a id="L767" name="L767"></a> 767         <strong class="reserved">if</strong> (errorChecking) <em class="brace">{</em>
<a id="L768" name="L768"></a> 768             <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L769" name="L769"></a> 769                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L770" name="L770"></a> 770                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L771" name="L771"></a> 771             <em class="brace">}</em>
<a id="L772" name="L772"></a> 772             <strong class="reserved">if</strong> (newChild.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>() != <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>) <em class="brace">{</em>
<a id="L773" name="L773"></a> 773                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "WRONG_DOCUMENT_ERR", <strong class="reserved">null</strong>);
<a id="L774" name="L774"></a> 774                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.WRONG_DOCUMENT_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L775" name="L775"></a> 775             <em class="brace">}</em>
<a id="L776" name="L776"></a> 776             <strong class="reserved">if</strong> (!<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2253" title="Defined at 2253 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isKidOK</a>(<strong class="reserved">this</strong>, newChild)) <em class="brace">{</em>
<a id="L777" name="L777"></a> 777                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>);
<a id="L778" name="L778"></a> 778                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L779" name="L779"></a> 779             <em class="brace">}</em>
<a id="L780" name="L780"></a> 780             <em class="comment">// refChild must be a child of this node (or null)</em>
<a id="L781" name="L781"></a> 781             <strong class="reserved">if</strong> (refChild != <strong class="reserved">null</strong> &amp;&amp; refChild.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>() != <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L782" name="L782"></a> 782                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_FOUND_ERR", <strong class="reserved">null</strong>);
<a id="L783" name="L783"></a> 783                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_FOUND_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L784" name="L784"></a> 784             <em class="brace">}</em>
<a id="L785" name="L785"></a> 785 
<a id="L786" name="L786"></a> 786             <em class="comment">// Prevent cycles in the tree</em>
<a id="L787" name="L787"></a> 787             <em class="comment">// newChild cannot be ancestor of this Node,</em>
<a id="L788" name="L788"></a> 788             <em class="comment">// and actually cannot be this</em>
<a id="L789" name="L789"></a> 789             <strong class="reserved">boolean</strong> treeSafe = <strong class="reserved">true</strong>;
<a id="L790" name="L790"></a> 790             <strong class="reserved">for</strong> (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">this</strong>; treeSafe &amp;&amp; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>())
<a id="L791" name="L791"></a> 791             <em class="brace">{</em>
<a id="L792" name="L792"></a> 792                 treeSafe = newChild != <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L793" name="L793"></a> 793             <em class="brace">}</em>
<a id="L794" name="L794"></a> 794             <strong class="reserved">if</strong> (!treeSafe) <em class="brace">{</em>
<a id="L795" name="L795"></a> 795                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>);
<a id="L796" name="L796"></a> 796                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L797" name="L797"></a> 797             <em class="brace">}</em>
<a id="L798" name="L798"></a> 798         <em class="brace">}</em>
<a id="L799" name="L799"></a> 799 
<a id="L800" name="L800"></a> 800         <a href="../S/5449.html#L177" title="Defined at 177 in src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java.">makeChildNode</a>(); <em class="comment">// make sure we have a node and not a string</em>
<a id="L801" name="L801"></a> 801 
<a id="L802" name="L802"></a> 802         <em class="comment">// notify document</em>
<a id="L803" name="L803"></a> 803         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/24811.html" title="Multiple defined in 2 places.">insertingNode</a>(<strong class="reserved">this</strong>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L804" name="L804"></a> 804 
<a id="L805" name="L805"></a> 805         <em class="comment">// Convert to internal type, to avoid repeated casting</em>
<a id="L806" name="L806"></a> 806         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> newInternal = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>)newChild;
<a id="L807" name="L807"></a> 807 
<a id="L808" name="L808"></a> 808         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldparent = newInternal.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>();
<a id="L809" name="L809"></a> 809         <strong class="reserved">if</strong> (oldparent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L810" name="L810"></a> 810             oldparent.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(newInternal);
<a id="L811" name="L811"></a> 811         <em class="brace">}</em>
<a id="L812" name="L812"></a> 812 
<a id="L813" name="L813"></a> 813         <em class="comment">// Convert to internal type, to avoid repeated casting</em>
<a id="L814" name="L814"></a> 814         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> refInternal = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) refChild;
<a id="L815" name="L815"></a> 815 
<a id="L816" name="L816"></a> 816         <em class="comment">// Attach up</em>
<a id="L817" name="L817"></a> 817         newInternal.ownerNode = <strong class="reserved">this</strong>;
<a id="L818" name="L818"></a> 818         newInternal.<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>(<strong class="reserved">true</strong>);
<a id="L819" name="L819"></a> 819 
<a id="L820" name="L820"></a> 820         <em class="comment">// Attach before and after</em>
<a id="L821" name="L821"></a> 821         <em class="comment">// Note: firstChild.previousSibling == lastChild!!</em>
<a id="L822" name="L822"></a> 822         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L823" name="L823"></a> 823         <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L824" name="L824"></a> 824             <em class="comment">// this our first and only child</em>
<a id="L825" name="L825"></a> 825             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = newInternal; <em class="comment">// firstchild = newInternal;</em>
<a id="L826" name="L826"></a> 826             newInternal.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L827" name="L827"></a> 827             newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L828" name="L828"></a> 828         <em class="brace">}</em>
<a id="L829" name="L829"></a> 829         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L830" name="L830"></a> 830             <strong class="reserved">if</strong> (refInternal == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831                 <em class="comment">// this is an append</em>
<a id="L832" name="L832"></a> 832                 <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a> = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L833" name="L833"></a> 833                 <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = newInternal;
<a id="L834" name="L834"></a> 834                 newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>;
<a id="L835" name="L835"></a> 835                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L836" name="L836"></a> 836             <em class="brace">}</em>
<a id="L837" name="L837"></a> 837             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L838" name="L838"></a> 838                 <em class="comment">// this is an insert</em>
<a id="L839" name="L839"></a> 839                 <strong class="reserved">if</strong> (refChild == <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>) <em class="brace">{</em>
<a id="L840" name="L840"></a> 840                     <em class="comment">// at the head of the list</em>
<a id="L841" name="L841"></a> 841                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">false</strong>);
<a id="L842" name="L842"></a> 842                     newInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L843" name="L843"></a> 843                     newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L844" name="L844"></a> 844                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L845" name="L845"></a> 845                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = newInternal; <em class="comment">// firstChild = newInternal;</em>
<a id="L846" name="L846"></a> 846                     newInternal.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L847" name="L847"></a> 847                 <em class="brace">}</em>
<a id="L848" name="L848"></a> 848                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L849" name="L849"></a> 849                     <em class="comment">// somewhere in the middle</em>
<a id="L850" name="L850"></a> 850                     <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> prev = refInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L851" name="L851"></a> 851                     newInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = refInternal;
<a id="L852" name="L852"></a> 852                     prev.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = newInternal;
<a id="L853" name="L853"></a> 853                     refInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L854" name="L854"></a> 854                     newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = prev;
<a id="L855" name="L855"></a> 855                 <em class="brace">}</em>
<a id="L856" name="L856"></a> 856             <em class="brace">}</em>
<a id="L857" name="L857"></a> 857         <em class="brace">}</em>
<a id="L858" name="L858"></a> 858 
<a id="L859" name="L859"></a> 859         <a href="../D/12315.html" title="Multiple defined in 4 places.">changed</a>();
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861         <em class="comment">// notify document</em>
<a id="L862" name="L862"></a> 862         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/24808.html" title="Multiple defined in 2 places.">insertedNode</a>(<strong class="reserved">this</strong>, newInternal, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L863" name="L863"></a> 863 
<a id="L864" name="L864"></a> 864         <a href="../D/12560.html" title="Multiple defined in 2 places.">checkNormalizationAfterInsert</a>(newInternal);
<a id="L865" name="L865"></a> 865 
<a id="L866" name="L866"></a> 866         <strong class="reserved">return</strong> newChild;
<a id="L867" name="L867"></a> 867 
<a id="L868" name="L868"></a> 868     <em class="brace">}</em> <em class="comment">// internalInsertBefore(Node,Node,int):Node</em>
<a id="L869" name="L869"></a> 869 
<div class="comment">
      Remove a child from this Node. The removed child's subtree
      remains intact so it may be re-inserted elsewhere.
      @return oldChild, in its new state (removed).
      @throws DOMException(NOT_FOUND_ERR) if oldChild is not a child of
      this node.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if this node is
      read-only.</div>
<a id="L882" name="L882"></a> 882     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/25920.html" title="Multiple referred from 47 places.">removeChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild)
<a id="L883" name="L883"></a> 883         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L884" name="L884"></a> 884         <em class="comment">// Tail-call, should be optimizable</em>
<a id="L885" name="L885"></a> 885         <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886             <em class="comment">// we don't have any child per say so it can't be one of them!</em>
<a id="L887" name="L887"></a> 887             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_FOUND_ERR", <strong class="reserved">null</strong>);
<a id="L888" name="L888"></a> 888             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_FOUND_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L889" name="L889"></a> 889         <em class="brace">}</em>
<a id="L890" name="L890"></a> 890         <strong class="reserved">return</strong> <a href="../D/24953.html" title="Multiple defined in 2 places.">internalRemoveChild</a>(oldChild, <strong class="reserved">false</strong>);
<a id="L891" name="L891"></a> 891     <em class="brace">}</em> <em class="comment">// removeChild(Node) :Node</em>
<a id="L892" name="L892"></a> 892 
<div class="comment">
 NON-DOM INTERNAL: Within DOM actions,we sometimes need to be able
      to control which mutation events are spawned. This version of the
      removeChild operation allows us to do so. It is not intended
      for use by application programs.</div>
<a id="L898" name="L898"></a> 898     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20960.html" title="Multiple referred from 6 places.">internalRemoveChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>)
<a id="L899" name="L899"></a> 899         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L900" name="L900"></a> 900 
<a id="L901" name="L901"></a> 901         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L902" name="L902"></a> 902         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking) <em class="brace">{</em>
<a id="L903" name="L903"></a> 903             <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L904" name="L904"></a> 904                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L905" name="L905"></a> 905                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L906" name="L906"></a> 906             <em class="brace">}</em>
<a id="L907" name="L907"></a> 907             <strong class="reserved">if</strong> (oldChild != <strong class="reserved">null</strong> &amp;&amp; oldChild.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>() != <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L908" name="L908"></a> 908                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_FOUND_ERR", <strong class="reserved">null</strong>);
<a id="L909" name="L909"></a> 909                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_FOUND_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L910" name="L910"></a> 910             <em class="brace">}</em>
<a id="L911" name="L911"></a> 911         <em class="brace">}</em>
<a id="L912" name="L912"></a> 912 
<a id="L913" name="L913"></a> 913         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> oldInternal = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) oldChild;
<a id="L914" name="L914"></a> 914 
<a id="L915" name="L915"></a> 915         <em class="comment">// notify document</em>
<a id="L916" name="L916"></a> 916         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31001.html" title="Multiple defined in 2 places.">removingNode</a>(<strong class="reserved">this</strong>, oldInternal, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L917" name="L917"></a> 917 
<a id="L918" name="L918"></a> 918         <em class="comment">// Patch linked list around oldChild</em>
<a id="L919" name="L919"></a> 919         <em class="comment">// Note: lastChild == firstChild.previousSibling</em>
<a id="L920" name="L920"></a> 920         <strong class="reserved">if</strong> (oldInternal == <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em> <em class="comment">// oldInternal == firstChild</em>
<a id="L921" name="L921"></a> 921             <em class="comment">// removing first child</em>
<a id="L922" name="L922"></a> 922             oldInternal.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">false</strong>);
<a id="L923" name="L923"></a> 923             <em class="comment">// next line is: firstChild = oldInternal.nextSibling</em>
<a id="L924" name="L924"></a> 924             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = oldInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L925" name="L925"></a> 925             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L926" name="L926"></a> 926             <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L927" name="L927"></a> 927                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L928" name="L928"></a> 928                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L929" name="L929"></a> 929             <em class="brace">}</em>
<a id="L930" name="L930"></a> 930         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L931" name="L931"></a> 931             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> prev = oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L932" name="L932"></a> 932             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = oldInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L933" name="L933"></a> 933             prev.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L934" name="L934"></a> 934             <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L935" name="L935"></a> 935                 <em class="comment">// removing last child</em>
<a id="L936" name="L936"></a> 936                 <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L937" name="L937"></a> 937                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = prev;
<a id="L938" name="L938"></a> 938             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L939" name="L939"></a> 939                 <em class="comment">// removing some other child in the middle</em>
<a id="L940" name="L940"></a> 940                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = prev;
<a id="L941" name="L941"></a> 941             <em class="brace">}</em>
<a id="L942" name="L942"></a> 942         <em class="brace">}</em>
<a id="L943" name="L943"></a> 943 
<a id="L944" name="L944"></a> 944         <em class="comment">// Save previous sibling for normalization checking.</em>
<a id="L945" name="L945"></a> 945         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> oldPreviousSibling = oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>();
<a id="L946" name="L946"></a> 946 
<a id="L947" name="L947"></a> 947         <em class="comment">// Remove oldInternal's references to tree</em>
<a id="L948" name="L948"></a> 948         oldInternal.ownerNode       = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L949" name="L949"></a> 949         oldInternal.<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>(<strong class="reserved">false</strong>);
<a id="L950" name="L950"></a> 950         oldInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>     = <strong class="reserved">null</strong>;
<a id="L951" name="L951"></a> 951         oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <strong class="reserved">null</strong>;
<a id="L952" name="L952"></a> 952 
<a id="L953" name="L953"></a> 953         <a href="../D/12315.html" title="Multiple defined in 4 places.">changed</a>();
<a id="L954" name="L954"></a> 954 
<a id="L955" name="L955"></a> 955         <em class="comment">// notify document</em>
<a id="L956" name="L956"></a> 956         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31000.html" title="Multiple defined in 2 places.">removedNode</a>(<strong class="reserved">this</strong>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L957" name="L957"></a> 957 
<a id="L958" name="L958"></a> 958         <a href="../D/12561.html" title="Multiple defined in 2 places.">checkNormalizationAfterRemove</a>(oldPreviousSibling);
<a id="L959" name="L959"></a> 959 
<a id="L960" name="L960"></a> 960         <strong class="reserved">return</strong> oldInternal;
<a id="L961" name="L961"></a> 961 
<a id="L962" name="L962"></a> 962     <em class="brace">}</em> <em class="comment">// internalRemoveChild(Node,int):Node</em>
<a id="L963" name="L963"></a> 963 
<div class="comment">
      Make newChild occupy the location that oldChild used to
      have. Note that newChild will first be removed from its previous
      parent, if any. Equivalent to inserting newChild before oldChild,
      then removing oldChild.
      @return oldChild, in its new state (removed).
      @throws DOMException(HIERARCHY_REQUEST_ERR) if newChild is of a
      type that shouldn't be a child of this node, or if newChild is
      one of our ancestors.
      @throws DOMException(WRONG_DOCUMENT_ERR) if newChild has a
      different owner document than we do.
      @throws DOMException(NOT_FOUND_ERR) if oldChild is not a child of
      this node.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if this node is
      read-only.</div>
<a id="L985" name="L985"></a> 985     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/26144.html" title="Multiple referred from 5 places.">replaceChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild)
<a id="L986" name="L986"></a> 986         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L987" name="L987"></a> 987 
<a id="L988" name="L988"></a> 988         <a href="../S/5449.html#L177" title="Defined at 177 in src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java.">makeChildNode</a>();
<a id="L989" name="L989"></a> 989 
<a id="L990" name="L990"></a> 990         <em class="comment">// If Mutation Events are being generated, this operation might</em>
<a id="L991" name="L991"></a> 991         <em class="comment">// throw aggregate events twice when modifying an Attr -- once</em>
<a id="L992" name="L992"></a> 992         <em class="comment">// on insertion and once on removal. DOM Level 2 does not specify</em>
<a id="L993" name="L993"></a> 993         <em class="comment">// this as either desirable or undesirable, but hints that</em>
<a id="L994" name="L994"></a> 994         <em class="comment">// aggregations should be issued only once per user request.</em>
<a id="L995" name="L995"></a> 995 
<a id="L996" name="L996"></a> 996         <em class="comment">// notify document</em>
<a id="L997" name="L997"></a> 997         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L998" name="L998"></a> 998         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31081.html" title="Multiple defined in 2 places.">replacingNode</a>(<strong class="reserved">this</strong>);
<a id="L999" name="L999"></a> 999 
<a id="L1000" name="L1000"></a>1000         <a href="../D/24937.html" title="Multiple defined in 2 places.">internalInsertBefore</a>(newChild, oldChild, <strong class="reserved">true</strong>);
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">if</strong> (newChild != oldChild) <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002             <a href="../D/24953.html" title="Multiple defined in 2 places.">internalRemoveChild</a>(oldChild, <strong class="reserved">true</strong>);
<a id="L1003" name="L1003"></a>1003         <em class="brace">}</em>
<a id="L1004" name="L1004"></a>1004 
<a id="L1005" name="L1005"></a>1005         <em class="comment">// notify document</em>
<a id="L1006" name="L1006"></a>1006         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31075.html" title="Multiple defined in 2 places.">replacedNode</a>(<strong class="reserved">this</strong>);
<a id="L1007" name="L1007"></a>1007 
<a id="L1008" name="L1008"></a>1008         <strong class="reserved">return</strong> oldChild;
<a id="L1009" name="L1009"></a>1009     <em class="brace">}</em>
<a id="L1010" name="L1010"></a>1010 
<a id="L1011" name="L1011"></a>1011     <em class="comment">//</em>
<a id="L1012" name="L1012"></a>1012     <em class="comment">// NodeList methods</em>
<a id="L1013" name="L1013"></a>1013     <em class="comment">//</em>
<a id="L1014" name="L1014"></a>1014 
<div class="comment">
      NodeList method: Count the immediate children of this node
      @return int</div>
<a id="L1019" name="L1019"></a>1019     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17335.html" title="Multiple referred from 644 places.">getLength</a>() <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020 
<a id="L1021" name="L1021"></a>1021         <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022             <strong class="reserved">return</strong> 1;
<a id="L1023" name="L1023"></a>1023         <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1025" name="L1025"></a>1025         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = 0;
<a id="L1026" name="L1026"></a>1026         <strong class="reserved">for</strong> (; <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong>; <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L1027" name="L1027"></a>1027             <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>++;
<a id="L1028" name="L1028"></a>1028         <em class="brace">}</em>
<a id="L1029" name="L1029"></a>1029         <strong class="reserved">return</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1030" name="L1030"></a>1030 
<a id="L1031" name="L1031"></a>1031     <em class="brace">}</em> <em class="comment">// getLength():int</em>
<a id="L1032" name="L1032"></a>1032 
<div class="comment">
      NodeList method: Return the Nth immediate child of this node, or
      null if the index is out of bounds.
      @return org.w3c.dom.Node
      @param Index int</div>
<a id="L1039" name="L1039"></a>1039     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/22287.html" title="Multiple referred from 822 places.">item</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L1040" name="L1040"></a>1040 
<a id="L1041" name="L1041"></a>1041         <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L1042" name="L1042"></a>1042             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != 0 || <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1043" name="L1043"></a>1043                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1044" name="L1044"></a>1044             <em class="brace">}</em>
<a id="L1045" name="L1045"></a>1045             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046                 <a href="../S/5449.html#L177" title="Defined at 177 in src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java.">makeChildNode</a>();
<a id="L1047" name="L1047"></a>1047                 <strong class="reserved">return</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1048" name="L1048"></a>1048             <em class="brace">}</em>
<a id="L1049" name="L1049"></a>1049         <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0) <em class="brace">{</em>
<a id="L1051" name="L1051"></a>1051             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1052" name="L1052"></a>1052         <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1054" name="L1054"></a>1054         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &amp;&amp; <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong>; i++) <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L1056" name="L1056"></a>1056         <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057         <strong class="reserved">return</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1058" name="L1058"></a>1058 
<a id="L1059" name="L1059"></a>1059     <em class="brace">}</em> <em class="comment">// item(int):Node</em>
<a id="L1060" name="L1060"></a>1060 
<a id="L1061" name="L1061"></a>1061     <em class="comment">//</em>
<a id="L1062" name="L1062"></a>1062     <em class="comment">// DOM3</em>
<a id="L1063" name="L1063"></a>1063     <em class="comment">//</em>
<a id="L1064" name="L1064"></a>1064 
<div class="comment">
      DOM Level 3 WD- Experimental.
      Override inherited behavior from ParentNode to support deep equal.
      isEqualNode is always deep on Attr nodes.</div>
<a id="L1070" name="L1070"></a>1070     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21419.html" title="Multiple referred from 9 places.">isEqualNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>) <em class="brace">{</em>
<a id="L1071" name="L1071"></a>1071         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/25514.html" title="Multiple defined in 12 places.">isEqualNode</a>(<a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>);
<a id="L1072" name="L1072"></a>1072     <em class="brace">}</em>
<a id="L1073" name="L1073"></a>1073 
<div class="comment">
      Introduced in DOM Level 3. <p>
      Checks if a type is derived from another by restriction. See:
      http://www.w3.org/TR/DOM-Level-3-Core/core.html#TypeInfo-isDerivedFrom
      @param ancestorNS
             The namspace of the ancestor type declaration
      @param ancestorName
             The name of the ancestor type declaration
      @param type
             The reference type definition
      @return boolean True if the type is derived by restriciton for the
              reference type</p></div>
<a id="L1089" name="L1089"></a>1089     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> isDerivedFrom(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> typeNamespaceArg,
<a id="L1090" name="L1090"></a>1090                                  <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> typeNameArg,
<a id="L1091" name="L1091"></a>1091                                  <strong class="reserved">int</strong> derivationMethod) <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092 
<a id="L1093" name="L1093"></a>1093         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1094" name="L1094"></a>1094     <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095 
<a id="L1096" name="L1096"></a>1096 
<a id="L1097" name="L1097"></a>1097     <em class="comment">//</em>
<a id="L1098" name="L1098"></a>1098     <em class="comment">// Public methods</em>
<a id="L1099" name="L1099"></a>1099     <em class="comment">//</em>
<a id="L1100" name="L1100"></a>1100 
<div class="comment">
      Override default behavior so that if deep is true, children are also
      toggled.
      @see Node
      <p>
      Note: this will not change the state of an EntityReference or its
      children, which are always read-only.</p></div>
<a id="L1109" name="L1109"></a>1109     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28000.html" title="Multiple referred from 34 places.">setReadOnly</a>(<strong class="reserved">boolean</strong> readOnly, <strong class="reserved">boolean</strong> deep) <em class="brace">{</em>
<a id="L1110" name="L1110"></a>1110 
<a id="L1111" name="L1111"></a>1111         <strong class="reserved">super</strong>.<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a>(readOnly, deep);
<a id="L1112" name="L1112"></a>1112 
<a id="L1113" name="L1113"></a>1113         <strong class="reserved">if</strong> (deep) <em class="brace">{</em>
<a id="L1114" name="L1114"></a>1114 
<a id="L1115" name="L1115"></a>1115             <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L1116" name="L1116"></a>1116                 <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L1117" name="L1117"></a>1117             <em class="brace">}</em>
<a id="L1118" name="L1118"></a>1118 
<a id="L1119" name="L1119"></a>1119             <strong class="reserved">if</strong> (<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L1120" name="L1120"></a>1120                 <strong class="reserved">return</strong>;
<a id="L1121" name="L1121"></a>1121             <em class="brace">}</em>
<a id="L1122" name="L1122"></a>1122             <em class="comment">// Recursively set kids</em>
<a id="L1123" name="L1123"></a>1123             <strong class="reserved">for</strong> (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> mykid = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1124" name="L1124"></a>1124                  mykid != <strong class="reserved">null</strong>;
<a id="L1125" name="L1125"></a>1125                  mykid = mykid.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L1126" name="L1126"></a>1126                 <strong class="reserved">if</strong> (mykid.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE) <em class="brace">{</em>
<a id="L1127" name="L1127"></a>1127                     mykid.<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a>(readOnly,<strong class="reserved">true</strong>);
<a id="L1128" name="L1128"></a>1128                 <em class="brace">}</em>
<a id="L1129" name="L1129"></a>1129             <em class="brace">}</em>
<a id="L1130" name="L1130"></a>1130         <em class="brace">}</em>
<a id="L1131" name="L1131"></a>1131     <em class="brace">}</em> <em class="comment">// setReadOnly(boolean,boolean)</em>
<a id="L1132" name="L1132"></a>1132 
<a id="L1133" name="L1133"></a>1133     <em class="comment">//</em>
<a id="L1134" name="L1134"></a>1134     <em class="comment">// Protected methods</em>
<a id="L1135" name="L1135"></a>1135     <em class="comment">//</em>
<a id="L1136" name="L1136"></a>1136 
<div class="comment">
      Override this method in subclass to hook in efficient
      internal data structure.</div>
<a id="L1141" name="L1141"></a>1141     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29076.html" title="Multiple referred from 42 places.">synchronizeChildren</a>() <em class="brace">{</em>
<a id="L1142" name="L1142"></a>1142         <em class="comment">// By default just change the flag to avoid calling this method again</em>
<a id="L1143" name="L1143"></a>1143         <a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>(<strong class="reserved">false</strong>);
<a id="L1144" name="L1144"></a>1144     <em class="brace">}</em>
<a id="L1145" name="L1145"></a>1145 
<div class="comment">
      Checks the normalized state of this node after inserting a child.
      If the inserted child causes this node to be unnormalized, then this
      node is flagged accordingly.
      The conditions for changing the normalized state are:
      <ul><li>The inserted child is a text node and one of its adjacent siblings
      is also a text node.
      </li><li>The inserted child is is itself unnormalized.
      </li></ul>
      @param insertedChild the child node that was inserted into this node
      @throws NullPointerException if the inserted child is <code>null</code></div>
<a id="L1161" name="L1161"></a>1161     <strong class="reserved">void</strong> <a href="../R/11263.html" title="Multiple referred from 2 places.">checkNormalizationAfterInsert</a>(<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> insertedChild) <em class="brace">{</em>
<a id="L1162" name="L1162"></a>1162         <em class="comment">// See if insertion caused this node to be unnormalized.</em>
<a id="L1163" name="L1163"></a>1163         <strong class="reserved">if</strong> (insertedChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L1164" name="L1164"></a>1164             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> prev = insertedChild.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>();
<a id="L1165" name="L1165"></a>1165             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = insertedChild.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L1166" name="L1166"></a>1166             <em class="comment">// If an adjacent sibling of the new child is a text node,</em>
<a id="L1167" name="L1167"></a>1167             <em class="comment">// flag this node as unnormalized.</em>
<a id="L1168" name="L1168"></a>1168             <strong class="reserved">if</strong> ((prev != <strong class="reserved">null</strong> &amp;&amp; prev.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) ||
<a id="L1169" name="L1169"></a>1169                 (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE)) <em class="brace">{</em>
<a id="L1170" name="L1170"></a>1170                 <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">false</strong>);
<a id="L1171" name="L1171"></a>1171             <em class="brace">}</em>
<a id="L1172" name="L1172"></a>1172         <em class="brace">}</em>
<a id="L1173" name="L1173"></a>1173         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174             <em class="comment">// If the new child is not normalized,</em>
<a id="L1175" name="L1175"></a>1175             <em class="comment">// then this node is inherently not normalized.</em>
<a id="L1176" name="L1176"></a>1176             <strong class="reserved">if</strong> (!insertedChild.<a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>()) <em class="brace">{</em>
<a id="L1177" name="L1177"></a>1177                 <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">false</strong>);
<a id="L1178" name="L1178"></a>1178             <em class="brace">}</em>
<a id="L1179" name="L1179"></a>1179         <em class="brace">}</em>
<a id="L1180" name="L1180"></a>1180     <em class="brace">}</em> <em class="comment">// checkNormalizationAfterInsert(ChildNode)</em>
<a id="L1181" name="L1181"></a>1181 
<div class="comment">
      Checks the normalized of this node after removing a child.
      If the removed child causes this node to be unnormalized, then this
      node is flagged accordingly.
      The conditions for changing the normalized state are:
      <ul><li>The removed child had two adjacent siblings that were text nodes.
      </li></ul>
      @param previousSibling the previous sibling of the removed child, or
      <code>null</code></div>
<a id="L1194" name="L1194"></a>1194     <strong class="reserved">void</strong> <a href="../R/11264.html" title="Multiple referred from 2 places.">checkNormalizationAfterRemove</a>(<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>) <em class="brace">{</em>
<a id="L1195" name="L1195"></a>1195         <em class="comment">// See if removal caused this node to be unnormalized.</em>
<a id="L1196" name="L1196"></a>1196         <em class="comment">// If the adjacent siblings of the removed child were both text nodes,</em>
<a id="L1197" name="L1197"></a>1197         <em class="comment">// flag this node as unnormalized.</em>
<a id="L1198" name="L1198"></a>1198         <strong class="reserved">if</strong> (<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> != <strong class="reserved">null</strong> &amp;&amp;
<a id="L1199" name="L1199"></a>1199             <a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L1200" name="L1200"></a>1200 
<a id="L1201" name="L1201"></a>1201             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L1202" name="L1202"></a>1202             <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L1203" name="L1203"></a>1203                 <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">false</strong>);
<a id="L1204" name="L1204"></a>1204             <em class="brace">}</em>
<a id="L1205" name="L1205"></a>1205         <em class="brace">}</em>
<a id="L1206" name="L1206"></a>1206     <em class="brace">}</em> <em class="comment">// checkNormalizationAfterRemove(ChildNode)</em>
<a id="L1207" name="L1207"></a>1207 
<a id="L1208" name="L1208"></a>1208     <em class="comment">//</em>
<a id="L1209" name="L1209"></a>1209     <em class="comment">// Serialization methods</em>
<a id="L1210" name="L1210"></a>1210     <em class="comment">//</em>
<a id="L1211" name="L1211"></a>1211 
<div class="comment">
     /** Serialize object. */</div>
<a id="L1213" name="L1213"></a>1213     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1214" name="L1214"></a>1214 
<a id="L1215" name="L1215"></a>1215         <em class="comment">// synchronize chilren</em>
<a id="L1216" name="L1216"></a>1216         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L1217" name="L1217"></a>1217             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L1218" name="L1218"></a>1218         <em class="brace">}</em>
<a id="L1219" name="L1219"></a>1219         <em class="comment">// write object</em>
<a id="L1220" name="L1220"></a>1220         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L1221" name="L1221"></a>1221 
<a id="L1222" name="L1222"></a>1222     <em class="brace">}</em> <em class="comment">// writeObject(ObjectOutputStream)</em>
<a id="L1223" name="L1223"></a>1223 
<div class="comment">
     /** Deserialize object. */</div>
<a id="L1225" name="L1225"></a>1225     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> ois)
<a id="L1226" name="L1226"></a>1226         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1227" name="L1227"></a>1227 
<a id="L1228" name="L1228"></a>1228         <em class="comment">// perform default deseralization</em>
<a id="L1229" name="L1229"></a>1229         ois.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L1230" name="L1230"></a>1230 
<a id="L1231" name="L1231"></a>1231         <em class="comment">// hardset synchildren - so we don't try to sync -</em>
<a id="L1232" name="L1232"></a>1232         <em class="comment">// it does not make any sense to try to synchildren when we just</em>
<a id="L1233" name="L1233"></a>1233         <em class="comment">// deserialize object.</em>
<a id="L1234" name="L1234"></a>1234         <a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>(<strong class="reserved">false</strong>);
<a id="L1235" name="L1235"></a>1235 
<a id="L1236" name="L1236"></a>1236     <em class="brace">}</em> <em class="comment">// readObject(ObjectInputStream)</em>
<a id="L1237" name="L1237"></a>1237 
<a id="L1238" name="L1238"></a>1238 
<a id="L1239" name="L1239"></a>1239 <em class="brace">}</em> <em class="comment">// class AttrImpl</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L169">[^]</a><a href="#L1225">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>