<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/Currency.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L309">[^]</a><a href="#L773">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L309" title="Defined at 309.">getInstance</a></li>
<li><a href="#L313" title="Defined at 313.">getInstance</a></li>
<li><a href="#L379" title="Defined at 379.">getInstance</a></li>
<li><a href="#L430" title="Defined at 430.">getAvailableCurrencies</a></li>
<li><a href="#L471" title="Defined at 471.">getCurrencyCode</a></li>
<li><a href="#L489" title="Defined at 489.">getSymbol</a></li>
<li><a href="#L504" title="Defined at 504.">getSymbol</a></li>
<li><a href="#L527" title="Defined at 527.">getDefaultFractionDigits</a></li>
<li><a href="#L537" title="Defined at 537.">getNumericCode</a></li>
<li><a href="#L555" title="Defined at 555.">getDisplayName</a></li>
<li><a href="#L570" title="Defined at 570.">getDisplayName</a></li>
<li><a href="#L590" title="Defined at 590.">toString</a></li>
<li><a href="#L597" title="Defined at 597.">readResolve</a></li>
<li><a href="#L605" title="Defined at 605.">getMainTableEntry</a></li>
<li><a href="#L616" title="Defined at 616.">setMainTableEntry</a></li>
<li><a href="#L633" title="Defined at 633.">getObject</a></li>
<li><a href="#L653" title="Defined at 653.">readIntArray</a></li>
<li><a href="#L662" title="Defined at 662.">readLongArray</a></li>
<li><a href="#L671" title="Defined at 671.">readStringArray</a></li>
<li><a href="#L694" title="Defined at 694.">replaceCurrencyData</a></li>
<li><a href="#L754" title="Defined at 754.">isPastCutoverDate</a></li>
<li><a href="#L763" title="Defined at 763.">countOccurrences</a></li>
<li><a href="#L773" title="Defined at 773.">info</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.BufferedInputStream;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.DataInputStream;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.File;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.FileInputStream;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.io.FileReader;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.io.IOException;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.text.ParseException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.text.SimpleDateFormat;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentMap;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.util.regex.Pattern;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.util.regex.Matcher;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.util.spi.CurrencyNameProvider;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleServiceProviderPool;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> sun.util.logging.PlatformLogger;
<a id="L46" name="L46"></a>  46 
<a id="L47" name="L47"></a>  47 
<div class="comment">
  Represents a currency. Currencies are identified by their ISO 4217 currency
  codes. Visit the <a href="http://www.iso.org/iso/home/standards/currency_codes.htm">
  ISO web site</a> for more information.
  <p>
  The class is designed so that there's never more than one
  <code>Currency</code> instance for any given currency. Therefore, there's
  no public constructor. You obtain a <code>Currency</code> instance using
  the <code>getInstance</code> methods.
  </p><p>
  Users can supersede the Java runtime currency data by means of the system
  property <code>java.util.currency.data</code>. If this system property is
  defined then its value is the location of a properties file, the contents of
  which are key/value pairs of the ISO 3166 country codes and the ISO 4217
  currency data respectively.  The value part consists of three ISO 4217 values
  of a currency, i.e., an alphabetic code, a numeric code, and a minor unit.
  Those three ISO 4217 values are separated by commas.
  The lines which start with '#'s are considered comment lines. An optional UTC
  timestamp may be specified per currency entry if users need to specify a
  cutover date indicating when the new data comes into effect. The timestamp is
  appended to the end of the currency properties and uses a comma as a separator.
  If a UTC datestamp is present and valid, the JRE will only use the new currency
  properties if the current UTC date is later than the date specified at class
  loading time. The format of the timestamp must be of ISO 8601 format :
  <code>'yyyy-MM-dd'T'HH:mm:ss'</code>. For example,
  </p><p>
  <code>
  #Sample currency properties<br>
  JP=JPZ,999,0
  </code>
  </p><p>
  will supersede the currency data for Japan.
  </p><p>
  <code>
  #Sample currency properties with cutover date<br>
  JP=JPZ,999,0,2014-01-01T00:00:00
  </code>
  </p><p>
  will supersede the currency data for Japan if <code>Currency</code> class is loaded after
  1st January 2014 00:00:00 GMT.
  </p><p>
  Where syntactically malformed entries are encountered, the entry is ignored
  and the remainder of entries in file are processed. For instances where duplicate
  country code entries exist, the behavior of the Currency information for that
  <code>Currency</code> is undefined and the remainder of entries in file are processed.
  @since 1.4</p></div>
<a id="L97" name="L97"></a>  97 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1813.html" title="Multiple referred from 26 places.">Currency</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L98" name="L98"></a>  98 
<a id="L99" name="L99"></a>  99     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -158308464356906721L;
<a id="L100" name="L100"></a> 100 
<div class="comment">
      ISO 4217 currency code for this currency.
      @serial</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> currencyCode;
<a id="L107" name="L107"></a> 107 
<div class="comment">
      Default fraction digits for this currency.
      Set from currency data tables.</div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">transient</strong> <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> defaultFractionDigits;
<a id="L113" name="L113"></a> 113 
<div class="comment">
      ISO 4217 numeric code for this currency.
      Set from currency data tables.</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">transient</strong> <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> numericCode;
<a id="L119" name="L119"></a> 119 
<a id="L120" name="L120"></a> 120 
<a id="L121" name="L121"></a> 121     <em class="comment">// class data: instance map</em>
<a id="L122" name="L122"></a> 122 
<a id="L123" name="L123"></a> 123     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a>&gt; instances = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;(7);
<a id="L124" name="L124"></a> 124     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a>&gt; <a href="../D/11656.html" title="Multiple defined in 33 places.">available</a>;
<a id="L125" name="L125"></a> 125 
<a id="L126" name="L126"></a> 126     <em class="comment">// Class data: currency data obtained from currency.data file.</em>
<a id="L127" name="L127"></a> 127     <em class="comment">// Purpose:</em>
<a id="L128" name="L128"></a> 128     <em class="comment">// - determine valid country codes</em>
<a id="L129" name="L129"></a> 129     <em class="comment">// - determine valid currency codes</em>
<a id="L130" name="L130"></a> 130     <em class="comment">// - map country codes to currency codes</em>
<a id="L131" name="L131"></a> 131     <em class="comment">// - obtain default fraction digits for currency codes</em>
<a id="L132" name="L132"></a> 132     <em class="comment">//</em>
<a id="L133" name="L133"></a> 133     <em class="comment">// sc = special case; dfd = default fraction digits</em>
<a id="L134" name="L134"></a> 134     <em class="comment">// Simple countries are those where the country code is a prefix of the</em>
<a id="L135" name="L135"></a> 135     <em class="comment">// currency code, and there are no known plans to change the currency.</em>
<a id="L136" name="L136"></a> 136     <em class="comment">//</em>
<a id="L137" name="L137"></a> 137     <em class="comment">// table formats:</em>
<a id="L138" name="L138"></a> 138     <em class="comment">// - mainTable:</em>
<a id="L139" name="L139"></a> 139     <em class="comment">//   - maps country code to 32-bit int</em>
<a id="L140" name="L140"></a> 140     <em class="comment">//   - 26*26 entries, corresponding to [A-Z]*[A-Z]</em>
<a id="L141" name="L141"></a> 141     <em class="comment">//   - \u007F -&gt; not valid country</em>
<a id="L142" name="L142"></a> 142     <em class="comment">//   - bits 20-31: unused</em>
<a id="L143" name="L143"></a> 143     <em class="comment">//   - bits 10-19: numeric code (0 to 1023)</em>
<a id="L144" name="L144"></a> 144     <em class="comment">//   - bit 9: 1 - special case, bits 0-4 indicate which one</em>
<a id="L145" name="L145"></a> 145     <em class="comment">//            0 - simple country, bits 0-4 indicate final char of currency code</em>
<a id="L146" name="L146"></a> 146     <em class="comment">//   - bits 5-8: fraction digits for simple countries, 0 for special cases</em>
<a id="L147" name="L147"></a> 147     <em class="comment">//   - bits 0-4: final char for currency code for simple country, or ID of special case</em>
<a id="L148" name="L148"></a> 148     <em class="comment">// - special case IDs:</em>
<a id="L149" name="L149"></a> 149     <em class="comment">//   - 0: country has no currency</em>
<a id="L150" name="L150"></a> 150     <em class="comment">//   - other: index into sc* arrays + 1</em>
<a id="L151" name="L151"></a> 151     <em class="comment">// - scCutOverTimes: cut-over time in millis as returned by</em>
<a id="L152" name="L152"></a> 152     <em class="comment">//   System.currentTimeMillis for special case countries that are changing</em>
<a id="L153" name="L153"></a> 153     <em class="comment">//   currencies; Long.MAX_VALUE for countries that are not changing currencies</em>
<a id="L154" name="L154"></a> 154     <em class="comment">// - scOldCurrencies: old currencies for special case countries</em>
<a id="L155" name="L155"></a> 155     <em class="comment">// - scNewCurrencies: new currencies for special case countries that are</em>
<a id="L156" name="L156"></a> 156     <em class="comment">//   changing currencies; null for others</em>
<a id="L157" name="L157"></a> 157     <em class="comment">// - scOldCurrenciesDFD: default fraction digits for old currencies</em>
<a id="L158" name="L158"></a> 158     <em class="comment">// - scNewCurrenciesDFD: default fraction digits for new currencies, 0 for</em>
<a id="L159" name="L159"></a> 159     <em class="comment">//   countries that are not changing currencies</em>
<a id="L160" name="L160"></a> 160     <em class="comment">// - otherCurrencies: concatenation of all currency codes that are not the</em>
<a id="L161" name="L161"></a> 161     <em class="comment">//   main currency of a simple country, separated by "-"</em>
<a id="L162" name="L162"></a> 162     <em class="comment">// - otherCurrenciesDFD: decimal format digits for currencies in otherCurrencies, same order</em>
<a id="L163" name="L163"></a> 163 
<a id="L164" name="L164"></a> 164     <strong class="reserved">static</strong> <strong class="reserved">int</strong> formatVersion;
<a id="L165" name="L165"></a> 165     <strong class="reserved">static</strong> <strong class="reserved">int</strong> dataVersion;
<a id="L166" name="L166"></a> 166     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] mainTable;
<a id="L167" name="L167"></a> 167     <strong class="reserved">static</strong> <strong class="reserved">long</strong>[] scCutOverTimes;
<a id="L168" name="L168"></a> 168     <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] scOldCurrencies;
<a id="L169" name="L169"></a> 169     <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] scNewCurrencies;
<a id="L170" name="L170"></a> 170     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] scOldCurrenciesDFD;
<a id="L171" name="L171"></a> 171     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] scNewCurrenciesDFD;
<a id="L172" name="L172"></a> 172     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] scOldCurrenciesNumericCode;
<a id="L173" name="L173"></a> 173     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] scNewCurrenciesNumericCode;
<a id="L174" name="L174"></a> 174     <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> otherCurrencies;
<a id="L175" name="L175"></a> 175     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] otherCurrenciesDFD;
<a id="L176" name="L176"></a> 176     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] otherCurrenciesNumericCode;
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178     <em class="comment">// handy constants - must match definitions in GenerateCurrencyData</em>
<a id="L179" name="L179"></a> 179     <em class="comment">// magic number</em>
<a id="L180" name="L180"></a> 180     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAGIC_NUMBER = 0x43757244;
<a id="L181" name="L181"></a> 181     <em class="comment">// number of characters from A to Z</em>
<a id="L182" name="L182"></a> 182     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> A_TO_Z = ('Z' - 'A') + 1;
<a id="L183" name="L183"></a> 183     <em class="comment">// entry for invalid country codes</em>
<a id="L184" name="L184"></a> 184     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> INVALID_COUNTRY_ENTRY = 0x0000007F;
<a id="L185" name="L185"></a> 185     <em class="comment">// entry for countries without currency</em>
<a id="L186" name="L186"></a> 186     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> COUNTRY_WITHOUT_CURRENCY_ENTRY = 0x00000200;
<a id="L187" name="L187"></a> 187     <em class="comment">// mask for simple case country entries</em>
<a id="L188" name="L188"></a> 188     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SIMPLE_CASE_COUNTRY_MASK = 0x00000000;
<a id="L189" name="L189"></a> 189     <em class="comment">// mask for simple case country entry final character</em>
<a id="L190" name="L190"></a> 190     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK = 0x0000001F;
<a id="L191" name="L191"></a> 191     <em class="comment">// mask for simple case country entry default currency digits</em>
<a id="L192" name="L192"></a> 192     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_MASK = 0x000001E0;
<a id="L193" name="L193"></a> 193     <em class="comment">// shift count for simple case country entry default currency digits</em>
<a id="L194" name="L194"></a> 194     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_SHIFT = 5;
<a id="L195" name="L195"></a> 195     <em class="comment">// maximum number for simple case country entry default currency digits</em>
<a id="L196" name="L196"></a> 196     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SIMPLE_CASE_COUNTRY_MAX_DEFAULT_DIGITS = 9;
<a id="L197" name="L197"></a> 197     <em class="comment">// mask for special case country entries</em>
<a id="L198" name="L198"></a> 198     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SPECIAL_CASE_COUNTRY_MASK = 0x00000200;
<a id="L199" name="L199"></a> 199     <em class="comment">// mask for special case country index</em>
<a id="L200" name="L200"></a> 200     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SPECIAL_CASE_COUNTRY_INDEX_MASK = 0x0000001F;
<a id="L201" name="L201"></a> 201     <em class="comment">// delta from entry index component in main table to index into special case tables</em>
<a id="L202" name="L202"></a> 202     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SPECIAL_CASE_COUNTRY_INDEX_DELTA = 1;
<a id="L203" name="L203"></a> 203     <em class="comment">// mask for distinguishing simple and special case countries</em>
<a id="L204" name="L204"></a> 204     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> COUNTRY_TYPE_MASK = SIMPLE_CASE_COUNTRY_MASK | SPECIAL_CASE_COUNTRY_MASK;
<a id="L205" name="L205"></a> 205     <em class="comment">// mask for the numeric code of the currency</em>
<a id="L206" name="L206"></a> 206     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NUMERIC_CODE_MASK = 0x000FFC00;
<a id="L207" name="L207"></a> 207     <em class="comment">// shift count for the numeric code of the currency</em>
<a id="L208" name="L208"></a> 208     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NUMERIC_CODE_SHIFT = 10;
<a id="L209" name="L209"></a> 209 
<a id="L210" name="L210"></a> 210     <em class="comment">// Currency data format version</em>
<a id="L211" name="L211"></a> 211     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> VALID_FORMAT_VERSION = 2;
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L214" name="L214"></a> 214         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L215" name="L215"></a> 215             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L216" name="L216"></a> 216             <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L217" name="L217"></a> 217                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> homeDir = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.home");
<a id="L218" name="L218"></a> 218                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L219" name="L219"></a> 219                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dataFile = homeDir + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> +
<a id="L220" name="L220"></a> 220                             "lib" + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> + "currency.data";
<a id="L221" name="L221"></a> 221                     <strong class="reserved">try</strong> (<a href="../D/2185.html" title="Multiple defined in 2 places.">DataInputStream</a> dis = <strong class="reserved">new</strong> <a href="../D/2185.html" title="Multiple defined in 2 places.">DataInputStream</a>(
<a id="L222" name="L222"></a> 222                              <strong class="reserved">new</strong> <a href="../S/1411.html#L51" title="Defined at 51 in src/java/io/BufferedInputStream.java.">BufferedInputStream</a>(
<a id="L223" name="L223"></a> 223                              <strong class="reserved">new</strong> <a href="../S/1386.html#L49" title="Defined at 49 in src/java/io/FileInputStream.java.">FileInputStream</a>(dataFile)))) <em class="brace">{</em>
<a id="L224" name="L224"></a> 224                         <strong class="reserved">if</strong> (dis.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>() != MAGIC_NUMBER) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>("Currency data is possibly corrupted");
<a id="L226" name="L226"></a> 226                         <em class="brace">}</em>
<a id="L227" name="L227"></a> 227                         formatVersion = dis.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L228" name="L228"></a> 228                         <strong class="reserved">if</strong> (formatVersion != VALID_FORMAT_VERSION) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>("Currency data format is incorrect");
<a id="L230" name="L230"></a> 230                         <em class="brace">}</em>
<a id="L231" name="L231"></a> 231                         dataVersion = dis.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L232" name="L232"></a> 232                         mainTable = <a href="../S/1129.html#L653" title="Defined at 653 in src/java/util/Currency.java.">readIntArray</a>(dis, A_TO_Z * A_TO_Z);
<a id="L233" name="L233"></a> 233                         <strong class="reserved">int</strong> scCount = dis.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L234" name="L234"></a> 234                         scCutOverTimes = <a href="../S/1129.html#L662" title="Defined at 662 in src/java/util/Currency.java.">readLongArray</a>(dis, scCount);
<a id="L235" name="L235"></a> 235                         scOldCurrencies = <a href="../S/1129.html#L671" title="Defined at 671 in src/java/util/Currency.java.">readStringArray</a>(dis, scCount);
<a id="L236" name="L236"></a> 236                         scNewCurrencies = <a href="../S/1129.html#L671" title="Defined at 671 in src/java/util/Currency.java.">readStringArray</a>(dis, scCount);
<a id="L237" name="L237"></a> 237                         scOldCurrenciesDFD = <a href="../S/1129.html#L653" title="Defined at 653 in src/java/util/Currency.java.">readIntArray</a>(dis, scCount);
<a id="L238" name="L238"></a> 238                         scNewCurrenciesDFD = <a href="../S/1129.html#L653" title="Defined at 653 in src/java/util/Currency.java.">readIntArray</a>(dis, scCount);
<a id="L239" name="L239"></a> 239                         scOldCurrenciesNumericCode = <a href="../S/1129.html#L653" title="Defined at 653 in src/java/util/Currency.java.">readIntArray</a>(dis, scCount);
<a id="L240" name="L240"></a> 240                         scNewCurrenciesNumericCode = <a href="../S/1129.html#L653" title="Defined at 653 in src/java/util/Currency.java.">readIntArray</a>(dis, scCount);
<a id="L241" name="L241"></a> 241                         <strong class="reserved">int</strong> ocCount = dis.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L242" name="L242"></a> 242                         otherCurrencies = dis.<a href="../D/30284.html" title="Multiple defined in 9 places.">readUTF</a>();
<a id="L243" name="L243"></a> 243                         otherCurrenciesDFD = <a href="../S/1129.html#L653" title="Defined at 653 in src/java/util/Currency.java.">readIntArray</a>(dis, ocCount);
<a id="L244" name="L244"></a> 244                         otherCurrenciesNumericCode = <a href="../S/1129.html#L653" title="Defined at 653 in src/java/util/Currency.java.">readIntArray</a>(dis, ocCount);
<a id="L245" name="L245"></a> 245                     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(e);
<a id="L248" name="L248"></a> 248                 <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250                 <em class="comment">// look for the properties file for overrides</em>
<a id="L251" name="L251"></a> 251                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propsFile = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.util.currency.data");
<a id="L252" name="L252"></a> 252                 <strong class="reserved">if</strong> (propsFile == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                     propsFile = homeDir + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> + "lib" +
<a id="L254" name="L254"></a> 254                         <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> + "currency.properties";
<a id="L255" name="L255"></a> 255                 <em class="brace">}</em>
<a id="L256" name="L256"></a> 256                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L257" name="L257"></a> 257                     <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> propFile = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(propsFile);
<a id="L258" name="L258"></a> 258                     <strong class="reserved">if</strong> (propFile.<a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a>()) <em class="brace">{</em>
<a id="L259" name="L259"></a> 259                         <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> props = <strong class="reserved">new</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a>();
<a id="L260" name="L260"></a> 260                         <strong class="reserved">try</strong> (<a href="../S/1406.html#L45" title="Defined at 45 in src/java/io/FileReader.java.">FileReader</a> fr = <strong class="reserved">new</strong> <a href="../S/1406.html#L45" title="Defined at 45 in src/java/io/FileReader.java.">FileReader</a>(propFile)) <em class="brace">{</em>
<a id="L261" name="L261"></a> 261                             props.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(fr);
<a id="L262" name="L262"></a> 262                         <em class="brace">}</em>
<a id="L263" name="L263"></a> 263                         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = props.<a href="../S/1039.html#L1030" title="Defined at 1030 in src/java/util/Properties.java.">stringPropertyNames</a>();
<a id="L264" name="L264"></a> 264                         <a href="../D/6677.html" title="Multiple defined in 3 places.">Pattern</a> propertiesPattern =
<a id="L265" name="L265"></a> 265                             <a href="../D/6677.html" title="Multiple defined in 3 places.">Pattern</a>.<a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>("([A-Z]{3})\\s*,\\s*(\\d{3})\\s*,\\s*" +
<a id="L266" name="L266"></a> 266                                 "(\\d+)\\s*,?\\s*(\\d{4}-\\d{2}-\\d{2}T\\d{2}:" +
<a id="L267" name="L267"></a> 267                                 "\\d{2}:\\d{2})?");
<a id="L268" name="L268"></a> 268                         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> : <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269                            <a href="../S/1129.html#L694" title="Defined at 694 in src/java/util/Currency.java.">replaceCurrencyData</a>(propertiesPattern,
<a id="L270" name="L270"></a> 270                                <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ROOT),
<a id="L271" name="L271"></a> 271                                props.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>).<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ROOT));
<a id="L272" name="L272"></a> 272                         <em class="brace">}</em>
<a id="L273" name="L273"></a> 273                     <em class="brace">}</em>
<a id="L274" name="L274"></a> 274                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L275" name="L275"></a> 275                     <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>("currency.properties is ignored because of an IOException", e);
<a id="L276" name="L276"></a> 276                 <em class="brace">}</em>
<a id="L277" name="L277"></a> 277                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L278" name="L278"></a> 278             <em class="brace">}</em>
<a id="L279" name="L279"></a> 279         <em class="brace">}</em>);
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<div class="comment">
      Constants for retrieving localized names from the name providers.</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SYMBOL = 0;
<a id="L286" name="L286"></a> 286     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DISPLAYNAME = 1;
<a id="L287" name="L287"></a> 287 
<a id="L288" name="L288"></a> 288 
<div class="comment">
      Constructs a <code>Currency</code> instance. The constructor is private
      so that we can insure that there's never more than one instance for a
      given currency.</div>
<a id="L294" name="L294"></a> 294     <strong class="reserved">private</strong> Currency(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> currencyCode, <strong class="reserved">int</strong> defaultFractionDigits, <strong class="reserved">int</strong> numericCode) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295         <strong class="reserved">this</strong>.currencyCode = currencyCode;
<a id="L296" name="L296"></a> 296         <strong class="reserved">this</strong>.defaultFractionDigits = defaultFractionDigits;
<a id="L297" name="L297"></a> 297         <strong class="reserved">this</strong>.numericCode = numericCode;
<a id="L298" name="L298"></a> 298     <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<div class="comment">
      Returns the <code>Currency</code> instance for the given currency code.
      @param currencyCode the ISO 4217 code of the currency
      @return the <code>Currency</code> instance for the given currency code
      @exception NullPointerException if <code>currencyCode</code> is null
      @exception IllegalArgumentException if <code>currencyCode</code> is not
      a supported ISO 4217 code.</div>
<a id="L309" name="L309"></a> 309     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> currencyCode) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(currencyCode, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE, 0);
<a id="L311" name="L311"></a> 311     <em class="brace">}</em>
<a id="L312" name="L312"></a> 312 
<a id="L313" name="L313"></a> 313     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> currencyCode, <strong class="reserved">int</strong> defaultFractionDigits,
<a id="L314" name="L314"></a> 314         <strong class="reserved">int</strong> numericCode) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315         <em class="comment">// Try to look up the currency code in the instances table.</em>
<a id="L316" name="L316"></a> 316         <em class="comment">// This does the null pointer check as a side effect.</em>
<a id="L317" name="L317"></a> 317         <em class="comment">// Also, if there already is an entry, the currencyCode must be valid.</em>
<a id="L318" name="L318"></a> 318         <a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a> <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> = instances.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(currencyCode);
<a id="L319" name="L319"></a> 319         <strong class="reserved">if</strong> (<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320             <strong class="reserved">return</strong> <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>;
<a id="L321" name="L321"></a> 321         <em class="brace">}</em>
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323         <strong class="reserved">if</strong> (defaultFractionDigits == <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324             <em class="comment">// Currency code not internally generated, need to verify first</em>
<a id="L325" name="L325"></a> 325             <em class="comment">// A currency code must have 3 characters and exist in the main table</em>
<a id="L326" name="L326"></a> 326             <em class="comment">// or in the list of other currencies.</em>
<a id="L327" name="L327"></a> 327             <strong class="reserved">if</strong> (currencyCode.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 3) <em class="brace">{</em>
<a id="L328" name="L328"></a> 328                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L329" name="L329"></a> 329             <em class="brace">}</em>
<a id="L330" name="L330"></a> 330             <strong class="reserved">char</strong> <a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> = currencyCode.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L331" name="L331"></a> 331             <strong class="reserved">char</strong> char2 = currencyCode.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1);
<a id="L332" name="L332"></a> 332             <strong class="reserved">int</strong> tableEntry = <a href="../S/1129.html#L605" title="Defined at 605 in src/java/util/Currency.java.">getMainTableEntry</a>(<a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a>, char2);
<a id="L333" name="L333"></a> 333             <strong class="reserved">if</strong> ((tableEntry &amp; COUNTRY_TYPE_MASK) == SIMPLE_CASE_COUNTRY_MASK
<a id="L334" name="L334"></a> 334                     &amp;&amp; tableEntry != INVALID_COUNTRY_ENTRY
<a id="L335" name="L335"></a> 335                     &amp;&amp; currencyCode.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) - 'A' == (tableEntry &amp; SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK)) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336                 defaultFractionDigits = (tableEntry &amp; SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_MASK) &gt;&gt; SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_SHIFT;
<a id="L337" name="L337"></a> 337                 numericCode = (tableEntry &amp; NUMERIC_CODE_MASK) &gt;&gt; NUMERIC_CODE_SHIFT;
<a id="L338" name="L338"></a> 338             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L339" name="L339"></a> 339                 <em class="comment">// Check for '-' separately so we don't get false hits in the table.</em>
<a id="L340" name="L340"></a> 340                 <strong class="reserved">if</strong> (currencyCode.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) == '-') <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L342" name="L342"></a> 342                 <em class="brace">}</em>
<a id="L343" name="L343"></a> 343                 <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = otherCurrencies.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(currencyCode);
<a id="L344" name="L344"></a> 344                 <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == -1) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L346" name="L346"></a> 346                 <em class="brace">}</em>
<a id="L347" name="L347"></a> 347                 defaultFractionDigits = otherCurrenciesDFD[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> / 4];
<a id="L348" name="L348"></a> 348                 numericCode = otherCurrenciesNumericCode[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> / 4];
<a id="L349" name="L349"></a> 349             <em class="brace">}</em>
<a id="L350" name="L350"></a> 350         <em class="brace">}</em>
<a id="L351" name="L351"></a> 351 
<a id="L352" name="L352"></a> 352         <a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a> currencyVal =
<a id="L353" name="L353"></a> 353             <strong class="reserved">new</strong> <a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a>(currencyCode, defaultFractionDigits, numericCode);
<a id="L354" name="L354"></a> 354         <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> = instances.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(currencyCode, currencyVal);
<a id="L355" name="L355"></a> 355         <strong class="reserved">return</strong> (<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> != <strong class="reserved">null</strong> ? <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> : currencyVal);
<a id="L356" name="L356"></a> 356     <em class="brace">}</em>
<a id="L357" name="L357"></a> 357 
<div class="comment">
      Returns the <code>Currency</code> instance for the country of the
      given locale. The language and variant components of the locale
      are ignored. The result may vary over time, as countries change their
      currencies. For example, for the original member countries of the
      European Monetary Union, the method returns the old national currencies
      until December 31, 2001, and the Euro from January 1, 2002, local time
      of the respective countries.
      <p>
      The method returns <code>null</code> for territories that don't
      have a currency, such as Antarctica.
      @param locale the locale for whose country a <code>Currency</code>
      instance is needed
      @return the <code>Currency</code> instance for the country of the given
      locale, or <code>null</code>
      @exception NullPointerException if <code>locale</code> or its country
      code is <code>null</code>
      @exception IllegalArgumentException if the country of the given <code>locale</code>
      is not a supported ISO 3166 country code.</p></div>
<a id="L379" name="L379"></a> 379     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1101" title="Defined at 1101 in src/java/util/Locale.java.">getCountry</a>();
<a id="L381" name="L381"></a> 381         <strong class="reserved">if</strong> (country == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L383" name="L383"></a> 383         <em class="brace">}</em>
<a id="L384" name="L384"></a> 384 
<a id="L385" name="L385"></a> 385         <strong class="reserved">if</strong> (country.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 2) <em class="brace">{</em>
<a id="L386" name="L386"></a> 386             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L387" name="L387"></a> 387         <em class="brace">}</em>
<a id="L388" name="L388"></a> 388 
<a id="L389" name="L389"></a> 389         <strong class="reserved">char</strong> <a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> = country.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L390" name="L390"></a> 390         <strong class="reserved">char</strong> char2 = country.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1);
<a id="L391" name="L391"></a> 391         <strong class="reserved">int</strong> tableEntry = <a href="../S/1129.html#L605" title="Defined at 605 in src/java/util/Currency.java.">getMainTableEntry</a>(<a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a>, char2);
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong> ((tableEntry &amp; COUNTRY_TYPE_MASK) == SIMPLE_CASE_COUNTRY_MASK
<a id="L393" name="L393"></a> 393                     &amp;&amp; tableEntry != INVALID_COUNTRY_ENTRY) <em class="brace">{</em>
<a id="L394" name="L394"></a> 394             <strong class="reserved">char</strong> finalChar = (<strong class="reserved">char</strong>) ((tableEntry &amp; SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) + 'A');
<a id="L395" name="L395"></a> 395             <strong class="reserved">int</strong> defaultFractionDigits = (tableEntry &amp; SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_MASK) &gt;&gt; SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_SHIFT;
<a id="L396" name="L396"></a> 396             <strong class="reserved">int</strong> numericCode = (tableEntry &amp; NUMERIC_CODE_MASK) &gt;&gt; NUMERIC_CODE_SHIFT;
<a id="L397" name="L397"></a> 397             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(country);
<a id="L398" name="L398"></a> 398             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(finalChar);
<a id="L399" name="L399"></a> 399             <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), defaultFractionDigits, numericCode);
<a id="L400" name="L400"></a> 400         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L401" name="L401"></a> 401             <em class="comment">// special cases</em>
<a id="L402" name="L402"></a> 402             <strong class="reserved">if</strong> (tableEntry == INVALID_COUNTRY_ENTRY) <em class="brace">{</em>
<a id="L403" name="L403"></a> 403                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L404" name="L404"></a> 404             <em class="brace">}</em>
<a id="L405" name="L405"></a> 405             <strong class="reserved">if</strong> (tableEntry == COUNTRY_WITHOUT_CURRENCY_ENTRY) <em class="brace">{</em>
<a id="L406" name="L406"></a> 406                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L407" name="L407"></a> 407             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L408" name="L408"></a> 408                 <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = (tableEntry &amp; SPECIAL_CASE_COUNTRY_INDEX_MASK) - SPECIAL_CASE_COUNTRY_INDEX_DELTA;
<a id="L409" name="L409"></a> 409                 <strong class="reserved">if</strong> (scCutOverTimes[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] == <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE || <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>() &lt; scCutOverTimes[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410                     <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(scOldCurrencies[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>], scOldCurrenciesDFD[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>],
<a id="L411" name="L411"></a> 411                         scOldCurrenciesNumericCode[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L412" name="L412"></a> 412                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                     <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(scNewCurrencies[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>], scNewCurrenciesDFD[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>],
<a id="L414" name="L414"></a> 414                         scNewCurrenciesNumericCode[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L415" name="L415"></a> 415                 <em class="brace">}</em>
<a id="L416" name="L416"></a> 416             <em class="brace">}</em>
<a id="L417" name="L417"></a> 417         <em class="brace">}</em>
<a id="L418" name="L418"></a> 418     <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<div class="comment">
      Gets the set of available currencies.  The returned set of currencies
      contains all of the available currencies, which may include currencies
      that represent obsolete ISO 4217 codes.  The set can be modified
      without affecting the available currencies in the runtime.
      @return the set of available currencies.  If there is no currency
         available in the runtime, the returned set is empty.
      @since 1.7</div>
<a id="L430" name="L430"></a> 430     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a>&gt; getAvailableCurrencies() <em class="brace">{</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">synchronized</strong>(<a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">if</strong> (<a href="../D/11656.html" title="Multiple defined in 33 places.">available</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433                 <a href="../D/11656.html" title="Multiple defined in 33 places.">available</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;(256);
<a id="L434" name="L434"></a> 434 
<a id="L435" name="L435"></a> 435                 <em class="comment">// Add simple currencies first</em>
<a id="L436" name="L436"></a> 436                 <strong class="reserved">for</strong> (<strong class="reserved">char</strong> c1 = 'A'; c1 &lt;= 'Z'; c1 ++) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437                     <strong class="reserved">for</strong> (<strong class="reserved">char</strong> c2 = 'A'; c2 &lt;= 'Z'; c2 ++) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438                         <strong class="reserved">int</strong> tableEntry = <a href="../S/1129.html#L605" title="Defined at 605 in src/java/util/Currency.java.">getMainTableEntry</a>(c1, c2);
<a id="L439" name="L439"></a> 439                         <strong class="reserved">if</strong> ((tableEntry &amp; COUNTRY_TYPE_MASK) == SIMPLE_CASE_COUNTRY_MASK
<a id="L440" name="L440"></a> 440                              &amp;&amp; tableEntry != INVALID_COUNTRY_ENTRY) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441                             <strong class="reserved">char</strong> finalChar = (<strong class="reserved">char</strong>) ((tableEntry &amp; SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) + 'A');
<a id="L442" name="L442"></a> 442                             <strong class="reserved">int</strong> defaultFractionDigits = (tableEntry &amp; SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_MASK) &gt;&gt; SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_SHIFT;
<a id="L443" name="L443"></a> 443                             <strong class="reserved">int</strong> numericCode = (tableEntry &amp; NUMERIC_CODE_MASK) &gt;&gt; NUMERIC_CODE_SHIFT;
<a id="L444" name="L444"></a> 444                             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L445" name="L445"></a> 445                             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(c1);
<a id="L446" name="L446"></a> 446                             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(c2);
<a id="L447" name="L447"></a> 447                             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(finalChar);
<a id="L448" name="L448"></a> 448                             <a href="../D/11656.html" title="Multiple defined in 33 places.">available</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), defaultFractionDigits, numericCode));
<a id="L449" name="L449"></a> 449                         <em class="brace">}</em>
<a id="L450" name="L450"></a> 450                     <em class="brace">}</em>
<a id="L451" name="L451"></a> 451                 <em class="brace">}</em>
<a id="L452" name="L452"></a> 452 
<a id="L453" name="L453"></a> 453                 <em class="comment">// Now add other currencies</em>
<a id="L454" name="L454"></a> 454                 <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a> st = <strong class="reserved">new</strong> <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a>(otherCurrencies, "-");
<a id="L455" name="L455"></a> 455                 <strong class="reserved">while</strong> (st.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456                     <a href="../D/11656.html" title="Multiple defined in 33 places.">available</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)st.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>()));
<a id="L457" name="L457"></a> 457                 <em class="brace">}</em>
<a id="L458" name="L458"></a> 458             <em class="brace">}</em>
<a id="L459" name="L459"></a> 459         <em class="brace">}</em>
<a id="L460" name="L460"></a> 460 
<a id="L461" name="L461"></a> 461         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L462" name="L462"></a> 462         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a>&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (<a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1129.html#L97" title="Defined at 97 in src/java/util/Currency.java.">Currency</a>&gt;) <a href="../D/11656.html" title="Multiple defined in 33 places.">available</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L463" name="L463"></a> 463         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L464" name="L464"></a> 464     <em class="brace">}</em>
<a id="L465" name="L465"></a> 465 
<div class="comment">
      Gets the ISO 4217 currency code of this currency.
      @return the ISO 4217 currency code of this currency.</div>
<a id="L471" name="L471"></a> 471     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15866.html" title="Multiple referred from 2 places.">getCurrencyCode</a>() <em class="brace">{</em>
<a id="L472" name="L472"></a> 472         <strong class="reserved">return</strong> currencyCode;
<a id="L473" name="L473"></a> 473     <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<div class="comment">
      Gets the symbol of this currency for the default
      {@link Locale.Category#DISPLAY DISPLAY} locale.
      For example, for the US Dollar, the symbol is "$" if the default
      locale is the US, while for other locales it may be "US$". If no
      symbol can be determined, the ISO 4217 currency code is returned.
      <p>
      This is equivalent to calling
      {@link #getSymbol(Locale)
          getSymbol(Locale.getDefault(Locale.Category.DISPLAY))}.
      @return the symbol of this currency for the default
          {@link Locale.Category#DISPLAY DISPLAY} locale</p></div>
<a id="L489" name="L489"></a> 489     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19297.html" title="Multiple referred from 12 places.">getSymbol</a>() <em class="brace">{</em>
<a id="L490" name="L490"></a> 490         <strong class="reserved">return</strong> <a href="../D/22881.html" title="Multiple defined in 6 places.">getSymbol</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>));
<a id="L491" name="L491"></a> 491     <em class="brace">}</em>
<a id="L492" name="L492"></a> 492 
<div class="comment">
      Gets the symbol of this currency for the specified locale.
      For example, for the US Dollar, the symbol is "$" if the specified
      locale is the US, while for other locales it may be "US$". If no
      symbol can be determined, the ISO 4217 currency code is returned.
      @param locale the locale for which a display name for this currency is
      needed
      @return the symbol of this currency for the specified locale
      @exception NullPointerException if <code>locale</code> is null</div>
<a id="L504" name="L504"></a> 504     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19297.html" title="Multiple referred from 12 places.">getSymbol</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L505" name="L505"></a> 505         LocaleServiceProviderPool pool =
<a id="L506" name="L506"></a> 506             LocaleServiceProviderPool.<a href="../D/21526.html" title="Multiple defined in 2 places.">getPool</a>(<a href="../S/1027.html#L45" title="Defined at 45 in src/java/util/spi/CurrencyNameProvider.java.">CurrencyNameProvider</a>.<strong class="reserved">class</strong>);
<a id="L507" name="L507"></a> 507         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> symbol = pool.getLocalizedObject(
<a id="L508" name="L508"></a> 508                                 <a href="../S/1129.html#L627" title="Defined at 627 in src/java/util/Currency.java.">CurrencyNameGetter</a>.INSTANCE,
<a id="L509" name="L509"></a> 509                                 <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, currencyCode, SYMBOL);
<a id="L510" name="L510"></a> 510         <strong class="reserved">if</strong> (symbol != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             <strong class="reserved">return</strong> symbol;
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<a id="L514" name="L514"></a> 514         <em class="comment">// use currency code as symbol of last resort</em>
<a id="L515" name="L515"></a> 515         <strong class="reserved">return</strong> currencyCode;
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<div class="comment">
      Gets the default number of fraction digits used with this currency.
      For example, the default number of fraction digits for the Euro is 2,
      while for the Japanese Yen it's 0.
      In the case of pseudo-currencies, such as IMF Special Drawing Rights,
      -1 is returned.
      @return the default number of fraction digits used with this currency</div>
<a id="L527" name="L527"></a> 527     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getDefaultFractionDigits() <em class="brace">{</em>
<a id="L528" name="L528"></a> 528         <strong class="reserved">return</strong> defaultFractionDigits;
<a id="L529" name="L529"></a> 529     <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<div class="comment">
      Returns the ISO 4217 numeric code of this currency.
      @return the ISO 4217 numeric code of this currency
      @since 1.7</div>
<a id="L537" name="L537"></a> 537     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getNumericCode() <em class="brace">{</em>
<a id="L538" name="L538"></a> 538         <strong class="reserved">return</strong> numericCode;
<a id="L539" name="L539"></a> 539     <em class="brace">}</em>
<a id="L540" name="L540"></a> 540 
<div class="comment">
      Gets the name that is suitable for displaying this currency for
      the default {@link Locale.Category#DISPLAY DISPLAY} locale.
      If there is no suitable display name found
      for the default locale, the ISO 4217 currency code is returned.
      <p>
      This is equivalent to calling
      {@link #getDisplayName(Locale)
          getDisplayName(Locale.getDefault(Locale.Category.DISPLAY))}.
      @return the display name of this currency for the default
          {@link Locale.Category#DISPLAY DISPLAY} locale
      @since 1.7</p></div>
<a id="L555" name="L555"></a> 555     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16189.html" title="Multiple referred from 20 places.">getDisplayName</a>() <em class="brace">{</em>
<a id="L556" name="L556"></a> 556         <strong class="reserved">return</strong> <a href="../D/18520.html" title="Multiple defined in 28 places.">getDisplayName</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>));
<a id="L557" name="L557"></a> 557     <em class="brace">}</em>
<a id="L558" name="L558"></a> 558 
<div class="comment">
      Gets the name that is suitable for displaying this currency for
      the specified locale.  If there is no suitable display name found
      for the specified locale, the ISO 4217 currency code is returned.
      @param locale the locale for which a display name for this currency is
      needed
      @return the display name of this currency for the specified locale
      @exception NullPointerException if <code>locale</code> is null
      @since 1.7</div>
<a id="L570" name="L570"></a> 570     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16189.html" title="Multiple referred from 20 places.">getDisplayName</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L571" name="L571"></a> 571         LocaleServiceProviderPool pool =
<a id="L572" name="L572"></a> 572             LocaleServiceProviderPool.<a href="../D/21526.html" title="Multiple defined in 2 places.">getPool</a>(<a href="../S/1027.html#L45" title="Defined at 45 in src/java/util/spi/CurrencyNameProvider.java.">CurrencyNameProvider</a>.<strong class="reserved">class</strong>);
<a id="L573" name="L573"></a> 573         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = pool.getLocalizedObject(
<a id="L574" name="L574"></a> 574                                 <a href="../S/1129.html#L627" title="Defined at 627 in src/java/util/Currency.java.">CurrencyNameGetter</a>.INSTANCE,
<a id="L575" name="L575"></a> 575                                 <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, currencyCode, DISPLAYNAME);
<a id="L576" name="L576"></a> 576         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L577" name="L577"></a> 577             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L578" name="L578"></a> 578         <em class="brace">}</em>
<a id="L579" name="L579"></a> 579 
<a id="L580" name="L580"></a> 580         <em class="comment">// use currency code as symbol of last resort</em>
<a id="L581" name="L581"></a> 581         <strong class="reserved">return</strong> currencyCode;
<a id="L582" name="L582"></a> 582     <em class="brace">}</em>
<a id="L583" name="L583"></a> 583 
<div class="comment">
      Returns the ISO 4217 currency code of this currency.
      @return the ISO 4217 currency code of this currency</div>
<a id="L589" name="L589"></a> 589     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L590" name="L590"></a> 590     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">return</strong> currencyCode;
<a id="L592" name="L592"></a> 592     <em class="brace">}</em>
<a id="L593" name="L593"></a> 593 
<div class="comment">
      Resolves instances being deserialized to a single instance per currency.</div>
<a id="L597" name="L597"></a> 597     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6954.html#L419" title="Referred from 419 in src/com/sun/corba/se/impl/io/IIOPInputStream.java.">readResolve</a>() <em class="brace">{</em>
<a id="L598" name="L598"></a> 598         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(currencyCode);
<a id="L599" name="L599"></a> 599     <em class="brace">}</em>
<a id="L600" name="L600"></a> 600 
<div class="comment">
      Gets the main table entry for the country whose country code consists
      of char1 and char2.</div>
<a id="L605" name="L605"></a> 605     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/17527.html" title="Multiple referred from 3 places.">getMainTableEntry</a>(<strong class="reserved">char</strong> <a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a>, <strong class="reserved">char</strong> char2) <em class="brace">{</em>
<a id="L606" name="L606"></a> 606         <strong class="reserved">if</strong> (<a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> &lt; 'A' || <a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> &gt; 'Z' || char2 &lt; 'A' || char2 &gt; 'Z') <em class="brace">{</em>
<a id="L607" name="L607"></a> 607             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L608" name="L608"></a> 608         <em class="brace">}</em>
<a id="L609" name="L609"></a> 609         <strong class="reserved">return</strong> mainTable[(<a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> - 'A') * A_TO_Z + (char2 - 'A')];
<a id="L610" name="L610"></a> 610     <em class="brace">}</em>
<a id="L611" name="L611"></a> 611 
<div class="comment">
      Sets the main table entry for the country whose country code consists
      of char1 and char2.</div>
<a id="L616" name="L616"></a> 616     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1129.html#L751" title="Referred from 751 in src/java/util/Currency.java.">setMainTableEntry</a>(<strong class="reserved">char</strong> <a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a>, <strong class="reserved">char</strong> char2, <strong class="reserved">int</strong> entry) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617         <strong class="reserved">if</strong> (<a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> &lt; 'A' || <a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> &gt; 'Z' || char2 &lt; 'A' || char2 &gt; 'Z') <em class="brace">{</em>
<a id="L618" name="L618"></a> 618             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L619" name="L619"></a> 619         <em class="brace">}</em>
<a id="L620" name="L620"></a> 620         mainTable[(<a href="../S/1996.html#L94" title="Defined at 94 in src/java/nio/Bits.java.">char1</a> - 'A') * A_TO_Z + (char2 - 'A')] = entry;
<a id="L621" name="L621"></a> 621     <em class="brace">}</em>
<a id="L622" name="L622"></a> 622 
<div class="comment">
      Obtains a localized currency names from a CurrencyNameProvider
      implementation.</div>
<a id="L627" name="L627"></a> 627     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1814.html" title="Multiple referred from 3 places.">CurrencyNameGetter</a>
<a id="L628" name="L628"></a> 628         <strong class="reserved">implements</strong> LocaleServiceProviderPool.LocalizedObjectGetter&lt;<a href="../S/1027.html#L45" title="Defined at 45 in src/java/util/spi/CurrencyNameProvider.java.">CurrencyNameProvider</a>,
<a id="L629" name="L629"></a> 629                                                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <em class="brace">{</em>
<a id="L630" name="L630"></a> 630         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1129.html#L627" title="Defined at 627 in src/java/util/Currency.java.">CurrencyNameGetter</a> INSTANCE = <strong class="reserved">new</strong> <a href="../S/1129.html#L627" title="Defined at 627 in src/java/util/Currency.java.">CurrencyNameGetter</a>();
<a id="L631" name="L631"></a> 631 
<a id="L632" name="L632"></a> 632         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L633" name="L633"></a> 633         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18085.html" title="Multiple referred from 30 places.">getObject</a>(<a href="../S/1027.html#L45" title="Defined at 45 in src/java/util/spi/CurrencyNameProvider.java.">CurrencyNameProvider</a> currencyNameProvider,
<a id="L634" name="L634"></a> 634                                 <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L635" name="L635"></a> 635                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L636" name="L636"></a> 636                                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>... <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>) <em class="brace">{</em>
<a id="L637" name="L637"></a> 637             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 1;
<a id="L638" name="L638"></a> 638             <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)<a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>[0];
<a id="L639" name="L639"></a> 639 
<a id="L640" name="L640"></a> 640             <strong class="reserved">switch</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L641" name="L641"></a> 641             <strong class="reserved">case</strong> SYMBOL:
<a id="L642" name="L642"></a> 642                 <strong class="reserved">return</strong> currencyNameProvider.<a href="../D/22881.html" title="Multiple defined in 6 places.">getSymbol</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L643" name="L643"></a> 643             <strong class="reserved">case</strong> DISPLAYNAME:
<a id="L644" name="L644"></a> 644                 <strong class="reserved">return</strong> currencyNameProvider.<a href="../D/18520.html" title="Multiple defined in 28 places.">getDisplayName</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L645" name="L645"></a> 645             <strong class="reserved">default</strong>:
<a id="L646" name="L646"></a> 646                 <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <strong class="reserved">false</strong>; <em class="comment">// shouldn't happen</em>
<a id="L647" name="L647"></a> 647             <em class="brace">}</em>
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L650" name="L650"></a> 650         <em class="brace">}</em>
<a id="L651" name="L651"></a> 651     <em class="brace">}</em>
<a id="L652" name="L652"></a> 652 
<a id="L653" name="L653"></a> 653     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] <a href="../R/25496.html" title="Multiple referred from 7 places.">readIntArray</a>(<a href="../D/2185.html" title="Multiple defined in 2 places.">DataInputStream</a> dis, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L654" name="L654"></a> 654         <strong class="reserved">int</strong>[] ret = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>];
<a id="L655" name="L655"></a> 655         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>; i++) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656             ret[i] = dis.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L657" name="L657"></a> 657         <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659         <strong class="reserved">return</strong> ret;
<a id="L660" name="L660"></a> 660     <em class="brace">}</em>
<a id="L661" name="L661"></a> 661 
<a id="L662" name="L662"></a> 662     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong>[] <a href="../S/1129.html#L234" title="Referred from 234 in src/java/util/Currency.java.">readLongArray</a>(<a href="../D/2185.html" title="Multiple defined in 2 places.">DataInputStream</a> dis, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L663" name="L663"></a> 663         <strong class="reserved">long</strong>[] ret = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>];
<a id="L664" name="L664"></a> 664         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>; i++) <em class="brace">{</em>
<a id="L665" name="L665"></a> 665             ret[i] = dis.<a href="../D/30217.html" title="Multiple defined in 10 places.">readLong</a>();
<a id="L666" name="L666"></a> 666         <em class="brace">}</em>
<a id="L667" name="L667"></a> 667 
<a id="L668" name="L668"></a> 668         <strong class="reserved">return</strong> ret;
<a id="L669" name="L669"></a> 669     <em class="brace">}</em>
<a id="L670" name="L670"></a> 670 
<a id="L671" name="L671"></a> 671     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/25548.html" title="Multiple referred from 2 places.">readStringArray</a>(<a href="../D/2185.html" title="Multiple defined in 2 places.">DataInputStream</a> dis, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L672" name="L672"></a> 672         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] ret = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>];
<a id="L673" name="L673"></a> 673         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>; i++) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674             ret[i] = dis.<a href="../D/30284.html" title="Multiple defined in 9 places.">readUTF</a>();
<a id="L675" name="L675"></a> 675         <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677         <strong class="reserved">return</strong> ret;
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<div class="comment">
      Replaces currency data found in the currencydata.properties file
      @param pattern regex pattern for the properties
      @param ctry country code
      @param curdata currency data.  This is a comma separated string that
         consists of "three-letter alphabet code", "three-digit numeric code",
         and "one-digit (0-9) default fraction digit".
         For example, "JPZ,392,0".
         An optional UTC date can be appended to the string (comma separated)
         to allow a currency change take effect after date specified.
         For example, "JP=JPZ,999,0,2014-01-01T00:00:00" has no effect unless
         UTC time is past 1st January 2014 00:00:00 GMT.</div>
<a id="L694" name="L694"></a> 694     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1129.html#L269" title="Referred from 269 in src/java/util/Currency.java.">replaceCurrencyData</a>(<a href="../D/6677.html" title="Multiple defined in 3 places.">Pattern</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ctry, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> curdata) <em class="brace">{</em>
<a id="L695" name="L695"></a> 695 
<a id="L696" name="L696"></a> 696         <strong class="reserved">if</strong> (ctry.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 2) <em class="brace">{</em>
<a id="L697" name="L697"></a> 697             <em class="comment">// ignore invalid country code</em>
<a id="L698" name="L698"></a> 698             <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>("currency.properties entry for " + ctry +
<a id="L699" name="L699"></a> 699                     " is ignored because of the invalid country code.", <strong class="reserved">null</strong>);
<a id="L700" name="L700"></a> 700             <strong class="reserved">return</strong>;
<a id="L701" name="L701"></a> 701         <em class="brace">}</em>
<a id="L702" name="L702"></a> 702 
<a id="L703" name="L703"></a> 703         <a href="../D/5451.html" title="Multiple defined in 3 places.">Matcher</a> m = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../S/986.html#L1086" title="Defined at 1086 in src/java/util/regex/Pattern.java.">matcher</a>(curdata);
<a id="L704" name="L704"></a> 704         <strong class="reserved">if</strong> (!m.<a href="../D/16082.html" title="Multiple defined in 26 places.">find</a>() || (m.<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>(4) == <strong class="reserved">null</strong> &amp;&amp; <a href="../S/1129.html#L763" title="Defined at 763 in src/java/util/Currency.java.">countOccurrences</a>(curdata, ',') &gt;= 3)) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705             <em class="comment">// format is not recognized.  ignore the data</em>
<a id="L706" name="L706"></a> 706             <em class="comment">// if group(4) date string is null and we've 4 values, bad date value</em>
<a id="L707" name="L707"></a> 707             <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>("currency.properties entry for " + ctry +
<a id="L708" name="L708"></a> 708                     " ignored because the value format is not recognized.", <strong class="reserved">null</strong>);
<a id="L709" name="L709"></a> 709             <strong class="reserved">return</strong>;
<a id="L710" name="L710"></a> 710         <em class="brace">}</em>
<a id="L711" name="L711"></a> 711 
<a id="L712" name="L712"></a> 712         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L713" name="L713"></a> 713             <strong class="reserved">if</strong> (m.<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>(4) != <strong class="reserved">null</strong> &amp;&amp; !<a href="../S/1129.html#L754" title="Defined at 754 in src/java/util/Currency.java.">isPastCutoverDate</a>(m.<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>(4))) <em class="brace">{</em>
<a id="L714" name="L714"></a> 714                 <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>("currency.properties entry for " + ctry +
<a id="L715" name="L715"></a> 715                         " ignored since cutover date has not passed :" + curdata, <strong class="reserved">null</strong>);
<a id="L716" name="L716"></a> 716                 <strong class="reserved">return</strong>;
<a id="L717" name="L717"></a> 717             <em class="brace">}</em>
<a id="L718" name="L718"></a> 718         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L719" name="L719"></a> 719             <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>("currency.properties entry for " + ctry +
<a id="L720" name="L720"></a> 720                         " ignored since exception encountered :" + <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), <strong class="reserved">null</strong>);
<a id="L721" name="L721"></a> 721             <strong class="reserved">return</strong>;
<a id="L722" name="L722"></a> 722         <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<a id="L724" name="L724"></a> 724         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> code = m.<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>(1);
<a id="L725" name="L725"></a> 725         <strong class="reserved">int</strong> numeric = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(m.<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>(2));
<a id="L726" name="L726"></a> 726         <strong class="reserved">int</strong> entry = numeric &lt;&lt; NUMERIC_CODE_SHIFT;
<a id="L727" name="L727"></a> 727         <strong class="reserved">int</strong> fraction = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(m.<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>(3));
<a id="L728" name="L728"></a> 728         <strong class="reserved">if</strong> (fraction &gt; SIMPLE_CASE_COUNTRY_MAX_DEFAULT_DIGITS) <em class="brace">{</em>
<a id="L729" name="L729"></a> 729             <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>("currency.properties entry for " + ctry +
<a id="L730" name="L730"></a> 730                 " ignored since the fraction is more than " +
<a id="L731" name="L731"></a> 731                 SIMPLE_CASE_COUNTRY_MAX_DEFAULT_DIGITS + ":" + curdata, <strong class="reserved">null</strong>);
<a id="L732" name="L732"></a> 732             <strong class="reserved">return</strong>;
<a id="L733" name="L733"></a> 733         <em class="brace">}</em>
<a id="L734" name="L734"></a> 734 
<a id="L735" name="L735"></a> 735         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L736" name="L736"></a> 736         <strong class="reserved">for</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; scOldCurrencies.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++) <em class="brace">{</em>
<a id="L737" name="L737"></a> 737             <strong class="reserved">if</strong> (scOldCurrencies[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(code)) <em class="brace">{</em>
<a id="L738" name="L738"></a> 738                 <strong class="reserved">break</strong>;
<a id="L739" name="L739"></a> 739             <em class="brace">}</em>
<a id="L740" name="L740"></a> 740         <em class="brace">}</em>
<a id="L741" name="L741"></a> 741 
<a id="L742" name="L742"></a> 742         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == scOldCurrencies.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L743" name="L743"></a> 743             <em class="comment">// simple case</em>
<a id="L744" name="L744"></a> 744             entry |= (fraction &lt;&lt; SIMPLE_CASE_COUNTRY_DEFAULT_DIGITS_SHIFT) |
<a id="L745" name="L745"></a> 745                      (code.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) - 'A');
<a id="L746" name="L746"></a> 746         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L747" name="L747"></a> 747             <em class="comment">// special case</em>
<a id="L748" name="L748"></a> 748             entry |= SPECIAL_CASE_COUNTRY_MASK |
<a id="L749" name="L749"></a> 749                      (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + SPECIAL_CASE_COUNTRY_INDEX_DELTA);
<a id="L750" name="L750"></a> 750         <em class="brace">}</em>
<a id="L751" name="L751"></a> 751         <a href="../S/1129.html#L616" title="Defined at 616 in src/java/util/Currency.java.">setMainTableEntry</a>(ctry.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0), ctry.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1), entry);
<a id="L752" name="L752"></a> 752     <em class="brace">}</em>
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/1129.html#L713" title="Referred from 713 in src/java/util/Currency.java.">isPastCutoverDate</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <strong class="reserved">throws</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L755" name="L755"></a> 755         <a href="../S/2465.html#L421" title="Defined at 421 in src/java/text/SimpleDateFormat.java.">SimpleDateFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <strong class="reserved">new</strong> <a href="../S/2465.html#L421" title="Defined at 421 in src/java/text/SimpleDateFormat.java.">SimpleDateFormat</a>("yyyy-MM-dd'T'HH:mm:ss", <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ROOT);
<a id="L756" name="L756"></a> 756         <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/34143.html" title="Multiple defined in 5 places.">setTimeZone</a>(<a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a>.<a href="../D/23152.html" title="Multiple defined in 10 places.">getTimeZone</a>("UTC"));
<a id="L757" name="L757"></a> 757         <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/33078.html" title="Multiple defined in 3 places.">setLenient</a>(<strong class="reserved">false</strong>);
<a id="L758" name="L758"></a> 758         <strong class="reserved">long</strong> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a> = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(s.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>()).<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>();
<a id="L759" name="L759"></a> 759         <strong class="reserved">return</strong> <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>() &gt; <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>;
<a id="L760" name="L760"></a> 760 
<a id="L761" name="L761"></a> 761     <em class="brace">}</em>
<a id="L762" name="L762"></a> 762 
<a id="L763" name="L763"></a> 763     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/1129.html#L704" title="Referred from 704 in src/java/util/Currency.java.">countOccurrences</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">char</strong> <a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>) <em class="brace">{</em>
<a id="L764" name="L764"></a> 764         <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = 0;
<a id="L765" name="L765"></a> 765         <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> : <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>()) <em class="brace">{</em>
<a id="L766" name="L766"></a> 766             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>) <em class="brace">{</em>
<a id="L767" name="L767"></a> 767                ++<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L768" name="L768"></a> 768             <em class="brace">}</em>
<a id="L769" name="L769"></a> 769         <em class="brace">}</em>
<a id="L770" name="L770"></a> 770         <strong class="reserved">return</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L771" name="L771"></a> 771     <em class="brace">}</em>
<a id="L772" name="L772"></a> 772 
<a id="L773" name="L773"></a> 773     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/20535.html" title="Multiple referred from 1110 places.">info</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> t) <em class="brace">{</em>
<a id="L774" name="L774"></a> 774         PlatformLogger <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = PlatformLogger.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>("java.util.Currency");
<a id="L775" name="L775"></a> 775         <strong class="reserved">if</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(PlatformLogger.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.INFO)) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776             <strong class="reserved">if</strong> (t != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L777" name="L777"></a> 777                 <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>(<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, t);
<a id="L778" name="L778"></a> 778             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L779" name="L779"></a> 779                 <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>(<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>);
<a id="L780" name="L780"></a> 780             <em class="brace">}</em>
<a id="L781" name="L781"></a> 781         <em class="brace">}</em>
<a id="L782" name="L782"></a> 782     <em class="brace">}</em>
<a id="L783" name="L783"></a> 783 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L309">[^]</a><a href="#L773">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>