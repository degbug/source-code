<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/time/format/DateTimeFormatterBuilder.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L203">[^]</a><a href="#L4457">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L203" title="Defined at 203.">getLocalizedDateTimePattern</a></li>
<li><a href="#L222" title="Defined at 222.">convertStyle</a></li>
<li><a href="#L269" title="Defined at 269.">parseCaseSensitive</a></li>
<li><a href="#L289" title="Defined at 289.">parseCaseInsensitive</a></li>
<li><a href="#L308" title="Defined at 308.">parseStrict</a></li>
<li><a href="#L327" title="Defined at 327.">parseLenient</a></li>
<li><a href="#L360" title="Defined at 360.">parseDefaulting</a></li>
<li><a href="#L385" title="Defined at 385.">appendValue</a></li>
<li><a href="#L439" title="Defined at 439.">appendValue</a></li>
<li><a href="#L480" title="Defined at 480.">appendValue</a></li>
<li><a href="#L541" title="Defined at 541.">appendValueReduced</a></li>
<li><a href="#L601" title="Defined at 601.">appendValueReduced</a></li>
<li><a href="#L624" title="Defined at 624.">appendValue</a></li>
<li><a href="#L685" title="Defined at 685.">appendFraction</a></li>
<li><a href="#L707" title="Defined at 707.">appendText</a></li>
<li><a href="#L726" title="Defined at 726.">appendText</a></li>
<li><a href="#L767" title="Defined at 767.">appendText</a></li>
<li><a href="#L813" title="Defined at 813.">appendInstant</a></li>
<li><a href="#L853" title="Defined at 853.">appendInstant</a></li>
<li><a href="#L870" title="Defined at 870.">appendOffsetId</a></li>
<li><a href="#L913" title="Defined at 913.">appendOffset</a></li>
<li><a href="#L947" title="Defined at 947.">appendLocalizedOffset</a></li>
<li><a href="#L1003" title="Defined at 1003.">appendZoneId</a></li>
<li><a href="#L1059" title="Defined at 1059.">appendZoneRegionId</a></li>
<li><a href="#L1115" title="Defined at 1115.">appendZoneOrOffsetId</a></li>
<li><a href="#L1151" title="Defined at 1151.">appendZoneText</a></li>
<li><a href="#L1192" title="Defined at 1192.">appendZoneText</a></li>
<li><a href="#L1219" title="Defined at 1219.">appendChronologyId</a></li>
<li><a href="#L1233" title="Defined at 1233.">appendChronologyText</a></li>
<li><a href="#L1268" title="Defined at 1268.">appendLocalized</a></li>
<li><a href="#L1285" title="Defined at 1285.">appendLiteral</a></li>
<li><a href="#L1300" title="Defined at 1300.">appendLiteral</a></li>
<li><a href="#L1322" title="Defined at 1322.">append</a></li>
<li><a href="#L1341" title="Defined at 1341.">appendOptional</a></li>
<li><a href="#L1568" title="Defined at 1568.">appendPattern</a></li>
<li><a href="#L1574" title="Defined at 1574.">parsePattern</a></li>
<li><a href="#L1704" title="Defined at 1704.">SuppressWarnings</a></li>
<li><a href="#L1705" title="Defined at 1705.">parseField</a></li>
<li><a href="#L1888" title="Defined at 1888.">padNext</a></li>
<li><a href="#L1913" title="Defined at 1913.">padNext</a></li>
<li><a href="#L1944" title="Defined at 1944.">optionalStart</a></li>
<li><a href="#L1975" title="Defined at 1975.">optionalEnd</a></li>
<li><a href="#L1996" title="Defined at 1996.">appendInternal</a></li>
<li><a href="#L2027" title="Defined at 2027.">toFormatter</a></li>
<li><a href="#L2048" title="Defined at 2048.">toFormatter</a></li>
<li><a href="#L2059" title="Defined at 2059.">toFormatter</a></li>
<li><a href="#L2070" title="Defined at 2070.">toFormatter</a></li>
<li><a href="#L2122" title="Defined at 2122.">format</a></li>
<li><a href="#L2138" title="Defined at 2138.">parse</a></li>
<li><a href="#L2164" title="Defined at 2164.">withOptional</a></li>
<li><a href="#L2172" title="Defined at 2172.">format</a></li>
<li><a href="#L2193" title="Defined at 2193.">parse</a></li>
<li><a href="#L2218" title="Defined at 2218.">toString</a></li>
<li><a href="#L2255" title="Defined at 2255.">format</a></li>
<li><a href="#L2272" title="Defined at 2272.">parse</a></li>
<li><a href="#L2302" title="Defined at 2302.">toString</a></li>
<li><a href="#L2318" title="Defined at 2318.">format</a></li>
<li><a href="#L2323" title="Defined at 2323.">parse</a></li>
<li><a href="#L2335" title="Defined at 2335.">toString</a></li>
<li><a href="#L2360" title="Defined at 2360.">format</a></li>
<li><a href="#L2364" title="Defined at 2364.">parse</a></li>
<li><a href="#L2384" title="Defined at 2384.">format</a></li>
<li><a href="#L2390" title="Defined at 2390.">parse</a></li>
<li><a href="#L2407" title="Defined at 2407.">toString</a></li>
<li><a href="#L2427" title="Defined at 2427.">format</a></li>
<li><a href="#L2433" title="Defined at 2433.">parse</a></li>
<li><a href="#L2445" title="Defined at 2445.">toString</a></li>
<li><a href="#L2521" title="Defined at 2521.">withFixedWidth</a></li>
<li><a href="#L2534" title="Defined at 2534.">withSubsequentWidth</a></li>
<li><a href="#L2539" title="Defined at 2539.">format</a></li>
<li><a href="#L2592" title="Defined at 2592.">getValue</a></li>
<li><a href="#L2603" title="Defined at 2603.">isFixedWidth</a></li>
<li><a href="#L2609" title="Defined at 2609.">parse</a></li>
<li><a href="#L2719" title="Defined at 2719.">setValue</a></li>
<li><a href="#L2724" title="Defined at 2724.">toString</a></li>
<li><a href="#L2799" title="Defined at 2799.">getValue</a></li>
<li><a href="#L2815" title="Defined at 2815.">setValue</a></li>
<li><a href="#L2855" title="Defined at 2855.">withFixedWidth</a></li>
<li><a href="#L2869" title="Defined at 2869.">withSubsequentWidth</a></li>
<li><a href="#L2882" title="Defined at 2882.">isFixedWidth</a></li>
<li><a href="#L2890" title="Defined at 2890.">toString</a></li>
<li><a href="#L2935" title="Defined at 2935.">format</a></li>
<li><a href="#L2965" title="Defined at 2965.">parse</a></li>
<li><a href="#L3020" title="Defined at 3020.">convertToFraction</a></li>
<li><a href="#L3047" title="Defined at 3047.">convertFromFraction</a></li>
<li><a href="#L3056" title="Defined at 3056.">toString</a></li>
<li><a href="#L3091" title="Defined at 3091.">format</a></li>
<li><a href="#L3111" title="Defined at 3111.">parse</a></li>
<li><a href="#L3143" title="Defined at 3143.">numberPrinterParser</a></li>
<li><a href="#L3151" title="Defined at 3151.">toString</a></li>
<li><a href="#L3176" title="Defined at 3176.">format</a></li>
<li><a href="#L3241" title="Defined at 3241.">parse</a></li>
<li><a href="#L3292" title="Defined at 3292.">toString</a></li>
<li><a href="#L3324" title="Defined at 3324.">checkPattern</a></li>
<li><a href="#L3334" title="Defined at 3334.">format</a></li>
<li><a href="#L3369" title="Defined at 3369.">parse</a></li>
<li><a href="#L3416" title="Defined at 3416.">parseNumber</a></li>
<li><a href="#L3445" title="Defined at 3445.">toString</a></li>
<li><a href="#L3467" title="Defined at 3467.">appendHMS</a></li>
<li><a href="#L3473" title="Defined at 3473.">format</a></li>
<li><a href="#L3514" title="Defined at 3514.">getDigit</a></li>
<li><a href="#L3523" title="Defined at 3523.">parse</a></li>
<li><a href="#L3607" title="Defined at 3607.">toString</a></li>
<li><a href="#L3641" title="Defined at 3641.">getDisplayName</a></li>
<li><a href="#L3681" title="Defined at 3681.">format</a></li>
<li><a href="#L3709" title="Defined at 3709.">getTree</a></li>
<li><a href="#L3775" title="Defined at 3775.">format</a></li>
<li><a href="#L3790" title="Defined at 3790.">getTree</a></li>
<li><a href="#L3818" title="Defined at 3818.">parse</a></li>
<li><a href="#L3871" title="Defined at 3871.">parseOffsetBased</a></li>
<li><a href="#L3905" title="Defined at 3905.">toString</a></li>
<li><a href="#L3939" title="Defined at 3939.">newTree</a></li>
<li><a href="#L3956" title="Defined at 3956.">newTree</a></li>
<li><a href="#L3967" title="Defined at 3967.">copyTree</a></li>
<li><a href="#L3986" title="Defined at 3986.">add</a></li>
<li><a href="#L3990" title="Defined at 3990.">add0</a></li>
<li><a href="#L4038" title="Defined at 4038.">match</a></li>
<li><a href="#L4067" title="Defined at 4067.">match</a></li>
<li><a href="#L4092" title="Defined at 4092.">toKey</a></li>
<li><a href="#L4096" title="Defined at 4096.">newNode</a></li>
<li><a href="#L4100" title="Defined at 4100.">isEqual</a></li>
<li><a href="#L4104" title="Defined at 4104.">prefixOf</a></li>
<li><a href="#L4121" title="Defined at 4121.">prefixLength</a></li>
<li><a href="#L4142" title="Defined at 4142.">newNode</a></li>
<li><a href="#L4147" title="Defined at 4147.">isEqual</a></li>
<li><a href="#L4152" title="Defined at 4152.">prefixOf</a></li>
<li><a href="#L4178" title="Defined at 4178.">newNode</a></li>
<li><a href="#L4182" title="Defined at 4182.">isLenientChar</a></li>
<li><a href="#L4186" title="Defined at 4186.">toKey</a></li>
<li><a href="#L4205" title="Defined at 4205.">match</a></li>
<li><a href="#L4262" title="Defined at 4262.">format</a></li>
<li><a href="#L4276" title="Defined at 4276.">parse</a></li>
<li><a href="#L4314" title="Defined at 4314.">getChronologyName</a></li>
<li><a href="#L4345" title="Defined at 4345.">format</a></li>
<li><a href="#L4351" title="Defined at 4351.">parse</a></li>
<li><a href="#L4367" title="Defined at 4367.">formatter</a></li>
<li><a href="#L4382" title="Defined at 4382.">toString</a></li>
<li><a href="#L4412" title="Defined at 4412.">format</a></li>
<li><a href="#L4417" title="Defined at 4417.">parse</a></li>
<li><a href="#L4428" title="Defined at 4428.">printerParser</a></li>
<li><a href="#L4457" title="Defined at 4457.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  Copyright (c) 2008-2012, Stephen Colebourne &amp; Michael Nascimento Santos
  All rights hg qreserved.
  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
   * Neither the name of JSR-310 nor the names of its contributors
     may be used to endorse or promote products derived from this software
     without specific prior written permission.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div>
<a id="L62" name="L62"></a>  62 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.DAY_OF_MONTH;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.HOUR_OF_DAY;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.INSTANT_SECONDS;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.MINUTE_OF_HOUR;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.MONTH_OF_YEAR;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.NANO_OF_SECOND;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.OFFSET_SECONDS;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.SECOND_OF_MINUTE;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.YEAR;
<a id="L73" name="L73"></a>  73 
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> java.lang.ref.SoftReference;
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> java.math.BigDecimal;
<a id="L76" name="L76"></a>  76 <strong class="reserved">import</strong> java.math.BigInteger;
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> java.math.RoundingMode;
<a id="L78" name="L78"></a>  78 <strong class="reserved">import</strong> java.text.ParsePosition;
<a id="L79" name="L79"></a>  79 <strong class="reserved">import</strong> java.time.DateTimeException;
<a id="L80" name="L80"></a>  80 <strong class="reserved">import</strong> java.time.Instant;
<a id="L81" name="L81"></a>  81 <strong class="reserved">import</strong> java.time.LocalDate;
<a id="L82" name="L82"></a>  82 <strong class="reserved">import</strong> java.time.LocalDateTime;
<a id="L83" name="L83"></a>  83 <strong class="reserved">import</strong> java.time.ZoneId;
<a id="L84" name="L84"></a>  84 <strong class="reserved">import</strong> java.time.ZoneOffset;
<a id="L85" name="L85"></a>  85 <strong class="reserved">import</strong> java.time.chrono.ChronoLocalDate;
<a id="L86" name="L86"></a>  86 <strong class="reserved">import</strong> java.time.chrono.Chronology;
<a id="L87" name="L87"></a>  87 <strong class="reserved">import</strong> java.time.chrono.IsoChronology;
<a id="L88" name="L88"></a>  88 <strong class="reserved">import</strong> java.time.format.DateTimeTextProvider.LocaleStore;
<a id="L89" name="L89"></a>  89 <strong class="reserved">import</strong> java.time.temporal.ChronoField;
<a id="L90" name="L90"></a>  90 <strong class="reserved">import</strong> java.time.temporal.IsoFields;
<a id="L91" name="L91"></a>  91 <strong class="reserved">import</strong> java.time.temporal.TemporalAccessor;
<a id="L92" name="L92"></a>  92 <strong class="reserved">import</strong> java.time.temporal.TemporalField;
<a id="L93" name="L93"></a>  93 <strong class="reserved">import</strong> java.time.temporal.TemporalQueries;
<a id="L94" name="L94"></a>  94 <strong class="reserved">import</strong> java.time.temporal.TemporalQuery;
<a id="L95" name="L95"></a>  95 <strong class="reserved">import</strong> java.time.temporal.ValueRange;
<a id="L96" name="L96"></a>  96 <strong class="reserved">import</strong> java.time.temporal.WeekFields;
<a id="L97" name="L97"></a>  97 <strong class="reserved">import</strong> java.time.zone.ZoneRulesProvider;
<a id="L98" name="L98"></a>  98 <strong class="reserved">import</strong> java.util.AbstractMap.SimpleImmutableEntry;
<a id="L99" name="L99"></a>  99 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L100" name="L100"></a> 100 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L101" name="L101"></a> 101 <strong class="reserved">import</strong> java.util.Collections;
<a id="L102" name="L102"></a> 102 <strong class="reserved">import</strong> java.util.Comparator;
<a id="L103" name="L103"></a> 103 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L104" name="L104"></a> 104 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L105" name="L105"></a> 105 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L106" name="L106"></a> 106 <strong class="reserved">import</strong> java.util.LinkedHashMap;
<a id="L107" name="L107"></a> 107 <strong class="reserved">import</strong> java.util.List;
<a id="L108" name="L108"></a> 108 <strong class="reserved">import</strong> java.util.Locale;
<a id="L109" name="L109"></a> 109 <strong class="reserved">import</strong> java.util.Map;
<a id="L110" name="L110"></a> 110 <strong class="reserved">import</strong> java.util.Map.Entry;
<a id="L111" name="L111"></a> 111 <strong class="reserved">import</strong> java.util.Objects;
<a id="L112" name="L112"></a> 112 <strong class="reserved">import</strong> java.util.Set;
<a id="L113" name="L113"></a> 113 <strong class="reserved">import</strong> java.util.TimeZone;
<a id="L114" name="L114"></a> 114 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L115" name="L115"></a> 115 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentMap;
<a id="L116" name="L116"></a> 116 
<a id="L117" name="L117"></a> 117 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleProviderAdapter;
<a id="L118" name="L118"></a> 118 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleResources;
<a id="L119" name="L119"></a> 119 <strong class="reserved">import</strong> sun.util.locale.provider.TimeZoneNameUtility;
<a id="L120" name="L120"></a> 120 
<div class="comment">
  Builder to create date-time formatters.
  <p>
  This allows a <code>DateTimeFormatter</code> to be created.
  All date-time formatters are created ultimately using this builder.
  </p><p>
  The basic elements of date-time can all be added:
  </p><ul><li>Value - a numeric value</li><li>Fraction - a fractional value including the decimal place. Always use this when
  outputting fractions to ensure that the fraction is parsed correctly</li><li>Text - the textual equivalent for the value</li><li>OffsetId/Offset - the {@linkplain ZoneOffset zone offset}</li><li>ZoneId - the {@linkplain ZoneId time-zone} id</li><li>ZoneText - the name of the time-zone</li><li>ChronologyId - the {@linkplain Chronology chronology} id</li><li>ChronologyText - the name of the chronology</li><li>Literal - a text literal</li><li>Nested and Optional - formats can be nested or made optional</li>
  </ul>
  In addition, any of the elements may be decorated by padding, either with spaces or any other character.
  <p>
  Finally, a shorthand pattern, mostly compatible with <code>java.text.SimpleDateFormat SimpleDateFormat</code>
  can be used, see {@link #appendPattern(String)}.
  In practice, this simply parses the pattern and calls other methods on the builder.
  @implSpec
  This class is a mutable builder intended for use from a single thread.
  @since 1.8</p></div>
<a id="L152" name="L152"></a> 152 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2041.html" title="Multiple referred from 81 places.">DateTimeFormatterBuilder</a> <em class="brace">{</em>
<a id="L153" name="L153"></a> 153 
<div class="comment">
      Query for a time-zone that is region-only.</div>
<a id="L157" name="L157"></a> 157     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1471.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalQuery.java.">TemporalQuery</a>&lt;<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>&gt; QUERY_REGION_ONLY = (temporal) -&gt; <em class="brace">{</em>
<a id="L158" name="L158"></a> 158         <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> = temporal.<a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>(<a href="../S/1481.html#L118" title="Defined at 118 in src/java/time/temporal/TemporalQueries.java.">TemporalQueries</a>.<a href="../S/1481.html#L167" title="Defined at 167 in src/java/time/temporal/TemporalQueries.java.">zoneId</a>());
<a id="L159" name="L159"></a> 159         <strong class="reserved">return</strong> (<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> <strong class="reserved">instanceof</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> == <strong class="reserved">false</strong> ? <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> : <strong class="reserved">null</strong>);
<a id="L160" name="L160"></a> 160     <em class="brace">}</em>;
<a id="L161" name="L161"></a> 161 
<div class="comment">
      The currently active builder, used by the outermost builder.</div>
<a id="L165" name="L165"></a> 165     <strong class="reserved">private</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a> = <strong class="reserved">this</strong>;
<div class="comment">
      The parent builder, null for the outermost builder.</div>
<a id="L169" name="L169"></a> 169     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<div class="comment">
      The list of printers that will be used.</div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a>&gt; printerParsers = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<div class="comment">
      Whether this builder produces an optional formatter.</div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> optional;
<div class="comment">
      The width to pad the next field to.</div>
<a id="L181" name="L181"></a> 181     <strong class="reserved">private</strong> <strong class="reserved">int</strong> padNextWidth;
<div class="comment">
      The character to pad the next field with.</div>
<a id="L185" name="L185"></a> 185     <strong class="reserved">private</strong> <strong class="reserved">char</strong> padNextChar;
<div class="comment">
      The index of the last variable width value parser.</div>
<a id="L189" name="L189"></a> 189     <strong class="reserved">private</strong> <strong class="reserved">int</strong> valueParserIndex = -1;
<a id="L190" name="L190"></a> 190 
<div class="comment">
      Gets the formatting pattern for date and time styles for a locale and chronology.
      The locale and chronology are used to lookup the locale specific format
      for the requested dateStyle and/or timeStyle.
      @param dateStyle  the FormatStyle for the date, null for time-only pattern
      @param timeStyle  the FormatStyle for the time, null for date-only pattern
      @param chrono  the Chronology, non-null
      @param locale  the locale, non-null
      @return the locale and Chronology specific formatting pattern
      @throws IllegalArgumentException if both dateStyle and timeStyle are null</div>
<a id="L203" name="L203"></a> 203     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1537.html#L4371" title="Referred from 4371 in src/java/time/format/DateTimeFormatterBuilder.java.">getLocalizedDateTimePattern</a>(<a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> dateStyle, <a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> timeStyle,
<a id="L204" name="L204"></a> 204             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L205" name="L205"></a> 205         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, "locale");
<a id="L206" name="L206"></a> 206         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(chrono, "chrono");
<a id="L207" name="L207"></a> 207         <strong class="reserved">if</strong> (dateStyle == <strong class="reserved">null</strong> &amp;&amp; timeStyle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Either dateStyle or timeStyle must be non-null");
<a id="L209" name="L209"></a> 209         <em class="brace">}</em>
<a id="L210" name="L210"></a> 210         LocaleResources lr = LocaleProviderAdapter.getResourceBundleBased().getLocaleResources(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L211" name="L211"></a> 211         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a> = lr.getJavaTimeDateTimePattern(
<a id="L212" name="L212"></a> 212                 <a href="../S/1537.html#L222" title="Defined at 222 in src/java/time/format/DateTimeFormatterBuilder.java.">convertStyle</a>(timeStyle), <a href="../S/1537.html#L222" title="Defined at 222 in src/java/time/format/DateTimeFormatterBuilder.java.">convertStyle</a>(dateStyle), chrono.<a href="../D/17463.html" title="Multiple defined in 9 places.">getCalendarType</a>());
<a id="L213" name="L213"></a> 213         <strong class="reserved">return</strong> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>;
<a id="L214" name="L214"></a> 214     <em class="brace">}</em>
<a id="L215" name="L215"></a> 215 
<div class="comment">
      Converts the given FormatStyle to the java.text.DateFormat style.
      @param style  the FormatStyle style
      @return the int style, or -1 if style is null, indicating un-required</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/1537.html#L212" title="Referred from 212 in src/java/time/format/DateTimeFormatterBuilder.java.">convertStyle</a>(<a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> style) <em class="brace">{</em>
<a id="L223" name="L223"></a> 223         <strong class="reserved">if</strong> (style == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L224" name="L224"></a> 224             <strong class="reserved">return</strong> -1;
<a id="L225" name="L225"></a> 225         <em class="brace">}</em>
<a id="L226" name="L226"></a> 226         <strong class="reserved">return</strong> style.<a href="../D/28579.html" title="Multiple defined in 2 places.">ordinal</a>();  <em class="comment">// indices happen to align</em>
<a id="L227" name="L227"></a> 227     <em class="brace">}</em>
<a id="L228" name="L228"></a> 228 
<div class="comment">
      Constructs a new instance of the builder.</div>
<a id="L232" name="L232"></a> 232     <strong class="reserved">public</strong> DateTimeFormatterBuilder() <em class="brace">{</em>
<a id="L233" name="L233"></a> 233         <strong class="reserved">super</strong>();
<a id="L234" name="L234"></a> 234         <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <strong class="reserved">null</strong>;
<a id="L235" name="L235"></a> 235         optional = <strong class="reserved">false</strong>;
<a id="L236" name="L236"></a> 236     <em class="brace">}</em>
<a id="L237" name="L237"></a> 237 
<div class="comment">
      Constructs a new instance of the builder.
      @param parent  the parent builder, not null
      @param optional  whether the formatter is optional, not null</div>
<a id="L244" name="L244"></a> 244     <strong class="reserved">private</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a>(DateTimeFormatterBuilder <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <strong class="reserved">boolean</strong> optional) <em class="brace">{</em>
<a id="L245" name="L245"></a> 245         <strong class="reserved">super</strong>();
<a id="L246" name="L246"></a> 246         <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L247" name="L247"></a> 247         <strong class="reserved">this</strong>.optional = optional;
<a id="L248" name="L248"></a> 248     <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Changes the parse style to be case sensitive for the remainder of the formatter.
      <p>
      Parsing can be case sensitive or insensitive - by default it is case sensitive.
      This method allows the case sensitivity setting of parsing to be changed.
      </p><p>
      Calling this method changes the state of the builder such that all
      subsequent builder method calls will parse text in case sensitive mode.
      See <a href="#L289" title="Defined at 289.">parseCaseInsensitive</a> for the opposite setting.
      The parse case sensitive/insensitive methods may be called at any point
      in the builder, thus the parser can swap between case parsing modes
      multiple times during the parse.
      </p><p>
      Since the default is case sensitive, this method should only be used after
      a previous call to <code>#parseCaseInsensitive</code>.
      @return this, for chaining, not null</p></div>
<a id="L269" name="L269"></a> 269     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/24517.html" title="Multiple referred from 2 places.">parseCaseSensitive</a>() <em class="brace">{</em>
<a id="L270" name="L270"></a> 270         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<a href="../S/1537.html#L2311" title="Defined at 2311 in src/java/time/format/DateTimeFormatterBuilder.java.">SettingsParser</a>.SENSITIVE);
<a id="L271" name="L271"></a> 271         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L272" name="L272"></a> 272     <em class="brace">}</em>
<a id="L273" name="L273"></a> 273 
<div class="comment">
      Changes the parse style to be case insensitive for the remainder of the formatter.
      <p>
      Parsing can be case sensitive or insensitive - by default it is case sensitive.
      This method allows the case sensitivity setting of parsing to be changed.
      </p><p>
      Calling this method changes the state of the builder such that all
      subsequent builder method calls will parse text in case insensitive mode.
      See {@link #parseCaseSensitive()} for the opposite setting.
      The parse case sensitive/insensitive methods may be called at any point
      in the builder, thus the parser can swap between case parsing modes
      multiple times during the parse.
      @return this, for chaining, not null</p></div>
<a id="L289" name="L289"></a> 289     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/24516.html" title="Multiple referred from 11 places.">parseCaseInsensitive</a>() <em class="brace">{</em>
<a id="L290" name="L290"></a> 290         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<a href="../S/1537.html#L2311" title="Defined at 2311 in src/java/time/format/DateTimeFormatterBuilder.java.">SettingsParser</a>.INSENSITIVE);
<a id="L291" name="L291"></a> 291         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L292" name="L292"></a> 292     <em class="brace">}</em>
<a id="L293" name="L293"></a> 293 
<a id="L294" name="L294"></a> 294     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Changes the parse style to be strict for the remainder of the formatter.
      <p>
      Parsing can be strict or lenient - by default its strict.
      This controls the degree of flexibility in matching the text and sign styles.
      </p><p>
      When used, this method changes the parsing to be strict from this point onwards.
      As strict is the default, this is normally only needed after calling {@link #parseLenient()}.
      The change will remain in force until the end of the formatter that is eventually
      constructed or until <code>parseLenient</code> is called.
      @return this, for chaining, not null</p></div>
<a id="L308" name="L308"></a> 308     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> parseStrict() <em class="brace">{</em>
<a id="L309" name="L309"></a> 309         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<a href="../S/1537.html#L2311" title="Defined at 2311 in src/java/time/format/DateTimeFormatterBuilder.java.">SettingsParser</a>.STRICT);
<a id="L310" name="L310"></a> 310         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L311" name="L311"></a> 311     <em class="brace">}</em>
<a id="L312" name="L312"></a> 312 
<div class="comment">
      Changes the parse style to be lenient for the remainder of the formatter.
      Note that case sensitivity is set separately to this method.
      <p>
      Parsing can be strict or lenient - by default its strict.
      This controls the degree of flexibility in matching the text and sign styles.
      Applications calling this method should typically also call {@link #parseCaseInsensitive()}.
      </p><p>
      When used, this method changes the parsing to be lenient from this point onwards.
      The change will remain in force until the end of the formatter that is eventually
      constructed or until <code>parseStrict</code> is called.
      @return this, for chaining, not null</p></div>
<a id="L327" name="L327"></a> 327     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../S/1541.html#L1244" title="Referred from 1244 in src/java/time/format/DateTimeFormatter.java.">parseLenient</a>() <em class="brace">{</em>
<a id="L328" name="L328"></a> 328         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<a href="../S/1537.html#L2311" title="Defined at 2311 in src/java/time/format/DateTimeFormatterBuilder.java.">SettingsParser</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>);
<a id="L329" name="L329"></a> 329         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L330" name="L330"></a> 330     <em class="brace">}</em>
<a id="L331" name="L331"></a> 331 
<a id="L332" name="L332"></a> 332     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends a default value for a field to the formatter for use in parsing.
      <p>
      This appends an instruction to the builder to inject a default value
      into the parsed result. This is especially useful in conjunction with
      optional parts of the formatter.
      </p><p>
      For example, consider a formatter that parses the year, followed by
      an optional month, with a further optional day-of-month. Using such a
      formatter would require the calling code to check whether a full date,
      year-month or just a year had been parsed. This method can be used to
      default the month and day-of-month to a sensible value, such as the
      first of the month, allowing the calling code to always get a date.
      </p><p>
      During formatting, this method has no effect.
      </p><p>
      During parsing, the current state of the parse is inspected.
      If the specified field has no associated value, because it has not been
      parsed successfully at that point, then the specified value is injected
      into the parse result. Injection is immediate, thus the field-value pair
      will be visible to any subsequent elements in the formatter.
      As such, this method is normally called at the end of the builder.
      @param field  the field to default the value of, not null
      @param value  the value to default the field to
      @return this, for chaining, not null</p></div>
<a id="L360" name="L360"></a> 360     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> parseDefaulting(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L362" name="L362"></a> 362         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L2351" title="Defined at 2351 in src/java/time/format/DateTimeFormatterBuilder.java.">DefaultValueParser</a>(field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>));
<a id="L363" name="L363"></a> 363         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L364" name="L364"></a> 364     <em class="brace">}</em>
<a id="L365" name="L365"></a> 365 
<a id="L366" name="L366"></a> 366     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the value of a date-time field to the formatter using a normal
      output style.
      <p>
      The value of the field will be output during a format.
      If the value cannot be obtained then an exception will be thrown.
      </p><p>
      The value will be printed as per the normal format of an integer value.
      Only negative numbers will be signed. No padding will be added.
      </p><p>
      The parser for a variable width value such as this normally behaves greedily,
      requiring one digit, but accepting as many digits as possible.
      This behavior can be affected by 'adjacent value parsing'.
      See {@link #appendValue(java.time.temporal.TemporalField, int)} for full details.
      @param field  the field to append, not null
      @return this, for chaining, not null</p></div>
<a id="L385" name="L385"></a> 385     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10253.html" title="Multiple referred from 48 places.">appendValue</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field) <em class="brace">{</em>
<a id="L386" name="L386"></a> 386         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L387" name="L387"></a> 387         <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, 1, 19, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NORMAL));
<a id="L388" name="L388"></a> 388         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L389" name="L389"></a> 389     <em class="brace">}</em>
<a id="L390" name="L390"></a> 390 
<div class="comment">
      Appends the value of a date-time field to the formatter using a fixed
      width, zero-padded approach.
      <p>
      The value of the field will be output during a format.
      If the value cannot be obtained then an exception will be thrown.
      </p><p>
      The value will be zero-padded on the left. If the size of the value
      means that it cannot be printed within the width then an exception is thrown.
      If the value of the field is negative then an exception is thrown during formatting.
      </p><p>
      This method supports a special technique of parsing known as 'adjacent value parsing'.
      This technique solves the problem where a value, variable or fixed width, is followed by one or more
      fixed length values. The standard parser is greedy, and thus it would normally
      steal the digits that are needed by the fixed width value parsers that follow the
      variable width one.
      </p><p>
      No action is required to initiate 'adjacent value parsing'.
      When a call to <code>appendValue</code> is made, the builder
      enters adjacent value parsing setup mode. If the immediately subsequent method
      call or calls on the same builder are for a fixed width value, then the parser will reserve
      space so that the fixed width values can be parsed.
      </p><p>
      For example, consider <code>builder.appendValue(YEAR).appendValue(MONTH_OF_YEAR, 2);</code>
      The year is a variable width parse of between 1 and 19 digits.
      The month is a fixed width parse of 2 digits.
      Because these were appended to the same builder immediately after one another,
      the year parser will reserve two digits for the month to parse.
      Thus, the text '201106' will correctly parse to a year of 2011 and a month of 6.
      Without adjacent value parsing, the year would greedily parse all six digits and leave
      nothing for the month.
      </p><p>
      Adjacent value parsing applies to each set of fixed width not-negative values in the parser
      that immediately follow any kind of value, variable or fixed width.
      Calling any other append method will end the setup of adjacent value parsing.
      Thus, in the unlikely event that you need to avoid adjacent value parsing behavior,
      simply add the <code>appendValue</code> to another <code>DateTimeFormatterBuilder</code>
      and add that to this builder.
      </p><p>
      If adjacent parsing is active, then parsing must match exactly the specified
      number of digits in both strict and lenient modes.
      In addition, no positive or negative sign is permitted.
      @param field  the field to append, not null
      @param width  the width of the printed field, from 1 to 19
      @return this, for chaining, not null
      @throws IllegalArgumentException if the width is invalid</p></div>
<a id="L439" name="L439"></a> 439     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10253.html" title="Multiple referred from 48 places.">appendValue</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L441" name="L441"></a> 441         <strong class="reserved">if</strong> (<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> &lt; 1 || <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> &gt; 19) <em class="brace">{</em>
<a id="L442" name="L442"></a> 442             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The width must be from 1 to 19 inclusive but was " + <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>);
<a id="L443" name="L443"></a> 443         <em class="brace">}</em>
<a id="L444" name="L444"></a> 444         <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> pp = <strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NOT_NEGATIVE);
<a id="L445" name="L445"></a> 445         <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(pp);
<a id="L446" name="L446"></a> 446         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L447" name="L447"></a> 447     <em class="brace">}</em>
<a id="L448" name="L448"></a> 448 
<div class="comment">
      Appends the value of a date-time field to the formatter providing full
      control over formatting.
      <p>
      The value of the field will be output during a format.
      If the value cannot be obtained then an exception will be thrown.
      </p><p>
      This method provides full control of the numeric formatting, including
      zero-padding and the positive/negative sign.
      </p><p>
      The parser for a variable width value such as this normally behaves greedily,
      accepting as many digits as possible.
      This behavior can be affected by 'adjacent value parsing'.
      See {@link #appendValue(java.time.temporal.TemporalField, int)} for full details.
      </p><p>
      In strict parsing mode, the minimum number of parsed digits is <code>minWidth</code>
      and the maximum is <code>maxWidth</code>.
      In lenient parsing mode, the minimum number of parsed digits is one
      and the maximum is 19 (except as limited by adjacent value parsing).
      </p><p>
      If this method is invoked with equal minimum and maximum widths and a sign style of
      <code>NOT_NEGATIVE</code> then it delegates to <code>appendValue(TemporalField,int)</code>.
      In this scenario, the formatting and parsing behavior described there occur.
      @param field  the field to append, not null
      @param minWidth  the minimum field width of the printed field, from 1 to 19
      @param maxWidth  the maximum field width of the printed field, from 1 to 19
      @param signStyle  the positive/negative output style, not null
      @return this, for chaining, not null
      @throws IllegalArgumentException if the widths are invalid</p></div>
<a id="L480" name="L480"></a> 480     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10253.html" title="Multiple referred from 48 places.">appendValue</a>(
<a id="L481" name="L481"></a> 481             <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> minWidth, <strong class="reserved">int</strong> maxWidth, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a> signStyle) <em class="brace">{</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">if</strong> (minWidth == maxWidth &amp;&amp; signStyle == <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NOT_NEGATIVE) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483             <strong class="reserved">return</strong> <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field, maxWidth);
<a id="L484" name="L484"></a> 484         <em class="brace">}</em>
<a id="L485" name="L485"></a> 485         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L486" name="L486"></a> 486         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(signStyle, "signStyle");
<a id="L487" name="L487"></a> 487         <strong class="reserved">if</strong> (minWidth &lt; 1 || minWidth &gt; 19) <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The minimum width must be from 1 to 19 inclusive but was " + minWidth);
<a id="L489" name="L489"></a> 489         <em class="brace">}</em>
<a id="L490" name="L490"></a> 490         <strong class="reserved">if</strong> (maxWidth &lt; 1 || maxWidth &gt; 19) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The maximum width must be from 1 to 19 inclusive but was " + maxWidth);
<a id="L492" name="L492"></a> 492         <em class="brace">}</em>
<a id="L493" name="L493"></a> 493         <strong class="reserved">if</strong> (maxWidth &lt; minWidth) <em class="brace">{</em>
<a id="L494" name="L494"></a> 494             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The maximum width must exceed or equal the minimum width but " +
<a id="L495" name="L495"></a> 495                     maxWidth + " &lt; " + minWidth);
<a id="L496" name="L496"></a> 496         <em class="brace">}</em>
<a id="L497" name="L497"></a> 497         <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> pp = <strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, minWidth, maxWidth, signStyle);
<a id="L498" name="L498"></a> 498         <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(pp);
<a id="L499" name="L499"></a> 499         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L500" name="L500"></a> 500     <em class="brace">}</em>
<a id="L501" name="L501"></a> 501 
<a id="L502" name="L502"></a> 502     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the reduced value of a date-time field to the formatter.
      <p>
      Since fields such as year vary by chronology, it is recommended to use the
      {@link #appendValueReduced(TemporalField, int, int, ChronoLocalDate)} date}
      variant of this method in most cases. This variant is suitable for
      simple fields or working with only the ISO chronology.
      </p><p>
      For formatting, the <code>width</code> and <code>maxWidth</code> are used to
      determine the number of characters to format.
      If they are equal then the format is fixed width.
      If the value of the field is within the range of the <code>baseValue</code> using
      <code>width</code> characters then the reduced value is formatted otherwise the value is
      truncated to fit <code>maxWidth</code>.
      The rightmost characters are output to match the width, left padding with zero.
      </p><p>
      For strict parsing, the number of characters allowed by <code>width</code> to <code>maxWidth</code> are parsed.
      For lenient parsing, the number of characters must be at least 1 and less than 10.
      If the number of digits parsed is equal to <code>width</code> and the value is positive,
      the value of the field is computed to be the first number greater than
      or equal to the <code>baseValue</code> with the same least significant characters,
      otherwise the value parsed is the field value.
      This allows a reduced value to be entered for values in range of the baseValue
      and width and absolute values can be entered for values outside the range.
      </p><p>
      For example, a base value of <code>1980</code> and a width of <code>2</code> will have
      valid values from <code>1980</code> to <code>2079</code>.
      During parsing, the text <code>"12"</code> will result in the value <code>2012</code> as that
      is the value within the range where the last two characters are "12".
      By contrast, parsing the text <code>"1915"</code> will result in the value <code>1915</code>.
      @param field  the field to append, not null
      @param width  the field width of the printed and parsed field, from 1 to 10
      @param maxWidth  the maximum field width of the printed field, from 1 to 10
      @param baseValue  the base value of the range of valid values
      @return this, for chaining, not null
      @throws IllegalArgumentException if the width or base value is invalid</p></div>
<a id="L541" name="L541"></a> 541     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../S/1537.html#L1711" title="Referred from 1711 in src/java/time/format/DateTimeFormatterBuilder.java.">appendValueReduced</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field,
<a id="L542" name="L542"></a> 542             <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">int</strong> maxWidth, <strong class="reserved">int</strong> baseValue) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L544" name="L544"></a> 544         <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a> pp = <strong class="reserved">new</strong> <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a>(field, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, maxWidth, baseValue, <strong class="reserved">null</strong>);
<a id="L545" name="L545"></a> 545         <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(pp);
<a id="L546" name="L546"></a> 546         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L547" name="L547"></a> 547     <em class="brace">}</em>
<a id="L548" name="L548"></a> 548 
<div class="comment">
      Appends the reduced value of a date-time field to the formatter.
      <p>
      This is typically used for formatting and parsing a two digit year.
      </p><p>
      The base date is used to calculate the full value during parsing.
      For example, if the base date is 1950-01-01 then parsed values for
      a two digit year parse will be in the range 1950-01-01 to 2049-12-31.
      Only the year would be extracted from the date, thus a base date of
      1950-08-25 would also parse to the range 1950-01-01 to 2049-12-31.
      This behavior is necessary to support fields such as week-based-year
      or other calendar systems where the parsed value does not align with
      standard ISO years.
      </p><p>
      The exact behavior is as follows. Parse the full set of fields and
      determine the effective chronology using the last chronology if
      it appears more than once. Then convert the base date to the
      effective chronology. Then extract the specified field from the
      chronology-specific base date and use it to determine the
      <code>baseValue</code> used below.
      </p><p>
      For formatting, the <code>width</code> and <code>maxWidth</code> are used to
      determine the number of characters to format.
      If they are equal then the format is fixed width.
      If the value of the field is within the range of the <code>baseValue</code> using
      <code>width</code> characters then the reduced value is formatted otherwise the value is
      truncated to fit <code>maxWidth</code>.
      The rightmost characters are output to match the width, left padding with zero.
      </p><p>
      For strict parsing, the number of characters allowed by <code>width</code> to <code>maxWidth</code> are parsed.
      For lenient parsing, the number of characters must be at least 1 and less than 10.
      If the number of digits parsed is equal to <code>width</code> and the value is positive,
      the value of the field is computed to be the first number greater than
      or equal to the <code>baseValue</code> with the same least significant characters,
      otherwise the value parsed is the field value.
      This allows a reduced value to be entered for values in range of the baseValue
      and width and absolute values can be entered for values outside the range.
      </p><p>
      For example, a base value of <code>1980</code> and a width of <code>2</code> will have
      valid values from <code>1980</code> to <code>2079</code>.
      During parsing, the text <code>"12"</code> will result in the value <code>2012</code> as that
      is the value within the range where the last two characters are "12".
      By contrast, parsing the text <code>"1915"</code> will result in the value <code>1915</code>.
      @param field  the field to append, not null
      @param width  the field width of the printed and parsed field, from 1 to 10
      @param maxWidth  the maximum field width of the printed field, from 1 to 10
      @param baseDate  the base date used to calculate the base value for the range
       of valid values in the parsed chronology, not null
      @return this, for chaining, not null
      @throws IllegalArgumentException if the width or base value is invalid</p></div>
<a id="L601" name="L601"></a> 601     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../S/1537.html#L1711" title="Referred from 1711 in src/java/time/format/DateTimeFormatterBuilder.java.">appendValueReduced</a>(
<a id="L602" name="L602"></a> 602             <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">int</strong> maxWidth, <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> baseDate) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L604" name="L604"></a> 604         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(baseDate, "baseDate");
<a id="L605" name="L605"></a> 605         <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a> pp = <strong class="reserved">new</strong> <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a>(field, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, maxWidth, 0, baseDate);
<a id="L606" name="L606"></a> 606         <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(pp);
<a id="L607" name="L607"></a> 607         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L608" name="L608"></a> 608     <em class="brace">}</em>
<a id="L609" name="L609"></a> 609 
<div class="comment">
      Appends a fixed or variable width printer-parser handling adjacent value mode.
      If a PrinterParser is not active then the new PrinterParser becomes
      the active PrinterParser.
      Otherwise, the active PrinterParser is modified depending on the new PrinterParser.
      If the new PrinterParser is fixed width and has sign style <code>NOT_NEGATIVE</code>
      then its width is added to the active PP and
      the new PrinterParser is forced to be fixed width.
      If the new PrinterParser is variable width, the active PrinterParser is changed
      to be fixed width and the new PrinterParser becomes the active PP.
      @param pp  the printer-parser, not null
      @return this, for chaining, not null</div>
<a id="L624" name="L624"></a> 624     <strong class="reserved">private</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10253.html" title="Multiple referred from 48 places.">appendValue</a>(<a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> pp) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625         <strong class="reserved">if</strong> (<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex &gt;= 0) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626             <strong class="reserved">final</strong> <strong class="reserved">int</strong> activeValueParser = <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex;
<a id="L627" name="L627"></a> 627 
<a id="L628" name="L628"></a> 628             <em class="comment">// adjacent parsing mode, update setting in previous parsers</em>
<a id="L629" name="L629"></a> 629             <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> basePP = (<a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>) <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.printerParsers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(activeValueParser);
<a id="L630" name="L630"></a> 630             <strong class="reserved">if</strong> (pp.minWidth == pp.maxWidth &amp;&amp; pp.signStyle == <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NOT_NEGATIVE) <em class="brace">{</em>
<a id="L631" name="L631"></a> 631                 <em class="comment">// Append the width to the subsequentWidth of the active parser</em>
<a id="L632" name="L632"></a> 632                 basePP = basePP.<a href="../D/36931.html" title="Multiple defined in 2 places.">withSubsequentWidth</a>(pp.maxWidth);
<a id="L633" name="L633"></a> 633                 <em class="comment">// Append the new parser as a fixed width</em>
<a id="L634" name="L634"></a> 634                 <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(pp.<a href="../D/36909.html" title="Multiple defined in 2 places.">withFixedWidth</a>());
<a id="L635" name="L635"></a> 635                 <em class="comment">// Retain the previous active parser</em>
<a id="L636" name="L636"></a> 636                 <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex = activeValueParser;
<a id="L637" name="L637"></a> 637             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L638" name="L638"></a> 638                 <em class="comment">// Modify the active parser to be fixed width</em>
<a id="L639" name="L639"></a> 639                 basePP = basePP.<a href="../D/36909.html" title="Multiple defined in 2 places.">withFixedWidth</a>();
<a id="L640" name="L640"></a> 640                 <em class="comment">// The new parser becomes the mew active parser</em>
<a id="L641" name="L641"></a> 641                 <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex = <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(pp);
<a id="L642" name="L642"></a> 642             <em class="brace">}</em>
<a id="L643" name="L643"></a> 643             <em class="comment">// Replace the modified parser with the updated one</em>
<a id="L644" name="L644"></a> 644             <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.printerParsers.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(activeValueParser, basePP);
<a id="L645" name="L645"></a> 645         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L646" name="L646"></a> 646             <em class="comment">// The new Parser becomes the active parser</em>
<a id="L647" name="L647"></a> 647             <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex = <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(pp);
<a id="L648" name="L648"></a> 648         <em class="brace">}</em>
<a id="L649" name="L649"></a> 649         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L650" name="L650"></a> 650     <em class="brace">}</em>
<a id="L651" name="L651"></a> 651 
<a id="L652" name="L652"></a> 652     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the fractional value of a date-time field to the formatter.
      <p>
      The fractional value of the field will be output including the
      preceding decimal point. The preceding value is not output.
      For example, the second-of-minute value of 15 would be output as <code>.25</code>.
      </p><p>
      The width of the printed fraction can be controlled. Setting the
      minimum width to zero will cause no output to be generated.
      The printed fraction will have the minimum width necessary between
      the minimum and maximum widths - trailing zeroes are omitted.
      No rounding occurs due to the maximum width - digits are simply dropped.
      </p><p>
      When parsing in strict mode, the number of parsed digits must be between
      the minimum and maximum width. When parsing in lenient mode, the minimum
      width is considered to be zero and the maximum is nine.
      </p><p>
      If the value cannot be obtained then an exception will be thrown.
      If the value is negative an exception will be thrown.
      If the field does not have a fixed set of valid values then an
      exception will be thrown.
      If the field value in the date-time to be printed is invalid it
      cannot be printed and an exception will be thrown.
      @param field  the field to append, not null
      @param minWidth  the minimum width of the field excluding the decimal point, from 0 to 9
      @param maxWidth  the maximum width of the field excluding the decimal point, from 1 to 9
      @param decimalPoint  whether to output the localized decimal point symbol
      @return this, for chaining, not null
      @throws IllegalArgumentException if the field has a variable set of valid values or
       either width is invalid</p></div>
<a id="L685" name="L685"></a> 685     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10211.html" title="Multiple referred from 3 places.">appendFraction</a>(
<a id="L686" name="L686"></a> 686             <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> minWidth, <strong class="reserved">int</strong> maxWidth, <strong class="reserved">boolean</strong> decimalPoint) <em class="brace">{</em>
<a id="L687" name="L687"></a> 687         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L2899" title="Defined at 2899 in src/java/time/format/DateTimeFormatterBuilder.java.">FractionPrinterParser</a>(field, minWidth, maxWidth, decimalPoint));
<a id="L688" name="L688"></a> 688         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L689" name="L689"></a> 689     <em class="brace">}</em>
<a id="L690" name="L690"></a> 690 
<a id="L691" name="L691"></a> 691     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the text of a date-time field to the formatter using the full
      text style.
      <p>
      The text of the field will be output during a format.
      The value must be within the valid range of the field.
      If the value cannot be obtained then an exception will be thrown.
      If the field has no textual representation, then the numeric value will be used.
      </p><p>
      The value will be printed as per the normal format of an integer value.
      Only negative numbers will be signed. No padding will be added.
      @param field  the field to append, not null
      @return this, for chaining, not null</p></div>
<a id="L707" name="L707"></a> 707     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10247.html" title="Multiple referred from 15 places.">appendText</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field) <em class="brace">{</em>
<a id="L708" name="L708"></a> 708         <strong class="reserved">return</strong> <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>);
<a id="L709" name="L709"></a> 709     <em class="brace">}</em>
<a id="L710" name="L710"></a> 710 
<div class="comment">
      Appends the text of a date-time field to the formatter.
      <p>
      The text of the field will be output during a format.
      The value must be within the valid range of the field.
      If the value cannot be obtained then an exception will be thrown.
      If the field has no textual representation, then the numeric value will be used.
      </p><p>
      The value will be printed as per the normal format of an integer value.
      Only negative numbers will be signed. No padding will be added.
      @param field  the field to append, not null
      @param textStyle  the text style to use, not null
      @return this, for chaining, not null</p></div>
<a id="L726" name="L726"></a> 726     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10247.html" title="Multiple referred from 15 places.">appendText</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle) <em class="brace">{</em>
<a id="L727" name="L727"></a> 727         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L728" name="L728"></a> 728         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(textStyle, "textStyle");
<a id="L729" name="L729"></a> 729         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3066" title="Defined at 3066 in src/java/time/format/DateTimeFormatterBuilder.java.">TextPrinterParser</a>(field, textStyle, <a href="../S/1544.html#L103" title="Defined at 103 in src/java/time/format/DateTimeTextProvider.java.">DateTimeTextProvider</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>()));
<a id="L730" name="L730"></a> 730         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L731" name="L731"></a> 731     <em class="brace">}</em>
<a id="L732" name="L732"></a> 732 
<div class="comment">
      Appends the text of a date-time field to the formatter using the specified
      map to supply the text.
      <p>
      The standard text outputting methods use the localized text in the JDK.
      This method allows that text to be specified directly.
      The supplied map is not validated by the builder to ensure that formatting or
      parsing is possible, thus an invalid map may throw an error during later use.
      </p><p>
      Supplying the map of text provides considerable flexibility in formatting and parsing.
      For example, a legacy application might require or supply the months of the
      year as "JNY", "FBY", "MCH" etc. These do not match the standard set of text
      for localized month names. Using this method, a map can be created which
      defines the connection between each value and the text:
      </p><pre>      Map&lt;Long, String&gt; map = new HashMap&lt;&gt;();
      map.put(1L, "JNY");
      map.put(2L, "FBY");
      map.put(3L, "MCH");
      ...
      builder.appendText(MONTH_OF_YEAR, map);
      </pre>
      <p>
      Other uses might be to output the value with a suffix, such as "1st", "2nd", "3rd",
      or as Roman numerals "I", "II", "III", "IV".
      </p><p>
      During formatting, the value is obtained and checked that it is in the valid range.
      If text is not available for the value then it is output as a number.
      During parsing, the parser will match against the map of text and numeric values.
      @param field  the field to append, not null
      @param textLookup  the map from the value to the text
      @return this, for chaining, not null</p></div>
<a id="L767" name="L767"></a> 767     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10247.html" title="Multiple referred from 15 places.">appendText</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; textLookup) <em class="brace">{</em>
<a id="L768" name="L768"></a> 768         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L769" name="L769"></a> 769         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(textLookup, "textLookup");
<a id="L770" name="L770"></a> 770         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = <strong class="reserved">new</strong> <a href="../S/860.html#L163" title="Defined at 163 in src/java/util/LinkedHashMap.java.">LinkedHashMap</a>&lt;&gt;(textLookup);
<a id="L771" name="L771"></a> 771         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4853" title="Defined at 4853 in src/java/util/Collections.java.">singletonMap</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>, <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>);
<a id="L772" name="L772"></a> 772         <strong class="reserved">final</strong> <a href="../S/1544.html#L494" title="Defined at 494 in src/java/time/format/DateTimeTextProvider.java.">LocaleStore</a> <a href="../D/34894.html" title="Multiple defined in 7 places.">store</a> = <strong class="reserved">new</strong> <a href="../S/1544.html#L494" title="Defined at 494 in src/java/time/format/DateTimeTextProvider.java.">LocaleStore</a>(<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L773" name="L773"></a> 773         <a href="../S/1544.html#L103" title="Defined at 103 in src/java/time/format/DateTimeTextProvider.java.">DateTimeTextProvider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <strong class="reserved">new</strong> <a href="../S/1544.html#L103" title="Defined at 103 in src/java/time/format/DateTimeTextProvider.java.">DateTimeTextProvider</a>() <em class="brace">{</em>
<a id="L774" name="L774"></a> 774             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L775" name="L775"></a> 775             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> style, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776                 <strong class="reserved">return</strong> <a href="../D/34894.html" title="Multiple defined in 7 places.">store</a>.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, style);
<a id="L777" name="L777"></a> 777             <em class="brace">}</em>
<a id="L778" name="L778"></a> 778             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L779" name="L779"></a> 779             <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt;&gt; <a href="../D/23062.html" title="Multiple defined in 3 places.">getTextIterator</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> style, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L780" name="L780"></a> 780                 <strong class="reserved">return</strong> <a href="../D/34894.html" title="Multiple defined in 7 places.">store</a>.<a href="../D/23062.html" title="Multiple defined in 3 places.">getTextIterator</a>(style);
<a id="L781" name="L781"></a> 781             <em class="brace">}</em>
<a id="L782" name="L782"></a> 782         <em class="brace">}</em>;
<a id="L783" name="L783"></a> 783         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3066" title="Defined at 3066 in src/java/time/format/DateTimeFormatterBuilder.java.">TextPrinterParser</a>(field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>));
<a id="L784" name="L784"></a> 784         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L785" name="L785"></a> 785     <em class="brace">}</em>
<a id="L786" name="L786"></a> 786 
<a id="L787" name="L787"></a> 787     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends an instant using ISO-8601 to the formatter, formatting fractional
      digits in groups of three.
      <p>
      Instants have a fixed output format.
      They are converted to a date-time with a zone-offset of UTC and formatted
      using the standard ISO-8601 format.
      With this method, formatting nano-of-second outputs zero, three, six
      or nine digits digits as necessary.
      The localized decimal style is not used.
      </p><p>
      The instant is obtained using {@link ChronoField#INSTANT_SECONDS INSTANT_SECONDS}
      and optionally (@code NANO_OF_SECOND). The value of <code>INSTANT_SECONDS</code>
      may be outside the maximum range of <code>LocalDateTime</code>.
      </p><p>
      The {@linkplain ResolverStyle resolver style} has no effect on instant parsing.
      The end-of-day time of '24:00' is handled as midnight at the start of the following day.
      The leap-second time of '23:59:59' is handled to some degree, see
      {@link DateTimeFormatter#parsedLeapSecond()} for full details.
      </p><p>
      An alternative to this method is to format/parse the instant as a single
      epoch-seconds value. That is achieved using <code>appendValue(INSTANT_SECONDS)</code>.
      @return this, for chaining, not null</p></div>
<a id="L813" name="L813"></a> 813     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../S/1541.html#L1129" title="Referred from 1129 in src/java/time/format/DateTimeFormatter.java.">appendInstant</a>() <em class="brace">{</em>
<a id="L814" name="L814"></a> 814         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3163" title="Defined at 3163 in src/java/time/format/DateTimeFormatterBuilder.java.">InstantPrinterParser</a>(-2));
<a id="L815" name="L815"></a> 815         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L816" name="L816"></a> 816     <em class="brace">}</em>
<a id="L817" name="L817"></a> 817 
<div class="comment">
      Appends an instant using ISO-8601 to the formatter with control over
      the number of fractional digits.
      <p>
      Instants have a fixed output format, although this method provides some
      control over the fractional digits. They are converted to a date-time
      with a zone-offset of UTC and printed using the standard ISO-8601 format.
      The localized decimal style is not used.
      </p><p>
      The <code>fractionalDigits</code> parameter allows the output of the fractional
      second to be controlled. Specifying zero will cause no fractional digits
      to be output. From 1 to 9 will output an increasing number of digits, using
      zero right-padding if necessary. The special value -1 is used to output as
      many digits as necessary to avoid any trailing zeroes.
      </p><p>
      When parsing in strict mode, the number of parsed digits must match the
      fractional digits. When parsing in lenient mode, any number of fractional
      digits from zero to nine are accepted.
      </p><p>
      The instant is obtained using {@link ChronoField#INSTANT_SECONDS INSTANT_SECONDS}
      and optionally (@code NANO_OF_SECOND). The value of <code>INSTANT_SECONDS</code>
      may be outside the maximum range of <code>LocalDateTime</code>.
      </p><p>
      The {@linkplain ResolverStyle resolver style} has no effect on instant parsing.
      The end-of-day time of '24:00' is handled as midnight at the start of the following day.
      The leap-second time of '23:59:60' is handled to some degree, see
      {@link DateTimeFormatter#parsedLeapSecond()} for full details.
      </p><p>
      An alternative to this method is to format/parse the instant as a single
      epoch-seconds value. That is achieved using <code>appendValue(INSTANT_SECONDS)</code>.
      @param fractionalDigits  the number of fractional second digits to format with,
       from 0 to 9, or -1 to use as many digits as necessary
      @return this, for chaining, not null</p></div>
<a id="L853" name="L853"></a> 853     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../S/1541.html#L1129" title="Referred from 1129 in src/java/time/format/DateTimeFormatter.java.">appendInstant</a>(<strong class="reserved">int</strong> fractionalDigits) <em class="brace">{</em>
<a id="L854" name="L854"></a> 854         <strong class="reserved">if</strong> (fractionalDigits &lt; -1 || fractionalDigits &gt; 9) <em class="brace">{</em>
<a id="L855" name="L855"></a> 855             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The fractional digits must be from -1 to 9 inclusive but was " + fractionalDigits);
<a id="L856" name="L856"></a> 856         <em class="brace">}</em>
<a id="L857" name="L857"></a> 857         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3163" title="Defined at 3163 in src/java/time/format/DateTimeFormatterBuilder.java.">InstantPrinterParser</a>(fractionalDigits));
<a id="L858" name="L858"></a> 858         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L859" name="L859"></a> 859     <em class="brace">}</em>
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the zone offset, such as '+01:00', to the formatter.
      <p>
      This appends an instruction to format/parse the offset ID to the builder.
      This is equivalent to calling <code>appendOffset("+HH:MM:ss", "Z")</code>.
      @return this, for chaining, not null</p></div>
<a id="L870" name="L870"></a> 870     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10228.html" title="Multiple referred from 8 places.">appendOffsetId</a>() <em class="brace">{</em>
<a id="L871" name="L871"></a> 871         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.INSTANCE_ID_Z);
<a id="L872" name="L872"></a> 872         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L873" name="L873"></a> 873     <em class="brace">}</em>
<a id="L874" name="L874"></a> 874 
<div class="comment">
      Appends the zone offset, such as '+01:00', to the formatter.
      <p>
      This appends an instruction to format/parse the offset ID to the builder.
      </p><p>
      During formatting, the offset is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#offset()}.
      It will be printed using the format defined below.
      If the offset cannot be obtained then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      During parsing, the offset is parsed using the format defined below.
      If the offset cannot be parsed then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      The format of the offset is controlled by a pattern which must be one
      of the following:
      </p><ul><li><code>+HH</code> - hour only, ignoring minute and second
      </li><li><code>+HHmm</code> - hour, with minute if non-zero, ignoring second, no colon
      </li><li><code>+HH:mm</code> - hour, with minute if non-zero, ignoring second, with colon
      </li><li><code>+HHMM</code> - hour and minute, ignoring second, no colon
      </li><li><code>+HH:MM</code> - hour and minute, ignoring second, with colon
      </li><li><code>+HHMMss</code> - hour and minute, with second if non-zero, no colon
      </li><li><code>+HH:MM:ss</code> - hour and minute, with second if non-zero, with colon
      </li><li><code>+HHMMSS</code> - hour, minute and second, no colon
      </li><li><code>+HH:MM:SS</code> - hour, minute and second, with colon
      </li></ul>
      The "no offset" text controls what text is printed when the total amount of
      the offset fields to be output is zero.
      Example values would be 'Z', '+00:00', 'UTC' or 'GMT'.
      Three formats are accepted for parsing UTC - the "no offset" text, and the
      plus and minus versions of zero defined by the pattern.
      @param pattern  the pattern to use, not null
      @param noOffsetText  the text to use when the offset is zero, not null
      @return this, for chaining, not null</div>
<a id="L913" name="L913"></a> 913     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10227.html" title="Multiple referred from 6 places.">appendOffset</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> noOffsetText) <em class="brace">{</em>
<a id="L914" name="L914"></a> 914         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, noOffsetText));
<a id="L915" name="L915"></a> 915         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L916" name="L916"></a> 916     <em class="brace">}</em>
<a id="L917" name="L917"></a> 917 
<div class="comment">
      Appends the localized zone offset, such as 'GMT+01:00', to the formatter.
      <p>
      This appends a localized zone offset to the builder, the format of the
      localized offset is controlled by the specified <a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a>
      to this method:
      </p><ul><li>{@link TextStyle#FULL full} - formats with localized offset text, such
      as 'GMT, 2-digit hour and minute field, optional second field if non-zero,
      and colon.
      </li><li>{@link TextStyle#SHORT short} - formats with localized offset text,
      such as 'GMT, hour without leading zero, optional 2-digit minute and
      second if non-zero, and colon.
      </li></ul>
      <p>
      During formatting, the offset is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#offset()}.
      If the offset cannot be obtained then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      During parsing, the offset is parsed using the format defined above.
      If the offset cannot be parsed then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      @param style  the format style to use, not null
      @return this, for chaining, not null
      @throws IllegalArgumentException if style is neither {@link TextStyle#FULL
      full} nor {@link TextStyle#SHORT short}</p></div>
<a id="L947" name="L947"></a> 947     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10220.html" title="Multiple referred from 3 places.">appendLocalizedOffset</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> style) <em class="brace">{</em>
<a id="L948" name="L948"></a> 948         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(style, "style");
<a id="L949" name="L949"></a> 949         <strong class="reserved">if</strong> (style != <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a> &amp;&amp; style != <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>) <em class="brace">{</em>
<a id="L950" name="L950"></a> 950             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Style must be either full or short");
<a id="L951" name="L951"></a> 951         <em class="brace">}</em>
<a id="L952" name="L952"></a> 952         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3455" title="Defined at 3455 in src/java/time/format/DateTimeFormatterBuilder.java.">LocalizedOffsetIdPrinterParser</a>(style));
<a id="L953" name="L953"></a> 953         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L954" name="L954"></a> 954     <em class="brace">}</em>
<a id="L955" name="L955"></a> 955 
<a id="L956" name="L956"></a> 956     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the time-zone ID, such as 'Europe/Paris' or '+02:00', to the formatter.
      <p>
      This appends an instruction to format/parse the zone ID to the builder.
      The zone ID is obtained in a strict manner suitable for <code>ZonedDateTime</code>.
      By contrast, <code>OffsetDateTime</code> does not have a zone ID suitable
      for use with this method, see {@link #appendZoneOrOffsetId()}.
      </p><p>
      During formatting, the zone is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#zoneId()}.
      It will be printed using the result of {@link ZoneId#getId()}.
      If the zone cannot be obtained then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      During parsing, the text must match a known zone or offset.
      There are two types of zone ID, offset-based, such as '+01:30' and
      region-based, such as 'Europe/London'. These are parsed differently.
      If the parse starts with '+', '-', 'UT', 'UTC' or 'GMT', then the parser
      expects an offset-based zone and will not match region-based zones.
      The offset ID, such as '+02:30', may be at the start of the parse,
      or prefixed by  'UT', 'UTC' or 'GMT'. The offset ID parsing is
      equivalent to using {@link #appendOffset(String, String)} using the
      arguments 'HH:MM:ss' and the no offset string '0'.
      If the parse starts with 'UT', 'UTC' or 'GMT', and the parser cannot
      match a following offset ID, then {@link ZoneOffset#UTC} is selected.
      In all other cases, the list of known region-based zones is used to
      find the longest available match. If no match is found, and the parse
      starts with 'Z', then <code>ZoneOffset.UTC</code> is selected.
      The parser uses the {@linkplain #parseCaseInsensitive() case sensitive} setting.
      </p><p>
      For example, the following will parse:
      </p><pre>        "Europe/London"           -- ZoneId.of("Europe/London")
        "Z"                       -- ZoneOffset.UTC
        "UT"                      -- ZoneId.of("UT")
        "UTC"                     -- ZoneId.of("UTC")
        "GMT"                     -- ZoneId.of("GMT")
        "+01:30"                  -- ZoneOffset.of("+01:30")
        "UT+01:30"                -- ZoneOffset.of("+01:30")
        "UTC+01:30"               -- ZoneOffset.of("+01:30")
        "GMT+01:30"               -- ZoneOffset.of("+01:30")
      </pre>
      @return this, for chaining, not null
      @see #appendZoneRegionId()</div>
<a id="L1003" name="L1003"></a>1003     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../S/1537.html#L1615" title="Referred from 1615 in src/java/time/format/DateTimeFormatterBuilder.java.">appendZoneId</a>() <em class="brace">{</em>
<a id="L1004" name="L1004"></a>1004         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3765" title="Defined at 3765 in src/java/time/format/DateTimeFormatterBuilder.java.">ZoneIdPrinterParser</a>(<a href="../S/1481.html#L118" title="Defined at 118 in src/java/time/temporal/TemporalQueries.java.">TemporalQueries</a>.<a href="../S/1481.html#L167" title="Defined at 167 in src/java/time/temporal/TemporalQueries.java.">zoneId</a>(), "ZoneId()"));
<a id="L1005" name="L1005"></a>1005         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1006" name="L1006"></a>1006     <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007 
<div class="comment">
      Appends the time-zone region ID, such as 'Europe/Paris', to the formatter,
      rejecting the zone ID if it is a <code>ZoneOffset</code>.
      <p>
      This appends an instruction to format/parse the zone ID to the builder
      only if it is a region-based ID.
      </p><p>
      During formatting, the zone is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#zoneId()}.
      If the zone is a <code>ZoneOffset</code> or it cannot be obtained then
      an exception is thrown unless the section of the formatter is optional.
      If the zone is not an offset, then the zone will be printed using
      the zone ID from {@link ZoneId#getId()}.
      </p><p>
      During parsing, the text must match a known zone or offset.
      There are two types of zone ID, offset-based, such as '+01:30' and
      region-based, such as 'Europe/London'. These are parsed differently.
      If the parse starts with '+', '-', 'UT', 'UTC' or 'GMT', then the parser
      expects an offset-based zone and will not match region-based zones.
      The offset ID, such as '+02:30', may be at the start of the parse,
      or prefixed by  'UT', 'UTC' or 'GMT'. The offset ID parsing is
      equivalent to using {@link #appendOffset(String, String)} using the
      arguments 'HH:MM:ss' and the no offset string '0'.
      If the parse starts with 'UT', 'UTC' or 'GMT', and the parser cannot
      match a following offset ID, then {@link ZoneOffset#UTC} is selected.
      In all other cases, the list of known region-based zones is used to
      find the longest available match. If no match is found, and the parse
      starts with 'Z', then <code>ZoneOffset.UTC</code> is selected.
      The parser uses the {@linkplain #parseCaseInsensitive() case sensitive} setting.
      </p><p>
      For example, the following will parse:
      </p><pre>        "Europe/London"           -- ZoneId.of("Europe/London")
        "Z"                       -- ZoneOffset.UTC
        "UT"                      -- ZoneId.of("UT")
        "UTC"                     -- ZoneId.of("UTC")
        "GMT"                     -- ZoneId.of("GMT")
        "+01:30"                  -- ZoneOffset.of("+01:30")
        "UT+01:30"                -- ZoneOffset.of("+01:30")
        "UTC+01:30"               -- ZoneOffset.of("+01:30")
        "GMT+01:30"               -- ZoneOffset.of("+01:30")
      </pre>
      <p>
      Note that this method is identical to <code>appendZoneId()</code> except
      in the mechanism used to obtain the zone.
      Note also that parsing accepts offsets, whereas formatting will never
      produce one.
      @return this, for chaining, not null
      @see #appendZoneId()</p></div>
<a id="L1059" name="L1059"></a>1059     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10257.html" title="Multiple referred from 2 places.">appendZoneRegionId</a>() <em class="brace">{</em>
<a id="L1060" name="L1060"></a>1060         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3765" title="Defined at 3765 in src/java/time/format/DateTimeFormatterBuilder.java.">ZoneIdPrinterParser</a>(QUERY_REGION_ONLY, "ZoneRegionId()"));
<a id="L1061" name="L1061"></a>1061         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1062" name="L1062"></a>1062     <em class="brace">}</em>
<a id="L1063" name="L1063"></a>1063 
<div class="comment">
      Appends the time-zone ID, such as 'Europe/Paris' or '+02:00', to
      the formatter, using the best available zone ID.
      <p>
      This appends an instruction to format/parse the best available
      zone or offset ID to the builder.
      The zone ID is obtained in a lenient manner that first attempts to
      find a true zone ID, such as that on <code>ZonedDateTime</code>, and
      then attempts to find an offset, such as that on <code>OffsetDateTime</code>.
      </p><p>
      During formatting, the zone is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#zone()}.
      It will be printed using the result of {@link ZoneId#getId()}.
      If the zone cannot be obtained then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      During parsing, the text must match a known zone or offset.
      There are two types of zone ID, offset-based, such as '+01:30' and
      region-based, such as 'Europe/London'. These are parsed differently.
      If the parse starts with '+', '-', 'UT', 'UTC' or 'GMT', then the parser
      expects an offset-based zone and will not match region-based zones.
      The offset ID, such as '+02:30', may be at the start of the parse,
      or prefixed by  'UT', 'UTC' or 'GMT'. The offset ID parsing is
      equivalent to using {@link #appendOffset(String, String)} using the
      arguments 'HH:MM:ss' and the no offset string '0'.
      If the parse starts with 'UT', 'UTC' or 'GMT', and the parser cannot
      match a following offset ID, then {@link ZoneOffset#UTC} is selected.
      In all other cases, the list of known region-based zones is used to
      find the longest available match. If no match is found, and the parse
      starts with 'Z', then <code>ZoneOffset.UTC</code> is selected.
      The parser uses the {@linkplain #parseCaseInsensitive() case sensitive} setting.
      </p><p>
      For example, the following will parse:
      </p><pre>        "Europe/London"           -- ZoneId.of("Europe/London")
        "Z"                       -- ZoneOffset.UTC
        "UT"                      -- ZoneId.of("UT")
        "UTC"                     -- ZoneId.of("UTC")
        "GMT"                     -- ZoneId.of("GMT")
        "+01:30"                  -- ZoneOffset.of("+01:30")
        "UT+01:30"                -- ZoneOffset.of("UT+01:30")
        "UTC+01:30"               -- ZoneOffset.of("UTC+01:30")
        "GMT+01:30"               -- ZoneOffset.of("GMT+01:30")
      </pre>
      <p>
      Note that this method is identical to <code>appendZoneId()</code> except
      in the mechanism used to obtain the zone.
      @return this, for chaining, not null
      @see #appendZoneId()</p></div>
<a id="L1115" name="L1115"></a>1115     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> appendZoneOrOffsetId() <em class="brace">{</em>
<a id="L1116" name="L1116"></a>1116         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3765" title="Defined at 3765 in src/java/time/format/DateTimeFormatterBuilder.java.">ZoneIdPrinterParser</a>(<a href="../S/1481.html#L118" title="Defined at 118 in src/java/time/temporal/TemporalQueries.java.">TemporalQueries</a>.<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>(), "ZoneOrOffsetId()"));
<a id="L1117" name="L1117"></a>1117         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1118" name="L1118"></a>1118     <em class="brace">}</em>
<a id="L1119" name="L1119"></a>1119 
<div class="comment">
      Appends the time-zone name, such as 'British Summer Time', to the formatter.
      <p>
      This appends an instruction to format/parse the textual name of the zone to
      the builder.
      </p><p>
      During formatting, the zone is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#zoneId()}.
      If the zone is a <code>ZoneOffset</code> it will be printed using the
      result of {@link ZoneOffset#getId()}.
      If the zone is not an offset, the textual name will be looked up
      for the locale set in the <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a>.
      If the temporal object being printed represents an instant, then the text
      will be the summer or winter time text as appropriate.
      If the lookup for text does not find any suitable result, then the
      {@link ZoneId#getId() ID} will be printed instead.
      If the zone cannot be obtained then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      During parsing, either the textual zone name, the zone ID or the offset
      is accepted. Many textual zone names are not unique, such as CST can be
      for both "Central Standard Time" and "China Standard Time". In this
      situation, the zone id will be determined by the region information from
      formatter's  {@link DateTimeFormatter#getLocale() locale} and the standard
      zone id for that area, for example, America/New_York for the America Eastern
      zone. The {@link #appendZoneText(TextStyle, Set)} may be used
      to specify a set of preferred <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> in this situation.
      @param textStyle  the text style to use, not null
      @return this, for chaining, not null</p></div>
<a id="L1151" name="L1151"></a>1151     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10258.html" title="Multiple referred from 3 places.">appendZoneText</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle) <em class="brace">{</em>
<a id="L1152" name="L1152"></a>1152         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3616" title="Defined at 3616 in src/java/time/format/DateTimeFormatterBuilder.java.">ZoneTextPrinterParser</a>(textStyle, <strong class="reserved">null</strong>));
<a id="L1153" name="L1153"></a>1153         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1154" name="L1154"></a>1154     <em class="brace">}</em>
<a id="L1155" name="L1155"></a>1155 
<div class="comment">
      Appends the time-zone name, such as 'British Summer Time', to the formatter.
      <p>
      This appends an instruction to format/parse the textual name of the zone to
      the builder.
      </p><p>
      During formatting, the zone is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#zoneId()}.
      If the zone is a <code>ZoneOffset</code> it will be printed using the
      result of {@link ZoneOffset#getId()}.
      If the zone is not an offset, the textual name will be looked up
      for the locale set in the <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a>.
      If the temporal object being printed represents an instant, then the text
      will be the summer or winter time text as appropriate.
      If the lookup for text does not find any suitable result, then the
      {@link ZoneId#getId() ID} will be printed instead.
      If the zone cannot be obtained then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      During parsing, either the textual zone name, the zone ID or the offset
      is accepted. Many textual zone names are not unique, such as CST can be
      for both "Central Standard Time" and "China Standard Time". In this
      situation, the zone id will be determined by the region information from
      formatter's  {@link DateTimeFormatter#getLocale() locale} and the standard
      zone id for that area, for example, America/New_York for the America Eastern
      zone. This method also allows a set of preferred <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> to be
      specified for parsing. The matched preferred zone id will be used if the
      textural zone name being parsed is not unique.
      </p><p>
      If the zone cannot be parsed then an exception is thrown unless the
      section of the formatter is optional.
      @param textStyle  the text style to use, not null
      @param preferredZones  the set of preferred zone ids, not null
      @return this, for chaining, not null</p></div>
<a id="L1192" name="L1192"></a>1192     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10258.html" title="Multiple referred from 3 places.">appendZoneText</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle,
<a id="L1193" name="L1193"></a>1193                                                    <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>&gt; preferredZones) <em class="brace">{</em>
<a id="L1194" name="L1194"></a>1194         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(preferredZones, "preferredZones");
<a id="L1195" name="L1195"></a>1195         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L3616" title="Defined at 3616 in src/java/time/format/DateTimeFormatterBuilder.java.">ZoneTextPrinterParser</a>(textStyle, preferredZones));
<a id="L1196" name="L1196"></a>1196         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1197" name="L1197"></a>1197     <em class="brace">}</em>
<a id="L1198" name="L1198"></a>1198 
<a id="L1199" name="L1199"></a>1199     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the chronology ID, such as 'ISO' or 'ThaiBuddhist', to the formatter.
      <p>
      This appends an instruction to format/parse the chronology ID to the builder.
      </p><p>
      During formatting, the chronology is obtained using a mechanism equivalent
      to querying the temporal with {@link TemporalQueries#chronology()}.
      It will be printed using the result of {@link Chronology#getId()}.
      If the chronology cannot be obtained then an exception is thrown unless the
      section of the formatter is optional.
      </p><p>
      During parsing, the chronology is parsed and must match one of the chronologies
      in {@link Chronology#getAvailableChronologies()}.
      If the chronology cannot be parsed then an exception is thrown unless the
      section of the formatter is optional.
      The parser uses the {@linkplain #parseCaseInsensitive() case sensitive} setting.
      @return this, for chaining, not null</p></div>
<a id="L1219" name="L1219"></a>1219     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> appendChronologyId() <em class="brace">{</em>
<a id="L1220" name="L1220"></a>1220         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L4252" title="Defined at 4252 in src/java/time/format/DateTimeFormatterBuilder.java.">ChronoPrinterParser</a>(<strong class="reserved">null</strong>));
<a id="L1221" name="L1221"></a>1221         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1222" name="L1222"></a>1222     <em class="brace">}</em>
<a id="L1223" name="L1223"></a>1223 
<div class="comment">
      Appends the chronology name to the formatter.
      <p>
      The calendar system name will be output during a format.
      If the chronology cannot be obtained then an exception will be thrown.
      @param textStyle  the text style to use, not null
      @return this, for chaining, not null</p></div>
<a id="L1233" name="L1233"></a>1233     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../S/1511.html#L652" title="Referred from 652 in src/java/time/chrono/Chronology.java.">appendChronologyText</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle) <em class="brace">{</em>
<a id="L1234" name="L1234"></a>1234         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(textStyle, "textStyle");
<a id="L1235" name="L1235"></a>1235         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L4252" title="Defined at 4252 in src/java/time/format/DateTimeFormatterBuilder.java.">ChronoPrinterParser</a>(textStyle));
<a id="L1236" name="L1236"></a>1236         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1237" name="L1237"></a>1237     <em class="brace">}</em>
<a id="L1238" name="L1238"></a>1238 
<a id="L1239" name="L1239"></a>1239     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends a localized date-time pattern to the formatter.
      <p>
      This appends a localized section to the builder, suitable for outputting
      a date, time or date-time combination. The format of the localized
      section is lazily looked up based on four items:
      </p><ul><li>the <code>dateStyle</code> specified to this method
      </li><li>the <code>timeStyle</code> specified to this method
      </li><li>the <code>Locale</code> of the <code>DateTimeFormatter</code>
      </li><li>the <code>Chronology</code>, selecting the best available
      </li></ul>
      During formatting, the chronology is obtained from the temporal object
      being formatted, which may have been overridden by
      {@link DateTimeFormatter#withChronology(Chronology)}.
      <p>
      During parsing, if a chronology has already been parsed, then it is used.
      Otherwise the default from <code>DateTimeFormatter.withChronology(Chronology)</code>
      is used, with <code>IsoChronology</code> as the fallback.
      </p><p>
      Note that this method provides similar functionality to methods on
      <code>DateFormat</code> such as {@link java.text.DateFormat#getDateTimeInstance(int, int)}.
      @param dateStyle  the date style to use, null means no date required
      @param timeStyle  the time style to use, null means no time required
      @return this, for chaining, not null
      @throws IllegalArgumentException if both the date and time styles are null</p></div>
<a id="L1268" name="L1268"></a>1268     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10219.html" title="Multiple referred from 4 places.">appendLocalized</a>(<a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> dateStyle, <a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> timeStyle) <em class="brace">{</em>
<a id="L1269" name="L1269"></a>1269         <strong class="reserved">if</strong> (dateStyle == <strong class="reserved">null</strong> &amp;&amp; timeStyle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1270" name="L1270"></a>1270             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Either the date or time style must be non-null");
<a id="L1271" name="L1271"></a>1271         <em class="brace">}</em>
<a id="L1272" name="L1272"></a>1272         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L4325" title="Defined at 4325 in src/java/time/format/DateTimeFormatterBuilder.java.">LocalizedPrinterParser</a>(dateStyle, timeStyle));
<a id="L1273" name="L1273"></a>1273         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1274" name="L1274"></a>1274     <em class="brace">}</em>
<a id="L1275" name="L1275"></a>1275 
<a id="L1276" name="L1276"></a>1276     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends a character literal to the formatter.
      <p>
      This character will be output during a format.
      @param literal  the literal to append, not null
      @return this, for chaining, not null</p></div>
<a id="L1285" name="L1285"></a>1285     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10218.html" title="Multiple referred from 29 places.">appendLiteral</a>(<strong class="reserved">char</strong> <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>) <em class="brace">{</em>
<a id="L1286" name="L1286"></a>1286         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L2376" title="Defined at 2376 in src/java/time/format/DateTimeFormatterBuilder.java.">CharLiteralPrinterParser</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>));
<a id="L1287" name="L1287"></a>1287         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1288" name="L1288"></a>1288     <em class="brace">}</em>
<a id="L1289" name="L1289"></a>1289 
<div class="comment">
      Appends a string literal to the formatter.
      <p>
      This string will be output during a format.
      </p><p>
      If the literal is empty, nothing is added to the formatter.
      @param literal  the literal to append, not null
      @return this, for chaining, not null</p></div>
<a id="L1300" name="L1300"></a>1300     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10218.html" title="Multiple referred from 29 places.">appendLiteral</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>) <em class="brace">{</em>
<a id="L1301" name="L1301"></a>1301         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>, "literal");
<a id="L1302" name="L1302"></a>1302         <strong class="reserved">if</strong> (<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1303" name="L1303"></a>1303             <strong class="reserved">if</strong> (<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 1) <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304                 <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L2376" title="Defined at 2376 in src/java/time/format/DateTimeFormatterBuilder.java.">CharLiteralPrinterParser</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0)));
<a id="L1305" name="L1305"></a>1305             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1306" name="L1306"></a>1306                 <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L2419" title="Defined at 2419 in src/java/time/format/DateTimeFormatterBuilder.java.">StringLiteralPrinterParser</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>));
<a id="L1307" name="L1307"></a>1307             <em class="brace">}</em>
<a id="L1308" name="L1308"></a>1308         <em class="brace">}</em>
<a id="L1309" name="L1309"></a>1309         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1310" name="L1310"></a>1310     <em class="brace">}</em>
<a id="L1311" name="L1311"></a>1311 
<a id="L1312" name="L1312"></a>1312     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends all the elements of a formatter to the builder.
      <p>
      This method has the same effect as appending each of the constituent
      parts of the formatter directly to this builder.
      @param formatter  the formatter to add, not null
      @return this, for chaining, not null</p></div>
<a id="L1322" name="L1322"></a>1322     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10189.html" title="Multiple referred from 5855 places.">append</a>(<a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>) <em class="brace">{</em>
<a id="L1323" name="L1323"></a>1323         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>, "formatter");
<a id="L1324" name="L1324"></a>1324         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>.<a href="../S/1541.html#L2026" title="Defined at 2026 in src/java/time/format/DateTimeFormatter.java.">toPrinterParser</a>(<strong class="reserved">false</strong>));
<a id="L1325" name="L1325"></a>1325         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1326" name="L1326"></a>1326     <em class="brace">}</em>
<a id="L1327" name="L1327"></a>1327 
<div class="comment">
      Appends a formatter to the builder which will optionally format/parse.
      <p>
      This method has the same effect as appending each of the constituent
      parts directly to this builder surrounded by an {@link #optionalStart()} and
      {@link #optionalEnd()}.
      </p><p>
      The formatter will format if data is available for all the fields contained within it.
      The formatter will parse if the string matches, otherwise no error is returned.
      @param formatter  the formatter to add, not null
      @return this, for chaining, not null</p></div>
<a id="L1341" name="L1341"></a>1341     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> appendOptional(<a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>) <em class="brace">{</em>
<a id="L1342" name="L1342"></a>1342         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>, "formatter");
<a id="L1343" name="L1343"></a>1343         <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>.<a href="../S/1541.html#L2026" title="Defined at 2026 in src/java/time/format/DateTimeFormatter.java.">toPrinterParser</a>(<strong class="reserved">true</strong>));
<a id="L1344" name="L1344"></a>1344         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1345" name="L1345"></a>1345     <em class="brace">}</em>
<a id="L1346" name="L1346"></a>1346 
<a id="L1347" name="L1347"></a>1347     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends the elements defined by the specified pattern to the builder.
      <p>
      All letters 'A' to 'Z' and 'a' to 'z' are reserved as pattern letters.
      The characters '#', '{' and '}' are reserved for future use.
      The characters '[' and ']' indicate optional patterns.
      The following pattern letters are defined:
      </p><pre>       Symbol  Meaning                     Presentation      Examples
       ------  -------                     ------------      -------
        G       era                         text              AD; Anno Domini; A
        u       year                        year              2004; 04
        y       year-of-era                 year              2004; 04
        D       day-of-year                 number            189
        M/L     month-of-year               number/text       7; 07; Jul; July; J
        d       day-of-month                number            10
        Q/q     quarter-of-year             number/text       3; 03; Q3; 3rd quarter
        Y       week-based-year             year              1996; 96
        w       week-of-week-based-year     number            27
        W       week-of-month               number            4
        E       day-of-week                 text              Tue; Tuesday; T
        e/c     localized day-of-week       number/text       2; 02; Tue; Tuesday; T
        F       week-of-month               number            3
        a       am-pm-of-day                text              PM
        h       clock-hour-of-am-pm (1-12)  number            12
        K       hour-of-am-pm (0-11)        number            0
        k       clock-hour-of-am-pm (1-24)  number            0
        H       hour-of-day (0-23)          number            0
        m       minute-of-hour              number            30
        s       second-of-minute            number            55
        S       fraction-of-second          fraction          978
        A       milli-of-day                number            1234
        n       nano-of-second              number            987654321
        N       nano-of-day                 number            1234000000
        V       time-zone ID                zone-id           America/Los_Angeles; Z; -08:30
        z       time-zone name              zone-name         Pacific Standard Time; PST
        O       localized zone-offset       offset-O          GMT+8; GMT+08:00; UTC-08:00;
        X       zone-offset 'Z' for zero    offset-X          Z; -08; -0830; -08:30; -083015; -08:30:15;
        x       zone-offset                 offset-x          +0000; -08; -0830; -08:30; -083015; -08:30:15;
        Z       zone-offset                 offset-Z          +0000; -0800; -08:00;
        p       pad next                    pad modifier      1
        '       escape for text             delimiter
        ''      single quote                literal           '
        [       optional section start
        ]       optional section end
        #       reserved for future use
        {       reserved for future use
        }       reserved for future use
      </pre>
      <p>
      The count of pattern letters determine the format.
      See <a href="DateTimeFormatter.html#patterns">DateTimeFormatter</a> for a user-focused description of the patterns.
      The following tables define how the pattern letters map to the builder.
      </p><p>
      <b>Date fields</b>: Pattern letters to output a date.
      </p><pre>       Pattern  Count  Equivalent builder methods
       -------  -----  --------------------------
         G       1      appendText(ChronoField.ERA, TextStyle.SHORT)
         GG      2      appendText(ChronoField.ERA, TextStyle.SHORT)
         GGG     3      appendText(ChronoField.ERA, TextStyle.SHORT)
         GGGG    4      appendText(ChronoField.ERA, TextStyle.FULL)
         GGGGG   5      appendText(ChronoField.ERA, TextStyle.NARROW)
         u       1      appendValue(ChronoField.YEAR, 1, 19, SignStyle.NORMAL);
         uu      2      appendValueReduced(ChronoField.YEAR, 2, 2000);
         uuu     3      appendValue(ChronoField.YEAR, 3, 19, SignStyle.NORMAL);
         u..u    4..n   appendValue(ChronoField.YEAR, n, 19, SignStyle.EXCEEDS_PAD);
         y       1      appendValue(ChronoField.YEAR_OF_ERA, 1, 19, SignStyle.NORMAL);
         yy      2      appendValueReduced(ChronoField.YEAR_OF_ERA, 2, 2000);
         yyy     3      appendValue(ChronoField.YEAR_OF_ERA, 3, 19, SignStyle.NORMAL);
         y..y    4..n   appendValue(ChronoField.YEAR_OF_ERA, n, 19, SignStyle.EXCEEDS_PAD);
         Y       1      append special localized WeekFields element for numeric week-based-year
         YY      2      append special localized WeekFields element for reduced numeric week-based-year 2 digits;
         YYY     3      append special localized WeekFields element for numeric week-based-year (3, 19, SignStyle.NORMAL);
         Y..Y    4..n   append special localized WeekFields element for numeric week-based-year (n, 19, SignStyle.EXCEEDS_PAD);
         Q       1      appendValue(IsoFields.QUARTER_OF_YEAR);
         QQ      2      appendValue(IsoFields.QUARTER_OF_YEAR, 2);
         QQQ     3      appendText(IsoFields.QUARTER_OF_YEAR, TextStyle.SHORT)
         QQQQ    4      appendText(IsoFields.QUARTER_OF_YEAR, TextStyle.FULL)
         QQQQQ   5      appendText(IsoFields.QUARTER_OF_YEAR, TextStyle.NARROW)
         q       1      appendValue(IsoFields.QUARTER_OF_YEAR);
         qq      2      appendValue(IsoFields.QUARTER_OF_YEAR, 2);
         qqq     3      appendText(IsoFields.QUARTER_OF_YEAR, TextStyle.SHORT_STANDALONE)
         qqqq    4      appendText(IsoFields.QUARTER_OF_YEAR, TextStyle.FULL_STANDALONE)
         qqqqq   5      appendText(IsoFields.QUARTER_OF_YEAR, TextStyle.NARROW_STANDALONE)
         M       1      appendValue(ChronoField.MONTH_OF_YEAR);
         MM      2      appendValue(ChronoField.MONTH_OF_YEAR, 2);
         MMM     3      appendText(ChronoField.MONTH_OF_YEAR, TextStyle.SHORT)
         MMMM    4      appendText(ChronoField.MONTH_OF_YEAR, TextStyle.FULL)
         MMMMM   5      appendText(ChronoField.MONTH_OF_YEAR, TextStyle.NARROW)
         L       1      appendValue(ChronoField.MONTH_OF_YEAR);
         LL      2      appendValue(ChronoField.MONTH_OF_YEAR, 2);
         LLL     3      appendText(ChronoField.MONTH_OF_YEAR, TextStyle.SHORT_STANDALONE)
         LLLL    4      appendText(ChronoField.MONTH_OF_YEAR, TextStyle.FULL_STANDALONE)
         LLLLL   5      appendText(ChronoField.MONTH_OF_YEAR, TextStyle.NARROW_STANDALONE)
         w       1      append special localized WeekFields element for numeric week-of-year
         ww      2      append special localized WeekFields element for numeric week-of-year, zero-padded
         W       1      append special localized WeekFields element for numeric week-of-month
         d       1      appendValue(ChronoField.DAY_OF_MONTH)
         dd      2      appendValue(ChronoField.DAY_OF_MONTH, 2)
         D       1      appendValue(ChronoField.DAY_OF_YEAR)
         DD      2      appendValue(ChronoField.DAY_OF_YEAR, 2)
         DDD     3      appendValue(ChronoField.DAY_OF_YEAR, 3)
         F       1      appendValue(ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH)
         E       1      appendText(ChronoField.DAY_OF_WEEK, TextStyle.SHORT)
         EE      2      appendText(ChronoField.DAY_OF_WEEK, TextStyle.SHORT)
         EEE     3      appendText(ChronoField.DAY_OF_WEEK, TextStyle.SHORT)
         EEEE    4      appendText(ChronoField.DAY_OF_WEEK, TextStyle.FULL)
         EEEEE   5      appendText(ChronoField.DAY_OF_WEEK, TextStyle.NARROW)
         e       1      append special localized WeekFields element for numeric day-of-week
         ee      2      append special localized WeekFields element for numeric day-of-week, zero-padded
         eee     3      appendText(ChronoField.DAY_OF_WEEK, TextStyle.SHORT)
         eeee    4      appendText(ChronoField.DAY_OF_WEEK, TextStyle.FULL)
         eeeee   5      appendText(ChronoField.DAY_OF_WEEK, TextStyle.NARROW)
         c       1      append special localized WeekFields element for numeric day-of-week
         ccc     3      appendText(ChronoField.DAY_OF_WEEK, TextStyle.SHORT_STANDALONE)
         cccc    4      appendText(ChronoField.DAY_OF_WEEK, TextStyle.FULL_STANDALONE)
         ccccc   5      appendText(ChronoField.DAY_OF_WEEK, TextStyle.NARROW_STANDALONE)
      </pre>
      <p>
      <b>Time fields</b>: Pattern letters to output a time.
      </p><pre>       Pattern  Count  Equivalent builder methods
       -------  -----  --------------------------
         a       1      appendText(ChronoField.AMPM_OF_DAY, TextStyle.SHORT)
         h       1      appendValue(ChronoField.CLOCK_HOUR_OF_AMPM)
         hh      2      appendValue(ChronoField.CLOCK_HOUR_OF_AMPM, 2)
         H       1      appendValue(ChronoField.HOUR_OF_DAY)
         HH      2      appendValue(ChronoField.HOUR_OF_DAY, 2)
         k       1      appendValue(ChronoField.CLOCK_HOUR_OF_DAY)
         kk      2      appendValue(ChronoField.CLOCK_HOUR_OF_DAY, 2)
         K       1      appendValue(ChronoField.HOUR_OF_AMPM)
         KK      2      appendValue(ChronoField.HOUR_OF_AMPM, 2)
         m       1      appendValue(ChronoField.MINUTE_OF_HOUR)
         mm      2      appendValue(ChronoField.MINUTE_OF_HOUR, 2)
         s       1      appendValue(ChronoField.SECOND_OF_MINUTE)
         ss      2      appendValue(ChronoField.SECOND_OF_MINUTE, 2)
         S..S    1..n   appendFraction(ChronoField.NANO_OF_SECOND, n, n, false)
         A       1      appendValue(ChronoField.MILLI_OF_DAY)
         A..A    2..n   appendValue(ChronoField.MILLI_OF_DAY, n)
         n       1      appendValue(ChronoField.NANO_OF_SECOND)
         n..n    2..n   appendValue(ChronoField.NANO_OF_SECOND, n)
         N       1      appendValue(ChronoField.NANO_OF_DAY)
         N..N    2..n   appendValue(ChronoField.NANO_OF_DAY, n)
      </pre>
      <p>
      <b>Zone ID</b>: Pattern letters to output <code>ZoneId</code>.
      </p><pre>       Pattern  Count  Equivalent builder methods
       -------  -----  --------------------------
         VV      2      appendZoneId()
         z       1      appendZoneText(TextStyle.SHORT)
         zz      2      appendZoneText(TextStyle.SHORT)
         zzz     3      appendZoneText(TextStyle.SHORT)
         zzzz    4      appendZoneText(TextStyle.FULL)
      </pre>
      <p>
      <b>Zone offset</b>: Pattern letters to output <code>ZoneOffset</code>.
      </p><pre>       Pattern  Count  Equivalent builder methods
       -------  -----  --------------------------
         O       1      appendLocalizedOffsetPrefixed(TextStyle.SHORT);
         OOOO    4      appendLocalizedOffsetPrefixed(TextStyle.FULL);
         X       1      appendOffset("+HHmm","Z")
         XX      2      appendOffset("+HHMM","Z")
         XXX     3      appendOffset("+HH:MM","Z")
         XXXX    4      appendOffset("+HHMMss","Z")
         XXXXX   5      appendOffset("+HH:MM:ss","Z")
         x       1      appendOffset("+HHmm","+00")
         xx      2      appendOffset("+HHMM","+0000")
         xxx     3      appendOffset("+HH:MM","+00:00")
         xxxx    4      appendOffset("+HHMMss","+0000")
         xxxxx   5      appendOffset("+HH:MM:ss","+00:00")
         Z       1      appendOffset("+HHMM","+0000")
         ZZ      2      appendOffset("+HHMM","+0000")
         ZZZ     3      appendOffset("+HHMM","+0000")
         ZZZZ    4      appendLocalizedOffset(TextStyle.FULL);
         ZZZZZ   5      appendOffset("+HH:MM:ss","Z")
      </pre>
      <p>
      <b>Modifiers</b>: Pattern letters that modify the rest of the pattern:
      </p><pre>       Pattern  Count  Equivalent builder methods
       -------  -----  --------------------------
         [       1      optionalStart()
         ]       1      optionalEnd()
         p..p    1..n   padNext(n)
      </pre>
      <p>
      Any sequence of letters not specified above, unrecognized letter or
      reserved character will throw an exception.
      Future versions may add to the set of patterns.
      It is recommended to use single quotes around all characters that you want
      to output directly to ensure that future changes do not break your application.
      </p><p>
      Note that the pattern string is similar, but not identical, to
      {@link java.text.SimpleDateFormat SimpleDateFormat}.
      The pattern string is also similar, but not identical, to that defined by the
      Unicode Common Locale Data Repository (CLDR/LDML).
      Pattern letters 'X' and 'u' are aligned with Unicode CLDR/LDML.
      By contrast, <code>SimpleDateFormat</code> uses 'u' for the numeric day of week.
      Pattern letters 'y' and 'Y' parse years of two digits and more than 4 digits differently.
      Pattern letters 'n', 'A', 'N', and 'p' are added.
      Number types will reject large numbers.
      @param pattern  the pattern to add, not null
      @return this, for chaining, not null
      @throws IllegalArgumentException if the pattern is invalid</p></div>
<a id="L1568" name="L1568"></a>1568     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/10233.html" title="Multiple referred from 3 places.">appendPattern</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>) <em class="brace">{</em>
<a id="L1569" name="L1569"></a>1569         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, "pattern");
<a id="L1570" name="L1570"></a>1570         <a href="../D/29178.html" title="Multiple defined in 3 places.">parsePattern</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>);
<a id="L1571" name="L1571"></a>1571         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1572" name="L1572"></a>1572     <em class="brace">}</em>
<a id="L1573" name="L1573"></a>1573 
<a id="L1574" name="L1574"></a>1574     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/24591.html" title="Multiple referred from 6 places.">parsePattern</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>) <em class="brace">{</em>
<a id="L1575" name="L1575"></a>1575         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> pos = 0; pos &lt; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); pos++) <em class="brace">{</em>
<a id="L1576" name="L1576"></a>1576             <strong class="reserved">char</strong> cur = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos);
<a id="L1577" name="L1577"></a>1577             <strong class="reserved">if</strong> ((cur &gt;= 'A' &amp;&amp; cur &lt;= 'Z') || (cur &gt;= 'a' &amp;&amp; cur &lt;= 'z')) <em class="brace">{</em>
<a id="L1578" name="L1578"></a>1578                 <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = pos++;
<a id="L1579" name="L1579"></a>1579                 <strong class="reserved">for</strong> ( ; pos &lt; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &amp;&amp; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) == cur; pos++);  <em class="comment">// short loop</em>
<a id="L1580" name="L1580"></a>1580                 <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = pos - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L1581" name="L1581"></a>1581                 <em class="comment">// padding</em>
<a id="L1582" name="L1582"></a>1582                 <strong class="reserved">if</strong> (cur == 'p') <em class="brace">{</em>
<a id="L1583" name="L1583"></a>1583                     <strong class="reserved">int</strong> <a href="../S/4204.html#L181" title="Defined at 181 in src/javax/imageio/stream/MemoryCache.java.">pad</a> = 0;
<a id="L1584" name="L1584"></a>1584                     <strong class="reserved">if</strong> (pos &lt; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L1585" name="L1585"></a>1585                         cur = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos);
<a id="L1586" name="L1586"></a>1586                         <strong class="reserved">if</strong> ((cur &gt;= 'A' &amp;&amp; cur &lt;= 'Z') || (cur &gt;= 'a' &amp;&amp; cur &lt;= 'z')) <em class="brace">{</em>
<a id="L1587" name="L1587"></a>1587                             <a href="../S/4204.html#L181" title="Defined at 181 in src/javax/imageio/stream/MemoryCache.java.">pad</a> = <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L1588" name="L1588"></a>1588                             <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = pos++;
<a id="L1589" name="L1589"></a>1589                             <strong class="reserved">for</strong> ( ; pos &lt; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &amp;&amp; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) == cur; pos++);  <em class="comment">// short loop</em>
<a id="L1590" name="L1590"></a>1590                             <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = pos - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L1591" name="L1591"></a>1591                         <em class="brace">}</em>
<a id="L1592" name="L1592"></a>1592                     <em class="brace">}</em>
<a id="L1593" name="L1593"></a>1593                     <strong class="reserved">if</strong> (<a href="../S/4204.html#L181" title="Defined at 181 in src/javax/imageio/stream/MemoryCache.java.">pad</a> == 0) <em class="brace">{</em>
<a id="L1594" name="L1594"></a>1594                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L1595" name="L1595"></a>1595                                 "Pad letter 'p' must be followed by valid pad pattern: " + <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>);
<a id="L1596" name="L1596"></a>1596                     <em class="brace">}</em>
<a id="L1597" name="L1597"></a>1597                     <a href="../D/28648.html" title="Multiple defined in 2 places.">padNext</a>(<a href="../S/4204.html#L181" title="Defined at 181 in src/javax/imageio/stream/MemoryCache.java.">pad</a>); <em class="comment">// pad and continue parsing</em>
<a id="L1598" name="L1598"></a>1598                 <em class="brace">}</em>
<a id="L1599" name="L1599"></a>1599                 <em class="comment">// main rules</em>
<a id="L1600" name="L1600"></a>1600                 <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field = FIELD_MAP.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(cur);
<a id="L1601" name="L1601"></a>1601                 <strong class="reserved">if</strong> (field != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1602" name="L1602"></a>1602                     <a href="../S/1537.html#L1705" title="Defined at 1705 in src/java/time/format/DateTimeFormatterBuilder.java.">parseField</a>(cur, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, field);
<a id="L1603" name="L1603"></a>1603                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'z') <em class="brace">{</em>
<a id="L1604" name="L1604"></a>1604                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &gt; 4) <em class="brace">{</em>
<a id="L1605" name="L1605"></a>1605                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1606" name="L1606"></a>1606                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 4) <em class="brace">{</em>
<a id="L1607" name="L1607"></a>1607                         <a href="../D/11437.html" title="Multiple defined in 2 places.">appendZoneText</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>);
<a id="L1608" name="L1608"></a>1608                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1609" name="L1609"></a>1609                         <a href="../D/11437.html" title="Multiple defined in 2 places.">appendZoneText</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>);
<a id="L1610" name="L1610"></a>1610                     <em class="brace">}</em>
<a id="L1611" name="L1611"></a>1611                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'V') <em class="brace">{</em>
<a id="L1612" name="L1612"></a>1612                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> != 2) <em class="brace">{</em>
<a id="L1613" name="L1613"></a>1613                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Pattern letter count must be 2: " + cur);
<a id="L1614" name="L1614"></a>1614                     <em class="brace">}</em>
<a id="L1615" name="L1615"></a>1615                     <a href="../S/1537.html#L1003" title="Defined at 1003 in src/java/time/format/DateTimeFormatterBuilder.java.">appendZoneId</a>();
<a id="L1616" name="L1616"></a>1616                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'Z') <em class="brace">{</em>
<a id="L1617" name="L1617"></a>1617                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; 4) <em class="brace">{</em>
<a id="L1618" name="L1618"></a>1618                         <a href="../S/1537.html#L913" title="Defined at 913 in src/java/time/format/DateTimeFormatterBuilder.java.">appendOffset</a>("+HHMM", "+0000");
<a id="L1619" name="L1619"></a>1619                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 4) <em class="brace">{</em>
<a id="L1620" name="L1620"></a>1620                         <a href="../S/1537.html#L947" title="Defined at 947 in src/java/time/format/DateTimeFormatterBuilder.java.">appendLocalizedOffset</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>);
<a id="L1621" name="L1621"></a>1621                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 5) <em class="brace">{</em>
<a id="L1622" name="L1622"></a>1622                         <a href="../S/1537.html#L913" title="Defined at 913 in src/java/time/format/DateTimeFormatterBuilder.java.">appendOffset</a>("+HH:MM:ss","Z");
<a id="L1623" name="L1623"></a>1623                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1624" name="L1624"></a>1624                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1625" name="L1625"></a>1625                     <em class="brace">}</em>
<a id="L1626" name="L1626"></a>1626                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'O') <em class="brace">{</em>
<a id="L1627" name="L1627"></a>1627                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L1628" name="L1628"></a>1628                         <a href="../S/1537.html#L947" title="Defined at 947 in src/java/time/format/DateTimeFormatterBuilder.java.">appendLocalizedOffset</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>);
<a id="L1629" name="L1629"></a>1629                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 4) <em class="brace">{</em>
<a id="L1630" name="L1630"></a>1630                         <a href="../S/1537.html#L947" title="Defined at 947 in src/java/time/format/DateTimeFormatterBuilder.java.">appendLocalizedOffset</a>(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>);
<a id="L1631" name="L1631"></a>1631                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1632" name="L1632"></a>1632                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Pattern letter count must be 1 or 4: " + cur);
<a id="L1633" name="L1633"></a>1633                     <em class="brace">}</em>
<a id="L1634" name="L1634"></a>1634                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'X') <em class="brace">{</em>
<a id="L1635" name="L1635"></a>1635                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &gt; 5) <em class="brace">{</em>
<a id="L1636" name="L1636"></a>1636                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1637" name="L1637"></a>1637                     <em class="brace">}</em>
<a id="L1638" name="L1638"></a>1638                     <a href="../S/1537.html#L913" title="Defined at 913 in src/java/time/format/DateTimeFormatterBuilder.java.">appendOffset</a>(<a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.PATTERNS[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> + (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1 ? 0 : 1)], "Z");
<a id="L1639" name="L1639"></a>1639                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'x') <em class="brace">{</em>
<a id="L1640" name="L1640"></a>1640                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &gt; 5) <em class="brace">{</em>
<a id="L1641" name="L1641"></a>1641                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1642" name="L1642"></a>1642                     <em class="brace">}</em>
<a id="L1643" name="L1643"></a>1643                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1619.html#L2307" title="Defined at 2307 in src/java/lang/invoke/MethodHandles.java.">zero</a> = (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1 ? "+00" : (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> % 2 == 0 ? "+0000" : "+00:00"));
<a id="L1644" name="L1644"></a>1644                     <a href="../S/1537.html#L913" title="Defined at 913 in src/java/time/format/DateTimeFormatterBuilder.java.">appendOffset</a>(<a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.PATTERNS[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> + (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1 ? 0 : 1)], <a href="../S/1619.html#L2307" title="Defined at 2307 in src/java/lang/invoke/MethodHandles.java.">zero</a>);
<a id="L1645" name="L1645"></a>1645                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'W') <em class="brace">{</em>
<a id="L1646" name="L1646"></a>1646                     <em class="comment">// Fields defined by Locale</em>
<a id="L1647" name="L1647"></a>1647                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &gt; 1) <em class="brace">{</em>
<a id="L1648" name="L1648"></a>1648                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1649" name="L1649"></a>1649                     <em class="brace">}</em>
<a id="L1650" name="L1650"></a>1650                     <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L4396" title="Defined at 4396 in src/java/time/format/DateTimeFormatterBuilder.java.">WeekBasedFieldPrinterParser</a>(cur, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>));
<a id="L1651" name="L1651"></a>1651                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'w') <em class="brace">{</em>
<a id="L1652" name="L1652"></a>1652                     <em class="comment">// Fields defined by Locale</em>
<a id="L1653" name="L1653"></a>1653                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &gt; 2) <em class="brace">{</em>
<a id="L1654" name="L1654"></a>1654                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1655" name="L1655"></a>1655                     <em class="brace">}</em>
<a id="L1656" name="L1656"></a>1656                     <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L4396" title="Defined at 4396 in src/java/time/format/DateTimeFormatterBuilder.java.">WeekBasedFieldPrinterParser</a>(cur, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>));
<a id="L1657" name="L1657"></a>1657                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'Y') <em class="brace">{</em>
<a id="L1658" name="L1658"></a>1658                     <em class="comment">// Fields defined by Locale</em>
<a id="L1659" name="L1659"></a>1659                     <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L4396" title="Defined at 4396 in src/java/time/format/DateTimeFormatterBuilder.java.">WeekBasedFieldPrinterParser</a>(cur, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>));
<a id="L1660" name="L1660"></a>1660                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1661" name="L1661"></a>1661                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Unknown pattern letter: " + cur);
<a id="L1662" name="L1662"></a>1662                 <em class="brace">}</em>
<a id="L1663" name="L1663"></a>1663                 pos--;
<a id="L1664" name="L1664"></a>1664 
<a id="L1665" name="L1665"></a>1665             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == '\'') <em class="brace">{</em>
<a id="L1666" name="L1666"></a>1666                 <em class="comment">// parse literals</em>
<a id="L1667" name="L1667"></a>1667                 <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = pos++;
<a id="L1668" name="L1668"></a>1668                 <strong class="reserved">for</strong> ( ; pos &lt; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); pos++) <em class="brace">{</em>
<a id="L1669" name="L1669"></a>1669                     <strong class="reserved">if</strong> (<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) == '\'') <em class="brace">{</em>
<a id="L1670" name="L1670"></a>1670                         <strong class="reserved">if</strong> (pos + 1 &lt; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &amp;&amp; <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos + 1) == '\'') <em class="brace">{</em>
<a id="L1671" name="L1671"></a>1671                             pos++;
<a id="L1672" name="L1672"></a>1672                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1673" name="L1673"></a>1673                             <strong class="reserved">break</strong>;  <em class="comment">// end of literal</em>
<a id="L1674" name="L1674"></a>1674                         <em class="brace">}</em>
<a id="L1675" name="L1675"></a>1675                     <em class="brace">}</em>
<a id="L1676" name="L1676"></a>1676                 <em class="brace">}</em>
<a id="L1677" name="L1677"></a>1677                 <strong class="reserved">if</strong> (pos &gt;= <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L1678" name="L1678"></a>1678                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Pattern ends with an incomplete string literal: " + <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>);
<a id="L1679" name="L1679"></a>1679                 <em class="brace">}</em>
<a id="L1680" name="L1680"></a>1680                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + 1, pos);
<a id="L1681" name="L1681"></a>1681                 <strong class="reserved">if</strong> (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1682" name="L1682"></a>1682                     <a href="../D/11389.html" title="Multiple defined in 2 places.">appendLiteral</a>('\'');
<a id="L1683" name="L1683"></a>1683                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1684" name="L1684"></a>1684                     <a href="../D/11389.html" title="Multiple defined in 2 places.">appendLiteral</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>("''", "'"));
<a id="L1685" name="L1685"></a>1685                 <em class="brace">}</em>
<a id="L1686" name="L1686"></a>1686 
<a id="L1687" name="L1687"></a>1687             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == '[') <em class="brace">{</em>
<a id="L1688" name="L1688"></a>1688                 <a href="../S/1537.html#L1944" title="Defined at 1944 in src/java/time/format/DateTimeFormatterBuilder.java.">optionalStart</a>();
<a id="L1689" name="L1689"></a>1689 
<a id="L1690" name="L1690"></a>1690             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == ']') <em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691                 <strong class="reserved">if</strong> (<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1692" name="L1692"></a>1692                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Pattern invalid as it contains ] without previous [");
<a id="L1693" name="L1693"></a>1693                 <em class="brace">}</em>
<a id="L1694" name="L1694"></a>1694                 <a href="../S/1537.html#L1975" title="Defined at 1975 in src/java/time/format/DateTimeFormatterBuilder.java.">optionalEnd</a>();
<a id="L1695" name="L1695"></a>1695 
<a id="L1696" name="L1696"></a>1696             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == '{' || cur == '}' || cur == '#') <em class="brace">{</em>
<a id="L1697" name="L1697"></a>1697                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Pattern includes reserved character: '" + cur + "'");
<a id="L1698" name="L1698"></a>1698             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1699" name="L1699"></a>1699                 <a href="../D/11389.html" title="Multiple defined in 2 places.">appendLiteral</a>(cur);
<a id="L1700" name="L1700"></a>1700             <em class="brace">}</em>
<a id="L1701" name="L1701"></a>1701         <em class="brace">}</em>
<a id="L1702" name="L1702"></a>1702     <em class="brace">}</em>
<a id="L1703" name="L1703"></a>1703 
<a id="L1704" name="L1704"></a>1704     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("fallthrough")
<a id="L1705" name="L1705"></a>1705     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1537.html#L1602" title="Referred from 1602 in src/java/time/format/DateTimeFormatterBuilder.java.">parseField</a>(<strong class="reserved">char</strong> cur, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field) <em class="brace">{</em>
<a id="L1706" name="L1706"></a>1706         <strong class="reserved">boolean</strong> standalone = <strong class="reserved">false</strong>;
<a id="L1707" name="L1707"></a>1707         <strong class="reserved">switch</strong> (cur) <em class="brace">{</em>
<a id="L1708" name="L1708"></a>1708             <strong class="reserved">case</strong> 'u':
<a id="L1709" name="L1709"></a>1709             <strong class="reserved">case</strong> 'y':
<a id="L1710" name="L1710"></a>1710                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 2) <em class="brace">{</em>
<a id="L1711" name="L1711"></a>1711                     <a href="../D/11432.html" title="Multiple defined in 2 places.">appendValueReduced</a>(field, 2, 2, <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a>.BASE_DATE);
<a id="L1712" name="L1712"></a>1712                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; 4) <em class="brace">{</em>
<a id="L1713" name="L1713"></a>1713                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, 19, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NORMAL);
<a id="L1714" name="L1714"></a>1714                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1715" name="L1715"></a>1715                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, 19, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.EXCEEDS_PAD);
<a id="L1716" name="L1716"></a>1716                 <em class="brace">}</em>
<a id="L1717" name="L1717"></a>1717                 <strong class="reserved">break</strong>;
<a id="L1718" name="L1718"></a>1718             <strong class="reserved">case</strong> 'c':
<a id="L1719" name="L1719"></a>1719                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 2) <em class="brace">{</em>
<a id="L1720" name="L1720"></a>1720                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid pattern \"cc\"");
<a id="L1721" name="L1721"></a>1721                 <em class="brace">}</em>
<div class="comment">
                 /*fallthrough*/</div>
<a id="L1723" name="L1723"></a>1723             <strong class="reserved">case</strong> 'L':
<a id="L1724" name="L1724"></a>1724             <strong class="reserved">case</strong> 'q':
<a id="L1725" name="L1725"></a>1725                 standalone = <strong class="reserved">true</strong>;
<div class="comment">
                 /*fallthrough*/</div>
<a id="L1727" name="L1727"></a>1727             <strong class="reserved">case</strong> 'M':
<a id="L1728" name="L1728"></a>1728             <strong class="reserved">case</strong> 'Q':
<a id="L1729" name="L1729"></a>1729             <strong class="reserved">case</strong> 'E':
<a id="L1730" name="L1730"></a>1730             <strong class="reserved">case</strong> 'e':
<a id="L1731" name="L1731"></a>1731                 <strong class="reserved">switch</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L1732" name="L1732"></a>1732                     <strong class="reserved">case</strong> 1:
<a id="L1733" name="L1733"></a>1733                     <strong class="reserved">case</strong> 2:
<a id="L1734" name="L1734"></a>1734                         <strong class="reserved">if</strong> (cur == 'c' || cur == 'e') <em class="brace">{</em>
<a id="L1735" name="L1735"></a>1735                             <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L4396" title="Defined at 4396 in src/java/time/format/DateTimeFormatterBuilder.java.">WeekBasedFieldPrinterParser</a>(cur, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>));
<a id="L1736" name="L1736"></a>1736                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cur == 'E') <em class="brace">{</em>
<a id="L1737" name="L1737"></a>1737                             <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>);
<a id="L1738" name="L1738"></a>1738                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1739" name="L1739"></a>1739                             <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L1740" name="L1740"></a>1740                                 <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field);
<a id="L1741" name="L1741"></a>1741                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1742" name="L1742"></a>1742                                 <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field, 2);
<a id="L1743" name="L1743"></a>1743                             <em class="brace">}</em>
<a id="L1744" name="L1744"></a>1744                         <em class="brace">}</em>
<a id="L1745" name="L1745"></a>1745                         <strong class="reserved">break</strong>;
<a id="L1746" name="L1746"></a>1746                     <strong class="reserved">case</strong> 3:
<a id="L1747" name="L1747"></a>1747                         <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, standalone ? <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L109" title="Defined at 109 in src/java/time/format/TextStyle.java.">SHORT_STANDALONE</a> : <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>);
<a id="L1748" name="L1748"></a>1748                         <strong class="reserved">break</strong>;
<a id="L1749" name="L1749"></a>1749                     <strong class="reserved">case</strong> 4:
<a id="L1750" name="L1750"></a>1750                         <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, standalone ? <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L99" title="Defined at 99 in src/java/time/format/TextStyle.java.">FULL_STANDALONE</a> : <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>);
<a id="L1751" name="L1751"></a>1751                         <strong class="reserved">break</strong>;
<a id="L1752" name="L1752"></a>1752                     <strong class="reserved">case</strong> 5:
<a id="L1753" name="L1753"></a>1753                         <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, standalone ? <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L119" title="Defined at 119 in src/java/time/format/TextStyle.java.">NARROW_STANDALONE</a> : <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L114" title="Defined at 114 in src/java/time/format/TextStyle.java.">NARROW</a>);
<a id="L1754" name="L1754"></a>1754                         <strong class="reserved">break</strong>;
<a id="L1755" name="L1755"></a>1755                     <strong class="reserved">default</strong>:
<a id="L1756" name="L1756"></a>1756                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1757" name="L1757"></a>1757                 <em class="brace">}</em>
<a id="L1758" name="L1758"></a>1758                 <strong class="reserved">break</strong>;
<a id="L1759" name="L1759"></a>1759             <strong class="reserved">case</strong> 'a':
<a id="L1760" name="L1760"></a>1760                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L1761" name="L1761"></a>1761                     <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>);
<a id="L1762" name="L1762"></a>1762                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1763" name="L1763"></a>1763                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1764" name="L1764"></a>1764                 <em class="brace">}</em>
<a id="L1765" name="L1765"></a>1765                 <strong class="reserved">break</strong>;
<a id="L1766" name="L1766"></a>1766             <strong class="reserved">case</strong> 'G':
<a id="L1767" name="L1767"></a>1767                 <strong class="reserved">switch</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L1768" name="L1768"></a>1768                     <strong class="reserved">case</strong> 1:
<a id="L1769" name="L1769"></a>1769                     <strong class="reserved">case</strong> 2:
<a id="L1770" name="L1770"></a>1770                     <strong class="reserved">case</strong> 3:
<a id="L1771" name="L1771"></a>1771                         <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>);
<a id="L1772" name="L1772"></a>1772                         <strong class="reserved">break</strong>;
<a id="L1773" name="L1773"></a>1773                     <strong class="reserved">case</strong> 4:
<a id="L1774" name="L1774"></a>1774                         <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>);
<a id="L1775" name="L1775"></a>1775                         <strong class="reserved">break</strong>;
<a id="L1776" name="L1776"></a>1776                     <strong class="reserved">case</strong> 5:
<a id="L1777" name="L1777"></a>1777                         <a href="../D/11422.html" title="Multiple defined in 4 places.">appendText</a>(field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L114" title="Defined at 114 in src/java/time/format/TextStyle.java.">NARROW</a>);
<a id="L1778" name="L1778"></a>1778                         <strong class="reserved">break</strong>;
<a id="L1779" name="L1779"></a>1779                     <strong class="reserved">default</strong>:
<a id="L1780" name="L1780"></a>1780                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1781" name="L1781"></a>1781                 <em class="brace">}</em>
<a id="L1782" name="L1782"></a>1782                 <strong class="reserved">break</strong>;
<a id="L1783" name="L1783"></a>1783             <strong class="reserved">case</strong> 'S':
<a id="L1784" name="L1784"></a>1784                 <a href="../S/1537.html#L685" title="Defined at 685 in src/java/time/format/DateTimeFormatterBuilder.java.">appendFraction</a>(<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <strong class="reserved">false</strong>);
<a id="L1785" name="L1785"></a>1785                 <strong class="reserved">break</strong>;
<a id="L1786" name="L1786"></a>1786             <strong class="reserved">case</strong> 'F':
<a id="L1787" name="L1787"></a>1787                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L1788" name="L1788"></a>1788                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field);
<a id="L1789" name="L1789"></a>1789                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1790" name="L1790"></a>1790                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1791" name="L1791"></a>1791                 <em class="brace">}</em>
<a id="L1792" name="L1792"></a>1792                 <strong class="reserved">break</strong>;
<a id="L1793" name="L1793"></a>1793             <strong class="reserved">case</strong> 'd':
<a id="L1794" name="L1794"></a>1794             <strong class="reserved">case</strong> 'h':
<a id="L1795" name="L1795"></a>1795             <strong class="reserved">case</strong> 'H':
<a id="L1796" name="L1796"></a>1796             <strong class="reserved">case</strong> 'k':
<a id="L1797" name="L1797"></a>1797             <strong class="reserved">case</strong> 'K':
<a id="L1798" name="L1798"></a>1798             <strong class="reserved">case</strong> 'm':
<a id="L1799" name="L1799"></a>1799             <strong class="reserved">case</strong> 's':
<a id="L1800" name="L1800"></a>1800                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L1801" name="L1801"></a>1801                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field);
<a id="L1802" name="L1802"></a>1802                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 2) <em class="brace">{</em>
<a id="L1803" name="L1803"></a>1803                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L1804" name="L1804"></a>1804                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1805" name="L1805"></a>1805                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1806" name="L1806"></a>1806                 <em class="brace">}</em>
<a id="L1807" name="L1807"></a>1807                 <strong class="reserved">break</strong>;
<a id="L1808" name="L1808"></a>1808             <strong class="reserved">case</strong> 'D':
<a id="L1809" name="L1809"></a>1809                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L1810" name="L1810"></a>1810                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field);
<a id="L1811" name="L1811"></a>1811                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt;= 3) <em class="brace">{</em>
<a id="L1812" name="L1812"></a>1812                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L1813" name="L1813"></a>1813                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1814" name="L1814"></a>1814                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many pattern letters: " + cur);
<a id="L1815" name="L1815"></a>1815                 <em class="brace">}</em>
<a id="L1816" name="L1816"></a>1816                 <strong class="reserved">break</strong>;
<a id="L1817" name="L1817"></a>1817             <strong class="reserved">default</strong>:
<a id="L1818" name="L1818"></a>1818                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L1819" name="L1819"></a>1819                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field);
<a id="L1820" name="L1820"></a>1820                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1821" name="L1821"></a>1821                     <a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(field, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L1822" name="L1822"></a>1822                 <em class="brace">}</em>
<a id="L1823" name="L1823"></a>1823                 <strong class="reserved">break</strong>;
<a id="L1824" name="L1824"></a>1824         <em class="brace">}</em>
<a id="L1825" name="L1825"></a>1825     <em class="brace">}</em>
<a id="L1826" name="L1826"></a>1826 
<div class="comment">
     /** Map of letters to fields. */</div>
<a id="L1828" name="L1828"></a>1828     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>, <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>&gt; FIELD_MAP = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L1829" name="L1829"></a>1829     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L1830" name="L1830"></a>1830         <em class="comment">// SDF = SimpleDateFormat</em>
<a id="L1831" name="L1831"></a>1831         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('G', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>);                       <em class="comment">// SDF, LDML (different to both for 1/2 chars)</em>
<a id="L1832" name="L1832"></a>1832         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('y', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L521" title="Defined at 521 in src/java/time/temporal/ChronoField.java.">YEAR_OF_ERA</a>);               <em class="comment">// SDF, LDML</em>
<a id="L1833" name="L1833"></a>1833         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('u', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);                      <em class="comment">// LDML (different in SDF)</em>
<a id="L1834" name="L1834"></a>1834         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('Q', <a href="../S/1478.html#L156" title="Defined at 156 in src/java/time/temporal/IsoFields.java.">IsoFields</a>.QUARTER_OF_YEAR);             <em class="comment">// LDML (removed quarter from 310)</em>
<a id="L1835" name="L1835"></a>1835         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('q', <a href="../S/1478.html#L156" title="Defined at 156 in src/java/time/temporal/IsoFields.java.">IsoFields</a>.QUARTER_OF_YEAR);             <em class="comment">// LDML (stand-alone)</em>
<a id="L1836" name="L1836"></a>1836         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('M', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>);             <em class="comment">// SDF, LDML</em>
<a id="L1837" name="L1837"></a>1837         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('L', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>);             <em class="comment">// SDF, LDML (stand-alone)</em>
<a id="L1838" name="L1838"></a>1838         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('D', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);               <em class="comment">// SDF, LDML</em>
<a id="L1839" name="L1839"></a>1839         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('d', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>);              <em class="comment">// SDF, LDML</em>
<a id="L1840" name="L1840"></a>1840         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('F', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L364" title="Defined at 364 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_MONTH</a>);  <em class="comment">// SDF, LDML</em>
<a id="L1841" name="L1841"></a>1841         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('E', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);               <em class="comment">// SDF, LDML (different to both for 1/2 chars)</em>
<a id="L1842" name="L1842"></a>1842         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('c', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);               <em class="comment">// LDML (stand-alone)</em>
<a id="L1843" name="L1843"></a>1843         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('e', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);               <em class="comment">// LDML (needs localized week number)</em>
<a id="L1844" name="L1844"></a>1844         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('a', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L330" title="Defined at 330 in src/java/time/temporal/ChronoField.java.">AMPM_OF_DAY</a>);               <em class="comment">// SDF, LDML</em>
<a id="L1845" name="L1845"></a>1845         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('H', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>);               <em class="comment">// SDF, LDML</em>
<a id="L1846" name="L1846"></a>1846         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('k', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L317" title="Defined at 317 in src/java/time/temporal/ChronoField.java.">CLOCK_HOUR_OF_DAY</a>);         <em class="comment">// SDF, LDML</em>
<a id="L1847" name="L1847"></a>1847         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('K', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L274" title="Defined at 274 in src/java/time/temporal/ChronoField.java.">HOUR_OF_AMPM</a>);              <em class="comment">// SDF, LDML</em>
<a id="L1848" name="L1848"></a>1848         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('h', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L288" title="Defined at 288 in src/java/time/temporal/ChronoField.java.">CLOCK_HOUR_OF_AMPM</a>);        <em class="comment">// SDF, LDML</em>
<a id="L1849" name="L1849"></a>1849         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('m', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L249" title="Defined at 249 in src/java/time/temporal/ChronoField.java.">MINUTE_OF_HOUR</a>);            <em class="comment">// SDF, LDML</em>
<a id="L1850" name="L1850"></a>1850         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('s', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L227" title="Defined at 227 in src/java/time/temporal/ChronoField.java.">SECOND_OF_MINUTE</a>);          <em class="comment">// SDF, LDML</em>
<a id="L1851" name="L1851"></a>1851         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('S', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>);            <em class="comment">// LDML (SDF uses milli-of-second number)</em>
<a id="L1852" name="L1852"></a>1852         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('A', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L217" title="Defined at 217 in src/java/time/temporal/ChronoField.java.">MILLI_OF_DAY</a>);              <em class="comment">// LDML</em>
<a id="L1853" name="L1853"></a>1853         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('n', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>);            <em class="comment">// 310 (proposed for LDML)</em>
<a id="L1854" name="L1854"></a>1854         FIELD_MAP.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>('N', <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L139" title="Defined at 139 in src/java/time/temporal/ChronoField.java.">NANO_OF_DAY</a>);               <em class="comment">// 310 (proposed for LDML)</em>
<a id="L1855" name="L1855"></a>1855         <em class="comment">// 310 - z - time-zone names, matches LDML and SimpleDateFormat 1 to 4</em>
<a id="L1856" name="L1856"></a>1856         <em class="comment">// 310 - Z - matches SimpleDateFormat and LDML</em>
<a id="L1857" name="L1857"></a>1857         <em class="comment">// 310 - V - time-zone id, matches LDML</em>
<a id="L1858" name="L1858"></a>1858         <em class="comment">// 310 - p - prefix for padding</em>
<a id="L1859" name="L1859"></a>1859         <em class="comment">// 310 - X - matches LDML, almost matches SDF for 1, exact match 2&amp;3, extended 4&amp;5</em>
<a id="L1860" name="L1860"></a>1860         <em class="comment">// 310 - x - matches LDML</em>
<a id="L1861" name="L1861"></a>1861         <em class="comment">// 310 - w, W, and Y are localized forms matching LDML</em>
<a id="L1862" name="L1862"></a>1862         <em class="comment">// LDML - U - cycle year name, not supported by 310 yet</em>
<a id="L1863" name="L1863"></a>1863         <em class="comment">// LDML - l - deprecated</em>
<a id="L1864" name="L1864"></a>1864         <em class="comment">// LDML - j - not relevant</em>
<a id="L1865" name="L1865"></a>1865         <em class="comment">// LDML - g - modified-julian-day</em>
<a id="L1866" name="L1866"></a>1866         <em class="comment">// LDML - v,V - extended time-zone names</em>
<a id="L1867" name="L1867"></a>1867     <em class="brace">}</em>
<a id="L1868" name="L1868"></a>1868 
<a id="L1869" name="L1869"></a>1869     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Causes the next added printer/parser to pad to a fixed width using a space.
      <p>
      This padding will pad to a fixed width using spaces.
      </p><p>
      During formatting, the decorated element will be output and then padded
      to the specified width. An exception will be thrown during formatting if
      the pad width is exceeded.
      </p><p>
      During parsing, the padding and decorated element are parsed.
      If parsing is lenient, then the pad width is treated as a maximum.
      The padding is parsed greedily. Thus, if the decorated element starts with
      the pad character, it will not be parsed.
      @param padWidth  the pad width, 1 or greater
      @return this, for chaining, not null
      @throws IllegalArgumentException if pad width is too small</p></div>
<a id="L1888" name="L1888"></a>1888     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/24085.html" title="Multiple referred from 2 places.">padNext</a>(<strong class="reserved">int</strong> padWidth) <em class="brace">{</em>
<a id="L1889" name="L1889"></a>1889         <strong class="reserved">return</strong> <a href="../D/28648.html" title="Multiple defined in 2 places.">padNext</a>(padWidth, ' ');
<a id="L1890" name="L1890"></a>1890     <em class="brace">}</em>
<a id="L1891" name="L1891"></a>1891 
<div class="comment">
      Causes the next added printer/parser to pad to a fixed width.
      <p>
      This padding is intended for padding other than zero-padding.
      Zero-padding should be achieved using the appendValue methods.
      </p><p>
      During formatting, the decorated element will be output and then padded
      to the specified width. An exception will be thrown during formatting if
      the pad width is exceeded.
      </p><p>
      During parsing, the padding and decorated element are parsed.
      If parsing is lenient, then the pad width is treated as a maximum.
      If parsing is case insensitive, then the pad character is matched ignoring case.
      The padding is parsed greedily. Thus, if the decorated element starts with
      the pad character, it will not be parsed.
      @param padWidth  the pad width, 1 or greater
      @param padChar  the pad character
      @return this, for chaining, not null
      @throws IllegalArgumentException if pad width is too small</p></div>
<a id="L1913" name="L1913"></a>1913     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/24085.html" title="Multiple referred from 2 places.">padNext</a>(<strong class="reserved">int</strong> padWidth, <strong class="reserved">char</strong> padChar) <em class="brace">{</em>
<a id="L1914" name="L1914"></a>1914         <strong class="reserved">if</strong> (padWidth &lt; 1) <em class="brace">{</em>
<a id="L1915" name="L1915"></a>1915             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The pad width must be at least one but was " + padWidth);
<a id="L1916" name="L1916"></a>1916         <em class="brace">}</em>
<a id="L1917" name="L1917"></a>1917         <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.padNextWidth = padWidth;
<a id="L1918" name="L1918"></a>1918         <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.padNextChar = padChar;
<a id="L1919" name="L1919"></a>1919         <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex = -1;
<a id="L1920" name="L1920"></a>1920         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1921" name="L1921"></a>1921     <em class="brace">}</em>
<a id="L1922" name="L1922"></a>1922 
<a id="L1923" name="L1923"></a>1923     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Mark the start of an optional section.
      <p>
      The output of formatting can include optional sections, which may be nested.
      An optional section is started by calling this method and ended by calling
      {@link #optionalEnd()} or by ending the build process.
      </p><p>
      All elements in the optional section are treated as optional.
      During formatting, the section is only output if data is available in the
      <code>TemporalAccessor</code> for all the elements in the section.
      During parsing, the whole section may be missing from the parsed string.
      </p><p>
      For example, consider a builder setup as
      <code>builder.appendValue(HOUR_OF_DAY,2).optionalStart().appendValue(MINUTE_OF_HOUR,2)</code>.
      The optional section ends automatically at the end of the builder.
      During formatting, the minute will only be output if its value can be obtained from the date-time.
      During parsing, the input will be successfully parsed whether the minute is present or not.
      @return this, for chaining, not null</p></div>
<a id="L1944" name="L1944"></a>1944     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/24006.html" title="Multiple referred from 13 places.">optionalStart</a>() <em class="brace">{</em>
<a id="L1945" name="L1945"></a>1945         <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex = -1;
<a id="L1946" name="L1946"></a>1946         <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a> = <strong class="reserved">new</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a>(<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>, <strong class="reserved">true</strong>);
<a id="L1947" name="L1947"></a>1947         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1948" name="L1948"></a>1948     <em class="brace">}</em>
<a id="L1949" name="L1949"></a>1949 
<div class="comment">
      Ends an optional section.
      <p>
      The output of formatting can include optional sections, which may be nested.
      An optional section is started by calling {@link #optionalStart()} and ended
      using this method (or at the end of the builder).
      </p><p>
      Calling this method without having previously called <code>optionalStart</code>
      will throw an exception.
      Calling this method immediately after calling <code>optionalStart</code> has no effect
      on the formatter other than ending the (empty) optional section.
      </p><p>
      All elements in the optional section are treated as optional.
      During formatting, the section is only output if data is available in the
      <code>TemporalAccessor</code> for all the elements in the section.
      During parsing, the whole section may be missing from the parsed string.
      </p><p>
      For example, consider a builder setup as
      <code>builder.appendValue(HOUR_OF_DAY,2).optionalStart().appendValue(MINUTE_OF_HOUR,2).optionalEnd()</code>.
      During formatting, the minute will only be output if its value can be obtained from the date-time.
      During parsing, the input will be successfully parsed whether the minute is present or not.
      @return this, for chaining, not null
      @throws IllegalStateException if there was no previous call to <code>optionalStart</code></p></div>
<a id="L1975" name="L1975"></a>1975     <strong class="reserved">public</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a> <a href="../R/24005.html" title="Multiple referred from 4 places.">optionalEnd</a>() <em class="brace">{</em>
<a id="L1976" name="L1976"></a>1976         <strong class="reserved">if</strong> (<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1977" name="L1977"></a>1977             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("Cannot call optionalEnd() as there was no previous call to optionalStart()");
<a id="L1978" name="L1978"></a>1978         <em class="brace">}</em>
<a id="L1979" name="L1979"></a>1979         <strong class="reserved">if</strong> (<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.printerParsers.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L1980" name="L1980"></a>1980             <a href="../S/1537.html#L2145" title="Defined at 2145 in src/java/time/format/DateTimeFormatterBuilder.java.">CompositePrinterParser</a> cpp = <strong class="reserved">new</strong> <a href="../S/1537.html#L2145" title="Defined at 2145 in src/java/time/format/DateTimeFormatterBuilder.java.">CompositePrinterParser</a>(<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.printerParsers, <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.optional);
<a id="L1981" name="L1981"></a>1981             <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a> = <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1982" name="L1982"></a>1982             <a href="../S/1537.html#L1996" title="Defined at 1996 in src/java/time/format/DateTimeFormatterBuilder.java.">appendInternal</a>(cpp);
<a id="L1983" name="L1983"></a>1983         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1984" name="L1984"></a>1984             <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a> = <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1985" name="L1985"></a>1985         <em class="brace">}</em>
<a id="L1986" name="L1986"></a>1986         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1987" name="L1987"></a>1987     <em class="brace">}</em>
<a id="L1988" name="L1988"></a>1988 
<a id="L1989" name="L1989"></a>1989     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Appends a printer and/or parser to the internal list handling padding.
      @param pp  the printer-parser to add, not null
      @return the index into the active parsers list</div>
<a id="L1996" name="L1996"></a>1996     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/10217.html" title="Multiple referred from 34 places.">appendInternal</a>(<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> pp) <em class="brace">{</em>
<a id="L1997" name="L1997"></a>1997         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(pp, "pp");
<a id="L1998" name="L1998"></a>1998         <strong class="reserved">if</strong> (<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.padNextWidth &gt; 0) <em class="brace">{</em>
<a id="L1999" name="L1999"></a>1999             <strong class="reserved">if</strong> (pp != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2000" name="L2000"></a>2000                 pp = <strong class="reserved">new</strong> <a href="../S/1537.html#L2235" title="Defined at 2235 in src/java/time/format/DateTimeFormatterBuilder.java.">PadPrinterParserDecorator</a>(pp, <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.padNextWidth, <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.padNextChar);
<a id="L2001" name="L2001"></a>2001             <em class="brace">}</em>
<a id="L2002" name="L2002"></a>2002             <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.padNextWidth = 0;
<a id="L2003" name="L2003"></a>2003             <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.padNextChar = 0;
<a id="L2004" name="L2004"></a>2004         <em class="brace">}</em>
<a id="L2005" name="L2005"></a>2005         <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.printerParsers.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(pp);
<a id="L2006" name="L2006"></a>2006         <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.valueParserIndex = -1;
<a id="L2007" name="L2007"></a>2007         <strong class="reserved">return</strong> <a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.printerParsers.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1;
<a id="L2008" name="L2008"></a>2008     <em class="brace">}</em>
<a id="L2009" name="L2009"></a>2009 
<a id="L2010" name="L2010"></a>2010     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Completes this builder by creating the <code>DateTimeFormatter</code>
      using the default locale.
      <p>
      This will create a formatter with the {@linkplain Locale#getDefault(Locale.Category) default FORMAT locale}.
      Numbers will be printed and parsed using the standard DecimalStyle.
      The resolver style will be {@link ResolverStyle#SMART SMART}.
      </p><p>
      Calling this method will end any open optional sections by repeatedly
      calling {@link #optionalEnd()} before creating the formatter.
      </p><p>
      This builder can still be used after creating the formatter if desired,
      although the state may have been changed by calls to <code>optionalEnd</code>.
      @return the created formatter, not null</p></div>
<a id="L2027" name="L2027"></a>2027     <strong class="reserved">public</strong> <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../R/29259.html" title="Multiple referred from 34 places.">toFormatter</a>() <em class="brace">{</em>
<a id="L2028" name="L2028"></a>2028         <strong class="reserved">return</strong> <a href="../D/35401.html" title="Multiple defined in 4 places.">toFormatter</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2313" title="Defined at 2313 in src/java/util/Locale.java.">FORMAT</a>));
<a id="L2029" name="L2029"></a>2029     <em class="brace">}</em>
<a id="L2030" name="L2030"></a>2030 
<div class="comment">
      Completes this builder by creating the <code>DateTimeFormatter</code>
      using the specified locale.
      <p>
      This will create a formatter with the specified locale.
      Numbers will be printed and parsed using the standard DecimalStyle.
      The resolver style will be {@link ResolverStyle#SMART SMART}.
      </p><p>
      Calling this method will end any open optional sections by repeatedly
      calling {@link #optionalEnd()} before creating the formatter.
      </p><p>
      This builder can still be used after creating the formatter if desired,
      although the state may have been changed by calls to <code>optionalEnd</code>.
      @param locale  the locale to use for formatting, not null
      @return the created formatter, not null</p></div>
<a id="L2048" name="L2048"></a>2048     <strong class="reserved">public</strong> <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../R/29259.html" title="Multiple referred from 34 places.">toFormatter</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L2049" name="L2049"></a>2049         <strong class="reserved">return</strong> <a href="../D/35401.html" title="Multiple defined in 4 places.">toFormatter</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.SMART, <strong class="reserved">null</strong>);
<a id="L2050" name="L2050"></a>2050     <em class="brace">}</em>
<a id="L2051" name="L2051"></a>2051 
<div class="comment">
      Completes this builder by creating the formatter.
      This uses the default locale.
      @param resolverStyle  the resolver style to use, not null
      @return the created formatter, not null</div>
<a id="L2059" name="L2059"></a>2059     <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../R/29259.html" title="Multiple referred from 34 places.">toFormatter</a>(<a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono) <em class="brace">{</em>
<a id="L2060" name="L2060"></a>2060         <strong class="reserved">return</strong> <a href="../D/35401.html" title="Multiple defined in 4 places.">toFormatter</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2313" title="Defined at 2313 in src/java/util/Locale.java.">FORMAT</a>), resolverStyle, chrono);
<a id="L2061" name="L2061"></a>2061     <em class="brace">}</em>
<a id="L2062" name="L2062"></a>2062 
<div class="comment">
      Completes this builder by creating the formatter.
      @param locale  the locale to use for formatting, not null
      @param chrono  the chronology to use, may be null
      @return the created formatter, not null</div>
<a id="L2070" name="L2070"></a>2070     <strong class="reserved">private</strong> <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../R/29259.html" title="Multiple referred from 34 places.">toFormatter</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono) <em class="brace">{</em>
<a id="L2071" name="L2071"></a>2071         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, "locale");
<a id="L2072" name="L2072"></a>2072         <strong class="reserved">while</strong> (<a href="../D/10612.html" title="Multiple defined in 4 places.">active</a>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2073" name="L2073"></a>2073             <a href="../S/1537.html#L1975" title="Defined at 1975 in src/java/time/format/DateTimeFormatterBuilder.java.">optionalEnd</a>();
<a id="L2074" name="L2074"></a>2074         <em class="brace">}</em>
<a id="L2075" name="L2075"></a>2075         <a href="../S/1537.html#L2145" title="Defined at 2145 in src/java/time/format/DateTimeFormatterBuilder.java.">CompositePrinterParser</a> pp = <strong class="reserved">new</strong> <a href="../S/1537.html#L2145" title="Defined at 2145 in src/java/time/format/DateTimeFormatterBuilder.java.">CompositePrinterParser</a>(printerParsers, <strong class="reserved">false</strong>);
<a id="L2076" name="L2076"></a>2076         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a>(pp, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <a href="../S/1540.html#L84" title="Defined at 84 in src/java/time/format/DecimalStyle.java.">DecimalStyle</a>.STANDARD,
<a id="L2077" name="L2077"></a>2077                 resolverStyle, <strong class="reserved">null</strong>, chrono, <strong class="reserved">null</strong>);
<a id="L2078" name="L2078"></a>2078     <em class="brace">}</em>
<a id="L2079" name="L2079"></a>2079 
<a id="L2080" name="L2080"></a>2080     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Strategy for formatting/parsing date-time information.
      <p>
      The printer may format any part, or the whole, of the input date-time object.
      Typically, a complete format is constructed from a number of smaller
      units, each outputting a single field.
      </p><p>
      The parser may parse any piece of text from the input, storing the result
      in the context. Typically, each individual parser will just parse one
      field, such as the day-of-month, storing the value in the context.
      Once the parse is complete, the caller will then resolve the parsed values
      to create the desired object, such as a <code>LocalDate</code>.
      </p><p>
      The parse position will be updated during the parse. Parsing will start at
      the specified index and the return value specifies the new parse position
      for the next parser. If an error occurs, the returned index will be negative
      and will have the error position encoded using the complement operator.
      @implSpec
      This interface must be implemented with care to ensure other classes operate correctly.
      All implementations that can be instantiated must be final, immutable and thread-safe.
      </p><p>
      The context is not a thread-safe object and a new instance will be created
      for each format that occurs. The context must not be stored in an instance
      variable or shared with any other threads.</p></div>
<a id="L2107" name="L2107"></a>2107     <strong class="reserved">interface</strong> <a href="../R/2045.html" title="Multiple referred from 29 places.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2108" name="L2108"></a>2108 
<div class="comment">
          Prints the date-time object to the buffer.
          <p>
          The context holds information to use during the format.
          It also contains the date-time information to be printed.
          </p><p>
          The buffer must not be mutated beyond the content controlled by the implementation.
          @param context  the context to format using, not null
          @param buf  the buffer to append to, not null
          @return false if unable to query the value from the date-time, true otherwise
          @throws DateTimeException if the date-time cannot be printed successfully</p></div>
<a id="L2122" name="L2122"></a>2122         <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L2123" name="L2123"></a>2123 
<div class="comment">
          Parses text into date-time information.
          <p>
          The context holds information to use during the parse.
          It is also used to store the parsed date-time information.
          @param context  the context to use and parse into, not null
          @param text  the input text to parse, not null
          @param position  the position to start parsing at, from 0 to the text length
          @return the new parse position, where negative means an error with the
           error position encoded using the complement ~ operator
          @throws NullPointerException if the context or text is null
          @throws IndexOutOfBoundsException if the position is invalid</p></div>
<a id="L2138" name="L2138"></a>2138         <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L2139" name="L2139"></a>2139     <em class="brace">}</em>
<a id="L2140" name="L2140"></a>2140 
<a id="L2141" name="L2141"></a>2141     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Composite printer and parser.</div>
<a id="L2145" name="L2145"></a>2145     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1611.html" title="Multiple referred from 9 places.">CompositePrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2146" name="L2146"></a>2146         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a>[] printerParsers;
<a id="L2147" name="L2147"></a>2147         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> optional;
<a id="L2148" name="L2148"></a>2148 
<a id="L2149" name="L2149"></a>2149         CompositePrinterParser(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a>&gt; printerParsers, <strong class="reserved">boolean</strong> optional) <em class="brace">{</em>
<a id="L2150" name="L2150"></a>2150             <strong class="reserved">this</strong>(printerParsers.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a>[printerParsers.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]), optional);
<a id="L2151" name="L2151"></a>2151         <em class="brace">}</em>
<a id="L2152" name="L2152"></a>2152 
<a id="L2153" name="L2153"></a>2153         CompositePrinterParser(<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a>[] printerParsers, <strong class="reserved">boolean</strong> optional) <em class="brace">{</em>
<a id="L2154" name="L2154"></a>2154             <strong class="reserved">this</strong>.printerParsers = printerParsers;
<a id="L2155" name="L2155"></a>2155             <strong class="reserved">this</strong>.optional = optional;
<a id="L2156" name="L2156"></a>2156         <em class="brace">}</em>
<a id="L2157" name="L2157"></a>2157 
<div class="comment">
          Returns a copy of this printer-parser with the optional flag changed.
          @param optional  the optional flag to set in the copy
          @return the new printer-parser, not null</div>
<a id="L2164" name="L2164"></a>2164         <strong class="reserved">public</strong> <a href="../S/1537.html#L2145" title="Defined at 2145 in src/java/time/format/DateTimeFormatterBuilder.java.">CompositePrinterParser</a> <a href="../S/1541.html#L2027" title="Referred from 2027 in src/java/time/format/DateTimeFormatter.java.">withOptional</a>(<strong class="reserved">boolean</strong> optional) <em class="brace">{</em>
<a id="L2165" name="L2165"></a>2165             <strong class="reserved">if</strong> (optional == <strong class="reserved">this</strong>.optional) <em class="brace">{</em>
<a id="L2166" name="L2166"></a>2166                 <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2167" name="L2167"></a>2167             <em class="brace">}</em>
<a id="L2168" name="L2168"></a>2168             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2145" title="Defined at 2145 in src/java/time/format/DateTimeFormatterBuilder.java.">CompositePrinterParser</a>(printerParsers, optional);
<a id="L2169" name="L2169"></a>2169         <em class="brace">}</em>
<a id="L2170" name="L2170"></a>2170 
<a id="L2171" name="L2171"></a>2171         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2172" name="L2172"></a>2172         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2173" name="L2173"></a>2173             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2174" name="L2174"></a>2174             <strong class="reserved">if</strong> (optional) <em class="brace">{</em>
<a id="L2175" name="L2175"></a>2175                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/34811.html" title="Multiple defined in 2 places.">startOptional</a>();
<a id="L2176" name="L2176"></a>2176             <em class="brace">}</em>
<a id="L2177" name="L2177"></a>2177             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2178" name="L2178"></a>2178                 <strong class="reserved">for</strong> (<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> pp : printerParsers) <em class="brace">{</em>
<a id="L2179" name="L2179"></a>2179                     <strong class="reserved">if</strong> (pp.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2180" name="L2180"></a>2180                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);  <em class="comment">// reset buffer</em>
<a id="L2181" name="L2181"></a>2181                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2182" name="L2182"></a>2182                     <em class="brace">}</em>
<a id="L2183" name="L2183"></a>2183                 <em class="brace">}</em>
<a id="L2184" name="L2184"></a>2184             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2185" name="L2185"></a>2185                 <strong class="reserved">if</strong> (optional) <em class="brace">{</em>
<a id="L2186" name="L2186"></a>2186                     <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/15466.html" title="Multiple defined in 2 places.">endOptional</a>();
<a id="L2187" name="L2187"></a>2187                 <em class="brace">}</em>
<a id="L2188" name="L2188"></a>2188             <em class="brace">}</em>
<a id="L2189" name="L2189"></a>2189             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2190" name="L2190"></a>2190         <em class="brace">}</em>
<a id="L2191" name="L2191"></a>2191 
<a id="L2192" name="L2192"></a>2192         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2193" name="L2193"></a>2193         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2194" name="L2194"></a>2194             <strong class="reserved">if</strong> (optional) <em class="brace">{</em>
<a id="L2195" name="L2195"></a>2195                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/34811.html" title="Multiple defined in 2 places.">startOptional</a>();
<a id="L2196" name="L2196"></a>2196                 <strong class="reserved">int</strong> pos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2197" name="L2197"></a>2197                 <strong class="reserved">for</strong> (<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> pp : printerParsers) <em class="brace">{</em>
<a id="L2198" name="L2198"></a>2198                     pos = pp.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos);
<a id="L2199" name="L2199"></a>2199                     <strong class="reserved">if</strong> (pos &lt; 0) <em class="brace">{</em>
<a id="L2200" name="L2200"></a>2200                         <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/15466.html" title="Multiple defined in 2 places.">endOptional</a>(<strong class="reserved">false</strong>);
<a id="L2201" name="L2201"></a>2201                         <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;  <em class="comment">// return original position</em>
<a id="L2202" name="L2202"></a>2202                     <em class="brace">}</em>
<a id="L2203" name="L2203"></a>2203                 <em class="brace">}</em>
<a id="L2204" name="L2204"></a>2204                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/15466.html" title="Multiple defined in 2 places.">endOptional</a>(<strong class="reserved">true</strong>);
<a id="L2205" name="L2205"></a>2205                 <strong class="reserved">return</strong> pos;
<a id="L2206" name="L2206"></a>2206             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2207" name="L2207"></a>2207                 <strong class="reserved">for</strong> (<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> pp : printerParsers) <em class="brace">{</em>
<a id="L2208" name="L2208"></a>2208                     <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> = pp.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L2209" name="L2209"></a>2209                     <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &lt; 0) <em class="brace">{</em>
<a id="L2210" name="L2210"></a>2210                         <strong class="reserved">break</strong>;
<a id="L2211" name="L2211"></a>2211                     <em class="brace">}</em>
<a id="L2212" name="L2212"></a>2212                 <em class="brace">}</em>
<a id="L2213" name="L2213"></a>2213                 <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2214" name="L2214"></a>2214             <em class="brace">}</em>
<a id="L2215" name="L2215"></a>2215         <em class="brace">}</em>
<a id="L2216" name="L2216"></a>2216 
<a id="L2217" name="L2217"></a>2217         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2218" name="L2218"></a>2218         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2219" name="L2219"></a>2219             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L2220" name="L2220"></a>2220             <strong class="reserved">if</strong> (printerParsers != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2221" name="L2221"></a>2221                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(optional ? "[" : "(");
<a id="L2222" name="L2222"></a>2222                 <strong class="reserved">for</strong> (<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> pp : printerParsers) <em class="brace">{</em>
<a id="L2223" name="L2223"></a>2223                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(pp);
<a id="L2224" name="L2224"></a>2224                 <em class="brace">}</em>
<a id="L2225" name="L2225"></a>2225                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(optional ? "]" : ")");
<a id="L2226" name="L2226"></a>2226             <em class="brace">}</em>
<a id="L2227" name="L2227"></a>2227             <strong class="reserved">return</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2228" name="L2228"></a>2228         <em class="brace">}</em>
<a id="L2229" name="L2229"></a>2229     <em class="brace">}</em>
<a id="L2230" name="L2230"></a>2230 
<a id="L2231" name="L2231"></a>2231     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Pads the output to a fixed width.</div>
<a id="L2235" name="L2235"></a>2235     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1537.html#L2000" title="Referred from 2000 in src/java/time/format/DateTimeFormatterBuilder.java.">PadPrinterParserDecorator</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2236" name="L2236"></a>2236         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a>;
<a id="L2237" name="L2237"></a>2237         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> padWidth;
<a id="L2238" name="L2238"></a>2238         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> padChar;
<a id="L2239" name="L2239"></a>2239 
<div class="comment">
          Constructor.
          @param printerParser  the printer, not null
          @param padWidth  the width to pad to, 1 or greater
          @param padChar  the pad character</div>
<a id="L2247" name="L2247"></a>2247         PadPrinterParserDecorator(<a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a>, <strong class="reserved">int</strong> padWidth, <strong class="reserved">char</strong> padChar) <em class="brace">{</em>
<a id="L2248" name="L2248"></a>2248             <em class="comment">// input checked by DateTimeFormatterBuilder</em>
<a id="L2249" name="L2249"></a>2249             <strong class="reserved">this</strong>.<a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a> = <a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a>;
<a id="L2250" name="L2250"></a>2250             <strong class="reserved">this</strong>.padWidth = padWidth;
<a id="L2251" name="L2251"></a>2251             <strong class="reserved">this</strong>.padChar = padChar;
<a id="L2252" name="L2252"></a>2252         <em class="brace">}</em>
<a id="L2253" name="L2253"></a>2253 
<a id="L2254" name="L2254"></a>2254         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2255" name="L2255"></a>2255         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2256" name="L2256"></a>2256             <strong class="reserved">int</strong> preLen = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2257" name="L2257"></a>2257             <strong class="reserved">if</strong> (<a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2258" name="L2258"></a>2258                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2259" name="L2259"></a>2259             <em class="brace">}</em>
<a id="L2260" name="L2260"></a>2260             <strong class="reserved">int</strong> len = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - preLen;
<a id="L2261" name="L2261"></a>2261             <strong class="reserved">if</strong> (len &gt; padWidth) <em class="brace">{</em>
<a id="L2262" name="L2262"></a>2262                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>(
<a id="L2263" name="L2263"></a>2263                     "Cannot print as output of " + len + " characters exceeds pad width of " + padWidth);
<a id="L2264" name="L2264"></a>2264             <em class="brace">}</em>
<a id="L2265" name="L2265"></a>2265             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; padWidth - len; i++) <em class="brace">{</em>
<a id="L2266" name="L2266"></a>2266                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(preLen, padChar);
<a id="L2267" name="L2267"></a>2267             <em class="brace">}</em>
<a id="L2268" name="L2268"></a>2268             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2269" name="L2269"></a>2269         <em class="brace">}</em>
<a id="L2270" name="L2270"></a>2270 
<a id="L2271" name="L2271"></a>2271         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2272" name="L2272"></a>2272         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2273" name="L2273"></a>2273             <em class="comment">// cache context before changed by decorated parser</em>
<a id="L2274" name="L2274"></a>2274             <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> strict = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>();
<a id="L2275" name="L2275"></a>2275             <em class="comment">// parse</em>
<a id="L2276" name="L2276"></a>2276             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &gt; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L2277" name="L2277"></a>2277                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>();
<a id="L2278" name="L2278"></a>2278             <em class="brace">}</em>
<a id="L2279" name="L2279"></a>2279             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> == <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L2280" name="L2280"></a>2280                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;  <em class="comment">// no more characters in the string</em>
<a id="L2281" name="L2281"></a>2281             <em class="brace">}</em>
<a id="L2282" name="L2282"></a>2282             <strong class="reserved">int</strong> endPos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + padWidth;
<a id="L2283" name="L2283"></a>2283             <strong class="reserved">if</strong> (endPos &gt; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L2284" name="L2284"></a>2284                 <strong class="reserved">if</strong> (strict) <em class="brace">{</em>
<a id="L2285" name="L2285"></a>2285                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;  <em class="comment">// not enough characters in the string to meet the parse width</em>
<a id="L2286" name="L2286"></a>2286                 <em class="brace">}</em>
<a id="L2287" name="L2287"></a>2287                 endPos = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2288" name="L2288"></a>2288             <em class="brace">}</em>
<a id="L2289" name="L2289"></a>2289             <strong class="reserved">int</strong> pos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2290" name="L2290"></a>2290             <strong class="reserved">while</strong> (pos &lt; endPos &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos), padChar)) <em class="brace">{</em>
<a id="L2291" name="L2291"></a>2291                 pos++;
<a id="L2292" name="L2292"></a>2292             <em class="brace">}</em>
<a id="L2293" name="L2293"></a>2293             <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/34995.html" title="Multiple defined in 17 places.">subSequence</a>(0, endPos);
<a id="L2294" name="L2294"></a>2294             <strong class="reserved">int</strong> resultPos = <a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a>.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos);
<a id="L2295" name="L2295"></a>2295             <strong class="reserved">if</strong> (resultPos != endPos &amp;&amp; strict) <em class="brace">{</em>
<a id="L2296" name="L2296"></a>2296                 <strong class="reserved">return</strong> ~(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + pos);  <em class="comment">// parse of decorated field didn't parse to the end</em>
<a id="L2297" name="L2297"></a>2297             <em class="brace">}</em>
<a id="L2298" name="L2298"></a>2298             <strong class="reserved">return</strong> resultPos;
<a id="L2299" name="L2299"></a>2299         <em class="brace">}</em>
<a id="L2300" name="L2300"></a>2300 
<a id="L2301" name="L2301"></a>2301         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2302" name="L2302"></a>2302         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2303" name="L2303"></a>2303             <strong class="reserved">return</strong> "Pad(" + <a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a> + "," + padWidth + (padChar == ' ' ? ")" : ",'" + padChar + "')");
<a id="L2304" name="L2304"></a>2304         <em class="brace">}</em>
<a id="L2305" name="L2305"></a>2305     <em class="brace">}</em>
<a id="L2306" name="L2306"></a>2306 
<a id="L2307" name="L2307"></a>2307     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Enumeration to apply simple parse settings.</div>
<a id="L2311" name="L2311"></a>2311     <strong class="reserved">static</strong> <strong class="reserved">enum</strong> <a href="../R/7176.html" title="Multiple referred from 4 places.">SettingsParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2312" name="L2312"></a>2312         SENSITIVE,
<a id="L2313" name="L2313"></a>2313         INSENSITIVE,
<a id="L2314" name="L2314"></a>2314         STRICT,
<a id="L2315" name="L2315"></a>2315         <a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>;
<a id="L2316" name="L2316"></a>2316 
<a id="L2317" name="L2317"></a>2317         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2318" name="L2318"></a>2318         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2319" name="L2319"></a>2319             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;  <em class="comment">// nothing to do here</em>
<a id="L2320" name="L2320"></a>2320         <em class="brace">}</em>
<a id="L2321" name="L2321"></a>2321 
<a id="L2322" name="L2322"></a>2322         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2323" name="L2323"></a>2323         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2324" name="L2324"></a>2324             <em class="comment">// using ordinals to avoid javac synthetic inner class</em>
<a id="L2325" name="L2325"></a>2325             <strong class="reserved">switch</strong> (<a href="../D/28579.html" title="Multiple defined in 2 places.">ordinal</a>()) <em class="brace">{</em>
<a id="L2326" name="L2326"></a>2326                 <strong class="reserved">case</strong> 0: <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/32099.html" title="Multiple defined in 4 places.">setCaseSensitive</a>(<strong class="reserved">true</strong>); <strong class="reserved">break</strong>;
<a id="L2327" name="L2327"></a>2327                 <strong class="reserved">case</strong> 1: <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/32099.html" title="Multiple defined in 4 places.">setCaseSensitive</a>(<strong class="reserved">false</strong>); <strong class="reserved">break</strong>;
<a id="L2328" name="L2328"></a>2328                 <strong class="reserved">case</strong> 2: <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L278" title="Defined at 278 in src/java/time/format/DateTimeParseContext.java.">setStrict</a>(<strong class="reserved">true</strong>); <strong class="reserved">break</strong>;
<a id="L2329" name="L2329"></a>2329                 <strong class="reserved">case</strong> 3: <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L278" title="Defined at 278 in src/java/time/format/DateTimeParseContext.java.">setStrict</a>(<strong class="reserved">false</strong>); <strong class="reserved">break</strong>;
<a id="L2330" name="L2330"></a>2330             <em class="brace">}</em>
<a id="L2331" name="L2331"></a>2331             <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2332" name="L2332"></a>2332         <em class="brace">}</em>
<a id="L2333" name="L2333"></a>2333 
<a id="L2334" name="L2334"></a>2334         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2335" name="L2335"></a>2335         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2336" name="L2336"></a>2336             <em class="comment">// using ordinals to avoid javac synthetic inner class</em>
<a id="L2337" name="L2337"></a>2337             <strong class="reserved">switch</strong> (<a href="../D/28579.html" title="Multiple defined in 2 places.">ordinal</a>()) <em class="brace">{</em>
<a id="L2338" name="L2338"></a>2338                 <strong class="reserved">case</strong> 0: <strong class="reserved">return</strong> "ParseCaseSensitive(true)";
<a id="L2339" name="L2339"></a>2339                 <strong class="reserved">case</strong> 1: <strong class="reserved">return</strong> "ParseCaseSensitive(false)";
<a id="L2340" name="L2340"></a>2340                 <strong class="reserved">case</strong> 2: <strong class="reserved">return</strong> "ParseStrict(true)";
<a id="L2341" name="L2341"></a>2341                 <strong class="reserved">case</strong> 3: <strong class="reserved">return</strong> "ParseStrict(false)";
<a id="L2342" name="L2342"></a>2342             <em class="brace">}</em>
<a id="L2343" name="L2343"></a>2343             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("Unreachable");
<a id="L2344" name="L2344"></a>2344         <em class="brace">}</em>
<a id="L2345" name="L2345"></a>2345     <em class="brace">}</em>
<a id="L2346" name="L2346"></a>2346 
<a id="L2347" name="L2347"></a>2347     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Defaults a value into the parse if not currently present.</div>
<a id="L2351" name="L2351"></a>2351     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/1537.html#L362" title="Referred from 362 in src/java/time/format/DateTimeFormatterBuilder.java.">DefaultValueParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2352" name="L2352"></a>2352         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field;
<a id="L2353" name="L2353"></a>2353         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2354" name="L2354"></a>2354 
<a id="L2355" name="L2355"></a>2355         DefaultValueParser(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2356" name="L2356"></a>2356             <strong class="reserved">this</strong>.field = field;
<a id="L2357" name="L2357"></a>2357             <strong class="reserved">this</strong>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2358" name="L2358"></a>2358         <em class="brace">}</em>
<a id="L2359" name="L2359"></a>2359 
<a id="L2360" name="L2360"></a>2360         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2361" name="L2361"></a>2361             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2362" name="L2362"></a>2362         <em class="brace">}</em>
<a id="L2363" name="L2363"></a>2363 
<a id="L2364" name="L2364"></a>2364         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2365" name="L2365"></a>2365             <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(field) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2366" name="L2366"></a>2366                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L2367" name="L2367"></a>2367             <em class="brace">}</em>
<a id="L2368" name="L2368"></a>2368             <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2369" name="L2369"></a>2369         <em class="brace">}</em>
<a id="L2370" name="L2370"></a>2370     <em class="brace">}</em>
<a id="L2371" name="L2371"></a>2371 
<a id="L2372" name="L2372"></a>2372     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses a character literal.</div>
<a id="L2376" name="L2376"></a>2376     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1263.html" title="Multiple referred from 2 places.">CharLiteralPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2377" name="L2377"></a>2377         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>;
<a id="L2378" name="L2378"></a>2378 
<a id="L2379" name="L2379"></a>2379         CharLiteralPrinterParser(<strong class="reserved">char</strong> <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>) <em class="brace">{</em>
<a id="L2380" name="L2380"></a>2380             <strong class="reserved">this</strong>.<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a> = <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>;
<a id="L2381" name="L2381"></a>2381         <em class="brace">}</em>
<a id="L2382" name="L2382"></a>2382 
<a id="L2383" name="L2383"></a>2383         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2384" name="L2384"></a>2384         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2385" name="L2385"></a>2385             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>);
<a id="L2386" name="L2386"></a>2386             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2387" name="L2387"></a>2387         <em class="brace">}</em>
<a id="L2388" name="L2388"></a>2388 
<a id="L2389" name="L2389"></a>2389         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2390" name="L2390"></a>2390         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2391" name="L2391"></a>2391             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2392" name="L2392"></a>2392             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L2393" name="L2393"></a>2393                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2394" name="L2394"></a>2394             <em class="brace">}</em>
<a id="L2395" name="L2395"></a>2395             <strong class="reserved">char</strong> ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L2396" name="L2396"></a>2396             <strong class="reserved">if</strong> (ch != <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>) <em class="brace">{</em>
<a id="L2397" name="L2397"></a>2397                 <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a>() ||
<a id="L2398" name="L2398"></a>2398                         (<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>(ch) != <a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>) &amp;&amp;
<a id="L2399" name="L2399"></a>2399                          <a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>(ch) != <a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>))) <em class="brace">{</em>
<a id="L2400" name="L2400"></a>2400                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2401" name="L2401"></a>2401                 <em class="brace">}</em>
<a id="L2402" name="L2402"></a>2402             <em class="brace">}</em>
<a id="L2403" name="L2403"></a>2403             <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 1;
<a id="L2404" name="L2404"></a>2404         <em class="brace">}</em>
<a id="L2405" name="L2405"></a>2405 
<a id="L2406" name="L2406"></a>2406         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2407" name="L2407"></a>2407         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2408" name="L2408"></a>2408             <strong class="reserved">if</strong> (<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a> == '\'') <em class="brace">{</em>
<a id="L2409" name="L2409"></a>2409                 <strong class="reserved">return</strong> "''";
<a id="L2410" name="L2410"></a>2410             <em class="brace">}</em>
<a id="L2411" name="L2411"></a>2411             <strong class="reserved">return</strong> "'" + <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a> + "'";
<a id="L2412" name="L2412"></a>2412         <em class="brace">}</em>
<a id="L2413" name="L2413"></a>2413     <em class="brace">}</em>
<a id="L2414" name="L2414"></a>2414 
<a id="L2415" name="L2415"></a>2415     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses a string literal.</div>
<a id="L2419" name="L2419"></a>2419     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1537.html#L1306" title="Referred from 1306 in src/java/time/format/DateTimeFormatterBuilder.java.">StringLiteralPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2420" name="L2420"></a>2420         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>;
<a id="L2421" name="L2421"></a>2421 
<a id="L2422" name="L2422"></a>2422         StringLiteralPrinterParser(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>) <em class="brace">{</em>
<a id="L2423" name="L2423"></a>2423             <strong class="reserved">this</strong>.<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a> = <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>;  <em class="comment">// validated by caller</em>
<a id="L2424" name="L2424"></a>2424         <em class="brace">}</em>
<a id="L2425" name="L2425"></a>2425 
<a id="L2426" name="L2426"></a>2426         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2427" name="L2427"></a>2427         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2428" name="L2428"></a>2428             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>);
<a id="L2429" name="L2429"></a>2429             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2430" name="L2430"></a>2430         <em class="brace">}</em>
<a id="L2431" name="L2431"></a>2431 
<a id="L2432" name="L2432"></a>2432         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2433" name="L2433"></a>2433         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2434" name="L2434"></a>2434             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2435" name="L2435"></a>2435             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &gt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &lt; 0) <em class="brace">{</em>
<a id="L2436" name="L2436"></a>2436                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>();
<a id="L2437" name="L2437"></a>2437             <em class="brace">}</em>
<a id="L2438" name="L2438"></a>2438             <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L208" title="Defined at 208 in src/java/time/format/DateTimeParseContext.java.">subSequenceEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>, 0, <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2439" name="L2439"></a>2439                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2440" name="L2440"></a>2440             <em class="brace">}</em>
<a id="L2441" name="L2441"></a>2441             <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2442" name="L2442"></a>2442         <em class="brace">}</em>
<a id="L2443" name="L2443"></a>2443 
<a id="L2444" name="L2444"></a>2444         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2445" name="L2445"></a>2445         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2446" name="L2446"></a>2446             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> converted = <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>("'", "''");
<a id="L2447" name="L2447"></a>2447             <strong class="reserved">return</strong> "'" + converted + "'";
<a id="L2448" name="L2448"></a>2448         <em class="brace">}</em>
<a id="L2449" name="L2449"></a>2449     <em class="brace">}</em>
<a id="L2450" name="L2450"></a>2450 
<a id="L2451" name="L2451"></a>2451     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints and parses a numeric date-time field with optional padding.</div>
<a id="L2455" name="L2455"></a>2455     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5645.html" title="Multiple referred from 15 places.">NumberPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2456" name="L2456"></a>2456 
<div class="comment">
          Array of 10 to the power of n.</div>
<a id="L2460" name="L2460"></a>2460         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong>[] EXCEED_POINTS = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[] <em class="brace">{</em>
<a id="L2461" name="L2461"></a>2461             0L,
<a id="L2462" name="L2462"></a>2462             10L,
<a id="L2463" name="L2463"></a>2463             100L,
<a id="L2464" name="L2464"></a>2464             1000L,
<a id="L2465" name="L2465"></a>2465             10000L,
<a id="L2466" name="L2466"></a>2466             100000L,
<a id="L2467" name="L2467"></a>2467             1000000L,
<a id="L2468" name="L2468"></a>2468             10000000L,
<a id="L2469" name="L2469"></a>2469             100000000L,
<a id="L2470" name="L2470"></a>2470             1000000000L,
<a id="L2471" name="L2471"></a>2471             10000000000L,
<a id="L2472" name="L2472"></a>2472         <em class="brace">}</em>;
<a id="L2473" name="L2473"></a>2473 
<a id="L2474" name="L2474"></a>2474         <strong class="reserved">final</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field;
<a id="L2475" name="L2475"></a>2475         <strong class="reserved">final</strong> <strong class="reserved">int</strong> minWidth;
<a id="L2476" name="L2476"></a>2476         <strong class="reserved">final</strong> <strong class="reserved">int</strong> maxWidth;
<a id="L2477" name="L2477"></a>2477         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a> signStyle;
<a id="L2478" name="L2478"></a>2478         <strong class="reserved">final</strong> <strong class="reserved">int</strong> subsequentWidth;
<a id="L2479" name="L2479"></a>2479 
<div class="comment">
          Constructor.
          @param field  the field to format, not null
          @param minWidth  the minimum field width, from 1 to 19
          @param maxWidth  the maximum field width, from minWidth to 19
          @param signStyle  the positive/negative sign style, not null</div>
<a id="L2488" name="L2488"></a>2488         NumberPrinterParser(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> minWidth, <strong class="reserved">int</strong> maxWidth, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a> signStyle) <em class="brace">{</em>
<a id="L2489" name="L2489"></a>2489             <em class="comment">// validated by caller</em>
<a id="L2490" name="L2490"></a>2490             <strong class="reserved">this</strong>.field = field;
<a id="L2491" name="L2491"></a>2491             <strong class="reserved">this</strong>.minWidth = minWidth;
<a id="L2492" name="L2492"></a>2492             <strong class="reserved">this</strong>.maxWidth = maxWidth;
<a id="L2493" name="L2493"></a>2493             <strong class="reserved">this</strong>.signStyle = signStyle;
<a id="L2494" name="L2494"></a>2494             <strong class="reserved">this</strong>.subsequentWidth = 0;
<a id="L2495" name="L2495"></a>2495         <em class="brace">}</em>
<a id="L2496" name="L2496"></a>2496 
<div class="comment">
          Constructor.
          @param field  the field to format, not null
          @param minWidth  the minimum field width, from 1 to 19
          @param maxWidth  the maximum field width, from minWidth to 19
          @param signStyle  the positive/negative sign style, not null
          @param subsequentWidth  the width of subsequent non-negative numbers, 0 or greater,
           -1 if fixed width due to active adjacent parsing</div>
<a id="L2507" name="L2507"></a>2507         <strong class="reserved">protected</strong> NumberPrinterParser(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> minWidth, <strong class="reserved">int</strong> maxWidth, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a> signStyle, <strong class="reserved">int</strong> subsequentWidth) <em class="brace">{</em>
<a id="L2508" name="L2508"></a>2508             <em class="comment">// validated by caller</em>
<a id="L2509" name="L2509"></a>2509             <strong class="reserved">this</strong>.field = field;
<a id="L2510" name="L2510"></a>2510             <strong class="reserved">this</strong>.minWidth = minWidth;
<a id="L2511" name="L2511"></a>2511             <strong class="reserved">this</strong>.maxWidth = maxWidth;
<a id="L2512" name="L2512"></a>2512             <strong class="reserved">this</strong>.signStyle = signStyle;
<a id="L2513" name="L2513"></a>2513             <strong class="reserved">this</strong>.subsequentWidth = subsequentWidth;
<a id="L2514" name="L2514"></a>2514         <em class="brace">}</em>
<a id="L2515" name="L2515"></a>2515 
<div class="comment">
          Returns a new instance with fixed width flag set.
          @return a new updated printer-parser, not null</div>
<a id="L2521" name="L2521"></a>2521         <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> <a href="../R/30504.html" title="Multiple referred from 2 places.">withFixedWidth</a>() <em class="brace">{</em>
<a id="L2522" name="L2522"></a>2522             <strong class="reserved">if</strong> (subsequentWidth == -1) <em class="brace">{</em>
<a id="L2523" name="L2523"></a>2523                 <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2524" name="L2524"></a>2524             <em class="brace">}</em>
<a id="L2525" name="L2525"></a>2525             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, minWidth, maxWidth, signStyle, -1);
<a id="L2526" name="L2526"></a>2526         <em class="brace">}</em>
<a id="L2527" name="L2527"></a>2527 
<div class="comment">
          Returns a new instance with an updated subsequent width.
          @param subsequentWidth  the width of subsequent non-negative numbers, 0 or greater
          @return a new updated printer-parser, not null</div>
<a id="L2534" name="L2534"></a>2534         <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> <a href="../S/1537.html#L632" title="Referred from 632 in src/java/time/format/DateTimeFormatterBuilder.java.">withSubsequentWidth</a>(<strong class="reserved">int</strong> subsequentWidth) <em class="brace">{</em>
<a id="L2535" name="L2535"></a>2535             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, minWidth, maxWidth, signStyle, <strong class="reserved">this</strong>.subsequentWidth + subsequentWidth);
<a id="L2536" name="L2536"></a>2536         <em class="brace">}</em>
<a id="L2537" name="L2537"></a>2537 
<a id="L2538" name="L2538"></a>2538         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2539" name="L2539"></a>2539         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2540" name="L2540"></a>2540             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> valueLong = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(field);
<a id="L2541" name="L2541"></a>2541             <strong class="reserved">if</strong> (valueLong == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2542" name="L2542"></a>2542                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2543" name="L2543"></a>2543             <em class="brace">}</em>
<a id="L2544" name="L2544"></a>2544             <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, valueLong);
<a id="L2545" name="L2545"></a>2545             <a href="../S/1540.html#L84" title="Defined at 84 in src/java/time/format/DecimalStyle.java.">DecimalStyle</a> decimalStyle = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18239.html" title="Multiple defined in 3 places.">getDecimalStyle</a>();
<a id="L2546" name="L2546"></a>2546             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> = (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MIN_VALUE ? "9223372036854775808" : <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)));
<a id="L2547" name="L2547"></a>2547             <strong class="reserved">if</strong> (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; maxWidth) <em class="brace">{</em>
<a id="L2548" name="L2548"></a>2548                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Field " + field +
<a id="L2549" name="L2549"></a>2549                     " cannot be printed as the value " + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> +
<a id="L2550" name="L2550"></a>2550                     " exceeds the maximum print width of " + maxWidth);
<a id="L2551" name="L2551"></a>2551             <em class="brace">}</em>
<a id="L2552" name="L2552"></a>2552             <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> = decimalStyle.<a href="../S/1540.html#L328" title="Defined at 328 in src/java/time/format/DecimalStyle.java.">convertNumberToI18N</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>);
<a id="L2553" name="L2553"></a>2553 
<a id="L2554" name="L2554"></a>2554             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &gt;= 0) <em class="brace">{</em>
<a id="L2555" name="L2555"></a>2555                 <strong class="reserved">switch</strong> (signStyle) <em class="brace">{</em>
<a id="L2556" name="L2556"></a>2556                     <strong class="reserved">case</strong> EXCEEDS_PAD:
<a id="L2557" name="L2557"></a>2557                         <strong class="reserved">if</strong> (minWidth &lt; 19 &amp;&amp; <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &gt;= EXCEED_POINTS[minWidth]) <em class="brace">{</em>
<a id="L2558" name="L2558"></a>2558                             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(decimalStyle.<a href="../D/21555.html" title="Multiple defined in 2 places.">getPositiveSign</a>());
<a id="L2559" name="L2559"></a>2559                         <em class="brace">}</em>
<a id="L2560" name="L2560"></a>2560                         <strong class="reserved">break</strong>;
<a id="L2561" name="L2561"></a>2561                     <strong class="reserved">case</strong> ALWAYS:
<a id="L2562" name="L2562"></a>2562                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(decimalStyle.<a href="../D/21555.html" title="Multiple defined in 2 places.">getPositiveSign</a>());
<a id="L2563" name="L2563"></a>2563                         <strong class="reserved">break</strong>;
<a id="L2564" name="L2564"></a>2564                 <em class="brace">}</em>
<a id="L2565" name="L2565"></a>2565             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2566" name="L2566"></a>2566                 <strong class="reserved">switch</strong> (signStyle) <em class="brace">{</em>
<a id="L2567" name="L2567"></a>2567                     <strong class="reserved">case</strong> NORMAL:
<a id="L2568" name="L2568"></a>2568                     <strong class="reserved">case</strong> EXCEEDS_PAD:
<a id="L2569" name="L2569"></a>2569                     <strong class="reserved">case</strong> ALWAYS:
<a id="L2570" name="L2570"></a>2570                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(decimalStyle.<a href="../S/1540.html#L261" title="Defined at 261 in src/java/time/format/DecimalStyle.java.">getNegativeSign</a>());
<a id="L2571" name="L2571"></a>2571                         <strong class="reserved">break</strong>;
<a id="L2572" name="L2572"></a>2572                     <strong class="reserved">case</strong> NOT_NEGATIVE:
<a id="L2573" name="L2573"></a>2573                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Field " + field +
<a id="L2574" name="L2574"></a>2574                             " cannot be printed as the value " + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> +
<a id="L2575" name="L2575"></a>2575                             " cannot be negative according to the SignStyle");
<a id="L2576" name="L2576"></a>2576                 <em class="brace">}</em>
<a id="L2577" name="L2577"></a>2577             <em class="brace">}</em>
<a id="L2578" name="L2578"></a>2578             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; minWidth - <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); i++) <em class="brace">{</em>
<a id="L2579" name="L2579"></a>2579                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(decimalStyle.<a href="../D/23813.html" title="Multiple defined in 2 places.">getZeroDigit</a>());
<a id="L2580" name="L2580"></a>2580             <em class="brace">}</em>
<a id="L2581" name="L2581"></a>2581             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>);
<a id="L2582" name="L2582"></a>2582             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2583" name="L2583"></a>2583         <em class="brace">}</em>
<a id="L2584" name="L2584"></a>2584 
<div class="comment">
          Gets the value to output.
          @param context  the context
          @param value  the value of the field, not null
          @return the value</div>
<a id="L2592" name="L2592"></a>2592         <strong class="reserved">long</strong> <a href="../R/19753.html" title="Multiple referred from 961 places.">getValue</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2593" name="L2593"></a>2593             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2594" name="L2594"></a>2594         <em class="brace">}</em>
<a id="L2595" name="L2595"></a>2595 
<div class="comment">
          For NumberPrinterParser, the width is fixed depending on the
          minWidth, maxWidth, signStyle and whether subsequent fields are fixed.
          @param context the context
          @return true if the field is fixed width
          @see DateTimeFormatterBuilder#appendValue(java.time.temporal.TemporalField, int)</div>
<a id="L2603" name="L2603"></a>2603         <strong class="reserved">boolean</strong> <a href="../R/21465.html" title="Multiple referred from 12 places.">isFixedWidth</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L2604" name="L2604"></a>2604             <strong class="reserved">return</strong> subsequentWidth == -1 ||
<a id="L2605" name="L2605"></a>2605                 (subsequentWidth &gt; 0 &amp;&amp; minWidth == maxWidth &amp;&amp; signStyle == <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NOT_NEGATIVE);
<a id="L2606" name="L2606"></a>2606         <em class="brace">}</em>
<a id="L2607" name="L2607"></a>2607 
<a id="L2608" name="L2608"></a>2608         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2609" name="L2609"></a>2609         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2610" name="L2610"></a>2610             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2611" name="L2611"></a>2611             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L2612" name="L2612"></a>2612                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2613" name="L2613"></a>2613             <em class="brace">}</em>
<a id="L2614" name="L2614"></a>2614             <strong class="reserved">char</strong> <a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);  <em class="comment">// IOOBE if invalid position</em>
<a id="L2615" name="L2615"></a>2615             <strong class="reserved">boolean</strong> negative = <strong class="reserved">false</strong>;
<a id="L2616" name="L2616"></a>2616             <strong class="reserved">boolean</strong> positive = <strong class="reserved">false</strong>;
<a id="L2617" name="L2617"></a>2617             <strong class="reserved">if</strong> (<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18239.html" title="Multiple defined in 3 places.">getDecimalStyle</a>().<a href="../D/21555.html" title="Multiple defined in 2 places.">getPositiveSign</a>()) <em class="brace">{</em>
<a id="L2618" name="L2618"></a>2618                 <strong class="reserved">if</strong> (signStyle.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<strong class="reserved">true</strong>, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>(), minWidth == maxWidth) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2619" name="L2619"></a>2619                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2620" name="L2620"></a>2620                 <em class="brace">}</em>
<a id="L2621" name="L2621"></a>2621                 positive = <strong class="reserved">true</strong>;
<a id="L2622" name="L2622"></a>2622                 <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>++;
<a id="L2623" name="L2623"></a>2623             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18239.html" title="Multiple defined in 3 places.">getDecimalStyle</a>().<a href="../S/1540.html#L261" title="Defined at 261 in src/java/time/format/DecimalStyle.java.">getNegativeSign</a>()) <em class="brace">{</em>
<a id="L2624" name="L2624"></a>2624                 <strong class="reserved">if</strong> (signStyle.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<strong class="reserved">false</strong>, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>(), minWidth == maxWidth) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2625" name="L2625"></a>2625                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2626" name="L2626"></a>2626                 <em class="brace">}</em>
<a id="L2627" name="L2627"></a>2627                 negative = <strong class="reserved">true</strong>;
<a id="L2628" name="L2628"></a>2628                 <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>++;
<a id="L2629" name="L2629"></a>2629             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2630" name="L2630"></a>2630                 <strong class="reserved">if</strong> (signStyle == <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.ALWAYS &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>()) <em class="brace">{</em>
<a id="L2631" name="L2631"></a>2631                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2632" name="L2632"></a>2632                 <em class="brace">}</em>
<a id="L2633" name="L2633"></a>2633             <em class="brace">}</em>
<a id="L2634" name="L2634"></a>2634             <strong class="reserved">int</strong> effMinWidth = (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>() || <a href="../D/25570.html" title="Multiple defined in 3 places.">isFixedWidth</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) ? minWidth : 1);
<a id="L2635" name="L2635"></a>2635             <strong class="reserved">int</strong> minEndPos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + effMinWidth;
<a id="L2636" name="L2636"></a>2636             <strong class="reserved">if</strong> (minEndPos &gt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L2637" name="L2637"></a>2637                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2638" name="L2638"></a>2638             <em class="brace">}</em>
<a id="L2639" name="L2639"></a>2639             <strong class="reserved">int</strong> effMaxWidth = (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>() || <a href="../D/25570.html" title="Multiple defined in 3 places.">isFixedWidth</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) ? maxWidth : 9) + <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(subsequentWidth, 0);
<a id="L2640" name="L2640"></a>2640             <strong class="reserved">long</strong> total = 0;
<a id="L2641" name="L2641"></a>2641             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> totalBig = <strong class="reserved">null</strong>;
<a id="L2642" name="L2642"></a>2642             <strong class="reserved">int</strong> pos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2643" name="L2643"></a>2643             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> pass = 0; pass &lt; 2; pass++) <em class="brace">{</em>
<a id="L2644" name="L2644"></a>2644                 <strong class="reserved">int</strong> maxEndPos = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(pos + effMaxWidth, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2645" name="L2645"></a>2645                 <strong class="reserved">while</strong> (pos &lt; maxEndPos) <em class="brace">{</em>
<a id="L2646" name="L2646"></a>2646                     <strong class="reserved">char</strong> ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos++);
<a id="L2647" name="L2647"></a>2647                     <strong class="reserved">int</strong> <a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18239.html" title="Multiple defined in 3 places.">getDecimalStyle</a>().<a href="../S/1540.html#L317" title="Defined at 317 in src/java/time/format/DecimalStyle.java.">convertToDigit</a>(ch);
<a id="L2648" name="L2648"></a>2648                     <strong class="reserved">if</strong> (<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> &lt; 0) <em class="brace">{</em>
<a id="L2649" name="L2649"></a>2649                         pos--;
<a id="L2650" name="L2650"></a>2650                         <strong class="reserved">if</strong> (pos &lt; minEndPos) <em class="brace">{</em>
<a id="L2651" name="L2651"></a>2651                             <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;  <em class="comment">// need at least min width digits</em>
<a id="L2652" name="L2652"></a>2652                         <em class="brace">}</em>
<a id="L2653" name="L2653"></a>2653                         <strong class="reserved">break</strong>;
<a id="L2654" name="L2654"></a>2654                     <em class="brace">}</em>
<a id="L2655" name="L2655"></a>2655                     <strong class="reserved">if</strong> ((pos - <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) &gt; 18) <em class="brace">{</em>
<a id="L2656" name="L2656"></a>2656                         <strong class="reserved">if</strong> (totalBig == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2657" name="L2657"></a>2657                             totalBig = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(total);
<a id="L2658" name="L2658"></a>2658                         <em class="brace">}</em>
<a id="L2659" name="L2659"></a>2659                         totalBig = totalBig.<a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.TEN).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a>));
<a id="L2660" name="L2660"></a>2660                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2661" name="L2661"></a>2661                         total = total * 10 + <a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a>;
<a id="L2662" name="L2662"></a>2662                     <em class="brace">}</em>
<a id="L2663" name="L2663"></a>2663                 <em class="brace">}</em>
<a id="L2664" name="L2664"></a>2664                 <strong class="reserved">if</strong> (subsequentWidth &gt; 0 &amp;&amp; pass == 0) <em class="brace">{</em>
<a id="L2665" name="L2665"></a>2665                     <em class="comment">// re-parse now we know the correct width</em>
<a id="L2666" name="L2666"></a>2666                     <strong class="reserved">int</strong> parseLen = pos - <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2667" name="L2667"></a>2667                     effMaxWidth = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(effMinWidth, parseLen - subsequentWidth);
<a id="L2668" name="L2668"></a>2668                     pos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2669" name="L2669"></a>2669                     total = 0;
<a id="L2670" name="L2670"></a>2670                     totalBig = <strong class="reserved">null</strong>;
<a id="L2671" name="L2671"></a>2671                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2672" name="L2672"></a>2672                     <strong class="reserved">break</strong>;
<a id="L2673" name="L2673"></a>2673                 <em class="brace">}</em>
<a id="L2674" name="L2674"></a>2674             <em class="brace">}</em>
<a id="L2675" name="L2675"></a>2675             <strong class="reserved">if</strong> (negative) <em class="brace">{</em>
<a id="L2676" name="L2676"></a>2676                 <strong class="reserved">if</strong> (totalBig != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2677" name="L2677"></a>2677                     <strong class="reserved">if</strong> (totalBig.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO) &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>()) <em class="brace">{</em>
<a id="L2678" name="L2678"></a>2678                         <strong class="reserved">return</strong> ~(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> - 1);  <em class="comment">// minus zero not allowed</em>
<a id="L2679" name="L2679"></a>2679                     <em class="brace">}</em>
<a id="L2680" name="L2680"></a>2680                     totalBig = totalBig.<a href="../D/27947.html" title="Multiple defined in 27 places.">negate</a>();
<a id="L2681" name="L2681"></a>2681                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2682" name="L2682"></a>2682                     <strong class="reserved">if</strong> (total == 0 &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>()) <em class="brace">{</em>
<a id="L2683" name="L2683"></a>2683                         <strong class="reserved">return</strong> ~(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> - 1);  <em class="comment">// minus zero not allowed</em>
<a id="L2684" name="L2684"></a>2684                     <em class="brace">}</em>
<a id="L2685" name="L2685"></a>2685                     total = -total;
<a id="L2686" name="L2686"></a>2686                 <em class="brace">}</em>
<a id="L2687" name="L2687"></a>2687             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (signStyle == <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.EXCEEDS_PAD &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>()) <em class="brace">{</em>
<a id="L2688" name="L2688"></a>2688                 <strong class="reserved">int</strong> parseLen = pos - <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2689" name="L2689"></a>2689                 <strong class="reserved">if</strong> (positive) <em class="brace">{</em>
<a id="L2690" name="L2690"></a>2690                     <strong class="reserved">if</strong> (parseLen &lt;= minWidth) <em class="brace">{</em>
<a id="L2691" name="L2691"></a>2691                         <strong class="reserved">return</strong> ~(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> - 1);  <em class="comment">// '+' only parsed if minWidth exceeded</em>
<a id="L2692" name="L2692"></a>2692                     <em class="brace">}</em>
<a id="L2693" name="L2693"></a>2693                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2694" name="L2694"></a>2694                     <strong class="reserved">if</strong> (parseLen &gt; minWidth) <em class="brace">{</em>
<a id="L2695" name="L2695"></a>2695                         <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;  <em class="comment">// '+' must be parsed if minWidth exceeded</em>
<a id="L2696" name="L2696"></a>2696                     <em class="brace">}</em>
<a id="L2697" name="L2697"></a>2697                 <em class="brace">}</em>
<a id="L2698" name="L2698"></a>2698             <em class="brace">}</em>
<a id="L2699" name="L2699"></a>2699             <strong class="reserved">if</strong> (totalBig != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2700" name="L2700"></a>2700                 <strong class="reserved">if</strong> (totalBig.<a href="../D/11871.html" title="Multiple defined in 3 places.">bitLength</a>() &gt; 63) <em class="brace">{</em>
<a id="L2701" name="L2701"></a>2701                     <em class="comment">// overflow, parse 1 less digit</em>
<a id="L2702" name="L2702"></a>2702                     totalBig = totalBig.<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.TEN);
<a id="L2703" name="L2703"></a>2703                     pos--;
<a id="L2704" name="L2704"></a>2704                 <em class="brace">}</em>
<a id="L2705" name="L2705"></a>2705                 <strong class="reserved">return</strong> <a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, totalBig.<a href="../D/27086.html" title="Multiple defined in 24 places.">longValue</a>(), <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, pos);
<a id="L2706" name="L2706"></a>2706             <em class="brace">}</em>
<a id="L2707" name="L2707"></a>2707             <strong class="reserved">return</strong> <a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, total, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, pos);
<a id="L2708" name="L2708"></a>2708         <em class="brace">}</em>
<a id="L2709" name="L2709"></a>2709 
<div class="comment">
          Stores the value.
          @param context  the context to store into, not null
          @param value  the value
          @param errorPos  the position of the field being parsed
          @param successPos  the position after the field being parsed
          @return the new position</div>
<a id="L2719" name="L2719"></a>2719         <strong class="reserved">int</strong> <a href="../R/28371.html" title="Multiple referred from 200 places.">setValue</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> errorPos, <strong class="reserved">int</strong> successPos) <em class="brace">{</em>
<a id="L2720" name="L2720"></a>2720             <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, errorPos, successPos);
<a id="L2721" name="L2721"></a>2721         <em class="brace">}</em>
<a id="L2722" name="L2722"></a>2722 
<a id="L2723" name="L2723"></a>2723         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2724" name="L2724"></a>2724         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2725" name="L2725"></a>2725             <strong class="reserved">if</strong> (minWidth == 1 &amp;&amp; maxWidth == 19 &amp;&amp; signStyle == <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NORMAL) <em class="brace">{</em>
<a id="L2726" name="L2726"></a>2726                 <strong class="reserved">return</strong> "Value(" + field + ")";
<a id="L2727" name="L2727"></a>2727             <em class="brace">}</em>
<a id="L2728" name="L2728"></a>2728             <strong class="reserved">if</strong> (minWidth == maxWidth &amp;&amp; signStyle == <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NOT_NEGATIVE) <em class="brace">{</em>
<a id="L2729" name="L2729"></a>2729                 <strong class="reserved">return</strong> "Value(" + field + "," + minWidth + ")";
<a id="L2730" name="L2730"></a>2730             <em class="brace">}</em>
<a id="L2731" name="L2731"></a>2731             <strong class="reserved">return</strong> "Value(" + field + "," + minWidth + "," + maxWidth + "," + signStyle + ")";
<a id="L2732" name="L2732"></a>2732         <em class="brace">}</em>
<a id="L2733" name="L2733"></a>2733     <em class="brace">}</em>
<a id="L2734" name="L2734"></a>2734 
<a id="L2735" name="L2735"></a>2735     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints and parses a reduced numeric date-time field.</div>
<a id="L2739" name="L2739"></a>2739     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6528.html" title="Multiple referred from 8 places.">ReducedPrinterParser</a> <strong class="reserved">extends</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> <em class="brace">{</em>
<div class="comment">
          The base date for reduced value parsing.</div>
<a id="L2743" name="L2743"></a>2743         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1549.html#L137" title="Defined at 137 in src/java/time/LocalDate.java.">LocalDate</a> BASE_DATE = <a href="../S/1549.html#L137" title="Defined at 137 in src/java/time/LocalDate.java.">LocalDate</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(2000, 1, 1);
<a id="L2744" name="L2744"></a>2744 
<a id="L2745" name="L2745"></a>2745         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> baseValue;
<a id="L2746" name="L2746"></a>2746         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> baseDate;
<a id="L2747" name="L2747"></a>2747 
<div class="comment">
          Constructor.
          @param field  the field to format, validated not null
          @param minWidth  the minimum field width, from 1 to 10
          @param maxWidth  the maximum field width, from 1 to 10
          @param baseValue  the base value
          @param baseDate  the base date</div>
<a id="L2757" name="L2757"></a>2757         ReducedPrinterParser(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> minWidth, <strong class="reserved">int</strong> maxWidth,
<a id="L2758" name="L2758"></a>2758                 <strong class="reserved">int</strong> baseValue, <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> baseDate) <em class="brace">{</em>
<a id="L2759" name="L2759"></a>2759             <strong class="reserved">this</strong>(field, minWidth, maxWidth, baseValue, baseDate, 0);
<a id="L2760" name="L2760"></a>2760             <strong class="reserved">if</strong> (minWidth &lt; 1 || minWidth &gt; 10) <em class="brace">{</em>
<a id="L2761" name="L2761"></a>2761                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The minWidth must be from 1 to 10 inclusive but was " + minWidth);
<a id="L2762" name="L2762"></a>2762             <em class="brace">}</em>
<a id="L2763" name="L2763"></a>2763             <strong class="reserved">if</strong> (maxWidth &lt; 1 || maxWidth &gt; 10) <em class="brace">{</em>
<a id="L2764" name="L2764"></a>2764                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The maxWidth must be from 1 to 10 inclusive but was " + minWidth);
<a id="L2765" name="L2765"></a>2765             <em class="brace">}</em>
<a id="L2766" name="L2766"></a>2766             <strong class="reserved">if</strong> (maxWidth &lt; minWidth) <em class="brace">{</em>
<a id="L2767" name="L2767"></a>2767                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Maximum width must exceed or equal the minimum width but " +
<a id="L2768" name="L2768"></a>2768                         maxWidth + " &lt; " + minWidth);
<a id="L2769" name="L2769"></a>2769             <em class="brace">}</em>
<a id="L2770" name="L2770"></a>2770             <strong class="reserved">if</strong> (baseDate == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2771" name="L2771"></a>2771                 <strong class="reserved">if</strong> (field.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>().<a href="../D/26468.html" title="Multiple defined in 4 places.">isValidValue</a>(baseValue) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2772" name="L2772"></a>2772                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The base value must be within the range of the field");
<a id="L2773" name="L2773"></a>2773                 <em class="brace">}</em>
<a id="L2774" name="L2774"></a>2774                 <strong class="reserved">if</strong> ((((<strong class="reserved">long</strong>) baseValue) + EXCEED_POINTS[maxWidth]) &gt; <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE) <em class="brace">{</em>
<a id="L2775" name="L2775"></a>2775                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Unable to add printer-parser as the range exceeds the capacity of an int");
<a id="L2776" name="L2776"></a>2776                 <em class="brace">}</em>
<a id="L2777" name="L2777"></a>2777             <em class="brace">}</em>
<a id="L2778" name="L2778"></a>2778         <em class="brace">}</em>
<a id="L2779" name="L2779"></a>2779 
<div class="comment">
          Constructor.
          The arguments have already been checked.
          @param field  the field to format, validated not null
          @param minWidth  the minimum field width, from 1 to 10
          @param maxWidth  the maximum field width, from 1 to 10
          @param baseValue  the base value
          @param baseDate  the base date
          @param subsequentWidth the subsequentWidth for this instance</div>
<a id="L2791" name="L2791"></a>2791         <strong class="reserved">private</strong> ReducedPrinterParser(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> minWidth, <strong class="reserved">int</strong> maxWidth,
<a id="L2792" name="L2792"></a>2792                 <strong class="reserved">int</strong> baseValue, <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> baseDate, <strong class="reserved">int</strong> subsequentWidth) <em class="brace">{</em>
<a id="L2793" name="L2793"></a>2793             <strong class="reserved">super</strong>(field, minWidth, maxWidth, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NOT_NEGATIVE, subsequentWidth);
<a id="L2794" name="L2794"></a>2794             <strong class="reserved">this</strong>.baseValue = baseValue;
<a id="L2795" name="L2795"></a>2795             <strong class="reserved">this</strong>.baseDate = baseDate;
<a id="L2796" name="L2796"></a>2796         <em class="brace">}</em>
<a id="L2797" name="L2797"></a>2797 
<a id="L2798" name="L2798"></a>2798         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2799" name="L2799"></a>2799         <strong class="reserved">long</strong> <a href="../R/19753.html" title="Multiple referred from 961 places.">getValue</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2800" name="L2800"></a>2800             <strong class="reserved">long</strong> absValue = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L2801" name="L2801"></a>2801             <strong class="reserved">int</strong> baseValue = <strong class="reserved">this</strong>.baseValue;
<a id="L2802" name="L2802"></a>2802             <strong class="reserved">if</strong> (baseDate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2803" name="L2803"></a>2803                 <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1538.html#L230" title="Defined at 230 in src/java/time/format/DateTimePrintContext.java.">getTemporal</a>());
<a id="L2804" name="L2804"></a>2804                 baseValue = chrono.<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(baseDate).<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(field);
<a id="L2805" name="L2805"></a>2805             <em class="brace">}</em>
<a id="L2806" name="L2806"></a>2806             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &gt;= baseValue &amp;&amp; <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &lt; baseValue + EXCEED_POINTS[minWidth]) <em class="brace">{</em>
<a id="L2807" name="L2807"></a>2807                 <em class="comment">// Use the reduced value if it fits in minWidth</em>
<a id="L2808" name="L2808"></a>2808                 <strong class="reserved">return</strong> absValue % EXCEED_POINTS[minWidth];
<a id="L2809" name="L2809"></a>2809             <em class="brace">}</em>
<a id="L2810" name="L2810"></a>2810             <em class="comment">// Otherwise truncate to fit in maxWidth</em>
<a id="L2811" name="L2811"></a>2811             <strong class="reserved">return</strong> absValue % EXCEED_POINTS[maxWidth];
<a id="L2812" name="L2812"></a>2812         <em class="brace">}</em>
<a id="L2813" name="L2813"></a>2813 
<a id="L2814" name="L2814"></a>2814         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2815" name="L2815"></a>2815         <strong class="reserved">int</strong> <a href="../R/28371.html" title="Multiple referred from 200 places.">setValue</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> errorPos, <strong class="reserved">int</strong> successPos) <em class="brace">{</em>
<a id="L2816" name="L2816"></a>2816             <strong class="reserved">int</strong> baseValue = <strong class="reserved">this</strong>.baseValue;
<a id="L2817" name="L2817"></a>2817             <strong class="reserved">if</strong> (baseDate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2818" name="L2818"></a>2818                 <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L166" title="Defined at 166 in src/java/time/format/DateTimeParseContext.java.">getEffectiveChronology</a>();
<a id="L2819" name="L2819"></a>2819                 baseValue = chrono.<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(baseDate).<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(field);
<a id="L2820" name="L2820"></a>2820 
<a id="L2821" name="L2821"></a>2821                 <em class="comment">// In case the Chronology is changed later, add a callback when/if it changes</em>
<a id="L2822" name="L2822"></a>2822                 <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../D/24645.html" title="Multiple defined in 4 places.">initialValue</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2823" name="L2823"></a>2823                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L400" title="Defined at 400 in src/java/time/format/DateTimeParseContext.java.">addChronoChangedListener</a>(
<a id="L2824" name="L2824"></a>2824                         (_unused) -&gt;  <em class="brace">{</em>
<div class="comment">
 Repeat the set of the field using the current Chronology
                              The success/error position is ignored because the value is
                              intentionally being overwritten.</div>
<a id="L2829" name="L2829"></a>2829                             <a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/24645.html" title="Multiple defined in 4 places.">initialValue</a>, errorPos, successPos);
<a id="L2830" name="L2830"></a>2830                         <em class="brace">}</em>);
<a id="L2831" name="L2831"></a>2831             <em class="brace">}</em>
<a id="L2832" name="L2832"></a>2832             <strong class="reserved">int</strong> parseLen = successPos - errorPos;
<a id="L2833" name="L2833"></a>2833             <strong class="reserved">if</strong> (parseLen == minWidth &amp;&amp; <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &gt;= 0) <em class="brace">{</em>
<a id="L2834" name="L2834"></a>2834                 <strong class="reserved">long</strong> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> = EXCEED_POINTS[minWidth];
<a id="L2835" name="L2835"></a>2835                 <strong class="reserved">long</strong> lastPart = baseValue % <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L2836" name="L2836"></a>2836                 <strong class="reserved">long</strong> basePart = baseValue - lastPart;
<a id="L2837" name="L2837"></a>2837                 <strong class="reserved">if</strong> (baseValue &gt; 0) <em class="brace">{</em>
<a id="L2838" name="L2838"></a>2838                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = basePart + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2839" name="L2839"></a>2839                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2840" name="L2840"></a>2840                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = basePart - <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2841" name="L2841"></a>2841                 <em class="brace">}</em>
<a id="L2842" name="L2842"></a>2842                 <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &lt; baseValue) <em class="brace">{</em>
<a id="L2843" name="L2843"></a>2843                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> += <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L2844" name="L2844"></a>2844                 <em class="brace">}</em>
<a id="L2845" name="L2845"></a>2845             <em class="brace">}</em>
<a id="L2846" name="L2846"></a>2846             <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, errorPos, successPos);
<a id="L2847" name="L2847"></a>2847         <em class="brace">}</em>
<a id="L2848" name="L2848"></a>2848 
<div class="comment">
          Returns a new instance with fixed width flag set.
          @return a new updated printer-parser, not null</div>
<a id="L2854" name="L2854"></a>2854         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2855" name="L2855"></a>2855         <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a> <a href="../R/30504.html" title="Multiple referred from 2 places.">withFixedWidth</a>() <em class="brace">{</em>
<a id="L2856" name="L2856"></a>2856             <strong class="reserved">if</strong> (subsequentWidth == -1) <em class="brace">{</em>
<a id="L2857" name="L2857"></a>2857                 <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2858" name="L2858"></a>2858             <em class="brace">}</em>
<a id="L2859" name="L2859"></a>2859             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a>(field, minWidth, maxWidth, baseValue, baseDate, -1);
<a id="L2860" name="L2860"></a>2860         <em class="brace">}</em>
<a id="L2861" name="L2861"></a>2861 
<div class="comment">
          Returns a new instance with an updated subsequent width.
          @param subsequentWidth  the width of subsequent non-negative numbers, 0 or greater
          @return a new updated printer-parser, not null</div>
<a id="L2868" name="L2868"></a>2868         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2869" name="L2869"></a>2869         <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a> <a href="../S/1537.html#L632" title="Referred from 632 in src/java/time/format/DateTimeFormatterBuilder.java.">withSubsequentWidth</a>(<strong class="reserved">int</strong> subsequentWidth) <em class="brace">{</em>
<a id="L2870" name="L2870"></a>2870             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a>(field, minWidth, maxWidth, baseValue, baseDate,
<a id="L2871" name="L2871"></a>2871                     <strong class="reserved">this</strong>.subsequentWidth + subsequentWidth);
<a id="L2872" name="L2872"></a>2872         <em class="brace">}</em>
<a id="L2873" name="L2873"></a>2873 
<div class="comment">
          For a ReducedPrinterParser, fixed width is false if the mode is strict,
          otherwise it is set as for NumberPrinterParser.
          @param context the context
          @return if the field is fixed width
          @see DateTimeFormatterBuilder#appendValueReduced(java.time.temporal.TemporalField, int, int, int)</div>
<a id="L2881" name="L2881"></a>2881         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2882" name="L2882"></a>2882         <strong class="reserved">boolean</strong> <a href="../R/21465.html" title="Multiple referred from 12 places.">isFixedWidth</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L2883" name="L2883"></a>2883            <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>() == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2884" name="L2884"></a>2884                <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2885" name="L2885"></a>2885            <em class="brace">}</em>
<a id="L2886" name="L2886"></a>2886            <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/25570.html" title="Multiple defined in 3 places.">isFixedWidth</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L2887" name="L2887"></a>2887         <em class="brace">}</em>
<a id="L2888" name="L2888"></a>2888 
<a id="L2889" name="L2889"></a>2889         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2890" name="L2890"></a>2890         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2891" name="L2891"></a>2891             <strong class="reserved">return</strong> "ReducedValue(" + field + "," + minWidth + "," + maxWidth + "," + (baseDate != <strong class="reserved">null</strong> ? baseDate : baseValue) + ")";
<a id="L2892" name="L2892"></a>2892         <em class="brace">}</em>
<a id="L2893" name="L2893"></a>2893     <em class="brace">}</em>
<a id="L2894" name="L2894"></a>2894 
<a id="L2895" name="L2895"></a>2895     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints and parses a numeric date-time field with optional padding.</div>
<a id="L2899" name="L2899"></a>2899     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1537.html#L687" title="Referred from 687 in src/java/time/format/DateTimeFormatterBuilder.java.">FractionPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L2900" name="L2900"></a>2900         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field;
<a id="L2901" name="L2901"></a>2901         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> minWidth;
<a id="L2902" name="L2902"></a>2902         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> maxWidth;
<a id="L2903" name="L2903"></a>2903         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> decimalPoint;
<a id="L2904" name="L2904"></a>2904 
<div class="comment">
          Constructor.
          @param field  the field to output, not null
          @param minWidth  the minimum width to output, from 0 to 9
          @param maxWidth  the maximum width to output, from 0 to 9
          @param decimalPoint  whether to output the localized decimal point symbol</div>
<a id="L2913" name="L2913"></a>2913         FractionPrinterParser(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">int</strong> minWidth, <strong class="reserved">int</strong> maxWidth, <strong class="reserved">boolean</strong> decimalPoint) <em class="brace">{</em>
<a id="L2914" name="L2914"></a>2914             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(field, "field");
<a id="L2915" name="L2915"></a>2915             <strong class="reserved">if</strong> (field.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>().<a href="../S/1476.html#L203" title="Defined at 203 in src/java/time/temporal/ValueRange.java.">isFixed</a>() == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L2916" name="L2916"></a>2916                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Field must have a fixed set of values: " + field);
<a id="L2917" name="L2917"></a>2917             <em class="brace">}</em>
<a id="L2918" name="L2918"></a>2918             <strong class="reserved">if</strong> (minWidth &lt; 0 || minWidth &gt; 9) <em class="brace">{</em>
<a id="L2919" name="L2919"></a>2919                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Minimum width must be from 0 to 9 inclusive but was " + minWidth);
<a id="L2920" name="L2920"></a>2920             <em class="brace">}</em>
<a id="L2921" name="L2921"></a>2921             <strong class="reserved">if</strong> (maxWidth &lt; 1 || maxWidth &gt; 9) <em class="brace">{</em>
<a id="L2922" name="L2922"></a>2922                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Maximum width must be from 1 to 9 inclusive but was " + maxWidth);
<a id="L2923" name="L2923"></a>2923             <em class="brace">}</em>
<a id="L2924" name="L2924"></a>2924             <strong class="reserved">if</strong> (maxWidth &lt; minWidth) <em class="brace">{</em>
<a id="L2925" name="L2925"></a>2925                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Maximum width must exceed or equal the minimum width but " +
<a id="L2926" name="L2926"></a>2926                         maxWidth + " &lt; " + minWidth);
<a id="L2927" name="L2927"></a>2927             <em class="brace">}</em>
<a id="L2928" name="L2928"></a>2928             <strong class="reserved">this</strong>.field = field;
<a id="L2929" name="L2929"></a>2929             <strong class="reserved">this</strong>.minWidth = minWidth;
<a id="L2930" name="L2930"></a>2930             <strong class="reserved">this</strong>.maxWidth = maxWidth;
<a id="L2931" name="L2931"></a>2931             <strong class="reserved">this</strong>.decimalPoint = decimalPoint;
<a id="L2932" name="L2932"></a>2932         <em class="brace">}</em>
<a id="L2933" name="L2933"></a>2933 
<a id="L2934" name="L2934"></a>2934         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2935" name="L2935"></a>2935         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L2936" name="L2936"></a>2936             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(field);
<a id="L2937" name="L2937"></a>2937             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2938" name="L2938"></a>2938                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2939" name="L2939"></a>2939             <em class="brace">}</em>
<a id="L2940" name="L2940"></a>2940             <a href="../S/1540.html#L84" title="Defined at 84 in src/java/time/format/DecimalStyle.java.">DecimalStyle</a> decimalStyle = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18239.html" title="Multiple defined in 3 places.">getDecimalStyle</a>();
<a id="L2941" name="L2941"></a>2941             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fraction = <a href="../S/1537.html#L3020" title="Defined at 3020 in src/java/time/format/DateTimeFormatterBuilder.java.">convertToFraction</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L2942" name="L2942"></a>2942             <strong class="reserved">if</strong> (fraction.<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>() == 0) <em class="brace">{</em>  <em class="comment">// scale is zero if value is zero</em>
<a id="L2943" name="L2943"></a>2943                 <strong class="reserved">if</strong> (minWidth &gt; 0) <em class="brace">{</em>
<a id="L2944" name="L2944"></a>2944                     <strong class="reserved">if</strong> (decimalPoint) <em class="brace">{</em>
<a id="L2945" name="L2945"></a>2945                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(decimalStyle.<a href="../D/18238.html" title="Multiple defined in 3 places.">getDecimalSeparator</a>());
<a id="L2946" name="L2946"></a>2946                     <em class="brace">}</em>
<a id="L2947" name="L2947"></a>2947                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; minWidth; i++) <em class="brace">{</em>
<a id="L2948" name="L2948"></a>2948                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(decimalStyle.<a href="../D/23813.html" title="Multiple defined in 2 places.">getZeroDigit</a>());
<a id="L2949" name="L2949"></a>2949                     <em class="brace">}</em>
<a id="L2950" name="L2950"></a>2950                 <em class="brace">}</em>
<a id="L2951" name="L2951"></a>2951             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2952" name="L2952"></a>2952                 <strong class="reserved">int</strong> outputScale = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(fraction.<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>(), minWidth), maxWidth);
<a id="L2953" name="L2953"></a>2953                 fraction = fraction.<a href="../D/33804.html" title="Multiple defined in 5 places.">setScale</a>(outputScale, <a href="../S/1461.html#L93" title="Defined at 93 in src/java/math/RoundingMode.java.">RoundingMode</a>.<a href="../S/1461.html#L192" title="Defined at 192 in src/java/math/RoundingMode.java.">FLOOR</a>);
<a id="L2954" name="L2954"></a>2954                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> = fraction.<a href="../S/1464.html#L2949" title="Defined at 2949 in src/java/math/BigDecimal.java.">toPlainString</a>().<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(2);
<a id="L2955" name="L2955"></a>2955                 <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> = decimalStyle.<a href="../S/1540.html#L328" title="Defined at 328 in src/java/time/format/DecimalStyle.java.">convertNumberToI18N</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>);
<a id="L2956" name="L2956"></a>2956                 <strong class="reserved">if</strong> (decimalPoint) <em class="brace">{</em>
<a id="L2957" name="L2957"></a>2957                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(decimalStyle.<a href="../D/18238.html" title="Multiple defined in 3 places.">getDecimalSeparator</a>());
<a id="L2958" name="L2958"></a>2958                 <em class="brace">}</em>
<a id="L2959" name="L2959"></a>2959                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>);
<a id="L2960" name="L2960"></a>2960             <em class="brace">}</em>
<a id="L2961" name="L2961"></a>2961             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2962" name="L2962"></a>2962         <em class="brace">}</em>
<a id="L2963" name="L2963"></a>2963 
<a id="L2964" name="L2964"></a>2964         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2965" name="L2965"></a>2965         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L2966" name="L2966"></a>2966             <strong class="reserved">int</strong> effectiveMin = (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>() ? minWidth : 0);
<a id="L2967" name="L2967"></a>2967             <strong class="reserved">int</strong> effectiveMax = (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>() ? maxWidth : 9);
<a id="L2968" name="L2968"></a>2968             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2969" name="L2969"></a>2969             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L2970" name="L2970"></a>2970                 <em class="comment">// valid if whole field is optional, invalid if minimum width</em>
<a id="L2971" name="L2971"></a>2971                 <strong class="reserved">return</strong> (effectiveMin &gt; 0 ? ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> : <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L2972" name="L2972"></a>2972             <em class="brace">}</em>
<a id="L2973" name="L2973"></a>2973             <strong class="reserved">if</strong> (decimalPoint) <em class="brace">{</em>
<a id="L2974" name="L2974"></a>2974                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) != <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18239.html" title="Multiple defined in 3 places.">getDecimalStyle</a>().<a href="../D/18238.html" title="Multiple defined in 3 places.">getDecimalSeparator</a>()) <em class="brace">{</em>
<a id="L2975" name="L2975"></a>2975                     <em class="comment">// valid if whole field is optional, invalid if minimum width</em>
<a id="L2976" name="L2976"></a>2976                     <strong class="reserved">return</strong> (effectiveMin &gt; 0 ? ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> : <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L2977" name="L2977"></a>2977                 <em class="brace">}</em>
<a id="L2978" name="L2978"></a>2978                 <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>++;
<a id="L2979" name="L2979"></a>2979             <em class="brace">}</em>
<a id="L2980" name="L2980"></a>2980             <strong class="reserved">int</strong> minEndPos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + effectiveMin;
<a id="L2981" name="L2981"></a>2981             <strong class="reserved">if</strong> (minEndPos &gt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L2982" name="L2982"></a>2982                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;  <em class="comment">// need at least min width digits</em>
<a id="L2983" name="L2983"></a>2983             <em class="brace">}</em>
<a id="L2984" name="L2984"></a>2984             <strong class="reserved">int</strong> maxEndPos = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + effectiveMax, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2985" name="L2985"></a>2985             <strong class="reserved">int</strong> total = 0;  <em class="comment">// can use int because we are only parsing up to 9 digits</em>
<a id="L2986" name="L2986"></a>2986             <strong class="reserved">int</strong> pos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L2987" name="L2987"></a>2987             <strong class="reserved">while</strong> (pos &lt; maxEndPos) <em class="brace">{</em>
<a id="L2988" name="L2988"></a>2988                 <strong class="reserved">char</strong> ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos++);
<a id="L2989" name="L2989"></a>2989                 <strong class="reserved">int</strong> <a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18239.html" title="Multiple defined in 3 places.">getDecimalStyle</a>().<a href="../S/1540.html#L317" title="Defined at 317 in src/java/time/format/DecimalStyle.java.">convertToDigit</a>(ch);
<a id="L2990" name="L2990"></a>2990                 <strong class="reserved">if</strong> (<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> &lt; 0) <em class="brace">{</em>
<a id="L2991" name="L2991"></a>2991                     <strong class="reserved">if</strong> (pos &lt; minEndPos) <em class="brace">{</em>
<a id="L2992" name="L2992"></a>2992                         <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;  <em class="comment">// need at least min width digits</em>
<a id="L2993" name="L2993"></a>2993                     <em class="brace">}</em>
<a id="L2994" name="L2994"></a>2994                     pos--;
<a id="L2995" name="L2995"></a>2995                     <strong class="reserved">break</strong>;
<a id="L2996" name="L2996"></a>2996                 <em class="brace">}</em>
<a id="L2997" name="L2997"></a>2997                 total = total * 10 + <a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a>;
<a id="L2998" name="L2998"></a>2998             <em class="brace">}</em>
<a id="L2999" name="L2999"></a>2999             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fraction = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(total).<a href="../S/1464.html#L2532" title="Defined at 2532 in src/java/math/BigDecimal.java.">movePointLeft</a>(pos - <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3000" name="L3000"></a>3000             <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/1537.html#L3047" title="Defined at 3047 in src/java/time/format/DateTimeFormatterBuilder.java.">convertFromFraction</a>(fraction);
<a id="L3001" name="L3001"></a>3001             <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, pos);
<a id="L3002" name="L3002"></a>3002         <em class="brace">}</em>
<a id="L3003" name="L3003"></a>3003 
<div class="comment">
          Converts a value for this field to a fraction between 0 and 1.
          <p>
          The fractional value is between 0 (inclusive) and 1 (exclusive).
          It can only be returned if the {@link java.time.temporal.TemporalField#range() value range} is fixed.
          The fraction is obtained by calculation from the field range using 9 decimal
          places and a rounding mode of {@link RoundingMode#FLOOR FLOOR}.
          The calculation is inaccurate if the values do not run continuously from smallest to largest.
          </p><p>
          For example, the second-of-minute value of 15 would be returned as 0.25,
          assuming the standard definition of 60 seconds in a minute.
          @param value  the value to convert, must be valid for this rule
          @return the value as a fraction within the range, from 0 to 1, not null
          @throws DateTimeException if the value cannot be converted to a fraction</p></div>
<a id="L3020" name="L3020"></a>3020         <strong class="reserved">private</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../S/1537.html#L2941" title="Referred from 2941 in src/java/time/format/DateTimeFormatterBuilder.java.">convertToFraction</a>(<strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L3021" name="L3021"></a>3021             <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> = field.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>();
<a id="L3022" name="L3022"></a>3022             <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/12705.html" title="Multiple defined in 2 places.">checkValidValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, field);
<a id="L3023" name="L3023"></a>3023             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> minBD = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/20655.html" title="Multiple defined in 19 places.">getMinimum</a>());
<a id="L3024" name="L3024"></a>3024             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> rangeBD = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/20492.html" title="Multiple defined in 21 places.">getMaximum</a>()).<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(minBD).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ONE);
<a id="L3025" name="L3025"></a>3025             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> valueBD = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>).<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(minBD);
<a id="L3026" name="L3026"></a>3026             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fraction = valueBD.<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(rangeBD, 9, <a href="../S/1461.html#L93" title="Defined at 93 in src/java/math/RoundingMode.java.">RoundingMode</a>.<a href="../S/1461.html#L192" title="Defined at 192 in src/java/math/RoundingMode.java.">FLOOR</a>);
<a id="L3027" name="L3027"></a>3027             <em class="comment">// stripTrailingZeros bug</em>
<a id="L3028" name="L3028"></a>3028             <strong class="reserved">return</strong> fraction.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ZERO) == 0 ? <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ZERO : fraction.<a href="../S/1464.html#L2594" title="Defined at 2594 in src/java/math/BigDecimal.java.">stripTrailingZeros</a>();
<a id="L3029" name="L3029"></a>3029         <em class="brace">}</em>
<a id="L3030" name="L3030"></a>3030 
<div class="comment">
          Converts a fraction from 0 to 1 for this field to a value.
          <p>
          The fractional value must be between 0 (inclusive) and 1 (exclusive).
          It can only be returned if the {@link java.time.temporal.TemporalField#range() value range} is fixed.
          The value is obtained by calculation from the field range and a rounding
          mode of {@link RoundingMode#FLOOR FLOOR}.
          The calculation is inaccurate if the values do not run continuously from smallest to largest.
          </p><p>
          For example, the fractional second-of-minute of 0.25 would be converted to 15,
          assuming the standard definition of 60 seconds in a minute.
          @param fraction  the fraction to convert, not null
          @return the value of the field, valid for this rule
          @throws DateTimeException if the value cannot be converted</p></div>
<a id="L3047" name="L3047"></a>3047         <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../S/1537.html#L3000" title="Referred from 3000 in src/java/time/format/DateTimeFormatterBuilder.java.">convertFromFraction</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fraction) <em class="brace">{</em>
<a id="L3048" name="L3048"></a>3048             <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> = field.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>();
<a id="L3049" name="L3049"></a>3049             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> minBD = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/20655.html" title="Multiple defined in 19 places.">getMinimum</a>());
<a id="L3050" name="L3050"></a>3050             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> rangeBD = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/20492.html" title="Multiple defined in 21 places.">getMaximum</a>()).<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(minBD).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ONE);
<a id="L3051" name="L3051"></a>3051             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> valueBD = fraction.<a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(rangeBD).<a href="../D/33804.html" title="Multiple defined in 5 places.">setScale</a>(0, <a href="../S/1461.html#L93" title="Defined at 93 in src/java/math/RoundingMode.java.">RoundingMode</a>.<a href="../S/1461.html#L192" title="Defined at 192 in src/java/math/RoundingMode.java.">FLOOR</a>).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(minBD);
<a id="L3052" name="L3052"></a>3052             <strong class="reserved">return</strong> valueBD.<a href="../D/27087.html" title="Multiple defined in 2 places.">longValueExact</a>();
<a id="L3053" name="L3053"></a>3053         <em class="brace">}</em>
<a id="L3054" name="L3054"></a>3054 
<a id="L3055" name="L3055"></a>3055         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3056" name="L3056"></a>3056         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L3057" name="L3057"></a>3057             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> decimal = (decimalPoint ? ",DecimalPoint" : "");
<a id="L3058" name="L3058"></a>3058             <strong class="reserved">return</strong> "Fraction(" + field + "," + minWidth + "," + maxWidth + decimal + ")";
<a id="L3059" name="L3059"></a>3059         <em class="brace">}</em>
<a id="L3060" name="L3060"></a>3060     <em class="brace">}</em>
<a id="L3061" name="L3061"></a>3061 
<a id="L3062" name="L3062"></a>3062     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses field text.</div>
<a id="L3066" name="L3066"></a>3066     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8112.html" title="Multiple referred from 2 places.">TextPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L3067" name="L3067"></a>3067         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field;
<a id="L3068" name="L3068"></a>3068         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle;
<a id="L3069" name="L3069"></a>3069         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1544.html#L103" title="Defined at 103 in src/java/time/format/DateTimeTextProvider.java.">DateTimeTextProvider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<div class="comment">
          The cached number printer parser.
          Immutable and volatile, so no synchronization needed.</div>
<a id="L3074" name="L3074"></a>3074         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> <a href="../S/1537.html#L3143" title="Defined at 3143 in src/java/time/format/DateTimeFormatterBuilder.java.">numberPrinterParser</a>;
<a id="L3075" name="L3075"></a>3075 
<div class="comment">
          Constructor.
          @param field  the field to output, not null
          @param textStyle  the text style, not null
          @param provider  the text provider, not null</div>
<a id="L3083" name="L3083"></a>3083         TextPrinterParser(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle, <a href="../S/1544.html#L103" title="Defined at 103 in src/java/time/format/DateTimeTextProvider.java.">DateTimeTextProvider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <em class="brace">{</em>
<a id="L3084" name="L3084"></a>3084             <em class="comment">// validated by caller</em>
<a id="L3085" name="L3085"></a>3085             <strong class="reserved">this</strong>.field = field;
<a id="L3086" name="L3086"></a>3086             <strong class="reserved">this</strong>.textStyle = textStyle;
<a id="L3087" name="L3087"></a>3087             <strong class="reserved">this</strong>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L3088" name="L3088"></a>3088         <em class="brace">}</em>
<a id="L3089" name="L3089"></a>3089 
<a id="L3090" name="L3090"></a>3090         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3091" name="L3091"></a>3091         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L3092" name="L3092"></a>3092             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(field);
<a id="L3093" name="L3093"></a>3093             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3094" name="L3094"></a>3094                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3095" name="L3095"></a>3095             <em class="brace">}</em>
<a id="L3096" name="L3096"></a>3096             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L3097" name="L3097"></a>3097             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1538.html#L230" title="Defined at 230 in src/java/time/format/DateTimePrintContext.java.">getTemporal</a>().<a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>(<a href="../S/1481.html#L118" title="Defined at 118 in src/java/time/temporal/TemporalQueries.java.">TemporalQueries</a>.<a href="../S/1481.html#L206" title="Defined at 206 in src/java/time/temporal/TemporalQueries.java.">chronology</a>());
<a id="L3098" name="L3098"></a>3098             <strong class="reserved">if</strong> (chrono == <strong class="reserved">null</strong> || chrono == <a href="../S/1513.html#L123" title="Defined at 123 in src/java/time/chrono/IsoChronology.java.">IsoChronology</a>.INSTANCE) <em class="brace">{</em>
<a id="L3099" name="L3099"></a>3099                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, textStyle, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L3100" name="L3100"></a>3100             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3101" name="L3101"></a>3101                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(chrono, field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, textStyle, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L3102" name="L3102"></a>3102             <em class="brace">}</em>
<a id="L3103" name="L3103"></a>3103             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3104" name="L3104"></a>3104                 <strong class="reserved">return</strong> <a href="../S/1537.html#L3143" title="Defined at 3143 in src/java/time/format/DateTimeFormatterBuilder.java.">numberPrinterParser</a>().<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L3105" name="L3105"></a>3105             <em class="brace">}</em>
<a id="L3106" name="L3106"></a>3106             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L3107" name="L3107"></a>3107             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3108" name="L3108"></a>3108         <em class="brace">}</em>
<a id="L3109" name="L3109"></a>3109 
<a id="L3110" name="L3110"></a>3110         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3111" name="L3111"></a>3111         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> parseText, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L3112" name="L3112"></a>3112             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = parseText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3113" name="L3113"></a>3113             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &lt; 0 || <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &gt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3114" name="L3114"></a>3114                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>();
<a id="L3115" name="L3115"></a>3115             <em class="brace">}</em>
<a id="L3116" name="L3116"></a>3116             <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> style = (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>() ? textStyle : <strong class="reserved">null</strong>);
<a id="L3117" name="L3117"></a>3117             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L166" title="Defined at 166 in src/java/time/format/DateTimeParseContext.java.">getEffectiveChronology</a>();
<a id="L3118" name="L3118"></a>3118             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt;&gt; it;
<a id="L3119" name="L3119"></a>3119             <strong class="reserved">if</strong> (chrono == <strong class="reserved">null</strong> || chrono == <a href="../S/1513.html#L123" title="Defined at 123 in src/java/time/chrono/IsoChronology.java.">IsoChronology</a>.INSTANCE) <em class="brace">{</em>
<a id="L3120" name="L3120"></a>3120                 it = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/23062.html" title="Multiple defined in 3 places.">getTextIterator</a>(field, style, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L3121" name="L3121"></a>3121             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3122" name="L3122"></a>3122                 it = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/23062.html" title="Multiple defined in 3 places.">getTextIterator</a>(chrono, field, style, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L3123" name="L3123"></a>3123             <em class="brace">}</em>
<a id="L3124" name="L3124"></a>3124             <strong class="reserved">if</strong> (it != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3125" name="L3125"></a>3125                 <strong class="reserved">while</strong> (it.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L3126" name="L3126"></a>3126                     <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; entry = it.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L3127" name="L3127"></a>3127                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> itText = entry.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>();
<a id="L3128" name="L3128"></a>3128                     <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L208" title="Defined at 208 in src/java/time/format/DateTimeParseContext.java.">subSequenceEquals</a>(itText, 0, parseText, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, itText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>())) <em class="brace">{</em>
<a id="L3129" name="L3129"></a>3129                         <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(field, entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(), <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + itText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L3130" name="L3130"></a>3130                     <em class="brace">}</em>
<a id="L3131" name="L3131"></a>3131                 <em class="brace">}</em>
<a id="L3132" name="L3132"></a>3132                 <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/26286.html" title="Multiple defined in 2 places.">isStrict</a>()) <em class="brace">{</em>
<a id="L3133" name="L3133"></a>3133                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3134" name="L3134"></a>3134                 <em class="brace">}</em>
<a id="L3135" name="L3135"></a>3135             <em class="brace">}</em>
<a id="L3136" name="L3136"></a>3136             <strong class="reserved">return</strong> <a href="../S/1537.html#L3143" title="Defined at 3143 in src/java/time/format/DateTimeFormatterBuilder.java.">numberPrinterParser</a>().<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, parseText, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3137" name="L3137"></a>3137         <em class="brace">}</em>
<a id="L3138" name="L3138"></a>3138 
<div class="comment">
          Create and cache a number printer parser.
          @return the number printer parser for this field, not null</div>
<a id="L3143" name="L3143"></a>3143         <strong class="reserved">private</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a> <a href="../R/23862.html" title="Multiple referred from 6 places.">numberPrinterParser</a>() <em class="brace">{</em>
<a id="L3144" name="L3144"></a>3144             <strong class="reserved">if</strong> (<a href="../S/1537.html#L3143" title="Defined at 3143 in src/java/time/format/DateTimeFormatterBuilder.java.">numberPrinterParser</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3145" name="L3145"></a>3145                 <a href="../S/1537.html#L3143" title="Defined at 3143 in src/java/time/format/DateTimeFormatterBuilder.java.">numberPrinterParser</a> = <strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, 1, 19, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NORMAL);
<a id="L3146" name="L3146"></a>3146             <em class="brace">}</em>
<a id="L3147" name="L3147"></a>3147             <strong class="reserved">return</strong> <a href="../S/1537.html#L3143" title="Defined at 3143 in src/java/time/format/DateTimeFormatterBuilder.java.">numberPrinterParser</a>;
<a id="L3148" name="L3148"></a>3148         <em class="brace">}</em>
<a id="L3149" name="L3149"></a>3149 
<a id="L3150" name="L3150"></a>3150         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3151" name="L3151"></a>3151         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L3152" name="L3152"></a>3152             <strong class="reserved">if</strong> (textStyle == <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>) <em class="brace">{</em>
<a id="L3153" name="L3153"></a>3153                 <strong class="reserved">return</strong> "Text(" + field + ")";
<a id="L3154" name="L3154"></a>3154             <em class="brace">}</em>
<a id="L3155" name="L3155"></a>3155             <strong class="reserved">return</strong> "Text(" + field + "," + textStyle + ")";
<a id="L3156" name="L3156"></a>3156         <em class="brace">}</em>
<a id="L3157" name="L3157"></a>3157     <em class="brace">}</em>
<a id="L3158" name="L3158"></a>3158 
<a id="L3159" name="L3159"></a>3159     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses an ISO-8601 instant.</div>
<a id="L3163" name="L3163"></a>3163     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/3872.html" title="Multiple referred from 2 places.">InstantPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L3164" name="L3164"></a>3164         <em class="comment">// days in a 400 year cycle = 146097</em>
<a id="L3165" name="L3165"></a>3165         <em class="comment">// days in a 10,000 year cycle = 146097 * 25</em>
<a id="L3166" name="L3166"></a>3166         <em class="comment">// seconds per day = 86400</em>
<a id="L3167" name="L3167"></a>3167         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> SECONDS_PER_10000_YEARS = 146097L * 25L * 86400L;
<a id="L3168" name="L3168"></a>3168         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> SECONDS_0000_TO_1970 = ((146097L * 5L) - (30L * 365L + 7L)) * 86400L;
<a id="L3169" name="L3169"></a>3169         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> fractionalDigits;
<a id="L3170" name="L3170"></a>3170 
<a id="L3171" name="L3171"></a>3171         InstantPrinterParser(<strong class="reserved">int</strong> fractionalDigits) <em class="brace">{</em>
<a id="L3172" name="L3172"></a>3172             <strong class="reserved">this</strong>.fractionalDigits = fractionalDigits;
<a id="L3173" name="L3173"></a>3173         <em class="brace">}</em>
<a id="L3174" name="L3174"></a>3174 
<a id="L3175" name="L3175"></a>3175         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3176" name="L3176"></a>3176         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L3177" name="L3177"></a>3177             <em class="comment">// use INSTANT_SECONDS, thus this code is not bound by Instant.MAX</em>
<a id="L3178" name="L3178"></a>3178             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> inSecs = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../S/1483.html#L577" title="Defined at 577 in src/java/time/temporal/ChronoField.java.">INSTANT_SECONDS</a>);
<a id="L3179" name="L3179"></a>3179             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> inNanos = <strong class="reserved">null</strong>;
<a id="L3180" name="L3180"></a>3180             <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1538.html#L230" title="Defined at 230 in src/java/time/format/DateTimePrintContext.java.">getTemporal</a>().<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>)) <em class="brace">{</em>
<a id="L3181" name="L3181"></a>3181                 inNanos = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1538.html#L230" title="Defined at 230 in src/java/time/format/DateTimePrintContext.java.">getTemporal</a>().<a href="../D/20280.html" title="Multiple defined in 48 places.">getLong</a>(<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>);
<a id="L3182" name="L3182"></a>3182             <em class="brace">}</em>
<a id="L3183" name="L3183"></a>3183             <strong class="reserved">if</strong> (inSecs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3184" name="L3184"></a>3184                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3185" name="L3185"></a>3185             <em class="brace">}</em>
<a id="L3186" name="L3186"></a>3186             <strong class="reserved">long</strong> inSec = inSecs;
<a id="L3187" name="L3187"></a>3187             <strong class="reserved">int</strong> inNano = <a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(inNanos != <strong class="reserved">null</strong> ? inNanos : 0);
<a id="L3188" name="L3188"></a>3188             <em class="comment">// format mostly using LocalDateTime.toString</em>
<a id="L3189" name="L3189"></a>3189             <strong class="reserved">if</strong> (inSec &gt;= -SECONDS_0000_TO_1970) <em class="brace">{</em>
<a id="L3190" name="L3190"></a>3190                 <em class="comment">// current era</em>
<a id="L3191" name="L3191"></a>3191                 <strong class="reserved">long</strong> zeroSecs = inSec - SECONDS_PER_10000_YEARS + SECONDS_0000_TO_1970;
<a id="L3192" name="L3192"></a>3192                 <strong class="reserved">long</strong> hi = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16469.html" title="Multiple defined in 4 places.">floorDiv</a>(zeroSecs, SECONDS_PER_10000_YEARS) + 1;
<a id="L3193" name="L3193"></a>3193                 <strong class="reserved">long</strong> lo = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(zeroSecs, SECONDS_PER_10000_YEARS);
<a id="L3194" name="L3194"></a>3194                 <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> ldt = <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/28436.html" title="Multiple defined in 3 places.">ofEpochSecond</a>(lo - SECONDS_0000_TO_1970, 0, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1157.html#L317" title="Defined at 317 in src/java/util/Date.java.">UTC</a>);
<a id="L3195" name="L3195"></a>3195                 <strong class="reserved">if</strong> (hi &gt; 0) <em class="brace">{</em>
<a id="L3196" name="L3196"></a>3196                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('+').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(hi);
<a id="L3197" name="L3197"></a>3197                 <em class="brace">}</em>
<a id="L3198" name="L3198"></a>3198                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(ldt);
<a id="L3199" name="L3199"></a>3199                 <strong class="reserved">if</strong> (ldt.<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() == 0) <em class="brace">{</em>
<a id="L3200" name="L3200"></a>3200                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(":00");
<a id="L3201" name="L3201"></a>3201                 <em class="brace">}</em>
<a id="L3202" name="L3202"></a>3202             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3203" name="L3203"></a>3203                 <em class="comment">// before current era</em>
<a id="L3204" name="L3204"></a>3204                 <strong class="reserved">long</strong> zeroSecs = inSec + SECONDS_0000_TO_1970;
<a id="L3205" name="L3205"></a>3205                 <strong class="reserved">long</strong> hi = zeroSecs / SECONDS_PER_10000_YEARS;
<a id="L3206" name="L3206"></a>3206                 <strong class="reserved">long</strong> lo = zeroSecs % SECONDS_PER_10000_YEARS;
<a id="L3207" name="L3207"></a>3207                 <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> ldt = <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/28436.html" title="Multiple defined in 3 places.">ofEpochSecond</a>(lo - SECONDS_0000_TO_1970, 0, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1157.html#L317" title="Defined at 317 in src/java/util/Date.java.">UTC</a>);
<a id="L3208" name="L3208"></a>3208                 <strong class="reserved">int</strong> pos = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3209" name="L3209"></a>3209                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(ldt);
<a id="L3210" name="L3210"></a>3210                 <strong class="reserved">if</strong> (ldt.<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() == 0) <em class="brace">{</em>
<a id="L3211" name="L3211"></a>3211                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(":00");
<a id="L3212" name="L3212"></a>3212                 <em class="brace">}</em>
<a id="L3213" name="L3213"></a>3213                 <strong class="reserved">if</strong> (hi &lt; 0) <em class="brace">{</em>
<a id="L3214" name="L3214"></a>3214                     <strong class="reserved">if</strong> (ldt.<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>() == -10_000) <em class="brace">{</em>
<a id="L3215" name="L3215"></a>3215                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(pos, pos + 2, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(hi - 1));
<a id="L3216" name="L3216"></a>3216                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (lo == 0) <em class="brace">{</em>
<a id="L3217" name="L3217"></a>3217                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(pos, hi);
<a id="L3218" name="L3218"></a>3218                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3219" name="L3219"></a>3219                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(pos + 1, <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(hi));
<a id="L3220" name="L3220"></a>3220                     <em class="brace">}</em>
<a id="L3221" name="L3221"></a>3221                 <em class="brace">}</em>
<a id="L3222" name="L3222"></a>3222             <em class="brace">}</em>
<a id="L3223" name="L3223"></a>3223             <em class="comment">// add fraction</em>
<a id="L3224" name="L3224"></a>3224             <strong class="reserved">if</strong> ((fractionalDigits &lt; 0 &amp;&amp; inNano &gt; 0) || fractionalDigits &gt; 0) <em class="brace">{</em>
<a id="L3225" name="L3225"></a>3225                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('.');
<a id="L3226" name="L3226"></a>3226                 <strong class="reserved">int</strong> <a href="../D/14980.html" title="Multiple defined in 2 places.">div</a> = 100_000_000;
<a id="L3227" name="L3227"></a>3227                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; ((fractionalDigits == -1 &amp;&amp; inNano &gt; 0) ||
<a id="L3228" name="L3228"></a>3228                                     (fractionalDigits == -2 &amp;&amp; (inNano &gt; 0 || (i % 3) != 0)) ||
<a id="L3229" name="L3229"></a>3229                                     i &lt; fractionalDigits); i++) <em class="brace">{</em>
<a id="L3230" name="L3230"></a>3230                     <strong class="reserved">int</strong> <a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> = inNano / <a href="../D/14980.html" title="Multiple defined in 2 places.">div</a>;
<a id="L3231" name="L3231"></a>3231                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>) (<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> + '0'));
<a id="L3232" name="L3232"></a>3232                     inNano = inNano - (<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> * <a href="../D/14980.html" title="Multiple defined in 2 places.">div</a>);
<a id="L3233" name="L3233"></a>3233                     <a href="../D/14980.html" title="Multiple defined in 2 places.">div</a> = <a href="../D/14980.html" title="Multiple defined in 2 places.">div</a> / 10;
<a id="L3234" name="L3234"></a>3234                 <em class="brace">}</em>
<a id="L3235" name="L3235"></a>3235             <em class="brace">}</em>
<a id="L3236" name="L3236"></a>3236             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('Z');
<a id="L3237" name="L3237"></a>3237             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3238" name="L3238"></a>3238         <em class="brace">}</em>
<a id="L3239" name="L3239"></a>3239 
<a id="L3240" name="L3240"></a>3240         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3241" name="L3241"></a>3241         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L3242" name="L3242"></a>3242             <em class="comment">// new context to avoid overwriting fields like year/month/day</em>
<a id="L3243" name="L3243"></a>3243             <strong class="reserved">int</strong> minDigits = (fractionalDigits &lt; 0 ? 0 : fractionalDigits);
<a id="L3244" name="L3244"></a>3244             <strong class="reserved">int</strong> maxDigits = (fractionalDigits &lt; 0 ? 9 : fractionalDigits);
<a id="L3245" name="L3245"></a>3245             <a href="../S/1537.html#L2145" title="Defined at 2145 in src/java/time/format/DateTimeFormatterBuilder.java.">CompositePrinterParser</a> parser = <strong class="reserved">new</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a>()
<a id="L3246" name="L3246"></a>3246                     .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a>.ISO_LOCAL_DATE).<a href="../D/11389.html" title="Multiple defined in 2 places.">appendLiteral</a>('T')
<a id="L3247" name="L3247"></a>3247                     .<a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>, 2).<a href="../D/11389.html" title="Multiple defined in 2 places.">appendLiteral</a>(':')
<a id="L3248" name="L3248"></a>3248                     .<a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(<a href="../S/1483.html#L249" title="Defined at 249 in src/java/time/temporal/ChronoField.java.">MINUTE_OF_HOUR</a>, 2).<a href="../D/11389.html" title="Multiple defined in 2 places.">appendLiteral</a>(':')
<a id="L3249" name="L3249"></a>3249                     .<a href="../D/11431.html" title="Multiple defined in 5 places.">appendValue</a>(<a href="../S/1483.html#L227" title="Defined at 227 in src/java/time/temporal/ChronoField.java.">SECOND_OF_MINUTE</a>, 2)
<a id="L3250" name="L3250"></a>3250                     .<a href="../S/1537.html#L685" title="Defined at 685 in src/java/time/format/DateTimeFormatterBuilder.java.">appendFraction</a>(<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>, minDigits, maxDigits, <strong class="reserved">true</strong>)
<a id="L3251" name="L3251"></a>3251                     .<a href="../D/11389.html" title="Multiple defined in 2 places.">appendLiteral</a>('Z')
<a id="L3252" name="L3252"></a>3252                     .<a href="../D/35401.html" title="Multiple defined in 4 places.">toFormatter</a>().<a href="../S/1541.html#L2026" title="Defined at 2026 in src/java/time/format/DateTimeFormatter.java.">toPrinterParser</a>(<strong class="reserved">false</strong>);
<a id="L3253" name="L3253"></a>3253             <a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> newContext = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>();
<a id="L3254" name="L3254"></a>3254             <strong class="reserved">int</strong> pos = parser.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(newContext, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3255" name="L3255"></a>3255             <strong class="reserved">if</strong> (pos &lt; 0) <em class="brace">{</em>
<a id="L3256" name="L3256"></a>3256                 <strong class="reserved">return</strong> pos;
<a id="L3257" name="L3257"></a>3257             <em class="brace">}</em>
<a id="L3258" name="L3258"></a>3258             <em class="comment">// parser restricts most fields to 2 digits, so definitely int</em>
<a id="L3259" name="L3259"></a>3259             <em class="comment">// correctly parsed nano is also guaranteed to be valid</em>
<a id="L3260" name="L3260"></a>3260             <strong class="reserved">long</strong> yearParsed = newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L3261" name="L3261"></a>3261             <strong class="reserved">int</strong> month = newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L3262" name="L3262"></a>3262             <strong class="reserved">int</strong> day = newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L3263" name="L3263"></a>3263             <strong class="reserved">int</strong> hour = newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L3264" name="L3264"></a>3264             <strong class="reserved">int</strong> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L249" title="Defined at 249 in src/java/time/temporal/ChronoField.java.">MINUTE_OF_HOUR</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L3265" name="L3265"></a>3265             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> secVal = newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L227" title="Defined at 227 in src/java/time/temporal/ChronoField.java.">SECOND_OF_MINUTE</a>);
<a id="L3266" name="L3266"></a>3266             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> nanoVal = newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>);
<a id="L3267" name="L3267"></a>3267             <strong class="reserved">int</strong> sec = (secVal != <strong class="reserved">null</strong> ? secVal.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>() : 0);
<a id="L3268" name="L3268"></a>3268             <strong class="reserved">int</strong> nano = (nanoVal != <strong class="reserved">null</strong> ? nanoVal.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>() : 0);
<a id="L3269" name="L3269"></a>3269             <strong class="reserved">int</strong> days = 0;
<a id="L3270" name="L3270"></a>3270             <strong class="reserved">if</strong> (hour == 24 &amp;&amp; <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> == 0 &amp;&amp; sec == 0 &amp;&amp; nano == 0) <em class="brace">{</em>
<a id="L3271" name="L3271"></a>3271                 hour = 0;
<a id="L3272" name="L3272"></a>3272                 days = 1;
<a id="L3273" name="L3273"></a>3273             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (hour == 23 &amp;&amp; <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> == 59 &amp;&amp; sec == 60) <em class="brace">{</em>
<a id="L3274" name="L3274"></a>3274                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L423" title="Defined at 423 in src/java/time/format/DateTimeParseContext.java.">setParsedLeapSecond</a>();
<a id="L3275" name="L3275"></a>3275                 sec = 59;
<a id="L3276" name="L3276"></a>3276             <em class="brace">}</em>
<a id="L3277" name="L3277"></a>3277             <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = (<strong class="reserved">int</strong>) yearParsed % 10_000;
<a id="L3278" name="L3278"></a>3278             <strong class="reserved">long</strong> instantSecs;
<a id="L3279" name="L3279"></a>3279             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3280" name="L3280"></a>3280                 <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> ldt = <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, month, day, hour, <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>, sec, 0).<a href="../D/29362.html" title="Multiple defined in 12 places.">plusDays</a>(days);
<a id="L3281" name="L3281"></a>3281                 instantSecs = ldt.<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>(<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1157.html#L317" title="Defined at 317 in src/java/util/Date.java.">UTC</a>);
<a id="L3282" name="L3282"></a>3282                 instantSecs += <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27841.html" title="Multiple defined in 4 places.">multiplyExact</a>(yearParsed / 10_000L, SECONDS_PER_10000_YEARS);
<a id="L3283" name="L3283"></a>3283             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L3284" name="L3284"></a>3284                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3285" name="L3285"></a>3285             <em class="brace">}</em>
<a id="L3286" name="L3286"></a>3286             <strong class="reserved">int</strong> successPos = pos;
<a id="L3287" name="L3287"></a>3287             successPos = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L577" title="Defined at 577 in src/java/time/temporal/ChronoField.java.">INSTANT_SECONDS</a>, instantSecs, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, successPos);
<a id="L3288" name="L3288"></a>3288             <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L123" title="Defined at 123 in src/java/time/temporal/ChronoField.java.">NANO_OF_SECOND</a>, nano, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, successPos);
<a id="L3289" name="L3289"></a>3289         <em class="brace">}</em>
<a id="L3290" name="L3290"></a>3290 
<a id="L3291" name="L3291"></a>3291         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3292" name="L3292"></a>3292         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L3293" name="L3293"></a>3293             <strong class="reserved">return</strong> "Instant()";
<a id="L3294" name="L3294"></a>3294         <em class="brace">}</em>
<a id="L3295" name="L3295"></a>3295     <em class="brace">}</em>
<a id="L3296" name="L3296"></a>3296 
<a id="L3297" name="L3297"></a>3297     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses an offset ID.</div>
<a id="L3301" name="L3301"></a>3301     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/5797.html" title="Multiple referred from 12 places.">OffsetIdPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L3302" name="L3302"></a>3302         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] PATTERNS = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <em class="brace">{</em>
<a id="L3303" name="L3303"></a>3303             "+HH", "+HHmm", "+HH:mm", "+HHMM", "+HH:MM", "+HHMMss", "+HH:MM:ss", "+HHMMSS", "+HH:MM:SS",
<a id="L3304" name="L3304"></a>3304         <em class="brace">}</em>;  <em class="comment">// order used in pattern builder</em>
<a id="L3305" name="L3305"></a>3305         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a> INSTANCE_ID_Z = <strong class="reserved">new</strong> <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>("+HH:MM:ss", "Z");
<a id="L3306" name="L3306"></a>3306         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a> INSTANCE_ID_ZERO = <strong class="reserved">new</strong> <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>("+HH:MM:ss", "0");
<a id="L3307" name="L3307"></a>3307 
<a id="L3308" name="L3308"></a>3308         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> noOffsetText;
<a id="L3309" name="L3309"></a>3309         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L3310" name="L3310"></a>3310 
<div class="comment">
          Constructor.
          @param pattern  the pattern
          @param noOffsetText  the text to use for UTC, not null</div>
<a id="L3317" name="L3317"></a>3317         OffsetIdPrinterParser(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> noOffsetText) <em class="brace">{</em>
<a id="L3318" name="L3318"></a>3318             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, "pattern");
<a id="L3319" name="L3319"></a>3319             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(noOffsetText, "noOffsetText");
<a id="L3320" name="L3320"></a>3320             <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/1537.html#L3324" title="Defined at 3324 in src/java/time/format/DateTimeFormatterBuilder.java.">checkPattern</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>);
<a id="L3321" name="L3321"></a>3321             <strong class="reserved">this</strong>.noOffsetText = noOffsetText;
<a id="L3322" name="L3322"></a>3322         <em class="brace">}</em>
<a id="L3323" name="L3323"></a>3323 
<a id="L3324" name="L3324"></a>3324         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/1537.html#L3320" title="Referred from 3320 in src/java/time/format/DateTimeFormatterBuilder.java.">checkPattern</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>) <em class="brace">{</em>
<a id="L3325" name="L3325"></a>3325             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; PATTERNS.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L3326" name="L3326"></a>3326                 <strong class="reserved">if</strong> (PATTERNS[i].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>)) <em class="brace">{</em>
<a id="L3327" name="L3327"></a>3327                     <strong class="reserved">return</strong> i;
<a id="L3328" name="L3328"></a>3328                 <em class="brace">}</em>
<a id="L3329" name="L3329"></a>3329             <em class="brace">}</em>
<a id="L3330" name="L3330"></a>3330             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid zone offset pattern: " + <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>);
<a id="L3331" name="L3331"></a>3331         <em class="brace">}</em>
<a id="L3332" name="L3332"></a>3332 
<a id="L3333" name="L3333"></a>3333         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3334" name="L3334"></a>3334         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L3335" name="L3335"></a>3335             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> offsetSecs = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>);
<a id="L3336" name="L3336"></a>3336             <strong class="reserved">if</strong> (offsetSecs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3337" name="L3337"></a>3337                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3338" name="L3338"></a>3338             <em class="brace">}</em>
<a id="L3339" name="L3339"></a>3339             <strong class="reserved">int</strong> totalSecs = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35416.html" title="Multiple defined in 2 places.">toIntExact</a>(offsetSecs);
<a id="L3340" name="L3340"></a>3340             <strong class="reserved">if</strong> (totalSecs == 0) <em class="brace">{</em>
<a id="L3341" name="L3341"></a>3341                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(noOffsetText);
<a id="L3342" name="L3342"></a>3342             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3343" name="L3343"></a>3343                 <strong class="reserved">int</strong> absHours = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>((totalSecs / 3600) % 100);  <em class="comment">// anything larger than 99 silently dropped</em>
<a id="L3344" name="L3344"></a>3344                 <strong class="reserved">int</strong> absMinutes = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>((totalSecs / 60) % 60);
<a id="L3345" name="L3345"></a>3345                 <strong class="reserved">int</strong> absSeconds = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(totalSecs % 60);
<a id="L3346" name="L3346"></a>3346                 <strong class="reserved">int</strong> bufPos = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3347" name="L3347"></a>3347                 <strong class="reserved">int</strong> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = absHours;
<a id="L3348" name="L3348"></a>3348                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(totalSecs &lt; 0 ? "-" : "+")
<a id="L3349" name="L3349"></a>3349                     .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>) (absHours / 10 + '0')).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>) (absHours % 10 + '0'));
<a id="L3350" name="L3350"></a>3350                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> &gt;= 3 || (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> &gt;= 1 &amp;&amp; absMinutes &gt; 0)) <em class="brace">{</em>
<a id="L3351" name="L3351"></a>3351                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> % 2) == 0 ? ":" : "")
<a id="L3352" name="L3352"></a>3352                         .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>) (absMinutes / 10 + '0')).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>) (absMinutes % 10 + '0'));
<a id="L3353" name="L3353"></a>3353                     <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> += absMinutes;
<a id="L3354" name="L3354"></a>3354                     <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> &gt;= 7 || (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> &gt;= 5 &amp;&amp; absSeconds &gt; 0)) <em class="brace">{</em>
<a id="L3355" name="L3355"></a>3355                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> % 2) == 0 ? ":" : "")
<a id="L3356" name="L3356"></a>3356                             .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>) (absSeconds / 10 + '0')).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>) (absSeconds % 10 + '0'));
<a id="L3357" name="L3357"></a>3357                         <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> += absSeconds;
<a id="L3358" name="L3358"></a>3358                     <em class="brace">}</em>
<a id="L3359" name="L3359"></a>3359                 <em class="brace">}</em>
<a id="L3360" name="L3360"></a>3360                 <strong class="reserved">if</strong> (<a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> == 0) <em class="brace">{</em>
<a id="L3361" name="L3361"></a>3361                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a>(bufPos);
<a id="L3362" name="L3362"></a>3362                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(noOffsetText);
<a id="L3363" name="L3363"></a>3363                 <em class="brace">}</em>
<a id="L3364" name="L3364"></a>3364             <em class="brace">}</em>
<a id="L3365" name="L3365"></a>3365             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3366" name="L3366"></a>3366         <em class="brace">}</em>
<a id="L3367" name="L3367"></a>3367 
<a id="L3368" name="L3368"></a>3368         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3369" name="L3369"></a>3369         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L3370" name="L3370"></a>3370             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3371" name="L3371"></a>3371             <strong class="reserved">int</strong> noOffsetLen = noOffsetText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3372" name="L3372"></a>3372             <strong class="reserved">if</strong> (noOffsetLen == 0) <em class="brace">{</em>
<a id="L3373" name="L3373"></a>3373                 <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3374" name="L3374"></a>3374                     <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>, 0, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3375" name="L3375"></a>3375                 <em class="brace">}</em>
<a id="L3376" name="L3376"></a>3376             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3377" name="L3377"></a>3377                 <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3378" name="L3378"></a>3378                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3379" name="L3379"></a>3379                 <em class="brace">}</em>
<a id="L3380" name="L3380"></a>3380                 <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L208" title="Defined at 208 in src/java/time/format/DateTimeParseContext.java.">subSequenceEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, noOffsetText, 0, noOffsetLen)) <em class="brace">{</em>
<a id="L3381" name="L3381"></a>3381                     <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>, 0, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + noOffsetLen);
<a id="L3382" name="L3382"></a>3382                 <em class="brace">}</em>
<a id="L3383" name="L3383"></a>3383             <em class="brace">}</em>
<a id="L3384" name="L3384"></a>3384 
<a id="L3385" name="L3385"></a>3385             <em class="comment">// parse normal plus/minus offset</em>
<a id="L3386" name="L3386"></a>3386             <strong class="reserved">char</strong> <a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);  <em class="comment">// IOOBE if invalid position</em>
<a id="L3387" name="L3387"></a>3387             <strong class="reserved">if</strong> (<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == '+' || <a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == '-') <em class="brace">{</em>
<a id="L3388" name="L3388"></a>3388                 <em class="comment">// starts</em>
<a id="L3389" name="L3389"></a>3389                 <strong class="reserved">int</strong> negative = (<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == '-' ? -1 : 1);
<a id="L3390" name="L3390"></a>3390                 <strong class="reserved">int</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a> = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[4];
<a id="L3391" name="L3391"></a>3391                 <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[0] = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 1;
<a id="L3392" name="L3392"></a>3392                 <strong class="reserved">if</strong> ((<a href="../D/29169.html" title="Multiple defined in 4 places.">parseNumber</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, 1, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">true</strong>) ||
<a id="L3393" name="L3393"></a>3393                         <a href="../D/29169.html" title="Multiple defined in 4 places.">parseNumber</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, 2, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> &gt;=3) ||
<a id="L3394" name="L3394"></a>3394                         <a href="../D/29169.html" title="Multiple defined in 4 places.">parseNumber</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, 3, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">false</strong>)) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L3395" name="L3395"></a>3395                     <em class="comment">// success</em>
<a id="L3396" name="L3396"></a>3396                     <strong class="reserved">long</strong> offsetSecs = negative * (<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[1] * 3600L + <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[2] * 60L + <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[3]);
<a id="L3397" name="L3397"></a>3397                     <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>, offsetSecs, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[0]);
<a id="L3398" name="L3398"></a>3398                 <em class="brace">}</em>
<a id="L3399" name="L3399"></a>3399             <em class="brace">}</em>
<a id="L3400" name="L3400"></a>3400             <em class="comment">// handle special case of empty no offset text</em>
<a id="L3401" name="L3401"></a>3401             <strong class="reserved">if</strong> (noOffsetLen == 0) <em class="brace">{</em>
<a id="L3402" name="L3402"></a>3402                 <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>, 0, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + noOffsetLen);
<a id="L3403" name="L3403"></a>3403             <em class="brace">}</em>
<a id="L3404" name="L3404"></a>3404             <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3405" name="L3405"></a>3405         <em class="brace">}</em>
<a id="L3406" name="L3406"></a>3406 
<div class="comment">
          Parse a two digit zero-prefixed number.
          @param array  the array of parsed data, 0=pos,1=hours,2=mins,3=secs, not null
          @param arrayIndex  the index to parse the value into
          @param parseText  the offset ID, not null
          @param required  whether this number is required
          @return true if an error occurred</div>
<a id="L3416" name="L3416"></a>3416         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/24582.html" title="Multiple referred from 22 places.">parseNumber</a>(<strong class="reserved">int</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../S/5546.html#L545" title="Defined at 545 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">arrayIndex</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> parseText, <strong class="reserved">boolean</strong> <a href="../D/31142.html" title="Multiple defined in 5 places.">required</a>) <em class="brace">{</em>
<a id="L3417" name="L3417"></a>3417             <strong class="reserved">if</strong> ((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> + 3) / 2 &lt; <a href="../S/5546.html#L545" title="Defined at 545 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">arrayIndex</a>) <em class="brace">{</em>
<a id="L3418" name="L3418"></a>3418                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;  <em class="comment">// ignore seconds/minutes</em>
<a id="L3419" name="L3419"></a>3419             <em class="brace">}</em>
<a id="L3420" name="L3420"></a>3420             <strong class="reserved">int</strong> pos = <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[0];
<a id="L3421" name="L3421"></a>3421             <strong class="reserved">if</strong> ((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> % 2) == 0 &amp;&amp; <a href="../S/5546.html#L545" title="Defined at 545 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">arrayIndex</a> &gt; 1) <em class="brace">{</em>
<a id="L3422" name="L3422"></a>3422                 <strong class="reserved">if</strong> (pos + 1 &gt; parseText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() || parseText.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) != ':') <em class="brace">{</em>
<a id="L3423" name="L3423"></a>3423                     <strong class="reserved">return</strong> <a href="../D/31142.html" title="Multiple defined in 5 places.">required</a>;
<a id="L3424" name="L3424"></a>3424                 <em class="brace">}</em>
<a id="L3425" name="L3425"></a>3425                 pos++;
<a id="L3426" name="L3426"></a>3426             <em class="brace">}</em>
<a id="L3427" name="L3427"></a>3427             <strong class="reserved">if</strong> (pos + 2 &gt; parseText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L3428" name="L3428"></a>3428                 <strong class="reserved">return</strong> <a href="../D/31142.html" title="Multiple defined in 5 places.">required</a>;
<a id="L3429" name="L3429"></a>3429             <em class="brace">}</em>
<a id="L3430" name="L3430"></a>3430             <strong class="reserved">char</strong> ch1 = parseText.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos++);
<a id="L3431" name="L3431"></a>3431             <strong class="reserved">char</strong> ch2 = parseText.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos++);
<a id="L3432" name="L3432"></a>3432             <strong class="reserved">if</strong> (ch1 &lt; '0' || ch1 &gt; '9' || ch2 &lt; '0' || ch2 &gt; '9') <em class="brace">{</em>
<a id="L3433" name="L3433"></a>3433                 <strong class="reserved">return</strong> <a href="../D/31142.html" title="Multiple defined in 5 places.">required</a>;
<a id="L3434" name="L3434"></a>3434             <em class="brace">}</em>
<a id="L3435" name="L3435"></a>3435             <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (ch1 - 48) * 10 + (ch2 - 48);
<a id="L3436" name="L3436"></a>3436             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &lt; 0 || <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &gt; 59) <em class="brace">{</em>
<a id="L3437" name="L3437"></a>3437                 <strong class="reserved">return</strong> <a href="../D/31142.html" title="Multiple defined in 5 places.">required</a>;
<a id="L3438" name="L3438"></a>3438             <em class="brace">}</em>
<a id="L3439" name="L3439"></a>3439             <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[<a href="../S/5546.html#L545" title="Defined at 545 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">arrayIndex</a>] = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L3440" name="L3440"></a>3440             <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[0] = pos;
<a id="L3441" name="L3441"></a>3441             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3442" name="L3442"></a>3442         <em class="brace">}</em>
<a id="L3443" name="L3443"></a>3443 
<a id="L3444" name="L3444"></a>3444         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3445" name="L3445"></a>3445         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L3446" name="L3446"></a>3446             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> converted = noOffsetText.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>("'", "''");
<a id="L3447" name="L3447"></a>3447             <strong class="reserved">return</strong> "Offset(" + PATTERNS[<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>] + ",'" + converted + "')";
<a id="L3448" name="L3448"></a>3448         <em class="brace">}</em>
<a id="L3449" name="L3449"></a>3449     <em class="brace">}</em>
<a id="L3450" name="L3450"></a>3450 
<a id="L3451" name="L3451"></a>3451     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses an offset ID.</div>
<a id="L3455" name="L3455"></a>3455     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1537.html#L952" title="Referred from 952 in src/java/time/format/DateTimeFormatterBuilder.java.">LocalizedOffsetIdPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L3456" name="L3456"></a>3456         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> style;
<a id="L3457" name="L3457"></a>3457 
<div class="comment">
          Constructor.
          @param style  the style, not null</div>
<a id="L3463" name="L3463"></a>3463         LocalizedOffsetIdPrinterParser(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> style) <em class="brace">{</em>
<a id="L3464" name="L3464"></a>3464             <strong class="reserved">this</strong>.style = style;
<a id="L3465" name="L3465"></a>3465         <em class="brace">}</em>
<a id="L3466" name="L3466"></a>3466 
<a id="L3467" name="L3467"></a>3467         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../R/10213.html" title="Multiple referred from 5 places.">appendHMS</a>(<a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, <strong class="reserved">int</strong> t) <em class="brace">{</em>
<a id="L3468" name="L3468"></a>3468             <strong class="reserved">return</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)(t / 10 + '0'))
<a id="L3469" name="L3469"></a>3469                       .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)(t % 10 + '0'));
<a id="L3470" name="L3470"></a>3470         <em class="brace">}</em>
<a id="L3471" name="L3471"></a>3471 
<a id="L3472" name="L3472"></a>3472         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3473" name="L3473"></a>3473         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L3474" name="L3474"></a>3474             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> offsetSecs = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>);
<a id="L3475" name="L3475"></a>3475             <strong class="reserved">if</strong> (offsetSecs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3476" name="L3476"></a>3476                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3477" name="L3477"></a>3477             <em class="brace">}</em>
<a id="L3478" name="L3478"></a>3478             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> gmtText = "GMT";  <em class="comment">// TODO: get localized version of 'GMT'</em>
<a id="L3479" name="L3479"></a>3479             <strong class="reserved">if</strong> (gmtText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3480" name="L3480"></a>3480                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(gmtText);
<a id="L3481" name="L3481"></a>3481             <em class="brace">}</em>
<a id="L3482" name="L3482"></a>3482             <strong class="reserved">int</strong> totalSecs = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35416.html" title="Multiple defined in 2 places.">toIntExact</a>(offsetSecs);
<a id="L3483" name="L3483"></a>3483             <strong class="reserved">if</strong> (totalSecs != 0) <em class="brace">{</em>
<a id="L3484" name="L3484"></a>3484                 <strong class="reserved">int</strong> absHours = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>((totalSecs / 3600) % 100);  <em class="comment">// anything larger than 99 silently dropped</em>
<a id="L3485" name="L3485"></a>3485                 <strong class="reserved">int</strong> absMinutes = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>((totalSecs / 60) % 60);
<a id="L3486" name="L3486"></a>3486                 <strong class="reserved">int</strong> absSeconds = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(totalSecs % 60);
<a id="L3487" name="L3487"></a>3487                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(totalSecs &lt; 0 ? "-" : "+");
<a id="L3488" name="L3488"></a>3488                 <strong class="reserved">if</strong> (style == <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>) <em class="brace">{</em>
<a id="L3489" name="L3489"></a>3489                     <a href="../S/1537.html#L3467" title="Defined at 3467 in src/java/time/format/DateTimeFormatterBuilder.java.">appendHMS</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, absHours);
<a id="L3490" name="L3490"></a>3490                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':');
<a id="L3491" name="L3491"></a>3491                     <a href="../S/1537.html#L3467" title="Defined at 3467 in src/java/time/format/DateTimeFormatterBuilder.java.">appendHMS</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, absMinutes);
<a id="L3492" name="L3492"></a>3492                     <strong class="reserved">if</strong> (absSeconds != 0) <em class="brace">{</em>
<a id="L3493" name="L3493"></a>3493                        <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':');
<a id="L3494" name="L3494"></a>3494                        <a href="../S/1537.html#L3467" title="Defined at 3467 in src/java/time/format/DateTimeFormatterBuilder.java.">appendHMS</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, absSeconds);
<a id="L3495" name="L3495"></a>3495                     <em class="brace">}</em>
<a id="L3496" name="L3496"></a>3496                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3497" name="L3497"></a>3497                     <strong class="reserved">if</strong> (absHours &gt;= 10) <em class="brace">{</em>
<a id="L3498" name="L3498"></a>3498                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)(absHours / 10 + '0'));
<a id="L3499" name="L3499"></a>3499                     <em class="brace">}</em>
<a id="L3500" name="L3500"></a>3500                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)(absHours % 10 + '0'));
<a id="L3501" name="L3501"></a>3501                     <strong class="reserved">if</strong> (absMinutes != 0 || absSeconds != 0) <em class="brace">{</em>
<a id="L3502" name="L3502"></a>3502                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':');
<a id="L3503" name="L3503"></a>3503                         <a href="../S/1537.html#L3467" title="Defined at 3467 in src/java/time/format/DateTimeFormatterBuilder.java.">appendHMS</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, absMinutes);
<a id="L3504" name="L3504"></a>3504                         <strong class="reserved">if</strong> (absSeconds != 0) <em class="brace">{</em>
<a id="L3505" name="L3505"></a>3505                             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':');
<a id="L3506" name="L3506"></a>3506                             <a href="../S/1537.html#L3467" title="Defined at 3467 in src/java/time/format/DateTimeFormatterBuilder.java.">appendHMS</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, absSeconds);
<a id="L3507" name="L3507"></a>3507                         <em class="brace">}</em>
<a id="L3508" name="L3508"></a>3508                     <em class="brace">}</em>
<a id="L3509" name="L3509"></a>3509                 <em class="brace">}</em>
<a id="L3510" name="L3510"></a>3510             <em class="brace">}</em>
<a id="L3511" name="L3511"></a>3511             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3512" name="L3512"></a>3512         <em class="brace">}</em>
<a id="L3513" name="L3513"></a>3513 
<a id="L3514" name="L3514"></a>3514         <strong class="reserved">int</strong> <a href="../R/16154.html" title="Multiple referred from 18 places.">getDigit</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L3515" name="L3515"></a>3515             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3516" name="L3516"></a>3516             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt; '0' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt; '9') <em class="brace">{</em>
<a id="L3517" name="L3517"></a>3517                 <strong class="reserved">return</strong> -1;
<a id="L3518" name="L3518"></a>3518             <em class="brace">}</em>
<a id="L3519" name="L3519"></a>3519             <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> - '0';
<a id="L3520" name="L3520"></a>3520         <em class="brace">}</em>
<a id="L3521" name="L3521"></a>3521 
<a id="L3522" name="L3522"></a>3522         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3523" name="L3523"></a>3523         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L3524" name="L3524"></a>3524             <strong class="reserved">int</strong> pos = <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3525" name="L3525"></a>3525             <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = pos + <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3526" name="L3526"></a>3526             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> gmtText = "GMT";  <em class="comment">// TODO: get localized version of 'GMT'</em>
<a id="L3527" name="L3527"></a>3527             <strong class="reserved">if</strong> (gmtText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3528" name="L3528"></a>3528                 <strong class="reserved">if</strong> (!<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L208" title="Defined at 208 in src/java/time/format/DateTimeParseContext.java.">subSequenceEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos, gmtText, 0, gmtText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>())) <em class="brace">{</em>
<a id="L3529" name="L3529"></a>3529                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3530" name="L3530"></a>3530                 <em class="brace">}</em>
<a id="L3531" name="L3531"></a>3531                 pos += gmtText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3532" name="L3532"></a>3532             <em class="brace">}</em>
<a id="L3533" name="L3533"></a>3533             <em class="comment">// parse normal plus/minus offset</em>
<a id="L3534" name="L3534"></a>3534             <strong class="reserved">int</strong> negative = 0;
<a id="L3535" name="L3535"></a>3535             <strong class="reserved">if</strong> (pos == <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L3536" name="L3536"></a>3536                 <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>, 0, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, pos);
<a id="L3537" name="L3537"></a>3537             <em class="brace">}</em>
<a id="L3538" name="L3538"></a>3538             <strong class="reserved">char</strong> <a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos);  <em class="comment">// IOOBE if invalid position</em>
<a id="L3539" name="L3539"></a>3539             <strong class="reserved">if</strong> (<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == '+') <em class="brace">{</em>
<a id="L3540" name="L3540"></a>3540                 negative = 1;
<a id="L3541" name="L3541"></a>3541             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == '-') <em class="brace">{</em>
<a id="L3542" name="L3542"></a>3542                 negative = -1;
<a id="L3543" name="L3543"></a>3543             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3544" name="L3544"></a>3544                 <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>, 0, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, pos);
<a id="L3545" name="L3545"></a>3545             <em class="brace">}</em>
<a id="L3546" name="L3546"></a>3546             pos++;
<a id="L3547" name="L3547"></a>3547             <strong class="reserved">int</strong> h = 0;
<a id="L3548" name="L3548"></a>3548             <strong class="reserved">int</strong> m = 0;
<a id="L3549" name="L3549"></a>3549             <strong class="reserved">int</strong> s = 0;
<a id="L3550" name="L3550"></a>3550             <strong class="reserved">if</strong> (style == <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a>) <em class="brace">{</em>
<a id="L3551" name="L3551"></a>3551                 <strong class="reserved">int</strong> h1 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos++);
<a id="L3552" name="L3552"></a>3552                 <strong class="reserved">int</strong> h2 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos++);
<a id="L3553" name="L3553"></a>3553                 <strong class="reserved">if</strong> (h1 &lt; 0 || h2 &lt; 0 || <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos++) != ':') <em class="brace">{</em>
<a id="L3554" name="L3554"></a>3554                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3555" name="L3555"></a>3555                 <em class="brace">}</em>
<a id="L3556" name="L3556"></a>3556                 h = h1 * 10 + h2;
<a id="L3557" name="L3557"></a>3557                 <strong class="reserved">int</strong> m1 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos++);
<a id="L3558" name="L3558"></a>3558                 <strong class="reserved">int</strong> m2 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos++);
<a id="L3559" name="L3559"></a>3559                 <strong class="reserved">if</strong> (m1 &lt; 0 || m2 &lt; 0) <em class="brace">{</em>
<a id="L3560" name="L3560"></a>3560                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3561" name="L3561"></a>3561                 <em class="brace">}</em>
<a id="L3562" name="L3562"></a>3562                 m = m1 * 10 + m2;
<a id="L3563" name="L3563"></a>3563                 <strong class="reserved">if</strong> (pos + 2 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) == ':') <em class="brace">{</em>
<a id="L3564" name="L3564"></a>3564                     <strong class="reserved">int</strong> s1 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos + 1);
<a id="L3565" name="L3565"></a>3565                     <strong class="reserved">int</strong> s2 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos + 2);
<a id="L3566" name="L3566"></a>3566                     <strong class="reserved">if</strong> (s1 &gt;= 0 &amp;&amp; s2 &gt;= 0) <em class="brace">{</em>
<a id="L3567" name="L3567"></a>3567                         s = s1 * 10 + s2;
<a id="L3568" name="L3568"></a>3568                         pos += 3;
<a id="L3569" name="L3569"></a>3569                     <em class="brace">}</em>
<a id="L3570" name="L3570"></a>3570                 <em class="brace">}</em>
<a id="L3571" name="L3571"></a>3571             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3572" name="L3572"></a>3572                 h = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos++);
<a id="L3573" name="L3573"></a>3573                 <strong class="reserved">if</strong> (h &lt; 0) <em class="brace">{</em>
<a id="L3574" name="L3574"></a>3574                     <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3575" name="L3575"></a>3575                 <em class="brace">}</em>
<a id="L3576" name="L3576"></a>3576                 <strong class="reserved">if</strong> (pos &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L3577" name="L3577"></a>3577                     <strong class="reserved">int</strong> h2 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos);
<a id="L3578" name="L3578"></a>3578                     <strong class="reserved">if</strong> (h2 &gt;=0) <em class="brace">{</em>
<a id="L3579" name="L3579"></a>3579                         h = h * 10 + h2;
<a id="L3580" name="L3580"></a>3580                         pos++;
<a id="L3581" name="L3581"></a>3581                     <em class="brace">}</em>
<a id="L3582" name="L3582"></a>3582                     <strong class="reserved">if</strong> (pos + 2 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) == ':') <em class="brace">{</em>
<a id="L3583" name="L3583"></a>3583                         <strong class="reserved">if</strong> (pos + 2 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) == ':') <em class="brace">{</em>
<a id="L3584" name="L3584"></a>3584                             <strong class="reserved">int</strong> m1 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos + 1);
<a id="L3585" name="L3585"></a>3585                             <strong class="reserved">int</strong> m2 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos + 2);
<a id="L3586" name="L3586"></a>3586                             <strong class="reserved">if</strong> (m1 &gt;= 0 &amp;&amp; m2 &gt;= 0) <em class="brace">{</em>
<a id="L3587" name="L3587"></a>3587                                 m = m1 * 10 + m2;
<a id="L3588" name="L3588"></a>3588                                 pos += 3;
<a id="L3589" name="L3589"></a>3589                                 <strong class="reserved">if</strong> (pos + 2 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pos) == ':') <em class="brace">{</em>
<a id="L3590" name="L3590"></a>3590                                     <strong class="reserved">int</strong> s1 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos + 1);
<a id="L3591" name="L3591"></a>3591                                     <strong class="reserved">int</strong> s2 = <a href="../D/18477.html" title="Multiple defined in 3 places.">getDigit</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos + 2);
<a id="L3592" name="L3592"></a>3592                                     <strong class="reserved">if</strong> (s1 &gt;= 0 &amp;&amp; s2 &gt;= 0) <em class="brace">{</em>
<a id="L3593" name="L3593"></a>3593                                         s = s1 * 10 + s2;
<a id="L3594" name="L3594"></a>3594                                         pos += 3;
<a id="L3595" name="L3595"></a>3595                                    <em class="brace">}</em>
<a id="L3596" name="L3596"></a>3596                                 <em class="brace">}</em>
<a id="L3597" name="L3597"></a>3597                             <em class="brace">}</em>
<a id="L3598" name="L3598"></a>3598                         <em class="brace">}</em>
<a id="L3599" name="L3599"></a>3599                     <em class="brace">}</em>
<a id="L3600" name="L3600"></a>3600                 <em class="brace">}</em>
<a id="L3601" name="L3601"></a>3601             <em class="brace">}</em>
<a id="L3602" name="L3602"></a>3602             <strong class="reserved">long</strong> offsetSecs = negative * (h * 3600L + m * 60L + s);
<a id="L3603" name="L3603"></a>3603             <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L363" title="Defined at 363 in src/java/time/format/DateTimeParseContext.java.">setParsedField</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>, offsetSecs, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, pos);
<a id="L3604" name="L3604"></a>3604         <em class="brace">}</em>
<a id="L3605" name="L3605"></a>3605 
<a id="L3606" name="L3606"></a>3606         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3607" name="L3607"></a>3607         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L3608" name="L3608"></a>3608             <strong class="reserved">return</strong> "LocalizedOffset(" + style + ")";
<a id="L3609" name="L3609"></a>3609         <em class="brace">}</em>
<a id="L3610" name="L3610"></a>3610     <em class="brace">}</em>
<a id="L3611" name="L3611"></a>3611 
<a id="L3612" name="L3612"></a>3612     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses a zone ID.</div>
<a id="L3616" name="L3616"></a>3616     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/9353.html" title="Multiple referred from 2 places.">ZoneTextPrinterParser</a> <strong class="reserved">extends</strong> <a href="../S/1537.html#L3765" title="Defined at 3765 in src/java/time/format/DateTimeFormatterBuilder.java.">ZoneIdPrinterParser</a> <em class="brace">{</em>
<a id="L3617" name="L3617"></a>3617 
<div class="comment">
         /** The text style to output. */</div>
<a id="L3619" name="L3619"></a>3619         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle;
<a id="L3620" name="L3620"></a>3620 
<div class="comment">
         /** The preferred zoneid map */</div>
<a id="L3622" name="L3622"></a>3622         <strong class="reserved">private</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; preferredZones;
<a id="L3623" name="L3623"></a>3623 
<a id="L3624" name="L3624"></a>3624         ZoneTextPrinterParser(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>&gt; preferredZones) <em class="brace">{</em>
<a id="L3625" name="L3625"></a>3625             <strong class="reserved">super</strong>(<a href="../S/1481.html#L118" title="Defined at 118 in src/java/time/temporal/TemporalQueries.java.">TemporalQueries</a>.<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>(), "ZoneText(" + textStyle + ")");
<a id="L3626" name="L3626"></a>3626             <strong class="reserved">this</strong>.textStyle = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(textStyle, "textStyle");
<a id="L3627" name="L3627"></a>3627             <strong class="reserved">if</strong> (preferredZones != <strong class="reserved">null</strong> &amp;&amp; preferredZones.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() != 0) <em class="brace">{</em>
<a id="L3628" name="L3628"></a>3628                 <strong class="reserved">this</strong>.preferredZones = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;();
<a id="L3629" name="L3629"></a>3629                 <strong class="reserved">for</strong> (<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> : preferredZones) <em class="brace">{</em>
<a id="L3630" name="L3630"></a>3630                     <strong class="reserved">this</strong>.preferredZones.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L3631" name="L3631"></a>3631                 <em class="brace">}</em>
<a id="L3632" name="L3632"></a>3632             <em class="brace">}</em>
<a id="L3633" name="L3633"></a>3633         <em class="brace">}</em>
<a id="L3634" name="L3634"></a>3634 
<a id="L3635" name="L3635"></a>3635         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> STD = 0;
<a id="L3636" name="L3636"></a>3636         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DST = 1;
<a id="L3637" name="L3637"></a>3637         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> GENERIC = 2;
<a id="L3638" name="L3638"></a>3638         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]&gt;&gt;&gt; <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> =
<a id="L3639" name="L3639"></a>3639             <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;();
<a id="L3640" name="L3640"></a>3640 
<a id="L3641" name="L3641"></a>3641         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16189.html" title="Multiple referred from 20 places.">getDisplayName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L3642" name="L3642"></a>3642             <strong class="reserved">if</strong> (textStyle == <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L114" title="Defined at 114 in src/java/time/format/TextStyle.java.">NARROW</a>) <em class="brace">{</em>
<a id="L3643" name="L3643"></a>3643                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3644" name="L3644"></a>3644             <em class="brace">}</em>
<a id="L3645" name="L3645"></a>3645             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] names;
<a id="L3646" name="L3646"></a>3646             <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]&gt;&gt; <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L3647" name="L3647"></a>3647             <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]&gt; perLocale = <strong class="reserved">null</strong>;
<a id="L3648" name="L3648"></a>3648             <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> == <strong class="reserved">null</strong> || (perLocale = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>()) == <strong class="reserved">null</strong> ||
<a id="L3649" name="L3649"></a>3649                 (names = perLocale.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>)) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3650" name="L3650"></a>3650                 names = TimeZoneNameUtility.retrieveDisplayNames(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L3651" name="L3651"></a>3651                 <strong class="reserved">if</strong> (names == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3652" name="L3652"></a>3652                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3653" name="L3653"></a>3653                 <em class="brace">}</em>
<a id="L3654" name="L3654"></a>3654                 names = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13513.html" title="Multiple defined in 10 places.">copyOfRange</a>(names, 0, 7);
<a id="L3655" name="L3655"></a>3655                 names[5] =
<a id="L3656" name="L3656"></a>3656                     TimeZoneNameUtility.retrieveGenericDisplayName(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a>.LONG, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L3657" name="L3657"></a>3657                 <strong class="reserved">if</strong> (names[5] == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3658" name="L3658"></a>3658                     names[5] = names[0]; <em class="comment">// use the id</em>
<a id="L3659" name="L3659"></a>3659                 <em class="brace">}</em>
<a id="L3660" name="L3660"></a>3660                 names[6] =
<a id="L3661" name="L3661"></a>3661                     TimeZoneNameUtility.retrieveGenericDisplayName(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a>.<a href="../S/1535.html#L104" title="Defined at 104 in src/java/time/format/TextStyle.java.">SHORT</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L3662" name="L3662"></a>3662                 <strong class="reserved">if</strong> (names[6] == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3663" name="L3663"></a>3663                     names[6] = names[0];
<a id="L3664" name="L3664"></a>3664                 <em class="brace">}</em>
<a id="L3665" name="L3665"></a>3665                 <strong class="reserved">if</strong> (perLocale == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3666" name="L3666"></a>3666                     perLocale = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;();
<a id="L3667" name="L3667"></a>3667                 <em class="brace">}</em>
<a id="L3668" name="L3668"></a>3668                 perLocale.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, names);
<a id="L3669" name="L3669"></a>3669                 <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, <strong class="reserved">new</strong> <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;&gt;(perLocale));
<a id="L3670" name="L3670"></a>3670             <em class="brace">}</em>
<a id="L3671" name="L3671"></a>3671             <strong class="reserved">switch</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L3672" name="L3672"></a>3672             <strong class="reserved">case</strong> STD:
<a id="L3673" name="L3673"></a>3673                 <strong class="reserved">return</strong> names[textStyle.<a href="../S/1535.html#L172" title="Defined at 172 in src/java/time/format/TextStyle.java.">zoneNameStyleIndex</a>() + 1];
<a id="L3674" name="L3674"></a>3674             <strong class="reserved">case</strong> DST:
<a id="L3675" name="L3675"></a>3675                 <strong class="reserved">return</strong> names[textStyle.<a href="../S/1535.html#L172" title="Defined at 172 in src/java/time/format/TextStyle.java.">zoneNameStyleIndex</a>() + 3];
<a id="L3676" name="L3676"></a>3676             <em class="brace">}</em>
<a id="L3677" name="L3677"></a>3677             <strong class="reserved">return</strong> names[textStyle.<a href="../S/1535.html#L172" title="Defined at 172 in src/java/time/format/TextStyle.java.">zoneNameStyleIndex</a>() + 5];
<a id="L3678" name="L3678"></a>3678         <em class="brace">}</em>
<a id="L3679" name="L3679"></a>3679 
<a id="L3680" name="L3680"></a>3680         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3681" name="L3681"></a>3681         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L3682" name="L3682"></a>3682             <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../S/1481.html#L118" title="Defined at 118 in src/java/time/temporal/TemporalQueries.java.">TemporalQueries</a>.<a href="../S/1481.html#L167" title="Defined at 167 in src/java/time/temporal/TemporalQueries.java.">zoneId</a>());
<a id="L3683" name="L3683"></a>3683             <strong class="reserved">if</strong> (<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3684" name="L3684"></a>3684                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3685" name="L3685"></a>3685             <em class="brace">}</em>
<a id="L3686" name="L3686"></a>3686             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> zname = <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>();
<a id="L3687" name="L3687"></a>3687             <strong class="reserved">if</strong> (!(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> <strong class="reserved">instanceof</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>)) <em class="brace">{</em>
<a id="L3688" name="L3688"></a>3688                 <a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> dt = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1538.html#L230" title="Defined at 230 in src/java/time/format/DateTimePrintContext.java.">getTemporal</a>();
<a id="L3689" name="L3689"></a>3689                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/18520.html" title="Multiple defined in 28 places.">getDisplayName</a>(zname,
<a id="L3690" name="L3690"></a>3690                                              dt.<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L577" title="Defined at 577 in src/java/time/temporal/ChronoField.java.">INSTANT_SECONDS</a>)
<a id="L3691" name="L3691"></a>3691                                              ? (<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>.<a href="../D/22187.html" title="Multiple defined in 8 places.">getRules</a>().<a href="../S/1522.html#L803" title="Defined at 803 in src/java/time/zone/ZoneRules.java.">isDaylightSavings</a>(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(dt)) ? DST : STD)
<a id="L3692" name="L3692"></a>3692                                              : GENERIC,
<a id="L3693" name="L3693"></a>3693                                              <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L3694" name="L3694"></a>3694                 <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3695" name="L3695"></a>3695                     zname = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L3696" name="L3696"></a>3696                 <em class="brace">}</em>
<a id="L3697" name="L3697"></a>3697             <em class="brace">}</em>
<a id="L3698" name="L3698"></a>3698             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(zname);
<a id="L3699" name="L3699"></a>3699             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3700" name="L3700"></a>3700         <em class="brace">}</em>
<a id="L3701" name="L3701"></a>3701 
<a id="L3702" name="L3702"></a>3702         <em class="comment">// cache per instance for now</em>
<a id="L3703" name="L3703"></a>3703         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>, <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;<a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>&gt;&gt;&gt;
<a id="L3704" name="L3704"></a>3704             cachedTree = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L3705" name="L3705"></a>3705         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>, <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;<a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>&gt;&gt;&gt;
<a id="L3706" name="L3706"></a>3706             cachedTreeCI = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L3707" name="L3707"></a>3707 
<a id="L3708" name="L3708"></a>3708         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3709" name="L3709"></a>3709         <strong class="reserved">protected</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../R/19596.html" title="Multiple referred from 2 places.">getTree</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L3710" name="L3710"></a>3710             <strong class="reserved">if</strong> (textStyle == <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L114" title="Defined at 114 in src/java/time/format/TextStyle.java.">NARROW</a>) <em class="brace">{</em>
<a id="L3711" name="L3711"></a>3711                 <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/23283.html" title="Multiple defined in 7 places.">getTree</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L3712" name="L3712"></a>3712             <em class="brace">}</em>
<a id="L3713" name="L3713"></a>3713             <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>();
<a id="L3714" name="L3714"></a>3714             <strong class="reserved">boolean</strong> <a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a>();
<a id="L3715" name="L3715"></a>3715             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; regionIds = <a href="../S/1519.html#L129" title="Defined at 129 in src/java/time/zone/ZoneRulesProvider.java.">ZoneRulesProvider</a>.<a href="../D/17158.html" title="Multiple defined in 2 places.">getAvailableZoneIds</a>();
<a id="L3716" name="L3716"></a>3716             <strong class="reserved">int</strong> regionIdsSize = regionIds.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L3717" name="L3717"></a>3717 
<a id="L3718" name="L3718"></a>3718             <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>, <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;<a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>&gt;&gt;&gt; cached =
<a id="L3719" name="L3719"></a>3719                 <a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a> ? cachedTree : cachedTreeCI;
<a id="L3720" name="L3720"></a>3720 
<a id="L3721" name="L3721"></a>3721             <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;<a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>&gt;&gt; entry = <strong class="reserved">null</strong>;
<a id="L3722" name="L3722"></a>3722             <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> tree = <strong class="reserved">null</strong>;
<a id="L3723" name="L3723"></a>3723             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[][] zoneStrings = <strong class="reserved">null</strong>;
<a id="L3724" name="L3724"></a>3724             <strong class="reserved">if</strong> ((entry = cached.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>)) == <strong class="reserved">null</strong> ||
<a id="L3725" name="L3725"></a>3725                 (entry.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>() != regionIdsSize ||
<a id="L3726" name="L3726"></a>3726                 (tree = entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>().<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>()) == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L3727" name="L3727"></a>3727                 tree = <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>.<a href="../D/28103.html" title="Multiple defined in 2 places.">newTree</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L3728" name="L3728"></a>3728                 zoneStrings = TimeZoneNameUtility.<a href="../S/2455.html#L535" title="Defined at 535 in src/java/text/DateFormatSymbols.java.">getZoneStrings</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L3729" name="L3729"></a>3729                 <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] names : zoneStrings) <em class="brace">{</em>
<a id="L3730" name="L3730"></a>3730                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> zid = names[0];
<a id="L3731" name="L3731"></a>3731                     <strong class="reserved">if</strong> (!regionIds.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(zid)) <em class="brace">{</em>
<a id="L3732" name="L3732"></a>3732                         <strong class="reserved">continue</strong>;
<a id="L3733" name="L3733"></a>3733                     <em class="brace">}</em>
<a id="L3734" name="L3734"></a>3734                     tree.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(zid, zid);    <em class="comment">// don't convert zid -&gt; metazone</em>
<a id="L3735" name="L3735"></a>3735                     zid = <a href="../S/1545.html#L41" title="Defined at 41 in src/java/time/format/ZoneName.java.">ZoneName</a>.<a href="../D/35530.html" title="Multiple defined in 2 places.">toZid</a>(zid, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L3736" name="L3736"></a>3736                     <strong class="reserved">int</strong> i = textStyle == <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a> ? 1 : 2;
<a id="L3737" name="L3737"></a>3737                     <strong class="reserved">for</strong> (; i &lt; names.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i += 2) <em class="brace">{</em>
<a id="L3738" name="L3738"></a>3738                         tree.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(names[i], zid);
<a id="L3739" name="L3739"></a>3739                     <em class="brace">}</em>
<a id="L3740" name="L3740"></a>3740                 <em class="brace">}</em>
<a id="L3741" name="L3741"></a>3741                 <em class="comment">// if we have a set of preferred zones, need a copy and</em>
<a id="L3742" name="L3742"></a>3742                 <em class="comment">// add the preferred zones again to overwrite</em>
<a id="L3743" name="L3743"></a>3743                 <strong class="reserved">if</strong> (preferredZones != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3744" name="L3744"></a>3744                     <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] names : zoneStrings) <em class="brace">{</em>
<a id="L3745" name="L3745"></a>3745                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> zid = names[0];
<a id="L3746" name="L3746"></a>3746                         <strong class="reserved">if</strong> (!preferredZones.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(zid) || !regionIds.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(zid)) <em class="brace">{</em>
<a id="L3747" name="L3747"></a>3747                             <strong class="reserved">continue</strong>;
<a id="L3748" name="L3748"></a>3748                         <em class="brace">}</em>
<a id="L3749" name="L3749"></a>3749                         <strong class="reserved">int</strong> i = textStyle == <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a>.<a href="../S/1535.html#L94" title="Defined at 94 in src/java/time/format/TextStyle.java.">FULL</a> ? 1 : 2;
<a id="L3750" name="L3750"></a>3750                         <strong class="reserved">for</strong> (; i &lt; names.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i += 2) <em class="brace">{</em>
<a id="L3751" name="L3751"></a>3751                             tree.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(names[i], zid);
<a id="L3752" name="L3752"></a>3752                        <em class="brace">}</em>
<a id="L3753" name="L3753"></a>3753                     <em class="brace">}</em>
<a id="L3754" name="L3754"></a>3754                 <em class="brace">}</em>
<a id="L3755" name="L3755"></a>3755                 cached.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <strong class="reserved">new</strong> <a href="../S/1135.html#L714" title="Defined at 714 in src/java/util/AbstractMap.java.">SimpleImmutableEntry</a>&lt;&gt;(regionIdsSize, <strong class="reserved">new</strong> <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;&gt;(tree)));
<a id="L3756" name="L3756"></a>3756             <em class="brace">}</em>
<a id="L3757" name="L3757"></a>3757             <strong class="reserved">return</strong> tree;
<a id="L3758" name="L3758"></a>3758         <em class="brace">}</em>
<a id="L3759" name="L3759"></a>3759     <em class="brace">}</em>
<a id="L3760" name="L3760"></a>3760 
<a id="L3761" name="L3761"></a>3761     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses a zone ID.</div>
<a id="L3765" name="L3765"></a>3765     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/9344.html" title="Multiple referred from 4 places.">ZoneIdPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L3766" name="L3766"></a>3766         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1471.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalQuery.java.">TemporalQuery</a>&lt;<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>&gt; <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L3767" name="L3767"></a>3767         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>;
<a id="L3768" name="L3768"></a>3768 
<a id="L3769" name="L3769"></a>3769         ZoneIdPrinterParser(<a href="../S/1471.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalQuery.java.">TemporalQuery</a>&lt;<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>&gt; <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>) <em class="brace">{</em>
<a id="L3770" name="L3770"></a>3770             <strong class="reserved">this</strong>.<a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>;
<a id="L3771" name="L3771"></a>3771             <strong class="reserved">this</strong>.<a href="../D/14861.html" title="Multiple defined in 3 places.">description</a> = <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>;
<a id="L3772" name="L3772"></a>3772         <em class="brace">}</em>
<a id="L3773" name="L3773"></a>3773 
<a id="L3774" name="L3774"></a>3774         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3775" name="L3775"></a>3775         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L3776" name="L3776"></a>3776             <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>);
<a id="L3777" name="L3777"></a>3777             <strong class="reserved">if</strong> (<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3778" name="L3778"></a>3778                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3779" name="L3779"></a>3779             <em class="brace">}</em>
<a id="L3780" name="L3780"></a>3780             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L3781" name="L3781"></a>3781             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3782" name="L3782"></a>3782         <em class="brace">}</em>
<a id="L3783" name="L3783"></a>3783 
<div class="comment">
          The cached tree to speed up parsing.</div>
<a id="L3787" name="L3787"></a>3787         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>&gt; cachedPrefixTree;
<a id="L3788" name="L3788"></a>3788         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>&gt; cachedPrefixTreeCI;
<a id="L3789" name="L3789"></a>3789 
<a id="L3790" name="L3790"></a>3790         <strong class="reserved">protected</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../R/19596.html" title="Multiple referred from 2 places.">getTree</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L3791" name="L3791"></a>3791             <em class="comment">// prepare parse tree</em>
<a id="L3792" name="L3792"></a>3792             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; regionIds = <a href="../S/1519.html#L129" title="Defined at 129 in src/java/time/zone/ZoneRulesProvider.java.">ZoneRulesProvider</a>.<a href="../D/17158.html" title="Multiple defined in 2 places.">getAvailableZoneIds</a>();
<a id="L3793" name="L3793"></a>3793             <strong class="reserved">final</strong> <strong class="reserved">int</strong> regionIdsSize = regionIds.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L3794" name="L3794"></a>3794             <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>&gt; cached = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a>()
<a id="L3795" name="L3795"></a>3795                                                 ? cachedPrefixTree : cachedPrefixTreeCI;
<a id="L3796" name="L3796"></a>3796             <strong class="reserved">if</strong> (cached == <strong class="reserved">null</strong> || cached.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>() != regionIdsSize) <em class="brace">{</em>
<a id="L3797" name="L3797"></a>3797                 <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L3798" name="L3798"></a>3798                     cached = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a>() ? cachedPrefixTree : cachedPrefixTreeCI;
<a id="L3799" name="L3799"></a>3799                     <strong class="reserved">if</strong> (cached == <strong class="reserved">null</strong> || cached.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>() != regionIdsSize) <em class="brace">{</em>
<a id="L3800" name="L3800"></a>3800                         cached = <strong class="reserved">new</strong> <a href="../S/1135.html#L714" title="Defined at 714 in src/java/util/AbstractMap.java.">SimpleImmutableEntry</a>&lt;&gt;(regionIdsSize, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>.<a href="../D/28103.html" title="Multiple defined in 2 places.">newTree</a>(regionIds, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>));
<a id="L3801" name="L3801"></a>3801                         <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a>()) <em class="brace">{</em>
<a id="L3802" name="L3802"></a>3802                             cachedPrefixTree = cached;
<a id="L3803" name="L3803"></a>3803                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3804" name="L3804"></a>3804                             cachedPrefixTreeCI = cached;
<a id="L3805" name="L3805"></a>3805                         <em class="brace">}</em>
<a id="L3806" name="L3806"></a>3806                     <em class="brace">}</em>
<a id="L3807" name="L3807"></a>3807                 <em class="brace">}</em>
<a id="L3808" name="L3808"></a>3808             <em class="brace">}</em>
<a id="L3809" name="L3809"></a>3809             <strong class="reserved">return</strong> cached.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L3810" name="L3810"></a>3810         <em class="brace">}</em>
<a id="L3811" name="L3811"></a>3811 
<div class="comment">
          This implementation looks for the longest matching string.
          For example, parsing Etc/GMT-2 will return Etc/GMC-2 rather than just
          Etc/GMC although both are valid.</div>
<a id="L3817" name="L3817"></a>3817         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3818" name="L3818"></a>3818         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L3819" name="L3819"></a>3819             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L3820" name="L3820"></a>3820             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &gt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3821" name="L3821"></a>3821                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>();
<a id="L3822" name="L3822"></a>3822             <em class="brace">}</em>
<a id="L3823" name="L3823"></a>3823             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3824" name="L3824"></a>3824                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3825" name="L3825"></a>3825             <em class="brace">}</em>
<a id="L3826" name="L3826"></a>3826 
<a id="L3827" name="L3827"></a>3827             <em class="comment">// handle fixed time-zone IDs</em>
<a id="L3828" name="L3828"></a>3828             <strong class="reserved">char</strong> <a href="../S/5943.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/resolver/readers/TextCatalogReader.java.">nextChar</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3829" name="L3829"></a>3829             <strong class="reserved">if</strong> (<a href="../S/5943.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/resolver/readers/TextCatalogReader.java.">nextChar</a> == '+' || <a href="../S/5943.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/resolver/readers/TextCatalogReader.java.">nextChar</a> == '-') <em class="brace">{</em>
<a id="L3830" name="L3830"></a>3830                 <strong class="reserved">return</strong> <a href="../S/1537.html#L3871" title="Defined at 3871 in src/java/time/format/DateTimeFormatterBuilder.java.">parseOffsetBased</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.INSTANCE_ID_Z);
<a id="L3831" name="L3831"></a>3831             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 2) <em class="brace">{</em>
<a id="L3832" name="L3832"></a>3832                 <strong class="reserved">char</strong> nextNextChar = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 1);
<a id="L3833" name="L3833"></a>3833                 <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(<a href="../S/5943.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/resolver/readers/TextCatalogReader.java.">nextChar</a>, 'U') &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(nextNextChar, 'T')) <em class="brace">{</em>
<a id="L3834" name="L3834"></a>3834                     <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 3 &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 2), 'C')) <em class="brace">{</em>
<a id="L3835" name="L3835"></a>3835                         <strong class="reserved">return</strong> <a href="../S/1537.html#L3871" title="Defined at 3871 in src/java/time/format/DateTimeFormatterBuilder.java.">parseOffsetBased</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 3, <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.INSTANCE_ID_ZERO);
<a id="L3836" name="L3836"></a>3836                     <em class="brace">}</em>
<a id="L3837" name="L3837"></a>3837                     <strong class="reserved">return</strong> <a href="../S/1537.html#L3871" title="Defined at 3871 in src/java/time/format/DateTimeFormatterBuilder.java.">parseOffsetBased</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 2, <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.INSTANCE_ID_ZERO);
<a id="L3838" name="L3838"></a>3838                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(<a href="../S/5943.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/resolver/readers/TextCatalogReader.java.">nextChar</a>, 'G') &amp;&amp; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 3 &amp;&amp;
<a id="L3839" name="L3839"></a>3839                         <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(nextNextChar, 'M') &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 2), 'T')) <em class="brace">{</em>
<a id="L3840" name="L3840"></a>3840                     <strong class="reserved">return</strong> <a href="../S/1537.html#L3871" title="Defined at 3871 in src/java/time/format/DateTimeFormatterBuilder.java.">parseOffsetBased</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 3, <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.INSTANCE_ID_ZERO);
<a id="L3841" name="L3841"></a>3841                 <em class="brace">}</em>
<a id="L3842" name="L3842"></a>3842             <em class="brace">}</em>
<a id="L3843" name="L3843"></a>3843 
<a id="L3844" name="L3844"></a>3844             <em class="comment">// parse</em>
<a id="L3845" name="L3845"></a>3845             <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> tree = <a href="../D/23283.html" title="Multiple defined in 7 places.">getTree</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L3846" name="L3846"></a>3846             <a href="../S/2483.html#L57" title="Defined at 57 in src/java/text/ParsePosition.java.">ParsePosition</a> ppos = <strong class="reserved">new</strong> <a href="../S/2483.html#L57" title="Defined at 57 in src/java/text/ParsePosition.java.">ParsePosition</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3847" name="L3847"></a>3847             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> parsedZoneId = tree.<a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, ppos);
<a id="L3848" name="L3848"></a>3848             <strong class="reserved">if</strong> (parsedZoneId == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3849" name="L3849"></a>3849                 <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(<a href="../S/5943.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/resolver/readers/TextCatalogReader.java.">nextChar</a>, 'Z')) <em class="brace">{</em>
<a id="L3850" name="L3850"></a>3850                     <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/33515.html" title="Multiple defined in 2 places.">setParsed</a>(<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1157.html#L317" title="Defined at 317 in src/java/util/Date.java.">UTC</a>);
<a id="L3851" name="L3851"></a>3851                     <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 1;
<a id="L3852" name="L3852"></a>3852                 <em class="brace">}</em>
<a id="L3853" name="L3853"></a>3853                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3854" name="L3854"></a>3854             <em class="brace">}</em>
<a id="L3855" name="L3855"></a>3855             <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/33515.html" title="Multiple defined in 2 places.">setParsed</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(parsedZoneId));
<a id="L3856" name="L3856"></a>3856             <strong class="reserved">return</strong> ppos.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L3857" name="L3857"></a>3857         <em class="brace">}</em>
<a id="L3858" name="L3858"></a>3858 
<div class="comment">
          Parse an offset following a prefix and set the ZoneId if it is valid.
          To matching the parsing of ZoneId.of the values are not normalized
          to ZoneOffsets.
          @param context the parse context
          @param text the input text
          @param prefixPos start of the prefix
          @param position start of text after the prefix
          @param parser parser for the value after the prefix
          @return the position after the parse</div>
<a id="L3871" name="L3871"></a>3871         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/24585.html" title="Multiple referred from 4 places.">parseOffsetBased</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> prefixPos, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a> parser) <em class="brace">{</em>
<a id="L3872" name="L3872"></a>3872             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>().<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(prefixPos, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>).<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>();
<a id="L3873" name="L3873"></a>3873             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &gt;= <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L3874" name="L3874"></a>3874                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/33515.html" title="Multiple defined in 2 places.">setParsed</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>));
<a id="L3875" name="L3875"></a>3875                 <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3876" name="L3876"></a>3876             <em class="brace">}</em>
<a id="L3877" name="L3877"></a>3877 
<a id="L3878" name="L3878"></a>3878             <em class="comment">// '0' or 'Z' after prefix is not part of a valid ZoneId; use bare prefix</em>
<a id="L3879" name="L3879"></a>3879             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) == '0' ||
<a id="L3880" name="L3880"></a>3880                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L241" title="Defined at 241 in src/java/time/format/DateTimeParseContext.java.">charEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>), 'Z')) <em class="brace">{</em>
<a id="L3881" name="L3881"></a>3881                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/33515.html" title="Multiple defined in 2 places.">setParsed</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>));
<a id="L3882" name="L3882"></a>3882                 <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3883" name="L3883"></a>3883             <em class="brace">}</em>
<a id="L3884" name="L3884"></a>3884 
<a id="L3885" name="L3885"></a>3885             <a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> newContext = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>();
<a id="L3886" name="L3886"></a>3886             <strong class="reserved">int</strong> endPos = parser.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(newContext, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L3887" name="L3887"></a>3887             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3888" name="L3888"></a>3888                 <strong class="reserved">if</strong> (endPos &lt; 0) <em class="brace">{</em>
<a id="L3889" name="L3889"></a>3889                     <strong class="reserved">if</strong> (parser == <a href="../S/1537.html#L3301" title="Defined at 3301 in src/java/time/format/DateTimeFormatterBuilder.java.">OffsetIdPrinterParser</a>.INSTANCE_ID_Z) <em class="brace">{</em>
<a id="L3890" name="L3890"></a>3890                         <strong class="reserved">return</strong> ~prefixPos;
<a id="L3891" name="L3891"></a>3891                     <em class="brace">}</em>
<a id="L3892" name="L3892"></a>3892                     <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/33515.html" title="Multiple defined in 2 places.">setParsed</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>));
<a id="L3893" name="L3893"></a>3893                     <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L3894" name="L3894"></a>3894                 <em class="brace">}</em>
<a id="L3895" name="L3895"></a>3895                 <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = (<strong class="reserved">int</strong>) newContext.<a href="../S/1546.html#L347" title="Defined at 347 in src/java/time/format/DateTimeParseContext.java.">getParsed</a>(<a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>).<a href="../D/27086.html" title="Multiple defined in 24 places.">longValue</a>();
<a id="L3896" name="L3896"></a>3896                 <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> zoneOffset = <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1553.html#L413" title="Defined at 413 in src/java/time/ZoneOffset.java.">ofTotalSeconds</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L3897" name="L3897"></a>3897                 <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/33515.html" title="Multiple defined in 2 places.">setParsed</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>.<a href="../S/1533.html#L375" title="Defined at 375 in src/java/time/ZoneId.java.">ofOffset</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, zoneOffset));
<a id="L3898" name="L3898"></a>3898                 <strong class="reserved">return</strong> endPos;
<a id="L3899" name="L3899"></a>3899             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a> dte) <em class="brace">{</em>
<a id="L3900" name="L3900"></a>3900                 <strong class="reserved">return</strong> ~prefixPos;
<a id="L3901" name="L3901"></a>3901             <em class="brace">}</em>
<a id="L3902" name="L3902"></a>3902         <em class="brace">}</em>
<a id="L3903" name="L3903"></a>3903 
<a id="L3904" name="L3904"></a>3904         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3905" name="L3905"></a>3905         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L3906" name="L3906"></a>3906             <strong class="reserved">return</strong> <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>;
<a id="L3907" name="L3907"></a>3907         <em class="brace">}</em>
<a id="L3908" name="L3908"></a>3908     <em class="brace">}</em>
<a id="L3909" name="L3909"></a>3909 
<a id="L3910" name="L3910"></a>3910     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      A String based prefix tree for parsing time-zone names.</div>
<a id="L3914" name="L3914"></a>3914     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6198.html" title="Multiple referred from 35 places.">PrefixTree</a> <em class="brace">{</em>
<a id="L3915" name="L3915"></a>3915         <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L3916" name="L3916"></a>3916         <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L3917" name="L3917"></a>3917         <strong class="reserved">protected</strong> <strong class="reserved">char</strong> c0;    <em class="comment">// performance optimization to avoid the</em>
<a id="L3918" name="L3918"></a>3918                               <em class="comment">// boundary check cost of key.charat(0)</em>
<a id="L3919" name="L3919"></a>3919         <strong class="reserved">protected</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> child;
<a id="L3920" name="L3920"></a>3920         <strong class="reserved">protected</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> sibling;
<a id="L3921" name="L3921"></a>3921 
<a id="L3922" name="L3922"></a>3922         <strong class="reserved">private</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v, PrefixTree child) <em class="brace">{</em>
<a id="L3923" name="L3923"></a>3923             <strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = k;
<a id="L3924" name="L3924"></a>3924             <strong class="reserved">this</strong>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = v;
<a id="L3925" name="L3925"></a>3925             <strong class="reserved">this</strong>.child = child;
<a id="L3926" name="L3926"></a>3926             <strong class="reserved">if</strong> (k.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)<em class="brace">{</em>
<a id="L3927" name="L3927"></a>3927                 c0 = 0xffff;
<a id="L3928" name="L3928"></a>3928             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3929" name="L3929"></a>3929                 c0 = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L3930" name="L3930"></a>3930             <em class="brace">}</em>
<a id="L3931" name="L3931"></a>3931         <em class="brace">}</em>
<a id="L3932" name="L3932"></a>3932 
<div class="comment">
          Creates a new prefix parsing tree based on parse context.
          @param context  the parse context
          @return the tree, not null</div>
<a id="L3939" name="L3939"></a>3939         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../R/23633.html" title="Multiple referred from 6 places.">newTree</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L3940" name="L3940"></a>3940             <em class="comment">//if (!context.isStrict()) {</em>
<a id="L3941" name="L3941"></a>3941             <em class="comment">//    return new LENIENT("", null, null);</em>
<a id="L3942" name="L3942"></a>3942             <em class="comment">//}</em>
<a id="L3943" name="L3943"></a>3943             <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/25282.html" title="Multiple defined in 3 places.">isCaseSensitive</a>()) <em class="brace">{</em>
<a id="L3944" name="L3944"></a>3944                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>("", <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L3945" name="L3945"></a>3945             <em class="brace">}</em>
<a id="L3946" name="L3946"></a>3946             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L4135" title="Defined at 4135 in src/java/time/format/DateTimeFormatterBuilder.java.">CI</a>("", <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L3947" name="L3947"></a>3947         <em class="brace">}</em>
<a id="L3948" name="L3948"></a>3948 
<div class="comment">
          Creates a new prefix parsing tree.
          @param keys  a set of strings to build the prefix parsing tree, not null
          @param context  the parse context
          @return the tree, not null</div>
<a id="L3956" name="L3956"></a>3956         <strong class="reserved">public</strong> <strong class="reserved">static</strong>  <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../R/23633.html" title="Multiple referred from 6 places.">newTree</a>(<a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>, <a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L3957" name="L3957"></a>3957             <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> tree = <a href="../D/28103.html" title="Multiple defined in 2 places.">newTree</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L3958" name="L3958"></a>3958             <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k : <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>) <em class="brace">{</em>
<a id="L3959" name="L3959"></a>3959                 tree.<a href="../S/1537.html#L3990" title="Defined at 3990 in src/java/time/format/DateTimeFormatterBuilder.java.">add0</a>(k, k);
<a id="L3960" name="L3960"></a>3960             <em class="brace">}</em>
<a id="L3961" name="L3961"></a>3961             <strong class="reserved">return</strong> tree;
<a id="L3962" name="L3962"></a>3962         <em class="brace">}</em>
<a id="L3963" name="L3963"></a>3963 
<div class="comment">
          Clone a copy of this tree</div>
<a id="L3967" name="L3967"></a>3967         <strong class="reserved">public</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../R/12140.html" title="Multiple referred from 2 places.">copyTree</a>() <em class="brace">{</em>
<a id="L3968" name="L3968"></a>3968             <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = <strong class="reserved">new</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">null</strong>);
<a id="L3969" name="L3969"></a>3969             <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3970" name="L3970"></a>3970                 <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.child = child.<a href="../S/1537.html#L3967" title="Defined at 3967 in src/java/time/format/DateTimeFormatterBuilder.java.">copyTree</a>();
<a id="L3971" name="L3971"></a>3971             <em class="brace">}</em>
<a id="L3972" name="L3972"></a>3972             <strong class="reserved">if</strong> (sibling != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3973" name="L3973"></a>3973                 <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.sibling = sibling.<a href="../S/1537.html#L3967" title="Defined at 3967 in src/java/time/format/DateTimeFormatterBuilder.java.">copyTree</a>();
<a id="L3974" name="L3974"></a>3974             <em class="brace">}</em>
<a id="L3975" name="L3975"></a>3975             <strong class="reserved">return</strong> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>;
<a id="L3976" name="L3976"></a>3976         <em class="brace">}</em>
<a id="L3977" name="L3977"></a>3977 
<a id="L3978" name="L3978"></a>3978 
<div class="comment">
          Adds a pair of {key, value} into the prefix tree.
          @param k  the key, not null
          @param v  the value, not null
          @return  true if the pair is added successfully</div>
<a id="L3986" name="L3986"></a>3986         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v) <em class="brace">{</em>
<a id="L3987" name="L3987"></a>3987             <strong class="reserved">return</strong> <a href="../S/1537.html#L3990" title="Defined at 3990 in src/java/time/format/DateTimeFormatterBuilder.java.">add0</a>(k, v);
<a id="L3988" name="L3988"></a>3988         <em class="brace">}</em>
<a id="L3989" name="L3989"></a>3989 
<a id="L3990" name="L3990"></a>3990         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/9593.html" title="Multiple referred from 3 places.">add0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v) <em class="brace">{</em>
<a id="L3991" name="L3991"></a>3991             k = <a href="../D/35426.html" title="Multiple defined in 2 places.">toKey</a>(k);
<a id="L3992" name="L3992"></a>3992             <strong class="reserved">int</strong> prefixLen = <a href="../D/29549.html" title="Multiple defined in 3 places.">prefixLength</a>(k);
<a id="L3993" name="L3993"></a>3993             <strong class="reserved">if</strong> (prefixLen == <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L3994" name="L3994"></a>3994                 <strong class="reserved">if</strong> (prefixLen &lt; k.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>  <em class="comment">// down the tree</em>
<a id="L3995" name="L3995"></a>3995                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> subKey = k.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(prefixLen);
<a id="L3996" name="L3996"></a>3996                     <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = child;
<a id="L3997" name="L3997"></a>3997                     <strong class="reserved">while</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3998" name="L3998"></a>3998                         <strong class="reserved">if</strong> (<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.c0, subKey.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0))) <em class="brace">{</em>
<a id="L3999" name="L3999"></a>3999                             <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/1537.html#L3990" title="Defined at 3990 in src/java/time/format/DateTimeFormatterBuilder.java.">add0</a>(subKey, v);
<a id="L4000" name="L4000"></a>4000                         <em class="brace">}</em>
<a id="L4001" name="L4001"></a>4001                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.sibling;
<a id="L4002" name="L4002"></a>4002                     <em class="brace">}</em>
<a id="L4003" name="L4003"></a>4003                     <em class="comment">// add the node as the child of the current node</em>
<a id="L4004" name="L4004"></a>4004                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/28045.html" title="Multiple defined in 5 places.">newNode</a>(subKey, v, <strong class="reserved">null</strong>);
<a id="L4005" name="L4005"></a>4005                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.sibling = child;
<a id="L4006" name="L4006"></a>4006                     child = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L4007" name="L4007"></a>4007                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L4008" name="L4008"></a>4008                 <em class="brace">}</em>
<a id="L4009" name="L4009"></a>4009                 <em class="comment">// have an existing &lt;key, value&gt; already, overwrite it</em>
<a id="L4010" name="L4010"></a>4010                 <em class="comment">// if (value != null) {</em>
<a id="L4011" name="L4011"></a>4011                 <em class="comment">//    return false;</em>
<a id="L4012" name="L4012"></a>4012                 <em class="comment">//}</em>
<a id="L4013" name="L4013"></a>4013                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = v;
<a id="L4014" name="L4014"></a>4014                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L4015" name="L4015"></a>4015             <em class="brace">}</em>
<a id="L4016" name="L4016"></a>4016             <em class="comment">// split the existing node</em>
<a id="L4017" name="L4017"></a>4017             <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> n1 = <a href="../D/28045.html" title="Multiple defined in 5 places.">newNode</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(prefixLen), <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, child);
<a id="L4018" name="L4018"></a>4018             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = k.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, prefixLen);
<a id="L4019" name="L4019"></a>4019             child = n1;
<a id="L4020" name="L4020"></a>4020             <strong class="reserved">if</strong> (prefixLen &lt; k.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L4021" name="L4021"></a>4021                 <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> n2 = <a href="../D/28045.html" title="Multiple defined in 5 places.">newNode</a>(k.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(prefixLen), v, <strong class="reserved">null</strong>);
<a id="L4022" name="L4022"></a>4022                 child.sibling = n2;
<a id="L4023" name="L4023"></a>4023                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>;
<a id="L4024" name="L4024"></a>4024             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4025" name="L4025"></a>4025                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = v;
<a id="L4026" name="L4026"></a>4026             <em class="brace">}</em>
<a id="L4027" name="L4027"></a>4027             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L4028" name="L4028"></a>4028         <em class="brace">}</em>
<a id="L4029" name="L4029"></a>4029 
<div class="comment">
          Match text with the prefix tree.
          @param text  the input text to parse, not null
          @param off  the offset position to start parsing at
          @param end  the end position to stop parsing
          @return the resulting string, or null if no match found.</div>
<a id="L4038" name="L4038"></a>4038         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/23117.html" title="Multiple referred from 460 places.">match</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4039" name="L4039"></a>4039             <strong class="reserved">if</strong> (!<a href="../D/29550.html" title="Multiple defined in 2 places.">prefixOf</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, off, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>))<em class="brace">{</em>
<a id="L4040" name="L4040"></a>4040                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4041" name="L4041"></a>4041             <em class="brace">}</em>
<a id="L4042" name="L4042"></a>4042             <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong> &amp;&amp; (off += <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) != <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4043" name="L4043"></a>4043                 <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = child;
<a id="L4044" name="L4044"></a>4044                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L4045" name="L4045"></a>4045                     <strong class="reserved">if</strong> (<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.c0, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off))) <em class="brace">{</em>
<a id="L4046" name="L4046"></a>4046                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> found = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, off, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L4047" name="L4047"></a>4047                         <strong class="reserved">if</strong> (found != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4048" name="L4048"></a>4048                             <strong class="reserved">return</strong> found;
<a id="L4049" name="L4049"></a>4049                         <em class="brace">}</em>
<a id="L4050" name="L4050"></a>4050                         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L4051" name="L4051"></a>4051                     <em class="brace">}</em>
<a id="L4052" name="L4052"></a>4052                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.sibling;
<a id="L4053" name="L4053"></a>4053                 <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>);
<a id="L4054" name="L4054"></a>4054             <em class="brace">}</em>
<a id="L4055" name="L4055"></a>4055             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L4056" name="L4056"></a>4056         <em class="brace">}</em>
<a id="L4057" name="L4057"></a>4057 
<div class="comment">
          Match text with the prefix tree.
          @param text  the input text to parse, not null
          @param pos  the position to start parsing at, from 0 to the text
           length. Upon return, position will be updated to the new parse
           position, or unchanged, if no match found.
          @return the resulting string, or null if no match found.</div>
<a id="L4067" name="L4067"></a>4067         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/23117.html" title="Multiple referred from 460 places.">match</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/2483.html#L57" title="Defined at 57 in src/java/text/ParsePosition.java.">ParsePosition</a> pos) <em class="brace">{</em>
<a id="L4068" name="L4068"></a>4068             <strong class="reserved">int</strong> off = pos.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L4069" name="L4069"></a>4069             <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4070" name="L4070"></a>4070             <strong class="reserved">if</strong> (!<a href="../D/29550.html" title="Multiple defined in 2 places.">prefixOf</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, off, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>))<em class="brace">{</em>
<a id="L4071" name="L4071"></a>4071                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4072" name="L4072"></a>4072             <em class="brace">}</em>
<a id="L4073" name="L4073"></a>4073             off += <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4074" name="L4074"></a>4074             <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong> &amp;&amp; off != <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4075" name="L4075"></a>4075                 <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = child;
<a id="L4076" name="L4076"></a>4076                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L4077" name="L4077"></a>4077                     <strong class="reserved">if</strong> (<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.c0, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off))) <em class="brace">{</em>
<a id="L4078" name="L4078"></a>4078                         pos.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(off);
<a id="L4079" name="L4079"></a>4079                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> found = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos);
<a id="L4080" name="L4080"></a>4080                         <strong class="reserved">if</strong> (found != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4081" name="L4081"></a>4081                             <strong class="reserved">return</strong> found;
<a id="L4082" name="L4082"></a>4082                         <em class="brace">}</em>
<a id="L4083" name="L4083"></a>4083                         <strong class="reserved">break</strong>;
<a id="L4084" name="L4084"></a>4084                     <em class="brace">}</em>
<a id="L4085" name="L4085"></a>4085                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.sibling;
<a id="L4086" name="L4086"></a>4086                 <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>);
<a id="L4087" name="L4087"></a>4087             <em class="brace">}</em>
<a id="L4088" name="L4088"></a>4088             pos.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(off);
<a id="L4089" name="L4089"></a>4089             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L4090" name="L4090"></a>4090         <em class="brace">}</em>
<a id="L4091" name="L4091"></a>4091 
<a id="L4092" name="L4092"></a>4092         <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29281.html" title="Multiple referred from 102 places.">toKey</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k) <em class="brace">{</em>
<a id="L4093" name="L4093"></a>4093             <strong class="reserved">return</strong> k;
<a id="L4094" name="L4094"></a>4094         <em class="brace">}</em>
<a id="L4095" name="L4095"></a>4095 
<a id="L4096" name="L4096"></a>4096         <strong class="reserved">protected</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../R/23588.html" title="Multiple referred from 185 places.">newNode</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> child) <em class="brace">{</em>
<a id="L4097" name="L4097"></a>4097             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a>(k, v, child);
<a id="L4098" name="L4098"></a>4098         <em class="brace">}</em>
<a id="L4099" name="L4099"></a>4099 
<a id="L4100" name="L4100"></a>4100         <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21418.html" title="Multiple referred from 29 places.">isEqual</a>(<strong class="reserved">char</strong> c1, <strong class="reserved">char</strong> c2) <em class="brace">{</em>
<a id="L4101" name="L4101"></a>4101             <strong class="reserved">return</strong> c1 == c2;
<a id="L4102" name="L4102"></a>4102         <em class="brace">}</em>
<a id="L4103" name="L4103"></a>4103 
<a id="L4104" name="L4104"></a>4104         <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/24921.html" title="Multiple referred from 2 places.">prefixOf</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4105" name="L4105"></a>4105             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <em class="brace">{</em>
<a id="L4106" name="L4106"></a>4106                 <strong class="reserved">return</strong> ((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>).<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, off);
<a id="L4107" name="L4107"></a>4107             <em class="brace">}</em>
<a id="L4108" name="L4108"></a>4108             <strong class="reserved">int</strong> len = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4109" name="L4109"></a>4109             <strong class="reserved">if</strong> (len &gt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - off) <em class="brace">{</em>
<a id="L4110" name="L4110"></a>4110                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L4111" name="L4111"></a>4111             <em class="brace">}</em>
<a id="L4112" name="L4112"></a>4112             <strong class="reserved">int</strong> off0 = 0;
<a id="L4113" name="L4113"></a>4113             <strong class="reserved">while</strong> (len-- &gt; 0) <em class="brace">{</em>
<a id="L4114" name="L4114"></a>4114                 <strong class="reserved">if</strong> (!<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off0++), <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off++))) <em class="brace">{</em>
<a id="L4115" name="L4115"></a>4115                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L4116" name="L4116"></a>4116                 <em class="brace">}</em>
<a id="L4117" name="L4117"></a>4117             <em class="brace">}</em>
<a id="L4118" name="L4118"></a>4118             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L4119" name="L4119"></a>4119         <em class="brace">}</em>
<a id="L4120" name="L4120"></a>4120 
<a id="L4121" name="L4121"></a>4121         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/24920.html" title="Multiple referred from 34 places.">prefixLength</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k) <em class="brace">{</em>
<a id="L4122" name="L4122"></a>4122             <strong class="reserved">int</strong> off = 0;
<a id="L4123" name="L4123"></a>4123             <strong class="reserved">while</strong> (off &lt; k.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &amp;&amp; off &lt; <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L4124" name="L4124"></a>4124                 <strong class="reserved">if</strong> (!<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(k.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off), <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off))) <em class="brace">{</em>
<a id="L4125" name="L4125"></a>4125                     <strong class="reserved">return</strong> off;
<a id="L4126" name="L4126"></a>4126                 <em class="brace">}</em>
<a id="L4127" name="L4127"></a>4127                 off++;
<a id="L4128" name="L4128"></a>4128             <em class="brace">}</em>
<a id="L4129" name="L4129"></a>4129             <strong class="reserved">return</strong> off;
<a id="L4130" name="L4130"></a>4130         <em class="brace">}</em>
<a id="L4131" name="L4131"></a>4131 
<div class="comment">
          Case Insensitive prefix tree.</div>
<a id="L4135" name="L4135"></a>4135         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1055.html" title="Multiple referred from 5 places.">CI</a> <strong class="reserved">extends</strong> <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <em class="brace">{</em>
<a id="L4136" name="L4136"></a>4136 
<a id="L4137" name="L4137"></a>4137             <strong class="reserved">private</strong> CI(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> child) <em class="brace">{</em>
<a id="L4138" name="L4138"></a>4138                 <strong class="reserved">super</strong>(k, v, child);
<a id="L4139" name="L4139"></a>4139             <em class="brace">}</em>
<a id="L4140" name="L4140"></a>4140 
<a id="L4141" name="L4141"></a>4141             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4142" name="L4142"></a>4142             <strong class="reserved">protected</strong> <a href="../S/1537.html#L4135" title="Defined at 4135 in src/java/time/format/DateTimeFormatterBuilder.java.">CI</a> <a href="../R/23588.html" title="Multiple referred from 185 places.">newNode</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> child) <em class="brace">{</em>
<a id="L4143" name="L4143"></a>4143                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L4135" title="Defined at 4135 in src/java/time/format/DateTimeFormatterBuilder.java.">CI</a>(k, v, child);
<a id="L4144" name="L4144"></a>4144             <em class="brace">}</em>
<a id="L4145" name="L4145"></a>4145 
<a id="L4146" name="L4146"></a>4146             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4147" name="L4147"></a>4147             <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21418.html" title="Multiple referred from 29 places.">isEqual</a>(<strong class="reserved">char</strong> c1, <strong class="reserved">char</strong> c2) <em class="brace">{</em>
<a id="L4148" name="L4148"></a>4148                 <strong class="reserved">return</strong> <a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a>.<a href="../S/1546.html#L255" title="Defined at 255 in src/java/time/format/DateTimeParseContext.java.">charEqualsIgnoreCase</a>(c1, c2);
<a id="L4149" name="L4149"></a>4149             <em class="brace">}</em>
<a id="L4150" name="L4150"></a>4150 
<a id="L4151" name="L4151"></a>4151             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4152" name="L4152"></a>4152             <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/24921.html" title="Multiple referred from 2 places.">prefixOf</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4153" name="L4153"></a>4153                 <strong class="reserved">int</strong> len = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4154" name="L4154"></a>4154                 <strong class="reserved">if</strong> (len &gt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - off) <em class="brace">{</em>
<a id="L4155" name="L4155"></a>4155                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L4156" name="L4156"></a>4156                 <em class="brace">}</em>
<a id="L4157" name="L4157"></a>4157                 <strong class="reserved">int</strong> off0 = 0;
<a id="L4158" name="L4158"></a>4158                 <strong class="reserved">while</strong> (len-- &gt; 0) <em class="brace">{</em>
<a id="L4159" name="L4159"></a>4159                     <strong class="reserved">if</strong> (!<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off0++), <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off++))) <em class="brace">{</em>
<a id="L4160" name="L4160"></a>4160                         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L4161" name="L4161"></a>4161                     <em class="brace">}</em>
<a id="L4162" name="L4162"></a>4162                 <em class="brace">}</em>
<a id="L4163" name="L4163"></a>4163                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L4164" name="L4164"></a>4164             <em class="brace">}</em>
<a id="L4165" name="L4165"></a>4165         <em class="brace">}</em>
<a id="L4166" name="L4166"></a>4166 
<div class="comment">
          Lenient prefix tree. Case insensitive and ignores characters
          like space, underscore and slash.</div>
<a id="L4171" name="L4171"></a>4171         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/4443.html" title="Multiple referred from 34 places.">LENIENT</a> <strong class="reserved">extends</strong> <a href="../S/1537.html#L4135" title="Defined at 4135 in src/java/time/format/DateTimeFormatterBuilder.java.">CI</a> <em class="brace">{</em>
<a id="L4172" name="L4172"></a>4172 
<a id="L4173" name="L4173"></a>4173             <strong class="reserved">private</strong> LENIENT(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> child) <em class="brace">{</em>
<a id="L4174" name="L4174"></a>4174                 <strong class="reserved">super</strong>(k, v, child);
<a id="L4175" name="L4175"></a>4175             <em class="brace">}</em>
<a id="L4176" name="L4176"></a>4176 
<a id="L4177" name="L4177"></a>4177             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4178" name="L4178"></a>4178             <strong class="reserved">protected</strong> <a href="../S/1537.html#L4135" title="Defined at 4135 in src/java/time/format/DateTimeFormatterBuilder.java.">CI</a> <a href="../R/23588.html" title="Multiple referred from 185 places.">newNode</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v, <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> child) <em class="brace">{</em>
<a id="L4179" name="L4179"></a>4179                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>(k, v, child);
<a id="L4180" name="L4180"></a>4180             <em class="brace">}</em>
<a id="L4181" name="L4181"></a>4181 
<a id="L4182" name="L4182"></a>4182             <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/21656.html" title="Multiple referred from 4 places.">isLenientChar</a>(<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L4183" name="L4183"></a>4183                 <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ' ' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '_' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '/';
<a id="L4184" name="L4184"></a>4184             <em class="brace">}</em>
<a id="L4185" name="L4185"></a>4185 
<a id="L4186" name="L4186"></a>4186             <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29281.html" title="Multiple referred from 102 places.">toKey</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> k) <em class="brace">{</em>
<a id="L4187" name="L4187"></a>4187                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; k.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); i++) <em class="brace">{</em>
<a id="L4188" name="L4188"></a>4188                     <strong class="reserved">if</strong> (<a href="../S/1537.html#L4182" title="Defined at 4182 in src/java/time/format/DateTimeFormatterBuilder.java.">isLenientChar</a>(k.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i))) <em class="brace">{</em>
<a id="L4189" name="L4189"></a>4189                         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(k.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L4190" name="L4190"></a>4190                         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(k, 0, i);
<a id="L4191" name="L4191"></a>4191                         i++;
<a id="L4192" name="L4192"></a>4192                         <strong class="reserved">while</strong> (i &lt; k.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L4193" name="L4193"></a>4193                             <strong class="reserved">if</strong> (!<a href="../S/1537.html#L4182" title="Defined at 4182 in src/java/time/format/DateTimeFormatterBuilder.java.">isLenientChar</a>(k.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i))) <em class="brace">{</em>
<a id="L4194" name="L4194"></a>4194                                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(k.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i));
<a id="L4195" name="L4195"></a>4195                             <em class="brace">}</em>
<a id="L4196" name="L4196"></a>4196                             i++;
<a id="L4197" name="L4197"></a>4197                         <em class="brace">}</em>
<a id="L4198" name="L4198"></a>4198                         <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L4199" name="L4199"></a>4199                     <em class="brace">}</em>
<a id="L4200" name="L4200"></a>4200                 <em class="brace">}</em>
<a id="L4201" name="L4201"></a>4201                 <strong class="reserved">return</strong> k;
<a id="L4202" name="L4202"></a>4202             <em class="brace">}</em>
<a id="L4203" name="L4203"></a>4203 
<a id="L4204" name="L4204"></a>4204             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4205" name="L4205"></a>4205             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/23117.html" title="Multiple referred from 460 places.">match</a>(<a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/2483.html#L57" title="Defined at 57 in src/java/text/ParsePosition.java.">ParsePosition</a> pos) <em class="brace">{</em>
<a id="L4206" name="L4206"></a>4206                 <strong class="reserved">int</strong> off = pos.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L4207" name="L4207"></a>4207                 <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4208" name="L4208"></a>4208                 <strong class="reserved">int</strong> len = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4209" name="L4209"></a>4209                 <strong class="reserved">int</strong> koff = 0;
<a id="L4210" name="L4210"></a>4210                 <strong class="reserved">while</strong> (koff &lt; len &amp;&amp; off &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4211" name="L4211"></a>4211                     <strong class="reserved">if</strong> (<a href="../S/1537.html#L4182" title="Defined at 4182 in src/java/time/format/DateTimeFormatterBuilder.java.">isLenientChar</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off))) <em class="brace">{</em>
<a id="L4212" name="L4212"></a>4212                         off++;
<a id="L4213" name="L4213"></a>4213                         <strong class="reserved">continue</strong>;
<a id="L4214" name="L4214"></a>4214                     <em class="brace">}</em>
<a id="L4215" name="L4215"></a>4215                     <strong class="reserved">if</strong> (!<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(koff++), <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off++))) <em class="brace">{</em>
<a id="L4216" name="L4216"></a>4216                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4217" name="L4217"></a>4217                     <em class="brace">}</em>
<a id="L4218" name="L4218"></a>4218                 <em class="brace">}</em>
<a id="L4219" name="L4219"></a>4219                 <strong class="reserved">if</strong> (koff != len) <em class="brace">{</em>
<a id="L4220" name="L4220"></a>4220                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4221" name="L4221"></a>4221                 <em class="brace">}</em>
<a id="L4222" name="L4222"></a>4222                 <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong> &amp;&amp; off != <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4223" name="L4223"></a>4223                     <strong class="reserved">int</strong> off0 = off;
<a id="L4224" name="L4224"></a>4224                     <strong class="reserved">while</strong> (off0 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp; <a href="../S/1537.html#L4182" title="Defined at 4182 in src/java/time/format/DateTimeFormatterBuilder.java.">isLenientChar</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off0))) <em class="brace">{</em>
<a id="L4225" name="L4225"></a>4225                         off0++;
<a id="L4226" name="L4226"></a>4226                     <em class="brace">}</em>
<a id="L4227" name="L4227"></a>4227                     <strong class="reserved">if</strong> (off0 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L4228" name="L4228"></a>4228                         <a href="../S/1537.html#L3914" title="Defined at 3914 in src/java/time/format/DateTimeFormatterBuilder.java.">PrefixTree</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = child;
<a id="L4229" name="L4229"></a>4229                         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L4230" name="L4230"></a>4230                             <strong class="reserved">if</strong> (<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.c0, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(off0))) <em class="brace">{</em>
<a id="L4231" name="L4231"></a>4231                                 pos.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(off0);
<a id="L4232" name="L4232"></a>4232                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> found = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos);
<a id="L4233" name="L4233"></a>4233                                 <strong class="reserved">if</strong> (found != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4234" name="L4234"></a>4234                                     <strong class="reserved">return</strong> found;
<a id="L4235" name="L4235"></a>4235                                 <em class="brace">}</em>
<a id="L4236" name="L4236"></a>4236                                 <strong class="reserved">break</strong>;
<a id="L4237" name="L4237"></a>4237                             <em class="brace">}</em>
<a id="L4238" name="L4238"></a>4238                             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.sibling;
<a id="L4239" name="L4239"></a>4239                         <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>);
<a id="L4240" name="L4240"></a>4240                     <em class="brace">}</em>
<a id="L4241" name="L4241"></a>4241                 <em class="brace">}</em>
<a id="L4242" name="L4242"></a>4242                 pos.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(off);
<a id="L4243" name="L4243"></a>4243                 <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L4244" name="L4244"></a>4244             <em class="brace">}</em>
<a id="L4245" name="L4245"></a>4245         <em class="brace">}</em>
<a id="L4246" name="L4246"></a>4246     <em class="brace">}</em>
<a id="L4247" name="L4247"></a>4247 
<a id="L4248" name="L4248"></a>4248     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses a chronology.</div>
<a id="L4252" name="L4252"></a>4252     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1353.html" title="Multiple referred from 2 places.">ChronoPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<div class="comment">
         /** The text style to output, null means the ID. */</div>
<a id="L4254" name="L4254"></a>4254         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle;
<a id="L4255" name="L4255"></a>4255 
<a id="L4256" name="L4256"></a>4256         ChronoPrinterParser(<a href="../S/1535.html#L86" title="Defined at 86 in src/java/time/format/TextStyle.java.">TextStyle</a> textStyle) <em class="brace">{</em>
<a id="L4257" name="L4257"></a>4257             <em class="comment">// validated by caller</em>
<a id="L4258" name="L4258"></a>4258             <strong class="reserved">this</strong>.textStyle = textStyle;
<a id="L4259" name="L4259"></a>4259         <em class="brace">}</em>
<a id="L4260" name="L4260"></a>4260 
<a id="L4261" name="L4261"></a>4261         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4262" name="L4262"></a>4262         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L4263" name="L4263"></a>4263             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../S/1481.html#L118" title="Defined at 118 in src/java/time/temporal/TemporalQueries.java.">TemporalQueries</a>.<a href="../S/1481.html#L206" title="Defined at 206 in src/java/time/temporal/TemporalQueries.java.">chronology</a>());
<a id="L4264" name="L4264"></a>4264             <strong class="reserved">if</strong> (chrono == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4265" name="L4265"></a>4265                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L4266" name="L4266"></a>4266             <em class="brace">}</em>
<a id="L4267" name="L4267"></a>4267             <strong class="reserved">if</strong> (textStyle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4268" name="L4268"></a>4268                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L4269" name="L4269"></a>4269             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4270" name="L4270"></a>4270                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/1537.html#L4314" title="Defined at 4314 in src/java/time/format/DateTimeFormatterBuilder.java.">getChronologyName</a>(chrono, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>()));
<a id="L4271" name="L4271"></a>4271             <em class="brace">}</em>
<a id="L4272" name="L4272"></a>4272             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L4273" name="L4273"></a>4273         <em class="brace">}</em>
<a id="L4274" name="L4274"></a>4274 
<a id="L4275" name="L4275"></a>4275         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4276" name="L4276"></a>4276         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L4277" name="L4277"></a>4277             <em class="comment">// simple looping parser to find the chronology</em>
<a id="L4278" name="L4278"></a>4278             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &lt; 0 || <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &gt; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L4279" name="L4279"></a>4279                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>();
<a id="L4280" name="L4280"></a>4280             <em class="brace">}</em>
<a id="L4281" name="L4281"></a>4281             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; chronos = <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/17148.html" title="Multiple defined in 2 places.">getAvailableChronologies</a>();
<a id="L4282" name="L4282"></a>4282             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> bestMatch = <strong class="reserved">null</strong>;
<a id="L4283" name="L4283"></a>4283             <strong class="reserved">int</strong> matchLen = -1;
<a id="L4284" name="L4284"></a>4284             <strong class="reserved">for</strong> (<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono : chronos) <em class="brace">{</em>
<a id="L4285" name="L4285"></a>4285                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L4286" name="L4286"></a>4286                 <strong class="reserved">if</strong> (textStyle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4287" name="L4287"></a>4287                     <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>();
<a id="L4288" name="L4288"></a>4288                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4289" name="L4289"></a>4289                     <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/1537.html#L4314" title="Defined at 4314 in src/java/time/format/DateTimeFormatterBuilder.java.">getChronologyName</a>(chrono, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L4290" name="L4290"></a>4290                 <em class="brace">}</em>
<a id="L4291" name="L4291"></a>4291                 <strong class="reserved">int</strong> nameLen = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4292" name="L4292"></a>4292                 <strong class="reserved">if</strong> (nameLen &gt; matchLen &amp;&amp; <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L208" title="Defined at 208 in src/java/time/format/DateTimeParseContext.java.">subSequenceEquals</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, 0, nameLen)) <em class="brace">{</em>
<a id="L4293" name="L4293"></a>4293                     bestMatch = chrono;
<a id="L4294" name="L4294"></a>4294                     matchLen = nameLen;
<a id="L4295" name="L4295"></a>4295                 <em class="brace">}</em>
<a id="L4296" name="L4296"></a>4296             <em class="brace">}</em>
<a id="L4297" name="L4297"></a>4297             <strong class="reserved">if</strong> (bestMatch == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4298" name="L4298"></a>4298                 <strong class="reserved">return</strong> ~<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>;
<a id="L4299" name="L4299"></a>4299             <em class="brace">}</em>
<a id="L4300" name="L4300"></a>4300             <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/33515.html" title="Multiple defined in 2 places.">setParsed</a>(bestMatch);
<a id="L4301" name="L4301"></a>4301             <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + matchLen;
<a id="L4302" name="L4302"></a>4302         <em class="brace">}</em>
<a id="L4303" name="L4303"></a>4303 
<div class="comment">
          Returns the chronology name of the given chrono in the given locale
          if available, or the chronology Id otherwise. The regular ResourceBundle
          search path is used for looking up the chronology name.
          @param chrono  the chronology, not null
          @param locale  the locale, not null
          @return the chronology name of chrono in locale, or the id if no name is available
          @throws NullPointerException if chrono or locale is null</div>
<a id="L4314" name="L4314"></a>4314         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15565.html" title="Multiple referred from 2 places.">getChronologyName</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L4315" name="L4315"></a>4315             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "calendarname." + chrono.<a href="../D/17463.html" title="Multiple defined in 9 places.">getCalendarType</a>();
<a id="L4316" name="L4316"></a>4316             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/1544.html#L103" title="Defined at 103 in src/java/time/format/DateTimeTextProvider.java.">DateTimeTextProvider</a>.<a href="../S/1544.html#L478" title="Defined at 478 in src/java/time/format/DateTimeTextProvider.java.">getLocalizedResource</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L4317" name="L4317"></a>4317             <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong> ? <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> : chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>();
<a id="L4318" name="L4318"></a>4318         <em class="brace">}</em>
<a id="L4319" name="L4319"></a>4319     <em class="brace">}</em>
<a id="L4320" name="L4320"></a>4320 
<a id="L4321" name="L4321"></a>4321     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses a localized pattern.</div>
<a id="L4325" name="L4325"></a>4325     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1537.html#L1272" title="Referred from 1272 in src/java/time/format/DateTimeFormatterBuilder.java.">LocalizedPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<div class="comment">
         /** Cache of formatters. */</div>
<a id="L4327" name="L4327"></a>4327         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a>&gt; FORMATTER_CACHE = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;(16, 0.75f, 2);
<a id="L4328" name="L4328"></a>4328 
<a id="L4329" name="L4329"></a>4329         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> dateStyle;
<a id="L4330" name="L4330"></a>4330         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> timeStyle;
<a id="L4331" name="L4331"></a>4331 
<div class="comment">
          Constructor.
          @param dateStyle  the date style to use, may be null
          @param timeStyle  the time style to use, may be null</div>
<a id="L4338" name="L4338"></a>4338         LocalizedPrinterParser(<a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> dateStyle, <a href="../S/1543.html#L75" title="Defined at 75 in src/java/time/format/FormatStyle.java.">FormatStyle</a> timeStyle) <em class="brace">{</em>
<a id="L4339" name="L4339"></a>4339             <em class="comment">// validated by caller</em>
<a id="L4340" name="L4340"></a>4340             <strong class="reserved">this</strong>.dateStyle = dateStyle;
<a id="L4341" name="L4341"></a>4341             <strong class="reserved">this</strong>.timeStyle = timeStyle;
<a id="L4342" name="L4342"></a>4342         <em class="brace">}</em>
<a id="L4343" name="L4343"></a>4343 
<a id="L4344" name="L4344"></a>4344         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4345" name="L4345"></a>4345         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L4346" name="L4346"></a>4346             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1538.html#L230" title="Defined at 230 in src/java/time/format/DateTimePrintContext.java.">getTemporal</a>());
<a id="L4347" name="L4347"></a>4347             <strong class="reserved">return</strong> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>(), chrono).<a href="../S/1541.html#L2026" title="Defined at 2026 in src/java/time/format/DateTimeFormatter.java.">toPrinterParser</a>(<strong class="reserved">false</strong>).<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L4348" name="L4348"></a>4348         <em class="brace">}</em>
<a id="L4349" name="L4349"></a>4349 
<a id="L4350" name="L4350"></a>4350         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4351" name="L4351"></a>4351         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L4352" name="L4352"></a>4352             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1546.html#L166" title="Defined at 166 in src/java/time/format/DateTimeParseContext.java.">getEffectiveChronology</a>();
<a id="L4353" name="L4353"></a>4353             <strong class="reserved">return</strong> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>(), chrono).<a href="../S/1541.html#L2026" title="Defined at 2026 in src/java/time/format/DateTimeFormatter.java.">toPrinterParser</a>(<strong class="reserved">false</strong>).<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L4354" name="L4354"></a>4354         <em class="brace">}</em>
<a id="L4355" name="L4355"></a>4355 
<div class="comment">
          Gets the formatter to use.
          <p>
          The formatter will be the most appropriate to use for the date and time style in the locale.
          For example, some locales will use the month name while others will use the number.
          @param locale  the locale to use, not null
          @param chrono  the chronology to use, not null
          @return the formatter, not null
          @throws IllegalArgumentException if the formatter cannot be found</p></div>
<a id="L4367" name="L4367"></a>4367         <strong class="reserved">private</strong> <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../R/14773.html" title="Multiple referred from 185 places.">formatter</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono) <em class="brace">{</em>
<a id="L4368" name="L4368"></a>4368             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>() + '|' + <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + '|' + dateStyle + timeStyle;
<a id="L4369" name="L4369"></a>4369             <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a> = FORMATTER_CACHE.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L4370" name="L4370"></a>4370             <strong class="reserved">if</strong> (<a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4371" name="L4371"></a>4371                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a> = <a href="../S/1537.html#L203" title="Defined at 203 in src/java/time/format/DateTimeFormatterBuilder.java.">getLocalizedDateTimePattern</a>(dateStyle, timeStyle, chrono, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L4372" name="L4372"></a>4372                 <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a> = <strong class="reserved">new</strong> <a href="../S/1537.html#L152" title="Defined at 152 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimeFormatterBuilder</a>().<a href="../S/1537.html#L1568" title="Defined at 1568 in src/java/time/format/DateTimeFormatterBuilder.java.">appendPattern</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>).<a href="../D/35401.html" title="Multiple defined in 4 places.">toFormatter</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L4373" name="L4373"></a>4373                 <a href="../S/1541.html#L483" title="Defined at 483 in src/java/time/format/DateTimeFormatter.java.">DateTimeFormatter</a> old = FORMATTER_CACHE.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>);
<a id="L4374" name="L4374"></a>4374                 <strong class="reserved">if</strong> (old != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4375" name="L4375"></a>4375                     <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a> = old;
<a id="L4376" name="L4376"></a>4376                 <em class="brace">}</em>
<a id="L4377" name="L4377"></a>4377             <em class="brace">}</em>
<a id="L4378" name="L4378"></a>4378             <strong class="reserved">return</strong> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>;
<a id="L4379" name="L4379"></a>4379         <em class="brace">}</em>
<a id="L4380" name="L4380"></a>4380 
<a id="L4381" name="L4381"></a>4381         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4382" name="L4382"></a>4382         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L4383" name="L4383"></a>4383             <strong class="reserved">return</strong> "Localized(" + (dateStyle != <strong class="reserved">null</strong> ? dateStyle : "") + "," +
<a id="L4384" name="L4384"></a>4384                 (timeStyle != <strong class="reserved">null</strong> ? timeStyle : "") + ")";
<a id="L4385" name="L4385"></a>4385         <em class="brace">}</em>
<a id="L4386" name="L4386"></a>4386     <em class="brace">}</em>
<a id="L4387" name="L4387"></a>4387 
<a id="L4388" name="L4388"></a>4388     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Prints or parses a localized pattern from a localized field.
      The specific formatter and parameters is not selected until the
      the field is to be printed or parsed.
      The locale is needed to select the proper WeekFields from which
      the field for day-of-week, week-of-month, or week-of-year is selected.</div>
<a id="L4396" name="L4396"></a>4396     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8750.html" title="Multiple referred from 4 places.">WeekBasedFieldPrinterParser</a> <strong class="reserved">implements</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <em class="brace">{</em>
<a id="L4397" name="L4397"></a>4397         <strong class="reserved">private</strong> <strong class="reserved">char</strong> chr;
<a id="L4398" name="L4398"></a>4398         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L4399" name="L4399"></a>4399 
<div class="comment">
          Constructor.
          @param chr the pattern format letter that added this PrinterParser.
          @param count the repeat count of the format letter</div>
<a id="L4406" name="L4406"></a>4406         WeekBasedFieldPrinterParser(<strong class="reserved">char</strong> chr, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L4407" name="L4407"></a>4407             <strong class="reserved">this</strong>.chr = chr;
<a id="L4408" name="L4408"></a>4408             <strong class="reserved">this</strong>.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L4409" name="L4409"></a>4409         <em class="brace">}</em>
<a id="L4410" name="L4410"></a>4410 
<a id="L4411" name="L4411"></a>4411         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4412" name="L4412"></a>4412         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>(<a href="../S/1538.html#L96" title="Defined at 96 in src/java/time/format/DateTimePrintContext.java.">DateTimePrintContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <em class="brace">{</em>
<a id="L4413" name="L4413"></a>4413             <strong class="reserved">return</strong> <a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>()).<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L4414" name="L4414"></a>4414         <em class="brace">}</em>
<a id="L4415" name="L4415"></a>4415 
<a id="L4416" name="L4416"></a>4416         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4417" name="L4417"></a>4417         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../S/1546.html#L92" title="Defined at 92 in src/java/time/format/DateTimeParseContext.java.">DateTimeParseContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../S/1675.html#L59" title="Defined at 59 in src/java/lang/CharSequence.java.">CharSequence</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L4418" name="L4418"></a>4418             <strong class="reserved">return</strong> <a href="../S/1537.html#L4428" title="Defined at 4428 in src/java/time/format/DateTimeFormatterBuilder.java.">printerParser</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>()).<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L4419" name="L4419"></a>4419         <em class="brace">}</em>
<a id="L4420" name="L4420"></a>4420 
<div class="comment">
          Gets the printerParser to use based on the field and the locale.
          @param locale  the locale to use, not null
          @return the formatter, not null
          @throws IllegalArgumentException if the formatter cannot be found</div>
<a id="L4428" name="L4428"></a>4428         <strong class="reserved">private</strong> <a href="../S/1537.html#L2107" title="Defined at 2107 in src/java/time/format/DateTimeFormatterBuilder.java.">DateTimePrinterParser</a> <a href="../R/25060.html" title="Multiple referred from 23 places.">printerParser</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L4429" name="L4429"></a>4429             <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef = <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L4430" name="L4430"></a>4430             <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field = <strong class="reserved">null</strong>;
<a id="L4431" name="L4431"></a>4431             <strong class="reserved">switch</strong> (chr) <em class="brace">{</em>
<a id="L4432" name="L4432"></a>4432                 <strong class="reserved">case</strong> 'Y':
<a id="L4433" name="L4433"></a>4433                     field = weekDef.<a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a>();
<a id="L4434" name="L4434"></a>4434                     <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 2) <em class="brace">{</em>
<a id="L4435" name="L4435"></a>4435                         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a>(field, 2, 2, 0, <a href="../S/1537.html#L2739" title="Defined at 2739 in src/java/time/format/DateTimeFormatterBuilder.java.">ReducedPrinterParser</a>.BASE_DATE, 0);
<a id="L4436" name="L4436"></a>4436                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4437" name="L4437"></a>4437                         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, 19,
<a id="L4438" name="L4438"></a>4438                                 (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; 4) ? <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NORMAL : <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.EXCEEDS_PAD, -1);
<a id="L4439" name="L4439"></a>4439                     <em class="brace">}</em>
<a id="L4440" name="L4440"></a>4440                 <strong class="reserved">case</strong> 'e':
<a id="L4441" name="L4441"></a>4441                 <strong class="reserved">case</strong> 'c':
<a id="L4442" name="L4442"></a>4442                     field = weekDef.<a href="../S/1470.html#L428" title="Defined at 428 in src/java/time/temporal/WeekFields.java.">dayOfWeek</a>();
<a id="L4443" name="L4443"></a>4443                     <strong class="reserved">break</strong>;
<a id="L4444" name="L4444"></a>4444                 <strong class="reserved">case</strong> 'w':
<a id="L4445" name="L4445"></a>4445                     field = weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>();
<a id="L4446" name="L4446"></a>4446                     <strong class="reserved">break</strong>;
<a id="L4447" name="L4447"></a>4447                 <strong class="reserved">case</strong> 'W':
<a id="L4448" name="L4448"></a>4448                     field = weekDef.<a href="../S/1470.html#L474" title="Defined at 474 in src/java/time/temporal/WeekFields.java.">weekOfMonth</a>();
<a id="L4449" name="L4449"></a>4449                     <strong class="reserved">break</strong>;
<a id="L4450" name="L4450"></a>4450                 <strong class="reserved">default</strong>:
<a id="L4451" name="L4451"></a>4451                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("unreachable");
<a id="L4452" name="L4452"></a>4452             <em class="brace">}</em>
<a id="L4453" name="L4453"></a>4453             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1537.html#L2455" title="Defined at 2455 in src/java/time/format/DateTimeFormatterBuilder.java.">NumberPrinterParser</a>(field, (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 2 ? 2 : 1), 2, <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NOT_NEGATIVE);
<a id="L4454" name="L4454"></a>4454         <em class="brace">}</em>
<a id="L4455" name="L4455"></a>4455 
<a id="L4456" name="L4456"></a>4456         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4457" name="L4457"></a>4457         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L4458" name="L4458"></a>4458             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(30);
<a id="L4459" name="L4459"></a>4459             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("Localized(");
<a id="L4460" name="L4460"></a>4460             <strong class="reserved">if</strong> (chr == 'Y') <em class="brace">{</em>
<a id="L4461" name="L4461"></a>4461                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L4462" name="L4462"></a>4462                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("WeekBasedYear");
<a id="L4463" name="L4463"></a>4463                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 2) <em class="brace">{</em>
<a id="L4464" name="L4464"></a>4464                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("ReducedValue(WeekBasedYear,2,2,2000-01-01)");
<a id="L4465" name="L4465"></a>4465                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4466" name="L4466"></a>4466                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("WeekBasedYear,").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(",")
<a id="L4467" name="L4467"></a>4467                             .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(19).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(",")
<a id="L4468" name="L4468"></a>4468                             .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; 4) ? <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.NORMAL : <a href="../S/1536.html#L76" title="Defined at 76 in src/java/time/format/SignStyle.java.">SignStyle</a>.EXCEEDS_PAD);
<a id="L4469" name="L4469"></a>4469                 <em class="brace">}</em>
<a id="L4470" name="L4470"></a>4470             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4471" name="L4471"></a>4471                 <strong class="reserved">switch</strong> (chr) <em class="brace">{</em>
<a id="L4472" name="L4472"></a>4472                     <strong class="reserved">case</strong> 'c':
<a id="L4473" name="L4473"></a>4473                     <strong class="reserved">case</strong> 'e':
<a id="L4474" name="L4474"></a>4474                         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("DayOfWeek");
<a id="L4475" name="L4475"></a>4475                         <strong class="reserved">break</strong>;
<a id="L4476" name="L4476"></a>4476                     <strong class="reserved">case</strong> 'w':
<a id="L4477" name="L4477"></a>4477                         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("WeekOfWeekBasedYear");
<a id="L4478" name="L4478"></a>4478                         <strong class="reserved">break</strong>;
<a id="L4479" name="L4479"></a>4479                     <strong class="reserved">case</strong> 'W':
<a id="L4480" name="L4480"></a>4480                         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("WeekOfMonth");
<a id="L4481" name="L4481"></a>4481                         <strong class="reserved">break</strong>;
<a id="L4482" name="L4482"></a>4482                     <strong class="reserved">default</strong>:
<a id="L4483" name="L4483"></a>4483                         <strong class="reserved">break</strong>;
<a id="L4484" name="L4484"></a>4484                 <em class="brace">}</em>
<a id="L4485" name="L4485"></a>4485                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(",");
<a id="L4486" name="L4486"></a>4486                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L4487" name="L4487"></a>4487             <em class="brace">}</em>
<a id="L4488" name="L4488"></a>4488             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(")");
<a id="L4489" name="L4489"></a>4489             <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L4490" name="L4490"></a>4490         <em class="brace">}</em>
<a id="L4491" name="L4491"></a>4491     <em class="brace">}</em>
<a id="L4492" name="L4492"></a>4492 
<a id="L4493" name="L4493"></a>4493     <em class="comment">//-------------------------------------------------------------------------</em>
<div class="comment">
      Length comparator.</div>
<a id="L4497" name="L4497"></a>4497     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; LENGTH_SORT = <strong class="reserved">new</strong> <a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;() <em class="brace">{</em>
<a id="L4498" name="L4498"></a>4498         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L4499" name="L4499"></a>4499         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> str1, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> str2) <em class="brace">{</em>
<a id="L4500" name="L4500"></a>4500             <strong class="reserved">return</strong> str1.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == str2.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() ? str1.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(str2) : str1.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - str2.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4501" name="L4501"></a>4501         <em class="brace">}</em>
<a id="L4502" name="L4502"></a>4502     <em class="brace">}</em>;
<a id="L4503" name="L4503"></a>4503 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L203">[^]</a><a href="#L4457">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>