<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/AbstractWriter.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L195">[^]</a><a href="#L703">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L195" title="Defined at 195.">getStartOffset</a></li>
<li><a href="#L204" title="Defined at 204.">getEndOffset</a></li>
<li><a href="#L213" title="Defined at 213.">getElementIterator</a></li>
<li><a href="#L222" title="Defined at 222.">getWriter</a></li>
<li><a href="#L231" title="Defined at 231.">getDocument</a></li>
<li><a href="#L246" title="Defined at 246.">inRange</a></li>
<li><a href="#L264" title="Defined at 264.">write</a></li>
<li><a href="#L277" title="Defined at 277.">getText</a></li>
<li><a href="#L293" title="Defined at 293.">text</a></li>
<li><a href="#L314" title="Defined at 314.">setLineLength</a></li>
<li><a href="#L323" title="Defined at 323.">getLineLength</a></li>
<li><a href="#L332" title="Defined at 332.">setCurrentLineLength</a></li>
<li><a href="#L342" title="Defined at 342.">getCurrentLineLength</a></li>
<li><a href="#L353" title="Defined at 353.">isLineEmpty</a></li>
<li><a href="#L364" title="Defined at 364.">setCanWrapLines</a></li>
<li><a href="#L374" title="Defined at 374.">getCanWrapLines</a></li>
<li><a href="#L385" title="Defined at 385.">setIndentSpace</a></li>
<li><a href="#L394" title="Defined at 394.">getIndentSpace</a></li>
<li><a href="#L405" title="Defined at 405.">setLineSeparator</a></li>
<li><a href="#L414" title="Defined at 414.">getLineSeparator</a></li>
<li><a href="#L423" title="Defined at 423.">incrIndent</a></li>
<li><a href="#L439" title="Defined at 439.">decrIndent</a></li>
<li><a href="#L455" title="Defined at 455.">getIndentLevel</a></li>
<li><a href="#L467" title="Defined at 467.">indent</a></li>
<li><a href="#L490" title="Defined at 490.">write</a></li>
<li><a href="#L505" title="Defined at 505.">write</a></li>
<li><a href="#L523" title="Defined at 523.">writeLineSeparator</a></li>
<li><a href="#L547" title="Defined at 547.">write</a></li>
<li><a href="#L672" title="Defined at 672.">writeAttributes</a></li>
<li><a href="#L694" title="Defined at 694.">output</a></li>
<li><a href="#L703" title="Defined at 703.">indexOf</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.Writer;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.IOException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L31" name="L31"></a>  31 
<div class="comment">
  AbstractWriter is an abstract class that actually
  does the work of writing out the element tree
  including the attributes.  In terms of how much is
  written out per line, the writer defaults to 100.
  But this value can be set by subclasses.
  @author Sunita Mani</div>
<a id="L41" name="L41"></a>  41 
<a id="L42" name="L42"></a>  42 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/131.html" title="Multiple referred from 2 places.">AbstractWriter</a> <em class="brace">{</em>
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44     <strong class="reserved">private</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a> it;
<a id="L45" name="L45"></a>  45     <strong class="reserved">private</strong> <a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>;
<a id="L46" name="L46"></a>  46     <strong class="reserved">private</strong> <strong class="reserved">int</strong> indentLevel = 0;
<a id="L47" name="L47"></a>  47     <strong class="reserved">private</strong> <strong class="reserved">int</strong> indentSpace = 2;
<a id="L48" name="L48"></a>  48     <strong class="reserved">private</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <strong class="reserved">null</strong>;
<a id="L49" name="L49"></a>  49     <strong class="reserved">private</strong> <strong class="reserved">int</strong> maxLineLength = 100;
<a id="L50" name="L50"></a>  50     <strong class="reserved">private</strong> <strong class="reserved">int</strong> currLength = 0;
<a id="L51" name="L51"></a>  51     <strong class="reserved">private</strong> <strong class="reserved">int</strong> startOffset = 0;
<a id="L52" name="L52"></a>  52     <strong class="reserved">private</strong> <strong class="reserved">int</strong> endOffset = 0;
<a id="L53" name="L53"></a>  53     <em class="comment">// If (indentLevel * indentSpace) becomes &gt;= maxLineLength, this will</em>
<a id="L54" name="L54"></a>  54     <em class="comment">// get incremened instead of indentLevel to avoid indenting going greater</em>
<a id="L55" name="L55"></a>  55     <em class="comment">// than line length.</em>
<a id="L56" name="L56"></a>  56     <strong class="reserved">private</strong> <strong class="reserved">int</strong> offsetIndent = 0;
<a id="L57" name="L57"></a>  57 
<div class="comment">
      String used for end of line. If the Document has the property
      EndOfLineStringProperty, it will be used for newlines. Otherwise
      the System property line.separator will be used. The line separator
      can also be set.</div>
<a id="L64" name="L64"></a>  64     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1557.html#L647" title="Defined at 647 in src/java/lang/System.java.">lineSeparator</a>;
<a id="L65" name="L65"></a>  65 
<div class="comment">
      True indicates that when writing, the line can be split, false
      indicates that even if the line is &gt; than max line length it should
      not be split.</div>
<a id="L71" name="L71"></a>  71     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> canWrapLines;
<a id="L72" name="L72"></a>  72 
<div class="comment">
      True while the current line is empty. This will remain true after
      indenting.</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/3267.html#L353" title="Defined at 353 in src/javax/swing/text/AbstractWriter.java.">isLineEmpty</a>;
<a id="L78" name="L78"></a>  78 
<div class="comment">
      Used when indenting. Will contain the spaces.</div>
<a id="L82" name="L82"></a>  82     <strong class="reserved">private</strong> <strong class="reserved">char</strong>[] indentChars;
<a id="L83" name="L83"></a>  83 
<div class="comment">
      Used when writing out a string.</div>
<a id="L87" name="L87"></a>  87     <strong class="reserved">private</strong> <strong class="reserved">char</strong>[] tempChars;
<a id="L88" name="L88"></a>  88 
<div class="comment">
      This is used in <code>writeLineSeparator</code> instead of
      tempChars. If tempChars were used it would mean write couldn't invoke
      <code>writeLineSeparator</code> as it might have been passed
      tempChars.</div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">private</strong> <strong class="reserved">char</strong>[] newlineChars;
<a id="L96" name="L96"></a>  96 
<div class="comment">
      Used for writing text.</div>
<a id="L100" name="L100"></a> 100     <strong class="reserved">private</strong> <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> segment;
<a id="L101" name="L101"></a> 101 
<div class="comment">
      How the text packages models newlines.
      @see #getLineSeparator</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> NEWLINE = '\n';
<a id="L107" name="L107"></a> 107 
<a id="L108" name="L108"></a> 108 
<div class="comment">
      Creates a new AbstractWriter.
      Initializes the ElementIterator with the default
      root of the document.
      @param w a Writer.
      @param doc a Document</div>
<a id="L117" name="L117"></a> 117     <strong class="reserved">protected</strong> AbstractWriter(<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> w, <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L118" name="L118"></a> 118         <strong class="reserved">this</strong>(w, doc, 0, doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L119" name="L119"></a> 119     <em class="brace">}</em>
<a id="L120" name="L120"></a> 120 
<div class="comment">
      Creates a new AbstractWriter.
      Initializes the ElementIterator with the
      element passed in.
      @param w a Writer
      @param doc an Element
      @param pos The location in the document to fetch the
        content.
      @param len The amount to write out.</div>
<a id="L132" name="L132"></a> 132     <strong class="reserved">protected</strong> AbstractWriter(<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> w, <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <strong class="reserved">int</strong> pos, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L133" name="L133"></a> 133         <strong class="reserved">this</strong>.doc = doc;
<a id="L134" name="L134"></a> 134         it = <strong class="reserved">new</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a>(doc.<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>());
<a id="L135" name="L135"></a> 135         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = w;
<a id="L136" name="L136"></a> 136         startOffset = pos;
<a id="L137" name="L137"></a> 137         endOffset = pos + len;
<a id="L138" name="L138"></a> 138         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> docNewline = doc.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>.
<a id="L139" name="L139"></a> 139                                        EndOfLineStringProperty);
<a id="L140" name="L140"></a> 140         <strong class="reserved">if</strong> (docNewline <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <em class="brace">{</em>
<a id="L141" name="L141"></a> 141             <a href="../D/33095.html" title="Multiple defined in 2 places.">setLineSeparator</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)docNewline);
<a id="L142" name="L142"></a> 142         <em class="brace">}</em>
<a id="L143" name="L143"></a> 143         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L144" name="L144"></a> 144             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newline = <strong class="reserved">null</strong>;
<a id="L145" name="L145"></a> 145             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L146" name="L146"></a> 146                 newline = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("line.separator");
<a id="L147" name="L147"></a> 147             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se) <em class="brace">{</em><em class="brace">}</em>
<a id="L148" name="L148"></a> 148             <strong class="reserved">if</strong> (newline == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L149" name="L149"></a> 149                 <em class="comment">// Should not get here, but if we do it means we could not</em>
<a id="L150" name="L150"></a> 150                 <em class="comment">// find a newline string, use \n in this case.</em>
<a id="L151" name="L151"></a> 151                 newline = "\n";
<a id="L152" name="L152"></a> 152             <em class="brace">}</em>
<a id="L153" name="L153"></a> 153             <a href="../D/33095.html" title="Multiple defined in 2 places.">setLineSeparator</a>(newline);
<a id="L154" name="L154"></a> 154         <em class="brace">}</em>
<a id="L155" name="L155"></a> 155         canWrapLines = <strong class="reserved">true</strong>;
<a id="L156" name="L156"></a> 156     <em class="brace">}</em>
<a id="L157" name="L157"></a> 157 
<div class="comment">
      Creates a new AbstractWriter.
      Initializes the ElementIterator with the
      element passed in.
      @param w a Writer
      @param root an Element</div>
<a id="L166" name="L166"></a> 166     <strong class="reserved">protected</strong> AbstractWriter(<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> w, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167         <strong class="reserved">this</strong>(w, <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>, 0, <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>());
<a id="L168" name="L168"></a> 168     <em class="brace">}</em>
<a id="L169" name="L169"></a> 169 
<div class="comment">
      Creates a new AbstractWriter.
      Initializes the ElementIterator with the
      element passed in.
      @param w a Writer
      @param root an Element
      @param pos The location in the document to fetch the
        content.
      @param len The amount to write out.</div>
<a id="L181" name="L181"></a> 181     <strong class="reserved">protected</strong> AbstractWriter(<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> w, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>, <strong class="reserved">int</strong> pos, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L182" name="L182"></a> 182         <strong class="reserved">this</strong>.doc = <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L183" name="L183"></a> 183         it = <strong class="reserved">new</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>);
<a id="L184" name="L184"></a> 184         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = w;
<a id="L185" name="L185"></a> 185         startOffset = pos;
<a id="L186" name="L186"></a> 186         endOffset = pos + len;
<a id="L187" name="L187"></a> 187         canWrapLines = <strong class="reserved">true</strong>;
<a id="L188" name="L188"></a> 188     <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<div class="comment">
      Returns the first offset to be output.
      @since 1.3</div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>() <em class="brace">{</em>
<a id="L196" name="L196"></a> 196         <strong class="reserved">return</strong> startOffset;
<a id="L197" name="L197"></a> 197     <em class="brace">}</em>
<a id="L198" name="L198"></a> 198 
<div class="comment">
      Returns the last offset to be output.
      @since 1.3</div>
<a id="L204" name="L204"></a> 204     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>() <em class="brace">{</em>
<a id="L205" name="L205"></a> 205         <strong class="reserved">return</strong> endOffset;
<a id="L206" name="L206"></a> 206     <em class="brace">}</em>
<a id="L207" name="L207"></a> 207 
<div class="comment">
      Fetches the ElementIterator.
      @return the ElementIterator.</div>
<a id="L213" name="L213"></a> 213     <strong class="reserved">protected</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a> <a href="../R/16325.html" title="Multiple referred from 2 places.">getElementIterator</a>() <em class="brace">{</em>
<a id="L214" name="L214"></a> 214         <strong class="reserved">return</strong> it;
<a id="L215" name="L215"></a> 215     <em class="brace">}</em>
<a id="L216" name="L216"></a> 216 
<div class="comment">
      Returns the Writer that is used to output the content.
      @since 1.3</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">protected</strong> <a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../R/19899.html" title="Multiple referred from 13 places.">getWriter</a>() <em class="brace">{</em>
<a id="L223" name="L223"></a> 223         <strong class="reserved">return</strong> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>;
<a id="L224" name="L224"></a> 224     <em class="brace">}</em>
<a id="L225" name="L225"></a> 225 
<div class="comment">
      Fetches the document.
      @return the Document.</div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">protected</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L232" name="L232"></a> 232         <strong class="reserved">return</strong> doc;
<a id="L233" name="L233"></a> 233     <em class="brace">}</em>
<a id="L234" name="L234"></a> 234 
<div class="comment">
      This method determines whether the current element
      is in the range specified.  When no range is specified,
      the range is initialized to be the entire document.
      inRange() returns true if the range specified intersects
      with the element's range.
      @param  next an Element.
      @return boolean that indicates whether the element
              is in the range.</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/20460.html" title="Multiple referred from 35 places.">inRange</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">int</strong> startOffset = <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L248" name="L248"></a> 248         <strong class="reserved">int</strong> endOffset = <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L249" name="L249"></a> 249         <strong class="reserved">if</strong> ((<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &gt;= startOffset &amp;&amp;
<a id="L250" name="L250"></a> 250              <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>()  &lt; endOffset) ||
<a id="L251" name="L251"></a> 251             (startOffset &gt;= <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &amp;&amp;
<a id="L252" name="L252"></a> 252              startOffset &lt; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>())) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L254" name="L254"></a> 254         <em class="brace">}</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L256" name="L256"></a> 256     <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
      This abstract method needs to be implemented
      by subclasses.  Its responsibility is to
      iterate over the elements and use the write()
      methods to generate output in the desired format.</div>
<a id="L264" name="L264"></a> 264     <strong class="reserved">abstract</strong> <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/30544.html" title="Multiple referred from 1880 places.">write</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>;
<a id="L265" name="L265"></a> 265 
<div class="comment">
      Returns the text associated with the element.
      The assumption here is that the element is a
      leaf element.  Throws a BadLocationException
      when encountered.
      @param     elem an <code>Element</code>
      @exception BadLocationException if pos represents an invalid
                 location within the document
      @return    the text as a <code>String</code></div>
<a id="L277" name="L277"></a> 277     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19424.html" title="Multiple referred from 339 places.">getText</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L278" name="L278"></a> 278         <strong class="reserved">return</strong> doc.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L279" name="L279"></a> 279                            elem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>());
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<a id="L282" name="L282"></a> 282 
<div class="comment">
      Writes out text.  If a range is specified when the constructor
      is invoked, then only the appropriate range of text is written
      out.
      @param     elem an Element.
      @exception IOException on any I/O error
      @exception BadLocationException if pos represents an invalid
                 location within the document.</div>
<a id="L293" name="L293"></a> 293     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29150.html" title="Multiple referred from 2396 places.">text</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>,
<a id="L294" name="L294"></a> 294                                              <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L295" name="L295"></a> 295         <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(), elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>());
<a id="L296" name="L296"></a> 296         <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>(), elem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>());
<a id="L297" name="L297"></a> 297         <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             <strong class="reserved">if</strong> (segment == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299                 segment = <strong class="reserved">new</strong> <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a>();
<a id="L300" name="L300"></a> 300             <em class="brace">}</em>
<a id="L301" name="L301"></a> 301             <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, segment);
<a id="L302" name="L302"></a> 302             <strong class="reserved">if</strong> (segment.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &gt; 0) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303                 <a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(segment.<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, segment.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, segment.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L304" name="L304"></a> 304             <em class="brace">}</em>
<a id="L305" name="L305"></a> 305         <em class="brace">}</em>
<a id="L306" name="L306"></a> 306     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307 
<div class="comment">
      Enables subclasses to set the number of characters they
      want written per line.   The default is 100.
      @param l the maximum line length.</div>
<a id="L314" name="L314"></a> 314     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/3323.html#L120" title="Referred from 120 in src/javax/swing/text/html/HTMLWriter.java.">setLineLength</a>(<strong class="reserved">int</strong> l) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315         maxLineLength = l;
<a id="L316" name="L316"></a> 316     <em class="brace">}</em>
<a id="L317" name="L317"></a> 317 
<div class="comment">
      Returns the maximum line length.
      @since 1.3</div>
<a id="L323" name="L323"></a> 323     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17364.html" title="Multiple referred from 2 places.">getLineLength</a>() <em class="brace">{</em>
<a id="L324" name="L324"></a> 324         <strong class="reserved">return</strong> maxLineLength;
<a id="L325" name="L325"></a> 325     <em class="brace">}</em>
<a id="L326" name="L326"></a> 326 
<div class="comment">
      Sets the current line length.
      @since 1.3</div>
<a id="L332" name="L332"></a> 332     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27135.html" title="Multiple referred from 3 places.">setCurrentLineLength</a>(<strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333         currLength = <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L334" name="L334"></a> 334         <a href="../S/3267.html#L353" title="Defined at 353 in src/javax/swing/text/AbstractWriter.java.">isLineEmpty</a> = (currLength == 0);
<a id="L335" name="L335"></a> 335     <em class="brace">}</em>
<a id="L336" name="L336"></a> 336 
<div class="comment">
      Returns the current line length.
      @since 1.3</div>
<a id="L342" name="L342"></a> 342     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/15894.html" title="Multiple referred from 4 places.">getCurrentLineLength</a>() <em class="brace">{</em>
<a id="L343" name="L343"></a> 343         <strong class="reserved">return</strong> currLength;
<a id="L344" name="L344"></a> 344     <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<div class="comment">
      Returns true if the current line should be considered empty. This
      is true when <code>getCurrentLineLength</code> == 0 ||
      <code>indent</code> has been invoked on an empty line.
      @since 1.3</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21664.html" title="Multiple referred from 5 places.">isLineEmpty</a>() <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <strong class="reserved">return</strong> <a href="../S/3267.html#L353" title="Defined at 353 in src/javax/swing/text/AbstractWriter.java.">isLineEmpty</a>;
<a id="L355" name="L355"></a> 355     <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Sets whether or not lines can be wrapped. This can be toggled
      during the writing of lines. For example, outputting HTML might
      set this to false when outputting a quoted string.
      @since 1.3</div>
<a id="L364" name="L364"></a> 364     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27001.html" title="Multiple referred from 5 places.">setCanWrapLines</a>(<strong class="reserved">boolean</strong> newValue) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365         canWrapLines = newValue;
<a id="L366" name="L366"></a> 366     <em class="brace">}</em>
<a id="L367" name="L367"></a> 367 
<div class="comment">
      Returns whether or not the lines can be wrapped. If this is false
      no lineSeparator's will be output.
      @since 1.3</div>
<a id="L374" name="L374"></a> 374     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/3267.html#L549" title="Referred from 549 in src/javax/swing/text/AbstractWriter.java.">getCanWrapLines</a>() <em class="brace">{</em>
<a id="L375" name="L375"></a> 375         <strong class="reserved">return</strong> canWrapLines;
<a id="L376" name="L376"></a> 376     <em class="brace">}</em>
<a id="L377" name="L377"></a> 377 
<div class="comment">
      Enables subclasses to specify how many spaces an indent
      maps to. When indentation takes place, the indent level
      is multiplied by this mapping.  The default is 2.
      @param space an int representing the space to indent mapping.</div>
<a id="L385" name="L385"></a> 385     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> setIndentSpace(<strong class="reserved">int</strong> space) <em class="brace">{</em>
<a id="L386" name="L386"></a> 386         indentSpace = space;
<a id="L387" name="L387"></a> 387     <em class="brace">}</em>
<a id="L388" name="L388"></a> 388 
<div class="comment">
      Returns the amount of space to indent.
      @since 1.3</div>
<a id="L394" name="L394"></a> 394     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17033.html" title="Multiple referred from 2 places.">getIndentSpace</a>() <em class="brace">{</em>
<a id="L395" name="L395"></a> 395         <strong class="reserved">return</strong> indentSpace;
<a id="L396" name="L396"></a> 396     <em class="brace">}</em>
<a id="L397" name="L397"></a> 397 
<div class="comment">
      Sets the String used to represent newlines. This is initialized
      in the constructor from either the Document, or the System property
      line.separator.
      @since 1.3</div>
<a id="L405" name="L405"></a> 405     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27671.html" title="Multiple referred from 4 places.">setLineSeparator</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L406" name="L406"></a> 406         <a href="../S/1557.html#L647" title="Defined at 647 in src/java/lang/System.java.">lineSeparator</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L407" name="L407"></a> 407     <em class="brace">}</em>
<a id="L408" name="L408"></a> 408 
<div class="comment">
      Returns the string used to represent newlines.
      @since 1.3</div>
<a id="L414" name="L414"></a> 414     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17368.html" title="Multiple referred from 5 places.">getLineSeparator</a>() <em class="brace">{</em>
<a id="L415" name="L415"></a> 415         <strong class="reserved">return</strong> <a href="../S/1557.html#L647" title="Defined at 647 in src/java/lang/System.java.">lineSeparator</a>;
<a id="L416" name="L416"></a> 416     <em class="brace">}</em>
<a id="L417" name="L417"></a> 417 
<div class="comment">
      Increments the indent level. If indenting would cause
      <code>getIndentSpace()</code> *<code>getIndentLevel()</code> to be &gt;
      than <code>getLineLength()</code> this will not cause an indent.</div>
<a id="L423" name="L423"></a> 423     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20484.html" title="Multiple referred from 11 places.">incrIndent</a>() <em class="brace">{</em>
<a id="L424" name="L424"></a> 424         <em class="comment">// Only increment to a certain point.</em>
<a id="L425" name="L425"></a> 425         <strong class="reserved">if</strong> (offsetIndent &gt; 0) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426             offsetIndent++;
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L429" name="L429"></a> 429             <strong class="reserved">if</strong> (++indentLevel * <a href="../S/3267.html#L394" title="Defined at 394 in src/javax/swing/text/AbstractWriter.java.">getIndentSpace</a>() &gt;= <a href="../S/3267.html#L323" title="Defined at 323 in src/javax/swing/text/AbstractWriter.java.">getLineLength</a>()) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430                 offsetIndent++;
<a id="L431" name="L431"></a> 431                 --indentLevel;
<a id="L432" name="L432"></a> 432             <em class="brace">}</em>
<a id="L433" name="L433"></a> 433         <em class="brace">}</em>
<a id="L434" name="L434"></a> 434     <em class="brace">}</em>
<a id="L435" name="L435"></a> 435 
<div class="comment">
      Decrements the indent level.</div>
<a id="L439" name="L439"></a> 439     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13121.html" title="Multiple referred from 12 places.">decrIndent</a>() <em class="brace">{</em>
<a id="L440" name="L440"></a> 440         <strong class="reserved">if</strong> (offsetIndent &gt; 0) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441             --offsetIndent;
<a id="L442" name="L442"></a> 442         <em class="brace">}</em>
<a id="L443" name="L443"></a> 443         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L444" name="L444"></a> 444             indentLevel--;
<a id="L445" name="L445"></a> 445         <em class="brace">}</em>
<a id="L446" name="L446"></a> 446     <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<div class="comment">
      Returns the current indentation level. That is, the number of times
      <code>incrIndent</code> has been invoked minus the number of times
      <code>decrIndent</code> has been invoked.
      @since 1.3</div>
<a id="L455" name="L455"></a> 455     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../S/3267.html#L468" title="Referred from 468 in src/javax/swing/text/AbstractWriter.java.">getIndentLevel</a>() <em class="brace">{</em>
<a id="L456" name="L456"></a> 456         <strong class="reserved">return</strong> indentLevel;
<a id="L457" name="L457"></a> 457     <em class="brace">}</em>
<a id="L458" name="L458"></a> 458 
<div class="comment">
      Does indentation. The number of spaces written
      out is indent level times the space to map mapping. If the current
      line is empty, this will not make it so that the current line is
      still considered empty.
      @exception IOException on any I/O error</div>
<a id="L467" name="L467"></a> 467     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20502.html" title="Multiple referred from 201 places.">indent</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L468" name="L468"></a> 468         <strong class="reserved">int</strong> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../S/3267.html#L455" title="Defined at 455 in src/javax/swing/text/AbstractWriter.java.">getIndentLevel</a>() * <a href="../S/3267.html#L394" title="Defined at 394 in src/javax/swing/text/AbstractWriter.java.">getIndentSpace</a>();
<a id="L469" name="L469"></a> 469         <strong class="reserved">if</strong> (indentChars == <strong class="reserved">null</strong> || <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> &gt; indentChars.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470             indentChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>];
<a id="L471" name="L471"></a> 471             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0; counter &lt; <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>; counter++) <em class="brace">{</em>
<a id="L472" name="L472"></a> 472                 indentChars[counter] = ' ';
<a id="L473" name="L473"></a> 473             <em class="brace">}</em>
<a id="L474" name="L474"></a> 474         <em class="brace">}</em>
<a id="L475" name="L475"></a> 475         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/3267.html#L342" title="Defined at 342 in src/javax/swing/text/AbstractWriter.java.">getCurrentLineLength</a>();
<a id="L476" name="L476"></a> 476         <strong class="reserved">boolean</strong> wasEmpty = <a href="../S/3267.html#L353" title="Defined at 353 in src/javax/swing/text/AbstractWriter.java.">isLineEmpty</a>();
<a id="L477" name="L477"></a> 477         <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(indentChars, 0, <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>);
<a id="L478" name="L478"></a> 478         <strong class="reserved">if</strong> (wasEmpty &amp;&amp; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479             <a href="../S/3267.html#L353" title="Defined at 353 in src/javax/swing/text/AbstractWriter.java.">isLineEmpty</a> = <strong class="reserved">true</strong>;
<a id="L480" name="L480"></a> 480         <em class="brace">}</em>
<a id="L481" name="L481"></a> 481     <em class="brace">}</em>
<a id="L482" name="L482"></a> 482 
<div class="comment">
      Writes out a character. This is implemented to invoke
      the <code>write</code> method that takes a char[].
      @param     ch a char.
      @exception IOException on any I/O error</div>
<a id="L490" name="L490"></a> 490     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/30544.html" title="Multiple referred from 1880 places.">write</a>(<strong class="reserved">char</strong> ch) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L491" name="L491"></a> 491         <strong class="reserved">if</strong> (tempChars == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L492" name="L492"></a> 492             tempChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[128];
<a id="L493" name="L493"></a> 493         <em class="brace">}</em>
<a id="L494" name="L494"></a> 494         tempChars[0] = ch;
<a id="L495" name="L495"></a> 495         <a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(tempChars, 0, 1);
<a id="L496" name="L496"></a> 496     <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<div class="comment">
      Writes out a string. This is implemented to invoke the
      <code>write</code> method that takes a char[].
      @param     content a String.
      @exception IOException on any I/O error</div>
<a id="L505" name="L505"></a> 505     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/30544.html" title="Multiple referred from 1880 places.">write</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L506" name="L506"></a> 506         <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507             <strong class="reserved">return</strong>;
<a id="L508" name="L508"></a> 508         <em class="brace">}</em>
<a id="L509" name="L509"></a> 509         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L510" name="L510"></a> 510         <strong class="reserved">if</strong> (tempChars == <strong class="reserved">null</strong> || tempChars.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             tempChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>];
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513         <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, tempChars, 0);
<a id="L514" name="L514"></a> 514         <a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(tempChars, 0, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L515" name="L515"></a> 515     <em class="brace">}</em>
<a id="L516" name="L516"></a> 516 
<div class="comment">
      Writes the line separator. This invokes <code>output</code> directly
      as well as setting the <code>lineLength</code> to 0.
      @since 1.3</div>
<a id="L523" name="L523"></a> 523     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/30653.html" title="Multiple referred from 24 places.">writeLineSeparator</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L524" name="L524"></a> 524         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newline = <a href="../D/20126.html" title="Multiple defined in 2 places.">getLineSeparator</a>();
<a id="L525" name="L525"></a> 525         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = newline.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L526" name="L526"></a> 526         <strong class="reserved">if</strong> (newlineChars == <strong class="reserved">null</strong> || newlineChars.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527             newlineChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L528" name="L528"></a> 528         <em class="brace">}</em>
<a id="L529" name="L529"></a> 529         newline.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, newlineChars, 0);
<a id="L530" name="L530"></a> 530         <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(newlineChars, 0, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L531" name="L531"></a> 531         <a href="../S/3267.html#L332" title="Defined at 332 in src/javax/swing/text/AbstractWriter.java.">setCurrentLineLength</a>(0);
<a id="L532" name="L532"></a> 532     <em class="brace">}</em>
<a id="L533" name="L533"></a> 533 
<div class="comment">
      All write methods call into this one. If <code>getCanWrapLines()</code>
      returns false, this will call <code>output</code> with each sequence
      of <code>chars</code> that doesn't contain a NEWLINE, followed
      by a call to <code>writeLineSeparator</code>. On the other hand,
      if <code>getCanWrapLines()</code> returns true, this will split the
      string, as necessary, so <code>getLineLength</code> is honored.
      The only exception is if the current string contains no whitespace,
      and won't fit in which case the line length will exceed
      <code>getLineLength</code>.
      @since 1.3</div>
<a id="L547" name="L547"></a> 547     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/30544.html" title="Multiple referred from 1880 places.">write</a>(<strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L548" name="L548"></a> 548                    <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L549" name="L549"></a> 549         <strong class="reserved">if</strong> (!<a href="../S/3267.html#L374" title="Defined at 374 in src/javax/swing/text/AbstractWriter.java.">getCanWrapLines</a>()) <em class="brace">{</em>
<a id="L550" name="L550"></a> 550             <em class="comment">// We can not break string, just track if a newline</em>
<a id="L551" name="L551"></a> 551             <em class="comment">// is in it.</em>
<a id="L552" name="L552"></a> 552             <strong class="reserved">int</strong> lastIndex = startIndex;
<a id="L553" name="L553"></a> 553             <strong class="reserved">int</strong> endIndex = startIndex + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L554" name="L554"></a> 554             <strong class="reserved">int</strong> newlineIndex = <a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, NEWLINE, startIndex, endIndex);
<a id="L555" name="L555"></a> 555             <strong class="reserved">while</strong> (newlineIndex != -1) <em class="brace">{</em>
<a id="L556" name="L556"></a> 556                 <strong class="reserved">if</strong> (newlineIndex &gt; lastIndex) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557                     <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, newlineIndex - lastIndex);
<a id="L558" name="L558"></a> 558                 <em class="brace">}</em>
<a id="L559" name="L559"></a> 559                 <a href="../D/37093.html" title="Multiple defined in 2 places.">writeLineSeparator</a>();
<a id="L560" name="L560"></a> 560                 lastIndex = newlineIndex + 1;
<a id="L561" name="L561"></a> 561                 newlineIndex = <a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, '\n', lastIndex, endIndex);
<a id="L562" name="L562"></a> 562             <em class="brace">}</em>
<a id="L563" name="L563"></a> 563             <strong class="reserved">if</strong> (lastIndex &lt; endIndex) <em class="brace">{</em>
<a id="L564" name="L564"></a> 564                 <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, endIndex - lastIndex);
<a id="L565" name="L565"></a> 565             <em class="brace">}</em>
<a id="L566" name="L566"></a> 566         <em class="brace">}</em>
<a id="L567" name="L567"></a> 567         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L568" name="L568"></a> 568             <em class="comment">// We can break chars if the length exceeds maxLength.</em>
<a id="L569" name="L569"></a> 569             <strong class="reserved">int</strong> lastIndex = startIndex;
<a id="L570" name="L570"></a> 570             <strong class="reserved">int</strong> endIndex = startIndex + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L571" name="L571"></a> 571             <strong class="reserved">int</strong> lineLength = <a href="../S/3267.html#L342" title="Defined at 342 in src/javax/swing/text/AbstractWriter.java.">getCurrentLineLength</a>();
<a id="L572" name="L572"></a> 572             <strong class="reserved">int</strong> <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a> = <a href="../S/3267.html#L323" title="Defined at 323 in src/javax/swing/text/AbstractWriter.java.">getLineLength</a>();
<a id="L573" name="L573"></a> 573 
<a id="L574" name="L574"></a> 574             <strong class="reserved">while</strong> (lastIndex &lt; endIndex) <em class="brace">{</em>
<a id="L575" name="L575"></a> 575                 <strong class="reserved">int</strong> newlineIndex = <a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, NEWLINE, lastIndex,
<a id="L576" name="L576"></a> 576                                            endIndex);
<a id="L577" name="L577"></a> 577                 <strong class="reserved">boolean</strong> needsNewline = <strong class="reserved">false</strong>;
<a id="L578" name="L578"></a> 578                 <strong class="reserved">boolean</strong> forceNewLine = <strong class="reserved">false</strong>;
<a id="L579" name="L579"></a> 579 
<a id="L580" name="L580"></a> 580                 lineLength = <a href="../S/3267.html#L342" title="Defined at 342 in src/javax/swing/text/AbstractWriter.java.">getCurrentLineLength</a>();
<a id="L581" name="L581"></a> 581                 <strong class="reserved">if</strong> (newlineIndex != -1 &amp;&amp; (lineLength +
<a id="L582" name="L582"></a> 582                               (newlineIndex - lastIndex)) &lt; <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a>) <em class="brace">{</em>
<a id="L583" name="L583"></a> 583                     <strong class="reserved">if</strong> (newlineIndex &gt; lastIndex) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584                         <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, newlineIndex - lastIndex);
<a id="L585" name="L585"></a> 585                     <em class="brace">}</em>
<a id="L586" name="L586"></a> 586                     lastIndex = newlineIndex + 1;
<a id="L587" name="L587"></a> 587                     forceNewLine = <strong class="reserved">true</strong>;
<a id="L588" name="L588"></a> 588                 <em class="brace">}</em>
<a id="L589" name="L589"></a> 589                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (newlineIndex == -1 &amp;&amp; (lineLength +
<a id="L590" name="L590"></a> 590                                 (endIndex - lastIndex)) &lt; <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a>) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                     <strong class="reserved">if</strong> (endIndex &gt; lastIndex) <em class="brace">{</em>
<a id="L592" name="L592"></a> 592                         <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, endIndex - lastIndex);
<a id="L593" name="L593"></a> 593                     <em class="brace">}</em>
<a id="L594" name="L594"></a> 594                     lastIndex = endIndex;
<a id="L595" name="L595"></a> 595                 <em class="brace">}</em>
<a id="L596" name="L596"></a> 596                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L597" name="L597"></a> 597                     <em class="comment">// Need to break chars, find a place to split chars at,</em>
<a id="L598" name="L598"></a> 598                     <em class="comment">// from lastIndex to endIndex,</em>
<a id="L599" name="L599"></a> 599                     <em class="comment">// or maxLength - lineLength whichever is smaller</em>
<a id="L600" name="L600"></a> 600                     <strong class="reserved">int</strong> breakPoint = -1;
<a id="L601" name="L601"></a> 601                     <strong class="reserved">int</strong> maxBreak = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(endIndex - lastIndex,
<a id="L602" name="L602"></a> 602                                             <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a> - lineLength - 1);
<a id="L603" name="L603"></a> 603                     <strong class="reserved">int</strong> counter = 0;
<a id="L604" name="L604"></a> 604                     <strong class="reserved">while</strong> (counter &lt; maxBreak) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605                         <strong class="reserved">if</strong> (<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/26507.html" title="Multiple defined in 18 places.">isWhitespace</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[counter +
<a id="L606" name="L606"></a> 606                                                         lastIndex])) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607                             breakPoint = counter;
<a id="L608" name="L608"></a> 608                         <em class="brace">}</em>
<a id="L609" name="L609"></a> 609                         counter++;
<a id="L610" name="L610"></a> 610                     <em class="brace">}</em>
<a id="L611" name="L611"></a> 611                     <strong class="reserved">if</strong> (breakPoint != -1) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612                         <em class="comment">// Found a place to break at.</em>
<a id="L613" name="L613"></a> 613                         breakPoint += lastIndex + 1;
<a id="L614" name="L614"></a> 614                         <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, breakPoint - lastIndex);
<a id="L615" name="L615"></a> 615                         lastIndex = breakPoint;
<a id="L616" name="L616"></a> 616                         needsNewline = <strong class="reserved">true</strong>;
<a id="L617" name="L617"></a> 617                     <em class="brace">}</em>
<a id="L618" name="L618"></a> 618                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L619" name="L619"></a> 619                         <em class="comment">// No where good to break.</em>
<a id="L620" name="L620"></a> 620 
<a id="L621" name="L621"></a> 621                         <em class="comment">// find the next whitespace, or write out the</em>
<a id="L622" name="L622"></a> 622                         <em class="comment">// whole string.</em>
<a id="L623" name="L623"></a> 623                             <em class="comment">// maxBreak will be negative if current line too</em>
<a id="L624" name="L624"></a> 624                             <em class="comment">// long.</em>
<a id="L625" name="L625"></a> 625                             counter = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, maxBreak);
<a id="L626" name="L626"></a> 626                             maxBreak = endIndex - lastIndex;
<a id="L627" name="L627"></a> 627                             <strong class="reserved">while</strong> (counter &lt; maxBreak) <em class="brace">{</em>
<a id="L628" name="L628"></a> 628                                 <strong class="reserved">if</strong> (<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/26507.html" title="Multiple defined in 18 places.">isWhitespace</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[counter +
<a id="L629" name="L629"></a> 629                                                                 lastIndex])) <em class="brace">{</em>
<a id="L630" name="L630"></a> 630                                     breakPoint = counter;
<a id="L631" name="L631"></a> 631                                     <strong class="reserved">break</strong>;
<a id="L632" name="L632"></a> 632                                 <em class="brace">}</em>
<a id="L633" name="L633"></a> 633                                 counter++;
<a id="L634" name="L634"></a> 634                             <em class="brace">}</em>
<a id="L635" name="L635"></a> 635                             <strong class="reserved">if</strong> (breakPoint == -1) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636                                 <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, endIndex - lastIndex);
<a id="L637" name="L637"></a> 637                                 breakPoint = endIndex;
<a id="L638" name="L638"></a> 638                             <em class="brace">}</em>
<a id="L639" name="L639"></a> 639                             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L640" name="L640"></a> 640                                 breakPoint += lastIndex;
<a id="L641" name="L641"></a> 641                                 <strong class="reserved">if</strong> (<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[breakPoint] == NEWLINE) <em class="brace">{</em>
<a id="L642" name="L642"></a> 642                                     <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, breakPoint++ -
<a id="L643" name="L643"></a> 643                                            lastIndex);
<a id="L644" name="L644"></a> 644                                 forceNewLine = <strong class="reserved">true</strong>;
<a id="L645" name="L645"></a> 645                                 <em class="brace">}</em>
<a id="L646" name="L646"></a> 646                                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L647" name="L647"></a> 647                                     <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, lastIndex, ++breakPoint -
<a id="L648" name="L648"></a> 648                                               lastIndex);
<a id="L649" name="L649"></a> 649                                 needsNewline = <strong class="reserved">true</strong>;
<a id="L650" name="L650"></a> 650                                 <em class="brace">}</em>
<a id="L651" name="L651"></a> 651                             <em class="brace">}</em>
<a id="L652" name="L652"></a> 652                             lastIndex = breakPoint;
<a id="L653" name="L653"></a> 653                         <em class="brace">}</em>
<a id="L654" name="L654"></a> 654                     <em class="brace">}</em>
<a id="L655" name="L655"></a> 655                 <strong class="reserved">if</strong> (forceNewLine || needsNewline || lastIndex &lt; endIndex) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656                     <a href="../D/37093.html" title="Multiple defined in 2 places.">writeLineSeparator</a>();
<a id="L657" name="L657"></a> 657                     <strong class="reserved">if</strong> (lastIndex &lt; endIndex || !forceNewLine) <em class="brace">{</em>
<a id="L658" name="L658"></a> 658                         <a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>();
<a id="L659" name="L659"></a> 659                     <em class="brace">}</em>
<a id="L660" name="L660"></a> 660                 <em class="brace">}</em>
<a id="L661" name="L661"></a> 661             <em class="brace">}</em>
<a id="L662" name="L662"></a> 662         <em class="brace">}</em>
<a id="L663" name="L663"></a> 663     <em class="brace">}</em>
<a id="L664" name="L664"></a> 664 
<div class="comment">
      Writes out the set of attributes as " &lt;name&gt;=&lt;value&gt;"
      pairs. It throws an IOException when encountered.
      @param     attr an AttributeSet.
      @exception IOException on any I/O error</div>
<a id="L672" name="L672"></a> 672     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/30560.html" title="Multiple referred from 6 places.">writeAttributes</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L673" name="L673"></a> 673 
<a id="L674" name="L674"></a> 674         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> names = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17092.html" title="Multiple defined in 12 places.">getAttributeNames</a>();
<a id="L675" name="L675"></a> 675         <strong class="reserved">while</strong> (names.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = names.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L677" name="L677"></a> 677             <a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(" " + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + "=" + <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>));
<a id="L678" name="L678"></a> 678         <em class="brace">}</em>
<a id="L679" name="L679"></a> 679     <em class="brace">}</em>
<a id="L680" name="L680"></a> 680 
<div class="comment">
      The last stop in writing out content. All the write methods eventually
      make it to this method, which invokes <code>write</code> on the
      Writer.
      <p>This method also updates the line length based on
      <code>length</code>. If this is invoked to output a newline, the
      current line length will need to be reset as will no longer be
      valid. If it is up to the caller to do this. Use
      <code>writeLineSeparator</code> to write out a newline, which will
      property update the current line length.
      @since 1.3</p></div>
<a id="L694" name="L694"></a> 694     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24044.html" title="Multiple referred from 323 places.">output</a>(<strong class="reserved">char</strong>[] <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L695" name="L695"></a> 695                    <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L696" name="L696"></a> 696         <a href="../D/23733.html" title="Multiple defined in 19 places.">getWriter</a>().<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L697" name="L697"></a> 697         <a href="../S/3267.html#L332" title="Defined at 332 in src/javax/swing/text/AbstractWriter.java.">setCurrentLineLength</a>(<a href="../S/3267.html#L342" title="Defined at 342 in src/javax/swing/text/AbstractWriter.java.">getCurrentLineLength</a>() + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L698" name="L698"></a> 698     <em class="brace">}</em>
<a id="L699" name="L699"></a> 699 
<div class="comment">
      Support method to locate an occurrence of a particular character.</div>
<a id="L703" name="L703"></a> 703     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/20511.html" title="Multiple referred from 769 places.">indexOf</a>(<strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">char</strong> sChar, <strong class="reserved">int</strong> startIndex,
<a id="L704" name="L704"></a> 704                         <strong class="reserved">int</strong> endIndex) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705         <strong class="reserved">while</strong>(startIndex &lt; endIndex) <em class="brace">{</em>
<a id="L706" name="L706"></a> 706             <strong class="reserved">if</strong> (<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[startIndex] == sChar) <em class="brace">{</em>
<a id="L707" name="L707"></a> 707                 <strong class="reserved">return</strong> startIndex;
<a id="L708" name="L708"></a> 708             <em class="brace">}</em>
<a id="L709" name="L709"></a> 709             startIndex++;
<a id="L710" name="L710"></a> 710         <em class="brace">}</em>
<a id="L711" name="L711"></a> 711         <strong class="reserved">return</strong> -1;
<a id="L712" name="L712"></a> 712     <em class="brace">}</em>
<a id="L713" name="L713"></a> 713 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L195">[^]</a><a href="#L703">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>