<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/NumberFormatter.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L130">[^]</a><a href="#L451">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L130" title="Defined at 130.">setFormat</a></li>
<li><a href="#L159" title="Defined at 159.">stringToValue</a></li>
<li><a href="#L175" title="Defined at 175.">convertValueToValueClass</a></li>
<li><a href="#L203" title="Defined at 203.">getPositiveSign</a></li>
<li><a href="#L210" title="Defined at 210.">getMinusSign</a></li>
<li><a href="#L222" title="Defined at 222.">getDecimalSeparator</a></li>
<li><a href="#L234" title="Defined at 234.">getDecimalFormatSymbols</a></li>
<li><a href="#L249" title="Defined at 249.">isLegalInsertText</a></li>
<li><a href="#L268" title="Defined at 268.">isLiteral</a></li>
<li><a href="#L306" title="Defined at 306.">isNavigatable</a></li>
<li><a href="#L318" title="Defined at 318.">getFieldFrom</a></li>
<li><a href="#L348" title="Defined at 348.">replace</a></li>
<li><a href="#L363" title="Defined at 363.">toggleSignIfNecessary</a></li>
<li><a href="#L403" title="Defined at 403.">toggleSign</a></li>
<li><a href="#L451" title="Defined at 451.">toggleExponentSign</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.lang.reflect.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.text.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> sun.reflect.misc.ReflectUtil;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> sun.swing.SwingUtilities2;
<a id="L32" name="L32"></a>  32 
<div class="comment">
  <code>NumberFormatter</code> subclasses <code>InternationalFormatter</code>
  adding special behavior for numbers. Among the specializations are
  (these are only used if the <code>NumberFormatter</code> does not display
  invalid numbers, for example, <code>setAllowsInvalid(false)</code>):
  <ul><li>Pressing +/- (- is determined from the
        <code>DecimalFormatSymbols</code> associated with the
        <code>DecimalFormat</code>) in any field but the exponent
        field will attempt to change the sign of the number to
        positive/negative.
    </li><li>Pressing +/- (- is determined from the
        <code>DecimalFormatSymbols</code> associated with the
        <code>DecimalFormat</code>) in the exponent field will
        attempt to change the sign of the exponent to positive/negative.
  </li></ul>
  <p>
  If you are displaying scientific numbers, you may wish to turn on
  overwrite mode, <code>setOverwriteMode(true)</code>. For example:
  </p><pre>  DecimalFormat decimalFormat = new DecimalFormat("0.000E0");
  NumberFormatter textFormatter = new NumberFormatter(decimalFormat);
  textFormatter.setOverwriteMode(true);
  textFormatter.setAllowsInvalid(false);
  </pre>
  <p>
  If you are going to allow the user to enter decimal
  values, you should either force the DecimalFormat to contain at least
  one decimal (<code>#.0###</code>), or allow the value to be invalid
  <code>setAllowsInvalid(true)</code>. Otherwise users may not be able to
  input decimal values.
  </p><p>
  <code>NumberFormatter</code> provides slightly different behavior to
  <code>stringToValue</code> than that of its superclass. If you have
  specified a Class for values, {@link #setValueClass}, that is one of
  of <code>Integer</code>, <code>Long</code>, <code>Float</code>,
  <code>Double</code>, <code>Byte</code> or <code>Short</code> and
  the Format's <code>parseObject</code> returns an instance of
  <code>Number</code>, the corresponding instance of the value class
  will be created using the constructor appropriate for the primitive
  type the value class represents. For example:
  <code>setValueClass(Integer.class)</code> will cause the resulting
  value to be created via
  <code>new Integer(((Number)formatter.parseObject(string)).intValue())</code>.
  This is typically useful if you
  wish to set a min/max value as the various <code>Number</code>
  implementations are generally not comparable to each other. This is also
  useful if for some reason you need a specific <code>Number</code>
  implementation for your values.
  </p><p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases. The current serialization support is
  appropriate for short term storage or RMI between applications running
  the same version of Swing.  As of 1.4, support for long term storage
  of all JavaBeansâ„¢
  has been added to the <code>java.beans</code> package.
  Please see {@link java.beans.XMLEncoder}.
  @since 1.4</p></div>
<a id="L94" name="L94"></a>  94 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/5642.html" title="Multiple referred from 8 places.">NumberFormatter</a> <strong class="reserved">extends</strong> <a href="../S/3251.html#L95" title="Defined at 95 in src/javax/swing/text/InternationalFormatter.java.">InternationalFormatter</a> <em class="brace">{</em>
<div class="comment">
     /** The special characters from the Format instance. */</div>
<a id="L96" name="L96"></a>  96     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> specialChars;
<a id="L97" name="L97"></a>  97 
<div class="comment">
      Creates a <code>NumberFormatter</code> with the a default
      <code>NumberFormat</code> instance obtained from
      <code>NumberFormat.getNumberInstance()</code>.</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">public</strong> NumberFormatter() <em class="brace">{</em>
<a id="L104" name="L104"></a> 104         <strong class="reserved">this</strong>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/21082.html" title="Multiple defined in 3 places.">getNumberInstance</a>());
<a id="L105" name="L105"></a> 105     <em class="brace">}</em>
<a id="L106" name="L106"></a> 106 
<div class="comment">
      Creates a NumberFormatter with the specified Format instance.
      @param format Format used to dictate legal values</div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">public</strong> NumberFormatter(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>) <em class="brace">{</em>
<a id="L113" name="L113"></a> 113         <strong class="reserved">super</strong>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>);
<a id="L114" name="L114"></a> 114         <a href="../D/32766.html" title="Multiple defined in 5 places.">setFormat</a>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>);
<a id="L115" name="L115"></a> 115         <a href="../S/3327.html#L187" title="Defined at 187 in src/javax/swing/text/DefaultFormatter.java.">setAllowsInvalid</a>(<strong class="reserved">true</strong>);
<a id="L116" name="L116"></a> 116         <a href="../S/3327.html#L143" title="Defined at 143 in src/javax/swing/text/DefaultFormatter.java.">setCommitsOnValidEdit</a>(<strong class="reserved">false</strong>);
<a id="L117" name="L117"></a> 117         <a href="../S/3327.html#L164" title="Defined at 164 in src/javax/swing/text/DefaultFormatter.java.">setOverwriteMode</a>(<strong class="reserved">false</strong>);
<a id="L118" name="L118"></a> 118     <em class="brace">}</em>
<a id="L119" name="L119"></a> 119 
<div class="comment">
      Sets the format that dictates the legal values that can be edited
      and displayed.
      <p>
      If you have used the nullary constructor the value of this property
      will be determined for the current locale by way of the
      <code>NumberFormat.getNumberInstance()</code> method.
      @param format NumberFormat instance used to dictate legal values</p></div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27441.html" title="Multiple referred from 6 places.">setFormat</a>(<a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>) <em class="brace">{</em>
<a id="L131" name="L131"></a> 131         <strong class="reserved">super</strong>.<a href="../D/32766.html" title="Multiple defined in 5 places.">setFormat</a>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>);
<a id="L132" name="L132"></a> 132 
<a id="L133" name="L133"></a> 133         <a href="../S/2462.html#L71" title="Defined at 71 in src/java/text/DecimalFormatSymbols.java.">DecimalFormatSymbols</a> dfs = <a href="../D/18236.html" title="Multiple defined in 2 places.">getDecimalFormatSymbols</a>();
<a id="L134" name="L134"></a> 134 
<a id="L135" name="L135"></a> 135         <strong class="reserved">if</strong> (dfs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L136" name="L136"></a> 136             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L137" name="L137"></a> 137 
<a id="L138" name="L138"></a> 138             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../S/2462.html#L385" title="Defined at 385 in src/java/text/DecimalFormatSymbols.java.">getCurrencySymbol</a>());
<a id="L139" name="L139"></a> 139             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../D/18238.html" title="Multiple defined in 3 places.">getDecimalSeparator</a>());
<a id="L140" name="L140"></a> 140             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../S/2462.html#L211" title="Defined at 211 in src/java/text/DecimalFormatSymbols.java.">getGroupingSeparator</a>());
<a id="L141" name="L141"></a> 141             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../S/2462.html#L322" title="Defined at 322 in src/java/text/DecimalFormatSymbols.java.">getInfinity</a>());
<a id="L142" name="L142"></a> 142             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../S/2462.html#L409" title="Defined at 409 in src/java/text/DecimalFormatSymbols.java.">getInternationalCurrencySymbol</a>());
<a id="L143" name="L143"></a> 143             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../D/20680.html" title="Multiple defined in 2 places.">getMinusSign</a>());
<a id="L144" name="L144"></a> 144             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../S/2462.html#L483" title="Defined at 483 in src/java/text/DecimalFormatSymbols.java.">getMonetaryDecimalSeparator</a>());
<a id="L145" name="L145"></a> 145             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../S/2462.html#L342" title="Defined at 342 in src/java/text/DecimalFormatSymbols.java.">getNaN</a>());
<a id="L146" name="L146"></a> 146             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(dfs.<a href="../S/2462.html#L265" title="Defined at 265 in src/java/text/DecimalFormatSymbols.java.">getPercent</a>());
<a id="L147" name="L147"></a> 147             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('+');
<a id="L148" name="L148"></a> 148             specialChars = sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L149" name="L149"></a> 149         <em class="brace">}</em>
<a id="L150" name="L150"></a> 150         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L151" name="L151"></a> 151             specialChars = "";
<a id="L152" name="L152"></a> 152         <em class="brace">}</em>
<a id="L153" name="L153"></a> 153     <em class="brace">}</em>
<a id="L154" name="L154"></a> 154 
<div class="comment">
      Invokes <code>parseObject</code> on <code>f</code>, returning
      its value.</div>
<a id="L159" name="L159"></a> 159     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/28956.html" title="Multiple referred from 13 places.">stringToValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> f) <strong class="reserved">throws</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L160" name="L160"></a> 160         <strong class="reserved">if</strong> (f == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L161" name="L161"></a> 161             <strong class="reserved">return</strong> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L162" name="L162"></a> 162         <em class="brace">}</em>
<a id="L163" name="L163"></a> 163         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = f.<a href="../D/29171.html" title="Multiple defined in 7 places.">parseObject</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L164" name="L164"></a> 164 
<a id="L165" name="L165"></a> 165         <strong class="reserved">return</strong> <a href="../S/3265.html#L175" title="Defined at 175 in src/javax/swing/text/NumberFormatter.java.">convertValueToValueClass</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../S/3327.html#L218" title="Defined at 218 in src/javax/swing/text/DefaultFormatter.java.">getValueClass</a>());
<a id="L166" name="L166"></a> 166     <em class="brace">}</em>
<a id="L167" name="L167"></a> 167 
<div class="comment">
      Converts the passed in value to the passed in class. This only
      works if <code>valueClass</code> is one of <code>Integer</code>,
      <code>Long</code>, <code>Float</code>, <code>Double</code>,
      <code>Byte</code> or <code>Short</code> and <code>value</code>
      is an instanceof <code>Number</code>.</div>
<a id="L175" name="L175"></a> 175     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/3265.html#L165" title="Referred from 165 in src/javax/swing/text/NumberFormatter.java.">convertValueToValueClass</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> valueClass) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176         <strong class="reserved">if</strong> (valueClass != <strong class="reserved">null</strong> &amp;&amp; (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> <strong class="reserved">instanceof</strong> <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a>)) <em class="brace">{</em>
<a id="L177" name="L177"></a> 177             <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> numberValue = (<a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a>)<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L178" name="L178"></a> 178             <strong class="reserved">if</strong> (valueClass == <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179                 <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(numberValue.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L180" name="L180"></a> 180             <em class="brace">}</em>
<a id="L181" name="L181"></a> 181             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (valueClass == <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L182" name="L182"></a> 182                 <strong class="reserved">return</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(numberValue.<a href="../D/27086.html" title="Multiple defined in 24 places.">longValue</a>());
<a id="L183" name="L183"></a> 183             <em class="brace">}</em>
<a id="L184" name="L184"></a> 184             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (valueClass == <a href="../D/3293.html" title="Multiple defined in 10 places.">Float</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L185" name="L185"></a> 185                 <strong class="reserved">return</strong> <a href="../D/3293.html" title="Multiple defined in 10 places.">Float</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(numberValue.<a href="../D/16466.html" title="Multiple defined in 15 places.">floatValue</a>());
<a id="L186" name="L186"></a> 186             <em class="brace">}</em>
<a id="L187" name="L187"></a> 187             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (valueClass == <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188                 <strong class="reserved">return</strong> <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(numberValue.<a href="../D/15134.html" title="Multiple defined in 16 places.">doubleValue</a>());
<a id="L189" name="L189"></a> 189             <em class="brace">}</em>
<a id="L190" name="L190"></a> 190             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (valueClass == <a href="../D/1038.html" title="Multiple defined in 2 places.">Byte</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L191" name="L191"></a> 191                 <strong class="reserved">return</strong> <a href="../D/1038.html" title="Multiple defined in 2 places.">Byte</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(numberValue.<a href="../D/11993.html" title="Multiple defined in 9 places.">byteValue</a>());
<a id="L192" name="L192"></a> 192             <em class="brace">}</em>
<a id="L193" name="L193"></a> 193             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (valueClass == <a href="../S/1596.html#L43" title="Defined at 43 in src/java/lang/Short.java.">Short</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L194" name="L194"></a> 194                 <strong class="reserved">return</strong> <a href="../S/1596.html#L43" title="Defined at 43 in src/java/lang/Short.java.">Short</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(numberValue.<a href="../D/34461.html" title="Multiple defined in 8 places.">shortValue</a>());
<a id="L195" name="L195"></a> 195             <em class="brace">}</em>
<a id="L196" name="L196"></a> 196         <em class="brace">}</em>
<a id="L197" name="L197"></a> 197         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L198" name="L198"></a> 198     <em class="brace">}</em>
<a id="L199" name="L199"></a> 199 
<div class="comment">
      Returns the character that is used to toggle to positive values.</div>
<a id="L203" name="L203"></a> 203     <strong class="reserved">private</strong> <strong class="reserved">char</strong> <a href="../R/18387.html" title="Multiple referred from 6 places.">getPositiveSign</a>() <em class="brace">{</em>
<a id="L204" name="L204"></a> 204         <strong class="reserved">return</strong> '+';
<a id="L205" name="L205"></a> 205     <em class="brace">}</em>
<a id="L206" name="L206"></a> 206 
<div class="comment">
      Returns the character that is used to toggle to negative values.</div>
<a id="L210" name="L210"></a> 210     <strong class="reserved">private</strong> <strong class="reserved">char</strong> <a href="../R/17752.html" title="Multiple referred from 13 places.">getMinusSign</a>() <em class="brace">{</em>
<a id="L211" name="L211"></a> 211         <a href="../S/2462.html#L71" title="Defined at 71 in src/java/text/DecimalFormatSymbols.java.">DecimalFormatSymbols</a> dfs = <a href="../D/18236.html" title="Multiple defined in 2 places.">getDecimalFormatSymbols</a>();
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213         <strong class="reserved">if</strong> (dfs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214             <strong class="reserved">return</strong> dfs.<a href="../D/20680.html" title="Multiple defined in 2 places.">getMinusSign</a>();
<a id="L215" name="L215"></a> 215         <em class="brace">}</em>
<a id="L216" name="L216"></a> 216         <strong class="reserved">return</strong> '-';
<a id="L217" name="L217"></a> 217     <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<div class="comment">
      Returns the character that is used to toggle to negative values.</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">private</strong> <strong class="reserved">char</strong> <a href="../R/15971.html" title="Multiple referred from 15 places.">getDecimalSeparator</a>() <em class="brace">{</em>
<a id="L223" name="L223"></a> 223         <a href="../S/2462.html#L71" title="Defined at 71 in src/java/text/DecimalFormatSymbols.java.">DecimalFormatSymbols</a> dfs = <a href="../D/18236.html" title="Multiple defined in 2 places.">getDecimalFormatSymbols</a>();
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225         <strong class="reserved">if</strong> (dfs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L226" name="L226"></a> 226             <strong class="reserved">return</strong> dfs.<a href="../D/18238.html" title="Multiple defined in 3 places.">getDecimalSeparator</a>();
<a id="L227" name="L227"></a> 227         <em class="brace">}</em>
<a id="L228" name="L228"></a> 228         <strong class="reserved">return</strong> '.';
<a id="L229" name="L229"></a> 229     <em class="brace">}</em>
<a id="L230" name="L230"></a> 230 
<div class="comment">
      Returns the DecimalFormatSymbols from the Format instance.</div>
<a id="L234" name="L234"></a> 234     <strong class="reserved">private</strong> <a href="../S/2462.html#L71" title="Defined at 71 in src/java/text/DecimalFormatSymbols.java.">DecimalFormatSymbols</a> <a href="../R/15969.html" title="Multiple referred from 6 places.">getDecimalFormatSymbols</a>() <em class="brace">{</em>
<a id="L235" name="L235"></a> 235         <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> f = <a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>();
<a id="L236" name="L236"></a> 236 
<a id="L237" name="L237"></a> 237         <strong class="reserved">if</strong> (f <strong class="reserved">instanceof</strong> <a href="../S/2458.html#L381" title="Defined at 381 in src/java/text/DecimalFormat.java.">DecimalFormat</a>) <em class="brace">{</em>
<a id="L238" name="L238"></a> 238             <strong class="reserved">return</strong> ((<a href="../S/2458.html#L381" title="Defined at 381 in src/java/text/DecimalFormat.java.">DecimalFormat</a>)f).<a href="../D/18236.html" title="Multiple defined in 2 places.">getDecimalFormatSymbols</a>();
<a id="L239" name="L239"></a> 239         <em class="brace">}</em>
<a id="L240" name="L240"></a> 240         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L241" name="L241"></a> 241     <em class="brace">}</em>
<a id="L242" name="L242"></a> 242 
<div class="comment">
      Subclassed to return false if <code>text</code> contains in an invalid
      character to insert, that is, it is not a digit
      (<code>Character.isDigit()</code>) and
      not one of the characters defined by the DecimalFormatSymbols.</div>
<a id="L249" name="L249"></a> 249     <strong class="reserved">boolean</strong> <a href="../S/3327.html#L585" title="Referred from 585 in src/javax/swing/text/DefaultFormatter.java.">isLegalInsertText</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>) <em class="brace">{</em>
<a id="L250" name="L250"></a> 250         <strong class="reserved">if</strong> (<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>()) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L252" name="L252"></a> 252         <em class="brace">}</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1; counter &gt;= 0; counter--) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254             <strong class="reserved">char</strong> aChar = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(counter);
<a id="L255" name="L255"></a> 255 
<a id="L256" name="L256"></a> 256             <strong class="reserved">if</strong> (!<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/25439.html" title="Multiple defined in 11 places.">isDigit</a>(aChar) &amp;&amp;
<a id="L257" name="L257"></a> 257                            specialChars.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(aChar) == -1)<em class="brace">{</em>
<a id="L258" name="L258"></a> 258                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L259" name="L259"></a> 259             <em class="brace">}</em>
<a id="L260" name="L260"></a> 260         <em class="brace">}</em>
<a id="L261" name="L261"></a> 261         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L262" name="L262"></a> 262     <em class="brace">}</em>
<a id="L263" name="L263"></a> 263 
<div class="comment">
      Subclassed to treat the decimal separator, grouping separator,
      exponent symbol, percent, permille, currency and sign as literals.</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">boolean</strong> <a href="../R/21677.html" title="Multiple referred from 18 places.">isLiteral</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> attrs) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269         <strong class="reserved">if</strong> (!<strong class="reserved">super</strong>.<a href="../D/25814.html" title="Multiple defined in 7 places.">isLiteral</a>(attrs)) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270             <strong class="reserved">if</strong> (attrs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L272" name="L272"></a> 272             <em class="brace">}</em>
<a id="L273" name="L273"></a> 273             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = attrs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L274" name="L274"></a> 274 
<a id="L275" name="L275"></a> 275             <strong class="reserved">if</strong> (attrs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.GROUPING_SEPARATOR) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L277" name="L277"></a> 277                 <strong class="reserved">if</strong> (attrs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.<a href="../S/2603.html#L51" title="Defined at 51 in src/java/sql/JDBCType.java.">INTEGER</a>) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L278" name="L278"></a> 278                     <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L279" name="L279"></a> 279                 <em class="brace">}</em>
<a id="L280" name="L280"></a> 280             <em class="brace">}</em>
<a id="L281" name="L281"></a> 281             <strong class="reserved">if</strong> (attrs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.EXPONENT_SYMBOL) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L283" name="L283"></a> 283             <em class="brace">}</em>
<a id="L284" name="L284"></a> 284             <strong class="reserved">if</strong> (attrs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.PERCENT) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L286" name="L286"></a> 286             <em class="brace">}</em>
<a id="L287" name="L287"></a> 287             <strong class="reserved">if</strong> (attrs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.PERMILLE) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L288" name="L288"></a> 288                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L289" name="L289"></a> 289             <em class="brace">}</em>
<a id="L290" name="L290"></a> 290             <strong class="reserved">if</strong> (attrs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.CURRENCY) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L292" name="L292"></a> 292             <em class="brace">}</em>
<a id="L293" name="L293"></a> 293             <strong class="reserved">if</strong> (attrs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.SIGN) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L295" name="L295"></a> 295             <em class="brace">}</em>
<a id="L296" name="L296"></a> 296             <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> == 0;
<a id="L297" name="L297"></a> 297         <em class="brace">}</em>
<a id="L298" name="L298"></a> 298         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L299" name="L299"></a> 299     <em class="brace">}</em>
<a id="L300" name="L300"></a> 300 
<div class="comment">
      Subclassed to make the decimal separator navigable, as well
      as making the character between the integer field and the next
      field navigable.</div>
<a id="L306" name="L306"></a> 306     <strong class="reserved">boolean</strong> <a href="../R/21771.html" title="Multiple referred from 3 places.">isNavigatable</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <strong class="reserved">if</strong> (!<strong class="reserved">super</strong>.<a href="../D/25931.html" title="Multiple defined in 4 places.">isNavigatable</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)) <em class="brace">{</em>
<a id="L308" name="L308"></a> 308             <em class="comment">// Don't skip the decimal, it causes wierd behavior</em>
<a id="L309" name="L309"></a> 309             <strong class="reserved">return</strong> <a href="../S/3251.html#L753" title="Defined at 753 in src/javax/swing/text/InternationalFormatter.java.">getBufferedChar</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) == <a href="../D/18238.html" title="Multiple defined in 3 places.">getDecimalSeparator</a>();
<a id="L310" name="L310"></a> 310         <em class="brace">}</em>
<a id="L311" name="L311"></a> 311         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<div class="comment">
      Returns the first <code>NumberFormat.Field</code> starting
      <code>index</code> incrementing by <code>direction</code>.</div>
<a id="L318" name="L318"></a> 318     <strong class="reserved">private</strong> <a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> <a href="../S/3265.html#L367" title="Referred from 367 in src/javax/swing/text/NumberFormatter.java.">getFieldFrom</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> direction) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319         <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>()) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320             <strong class="reserved">int</strong> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L321" name="L321"></a> 321             <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += direction;
<a id="L325" name="L325"></a> 325             <em class="brace">}</em>
<a id="L326" name="L326"></a> 326             <strong class="reserved">while</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0 &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>) <em class="brace">{</em>
<a id="L327" name="L327"></a> 327                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L328" name="L328"></a> 328 
<a id="L329" name="L329"></a> 329                 <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> attrs = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L330" name="L330"></a> 330 
<a id="L331" name="L331"></a> 331                 <strong class="reserved">if</strong> (attrs != <strong class="reserved">null</strong> &amp;&amp; attrs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332                     <strong class="reserved">for</strong> (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> : attrs.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>()) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333                         <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> <strong class="reserved">instanceof</strong> <a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334                             <strong class="reserved">return</strong> (<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>)<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L335" name="L335"></a> 335                         <em class="brace">}</em>
<a id="L336" name="L336"></a> 336                     <em class="brace">}</em>
<a id="L337" name="L337"></a> 337                 <em class="brace">}</em>
<a id="L338" name="L338"></a> 338                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += direction;
<a id="L339" name="L339"></a> 339             <em class="brace">}</em>
<a id="L340" name="L340"></a> 340         <em class="brace">}</em>
<a id="L341" name="L341"></a> 341         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L342" name="L342"></a> 342     <em class="brace">}</em>
<a id="L343" name="L343"></a> 343 
<div class="comment">
      Overriden to toggle the value if the positive/minus sign
      is inserted.</div>
<a id="L348" name="L348"></a> 348     <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a>.<a href="../D/3245.html" title="Multiple defined in 2 places.">FilterBypass</a> fb, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L349" name="L349"></a> 349                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <strong class="reserved">if</strong> (!<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>() &amp;&amp; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0 &amp;&amp; <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> != <strong class="reserved">null</strong> &amp;&amp;
<a id="L351" name="L351"></a> 351             <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 1 &amp;&amp;
<a id="L352" name="L352"></a> 352             <a href="../S/3265.html#L363" title="Defined at 363 in src/javax/swing/text/NumberFormatter.java.">toggleSignIfNecessary</a>(fb, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0))) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353             <strong class="reserved">return</strong>;
<a id="L354" name="L354"></a> 354         <em class="brace">}</em>
<a id="L355" name="L355"></a> 355         <strong class="reserved">super</strong>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(fb, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L356" name="L356"></a> 356     <em class="brace">}</em>
<a id="L357" name="L357"></a> 357 
<div class="comment">
      Will change the sign of the integer or exponent field if
      <code>aChar</code> is the positive or minus sign. Returns
      true if a sign change was attempted.</div>
<a id="L363" name="L363"></a> 363     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/3265.html#L352" title="Referred from 352 in src/javax/swing/text/NumberFormatter.java.">toggleSignIfNecessary</a>(<a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a>.<a href="../D/3245.html" title="Multiple defined in 2 places.">FilterBypass</a> fb,
<a id="L364" name="L364"></a> 364                                               <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">char</strong> aChar) <strong class="reserved">throws</strong>
<a id="L365" name="L365"></a> 365                               <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L366" name="L366"></a> 366         <strong class="reserved">if</strong> (aChar == <a href="../D/20680.html" title="Multiple defined in 2 places.">getMinusSign</a>() || aChar == <a href="../D/21555.html" title="Multiple defined in 2 places.">getPositiveSign</a>()) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367             <a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> field = <a href="../S/3265.html#L318" title="Defined at 318 in src/javax/swing/text/NumberFormatter.java.">getFieldFrom</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, -1);
<a id="L368" name="L368"></a> 368             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newValue;
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L371" name="L371"></a> 371                 <strong class="reserved">if</strong> (field == <strong class="reserved">null</strong> ||
<a id="L372" name="L372"></a> 372                     (field != <a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.EXPONENT &amp;&amp;
<a id="L373" name="L373"></a> 373                      field != <a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.EXPONENT_SYMBOL &amp;&amp;
<a id="L374" name="L374"></a> 374                      field != <a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.EXPONENT_SIGN)) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375                     newValue = <a href="../S/3265.html#L403" title="Defined at 403 in src/javax/swing/text/NumberFormatter.java.">toggleSign</a>((aChar == <a href="../D/21555.html" title="Multiple defined in 2 places.">getPositiveSign</a>()));
<a id="L376" name="L376"></a> 376                 <em class="brace">}</em>
<a id="L377" name="L377"></a> 377                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L378" name="L378"></a> 378                     <em class="comment">// exponent</em>
<a id="L379" name="L379"></a> 379                     newValue = <a href="../S/3265.html#L451" title="Defined at 451 in src/javax/swing/text/NumberFormatter.java.">toggleExponentSign</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, aChar);
<a id="L380" name="L380"></a> 380                 <em class="brace">}</em>
<a id="L381" name="L381"></a> 381                 <strong class="reserved">if</strong> (newValue != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/26468.html" title="Multiple defined in 4 places.">isValidValue</a>(newValue, <strong class="reserved">false</strong>)) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382                     <strong class="reserved">int</strong> lc = <a href="../S/3251.html#L539" title="Defined at 539 in src/javax/swing/text/InternationalFormatter.java.">getLiteralCountTo</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L383" name="L383"></a> 383                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../D/36376.html" title="Multiple defined in 6 places.">valueToString</a>(newValue);
<a id="L384" name="L384"></a> 384 
<a id="L385" name="L385"></a> 385                     fb.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(0, fb.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L386" name="L386"></a> 386                     fb.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(0, <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>, <strong class="reserved">null</strong>);
<a id="L387" name="L387"></a> 387                     <a href="../D/36242.html" title="Multiple defined in 3 places.">updateValue</a>(newValue);
<a id="L388" name="L388"></a> 388                     <a href="../D/31108.html" title="Multiple defined in 2 places.">repositionCursor</a>(<a href="../S/3251.html#L539" title="Defined at 539 in src/javax/swing/text/InternationalFormatter.java.">getLiteralCountTo</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) -
<a id="L389" name="L389"></a> 389                                      lc + <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, 1);
<a id="L390" name="L390"></a> 390                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L391" name="L391"></a> 391                 <em class="brace">}</em>
<a id="L392" name="L392"></a> 392             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> pe) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393                 <a href="../D/24999.html" title="Multiple defined in 2 places.">invalidEdit</a>();
<a id="L394" name="L394"></a> 394             <em class="brace">}</em>
<a id="L395" name="L395"></a> 395         <em class="brace">}</em>
<a id="L396" name="L396"></a> 396         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L397" name="L397"></a> 397     <em class="brace">}</em>
<a id="L398" name="L398"></a> 398 
<div class="comment">
      Invoked to toggle the sign. For this to work the value class
      must have a single arg constructor that takes a String.</div>
<a id="L403" name="L403"></a> 403     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/3265.html#L375" title="Referred from 375 in src/javax/swing/text/NumberFormatter.java.">toggleSign</a>(<strong class="reserved">boolean</strong> positive) <strong class="reserved">throws</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L404" name="L404"></a> 404         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/34943.html" title="Multiple defined in 9 places.">stringToValue</a>(<a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>());
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407             <em class="comment">// toString isn't localized, so that using +/- should work</em>
<a id="L408" name="L408"></a> 408             <em class="comment">// correctly.</em>
<a id="L409" name="L409"></a> 409             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L410" name="L410"></a> 410 
<a id="L411" name="L411"></a> 411             <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412                 <strong class="reserved">if</strong> (positive) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                     <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '-') <em class="brace">{</em>
<a id="L414" name="L414"></a> 414                         <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L415" name="L415"></a> 415                     <em class="brace">}</em>
<a id="L416" name="L416"></a> 416                 <em class="brace">}</em>
<a id="L417" name="L417"></a> 417                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L418" name="L418"></a> 418                     <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '+') <em class="brace">{</em>
<a id="L419" name="L419"></a> 419                         <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L420" name="L420"></a> 420                     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421                     <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0 &amp;&amp; <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) != '-') <em class="brace">{</em>
<a id="L422" name="L422"></a> 422                         <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = "-" + <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>;
<a id="L423" name="L423"></a> 423                     <em class="brace">}</em>
<a id="L424" name="L424"></a> 424                 <em class="brace">}</em>
<a id="L425" name="L425"></a> 425                 <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; valueClass = <a href="../S/3327.html#L218" title="Defined at 218 in src/javax/swing/text/DefaultFormatter.java.">getValueClass</a>();
<a id="L427" name="L427"></a> 427 
<a id="L428" name="L428"></a> 428                     <strong class="reserved">if</strong> (valueClass == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429                         valueClass = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>();
<a id="L430" name="L430"></a> 430                     <em class="brace">}</em>
<a id="L431" name="L431"></a> 431                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L432" name="L432"></a> 432                         ReflectUtil.<a href="../D/12578.html" title="Multiple defined in 3 places.">checkPackageAccess</a>(valueClass);
<a id="L433" name="L433"></a> 433                         SwingUtilities2.<a href="../D/12351.html" title="Multiple defined in 20 places.">checkAccess</a>(valueClass.<a href="../D/20712.html" title="Multiple defined in 18 places.">getModifiers</a>());
<a id="L434" name="L434"></a> 434                         <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a> cons = valueClass.<a href="../D/17932.html" title="Multiple defined in 2 places.">getConstructor</a>(
<a id="L435" name="L435"></a> 435                                               <strong class="reserved">new</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>[] <em class="brace">{</em> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong> <em class="brace">}</em>);
<a id="L436" name="L436"></a> 436                         <strong class="reserved">if</strong> (cons != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437                             SwingUtilities2.<a href="../D/12351.html" title="Multiple defined in 20 places.">checkAccess</a>(cons.<a href="../D/20712.html" title="Multiple defined in 18 places.">getModifiers</a>());
<a id="L438" name="L438"></a> 438                             <strong class="reserved">return</strong> cons.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(<strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a><em class="brace">}</em>);
<a id="L439" name="L439"></a> 439                         <em class="brace">}</em>
<a id="L440" name="L440"></a> 440                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em> <em class="brace">}</em>
<a id="L441" name="L441"></a> 441                 <em class="brace">}</em>
<a id="L442" name="L442"></a> 442             <em class="brace">}</em>
<a id="L443" name="L443"></a> 443         <em class="brace">}</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L445" name="L445"></a> 445     <em class="brace">}</em>
<a id="L446" name="L446"></a> 446 
<div class="comment">
      Invoked to toggle the sign of the exponent (for scientific
      numbers).</div>
<a id="L451" name="L451"></a> 451     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/3265.html#L379" title="Referred from 379 in src/javax/swing/text/NumberFormatter.java.">toggleExponentSign</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">char</strong> aChar) <strong class="reserved">throws</strong>
<a id="L452" name="L452"></a> 452                              <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>();
<a id="L454" name="L454"></a> 454         <strong class="reserved">int</strong> replaceLength = 0;
<a id="L455" name="L455"></a> 455         <strong class="reserved">int</strong> loc = <a href="../S/3251.html#L461" title="Defined at 461 in src/javax/swing/text/InternationalFormatter.java.">getAttributeStart</a>(<a href="../S/2488.html#L182" title="Defined at 182 in src/java/text/NumberFormat.java.">NumberFormat</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>.EXPONENT_SIGN);
<a id="L456" name="L456"></a> 456 
<a id="L457" name="L457"></a> 457         <strong class="reserved">if</strong> (loc &gt;= 0) <em class="brace">{</em>
<a id="L458" name="L458"></a> 458             replaceLength = 1;
<a id="L459" name="L459"></a> 459             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = loc;
<a id="L460" name="L460"></a> 460         <em class="brace">}</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">if</strong> (aChar == <a href="../D/21555.html" title="Multiple defined in 2 places.">getPositiveSign</a>()) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../S/3327.html#L386" title="Defined at 386 in src/javax/swing/text/DefaultFormatter.java.">getReplaceString</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, replaceLength, <strong class="reserved">null</strong>);
<a id="L463" name="L463"></a> 463         <em class="brace">}</em>
<a id="L464" name="L464"></a> 464         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L465" name="L465"></a> 465             <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../S/3327.html#L386" title="Defined at 386 in src/javax/swing/text/DefaultFormatter.java.">getReplaceString</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, replaceLength,
<a id="L466" name="L466"></a> 466                                       <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<strong class="reserved">new</strong> <strong class="reserved">char</strong>[] <em class="brace">{</em> aChar <em class="brace">}</em>));
<a id="L467" name="L467"></a> 467         <em class="brace">}</em>
<a id="L468" name="L468"></a> 468         <strong class="reserved">return</strong> <a href="../D/34943.html" title="Multiple defined in 9 places.">stringToValue</a>(<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>);
<a id="L469" name="L469"></a> 469     <em class="brace">}</em>
<a id="L470" name="L470"></a> 470 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L130">[^]</a><a href="#L451">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>