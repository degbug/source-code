<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/concurrent/ForkJoinTask.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L266">[^]</a><a href="#L1503">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L266" title="Defined at 266.">setCompletion</a></li>
<li><a href="#L285" title="Defined at 285.">doExec</a></li>
<li><a href="#L305" title="Defined at 305.">internalWait</a></li>
<li><a href="#L322" title="Defined at 322.">externalAwaitDone</a></li>
<li><a href="#L353" title="Defined at 353.">externalInterruptibleAwaitDone</a></li>
<li><a href="#L384" title="Defined at 384.">doJoin</a></li>
<li><a href="#L399" title="Defined at 399.">doInvoke</a></li>
<li><a href="#L459" title="Defined at 459.">recordExceptionalCompletion</a></li>
<li><a href="#L490" title="Defined at 490.">setExceptionalCompletion</a></li>
<li><a href="#L500" title="Defined at 500.">internalPropagateException</a></li>
<li><a href="#L509" title="Defined at 509.">cancelIgnoringExceptions</a></li>
<li><a href="#L521" title="Defined at 521.">clearExceptionalCompletion</a></li>
<li><a href="#L563" title="Defined at 563.">getThrowableException</a></li>
<li><a href="#L613" title="Defined at 613.">expungeStaleExceptions</a></li>
<li><a href="#L641" title="Defined at 641.">helpExpungeStaleExceptions</a></li>
<li><a href="#L655" title="Defined at 655.">rethrow</a></li>
<li><a href="#L665" title="Defined at 665.">SuppressWarnings</a></li>
<li><a href="#L666" title="Defined at 666.">uncheckedThrow</a></li>
<li><a href="#L673" title="Defined at 673.">reportException</a></li>
<li><a href="#L697" title="Defined at 697.">fork</a></li>
<li><a href="#L717" title="Defined at 717.">join</a></li>
<li><a href="#L732" title="Defined at 732.">invoke</a></li>
<li><a href="#L756" title="Defined at 756.">invokeAll</a></li>
<li><a href="#L780" title="Defined at 780.">invokeAll</a></li>
<li><a href="#L825" title="Defined at 825.">invokeAll</a></li>
<li><a href="#L887" title="Defined at 887.">cancel</a></li>
<li><a href="#L891" title="Defined at 891.">isDone</a></li>
<li><a href="#L895" title="Defined at 895.">isCancelled</a></li>
<li><a href="#L904" title="Defined at 904.">isCompletedAbnormally</a></li>
<li><a href="#L915" title="Defined at 915.">isCompletedNormally</a></li>
<li><a href="#L926" title="Defined at 926.">getException</a></li>
<li><a href="#L947" title="Defined at 947.">completeExceptionally</a></li>
<li><a href="#L966" title="Defined at 966.">complete</a></li>
<li><a href="#L984" title="Defined at 984.">quietlyComplete</a></li>
<li><a href="#L999" title="Defined at 999.">get</a></li>
<li><a href="#L1024" title="Defined at 1024.">get</a></li>
<li><a href="#L1078" title="Defined at 1078.">quietlyJoin</a></li>
<li><a href="#L1087" title="Defined at 1087.">quietlyInvoke</a></li>
<li><a href="#L1098" title="Defined at 1098.">helpQuiesce</a></li>
<li><a href="#L1124" title="Defined at 1124.">reinitialize</a></li>
<li><a href="#L1138" title="Defined at 1138.">getPool</a></li>
<li><a href="#L1152" title="Defined at 1152.">inForkJoinPool</a></li>
<li><a href="#L1166" title="Defined at 1166.">tryUnfork</a></li>
<li><a href="#L1181" title="Defined at 1181.">getQueuedTaskCount</a></li>
<li><a href="#L1203" title="Defined at 1203.">getSurplusQueuedTaskCount</a></li>
<li><a href="#L1218" title="Defined at 1218.">getRawResult</a></li>
<li><a href="#L1227" title="Defined at 1227.">setRawResult</a></li>
<li><a href="#L1243" title="Defined at 1243.">exec</a></li>
<li><a href="#L1257" title="Defined at 1257.">peekNextLocalTask</a></li>
<li><a href="#L1275" title="Defined at 1275.">pollNextLocalTask</a></li>
<li><a href="#L1295" title="Defined at 1295.">pollTask</a></li>
<li><a href="#L1310" title="Defined at 1310.">getForkJoinTaskTag</a></li>
<li><a href="#L1321" title="Defined at 1321.">setForkJoinTaskTag</a></li>
<li><a href="#L1343" title="Defined at 1343.">compareAndSetForkJoinTaskTag</a></li>
<li><a href="#L1367" title="Defined at 1367.">getRawResult</a></li>
<li><a href="#L1368" title="Defined at 1368.">setRawResult</a></li>
<li><a href="#L1369" title="Defined at 1369.">exec</a></li>
<li><a href="#L1370" title="Defined at 1370.">run</a></li>
<li><a href="#L1384" title="Defined at 1384.">getRawResult</a></li>
<li><a href="#L1385" title="Defined at 1385.">setRawResult</a></li>
<li><a href="#L1386" title="Defined at 1386.">exec</a></li>
<li><a href="#L1387" title="Defined at 1387.">run</a></li>
<li><a href="#L1400" title="Defined at 1400.">getRawResult</a></li>
<li><a href="#L1401" title="Defined at 1401.">setRawResult</a></li>
<li><a href="#L1402" title="Defined at 1402.">exec</a></li>
<li><a href="#L1403" title="Defined at 1403.">internalPropagateException</a></li>
<li><a href="#L1420" title="Defined at 1420.">getRawResult</a></li>
<li><a href="#L1421" title="Defined at 1421.">setRawResult</a></li>
<li><a href="#L1422" title="Defined at 1422.">exec</a></li>
<li><a href="#L1434" title="Defined at 1434.">run</a></li>
<li><a href="#L1446" title="Defined at 1446.">adapt</a></li>
<li><a href="#L1460" title="Defined at 1460.">adapt</a></li>
<li><a href="#L1474" title="Defined at 1474.">adapt</a></li>
<li><a href="#L1490" title="Defined at 1490.">writeObject</a></li>
<li><a href="#L1503" title="Defined at 1503.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L24" name="L24"></a>  24 
<div class="comment">
  Written by Doug Lea with assistance from members of JCP JSR-166
  Expert Group and released to the public domain, as explained at
  http://creativecommons.org/publicdomain/zero/1.0/</div>
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.concurrent;
<a id="L37" name="L37"></a>  37 
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.util.Collection;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.util.List;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.util.RandomAccess;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.lang.ref.ReferenceQueue;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.concurrent.Callable;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.concurrent.CancellationException;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.concurrent.ExecutionException;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.util.concurrent.Future;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.util.concurrent.RejectedExecutionException;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.util.concurrent.RunnableFuture;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.util.concurrent.TimeUnit;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.util.concurrent.TimeoutException;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> java.util.concurrent.locks.ReentrantLock;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> java.lang.reflect.Constructor;
<a id="L54" name="L54"></a>  54 
<div class="comment">
  Abstract base class for tasks that run within a <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.
  A <code>ForkJoinTask</code> is a thread-like entity that is much
  lighter weight than a normal thread.  Huge numbers of tasks and
  subtasks may be hosted by a small number of actual threads in a
  ForkJoinPool, at the price of some usage limitations.
  <p>A "main" <code>ForkJoinTask</code> begins execution when it is
  explicitly submitted to a <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>, or, if not already
  engaged in a ForkJoin computation, commenced in the {@link
  ForkJoinPool#commonPool()} via <a href="#L697" title="Defined at 697.">fork</a>, <a href="#L732" title="Defined at 732.">invoke</a>, or
  related methods.  Once started, it will usually in turn start other
  subtasks.  As indicated by the name of this class, many programs
  using <code>ForkJoinTask</code> employ only methods <a href="#L697" title="Defined at 697.">fork</a> and
  <a href="#L717" title="Defined at 717.">join</a>, or derivatives such as {@link
  #invokeAll(ForkJoinTask...) invokeAll}.  However, this class also
  provides a number of other methods that can come into play in
  advanced usages, as well as extension mechanics that allow support
  of new forms of fork/join processing.
  </p><p>A <code>ForkJoinTask</code> is a lightweight form of <a href="../D/3465.html" title="Multiple defined in 2 places.">Future</a>.
  The efficiency of <code>ForkJoinTask</code>s stems from a set of
  restrictions (that are only partially statically enforceable)
  reflecting their main use as computational tasks calculating pure
  functions or operating on purely isolated objects.  The primary
  coordination mechanisms are <a href="#L697" title="Defined at 697.">fork</a>, that arranges
  asynchronous execution, and <a href="#L717" title="Defined at 717.">join</a>, that doesn't proceed
  until the task's result has been computed.  Computations should
  ideally avoid <code>synchronized</code> methods or blocks, and should
  minimize other blocking synchronization apart from joining other
  tasks or using synchronizers such as Phasers that are advertised to
  cooperate with fork/join scheduling. Subdividable tasks should also
  not perform blocking I/O, and should ideally access variables that
  are completely independent of those accessed by other running
  tasks. These guidelines are loosely enforced by not permitting
  checked exceptions such as <code>IOExceptions</code> to be
  thrown. However, computations may still encounter unchecked
  exceptions, that are rethrown to callers attempting to join
  them. These exceptions may additionally include {@link
  RejectedExecutionException} stemming from internal resource
  exhaustion, such as failure to allocate internal task
  queues. Rethrown exceptions behave in the same way as regular
  exceptions, but, when possible, contain stack traces (as displayed
  for example using <code>ex.printStackTrace()</code>) of both the thread
  that initiated the computation as well as the thread actually
  encountering the exception; minimally only the latter.
  </p><p>It is possible to define and use ForkJoinTasks that may block,
  but doing do requires three further considerations: (1) Completion
  of few if any <em>other</em> tasks should be dependent on a task
  that blocks on external synchronization or I/O. Event-style async
  tasks that are never joined (for example, those subclassing {@link
  CountedCompleter}) often fall into this category.  (2) To minimize
  resource impact, tasks should be small; ideally performing only the
  (possibly) blocking action. (3) Unless the {@link
  ForkJoinPool.ManagedBlocker} API is used, or the number of possibly
  blocked tasks is known to be less than the pool's {@link
  ForkJoinPool#getParallelism} level, the pool cannot guarantee that
  enough threads will be available to ensure progress or good
  performance.
  </p><p>The primary method for awaiting completion and extracting
  results of a task is <a href="#L717" title="Defined at 717.">join</a>, but there are several variants:
  The {@link Future#get} methods support interruptible and/or timed
  waits for completion and report results using <code>Future</code>
  conventions. Method <a href="#L732" title="Defined at 732.">invoke</a> is semantically
  equivalent to <code>fork(); join()</code> but always attempts to begin
  execution in the current thread. The "<em>quiet</em>" forms of
  these methods do not extract results or report exceptions. These
  may be useful when a set of tasks are being executed, and you need
  to delay processing of results or exceptions until all complete.
  Method <code>invokeAll</code> (available in multiple versions)
  performs the most common form of parallel invocation: forking a set
  of tasks and joining them all.
  </p><p>In the most typical usages, a fork-join pair act like a call
  (fork) and return (join) from a parallel recursive function. As is
  the case with other forms of recursive calls, returns (joins)
  should be performed innermost-first. For example, {@code a.fork();
  b.fork(); b.join(); a.join();} is likely to be substantially more
  efficient than joining <code>a</code> before <code>b</code>.
  </p><p>The execution status of tasks may be queried at several levels
  of detail: <a href="#L891" title="Defined at 891.">isDone</a> is true if a task completed in any way
  (including the case where a task was cancelled without executing);
  <a href="#L915" title="Defined at 915.">isCompletedNormally</a> is true if a task completed without
  cancellation or encountering an exception; <a href="#L895" title="Defined at 895.">isCancelled</a> is
  true if the task was cancelled (in which case <a href="#L926" title="Defined at 926.">getException</a>
  returns a {@link java.util.concurrent.CancellationException}); and
  <a href="#L904" title="Defined at 904.">isCompletedAbnormally</a> is true if a task was either
  cancelled or encountered an exception, in which case {@link
  #getException} will return either the encountered exception or
  {@link java.util.concurrent.CancellationException}.
  </p><p>The ForkJoinTask class is not usually directly subclassed.
  Instead, you subclass one of the abstract classes that support a
  particular style of fork/join processing, typically {@link
  RecursiveAction} for most computations that do not return results,
  {@link RecursiveTask} for those that do, and {@link
  CountedCompleter} for those in which completed actions trigger
  other actions.  Normally, a concrete ForkJoinTask subclass declares
  fields comprising its parameters, established in a constructor, and
  then defines a <code>compute</code> method that somehow uses the control
  methods supplied by this base class.
  </p><p>Method <a href="#L717" title="Defined at 717.">join</a> and its variants are appropriate for use
  only when completion dependencies are acyclic; that is, the
  parallel computation can be described as a directed acyclic graph
  (DAG). Otherwise, executions may encounter a form of deadlock as
  tasks cyclically wait for each other.  However, this framework
  supports other methods and techniques (for example the use of
  {@link Phaser}, <a href="#L1098" title="Defined at 1098.">helpQuiesce</a>, and <a href="#L966" title="Defined at 966.">complete</a>) that
  may be of use in constructing custom subclasses for problems that
  are not statically structured as DAGs. To support such usages, a
  ForkJoinTask may be atomically <em>tagged</em> with a <code>short</code>
  value using <a href="#L1321" title="Defined at 1321.">setForkJoinTaskTag</a> or {@link
  #compareAndSetForkJoinTaskTag} and checked using {@link
  #getForkJoinTaskTag}. The ForkJoinTask implementation does not use
  these <code>protected</code> methods or tags for any purpose, but they
  may be of use in the construction of specialized subclasses.  For
  example, parallel graph traversals can use the supplied methods to
  avoid revisiting nodes/tasks that have already been processed.
  (Method names for tagging are bulky in part to encourage definition
  of methods that reflect their usage patterns.)
  </p><p>Most base support methods are <code>final</code>, to prevent
  overriding of implementations that are intrinsically tied to the
  underlying lightweight task scheduling framework.  Developers
  creating new basic styles of fork/join processing should minimally
  implement <code>protected</code> methods <a href="#L1243" title="Defined at 1243.">exec</a>, {@link
  #setRawResult}, and <a href="#L1218" title="Defined at 1218.">getRawResult</a>, while also introducing
  an abstract computational method that can be implemented in its
  subclasses, possibly relying on other <code>protected</code> methods
  provided by this class.
  </p><p>ForkJoinTasks should perform relatively small amounts of
  computation. Large tasks should be split into smaller subtasks,
  usually via recursive decomposition. As a very rough rule of thumb,
  a task should perform more than 100 and less than 10000 basic
  computational steps, and should avoid indefinite looping. If tasks
  are too big, then parallelism cannot improve throughput. If too
  small, then memory and internal task maintenance overhead may
  overwhelm processing.
  </p><p>This class provides <code>adapt</code> methods for <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>
  and <a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>, that may be of use when mixing execution of
  <code>ForkJoinTasks</code> with other kinds of tasks. When all tasks are
  of this form, consider using a pool constructed in <em>asyncMode</em>.
  </p><p>ForkJoinTasks are <code>Serializable</code>, which enables them to be
  used in extensions such as remote execution frameworks. It is
  sensible to serialize tasks only before or after, but not during,
  execution. Serialization is not relied on during execution itself.
  @since 1.7
  @author Doug Lea</p></div>
<a id="L212" name="L212"></a> 212 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/3086.html" title="Multiple referred from 128 places.">ForkJoinTask</a>&lt;V&gt; <strong class="reserved">implements</strong> <a href="../D/3465.html" title="Multiple defined in 2 places.">Future</a>&lt;V&gt;, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L213" name="L213"></a> 213 
<div class="comment">
      See the internal documentation of class ForkJoinPool for a
      general implementation overview.  ForkJoinTasks are mainly
      responsible for maintaining their "status" field amidst relays
      to methods in ForkJoinWorkerThread and ForkJoinPool.
      The methods of this class are more-or-less layered into
      (1) basic status maintenance
      (2) execution and awaiting completion
      (3) user-level methods that additionally report results.
      This is sometimes hard to see because this file orders exported
      methods in a way that flows well in javadocs.</div>
<a id="L227" name="L227"></a> 227 
<div class="comment">
      The status field holds run control status bits packed into a
      single int to minimize footprint and to ensure atomicity (via
      CAS).  Status is initially zero, and takes on nonnegative
      values until completed, upon which status (anded with
      DONE_MASK) holds value NORMAL, CANCELLED, or EXCEPTIONAL. Tasks
      undergoing blocking waits by other threads have the SIGNAL bit
      set.  Completion of a stolen task with SIGNAL set awakens any
      waiters via notifyAll. Even though suboptimal for some
      purposes, we use basic builtin wait/notify to take advantage of
      "monitor inflation" in JVMs that we would otherwise need to
      emulate to avoid adding further per-task bookkeeping overhead.
      We want these monitors to be "fat", i.e., not use biasing or
      thin-lock techniques, so use some odd coding idioms that tend
      to avoid them, mainly by arranging that every synchronized
      block performs a wait, notifyAll or both.
      These control bits occupy only (some of) the upper half (16
      bits) of status field. The lower bits are used for user-defined
      tags.</div>
<a id="L249" name="L249"></a> 249 
<div class="comment">
     /** The run status of this task */</div>
<a id="L251" name="L251"></a> 251     <strong class="reserved">volatile</strong> <strong class="reserved">int</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>; <em class="comment">// accessed directly by pool and workers</em>
<a id="L252" name="L252"></a> 252     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DONE_MASK   = 0xf0000000;  <em class="comment">// mask out non-completion bits</em>
<a id="L253" name="L253"></a> 253     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NORMAL      = 0xf0000000;  <em class="comment">// must be negative</em>
<a id="L254" name="L254"></a> 254     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CANCELLED   = 0xc0000000;  <em class="comment">// must be &lt; NORMAL</em>
<a id="L255" name="L255"></a> 255     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> EXCEPTIONAL = 0x80000000;  <em class="comment">// must be &lt; CANCELLED</em>
<a id="L256" name="L256"></a> 256     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SIGNAL      = 0x00010000;  <em class="comment">// must be &gt;= 1 &lt;&lt; 16</em>
<a id="L257" name="L257"></a> 257     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SMASK       = 0x0000ffff;  <em class="comment">// short bits for tags</em>
<a id="L258" name="L258"></a> 258 
<div class="comment">
      Marks completion and wakes up threads waiting to join this
      task.
      @param completion one of NORMAL, CANCELLED, EXCEPTIONAL
      @return completion status on exit</div>
<a id="L266" name="L266"></a> 266     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/27075.html" title="Multiple referred from 5 places.">setCompletion</a>(<strong class="reserved">int</strong> completion) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> s;;) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268             <strong class="reserved">if</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &lt; 0)
<a id="L269" name="L269"></a> 269                 <strong class="reserved">return</strong> s;
<a id="L270" name="L270"></a> 270             <strong class="reserved">if</strong> (U.compareAndSwapInt(<strong class="reserved">this</strong>, STATUS, s, s | completion)) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271                 <strong class="reserved">if</strong> ((s &gt;&gt;&gt; 16) != 0)
<a id="L272" name="L272"></a> 272                     <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em> <a href="../S/1724.html#L295" title="Defined at 295 in src/java/lang/Object.java.">notifyAll</a>(); <em class="brace">}</em>
<a id="L273" name="L273"></a> 273                 <strong class="reserved">return</strong> completion;
<a id="L274" name="L274"></a> 274             <em class="brace">}</em>
<a id="L275" name="L275"></a> 275         <em class="brace">}</em>
<a id="L276" name="L276"></a> 276     <em class="brace">}</em>
<a id="L277" name="L277"></a> 277 
<div class="comment">
      Primary execution method for stolen tasks. Unless done, calls
      exec and records status if completed, but doesn't wait for
      completion otherwise.
      @return status on exit from this method</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/13395.html" title="Multiple referred from 14 places.">doExec</a>() <em class="brace">{</em>
<a id="L286" name="L286"></a> 286         <strong class="reserved">int</strong> s; <strong class="reserved">boolean</strong> <a href="../S/2033.html#L55" title="Defined at 55 in src/java/nio/channels/CompletionHandler.java.">completed</a>;
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0) <em class="brace">{</em>
<a id="L288" name="L288"></a> 288             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L289" name="L289"></a> 289                 <a href="../S/2033.html#L55" title="Defined at 55 in src/java/nio/channels/CompletionHandler.java.">completed</a> = <a href="../D/15798.html" title="Multiple defined in 18 places.">exec</a>();
<a id="L290" name="L290"></a> 290             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> rex) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291                 <strong class="reserved">return</strong> <a href="../S/1101.html#L490" title="Defined at 490 in src/java/util/concurrent/ForkJoinTask.java.">setExceptionalCompletion</a>(rex);
<a id="L292" name="L292"></a> 292             <em class="brace">}</em>
<a id="L293" name="L293"></a> 293             <strong class="reserved">if</strong> (<a href="../S/2033.html#L55" title="Defined at 55 in src/java/nio/channels/CompletionHandler.java.">completed</a>)
<a id="L294" name="L294"></a> 294                 s = <a href="../S/1101.html#L266" title="Defined at 266 in src/java/util/concurrent/ForkJoinTask.java.">setCompletion</a>(NORMAL);
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">return</strong> s;
<a id="L297" name="L297"></a> 297     <em class="brace">}</em>
<a id="L298" name="L298"></a> 298 
<div class="comment">
      If not done, sets SIGNAL status and performs Object.wait(timeout).
      This task may or may not be done on exit. Ignores interrupts.
      @param timeout using Object.wait conventions.</div>
<a id="L305" name="L305"></a> 305     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/1063.html#L2058" title="Referred from 2058 in src/java/util/concurrent/ForkJoinPool.java.">internalWait</a>(<strong class="reserved">long</strong> timeout) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306         <strong class="reserved">int</strong> s;
<a id="L307" name="L307"></a> 307         <strong class="reserved">if</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0 &amp;&amp; <em class="comment">// force completer to issue notify</em>
<a id="L308" name="L308"></a> 308             U.compareAndSwapInt(<strong class="reserved">this</strong>, STATUS, s, s | SIGNAL)) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310                 <strong class="reserved">if</strong> (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &gt;= 0)
<a id="L311" name="L311"></a> 311                     <strong class="reserved">try</strong> <em class="brace">{</em> <a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>(timeout); <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> ie) <em class="brace">{</em> <em class="brace">}</em>
<a id="L312" name="L312"></a> 312                 <strong class="reserved">else</strong>
<a id="L313" name="L313"></a> 313                     <a href="../S/1724.html#L295" title="Defined at 295 in src/java/lang/Object.java.">notifyAll</a>();
<a id="L314" name="L314"></a> 314             <em class="brace">}</em>
<a id="L315" name="L315"></a> 315         <em class="brace">}</em>
<a id="L316" name="L316"></a> 316     <em class="brace">}</em>
<a id="L317" name="L317"></a> 317 
<div class="comment">
      Blocks a non-worker-thread until completion.
      @return status upon completion</div>
<a id="L322" name="L322"></a> 322     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/14188.html" title="Multiple referred from 2 places.">externalAwaitDone</a>() <em class="brace">{</em>
<a id="L323" name="L323"></a> 323         <strong class="reserved">int</strong> s = ((<strong class="reserved">this</strong> <strong class="reserved">instanceof</strong> <a href="../S/1070.html#L411" title="Defined at 411 in src/java/util/concurrent/CountedCompleter.java.">CountedCompleter</a>) ? <em class="comment">// try helping</em>
<a id="L324" name="L324"></a> 324                  <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2463" title="Defined at 2463 in src/java/util/concurrent/ForkJoinPool.java.">externalHelpComplete</a>(
<a id="L325" name="L325"></a> 325                      (<a href="../S/1070.html#L411" title="Defined at 411 in src/java/util/concurrent/CountedCompleter.java.">CountedCompleter</a>&lt;?&gt;)<strong class="reserved">this</strong>, 0) :
<a id="L326" name="L326"></a> 326                  <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2439" title="Defined at 2439 in src/java/util/concurrent/ForkJoinPool.java.">tryExternalUnpush</a>(<strong class="reserved">this</strong>) ? <a href="../S/1101.html#L285" title="Defined at 285 in src/java/util/concurrent/ForkJoinTask.java.">doExec</a>() : 0);
<a id="L327" name="L327"></a> 327         <strong class="reserved">if</strong> (s &gt;= 0 &amp;&amp; (s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0) <em class="brace">{</em>
<a id="L328" name="L328"></a> 328             <strong class="reserved">boolean</strong> <a href="../S/1769.html#L943" title="Defined at 943 in src/java/lang/Thread.java.">interrupted</a> = <strong class="reserved">false</strong>;
<a id="L329" name="L329"></a> 329             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L330" name="L330"></a> 330                 <strong class="reserved">if</strong> (U.compareAndSwapInt(<strong class="reserved">this</strong>, STATUS, s, s | SIGNAL)) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331                     <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332                         <strong class="reserved">if</strong> (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &gt;= 0) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L334" name="L334"></a> 334                                 <a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>(0L);
<a id="L335" name="L335"></a> 335                             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> ie) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336                                 <a href="../S/1769.html#L943" title="Defined at 943 in src/java/lang/Thread.java.">interrupted</a> = <strong class="reserved">true</strong>;
<a id="L337" name="L337"></a> 337                             <em class="brace">}</em>
<a id="L338" name="L338"></a> 338                         <em class="brace">}</em>
<a id="L339" name="L339"></a> 339                         <strong class="reserved">else</strong>
<a id="L340" name="L340"></a> 340                             <a href="../S/1724.html#L295" title="Defined at 295 in src/java/lang/Object.java.">notifyAll</a>();
<a id="L341" name="L341"></a> 341                     <em class="brace">}</em>
<a id="L342" name="L342"></a> 342                 <em class="brace">}</em>
<a id="L343" name="L343"></a> 343             <em class="brace">}</em> <strong class="reserved">while</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0);
<a id="L344" name="L344"></a> 344             <strong class="reserved">if</strong> (<a href="../S/1769.html#L943" title="Defined at 943 in src/java/lang/Thread.java.">interrupted</a>)
<a id="L345" name="L345"></a> 345                 <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/24969.html" title="Multiple defined in 3 places.">interrupt</a>();
<a id="L346" name="L346"></a> 346         <em class="brace">}</em>
<a id="L347" name="L347"></a> 347         <strong class="reserved">return</strong> s;
<a id="L348" name="L348"></a> 348     <em class="brace">}</em>
<a id="L349" name="L349"></a> 349 
<div class="comment">
      Blocks a non-worker-thread until completion or interruption.</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/1101.html#L1001" title="Referred from 1001 in src/java/util/concurrent/ForkJoinTask.java.">externalInterruptibleAwaitDone</a>() <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <strong class="reserved">int</strong> s;
<a id="L355" name="L355"></a> 355         <strong class="reserved">if</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L943" title="Defined at 943 in src/java/lang/Thread.java.">interrupted</a>())
<a id="L356" name="L356"></a> 356             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>();
<a id="L357" name="L357"></a> 357         <strong class="reserved">if</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0 &amp;&amp;
<a id="L358" name="L358"></a> 358             (s = ((<strong class="reserved">this</strong> <strong class="reserved">instanceof</strong> <a href="../S/1070.html#L411" title="Defined at 411 in src/java/util/concurrent/CountedCompleter.java.">CountedCompleter</a>) ?
<a id="L359" name="L359"></a> 359                   <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2463" title="Defined at 2463 in src/java/util/concurrent/ForkJoinPool.java.">externalHelpComplete</a>(
<a id="L360" name="L360"></a> 360                       (<a href="../S/1070.html#L411" title="Defined at 411 in src/java/util/concurrent/CountedCompleter.java.">CountedCompleter</a>&lt;?&gt;)<strong class="reserved">this</strong>, 0) :
<a id="L361" name="L361"></a> 361                   <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2439" title="Defined at 2439 in src/java/util/concurrent/ForkJoinPool.java.">tryExternalUnpush</a>(<strong class="reserved">this</strong>) ? <a href="../S/1101.html#L285" title="Defined at 285 in src/java/util/concurrent/ForkJoinTask.java.">doExec</a>() :
<a id="L362" name="L362"></a> 362                   0)) &gt;= 0) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363             <strong class="reserved">while</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364                 <strong class="reserved">if</strong> (U.compareAndSwapInt(<strong class="reserved">this</strong>, STATUS, s, s | SIGNAL)) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365                     <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366                         <strong class="reserved">if</strong> (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &gt;= 0)
<a id="L367" name="L367"></a> 367                             <a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>(0L);
<a id="L368" name="L368"></a> 368                         <strong class="reserved">else</strong>
<a id="L369" name="L369"></a> 369                             <a href="../S/1724.html#L295" title="Defined at 295 in src/java/lang/Object.java.">notifyAll</a>();
<a id="L370" name="L370"></a> 370                     <em class="brace">}</em>
<a id="L371" name="L371"></a> 371                 <em class="brace">}</em>
<a id="L372" name="L372"></a> 372             <em class="brace">}</em>
<a id="L373" name="L373"></a> 373         <em class="brace">}</em>
<a id="L374" name="L374"></a> 374         <strong class="reserved">return</strong> s;
<a id="L375" name="L375"></a> 375     <em class="brace">}</em>
<a id="L376" name="L376"></a> 376 
<div class="comment">
      Implementation for join, get, quietlyJoin. Directly handles
      only cases of already-completed, external wait, and
      unfork+exec.  Others are relayed to ForkJoinPool.awaitJoin.
      @return status upon completion</div>
<a id="L384" name="L384"></a> 384     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/13408.html" title="Multiple referred from 6 places.">doJoin</a>() <em class="brace">{</em>
<a id="L385" name="L385"></a> 385         <strong class="reserved">int</strong> s; <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t; <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a> wt; <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.<a href="../D/9763.html" title="Multiple defined in 2 places.">WorkQueue</a> w;
<a id="L386" name="L386"></a> 386         <strong class="reserved">return</strong> (s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &lt; 0 ? s :
<a id="L387" name="L387"></a> 387             ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) ?
<a id="L388" name="L388"></a> 388             (w = (wt = (<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).workQueue).
<a id="L389" name="L389"></a> 389             <a href="../S/1063.html#L986" title="Defined at 986 in src/java/util/concurrent/ForkJoinPool.java.">tryUnpush</a>(<strong class="reserved">this</strong>) &amp;&amp; (s = <a href="../S/1101.html#L285" title="Defined at 285 in src/java/util/concurrent/ForkJoinTask.java.">doExec</a>()) &lt; 0 ? s :
<a id="L390" name="L390"></a> 390             wt.pool.<a href="../S/1063.html#L2034" title="Defined at 2034 in src/java/util/concurrent/ForkJoinPool.java.">awaitJoin</a>(w, <strong class="reserved">this</strong>, 0L) :
<a id="L391" name="L391"></a> 391             <a href="../S/1101.html#L322" title="Defined at 322 in src/java/util/concurrent/ForkJoinTask.java.">externalAwaitDone</a>();
<a id="L392" name="L392"></a> 392     <em class="brace">}</em>
<a id="L393" name="L393"></a> 393 
<div class="comment">
      Implementation for invoke, quietlyInvoke.
      @return status upon completion</div>
<a id="L399" name="L399"></a> 399     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/13405.html" title="Multiple referred from 5 places.">doInvoke</a>() <em class="brace">{</em>
<a id="L400" name="L400"></a> 400         <strong class="reserved">int</strong> s; <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t; <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a> wt;
<a id="L401" name="L401"></a> 401         <strong class="reserved">return</strong> (s = <a href="../S/1101.html#L285" title="Defined at 285 in src/java/util/concurrent/ForkJoinTask.java.">doExec</a>()) &lt; 0 ? s :
<a id="L402" name="L402"></a> 402             ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) ?
<a id="L403" name="L403"></a> 403             (wt = (<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).pool.
<a id="L404" name="L404"></a> 404             <a href="../S/1063.html#L2034" title="Defined at 2034 in src/java/util/concurrent/ForkJoinPool.java.">awaitJoin</a>(wt.workQueue, <strong class="reserved">this</strong>, 0L) :
<a id="L405" name="L405"></a> 405             <a href="../S/1101.html#L322" title="Defined at 322 in src/java/util/concurrent/ForkJoinTask.java.">externalAwaitDone</a>();
<a id="L406" name="L406"></a> 406     <em class="brace">}</em>
<a id="L407" name="L407"></a> 407 
<a id="L408" name="L408"></a> 408     <em class="comment">// Exception table support</em>
<a id="L409" name="L409"></a> 409 
<div class="comment">
      Table of exceptions thrown by tasks, to enable reporting by
      callers. Because exceptions are rare, we don't directly keep
      them with task objects, but instead use a weak ref table.  Note
      that cancellation exceptions don't appear in the table, but are
      instead recorded as status values.
      Note: These statics are initialized below in static block.</div>
<a id="L419" name="L419"></a> 419     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>[] exceptionTable;
<a id="L420" name="L420"></a> 420     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1047.html#L106" title="Defined at 106 in src/java/util/concurrent/locks/ReentrantLock.java.">ReentrantLock</a> exceptionTableLock;
<a id="L421" name="L421"></a> 421     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; exceptionTableRefQueue;
<a id="L422" name="L422"></a> 422 
<div class="comment">
      Fixed capacity for exceptionTable.</div>
<a id="L426" name="L426"></a> 426     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> EXCEPTION_MAP_CAPACITY = 32;
<a id="L427" name="L427"></a> 427 
<div class="comment">
      Key-value nodes for exception table.  The chained hash table
      uses identity comparisons, full locking, and weak references
      for keys. The table has a fixed capacity because it only
      maintains task exceptions long enough for joiners to access
      them, so should never become very large for sustained
      periods. However, since we do not know when the last joiner
      completes, we must use weak references and expunge them. We do
      so on each operation (hence full locking). Also, some thread in
      any ForkJoinPool will call helpExpungeStaleExceptions when its
      pool becomes isQuiescent.</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2765.html" title="Multiple referred from 19 places.">ExceptionNode</a> <strong class="reserved">extends</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt;&gt; <em class="brace">{</em>
<a id="L441" name="L441"></a> 441         <strong class="reserved">final</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L442" name="L442"></a> 442         <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L443" name="L443"></a> 443         <strong class="reserved">final</strong> <strong class="reserved">long</strong> thrower;  <em class="comment">// use id not ref to avoid weak cycles</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>;  <em class="comment">// store task hashCode before weak ref disappears</em>
<a id="L445" name="L445"></a> 445         <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>(<a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; task, <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>, ExceptionNode <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446             <strong class="reserved">super</strong>(task, exceptionTableRefQueue);
<a id="L447" name="L447"></a> 447             <strong class="reserved">this</strong>.<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L448" name="L448"></a> 448             <strong class="reserved">this</strong>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L449" name="L449"></a> 449             <strong class="reserved">this</strong>.thrower = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>();
<a id="L450" name="L450"></a> 450             <strong class="reserved">this</strong>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L508" title="Defined at 508 in src/java/lang/System.java.">identityHashCode</a>(task);
<a id="L451" name="L451"></a> 451         <em class="brace">}</em>
<a id="L452" name="L452"></a> 452     <em class="brace">}</em>
<a id="L453" name="L453"></a> 453 
<div class="comment">
      Records exception and sets status.
      @return status on exit</div>
<a id="L459" name="L459"></a> 459     <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/25661.html" title="Multiple referred from 2 places.">recordExceptionalCompletion</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L460" name="L460"></a> 460         <strong class="reserved">int</strong> s;
<a id="L461" name="L461"></a> 461         <strong class="reserved">if</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <strong class="reserved">int</strong> h = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L508" title="Defined at 508 in src/java/lang/System.java.">identityHashCode</a>(<strong class="reserved">this</strong>);
<a id="L463" name="L463"></a> 463             <strong class="reserved">final</strong> <a href="../S/1047.html#L106" title="Defined at 106 in src/java/util/concurrent/locks/ReentrantLock.java.">ReentrantLock</a> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = exceptionTableLock;
<a id="L464" name="L464"></a> 464             <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L465" name="L465"></a> 465             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L466" name="L466"></a> 466                 <a href="../S/1101.html#L613" title="Defined at 613 in src/java/util/concurrent/ForkJoinTask.java.">expungeStaleExceptions</a>();
<a id="L467" name="L467"></a> 467                 <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>[] t = exceptionTable;
<a id="L468" name="L468"></a> 468                 <strong class="reserved">int</strong> i = h &amp; (t.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L469" name="L469"></a> 469                 <strong class="reserved">for</strong> (<a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> e = t[i]; ; e = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470                     <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L471" name="L471"></a> 471                         t[i] = <strong class="reserved">new</strong> <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>(<strong class="reserved">this</strong>, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>, t[i]);
<a id="L472" name="L472"></a> 472                         <strong class="reserved">break</strong>;
<a id="L473" name="L473"></a> 473                     <em class="brace">}</em>
<a id="L474" name="L474"></a> 474                     <strong class="reserved">if</strong> (e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>() == <strong class="reserved">this</strong>) <em class="comment">// already present</em>
<a id="L475" name="L475"></a> 475                         <strong class="reserved">break</strong>;
<a id="L476" name="L476"></a> 476                 <em class="brace">}</em>
<a id="L477" name="L477"></a> 477             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L478" name="L478"></a> 478                 <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L479" name="L479"></a> 479             <em class="brace">}</em>
<a id="L480" name="L480"></a> 480             s = <a href="../S/1101.html#L266" title="Defined at 266 in src/java/util/concurrent/ForkJoinTask.java.">setCompletion</a>(EXCEPTIONAL);
<a id="L481" name="L481"></a> 481         <em class="brace">}</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">return</strong> s;
<a id="L483" name="L483"></a> 483     <em class="brace">}</em>
<a id="L484" name="L484"></a> 484 
<div class="comment">
      Records exception and possibly propagates.
      @return status on exit</div>
<a id="L490" name="L490"></a> 490     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/27367.html" title="Multiple referred from 4 places.">setExceptionalCompletion</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491         <strong class="reserved">int</strong> s = <a href="../S/1101.html#L459" title="Defined at 459 in src/java/util/concurrent/ForkJoinTask.java.">recordExceptionalCompletion</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> ((s &amp; DONE_MASK) == EXCEPTIONAL)
<a id="L493" name="L493"></a> 493             <a href="../D/24947.html" title="Multiple defined in 3 places.">internalPropagateException</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L494" name="L494"></a> 494         <strong class="reserved">return</strong> s;
<a id="L495" name="L495"></a> 495     <em class="brace">}</em>
<a id="L496" name="L496"></a> 496 
<div class="comment">
      Hook for exception propagation support for tasks with completers.</div>
<a id="L500" name="L500"></a> 500     <strong class="reserved">void</strong> <a href="../S/1101.html#L493" title="Referred from 493 in src/java/util/concurrent/ForkJoinTask.java.">internalPropagateException</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L501" name="L501"></a> 501     <em class="brace">}</em>
<a id="L502" name="L502"></a> 502 
<div class="comment">
      Cancels, ignoring any exceptions thrown by cancel. Used during
      worker and pool shutdown. Cancel is spec'ed not to throw any
      exceptions, but if it does anyway, we have no recourse during
      shutdown, so guard against this case.</div>
<a id="L509" name="L509"></a> 509     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/10928.html" title="Multiple referred from 3 places.">cancelIgnoringExceptions</a>(<a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; t) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510         <strong class="reserved">if</strong> (t != <strong class="reserved">null</strong> &amp;&amp; t.<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &gt;= 0) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L512" name="L512"></a> 512                 t.<a href="../D/12192.html" title="Multiple defined in 21 places.">cancel</a>(<strong class="reserved">false</strong>);
<a id="L513" name="L513"></a> 513             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../D/24317.html" title="Multiple defined in 3 places.">ignore</a>) <em class="brace">{</em>
<a id="L514" name="L514"></a> 514             <em class="brace">}</em>
<a id="L515" name="L515"></a> 515         <em class="brace">}</em>
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<div class="comment">
      Removes exception node and clears status.</div>
<a id="L521" name="L521"></a> 521     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1101.html#L1126" title="Referred from 1126 in src/java/util/concurrent/ForkJoinTask.java.">clearExceptionalCompletion</a>() <em class="brace">{</em>
<a id="L522" name="L522"></a> 522         <strong class="reserved">int</strong> h = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L508" title="Defined at 508 in src/java/lang/System.java.">identityHashCode</a>(<strong class="reserved">this</strong>);
<a id="L523" name="L523"></a> 523         <strong class="reserved">final</strong> <a href="../S/1047.html#L106" title="Defined at 106 in src/java/util/concurrent/locks/ReentrantLock.java.">ReentrantLock</a> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = exceptionTableLock;
<a id="L524" name="L524"></a> 524         <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L525" name="L525"></a> 525         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L526" name="L526"></a> 526             <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>[] t = exceptionTable;
<a id="L527" name="L527"></a> 527             <strong class="reserved">int</strong> i = h &amp; (t.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L528" name="L528"></a> 528             <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> e = t[i];
<a id="L529" name="L529"></a> 529             <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> <a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a> = <strong class="reserved">null</strong>;
<a id="L530" name="L530"></a> 530             <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L531" name="L531"></a> 531                 <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L532" name="L532"></a> 532                 <strong class="reserved">if</strong> (e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>() == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L533" name="L533"></a> 533                     <strong class="reserved">if</strong> (<a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a> == <strong class="reserved">null</strong>)
<a id="L534" name="L534"></a> 534                         t[i] = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L535" name="L535"></a> 535                     <strong class="reserved">else</strong>
<a id="L536" name="L536"></a> 536                         <a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L537" name="L537"></a> 537                     <strong class="reserved">break</strong>;
<a id="L538" name="L538"></a> 538                 <em class="brace">}</em>
<a id="L539" name="L539"></a> 539                 <a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a> = e;
<a id="L540" name="L540"></a> 540                 e = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L541" name="L541"></a> 541             <em class="brace">}</em>
<a id="L542" name="L542"></a> 542             <a href="../S/1101.html#L613" title="Defined at 613 in src/java/util/concurrent/ForkJoinTask.java.">expungeStaleExceptions</a>();
<a id="L543" name="L543"></a> 543             <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> = 0;
<a id="L544" name="L544"></a> 544         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L545" name="L545"></a> 545             <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L546" name="L546"></a> 546         <em class="brace">}</em>
<a id="L547" name="L547"></a> 547     <em class="brace">}</em>
<a id="L548" name="L548"></a> 548 
<div class="comment">
      Returns a rethrowable exception for the given task, if
      available. To provide accurate stack traces, if the exception
      was not thrown by the current thread, we try to create a new
      exception of the same type as the one thrown, but with the
      recorded exception as its cause. If there is no such
      constructor, we instead try to use a no-arg constructor,
      followed by initCause, to the same effect. If none of these
      apply, or any fail due to other exceptions, we return the
      recorded exception, which is still correct, although it may
      contain a misleading stack trace.
      @return the exception, or null if none</div>
<a id="L563" name="L563"></a> 563     <strong class="reserved">private</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/19473.html" title="Multiple referred from 4 places.">getThrowableException</a>() <em class="brace">{</em>
<a id="L564" name="L564"></a> 564         <strong class="reserved">if</strong> ((<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &amp; DONE_MASK) != EXCEPTIONAL)
<a id="L565" name="L565"></a> 565             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L566" name="L566"></a> 566         <strong class="reserved">int</strong> h = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L508" title="Defined at 508 in src/java/lang/System.java.">identityHashCode</a>(<strong class="reserved">this</strong>);
<a id="L567" name="L567"></a> 567         <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> e;
<a id="L568" name="L568"></a> 568         <strong class="reserved">final</strong> <a href="../S/1047.html#L106" title="Defined at 106 in src/java/util/concurrent/locks/ReentrantLock.java.">ReentrantLock</a> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = exceptionTableLock;
<a id="L569" name="L569"></a> 569         <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L570" name="L570"></a> 570         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L571" name="L571"></a> 571             <a href="../S/1101.html#L613" title="Defined at 613 in src/java/util/concurrent/ForkJoinTask.java.">expungeStaleExceptions</a>();
<a id="L572" name="L572"></a> 572             <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>[] t = exceptionTable;
<a id="L573" name="L573"></a> 573             e = t[h &amp; (t.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1)];
<a id="L574" name="L574"></a> 574             <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong> &amp;&amp; e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>() != <strong class="reserved">this</strong>)
<a id="L575" name="L575"></a> 575                 e = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L576" name="L576"></a> 576         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L577" name="L577"></a> 577             <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L578" name="L578"></a> 578         <em class="brace">}</em>
<a id="L579" name="L579"></a> 579         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L580" name="L580"></a> 580         <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong> || (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = e.<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) == <strong class="reserved">null</strong>)
<a id="L581" name="L581"></a> 581             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L582" name="L582"></a> 582         <strong class="reserved">if</strong> (e.thrower != <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>()) <em class="brace">{</em>
<a id="L583" name="L583"></a> 583             <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt; ec = <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>();
<a id="L584" name="L584"></a> 584             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L585" name="L585"></a> 585                 <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a>&lt;?&gt; noArgCtor = <strong class="reserved">null</strong>;
<a id="L586" name="L586"></a> 586                 <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a>&lt;?&gt;[] cs = ec.<a href="../D/17941.html" title="Multiple defined in 7 places.">getConstructors</a>();<em class="comment">// public ctors only</em>
<a id="L587" name="L587"></a> 587                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; cs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++i) <em class="brace">{</em>
<a id="L588" name="L588"></a> 588                     <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = cs[i];
<a id="L589" name="L589"></a> 589                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;[] ps = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/21380.html" title="Multiple defined in 7 places.">getParameterTypes</a>();
<a id="L590" name="L590"></a> 590                     <strong class="reserved">if</strong> (ps.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0)
<a id="L591" name="L591"></a> 591                         noArgCtor = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L592" name="L592"></a> 592                     <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ps.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 1 &amp;&amp; ps[0] == <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593                         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> wx = (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L594" name="L594"></a> 594                         <strong class="reserved">return</strong> (wx == <strong class="reserved">null</strong>) ? <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> : wx;
<a id="L595" name="L595"></a> 595                     <em class="brace">}</em>
<a id="L596" name="L596"></a> 596                 <em class="brace">}</em>
<a id="L597" name="L597"></a> 597                 <strong class="reserved">if</strong> (noArgCtor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L598" name="L598"></a> 598                     <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> wx = (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>)(noArgCtor.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>());
<a id="L599" name="L599"></a> 599                     <strong class="reserved">if</strong> (wx != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600                         wx.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L601" name="L601"></a> 601                         <strong class="reserved">return</strong> wx;
<a id="L602" name="L602"></a> 602                     <em class="brace">}</em>
<a id="L603" name="L603"></a> 603                 <em class="brace">}</em>
<a id="L604" name="L604"></a> 604             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../D/24317.html" title="Multiple defined in 3 places.">ignore</a>) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605             <em class="brace">}</em>
<a id="L606" name="L606"></a> 606         <em class="brace">}</em>
<a id="L607" name="L607"></a> 607         <strong class="reserved">return</strong> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L608" name="L608"></a> 608     <em class="brace">}</em>
<a id="L609" name="L609"></a> 609 
<div class="comment">
      Poll stale refs and remove them. Call only while holding lock.</div>
<a id="L613" name="L613"></a> 613     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/14176.html" title="Multiple referred from 4 places.">expungeStaleExceptions</a>() <em class="brace">{</em>
<a id="L614" name="L614"></a> 614         <strong class="reserved">for</strong> (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>; (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = exceptionTableRefQueue.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>()) != <strong class="reserved">null</strong>;) <em class="brace">{</em>
<a id="L615" name="L615"></a> 615             <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> <strong class="reserved">instanceof</strong> <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>) <em class="brace">{</em>
<a id="L616" name="L616"></a> 616                 <strong class="reserved">int</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> = ((<a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>)<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>).<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>;
<a id="L617" name="L617"></a> 617                 <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>[] t = exceptionTable;
<a id="L618" name="L618"></a> 618                 <strong class="reserved">int</strong> i = <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> &amp; (t.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L619" name="L619"></a> 619                 <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> e = t[i];
<a id="L620" name="L620"></a> 620                 <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> <a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a> = <strong class="reserved">null</strong>;
<a id="L621" name="L621"></a> 621                 <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L622" name="L622"></a> 622                     <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L623" name="L623"></a> 623                     <strong class="reserved">if</strong> (e == <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L624" name="L624"></a> 624                         <strong class="reserved">if</strong> (<a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a> == <strong class="reserved">null</strong>)
<a id="L625" name="L625"></a> 625                             t[i] = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L626" name="L626"></a> 626                         <strong class="reserved">else</strong>
<a id="L627" name="L627"></a> 627                             <a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L628" name="L628"></a> 628                         <strong class="reserved">break</strong>;
<a id="L629" name="L629"></a> 629                     <em class="brace">}</em>
<a id="L630" name="L630"></a> 630                     <a href="../S/1076.html#L734" title="Defined at 734 in src/java/util/concurrent/ConcurrentLinkedDeque.java.">pred</a> = e;
<a id="L631" name="L631"></a> 631                     e = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L632" name="L632"></a> 632                 <em class="brace">}</em>
<a id="L633" name="L633"></a> 633             <em class="brace">}</em>
<a id="L634" name="L634"></a> 634         <em class="brace">}</em>
<a id="L635" name="L635"></a> 635     <em class="brace">}</em>
<a id="L636" name="L636"></a> 636 
<div class="comment">
      If lock is available, poll stale refs and remove them.
      Called from ForkJoinPool when pools become quiescent.</div>
<a id="L641" name="L641"></a> 641     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/1063.html#L1616" title="Referred from 1616 in src/java/util/concurrent/ForkJoinPool.java.">helpExpungeStaleExceptions</a>() <em class="brace">{</em>
<a id="L642" name="L642"></a> 642         <strong class="reserved">final</strong> <a href="../S/1047.html#L106" title="Defined at 106 in src/java/util/concurrent/locks/ReentrantLock.java.">ReentrantLock</a> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = exceptionTableLock;
<a id="L643" name="L643"></a> 643         <strong class="reserved">if</strong> (<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/35726.html" title="Multiple defined in 17 places.">tryLock</a>()) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L645" name="L645"></a> 645                 <a href="../S/1101.html#L613" title="Defined at 613 in src/java/util/concurrent/ForkJoinTask.java.">expungeStaleExceptions</a>();
<a id="L646" name="L646"></a> 646             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L647" name="L647"></a> 647                 <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L648" name="L648"></a> 648             <em class="brace">}</em>
<a id="L649" name="L649"></a> 649         <em class="brace">}</em>
<a id="L650" name="L650"></a> 650     <em class="brace">}</em>
<a id="L651" name="L651"></a> 651 
<div class="comment">
      A version of "sneaky throw" to relay exceptions</div>
<a id="L655" name="L655"></a> 655     <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/26454.html" title="Multiple referred from 8 places.">rethrow</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656         <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> != <strong class="reserved">null</strong>)
<a id="L657" name="L657"></a> 657             <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>.&lt;<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>&gt;<a href="../S/1101.html#L666" title="Defined at 666 in src/java/util/concurrent/ForkJoinTask.java.">uncheckedThrow</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L658" name="L658"></a> 658     <em class="brace">}</em>
<a id="L659" name="L659"></a> 659 
<div class="comment">
      The sneaky part of sneaky throw, relying on generics
      limitations to evade compiler complaints about rethrowing
      unchecked exceptions</div>
<a id="L665" name="L665"></a> 665     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked") <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <strong class="reserved">extends</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt;
<a id="L666" name="L666"></a> 666         <strong class="reserved">void</strong> <a href="../S/1101.html#L657" title="Referred from 657 in src/java/util/concurrent/ForkJoinTask.java.">uncheckedThrow</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> t) <strong class="reserved">throws</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <em class="brace">{</em>
<a id="L667" name="L667"></a> 667         <strong class="reserved">throw</strong> (<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>)t; <em class="comment">// rely on vacuous cast</em>
<a id="L668" name="L668"></a> 668     <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<div class="comment">
      Throws exception, if any, associated with the given status.</div>
<a id="L673" name="L673"></a> 673     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26186.html" title="Multiple referred from 10 places.">reportException</a>(<strong class="reserved">int</strong> s) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674         <strong class="reserved">if</strong> (s == CANCELLED)
<a id="L675" name="L675"></a> 675             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1068.html#L46" title="Defined at 46 in src/java/util/concurrent/CancellationException.java.">CancellationException</a>();
<a id="L676" name="L676"></a> 676         <strong class="reserved">if</strong> (s == EXCEPTIONAL)
<a id="L677" name="L677"></a> 677             <a href="../D/31380.html" title="Multiple defined in 2 places.">rethrow</a>(<a href="../S/1101.html#L563" title="Defined at 563 in src/java/util/concurrent/ForkJoinTask.java.">getThrowableException</a>());
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<a id="L680" name="L680"></a> 680     <em class="comment">// public methods</em>
<a id="L681" name="L681"></a> 681 
<div class="comment">
      Arranges to asynchronously execute this task in the pool the
      current task is running in, if applicable, or using the {@link
      ForkJoinPool#commonPool()} if not <a href="#L1152" title="Defined at 1152.">inForkJoinPool</a>.  While
      it is not necessarily enforced, it is a usage error to fork a
      task more than once unless it has completed and been
      reinitialized.  Subsequent modifications to the state of this
      task or any data it operates on are not necessarily
      consistently observable by any thread other than the one
      executing it unless preceded by a call to <a href="#L717" title="Defined at 717.">join</a> or
      related methods, or a call to <a href="#L891" title="Defined at 891.">isDone</a> returning {@code
      true}.
      @return <code>this</code>, to simplify usage</div>
<a id="L697" name="L697"></a> 697     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;V&gt; <a href="../R/14744.html" title="Multiple referred from 80 places.">fork</a>() <em class="brace">{</em>
<a id="L698" name="L698"></a> 698         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t;
<a id="L699" name="L699"></a> 699         <strong class="reserved">if</strong> ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)
<a id="L700" name="L700"></a> 700             ((<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).workQueue.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<strong class="reserved">this</strong>);
<a id="L701" name="L701"></a> 701         <strong class="reserved">else</strong>
<a id="L702" name="L702"></a> 702             <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2399" title="Defined at 2399 in src/java/util/concurrent/ForkJoinPool.java.">externalPush</a>(<strong class="reserved">this</strong>);
<a id="L703" name="L703"></a> 703         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L704" name="L704"></a> 704     <em class="brace">}</em>
<a id="L705" name="L705"></a> 705 
<div class="comment">
      Returns the result of the computation when it {@link #isDone is
      done}.  This method differs from {@link #get()} in that
      abnormal completion results in <code>RuntimeException</code> or
      <code>Error</code>, not <code>ExecutionException</code>, and that
      interrupts of the calling thread do <em>not</em> cause the
      method to abruptly return by throwing {@code
      InterruptedException}.
      @return the computed result</div>
<a id="L717" name="L717"></a> 717     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V <a href="../R/22372.html" title="Multiple referred from 37 places.">join</a>() <em class="brace">{</em>
<a id="L718" name="L718"></a> 718         <strong class="reserved">int</strong> s;
<a id="L719" name="L719"></a> 719         <strong class="reserved">if</strong> ((s = <a href="../S/1101.html#L384" title="Defined at 384 in src/java/util/concurrent/ForkJoinTask.java.">doJoin</a>() &amp; DONE_MASK) != NORMAL)
<a id="L720" name="L720"></a> 720             <a href="../D/31089.html" title="Multiple defined in 5 places.">reportException</a>(s);
<a id="L721" name="L721"></a> 721         <strong class="reserved">return</strong> <a href="../D/21860.html" title="Multiple defined in 37 places.">getRawResult</a>();
<a id="L722" name="L722"></a> 722     <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<div class="comment">
      Commences performing this task, awaits its completion if
      necessary, and returns its result, or throws an (unchecked)
      <code>RuntimeException</code> or <code>Error</code> if the underlying
      computation did so.
      @return the computed result</div>
<a id="L732" name="L732"></a> 732     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V <a href="../R/21052.html" title="Multiple referred from 440 places.">invoke</a>() <em class="brace">{</em>
<a id="L733" name="L733"></a> 733         <strong class="reserved">int</strong> s;
<a id="L734" name="L734"></a> 734         <strong class="reserved">if</strong> ((s = <a href="../S/1101.html#L399" title="Defined at 399 in src/java/util/concurrent/ForkJoinTask.java.">doInvoke</a>() &amp; DONE_MASK) != NORMAL)
<a id="L735" name="L735"></a> 735             <a href="../D/31089.html" title="Multiple defined in 5 places.">reportException</a>(s);
<a id="L736" name="L736"></a> 736         <strong class="reserved">return</strong> <a href="../D/21860.html" title="Multiple defined in 37 places.">getRawResult</a>();
<a id="L737" name="L737"></a> 737     <em class="brace">}</em>
<a id="L738" name="L738"></a> 738 
<div class="comment">
      Forks the given tasks, returning when <code>isDone</code> holds for
      each task or an (unchecked) exception is encountered, in which
      case the exception is rethrown. If more than one task
      encounters an exception, then this method throws any one of
      these exceptions. If any task encounters an exception, the
      other may be cancelled. However, the execution status of
      individual tasks is not guaranteed upon exceptional return. The
      status of each task may be obtained using {@link
      #getException()} and related methods to check if they have been
      cancelled, completed normally or exceptionally, or left
      unprocessed.
      @param t1 the first task
      @param t2 the second task
      @throws NullPointerException if any task is null</div>
<a id="L756" name="L756"></a> 756     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/21054.html" title="Multiple referred from 3 places.">invokeAll</a>(<a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; t1, <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; t2) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757         <strong class="reserved">int</strong> s1, s2;
<a id="L758" name="L758"></a> 758         t2.<a href="../S/1101.html#L697" title="Defined at 697 in src/java/util/concurrent/ForkJoinTask.java.">fork</a>();
<a id="L759" name="L759"></a> 759         <strong class="reserved">if</strong> ((s1 = t1.<a href="../S/1101.html#L399" title="Defined at 399 in src/java/util/concurrent/ForkJoinTask.java.">doInvoke</a>() &amp; DONE_MASK) != NORMAL)
<a id="L760" name="L760"></a> 760             t1.<a href="../D/31089.html" title="Multiple defined in 5 places.">reportException</a>(s1);
<a id="L761" name="L761"></a> 761         <strong class="reserved">if</strong> ((s2 = t2.<a href="../S/1101.html#L384" title="Defined at 384 in src/java/util/concurrent/ForkJoinTask.java.">doJoin</a>() &amp; DONE_MASK) != NORMAL)
<a id="L762" name="L762"></a> 762             t2.<a href="../D/31089.html" title="Multiple defined in 5 places.">reportException</a>(s2);
<a id="L763" name="L763"></a> 763     <em class="brace">}</em>
<a id="L764" name="L764"></a> 764 
<div class="comment">
      Forks the given tasks, returning when <code>isDone</code> holds for
      each task or an (unchecked) exception is encountered, in which
      case the exception is rethrown. If more than one task
      encounters an exception, then this method throws any one of
      these exceptions. If any task encounters an exception, others
      may be cancelled. However, the execution status of individual
      tasks is not guaranteed upon exceptional return. The status of
      each task may be obtained using {@link #getException()} and
      related methods to check if they have been cancelled, completed
      normally or exceptionally, or left unprocessed.
      @param tasks the tasks
      @throws NullPointerException if any task is null</div>
<a id="L780" name="L780"></a> 780     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/21054.html" title="Multiple referred from 3 places.">invokeAll</a>(<a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt;... tasks) <em class="brace">{</em>
<a id="L781" name="L781"></a> 781         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <strong class="reserved">null</strong>;
<a id="L782" name="L782"></a> 782         <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = tasks.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L783" name="L783"></a> 783         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>; i &gt;= 0; --i) <em class="brace">{</em>
<a id="L784" name="L784"></a> 784             <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; t = tasks[i];
<a id="L785" name="L785"></a> 785             <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L786" name="L786"></a> 786                 <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> == <strong class="reserved">null</strong>)
<a id="L787" name="L787"></a> 787                     <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L788" name="L788"></a> 788             <em class="brace">}</em>
<a id="L789" name="L789"></a> 789             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (i != 0)
<a id="L790" name="L790"></a> 790                 t.<a href="../S/1101.html#L697" title="Defined at 697 in src/java/util/concurrent/ForkJoinTask.java.">fork</a>();
<a id="L791" name="L791"></a> 791             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t.<a href="../S/1101.html#L399" title="Defined at 399 in src/java/util/concurrent/ForkJoinTask.java.">doInvoke</a>() &lt; NORMAL &amp;&amp; <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> == <strong class="reserved">null</strong>)
<a id="L792" name="L792"></a> 792                 <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = t.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L793" name="L793"></a> 793         <em class="brace">}</em>
<a id="L794" name="L794"></a> 794         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt;= <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>; ++i) <em class="brace">{</em>
<a id="L795" name="L795"></a> 795             <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; t = tasks[i];
<a id="L796" name="L796"></a> 796             <strong class="reserved">if</strong> (t != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L797" name="L797"></a> 797                 <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> != <strong class="reserved">null</strong>)
<a id="L798" name="L798"></a> 798                     t.<a href="../D/12192.html" title="Multiple defined in 21 places.">cancel</a>(<strong class="reserved">false</strong>);
<a id="L799" name="L799"></a> 799                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t.<a href="../S/1101.html#L384" title="Defined at 384 in src/java/util/concurrent/ForkJoinTask.java.">doJoin</a>() &lt; NORMAL)
<a id="L800" name="L800"></a> 800                     <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = t.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L801" name="L801"></a> 801             <em class="brace">}</em>
<a id="L802" name="L802"></a> 802         <em class="brace">}</em>
<a id="L803" name="L803"></a> 803         <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> != <strong class="reserved">null</strong>)
<a id="L804" name="L804"></a> 804             <a href="../D/31380.html" title="Multiple defined in 2 places.">rethrow</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L805" name="L805"></a> 805     <em class="brace">}</em>
<a id="L806" name="L806"></a> 806 
<div class="comment">
      Forks all tasks in the specified collection, returning when
      <code>isDone</code> holds for each task or an (unchecked) exception
      is encountered, in which case the exception is rethrown. If
      more than one task encounters an exception, then this method
      throws any one of these exceptions. If any task encounters an
      exception, others may be cancelled. However, the execution
      status of individual tasks is not guaranteed upon exceptional
      return. The status of each task may be obtained using {@link
      #getException()} and related methods to check if they have been
      cancelled, completed normally or exceptionally, or left
      unprocessed.
      @param tasks the collection of tasks
      @param <t> the type of the values returned from the tasks
      @return the tasks argument, to simplify usage
      @throws NullPointerException if tasks or any element are null</t></div>
<a id="L825" name="L825"></a> 825     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <strong class="reserved">extends</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt;&gt; <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/21054.html" title="Multiple referred from 3 places.">invokeAll</a>(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; tasks) <em class="brace">{</em>
<a id="L826" name="L826"></a> 826         <strong class="reserved">if</strong> (!(tasks <strong class="reserved">instanceof</strong> <a href="../S/1185.html#L67" title="Defined at 67 in src/java/util/RandomAccess.java.">RandomAccess</a>) || !(tasks <strong class="reserved">instanceof</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;?&gt;)) <em class="brace">{</em>
<a id="L827" name="L827"></a> 827             <a href="../D/25052.html" title="Multiple defined in 10 places.">invokeAll</a>(tasks.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt;[tasks.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]));
<a id="L828" name="L828"></a> 828             <strong class="reserved">return</strong> tasks;
<a id="L829" name="L829"></a> 829         <em class="brace">}</em>
<a id="L830" name="L830"></a> 830         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L831" name="L831"></a> 831         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt;&gt; ts =
<a id="L832" name="L832"></a> 832             (<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt;&gt;) tasks;
<a id="L833" name="L833"></a> 833         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <strong class="reserved">null</strong>;
<a id="L834" name="L834"></a> 834         <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = ts.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1;
<a id="L835" name="L835"></a> 835         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>; i &gt;= 0; --i) <em class="brace">{</em>
<a id="L836" name="L836"></a> 836             <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; t = ts.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L837" name="L837"></a> 837             <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L838" name="L838"></a> 838                 <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> == <strong class="reserved">null</strong>)
<a id="L839" name="L839"></a> 839                     <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L840" name="L840"></a> 840             <em class="brace">}</em>
<a id="L841" name="L841"></a> 841             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (i != 0)
<a id="L842" name="L842"></a> 842                 t.<a href="../S/1101.html#L697" title="Defined at 697 in src/java/util/concurrent/ForkJoinTask.java.">fork</a>();
<a id="L843" name="L843"></a> 843             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t.<a href="../S/1101.html#L399" title="Defined at 399 in src/java/util/concurrent/ForkJoinTask.java.">doInvoke</a>() &lt; NORMAL &amp;&amp; <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> == <strong class="reserved">null</strong>)
<a id="L844" name="L844"></a> 844                 <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = t.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L845" name="L845"></a> 845         <em class="brace">}</em>
<a id="L846" name="L846"></a> 846         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt;= <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>; ++i) <em class="brace">{</em>
<a id="L847" name="L847"></a> 847             <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; t = ts.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L848" name="L848"></a> 848             <strong class="reserved">if</strong> (t != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L849" name="L849"></a> 849                 <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> != <strong class="reserved">null</strong>)
<a id="L850" name="L850"></a> 850                     t.<a href="../D/12192.html" title="Multiple defined in 21 places.">cancel</a>(<strong class="reserved">false</strong>);
<a id="L851" name="L851"></a> 851                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t.<a href="../S/1101.html#L384" title="Defined at 384 in src/java/util/concurrent/ForkJoinTask.java.">doJoin</a>() &lt; NORMAL)
<a id="L852" name="L852"></a> 852                     <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = t.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L853" name="L853"></a> 853             <em class="brace">}</em>
<a id="L854" name="L854"></a> 854         <em class="brace">}</em>
<a id="L855" name="L855"></a> 855         <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> != <strong class="reserved">null</strong>)
<a id="L856" name="L856"></a> 856             <a href="../D/31380.html" title="Multiple defined in 2 places.">rethrow</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L857" name="L857"></a> 857         <strong class="reserved">return</strong> tasks;
<a id="L858" name="L858"></a> 858     <em class="brace">}</em>
<a id="L859" name="L859"></a> 859 
<div class="comment">
      Attempts to cancel execution of this task. This attempt will
      fail if the task has already completed or could not be
      cancelled for some other reason. If successful, and this task
      has not started when <code>cancel</code> is called, execution of
      this task is suppressed. After this method returns
      successfully, unless there is an intervening call to {@link
      #reinitialize}, subsequent calls to <a href="#L895" title="Defined at 895.">isCancelled</a>,
      <a href="#L891" title="Defined at 891.">isDone</a>, and <code>cancel</code> will return <code>true</code>
      and calls to <a href="#L717" title="Defined at 717.">join</a> and related methods will result in
      <code>CancellationException</code>.
      <p>This method may be overridden in subclasses, but if so, must
      still ensure that these properties hold. In particular, the
      <code>cancel</code> method itself must not throw exceptions.
      </p><p>This method is designed to be invoked by <em>other</em>
      tasks. To terminate the current task, you can just return or
      throw an unchecked exception from its computation method, or
      invoke {@link #completeExceptionally(Throwable)}.
      @param mayInterruptIfRunning this value has no effect in the
      default implementation because interrupts are not used to
      control cancellation.
      @return <code>true</code> if this task is now cancelled</p></div>
<a id="L887" name="L887"></a> 887     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/10918.html" title="Multiple referred from 41 places.">cancel</a>(<strong class="reserved">boolean</strong> mayInterruptIfRunning) <em class="brace">{</em>
<a id="L888" name="L888"></a> 888         <strong class="reserved">return</strong> (<a href="../S/1101.html#L266" title="Defined at 266 in src/java/util/concurrent/ForkJoinTask.java.">setCompletion</a>(CANCELLED) &amp; DONE_MASK) == CANCELLED;
<a id="L889" name="L889"></a> 889     <em class="brace">}</em>
<a id="L890" name="L890"></a> 890 
<a id="L891" name="L891"></a> 891     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21378.html" title="Multiple referred from 29 places.">isDone</a>() <em class="brace">{</em>
<a id="L892" name="L892"></a> 892         <strong class="reserved">return</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &lt; 0;
<a id="L893" name="L893"></a> 893     <em class="brace">}</em>
<a id="L894" name="L894"></a> 894 
<a id="L895" name="L895"></a> 895     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21232.html" title="Multiple referred from 12 places.">isCancelled</a>() <em class="brace">{</em>
<a id="L896" name="L896"></a> 896         <strong class="reserved">return</strong> (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &amp; DONE_MASK) == CANCELLED;
<a id="L897" name="L897"></a> 897     <em class="brace">}</em>
<a id="L898" name="L898"></a> 898 
<div class="comment">
      Returns <code>true</code> if this task threw an exception or was cancelled.
      @return <code>true</code> if this task threw an exception or was cancelled</div>
<a id="L904" name="L904"></a> 904     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isCompletedAbnormally() <em class="brace">{</em>
<a id="L905" name="L905"></a> 905         <strong class="reserved">return</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &lt; NORMAL;
<a id="L906" name="L906"></a> 906     <em class="brace">}</em>
<a id="L907" name="L907"></a> 907 
<div class="comment">
      Returns <code>true</code> if this task completed without throwing an
      exception and was not cancelled.
      @return <code>true</code> if this task completed without throwing an
      exception and was not cancelled</div>
<a id="L915" name="L915"></a> 915     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isCompletedNormally() <em class="brace">{</em>
<a id="L916" name="L916"></a> 916         <strong class="reserved">return</strong> (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &amp; DONE_MASK) == NORMAL;
<a id="L917" name="L917"></a> 917     <em class="brace">}</em>
<a id="L918" name="L918"></a> 918 
<div class="comment">
      Returns the exception thrown by the base computation, or a
      <code>CancellationException</code> if cancelled, or <code>null</code> if
      none or if the method has not yet completed.
      @return the exception, or <code>null</code> if none</div>
<a id="L926" name="L926"></a> 926     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/16459.html" title="Multiple referred from 131 places.">getException</a>() <em class="brace">{</em>
<a id="L927" name="L927"></a> 927         <strong class="reserved">int</strong> s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &amp; DONE_MASK;
<a id="L928" name="L928"></a> 928         <strong class="reserved">return</strong> ((s &gt;= NORMAL)    ? <strong class="reserved">null</strong> :
<a id="L929" name="L929"></a> 929                 (s == CANCELLED) ? <strong class="reserved">new</strong> <a href="../S/1068.html#L46" title="Defined at 46 in src/java/util/concurrent/CancellationException.java.">CancellationException</a>() :
<a id="L930" name="L930"></a> 930                 <a href="../S/1101.html#L563" title="Defined at 563 in src/java/util/concurrent/ForkJoinTask.java.">getThrowableException</a>());
<a id="L931" name="L931"></a> 931     <em class="brace">}</em>
<a id="L932" name="L932"></a> 932 
<div class="comment">
      Completes this task abnormally, and if not already aborted or
      cancelled, causes it to throw the given exception upon
      <code>join</code> and related operations. This method may be used
      to induce exceptions in asynchronous tasks, or to force
      completion of tasks that would not otherwise complete.  Its use
      in other situations is discouraged.  This method is
      overridable, but overridden versions must invoke <code>super</code>
      implementation to maintain guarantees.
      @param ex the exception to throw. If this exception is not a
      <code>RuntimeException</code> or <code>Error</code>, the actual exception
      thrown will be a <code>RuntimeException</code> with cause <code>ex</code>.</div>
<a id="L947" name="L947"></a> 947     <strong class="reserved">public</strong> <strong class="reserved">void</strong> completeExceptionally(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L948" name="L948"></a> 948         <a href="../S/1101.html#L490" title="Defined at 490 in src/java/util/concurrent/ForkJoinTask.java.">setExceptionalCompletion</a>((<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> <strong class="reserved">instanceof</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) ||
<a id="L949" name="L949"></a> 949                                  (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> <strong class="reserved">instanceof</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) ? <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> :
<a id="L950" name="L950"></a> 950                                  <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>));
<a id="L951" name="L951"></a> 951     <em class="brace">}</em>
<a id="L952" name="L952"></a> 952 
<div class="comment">
      Completes this task, and if not already aborted or cancelled,
      returning the given value as the result of subsequent
      invocations of <code>join</code> and related operations. This method
      may be used to provide results for asynchronous tasks, or to
      provide alternative handling for tasks that would not otherwise
      complete normally. Its use in other situations is
      discouraged. This method is overridable, but overridden
      versions must invoke <code>super</code> implementation to maintain
      guarantees.
      @param value the result value for this task</div>
<a id="L966" name="L966"></a> 966     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11771.html" title="Multiple referred from 58 places.">complete</a>(V <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L968" name="L968"></a> 968             <a href="../D/33659.html" title="Multiple defined in 13 places.">setRawResult</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L969" name="L969"></a> 969         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> rex) <em class="brace">{</em>
<a id="L970" name="L970"></a> 970             <a href="../S/1101.html#L490" title="Defined at 490 in src/java/util/concurrent/ForkJoinTask.java.">setExceptionalCompletion</a>(rex);
<a id="L971" name="L971"></a> 971             <strong class="reserved">return</strong>;
<a id="L972" name="L972"></a> 972         <em class="brace">}</em>
<a id="L973" name="L973"></a> 973         <a href="../S/1101.html#L266" title="Defined at 266 in src/java/util/concurrent/ForkJoinTask.java.">setCompletion</a>(NORMAL);
<a id="L974" name="L974"></a> 974     <em class="brace">}</em>
<a id="L975" name="L975"></a> 975 
<div class="comment">
      Completes this task normally without setting a value. The most
      recent value established by <a href="#L1227" title="Defined at 1227.">setRawResult</a> (or {@code
      null} by default) will be returned as the result of subsequent
      invocations of <code>join</code> and related operations.
      @since 1.8</div>
<a id="L984" name="L984"></a> 984     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25384.html" title="Multiple referred from 9 places.">quietlyComplete</a>() <em class="brace">{</em>
<a id="L985" name="L985"></a> 985         <a href="../S/1101.html#L266" title="Defined at 266 in src/java/util/concurrent/ForkJoinTask.java.">setCompletion</a>(NORMAL);
<a id="L986" name="L986"></a> 986     <em class="brace">}</em>
<a id="L987" name="L987"></a> 987 
<div class="comment">
      Waits if necessary for the computation to complete, and then
      retrieves its result.
      @return the computed result
      @throws CancellationException if the computation was cancelled
      @throws ExecutionException if the computation threw an
      exception
      @throws InterruptedException if the current thread is not a
      member of a ForkJoinPool and was interrupted while waiting</div>
<a id="L999" name="L999"></a> 999     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>() <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>, <a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a> <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000         <strong class="reserved">int</strong> s = (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) ?
<a id="L1001" name="L1001"></a>1001             <a href="../S/1101.html#L384" title="Defined at 384 in src/java/util/concurrent/ForkJoinTask.java.">doJoin</a>() : <a href="../S/1101.html#L353" title="Defined at 353 in src/java/util/concurrent/ForkJoinTask.java.">externalInterruptibleAwaitDone</a>();
<a id="L1002" name="L1002"></a>1002         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L1003" name="L1003"></a>1003         <strong class="reserved">if</strong> ((s &amp;= DONE_MASK) == CANCELLED)
<a id="L1004" name="L1004"></a>1004             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1068.html#L46" title="Defined at 46 in src/java/util/concurrent/CancellationException.java.">CancellationException</a>();
<a id="L1005" name="L1005"></a>1005         <strong class="reserved">if</strong> (s == EXCEPTIONAL &amp;&amp; (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <a href="../S/1101.html#L563" title="Defined at 563 in src/java/util/concurrent/ForkJoinTask.java.">getThrowableException</a>()) != <strong class="reserved">null</strong>)
<a id="L1006" name="L1006"></a>1006             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1007" name="L1007"></a>1007         <strong class="reserved">return</strong> <a href="../D/21860.html" title="Multiple defined in 37 places.">getRawResult</a>();
<a id="L1008" name="L1008"></a>1008     <em class="brace">}</em>
<a id="L1009" name="L1009"></a>1009 
<div class="comment">
      Waits if necessary for at most the given time for the computation
      to complete, and then retrieves its result, if available.
      @param timeout the maximum time to wait
      @param unit the time unit of the timeout argument
      @return the computed result
      @throws CancellationException if the computation was cancelled
      @throws ExecutionException if the computation threw an
      exception
      @throws InterruptedException if the current thread is not a
      member of a ForkJoinPool and was interrupted while waiting
      @throws TimeoutException if the wait timed out</div>
<a id="L1024" name="L1024"></a>1024     <strong class="reserved">public</strong> <strong class="reserved">final</strong> V <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<strong class="reserved">long</strong> timeout, <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a> unit)
<a id="L1025" name="L1025"></a>1025         <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>, <a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a>, <a href="../D/8986.html" title="Multiple defined in 2 places.">TimeoutException</a> <em class="brace">{</em>
<a id="L1026" name="L1026"></a>1026         <strong class="reserved">int</strong> s;
<a id="L1027" name="L1027"></a>1027         <strong class="reserved">long</strong> nanos = unit.<a href="../D/35449.html" title="Multiple defined in 2 places.">toNanos</a>(timeout);
<a id="L1028" name="L1028"></a>1028         <strong class="reserved">if</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L943" title="Defined at 943 in src/java/lang/Thread.java.">interrupted</a>())
<a id="L1029" name="L1029"></a>1029             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>();
<a id="L1030" name="L1030"></a>1030         <strong class="reserved">if</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0 &amp;&amp; nanos &gt; 0L) <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031             <strong class="reserved">long</strong> d = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L399" title="Defined at 399 in src/java/lang/System.java.">nanoTime</a>() + nanos;
<a id="L1032" name="L1032"></a>1032             <strong class="reserved">long</strong> deadline = (d == 0L) ? 1L : d; <em class="comment">// avoid 0</em>
<a id="L1033" name="L1033"></a>1033             <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>();
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">if</strong> (t <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) <em class="brace">{</em>
<a id="L1035" name="L1035"></a>1035                 <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a> wt = (<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t;
<a id="L1036" name="L1036"></a>1036                 s = wt.pool.<a href="../S/1063.html#L2034" title="Defined at 2034 in src/java/util/concurrent/ForkJoinPool.java.">awaitJoin</a>(wt.workQueue, <strong class="reserved">this</strong>, deadline);
<a id="L1037" name="L1037"></a>1037             <em class="brace">}</em>
<a id="L1038" name="L1038"></a>1038             <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((s = ((<strong class="reserved">this</strong> <strong class="reserved">instanceof</strong> <a href="../S/1070.html#L411" title="Defined at 411 in src/java/util/concurrent/CountedCompleter.java.">CountedCompleter</a>) ?
<a id="L1039" name="L1039"></a>1039                            <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2463" title="Defined at 2463 in src/java/util/concurrent/ForkJoinPool.java.">externalHelpComplete</a>(
<a id="L1040" name="L1040"></a>1040                                (<a href="../S/1070.html#L411" title="Defined at 411 in src/java/util/concurrent/CountedCompleter.java.">CountedCompleter</a>&lt;?&gt;)<strong class="reserved">this</strong>, 0) :
<a id="L1041" name="L1041"></a>1041                            <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2439" title="Defined at 2439 in src/java/util/concurrent/ForkJoinPool.java.">tryExternalUnpush</a>(<strong class="reserved">this</strong>) ?
<a id="L1042" name="L1042"></a>1042                            <a href="../S/1101.html#L285" title="Defined at 285 in src/java/util/concurrent/ForkJoinTask.java.">doExec</a>() : 0)) &gt;= 0) <em class="brace">{</em>
<a id="L1043" name="L1043"></a>1043                 <strong class="reserved">long</strong> ns, ms; <em class="comment">// measure in nanosecs, but wait in millisecs</em>
<a id="L1044" name="L1044"></a>1044                 <strong class="reserved">while</strong> ((s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) &gt;= 0 &amp;&amp;
<a id="L1045" name="L1045"></a>1045                        (ns = deadline - <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L399" title="Defined at 399 in src/java/lang/System.java.">nanoTime</a>()) &gt; 0L) <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046                     <strong class="reserved">if</strong> ((ms = <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.NANOSECONDS.<a href="../D/35444.html" title="Multiple defined in 3 places.">toMillis</a>(ns)) &gt; 0L &amp;&amp;
<a id="L1047" name="L1047"></a>1047                         U.compareAndSwapInt(<strong class="reserved">this</strong>, STATUS, s, s | SIGNAL)) <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048                         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1049" name="L1049"></a>1049                             <strong class="reserved">if</strong> (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &gt;= 0)
<a id="L1050" name="L1050"></a>1050                                 <a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>(ms); <em class="comment">// OK to throw InterruptedException</em>
<a id="L1051" name="L1051"></a>1051                             <strong class="reserved">else</strong>
<a id="L1052" name="L1052"></a>1052                                 <a href="../S/1724.html#L295" title="Defined at 295 in src/java/lang/Object.java.">notifyAll</a>();
<a id="L1053" name="L1053"></a>1053                         <em class="brace">}</em>
<a id="L1054" name="L1054"></a>1054                     <em class="brace">}</em>
<a id="L1055" name="L1055"></a>1055                 <em class="brace">}</em>
<a id="L1056" name="L1056"></a>1056             <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057         <em class="brace">}</em>
<a id="L1058" name="L1058"></a>1058         <strong class="reserved">if</strong> (s &gt;= 0)
<a id="L1059" name="L1059"></a>1059             s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>;
<a id="L1060" name="L1060"></a>1060         <strong class="reserved">if</strong> ((s &amp;= DONE_MASK) != NORMAL) <em class="brace">{</em>
<a id="L1061" name="L1061"></a>1061             <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L1062" name="L1062"></a>1062             <strong class="reserved">if</strong> (s == CANCELLED)
<a id="L1063" name="L1063"></a>1063                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1068.html#L46" title="Defined at 46 in src/java/util/concurrent/CancellationException.java.">CancellationException</a>();
<a id="L1064" name="L1064"></a>1064             <strong class="reserved">if</strong> (s != EXCEPTIONAL)
<a id="L1065" name="L1065"></a>1065                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/8986.html" title="Multiple defined in 2 places.">TimeoutException</a>();
<a id="L1066" name="L1066"></a>1066             <strong class="reserved">if</strong> ((<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <a href="../S/1101.html#L563" title="Defined at 563 in src/java/util/concurrent/ForkJoinTask.java.">getThrowableException</a>()) != <strong class="reserved">null</strong>)
<a id="L1067" name="L1067"></a>1067                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1068" name="L1068"></a>1068         <em class="brace">}</em>
<a id="L1069" name="L1069"></a>1069         <strong class="reserved">return</strong> <a href="../D/21860.html" title="Multiple defined in 37 places.">getRawResult</a>();
<a id="L1070" name="L1070"></a>1070     <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071 
<div class="comment">
      Joins this task, without returning its result or throwing its
      exception. This method may be useful when processing
      collections of tasks when some have been cancelled or otherwise
      known to have aborted.</div>
<a id="L1078" name="L1078"></a>1078     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/1063.html#L2725" title="Referred from 2725 in src/java/util/concurrent/ForkJoinPool.java.">quietlyJoin</a>() <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079         <a href="../S/1101.html#L384" title="Defined at 384 in src/java/util/concurrent/ForkJoinTask.java.">doJoin</a>();
<a id="L1080" name="L1080"></a>1080     <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081 
<div class="comment">
      Commences performing this task and awaits its completion if
      necessary, without returning its result or throwing its
      exception.</div>
<a id="L1087" name="L1087"></a>1087     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> quietlyInvoke() <em class="brace">{</em>
<a id="L1088" name="L1088"></a>1088         <a href="../S/1101.html#L399" title="Defined at 399 in src/java/util/concurrent/ForkJoinTask.java.">doInvoke</a>();
<a id="L1089" name="L1089"></a>1089     <em class="brace">}</em>
<a id="L1090" name="L1090"></a>1090 
<div class="comment">
      Possibly executes tasks until the pool hosting the current task
      {@link ForkJoinPool#isQuiescent is quiescent}. This method may
      be of use in designs in which many tasks are forked, but none
      are explicitly joined, instead executing them until all are
      processed.</div>
<a id="L1098" name="L1098"></a>1098     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> helpQuiesce() <em class="brace">{</em>
<a id="L1099" name="L1099"></a>1099         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t;
<a id="L1100" name="L1100"></a>1100         <strong class="reserved">if</strong> ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) <em class="brace">{</em>
<a id="L1101" name="L1101"></a>1101             <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a> wt = (<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t;
<a id="L1102" name="L1102"></a>1102             wt.pool.<a href="../S/1063.html#L2101" title="Defined at 2101 in src/java/util/concurrent/ForkJoinPool.java.">helpQuiescePool</a>(wt.workQueue);
<a id="L1103" name="L1103"></a>1103         <em class="brace">}</em>
<a id="L1104" name="L1104"></a>1104         <strong class="reserved">else</strong>
<a id="L1105" name="L1105"></a>1105             <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.<a href="../S/1063.html#L3197" title="Defined at 3197 in src/java/util/concurrent/ForkJoinPool.java.">quiesceCommonPool</a>();
<a id="L1106" name="L1106"></a>1106     <em class="brace">}</em>
<a id="L1107" name="L1107"></a>1107 
<div class="comment">
      Resets the internal bookkeeping state of this task, allowing a
      subsequent <code>fork</code>. This method allows repeated reuse of
      this task, but only if reuse occurs when this task has either
      never been forked, or has been forked, then completed and all
      outstanding joins of this task have also completed. Effects
      under any other usage conditions are not guaranteed.
      This method may be useful when executing
      pre-constructed trees of subtasks in loops.
      <p>Upon completion of this method, <code>isDone()</code> reports
      <code>false</code>, and <code>getException()</code> reports {@code
      null}. However, the value returned by <code>getRawResult</code> is
      unaffected. To clear this value, you can invoke {@code
      setRawResult(null)}.</p></div>
<a id="L1124" name="L1124"></a>1124     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25835.html" title="Multiple referred from 3 places.">reinitialize</a>() <em class="brace">{</em>
<a id="L1125" name="L1125"></a>1125         <strong class="reserved">if</strong> ((<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &amp; DONE_MASK) == EXCEPTIONAL)
<a id="L1126" name="L1126"></a>1126             <a href="../S/1101.html#L521" title="Defined at 521 in src/java/util/concurrent/ForkJoinTask.java.">clearExceptionalCompletion</a>();
<a id="L1127" name="L1127"></a>1127         <strong class="reserved">else</strong>
<a id="L1128" name="L1128"></a>1128             <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> = 0;
<a id="L1129" name="L1129"></a>1129     <em class="brace">}</em>
<a id="L1130" name="L1130"></a>1130 
<div class="comment">
      Returns the pool hosting the current task execution, or null
      if this task is executing outside of any ForkJoinPool.
      @see #inForkJoinPool
      @return the pool, or <code>null</code> if none</div>
<a id="L1138" name="L1138"></a>1138     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a> <a href="../R/18362.html" title="Multiple referred from 9 places.">getPool</a>() <em class="brace">{</em>
<a id="L1139" name="L1139"></a>1139         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>();
<a id="L1140" name="L1140"></a>1140         <strong class="reserved">return</strong> (t <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) ?
<a id="L1141" name="L1141"></a>1141             ((<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) t).pool : <strong class="reserved">null</strong>;
<a id="L1142" name="L1142"></a>1142     <em class="brace">}</em>
<a id="L1143" name="L1143"></a>1143 
<div class="comment">
      Returns <code>true</code> if the current thread is a {@link
      ForkJoinWorkerThread} executing as a ForkJoinPool computation.
      @return <code>true</code> if the current thread is a {@link
      ForkJoinWorkerThread} executing as a ForkJoinPool computation,
      or <code>false</code> otherwise</div>
<a id="L1152" name="L1152"></a>1152     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> inForkJoinPool() <em class="brace">{</em>
<a id="L1153" name="L1153"></a>1153         <strong class="reserved">return</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>;
<a id="L1154" name="L1154"></a>1154     <em class="brace">}</em>
<a id="L1155" name="L1155"></a>1155 
<div class="comment">
      Tries to unschedule this task for execution. This method will
      typically (but is not guaranteed to) succeed if this task is
      the most recently forked task by the current thread, and has
      not commenced executing in another thread.  This method may be
      useful when arranging alternative local processing of tasks
      that could have been, but were not, stolen.
      @return <code>true</code> if unforked</div>
<a id="L1166" name="L1166"></a>1166     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> tryUnfork() <em class="brace">{</em>
<a id="L1167" name="L1167"></a>1167         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t;
<a id="L1168" name="L1168"></a>1168         <strong class="reserved">return</strong> (((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) ?
<a id="L1169" name="L1169"></a>1169                 ((<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).workQueue.<a href="../S/1063.html#L986" title="Defined at 986 in src/java/util/concurrent/ForkJoinPool.java.">tryUnpush</a>(<strong class="reserved">this</strong>) :
<a id="L1170" name="L1170"></a>1170                 <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.common.<a href="../S/1063.html#L2439" title="Defined at 2439 in src/java/util/concurrent/ForkJoinPool.java.">tryExternalUnpush</a>(<strong class="reserved">this</strong>));
<a id="L1171" name="L1171"></a>1171     <em class="brace">}</em>
<a id="L1172" name="L1172"></a>1172 
<div class="comment">
      Returns an estimate of the number of tasks that have been
      forked by the current worker thread but not yet executed. This
      value may be useful for heuristic decisions about whether to
      fork other tasks.
      @return the number of tasks</div>
<a id="L1181" name="L1181"></a>1181     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> getQueuedTaskCount() <em class="brace">{</em>
<a id="L1182" name="L1182"></a>1182         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t; <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.<a href="../D/9763.html" title="Multiple defined in 2 places.">WorkQueue</a> q;
<a id="L1183" name="L1183"></a>1183         <strong class="reserved">if</strong> ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)
<a id="L1184" name="L1184"></a>1184             q = ((<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).workQueue;
<a id="L1185" name="L1185"></a>1185         <strong class="reserved">else</strong>
<a id="L1186" name="L1186"></a>1186             q = <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.<a href="../S/1063.html#L2425" title="Defined at 2425 in src/java/util/concurrent/ForkJoinPool.java.">commonSubmitterQueue</a>();
<a id="L1187" name="L1187"></a>1187         <strong class="reserved">return</strong> (q == <strong class="reserved">null</strong>) ? 0 : q.<a href="../S/1063.html#L833" title="Defined at 833 in src/java/util/concurrent/ForkJoinPool.java.">queueSize</a>();
<a id="L1188" name="L1188"></a>1188     <em class="brace">}</em>
<a id="L1189" name="L1189"></a>1189 
<div class="comment">
      Returns an estimate of how many more locally queued tasks are
      held by the current worker thread than there are other worker
      threads that might steal them, or zero if this thread is not
      operating in a ForkJoinPool. This value may be useful for
      heuristic decisions about whether to fork other tasks. In many
      usages of ForkJoinTasks, at steady state, each worker should
      aim to maintain a small constant surplus (for example, 3) of
      tasks, and to process computations locally if this threshold is
      exceeded.
      @return the surplus number of tasks, which may be negative</div>
<a id="L1203" name="L1203"></a>1203     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/1101.html#L1204" title="Referred from 1204 in src/java/util/concurrent/ForkJoinTask.java.">getSurplusQueuedTaskCount</a>() <em class="brace">{</em>
<a id="L1204" name="L1204"></a>1204         <strong class="reserved">return</strong> <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.<a href="../D/22879.html" title="Multiple defined in 2 places.">getSurplusQueuedTaskCount</a>();
<a id="L1205" name="L1205"></a>1205     <em class="brace">}</em>
<a id="L1206" name="L1206"></a>1206 
<a id="L1207" name="L1207"></a>1207     <em class="comment">// Extension methods</em>
<a id="L1208" name="L1208"></a>1208 
<div class="comment">
      Returns the result that would be returned by <a href="#L717" title="Defined at 717.">join</a>, even
      if this task completed abnormally, or <code>null</code> if this task
      is not known to have been completed.  This method is designed
      to aid debugging, as well as to support extensions. Its use in
      any other context is discouraged.
      @return the result, or <code>null</code> if not completed</div>
<a id="L1218" name="L1218"></a>1218     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> V <a href="../R/18601.html" title="Multiple referred from 4 places.">getRawResult</a>();
<a id="L1219" name="L1219"></a>1219 
<div class="comment">
      Forces the given value to be returned as a result.  This method
      is designed to support extensions, and should not in general be
      called otherwise.
      @param value the value</div>
<a id="L1227" name="L1227"></a>1227     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/27997.html" title="Multiple referred from 2 places.">setRawResult</a>(V <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1228" name="L1228"></a>1228 
<div class="comment">
      Immediately performs the base action of this task and returns
      true if, upon return from this method, this task is guaranteed
      to have completed normally. This method may return false
      otherwise, to indicate that this task is not necessarily
      complete (or is not known to be complete), for example in
      asynchronous actions that require explicit invocations of
      completion methods. This method may also throw an (unchecked)
      exception to indicate abnormal exit. This method is designed to
      support extensions, and should not in general be called
      otherwise.
      @return <code>true</code> if this task is known to have completed normally</div>
<a id="L1243" name="L1243"></a>1243     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/14091.html" title="Multiple referred from 8 places.">exec</a>();
<a id="L1244" name="L1244"></a>1244 
<div class="comment">
      Returns, but does not unschedule or execute, a task queued by
      the current thread but not yet executed, if one is immediately
      available. There is no guarantee that this task will actually
      be polled or executed next. Conversely, this method may return
      null even if a task exists but cannot be accessed without
      contention with other threads.  This method is designed
      primarily to support extensions, and is unlikely to be useful
      otherwise.
      @return the next task, or <code>null</code> if none are available</div>
<a id="L1257" name="L1257"></a>1257     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; peekNextLocalTask() <em class="brace">{</em>
<a id="L1258" name="L1258"></a>1258         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t; <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.<a href="../D/9763.html" title="Multiple defined in 2 places.">WorkQueue</a> q;
<a id="L1259" name="L1259"></a>1259         <strong class="reserved">if</strong> ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)
<a id="L1260" name="L1260"></a>1260             q = ((<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).workQueue;
<a id="L1261" name="L1261"></a>1261         <strong class="reserved">else</strong>
<a id="L1262" name="L1262"></a>1262             q = <a href="../S/1063.html#L170" title="Defined at 170 in src/java/util/concurrent/ForkJoinPool.java.">ForkJoinPool</a>.<a href="../S/1063.html#L2425" title="Defined at 2425 in src/java/util/concurrent/ForkJoinPool.java.">commonSubmitterQueue</a>();
<a id="L1263" name="L1263"></a>1263         <strong class="reserved">return</strong> (q == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : q.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L1264" name="L1264"></a>1264     <em class="brace">}</em>
<a id="L1265" name="L1265"></a>1265 
<div class="comment">
      Unschedules and returns, without executing, the next task
      queued by the current thread but not yet executed, if the
      current thread is operating in a ForkJoinPool.  This method is
      designed primarily to support extensions, and is unlikely to be
      useful otherwise.
      @return the next task, or <code>null</code> if none are available</div>
<a id="L1275" name="L1275"></a>1275     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; pollNextLocalTask() <em class="brace">{</em>
<a id="L1276" name="L1276"></a>1276         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t;
<a id="L1277" name="L1277"></a>1277         <strong class="reserved">return</strong> ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) ?
<a id="L1278" name="L1278"></a>1278             ((<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).workQueue.<a href="../S/1063.html#L966" title="Defined at 966 in src/java/util/concurrent/ForkJoinPool.java.">nextLocalTask</a>() :
<a id="L1279" name="L1279"></a>1279             <strong class="reserved">null</strong>;
<a id="L1280" name="L1280"></a>1280     <em class="brace">}</em>
<a id="L1281" name="L1281"></a>1281 
<div class="comment">
      If the current thread is operating in a ForkJoinPool,
      unschedules and returns, without executing, the next task
      queued by the current thread but not yet executed, if one is
      available, or if not available, a task that was forked by some
      other thread, if available. Availability may be transient, so a
      <code>null</code> result does not necessarily imply quiescence of
      the pool this task is operating in.  This method is designed
      primarily to support extensions, and is unlikely to be useful
      otherwise.
      @return a task, or <code>null</code> if none are available</div>
<a id="L1295" name="L1295"></a>1295     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; pollTask() <em class="brace">{</em>
<a id="L1296" name="L1296"></a>1296         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t; <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a> wt;
<a id="L1297" name="L1297"></a>1297         <strong class="reserved">return</strong> ((t = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <strong class="reserved">instanceof</strong> <a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>) ?
<a id="L1298" name="L1298"></a>1298             (wt = (<a href="../S/1113.html#L55" title="Defined at 55 in src/java/util/concurrent/ForkJoinWorkerThread.java.">ForkJoinWorkerThread</a>)t).pool.<a href="../S/1063.html#L2137" title="Defined at 2137 in src/java/util/concurrent/ForkJoinPool.java.">nextTaskFor</a>(wt.workQueue) :
<a id="L1299" name="L1299"></a>1299             <strong class="reserved">null</strong>;
<a id="L1300" name="L1300"></a>1300     <em class="brace">}</em>
<a id="L1301" name="L1301"></a>1301 
<a id="L1302" name="L1302"></a>1302     <em class="comment">// tag operations</em>
<a id="L1303" name="L1303"></a>1303 
<div class="comment">
      Returns the tag for this task.
      @return the tag for this task
      @since 1.8</div>
<a id="L1310" name="L1310"></a>1310     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> getForkJoinTaskTag() <em class="brace">{</em>
<a id="L1311" name="L1311"></a>1311         <strong class="reserved">return</strong> (<strong class="reserved">short</strong>)<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>;
<a id="L1312" name="L1312"></a>1312     <em class="brace">}</em>
<a id="L1313" name="L1313"></a>1313 
<div class="comment">
      Atomically sets the tag value for this task.
      @param tag the tag value
      @return the previous value of the tag
      @since 1.8</div>
<a id="L1321" name="L1321"></a>1321     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> setForkJoinTaskTag(<strong class="reserved">short</strong> tag) <em class="brace">{</em>
<a id="L1322" name="L1322"></a>1322         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> s;;) <em class="brace">{</em>
<a id="L1323" name="L1323"></a>1323             <strong class="reserved">if</strong> (U.compareAndSwapInt(<strong class="reserved">this</strong>, STATUS, s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>,
<a id="L1324" name="L1324"></a>1324                                     (s &amp; ~SMASK) | (tag &amp; SMASK)))
<a id="L1325" name="L1325"></a>1325                 <strong class="reserved">return</strong> (<strong class="reserved">short</strong>)s;
<a id="L1326" name="L1326"></a>1326         <em class="brace">}</em>
<a id="L1327" name="L1327"></a>1327     <em class="brace">}</em>
<a id="L1328" name="L1328"></a>1328 
<div class="comment">
      Atomically conditionally sets the tag value for this task.
      Among other applications, tags can be used as visit markers
      in tasks operating on graphs, as in methods that check: {@code
      if (task.compareAndSetForkJoinTaskTag((short)0, (short)1))}
      before processing, otherwise exiting because the node has
      already been visited.
      @param e the expected tag value
      @param tag the new tag value
      @return <code>true</code> if successful; i.e., the current value was
      equal to e and is now tag.
      @since 1.8</div>
<a id="L1343" name="L1343"></a>1343     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../S/1107.html#L525" title="Referred from 525 in src/java/util/concurrent/CompletableFuture.java.">compareAndSetForkJoinTaskTag</a>(<strong class="reserved">short</strong> e, <strong class="reserved">short</strong> tag) <em class="brace">{</em>
<a id="L1344" name="L1344"></a>1344         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> s;;) <em class="brace">{</em>
<a id="L1345" name="L1345"></a>1345             <strong class="reserved">if</strong> ((<strong class="reserved">short</strong>)(s = <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) != e)
<a id="L1346" name="L1346"></a>1346                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1347" name="L1347"></a>1347             <strong class="reserved">if</strong> (U.compareAndSwapInt(<strong class="reserved">this</strong>, STATUS, s,
<a id="L1348" name="L1348"></a>1348                                     (s &amp; ~SMASK) | (tag &amp; SMASK)))
<a id="L1349" name="L1349"></a>1349                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1350" name="L1350"></a>1350         <em class="brace">}</em>
<a id="L1351" name="L1351"></a>1351     <em class="brace">}</em>
<a id="L1352" name="L1352"></a>1352 
<div class="comment">
      Adaptor for Runnables. This implements RunnableFuture
      to be compliant with AbstractExecutorService constraints
      when used in ForkJoinPool.</div>
<a id="L1358" name="L1358"></a>1358     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/307.html" title="Multiple referred from 3 places.">AdaptedRunnable</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <strong class="reserved">extends</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1359" name="L1359"></a>1359         <strong class="reserved">implements</strong> <a href="../S/1099.html#L48" title="Defined at 48 in src/java/util/concurrent/RunnableFuture.java.">RunnableFuture</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <em class="brace">{</em>
<a id="L1360" name="L1360"></a>1360         <strong class="reserved">final</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable;
<a id="L1361" name="L1361"></a>1361         <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1362" name="L1362"></a>1362         AdaptedRunnable(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>) <em class="brace">{</em>
<a id="L1363" name="L1363"></a>1363             <strong class="reserved">if</strong> (runnable == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1364" name="L1364"></a>1364             <strong class="reserved">this</strong>.runnable = runnable;
<a id="L1365" name="L1365"></a>1365             <strong class="reserved">this</strong>.<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>; <em class="comment">// OK to set this even before completion</em>
<a id="L1366" name="L1366"></a>1366         <em class="brace">}</em>
<a id="L1367" name="L1367"></a>1367         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../R/18601.html" title="Multiple referred from 4 places.">getRawResult</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>; <em class="brace">}</em>
<a id="L1368" name="L1368"></a>1368         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/27997.html" title="Multiple referred from 2 places.">setRawResult</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> v) <em class="brace">{</em> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = v; <em class="brace">}</em>
<a id="L1369" name="L1369"></a>1369         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/14091.html" title="Multiple referred from 8 places.">exec</a>() <em class="brace">{</em> runnable.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>(); <strong class="reserved">return</strong> <strong class="reserved">true</strong>; <em class="brace">}</em>
<a id="L1370" name="L1370"></a>1370         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em> <a href="../D/25050.html" title="Multiple defined in 52 places.">invoke</a>(); <em class="brace">}</em>
<a id="L1371" name="L1371"></a>1371         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 5232453952276885070L;
<a id="L1372" name="L1372"></a>1372     <em class="brace">}</em>
<a id="L1373" name="L1373"></a>1373 
<div class="comment">
      Adaptor for Runnables without results</div>
<a id="L1377" name="L1377"></a>1377     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/308.html" title="Multiple referred from 2 places.">AdaptedRunnableAction</a> <strong class="reserved">extends</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;
<a id="L1378" name="L1378"></a>1378         <strong class="reserved">implements</strong> <a href="../S/1099.html#L48" title="Defined at 48 in src/java/util/concurrent/RunnableFuture.java.">RunnableFuture</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt; <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379         <strong class="reserved">final</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable;
<a id="L1380" name="L1380"></a>1380         AdaptedRunnableAction(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable) <em class="brace">{</em>
<a id="L1381" name="L1381"></a>1381             <strong class="reserved">if</strong> (runnable == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1382" name="L1382"></a>1382             <strong class="reserved">this</strong>.runnable = runnable;
<a id="L1383" name="L1383"></a>1383         <em class="brace">}</em>
<a id="L1384" name="L1384"></a>1384         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../R/18601.html" title="Multiple referred from 4 places.">getRawResult</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <strong class="reserved">null</strong>; <em class="brace">}</em>
<a id="L1385" name="L1385"></a>1385         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/27997.html" title="Multiple referred from 2 places.">setRawResult</a>(<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> v) <em class="brace">{</em> <em class="brace">}</em>
<a id="L1386" name="L1386"></a>1386         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/14091.html" title="Multiple referred from 8 places.">exec</a>() <em class="brace">{</em> runnable.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>(); <strong class="reserved">return</strong> <strong class="reserved">true</strong>; <em class="brace">}</em>
<a id="L1387" name="L1387"></a>1387         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em> <a href="../D/25050.html" title="Multiple defined in 52 places.">invoke</a>(); <em class="brace">}</em>
<a id="L1388" name="L1388"></a>1388         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 5232453952276885070L;
<a id="L1389" name="L1389"></a>1389     <em class="brace">}</em>
<a id="L1390" name="L1390"></a>1390 
<div class="comment">
      Adaptor for Runnables in which failure forces worker exception</div>
<a id="L1394" name="L1394"></a>1394     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1063.html#L2647" title="Referred from 2647 in src/java/util/concurrent/ForkJoinPool.java.">RunnableExecuteAction</a> <strong class="reserved">extends</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt; <em class="brace">{</em>
<a id="L1395" name="L1395"></a>1395         <strong class="reserved">final</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable;
<a id="L1396" name="L1396"></a>1396         RunnableExecuteAction(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable) <em class="brace">{</em>
<a id="L1397" name="L1397"></a>1397             <strong class="reserved">if</strong> (runnable == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1398" name="L1398"></a>1398             <strong class="reserved">this</strong>.runnable = runnable;
<a id="L1399" name="L1399"></a>1399         <em class="brace">}</em>
<a id="L1400" name="L1400"></a>1400         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../R/18601.html" title="Multiple referred from 4 places.">getRawResult</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <strong class="reserved">null</strong>; <em class="brace">}</em>
<a id="L1401" name="L1401"></a>1401         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/27997.html" title="Multiple referred from 2 places.">setRawResult</a>(<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> v) <em class="brace">{</em> <em class="brace">}</em>
<a id="L1402" name="L1402"></a>1402         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/14091.html" title="Multiple referred from 8 places.">exec</a>() <em class="brace">{</em> runnable.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>(); <strong class="reserved">return</strong> <strong class="reserved">true</strong>; <em class="brace">}</em>
<a id="L1403" name="L1403"></a>1403         <strong class="reserved">void</strong> <a href="../S/1101.html#L493" title="Referred from 493 in src/java/util/concurrent/ForkJoinTask.java.">internalPropagateException</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1404" name="L1404"></a>1404             <a href="../D/31380.html" title="Multiple defined in 2 places.">rethrow</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>); <em class="comment">// rethrow outside exec() catches.</em>
<a id="L1405" name="L1405"></a>1405         <em class="brace">}</em>
<a id="L1406" name="L1406"></a>1406         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 5232453952276885070L;
<a id="L1407" name="L1407"></a>1407     <em class="brace">}</em>
<a id="L1408" name="L1408"></a>1408 
<div class="comment">
      Adaptor for Callables</div>
<a id="L1412" name="L1412"></a>1412     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/306.html" title="Multiple referred from 4 places.">AdaptedCallable</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <strong class="reserved">extends</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;
<a id="L1413" name="L1413"></a>1413         <strong class="reserved">implements</strong> <a href="../S/1099.html#L48" title="Defined at 48 in src/java/util/concurrent/RunnableFuture.java.">RunnableFuture</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <em class="brace">{</em>
<a id="L1414" name="L1414"></a>1414         <strong class="reserved">final</strong> <a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a>;
<a id="L1415" name="L1415"></a>1415         <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1416" name="L1416"></a>1416         AdaptedCallable(<a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a>) <em class="brace">{</em>
<a id="L1417" name="L1417"></a>1417             <strong class="reserved">if</strong> (<a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a> == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1418" name="L1418"></a>1418             <strong class="reserved">this</strong>.<a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a> = <a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a>;
<a id="L1419" name="L1419"></a>1419         <em class="brace">}</em>
<a id="L1420" name="L1420"></a>1420         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../R/18601.html" title="Multiple referred from 4 places.">getRawResult</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>; <em class="brace">}</em>
<a id="L1421" name="L1421"></a>1421         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/27997.html" title="Multiple referred from 2 places.">setRawResult</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> v) <em class="brace">{</em> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = v; <em class="brace">}</em>
<a id="L1422" name="L1422"></a>1422         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/14091.html" title="Multiple referred from 8 places.">exec</a>() <em class="brace">{</em>
<a id="L1423" name="L1423"></a>1423             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1424" name="L1424"></a>1424                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a>.<a href="../D/12109.html" title="Multiple defined in 7 places.">call</a>();
<a id="L1425" name="L1425"></a>1425                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1426" name="L1426"></a>1426             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a> err) <em class="brace">{</em>
<a id="L1427" name="L1427"></a>1427                 <strong class="reserved">throw</strong> err;
<a id="L1428" name="L1428"></a>1428             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> rex) <em class="brace">{</em>
<a id="L1429" name="L1429"></a>1429                 <strong class="reserved">throw</strong> rex;
<a id="L1430" name="L1430"></a>1430             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1431" name="L1431"></a>1431                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1432" name="L1432"></a>1432             <em class="brace">}</em>
<a id="L1433" name="L1433"></a>1433         <em class="brace">}</em>
<a id="L1434" name="L1434"></a>1434         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em> <a href="../D/25050.html" title="Multiple defined in 52 places.">invoke</a>(); <em class="brace">}</em>
<a id="L1435" name="L1435"></a>1435         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 2838392045355241008L;
<a id="L1436" name="L1436"></a>1436     <em class="brace">}</em>
<a id="L1437" name="L1437"></a>1437 
<div class="comment">
      Returns a new <code>ForkJoinTask</code> that performs the <code>run</code>
      method of the given <code>Runnable</code> as its action, and returns
      a null result upon <a href="#L717" title="Defined at 717.">join</a>.
      @param runnable the runnable action
      @return the task</div>
<a id="L1446" name="L1446"></a>1446     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;?&gt; <a href="../R/9580.html" title="Multiple referred from 15 places.">adapt</a>(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable) <em class="brace">{</em>
<a id="L1447" name="L1447"></a>1447         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1101.html#L1377" title="Defined at 1377 in src/java/util/concurrent/ForkJoinTask.java.">AdaptedRunnableAction</a>(runnable);
<a id="L1448" name="L1448"></a>1448     <em class="brace">}</em>
<a id="L1449" name="L1449"></a>1449 
<div class="comment">
      Returns a new <code>ForkJoinTask</code> that performs the <code>run</code>
      method of the given <code>Runnable</code> as its action, and returns
      the given result upon <a href="#L717" title="Defined at 717.">join</a>.
      @param runnable the runnable action
      @param result the result upon completion
      @param <t> the type of the result
      @return the task</t></div>
<a id="L1460" name="L1460"></a>1460     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/9580.html" title="Multiple referred from 15 places.">adapt</a>(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable, <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>) <em class="brace">{</em>
<a id="L1461" name="L1461"></a>1461         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1101.html#L1358" title="Defined at 1358 in src/java/util/concurrent/ForkJoinTask.java.">AdaptedRunnable</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;(runnable, <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>);
<a id="L1462" name="L1462"></a>1462     <em class="brace">}</em>
<a id="L1463" name="L1463"></a>1463 
<div class="comment">
      Returns a new <code>ForkJoinTask</code> that performs the <code>call</code>
      method of the given <code>Callable</code> as its action, and returns
      its result upon <a href="#L717" title="Defined at 717.">join</a>, translating any checked exceptions
      encountered into <code>RuntimeException</code>.
      @param callable the callable action
      @param <t> the type of the callable's result
      @return the task</t></div>
<a id="L1474" name="L1474"></a>1474     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/9580.html" title="Multiple referred from 15 places.">adapt</a>(<a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a>) <em class="brace">{</em>
<a id="L1475" name="L1475"></a>1475         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1101.html#L1412" title="Defined at 1412 in src/java/util/concurrent/ForkJoinTask.java.">AdaptedCallable</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;(<a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a>);
<a id="L1476" name="L1476"></a>1476     <em class="brace">}</em>
<a id="L1477" name="L1477"></a>1477 
<a id="L1478" name="L1478"></a>1478     <em class="comment">// Serialization support</em>
<a id="L1479" name="L1479"></a>1479 
<a id="L1480" name="L1480"></a>1480     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -7721805057305804111L;
<a id="L1481" name="L1481"></a>1481 
<div class="comment">
      Saves this task to a stream (that is, serializes it).
      @param s the stream
      @throws java.io.IOException if an I/O error occurs
      @serialData the current run status and the exception thrown
      during execution, or <code>null</code> if none</div>
<a id="L1490" name="L1490"></a>1490     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L1491" name="L1491"></a>1491         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1492" name="L1492"></a>1492         s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L1493" name="L1493"></a>1493         s.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>());
<a id="L1494" name="L1494"></a>1494     <em class="brace">}</em>
<a id="L1495" name="L1495"></a>1495 
<div class="comment">
      Reconstitutes this task from a stream (that is, deserializes it).
      @param s the stream
      @throws ClassNotFoundException if the class of a serialized object
              could not be found
      @throws java.io.IOException if an I/O error occurs</div>
<a id="L1503" name="L1503"></a>1503     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L1504" name="L1504"></a>1504         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L1505" name="L1505"></a>1505         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L1506" name="L1506"></a>1506         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = s.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L1507" name="L1507"></a>1507         <strong class="reserved">if</strong> (<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> != <strong class="reserved">null</strong>)
<a id="L1508" name="L1508"></a>1508             <a href="../S/1101.html#L490" title="Defined at 490 in src/java/util/concurrent/ForkJoinTask.java.">setExceptionalCompletion</a>((<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>)<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1509" name="L1509"></a>1509     <em class="brace">}</em>
<a id="L1510" name="L1510"></a>1510 
<a id="L1511" name="L1511"></a>1511     <em class="comment">// Unsafe mechanics</em>
<a id="L1512" name="L1512"></a>1512     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> sun.misc.Unsafe U;
<a id="L1513" name="L1513"></a>1513     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> STATUS;
<a id="L1514" name="L1514"></a>1514 
<a id="L1515" name="L1515"></a>1515     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L1516" name="L1516"></a>1516         exceptionTableLock = <strong class="reserved">new</strong> <a href="../S/1047.html#L106" title="Defined at 106 in src/java/util/concurrent/locks/ReentrantLock.java.">ReentrantLock</a>();
<a id="L1517" name="L1517"></a>1517         exceptionTableRefQueue = <strong class="reserved">new</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L1518" name="L1518"></a>1518         exceptionTable = <strong class="reserved">new</strong> <a href="../S/1101.html#L440" title="Defined at 440 in src/java/util/concurrent/ForkJoinTask.java.">ExceptionNode</a>[EXCEPTION_MAP_CAPACITY];
<a id="L1519" name="L1519"></a>1519         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1520" name="L1520"></a>1520             U = sun.misc.Unsafe.getUnsafe();
<a id="L1521" name="L1521"></a>1521             <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; k = <a href="../S/1101.html#L212" title="Defined at 212 in src/java/util/concurrent/ForkJoinTask.java.">ForkJoinTask</a>.<strong class="reserved">class</strong>;
<a id="L1522" name="L1522"></a>1522             STATUS = U.<a href="../D/28395.html" title="Multiple defined in 5 places.">objectFieldOffset</a>
<a id="L1523" name="L1523"></a>1523                 (k.<a href="../S/1722.html#L2065" title="Defined at 2065 in src/java/lang/Class.java.">getDeclaredField</a>("status"));
<a id="L1524" name="L1524"></a>1524         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1525" name="L1525"></a>1525             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>(e);
<a id="L1526" name="L1526"></a>1526         <em class="brace">}</em>
<a id="L1527" name="L1527"></a>1527     <em class="brace">}</em>
<a id="L1528" name="L1528"></a>1528 
<a id="L1529" name="L1529"></a>1529 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L266">[^]</a><a href="#L1503">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>