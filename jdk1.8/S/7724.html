<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/java_cup/internal/runtime/lr_parser.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L171">[^]</a><a href="#L1234">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L171" title="Defined at 171.">error_sync_size</a></li>
<li><a href="#L184" title="Defined at 184.">production_table</a></li>
<li><a href="#L202" title="Defined at 202.">action_table</a></li>
<li><a href="#L219" title="Defined at 219.">reduce_table</a></li>
<li><a href="#L224" title="Defined at 224.">start_state</a></li>
<li><a href="#L229" title="Defined at 229.">start_production</a></li>
<li><a href="#L236" title="Defined at 236.">EOF_sym</a></li>
<li><a href="#L241" title="Defined at 241.">error_sym</a></li>
<li><a href="#L254" title="Defined at 254.">done_parsing</a></li>
<li><a href="#L302" title="Defined at 302.">setScanner</a></li>
<li><a href="#L307" title="Defined at 307.">getScanner</a></li>
<li><a href="#L322" title="Defined at 322.">do_action</a></li>
<li><a href="#L338" title="Defined at 338.">user_init</a></li>
<li><a href="#L346" title="Defined at 346.">init_actions</a></li>
<li><a href="#L358" title="Defined at 358.">scan</a></li>
<li><a href="#L372" title="Defined at 372.">report_fatal_error</a></li>
<li><a href="#L398" title="Defined at 398.">report_error</a></li>
<li><a href="#L417" title="Defined at 417.">syntax_error</a></li>
<li><a href="#L429" title="Defined at 429.">unrecovered_syntax_error</a></li>
<li><a href="#L447" title="Defined at 447.">get_action</a></li>
<li><a href="#L502" title="Defined at 502.">get_reduce</a></li>
<li><a href="#L533" title="Defined at 533.">parse</a></li>
<li><a href="#L643" title="Defined at 643.">debug_message</a></li>
<li><a href="#L651" title="Defined at 651.">dump_stack</a></li>
<li><a href="#L678" title="Defined at 678.">debug_reduce</a></li>
<li><a href="#L690" title="Defined at 690.">debug_shift</a></li>
<li><a href="#L700" title="Defined at 700.">debug_stack</a></li>
<li><a href="#L719" title="Defined at 719.">debug_parse</a></li>
<li><a href="#L862" title="Defined at 862.">error_recovery</a></li>
<li><a href="#L916" title="Defined at 916.">shift_under_error</a></li>
<li><a href="#L931" title="Defined at 931.">find_recovery_config</a></li>
<li><a href="#L992" title="Defined at 992.">read_lookahead</a></li>
<li><a href="#L1011" title="Defined at 1011.">cur_err_token</a></li>
<li><a href="#L1018" title="Defined at 1018.">advance_lookahead</a></li>
<li><a href="#L1032" title="Defined at 1032.">restart_lookahead</a></li>
<li><a href="#L1057" title="Defined at 1057.">try_parse_ahead</a></li>
<li><a href="#L1128" title="Defined at 1128.">parse_lookahead</a></li>
<li><a href="#L1234" title="Defined at 1234.">unpackFromStrings</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2003, 2005, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">package</strong> com.sun.java_cup.internal.runtime;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Stack;
<a id="L30" name="L30"></a>  30 
<div class="comment">
 This class implements a skeleton table driven LR parser.  In general,
   LR parsers are a form of bottom up shift-reduce parsers.  Shift-reduce
   parsers act by shifting input onto a parse stack until the Symbols
   matching the right hand side of a production appear on the top of the
   stack.  Once this occurs, a reduce is performed.  This involves removing
   the Symbols corresponding to the right hand side of the production
   (the so called "handle") and replacing them with the non-terminal from
   the left hand side of the production.  <p>
   To control the decision of whether to shift or reduce at any given point,
   the parser uses a state machine (the "viable prefix recognition machine"
   built by the parser generator).  The current state of the machine is placed
   on top of the parse stack (stored as part of a Symbol object representing
   a terminal or non terminal).  The parse action table is consulted
   (using the current state and the current lookahead Symbol as indexes) to
   determine whether to shift or to reduce.  When the parser shifts, it
   changes to a new state by pushing a new Symbol (containing a new state)
   onto the stack.  When the parser reduces, it pops the handle (right hand
   side of a production) off the stack.  This leaves the parser in the state
   it was in before any of those Symbols were matched.  Next the reduce-goto
   table is consulted (using the new state and current lookahead Symbol as
   indexes) to determine a new state to go to.  The parser then shifts to
   this goto state by pushing the left hand side Symbol of the production
   (also containing the new state) onto the stack.</p><p>
   This class actually provides four LR parsers.  The methods parse() and
   debug_parse() provide two versions of the main parser (the only difference
   being that debug_parse() emits debugging trace messages as it parses).
   In addition to these main parsers, the error recovery mechanism uses two
   more.  One of these is used to simulate "parsing ahead" in the input
   without carrying out actions (to verify that a potential error recovery
   has worked), and the other is used to parse through buffered "parse ahead"
   input in order to execute all actions and re-synchronize the actual parser
   configuration.</p><p>
   This is an abstract class which is normally filled out by a subclass
   generated by the JavaCup parser generator.  In addition to supplying
   the actual parse tables, generated code also supplies methods which
   invoke various pieces of user supplied code, provide access to certain
   special Symbols (e.g., EOF and error), etc.  Specifically, the following
   abstract methods are normally supplied by generated code:
   </p><dl compact>
   <dt> short[][] production_table()
   </dt><dd> Provides a reference to the production table (indicating the index of
        the left hand side non terminal and the length of the right hand side
        for each production in the grammar).
   </dd><dt> short[][] action_table()
   </dt><dd> Provides a reference to the parse action table.
   </dd><dt> short[][] reduce_table()
   </dt><dd> Provides a reference to the reduce-goto table.
   </dd><dt> int start_state()
   </dt><dd> Indicates the index of the start state.
   </dd><dt> int start_production()
   </dt><dd> Indicates the index of the starting production.
   </dd><dt> int EOF_sym()
   </dt><dd> Indicates the index of the EOF Symbol.
   </dd><dt> int error_sym()
   </dt><dd> Indicates the index of the error Symbol.
   </dd><dt> Symbol do_action()
   </dt><dd> Executes a piece of user supplied action code.  This always comes at
        the point of a reduce in the parse, so this code also allocates and
        fills in the left hand side non terminal Symbol object that is to be
        pushed onto the stack for the reduce.
   </dd><dt> void init_actions()
   </dt><dd> Code to initialize a special object that encapsulates user supplied
        actions (this object is used by do_action() to actually carry out the
        actions).
   </dd></dl>
   In addition to these routines that <i>must</i> be supplied by the
   generated subclass there are also a series of routines that <i>may</i>
   be supplied.  These include:
   <dl>
   <dt> Symbol scan()
   </dt><dd> Used to get the next input Symbol from the scanner.
   </dd><dt> Scanner getScanner()
   </dt><dd> Used to provide a scanner for the default implementation of
        scan().
   </dd><dt> int error_sync_size()
   </dt><dd> This determines how many Symbols past the point of an error
        must be parsed without error in order to consider a recovery to
        be valid.  This defaults to 3.  Values less than 2 are not
        recommended.
   </dd><dt> void report_error(String message, Object info)
   </dt><dd> This method is called to report an error.  The default implementation
        simply prints a message to System.err and where the error occurred.
        This method is often replaced in order to provide a more sophisticated
        error reporting mechanism.
   </dd><dt> void report_fatal_error(String message, Object info)
   </dt><dd> This method is called when a fatal error that cannot be recovered from
        is encountered.  In the default implementation, it calls
        report_error() to emit a message, then throws an exception.
   </dd><dt> void syntax_error(Symbol cur_token)
   </dt><dd> This method is called as soon as syntax error is detected (but
        before recovery is attempted).  In the default implementation it
        invokes: report_error("Syntax error", null);
   </dd><dt> void unrecovered_syntax_error(Symbol cur_token)
   </dt><dd> This method is called if syntax error recovery fails.  In the default
        implementation it invokes:<br>
          report_fatal_error("Couldn't repair and continue parse", null);
   </dd></dl>
  @see     com.sun.java_cup.internal.runtime.Symbol
  @see     com.sun.java_cup.internal.runtime.Symbol
  @see     com.sun.java_cup.internal.runtime.virtual_parse_stack
  @author  Frank Flannery</div>
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/22801.html" title="Multiple referred from 4 places.">lr_parser</a> <em class="brace">{</em>
<a id="L140" name="L140"></a> 140 
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<div class="comment">
   /*--- Constructor(s) ----------------------------------------*/</div>
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<a id="L144" name="L144"></a> 144 
<div class="comment">
   /** Simple constructor. */</div>
<a id="L146" name="L146"></a> 146   <strong class="reserved">public</strong> lr_parser()
<a id="L147" name="L147"></a> 147     <em class="brace">{</em>
<div class="comment">
       /* nothing to do here */</div>
<a id="L149" name="L149"></a> 149     <em class="brace">}</em>
<a id="L150" name="L150"></a> 150 
<div class="comment">
   /** Constructor that sets the default scanner. [CSA/davidm] */</div>
<a id="L152" name="L152"></a> 152   <strong class="reserved">public</strong> lr_parser(<a href="../D/7599.html" title="Multiple defined in 5 places.">Scanner</a> s) <em class="brace">{</em>
<a id="L153" name="L153"></a> 153     <div class="comment">
/* in case default constructor someday does something */</div>
<a id="L154" name="L154"></a> 154     <a href="../S/7724.html#L302" title="Defined at 302 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">setScanner</a>(s);
<a id="L155" name="L155"></a> 155   <em class="brace">}</em>
<a id="L156" name="L156"></a> 156 
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<div class="comment">
   /*--- (Access to) Static (Class) Variables ------------------*/</div>
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<a id="L160" name="L160"></a> 160 
<div class="comment">
 The default number of Symbols after an error we much match to consider
     it recovered from.</div>
<a id="L164" name="L164"></a> 164   <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> _error_sync_size = 3;
<a id="L165" name="L165"></a> 165 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L167" name="L167"></a> 167 
<div class="comment">
 The number of Symbols after an error we much match to consider it
     recovered from.</div>
<a id="L171" name="L171"></a> 171   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/14026.html" title="Multiple referred from 5 places.">error_sync_size</a>() <em class="brace">{</em><strong class="reserved">return</strong> _error_sync_size; <em class="brace">}</em>
<a id="L172" name="L172"></a> 172 
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<div class="comment">
   /*--- (Access to) Instance Variables ------------------------*/</div>
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<a id="L176" name="L176"></a> 176 
<div class="comment">
 Table of production information (supplied by generated subclass).
     This table contains one entry per production and is indexed by
     the negative-encoded values (reduce actions) in the action_table.
     Each entry has two parts, the index of the non-terminal on the
     left hand side of the production, and the number of Symbols
     on the right hand side.</div>
<a id="L184" name="L184"></a> 184   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">short</strong>[][] <a href="../R/25210.html" title="Multiple referred from 2 places.">production_table</a>();
<a id="L185" name="L185"></a> 185 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L187" name="L187"></a> 187 
<div class="comment">
 The action table (supplied by generated subclass).  This table is
     indexed by state and terminal number indicating what action is to
     be taken when the parser is in the given state (i.e., the given state
     is on top of the stack) and the given terminal is next on the input.
     States are indexed using the first dimension, however, the entries for
     a given state are compacted and stored in adjacent index, value pairs
     which are searched for rather than accessed directly (see get_action()).
     The actions stored in the table will be either shifts, reduces, or
     errors.  Shifts are encoded as positive values (one greater than the
     state shifted to).  Reduces are encoded as negative values (one less
     than the production reduced by).  Error entries are denoted by zero.
    @see com.sun.java_cup.internal.runtime.lr_parser#get_action</div>
<a id="L202" name="L202"></a> 202   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">short</strong>[][] <a href="../R/9561.html" title="Multiple referred from 2 places.">action_table</a>();
<a id="L203" name="L203"></a> 203 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L205" name="L205"></a> 205 
<div class="comment">
 The reduce-goto table (supplied by generated subclass).  This
     table is indexed by state and non-terminal number and contains
     state numbers.  States are indexed using the first dimension, however,
     the entries for a given state are compacted and stored in adjacent
     index, value pairs which are searched for rather than accessed
     directly (see get_reduce()).  When a reduce occurs, the handle
     (corresponding to the RHS of the matched production) is popped off
     the stack.  The new top of stack indicates a state.  This table is
     then indexed by that state and the LHS of the reducing production to
     indicate where to "shift" to.
    @see com.sun.java_cup.internal.runtime.lr_parser#get_reduce</div>
<a id="L219" name="L219"></a> 219   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">short</strong>[][] <a href="../R/25703.html" title="Multiple referred from 2 places.">reduce_table</a>();
<a id="L220" name="L220"></a> 220 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L222" name="L222"></a> 222 
<div class="comment">
   /** The index of the start state (supplied by generated subclass). */</div>
<a id="L224" name="L224"></a> 224   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/28864.html" title="Multiple referred from 2 places.">start_state</a>();
<a id="L225" name="L225"></a> 225 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L227" name="L227"></a> 227 
<div class="comment">
   /** The index of the start production (supplied by generated subclass). */</div>
<a id="L229" name="L229"></a> 229   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../S/7724.html#L1091" title="Referred from 1091 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">start_production</a>();
<a id="L230" name="L230"></a> 230 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L232" name="L232"></a> 232 
<div class="comment">
 The index of the end of file terminal Symbol (supplied by generated
     subclass).</div>
<a id="L236" name="L236"></a> 236   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../S/7724.html#L889" title="Referred from 889 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">EOF_sym</a>();
<a id="L237" name="L237"></a> 237 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L239" name="L239"></a> 239 
<div class="comment">
   /** The index of the special error Symbol (supplied by generated subclass). */</div>
<a id="L241" name="L241"></a> 241   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/14025.html" title="Multiple referred from 3 places.">error_sym</a>();
<a id="L242" name="L242"></a> 242 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L244" name="L244"></a> 244 
<div class="comment">
   /** Internal flag to indicate when parser should quit. */</div>
<a id="L246" name="L246"></a> 246   <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> _done_parsing = <strong class="reserved">false</strong>;
<a id="L247" name="L247"></a> 247 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L249" name="L249"></a> 249 
<div class="comment">
 This method is called to indicate that the parser should quit.  This is
     normally called by an accept action, but can be used to cancel parsing
     early in other circumstances if desired.</div>
<a id="L254" name="L254"></a> 254   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13477.html" title="Multiple referred from 4 places.">done_parsing</a>()
<a id="L255" name="L255"></a> 255     <em class="brace">{</em>
<a id="L256" name="L256"></a> 256       _done_parsing = <strong class="reserved">true</strong>;
<a id="L257" name="L257"></a> 257     <em class="brace">}</em>
<a id="L258" name="L258"></a> 258 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<div class="comment">
 Global parse state shared by parse(), error recovery, and
   * debugging routines </div>
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L263" name="L263"></a> 263 
<div class="comment">
   /** Indication of the index for top of stack (for use by actions). */</div>
<a id="L265" name="L265"></a> 265   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> tos;
<a id="L266" name="L266"></a> 266 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L268" name="L268"></a> 268 
<div class="comment">
   /** The current lookahead Symbol. */</div>
<a id="L270" name="L270"></a> 270   <strong class="reserved">protected</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> cur_token;
<a id="L271" name="L271"></a> 271 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L273" name="L273"></a> 273 
<div class="comment">
   /** The parse stack itself. */</div>
<a id="L275" name="L275"></a> 275   <strong class="reserved">protected</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a> stack = <strong class="reserved">new</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>();
<a id="L276" name="L276"></a> 276 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L278" name="L278"></a> 278 
<div class="comment">
   /** Direct reference to the production table. */</div>
<a id="L280" name="L280"></a> 280   <strong class="reserved">protected</strong> <strong class="reserved">short</strong>[][] production_tab;
<a id="L281" name="L281"></a> 281 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L283" name="L283"></a> 283 
<div class="comment">
   /** Direct reference to the action table. */</div>
<a id="L285" name="L285"></a> 285   <strong class="reserved">protected</strong> <strong class="reserved">short</strong>[][] action_tab;
<a id="L286" name="L286"></a> 286 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L288" name="L288"></a> 288 
<div class="comment">
   /** Direct reference to the reduce-goto table. */</div>
<a id="L290" name="L290"></a> 290   <strong class="reserved">protected</strong> <strong class="reserved">short</strong>[][] reduce_tab;
<a id="L291" name="L291"></a> 291 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L293" name="L293"></a> 293 
<div class="comment">
 This is the scanner object used by the default implementation
     of scan() to get Symbols.  To avoid name conflicts with existing
   *  code, this field is private. [CSA/davidm] </div>
<a id="L297" name="L297"></a> 297   <strong class="reserved">private</strong> <a href="../D/7599.html" title="Multiple defined in 5 places.">Scanner</a> _scanner;
<a id="L298" name="L298"></a> 298 
<div class="comment">
    Simple accessor method to set the default scanner.</div>
<a id="L302" name="L302"></a> 302   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28099.html" title="Multiple referred from 2 places.">setScanner</a>(<a href="../D/7599.html" title="Multiple defined in 5 places.">Scanner</a> s) <em class="brace">{</em> _scanner = s; <em class="brace">}</em>
<a id="L303" name="L303"></a> 303 
<div class="comment">
    Simple accessor method to get the default scanner.</div>
<a id="L307" name="L307"></a> 307   <strong class="reserved">public</strong> <a href="../D/7599.html" title="Multiple defined in 5 places.">Scanner</a> <a href="../S/7724.html#L359" title="Referred from 359 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">getScanner</a>() <em class="brace">{</em> <strong class="reserved">return</strong> _scanner; <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<div class="comment">
   /*--- General Methods ---------------------------------------*/</div>
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<a id="L312" name="L312"></a> 312 
<div class="comment">
 Perform a bit of user supplied action code (supplied by generated
     subclass).  Actions are indexed by an internal action number assigned
     at parser generation time.
    @param act_num   the internal index of the action to be performed.
    @param parser    the parser object we are acting for.
    @param stack     the parse stack of that object.
    @param top       the index of the top element of the parse stack.</div>
<a id="L322" name="L322"></a> 322   <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> <a href="../R/13460.html" title="Multiple referred from 4 places.">do_action</a>(
<a id="L323" name="L323"></a> 323     <strong class="reserved">int</strong>       act_num,
<a id="L324" name="L324"></a> 324     <a href="../S/7724.html#L139" title="Defined at 139 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">lr_parser</a> parser,
<a id="L325" name="L325"></a> 325     <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>     stack,
<a id="L326" name="L326"></a> 326     <strong class="reserved">int</strong>       <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>)
<a id="L327" name="L327"></a> 327     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>;
<a id="L328" name="L328"></a> 328 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L330" name="L330"></a> 330 
<div class="comment">
 User code for initialization inside the parser.  Typically this
     initializes the scanner.  This is called before the parser requests
     the first Symbol.  Here this is just a placeholder for subclasses that
     might need this and we perform no action.   This method is normally
     overridden by the generated code using this contents of the "init with"
     clause as its body.</div>
<a id="L338" name="L338"></a> 338   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30032.html" title="Multiple referred from 2 places.">user_init</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em> <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L341" name="L341"></a> 341 
<div class="comment">
 Initialize the action object.  This is called before the parser does
     any parse actions. This is filled in by generated code to create
     an object that encapsulates all action code.</div>
<a id="L346" name="L346"></a> 346   <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/20676.html" title="Multiple referred from 2 places.">init_actions</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>;
<a id="L347" name="L347"></a> 347 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L349" name="L349"></a> 349 
<div class="comment">
 Get the next Symbol from the input (supplied by generated subclass).
     Once end of file has been reached, all subsequent calls to scan
     should return an EOF Symbol (which is Symbol number 0).  By default
     this method returns getScanner().next_token(); this implementation
     can be overriden by the generated parser using the code declared in
     the "scan with" clause.  Do not recycle objects; every call to
     scan() should return a fresh object.</div>
<a id="L358" name="L358"></a> 358   <strong class="reserved">public</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> <a href="../R/26607.html" title="Multiple referred from 130 places.">scan</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L359" name="L359"></a> 359     <strong class="reserved">return</strong> <a href="../D/22247.html" title="Multiple defined in 2 places.">getScanner</a>().<a href="../D/28201.html" title="Multiple defined in 2 places.">next_token</a>();
<a id="L360" name="L360"></a> 360   <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L363" name="L363"></a> 363 
<div class="comment">
 Report a fatal error.  This method takes a  message string and an
     additional object (to be used by specializations implemented in
     subclasses).  Here in the base class a very simple implementation
     is provided which reports the error then throws an exception.
    @param message an error message.
    @param info    an extra object reserved for use by specialized subclasses.</div>
<a id="L372" name="L372"></a> 372   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26203.html" title="Multiple referred from 2 places.">report_fatal_error</a>(
<a id="L373" name="L373"></a> 373     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>   <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>,
<a id="L374" name="L374"></a> 374     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>   <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>)
<a id="L375" name="L375"></a> 375     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L376" name="L376"></a> 376     <em class="brace">{</em>
<div class="comment">
       /* stop parsing (not really necessary since we throw an exception, but) */</div>
<a id="L378" name="L378"></a> 378       <a href="../S/7724.html#L254" title="Defined at 254 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">done_parsing</a>();
<a id="L379" name="L379"></a> 379 
<div class="comment">
       /* use the normal error message reporting to put out the message */</div>
<a id="L381" name="L381"></a> 381       <a href="../D/31105.html" title="Multiple defined in 2 places.">report_error</a>(<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L382" name="L382"></a> 382 
<div class="comment">
       /* throw an exception */</div>
<a id="L384" name="L384"></a> 384       <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>("Can't recover from previous error(s)");
<a id="L385" name="L385"></a> 385     <em class="brace">}</em>
<a id="L386" name="L386"></a> 386 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L388" name="L388"></a> 388 
<div class="comment">
 Report a non fatal error (or warning).  This method takes a message
     string and an additional object (to be used by specializations
     implemented in subclasses).  Here in the base class a very simple
     implementation is provided which simply prints the message to
     System.err.
    @param message an error message.
    @param info    an extra object reserved for use by specialized subclasses.</div>
<a id="L398" name="L398"></a> 398   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26202.html" title="Multiple referred from 2 places.">report_error</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>)
<a id="L399" name="L399"></a> 399     <em class="brace">{</em>
<a id="L400" name="L400"></a> 400       <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>(<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>);
<a id="L401" name="L401"></a> 401       <strong class="reserved">if</strong> (<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> <strong class="reserved">instanceof</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)
<a id="L402" name="L402"></a> 402         <strong class="reserved">if</strong> (((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>).left != -1)
<a id="L403" name="L403"></a> 403         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(" at character " + ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>).left +
<a id="L404" name="L404"></a> 404                            " of input");
<a id="L405" name="L405"></a> 405         <strong class="reserved">else</strong> <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("");
<a id="L406" name="L406"></a> 406       <strong class="reserved">else</strong> <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("");
<a id="L407" name="L407"></a> 407     <em class="brace">}</em>
<a id="L408" name="L408"></a> 408 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L410" name="L410"></a> 410 
<div class="comment">
 This method is called when a syntax error has been detected and recovery
     is about to be invoked.  Here in the base class we just emit a
     "Syntax error" error message.
    @param cur_token the current lookahead Symbol.</div>
<a id="L417" name="L417"></a> 417   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29084.html" title="Multiple referred from 2 places.">syntax_error</a>(<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> cur_token)
<a id="L418" name="L418"></a> 418     <em class="brace">{</em>
<a id="L419" name="L419"></a> 419       <a href="../D/31105.html" title="Multiple defined in 2 places.">report_error</a>("Syntax error", cur_token);
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L423" name="L423"></a> 423 
<div class="comment">
 This method is called if it is determined that syntax error recovery
     has been unsuccessful.  Here in the base class we report a fatal error.
    @param cur_token the current lookahead Symbol.</div>
<a id="L429" name="L429"></a> 429   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29748.html" title="Multiple referred from 2 places.">unrecovered_syntax_error</a>(<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> cur_token)
<a id="L430" name="L430"></a> 430     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L431" name="L431"></a> 431     <em class="brace">{</em>
<a id="L432" name="L432"></a> 432       <a href="../D/31106.html" title="Multiple defined in 2 places.">report_fatal_error</a>("Couldn't repair and continue parse", cur_token);
<a id="L433" name="L433"></a> 433     <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L436" name="L436"></a> 436 
<div class="comment">
 Fetch an action from the action table.  The table is broken up into
     rows, one per state (rows are indexed directly by state number).
     Within each row, a list of index, value pairs are given (as sequential
     entries in the table), and the list is terminated by a default entry
     (denoted with a Symbol index of -1).  To find the proper entry in a row
     we do a linear or binary search (depending on the size of the row).
    @param state the state index of the action being accessed.
    @param sym   the Symbol index of the action being accessed.</div>
<a id="L447" name="L447"></a> 447   <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> <a href="../R/19965.html" title="Multiple referred from 6 places.">get_action</a>(<strong class="reserved">int</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>, <strong class="reserved">int</strong> <a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>)
<a id="L448" name="L448"></a> 448     <em class="brace">{</em>
<a id="L449" name="L449"></a> 449       <strong class="reserved">short</strong> tag;
<a id="L450" name="L450"></a> 450       <strong class="reserved">int</strong> <a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>, probe;
<a id="L451" name="L451"></a> 451       <strong class="reserved">short</strong>[] row = action_tab[<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>];
<a id="L452" name="L452"></a> 452 
<div class="comment">
       /* linear search if we are &lt; 10 entries */</div>
<a id="L454" name="L454"></a> 454       <strong class="reserved">if</strong> (row.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 20)
<a id="L455" name="L455"></a> 455         <strong class="reserved">for</strong> (probe = 0; probe &lt; row.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; probe++)
<a id="L456" name="L456"></a> 456           <em class="brace">{</em>
<div class="comment">
             /* is this entry labeled with our Symbol or the default? */</div>
<a id="L458" name="L458"></a> 458             tag = row[probe++];
<a id="L459" name="L459"></a> 459             <strong class="reserved">if</strong> (tag == <a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> || tag == -1)
<a id="L460" name="L460"></a> 460               <em class="brace">{</em>
<div class="comment">
                 /* return the next entry */</div>
<a id="L462" name="L462"></a> 462                 <strong class="reserved">return</strong> row[probe];
<a id="L463" name="L463"></a> 463               <em class="brace">}</em>
<a id="L464" name="L464"></a> 464           <em class="brace">}</em>
<div class="comment">
       /* otherwise binary search */</div>
<a id="L466" name="L466"></a> 466       <strong class="reserved">else</strong>
<a id="L467" name="L467"></a> 467         <em class="brace">{</em>
<a id="L468" name="L468"></a> 468           <a href="../D/16393.html" title="Multiple defined in 45 places.">first</a> = 0;
<a id="L469" name="L469"></a> 469           <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = (row.<div class="comment">
)/2 - 1;  /* leave out trailing default entry */</div>
<a id="L470" name="L470"></a> 470           <strong class="reserved">while</strong> (<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a> &lt;= <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>)
<a id="L471" name="L471"></a> 471             <em class="brace">{</em>
<a id="L472" name="L472"></a> 472               probe = (<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>+<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>)/2;
<a id="L473" name="L473"></a> 473               <strong class="reserved">if</strong> (<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> == row[probe*2])
<a id="L474" name="L474"></a> 474                 <strong class="reserved">return</strong> row[probe*2+1];
<a id="L475" name="L475"></a> 475               <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> &gt; row[probe*2])
<a id="L476" name="L476"></a> 476                 <a href="../D/16393.html" title="Multiple defined in 45 places.">first</a> = probe+1;
<a id="L477" name="L477"></a> 477               <strong class="reserved">else</strong>
<a id="L478" name="L478"></a> 478                 <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = probe-1;
<a id="L479" name="L479"></a> 479             <em class="brace">}</em>
<a id="L480" name="L480"></a> 480 
<div class="comment">
           /* not found, use the default at the end */</div>
<a id="L482" name="L482"></a> 482           <strong class="reserved">return</strong> row[row.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1];
<a id="L483" name="L483"></a> 483         <em class="brace">}</em>
<a id="L484" name="L484"></a> 484 
<div class="comment">
 shouldn't happened, but if we run off the end we return the
         default (error == 0) </div>
<a id="L487" name="L487"></a> 487       <strong class="reserved">return</strong> 0;
<a id="L488" name="L488"></a> 488     <em class="brace">}</em>
<a id="L489" name="L489"></a> 489 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L491" name="L491"></a> 491 
<div class="comment">
 Fetch a state from the reduce-goto table.  The table is broken up into
     rows, one per state (rows are indexed directly by state number).
     Within each row, a list of index, value pairs are given (as sequential
     entries in the table), and the list is terminated by a default entry
     (denoted with a Symbol index of -1).  To find the proper entry in a row
     we do a linear search.
    @param state the state index of the entry being accessed.
    @param sym   the Symbol index of the entry being accessed.</div>
<a id="L502" name="L502"></a> 502   <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> <a href="../R/19997.html" title="Multiple referred from 4 places.">get_reduce</a>(<strong class="reserved">int</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>, <strong class="reserved">int</strong> <a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>)
<a id="L503" name="L503"></a> 503     <em class="brace">{</em>
<a id="L504" name="L504"></a> 504       <strong class="reserved">short</strong> tag;
<a id="L505" name="L505"></a> 505       <strong class="reserved">short</strong>[] row = reduce_tab[<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>];
<a id="L506" name="L506"></a> 506 
<div class="comment">
       /* if we have a null row we go with the default */</div>
<a id="L508" name="L508"></a> 508       <strong class="reserved">if</strong> (row == <strong class="reserved">null</strong>)
<a id="L509" name="L509"></a> 509         <strong class="reserved">return</strong> -1;
<a id="L510" name="L510"></a> 510 
<a id="L511" name="L511"></a> 511       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> probe = 0; probe &lt; row.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; probe++)
<a id="L512" name="L512"></a> 512         <em class="brace">{</em>
<div class="comment">
           /* is this entry labeled with our Symbol or the default? */</div>
<a id="L514" name="L514"></a> 514           tag = row[probe++];
<a id="L515" name="L515"></a> 515           <strong class="reserved">if</strong> (tag == <a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> || tag == -1)
<a id="L516" name="L516"></a> 516             <em class="brace">{</em>
<div class="comment">
               /* return the next entry */</div>
<a id="L518" name="L518"></a> 518               <strong class="reserved">return</strong> row[probe];
<a id="L519" name="L519"></a> 519             <em class="brace">}</em>
<a id="L520" name="L520"></a> 520         <em class="brace">}</em>
<div class="comment">
       /* if we run off the end we return the default (error == -1) */</div>
<a id="L522" name="L522"></a> 522       <strong class="reserved">return</strong> -1;
<a id="L523" name="L523"></a> 523     <em class="brace">}</em>
<a id="L524" name="L524"></a> 524 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L526" name="L526"></a> 526 
<div class="comment">
 This method provides the main parsing routine.  It returns only when
     done_parsing() has been called (typically because the parser has
     accepted, or a fatal error has been reported).  See the header
     documentation for the class regarding how shift/reduce parsers operate
     and how the various tables are used.</div>
<a id="L533" name="L533"></a> 533   <strong class="reserved">public</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L534" name="L534"></a> 534     <em class="brace">{</em>
<div class="comment">
       /* the current action code */</div>
<a id="L536" name="L536"></a> 536       <strong class="reserved">int</strong> act;
<a id="L537" name="L537"></a> 537 
<div class="comment">
       /* the Symbol/stack element returned by a reduce */</div>
<a id="L539" name="L539"></a> 539       <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> lhs_sym = <strong class="reserved">null</strong>;
<a id="L540" name="L540"></a> 540 
<div class="comment">
       /* information about production being reduced with */</div>
<a id="L542" name="L542"></a> 542       <strong class="reserved">short</strong> handle_size, lhs_sym_num;
<a id="L543" name="L543"></a> 543 
<div class="comment">
       /* set up direct reference to tables to drive the parser */</div>
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546       production_tab = <a href="../D/29883.html" title="Multiple defined in 2 places.">production_table</a>();
<a id="L547" name="L547"></a> 547       action_tab     = <a href="../D/10595.html" title="Multiple defined in 2 places.">action_table</a>();
<a id="L548" name="L548"></a> 548       reduce_tab     = <a href="../D/30460.html" title="Multiple defined in 2 places.">reduce_table</a>();
<a id="L549" name="L549"></a> 549 
<div class="comment">
       /* initialize the action encapsulation object */</div>
<a id="L551" name="L551"></a> 551       <a href="../D/24639.html" title="Multiple defined in 2 places.">init_actions</a>();
<a id="L552" name="L552"></a> 552 
<div class="comment">
       /* do user initialization */</div>
<a id="L554" name="L554"></a> 554       <a href="../S/7724.html#L338" title="Defined at 338 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">user_init</a>();
<a id="L555" name="L555"></a> 555 
<div class="comment">
       /* get the first token */</div>
<a id="L557" name="L557"></a> 557       cur_token = <a href="../D/31557.html" title="Multiple defined in 18 places.">scan</a>();
<a id="L558" name="L558"></a> 558 
<div class="comment">
       /* push dummy Symbol with start state to get us underway */</div>
<a id="L560" name="L560"></a> 560       stack.<a href="../D/30689.html" title="Multiple defined in 14 places.">removeAllElements</a>();
<a id="L561" name="L561"></a> 561       stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<strong class="reserved">new</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>(0, <a href="../D/34839.html" title="Multiple defined in 2 places.">start_state</a>()));
<a id="L562" name="L562"></a> 562       tos = 0;
<a id="L563" name="L563"></a> 563 
<div class="comment">
       /* continue until we are told to stop */</div>
<a id="L565" name="L565"></a> 565       <strong class="reserved">for</strong> (_done_parsing = <strong class="reserved">false</strong>; !_done_parsing; )
<a id="L566" name="L566"></a> 566         <em class="brace">{</em>
<div class="comment">
           /* Check current token for freshness. */</div>
<a id="L568" name="L568"></a> 568           <strong class="reserved">if</strong> (cur_token.used_by_parser)
<a id="L569" name="L569"></a> 569             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Symbol recycling detected (fix your scanner).");
<a id="L570" name="L570"></a> 570 
<div class="comment">
           /* current state is always on the top of the stack */</div>
<a id="L572" name="L572"></a> 572 
<div class="comment">
           /* look up action out of the current state with the current input */</div>
<a id="L574" name="L574"></a> 574           act = <a href="../S/7724.html#L447" title="Defined at 447 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_action</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, cur_token.<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L575" name="L575"></a> 575 
<div class="comment">
           /* decode the action -- &gt; 0 encodes shift */</div>
<a id="L577" name="L577"></a> 577           <strong class="reserved">if</strong> (act &gt; 0)
<a id="L578" name="L578"></a> 578             <em class="brace">{</em>
<div class="comment">
               /* shift to the encoded state by pushing it on the stack */</div>
<a id="L580" name="L580"></a> 580               cur_token.parse_state = act-1;
<a id="L581" name="L581"></a> 581               cur_token.used_by_parser = <strong class="reserved">true</strong>;
<a id="L582" name="L582"></a> 582               stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(cur_token);
<a id="L583" name="L583"></a> 583               tos++;
<a id="L584" name="L584"></a> 584 
<div class="comment">
               /* advance to the next Symbol */</div>
<a id="L586" name="L586"></a> 586               cur_token = <a href="../D/31557.html" title="Multiple defined in 18 places.">scan</a>();
<a id="L587" name="L587"></a> 587             <em class="brace">}</em>
<div class="comment">
           /* if its less than zero, then it encodes a reduce action */</div>
<a id="L589" name="L589"></a> 589           <strong class="reserved">else</strong> <strong class="reserved">if</strong> (act &lt; 0)
<a id="L590" name="L590"></a> 590             <em class="brace">{</em>
<div class="comment">
               /* perform the action for the reduce */</div>
<a id="L592" name="L592"></a> 592               lhs_sym = <a href="../D/15101.html" title="Multiple defined in 3 places.">do_action</a>((-act)-1, <strong class="reserved">this</strong>, stack, tos);
<a id="L593" name="L593"></a> 593 
<div class="comment">
               /* look up information about the production */</div>
<a id="L595" name="L595"></a> 595               lhs_sym_num = production_tab[(-act)-1][0];
<a id="L596" name="L596"></a> 596               handle_size = production_tab[(-act)-1][1];
<a id="L597" name="L597"></a> 597 
<div class="comment">
               /* pop the handle off the stack */</div>
<a id="L599" name="L599"></a> 599               <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; handle_size; i++)
<a id="L600" name="L600"></a> 600                 <em class="brace">{</em>
<a id="L601" name="L601"></a> 601                   stack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L602" name="L602"></a> 602                   tos--;
<a id="L603" name="L603"></a> 603                 <em class="brace">}</em>
<a id="L604" name="L604"></a> 604 
<div class="comment">
               /* look up the state to go to from the one popped back to */</div>
<a id="L606" name="L606"></a> 606               act = <a href="../S/7724.html#L502" title="Defined at 502 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_reduce</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, lhs_sym_num);
<a id="L607" name="L607"></a> 607 
<div class="comment">
               /* shift to that state */</div>
<a id="L609" name="L609"></a> 609               lhs_sym.parse_state = act;
<a id="L610" name="L610"></a> 610               lhs_sym.used_by_parser = <strong class="reserved">true</strong>;
<a id="L611" name="L611"></a> 611               stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(lhs_sym);
<a id="L612" name="L612"></a> 612               tos++;
<a id="L613" name="L613"></a> 613             <em class="brace">}</em>
<div class="comment">
           /* finally if the entry is zero, we have an error */</div>
<a id="L615" name="L615"></a> 615           <strong class="reserved">else</strong> <strong class="reserved">if</strong> (act == 0)
<a id="L616" name="L616"></a> 616             <em class="brace">{</em>
<div class="comment">
               /* call user syntax error reporting routine */</div>
<a id="L618" name="L618"></a> 618               <a href="../S/7724.html#L417" title="Defined at 417 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">syntax_error</a>(cur_token);
<a id="L619" name="L619"></a> 619 
<div class="comment">
               /* try to error recover */</div>
<a id="L621" name="L621"></a> 621               <strong class="reserved">if</strong> (!<a href="../S/7724.html#L862" title="Defined at 862 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">error_recovery</a>(<strong class="reserved">false</strong>))
<a id="L622" name="L622"></a> 622                 <em class="brace">{</em>
<div class="comment">
                   /* if that fails give up with a fatal syntax error */</div>
<a id="L624" name="L624"></a> 624                   <a href="../S/7724.html#L429" title="Defined at 429 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">unrecovered_syntax_error</a>(cur_token);
<a id="L625" name="L625"></a> 625 
<div class="comment">
                   /* just in case that wasn't fatal enough, end parse */</div>
<a id="L627" name="L627"></a> 627                   <a href="../S/7724.html#L254" title="Defined at 254 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">done_parsing</a>();
<a id="L628" name="L628"></a> 628                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L629" name="L629"></a> 629                   lhs_sym = (<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L630" name="L630"></a> 630                 <em class="brace">}</em>
<a id="L631" name="L631"></a> 631             <em class="brace">}</em>
<a id="L632" name="L632"></a> 632         <em class="brace">}</em>
<a id="L633" name="L633"></a> 633       <strong class="reserved">return</strong> lhs_sym;
<a id="L634" name="L634"></a> 634     <em class="brace">}</em>
<a id="L635" name="L635"></a> 635 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L637" name="L637"></a> 637 
<div class="comment">
 Write a debugging message to System.err for the debugging version
     of the parser.
    @param mess the text of the debugging message.</div>
<a id="L643" name="L643"></a> 643   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12928.html" title="Multiple referred from 33 places.">debug_message</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mess)
<a id="L644" name="L644"></a> 644     <em class="brace">{</em>
<a id="L645" name="L645"></a> 645       <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(mess);
<a id="L646" name="L646"></a> 646     <em class="brace">}</em>
<a id="L647" name="L647"></a> 647 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L649" name="L649"></a> 649 
<div class="comment">
   /** Dump the parse stack for debugging purposes. */</div>
<a id="L651" name="L651"></a> 651   <strong class="reserved">public</strong> <strong class="reserved">void</strong> dump_stack()
<a id="L652" name="L652"></a> 652     <em class="brace">{</em>
<a id="L653" name="L653"></a> 653       <strong class="reserved">if</strong> (stack == <strong class="reserved">null</strong>)
<a id="L654" name="L654"></a> 654         <em class="brace">{</em>
<a id="L655" name="L655"></a> 655           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Stack dump requested, but stack is null");
<a id="L656" name="L656"></a> 656           <strong class="reserved">return</strong>;
<a id="L657" name="L657"></a> 657         <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659       <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("============ Parse Stack Dump ============");
<a id="L660" name="L660"></a> 660 
<div class="comment">
       /* dump the stack */</div>
<a id="L662" name="L662"></a> 662       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;stack.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); i++)
<a id="L663" name="L663"></a> 663         <em class="brace">{</em>
<a id="L664" name="L664"></a> 664           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("Symbol: " + ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> +
<a id="L665" name="L665"></a> 665                         " State: " + ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).parse_state);
<a id="L666" name="L666"></a> 666         <em class="brace">}</em>
<a id="L667" name="L667"></a> 667       <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("==========================================");
<a id="L668" name="L668"></a> 668     <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L671" name="L671"></a> 671 
<div class="comment">
 Do debug output for a reduce.
    @param prod_num  the production we are reducing with.
    @param nt_num    the index of the LHS non terminal.
    @param rhs_size  the size of the RHS.</div>
<a id="L678" name="L678"></a> 678   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12929.html" title="Multiple referred from 2 places.">debug_reduce</a>(<strong class="reserved">int</strong> prod_num, <strong class="reserved">int</strong> nt_num, <strong class="reserved">int</strong> rhs_size)
<a id="L679" name="L679"></a> 679     <em class="brace">{</em>
<a id="L680" name="L680"></a> 680       <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Reduce with prod #" + prod_num + " [NT=" + nt_num +
<a id="L681" name="L681"></a> 681                     ", " + "SZ=" + rhs_size + "]");
<a id="L682" name="L682"></a> 682     <em class="brace">}</em>
<a id="L683" name="L683"></a> 683 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L685" name="L685"></a> 685 
<div class="comment">
 Do debug output for shift.
    @param shift_tkn the Symbol being shifted onto the stack.</div>
<a id="L690" name="L690"></a> 690   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12930.html" title="Multiple referred from 2 places.">debug_shift</a>(<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> shift_tkn)
<a id="L691" name="L691"></a> 691     <em class="brace">{</em>
<a id="L692" name="L692"></a> 692       <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Shift under term #" + shift_tkn.<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> +
<a id="L693" name="L693"></a> 693                     " to state #" + shift_tkn.parse_state);
<a id="L694" name="L694"></a> 694     <em class="brace">}</em>
<a id="L695" name="L695"></a> 695 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L697" name="L697"></a> 697 
<div class="comment">
 Do debug output for stack state. [CSA]</div>
<a id="L700" name="L700"></a> 700   <strong class="reserved">public</strong> <strong class="reserved">void</strong> debug_stack() <em class="brace">{</em>
<a id="L701" name="L701"></a> 701       <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> sb=<strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>("## STACK:");
<a id="L702" name="L702"></a> 702       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;stack.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); i++) <em class="brace">{</em>
<a id="L703" name="L703"></a> 703           <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> s = (<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>) stack.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L704" name="L704"></a> 704           sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(" &lt;state "+s.parse_state+", sym "+s.<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>+"&gt;");
<a id="L705" name="L705"></a> 705           <strong class="reserved">if</strong> ((i%3)==2 || (i==(stack.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()-1))) <em class="brace">{</em>
<a id="L706" name="L706"></a> 706               <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>(sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L707" name="L707"></a> 707               sb = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>("         ");
<a id="L708" name="L708"></a> 708           <em class="brace">}</em>
<a id="L709" name="L709"></a> 709       <em class="brace">}</em>
<a id="L710" name="L710"></a> 710   <em class="brace">}</em>
<a id="L711" name="L711"></a> 711 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L713" name="L713"></a> 713 
<div class="comment">
 Perform a parse with debugging output.  This does exactly the
     same things as parse(), except that it calls debug_shift() and
     debug_reduce() when shift and reduce moves are taken by the parser
     and produces various other debugging messages.</div>
<a id="L719" name="L719"></a> 719   <strong class="reserved">public</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> debug_parse()
<a id="L720" name="L720"></a> 720     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L721" name="L721"></a> 721     <em class="brace">{</em>
<div class="comment">
       /* the current action code */</div>
<a id="L723" name="L723"></a> 723       <strong class="reserved">int</strong> act;
<a id="L724" name="L724"></a> 724 
<div class="comment">
       /* the Symbol/stack element returned by a reduce */</div>
<a id="L726" name="L726"></a> 726       <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> lhs_sym = <strong class="reserved">null</strong>;
<a id="L727" name="L727"></a> 727 
<div class="comment">
       /* information about production being reduced with */</div>
<a id="L729" name="L729"></a> 729       <strong class="reserved">short</strong> handle_size, lhs_sym_num;
<a id="L730" name="L730"></a> 730 
<div class="comment">
       /* set up direct reference to tables to drive the parser */</div>
<a id="L732" name="L732"></a> 732       production_tab = <a href="../D/29883.html" title="Multiple defined in 2 places.">production_table</a>();
<a id="L733" name="L733"></a> 733       action_tab     = <a href="../D/10595.html" title="Multiple defined in 2 places.">action_table</a>();
<a id="L734" name="L734"></a> 734       reduce_tab     = <a href="../D/30460.html" title="Multiple defined in 2 places.">reduce_table</a>();
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736       <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Initializing parser");
<a id="L737" name="L737"></a> 737 
<div class="comment">
       /* initialize the action encapsulation object */</div>
<a id="L739" name="L739"></a> 739       <a href="../D/24639.html" title="Multiple defined in 2 places.">init_actions</a>();
<a id="L740" name="L740"></a> 740 
<div class="comment">
       /* do user initialization */</div>
<a id="L742" name="L742"></a> 742       <a href="../S/7724.html#L338" title="Defined at 338 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">user_init</a>();
<a id="L743" name="L743"></a> 743 
<div class="comment">
       /* the current Symbol */</div>
<a id="L745" name="L745"></a> 745       cur_token = <a href="../D/31557.html" title="Multiple defined in 18 places.">scan</a>();
<a id="L746" name="L746"></a> 746 
<a id="L747" name="L747"></a> 747       <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Current Symbol is #" + cur_token.<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L748" name="L748"></a> 748 
<div class="comment">
       /* push dummy Symbol with start state to get us underway */</div>
<a id="L750" name="L750"></a> 750       stack.<a href="../D/30689.html" title="Multiple defined in 14 places.">removeAllElements</a>();
<a id="L751" name="L751"></a> 751       stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<strong class="reserved">new</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>(0, <a href="../D/34839.html" title="Multiple defined in 2 places.">start_state</a>()));
<a id="L752" name="L752"></a> 752       tos = 0;
<a id="L753" name="L753"></a> 753 
<div class="comment">
       /* continue until we are told to stop */</div>
<a id="L755" name="L755"></a> 755       <strong class="reserved">for</strong> (_done_parsing = <strong class="reserved">false</strong>; !_done_parsing; )
<a id="L756" name="L756"></a> 756         <em class="brace">{</em>
<div class="comment">
           /* Check current token for freshness. */</div>
<a id="L758" name="L758"></a> 758           <strong class="reserved">if</strong> (cur_token.used_by_parser)
<a id="L759" name="L759"></a> 759             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Symbol recycling detected (fix your scanner).");
<a id="L760" name="L760"></a> 760 
<div class="comment">
           /* current state is always on the top of the stack */</div>
<a id="L762" name="L762"></a> 762           <em class="comment">//debug_stack();</em>
<a id="L763" name="L763"></a> 763 
<div class="comment">
           /* look up action out of the current state with the current input */</div>
<a id="L765" name="L765"></a> 765           act = <a href="../S/7724.html#L447" title="Defined at 447 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_action</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, cur_token.<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L766" name="L766"></a> 766 
<div class="comment">
           /* decode the action -- &gt; 0 encodes shift */</div>
<a id="L768" name="L768"></a> 768           <strong class="reserved">if</strong> (act &gt; 0)
<a id="L769" name="L769"></a> 769             <em class="brace">{</em>
<div class="comment">
               /* shift to the encoded state by pushing it on the stack */</div>
<a id="L771" name="L771"></a> 771               cur_token.parse_state = act-1;
<a id="L772" name="L772"></a> 772               cur_token.used_by_parser = <strong class="reserved">true</strong>;
<a id="L773" name="L773"></a> 773               <a href="../S/7724.html#L690" title="Defined at 690 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_shift</a>(cur_token);
<a id="L774" name="L774"></a> 774               stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(cur_token);
<a id="L775" name="L775"></a> 775               tos++;
<a id="L776" name="L776"></a> 776 
<div class="comment">
               /* advance to the next Symbol */</div>
<a id="L778" name="L778"></a> 778               cur_token = <a href="../D/31557.html" title="Multiple defined in 18 places.">scan</a>();
<a id="L779" name="L779"></a> 779               <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Current token is " + cur_token);
<a id="L780" name="L780"></a> 780             <em class="brace">}</em>
<div class="comment">
           /* if its less than zero, then it encodes a reduce action */</div>
<a id="L782" name="L782"></a> 782           <strong class="reserved">else</strong> <strong class="reserved">if</strong> (act &lt; 0)
<a id="L783" name="L783"></a> 783             <em class="brace">{</em>
<div class="comment">
               /* perform the action for the reduce */</div>
<a id="L785" name="L785"></a> 785               lhs_sym = <a href="../D/15101.html" title="Multiple defined in 3 places.">do_action</a>((-act)-1, <strong class="reserved">this</strong>, stack, tos);
<a id="L786" name="L786"></a> 786 
<div class="comment">
               /* look up information about the production */</div>
<a id="L788" name="L788"></a> 788               lhs_sym_num = production_tab[(-act)-1][0];
<a id="L789" name="L789"></a> 789               handle_size = production_tab[(-act)-1][1];
<a id="L790" name="L790"></a> 790 
<a id="L791" name="L791"></a> 791               <a href="../S/7724.html#L678" title="Defined at 678 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_reduce</a>((-act)-1, lhs_sym_num, handle_size);
<a id="L792" name="L792"></a> 792 
<div class="comment">
               /* pop the handle off the stack */</div>
<a id="L794" name="L794"></a> 794               <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; handle_size; i++)
<a id="L795" name="L795"></a> 795                 <em class="brace">{</em>
<a id="L796" name="L796"></a> 796                   stack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L797" name="L797"></a> 797                   tos--;
<a id="L798" name="L798"></a> 798                 <em class="brace">}</em>
<a id="L799" name="L799"></a> 799 
<div class="comment">
               /* look up the state to go to from the one popped back to */</div>
<a id="L801" name="L801"></a> 801               act = <a href="../S/7724.html#L502" title="Defined at 502 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_reduce</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, lhs_sym_num);
<a id="L802" name="L802"></a> 802               <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Reduce rule: top state " +
<a id="L803" name="L803"></a> 803                              ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state +
<a id="L804" name="L804"></a> 804                              ", lhs sym " + lhs_sym_num + " -&gt; state " + act);
<a id="L805" name="L805"></a> 805 
<div class="comment">
               /* shift to that state */</div>
<a id="L807" name="L807"></a> 807               lhs_sym.parse_state = act;
<a id="L808" name="L808"></a> 808               lhs_sym.used_by_parser = <strong class="reserved">true</strong>;
<a id="L809" name="L809"></a> 809               stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(lhs_sym);
<a id="L810" name="L810"></a> 810               tos++;
<a id="L811" name="L811"></a> 811 
<a id="L812" name="L812"></a> 812               <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Goto state #" + act);
<a id="L813" name="L813"></a> 813             <em class="brace">}</em>
<div class="comment">
           /* finally if the entry is zero, we have an error */</div>
<a id="L815" name="L815"></a> 815           <strong class="reserved">else</strong> <strong class="reserved">if</strong> (act == 0)
<a id="L816" name="L816"></a> 816             <em class="brace">{</em>
<div class="comment">
               /* call user syntax error reporting routine */</div>
<a id="L818" name="L818"></a> 818               <a href="../S/7724.html#L417" title="Defined at 417 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">syntax_error</a>(cur_token);
<a id="L819" name="L819"></a> 819 
<div class="comment">
               /* try to error recover */</div>
<a id="L821" name="L821"></a> 821               <strong class="reserved">if</strong> (!<a href="../S/7724.html#L862" title="Defined at 862 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">error_recovery</a>(<strong class="reserved">true</strong>))
<a id="L822" name="L822"></a> 822                 <em class="brace">{</em>
<div class="comment">
                   /* if that fails give up with a fatal syntax error */</div>
<a id="L824" name="L824"></a> 824                   <a href="../S/7724.html#L429" title="Defined at 429 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">unrecovered_syntax_error</a>(cur_token);
<a id="L825" name="L825"></a> 825 
<div class="comment">
                   /* just in case that wasn't fatal enough, end parse */</div>
<a id="L827" name="L827"></a> 827                   <a href="../S/7724.html#L254" title="Defined at 254 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">done_parsing</a>();
<a id="L828" name="L828"></a> 828                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L829" name="L829"></a> 829                   lhs_sym = (<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L830" name="L830"></a> 830                 <em class="brace">}</em>
<a id="L831" name="L831"></a> 831             <em class="brace">}</em>
<a id="L832" name="L832"></a> 832         <em class="brace">}</em>
<a id="L833" name="L833"></a> 833       <strong class="reserved">return</strong> lhs_sym;
<a id="L834" name="L834"></a> 834     <em class="brace">}</em>
<a id="L835" name="L835"></a> 835 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<div class="comment">
   /* Error recovery code */</div>
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L839" name="L839"></a> 839 
<div class="comment">
 Attempt to recover from a syntax error.  This returns false if recovery
     fails, true if it succeeds.  Recovery happens in 4 steps.  First we
     pop the parse stack down to a point at which we have a shift out
     of the top-most state on the error Symbol.  This represents the
     initial error recovery configuration.  If no such configuration is
     found, then we fail.  Next a small number of "lookahead" or "parse
     ahead" Symbols are read into a buffer.  The size of this buffer is
     determined by error_sync_size() and determines how many Symbols beyond
     the error must be matched to consider the recovery a success.  Next,
     we begin to discard Symbols in attempt to get past the point of error
     to a point where we can continue parsing.  After each Symbol, we attempt
     to "parse ahead" though the buffered lookahead Symbols.  The "parse ahead"
     process simulates that actual parse, but does not modify the real
     parser's configuration, nor execute any actions. If we can  parse all
     the stored Symbols without error, then the recovery is considered a
     success.  Once a successful recovery point is determined, we do an
     actual parse over the stored input -- modifying the real parse
     configuration and executing all actions.  Finally, we return the the
     normal parser to continue with the overall parse.
    @param debug should we produce debugging messages as we parse.</div>
<a id="L862" name="L862"></a> 862   <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/14024.html" title="Multiple referred from 2 places.">error_recovery</a>(<strong class="reserved">boolean</strong> <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L863" name="L863"></a> 863     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L864" name="L864"></a> 864     <em class="brace">{</em>
<a id="L865" name="L865"></a> 865       <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Attempting error recovery");
<a id="L866" name="L866"></a> 866 
<div class="comment">
 first pop the stack back into a state that can shift on error and
         do that shift (if that fails, we fail) </div>
<a id="L869" name="L869"></a> 869       <strong class="reserved">if</strong> (!<a href="../S/7724.html#L931" title="Defined at 931 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">find_recovery_config</a>(<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>))
<a id="L870" name="L870"></a> 870         <em class="brace">{</em>
<a id="L871" name="L871"></a> 871           <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Error recovery fails");
<a id="L872" name="L872"></a> 872           <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L873" name="L873"></a> 873         <em class="brace">}</em>
<a id="L874" name="L874"></a> 874 
<div class="comment">
       /* read ahead to create lookahead we can parse multiple times */</div>
<a id="L876" name="L876"></a> 876       <a href="../S/7724.html#L992" title="Defined at 992 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">read_lookahead</a>();
<a id="L877" name="L877"></a> 877 
<div class="comment">
       /* repeatedly try to parse forward until we make it the required dist */</div>
<a id="L879" name="L879"></a> 879       <strong class="reserved">for</strong> (;;)
<a id="L880" name="L880"></a> 880         <em class="brace">{</em>
<div class="comment">
           /* try to parse forward, if it makes it, bail out of loop */</div>
<a id="L882" name="L882"></a> 882           <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Trying to parse ahead");
<a id="L883" name="L883"></a> 883           <strong class="reserved">if</strong> (<a href="../S/7724.html#L1057" title="Defined at 1057 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">try_parse_ahead</a>(<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>))
<a id="L884" name="L884"></a> 884             <em class="brace">{</em>
<a id="L885" name="L885"></a> 885               <strong class="reserved">break</strong>;
<a id="L886" name="L886"></a> 886             <em class="brace">}</em>
<a id="L887" name="L887"></a> 887 
<div class="comment">
           /* if we are now at EOF, we have failed */</div>
<a id="L889" name="L889"></a> 889           <strong class="reserved">if</strong> (<a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a>[0].<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> == <a href="../D/2762.html" title="Multiple defined in 2 places.">EOF_sym</a>())
<a id="L890" name="L890"></a> 890             <em class="brace">{</em>
<a id="L891" name="L891"></a> 891               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Error recovery fails at EOF");
<a id="L892" name="L892"></a> 892               <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L893" name="L893"></a> 893             <em class="brace">}</em>
<a id="L894" name="L894"></a> 894 
<div class="comment">
           /* otherwise, we consume another Symbol and try again */</div>
<a id="L896" name="L896"></a> 896           <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L897" name="L897"></a> 897           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Consuming Symbol #" + <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L898" name="L898"></a> 898           <a href="../S/7724.html#L1032" title="Defined at 1032 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">restart_lookahead</a>();
<a id="L899" name="L899"></a> 899         <em class="brace">}</em>
<a id="L900" name="L900"></a> 900 
<div class="comment">
       /* we have consumed to a point where we can parse forward */</div>
<a id="L902" name="L902"></a> 902       <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Parse-ahead ok, going back to normal parse");
<a id="L903" name="L903"></a> 903 
<div class="comment">
       /* do the real parse (including actions) across the lookahead */</div>
<a id="L905" name="L905"></a> 905       <a href="../S/7724.html#L1128" title="Defined at 1128 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">parse_lookahead</a>(<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>);
<a id="L906" name="L906"></a> 906 
<div class="comment">
       /* we have success */</div>
<a id="L908" name="L908"></a> 908       <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L909" name="L909"></a> 909     <em class="brace">}</em>
<a id="L910" name="L910"></a> 910 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L912" name="L912"></a> 912 
<div class="comment">
 Determine if we can shift under the special error Symbol out of the
     state currently on the top of the (real) parse stack.</div>
<a id="L916" name="L916"></a> 916   <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/7724.html#L943" title="Referred from 943 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">shift_under_error</a>()
<a id="L917" name="L917"></a> 917     <em class="brace">{</em>
<div class="comment">
       /* is there a shift under error Symbol */</div>
<a id="L919" name="L919"></a> 919       <strong class="reserved">return</strong> <a href="../S/7724.html#L447" title="Defined at 447 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_action</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, <a href="../D/15722.html" title="Multiple defined in 2 places.">error_sym</a>()) &gt; 0;
<a id="L920" name="L920"></a> 920     <em class="brace">}</em>
<a id="L921" name="L921"></a> 921 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L923" name="L923"></a> 923 
<div class="comment">
 Put the (real) parse stack into error recovery configuration by
     popping the stack down to a state that can shift on the special
     error Symbol, then doing the shift.  If no suitable state exists on
     the stack we return false
    @param debug should we produce debugging messages as we parse.</div>
<a id="L931" name="L931"></a> 931   <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/7724.html#L869" title="Referred from 869 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">find_recovery_config</a>(<strong class="reserved">boolean</strong> <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L932" name="L932"></a> 932     <em class="brace">{</em>
<a id="L933" name="L933"></a> 933       <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> error_token;
<a id="L934" name="L934"></a> 934       <strong class="reserved">int</strong> act;
<a id="L935" name="L935"></a> 935 
<a id="L936" name="L936"></a> 936       <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Finding recovery state on stack");
<a id="L937" name="L937"></a> 937 
<div class="comment">
       /* Remember the right-position of the top symbol on the stack */</div>
<a id="L939" name="L939"></a> 939       <strong class="reserved">int</strong> right_pos = ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).right;
<a id="L940" name="L940"></a> 940       <strong class="reserved">int</strong> left_pos  = ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).left;
<a id="L941" name="L941"></a> 941 
<div class="comment">
       /* pop down until we can shift under error Symbol */</div>
<a id="L943" name="L943"></a> 943       <strong class="reserved">while</strong> (!<a href="../S/7724.html#L916" title="Defined at 916 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">shift_under_error</a>())
<a id="L944" name="L944"></a> 944         <em class="brace">{</em>
<div class="comment">
           /* pop the stack */</div>
<a id="L946" name="L946"></a> 946           <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L947" name="L947"></a> 947             <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Pop stack by one, state was # " +
<a id="L948" name="L948"></a> 948                           ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state);
<a id="L949" name="L949"></a> 949           left_pos = ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>()).left;
<a id="L950" name="L950"></a> 950           tos--;
<a id="L951" name="L951"></a> 951 
<div class="comment">
           /* if we have hit bottom, we fail */</div>
<a id="L953" name="L953"></a> 953           <strong class="reserved">if</strong> (stack.<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a>())
<a id="L954" name="L954"></a> 954             <em class="brace">{</em>
<a id="L955" name="L955"></a> 955               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# No recovery state found on stack");
<a id="L956" name="L956"></a> 956               <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L957" name="L957"></a> 957             <em class="brace">}</em>
<a id="L958" name="L958"></a> 958         <em class="brace">}</em>
<a id="L959" name="L959"></a> 959 
<div class="comment">
       /* state on top of the stack can shift under error, find the shift */</div>
<a id="L961" name="L961"></a> 961       act = <a href="../S/7724.html#L447" title="Defined at 447 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_action</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, <a href="../D/15722.html" title="Multiple defined in 2 places.">error_sym</a>());
<a id="L962" name="L962"></a> 962       <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L963" name="L963"></a> 963         <em class="brace">{</em>
<a id="L964" name="L964"></a> 964           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Recover state found (#" +
<a id="L965" name="L965"></a> 965                         ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state + ")");
<a id="L966" name="L966"></a> 966           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Shifting on error to state #" + (act-1));
<a id="L967" name="L967"></a> 967         <em class="brace">}</em>
<a id="L968" name="L968"></a> 968 
<div class="comment">
       /* build and shift a special error Symbol */</div>
<a id="L970" name="L970"></a> 970       error_token = <strong class="reserved">new</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>(<a href="../D/15722.html" title="Multiple defined in 2 places.">error_sym</a>(), left_pos, right_pos);
<a id="L971" name="L971"></a> 971       error_token.parse_state = act-1;
<a id="L972" name="L972"></a> 972       error_token.used_by_parser = <strong class="reserved">true</strong>;
<a id="L973" name="L973"></a> 973       stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(error_token);
<a id="L974" name="L974"></a> 974       tos++;
<a id="L975" name="L975"></a> 975 
<a id="L976" name="L976"></a> 976       <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L977" name="L977"></a> 977     <em class="brace">}</em>
<a id="L978" name="L978"></a> 978 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L980" name="L980"></a> 980 
<div class="comment">
   /** Lookahead Symbols used for attempting error recovery "parse aheads". */</div>
<a id="L982" name="L982"></a> 982   <strong class="reserved">protected</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> <a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a>[];
<a id="L983" name="L983"></a> 983 
<div class="comment">
   /** Position in lookahead input buffer used for "parse ahead". */</div>
<a id="L985" name="L985"></a> 985   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> lookahead_pos;
<a id="L986" name="L986"></a> 986 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L988" name="L988"></a> 988 
<div class="comment">
 Read from input to establish our buffer of "parse ahead" lookahead
     Symbols.</div>
<a id="L992" name="L992"></a> 992   <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/7724.html#L876" title="Referred from 876 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">read_lookahead</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L993" name="L993"></a> 993     <em class="brace">{</em>
<div class="comment">
       /* create the lookahead array */</div>
<a id="L995" name="L995"></a> 995       <a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a> = <strong class="reserved">new</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>[<a href="../S/7724.html#L171" title="Defined at 171 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">error_sync_size</a>()];
<a id="L996" name="L996"></a> 996 
<div class="comment">
       /* fill in the array */</div>
<a id="L998" name="L998"></a> 998       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/7724.html#L171" title="Defined at 171 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">error_sync_size</a>(); i++)
<a id="L999" name="L999"></a> 999         <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000           <a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a>[i] = cur_token;
<a id="L1001" name="L1001"></a>1001           cur_token = <a href="../D/31557.html" title="Multiple defined in 18 places.">scan</a>();
<a id="L1002" name="L1002"></a>1002         <em class="brace">}</em>
<a id="L1003" name="L1003"></a>1003 
<div class="comment">
       /* start at the beginning */</div>
<a id="L1005" name="L1005"></a>1005       lookahead_pos = 0;
<a id="L1006" name="L1006"></a>1006     <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L1009" name="L1009"></a>1009 
<div class="comment">
   /** Return the current lookahead in our error "parse ahead" buffer. */</div>
<a id="L1011" name="L1011"></a>1011   <strong class="reserved">protected</strong> <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> <a href="../R/12857.html" title="Multiple referred from 10 places.">cur_err_token</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a>[lookahead_pos]; <em class="brace">}</em>
<a id="L1012" name="L1012"></a>1012 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L1014" name="L1014"></a>1014 
<div class="comment">
 Advance to next "parse ahead" input Symbol. Return true if we have
     input to advance to, false otherwise.</div>
<a id="L1018" name="L1018"></a>1018   <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/10108.html" title="Multiple referred from 2 places.">advance_lookahead</a>()
<a id="L1019" name="L1019"></a>1019     <em class="brace">{</em>
<div class="comment">
       /* advance the input location */</div>
<a id="L1021" name="L1021"></a>1021       lookahead_pos++;
<a id="L1022" name="L1022"></a>1022 
<div class="comment">
       /* return true if we didn't go off the end */</div>
<a id="L1024" name="L1024"></a>1024       <strong class="reserved">return</strong> lookahead_pos &lt; <a href="../S/7724.html#L171" title="Defined at 171 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">error_sync_size</a>();
<a id="L1025" name="L1025"></a>1025     <em class="brace">}</em>
<a id="L1026" name="L1026"></a>1026 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L1028" name="L1028"></a>1028 
<div class="comment">
 Reset the parse ahead input to one Symbol past where we started error
     recovery (this consumes one new Symbol from the real input).</div>
<a id="L1032" name="L1032"></a>1032   <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/7724.html#L898" title="Referred from 898 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">restart_lookahead</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L1033" name="L1033"></a>1033     <em class="brace">{</em>
<div class="comment">
       /* move all the existing input over */</div>
<a id="L1035" name="L1035"></a>1035       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt; <a href="../S/7724.html#L171" title="Defined at 171 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">error_sync_size</a>(); i++)
<a id="L1036" name="L1036"></a>1036         <a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a>[i-1] = <a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a>[i];
<a id="L1037" name="L1037"></a>1037 
<div class="comment">
       /* read a new Symbol into the last spot */</div>
<a id="L1039" name="L1039"></a>1039       cur_token = <a href="../D/31557.html" title="Multiple defined in 18 places.">scan</a>();
<a id="L1040" name="L1040"></a>1040       <a href="../D/27091.html" title="Multiple defined in 2 places.">lookahead</a>[<a href="../S/7724.html#L171" title="Defined at 171 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">error_sync_size</a>()-1] = cur_token;
<a id="L1041" name="L1041"></a>1041 
<div class="comment">
       /* reset our internal position marker */</div>
<a id="L1043" name="L1043"></a>1043       lookahead_pos = 0;
<a id="L1044" name="L1044"></a>1044     <em class="brace">}</em>
<a id="L1045" name="L1045"></a>1045 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L1047" name="L1047"></a>1047 
<div class="comment">
 Do a simulated parse forward (a "parse ahead") from the current
     stack configuration using stored lookahead input and a virtual parse
     stack.  Return true if we make it all the way through the stored
     lookahead input without error. This basically simulates the action of
     parse() using only our saved "parse ahead" input, and not executing any
     actions.
    @param debug should we produce debugging messages as we parse.</div>
<a id="L1057" name="L1057"></a>1057   <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/7724.html#L883" title="Referred from 883 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">try_parse_ahead</a>(<strong class="reserved">boolean</strong> <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L1058" name="L1058"></a>1058     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L1059" name="L1059"></a>1059     <em class="brace">{</em>
<a id="L1060" name="L1060"></a>1060       <strong class="reserved">int</strong> act;
<a id="L1061" name="L1061"></a>1061       <strong class="reserved">short</strong> lhs, rhs_size;
<a id="L1062" name="L1062"></a>1062 
<div class="comment">
       /* create a virtual stack from the real parse stack */</div>
<a id="L1064" name="L1064"></a>1064       <a href="../S/7722.html#L46" title="Defined at 46 in src/com/sun/java_cup/internal/runtime/virtual_parse_stack.java.">virtual_parse_stack</a> vstack = <strong class="reserved">new</strong> <a href="../S/7722.html#L46" title="Defined at 46 in src/com/sun/java_cup/internal/runtime/virtual_parse_stack.java.">virtual_parse_stack</a>(stack);
<a id="L1065" name="L1065"></a>1065 
<div class="comment">
       /* parse until we fail or get past the lookahead input */</div>
<a id="L1067" name="L1067"></a>1067       <strong class="reserved">for</strong> (;;)
<a id="L1068" name="L1068"></a>1068         <em class="brace">{</em>
<div class="comment">
           /* look up the action from the current state (on top of stack) */</div>
<a id="L1070" name="L1070"></a>1070           act = <a href="../S/7724.html#L447" title="Defined at 447 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_action</a>(vstack.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>(), <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L1071" name="L1071"></a>1071 
<div class="comment">
           /* if its an error, we fail */</div>
<a id="L1073" name="L1073"></a>1073           <strong class="reserved">if</strong> (act == 0) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1074" name="L1074"></a>1074 
<div class="comment">
           /* &gt; 0 encodes a shift */</div>
<a id="L1076" name="L1076"></a>1076           <strong class="reserved">if</strong> (act &gt; 0)
<a id="L1077" name="L1077"></a>1077             <em class="brace">{</em>
<div class="comment">
               /* push the new state on the stack */</div>
<a id="L1079" name="L1079"></a>1079               vstack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(act-1);
<a id="L1080" name="L1080"></a>1080 
<a id="L1081" name="L1081"></a>1081               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Parse-ahead shifts Symbol #" +
<a id="L1082" name="L1082"></a>1082                        <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a> + " into state #" + (act-1));
<a id="L1083" name="L1083"></a>1083 
<div class="comment">
               /* advance simulated input, if we run off the end, we are done */</div>
<a id="L1085" name="L1085"></a>1085               <strong class="reserved">if</strong> (!<a href="../S/7724.html#L1018" title="Defined at 1018 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">advance_lookahead</a>()) <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1086" name="L1086"></a>1086             <em class="brace">}</em>
<div class="comment">
           /* &lt; 0 encodes a reduce */</div>
<a id="L1088" name="L1088"></a>1088           <strong class="reserved">else</strong>
<a id="L1089" name="L1089"></a>1089             <em class="brace">{</em>
<div class="comment">
               /* if this is a reduce with the start production we are done */</div>
<a id="L1091" name="L1091"></a>1091               <strong class="reserved">if</strong> ((-act)-1 == <a href="../D/34838.html" title="Multiple defined in 2 places.">start_production</a>())
<a id="L1092" name="L1092"></a>1092                 <em class="brace">{</em>
<a id="L1093" name="L1093"></a>1093                   <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Parse-ahead accepts");
<a id="L1094" name="L1094"></a>1094                   <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1095" name="L1095"></a>1095                 <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096 
<div class="comment">
               /* get the lhs Symbol and the rhs size */</div>
<a id="L1098" name="L1098"></a>1098               lhs = production_tab[(-act)-1][0];
<a id="L1099" name="L1099"></a>1099               rhs_size = production_tab[(-act)-1][1];
<a id="L1100" name="L1100"></a>1100 
<div class="comment">
               /* pop handle off the stack */</div>
<a id="L1102" name="L1102"></a>1102               <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; rhs_size; i++)
<a id="L1103" name="L1103"></a>1103                 vstack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L1104" name="L1104"></a>1104 
<a id="L1105" name="L1105"></a>1105               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L1106" name="L1106"></a>1106                 <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Parse-ahead reduces: handle size = " +
<a id="L1107" name="L1107"></a>1107                   rhs_size + " lhs = #" + lhs + " from state #" + vstack.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>());
<a id="L1108" name="L1108"></a>1108 
<div class="comment">
               /* look up goto and push it onto the stack */</div>
<a id="L1110" name="L1110"></a>1110               vstack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<a href="../S/7724.html#L502" title="Defined at 502 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_reduce</a>(vstack.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>(), lhs));
<a id="L1111" name="L1111"></a>1111               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L1112" name="L1112"></a>1112                 <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Goto state #" + vstack.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>());
<a id="L1113" name="L1113"></a>1113             <em class="brace">}</em>
<a id="L1114" name="L1114"></a>1114         <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115     <em class="brace">}</em>
<a id="L1116" name="L1116"></a>1116 
<div class="comment">
   /*. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .*/</div>
<a id="L1118" name="L1118"></a>1118 
<div class="comment">
 Parse forward using stored lookahead Symbols.  In this case we have
     already verified that parsing will make it through the stored lookahead
     Symbols and we are now getting back to the point at which we can hand
     control back to the normal parser.  Consequently, this version of the
     parser performs all actions and modifies the real parse configuration.
     This returns once we have consumed all the stored input or we accept.
    @param debug should we produce debugging messages as we parse.</div>
<a id="L1128" name="L1128"></a>1128   <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/7724.html#L905" title="Referred from 905 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">parse_lookahead</a>(<strong class="reserved">boolean</strong> <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L1129" name="L1129"></a>1129     <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L1130" name="L1130"></a>1130     <em class="brace">{</em>
<div class="comment">
       /* the current action code */</div>
<a id="L1132" name="L1132"></a>1132       <strong class="reserved">int</strong> act;
<a id="L1133" name="L1133"></a>1133 
<div class="comment">
       /* the Symbol/stack element returned by a reduce */</div>
<a id="L1135" name="L1135"></a>1135       <a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a> lhs_sym = <strong class="reserved">null</strong>;
<a id="L1136" name="L1136"></a>1136 
<div class="comment">
       /* information about production being reduced with */</div>
<a id="L1138" name="L1138"></a>1138       <strong class="reserved">short</strong> handle_size, lhs_sym_num;
<a id="L1139" name="L1139"></a>1139 
<div class="comment">
       /* restart the saved input at the beginning */</div>
<a id="L1141" name="L1141"></a>1141       lookahead_pos = 0;
<a id="L1142" name="L1142"></a>1142 
<a id="L1143" name="L1143"></a>1143       <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L1144" name="L1144"></a>1144         <em class="brace">{</em>
<a id="L1145" name="L1145"></a>1145           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Reparsing saved input with actions");
<a id="L1146" name="L1146"></a>1146           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Current Symbol is #" + <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L1147" name="L1147"></a>1147           <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Current state is #" +
<a id="L1148" name="L1148"></a>1148                         ((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state);
<a id="L1149" name="L1149"></a>1149         <em class="brace">}</em>
<a id="L1150" name="L1150"></a>1150 
<div class="comment">
       /* continue until we accept or have read all lookahead input */</div>
<a id="L1152" name="L1152"></a>1152       <strong class="reserved">while</strong>(!_done_parsing)
<a id="L1153" name="L1153"></a>1153         <em class="brace">{</em>
<div class="comment">
           /* current state is always on the top of the stack */</div>
<a id="L1155" name="L1155"></a>1155 
<div class="comment">
           /* look up action out of the current state with the current input */</div>
<a id="L1157" name="L1157"></a>1157           act =
<a id="L1158" name="L1158"></a>1158             <a href="../S/7724.html#L447" title="Defined at 447 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_action</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L1159" name="L1159"></a>1159 
<div class="comment">
           /* decode the action -- &gt; 0 encodes shift */</div>
<a id="L1161" name="L1161"></a>1161           <strong class="reserved">if</strong> (act &gt; 0)
<a id="L1162" name="L1162"></a>1162             <em class="brace">{</em>
<div class="comment">
               /* shift to the encoded state by pushing it on the stack */</div>
<a id="L1164" name="L1164"></a>1164               <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().parse_state = act-1;
<a id="L1165" name="L1165"></a>1165               <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().used_by_parser = <strong class="reserved">true</strong>;
<a id="L1166" name="L1166"></a>1166               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L690" title="Defined at 690 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_shift</a>(<a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>());
<a id="L1167" name="L1167"></a>1167               stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>());
<a id="L1168" name="L1168"></a>1168               tos++;
<a id="L1169" name="L1169"></a>1169 
<div class="comment">
               /* advance to the next Symbol, if there is none, we are done */</div>
<a id="L1171" name="L1171"></a>1171               <strong class="reserved">if</strong> (!<a href="../S/7724.html#L1018" title="Defined at 1018 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">advance_lookahead</a>())
<a id="L1172" name="L1172"></a>1172                 <em class="brace">{</em>
<a id="L1173" name="L1173"></a>1173                   <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Completed reparse");
<a id="L1174" name="L1174"></a>1174 
<div class="comment">
                   /* scan next Symbol so we can continue parse */</div>
<a id="L1176" name="L1176"></a>1176                   <em class="comment">// BUGFIX by Chris Harris &lt;ckharris@ucsd.edu&gt;:</em>
<a id="L1177" name="L1177"></a>1177                   <em class="comment">//   correct a one-off error by commenting out</em>
<a id="L1178" name="L1178"></a>1178                   <em class="comment">//   this next line.</em>
<div class="comment">
                   /*cur_token = scan();*/</div>
<a id="L1180" name="L1180"></a>1180 
<div class="comment">
                   /* go back to normal parser */</div>
<a id="L1182" name="L1182"></a>1182                   <strong class="reserved">return</strong>;
<a id="L1183" name="L1183"></a>1183                 <em class="brace">}</em>
<a id="L1184" name="L1184"></a>1184 
<a id="L1185" name="L1185"></a>1185               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>)
<a id="L1186" name="L1186"></a>1186                 <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Current Symbol is #" + <a href="../S/7724.html#L1011" title="Defined at 1011 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">cur_err_token</a>().<a href="../S/6184.html#L10" title="Defined at 10 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/sym.java.">sym</a>);
<a id="L1187" name="L1187"></a>1187             <em class="brace">}</em>
<div class="comment">
           /* if its less than zero, then it encodes a reduce action */</div>
<a id="L1189" name="L1189"></a>1189           <strong class="reserved">else</strong> <strong class="reserved">if</strong> (act &lt; 0)
<a id="L1190" name="L1190"></a>1190             <em class="brace">{</em>
<div class="comment">
               /* perform the action for the reduce */</div>
<a id="L1192" name="L1192"></a>1192               lhs_sym = <a href="../D/15101.html" title="Multiple defined in 3 places.">do_action</a>((-act)-1, <strong class="reserved">this</strong>, stack, tos);
<a id="L1193" name="L1193"></a>1193 
<div class="comment">
               /* look up information about the production */</div>
<a id="L1195" name="L1195"></a>1195               lhs_sym_num = production_tab[(-act)-1][0];
<a id="L1196" name="L1196"></a>1196               handle_size = production_tab[(-act)-1][1];
<a id="L1197" name="L1197"></a>1197 
<a id="L1198" name="L1198"></a>1198               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L678" title="Defined at 678 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_reduce</a>((-act)-1, lhs_sym_num, handle_size);
<a id="L1199" name="L1199"></a>1199 
<div class="comment">
               /* pop the handle off the stack */</div>
<a id="L1201" name="L1201"></a>1201               <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; handle_size; i++)
<a id="L1202" name="L1202"></a>1202                 <em class="brace">{</em>
<a id="L1203" name="L1203"></a>1203                   stack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L1204" name="L1204"></a>1204                   tos--;
<a id="L1205" name="L1205"></a>1205                 <em class="brace">}</em>
<a id="L1206" name="L1206"></a>1206 
<div class="comment">
               /* look up the state to go to from the one popped back to */</div>
<a id="L1208" name="L1208"></a>1208               act = <a href="../S/7724.html#L502" title="Defined at 502 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">get_reduce</a>(((<a href="../S/7723.html#L47" title="Defined at 47 in src/com/sun/java_cup/internal/runtime/Symbol.java.">Symbol</a>)stack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()).parse_state, lhs_sym_num);
<a id="L1209" name="L1209"></a>1209 
<div class="comment">
               /* shift to that state */</div>
<a id="L1211" name="L1211"></a>1211               lhs_sym.parse_state = act;
<a id="L1212" name="L1212"></a>1212               lhs_sym.used_by_parser = <strong class="reserved">true</strong>;
<a id="L1213" name="L1213"></a>1213               stack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(lhs_sym);
<a id="L1214" name="L1214"></a>1214               tos++;
<a id="L1215" name="L1215"></a>1215 
<a id="L1216" name="L1216"></a>1216               <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <a href="../S/7724.html#L643" title="Defined at 643 in src/com/sun/java_cup/internal/runtime/lr_parser.java.">debug_message</a>("# Goto state #" + act);
<a id="L1217" name="L1217"></a>1217 
<a id="L1218" name="L1218"></a>1218             <em class="brace">}</em>
<div class="comment">
 finally if the entry is zero, we have an error
             (shouldn't happen here, but...)</div>
<a id="L1221" name="L1221"></a>1221           <strong class="reserved">else</strong> <strong class="reserved">if</strong> (act == 0)
<a id="L1222" name="L1222"></a>1222             <em class="brace">{</em>
<a id="L1223" name="L1223"></a>1223               <a href="../D/31106.html" title="Multiple defined in 2 places.">report_fatal_error</a>("Syntax error", lhs_sym);
<a id="L1224" name="L1224"></a>1224               <strong class="reserved">return</strong>;
<a id="L1225" name="L1225"></a>1225             <em class="brace">}</em>
<a id="L1226" name="L1226"></a>1226         <em class="brace">}</em>
<a id="L1227" name="L1227"></a>1227 
<a id="L1228" name="L1228"></a>1228 
<a id="L1229" name="L1229"></a>1229     <em class="brace">}</em>
<a id="L1230" name="L1230"></a>1230 
<div class="comment">
   /*-----------------------------------------------------------*/</div>
<a id="L1232" name="L1232"></a>1232 
<div class="comment">
   /** Utility function: unpacks parse tables from strings */</div>
<a id="L1234" name="L1234"></a>1234   <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">short</strong>[][] <a href="../R/29738.html" title="Multiple referred from 3 places.">unpackFromStrings</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] sa)
<a id="L1235" name="L1235"></a>1235     <em class="brace">{</em>
<a id="L1236" name="L1236"></a>1236       <em class="comment">// Concatanate initialization strings.</em>
<a id="L1237" name="L1237"></a>1237       <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> sb = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(sa[0]);
<a id="L1238" name="L1238"></a>1238       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=1; i&lt;sa.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++)
<a id="L1239" name="L1239"></a>1239         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sa[i]);
<a id="L1240" name="L1240"></a>1240       <strong class="reserved">int</strong> n=0; <em class="comment">// location in initialization string</em>
<a id="L1241" name="L1241"></a>1241       <strong class="reserved">int</strong> size1 = (((<strong class="reserved">int</strong>)sb.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(n))&lt;&lt;16) | ((<strong class="reserved">int</strong>)sb.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(n+1)); n+=2;
<a id="L1242" name="L1242"></a>1242       <strong class="reserved">short</strong>[][] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[size1][];
<a id="L1243" name="L1243"></a>1243       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;size1; i++) <em class="brace">{</em>
<a id="L1244" name="L1244"></a>1244         <strong class="reserved">int</strong> size2 = (((<strong class="reserved">int</strong>)sb.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(n))&lt;&lt;16) | ((<strong class="reserved">int</strong>)sb.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(n+1)); n+=2;
<a id="L1245" name="L1245"></a>1245         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i] = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[size2];
<a id="L1246" name="L1246"></a>1246         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j=0; j&lt;size2; j++)
<a id="L1247" name="L1247"></a>1247           <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i][j] = (<strong class="reserved">short</strong>) (sb.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(n++)-2);
<a id="L1248" name="L1248"></a>1248       <em class="brace">}</em>
<a id="L1249" name="L1249"></a>1249       <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1250" name="L1250"></a>1250     <em class="brace">}</em>
<a id="L1251" name="L1251"></a>1251 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L171">[^]</a><a href="#L1234">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>