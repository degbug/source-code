<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/sound/midi/ShortMessage.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L291">[^]</a><a href="#L458">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L291" title="Defined at 291.">setMessage</a></li>
<li><a href="#L316" title="Defined at 316.">setMessage</a></li>
<li><a href="#L371" title="Defined at 371.">setMessage</a></li>
<li><a href="#L390" title="Defined at 390.">getChannel</a></li>
<li><a href="#L403" title="Defined at 403.">getCommand</a></li>
<li><a href="#L414" title="Defined at 414.">getData1</a></li>
<li><a href="#L427" title="Defined at 427.">getData2</a></li>
<li><a href="#L440" title="Defined at 440.">clone</a></li>
<li><a href="#L458" title="Defined at 458.">getDataLength</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.sound.midi;
<a id="L27" name="L27"></a>  27 
<div class="comment">
  A <code>ShortMessage</code> contains a MIDI message that has at most
  two data bytes following its status byte.  The types of MIDI message
  that satisfy this criterion are channel voice, channel mode, system common,
  and system real-time--in other words, everything except system exclusive
  and meta-events.  The <code>ShortMessage</code> class provides methods
  for getting and setting the contents of the MIDI message.
  <p>
  A number of <code>ShortMessage</code> methods have integer parameters by which
  you specify a MIDI status or data byte.  If you know the numeric value, you
  can express it directly.  For system common and system real-time messages,
  you can often use the corresponding fields of <code>ShortMessage</code>, such as
  {@link #SYSTEM_RESET SYSTEM_RESET}.  For channel messages,
  the upper four bits of the status byte are specified by a command value and
  the lower four bits are specified by a MIDI channel number. To
  convert incoming MIDI data bytes that are in the form of Java's signed bytes,
  you can use the <a href="MidiMessage.html#integersVsBytes">conversion code</a>
  given in the <code>{@link MidiMessage}</code> class description.
  @see SysexMessage
  @see MetaMessage
  @author David Rivas
  @author Kara Kytle
  @author Florian Bomers</p></div>
<a id="L54" name="L54"></a>  54 
<a id="L55" name="L55"></a>  55 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7197.html" title="Multiple referred from 3 places.">ShortMessage</a> <strong class="reserved">extends</strong> <a href="../S/4401.html#L75" title="Defined at 75 in src/javax/sound/midi/MidiMessage.java.">MidiMessage</a> <em class="brace">{</em>
<a id="L56" name="L56"></a>  56 
<a id="L57" name="L57"></a>  57 
<a id="L58" name="L58"></a>  58     <em class="comment">// Status byte defines</em>
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60 
<a id="L61" name="L61"></a>  61     <em class="comment">// System common messages</em>
<a id="L62" name="L62"></a>  62 
<div class="comment">
      Status byte for MIDI Time Code Quarter Frame message (0xF1, or 241).
      @see MidiMessage#getStatus</div>
<a id="L67" name="L67"></a>  67     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MIDI_TIME_CODE                              = 0xF1; <em class="comment">// 241</em>
<a id="L68" name="L68"></a>  68 
<div class="comment">
      Status byte for Song Position Pointer message (0xF2, or 242).
      @see MidiMessage#getStatus</div>
<a id="L73" name="L73"></a>  73     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SONG_POSITION_POINTER               = 0xF2; <em class="comment">// 242</em>
<a id="L74" name="L74"></a>  74 
<div class="comment">
      Status byte for MIDI Song Select message (0xF3, or 243).
      @see MidiMessage#getStatus</div>
<a id="L79" name="L79"></a>  79     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SONG_SELECT                                 = 0xF3; <em class="comment">// 243</em>
<a id="L80" name="L80"></a>  80 
<div class="comment">
      Status byte for Tune Request message (0xF6, or 246).
      @see MidiMessage#getStatus</div>
<a id="L85" name="L85"></a>  85     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TUNE_REQUEST                                = 0xF6; <em class="comment">// 246</em>
<a id="L86" name="L86"></a>  86 
<div class="comment">
      Status byte for End of System Exclusive message (0xF7, or 247).
      @see MidiMessage#getStatus</div>
<a id="L91" name="L91"></a>  91     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> END_OF_EXCLUSIVE                    = 0xF7; <em class="comment">// 247</em>
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93 
<a id="L94" name="L94"></a>  94     <em class="comment">// System real-time messages</em>
<a id="L95" name="L95"></a>  95 
<div class="comment">
      Status byte for Timing Clock message (0xF8, or 248).
      @see MidiMessage#getStatus</div>
<a id="L100" name="L100"></a> 100     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TIMING_CLOCK                                = 0xF8; <em class="comment">// 248</em>
<a id="L101" name="L101"></a> 101 
<div class="comment">
      Status byte for Start message (0xFA, or 250).
      @see MidiMessage#getStatus</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> START                                               = 0xFA; <em class="comment">// 250</em>
<a id="L107" name="L107"></a> 107 
<div class="comment">
      Status byte for Continue message (0xFB, or 251).
      @see MidiMessage#getStatus</div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../S/6524.html#L123" title="Defined at 123 in src/com/sun/source/tree/Tree.java.">CONTINUE</a>                                    = 0xFB; <em class="comment">// 251</em>
<a id="L113" name="L113"></a> 113 
<div class="comment">
      Status byte for Stop message (0xFC, or 252).
      @see MidiMessage#getStatus</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> STOP                                                = 0xFC; <em class="comment">//252</em>
<a id="L119" name="L119"></a> 119 
<div class="comment">
      Status byte for Active Sensing message (0xFE, or 254).
      @see MidiMessage#getStatus</div>
<a id="L124" name="L124"></a> 124     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> ACTIVE_SENSING                              = 0xFE; <em class="comment">// 254</em>
<a id="L125" name="L125"></a> 125 
<div class="comment">
      Status byte for System Reset message (0xFF, or 255).
      @see MidiMessage#getStatus</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SYSTEM_RESET                                = 0xFF; <em class="comment">// 255</em>
<a id="L131" name="L131"></a> 131 
<a id="L132" name="L132"></a> 132 
<a id="L133" name="L133"></a> 133     <em class="comment">// Channel voice message upper nibble defines</em>
<a id="L134" name="L134"></a> 134 
<div class="comment">
      Command value for Note Off message (0x80, or 128)</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NOTE_OFF                                    = 0x80;  <em class="comment">// 128</em>
<a id="L139" name="L139"></a> 139 
<div class="comment">
      Command value for Note On message (0x90, or 144)</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NOTE_ON                                             = 0x90;  <em class="comment">// 144</em>
<a id="L144" name="L144"></a> 144 
<div class="comment">
      Command value for Polyphonic Key Pressure (Aftertouch) message (0xA0, or 160)</div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> POLY_PRESSURE                               = 0xA0;  <em class="comment">// 160</em>
<a id="L149" name="L149"></a> 149 
<div class="comment">
      Command value for Control Change message (0xB0, or 176)</div>
<a id="L153" name="L153"></a> 153     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CONTROL_CHANGE                              = 0xB0;  <em class="comment">// 176</em>
<a id="L154" name="L154"></a> 154 
<div class="comment">
      Command value for Program Change message (0xC0, or 192)</div>
<a id="L158" name="L158"></a> 158     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PROGRAM_CHANGE                              = 0xC0;  <em class="comment">// 192</em>
<a id="L159" name="L159"></a> 159 
<div class="comment">
      Command value for Channel Pressure (Aftertouch) message (0xD0, or 208)</div>
<a id="L163" name="L163"></a> 163     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CHANNEL_PRESSURE                    = 0xD0;  <em class="comment">// 208</em>
<a id="L164" name="L164"></a> 164 
<div class="comment">
      Command value for Pitch Bend message (0xE0, or 224)</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PITCH_BEND                                  = 0xE0;  <em class="comment">// 224</em>
<a id="L169" name="L169"></a> 169 
<a id="L170" name="L170"></a> 170 
<a id="L171" name="L171"></a> 171     <em class="comment">// Instance variables</em>
<a id="L172" name="L172"></a> 172 
<div class="comment">
      Constructs a new <code>ShortMessage</code>.  The
      contents of the new message are guaranteed to specify
      a valid MIDI message.  Subsequently, you may set the
      contents of the message using one of the <code>setMessage</code>
      methods.
      @see #setMessage</div>
<a id="L181" name="L181"></a> 181     <strong class="reserved">public</strong> ShortMessage() <em class="brace">{</em>
<a id="L182" name="L182"></a> 182         <strong class="reserved">this</strong>(<strong class="reserved">new</strong> <strong class="reserved">byte</strong>[3]);
<a id="L183" name="L183"></a> 183         <em class="comment">// Default message data: NOTE_ON on Channel 0 with max volume</em>
<a id="L184" name="L184"></a> 184         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[0] = (<strong class="reserved">byte</strong>) (NOTE_ON &amp; 0xFF);
<a id="L185" name="L185"></a> 185         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[1] = (<strong class="reserved">byte</strong>) 64;
<a id="L186" name="L186"></a> 186         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[2] = (<strong class="reserved">byte</strong>) 127;
<a id="L187" name="L187"></a> 187         <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = 3;
<a id="L188" name="L188"></a> 188     <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<div class="comment">
      Constructs a new <code>ShortMessage</code> which represents a MIDI
      message that takes no data bytes.
      The contents of the message can be changed by using one of
      the <code>setMessage</code> methods.
      @param status the MIDI status byte
      @throws InvalidMidiDataException if <code>status</code> does not specify
          a valid MIDI status byte for a message that requires no data bytes
      @see #setMessage(int)
      @see #setMessage(int, int, int)
      @see #setMessage(int, int, int, int)
      @see #getStatus()
      @since 1.7</div>
<a id="L205" name="L205"></a> 205     <strong class="reserved">public</strong> ShortMessage(<strong class="reserved">int</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) <strong class="reserved">throws</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a> <em class="brace">{</em>
<a id="L206" name="L206"></a> 206         <strong class="reserved">super</strong>(<strong class="reserved">null</strong>);
<a id="L207" name="L207"></a> 207         <a href="../D/33234.html" title="Multiple defined in 12 places.">setMessage</a>(<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>); <em class="comment">// can throw InvalidMidiDataException</em>
<a id="L208" name="L208"></a> 208     <em class="brace">}</em>
<a id="L209" name="L209"></a> 209 
<div class="comment">
      Constructs a new <code>ShortMessage</code> which represents a MIDI message
      that takes up to two data bytes. If the message only takes one data byte,
      the second data byte is ignored. If the message does not take
      any data bytes, both data bytes are ignored.
      The contents of the message can be changed by using one of
      the <code>setMessage</code> methods.
      @param status   the MIDI status byte
      @param data1    the first data byte
      @param data2    the second data byte
      @throws InvalidMidiDataException if the status byte or all data bytes
          belonging to the message do not specify a valid MIDI message
      @see #setMessage(int)
      @see #setMessage(int, int, int)
      @see #setMessage(int, int, int, int)
      @see #getStatus()
      @see #getData1()
      @see #getData2()
      @since 1.7</div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">public</strong> ShortMessage(<strong class="reserved">int</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>, <strong class="reserved">int</strong> data1, <strong class="reserved">int</strong> data2)
<a id="L232" name="L232"></a> 232             <strong class="reserved">throws</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a> <em class="brace">{</em>
<a id="L233" name="L233"></a> 233         <strong class="reserved">super</strong>(<strong class="reserved">null</strong>);
<a id="L234" name="L234"></a> 234         <a href="../D/33234.html" title="Multiple defined in 12 places.">setMessage</a>(<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>, data1, data2); <em class="comment">// can throw InvalidMidiDataException</em>
<a id="L235" name="L235"></a> 235     <em class="brace">}</em>
<a id="L236" name="L236"></a> 236 
<div class="comment">
      Constructs a new <code>ShortMessage</code> which represents a channel
      MIDI message that takes up to two data bytes. If the message only takes
      one data byte, the second data byte is ignored. If the message does not
      take any data bytes, both data bytes are ignored.
      The contents of the message can be changed by using one of
      the <code>setMessage</code> methods.
      @param command  the MIDI command represented by this message
      @param channel  the channel associated with the message
      @param data1    the first data byte
      @param data2    the second data byte
      @throws InvalidMidiDataException if the command value, channel value
          or all data bytes belonging to the message do not specify
          a valid MIDI message
      @see #setMessage(int)
      @see #setMessage(int, int, int)
      @see #setMessage(int, int, int, int)
      @see #getCommand()
      @see #getChannel()
      @see #getData1()
      @see #getData2()
      @since 1.7</div>
<a id="L261" name="L261"></a> 261     <strong class="reserved">public</strong> ShortMessage(<strong class="reserved">int</strong> <a href="../D/13010.html" title="Multiple defined in 4 places.">command</a>, <strong class="reserved">int</strong> <a href="../D/12318.html" title="Multiple defined in 3 places.">channel</a>, <strong class="reserved">int</strong> data1, <strong class="reserved">int</strong> data2)
<a id="L262" name="L262"></a> 262             <strong class="reserved">throws</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a> <em class="brace">{</em>
<a id="L263" name="L263"></a> 263         <strong class="reserved">super</strong>(<strong class="reserved">null</strong>);
<a id="L264" name="L264"></a> 264         <a href="../D/33234.html" title="Multiple defined in 12 places.">setMessage</a>(<a href="../D/13010.html" title="Multiple defined in 4 places.">command</a>, <a href="../D/12318.html" title="Multiple defined in 3 places.">channel</a>, data1, data2);
<a id="L265" name="L265"></a> 265     <em class="brace">}</em>
<a id="L266" name="L266"></a> 266 
<a id="L267" name="L267"></a> 267 
<div class="comment">
      Constructs a new <code>ShortMessage</code>.
      @param data an array of bytes containing the complete message.
      The message data may be changed using the <code>setMessage</code>
      method.
      @see #setMessage</div>
<a id="L275" name="L275"></a> 275     <em class="comment">// $$fb this should throw an Exception in case of an illegal message!</em>
<a id="L276" name="L276"></a> 276     <strong class="reserved">protected</strong> ShortMessage(<strong class="reserved">byte</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277         <em class="comment">// $$fb this may set an invalid message.</em>
<a id="L278" name="L278"></a> 278         <em class="comment">// Can't correct without compromising compatibility</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">super</strong>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<a id="L282" name="L282"></a> 282 
<div class="comment">
      Sets the parameters for a MIDI message that takes no data bytes.
      @param status    the MIDI status byte
      @throws  InvalidMidiDataException if <code>status</code> does not
      specify a valid MIDI status byte for a message that requires no data bytes.
      @see #setMessage(int, int, int)
      @see #setMessage(int, int, int, int)</div>
<a id="L291" name="L291"></a> 291     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27743.html" title="Multiple referred from 9 places.">setMessage</a>(<strong class="reserved">int</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) <strong class="reserved">throws</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a> <em class="brace">{</em>
<a id="L292" name="L292"></a> 292         <em class="comment">// check for valid values</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">int</strong> dataLength = <a href="../D/18201.html" title="Multiple defined in 6 places.">getDataLength</a>(<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>); <em class="comment">// can throw InvalidMidiDataException</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">if</strong> (dataLength != 0) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a>("Status byte; " + <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> + " requires " + dataLength + " data bytes");
<a id="L296" name="L296"></a> 296         <em class="brace">}</em>
<a id="L297" name="L297"></a> 297         <a href="../D/33234.html" title="Multiple defined in 12 places.">setMessage</a>(<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>, 0, 0);
<a id="L298" name="L298"></a> 298     <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300 
<div class="comment">
      Sets the  parameters for a MIDI message that takes one or two data
      bytes.  If the message takes only one data byte, the second data
      byte is ignored; if the message does not take any data bytes, both
      data bytes are ignored.
      @param status    the MIDI status byte
      @param data1             the first data byte
      @param data2             the second data byte
      @throws  InvalidMidiDataException if the
      the status byte, or all data bytes belonging to the message, do
      not specify a valid MIDI message.
      @see #setMessage(int, int, int, int)
      @see #setMessage(int)</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27743.html" title="Multiple referred from 9 places.">setMessage</a>(<strong class="reserved">int</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>, <strong class="reserved">int</strong> data1, <strong class="reserved">int</strong> data2) <strong class="reserved">throws</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a> <em class="brace">{</em>
<a id="L317" name="L317"></a> 317         <em class="comment">// check for valid values</em>
<a id="L318" name="L318"></a> 318         <strong class="reserved">int</strong> dataLength = <a href="../D/18201.html" title="Multiple defined in 6 places.">getDataLength</a>(<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>); <em class="comment">// can throw InvalidMidiDataException</em>
<a id="L319" name="L319"></a> 319         <strong class="reserved">if</strong> (dataLength &gt; 0) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320             <strong class="reserved">if</strong> (data1 &lt; 0 || data1 &gt; 127) <em class="brace">{</em>
<a id="L321" name="L321"></a> 321                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a>("data1 out of range: " + data1);
<a id="L322" name="L322"></a> 322             <em class="brace">}</em>
<a id="L323" name="L323"></a> 323             <strong class="reserved">if</strong> (dataLength &gt; 1) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324                 <strong class="reserved">if</strong> (data2 &lt; 0 || data2 &gt; 127) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a>("data2 out of range: " + data2);
<a id="L326" name="L326"></a> 326                 <em class="brace">}</em>
<a id="L327" name="L327"></a> 327             <em class="brace">}</em>
<a id="L328" name="L328"></a> 328         <em class="brace">}</em>
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330 
<a id="L331" name="L331"></a> 331         <em class="comment">// set the length</em>
<a id="L332" name="L332"></a> 332         <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = dataLength + 1;
<a id="L333" name="L333"></a> 333         <em class="comment">// re-allocate array if ShortMessage(byte[]) constructor gave array with fewer elements</em>
<a id="L334" name="L334"></a> 334         <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> == <strong class="reserved">null</strong> || <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[3];
<a id="L336" name="L336"></a> 336         <em class="brace">}</em>
<a id="L337" name="L337"></a> 337 
<a id="L338" name="L338"></a> 338         <em class="comment">// set the data</em>
<a id="L339" name="L339"></a> 339         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[0] = (<strong class="reserved">byte</strong>) (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &amp; 0xFF);
<a id="L340" name="L340"></a> 340         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 1) <em class="brace">{</em>
<a id="L341" name="L341"></a> 341             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[1] = (<strong class="reserved">byte</strong>) (data1 &amp; 0xFF);
<a id="L342" name="L342"></a> 342             <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 2) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343                 <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[2] = (<strong class="reserved">byte</strong>) (data2 &amp; 0xFF);
<a id="L344" name="L344"></a> 344             <em class="brace">}</em>
<a id="L345" name="L345"></a> 345         <em class="brace">}</em>
<a id="L346" name="L346"></a> 346     <em class="brace">}</em>
<a id="L347" name="L347"></a> 347 
<a id="L348" name="L348"></a> 348 
<div class="comment">
      Sets the short message parameters for a  channel message
      which takes up to two data bytes.  If the message only
      takes one data byte, the second data byte is ignored; if
      the message does not take any data bytes, both data bytes
      are ignored.
      @param command   the MIDI command represented by this message
      @param channel   the channel associated with the message
      @param data1             the first data byte
      @param data2             the second data byte
      @throws          InvalidMidiDataException if the
      status byte or all data bytes belonging to the message, do
      not specify a valid MIDI message
      @see #setMessage(int, int, int)
      @see #setMessage(int)
      @see #getCommand
      @see #getChannel
      @see #getData1
      @see #getData2</div>
<a id="L371" name="L371"></a> 371     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27743.html" title="Multiple referred from 9 places.">setMessage</a>(<strong class="reserved">int</strong> <a href="../D/13010.html" title="Multiple defined in 4 places.">command</a>, <strong class="reserved">int</strong> <a href="../D/12318.html" title="Multiple defined in 3 places.">channel</a>, <strong class="reserved">int</strong> data1, <strong class="reserved">int</strong> data2) <strong class="reserved">throws</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a> <em class="brace">{</em>
<a id="L372" name="L372"></a> 372         <em class="comment">// check for valid values</em>
<a id="L373" name="L373"></a> 373         <strong class="reserved">if</strong> (<a href="../D/13010.html" title="Multiple defined in 4 places.">command</a> &gt;= 0xF0 || <a href="../D/13010.html" title="Multiple defined in 4 places.">command</a> &lt; 0x80) <em class="brace">{</em>
<a id="L374" name="L374"></a> 374             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a>("command out of range: 0x" + <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(<a href="../D/13010.html" title="Multiple defined in 4 places.">command</a>));
<a id="L375" name="L375"></a> 375         <em class="brace">}</em>
<a id="L376" name="L376"></a> 376         <strong class="reserved">if</strong> ((<a href="../D/12318.html" title="Multiple defined in 3 places.">channel</a> &amp; 0xFFFFFFF0) != 0) <em class="brace">{</em> <em class="comment">// &lt;=&gt; (channel&lt;0 || channel&gt;15)</em>
<a id="L377" name="L377"></a> 377             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a>("channel out of range: " + <a href="../D/12318.html" title="Multiple defined in 3 places.">channel</a>);
<a id="L378" name="L378"></a> 378         <em class="brace">}</em>
<a id="L379" name="L379"></a> 379         <a href="../D/33234.html" title="Multiple defined in 12 places.">setMessage</a>((<a href="../D/13010.html" title="Multiple defined in 4 places.">command</a> &amp; 0xF0) | (<a href="../D/12318.html" title="Multiple defined in 3 places.">channel</a> &amp; 0x0F), data1, data2);
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 
<a id="L382" name="L382"></a> 382 
<div class="comment">
      Obtains the MIDI channel associated with this event.  This method
      assumes that the event is a MIDI channel message; if not, the return
      value will not be meaningful.
      @return MIDI channel associated with the message.
      @see #setMessage(int, int, int, int)</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15494.html" title="Multiple referred from 11 places.">getChannel</a>() <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <em class="comment">// this returns 0 if an invalid message is set</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">return</strong> (<a href="../D/22739.html" title="Multiple defined in 8 places.">getStatus</a>() &amp; 0x0F);
<a id="L393" name="L393"></a> 393     <em class="brace">}</em>
<a id="L394" name="L394"></a> 394 
<a id="L395" name="L395"></a> 395 
<div class="comment">
      Obtains the MIDI command associated with this event.  This method
      assumes that the event is a MIDI channel message; if not, the return
      value will not be meaningful.
      @return the MIDI command associated with this event
      @see #setMessage(int, int, int, int)</div>
<a id="L403" name="L403"></a> 403     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getCommand() <em class="brace">{</em>
<a id="L404" name="L404"></a> 404         <em class="comment">// this returns 0 if an invalid message is set</em>
<a id="L405" name="L405"></a> 405         <strong class="reserved">return</strong> (<a href="../D/22739.html" title="Multiple defined in 8 places.">getStatus</a>() &amp; 0xF0);
<a id="L406" name="L406"></a> 406     <em class="brace">}</em>
<a id="L407" name="L407"></a> 407 
<a id="L408" name="L408"></a> 408 
<div class="comment">
      Obtains the first data byte in the message.
      @return the value of the <code>data1</code> field
      @see #setMessage(int, int, int)</div>
<a id="L414" name="L414"></a> 414     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getData1() <em class="brace">{</em>
<a id="L415" name="L415"></a> 415         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 1) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">return</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[1] &amp; 0xFF);
<a id="L417" name="L417"></a> 417         <em class="brace">}</em>
<a id="L418" name="L418"></a> 418         <strong class="reserved">return</strong> 0;
<a id="L419" name="L419"></a> 419     <em class="brace">}</em>
<a id="L420" name="L420"></a> 420 
<a id="L421" name="L421"></a> 421 
<div class="comment">
      Obtains the second data byte in the message.
      @return the value of the <code>data2</code> field
      @see #setMessage(int, int, int)</div>
<a id="L427" name="L427"></a> 427     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/5017.html#L1279" title="Referred from 1279 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegularExpression.java.">getData2</a>() <em class="brace">{</em>
<a id="L428" name="L428"></a> 428         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 2) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429             <strong class="reserved">return</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[2] &amp; 0xFF);
<a id="L430" name="L430"></a> 430         <em class="brace">}</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">return</strong> 0;
<a id="L432" name="L432"></a> 432     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<a id="L434" name="L434"></a> 434 
<div class="comment">
      Creates a new object of the same class and with the same contents
      as this object.
      @return a clone of this instance.</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L441" name="L441"></a> 441         <strong class="reserved">byte</strong>[] newData = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L442" name="L442"></a> 442         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, 0, newData, 0, newData.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L443" name="L443"></a> 443 
<a id="L444" name="L444"></a> 444         <a href="../S/4426.html#L55" title="Defined at 55 in src/javax/sound/midi/ShortMessage.java.">ShortMessage</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <strong class="reserved">new</strong> <a href="../S/4426.html#L55" title="Defined at 55 in src/javax/sound/midi/ShortMessage.java.">ShortMessage</a>(newData);
<a id="L445" name="L445"></a> 445         <strong class="reserved">return</strong> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>;
<a id="L446" name="L446"></a> 446     <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<a id="L448" name="L448"></a> 448 
<div class="comment">
      Retrieves the number of data bytes associated with a particular
      status byte value.
      @param status status byte value, which must represent a short MIDI message
      @return data length in bytes (0, 1, or 2)
      @throws InvalidMidiDataException if the
      <code>status</code> argument does not represent the status byte for any
      short message</div>
<a id="L458" name="L458"></a> 458     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/15951.html" title="Multiple referred from 3 places.">getDataLength</a>(<strong class="reserved">int</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) <strong class="reserved">throws</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a> <em class="brace">{</em>
<a id="L459" name="L459"></a> 459         <em class="comment">// system common and system real-time messages</em>
<a id="L460" name="L460"></a> 460         <strong class="reserved">switch</strong>(<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">case</strong> 0xF6:                      <em class="comment">// Tune Request</em>
<a id="L462" name="L462"></a> 462         <strong class="reserved">case</strong> 0xF7:                      <em class="comment">// EOX</em>
<a id="L463" name="L463"></a> 463             <em class="comment">// System real-time messages</em>
<a id="L464" name="L464"></a> 464         <strong class="reserved">case</strong> 0xF8:                      <em class="comment">// Timing Clock</em>
<a id="L465" name="L465"></a> 465         <strong class="reserved">case</strong> 0xF9:                      <em class="comment">// Undefined</em>
<a id="L466" name="L466"></a> 466         <strong class="reserved">case</strong> 0xFA:                      <em class="comment">// Start</em>
<a id="L467" name="L467"></a> 467         <strong class="reserved">case</strong> 0xFB:                      <em class="comment">// Continue</em>
<a id="L468" name="L468"></a> 468         <strong class="reserved">case</strong> 0xFC:                      <em class="comment">// Stop</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">case</strong> 0xFD:                      <em class="comment">// Undefined</em>
<a id="L470" name="L470"></a> 470         <strong class="reserved">case</strong> 0xFE:                      <em class="comment">// Active Sensing</em>
<a id="L471" name="L471"></a> 471         <strong class="reserved">case</strong> 0xFF:                      <em class="comment">// System Reset</em>
<a id="L472" name="L472"></a> 472             <strong class="reserved">return</strong> 0;
<a id="L473" name="L473"></a> 473         <strong class="reserved">case</strong> 0xF1:                      <em class="comment">// MTC Quarter Frame</em>
<a id="L474" name="L474"></a> 474         <strong class="reserved">case</strong> 0xF3:                      <em class="comment">// Song Select</em>
<a id="L475" name="L475"></a> 475             <strong class="reserved">return</strong> 1;
<a id="L476" name="L476"></a> 476         <strong class="reserved">case</strong> 0xF2:                      <em class="comment">// Song Position Pointer</em>
<a id="L477" name="L477"></a> 477             <strong class="reserved">return</strong> 2;
<a id="L478" name="L478"></a> 478         <strong class="reserved">default</strong>:
<a id="L479" name="L479"></a> 479         <em class="brace">}</em>
<a id="L480" name="L480"></a> 480 
<a id="L481" name="L481"></a> 481         <em class="comment">// channel voice and mode messages</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">switch</strong>(<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a> &amp; 0xF0) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483         <strong class="reserved">case</strong> 0x80:
<a id="L484" name="L484"></a> 484         <strong class="reserved">case</strong> 0x90:
<a id="L485" name="L485"></a> 485         <strong class="reserved">case</strong> 0xA0:
<a id="L486" name="L486"></a> 486         <strong class="reserved">case</strong> 0xB0:
<a id="L487" name="L487"></a> 487         <strong class="reserved">case</strong> 0xE0:
<a id="L488" name="L488"></a> 488             <strong class="reserved">return</strong> 2;
<a id="L489" name="L489"></a> 489         <strong class="reserved">case</strong> 0xC0:
<a id="L490" name="L490"></a> 490         <strong class="reserved">case</strong> 0xD0:
<a id="L491" name="L491"></a> 491             <strong class="reserved">return</strong> 1;
<a id="L492" name="L492"></a> 492         <strong class="reserved">default</strong>:
<a id="L493" name="L493"></a> 493             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4406.html#L41" title="Defined at 41 in src/javax/sound/midi/InvalidMidiDataException.java.">InvalidMidiDataException</a>("Invalid status byte: " + <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>);
<a id="L494" name="L494"></a> 494         <em class="brace">}</em>
<a id="L495" name="L495"></a> 495     <em class="brace">}</em>
<a id="L496" name="L496"></a> 496 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L291">[^]</a><a href="#L458">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>