<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/KeyStoreSpi.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L74">[^]</a><a href="#L577">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L74" title="Defined at 74.">engineGetKey</a></li>
<li><a href="#L90" title="Defined at 90.">engineGetCertificateChain</a></li>
<li><a href="#L113" title="Defined at 113.">engineGetCertificate</a></li>
<li><a href="#L123" title="Defined at 123.">engineGetCreationDate</a></li>
<li><a href="#L147" title="Defined at 147.">engineSetKeyEntry</a></li>
<li><a href="#L173" title="Defined at 173.">engineSetKeyEntry</a></li>
<li><a href="#L194" title="Defined at 194.">engineSetCertificateEntry</a></li>
<li><a href="#L205" title="Defined at 205.">engineDeleteEntry</a></li>
<li><a href="#L213" title="Defined at 213.">engineAliases</a></li>
<li><a href="#L222" title="Defined at 222.">engineContainsAlias</a></li>
<li><a href="#L229" title="Defined at 229.">engineSize</a></li>
<li><a href="#L242" title="Defined at 242.">engineIsKeyEntry</a></li>
<li><a href="#L255" title="Defined at 255.">engineIsCertificateEntry</a></li>
<li><a href="#L280" title="Defined at 280.">engineGetCertificateAlias</a></li>
<li><a href="#L295" title="Defined at 295.">engineStore</a></li>
<li><a href="#L317" title="Defined at 317.">engineStore</a></li>
<li><a href="#L349" title="Defined at 349.">engineLoad</a></li>
<li><a href="#L379" title="Defined at 379.">engineLoad</a></li>
<li><a href="#L445" title="Defined at 445.">engineGetEntry</a></li>
<li><a href="#L504" title="Defined at 504.">engineSetEntry</a></li>
<li><a href="#L577" title="Defined at 577.">engineEntryInstanceOf</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.*;
<a id="L30" name="L30"></a>  30 
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.KeyStore.*;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.cert.Certificate;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.cert.CertificateException;
<a id="L34" name="L34"></a>  34 
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.crypto.SecretKey;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> javax.security.auth.callback.*;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  This class defines the <i>Service Provider Interface</i> (<b>SPI</b>)
  for the <code>KeyStore</code> class.
  All the abstract methods in this class must be implemented by each
  cryptographic service provider who wishes to supply the implementation
  of a keystore for a particular keystore type.
  @author Jan Luehe
  @see KeyStore
  @since 1.2</div>
<a id="L53" name="L53"></a>  53 
<a id="L54" name="L54"></a>  54 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/4396.html" title="Multiple referred from 5 places.">KeyStoreSpi</a> <em class="brace">{</em>
<a id="L55" name="L55"></a>  55 
<div class="comment">
      Returns the key associated with the given alias, using the given
      password to recover it.  The key must have been associated with
      the alias by a call to <code>setKeyEntry</code>,
      or by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code> or <code>SecretKeyEntry</code>.
      @param alias the alias name
      @param password the password for recovering the key
      @return the requested key, or null if the given alias does not exist
      or does not identify a key-related entry.
      @exception NoSuchAlgorithmException if the algorithm for recovering the
      key cannot be found
      @exception UnrecoverableKeyException if the key cannot be recovered
      (e.g., the given password is wrong).</div>
<a id="L74" name="L74"></a>  74     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../R/13845.html" title="Multiple referred from 2 places.">engineGetKey</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <strong class="reserved">char</strong>[] password)
<a id="L75" name="L75"></a>  75         <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../S/1210.html#L35" title="Defined at 35 in src/java/security/UnrecoverableKeyException.java.">UnrecoverableKeyException</a>;
<a id="L76" name="L76"></a>  76 
<div class="comment">
      Returns the certificate chain associated with the given alias.
      The certificate chain must have been associated with the alias
      by a call to <code>setKeyEntry</code>,
      or by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code>.
      @param alias the alias name
      @return the certificate chain (ordered with the user's certificate first
      and the root certificate authority last), or null if the given alias
      does not exist or does not contain a certificate chain</div>
<a id="L90" name="L90"></a>  90     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] <a href="../R/13835.html" title="Multiple referred from 2 places.">engineGetCertificateChain</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias);
<a id="L91" name="L91"></a>  91 
<div class="comment">
      Returns the certificate associated with the given alias.
      <p> If the given alias name identifies an entry
      created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>,
      then the trusted certificate contained in that entry is returned.
      </p><p> If the given alias name identifies an entry
      created by a call to <code>setKeyEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code>,
      then the first element of the certificate chain in that entry
      (if a chain exists) is returned.
      @param alias the alias name
      @return the certificate, or null if the given alias does not exist or
      does not contain a certificate.</p></div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> <a href="../R/13833.html" title="Multiple referred from 4 places.">engineGetCertificate</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias);
<a id="L114" name="L114"></a> 114 
<div class="comment">
      Returns the creation date of the entry identified by the given alias.
      @param alias the alias name
      @return the creation date of this entry, or null if the given alias does
      not exist</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> <a href="../S/1368.html#L1101" title="Referred from 1101 in src/java/security/KeyStore.java.">engineGetCreationDate</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias);
<a id="L124" name="L124"></a> 124 
<div class="comment">
      Assigns the given key to the given alias, protecting it with the given
      password.
      <p>If the given key is of type <code>java.security.PrivateKey</code>,
      it must be accompanied by a certificate chain certifying the
      corresponding public key.
      </p><p>If the given alias already exists, the keystore information
      associated with it is overridden by the given key (and possibly
      certificate chain).
      @param alias the alias name
      @param key the key to be associated with the alias
      @param password the password to protect the key
      @param chain the certificate chain for the corresponding public
      key (only required if the given key is of type
      <code>java.security.PrivateKey</code>).
      @exception KeyStoreException if the given key cannot be protected, or
      this operation fails for some other reason</p></div>
<a id="L147" name="L147"></a> 147     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/13879.html" title="Multiple referred from 4 places.">engineSetKeyEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L148" name="L148"></a> 148                                            <strong class="reserved">char</strong>[] password,
<a id="L149" name="L149"></a> 149                                            <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain)
<a id="L150" name="L150"></a> 150         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>;
<a id="L151" name="L151"></a> 151 
<div class="comment">
      Assigns the given key (that has already been protected) to the given
      alias.
      <p>If the protected key is of type
      <code>java.security.PrivateKey</code>,
      it must be accompanied by a certificate chain certifying the
      corresponding public key.
      </p><p>If the given alias already exists, the keystore information
      associated with it is overridden by the given key (and possibly
      certificate chain).
      @param alias the alias name
      @param key the key (in protected format) to be associated with the alias
      @param chain the certificate chain for the corresponding public
      key (only useful if the protected key is of type
      <code>java.security.PrivateKey</code>).
      @exception KeyStoreException if this operation fails.</p></div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/13879.html" title="Multiple referred from 4 places.">engineSetKeyEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <strong class="reserved">byte</strong>[] <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L174" name="L174"></a> 174                                            <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain)
<a id="L175" name="L175"></a> 175         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>;
<a id="L176" name="L176"></a> 176 
<div class="comment">
      Assigns the given certificate to the given alias.
      <p> If the given alias identifies an existing entry
      created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>,
      the trusted certificate in the existing entry
      is overridden by the given certificate.
      @param alias the alias name
      @param cert the certificate
      @exception KeyStoreException if the given alias already exists and does
      not identify an entry containing a trusted certificate,
      or this operation fails for some other reason.</p></div>
<a id="L194" name="L194"></a> 194     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/13876.html" title="Multiple referred from 2 places.">engineSetCertificateEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias,
<a id="L195" name="L195"></a> 195                                                    <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> cert)
<a id="L196" name="L196"></a> 196         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>;
<a id="L197" name="L197"></a> 197 
<div class="comment">
      Deletes the entry identified by the given alias from this keystore.
      @param alias the alias name
      @exception KeyStoreException if the entry cannot be removed.</div>
<a id="L205" name="L205"></a> 205     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../S/1368.html#L1218" title="Referred from 1218 in src/java/security/KeyStore.java.">engineDeleteEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L206" name="L206"></a> 206         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>;
<a id="L207" name="L207"></a> 207 
<div class="comment">
      Lists all the alias names of this keystore.
      @return enumeration of the alias names</div>
<a id="L213" name="L213"></a> 213     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/1368.html#L1235" title="Referred from 1235 in src/java/security/KeyStore.java.">engineAliases</a>();
<a id="L214" name="L214"></a> 214 
<div class="comment">
      Checks if the given alias exists in this keystore.
      @param alias the alias name
      @return true if the alias exists, false otherwise</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/13817.html" title="Multiple referred from 2 places.">engineContainsAlias</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias);
<a id="L223" name="L223"></a> 223 
<div class="comment">
      Retrieves the number of entries in this keystore.
      @return the number of entries in this keystore</div>
<a id="L229" name="L229"></a> 229     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../S/1368.html#L1271" title="Referred from 1271 in src/java/security/KeyStore.java.">engineSize</a>();
<a id="L230" name="L230"></a> 230 
<div class="comment">
      Returns true if the entry identified by the given alias
      was created by a call to <code>setKeyEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code> or a <code>SecretKeyEntry</code>.
      @param alias the alias for the keystore entry to be checked
      @return true if the entry identified by the given alias is a
      key-related, false otherwise.</div>
<a id="L242" name="L242"></a> 242     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/13860.html" title="Multiple referred from 4 places.">engineIsKeyEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias);
<a id="L243" name="L243"></a> 243 
<div class="comment">
      Returns true if the entry identified by the given alias
      was created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>.
      @param alias the alias for the keystore entry to be checked
      @return true if the entry identified by the given alias contains a
      trusted certificate, false otherwise.</div>
<a id="L255" name="L255"></a> 255     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/13859.html" title="Multiple referred from 4 places.">engineIsCertificateEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias);
<a id="L256" name="L256"></a> 256 
<div class="comment">
      Returns the (alias) name of the first keystore entry whose certificate
      matches the given certificate.
      <p>This method attempts to match the given certificate with each
      keystore entry. If the entry being considered was
      created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>,
      then the given certificate is compared to that entry's certificate.
      </p><p> If the entry being considered was
      created by a call to <code>setKeyEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code>,
      then the given certificate is compared to the first
      element of that entry's certificate chain.
      @param cert the certificate to match with.
      @return the alias name of the first entry with matching certificate,
      or null if no such entry exists in this keystore.</p></div>
<a id="L280" name="L280"></a> 280     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1368.html#L1352" title="Referred from 1352 in src/java/security/KeyStore.java.">engineGetCertificateAlias</a>(<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> cert);
<a id="L281" name="L281"></a> 281 
<div class="comment">
      Stores this keystore to the given output stream, and protects its
      integrity with the given password.
      @param stream the output stream to which this keystore is written.
      @param password the password to generate the keystore integrity check
      @exception IOException if there was an I/O problem with data
      @exception NoSuchAlgorithmException if the appropriate data integrity
      algorithm could not be found
      @exception CertificateException if any of the certificates included in
      the keystore data could not be stored</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/13885.html" title="Multiple referred from 2 places.">engineStore</a>(<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>, <strong class="reserved">char</strong>[] password)
<a id="L296" name="L296"></a> 296         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a>;
<a id="L297" name="L297"></a> 297 
<div class="comment">
      Stores this keystore using the given
      <code>KeyStore.LoadStoreParmeter</code>.
      @param param the <code>KeyStore.LoadStoreParmeter</code>
               that specifies how to store the keystore,
               which may be <code>null</code>
      @exception IllegalArgumentException if the given
               <code>KeyStore.LoadStoreParmeter</code>
               input is not recognized
      @exception IOException if there was an I/O problem with data
      @exception NoSuchAlgorithmException if the appropriate data integrity
               algorithm could not be found
      @exception CertificateException if any of the certificates included in
               the keystore data could not be stored
      @since 1.5</div>
<a id="L317" name="L317"></a> 317     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13885.html" title="Multiple referred from 2 places.">engineStore</a>(<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L218" title="Defined at 218 in src/java/security/KeyStore.java.">LoadStoreParameter</a> param)
<a id="L318" name="L318"></a> 318                 <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L319" name="L319"></a> 319                 <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a> <em class="brace">{</em>
<a id="L320" name="L320"></a> 320         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>();
<a id="L321" name="L321"></a> 321     <em class="brace">}</em>
<a id="L322" name="L322"></a> 322 
<div class="comment">
      Loads the keystore from the given input stream.
      <p>A password may be given to unlock the keystore
      (e.g. the keystore resides on a hardware token device),
      or to check the integrity of the keystore data.
      If a password is not given for integrity checking,
      then integrity checking is not performed.
      @param stream the input stream from which the keystore is loaded,
      or <code>null</code>
      @param password the password used to check the integrity of
      the keystore, the password used to unlock the keystore,
      or <code>null</code>
      @exception IOException if there is an I/O or format problem with the
      keystore data, if a password is required but not given,
      or if the given password was incorrect. If the error is due to a
      wrong password, the {@link Throwable#getCause cause} of the
      <code>IOException</code> should be an
      <code>UnrecoverableKeyException</code>
      @exception NoSuchAlgorithmException if the algorithm used to check
      the integrity of the keystore cannot be found
      @exception CertificateException if any of the certificates in the
      keystore could not be loaded</p></div>
<a id="L349" name="L349"></a> 349     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/13862.html" title="Multiple referred from 4 places.">engineLoad</a>(<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>, <strong class="reserved">char</strong>[] password)
<a id="L350" name="L350"></a> 350         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a>;
<a id="L351" name="L351"></a> 351 
<div class="comment">
      Loads the keystore using the given
      <code>KeyStore.LoadStoreParameter</code>.
      <p> Note that if this KeyStore has already been loaded, it is
      reinitialized and loaded again from the given parameter.
      @param param the <code>KeyStore.LoadStoreParameter</code>
               that specifies how to load the keystore,
               which may be <code>null</code>
      @exception IllegalArgumentException if the given
               <code>KeyStore.LoadStoreParameter</code>
               input is not recognized
      @exception IOException if there is an I/O or format problem with the
               keystore data. If the error is due to an incorrect
              <code>ProtectionParameter</code> (e.g. wrong password)
              the {@link Throwable#getCause cause} of the
              <code>IOException</code> should be an
              <code>UnrecoverableKeyException</code>
      @exception NoSuchAlgorithmException if the algorithm used to check
               the integrity of the keystore cannot be found
      @exception CertificateException if any of the certificates in the
               keystore could not be loaded
      @since 1.5</p></div>
<a id="L379" name="L379"></a> 379     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13862.html" title="Multiple referred from 4 places.">engineLoad</a>(<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L218" title="Defined at 218 in src/java/security/KeyStore.java.">LoadStoreParameter</a> param)
<a id="L380" name="L380"></a> 380                 <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L381" name="L381"></a> 381                 <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a> <em class="brace">{</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <strong class="reserved">if</strong> (param == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L384" name="L384"></a> 384             <a href="../D/15551.html" title="Multiple defined in 2 places.">engineLoad</a>((<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a>)<strong class="reserved">null</strong>, (<strong class="reserved">char</strong>[])<strong class="reserved">null</strong>);
<a id="L385" name="L385"></a> 385             <strong class="reserved">return</strong>;
<a id="L386" name="L386"></a> 386         <em class="brace">}</em>
<a id="L387" name="L387"></a> 387 
<a id="L388" name="L388"></a> 388         <strong class="reserved">if</strong> (param <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L1988" title="Defined at 1988 in src/java/security/KeyStore.java.">SimpleLoadStoreParameter</a>) <em class="brace">{</em>
<a id="L389" name="L389"></a> 389             <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protection = param.<a href="../D/21748.html" title="Multiple defined in 5 places.">getProtectionParameter</a>();
<a id="L390" name="L390"></a> 390             <strong class="reserved">char</strong>[] password;
<a id="L391" name="L391"></a> 391             <strong class="reserved">if</strong> (protection <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>) <em class="brace">{</em>
<a id="L392" name="L392"></a> 392                 password = ((<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>)protection).<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>();
<a id="L393" name="L393"></a> 393             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (protection <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L380" title="Defined at 380 in src/java/security/KeyStore.java.">CallbackHandlerProtection</a>) <em class="brace">{</em>
<a id="L394" name="L394"></a> 394                 <a href="../S/2659.html#L68" title="Defined at 68 in src/javax/security/auth/callback/CallbackHandler.java.">CallbackHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> =
<a id="L395" name="L395"></a> 395                     ((<a href="../S/1368.html#L380" title="Defined at 380 in src/java/security/KeyStore.java.">CallbackHandlerProtection</a>)protection).<a href="../S/1368.html#L404" title="Defined at 404 in src/java/security/KeyStore.java.">getCallbackHandler</a>();
<a id="L396" name="L396"></a> 396                 <a href="../S/2651.html#L35" title="Defined at 35 in src/javax/security/auth/callback/PasswordCallback.java.">PasswordCallback</a> <a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a> =
<a id="L397" name="L397"></a> 397                     <strong class="reserved">new</strong> <a href="../S/2651.html#L35" title="Defined at 35 in src/javax/security/auth/callback/PasswordCallback.java.">PasswordCallback</a>("Password: ", <strong class="reserved">false</strong>);
<a id="L398" name="L398"></a> 398                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L399" name="L399"></a> 399                     <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/23942.html" title="Multiple defined in 13 places.">handle</a>(<strong class="reserved">new</strong> <a href="../D/1261.html" title="Multiple defined in 2 places.">Callback</a>[] <em class="brace">{</em><a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a><em class="brace">}</em>);
<a id="L400" name="L400"></a> 400                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2652.html#L33" title="Defined at 33 in src/javax/security/auth/callback/UnsupportedCallbackException.java.">UnsupportedCallbackException</a> e) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>
<a id="L402" name="L402"></a> 402                         ("Could not obtain password", e);
<a id="L403" name="L403"></a> 403                 <em class="brace">}</em>
<a id="L404" name="L404"></a> 404                 password = <a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a>.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>();
<a id="L405" name="L405"></a> 405                 <a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a>.<a href="../S/2651.html#L136" title="Defined at 136 in src/javax/security/auth/callback/PasswordCallback.java.">clearPassword</a>();
<a id="L406" name="L406"></a> 406                 <strong class="reserved">if</strong> (password == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>
<a id="L408" name="L408"></a> 408                         ("No password provided");
<a id="L409" name="L409"></a> 409                 <em class="brace">}</em>
<a id="L410" name="L410"></a> 410             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>("ProtectionParameter must"
<a id="L412" name="L412"></a> 412                     + " be PasswordProtection or CallbackHandlerProtection");
<a id="L413" name="L413"></a> 413             <em class="brace">}</em>
<a id="L414" name="L414"></a> 414             <a href="../D/15551.html" title="Multiple defined in 2 places.">engineLoad</a>(<strong class="reserved">null</strong>, password);
<a id="L415" name="L415"></a> 415             <strong class="reserved">return</strong>;
<a id="L416" name="L416"></a> 416         <em class="brace">}</em>
<a id="L417" name="L417"></a> 417 
<a id="L418" name="L418"></a> 418         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>();
<a id="L419" name="L419"></a> 419     <em class="brace">}</em>
<a id="L420" name="L420"></a> 420 
<div class="comment">
      Gets a <code>KeyStore.Entry</code> for the specified alias
      with the specified protection parameter.
      @param alias get the <code>KeyStore.Entry</code> for this alias
      @param protParam the <code>ProtectionParameter</code>
               used to protect the <code>Entry</code>,
               which may be <code>null</code>
      @return the <code>KeyStore.Entry</code> for the specified alias,
               or <code>null</code> if there is no such entry
      @exception KeyStoreException if the operation failed
      @exception NoSuchAlgorithmException if the algorithm for recovering the
               entry cannot be found
      @exception UnrecoverableEntryException if the specified
               <code>protParam</code> were insufficient or invalid
      @exception UnrecoverableKeyException if the entry is a
               <code>PrivateKeyEntry</code> or <code>SecretKeyEntry</code>
               and the specified <code>protParam</code> does not contain
               the information needed to recover the key (e.g. wrong password)
      @since 1.5</div>
<a id="L445" name="L445"></a> 445     <strong class="reserved">public</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a> <a href="../S/1368.html#L1521" title="Referred from 1521 in src/java/security/KeyStore.java.">engineGetEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias,
<a id="L446" name="L446"></a> 446                         <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protParam)
<a id="L447" name="L447"></a> 447                 <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L448" name="L448"></a> 448                 <a href="../S/1332.html#L35" title="Defined at 35 in src/java/security/UnrecoverableEntryException.java.">UnrecoverableEntryException</a> <em class="brace">{</em>
<a id="L449" name="L449"></a> 449 
<a id="L450" name="L450"></a> 450         <strong class="reserved">if</strong> (!<a href="../S/1317.html#L222" title="Defined at 222 in src/java/security/KeyStoreSpi.java.">engineContainsAlias</a>(alias)) <em class="brace">{</em>
<a id="L451" name="L451"></a> 451             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L452" name="L452"></a> 452         <em class="brace">}</em>
<a id="L453" name="L453"></a> 453 
<a id="L454" name="L454"></a> 454         <strong class="reserved">if</strong> (protParam == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             <strong class="reserved">if</strong> (<a href="../S/1317.html#L255" title="Defined at 255 in src/java/security/KeyStoreSpi.java.">engineIsCertificateEntry</a>(alias)) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L720" title="Defined at 720 in src/java/security/KeyStore.java.">TrustedCertificateEntry</a>
<a id="L457" name="L457"></a> 457                                 (<a href="../S/1317.html#L113" title="Defined at 113 in src/java/security/KeyStoreSpi.java.">engineGetCertificate</a>(alias));
<a id="L458" name="L458"></a> 458             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L459" name="L459"></a> 459                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1210.html#L35" title="Defined at 35 in src/java/security/UnrecoverableKeyException.java.">UnrecoverableKeyException</a>
<a id="L460" name="L460"></a> 460                         ("requested entry requires a password");
<a id="L461" name="L461"></a> 461             <em class="brace">}</em>
<a id="L462" name="L462"></a> 462         <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<a id="L464" name="L464"></a> 464         <strong class="reserved">if</strong> (protParam <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465             <strong class="reserved">if</strong> (<a href="../S/1317.html#L255" title="Defined at 255 in src/java/security/KeyStoreSpi.java.">engineIsCertificateEntry</a>(alias)) <em class="brace">{</em>
<a id="L466" name="L466"></a> 466                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>
<a id="L467" name="L467"></a> 467                     ("trusted certificate entries are not password-protected");
<a id="L468" name="L468"></a> 468             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/1317.html#L242" title="Defined at 242 in src/java/security/KeyStoreSpi.java.">engineIsKeyEntry</a>(alias)) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469                 <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a> pp =
<a id="L470" name="L470"></a> 470                         (<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>)protParam;
<a id="L471" name="L471"></a> 471                 <strong class="reserved">char</strong>[] password = pp.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>();
<a id="L472" name="L472"></a> 472 
<a id="L473" name="L473"></a> 473                 <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../S/1317.html#L74" title="Defined at 74 in src/java/security/KeyStoreSpi.java.">engineGetKey</a>(alias, password);
<a id="L474" name="L474"></a> 474                 <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> <strong class="reserved">instanceof</strong> <a href="../S/1256.html#L59" title="Defined at 59 in src/java/security/PrivateKey.java.">PrivateKey</a>) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475                     <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain = <a href="../S/1317.html#L90" title="Defined at 90 in src/java/security/KeyStoreSpi.java.">engineGetCertificateChain</a>(alias);
<a id="L476" name="L476"></a> 476                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L460" title="Defined at 460 in src/java/security/KeyStore.java.">PrivateKeyEntry</a>((<a href="../S/1256.html#L59" title="Defined at 59 in src/java/security/PrivateKey.java.">PrivateKey</a>)<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, chain);
<a id="L477" name="L477"></a> 477                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> <strong class="reserved">instanceof</strong> SecretKey) <em class="brace">{</em>
<a id="L478" name="L478"></a> 478                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L636" title="Defined at 636 in src/java/security/KeyStore.java.">SecretKeyEntry</a>((SecretKey)<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L479" name="L479"></a> 479                 <em class="brace">}</em>
<a id="L480" name="L480"></a> 480             <em class="brace">}</em>
<a id="L481" name="L481"></a> 481         <em class="brace">}</em>
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>();
<a id="L484" name="L484"></a> 484     <em class="brace">}</em>
<a id="L485" name="L485"></a> 485 
<div class="comment">
      Saves a <code>KeyStore.Entry</code> under the specified alias.
      The specified protection parameter is used to protect the
      <code>Entry</code>.
      <p> If an entry already exists for the specified alias,
      it is overridden.
      @param alias save the <code>KeyStore.Entry</code> under this alias
      @param entry the <code>Entry</code> to save
      @param protParam the <code>ProtectionParameter</code>
               used to protect the <code>Entry</code>,
               which may be <code>null</code>
      @exception KeyStoreException if this operation fails
      @since 1.5</p></div>
<a id="L504" name="L504"></a> 504     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/1368.html#L1557" title="Referred from 1557 in src/java/security/KeyStore.java.">engineSetEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a> entry,
<a id="L505" name="L505"></a> 505                         <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protParam)
<a id="L506" name="L506"></a> 506                 <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a> <em class="brace">{</em>
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508         <em class="comment">// get password</em>
<a id="L509" name="L509"></a> 509         <strong class="reserved">if</strong> (protParam != <strong class="reserved">null</strong> &amp;&amp;
<a id="L510" name="L510"></a> 510             !(protParam <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>)) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("unsupported protection parameter");
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513         <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a> pProtect = <strong class="reserved">null</strong>;
<a id="L514" name="L514"></a> 514         <strong class="reserved">if</strong> (protParam != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515             pProtect = (<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>)protParam;
<a id="L516" name="L516"></a> 516         <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<a id="L518" name="L518"></a> 518         <em class="comment">// set entry</em>
<a id="L519" name="L519"></a> 519         <strong class="reserved">if</strong> (entry <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L720" title="Defined at 720 in src/java/security/KeyStore.java.">TrustedCertificateEntry</a>) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520             <strong class="reserved">if</strong> (protParam != <strong class="reserved">null</strong> &amp;&amp; pProtect.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521                 <em class="comment">// pre-1.5 style setCertificateEntry did not allow password</em>
<a id="L522" name="L522"></a> 522                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L523" name="L523"></a> 523                     ("trusted certificate entries are not password-protected");
<a id="L524" name="L524"></a> 524             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L525" name="L525"></a> 525                 <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L720" title="Defined at 720 in src/java/security/KeyStore.java.">TrustedCertificateEntry</a> tce =
<a id="L526" name="L526"></a> 526                         (<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L720" title="Defined at 720 in src/java/security/KeyStore.java.">TrustedCertificateEntry</a>)entry;
<a id="L527" name="L527"></a> 527                 <a href="../S/1317.html#L194" title="Defined at 194 in src/java/security/KeyStoreSpi.java.">engineSetCertificateEntry</a>(alias, tce.<a href="../S/1368.html#L772" title="Defined at 772 in src/java/security/KeyStore.java.">getTrustedCertificate</a>());
<a id="L528" name="L528"></a> 528                 <strong class="reserved">return</strong>;
<a id="L529" name="L529"></a> 529             <em class="brace">}</em>
<a id="L530" name="L530"></a> 530         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entry <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L460" title="Defined at 460 in src/java/security/KeyStore.java.">PrivateKeyEntry</a>) <em class="brace">{</em>
<a id="L531" name="L531"></a> 531             <strong class="reserved">if</strong> (pProtect == <strong class="reserved">null</strong> || pProtect.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532                 <em class="comment">// pre-1.5 style setKeyEntry required password</em>
<a id="L533" name="L533"></a> 533                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L534" name="L534"></a> 534                     ("non-null password required to create PrivateKeyEntry");
<a id="L535" name="L535"></a> 535             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L536" name="L536"></a> 536                 <a href="../D/15568.html" title="Multiple defined in 2 places.">engineSetKeyEntry</a>
<a id="L537" name="L537"></a> 537                     (alias,
<a id="L538" name="L538"></a> 538                     ((<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L460" title="Defined at 460 in src/java/security/KeyStore.java.">PrivateKeyEntry</a>)entry).<a href="../D/21684.html" title="Multiple defined in 4 places.">getPrivateKey</a>(),
<a id="L539" name="L539"></a> 539                     pProtect.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>(),
<a id="L540" name="L540"></a> 540                     ((<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L460" title="Defined at 460 in src/java/security/KeyStore.java.">PrivateKeyEntry</a>)entry).<a href="../D/17555.html" title="Multiple defined in 2 places.">getCertificateChain</a>());
<a id="L541" name="L541"></a> 541                 <strong class="reserved">return</strong>;
<a id="L542" name="L542"></a> 542             <em class="brace">}</em>
<a id="L543" name="L543"></a> 543         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entry <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L636" title="Defined at 636 in src/java/security/KeyStore.java.">SecretKeyEntry</a>) <em class="brace">{</em>
<a id="L544" name="L544"></a> 544             <strong class="reserved">if</strong> (pProtect == <strong class="reserved">null</strong> || pProtect.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L545" name="L545"></a> 545                 <em class="comment">// pre-1.5 style setKeyEntry required password</em>
<a id="L546" name="L546"></a> 546                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L547" name="L547"></a> 547                     ("non-null password required to create SecretKeyEntry");
<a id="L548" name="L548"></a> 548             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L549" name="L549"></a> 549                 <a href="../D/15568.html" title="Multiple defined in 2 places.">engineSetKeyEntry</a>
<a id="L550" name="L550"></a> 550                     (alias,
<a id="L551" name="L551"></a> 551                     ((<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L636" title="Defined at 636 in src/java/security/KeyStore.java.">SecretKeyEntry</a>)entry).<a href="../D/22314.html" title="Multiple defined in 2 places.">getSecretKey</a>(),
<a id="L552" name="L552"></a> 552                     pProtect.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>(),
<a id="L553" name="L553"></a> 553                     (<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[])<strong class="reserved">null</strong>);
<a id="L554" name="L554"></a> 554                 <strong class="reserved">return</strong>;
<a id="L555" name="L555"></a> 555             <em class="brace">}</em>
<a id="L556" name="L556"></a> 556         <em class="brace">}</em>
<a id="L557" name="L557"></a> 557 
<a id="L558" name="L558"></a> 558         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L559" name="L559"></a> 559                 ("unsupported entry type: " + entry.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L560" name="L560"></a> 560     <em class="brace">}</em>
<a id="L561" name="L561"></a> 561 
<div class="comment">
      Determines if the keystore <code>Entry</code> for the specified
      <code>alias</code> is an instance or subclass of the specified
      <code>entryClass</code>.
      @param alias the alias name
      @param entryClass the entry class
      @return true if the keystore <code>Entry</code> for the specified
               <code>alias</code> is an instance or subclass of the
               specified <code>entryClass</code>, false otherwise
      @since 1.5</div>
<a id="L576" name="L576"></a> 576     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong>
<a id="L577" name="L577"></a> 577         <a href="../S/1368.html#L1592" title="Referred from 1592 in src/java/security/KeyStore.java.">engineEntryInstanceOf</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias,
<a id="L578" name="L578"></a> 578                               <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&gt; entryClass)
<a id="L579" name="L579"></a> 579     <em class="brace">{</em>
<a id="L580" name="L580"></a> 580         <strong class="reserved">if</strong> (entryClass == <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L720" title="Defined at 720 in src/java/security/KeyStore.java.">TrustedCertificateEntry</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L581" name="L581"></a> 581             <strong class="reserved">return</strong> <a href="../S/1317.html#L255" title="Defined at 255 in src/java/security/KeyStoreSpi.java.">engineIsCertificateEntry</a>(alias);
<a id="L582" name="L582"></a> 582         <em class="brace">}</em>
<a id="L583" name="L583"></a> 583         <strong class="reserved">if</strong> (entryClass == <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L460" title="Defined at 460 in src/java/security/KeyStore.java.">PrivateKeyEntry</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584             <strong class="reserved">return</strong> <a href="../S/1317.html#L242" title="Defined at 242 in src/java/security/KeyStoreSpi.java.">engineIsKeyEntry</a>(alias) &amp;&amp;
<a id="L585" name="L585"></a> 585                         <a href="../S/1317.html#L113" title="Defined at 113 in src/java/security/KeyStoreSpi.java.">engineGetCertificate</a>(alias) != <strong class="reserved">null</strong>;
<a id="L586" name="L586"></a> 586         <em class="brace">}</em>
<a id="L587" name="L587"></a> 587         <strong class="reserved">if</strong> (entryClass == <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../S/1368.html#L636" title="Defined at 636 in src/java/security/KeyStore.java.">SecretKeyEntry</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L588" name="L588"></a> 588             <strong class="reserved">return</strong> <a href="../S/1317.html#L242" title="Defined at 242 in src/java/security/KeyStoreSpi.java.">engineIsKeyEntry</a>(alias) &amp;&amp;
<a id="L589" name="L589"></a> 589                         <a href="../S/1317.html#L113" title="Defined at 113 in src/java/security/KeyStoreSpi.java.">engineGetCertificate</a>(alias) == <strong class="reserved">null</strong>;
<a id="L590" name="L590"></a> 590         <em class="brace">}</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L592" name="L592"></a> 592     <em class="brace">}</em>
<a id="L593" name="L593"></a> 593 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L74">[^]</a><a href="#L577">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>