<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/time/zone/ZoneRules.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L176">[^]</a><a href="#L1024">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L176" title="Defined at 176.">of</a></li>
<li><a href="#L197" title="Defined at 197.">of</a></li>
<li><a href="#L325" title="Defined at 325.">readObject</a></li>
<li><a href="#L391" title="Defined at 391.">writeReplace</a></li>
<li><a href="#L401" title="Defined at 401.">writeExternal</a></li>
<li><a href="#L429" title="Defined at 429.">readExternal</a></li>
<li><a href="#L464" title="Defined at 464.">isFixedOffset</a></li>
<li><a href="#L479" title="Defined at 479.">getOffset</a></li>
<li><a href="#L536" title="Defined at 536.">getOffset</a></li>
<li><a href="#L586" title="Defined at 586.">getValidOffsets</a></li>
<li><a href="#L629" title="Defined at 629.">getTransition</a></li>
<li><a href="#L634" title="Defined at 634.">getOffsetInfo</a></li>
<li><a href="#L692" title="Defined at 692.">findOffsetInfo</a></li>
<li><a href="#L721" title="Defined at 721.">findTransitionArray</a></li>
<li><a href="#L750" title="Defined at 750.">getStandardOffset</a></li>
<li><a href="#L780" title="Defined at 780.">getDaylightSavings</a></li>
<li><a href="#L803" title="Defined at 803.">isDaylightSavings</a></li>
<li><a href="#L821" title="Defined at 821.">isValidOffset</a></li>
<li><a href="#L836" title="Defined at 836.">nextTransition</a></li>
<li><a href="#L883" title="Defined at 883.">previousTransition</a></li>
<li><a href="#L924" title="Defined at 924.">findYear</a></li>
<li><a href="#L943" title="Defined at 943.">getTransitions</a></li>
<li><a href="#L972" title="Defined at 972.">getTransitionRules</a></li>
<li><a href="#L989" title="Defined at 989.">equals</a></li>
<li><a href="#L1010" title="Defined at 1010.">hashCode</a></li>
<li><a href="#L1024" title="Defined at 1024.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  Copyright (c) 2009-2012, Stephen Colebourne &amp; Michael Nascimento Santos
  All rights reserved.
  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
   * Neither the name of JSR-310 nor the names of its contributors
     may be used to endorse or promote products derived from this software
     without specific prior written permission.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div>
<a id="L62" name="L62"></a>  62 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>.<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>;
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> java.io.DataInput;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> java.io.DataOutput;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> java.io.IOException;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> java.time.Duration;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> java.time.Instant;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> java.time.LocalDate;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> java.time.LocalDateTime;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> java.time.ZoneId;
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> java.time.ZoneOffset;
<a id="L76" name="L76"></a>  76 <strong class="reserved">import</strong> java.time.Year;
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L78" name="L78"></a>  78 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L79" name="L79"></a>  79 <strong class="reserved">import</strong> java.util.Collections;
<a id="L80" name="L80"></a>  80 <strong class="reserved">import</strong> java.util.List;
<a id="L81" name="L81"></a>  81 <strong class="reserved">import</strong> java.util.Objects;
<a id="L82" name="L82"></a>  82 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L83" name="L83"></a>  83 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentMap;
<a id="L84" name="L84"></a>  84 
<div class="comment">
  The rules defining how the zone offset varies for a single time-zone.
  <p>
  The rules model all the historic and future transitions for a time-zone.
  <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> is used for known transitions, typically historic.
  <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a> is used for future transitions that are based
  on the result of an algorithm.
  </p><p>
  The rules are loaded via {@link ZoneRulesProvider} using a {@link ZoneId}.
  The same rules may be shared internally between multiple zone IDs.
  </p><p>
  Serializing an instance of <code>ZoneRules</code> will store the entire set of rules.
  It does not store the zone ID as it is not part of the state of this object.
  </p><p>
  A rule implementation may or may not store full information about historic
  and future transitions, and the information stored is only as accurate as
  that supplied to the implementation by the rules provider.
  Applications should treat the data provided as representing the best information
  available to the implementation of this rule.
  @implSpec
  This class is immutable and thread-safe.
  @since 1.8</p></div>
<a id="L110" name="L110"></a> 110 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/9350.html" title="Multiple referred from 46 places.">ZoneRules</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L111" name="L111"></a> 111 
<div class="comment">
      Serialization version.</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 3044319355680032515L;
<div class="comment">
      The last year to have its transitions cached.</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> LAST_CACHED_YEAR = 2100;
<a id="L120" name="L120"></a> 120 
<div class="comment">
      The transitions between standard offsets (epoch seconds), sorted.</div>
<a id="L124" name="L124"></a> 124     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong>[] standardTransitions;
<div class="comment">
      The standard offsets.</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[] standardOffsets;
<div class="comment">
      The transitions between instants (epoch seconds), sorted.</div>
<a id="L132" name="L132"></a> 132     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong>[] savingsInstantTransitions;
<div class="comment">
      The transitions between local date-times, sorted.
      This is a paired array, where the first entry is the start of the transition
      and the second entry is the end of the transition.</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>[] savingsLocalTransitions;
<div class="comment">
      The wall offsets.</div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[] wallOffsets;
<div class="comment">
      The last rule.</div>
<a id="L146" name="L146"></a> 146     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[] lastRules;
<div class="comment">
      The map of recent transitions.</div>
<a id="L150" name="L150"></a> 150     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[]&gt; lastRulesCache =
<a id="L151" name="L151"></a> 151                 <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[]&gt;();
<div class="comment">
      The zero-length long array.</div>
<a id="L155" name="L155"></a> 155     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong>[] EMPTY_LONG_ARRAY = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[0];
<div class="comment">
      The zero-length lastrules array.</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[] EMPTY_LASTRULES =
<a id="L160" name="L160"></a> 160         <strong class="reserved">new</strong> <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[0];
<div class="comment">
      The zero-length ldt array.</div>
<a id="L164" name="L164"></a> 164     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>[] EMPTY_LDT_ARRAY = <strong class="reserved">new</strong> <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>[0];
<a id="L165" name="L165"></a> 165 
<div class="comment">
      Obtains an instance of a ZoneRules.
      @param baseStandardOffset  the standard offset to use before legal rules were set, not null
      @param baseWallOffset  the wall offset to use before legal rules were set, not null
      @param standardOffsetTransitionList  the list of changes to the standard offset, not null
      @param transitionList  the list of transitions, not null
      @param lastRules  the recurring last rules, size 16 or less, not null
      @return the zone rules, not null</div>
<a id="L176" name="L176"></a> 176     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a> <a href="../R/23902.html" title="Multiple referred from 267 places.">of</a>(<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> baseStandardOffset,
<a id="L177" name="L177"></a> 177                                <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> baseWallOffset,
<a id="L178" name="L178"></a> 178                                <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>&gt; standardOffsetTransitionList,
<a id="L179" name="L179"></a> 179                                <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>&gt; transitionList,
<a id="L180" name="L180"></a> 180                                <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>&gt; lastRules) <em class="brace">{</em>
<a id="L181" name="L181"></a> 181         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(baseStandardOffset, "baseStandardOffset");
<a id="L182" name="L182"></a> 182         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(baseWallOffset, "baseWallOffset");
<a id="L183" name="L183"></a> 183         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(standardOffsetTransitionList, "standardOffsetTransitionList");
<a id="L184" name="L184"></a> 184         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(transitionList, "transitionList");
<a id="L185" name="L185"></a> 185         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(lastRules, "lastRules");
<a id="L186" name="L186"></a> 186         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a>(baseStandardOffset, baseWallOffset,
<a id="L187" name="L187"></a> 187                              standardOffsetTransitionList, transitionList, lastRules);
<a id="L188" name="L188"></a> 188     <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<div class="comment">
      Obtains an instance of ZoneRules that has fixed zone rules.
      @param offset  the offset this fixed zone rules is based on, not null
      @return the zone rules, not null
      @see #isFixedOffset()</div>
<a id="L197" name="L197"></a> 197     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a> <a href="../R/23902.html" title="Multiple referred from 267 places.">of</a>(<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, "offset");
<a id="L199" name="L199"></a> 199         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L200" name="L200"></a> 200     <em class="brace">}</em>
<a id="L201" name="L201"></a> 201 
<div class="comment">
      Creates an instance.
      @param baseStandardOffset  the standard offset to use before legal rules were set, not null
      @param baseWallOffset  the wall offset to use before legal rules were set, not null
      @param standardOffsetTransitionList  the list of changes to the standard offset, not null
      @param transitionList  the list of transitions, not null
      @param lastRules  the recurring last rules, size 16 or less, not null</div>
<a id="L211" name="L211"></a> 211     ZoneRules(<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> baseStandardOffset,
<a id="L212" name="L212"></a> 212               <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> baseWallOffset,
<a id="L213" name="L213"></a> 213               <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>&gt; standardOffsetTransitionList,
<a id="L214" name="L214"></a> 214               <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>&gt; transitionList,
<a id="L215" name="L215"></a> 215               <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>&gt; lastRules) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216         <strong class="reserved">super</strong>();
<a id="L217" name="L217"></a> 217 
<a id="L218" name="L218"></a> 218         <em class="comment">// convert standard transitions</em>
<a id="L219" name="L219"></a> 219 
<a id="L220" name="L220"></a> 220         <strong class="reserved">this</strong>.standardTransitions = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[standardOffsetTransitionList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()];
<a id="L221" name="L221"></a> 221 
<a id="L222" name="L222"></a> 222         <strong class="reserved">this</strong>.standardOffsets = <strong class="reserved">new</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[standardOffsetTransitionList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() + 1];
<a id="L223" name="L223"></a> 223         <strong class="reserved">this</strong>.standardOffsets[0] = baseStandardOffset;
<a id="L224" name="L224"></a> 224         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; standardOffsetTransitionList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); i++) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225             <strong class="reserved">this</strong>.standardTransitions[i] = standardOffsetTransitionList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i).<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>();
<a id="L226" name="L226"></a> 226             <strong class="reserved">this</strong>.standardOffsets[i + 1] = standardOffsetTransitionList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i).<a href="../D/21177.html" title="Multiple defined in 2 places.">getOffsetAfter</a>();
<a id="L227" name="L227"></a> 227         <em class="brace">}</em>
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229         <em class="comment">// convert savings transitions to locals</em>
<a id="L230" name="L230"></a> 230         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>&gt; localTransitionList = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L231" name="L231"></a> 231         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>&gt; localTransitionOffsetList = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L232" name="L232"></a> 232         localTransitionOffsetList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(baseWallOffset);
<a id="L233" name="L233"></a> 233         <strong class="reserved">for</strong> (<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans : transitionList) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234             <strong class="reserved">if</strong> (trans.<a href="../S/1520.html#L343" title="Defined at 343 in src/java/time/zone/ZoneOffsetTransition.java.">isGap</a>()) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235                 localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L272" title="Defined at 272 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeBefore</a>());
<a id="L236" name="L236"></a> 236                 localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L286" title="Defined at 286 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeAfter</a>());
<a id="L237" name="L237"></a> 237             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L238" name="L238"></a> 238                 localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L286" title="Defined at 286 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeAfter</a>());
<a id="L239" name="L239"></a> 239                 localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L272" title="Defined at 272 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeBefore</a>());
<a id="L240" name="L240"></a> 240             <em class="brace">}</em>
<a id="L241" name="L241"></a> 241             localTransitionOffsetList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../D/21177.html" title="Multiple defined in 2 places.">getOffsetAfter</a>());
<a id="L242" name="L242"></a> 242         <em class="brace">}</em>
<a id="L243" name="L243"></a> 243         <strong class="reserved">this</strong>.savingsLocalTransitions = localTransitionList.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>[localTransitionList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L244" name="L244"></a> 244         <strong class="reserved">this</strong>.wallOffsets = localTransitionOffsetList.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[localTransitionOffsetList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L245" name="L245"></a> 245 
<a id="L246" name="L246"></a> 246         <em class="comment">// convert savings transitions to instants</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">this</strong>.savingsInstantTransitions = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[transitionList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()];
<a id="L248" name="L248"></a> 248         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; transitionList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); i++) <em class="brace">{</em>
<a id="L249" name="L249"></a> 249             <strong class="reserved">this</strong>.savingsInstantTransitions[i] = transitionList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i).<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>();
<a id="L250" name="L250"></a> 250         <em class="brace">}</em>
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252         <em class="comment">// last rules</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">if</strong> (lastRules.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 16) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Too many transition rules");
<a id="L255" name="L255"></a> 255         <em class="brace">}</em>
<a id="L256" name="L256"></a> 256         <strong class="reserved">this</strong>.lastRules = lastRules.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[lastRules.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L257" name="L257"></a> 257     <em class="brace">}</em>
<a id="L258" name="L258"></a> 258 
<div class="comment">
      Constructor.
      @param standardTransitions  the standard transitions, not null
      @param standardOffsets  the standard offsets, not null
      @param savingsInstantTransitions  the standard transitions, not null
      @param wallOffsets  the wall offsets, not null
      @param lastRules  the recurring last rules, size 15 or less, not null</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">private</strong> ZoneRules(<strong class="reserved">long</strong>[] standardTransitions,
<a id="L269" name="L269"></a> 269                       <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[] standardOffsets,
<a id="L270" name="L270"></a> 270                       <strong class="reserved">long</strong>[] savingsInstantTransitions,
<a id="L271" name="L271"></a> 271                       <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[] wallOffsets,
<a id="L272" name="L272"></a> 272                       <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[] lastRules) <em class="brace">{</em>
<a id="L273" name="L273"></a> 273         <strong class="reserved">super</strong>();
<a id="L274" name="L274"></a> 274 
<a id="L275" name="L275"></a> 275         <strong class="reserved">this</strong>.standardTransitions = standardTransitions;
<a id="L276" name="L276"></a> 276         <strong class="reserved">this</strong>.standardOffsets = standardOffsets;
<a id="L277" name="L277"></a> 277         <strong class="reserved">this</strong>.savingsInstantTransitions = savingsInstantTransitions;
<a id="L278" name="L278"></a> 278         <strong class="reserved">this</strong>.wallOffsets = wallOffsets;
<a id="L279" name="L279"></a> 279         <strong class="reserved">this</strong>.lastRules = lastRules;
<a id="L280" name="L280"></a> 280 
<a id="L281" name="L281"></a> 281         <strong class="reserved">if</strong> (savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282             <strong class="reserved">this</strong>.savingsLocalTransitions = EMPTY_LDT_ARRAY;
<a id="L283" name="L283"></a> 283         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L284" name="L284"></a> 284             <em class="comment">// convert savings transitions to locals</em>
<a id="L285" name="L285"></a> 285             <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>&gt; localTransitionList = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L286" name="L286"></a> 286             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287                 <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/11800.html" title="Multiple defined in 3 places.">before</a> = wallOffsets[i];
<a id="L288" name="L288"></a> 288                 <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/11257.html" title="Multiple defined in 3 places.">after</a> = wallOffsets[i + 1];
<a id="L289" name="L289"></a> 289                 <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans = <strong class="reserved">new</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>(savingsInstantTransitions[i], <a href="../D/11800.html" title="Multiple defined in 3 places.">before</a>, <a href="../D/11257.html" title="Multiple defined in 3 places.">after</a>);
<a id="L290" name="L290"></a> 290                 <strong class="reserved">if</strong> (trans.<a href="../S/1520.html#L343" title="Defined at 343 in src/java/time/zone/ZoneOffsetTransition.java.">isGap</a>()) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291                     localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L272" title="Defined at 272 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeBefore</a>());
<a id="L292" name="L292"></a> 292                     localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L286" title="Defined at 286 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeAfter</a>());
<a id="L293" name="L293"></a> 293                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294                     localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L286" title="Defined at 286 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeAfter</a>());
<a id="L295" name="L295"></a> 295                     localTransitionList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(trans.<a href="../S/1520.html#L272" title="Defined at 272 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeBefore</a>());
<a id="L296" name="L296"></a> 296                <em class="brace">}</em>
<a id="L297" name="L297"></a> 297             <em class="brace">}</em>
<a id="L298" name="L298"></a> 298             <strong class="reserved">this</strong>.savingsLocalTransitions = localTransitionList.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>[localTransitionList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L299" name="L299"></a> 299         <em class="brace">}</em>
<a id="L300" name="L300"></a> 300     <em class="brace">}</em>
<a id="L301" name="L301"></a> 301 
<div class="comment">
      Creates an instance of ZoneRules that has fixed zone rules.
      @param offset  the offset this fixed zone rules is based on, not null
      @return the zone rules, not null
      @see #isFixedOffset()</div>
<a id="L309" name="L309"></a> 309     <strong class="reserved">private</strong> ZoneRules(<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         <strong class="reserved">this</strong>.standardOffsets = <strong class="reserved">new</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[1];
<a id="L311" name="L311"></a> 311         <strong class="reserved">this</strong>.standardOffsets[0] = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L312" name="L312"></a> 312         <strong class="reserved">this</strong>.standardTransitions = EMPTY_LONG_ARRAY;
<a id="L313" name="L313"></a> 313         <strong class="reserved">this</strong>.savingsInstantTransitions = EMPTY_LONG_ARRAY;
<a id="L314" name="L314"></a> 314         <strong class="reserved">this</strong>.savingsLocalTransitions = EMPTY_LDT_ARRAY;
<a id="L315" name="L315"></a> 315         <strong class="reserved">this</strong>.wallOffsets = standardOffsets;
<a id="L316" name="L316"></a> 316         <strong class="reserved">this</strong>.lastRules = EMPTY_LASTRULES;
<a id="L317" name="L317"></a> 317     <em class="brace">}</em>
<a id="L318" name="L318"></a> 318 
<div class="comment">
      Defend against malicious streams.
      @param s the stream to read
      @throws InvalidObjectException always</div>
<a id="L325" name="L325"></a> 325     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a> <em class="brace">{</em>
<a id="L326" name="L326"></a> 326         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Deserialization via serialization delegate");
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Writes the object using a
      <a href="../../../serialized-form.html#java.time.zone.Ser">dedicated serialized form</a>.
      @serialData
      <pre style="font-size:1.0em">{@code
        out.writeByte(1);  // identifies a ZoneRules
        out.writeInt(standardTransitions.length);
        for (long trans : standardTransitions) {
            Ser.writeEpochSec(trans, out);
        }
        for (ZoneOffset offset : standardOffsets) {
            Ser.writeOffset(offset, out);
        }
        out.writeInt(savingsInstantTransitions.length);
        for (long trans : savingsInstantTransitions) {
            Ser.writeEpochSec(trans, out);
        }
        for (ZoneOffset offset : wallOffsets) {
            Ser.writeOffset(offset, out);
        }
        out.writeByte(lastRules.length);
        for (ZoneOffsetTransitionRule rule : lastRules) {
            rule.writeExternal(out);
        }
      }
      </pre>
      <p>
      Epoch second values used for offsets are encoded in a variable
      length form to make the common cases put fewer bytes in the stream.
      </p><pre style="font-size:1.0em">{@code
       static void writeEpochSec(long epochSec, DataOutput out) throws IOException {
          if (epochSec &gt;= -4575744000L &amp;&amp; epochSec &lt; 10413792000L &amp;&amp; epochSec % 900 == 0) {  // quarter hours between 1825 and 2300
              int store = (int) ((epochSec + 4575744000L) / 900);
              out.writeByte((store &gt;&gt;&gt; 16) &amp; 255);
              out.writeByte((store &gt;&gt;&gt; 8) &amp; 255);
              out.writeByte(store &amp; 255);
           } else {
               out.writeByte(255);
               out.writeLong(epochSec);
           }
       }
      }
      </pre>
      <p>
      ZoneOffset values are encoded in a variable length form so the
      common cases put fewer bytes in the stream.
      </p><pre style="font-size:1.0em">{@code
       static void writeOffset(ZoneOffset offset, DataOutput out) throws IOException {
          final int offsetSecs = offset.getTotalSeconds();
          int offsetByte = offsetSecs % 900 == 0 ? offsetSecs / 900 : 127;  // compress to -72 to +72
          out.writeByte(offsetByte);
          if (offsetByte == 127) {
              out.writeInt(offsetSecs);
          }
      }
     }
      </pre>
      @return the replacing object, not null</div>
<a id="L391" name="L391"></a> 391     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/30703.html" title="Multiple referred from 7 places.">writeReplace</a>() <em class="brace">{</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>(<a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.ZRULES, <strong class="reserved">this</strong>);
<a id="L393" name="L393"></a> 393     <em class="brace">}</em>
<a id="L394" name="L394"></a> 394 
<div class="comment">
      Writes the state to the stream.
      @param out  the output stream, not null
      @throws IOException if an error occurs</div>
<a id="L401" name="L401"></a> 401     <strong class="reserved">void</strong> <a href="../R/30621.html" title="Multiple referred from 43 places.">writeExternal</a>(<a href="../S/1422.html#L50" title="Defined at 50 in src/java/io/DataOutput.java.">DataOutput</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L402" name="L402"></a> 402         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37085.html" title="Multiple defined in 12 places.">writeInt</a>(standardTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L403" name="L403"></a> 403         <strong class="reserved">for</strong> (<strong class="reserved">long</strong> trans : standardTransitions) <em class="brace">{</em>
<a id="L404" name="L404"></a> 404             <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L250" title="Defined at 250 in src/java/time/zone/Ser.java.">writeEpochSec</a>(trans, <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>);
<a id="L405" name="L405"></a> 405         <em class="brace">}</em>
<a id="L406" name="L406"></a> 406         <strong class="reserved">for</strong> (<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> : standardOffsets) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407             <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L221" title="Defined at 221 in src/java/time/zone/Ser.java.">writeOffset</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>);
<a id="L408" name="L408"></a> 408         <em class="brace">}</em>
<a id="L409" name="L409"></a> 409         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37085.html" title="Multiple defined in 12 places.">writeInt</a>(savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L410" name="L410"></a> 410         <strong class="reserved">for</strong> (<strong class="reserved">long</strong> trans : savingsInstantTransitions) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411             <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L250" title="Defined at 250 in src/java/time/zone/Ser.java.">writeEpochSec</a>(trans, <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>);
<a id="L412" name="L412"></a> 412         <em class="brace">}</em>
<a id="L413" name="L413"></a> 413         <strong class="reserved">for</strong> (<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> : wallOffsets) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414             <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L221" title="Defined at 221 in src/java/time/zone/Ser.java.">writeOffset</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>);
<a id="L415" name="L415"></a> 415         <em class="brace">}</em>
<a id="L416" name="L416"></a> 416         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37003.html" title="Multiple defined in 12 places.">writeByte</a>(lastRules.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L417" name="L417"></a> 417         <strong class="reserved">for</strong> (<a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a> rule : lastRules) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418             rule.<a href="../D/37060.html" title="Multiple defined in 35 places.">writeExternal</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>);
<a id="L419" name="L419"></a> 419         <em class="brace">}</em>
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<div class="comment">
      Reads the state from the stream.
      @param in  the input stream, not null
      @return the created object, not null
      @throws IOException if an error occurs</div>
<a id="L429" name="L429"></a> 429     <strong class="reserved">static</strong> <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a> <a href="../R/25469.html" title="Multiple referred from 41 places.">readExternal</a>(<a href="../S/1438.html#L149" title="Defined at 149 in src/java/io/DataInput.java.">DataInput</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">int</strong> stdSize = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L431" name="L431"></a> 431         <strong class="reserved">long</strong>[] stdTrans = (stdSize == 0) ? EMPTY_LONG_ARRAY
<a id="L432" name="L432"></a> 432                                          : <strong class="reserved">new</strong> <strong class="reserved">long</strong>[stdSize];
<a id="L433" name="L433"></a> 433         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; stdSize; i++) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             stdTrans[i] = <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L269" title="Defined at 269 in src/java/time/zone/Ser.java.">readEpochSec</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>);
<a id="L435" name="L435"></a> 435         <em class="brace">}</em>
<a id="L436" name="L436"></a> 436         <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[] stdOffsets = <strong class="reserved">new</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[stdSize + 1];
<a id="L437" name="L437"></a> 437         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; stdOffsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438             stdOffsets[i] = <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L237" title="Defined at 237 in src/java/time/zone/Ser.java.">readOffset</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>);
<a id="L439" name="L439"></a> 439         <em class="brace">}</em>
<a id="L440" name="L440"></a> 440         <strong class="reserved">int</strong> savSize = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L441" name="L441"></a> 441         <strong class="reserved">long</strong>[] savTrans = (savSize == 0) ? EMPTY_LONG_ARRAY
<a id="L442" name="L442"></a> 442                                          : <strong class="reserved">new</strong> <strong class="reserved">long</strong>[savSize];
<a id="L443" name="L443"></a> 443         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; savSize; i++) <em class="brace">{</em>
<a id="L444" name="L444"></a> 444             savTrans[i] = <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L269" title="Defined at 269 in src/java/time/zone/Ser.java.">readEpochSec</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>);
<a id="L445" name="L445"></a> 445         <em class="brace">}</em>
<a id="L446" name="L446"></a> 446         <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[] savOffsets = <strong class="reserved">new</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>[savSize + 1];
<a id="L447" name="L447"></a> 447         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; savOffsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448             savOffsets[i] = <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.<a href="../S/1521.html#L237" title="Defined at 237 in src/java/time/zone/Ser.java.">readOffset</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>);
<a id="L449" name="L449"></a> 449         <em class="brace">}</em>
<a id="L450" name="L450"></a> 450         <strong class="reserved">int</strong> ruleSize = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30138.html" title="Multiple defined in 10 places.">readByte</a>();
<a id="L451" name="L451"></a> 451         <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[] rules = (ruleSize == 0) ?
<a id="L452" name="L452"></a> 452             EMPTY_LASTRULES : <strong class="reserved">new</strong> <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[ruleSize];
<a id="L453" name="L453"></a> 453         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; ruleSize; i++) <em class="brace">{</em>
<a id="L454" name="L454"></a> 454             rules[i] = <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>.<a href="../D/30178.html" title="Multiple defined in 35 places.">readExternal</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>);
<a id="L455" name="L455"></a> 455         <em class="brace">}</em>
<a id="L456" name="L456"></a> 456         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a>(stdTrans, stdOffsets, savTrans, savOffsets, rules);
<a id="L457" name="L457"></a> 457     <em class="brace">}</em>
<a id="L458" name="L458"></a> 458 
<div class="comment">
      Checks of the zone rules are fixed, such that the offset never varies.
      @return true if the time-zone is fixed and the offset never changes</div>
<a id="L464" name="L464"></a> 464     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/1533.html#L583" title="Referred from 583 in src/java/time/ZoneId.java.">isFixedOffset</a>() <em class="brace">{</em>
<a id="L465" name="L465"></a> 465         <strong class="reserved">return</strong> savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0;
<a id="L466" name="L466"></a> 466     <em class="brace">}</em>
<a id="L467" name="L467"></a> 467 
<div class="comment">
      Gets the offset applicable at the specified instant in these rules.
      <p>
      The mapping from an instant to an offset is simple, there is only
      one valid offset for each instant.
      This method returns that offset.
      @param instant  the instant to find the offset for, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the offset, not null</p></div>
<a id="L479" name="L479"></a> 479     <strong class="reserved">public</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L480" name="L480"></a> 480         <strong class="reserved">if</strong> (savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481             <strong class="reserved">return</strong> standardOffsets[0];
<a id="L482" name="L482"></a> 482         <em class="brace">}</em>
<a id="L483" name="L483"></a> 483         <strong class="reserved">long</strong> epochSec = <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L484" name="L484"></a> 484         <em class="comment">// check if using last rules</em>
<a id="L485" name="L485"></a> 485         <strong class="reserved">if</strong> (lastRules.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0 &amp;&amp;
<a id="L486" name="L486"></a> 486                 epochSec &gt; savingsInstantTransitions[savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1]) <em class="brace">{</em>
<a id="L487" name="L487"></a> 487             <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/1522.html#L924" title="Defined at 924 in src/java/time/zone/ZoneRules.java.">findYear</a>(epochSec, wallOffsets[wallOffsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1]);
<a id="L488" name="L488"></a> 488             <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[] transArray = <a href="../S/1522.html#L721" title="Defined at 721 in src/java/time/zone/ZoneRules.java.">findTransitionArray</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L489" name="L489"></a> 489             <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans = <strong class="reserved">null</strong>;
<a id="L490" name="L490"></a> 490             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; transArray.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491                 trans = transArray[i];
<a id="L492" name="L492"></a> 492                 <strong class="reserved">if</strong> (epochSec &lt; trans.<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>()) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493                     <strong class="reserved">return</strong> trans.<a href="../D/21178.html" title="Multiple defined in 2 places.">getOffsetBefore</a>();
<a id="L494" name="L494"></a> 494                 <em class="brace">}</em>
<a id="L495" name="L495"></a> 495             <em class="brace">}</em>
<a id="L496" name="L496"></a> 496             <strong class="reserved">return</strong> trans.<a href="../D/21177.html" title="Multiple defined in 2 places.">getOffsetAfter</a>();
<a id="L497" name="L497"></a> 497         <em class="brace">}</em>
<a id="L498" name="L498"></a> 498 
<a id="L499" name="L499"></a> 499         <em class="comment">// using historic rules</em>
<a id="L500" name="L500"></a> 500         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>  = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11841.html" title="Multiple defined in 21 places.">binarySearch</a>(savingsInstantTransitions, epochSec);
<a id="L501" name="L501"></a> 501         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502             <em class="comment">// switch negative insert position to start of matched range</em>
<a id="L503" name="L503"></a> 503             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = -<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 2;
<a id="L504" name="L504"></a> 504         <em class="brace">}</em>
<a id="L505" name="L505"></a> 505         <strong class="reserved">return</strong> wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1];
<a id="L506" name="L506"></a> 506     <em class="brace">}</em>
<a id="L507" name="L507"></a> 507 
<div class="comment">
      Gets a suitable offset for the specified local date-time in these rules.
      <p>
      The mapping from a local date-time to an offset is not straightforward.
      There are three cases:
      </p><ul><li>Normal, with one valid offset. For the vast majority of the year, the normal
       case applies, where there is a single valid offset for the local date-time.</li><li>Gap, with zero valid offsets. This is when clocks jump forward typically
       due to the spring daylight savings change from "winter" to "summer".
       In a gap there are local date-time values with no valid offset.</li><li>Overlap, with two valid offsets. This is when clocks are set back typically
       due to the autumn daylight savings change from "summer" to "winter".
       In an overlap there are local date-time values with two valid offsets.</li>
      </ul>
      Thus, for any given local date-time there can be zero, one or two valid offsets.
      This method returns the single offset in the Normal case, and in the Gap or Overlap
      case it returns the offset before the transition.
      <p>
      Since, in the case of Gap and Overlap, the offset returned is a "best" value, rather
      than the "correct" value, it should be treated with care. Applications that care
      about the correct offset should use a combination of this method,
      {@link #getValidOffsets(LocalDateTime)} and {@link #getTransition(LocalDateTime)}.
      @param localDateTime  the local date-time to query, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the best available offset for the local date-time, not null</p></div>
<a id="L536" name="L536"></a> 536     <strong class="reserved">public</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> <a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> = <a href="../S/1522.html#L634" title="Defined at 634 in src/java/time/zone/ZoneRules.java.">getOffsetInfo</a>(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>);
<a id="L538" name="L538"></a> 538         <strong class="reserved">if</strong> (<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> <strong class="reserved">instanceof</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539             <strong class="reserved">return</strong> ((<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>) <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>).<a href="../D/21178.html" title="Multiple defined in 2 places.">getOffsetBefore</a>();
<a id="L540" name="L540"></a> 540         <em class="brace">}</em>
<a id="L541" name="L541"></a> 541         <strong class="reserved">return</strong> (<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>) <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>;
<a id="L542" name="L542"></a> 542     <em class="brace">}</em>
<a id="L543" name="L543"></a> 543 
<div class="comment">
      Gets the offset applicable at the specified local date-time in these rules.
      <p>
      The mapping from a local date-time to an offset is not straightforward.
      There are three cases:
      </p><ul><li>Normal, with one valid offset. For the vast majority of the year, the normal
       case applies, where there is a single valid offset for the local date-time.</li><li>Gap, with zero valid offsets. This is when clocks jump forward typically
       due to the spring daylight savings change from "winter" to "summer".
       In a gap there are local date-time values with no valid offset.</li><li>Overlap, with two valid offsets. This is when clocks are set back typically
       due to the autumn daylight savings change from "summer" to "winter".
       In an overlap there are local date-time values with two valid offsets.</li>
      </ul>
      Thus, for any given local date-time there can be zero, one or two valid offsets.
      This method returns that list of valid offsets, which is a list of size 0, 1 or 2.
      In the case where there are two offsets, the earlier offset is returned at index 0
      and the later offset at index 1.
      <p>
      There are various ways to handle the conversion from a <code>LocalDateTime</code>.
      One technique, using this method, would be:
      </p><pre>       List&lt;ZoneOffset&gt; validOffsets = rules.getOffset(localDT);
       if (validOffsets.size() == 1) {
         // Normal case: only one valid offset
         zoneOffset = validOffsets.get(0);
       } else {
         // Gap or Overlap: determine what to do from transition (which will be non-null)
         ZoneOffsetTransition trans = rules.getTransition(localDT);
       }
      </pre>
      <p>
      In theory, it is possible for there to be more than two valid offsets.
      This would happen if clocks to be put back more than once in quick succession.
      This has never happened in the history of time-zones and thus has no special handling.
      However, if it were to happen, then the list would return more than 2 entries.
      @param localDateTime  the local date-time to query for valid offsets, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the list of valid offsets, may be immutable, not null</p></div>
<a id="L586" name="L586"></a> 586     <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>&gt; <a href="../R/19746.html" title="Multiple referred from 4 places.">getValidOffsets</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> <a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>) <em class="brace">{</em>
<a id="L587" name="L587"></a> 587         <em class="comment">// should probably be optimized</em>
<a id="L588" name="L588"></a> 588         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> = <a href="../S/1522.html#L634" title="Defined at 634 in src/java/time/zone/ZoneRules.java.">getOffsetInfo</a>(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>);
<a id="L589" name="L589"></a> 589         <strong class="reserved">if</strong> (<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> <strong class="reserved">instanceof</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>) <em class="brace">{</em>
<a id="L590" name="L590"></a> 590             <strong class="reserved">return</strong> ((<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>) <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>).<a href="../D/23522.html" title="Multiple defined in 2 places.">getValidOffsets</a>();
<a id="L591" name="L591"></a> 591         <em class="brace">}</em>
<a id="L592" name="L592"></a> 592         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4788" title="Defined at 4788 in src/java/util/Collections.java.">singletonList</a>((<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>) <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>);
<a id="L593" name="L593"></a> 593     <em class="brace">}</em>
<a id="L594" name="L594"></a> 594 
<div class="comment">
      Gets the offset transition applicable at the specified local date-time in these rules.
      <p>
      The mapping from a local date-time to an offset is not straightforward.
      There are three cases:
      </p><ul><li>Normal, with one valid offset. For the vast majority of the year, the normal
       case applies, where there is a single valid offset for the local date-time.</li><li>Gap, with zero valid offsets. This is when clocks jump forward typically
       due to the spring daylight savings change from "winter" to "summer".
       In a gap there are local date-time values with no valid offset.</li><li>Overlap, with two valid offsets. This is when clocks are set back typically
       due to the autumn daylight savings change from "summer" to "winter".
       In an overlap there are local date-time values with two valid offsets.</li>
      </ul>
      A transition is used to model the cases of a Gap or Overlap.
      The Normal case will return null.
      <p>
      There are various ways to handle the conversion from a <code>LocalDateTime</code>.
      One technique, using this method, would be:
      </p><pre>       ZoneOffsetTransition trans = rules.getTransition(localDT);
       if (trans == null) {
         // Gap or Overlap: determine what to do from transition
       } else {
         // Normal case: only one valid offset
         zoneOffset = rule.getOffset(localDT);
       }
      </pre>
      @param localDateTime  the local date-time to query for offset transition, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the offset transition, null if the local date-time is not in transition</div>
<a id="L629" name="L629"></a> 629     <strong class="reserved">public</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> <a href="../R/19575.html" title="Multiple referred from 10 places.">getTransition</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> <a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>) <em class="brace">{</em>
<a id="L630" name="L630"></a> 630         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> = <a href="../S/1522.html#L634" title="Defined at 634 in src/java/time/zone/ZoneRules.java.">getOffsetInfo</a>(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>);
<a id="L631" name="L631"></a> 631         <strong class="reserved">return</strong> (<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> <strong class="reserved">instanceof</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> ? (<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>) <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> : <strong class="reserved">null</strong>);
<a id="L632" name="L632"></a> 632     <em class="brace">}</em>
<a id="L633" name="L633"></a> 633 
<a id="L634" name="L634"></a> 634     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/18118.html" title="Multiple referred from 3 places.">getOffsetInfo</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> dt) <em class="brace">{</em>
<a id="L635" name="L635"></a> 635         <strong class="reserved">if</strong> (savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636             <strong class="reserved">return</strong> standardOffsets[0];
<a id="L637" name="L637"></a> 637         <em class="brace">}</em>
<a id="L638" name="L638"></a> 638         <em class="comment">// check if using last rules</em>
<a id="L639" name="L639"></a> 639         <strong class="reserved">if</strong> (lastRules.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0 &amp;&amp;
<a id="L640" name="L640"></a> 640                 dt.<a href="../D/25168.html" title="Multiple defined in 17 places.">isAfter</a>(savingsLocalTransitions[savingsLocalTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1])) <em class="brace">{</em>
<a id="L641" name="L641"></a> 641             <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[] transArray = <a href="../S/1522.html#L721" title="Defined at 721 in src/java/time/zone/ZoneRules.java.">findTransitionArray</a>(dt.<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>());
<a id="L642" name="L642"></a> 642             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> = <strong class="reserved">null</strong>;
<a id="L643" name="L643"></a> 643             <strong class="reserved">for</strong> (<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans : transArray) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644                 <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> = <a href="../S/1522.html#L692" title="Defined at 692 in src/java/time/zone/ZoneRules.java.">findOffsetInfo</a>(dt, trans);
<a id="L645" name="L645"></a> 645                 <strong class="reserved">if</strong> (<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> <strong class="reserved">instanceof</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> || <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(trans.<a href="../D/21178.html" title="Multiple defined in 2 places.">getOffsetBefore</a>())) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646                     <strong class="reserved">return</strong> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>;
<a id="L647" name="L647"></a> 647                 <em class="brace">}</em>
<a id="L648" name="L648"></a> 648             <em class="brace">}</em>
<a id="L649" name="L649"></a> 649             <strong class="reserved">return</strong> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>;
<a id="L650" name="L650"></a> 650         <em class="brace">}</em>
<a id="L651" name="L651"></a> 651 
<a id="L652" name="L652"></a> 652         <em class="comment">// using historic rules</em>
<a id="L653" name="L653"></a> 653         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>  = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11841.html" title="Multiple defined in 21 places.">binarySearch</a>(savingsLocalTransitions, dt);
<a id="L654" name="L654"></a> 654         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == -1) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655             <em class="comment">// before first transition</em>
<a id="L656" name="L656"></a> 656             <strong class="reserved">return</strong> wallOffsets[0];
<a id="L657" name="L657"></a> 657         <em class="brace">}</em>
<a id="L658" name="L658"></a> 658         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659             <em class="comment">// switch negative insert position to start of matched range</em>
<a id="L660" name="L660"></a> 660             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = -<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 2;
<a id="L661" name="L661"></a> 661         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; savingsLocalTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1 &amp;&amp;
<a id="L662" name="L662"></a> 662                 savingsLocalTransitions[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(savingsLocalTransitions[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1])) <em class="brace">{</em>
<a id="L663" name="L663"></a> 663             <em class="comment">// handle overlap immediately following gap</em>
<a id="L664" name="L664"></a> 664             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++;
<a id="L665" name="L665"></a> 665         <em class="brace">}</em>
<a id="L666" name="L666"></a> 666         <strong class="reserved">if</strong> ((<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &amp; 1) == 0) <em class="brace">{</em>
<a id="L667" name="L667"></a> 667             <em class="comment">// gap or overlap</em>
<a id="L668" name="L668"></a> 668             <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> dtBefore = savingsLocalTransitions[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L669" name="L669"></a> 669             <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> dtAfter = savingsLocalTransitions[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1];
<a id="L670" name="L670"></a> 670             <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> offsetBefore = wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> / 2];
<a id="L671" name="L671"></a> 671             <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> offsetAfter = wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> / 2 + 1];
<a id="L672" name="L672"></a> 672             <strong class="reserved">if</strong> (offsetAfter.<a href="../S/1553.html#L473" title="Defined at 473 in src/java/time/ZoneOffset.java.">getTotalSeconds</a>() &gt; offsetBefore.<a href="../S/1553.html#L473" title="Defined at 473 in src/java/time/ZoneOffset.java.">getTotalSeconds</a>()) <em class="brace">{</em>
<a id="L673" name="L673"></a> 673                 <em class="comment">// gap</em>
<a id="L674" name="L674"></a> 674                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>(dtBefore, offsetBefore, offsetAfter);
<a id="L675" name="L675"></a> 675             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L676" name="L676"></a> 676                 <em class="comment">// overlap</em>
<a id="L677" name="L677"></a> 677                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>(dtAfter, offsetBefore, offsetAfter);
<a id="L678" name="L678"></a> 678             <em class="brace">}</em>
<a id="L679" name="L679"></a> 679         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L680" name="L680"></a> 680             <em class="comment">// normal (neither gap or overlap)</em>
<a id="L681" name="L681"></a> 681             <strong class="reserved">return</strong> wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> / 2 + 1];
<a id="L682" name="L682"></a> 682         <em class="brace">}</em>
<a id="L683" name="L683"></a> 683     <em class="brace">}</em>
<a id="L684" name="L684"></a> 684 
<div class="comment">
      Finds the offset info for a local date-time and transition.
      @param dt  the date-time, not null
      @param trans  the transition, not null
      @return the offset info, not null</div>
<a id="L692" name="L692"></a> 692     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/1522.html#L644" title="Referred from 644 in src/java/time/zone/ZoneRules.java.">findOffsetInfo</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> dt, <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693         <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> localTransition = trans.<a href="../S/1520.html#L272" title="Defined at 272 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeBefore</a>();
<a id="L694" name="L694"></a> 694         <strong class="reserved">if</strong> (trans.<a href="../S/1520.html#L343" title="Defined at 343 in src/java/time/zone/ZoneOffsetTransition.java.">isGap</a>()) <em class="brace">{</em>
<a id="L695" name="L695"></a> 695             <strong class="reserved">if</strong> (dt.<a href="../D/25241.html" title="Multiple defined in 17 places.">isBefore</a>(localTransition)) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696                 <strong class="reserved">return</strong> trans.<a href="../D/21178.html" title="Multiple defined in 2 places.">getOffsetBefore</a>();
<a id="L697" name="L697"></a> 697             <em class="brace">}</em>
<a id="L698" name="L698"></a> 698             <strong class="reserved">if</strong> (dt.<a href="../D/25241.html" title="Multiple defined in 17 places.">isBefore</a>(trans.<a href="../S/1520.html#L286" title="Defined at 286 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeAfter</a>())) <em class="brace">{</em>
<a id="L699" name="L699"></a> 699                 <strong class="reserved">return</strong> trans;
<a id="L700" name="L700"></a> 700             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L701" name="L701"></a> 701                 <strong class="reserved">return</strong> trans.<a href="../D/21177.html" title="Multiple defined in 2 places.">getOffsetAfter</a>();
<a id="L702" name="L702"></a> 702             <em class="brace">}</em>
<a id="L703" name="L703"></a> 703         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L704" name="L704"></a> 704             <strong class="reserved">if</strong> (dt.<a href="../D/25241.html" title="Multiple defined in 17 places.">isBefore</a>(localTransition) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705                 <strong class="reserved">return</strong> trans.<a href="../D/21177.html" title="Multiple defined in 2 places.">getOffsetAfter</a>();
<a id="L706" name="L706"></a> 706             <em class="brace">}</em>
<a id="L707" name="L707"></a> 707             <strong class="reserved">if</strong> (dt.<a href="../D/25241.html" title="Multiple defined in 17 places.">isBefore</a>(trans.<a href="../S/1520.html#L286" title="Defined at 286 in src/java/time/zone/ZoneOffsetTransition.java.">getDateTimeAfter</a>())) <em class="brace">{</em>
<a id="L708" name="L708"></a> 708                 <strong class="reserved">return</strong> trans.<a href="../D/21178.html" title="Multiple defined in 2 places.">getOffsetBefore</a>();
<a id="L709" name="L709"></a> 709             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L710" name="L710"></a> 710                 <strong class="reserved">return</strong> trans;
<a id="L711" name="L711"></a> 711             <em class="brace">}</em>
<a id="L712" name="L712"></a> 712         <em class="brace">}</em>
<a id="L713" name="L713"></a> 713     <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<div class="comment">
      Finds the appropriate transition array for the given year.
      @param year  the year, not null
      @return the transition array, not null</div>
<a id="L721" name="L721"></a> 721     <strong class="reserved">private</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[] <a href="../R/14492.html" title="Multiple referred from 6 places.">findTransitionArray</a>(<strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>) <em class="brace">{</em>
<a id="L722" name="L722"></a> 722         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> yearObj = <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>;  <em class="comment">// should use Year class, but this saves a class load</em>
<a id="L723" name="L723"></a> 723         <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[] transArray = lastRulesCache.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(yearObj);
<a id="L724" name="L724"></a> 724         <strong class="reserved">if</strong> (transArray != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L725" name="L725"></a> 725             <strong class="reserved">return</strong> transArray;
<a id="L726" name="L726"></a> 726         <em class="brace">}</em>
<a id="L727" name="L727"></a> 727         <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>[] ruleArray = lastRules;
<a id="L728" name="L728"></a> 728         transArray  = <strong class="reserved">new</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[ruleArray.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L729" name="L729"></a> 729         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; ruleArray.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L730" name="L730"></a> 730             transArray[i] = ruleArray[i].<a href="../S/1524.html#L482" title="Defined at 482 in src/java/time/zone/ZoneOffsetTransitionRule.java.">createTransition</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L731" name="L731"></a> 731         <em class="brace">}</em>
<a id="L732" name="L732"></a> 732         <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt; LAST_CACHED_YEAR) <em class="brace">{</em>
<a id="L733" name="L733"></a> 733             lastRulesCache.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(yearObj, transArray);
<a id="L734" name="L734"></a> 734         <em class="brace">}</em>
<a id="L735" name="L735"></a> 735         <strong class="reserved">return</strong> transArray;
<a id="L736" name="L736"></a> 736     <em class="brace">}</em>
<a id="L737" name="L737"></a> 737 
<div class="comment">
      Gets the standard offset for the specified instant in this zone.
      <p>
      This provides access to historic information on how the standard offset
      has changed over time.
      The standard offset is the offset before any daylight saving time is applied.
      This is typically the offset applicable during winter.
      @param instant  the instant to find the offset information for, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the standard offset, not null</p></div>
<a id="L750" name="L750"></a> 750     <strong class="reserved">public</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../R/19156.html" title="Multiple referred from 2 places.">getStandardOffset</a>(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">if</strong> (savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L752" name="L752"></a> 752             <strong class="reserved">return</strong> standardOffsets[0];
<a id="L753" name="L753"></a> 753         <em class="brace">}</em>
<a id="L754" name="L754"></a> 754         <strong class="reserved">long</strong> epochSec = <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L755" name="L755"></a> 755         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>  = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11841.html" title="Multiple defined in 21 places.">binarySearch</a>(standardTransitions, epochSec);
<a id="L756" name="L756"></a> 756         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757             <em class="comment">// switch negative insert position to start of matched range</em>
<a id="L758" name="L758"></a> 758             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = -<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 2;
<a id="L759" name="L759"></a> 759         <em class="brace">}</em>
<a id="L760" name="L760"></a> 760         <strong class="reserved">return</strong> standardOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1];
<a id="L761" name="L761"></a> 761     <em class="brace">}</em>
<a id="L762" name="L762"></a> 762 
<div class="comment">
      Gets the amount of daylight savings in use for the specified instant in this zone.
      <p>
      This provides access to historic information on how the amount of daylight
      savings has changed over time.
      This is the difference between the standard offset and the actual offset.
      Typically the amount is zero during winter and one hour during summer.
      Time-zones are second-based, so the nanosecond part of the duration will be zero.
      </p><p>
      This default implementation calculates the duration from the
      {@link #getOffset(java.time.Instant) actual} and
      {@link #getStandardOffset(java.time.Instant) standard} offsets.
      @param instant  the instant to find the daylight savings for, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the difference between the standard and actual offset, not null</p></div>
<a id="L780" name="L780"></a> 780     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> getDaylightSavings(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L781" name="L781"></a> 781         <strong class="reserved">if</strong> (savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L782" name="L782"></a> 782             <strong class="reserved">return</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>.ZERO;
<a id="L783" name="L783"></a> 783         <em class="brace">}</em>
<a id="L784" name="L784"></a> 784         <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> standardOffset = <a href="../D/22701.html" title="Multiple defined in 2 places.">getStandardOffset</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>);
<a id="L785" name="L785"></a> 785         <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> actualOffset = <a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>);
<a id="L786" name="L786"></a> 786         <strong class="reserved">return</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>.<a href="../D/28457.html" title="Multiple defined in 17 places.">ofSeconds</a>(actualOffset.<a href="../S/1553.html#L473" title="Defined at 473 in src/java/time/ZoneOffset.java.">getTotalSeconds</a>() - standardOffset.<a href="../S/1553.html#L473" title="Defined at 473 in src/java/time/ZoneOffset.java.">getTotalSeconds</a>());
<a id="L787" name="L787"></a> 787     <em class="brace">}</em>
<a id="L788" name="L788"></a> 788 
<div class="comment">
      Checks if the specified instant is in daylight savings.
      <p>
      This checks if the standard offset and the actual offset are the same
      for the specified instant.
      If they are not, it is assumed that daylight savings is in operation.
      </p><p>
      This default implementation compares the {@link #getOffset(java.time.Instant) actual}
      and {@link #getStandardOffset(java.time.Instant) standard} offsets.
      @param instant  the instant to find the offset information for, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the standard offset, not null</p></div>
<a id="L803" name="L803"></a> 803     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21325.html" title="Multiple referred from 2 places.">isDaylightSavings</a>(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L804" name="L804"></a> 804         <strong class="reserved">return</strong> (<a href="../D/22701.html" title="Multiple defined in 2 places.">getStandardOffset</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>)) == <strong class="reserved">false</strong>);
<a id="L805" name="L805"></a> 805     <em class="brace">}</em>
<a id="L806" name="L806"></a> 806 
<div class="comment">
      Checks if the offset date-time is valid for these rules.
      <p>
      To be valid, the local date-time must not be in a gap and the offset
      must match one of the valid offsets.
      </p><p>
      This default implementation checks if {@link #getValidOffsets(java.time.LocalDateTime)}
      contains the specified offset.
      @param localDateTime  the date-time to check, not null, but null
       may be ignored if the rules have a single offset for all instants
      @param offset  the offset to check, null returns false
      @return true if the offset date-time is valid for these rules</p></div>
<a id="L821" name="L821"></a> 821     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22188.html" title="Multiple referred from 3 places.">isValidOffset</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> <a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L822" name="L822"></a> 822         <strong class="reserved">return</strong> <a href="../D/23522.html" title="Multiple defined in 2 places.">getValidOffsets</a>(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>).<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L823" name="L823"></a> 823     <em class="brace">}</em>
<a id="L824" name="L824"></a> 824 
<div class="comment">
      Gets the next transition after the specified instant.
      <p>
      This returns details of the next transition after the specified instant.
      For example, if the instant represents a point where "Summer" daylight savings time
      applies, then the method will return the transition to the next "Winter" time.
      @param instant  the instant to get the next transition after, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the next transition after the specified instant, null if this is after the last transition</p></div>
<a id="L836" name="L836"></a> 836     <strong class="reserved">public</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> nextTransition(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L837" name="L837"></a> 837         <strong class="reserved">if</strong> (savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L838" name="L838"></a> 838             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L839" name="L839"></a> 839         <em class="brace">}</em>
<a id="L840" name="L840"></a> 840         <strong class="reserved">long</strong> epochSec = <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L841" name="L841"></a> 841         <em class="comment">// check if using last rules</em>
<a id="L842" name="L842"></a> 842         <strong class="reserved">if</strong> (epochSec &gt;= savingsInstantTransitions[savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1]) <em class="brace">{</em>
<a id="L843" name="L843"></a> 843             <strong class="reserved">if</strong> (lastRules.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L844" name="L844"></a> 844                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L845" name="L845"></a> 845             <em class="brace">}</em>
<a id="L846" name="L846"></a> 846             <em class="comment">// search year the instant is in</em>
<a id="L847" name="L847"></a> 847             <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/1522.html#L924" title="Defined at 924 in src/java/time/zone/ZoneRules.java.">findYear</a>(epochSec, wallOffsets[wallOffsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1]);
<a id="L848" name="L848"></a> 848             <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[] transArray = <a href="../S/1522.html#L721" title="Defined at 721 in src/java/time/zone/ZoneRules.java.">findTransitionArray</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L849" name="L849"></a> 849             <strong class="reserved">for</strong> (<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans : transArray) <em class="brace">{</em>
<a id="L850" name="L850"></a> 850                 <strong class="reserved">if</strong> (epochSec &lt; trans.<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>()) <em class="brace">{</em>
<a id="L851" name="L851"></a> 851                     <strong class="reserved">return</strong> trans;
<a id="L852" name="L852"></a> 852                 <em class="brace">}</em>
<a id="L853" name="L853"></a> 853             <em class="brace">}</em>
<a id="L854" name="L854"></a> 854             <em class="comment">// use first from following year</em>
<a id="L855" name="L855"></a> 855             <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt; <a href="../S/1530.html#L135" title="Defined at 135 in src/java/time/Year.java.">Year</a>.MAX_VALUE) <em class="brace">{</em>
<a id="L856" name="L856"></a> 856                 transArray = <a href="../S/1522.html#L721" title="Defined at 721 in src/java/time/zone/ZoneRules.java.">findTransitionArray</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> + 1);
<a id="L857" name="L857"></a> 857                 <strong class="reserved">return</strong> transArray[0];
<a id="L858" name="L858"></a> 858             <em class="brace">}</em>
<a id="L859" name="L859"></a> 859             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L860" name="L860"></a> 860         <em class="brace">}</em>
<a id="L861" name="L861"></a> 861 
<a id="L862" name="L862"></a> 862         <em class="comment">// using historic rules</em>
<a id="L863" name="L863"></a> 863         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>  = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11841.html" title="Multiple defined in 21 places.">binarySearch</a>(savingsInstantTransitions, epochSec);
<a id="L864" name="L864"></a> 864         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0) <em class="brace">{</em>
<a id="L865" name="L865"></a> 865             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = -<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 1;  <em class="comment">// switched value is the next transition</em>
<a id="L866" name="L866"></a> 866         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L867" name="L867"></a> 867             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += 1;  <em class="comment">// exact match, so need to add one to get the next</em>
<a id="L868" name="L868"></a> 868         <em class="brace">}</em>
<a id="L869" name="L869"></a> 869         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>(savingsInstantTransitions[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>], wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>], wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1]);
<a id="L870" name="L870"></a> 870     <em class="brace">}</em>
<a id="L871" name="L871"></a> 871 
<div class="comment">
      Gets the previous transition before the specified instant.
      <p>
      This returns details of the previous transition after the specified instant.
      For example, if the instant represents a point where "summer" daylight saving time
      applies, then the method will return the transition from the previous "winter" time.
      @param instant  the instant to get the previous transition after, not null, but null
       may be ignored if the rules have a single offset for all instants
      @return the previous transition after the specified instant, null if this is before the first transition</p></div>
<a id="L883" name="L883"></a> 883     <strong class="reserved">public</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> previousTransition(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L884" name="L884"></a> 884         <strong class="reserved">if</strong> (savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L885" name="L885"></a> 885             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L886" name="L886"></a> 886         <em class="brace">}</em>
<a id="L887" name="L887"></a> 887         <strong class="reserved">long</strong> epochSec = <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L888" name="L888"></a> 888         <strong class="reserved">if</strong> (<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>() &gt; 0 &amp;&amp; epochSec &lt; <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE) <em class="brace">{</em>
<a id="L889" name="L889"></a> 889             epochSec += 1;  <em class="comment">// allow rest of method to only use seconds</em>
<a id="L890" name="L890"></a> 890         <em class="brace">}</em>
<a id="L891" name="L891"></a> 891 
<a id="L892" name="L892"></a> 892         <em class="comment">// check if using last rules</em>
<a id="L893" name="L893"></a> 893         <strong class="reserved">long</strong> lastHistoric = savingsInstantTransitions[savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1];
<a id="L894" name="L894"></a> 894         <strong class="reserved">if</strong> (lastRules.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0 &amp;&amp; epochSec &gt; lastHistoric) <em class="brace">{</em>
<a id="L895" name="L895"></a> 895             <em class="comment">// search year the instant is in</em>
<a id="L896" name="L896"></a> 896             <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> lastHistoricOffset = wallOffsets[wallOffsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1];
<a id="L897" name="L897"></a> 897             <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/1522.html#L924" title="Defined at 924 in src/java/time/zone/ZoneRules.java.">findYear</a>(epochSec, lastHistoricOffset);
<a id="L898" name="L898"></a> 898             <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>[] transArray = <a href="../S/1522.html#L721" title="Defined at 721 in src/java/time/zone/ZoneRules.java.">findTransitionArray</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L899" name="L899"></a> 899             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = transArray.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1; i &gt;= 0; i--) <em class="brace">{</em>
<a id="L900" name="L900"></a> 900                 <strong class="reserved">if</strong> (epochSec &gt; transArray[i].<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>()) <em class="brace">{</em>
<a id="L901" name="L901"></a> 901                     <strong class="reserved">return</strong> transArray[i];
<a id="L902" name="L902"></a> 902                 <em class="brace">}</em>
<a id="L903" name="L903"></a> 903             <em class="brace">}</em>
<a id="L904" name="L904"></a> 904             <em class="comment">// use last from preceding year</em>
<a id="L905" name="L905"></a> 905             <strong class="reserved">int</strong> lastHistoricYear = <a href="../S/1522.html#L924" title="Defined at 924 in src/java/time/zone/ZoneRules.java.">findYear</a>(lastHistoric, lastHistoricOffset);
<a id="L906" name="L906"></a> 906             <strong class="reserved">if</strong> (--<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &gt; lastHistoricYear) <em class="brace">{</em>
<a id="L907" name="L907"></a> 907                 transArray = <a href="../S/1522.html#L721" title="Defined at 721 in src/java/time/zone/ZoneRules.java.">findTransitionArray</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L908" name="L908"></a> 908                 <strong class="reserved">return</strong> transArray[transArray.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1];
<a id="L909" name="L909"></a> 909             <em class="brace">}</em>
<a id="L910" name="L910"></a> 910             <em class="comment">// drop through</em>
<a id="L911" name="L911"></a> 911         <em class="brace">}</em>
<a id="L912" name="L912"></a> 912 
<a id="L913" name="L913"></a> 913         <em class="comment">// using historic rules</em>
<a id="L914" name="L914"></a> 914         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>  = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11841.html" title="Multiple defined in 21 places.">binarySearch</a>(savingsInstantTransitions, epochSec);
<a id="L915" name="L915"></a> 915         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0) <em class="brace">{</em>
<a id="L916" name="L916"></a> 916             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = -<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 1;
<a id="L917" name="L917"></a> 917         <em class="brace">}</em>
<a id="L918" name="L918"></a> 918         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt;= 0) <em class="brace">{</em>
<a id="L919" name="L919"></a> 919             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L920" name="L920"></a> 920         <em class="brace">}</em>
<a id="L921" name="L921"></a> 921         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>(savingsInstantTransitions[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 1], wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 1], wallOffsets[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L922" name="L922"></a> 922     <em class="brace">}</em>
<a id="L923" name="L923"></a> 923 
<a id="L924" name="L924"></a> 924     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/14506.html" title="Multiple referred from 4 places.">findYear</a>(<strong class="reserved">long</strong> epochSecond, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L925" name="L925"></a> 925         <em class="comment">// inline for performance</em>
<a id="L926" name="L926"></a> 926         <strong class="reserved">long</strong> localSecond = epochSecond + <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>.<a href="../S/1553.html#L473" title="Defined at 473 in src/java/time/ZoneOffset.java.">getTotalSeconds</a>();
<a id="L927" name="L927"></a> 927         <strong class="reserved">long</strong> localEpochDay = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16469.html" title="Multiple defined in 4 places.">floorDiv</a>(localSecond, 86400);
<a id="L928" name="L928"></a> 928         <strong class="reserved">return</strong> <a href="../S/1549.html#L137" title="Defined at 137 in src/java/time/LocalDate.java.">LocalDate</a>.<a href="../D/28434.html" title="Multiple defined in 2 places.">ofEpochDay</a>(localEpochDay).<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>();
<a id="L929" name="L929"></a> 929     <em class="brace">}</em>
<a id="L930" name="L930"></a> 930 
<div class="comment">
      Gets the complete list of fully defined transitions.
      <p>
      The complete set of transitions for this rules instance is defined by this method
      and {@link #getTransitionRules()}. This method returns those transitions that have
      been fully defined. These are typically historical, but may be in the future.
      </p><p>
      The list will be empty for fixed offset rules and for any time-zone where there has
      only ever been a single offset. The list will also be empty if the transition rules are unknown.
      @return an immutable list of fully defined transitions, not null</p></div>
<a id="L943" name="L943"></a> 943     <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>&gt; getTransitions() <em class="brace">{</em>
<a id="L944" name="L944"></a> 944         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L945" name="L945"></a> 945         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; savingsInstantTransitions.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L946" name="L946"></a> 946             <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">new</strong> <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a>(savingsInstantTransitions[i], wallOffsets[i], wallOffsets[i + 1]));
<a id="L947" name="L947"></a> 947         <em class="brace">}</em>
<a id="L948" name="L948"></a> 948         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>);
<a id="L949" name="L949"></a> 949     <em class="brace">}</em>
<a id="L950" name="L950"></a> 950 
<div class="comment">
      Gets the list of transition rules for years beyond those defined in the transition list.
      <p>
      The complete set of transitions for this rules instance is defined by this method
      and {@link #getTransitions()}. This method returns instances of <a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>
      that define an algorithm for when transitions will occur.
      </p><p>
      For any given <code>ZoneRules</code>, this list contains the transition rules for years
      beyond those years that have been fully defined. These rules typically refer to future
      daylight saving time rule changes.
      </p><p>
      If the zone defines daylight savings into the future, then the list will normally
      be of size two and hold information about entering and exiting daylight savings.
      If the zone does not have daylight savings, or information about future changes
      is uncertain, then the list will be empty.
      </p><p>
      The list will be empty for fixed offset rules and for any time-zone where there is no
      daylight saving time. The list will also be empty if the transition rules are unknown.
      @return an immutable list of transition rules, not null</p></div>
<a id="L972" name="L972"></a> 972     <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1524.html#L100" title="Defined at 100 in src/java/time/zone/ZoneOffsetTransitionRule.java.">ZoneOffsetTransitionRule</a>&gt; getTransitionRules() <em class="brace">{</em>
<a id="L973" name="L973"></a> 973         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>(lastRules));
<a id="L974" name="L974"></a> 974     <em class="brace">}</em>
<a id="L975" name="L975"></a> 975 
<div class="comment">
      Checks if this set of rules equals another.
      <p>
      Two rule sets are equal if they will always result in the same output
      for any given input instant or local date-time.
      Rules from two different groups may return false even if they are in fact the same.
      </p><p>
      This definition should result in implementations comparing their entire state.
      @param otherRules  the other rules, null returns false
      @return true if this rules is the same as that specified</p></div>
<a id="L988" name="L988"></a> 988     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L989" name="L989"></a> 989     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> otherRules) <em class="brace">{</em>
<a id="L990" name="L990"></a> 990         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == otherRules) <em class="brace">{</em>
<a id="L991" name="L991"></a> 991            <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L992" name="L992"></a> 992         <em class="brace">}</em>
<a id="L993" name="L993"></a> 993         <strong class="reserved">if</strong> (otherRules <strong class="reserved">instanceof</strong> <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a>) <em class="brace">{</em>
<a id="L994" name="L994"></a> 994             <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a> other = (<a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a>) otherRules;
<a id="L995" name="L995"></a> 995             <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(standardTransitions, other.standardTransitions) &amp;&amp;
<a id="L996" name="L996"></a> 996                     <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(standardOffsets, other.standardOffsets) &amp;&amp;
<a id="L997" name="L997"></a> 997                     <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(savingsInstantTransitions, other.savingsInstantTransitions) &amp;&amp;
<a id="L998" name="L998"></a> 998                     <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(wallOffsets, other.wallOffsets) &amp;&amp;
<a id="L999" name="L999"></a> 999                     <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(lastRules, other.lastRules);
<a id="L1000" name="L1000"></a>1000         <em class="brace">}</em>
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1002" name="L1002"></a>1002     <em class="brace">}</em>
<a id="L1003" name="L1003"></a>1003 
<div class="comment">
      Returns a suitable hash code given the definition of <code>#equals</code>.
      @return the hash code</div>
<a id="L1009" name="L1009"></a>1009     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1010" name="L1010"></a>1010     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L1011" name="L1011"></a>1011         <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(standardTransitions) ^
<a id="L1012" name="L1012"></a>1012                 <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(standardOffsets) ^
<a id="L1013" name="L1013"></a>1013                 <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(savingsInstantTransitions) ^
<a id="L1014" name="L1014"></a>1014                 <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(wallOffsets) ^
<a id="L1015" name="L1015"></a>1015                 <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(lastRules);
<a id="L1016" name="L1016"></a>1016     <em class="brace">}</em>
<a id="L1017" name="L1017"></a>1017 
<div class="comment">
      Returns a string describing this object.
      @return a string for debugging, not null</div>
<a id="L1023" name="L1023"></a>1023     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1024" name="L1024"></a>1024     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1025" name="L1025"></a>1025         <strong class="reserved">return</strong> "ZoneRules[currentStandardOffset=" + standardOffsets[standardOffsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1] + "]";
<a id="L1026" name="L1026"></a>1026     <em class="brace">}</em>
<a id="L1027" name="L1027"></a>1027 
<a id="L1028" name="L1028"></a>1028 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L176">[^]</a><a href="#L1024">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>