<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/prefs/Preferences.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L228">[^]</a><a href="#L1253">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L228" title="Defined at 228.">factory</a></li>
<li><a href="#L272" title="Defined at 272.">factory1</a></li>
<li><a href="#L367" title="Defined at 367.">userNodeForPackage</a></li>
<li><a href="#L411" title="Defined at 411.">systemNodeForPackage</a></li>
<li><a href="#L422" title="Defined at 422.">nodeName</a></li>
<li><a href="#L449" title="Defined at 449.">userRoot</a></li>
<li><a href="#L465" title="Defined at 465.">systemRoot</a></li>
<li><a href="#L493" title="Defined at 493.">put</a></li>
<li><a href="#L516" title="Defined at 516.">get</a></li>
<li><a href="#L532" title="Defined at 532.">remove</a></li>
<li><a href="#L551" title="Defined at 551.">clear</a></li>
<li><a href="#L569" title="Defined at 569.">putInt</a></li>
<li><a href="#L601" title="Defined at 601.">getInt</a></li>
<li><a href="#L619" title="Defined at 619.">putLong</a></li>
<li><a href="#L651" title="Defined at 651.">getLong</a></li>
<li><a href="#L670" title="Defined at 670.">putBoolean</a></li>
<li><a href="#L706" title="Defined at 706.">getBoolean</a></li>
<li><a href="#L724" title="Defined at 724.">putFloat</a></li>
<li><a href="#L755" title="Defined at 755.">getFloat</a></li>
<li><a href="#L773" title="Defined at 773.">putDouble</a></li>
<li><a href="#L804" title="Defined at 804.">getDouble</a></li>
<li><a href="#L829" title="Defined at 829.">putByteArray</a></li>
<li><a href="#L868" title="Defined at 868.">getByteArray</a></li>
<li><a href="#L888" title="Defined at 888.">keys</a></li>
<li><a href="#L902" title="Defined at 902.">childrenNames</a></li>
<li><a href="#L912" title="Defined at 912.">parent</a></li>
<li><a href="#L936" title="Defined at 936.">node</a></li>
<li><a href="#L964" title="Defined at 964.">nodeExists</a></li>
<li><a href="#L997" title="Defined at 997.">removeNode</a></li>
<li><a href="#L1004" title="Defined at 1004.">name</a></li>
<li><a href="#L1011" title="Defined at 1011.">absolutePath</a></li>
<li><a href="#L1021" title="Defined at 1021.">isUserNode</a></li>
<li><a href="#L1028" title="Defined at 1028.">toString</a></li>
<li><a href="#L1054" title="Defined at 1054.">flush</a></li>
<li><a href="#L1071" title="Defined at 1071.">sync</a></li>
<li><a href="#L1097" title="Defined at 1097.">addPreferenceChangeListener</a></li>
<li><a href="#L1111" title="Defined at 1111.">removePreferenceChangeListener</a></li>
<li><a href="#L1143" title="Defined at 1143.">addNodeChangeListener</a></li>
<li><a href="#L1156" title="Defined at 1156.">removeNodeChangeListener</a></li>
<li><a href="#L1186" title="Defined at 1186.">exportNode</a></li>
<li><a href="#L1218" title="Defined at 1218.">exportSubtree</a></li>
<li><a href="#L1253" title="Defined at 1253.">importPreferences</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.prefs;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.IOException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.Permission;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.ServiceLoader;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.ServiceConfigurationError;
<a id="L37" name="L37"></a>  37 
<a id="L38" name="L38"></a>  38 <em class="comment">// These imports needed only as a workaround for a JavaDoc bug</em>
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.lang.RuntimePermission;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.lang.Integer;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.lang.Long;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.lang.Float;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.lang.Double;
<a id="L44" name="L44"></a>  44 
<div class="comment">
  A node in a hierarchical collection of preference data.  This class
  allows applications to store and retrieve user and system
  preference and configuration data.  This data is stored
  persistently in an implementation-dependent backing store.  Typical
  implementations include flat files, OS-specific registries,
  directory servers and SQL databases.  The user of this class needn't
  be concerned with details of the backing store.
  <p>There are two separate trees of preference nodes, one for user
  preferences and one for system preferences.  Each user has a separate user
  preference tree, and all users in a given system share the same system
  preference tree.  The precise description of "user" and "system" will vary
  from implementation to implementation.  Typical information stored in the
  user preference tree might include font choice, color choice, or preferred
  window location and size for a particular application.  Typical information
  stored in the system preference tree might include installation
  configuration data for an application.
  </p><p>Nodes in a preference tree are named in a similar fashion to
  directories in a hierarchical file system.   Every node in a preference
  tree has a <i>node name</i> (which is not necessarily unique),
  a unique <i>absolute path name</i>, and a path name <i>relative</i> to each
  ancestor including itself.
  </p><p>The root node has a node name of the empty string ("").  Every other
  node has an arbitrary node name, specified at the time it is created.  The
  only restrictions on this name are that it cannot be the empty string, and
  it cannot contain the slash character ('/').
  </p><p>The root node has an absolute path name of <tt>"/"</tt>.  Children of
  the root node have absolute path names of <tt>"/" + </tt><i>&lt;node
  name&gt;</i>.  All other nodes have absolute path names of <i>&lt;parent's
  absolute path name&gt;</i><tt> + "/" + </tt><i>&lt;node name&gt;</i>.
  Note that all absolute path names begin with the slash character.
  </p><p>A node <i>n</i>'s path name relative to its ancestor <i>a</i>
  is simply the string that must be appended to <i>a</i>'s absolute path name
  in order to form <i>n</i>'s absolute path name, with the initial slash
  character (if present) removed.  Note that:
  </p><ul><li>No relative path names begin with the slash character.
  </li><li>Every node's path name relative to itself is the empty string.
  </li><li>Every node's path name relative to its parent is its node name (except
  for the root node, which does not have a parent).
  </li><li>Every node's path name relative to the root is its absolute path name
  with the initial slash character removed.
  </li></ul>
  <p>Note finally that:
  </p><ul><li>No path name contains multiple consecutive slash characters.
  </li><li>No path name with the exception of the root's absolute path name
  ends in the slash character.
  </li><li>Any string that conforms to these two rules is a valid path name.
  </li></ul>
  <p>All of the methods that modify preferences data are permitted to operate
  asynchronously; they may return immediately, and changes will eventually
  propagate to the persistent backing store with an implementation-dependent
  delay.  The <tt>flush</tt> method may be used to synchronously force
  updates to the backing store.  Normal termination of the Java Virtual
  Machine will <i>not</i> result in the loss of pending updates -- an explicit
  <tt>flush</tt> invocation is <i>not</i> required upon termination to ensure
  that pending updates are made persistent.
  </p><p>All of the methods that read preferences from a <tt>Preferences</tt>
  object require the invoker to provide a default value.  The default value is
  returned if no value has been previously set <i>or if the backing store is
  unavailable</i>.  The intent is to allow applications to operate, albeit
  with slightly degraded functionality, even if the backing store becomes
  unavailable.  Several methods, like <tt>flush</tt>, have semantics that
  prevent them from operating if the backing store is unavailable.  Ordinary
  applications should have no need to invoke any of these methods, which can
  be identified by the fact that they are declared to throw {@link
  BackingStoreException}.
  </p><p>The methods in this class may be invoked concurrently by multiple threads
  in a single JVM without the need for external synchronization, and the
  results will be equivalent to some serial execution.  If this class is used
  concurrently <i>by multiple JVMs</i> that store their preference data in
  the same backing store, the data store will not be corrupted, but no
  other guarantees are made concerning the consistency of the preference
  data.
  </p><p>This class contains an export/import facility, allowing preferences
  to be "exported" to an XML document, and XML documents representing
  preferences to be "imported" back into the system.  This facility
  may be used to back up all or part of a preference tree, and
  subsequently restore from the backup.
  </p><p>The XML document has the following DOCTYPE declaration:
  </p><pre>{@code
  }</pre>
  Note that the system URI (http://java.sun.com/dtd/preferences.dtd) is
  <i>not</i> accessed when exporting or importing preferences; it merely
  serves as a string to uniquely identify the DTD, which is:
  <pre>{@code
     <!--?xml version="1.0" encoding="UTF-8"?-->
     <!-- DTD for a Preferences tree. -->
     <!-- The preferences element is at the root of an XML document
          representing a Preferences tree. -->
     <!--ELEMENT preferences (root)-->
     <!-- The preferences element contains an optional version attribute,
           which specifies version of DTD. -->
     <!--ATTLIST preferences EXTERNAL_XML_VERSION CDATA "0.0" -->
     <!-- The root element has a map representing the root's preferences
          (if any), and one node for each child of the root (if any). -->
     <!--ELEMENT root (map, node*) -->
     <!-- Additionally, the root contains a type attribute, which
          specifies whether it's the system or user root. -->
     <!--ATTLIST root
               type (system|user) #REQUIRED -->
     <!-- Each node has a map representing its preferences (if any),
          and one node for each child (if any). -->
     <!--ELEMENT node (map, node*) -->
     <!-- Additionally, each node has a name attribute -->
     <!--ATTLIST node
               name CDATA #REQUIRED -->
     <!-- A map represents the preferences stored at a node (if any). -->
     <!--ELEMENT map (entry*) -->
     <!-- An entry represents a single preference, which is simply
           a key-value pair. -->
     <!--ELEMENT entry EMPTY -->
     <!--ATTLIST entry
               key   CDATA #REQUIRED
               value CDATA #REQUIRED -->
  }</pre>
  Every <tt>Preferences</tt> implementation must have an associated {@link
  PreferencesFactory} implementation.  Every Java(TM) SE implementation must provide
  some means of specifying which <tt>PreferencesFactory</tt> implementation
  is used to generate the root preferences nodes.  This allows the
  administrator to replace the default preferences implementation with an
  alternative implementation.
  <p>Implementation note: In Sun's JRE, the <tt>PreferencesFactory</tt>
  implementation is located as follows:
  </p><ol>
  <li><p>If the system property
  <tt>java.util.prefs.PreferencesFactory</tt> is defined, then it is
  taken to be the fully-qualified name of a class implementing the
  <tt>PreferencesFactory</tt> interface.  The class is loaded and
  instantiated; if this process fails then an unspecified error is
  thrown.</p></li><li><p> If a <tt>PreferencesFactory</tt> implementation class file
  has been installed in a jar file that is visible to the
  {@link java.lang.ClassLoader#getSystemClassLoader system class loader},
  and that jar file contains a provider-configuration file named
  <tt>java.util.prefs.PreferencesFactory</tt> in the resource
  directory <tt>META-INF/services</tt>, then the first class name
  specified in that file is taken.  If more than one such jar file is
  provided, the first one found will be used.  The class is loaded
  and instantiated; if this process fails then an unspecified error
  is thrown.  </p></li><li><p>Finally, if neither the above-mentioned system property nor
  an extension jar file is provided, then the system-wide default
  <tt>PreferencesFactory</tt> implementation for the underlying
  platform is loaded and instantiated.</p></li>
  </ol>
  @author  Josh Bloch
  @since   1.4</div>
<a id="L224" name="L224"></a> 224 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/6190.html" title="Multiple referred from 42 places.">Preferences</a> <em class="brace">{</em>
<a id="L225" name="L225"></a> 225 
<a id="L226" name="L226"></a> 226     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>();
<a id="L227" name="L227"></a> 227 
<a id="L228" name="L228"></a> 228     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a> <a href="../R/14232.html" title="Multiple referred from 604 places.">factory</a>() <em class="brace">{</em>
<a id="L229" name="L229"></a> 229         <em class="comment">// 1. Try user-specified system property</em>
<a id="L230" name="L230"></a> 230         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> factoryName = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L231" name="L231"></a> 231             <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;() <em class="brace">{</em>
<a id="L232" name="L232"></a> 232                 <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L233" name="L233"></a> 233                     <strong class="reserved">return</strong> <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(
<a id="L234" name="L234"></a> 234                         "java.util.prefs.PreferencesFactory");<em class="brace">}</em><em class="brace">}</em>);
<a id="L235" name="L235"></a> 235         <strong class="reserved">if</strong> (factoryName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236             <em class="comment">// FIXME: This code should be run in a doPrivileged and</em>
<a id="L237" name="L237"></a> 237             <em class="comment">// not use the context classloader, to avoid being</em>
<a id="L238" name="L238"></a> 238             <em class="comment">// dependent on the invoking thread.</em>
<a id="L239" name="L239"></a> 239             <em class="comment">// Checking AllPermission also seems wrong.</em>
<a id="L240" name="L240"></a> 240             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L241" name="L241"></a> 241                 <strong class="reserved">return</strong> (<a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a>)
<a id="L242" name="L242"></a> 242                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(factoryName, <strong class="reserved">false</strong>,
<a id="L243" name="L243"></a> 243                                   <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>())
<a id="L244" name="L244"></a> 244                     .<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L245" name="L245"></a> 245             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L246" name="L246"></a> 246                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L247" name="L247"></a> 247                     <em class="comment">// workaround for javaws, plugin,</em>
<a id="L248" name="L248"></a> 248                     <em class="comment">// load factory class using non-system classloader</em>
<a id="L249" name="L249"></a> 249                     <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L250" name="L250"></a> 250                     <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251                         sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1336.html#L58" title="Defined at 58 in src/java/security/AllPermission.java.">AllPermission</a>());
<a id="L252" name="L252"></a> 252                     <em class="brace">}</em>
<a id="L253" name="L253"></a> 253                     <strong class="reserved">return</strong> (<a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a>)
<a id="L254" name="L254"></a> 254                         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(factoryName, <strong class="reserved">false</strong>,
<a id="L255" name="L255"></a> 255                                       <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()
<a id="L256" name="L256"></a> 256                                       .<a href="../D/17977.html" title="Multiple defined in 21 places.">getContextClassLoader</a>())
<a id="L257" name="L257"></a> 257                         .<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L258" name="L258"></a> 258                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L259" name="L259"></a> 259                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(
<a id="L260" name="L260"></a> 260                         "Can't instantiate Preferences factory "
<a id="L261" name="L261"></a> 261                         + factoryName, e);
<a id="L262" name="L262"></a> 262                 <em class="brace">}</em>
<a id="L263" name="L263"></a> 263             <em class="brace">}</em>
<a id="L264" name="L264"></a> 264         <em class="brace">}</em>
<a id="L265" name="L265"></a> 265 
<a id="L266" name="L266"></a> 266         <strong class="reserved">return</strong> <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L267" name="L267"></a> 267             <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a>&gt;() <em class="brace">{</em>
<a id="L268" name="L268"></a> 268                 <strong class="reserved">public</strong> <a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L269" name="L269"></a> 269                     <strong class="reserved">return</strong> <a href="../S/833.html#L272" title="Defined at 272 in src/java/util/prefs/Preferences.java.">factory1</a>();<em class="brace">}</em><em class="brace">}</em>);
<a id="L270" name="L270"></a> 270     <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a> <a href="../S/833.html#L269" title="Referred from 269 in src/java/util/prefs/Preferences.java.">factory1</a>() <em class="brace">{</em>
<a id="L273" name="L273"></a> 273         <em class="comment">// 2. Try service provider interface</em>
<a id="L274" name="L274"></a> 274         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a>&gt; itr = <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>
<a id="L275" name="L275"></a> 275             .<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a>.<strong class="reserved">class</strong>, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>())
<a id="L276" name="L276"></a> 276             .<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L277" name="L277"></a> 277 
<a id="L278" name="L278"></a> 278         <em class="comment">// choose first provider instance</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">while</strong> (itr.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L281" name="L281"></a> 281                 <strong class="reserved">return</strong> itr.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L282" name="L282"></a> 282             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1155.html#L59" title="Defined at 59 in src/java/util/ServiceConfigurationError.java.">ServiceConfigurationError</a> sce) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283                 <strong class="reserved">if</strong> (sce.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>() <strong class="reserved">instanceof</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284                     <em class="comment">// Ignore the security exception, try the next provider</em>
<a id="L285" name="L285"></a> 285                     <strong class="reserved">continue</strong>;
<a id="L286" name="L286"></a> 286                 <em class="brace">}</em>
<a id="L287" name="L287"></a> 287                 <strong class="reserved">throw</strong> sce;
<a id="L288" name="L288"></a> 288             <em class="brace">}</em>
<a id="L289" name="L289"></a> 289         <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<a id="L291" name="L291"></a> 291         <em class="comment">// 3. Use platform-specific system-wide default</em>
<a id="L292" name="L292"></a> 292         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> osName = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("os.name");
<a id="L293" name="L293"></a> 293         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> platformFactory;
<a id="L294" name="L294"></a> 294         <strong class="reserved">if</strong> (osName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("Windows")) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295             platformFactory = "java.util.prefs.WindowsPreferencesFactory";
<a id="L296" name="L296"></a> 296         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (osName.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>("OS X")) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297             platformFactory = "java.util.prefs.MacOSXPreferencesFactory";
<a id="L298" name="L298"></a> 298         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L299" name="L299"></a> 299             platformFactory = "java.util.prefs.FileSystemPreferencesFactory";
<a id="L300" name="L300"></a> 300         <em class="brace">}</em>
<a id="L301" name="L301"></a> 301         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L302" name="L302"></a> 302             <strong class="reserved">return</strong> (<a href="../S/832.html#L44" title="Defined at 44 in src/java/util/prefs/PreferencesFactory.java.">PreferencesFactory</a>)
<a id="L303" name="L303"></a> 303                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(platformFactory, <strong class="reserved">false</strong>,
<a id="L304" name="L304"></a> 304                               <a href="../S/833.html#L224" title="Defined at 224 in src/java/util/prefs/Preferences.java.">Preferences</a>.<strong class="reserved">class</strong>.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>()).<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L305" name="L305"></a> 305         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(
<a id="L307" name="L307"></a> 307                 "Can't instantiate platform default Preferences factory "
<a id="L308" name="L308"></a> 308                 + platformFactory, e);
<a id="L309" name="L309"></a> 309         <em class="brace">}</em>
<a id="L310" name="L310"></a> 310     <em class="brace">}</em>
<a id="L311" name="L311"></a> 311 
<div class="comment">
      Maximum length of string allowed as a key (80 characters).</div>
<a id="L315" name="L315"></a> 315     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAX_KEY_LENGTH = 80;
<a id="L316" name="L316"></a> 316 
<div class="comment">
      Maximum length of string allowed as a value (8192 characters).</div>
<a id="L320" name="L320"></a> 320     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAX_VALUE_LENGTH = 8*1024;
<a id="L321" name="L321"></a> 321 
<div class="comment">
      Maximum length of a node name (80 characters).</div>
<a id="L325" name="L325"></a> 325     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAX_NAME_LENGTH = 80;
<a id="L326" name="L326"></a> 326 
<div class="comment">
      Returns the preference node from the calling user's preference tree
      that is associated (by convention) with the specified class's package.
      The convention is as follows: the absolute path name of the node is the
      fully qualified package name, preceded by a slash (<tt>'/'</tt>), and
      with each period (<tt>'.'</tt>) replaced by a slash.  For example the
      absolute path name of the node associated with the class
      <tt>com.acme.widget.Foo</tt> is <tt>/com/acme/widget</tt>.
      <p>This convention does not apply to the unnamed package, whose
      associated preference node is <tt>&lt;unnamed&gt;</tt>.  This node
      is not intended for long term use, but for convenience in the early
      development of programs that do not yet belong to a package, and
      for "throwaway" programs.  <i>Valuable data should not be stored
      at this node as it is shared by all programs that use it.</i>
      </p><p>A class <tt>Foo</tt> wishing to access preferences pertaining to its
      package can obtain a preference node as follows: </p><pre>         static Preferences prefs = Preferences.userNodeForPackage(Foo.class);
      </pre>
      This idiom obviates the need for using a string to describe the
      preferences node and decreases the likelihood of a run-time failure.
      (If the class name is misspelled, it will typically result in a
      compile-time error.)
      <p>Invoking this method will result in the creation of the returned
      node and its ancestors if they do not already exist.  If the returned
      node did not exist prior to this call, this node and any ancestors that
      were created by this call are not guaranteed to become permanent until
      the <tt>flush</tt> method is called on the returned node (or one of its
      ancestors or descendants).
      @param c the class for whose package a user preference node is desired.
      @return the user preference node associated with the package of which
              <tt>c</tt> is a member.
      @throws NullPointerException if <tt>c</tt> is <tt>null</tt>.
      @throws SecurityException if a security manager is present and
              it denies <tt>RuntimePermission("preferences")</tt>.
      @see    RuntimePermission</p></div>
<a id="L367" name="L367"></a> 367     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/833.html#L224" title="Defined at 224 in src/java/util/prefs/Preferences.java.">Preferences</a> userNodeForPackage(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368         <strong class="reserved">return</strong> <a href="../D/36293.html" title="Multiple defined in 3 places.">userRoot</a>().<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>(<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>));
<a id="L369" name="L369"></a> 369     <em class="brace">}</em>
<a id="L370" name="L370"></a> 370 
<div class="comment">
      Returns the preference node from the system preference tree that is
      associated (by convention) with the specified class's package.  The
      convention is as follows: the absolute path name of the node is the
      fully qualified package name, preceded by a slash (<tt>'/'</tt>), and
      with each period (<tt>'.'</tt>) replaced by a slash.  For example the
      absolute path name of the node associated with the class
      <tt>com.acme.widget.Foo</tt> is <tt>/com/acme/widget</tt>.
      <p>This convention does not apply to the unnamed package, whose
      associated preference node is <tt>&lt;unnamed&gt;</tt>.  This node
      is not intended for long term use, but for convenience in the early
      development of programs that do not yet belong to a package, and
      for "throwaway" programs.  <i>Valuable data should not be stored
      at this node as it is shared by all programs that use it.</i>
      </p><p>A class <tt>Foo</tt> wishing to access preferences pertaining to its
      package can obtain a preference node as follows: </p><pre>       static Preferences prefs = Preferences.systemNodeForPackage(Foo.class);
      </pre>
      This idiom obviates the need for using a string to describe the
      preferences node and decreases the likelihood of a run-time failure.
      (If the class name is misspelled, it will typically result in a
      compile-time error.)
      <p>Invoking this method will result in the creation of the returned
      node and its ancestors if they do not already exist.  If the returned
      node did not exist prior to this call, this node and any ancestors that
      were created by this call are not guaranteed to become permanent until
      the <tt>flush</tt> method is called on the returned node (or one of its
      ancestors or descendants).
      @param c the class for whose package a system preference node is desired.
      @return the system preference node associated with the package of which
              <tt>c</tt> is a member.
      @throws NullPointerException if <tt>c</tt> is <tt>null</tt>.
      @throws SecurityException if a security manager is present and
              it denies <tt>RuntimePermission("preferences")</tt>.
      @see    RuntimePermission</p></div>
<a id="L411" name="L411"></a> 411     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/833.html#L224" title="Defined at 224 in src/java/util/prefs/Preferences.java.">Preferences</a> systemNodeForPackage(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">return</strong> <a href="../D/35194.html" title="Multiple defined in 3 places.">systemRoot</a>().<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>(<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>));
<a id="L413" name="L413"></a> 413     <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<div class="comment">
      Returns the absolute path name of the node corresponding to the package
      of the specified object.
      @throws IllegalArgumentException if the package has node preferences
              node associated with it.</div>
<a id="L422" name="L422"></a> 422     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/23752.html" title="Multiple referred from 64 places.">nodeName</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L423" name="L423"></a> 423         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a>())
<a id="L424" name="L424"></a> 424             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L425" name="L425"></a> 425                 "Arrays have no associated preferences node.");
<a id="L426" name="L426"></a> 426         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L427" name="L427"></a> 427         <strong class="reserved">int</strong> pkgEndIndex = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('.');
<a id="L428" name="L428"></a> 428         <strong class="reserved">if</strong> (pkgEndIndex &lt; 0)
<a id="L429" name="L429"></a> 429             <strong class="reserved">return</strong> "/&lt;unnamed&gt;";
<a id="L430" name="L430"></a> 430         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> packageName = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, pkgEndIndex);
<a id="L431" name="L431"></a> 431         <strong class="reserved">return</strong> "/" + packageName.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.', '/');
<a id="L432" name="L432"></a> 432     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<div class="comment">
      This permission object represents the permission required to get
      access to the user or system root (which in turn allows for all
      other operations).</div>
<a id="L439" name="L439"></a> 439     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> prefsPerm = <strong class="reserved">new</strong> <a href="../S/1764.html#L349" title="Defined at 349 in src/java/lang/RuntimePermission.java.">RuntimePermission</a>("preferences");
<a id="L440" name="L440"></a> 440 
<div class="comment">
      Returns the root preference node for the calling user.
      @return the root preference node for the calling user.
      @throws SecurityException If a security manager is present and
              it denies <tt>RuntimePermission("preferences")</tt>.
      @see    RuntimePermission</div>
<a id="L449" name="L449"></a> 449     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/833.html#L224" title="Defined at 224 in src/java/util/prefs/Preferences.java.">Preferences</a> <a href="../R/30031.html" title="Multiple referred from 6 places.">userRoot</a>() <em class="brace">{</em>
<a id="L450" name="L450"></a> 450         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L451" name="L451"></a> 451         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>)
<a id="L452" name="L452"></a> 452             security.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(prefsPerm);
<a id="L453" name="L453"></a> 453 
<a id="L454" name="L454"></a> 454         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/36293.html" title="Multiple defined in 3 places.">userRoot</a>();
<a id="L455" name="L455"></a> 455     <em class="brace">}</em>
<a id="L456" name="L456"></a> 456 
<div class="comment">
      Returns the root preference node for the system.
      @return the root preference node for the system.
      @throws SecurityException If a security manager is present and
              it denies <tt>RuntimePermission("preferences")</tt>.
      @see    RuntimePermission</div>
<a id="L465" name="L465"></a> 465     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/833.html#L224" title="Defined at 224 in src/java/util/prefs/Preferences.java.">Preferences</a> <a href="../R/29096.html" title="Multiple referred from 5 places.">systemRoot</a>() <em class="brace">{</em>
<a id="L466" name="L466"></a> 466         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L467" name="L467"></a> 467         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>)
<a id="L468" name="L468"></a> 468             security.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(prefsPerm);
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470         <strong class="reserved">return</strong> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/35194.html" title="Multiple defined in 3 places.">systemRoot</a>();
<a id="L471" name="L471"></a> 471     <em class="brace">}</em>
<a id="L472" name="L472"></a> 472 
<div class="comment">
      Sole constructor. (For invocation by subclass constructors, typically
      implicit.)</div>
<a id="L477" name="L477"></a> 477     <strong class="reserved">protected</strong> Preferences() <em class="brace">{</em>
<a id="L478" name="L478"></a> 478     <em class="brace">}</em>
<a id="L479" name="L479"></a> 479 
<div class="comment">
      Associates the specified value with the specified key in this
      preference node.
      @param key key with which the specified value is to be associated.
      @param value value to be associated with the specified key.
      @throws NullPointerException if key or value is <tt>null</tt>.
      @throws IllegalArgumentException if <tt>key.length()</tt> exceeds
            <tt>MAX_KEY_LENGTH</tt> or if <tt>value.length</tt> exceeds
            <tt>MAX_VALUE_LENGTH</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.</div>
<a id="L493" name="L493"></a> 493     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25285.html" title="Multiple referred from 5173 places.">put</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L494" name="L494"></a> 494 
<div class="comment">
      Returns the value associated with the specified key in this preference
      node.  Returns the specified default if there is no value associated
      with the key, or the backing store is inaccessible.
      <p>Some implementations may store default values in their backing
      stores.  If there is no value associated with the specified key
      but there is such a <i>stored default</i>, it is returned in
      preference to the specified default.
      @param key key whose associated value is to be returned.
      @param def the value to be returned in the event that this
             preference node has no value associated with <tt>key</tt>.
      @return the value associated with <tt>key</tt>, or <tt>def</tt>
              if no value is associated with <tt>key</tt>, or the backing
              store is inaccessible.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.  (A
              <tt>null</tt> value for <tt>def</tt> <i>is</i> permitted.)</p></div>
<a id="L516" name="L516"></a> 516     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> def);
<a id="L517" name="L517"></a> 517 
<div class="comment">
      Removes the value associated with the specified key in this preference
      node, if any.
      <p>If this implementation supports <i>stored defaults</i>, and there is
      such a default for the specified preference, the stored default will be
      "exposed" by this call, in the sense that it will be returned
      by a succeeding call to <tt>get</tt>.
      @param key key whose mapping is to be removed from the preference node.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.</p></div>
<a id="L532" name="L532"></a> 532     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L533" name="L533"></a> 533 
<div class="comment">
      Removes all of the preferences (key-value associations) in this
      preference node.  This call has no effect on any descendants
      of this node.
      <p>If this implementation supports <i>stored defaults</i>, and this
      node in the preferences hierarchy contains any such defaults,
      the stored defaults will be "exposed" by this call, in the sense that
      they will be returned by succeeding calls to <tt>get</tt>.
      @throws BackingStoreException if this operation cannot be completed
              due to a failure in the backing store, or inability to
              communicate with it.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #removeNode()</p></div>
<a id="L551" name="L551"></a> 551     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <strong class="reserved">throws</strong> <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L552" name="L552"></a> 552 
<div class="comment">
      Associates a string representing the specified int value with the
      specified key in this preference node.  The associated string is the
      one that would be returned if the int value were passed to
      {@link Integer#toString(int)}.  This method is intended for use in
      conjunction with {@link #getInt}.
      @param key key with which the string form of value is to be associated.
      @param value value whose string form is to be associated with key.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @throws IllegalArgumentException if <tt>key.length()</tt> exceeds
              <tt>MAX_KEY_LENGTH</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #getInt(String,int)</div>
<a id="L569" name="L569"></a> 569     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25319.html" title="Multiple referred from 28 places.">putInt</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L570" name="L570"></a> 570 
<div class="comment">
      Returns the int value represented by the string associated with the
      specified key in this preference node.  The string is converted to
      an integer as by {@link Integer#parseInt(String)}.  Returns the
      specified default if there is no value associated with the key,
      the backing store is inaccessible, or if
      <tt>Integer.parseInt(String)</tt> would throw a {@link
      NumberFormatException} if the associated value were passed.  This
      method is intended for use in conjunction with {@link #putInt}.
      <p>If the implementation supports <i>stored defaults</i> and such a
      default exists, is accessible, and could be converted to an int
      with <tt>Integer.parseInt</tt>, this int is returned in preference to
      the specified default.
      @param key key whose associated value is to be returned as an int.
      @param def the value to be returned in the event that this
             preference node has no value associated with <tt>key</tt>
             or the associated value cannot be interpreted as an int,
             or the backing store is inaccessible.
      @return the int value represented by the string associated with
              <tt>key</tt> in this preference node, or <tt>def</tt> if the
              associated value does not exist or cannot be interpreted as
              an int.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @see #putInt(String,int)
      @see #get(String,String)</p></div>
<a id="L601" name="L601"></a> 601     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/17126.html" title="Multiple referred from 178 places.">getInt</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">int</strong> def);
<a id="L602" name="L602"></a> 602 
<div class="comment">
      Associates a string representing the specified long value with the
      specified key in this preference node.  The associated string is the
      one that would be returned if the long value were passed to
      {@link Long#toString(long)}.  This method is intended for use in
      conjunction with {@link #getLong}.
      @param key key with which the string form of value is to be associated.
      @param value value whose string form is to be associated with key.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @throws IllegalArgumentException if <tt>key.length()</tt> exceeds
              <tt>MAX_KEY_LENGTH</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #getLong(String,long)</div>
<a id="L619" name="L619"></a> 619     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25329.html" title="Multiple referred from 27 places.">putLong</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L620" name="L620"></a> 620 
<div class="comment">
      Returns the long value represented by the string associated with the
      specified key in this preference node.  The string is converted to
      a long as by {@link Long#parseLong(String)}.  Returns the
      specified default if there is no value associated with the key,
      the backing store is inaccessible, or if
      <tt>Long.parseLong(String)</tt> would throw a {@link
      NumberFormatException} if the associated value were passed.  This
      method is intended for use in conjunction with {@link #putLong}.
      <p>If the implementation supports <i>stored defaults</i> and such a
      default exists, is accessible, and could be converted to a long
      with <tt>Long.parseLong</tt>, this long is returned in preference to
      the specified default.
      @param key key whose associated value is to be returned as a long.
      @param def the value to be returned in the event that this
             preference node has no value associated with <tt>key</tt>
             or the associated value cannot be interpreted as a long,
             or the backing store is inaccessible.
      @return the long value represented by the string associated with
              <tt>key</tt> in this preference node, or <tt>def</tt> if the
              associated value does not exist or cannot be interpreted as
              a long.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @see #putLong(String,long)
      @see #get(String,String)</p></div>
<a id="L651" name="L651"></a> 651     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">long</strong> <a href="../R/17480.html" title="Multiple referred from 112 places.">getLong</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">long</strong> def);
<a id="L652" name="L652"></a> 652 
<div class="comment">
      Associates a string representing the specified boolean value with the
      specified key in this preference node.  The associated string is
      <tt>"true"</tt> if the value is true, and <tt>"false"</tt> if it is
      false.  This method is intended for use in conjunction with
      {@link #getBoolean}.
      @param key key with which the string form of value is to be associated.
      @param value value whose string form is to be associated with key.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @throws IllegalArgumentException if <tt>key.length()</tt> exceeds
              <tt>MAX_KEY_LENGTH</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #getBoolean(String,boolean)
      @see #get(String,String)</div>
<a id="L670" name="L670"></a> 670     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25289.html" title="Multiple referred from 7 places.">putBoolean</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">boolean</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L671" name="L671"></a> 671 
<div class="comment">
      Returns the boolean value represented by the string associated with the
      specified key in this preference node.  Valid strings
      are <tt>"true"</tt>, which represents true, and <tt>"false"</tt>, which
      represents false.  Case is ignored, so, for example, <tt>"TRUE"</tt>
      and <tt>"False"</tt> are also valid.  This method is intended for use in
      conjunction with {@link #putBoolean}.
      <p>Returns the specified default if there is no value
      associated with the key, the backing store is inaccessible, or if the
      associated value is something other than <tt>"true"</tt> or
      <tt>"false"</tt>, ignoring case.
      </p><p>If the implementation supports <i>stored defaults</i> and such a
      default exists and is accessible, it is used in preference to the
      specified default, unless the stored default is something other than
      <tt>"true"</tt> or <tt>"false"</tt>, ignoring case, in which case the
      specified default is used.
      @param key key whose associated value is to be returned as a boolean.
      @param def the value to be returned in the event that this
             preference node has no value associated with <tt>key</tt>
             or the associated value cannot be interpreted as a boolean,
             or the backing store is inaccessible.
      @return the boolean value represented by the string associated with
              <tt>key</tt> in this preference node, or <tt>def</tt> if the
              associated value does not exist or cannot be interpreted as
              a boolean.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @see #get(String,String)
      @see #putBoolean(String,boolean)</p></div>
<a id="L706" name="L706"></a> 706     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/15295.html" title="Multiple referred from 136 places.">getBoolean</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">boolean</strong> def);
<a id="L707" name="L707"></a> 707 
<div class="comment">
      Associates a string representing the specified float value with the
      specified key in this preference node.  The associated string is the
      one that would be returned if the float value were passed to
      {@link Float#toString(float)}.  This method is intended for use in
      conjunction with {@link #getFloat}.
      @param key key with which the string form of value is to be associated.
      @param value value whose string form is to be associated with key.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @throws IllegalArgumentException if <tt>key.length()</tt> exceeds
              <tt>MAX_KEY_LENGTH</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #getFloat(String,float)</div>
<a id="L724" name="L724"></a> 724     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25308.html" title="Multiple referred from 13 places.">putFloat</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">float</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L725" name="L725"></a> 725 
<div class="comment">
      Returns the float value represented by the string associated with the
      specified key in this preference node.  The string is converted to an
      integer as by {@link Float#parseFloat(String)}.  Returns the specified
      default if there is no value associated with the key, the backing store
      is inaccessible, or if <tt>Float.parseFloat(String)</tt> would throw a
      {@link NumberFormatException} if the associated value were passed.
      This method is intended for use in conjunction with {@link #putFloat}.
      <p>If the implementation supports <i>stored defaults</i> and such a
      default exists, is accessible, and could be converted to a float
      with <tt>Float.parseFloat</tt>, this float is returned in preference to
      the specified default.
      @param key key whose associated value is to be returned as a float.
      @param def the value to be returned in the event that this
             preference node has no value associated with <tt>key</tt>
             or the associated value cannot be interpreted as a float,
             or the backing store is inaccessible.
      @return the float value represented by the string associated with
              <tt>key</tt> in this preference node, or <tt>def</tt> if the
              associated value does not exist or cannot be interpreted as
              a float.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @see #putFloat(String,float)
      @see #get(String,String)</p></div>
<a id="L755" name="L755"></a> 755     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">float</strong> <a href="../R/16648.html" title="Multiple referred from 13 places.">getFloat</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">float</strong> def);
<a id="L756" name="L756"></a> 756 
<div class="comment">
      Associates a string representing the specified double value with the
      specified key in this preference node.  The associated string is the
      one that would be returned if the double value were passed to
      {@link Double#toString(double)}.  This method is intended for use in
      conjunction with {@link #getDouble}.
      @param key key with which the string form of value is to be associated.
      @param value value whose string form is to be associated with key.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @throws IllegalArgumentException if <tt>key.length()</tt> exceeds
              <tt>MAX_KEY_LENGTH</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #getDouble(String,double)</div>
<a id="L773" name="L773"></a> 773     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25301.html" title="Multiple referred from 13 places.">putDouble</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">double</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L774" name="L774"></a> 774 
<div class="comment">
      Returns the double value represented by the string associated with the
      specified key in this preference node.  The string is converted to an
      integer as by {@link Double#parseDouble(String)}.  Returns the specified
      default if there is no value associated with the key, the backing store
      is inaccessible, or if <tt>Double.parseDouble(String)</tt> would throw a
      {@link NumberFormatException} if the associated value were passed.
      This method is intended for use in conjunction with {@link #putDouble}.
      <p>If the implementation supports <i>stored defaults</i> and such a
      default exists, is accessible, and could be converted to a double
      with <tt>Double.parseDouble</tt>, this double is returned in preference
      to the specified default.
      @param key key whose associated value is to be returned as a double.
      @param def the value to be returned in the event that this
             preference node has no value associated with <tt>key</tt>
             or the associated value cannot be interpreted as a double,
             or the backing store is inaccessible.
      @return the double value represented by the string associated with
              <tt>key</tt> in this preference node, or <tt>def</tt> if the
              associated value does not exist or cannot be interpreted as
              a double.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.
      @see #putDouble(String,double)
      @see #get(String,String)</p></div>
<a id="L804" name="L804"></a> 804     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">double</strong> <a href="../R/16242.html" title="Multiple referred from 14 places.">getDouble</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">double</strong> def);
<a id="L805" name="L805"></a> 805 
<div class="comment">
      Associates a string representing the specified byte array with the
      specified key in this preference node.  The associated string is
      the <i>Base64</i> encoding of the byte array, as defined in <a href="http://www.ietf.org/rfc/rfc2045.txt">RFC 2045</a>, Section 6.8,
      with one minor change: the string will consist solely of characters
      from the <i>Base64 Alphabet</i>; it will not contain any newline
      characters.  Note that the maximum length of the byte array is limited
      to three quarters of <tt>MAX_VALUE_LENGTH</tt> so that the length
      of the Base64 encoded String does not exceed <tt>MAX_VALUE_LENGTH</tt>.
      This method is intended for use in conjunction with
      {@link #getByteArray}.
      @param key key with which the string form of value is to be associated.
      @param value value whose string form is to be associated with key.
      @throws NullPointerException if key or value is <tt>null</tt>.
      @throws IllegalArgumentException if key.length() exceeds MAX_KEY_LENGTH
              or if value.length exceeds MAX_VALUE_LENGTH*3/4.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #getByteArray(String,byte[])
      @see #get(String,String)</div>
<a id="L829" name="L829"></a> 829     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> putByteArray(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">byte</strong>[] <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L830" name="L830"></a> 830 
<div class="comment">
      Returns the byte array value represented by the string associated with
      the specified key in this preference node.  Valid strings are
      <i>Base64</i> encoded binary data, as defined in <a href="http://www.ietf.org/rfc/rfc2045.txt">RFC 2045</a>, Section 6.8,
      with one minor change: the string must consist solely of characters
      from the <i>Base64 Alphabet</i>; no newline characters or
      extraneous characters are permitted.  This method is intended for use
      in conjunction with {@link #putByteArray}.
      <p>Returns the specified default if there is no value
      associated with the key, the backing store is inaccessible, or if the
      associated value is not a valid Base64 encoded byte array
      (as defined above).
      </p><p>If the implementation supports <i>stored defaults</i> and such a
      default exists and is accessible, it is used in preference to the
      specified default, unless the stored default is not a valid Base64
      encoded byte array (as defined above), in which case the
      specified default is used.
      @param key key whose associated value is to be returned as a byte array.
      @param def the value to be returned in the event that this
             preference node has no value associated with <tt>key</tt>
             or the associated value cannot be interpreted as a byte array,
             or the backing store is inaccessible.
      @return the byte array value represented by the string associated with
              <tt>key</tt> in this preference node, or <tt>def</tt> if the
              associated value does not exist or cannot be interpreted as
              a byte array.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @throws NullPointerException if <tt>key</tt> is <tt>null</tt>.  (A
              <tt>null</tt> value for <tt>def</tt> <i>is</i> permitted.)
      @see #get(String,String)
      @see #putByteArray(String,byte[])</p></div>
<a id="L868" name="L868"></a> 868     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">byte</strong>[] <a href="../S/6987.html#L630" title="Referred from 630 in src/com/sun/corba/se/impl/encoding/IDLJavaSerializationOutputStream.java.">getByteArray</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">byte</strong>[] def);
<a id="L869" name="L869"></a> 869 
<div class="comment">
      Returns all of the keys that have an associated value in this
      preference node.  (The returned array will be of size zero if
      this node has no preferences.)
      <p>If the implementation supports <i>stored defaults</i> and there
      are any such defaults at this node that have not been overridden,
      by explicit preferences, the defaults are returned in the array in
      addition to any explicit preferences.
      @return an array of the keys that have an associated value in this
              preference node.
      @throws BackingStoreException if this operation cannot be completed
              due to a failure in the backing store, or inability to
              communicate with it.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.</p></div>
<a id="L888" name="L888"></a> 888     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/22399.html" title="Multiple referred from 606 places.">keys</a>() <strong class="reserved">throws</strong> <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L889" name="L889"></a> 889 
<div class="comment">
      Returns the names of the children of this preference node, relative to
      this node.  (The returned array will be of size zero if this node has
      no children.)
      @return the names of the children of this preference node.
      @throws BackingStoreException if this operation cannot be completed
              due to a failure in the backing store, or inability to
              communicate with it.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.</div>
<a id="L902" name="L902"></a> 902     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/11435.html" title="Multiple referred from 2 places.">childrenNames</a>() <strong class="reserved">throws</strong> <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L903" name="L903"></a> 903 
<div class="comment">
      Returns the parent of this preference node, or <tt>null</tt> if this is
      the root.
      @return the parent of this preference node.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.</div>
<a id="L912" name="L912"></a> 912     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/833.html#L224" title="Defined at 224 in src/java/util/prefs/Preferences.java.">Preferences</a> <a href="../R/24485.html" title="Multiple referred from 2863 places.">parent</a>();
<a id="L913" name="L913"></a> 913 
<div class="comment">
      Returns the named preference node in the same tree as this node,
      creating it and any of its ancestors if they do not already exist.
      Accepts a relative or absolute path name.  Relative path names
      (which do not begin with the slash character <tt>('/')</tt>) are
      interpreted relative to this preference node.
      <p>If the returned node did not exist prior to this call, this node and
      any ancestors that were created by this call are not guaranteed
      to become permanent until the <tt>flush</tt> method is called on
      the returned node (or one of its ancestors or descendants).
      @param pathName the path name of the preference node to return.
      @return the specified preference node.
      @throws IllegalArgumentException if the path name is invalid (i.e.,
              it contains multiple consecutive slash characters, or ends
              with a slash character and is more than one character long).
      @throws NullPointerException if path name is <tt>null</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #flush()</p></div>
<a id="L936" name="L936"></a> 936     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/833.html#L224" title="Defined at 224 in src/java/util/prefs/Preferences.java.">Preferences</a> <a href="../R/23742.html" title="Multiple referred from 4966 places.">node</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6101.html#L75" title="Defined at 75 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/Util.java.">pathName</a>);
<a id="L937" name="L937"></a> 937 
<div class="comment">
      Returns true if the named preference node exists in the same tree
      as this node.  Relative path names (which do not begin with the slash
      character <tt>('/')</tt>) are interpreted relative to this preference
      node.
      <p>If this node (or an ancestor) has already been removed with the
      {@link #removeNode()} method, it <i>is</i> legal to invoke this method,
      but only with the path name <tt>""</tt>; the invocation will return
      <tt>false</tt>.  Thus, the idiom <tt>p.nodeExists("")</tt> may be
      used to test whether <tt>p</tt> has been removed.
      @param pathName the path name of the node whose existence
             is to be checked.
      @return true if the specified node exists.
      @throws BackingStoreException if this operation cannot be completed
              due to a failure in the backing store, or inability to
              communicate with it.
      @throws IllegalArgumentException if the path name is invalid (i.e.,
              it contains multiple consecutive slash characters, or ends
              with a slash character and is more than one character long).
      @throws NullPointerException if path name is <tt>null</tt>.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method and
              <tt>pathName</tt> is not the empty string (<tt>""</tt>).</p></div>
<a id="L964" name="L964"></a> 964     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/23746.html" title="Multiple referred from 3 places.">nodeExists</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6101.html#L75" title="Defined at 75 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/Util.java.">pathName</a>)
<a id="L965" name="L965"></a> 965         <strong class="reserved">throws</strong> <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L966" name="L966"></a> 966 
<div class="comment">
      Removes this preference node and all of its descendants, invalidating
      any preferences contained in the removed nodes.  Once a node has been
      removed, attempting any method other than {@link #name()},
      {@link #absolutePath()}, {@link #isUserNode()}, {@link #flush()} or
      {@link #node(String) nodeExists("")} on the corresponding
      <tt>Preferences</tt> instance will fail with an
      <tt>IllegalStateException</tt>.  (The methods defined on {@link Object}
      can still be invoked on a node after it has been removed; they will not
      throw <tt>IllegalStateException</tt>.)
      <p>The removal is not guaranteed to be persistent until the
      <tt>flush</tt> method is called on this node (or an ancestor).
      </p><p>If this implementation supports <i>stored defaults</i>, removing a
      node exposes any stored defaults at or below this node.  Thus, a
      subsequent call to <tt>nodeExists</tt> on this node's path name may
      return <tt>true</tt>, and a subsequent call to <tt>node</tt> on this
      path name may return a (different) <tt>Preferences</tt> instance
      representing a non-empty collection of preferences and/or children.
      @throws BackingStoreException if this operation cannot be completed
              due to a failure in the backing store, or inability to
              communicate with it.
      @throws IllegalStateException if this node (or an ancestor) has already
              been removed with the {@link #removeNode()} method.
      @throws UnsupportedOperationException if this method is invoked on
              the root node.
      @see #flush()</p></div>
<a id="L997" name="L997"></a> 997     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/26030.html" title="Multiple referred from 14 places.">removeNode</a>() <strong class="reserved">throws</strong> <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L998" name="L998"></a> 998 
<div class="comment">
      Returns this preference node's name, relative to its parent.
      @return this preference node's name, relative to its parent.</div>
<a id="L1004" name="L1004"></a>1004     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/23424.html" title="Multiple referred from 9102 places.">name</a>();
<a id="L1005" name="L1005"></a>1005 
<div class="comment">
      Returns this preference node's absolute path name.
      @return this preference node's absolute path name.</div>
<a id="L1011" name="L1011"></a>1011     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/9510.html" title="Multiple referred from 19 places.">absolutePath</a>();
<a id="L1012" name="L1012"></a>1012 
<div class="comment">
      Returns <tt>true</tt> if this preference node is in the user
      preference tree, <tt>false</tt> if it's in the system preference tree.
      @return <tt>true</tt> if this preference node is in the user
              preference tree, <tt>false</tt> if it's in the system
              preference tree.</div>
<a id="L1021" name="L1021"></a>1021     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/22160.html" title="Multiple referred from 3 places.">isUserNode</a>();
<a id="L1022" name="L1022"></a>1022 
<div class="comment">
      Returns a string representation of this preferences node,
      as if computed by the expression:<tt>(this.isUserNode() ? "User" :
      "System") + " Preference Node: " + this.absolutePath()</tt>.</div>
<a id="L1028" name="L1028"></a>1028     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>();
<a id="L1029" name="L1029"></a>1029 
<div class="comment">
      Forces any changes in the contents of this preference node and its
      descendants to the persistent store.  Once this method returns
      successfully, it is safe to assume that all changes made in the
      subtree rooted at this node prior to the method invocation have become
      permanent.
      <p>Implementations are free to flush changes into the persistent store
      at any time.  They do not need to wait for this method to be called.
      </p><p>When a flush occurs on a newly created node, it is made persistent,
      as are any ancestors (and descendants) that have yet to be made
      persistent.  Note however that any preference value changes in
      ancestors are <i>not</i> guaranteed to be made persistent.
      </p><p> If this method is invoked on a node that has been removed with
      the {@link #removeNode()} method, flushSpi() is invoked on this node,
      but not on others.
      @throws BackingStoreException if this operation cannot be completed
              due to a failure in the backing store, or inability to
              communicate with it.
      @see    #sync()</p></div>
<a id="L1054" name="L1054"></a>1054     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/14697.html" title="Multiple referred from 199 places.">flush</a>() <strong class="reserved">throws</strong> <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L1055" name="L1055"></a>1055 
<div class="comment">
      Ensures that future reads from this preference node and its
      descendants reflect any changes that were committed to the persistent
      store (from any VM) prior to the <tt>sync</tt> invocation.  As a
      side-effect, forces any changes in the contents of this preference node
      and its descendants to the persistent store, as if the <tt>flush</tt>
      method had been invoked on this node.
      @throws BackingStoreException if this operation cannot be completed
              due to a failure in the backing store, or inability to
              communicate with it.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see    #flush()</div>
<a id="L1071" name="L1071"></a>1071     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/29068.html" title="Multiple referred from 150 places.">sync</a>() <strong class="reserved">throws</strong> <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L1072" name="L1072"></a>1072 
<div class="comment">
      Registers the specified listener to receive <i>preference change
      events</i> for this preference node.  A preference change event is
      generated when a preference is added to this node, removed from this
      node, or when the value associated with a preference is changed.
      (Preference change events are <i>not</i> generated by the {@link
      #removeNode()} method, which generates a <i>node change event</i>.
      Preference change events <i>are</i> generated by the <tt>clear</tt>
      method.)
      <p>Events are only guaranteed for changes made within the same JVM
      as the registered listener, though some implementations may generate
      events for changes made outside this JVM.  Events may be generated
      before the changes have been made persistent.  Events are not generated
      when preferences are modified in descendants of this node; a caller
      desiring such events must register with each descendant.
      @param pcl The preference change listener to add.
      @throws NullPointerException if <tt>pcl</tt> is null.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #removePreferenceChangeListener(PreferenceChangeListener)
      @see #addNodeChangeListener(NodeChangeListener)</p></div>
<a id="L1097" name="L1097"></a>1097     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> addPreferenceChangeListener(
<a id="L1098" name="L1098"></a>1098         <a href="../S/838.html#L38" title="Defined at 38 in src/java/util/prefs/PreferenceChangeListener.java.">PreferenceChangeListener</a> pcl);
<a id="L1099" name="L1099"></a>1099 
<div class="comment">
      Removes the specified preference change listener, so it no longer
      receives preference change events.
      @param pcl The preference change listener to remove.
      @throws IllegalArgumentException if <tt>pcl</tt> was not a registered
              preference change listener on this node.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #addPreferenceChangeListener(PreferenceChangeListener)</div>
<a id="L1111" name="L1111"></a>1111     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> removePreferenceChangeListener(
<a id="L1112" name="L1112"></a>1112         <a href="../S/838.html#L38" title="Defined at 38 in src/java/util/prefs/PreferenceChangeListener.java.">PreferenceChangeListener</a> pcl);
<a id="L1113" name="L1113"></a>1113 
<div class="comment">
      Registers the specified listener to receive <i>node change events</i>
      for this node.  A node change event is generated when a child node is
      added to or removed from this node.  (A single {@link #removeNode()}
      invocation results in multiple <i>node change events</i>, one for every
      node in the subtree rooted at the removed node.)
      <p>Events are only guaranteed for changes made within the same JVM
      as the registered listener, though some implementations may generate
      events for changes made outside this JVM.  Events may be generated
      before the changes have become permanent.  Events are not generated
      when indirect descendants of this node are added or removed; a
      caller desiring such events must register with each descendant.
      </p><p>Few guarantees can be made regarding node creation.  Because nodes
      are created implicitly upon access, it may not be feasible for an
      implementation to determine whether a child node existed in the backing
      store prior to access (for example, because the backing store is
      unreachable or cached information is out of date).  Under these
      circumstances, implementations are neither required to generate node
      change events nor prohibited from doing so.
      @param ncl The <tt>NodeChangeListener</tt> to add.
      @throws NullPointerException if <tt>ncl</tt> is null.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #removeNodeChangeListener(NodeChangeListener)
      @see #addPreferenceChangeListener(PreferenceChangeListener)</p></div>
<a id="L1143" name="L1143"></a>1143     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> addNodeChangeListener(<a href="../S/843.html#L38" title="Defined at 38 in src/java/util/prefs/NodeChangeListener.java.">NodeChangeListener</a> ncl);
<a id="L1144" name="L1144"></a>1144 
<div class="comment">
      Removes the specified <tt>NodeChangeListener</tt>, so it no longer
      receives change events.
      @param ncl The <tt>NodeChangeListener</tt> to remove.
      @throws IllegalArgumentException if <tt>ncl</tt> was not a registered
              <tt>NodeChangeListener</tt> on this node.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see #addNodeChangeListener(NodeChangeListener)</div>
<a id="L1156" name="L1156"></a>1156     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> removeNodeChangeListener(<a href="../S/843.html#L38" title="Defined at 38 in src/java/util/prefs/NodeChangeListener.java.">NodeChangeListener</a> ncl);
<a id="L1157" name="L1157"></a>1157 
<div class="comment">
      Emits on the specified output stream an XML document representing all
      of the preferences contained in this node (but not its descendants).
      This XML document is, in effect, an offline backup of the node.
      <p>The XML document will have the following DOCTYPE declaration:
      </p><pre>{@code
      }</pre>
      The UTF-8 character encoding will be used.
      <p>This method is an exception to the general rule that the results of
      concurrently executing multiple methods in this class yields
      results equivalent to some serial execution.  If the preferences
      at this node are modified concurrently with an invocation of this
      method, the exported preferences comprise a "fuzzy snapshot" of the
      preferences contained in the node; some of the concurrent modifications
      may be reflected in the exported data while others may not.
      @param os the output stream on which to emit the XML document.
      @throws IOException if writing to the specified output stream
              results in an <tt>IOException</tt>.
      @throws BackingStoreException if preference data cannot be read from
              backing store.
      @see    #importPreferences(InputStream)
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.</p></div>
<a id="L1186" name="L1186"></a>1186     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> exportNode(<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os)
<a id="L1187" name="L1187"></a>1187         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L1188" name="L1188"></a>1188 
<div class="comment">
      Emits an XML document representing all of the preferences contained
      in this node and all of its descendants.  This XML document is, in
      effect, an offline backup of the subtree rooted at the node.
      <p>The XML document will have the following DOCTYPE declaration:
      </p><pre>{@code
      }</pre>
      The UTF-8 character encoding will be used.
      <p>This method is an exception to the general rule that the results of
      concurrently executing multiple methods in this class yields
      results equivalent to some serial execution.  If the preferences
      or nodes in the subtree rooted at this node are modified concurrently
      with an invocation of this method, the exported preferences comprise a
      "fuzzy snapshot" of the subtree; some of the concurrent modifications
      may be reflected in the exported data while others may not.
      @param os the output stream on which to emit the XML document.
      @throws IOException if writing to the specified output stream
              results in an <tt>IOException</tt>.
      @throws BackingStoreException if preference data cannot be read from
              backing store.
      @throws IllegalStateException if this node (or an ancestor) has been
              removed with the {@link #removeNode()} method.
      @see    #importPreferences(InputStream)
      @see    #exportNode(OutputStream)</p></div>
<a id="L1218" name="L1218"></a>1218     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> exportSubtree(<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os)
<a id="L1219" name="L1219"></a>1219         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/836.html#L38" title="Defined at 38 in src/java/util/prefs/BackingStoreException.java.">BackingStoreException</a>;
<a id="L1220" name="L1220"></a>1220 
<div class="comment">
      Imports all of the preferences represented by the XML document on the
      specified input stream.  The document may represent user preferences or
      system preferences.  If it represents user preferences, the preferences
      will be imported into the calling user's preference tree (even if they
      originally came from a different user's preference tree).  If any of
      the preferences described by the document inhabit preference nodes that
      do not exist, the nodes will be created.
      <p>The XML document must have the following DOCTYPE declaration:
      </p><pre>{@code
      }</pre>
      (This method is designed for use in conjunction with
      {@link #exportNode(OutputStream)} and
      {@link #exportSubtree(OutputStream)}.
      <p>This method is an exception to the general rule that the results of
      concurrently executing multiple methods in this class yields
      results equivalent to some serial execution.  The method behaves
      as if implemented on top of the other public methods in this class,
      notably {@link #node(String)} and {@link #put(String, String)}.
      @param is the input stream from which to read the XML document.
      @throws IOException if reading from the specified input stream
              results in an <tt>IOException</tt>.
      @throws InvalidPreferencesFormatException Data on input stream does not
              constitute a valid XML document with the mandated document type.
      @throws SecurityException If a security manager is present and
              it denies <tt>RuntimePermission("preferences")</tt>.
      @see    RuntimePermission</p></div>
<a id="L1253" name="L1253"></a>1253     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/833.html#L1256" title="Referred from 1256 in src/java/util/prefs/Preferences.java.">importPreferences</a>(<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>)
<a id="L1254" name="L1254"></a>1254         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/837.html#L40" title="Defined at 40 in src/java/util/prefs/InvalidPreferencesFormatException.java.">InvalidPreferencesFormatException</a>
<a id="L1255" name="L1255"></a>1255     <em class="brace">{</em>
<a id="L1256" name="L1256"></a>1256         <a href="../D/10299.html" title="Multiple defined in 2 places.">XmlSupport</a>.<a href="../D/24391.html" title="Multiple defined in 2 places.">importPreferences</a>(<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>);
<a id="L1257" name="L1257"></a>1257     <em class="brace">}</em>
<a id="L1258" name="L1258"></a>1258 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L228">[^]</a><a href="#L1253">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>