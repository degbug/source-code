<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/io/FilePermission.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L183">[^]</a><a href="#L824">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L183" title="Defined at 183.">init</a></li>
<li><a href="#L317" title="Defined at 317.">implies</a></li>
<li><a href="#L337" title="Defined at 337.">impliesIgnoreMask</a></li>
<li><a href="#L389" title="Defined at 389.">equals</a></li>
<li><a href="#L409" title="Defined at 409.">hashCode</a></li>
<li><a href="#L419" title="Defined at 419.">getMask</a></li>
<li><a href="#L547" title="Defined at 547.">getMask</a></li>
<li><a href="#L558" title="Defined at 558.">getActions</a></li>
<li><a href="#L603" title="Defined at 603.">getActions</a></li>
<li><a href="#L641" title="Defined at 641.">newPermissionCollection</a></li>
<li><a href="#L650" title="Defined at 650.">writeObject</a></li>
<li><a href="#L664" title="Defined at 664.">readObject</a></li>
<li><a href="#L726" title="Defined at 726.">add</a></li>
<li><a href="#L748" title="Defined at 748.">implies</a></li>
<li><a href="#L779" title="Defined at 779.">elements</a></li>
<li><a href="#L807" title="Defined at 807.">writeObject</a></li>
<li><a href="#L824" title="Defined at 824.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.security.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.List;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Vector;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Collections;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> sun.security.util.SecurityConstants;
<a id="L35" name="L35"></a>  35 
<div class="comment">
  This class represents access to a file or directory.  A FilePermission consists
  of a pathname and a set of actions valid for that pathname.
  <p>
  Pathname is the pathname of the file or directory granted the specified
 * actions. A pathname that ends in "" (where "/" is
  the file separator character, <code>File.separatorChar</code>) indicates
  all the files and directories contained in that directory. A pathname
  that ends with "/-" indicates (recursively) all files
  and subdirectories contained in that directory. A pathname consisting of
  the special token "&lt;&lt;ALL FILES&gt;&gt;" matches <b>any</b> file.
  </p><p>
  Note: A pathname consisting of a single "*" indicates all the files
  in the current directory, while a pathname consisting of a single "-"
  indicates all the files in the current directory and
  (recursively) all files and subdirectories contained in the current
  directory.
  </p><p>
  The actions to be granted are passed to the constructor in a string containing
  a list of one or more comma-separated keywords. The possible keywords are
  "read", "write", "execute", "delete", and "readlink". Their meaning is
  defined as follows:
  </p><dl>
     <dt> read </dt><dd> read permission
     </dd><dt> write </dt><dd> write permission
     </dd><dt> execute
     </dt><dd> execute permission. Allows <code>Runtime.exec</code> to
          be called. Corresponds to <code>SecurityManager.checkExec</code>.
     </dd><dt> delete
     </dt><dd> delete permission. Allows <code>File.delete</code> to
          be called. Corresponds to <code>SecurityManager.checkDelete</code>.
     </dd><dt> readlink
     </dt><dd> read link permission. Allows the target of a
          <a href="../nio/file/package-summary.html#links">symbolic link</a>
          to be read by invoking the {@link java.nio.file.Files#readSymbolicLink
          readSymbolicLink } method.
  </dd></dl>
  <p>
  The actions string is converted to lowercase before processing.
  </p><p>
  Be careful when granting FilePermissions. Think about the implications
  of granting read and especially write access to various files and
  directories. The "&lt;&lt;ALL FILES&gt;&gt;" permission with write action is
  especially dangerous. This grants permission to write to the entire
  file system. One thing this effectively allows is replacement of the
  system binary, including the JVM runtime environment.
  </p><p>Please note: Code can always read a file from the same
  directory it's in (or a subdirectory of that directory); it does not
  need explicit permission to do so.
  @see java.security.Permission
  @see java.security.Permissions
  @see java.security.PermissionCollection
  @author Marianne Mueller
  @author Roland Schemers
  @since 1.2
  @serial exclude</p></div>
<a id="L99" name="L99"></a>  99 
<a id="L100" name="L100"></a> 100 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2940.html" title="Multiple referred from 33 places.">FilePermission</a> <strong class="reserved">extends</strong> <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L101" name="L101"></a> 101 
<div class="comment">
      Execute action.</div>
<a id="L105" name="L105"></a> 105     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> EXECUTE = 0x1;
<div class="comment">
      Write action.</div>
<a id="L109" name="L109"></a> 109     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> WRITE   = 0x2;
<div class="comment">
      Read action.</div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> READ    = 0x4;
<div class="comment">
      Delete action.</div>
<a id="L117" name="L117"></a> 117     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> DELETE  = 0x8;
<div class="comment">
      Read link action.</div>
<a id="L121" name="L121"></a> 121     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> READLINK    = 0x10;
<a id="L122" name="L122"></a> 122 
<div class="comment">
      All actions (read,write,execute,delete,readlink)</div>
<a id="L126" name="L126"></a> 126     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/887.html#L55" title="Defined at 55 in src/java/util/stream/MatchOps.java.">ALL</a>     = READ|WRITE|EXECUTE|DELETE|READLINK;
<div class="comment">
      No actions.</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../D/5884.html" title="Multiple defined in 2 places.">NONE</a>    = 0x0;
<a id="L131" name="L131"></a> 131 
<a id="L132" name="L132"></a> 132     <em class="comment">// the actions mask</em>
<a id="L133" name="L133"></a> 133     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L134" name="L134"></a> 134 
<a id="L135" name="L135"></a> 135     <em class="comment">// does path indicate a directory? (wildcard or recursive)</em>
<a id="L136" name="L136"></a> 136     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> <a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a>;
<a id="L137" name="L137"></a> 137 
<a id="L138" name="L138"></a> 138     <em class="comment">// is it a recursive directory specification?</em>
<a id="L139" name="L139"></a> 139     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> recursive;
<a id="L140" name="L140"></a> 140 
<div class="comment">
      the actions string.
      @serial</div>
<a id="L146" name="L146"></a> 146     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>; <em class="comment">// Left null as long as possible, then</em>
<a id="L147" name="L147"></a> 147                             <em class="comment">// created and re-used in the getAction function.</em>
<a id="L148" name="L148"></a> 148 
<a id="L149" name="L149"></a> 149     <em class="comment">// canonicalized dir path. In the case of</em>
<a id="L150" name="L150"></a> 150     <em class="comment">// directories, it is the name "/blah/*" or "/blah/-" without</em>
<a id="L151" name="L151"></a> 151     <em class="comment">// the last character (the "*" or "-").</em>
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cpath;
<a id="L154" name="L154"></a> 154 
<a id="L155" name="L155"></a> 155     <em class="comment">// static Strings used by init(int mask)</em>
<a id="L156" name="L156"></a> 156     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> RECURSIVE_CHAR = '-';
<a id="L157" name="L157"></a> 157     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> WILD_CHAR = '*';
<a id="L158" name="L158"></a> 158 
<div class="comment">
    public String toString()
    {
        StringBuffer sb = new StringBuffer();
        sb.append("***\n");
        sb.append("cpath = "+cpath+"\n");
        sb.append("mask = "+mask+"\n");
        sb.append("actions = "+getActions()+"\n");
        sb.append("directory = "+directory+"\n");
        sb.append("recursive = "+recursive+"\n");
        sb.append("***\n");
        return sb.toString();
    }</div>
<a id="L173" name="L173"></a> 173 
<a id="L174" name="L174"></a> 174     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 7930732926638008763L;
<a id="L175" name="L175"></a> 175 
<div class="comment">
      initialize a FilePermission object. Common to all constructors.
      Also called during de-serialization.
      @param mask the actions mask to use.</div>
<a id="L183" name="L183"></a> 183     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L184" name="L184"></a> 184         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; <a href="../S/887.html#L55" title="Defined at 55 in src/java/util/stream/MatchOps.java.">ALL</a>) != <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>)
<a id="L185" name="L185"></a> 185                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid actions mask");
<a id="L186" name="L186"></a> 186 
<a id="L187" name="L187"></a> 187         <strong class="reserved">if</strong> (<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == <a href="../D/5884.html" title="Multiple defined in 2 places.">NONE</a>)
<a id="L188" name="L188"></a> 188                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid actions mask");
<a id="L189" name="L189"></a> 189 
<a id="L190" name="L190"></a> 190         <strong class="reserved">if</strong> ((cpath = <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()) == <strong class="reserved">null</strong>)
<a id="L191" name="L191"></a> 191                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("name can't be null");
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193         <strong class="reserved">this</strong>.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195         <strong class="reserved">if</strong> (cpath.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("&lt;&lt;ALL FILES&gt;&gt;")) <em class="brace">{</em>
<a id="L196" name="L196"></a> 196             <a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a> = <strong class="reserved">true</strong>;
<a id="L197" name="L197"></a> 197             recursive = <strong class="reserved">true</strong>;
<a id="L198" name="L198"></a> 198             cpath = "";
<a id="L199" name="L199"></a> 199             <strong class="reserved">return</strong>;
<a id="L200" name="L200"></a> 200         <em class="brace">}</em>
<a id="L201" name="L201"></a> 201 
<a id="L202" name="L202"></a> 202         <em class="comment">// store only the canonical cpath if possible</em>
<a id="L203" name="L203"></a> 203         cpath = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;() <em class="brace">{</em>
<a id="L204" name="L204"></a> 204             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L205" name="L205"></a> 205                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L206" name="L206"></a> 206                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = cpath;
<a id="L207" name="L207"></a> 207                     <strong class="reserved">if</strong> (cpath.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("*")) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208                         <em class="comment">// call getCanonicalPath with a path with wildcard character</em>
<a id="L209" name="L209"></a> 209                         <em class="comment">// replaced to avoid calling it with paths that are</em>
<a id="L210" name="L210"></a> 210                         <em class="comment">// intended to match all entries in a directory</em>
<a id="L211" name="L211"></a> 211                         path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-1) + "-";
<a id="L212" name="L212"></a> 212                         path = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(path).<a href="../S/1433.html#L614" title="Defined at 614 in src/java/io/File.java.">getCanonicalPath</a>();
<a id="L213" name="L213"></a> 213                         <strong class="reserved">return</strong> path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-1) + "*";
<a id="L214" name="L214"></a> 214                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L215" name="L215"></a> 215                         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(path).<a href="../S/1433.html#L614" title="Defined at 614 in src/java/io/File.java.">getCanonicalPath</a>();
<a id="L216" name="L216"></a> 216                     <em class="brace">}</em>
<a id="L217" name="L217"></a> 217                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218                     <strong class="reserved">return</strong> cpath;
<a id="L219" name="L219"></a> 219                 <em class="brace">}</em>
<a id="L220" name="L220"></a> 220             <em class="brace">}</em>
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>);
<a id="L222" name="L222"></a> 222 
<a id="L223" name="L223"></a> 223         <strong class="reserved">int</strong> len = cpath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L224" name="L224"></a> 224         <strong class="reserved">char</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = ((len &gt; 0) ? cpath.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(len - 1) : 0);
<a id="L225" name="L225"></a> 225 
<a id="L226" name="L226"></a> 226         <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> == RECURSIVE_CHAR &amp;&amp;
<a id="L227" name="L227"></a> 227             cpath.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(len - 2) == <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar) <em class="brace">{</em>
<a id="L228" name="L228"></a> 228             <a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a> = <strong class="reserved">true</strong>;
<a id="L229" name="L229"></a> 229             recursive = <strong class="reserved">true</strong>;
<a id="L230" name="L230"></a> 230             cpath = cpath.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, --len);
<a id="L231" name="L231"></a> 231         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> == WILD_CHAR &amp;&amp;
<a id="L232" name="L232"></a> 232             cpath.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(len - 2) == <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233             <a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a> = <strong class="reserved">true</strong>;
<a id="L234" name="L234"></a> 234             <em class="comment">//recursive = false;</em>
<a id="L235" name="L235"></a> 235             cpath = cpath.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, --len);
<a id="L236" name="L236"></a> 236         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L237" name="L237"></a> 237             <em class="comment">// overkill since they are initialized to false, but</em>
<a id="L238" name="L238"></a> 238             <em class="comment">// commented out here to remind us...</em>
<a id="L239" name="L239"></a> 239             <em class="comment">//directory = false;</em>
<a id="L240" name="L240"></a> 240             <em class="comment">//recursive = false;</em>
<a id="L241" name="L241"></a> 241         <em class="brace">}</em>
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243         <em class="comment">// XXX: at this point the path should be absolute. die if it isn't?</em>
<a id="L244" name="L244"></a> 244     <em class="brace">}</em>
<a id="L245" name="L245"></a> 245 
<div class="comment">
      Creates a new FilePermission object with the specified actions.
      <i>path</i> is the pathname of a file or directory, and <i>actions</i>
      contains a comma-separated list of the desired actions granted on the
      file or directory. Possible actions are
      "read", "write", "execute", "delete", and "readlink".
     * <p>A pathname that ends in "" (where "/" is
      the file separator character, <code>File.separatorChar</code>)
      indicates all the files and directories contained in that directory.
      A pathname that ends with "/-" indicates (recursively) all files and
      subdirectories contained in that directory. The special pathname
      "&lt;&lt;ALL FILES&gt;&gt;" matches any file.
      </p><p>A pathname consisting of a single "*" indicates all the files
      in the current directory, while a pathname consisting of a single "-"
      indicates all the files in the current directory and
      (recursively) all files and subdirectories contained in the current
      directory.
      </p><p>A pathname containing an empty string represents an empty path.
      @param path the pathname of the file/directory.
      @param actions the action string.
      @throws IllegalArgumentException
               If actions is <code>null</code>, empty or contains an action
               other than the specified possible actions.</p></div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">public</strong> FilePermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <strong class="reserved">super</strong>(path);
<a id="L277" name="L277"></a> 277         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/20394.html" title="Multiple defined in 14 places.">getMask</a>(<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>));
<a id="L278" name="L278"></a> 278     <em class="brace">}</em>
<a id="L279" name="L279"></a> 279 
<div class="comment">
      Creates a new FilePermission object using an action mask.
      More efficient than the FilePermission(String, String) constructor.
      Can be used from within
      code that needs to create a FilePermission object to pass into the
      <code>implies</code> method.
      @param path the pathname of the file/directory.
      @param mask the action mask to use.</div>
<a id="L290" name="L290"></a> 290 
<a id="L291" name="L291"></a> 291     <em class="comment">// package private for use by the FilePermissionCollection add method</em>
<a id="L292" name="L292"></a> 292     FilePermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path, <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">super</strong>(path);
<a id="L294" name="L294"></a> 294         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L295" name="L295"></a> 295     <em class="brace">}</em>
<a id="L296" name="L296"></a> 296 
<div class="comment">
      Checks if this FilePermission object "implies" the specified permission.
      <p>
      More specifically, this method returns true if:
      </p><ul><li> <i>p</i> is an instanceof FilePermission,
      </li><li> <i>p</i>'s actions are a proper subset of this
      object's actions, and
      </li><li> <i>p</i>'s pathname is implied by this object's
     *      pathname. For example, "/tmp" implies "/tmp/foo", since
     *      "/tmp" encompasses all files in the "/tmp" directory,
           including the one named "foo".
      </li></ul>
      @param p the permission to check against.
      @return <code>true</code> if the specified permission is not
                       <code>null</code> and is implied by this object,
                       <code>false</code> otherwise.</div>
<a id="L317" name="L317"></a> 317     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> p) <em class="brace">{</em>
<a id="L318" name="L318"></a> 318         <strong class="reserved">if</strong> (!(p <strong class="reserved">instanceof</strong> <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>))
<a id="L319" name="L319"></a> 319             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L320" name="L320"></a> 320 
<a id="L321" name="L321"></a> 321         <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a> that = (<a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>) p;
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323         <em class="comment">// we get the effective mask. i.e., the "and" of this and that.</em>
<a id="L324" name="L324"></a> 324         <em class="comment">// They must be equal to that.mask for implies to return true.</em>
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326         <strong class="reserved">return</strong> ((<strong class="reserved">this</strong>.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; that.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) == that.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) &amp;&amp; <a href="../D/24385.html" title="Multiple defined in 3 places.">impliesIgnoreMask</a>(that);
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Checks if the Permission's actions are a proper subset of the
      this object's actions. Returns the effective mask iff the
      this FilePermission's path also implies that FilePermission's path.
      @param that the FilePermission to check against.
      @return the effective mask</div>
<a id="L337" name="L337"></a> 337     <strong class="reserved">boolean</strong> <a href="../R/20439.html" title="Multiple referred from 6 places.">impliesIgnoreMask</a>(<a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a> that) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.<a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a>) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.recursive) <em class="brace">{</em>
<a id="L340" name="L340"></a> 340                 <em class="comment">// make sure that.path is longer then path so</em>
<a id="L341" name="L341"></a> 341                 <em class="comment">// something like /foo/- does not imply /foo</em>
<a id="L342" name="L342"></a> 342                 <strong class="reserved">if</strong> (that.<a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a>) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343                     <strong class="reserved">return</strong> (that.cpath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt;= <strong class="reserved">this</strong>.cpath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) &amp;&amp;
<a id="L344" name="L344"></a> 344                             that.cpath.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(<strong class="reserved">this</strong>.cpath);
<a id="L345" name="L345"></a> 345                 <em class="brace">}</em>  <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L346" name="L346"></a> 346                     <strong class="reserved">return</strong> ((that.cpath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; <strong class="reserved">this</strong>.cpath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) &amp;&amp;
<a id="L347" name="L347"></a> 347                         that.cpath.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(<strong class="reserved">this</strong>.cpath));
<a id="L348" name="L348"></a> 348                 <em class="brace">}</em>
<a id="L349" name="L349"></a> 349             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L350" name="L350"></a> 350                 <strong class="reserved">if</strong> (that.<a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a>) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351                     <em class="comment">// if the permission passed in is a directory</em>
<a id="L352" name="L352"></a> 352                     <em class="comment">// specification, make sure that a non-recursive</em>
<a id="L353" name="L353"></a> 353                     <em class="comment">// permission (i.e., this object) can't imply a recursive</em>
<a id="L354" name="L354"></a> 354                     <em class="comment">// permission.</em>
<a id="L355" name="L355"></a> 355                     <strong class="reserved">if</strong> (that.recursive)
<a id="L356" name="L356"></a> 356                         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L357" name="L357"></a> 357                     <strong class="reserved">else</strong>
<a id="L358" name="L358"></a> 358                         <strong class="reserved">return</strong> (<strong class="reserved">this</strong>.cpath.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.cpath));
<a id="L359" name="L359"></a> 359                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L360" name="L360"></a> 360                     <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = that.cpath.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar);
<a id="L361" name="L361"></a> 361                     <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> == -1)
<a id="L362" name="L362"></a> 362                         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L363" name="L363"></a> 363                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L364" name="L364"></a> 364                         <em class="comment">// this.cpath.equals(that.cpath.substring(0, last+1));</em>
<a id="L365" name="L365"></a> 365                         <em class="comment">// Use regionMatches to avoid creating new string</em>
<a id="L366" name="L366"></a> 366                         <strong class="reserved">return</strong> (<strong class="reserved">this</strong>.cpath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> + 1)) &amp;&amp;
<a id="L367" name="L367"></a> 367                             <strong class="reserved">this</strong>.cpath.<a href="../D/30514.html" title="Multiple defined in 14 places.">regionMatches</a>(0, that.cpath, 0, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>+1);
<a id="L368" name="L368"></a> 368                     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369                 <em class="brace">}</em>
<a id="L370" name="L370"></a> 370             <em class="brace">}</em>
<a id="L371" name="L371"></a> 371         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (that.<a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a>) <em class="brace">{</em>
<a id="L372" name="L372"></a> 372             <em class="comment">// if this is NOT recursive/wildcarded,</em>
<a id="L373" name="L373"></a> 373             <em class="comment">// do not let it imply a recursive/wildcarded permission</em>
<a id="L374" name="L374"></a> 374             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L375" name="L375"></a> 375         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L376" name="L376"></a> 376             <strong class="reserved">return</strong> (<strong class="reserved">this</strong>.cpath.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.cpath));
<a id="L377" name="L377"></a> 377         <em class="brace">}</em>
<a id="L378" name="L378"></a> 378     <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<div class="comment">
      Checks two FilePermission objects for equality. Checks that <i>obj</i> is
      a FilePermission, and has the same pathname and actions as this object.
      @param obj the object we are testing for equality with this object.
      @return <code>true</code> if obj is a FilePermission, and has the same
               pathname and actions as this FilePermission object,
               <code>false</code> otherwise.</div>
<a id="L389" name="L389"></a> 389     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390         <strong class="reserved">if</strong> (obj == <strong class="reserved">this</strong>)
<a id="L391" name="L391"></a> 391             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L392" name="L392"></a> 392 
<a id="L393" name="L393"></a> 393         <strong class="reserved">if</strong> (! (obj <strong class="reserved">instanceof</strong> <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>))
<a id="L394" name="L394"></a> 394             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L395" name="L395"></a> 395 
<a id="L396" name="L396"></a> 396         <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a> that = (<a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>) obj;
<a id="L397" name="L397"></a> 397 
<a id="L398" name="L398"></a> 398         <strong class="reserved">return</strong> (<strong class="reserved">this</strong>.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == that.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) &amp;&amp;
<a id="L399" name="L399"></a> 399             <strong class="reserved">this</strong>.cpath.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.cpath) &amp;&amp;
<a id="L400" name="L400"></a> 400             (<strong class="reserved">this</strong>.<a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a> == that.<a href="../D/14908.html" title="Multiple defined in 3 places.">directory</a>) &amp;&amp;
<a id="L401" name="L401"></a> 401             (<strong class="reserved">this</strong>.recursive == that.recursive);
<a id="L402" name="L402"></a> 402     <em class="brace">}</em>
<a id="L403" name="L403"></a> 403 
<div class="comment">
      Returns the hash code value for this object.
      @return a hash code value for this object.</div>
<a id="L409" name="L409"></a> 409     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L410" name="L410"></a> 410         <strong class="reserved">return</strong> 0;
<a id="L411" name="L411"></a> 411     <em class="brace">}</em>
<a id="L412" name="L412"></a> 412 
<div class="comment">
      Converts an actions String to an actions mask.
      @param actions the action string.
      @return the actions mask.</div>
<a id="L419" name="L419"></a> 419     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/17558.html" title="Multiple referred from 32 places.">getMask</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../D/5884.html" title="Multiple defined in 2 places.">NONE</a>;
<a id="L421" name="L421"></a> 421 
<a id="L422" name="L422"></a> 422         <em class="comment">// Null action valid?</em>
<a id="L423" name="L423"></a> 423         <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424             <strong class="reserved">return</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L425" name="L425"></a> 425         <em class="brace">}</em>
<a id="L426" name="L426"></a> 426 
<a id="L427" name="L427"></a> 427         <em class="comment">// Use object identity comparison against known-interned strings for</em>
<a id="L428" name="L428"></a> 428         <em class="comment">// performance benefit (these values are used heavily within the JDK).</em>
<a id="L429" name="L429"></a> 429         <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == SecurityConstants.FILE_READ_ACTION) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430             <strong class="reserved">return</strong> READ;
<a id="L431" name="L431"></a> 431         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == SecurityConstants.FILE_WRITE_ACTION) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">return</strong> WRITE;
<a id="L433" name="L433"></a> 433         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == SecurityConstants.FILE_EXECUTE_ACTION) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             <strong class="reserved">return</strong> EXECUTE;
<a id="L435" name="L435"></a> 435         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == SecurityConstants.FILE_DELETE_ACTION) <em class="brace">{</em>
<a id="L436" name="L436"></a> 436             <strong class="reserved">return</strong> DELETE;
<a id="L437" name="L437"></a> 437         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == SecurityConstants.FILE_READLINK_ACTION) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438             <strong class="reserved">return</strong> READLINK;
<a id="L439" name="L439"></a> 439         <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441         <strong class="reserved">char</strong>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>();
<a id="L442" name="L442"></a> 442 
<a id="L443" name="L443"></a> 443         <strong class="reserved">int</strong> i = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong> (i &lt; 0)
<a id="L445" name="L445"></a> 445             <strong class="reserved">return</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L446" name="L446"></a> 446 
<a id="L447" name="L447"></a> 447         <strong class="reserved">while</strong> (i != -1) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L449" name="L449"></a> 449 
<a id="L450" name="L450"></a> 450             <em class="comment">// skip whitespace</em>
<a id="L451" name="L451"></a> 451             <strong class="reserved">while</strong> ((i!=-1) &amp;&amp; ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i]) == ' ' ||
<a id="L452" name="L452"></a> 452                                <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\r' ||
<a id="L453" name="L453"></a> 453                                <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\n' ||
<a id="L454" name="L454"></a> 454                                <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\f' ||
<a id="L455" name="L455"></a> 455                                <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\t'))
<a id="L456" name="L456"></a> 456                 i--;
<a id="L457" name="L457"></a> 457 
<a id="L458" name="L458"></a> 458             <em class="comment">// check for the known strings</em>
<a id="L459" name="L459"></a> 459             <strong class="reserved">int</strong> matchlen;
<a id="L460" name="L460"></a> 460 
<a id="L461" name="L461"></a> 461             <strong class="reserved">if</strong> (i &gt;= 3 &amp;&amp; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'r' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'R') &amp;&amp;
<a id="L462" name="L462"></a> 462                           (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'E') &amp;&amp;
<a id="L463" name="L463"></a> 463                           (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 'a' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 'A') &amp;&amp;
<a id="L464" name="L464"></a> 464                           (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'd' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'D'))
<a id="L465" name="L465"></a> 465             <em class="brace">{</em>
<a id="L466" name="L466"></a> 466                 matchlen = 4;
<a id="L467" name="L467"></a> 467                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> |= READ;
<a id="L468" name="L468"></a> 468 
<a id="L469" name="L469"></a> 469             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (i &gt;= 4 &amp;&amp; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'w' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'W') &amp;&amp;
<a id="L470" name="L470"></a> 470                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'r' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'R') &amp;&amp;
<a id="L471" name="L471"></a> 471                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'i' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'I') &amp;&amp;
<a id="L472" name="L472"></a> 472                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 't' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 'T') &amp;&amp;
<a id="L473" name="L473"></a> 473                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'E'))
<a id="L474" name="L474"></a> 474             <em class="brace">{</em>
<a id="L475" name="L475"></a> 475                 matchlen = 5;
<a id="L476" name="L476"></a> 476                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> |= WRITE;
<a id="L477" name="L477"></a> 477 
<a id="L478" name="L478"></a> 478             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (i &gt;= 6 &amp;&amp; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-6] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-6] == 'E') &amp;&amp;
<a id="L479" name="L479"></a> 479                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-5] == 'x' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-5] == 'X') &amp;&amp;
<a id="L480" name="L480"></a> 480                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'E') &amp;&amp;
<a id="L481" name="L481"></a> 481                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'c' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'C') &amp;&amp;
<a id="L482" name="L482"></a> 482                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'u' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'U') &amp;&amp;
<a id="L483" name="L483"></a> 483                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 't' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 'T') &amp;&amp;
<a id="L484" name="L484"></a> 484                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'E'))
<a id="L485" name="L485"></a> 485             <em class="brace">{</em>
<a id="L486" name="L486"></a> 486                 matchlen = 7;
<a id="L487" name="L487"></a> 487                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> |= EXECUTE;
<a id="L488" name="L488"></a> 488 
<a id="L489" name="L489"></a> 489             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (i &gt;= 5 &amp;&amp; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-5] == 'd' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-5] == 'D') &amp;&amp;
<a id="L490" name="L490"></a> 490                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'E') &amp;&amp;
<a id="L491" name="L491"></a> 491                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'l' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'L') &amp;&amp;
<a id="L492" name="L492"></a> 492                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'E') &amp;&amp;
<a id="L493" name="L493"></a> 493                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 't' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 'T') &amp;&amp;
<a id="L494" name="L494"></a> 494                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'E'))
<a id="L495" name="L495"></a> 495             <em class="brace">{</em>
<a id="L496" name="L496"></a> 496                 matchlen = 6;
<a id="L497" name="L497"></a> 497                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> |= DELETE;
<a id="L498" name="L498"></a> 498 
<a id="L499" name="L499"></a> 499             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (i &gt;= 7 &amp;&amp; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-7] == 'r' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-7] == 'R') &amp;&amp;
<a id="L500" name="L500"></a> 500                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-6] == 'e' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-6] == 'E') &amp;&amp;
<a id="L501" name="L501"></a> 501                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-5] == 'a' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-5] == 'A') &amp;&amp;
<a id="L502" name="L502"></a> 502                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'd' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-4] == 'D') &amp;&amp;
<a id="L503" name="L503"></a> 503                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'l' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-3] == 'L') &amp;&amp;
<a id="L504" name="L504"></a> 504                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'i' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-2] == 'I') &amp;&amp;
<a id="L505" name="L505"></a> 505                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 'n' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-1] == 'N') &amp;&amp;
<a id="L506" name="L506"></a> 506                                  (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'k' || <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i] == 'K'))
<a id="L507" name="L507"></a> 507             <em class="brace">{</em>
<a id="L508" name="L508"></a> 508                 matchlen = 8;
<a id="L509" name="L509"></a> 509                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> |= READLINK;
<a id="L510" name="L510"></a> 510 
<a id="L511" name="L511"></a> 511             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L512" name="L512"></a> 512                 <em class="comment">// parse error</em>
<a id="L513" name="L513"></a> 513                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L514" name="L514"></a> 514                         "invalid permission: " + <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>);
<a id="L515" name="L515"></a> 515             <em class="brace">}</em>
<a id="L516" name="L516"></a> 516 
<a id="L517" name="L517"></a> 517             <em class="comment">// make sure we didn't just match the tail of a word</em>
<a id="L518" name="L518"></a> 518             <em class="comment">// like "ackbarfaccept".  Also, skip to the comma.</em>
<a id="L519" name="L519"></a> 519             <strong class="reserved">boolean</strong> seencomma = <strong class="reserved">false</strong>;
<a id="L520" name="L520"></a> 520             <strong class="reserved">while</strong> (i &gt;= matchlen &amp;&amp; !seencomma) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521                 <strong class="reserved">switch</strong>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i-matchlen]) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522                 <strong class="reserved">case</strong> ',':
<a id="L523" name="L523"></a> 523                     seencomma = <strong class="reserved">true</strong>;
<a id="L524" name="L524"></a> 524                     <strong class="reserved">break</strong>;
<a id="L525" name="L525"></a> 525                 <strong class="reserved">case</strong> ' ': <strong class="reserved">case</strong> '\r': <strong class="reserved">case</strong> '\n':
<a id="L526" name="L526"></a> 526                 <strong class="reserved">case</strong> '\f': <strong class="reserved">case</strong> '\t':
<a id="L527" name="L527"></a> 527                     <strong class="reserved">break</strong>;
<a id="L528" name="L528"></a> 528                 <strong class="reserved">default</strong>:
<a id="L529" name="L529"></a> 529                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L530" name="L530"></a> 530                             "invalid permission: " + <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>);
<a id="L531" name="L531"></a> 531                 <em class="brace">}</em>
<a id="L532" name="L532"></a> 532                 i--;
<a id="L533" name="L533"></a> 533             <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<a id="L535" name="L535"></a> 535             <em class="comment">// point i at the location of the comma minus one (or -1).</em>
<a id="L536" name="L536"></a> 536             i -= matchlen;
<a id="L537" name="L537"></a> 537         <em class="brace">}</em>
<a id="L538" name="L538"></a> 538 
<a id="L539" name="L539"></a> 539         <strong class="reserved">return</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L540" name="L540"></a> 540     <em class="brace">}</em>
<a id="L541" name="L541"></a> 541 
<div class="comment">
      Return the current action mask. Used by the FilePermissionCollection.
      @return the actions mask.</div>
<a id="L547" name="L547"></a> 547     <strong class="reserved">int</strong> <a href="../R/17558.html" title="Multiple referred from 32 places.">getMask</a>() <em class="brace">{</em>
<a id="L548" name="L548"></a> 548         <strong class="reserved">return</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L549" name="L549"></a> 549     <em class="brace">}</em>
<a id="L550" name="L550"></a> 550 
<div class="comment">
      Return the canonical string representation of the actions.
      Always returns present actions in the following order:
      read, write, execute, delete, readlink.
      @return the canonical string representation of the actions.</div>
<a id="L558" name="L558"></a> 558     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14955.html" title="Multiple referred from 33 places.">getActions</a>(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L559" name="L559"></a> 559         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L560" name="L560"></a> 560         <strong class="reserved">boolean</strong> comma = <strong class="reserved">false</strong>;
<a id="L561" name="L561"></a> 561 
<a id="L562" name="L562"></a> 562         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; READ) == READ) <em class="brace">{</em>
<a id="L563" name="L563"></a> 563             comma = <strong class="reserved">true</strong>;
<a id="L564" name="L564"></a> 564             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("read");
<a id="L565" name="L565"></a> 565         <em class="brace">}</em>
<a id="L566" name="L566"></a> 566 
<a id="L567" name="L567"></a> 567         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; WRITE) == WRITE) <em class="brace">{</em>
<a id="L568" name="L568"></a> 568             <strong class="reserved">if</strong> (comma) sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(',');
<a id="L569" name="L569"></a> 569             <strong class="reserved">else</strong> comma = <strong class="reserved">true</strong>;
<a id="L570" name="L570"></a> 570             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("write");
<a id="L571" name="L571"></a> 571         <em class="brace">}</em>
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; EXECUTE) == EXECUTE) <em class="brace">{</em>
<a id="L574" name="L574"></a> 574             <strong class="reserved">if</strong> (comma) sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(',');
<a id="L575" name="L575"></a> 575             <strong class="reserved">else</strong> comma = <strong class="reserved">true</strong>;
<a id="L576" name="L576"></a> 576             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("execute");
<a id="L577" name="L577"></a> 577         <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; DELETE) == DELETE) <em class="brace">{</em>
<a id="L580" name="L580"></a> 580             <strong class="reserved">if</strong> (comma) sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(',');
<a id="L581" name="L581"></a> 581             <strong class="reserved">else</strong> comma = <strong class="reserved">true</strong>;
<a id="L582" name="L582"></a> 582             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("delete");
<a id="L583" name="L583"></a> 583         <em class="brace">}</em>
<a id="L584" name="L584"></a> 584 
<a id="L585" name="L585"></a> 585         <strong class="reserved">if</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; READLINK) == READLINK) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586             <strong class="reserved">if</strong> (comma) sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(',');
<a id="L587" name="L587"></a> 587             <strong class="reserved">else</strong> comma = <strong class="reserved">true</strong>;
<a id="L588" name="L588"></a> 588             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("readlink");
<a id="L589" name="L589"></a> 589         <em class="brace">}</em>
<a id="L590" name="L590"></a> 590 
<a id="L591" name="L591"></a> 591         <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L592" name="L592"></a> 592     <em class="brace">}</em>
<a id="L593" name="L593"></a> 593 
<div class="comment">
      Returns the "canonical string representation" of the actions.
      That is, this method always returns present actions in the following order:
      read, write, execute, delete, readlink. For example, if this FilePermission
      object allows both write and read actions, a call to <code>getActions</code>
      will return the string "read,write".
      @return the canonical string representation of the actions.</div>
<a id="L603" name="L603"></a> 603     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14955.html" title="Multiple referred from 33 places.">getActions</a>() <em class="brace">{</em>
<a id="L604" name="L604"></a> 604         <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == <strong class="reserved">null</strong>)
<a id="L605" name="L605"></a> 605             <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = <a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>(<strong class="reserved">this</strong>.<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>);
<a id="L606" name="L606"></a> 606 
<a id="L607" name="L607"></a> 607         <strong class="reserved">return</strong> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>;
<a id="L608" name="L608"></a> 608     <em class="brace">}</em>
<a id="L609" name="L609"></a> 609 
<div class="comment">
      Returns a new PermissionCollection object for storing FilePermission
      objects.
      <p>
      FilePermission objects must be stored in a manner that allows them
      to be inserted into the collection in any order, but that also enables the
      PermissionCollection <code>implies</code>
      method to be implemented in an efficient (and consistent) manner.
      </p><p>For example, if you have two FilePermissions:
      </p><ol>
      <li>  <code>"/tmp/-", "read"</code>
      </li><li>  <code>"/tmp/scratch/foo", "write"</code>
      </li></ol>
      <p>and you are calling the <code>implies</code> method with the FilePermission:
      </p><pre>        "/tmp/scratch/foo", "read,write",
      </pre>
      then the <code>implies</code> function must
      take into account both the "/tmp/-" and "/tmp/scratch/foo"
      permissions, so the effective permission is "read,write",
      and <code>implies</code> returns true. The "implies" semantics for
      FilePermissions are handled properly by the PermissionCollection object
      returned by this <code>newPermissionCollection</code> method.
      @return a new PermissionCollection object suitable for storing
      FilePermissions.</div>
<a id="L641" name="L641"></a> 641     <strong class="reserved">public</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/23594.html" title="Multiple referred from 3 places.">newPermissionCollection</a>() <em class="brace">{</em>
<a id="L642" name="L642"></a> 642         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1426.html#L701" title="Defined at 701 in src/java/io/FilePermission.java.">FilePermissionCollection</a>();
<a id="L643" name="L643"></a> 643     <em class="brace">}</em>
<a id="L644" name="L644"></a> 644 
<div class="comment">
      WriteObject is called to save the state of the FilePermission
      to a stream. The actions are serialized, and the superclass
      takes care of the name.</div>
<a id="L650" name="L650"></a> 650     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L651" name="L651"></a> 651         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L652" name="L652"></a> 652     <em class="brace">{</em>
<a id="L653" name="L653"></a> 653         <em class="comment">// Write out the actions. The superclass takes care of the name</em>
<a id="L654" name="L654"></a> 654         <em class="comment">// call getActions to make sure actions field is initialized</em>
<a id="L655" name="L655"></a> 655         <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == <strong class="reserved">null</strong>)
<a id="L656" name="L656"></a> 656             <a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>();
<a id="L657" name="L657"></a> 657         s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L658" name="L658"></a> 658     <em class="brace">}</em>
<a id="L659" name="L659"></a> 659 
<div class="comment">
      readObject is called to restore the state of the FilePermission from
      a stream.</div>
<a id="L664" name="L664"></a> 664     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L665" name="L665"></a> 665          <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L666" name="L666"></a> 666     <em class="brace">{</em>
<a id="L667" name="L667"></a> 667         <em class="comment">// Read in the actions, then restore everything else by calling init.</em>
<a id="L668" name="L668"></a> 668         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L669" name="L669"></a> 669         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/20394.html" title="Multiple defined in 14 places.">getMask</a>(<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>));
<a id="L670" name="L670"></a> 670     <em class="brace">}</em>
<a id="L671" name="L671"></a> 671 <em class="brace">}</em>
<a id="L672" name="L672"></a> 672 
<div class="comment">
  A FilePermissionCollection stores a set of FilePermission permissions.
  FilePermission objects
  must be stored in a manner that allows them to be inserted in any
  order, but enable the implies function to evaluate the implies
  method.
  For example, if you have two FilePermissions:
  <ol>
  <li> "/tmp/-", "read"
  </li><li> "/tmp/scratch/foo", "write"
  </li></ol>
  And you are calling the implies function with the FilePermission:
  "/tmp/scratch/foo", "read,write", then the implies function must
  take into account both the /tmp/- and /tmp/scratch/foo
  permissions, so the effective permission is "read,write".
  @see java.security.Permission
  @see java.security.Permissions
  @see java.security.PermissionCollection
  @author Marianne Mueller
  @author Roland Schemers
  @serial include</div>
<a id="L700" name="L700"></a> 700 
<a id="L701" name="L701"></a> 701 <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1426.html#L642" title="Referred from 642 in src/java/io/FilePermission.java.">FilePermissionCollection</a> <strong class="reserved">extends</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a>
<a id="L702" name="L702"></a> 702     <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>
<a id="L703" name="L703"></a> 703 <em class="brace">{</em>
<a id="L704" name="L704"></a> 704     <em class="comment">// Not serialized; see serialization section at end of class</em>
<a id="L705" name="L705"></a> 705     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; perms;
<a id="L706" name="L706"></a> 706 
<div class="comment">
      Create an empty FilePermissionCollection object.</div>
<a id="L710" name="L710"></a> 710     <strong class="reserved">public</strong> FilePermissionCollection() <em class="brace">{</em>
<a id="L711" name="L711"></a> 711         perms = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L712" name="L712"></a> 712     <em class="brace">}</em>
<a id="L713" name="L713"></a> 713 
<div class="comment">
      Adds a permission to the FilePermissionCollection. The key for the hash is
      permission.path.
      @param permission the Permission object to add.
      @exception IllegalArgumentException - if the permission is not a
                                            FilePermission
      @exception SecurityException - if this FilePermissionCollection object
                                     has been marked readonly</div>
<a id="L726" name="L726"></a> 726     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L727" name="L727"></a> 727         <strong class="reserved">if</strong> (! (permission <strong class="reserved">instanceof</strong> <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>))
<a id="L728" name="L728"></a> 728             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid permission: "+
<a id="L729" name="L729"></a> 729                                                permission);
<a id="L730" name="L730"></a> 730         <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>())
<a id="L731" name="L731"></a> 731             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>(
<a id="L732" name="L732"></a> 732                 "attempt to add a Permission to a readonly PermissionCollection");
<a id="L733" name="L733"></a> 733 
<a id="L734" name="L734"></a> 734         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L735" name="L735"></a> 735             perms.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(permission);
<a id="L736" name="L736"></a> 736         <em class="brace">}</em>
<a id="L737" name="L737"></a> 737     <em class="brace">}</em>
<a id="L738" name="L738"></a> 738 
<div class="comment">
      Check and see if this set of permissions implies the permissions
      expressed in "permission".
      @param permission the Permission object to compare
      @return true if "permission" is a proper subset of a permission in
      the set, false if not.</div>
<a id="L748" name="L748"></a> 748     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L749" name="L749"></a> 749         <strong class="reserved">if</strong> (! (permission <strong class="reserved">instanceof</strong> <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>))
<a id="L750" name="L750"></a> 750             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L751" name="L751"></a> 751 
<a id="L752" name="L752"></a> 752         <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a> fp = (<a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>) permission;
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754         <strong class="reserved">int</strong> desired = fp.<a href="../D/20394.html" title="Multiple defined in 14 places.">getMask</a>();
<a id="L755" name="L755"></a> 755         <strong class="reserved">int</strong> effective = 0;
<a id="L756" name="L756"></a> 756         <strong class="reserved">int</strong> needed = desired;
<a id="L757" name="L757"></a> 757 
<a id="L758" name="L758"></a> 758         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759             <strong class="reserved">int</strong> len = perms.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L760" name="L760"></a> 760             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; len; i++) <em class="brace">{</em>
<a id="L761" name="L761"></a> 761                 <a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = (<a href="../S/1426.html#L100" title="Defined at 100 in src/java/io/FilePermission.java.">FilePermission</a>) perms.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L762" name="L762"></a> 762                 <strong class="reserved">if</strong> (((needed &amp; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/20394.html" title="Multiple defined in 14 places.">getMask</a>()) != 0) &amp;&amp; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/24385.html" title="Multiple defined in 3 places.">impliesIgnoreMask</a>(fp)) <em class="brace">{</em>
<a id="L763" name="L763"></a> 763                     effective |=  <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/20394.html" title="Multiple defined in 14 places.">getMask</a>();
<a id="L764" name="L764"></a> 764                     <strong class="reserved">if</strong> ((effective &amp; desired) == desired)
<a id="L765" name="L765"></a> 765                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L766" name="L766"></a> 766                     needed = (desired ^ effective);
<a id="L767" name="L767"></a> 767                 <em class="brace">}</em>
<a id="L768" name="L768"></a> 768             <em class="brace">}</em>
<a id="L769" name="L769"></a> 769         <em class="brace">}</em>
<a id="L770" name="L770"></a> 770         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L771" name="L771"></a> 771     <em class="brace">}</em>
<a id="L772" name="L772"></a> 772 
<div class="comment">
      Returns an enumeration of all the FilePermission objects in the
      container.
      @return an enumeration of all the FilePermission objects.</div>
<a id="L779" name="L779"></a> 779     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../R/13650.html" title="Multiple referred from 679 places.">elements</a>() <em class="brace">{</em>
<a id="L780" name="L780"></a> 780         <em class="comment">// Convert Iterator into Enumeration</em>
<a id="L781" name="L781"></a> 781         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L782" name="L782"></a> 782             <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L5207" title="Defined at 5207 in src/java/util/Collections.java.">enumeration</a>(perms);
<a id="L783" name="L783"></a> 783         <em class="brace">}</em>
<a id="L784" name="L784"></a> 784     <em class="brace">}</em>
<a id="L785" name="L785"></a> 785 
<a id="L786" name="L786"></a> 786     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 2202956749081564585L;
<a id="L787" name="L787"></a> 787 
<a id="L788" name="L788"></a> 788     <em class="comment">// Need to maintain serialization interoperability with earlier releases,</em>
<a id="L789" name="L789"></a> 789     <em class="comment">// which had the serializable field:</em>
<a id="L790" name="L790"></a> 790     <em class="comment">//    private Vector permissions;</em>
<a id="L791" name="L791"></a> 791 
<div class="comment">
      @serialField permissions java.util.Vector
          A list of FilePermission objects.</div>
<a id="L796" name="L796"></a> 796     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>[] serialPersistentFields = <em class="brace">{</em>
<a id="L797" name="L797"></a> 797         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("permissions", <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>.<strong class="reserved">class</strong>),
<a id="L798" name="L798"></a> 798     <em class="brace">}</em>;
<a id="L799" name="L799"></a> 799 
<div class="comment">
      @serialData "permissions" field (a Vector containing the FilePermissions).</div>
<div class="comment">
      Writes the contents of the perms field out as a Vector for
      serialization compatibility with earlier releases.</div>
<a id="L807" name="L807"></a> 807     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L808" name="L808"></a> 808         <em class="comment">// Don't call out.defaultWriteObject()</em>
<a id="L809" name="L809"></a> 809 
<a id="L810" name="L810"></a> 810         <em class="comment">// Write out Vector</em>
<a id="L811" name="L811"></a> 811         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;(perms.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L812" name="L812"></a> 812         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L813" name="L813"></a> 813             <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(perms);
<a id="L814" name="L814"></a> 814         <em class="brace">}</em>
<a id="L815" name="L815"></a> 815 
<a id="L816" name="L816"></a> 816         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> pfields = <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L817" name="L817"></a> 817         pfields.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("permissions", <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>);
<a id="L818" name="L818"></a> 818         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L819" name="L819"></a> 819     <em class="brace">}</em>
<a id="L820" name="L820"></a> 820 
<div class="comment">
      Reads in a Vector of FilePermissions and saves them in the perms field.</div>
<a id="L824" name="L824"></a> 824     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>)
<a id="L825" name="L825"></a> 825         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L826" name="L826"></a> 826     <em class="brace">{</em>
<a id="L827" name="L827"></a> 827         <em class="comment">// Don't call defaultReadObject()</em>
<a id="L828" name="L828"></a> 828 
<a id="L829" name="L829"></a> 829         <em class="comment">// Read in serialized fields</em>
<a id="L830" name="L830"></a> 830         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> gfields = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L831" name="L831"></a> 831 
<a id="L832" name="L832"></a> 832         <em class="comment">// Get the one we want</em>
<a id="L833" name="L833"></a> 833         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L834" name="L834"></a> 834         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a> = (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt;)gfields.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("permissions", <strong class="reserved">null</strong>);
<a id="L835" name="L835"></a> 835         perms = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;(<a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L836" name="L836"></a> 836         perms.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(<a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>);
<a id="L837" name="L837"></a> 837     <em class="brace">}</em>
<a id="L838" name="L838"></a> 838 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L183">[^]</a><a href="#L824">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>