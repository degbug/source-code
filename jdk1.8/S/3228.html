<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/SwingWorker.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L327">[^]</a><a href="#L852">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L327" title="Defined at 327.">doInBackground</a></li>
<li><a href="#L333" title="Defined at 333.">run</a></li>
<li><a href="#L407" title="Defined at 407.">SuppressWarnings</a></li>
<li><a href="#L408" title="Defined at 408.">publish</a></li>
<li><a href="#L438" title="Defined at 438.">process</a></li>
<li><a href="#L453" title="Defined at 453.">done</a></li>
<li><a href="#L483" title="Defined at 483.">setProgress</a></li>
<li><a href="#L520" title="Defined at 520.">getProgress</a></li>
<li><a href="#L537" title="Defined at 537.">execute</a></li>
<li><a href="#L545" title="Defined at 545.">cancel</a></li>
<li><a href="#L552" title="Defined at 552.">isCancelled</a></li>
<li><a href="#L559" title="Defined at 559.">isDone</a></li>
<li><a href="#L601" title="Defined at 601.">get</a></li>
<li><a href="#L610" title="Defined at 610.">get</a></li>
<li><a href="#L630" title="Defined at 630.">addPropertyChangeListener</a></li>
<li><a href="#L648" title="Defined at 648.">removePropertyChangeListener</a></li>
<li><a href="#L674" title="Defined at 674.">firePropertyChange</a></li>
<li><a href="#L697" title="Defined at 697.">getPropertyChangeSupport</a></li>
<li><a href="#L708" title="Defined at 708.">getState</a></li>
<li><a href="#L724" title="Defined at 724.">setState</a></li>
<li><a href="#L733" title="Defined at 733.">doneEDT</a></li>
<li><a href="#L756" title="Defined at 756.">getWorkersExecutorService</a></li>
<li><a href="#L815" title="Defined at 815.">getDoSubmit</a></li>
<li><a href="#L830" title="Defined at 830.">run</a></li>
<li><a href="#L836" title="Defined at 836.">submit</a></li>
<li><a href="#L841" title="Defined at 841.">actionPerformed</a></li>
<li><a href="#L852" title="Defined at 852.">firePropertyChange</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2005, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.beans.PropertyChangeListener;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.beans.PropertyChangeSupport;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.beans.PropertyChangeEvent;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.List;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.concurrent.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.concurrent.locks.*;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.awt.event.*;
<a id="L38" name="L38"></a>  38 
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> javax.swing.SwingUtilities;
<a id="L40" name="L40"></a>  40 
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> sun.awt.AppContext;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> sun.swing.AccumulativeRunnable;
<a id="L43" name="L43"></a>  43 
<div class="comment">
  An abstract class to perform lengthy GUI-interaction tasks in a
  background thread. Several background threads can be used to execute such
  tasks. However, the exact strategy of choosing a thread for any particular
  <code>SwingWorker</code> is unspecified and should not be relied on.
  <p>
  When writing a multi-threaded application using Swing, there are
  two constraints to keep in mind:
  (refer to
  <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">
    Concurrency in Swing
  </a> for more details):
  </p><ul><li> Time-consuming tasks should not be run on the <i>Event
         Dispatch Thread</i>. Otherwise the application becomes unresponsive.
    </li><li> Swing components should be accessed  on the <i>Event
         Dispatch Thread</i> only.
    </li>
  </ul>
  <p>
  These constraints mean that a GUI application with time intensive
  computing needs at least two threads:  1) a thread to perform the lengthy
  task and 2) the <i>Event Dispatch Thread</i> (EDT) for all GUI-related
  activities.  This involves inter-thread communication which can be
  tricky to implement.
  </p><p>
  <code>SwingWorker</code> is designed for situations where you need to have a long
  running task run in a background thread and provide updates to the UI
  either when done, or while processing.
  Subclasses of <code>SwingWorker</code> must implement
  the <a href="#L327" title="Defined at 327.">doInBackground</a> method to perform the background computation.
  </p><p>
  <b>Workflow</b>
  </p><p>
  There are three threads involved in the life cycle of a
  <code>SwingWorker</code> :
  </p><ul><li>
  <p>
  <i>Current</i> thread: The <a href="#L537" title="Defined at 537.">execute</a> method is
  called on this thread. It schedules <code>SwingWorker</code> for the execution on a
  <i>worker</i>
  thread and returns immediately. One can wait for the <code>SwingWorker</code> to
  complete using the <a href="#L601" title="Defined at 601.">get</a> methods.
  </p></li><li>
  <p>
  <i>Worker</i> thread: The <a href="#L327" title="Defined at 327.">doInBackground</a>
  method is called on this thread.
  This is where all background activities should happen. To notify
  <code>PropertyChangeListeners</code> about bound properties changes use the
  <a href="#L674" title="Defined at 674.">firePropertyChange</a> and
  <a href="#L697" title="Defined at 697.">getPropertyChangeSupport</a> methods. By default there are two bound
  properties available: <code>state</code> and <code>progress</code>.
  </p></li><li>
  <p>
  <i>Event Dispatch Thread</i>:  All Swing related activities occur
  on this thread. <code>SwingWorker</code> invokes the
  <a href="#L438" title="Defined at 438.">process</a> and <a href="#L453" title="Defined at 453.">done</a> methods and notifies
  any <code>PropertyChangeListeners</code> on this thread.
  </p></li></ul>
  <p>
  Often, the <i>Current</i> thread is the <i>Event Dispatch
  Thread</i>.
  </p><p>
  Before the <code>doInBackground</code> method is invoked on a <i>worker</i> thread,
  <code>SwingWorker</code> notifies any <code>PropertyChangeListeners</code> about the
  <code>state</code> property change to <code>StateValue.STARTED</code>.  After the
  <code>doInBackground</code> method is finished the <code>done</code> method is
  executed.  Then <code>SwingWorker</code> notifies any <code>PropertyChangeListeners</code>
  about the <code>state</code> property change to <code>StateValue.DONE</code>.
  </p><p>
  <code>SwingWorker</code> is only designed to be executed once.  Executing a
  <code>SwingWorker</code> more than once will not result in invoking the
  <code>doInBackground</code> method twice.
  </p><p>
  <b>Sample Usage</b>
  </p><p>
  The following example illustrates the simplest use case.  Some
  processing is done in the background and when done you update a Swing
  component.
  </p><p>
  Say we want to find the "Meaning of Life" and display the result in
  a <code>JLabel</code>.
  </p><pre>    final JLabel label;
    class MeaningOfLifeFinder extends SwingWorker&lt;String, Object&gt; {
        <code>@Override</code>
        public String doInBackground() {
            return findTheMeaningOfLife();
        }
        <code>@Override</code>
        protected void done() {
            try {
                label.setText(get());
            } catch (Exception ignore) {
            }
        }
    }
    (new MeaningOfLifeFinder()).execute();
  </pre>
  <p>
  The next example is useful in situations where you wish to process data
  as it is ready on the <i>Event Dispatch Thread</i>.
  </p><p>
  Now we want to find the first N prime numbers and display the results in a
  <code>JTextArea</code>.  While this is computing, we want to update our
  progress in a <code>JProgressBar</code>.  Finally, we also want to print
  the prime numbers to <code>System.out</code>.
  </p><pre>  class PrimeNumbersTask extends
          SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {
      PrimeNumbersTask(JTextArea textArea, int numbersToFind) {
          //initialize
      }
      <code>@Override</code>
      public List&lt;Integer&gt; doInBackground() {
          while (! enough &amp;&amp; ! isCancelled()) {
                  number = nextPrimeNumber();
                  publish(number);
                  setProgress(100 * numbers.size() / numbersToFind);
              }
          }
          return numbers;
      }
      <code>@Override</code>
      protected void process(List&lt;Integer&gt; chunks) {
          for (int number : chunks) {
              textArea.append(number + "\n");
          }
      }
  }
  JTextArea textArea = new JTextArea();
  final JProgressBar progressBar = new JProgressBar(0, 100);
  PrimeNumbersTask task = new PrimeNumbersTask(textArea, N);
  task.addPropertyChangeListener(
      new PropertyChangeListener() {
          public  void propertyChange(PropertyChangeEvent evt) {
              if ("progress".equals(evt.getPropertyName())) {
                  progressBar.setValue((Integer)evt.getNewValue());
              }
          }
      });
  task.execute();
  System.out.println(task.get()); //prints all prime numbers we have got
  </pre>
  <p>
  Because <code>SwingWorker</code> implements <code>Runnable</code>, a
  <code>SwingWorker</code> can be submitted to an
  {@link java.util.concurrent.Executor} for execution.
  @author Igor Kushnirskiy
  @param <t> the result type returned by this <code>SwingWorker's</code>
         <code>doInBackground</code> and <code>get</code> methods
  @param <v> the type used for carrying out intermediate results by this
         <code>SwingWorker's</code> <code>publish</code> and <code>process</code> methods
  @since 1.6</v></t></p></div>
<a id="L225" name="L225"></a> 225 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/7777.html" title="Multiple referred from 4 places.">SwingWorker</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>, V&gt; <strong class="reserved">implements</strong> <a href="../S/1099.html#L48" title="Defined at 48 in src/java/util/concurrent/RunnableFuture.java.">RunnableFuture</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <em class="brace">{</em>
<div class="comment">
      number of worker threads.</div>
<a id="L229" name="L229"></a> 229     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAX_WORKER_THREADS = 10;
<a id="L230" name="L230"></a> 230 
<div class="comment">
      current progress.</div>
<a id="L234" name="L234"></a> 234     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">int</strong> progress;
<a id="L235" name="L235"></a> 235 
<div class="comment">
      current state.</div>
<a id="L239" name="L239"></a> 239     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L240" name="L240"></a> 240 
<div class="comment">
      everything is run inside this FutureTask. Also it is used as
      a delegatee for the Future API.</div>
<a id="L245" name="L245"></a> 245     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1127.html#L63" title="Defined at 63 in src/java/util/concurrent/FutureTask.java.">FutureTask</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; future;
<a id="L246" name="L246"></a> 246 
<div class="comment">
      all propertyChangeSupport goes through this.</div>
<a id="L250" name="L250"></a> 250     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1808.html#L81" title="Defined at 81 in src/java/beans/PropertyChangeSupport.java.">PropertyChangeSupport</a> propertyChangeSupport;
<a id="L251" name="L251"></a> 251 
<div class="comment">
      handler for <code>process</code> mehtod.</div>
<a id="L255" name="L255"></a> 255     <strong class="reserved">private</strong> AccumulativeRunnable&lt;V&gt; <a href="../D/15063.html" title="Multiple defined in 2 places.">doProcess</a>;
<a id="L256" name="L256"></a> 256 
<div class="comment">
      handler for progress property change notifications.</div>
<a id="L260" name="L260"></a> 260     <strong class="reserved">private</strong> AccumulativeRunnable&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; doNotifyProgressChange;
<a id="L261" name="L261"></a> 261 
<a id="L262" name="L262"></a> 262     <strong class="reserved">private</strong> <strong class="reserved">final</strong> AccumulativeRunnable&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt; doSubmit = <a href="../S/3228.html#L815" title="Defined at 815 in src/javax/swing/SwingWorker.java.">getDoSubmit</a>();
<a id="L263" name="L263"></a> 263 
<div class="comment">
      Values for the <code>state</code> bound property.
      @since 1.6</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">public</strong> <strong class="reserved">enum</strong> <a href="../R/7592.html" title="Multiple referred from 8 places.">StateValue</a> <em class="brace">{</em>
<div class="comment">
          Initial <code>SwingWorker</code> state.</div>
<a id="L272" name="L272"></a> 272         PENDING,
<div class="comment">
          <code>SwingWorker</code> is <code>STARTED</code>
          before invoking <code>doInBackground</code>.</div>
<a id="L277" name="L277"></a> 277         STARTED,
<a id="L278" name="L278"></a> 278 
<div class="comment">
          <code>SwingWorker</code> is <code>DONE</code>
          after <code>doInBackground</code> method
          is finished.</div>
<a id="L284" name="L284"></a> 284         DONE
<a id="L285" name="L285"></a> 285     <em class="brace">}</em>
<a id="L286" name="L286"></a> 286 
<div class="comment">
      Constructs this <code>SwingWorker</code>.</div>
<a id="L290" name="L290"></a> 290     <strong class="reserved">public</strong> SwingWorker() <em class="brace">{</em>
<a id="L291" name="L291"></a> 291         <a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a> =
<a id="L292" name="L292"></a> 292                 <strong class="reserved">new</strong> <a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;() <em class="brace">{</em>
<a id="L293" name="L293"></a> 293                     <strong class="reserved">public</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../D/12109.html" title="Multiple defined in 7 places.">call</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294                         <a href="../D/34006.html" title="Multiple defined in 21 places.">setState</a>(<a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a>.STARTED);
<a id="L295" name="L295"></a> 295                         <strong class="reserved">return</strong> <a href="../D/15039.html" title="Multiple defined in 2 places.">doInBackground</a>();
<a id="L296" name="L296"></a> 296                     <em class="brace">}</em>
<a id="L297" name="L297"></a> 297                 <em class="brace">}</em>;
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299         future = <strong class="reserved">new</strong> <a href="../S/1127.html#L63" title="Defined at 63 in src/java/util/concurrent/FutureTask.java.">FutureTask</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;(<a href="../D/12117.html" title="Multiple defined in 4 places.">callable</a>) <em class="brace">{</em>
<a id="L300" name="L300"></a> 300                        @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L301" name="L301"></a> 301                        <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../D/15117.html" title="Multiple defined in 10 places.">done</a>() <em class="brace">{</em>
<a id="L302" name="L302"></a> 302                            <a href="../S/3228.html#L733" title="Defined at 733 in src/javax/swing/SwingWorker.java.">doneEDT</a>();
<a id="L303" name="L303"></a> 303                            <a href="../D/34006.html" title="Multiple defined in 21 places.">setState</a>(<a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a>.DONE);
<a id="L304" name="L304"></a> 304                        <em class="brace">}</em>
<a id="L305" name="L305"></a> 305                    <em class="brace">}</em>;
<a id="L306" name="L306"></a> 306 
<a id="L307" name="L307"></a> 307        <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a>.PENDING;
<a id="L308" name="L308"></a> 308        propertyChangeSupport = <strong class="reserved">new</strong> <a href="../S/3228.html#L846" title="Defined at 846 in src/javax/swing/SwingWorker.java.">SwingWorkerPropertyChangeSupport</a>(<strong class="reserved">this</strong>);
<a id="L309" name="L309"></a> 309        <a href="../D/15063.html" title="Multiple defined in 2 places.">doProcess</a> = <strong class="reserved">null</strong>;
<a id="L310" name="L310"></a> 310        doNotifyProgressChange = <strong class="reserved">null</strong>;
<a id="L311" name="L311"></a> 311     <em class="brace">}</em>
<a id="L312" name="L312"></a> 312 
<div class="comment">
      Computes a result, or throws an exception if unable to do so.
      <p>
      Note that this method is executed only once.
      </p><p>
      Note: this method is executed in a background thread.
      @return the computed result
      @throws Exception if unable to compute a result</p></div>
<a id="L327" name="L327"></a> 327     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../S/3228.html#L295" title="Referred from 295 in src/javax/swing/SwingWorker.java.">doInBackground</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> ;
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Sets this <code>Future</code> to the result of computation unless
      it has been cancelled.</div>
<a id="L333" name="L333"></a> 333     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em>
<a id="L334" name="L334"></a> 334         future.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L335" name="L335"></a> 335     <em class="brace">}</em>
<a id="L336" name="L336"></a> 336 
<div class="comment">
      Sends data chunks to the <a href="#L438" title="Defined at 438.">process</a> method. This method is to be
      used from inside the <code>doInBackground</code> method to deliver
      intermediate results
      for processing on the <i>Event Dispatch Thread</i> inside the
      <code>process</code> method.
      <p>
      Because the <code>process</code> method is invoked asynchronously on
      the <i>Event Dispatch Thread</i>
      multiple invocations to the <code>publish</code> method
      might occur before the <code>process</code> method is executed. For
      performance purposes all these invocations are coalesced into one
      invocation with concatenated arguments.
      </p><p>
      For example:
      </p><pre>      publish("1");
      publish("2", "3");
      publish("4", "5", "6");
      </pre>
      might result in:
      <pre>      process("1", "2", "3", "4", "5", "6")
      </pre>
      <p>
      <b>Sample Usage</b>. This code snippet loads some tabular data and
      updates <code>DefaultTableModel</code> with it. Note that it safe to mutate
      the tableModel from inside the <code>process</code> method because it is
      invoked on the <i>Event Dispatch Thread</i>.
      </p><pre>      class TableSwingWorker extends
              SwingWorker&lt;DefaultTableModel, Object[]&gt; {
          private final DefaultTableModel tableModel;
          public TableSwingWorker(DefaultTableModel tableModel) {
              this.tableModel = tableModel;
          }
          <code>@Override</code>
          protected DefaultTableModel doInBackground() throws Exception {
              for (Object[] row = loadData();
                       ! isCancelled() &amp;&amp; row != null;
                       row = loadData()) {
                  publish((Object[]) row);
              }
              return tableModel;
          }
          <code>@Override</code>
          protected void process(List&lt;Object[]&gt; chunks) {
              for (Object[] row : chunks) {
                  tableModel.addRow(row);
              }
          }
      }
      </pre>
      @param chunks intermediate results to process
      @see #process</div>
<a id="L406" name="L406"></a> 406     @<a href="../S/1771.html#L93" title="Defined at 93 in src/java/lang/SafeVarargs.java.">SafeVarargs</a>
<a id="L407" name="L407"></a> 407     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("varargs") <em class="comment">// Passing chunks to add is safe</em>
<a id="L408" name="L408"></a> 408     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25244.html" title="Multiple referred from 5 places.">publish</a>(V... chunks) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410             <strong class="reserved">if</strong> (<a href="../D/15063.html" title="Multiple defined in 2 places.">doProcess</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                 <a href="../D/15063.html" title="Multiple defined in 2 places.">doProcess</a> = <strong class="reserved">new</strong> AccumulativeRunnable&lt;V&gt;() <em class="brace">{</em>
<a id="L412" name="L412"></a> 412                     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L413" name="L413"></a> 413                     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;V&gt; args) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414                         <a href="../D/29750.html" title="Multiple defined in 3 places.">process</a>(args);
<a id="L415" name="L415"></a> 415                     <em class="brace">}</em>
<a id="L416" name="L416"></a> 416                     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L417" name="L417"></a> 417                     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../D/35001.html" title="Multiple defined in 23 places.">submit</a>() <em class="brace">{</em>
<a id="L418" name="L418"></a> 418                         doSubmit.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">this</strong>);
<a id="L419" name="L419"></a> 419                     <em class="brace">}</em>
<a id="L420" name="L420"></a> 420                 <em class="brace">}</em>;
<a id="L421" name="L421"></a> 421             <em class="brace">}</em>
<a id="L422" name="L422"></a> 422         <em class="brace">}</em>
<a id="L423" name="L423"></a> 423         <a href="../D/15063.html" title="Multiple defined in 2 places.">doProcess</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(chunks);
<a id="L424" name="L424"></a> 424     <em class="brace">}</em>
<a id="L425" name="L425"></a> 425 
<div class="comment">
      Receives data chunks from the <code>publish</code> method asynchronously on the
      <i>Event Dispatch Thread</i>.
      <p>
      Please refer to the <a href="#L408" title="Defined at 408.">publish</a> method for more details.
      @param chunks intermediate results to process
      @see #publish</p></div>
<a id="L438" name="L438"></a> 438     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25083.html" title="Multiple referred from 11 places.">process</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;V&gt; chunks) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439     <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<div class="comment">
      Executed on the <i>Event Dispatch Thread</i> after the <code>doInBackground</code>
      method is finished. The default
      implementation does nothing. Subclasses may override this method to
      perform completion actions on the <i>Event Dispatch Thread</i>. Note
      that you can query status inside the implementation of this method to
      determine the result of this task or whether this task has been cancelled.
      @see #doInBackground
      @see #isCancelled()
      @see #get</div>
<a id="L453" name="L453"></a> 453     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13474.html" title="Multiple referred from 130 places.">done</a>() <em class="brace">{</em>
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Sets the <code>progress</code> bound property.
      The value should be from 0 to 100.
      <p>
      Because <code>PropertyChangeListener</code>s are notified asynchronously on
      the <i>Event Dispatch Thread</i> multiple invocations to the
      <code>setProgress</code> method might occur before any
      <code>PropertyChangeListeners</code> are invoked. For performance purposes
      all these invocations are coalesced into one invocation with the last
      invocation argument only.
      </p><p>
      For example, the following invokations:
      </p><pre>      setProgress(1);
      setProgress(2);
      setProgress(3);
      </pre>
      might result in a single <code>PropertyChangeListener</code> notification with
      the value <code>3</code>.
      @param progress the progress value to set
      @throws IllegalArgumentException is value not from 0 to 100</div>
<a id="L483" name="L483"></a> 483     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/27973.html" title="Multiple referred from 5 places.">setProgress</a>(<strong class="reserved">int</strong> progress) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484         <strong class="reserved">if</strong> (progress &lt; 0 || progress &gt; 100) <em class="brace">{</em>
<a id="L485" name="L485"></a> 485             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("the value should be from 0 to 100");
<a id="L486" name="L486"></a> 486         <em class="brace">}</em>
<a id="L487" name="L487"></a> 487         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.progress == progress) <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <strong class="reserved">return</strong>;
<a id="L489" name="L489"></a> 489         <em class="brace">}</em>
<a id="L490" name="L490"></a> 490         <strong class="reserved">int</strong> oldProgress = <strong class="reserved">this</strong>.progress;
<a id="L491" name="L491"></a> 491         <strong class="reserved">this</strong>.progress = progress;
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (! <a href="../D/21725.html" title="Multiple defined in 2 places.">getPropertyChangeSupport</a>().<a href="../D/24116.html" title="Multiple defined in 3 places.">hasListeners</a>("progress")) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493             <strong class="reserved">return</strong>;
<a id="L494" name="L494"></a> 494         <em class="brace">}</em>
<a id="L495" name="L495"></a> 495         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L496" name="L496"></a> 496             <strong class="reserved">if</strong> (doNotifyProgressChange == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497                 doNotifyProgressChange =
<a id="L498" name="L498"></a> 498                     <strong class="reserved">new</strong> AccumulativeRunnable&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt;() <em class="brace">{</em>
<a id="L499" name="L499"></a> 499                         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L500" name="L500"></a> 500                         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; args) <em class="brace">{</em>
<a id="L501" name="L501"></a> 501                             <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("progress",
<a id="L502" name="L502"></a> 502                                args.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(0),
<a id="L503" name="L503"></a> 503                                args.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(args.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1));
<a id="L504" name="L504"></a> 504                         <em class="brace">}</em>
<a id="L505" name="L505"></a> 505                         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L506" name="L506"></a> 506                         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../D/35001.html" title="Multiple defined in 23 places.">submit</a>() <em class="brace">{</em>
<a id="L507" name="L507"></a> 507                             doSubmit.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">this</strong>);
<a id="L508" name="L508"></a> 508                         <em class="brace">}</em>
<a id="L509" name="L509"></a> 509                     <em class="brace">}</em>;
<a id="L510" name="L510"></a> 510             <em class="brace">}</em>
<a id="L511" name="L511"></a> 511         <em class="brace">}</em>
<a id="L512" name="L512"></a> 512         doNotifyProgressChange.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(oldProgress, progress);
<a id="L513" name="L513"></a> 513     <em class="brace">}</em>
<a id="L514" name="L514"></a> 514 
<div class="comment">
      Returns the <code>progress</code> bound property.
      @return the progress bound property.</div>
<a id="L520" name="L520"></a> 520     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> getProgress() <em class="brace">{</em>
<a id="L521" name="L521"></a> 521         <strong class="reserved">return</strong> progress;
<a id="L522" name="L522"></a> 522     <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<div class="comment">
      Schedules this <code>SwingWorker</code> for execution on a <i>worker</i>
      thread. There are a number of <i>worker</i> threads available. In the
      event all <i>worker</i> threads are busy handling other
      <code>SwingWorkers</code> this <code>SwingWorker</code> is placed in a waiting
      queue.
      <p>
      Note:
      <code>SwingWorker</code> is only designed to be executed once.  Executing a
      <code>SwingWorker</code> more than once will not result in invoking the
      <code>doInBackground</code> method twice.</p></div>
<a id="L537" name="L537"></a> 537     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/14093.html" title="Multiple referred from 117 places.">execute</a>() <em class="brace">{</em>
<a id="L538" name="L538"></a> 538         <a href="../S/3228.html#L756" title="Defined at 756 in src/javax/swing/SwingWorker.java.">getWorkersExecutorService</a>().<a href="../D/15800.html" title="Multiple defined in 82 places.">execute</a>(<strong class="reserved">this</strong>);
<a id="L539" name="L539"></a> 539     <em class="brace">}</em>
<a id="L540" name="L540"></a> 540 
<a id="L541" name="L541"></a> 541     <em class="comment">// Future methods START</em>
<div class="comment">
      {@inheritDoc}</div>
<a id="L545" name="L545"></a> 545     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/10918.html" title="Multiple referred from 41 places.">cancel</a>(<strong class="reserved">boolean</strong> mayInterruptIfRunning) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546         <strong class="reserved">return</strong> future.<a href="../D/12192.html" title="Multiple defined in 21 places.">cancel</a>(mayInterruptIfRunning);
<a id="L547" name="L547"></a> 547     <em class="brace">}</em>
<a id="L548" name="L548"></a> 548 
<div class="comment">
      {@inheritDoc}</div>
<a id="L552" name="L552"></a> 552     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21232.html" title="Multiple referred from 12 places.">isCancelled</a>() <em class="brace">{</em>
<a id="L553" name="L553"></a> 553         <strong class="reserved">return</strong> future.<a href="../D/25280.html" title="Multiple defined in 8 places.">isCancelled</a>();
<a id="L554" name="L554"></a> 554     <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<div class="comment">
      {@inheritDoc}</div>
<a id="L559" name="L559"></a> 559     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21378.html" title="Multiple referred from 29 places.">isDone</a>() <em class="brace">{</em>
<a id="L560" name="L560"></a> 560         <strong class="reserved">return</strong> future.<a href="../D/25461.html" title="Multiple defined in 19 places.">isDone</a>();
<a id="L561" name="L561"></a> 561     <em class="brace">}</em>
<a id="L562" name="L562"></a> 562 
<div class="comment">
      {@inheritDoc}
      <p>
      Note: calling <code>get</code> on the <i>Event Dispatch Thread</i> blocks
      <i>all</i> events, including repaints, from being processed until this
      <code>SwingWorker</code> is complete.
      </p><p>
      When you want the <code>SwingWorker</code> to block on the <i>Event
      Dispatch Thread</i> we recommend that you use a <i>modal dialog</i>.
      </p><p>
      For example:
      </p><pre>      class SwingWorkerCompletionWaiter extends PropertyChangeListener {
          private JDialog dialog;
          public SwingWorkerCompletionWaiter(JDialog dialog) {
              this.dialog = dialog;
          }
          public void propertyChange(PropertyChangeEvent event) {
              if ("state".equals(event.getPropertyName())
                      &amp;&amp; SwingWorker.StateValue.DONE == event.getNewValue()) {
                  dialog.setVisible(false);
                  dialog.dispose();
              }
          }
      }
      JDialog dialog = new JDialog(owner, true);
      swingWorker.addPropertyChangeListener(
          new SwingWorkerCompletionWaiter(dialog));
      swingWorker.execute();
      //the dialog will be visible until the SwingWorker is done
      dialog.setVisible(true);
      </pre></div>
<a id="L601" name="L601"></a> 601     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>() <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>, <a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a> <em class="brace">{</em>
<a id="L602" name="L602"></a> 602         <strong class="reserved">return</strong> future.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L603" name="L603"></a> 603     <em class="brace">}</em>
<a id="L604" name="L604"></a> 604 
<div class="comment">
      {@inheritDoc}
      <p>
      Please refer to <a href="#L601" title="Defined at 601.">get</a> for more details.</p></div>
<a id="L610" name="L610"></a> 610     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<strong class="reserved">long</strong> timeout, <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a> unit) <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>,
<a id="L611" name="L611"></a> 611             <a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a>, <a href="../D/8986.html" title="Multiple defined in 2 places.">TimeoutException</a> <em class="brace">{</em>
<a id="L612" name="L612"></a> 612         <strong class="reserved">return</strong> future.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(timeout, unit);
<a id="L613" name="L613"></a> 613     <em class="brace">}</em>
<a id="L614" name="L614"></a> 614 
<a id="L615" name="L615"></a> 615     <em class="comment">// Future methods END</em>
<a id="L616" name="L616"></a> 616 
<a id="L617" name="L617"></a> 617     <em class="comment">// PropertyChangeSupports methods START</em>
<div class="comment">
      Adds a <code>PropertyChangeListener</code> to the listener list. The listener
      is registered for all properties. The same listener object may be added
      more than once, and will be called as many times as it is added. If
      <code>listener</code> is <code>null</code>, no exception is thrown and no action is taken.
      <p>
      Note: This is merely a convenience wrapper. All work is delegated to
      <code>PropertyChangeSupport</code> from <a href="#L697" title="Defined at 697.">getPropertyChangeSupport</a>.
      @param listener the <code>PropertyChangeListener</code> to be added</p></div>
<a id="L630" name="L630"></a> 630     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/9914.html" title="Multiple referred from 169 places.">addPropertyChangeListener</a>(<a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a> listener) <em class="brace">{</em>
<a id="L631" name="L631"></a> 631         <a href="../D/21725.html" title="Multiple defined in 2 places.">getPropertyChangeSupport</a>().<a href="../D/11015.html" title="Multiple defined in 48 places.">addPropertyChangeListener</a>(listener);
<a id="L632" name="L632"></a> 632     <em class="brace">}</em>
<a id="L633" name="L633"></a> 633 
<div class="comment">
      Removes a <code>PropertyChangeListener</code> from the listener list. This
      removes a <code>PropertyChangeListener</code> that was registered for all
      properties. If <code>listener</code> was added more than once to the same
      event source, it will be notified one less time after being removed. If
      <code>listener</code> is <code>null</code>, or was never added, no exception is
      thrown and no action is taken.
      <p>
      Note: This is merely a convenience wrapper. All work is delegated to
      <code>PropertyChangeSupport</code> from <a href="#L697" title="Defined at 697.">getPropertyChangeSupport</a>.
      @param listener the <code>PropertyChangeListener</code> to be removed</p></div>
<a id="L648" name="L648"></a> 648     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26051.html" title="Multiple referred from 157 places.">removePropertyChangeListener</a>(<a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a> listener) <em class="brace">{</em>
<a id="L649" name="L649"></a> 649         <a href="../D/21725.html" title="Multiple defined in 2 places.">getPropertyChangeSupport</a>().<a href="../D/30926.html" title="Multiple defined in 44 places.">removePropertyChangeListener</a>(listener);
<a id="L650" name="L650"></a> 650     <em class="brace">}</em>
<a id="L651" name="L651"></a> 651 
<div class="comment">
      Reports a bound property update to any registered listeners. No event is
      fired if <code>old</code> and <code>new</code> are equal and non-null.
      <p>
      This <code>SwingWorker</code> will be the source for
      any generated events.
      </p><p>
      When called off the <i>Event Dispatch Thread</i>
      <code>PropertyChangeListeners</code> are notified asynchronously on
      the <i>Event Dispatch Thread</i>.
      </p><p>
      Note: This is merely a convenience wrapper. All work is delegated to
      <code>PropertyChangeSupport</code> from <a href="#L697" title="Defined at 697.">getPropertyChangeSupport</a>.
      @param propertyName the programmatic name of the property that was
             changed
      @param oldValue the old value of the property
      @param newValue the new value of the property</p></div>
<a id="L674" name="L674"></a> 674     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/14596.html" title="Multiple referred from 503 places.">firePropertyChange</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldValue,
<a id="L675" name="L675"></a> 675             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newValue) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676         <a href="../D/21725.html" title="Multiple defined in 2 places.">getPropertyChangeSupport</a>().<a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(<a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>,
<a id="L677" name="L677"></a> 677             oldValue, newValue);
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<div class="comment">
      Returns the <code>PropertyChangeSupport</code> for this <code>SwingWorker</code>.
      This method is used when flexible access to bound properties support is
      needed.
      <p>
      This <code>SwingWorker</code> will be the source for
      any generated events.
      </p><p>
      Note: The returned <code>PropertyChangeSupport</code> notifies any
      <code>PropertyChangeListener</code>s asynchronously on the <i>Event Dispatch
      Thread</i> in the event that <code>firePropertyChange</code> or
      <code>fireIndexedPropertyChange</code> are called off the <i>Event Dispatch
      Thread</i>.
      @return <code>PropertyChangeSupport</code> for this <code>SwingWorker</code></p></div>
<a id="L697" name="L697"></a> 697     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1808.html#L81" title="Defined at 81 in src/java/beans/PropertyChangeSupport.java.">PropertyChangeSupport</a> <a href="../R/18512.html" title="Multiple referred from 8 places.">getPropertyChangeSupport</a>() <em class="brace">{</em>
<a id="L698" name="L698"></a> 698         <strong class="reserved">return</strong> propertyChangeSupport;
<a id="L699" name="L699"></a> 699     <em class="brace">}</em>
<a id="L700" name="L700"></a> 700 
<a id="L701" name="L701"></a> 701     <em class="comment">// PropertyChangeSupports methods END</em>
<a id="L702" name="L702"></a> 702 
<div class="comment">
      Returns the <code>SwingWorker</code> state bound property.
      @return the current state</div>
<a id="L708" name="L708"></a> 708     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a> <a href="../R/19176.html" title="Multiple referred from 92 places.">getState</a>() <em class="brace">{</em>
<div class="comment">
          DONE is a speacial case
          to keep getState and isDone is sync</div>
<a id="L713" name="L713"></a> 713         <strong class="reserved">if</strong> (<a href="../D/25461.html" title="Multiple defined in 19 places.">isDone</a>()) <em class="brace">{</em>
<a id="L714" name="L714"></a> 714             <strong class="reserved">return</strong> <a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a>.DONE;
<a id="L715" name="L715"></a> 715         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L716" name="L716"></a> 716             <strong class="reserved">return</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L717" name="L717"></a> 717         <em class="brace">}</em>
<a id="L718" name="L718"></a> 718     <em class="brace">}</em>
<a id="L719" name="L719"></a> 719 
<div class="comment">
      Sets this <code>SwingWorker</code> state bound property.
      @param state the state to set</div>
<a id="L724" name="L724"></a> 724     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/28224.html" title="Multiple referred from 77 places.">setState</a>(<a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>) <em class="brace">{</em>
<a id="L725" name="L725"></a> 725         <a href="../S/3228.html#L268" title="Defined at 268 in src/javax/swing/SwingWorker.java.">StateValue</a> old = <strong class="reserved">this</strong>.<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L726" name="L726"></a> 726         <strong class="reserved">this</strong>.<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L727" name="L727"></a> 727         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("state", old, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>);
<a id="L728" name="L728"></a> 728     <em class="brace">}</em>
<a id="L729" name="L729"></a> 729 
<div class="comment">
      Invokes <code>done</code> on the EDT.</div>
<a id="L733" name="L733"></a> 733     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3228.html#L302" title="Referred from 302 in src/javax/swing/SwingWorker.java.">doneEDT</a>() <em class="brace">{</em>
<a id="L734" name="L734"></a> 734         <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> doDone =
<a id="L735" name="L735"></a> 735             <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L736" name="L736"></a> 736                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L737" name="L737"></a> 737                     <a href="../D/15117.html" title="Multiple defined in 10 places.">done</a>();
<a id="L738" name="L738"></a> 738                 <em class="brace">}</em>
<a id="L739" name="L739"></a> 739             <em class="brace">}</em>;
<a id="L740" name="L740"></a> 740         <strong class="reserved">if</strong> (<a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>()) <em class="brace">{</em>
<a id="L741" name="L741"></a> 741             doDone.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L742" name="L742"></a> 742         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L743" name="L743"></a> 743             doSubmit.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(doDone);
<a id="L744" name="L744"></a> 744         <em class="brace">}</em>
<a id="L745" name="L745"></a> 745     <em class="brace">}</em>
<a id="L746" name="L746"></a> 746 
<a id="L747" name="L747"></a> 747 
<div class="comment">
      returns workersExecutorService.
      returns the service stored in the appContext or creates it if
      necessary.
      @return ExecutorService for the <code>SwingWorkers</code></div>
<a id="L756" name="L756"></a> 756     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <a href="../S/1064.html#L137" title="Defined at 137 in src/java/util/concurrent/ExecutorService.java.">ExecutorService</a> <a href="../S/3228.html#L538" title="Referred from 538 in src/javax/swing/SwingWorker.java.">getWorkersExecutorService</a>() <em class="brace">{</em>
<a id="L757" name="L757"></a> 757         <strong class="reserved">final</strong> AppContext appContext = AppContext.getAppContext();
<a id="L758" name="L758"></a> 758         <a href="../S/1064.html#L137" title="Defined at 137 in src/java/util/concurrent/ExecutorService.java.">ExecutorService</a> executorService =
<a id="L759" name="L759"></a> 759             (<a href="../S/1064.html#L137" title="Defined at 137 in src/java/util/concurrent/ExecutorService.java.">ExecutorService</a>) appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3228.html#L225" title="Defined at 225 in src/javax/swing/SwingWorker.java.">SwingWorker</a>.<strong class="reserved">class</strong>);
<a id="L760" name="L760"></a> 760         <strong class="reserved">if</strong> (executorService == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L761" name="L761"></a> 761             <em class="comment">//this creates daemon threads.</em>
<a id="L762" name="L762"></a> 762             <a href="../S/1104.html#L58" title="Defined at 58 in src/java/util/concurrent/ThreadFactory.java.">ThreadFactory</a> threadFactory =
<a id="L763" name="L763"></a> 763                 <strong class="reserved">new</strong> <a href="../S/1104.html#L58" title="Defined at 58 in src/java/util/concurrent/ThreadFactory.java.">ThreadFactory</a>() <em class="brace">{</em>
<a id="L764" name="L764"></a> 764                     <strong class="reserved">final</strong> <a href="../S/1104.html#L58" title="Defined at 58 in src/java/util/concurrent/ThreadFactory.java.">ThreadFactory</a> defaultFactory =
<a id="L765" name="L765"></a> 765                         <a href="../S/1124.html#L71" title="Defined at 71 in src/java/util/concurrent/Executors.java.">Executors</a>.<a href="../S/1124.html#L352" title="Defined at 352 in src/java/util/concurrent/Executors.java.">defaultThreadFactory</a>();
<a id="L766" name="L766"></a> 766                     <strong class="reserved">public</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> <a href="../D/28094.html" title="Multiple defined in 7 places.">newThread</a>(<strong class="reserved">final</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> r) <em class="brace">{</em>
<a id="L767" name="L767"></a> 767                         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> thread =
<a id="L768" name="L768"></a> 768                             defaultFactory.<a href="../D/28094.html" title="Multiple defined in 7 places.">newThread</a>(r);
<a id="L769" name="L769"></a> 769                         thread.<a href="../D/33314.html" title="Multiple defined in 37 places.">setName</a>("SwingWorker-"
<a id="L770" name="L770"></a> 770                             + thread.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L771" name="L771"></a> 771                         thread.<a href="../D/32347.html" title="Multiple defined in 2 places.">setDaemon</a>(<strong class="reserved">true</strong>);
<a id="L772" name="L772"></a> 772                         <strong class="reserved">return</strong> thread;
<a id="L773" name="L773"></a> 773                     <em class="brace">}</em>
<a id="L774" name="L774"></a> 774                 <em class="brace">}</em>;
<a id="L775" name="L775"></a> 775 
<a id="L776" name="L776"></a> 776             executorService =
<a id="L777" name="L777"></a> 777                 <strong class="reserved">new</strong> <a href="../S/1117.html#L319" title="Defined at 319 in src/java/util/concurrent/ThreadPoolExecutor.java.">ThreadPoolExecutor</a>(MAX_WORKER_THREADS, MAX_WORKER_THREADS,
<a id="L778" name="L778"></a> 778                                        10L, <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>,
<a id="L779" name="L779"></a> 779                                        <strong class="reserved">new</strong> <a href="../S/1061.html#L80" title="Defined at 80 in src/java/util/concurrent/LinkedBlockingQueue.java.">LinkedBlockingQueue</a>&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt;(),
<a id="L780" name="L780"></a> 780                                        threadFactory);
<a id="L781" name="L781"></a> 781             appContext.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3228.html#L225" title="Defined at 225 in src/javax/swing/SwingWorker.java.">SwingWorker</a>.<strong class="reserved">class</strong>, executorService);
<a id="L782" name="L782"></a> 782 
<a id="L783" name="L783"></a> 783             <em class="comment">// Don't use ShutdownHook here as it's not enough. We should track</em>
<a id="L784" name="L784"></a> 784             <em class="comment">// AppContext disposal instead of JVM shutdown, see 6799345 for details</em>
<a id="L785" name="L785"></a> 785             <strong class="reserved">final</strong> <a href="../S/1064.html#L137" title="Defined at 137 in src/java/util/concurrent/ExecutorService.java.">ExecutorService</a> es = executorService;
<a id="L786" name="L786"></a> 786             appContext.<a href="../D/11015.html" title="Multiple defined in 48 places.">addPropertyChangeListener</a>(AppContext.DISPOSED_PROPERTY_NAME,
<a id="L787" name="L787"></a> 787                 <strong class="reserved">new</strong> <a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a>() <em class="brace">{</em>
<a id="L788" name="L788"></a> 788                     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L789" name="L789"></a> 789                     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/29899.html" title="Multiple defined in 133 places.">propertyChange</a>(<a href="../S/1790.html#L47" title="Defined at 47 in src/java/beans/PropertyChangeEvent.java.">PropertyChangeEvent</a> pce) <em class="brace">{</em>
<a id="L790" name="L790"></a> 790                         <strong class="reserved">boolean</strong> disposed = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)pce.<a href="../D/20884.html" title="Multiple defined in 5 places.">getNewValue</a>();
<a id="L791" name="L791"></a> 791                         <strong class="reserved">if</strong> (disposed) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792                             <strong class="reserved">final</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/1064.html#L137" title="Defined at 137 in src/java/util/concurrent/ExecutorService.java.">ExecutorService</a>&gt; executorServiceRef =
<a id="L793" name="L793"></a> 793                                 <strong class="reserved">new</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/1064.html#L137" title="Defined at 137 in src/java/util/concurrent/ExecutorService.java.">ExecutorService</a>&gt;(es);
<a id="L794" name="L794"></a> 794                             <strong class="reserved">final</strong> <a href="../S/1064.html#L137" title="Defined at 137 in src/java/util/concurrent/ExecutorService.java.">ExecutorService</a> executorService =
<a id="L795" name="L795"></a> 795                                 executorServiceRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L796" name="L796"></a> 796                             <strong class="reserved">if</strong> (executorService != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L797" name="L797"></a> 797                                 <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L798" name="L798"></a> 798                                     <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L799" name="L799"></a> 799                                         <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L800" name="L800"></a> 800                                             executorService.<a href="../D/34538.html" title="Multiple defined in 27 places.">shutdown</a>();
<a id="L801" name="L801"></a> 801                                             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L802" name="L802"></a> 802                                         <em class="brace">}</em>
<a id="L803" name="L803"></a> 803                                     <em class="brace">}</em>
<a id="L804" name="L804"></a> 804                                 );
<a id="L805" name="L805"></a> 805                             <em class="brace">}</em>
<a id="L806" name="L806"></a> 806                         <em class="brace">}</em>
<a id="L807" name="L807"></a> 807                     <em class="brace">}</em>
<a id="L808" name="L808"></a> 808                 <em class="brace">}</em>
<a id="L809" name="L809"></a> 809             );
<a id="L810" name="L810"></a> 810         <em class="brace">}</em>
<a id="L811" name="L811"></a> 811         <strong class="reserved">return</strong> executorService;
<a id="L812" name="L812"></a> 812     <em class="brace">}</em>
<a id="L813" name="L813"></a> 813 
<a id="L814" name="L814"></a> 814     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> DO_SUBMIT_KEY = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>("doSubmit");
<a id="L815" name="L815"></a> 815     <strong class="reserved">private</strong> <strong class="reserved">static</strong> AccumulativeRunnable&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt; <a href="../S/3228.html#L262" title="Referred from 262 in src/javax/swing/SwingWorker.java.">getDoSubmit</a>() <em class="brace">{</em>
<a id="L816" name="L816"></a> 816         <strong class="reserved">synchronized</strong> (DO_SUBMIT_KEY) <em class="brace">{</em>
<a id="L817" name="L817"></a> 817             <strong class="reserved">final</strong> AppContext appContext = AppContext.getAppContext();
<a id="L818" name="L818"></a> 818             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> doSubmit = appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(DO_SUBMIT_KEY);
<a id="L819" name="L819"></a> 819             <strong class="reserved">if</strong> (doSubmit == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L820" name="L820"></a> 820                 doSubmit = <strong class="reserved">new</strong> <a href="../S/3228.html#L826" title="Defined at 826 in src/javax/swing/SwingWorker.java.">DoSubmitAccumulativeRunnable</a>();
<a id="L821" name="L821"></a> 821                 appContext.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(DO_SUBMIT_KEY, doSubmit);
<a id="L822" name="L822"></a> 822             <em class="brace">}</em>
<a id="L823" name="L823"></a> 823             <strong class="reserved">return</strong> (AccumulativeRunnable&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt;) doSubmit;
<a id="L824" name="L824"></a> 824         <em class="brace">}</em>
<a id="L825" name="L825"></a> 825     <em class="brace">}</em>
<a id="L826" name="L826"></a> 826     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/3228.html#L820" title="Referred from 820 in src/javax/swing/SwingWorker.java.">DoSubmitAccumulativeRunnable</a>
<a id="L827" name="L827"></a> 827           <strong class="reserved">extends</strong> AccumulativeRunnable&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt; <strong class="reserved">implements</strong> <a href="../S/2397.html#L45" title="Defined at 45 in src/java/awt/event/ActionListener.java.">ActionListener</a> <em class="brace">{</em>
<a id="L828" name="L828"></a> 828         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> DELAY = 1000 / 30;
<a id="L829" name="L829"></a> 829         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L830" name="L830"></a> 830         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt; args) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831             <strong class="reserved">for</strong> (<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable : args) <em class="brace">{</em>
<a id="L832" name="L832"></a> 832                 runnable.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L833" name="L833"></a> 833             <em class="brace">}</em>
<a id="L834" name="L834"></a> 834         <em class="brace">}</em>
<a id="L835" name="L835"></a> 835         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L836" name="L836"></a> 836         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29011.html" title="Multiple referred from 11 places.">submit</a>() <em class="brace">{</em>
<a id="L837" name="L837"></a> 837             <a href="../D/8987.html" title="Multiple defined in 3 places.">Timer</a> timer = <strong class="reserved">new</strong> <a href="../D/8987.html" title="Multiple defined in 3 places.">Timer</a>(DELAY, <strong class="reserved">this</strong>);
<a id="L838" name="L838"></a> 838             timer.<a href="../S/3155.html#L461" title="Defined at 461 in src/javax/swing/Timer.java.">setRepeats</a>(<strong class="reserved">false</strong>);
<a id="L839" name="L839"></a> 839             timer.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>();
<a id="L840" name="L840"></a> 840         <em class="brace">}</em>
<a id="L841" name="L841"></a> 841         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9558.html" title="Multiple referred from 49 places.">actionPerformed</a>(<a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> event) <em class="brace">{</em>
<a id="L842" name="L842"></a> 842             <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L843" name="L843"></a> 843         <em class="brace">}</em>
<a id="L844" name="L844"></a> 844     <em class="brace">}</em>
<a id="L845" name="L845"></a> 845 
<a id="L846" name="L846"></a> 846     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/7778.html" title="Multiple referred from 2 places.">SwingWorkerPropertyChangeSupport</a>
<a id="L847" name="L847"></a> 847             <strong class="reserved">extends</strong> <a href="../S/1808.html#L81" title="Defined at 81 in src/java/beans/PropertyChangeSupport.java.">PropertyChangeSupport</a> <em class="brace">{</em>
<a id="L848" name="L848"></a> 848         SwingWorkerPropertyChangeSupport(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>) <em class="brace">{</em>
<a id="L849" name="L849"></a> 849             <strong class="reserved">super</strong>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L850" name="L850"></a> 850         <em class="brace">}</em>
<a id="L851" name="L851"></a> 851         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L852" name="L852"></a> 852         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14596.html" title="Multiple referred from 503 places.">firePropertyChange</a>(<strong class="reserved">final</strong> <a href="../S/1790.html#L47" title="Defined at 47 in src/java/beans/PropertyChangeEvent.java.">PropertyChangeEvent</a> evt) <em class="brace">{</em>
<a id="L853" name="L853"></a> 853             <strong class="reserved">if</strong> (<a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>()) <em class="brace">{</em>
<a id="L854" name="L854"></a> 854                 <strong class="reserved">super</strong>.<a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(evt);
<a id="L855" name="L855"></a> 855             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L856" name="L856"></a> 856                 doSubmit.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(
<a id="L857" name="L857"></a> 857                     <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L858" name="L858"></a> 858                         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L859" name="L859"></a> 859                             <a href="../S/3228.html#L846" title="Defined at 846 in src/javax/swing/SwingWorker.java.">SwingWorkerPropertyChangeSupport</a>.<strong class="reserved">this</strong>
<a id="L860" name="L860"></a> 860                                 .<a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(evt);
<a id="L861" name="L861"></a> 861                         <em class="brace">}</em>
<a id="L862" name="L862"></a> 862                     <em class="brace">}</em>);
<a id="L863" name="L863"></a> 863             <em class="brace">}</em>
<a id="L864" name="L864"></a> 864         <em class="brace">}</em>
<a id="L865" name="L865"></a> 865     <em class="brace">}</em>
<a id="L866" name="L866"></a> 866 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L327">[^]</a><a href="#L852">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>