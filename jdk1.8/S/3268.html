<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/AbstractDocument.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L163">[^]</a><a href="#L3110">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L163" title="Defined at 163.">getDocumentProperties</a></li>
<li><a href="#L176" title="Defined at 176.">setDocumentProperties</a></li>
<li><a href="#L189" title="Defined at 189.">fireInsertUpdate</a></li>
<li><a href="#L218" title="Defined at 218.">fireChangedUpdate</a></li>
<li><a href="#L247" title="Defined at 247.">fireRemoveUpdate</a></li>
<li><a href="#L276" title="Defined at 276.">fireUndoableEditUpdate</a></li>
<li><a href="#L326" title="Defined at 326.">getListeners</a></li>
<li><a href="#L337" title="Defined at 337.">getAsynchronousLoadPriority</a></li>
<li><a href="#L352" title="Defined at 352.">setAsynchronousLoadPriority</a></li>
<li><a href="#L367" title="Defined at 367.">setDocumentFilter</a></li>
<li><a href="#L380" title="Defined at 380.">getDocumentFilter</a></li>
<li><a href="#L416" title="Defined at 416.">render</a></li>
<li><a href="#L432" title="Defined at 432.">getLength</a></li>
<li><a href="#L442" title="Defined at 442.">addDocumentListener</a></li>
<li><a href="#L452" title="Defined at 452.">removeDocumentListener</a></li>
<li><a href="#L468" title="Defined at 468.">getDocumentListeners</a></li>
<li><a href="#L481" title="Defined at 481.">addUndoableEditListener</a></li>
<li><a href="#L491" title="Defined at 491.">removeUndoableEditListener</a></li>
<li><a href="#L508" title="Defined at 508.">getUndoableEditListeners</a></li>
<li><a href="#L523" title="Defined at 523.">getProperty</a></li>
<li><a href="#L541" title="Defined at 541.">putProperty</a></li>
<li><a href="#L581" title="Defined at 581.">remove</a></li>
<li><a href="#L601" title="Defined at 601.">handleRemove</a></li>
<li><a href="#L651" title="Defined at 651.">replace</a></li>
<li><a href="#L695" title="Defined at 695.">insertString</a></li>
<li><a href="#L718" title="Defined at 718.">handleInsertString</a></li>
<li><a href="#L766" title="Defined at 766.">getText</a></li>
<li><a href="#L806" title="Defined at 806.">getText</a></li>
<li><a href="#L828" title="Defined at 828.">createPosition</a></li>
<li><a href="#L839" title="Defined at 839.">getStartPosition</a></li>
<li><a href="#L856" title="Defined at 856.">getEndPosition</a></li>
<li><a href="#L873" title="Defined at 873.">getRootElements</a></li>
<li><a href="#L888" title="Defined at 888.">getDefaultRootElement</a></li>
<li><a href="#L896" title="Defined at 896.">getFilterBypass</a></li>
<li><a href="#L908" title="Defined at 908.">getBidiRootElement</a></li>
<li><a href="#L916" title="Defined at 916.">isLeftToRight</a></li>
<li><a href="#L940" title="Defined at 940.">getParagraphElement</a></li>
<li><a href="#L950" title="Defined at 950.">getAttributeContext</a></li>
<li><a href="#L963" title="Defined at 963.">insertUpdate</a></li>
<li><a href="#L997" title="Defined at 997.">removeUpdate</a></li>
<li><a href="#L1009" title="Defined at 1009.">postRemoveUpdate</a></li>
<li><a href="#L1024" title="Defined at 1024.">updateBidi</a></li>
<li><a href="#L1175" title="Defined at 1175.">calculateBidiLevels</a></li>
<li><a href="#L1242" title="Defined at 1242.">dump</a></li>
<li><a href="#L1255" title="Defined at 1255.">getContent</a></li>
<li><a href="#L1274" title="Defined at 1274.">createLeafElement</a></li>
<li><a href="#L1285" title="Defined at 1285.">createBranchElement</a></li>
<li><a href="#L1301" title="Defined at 1301.">getCurrentWriter</a></li>
<li><a href="#L1330" title="Defined at 1330.">writeLock</a></li>
<li><a href="#L1360" title="Defined at 1360.">writeUnlock</a></li>
<li><a href="#L1379" title="Defined at 1379.">readLock</a></li>
<li><a href="#L1413" title="Defined at 1413.">readUnlock</a></li>
<li><a href="#L1428" title="Defined at 1428.">readObject</a></li>
<li><a href="#L1596" title="Defined at 1596.">createPosition</a></li>
<li><a href="#L1603" title="Defined at 1603.">length</a></li>
<li><a href="#L1616" title="Defined at 1616.">insertString</a></li>
<li><a href="#L1630" title="Defined at 1630.">remove</a></li>
<li><a href="#L1641" title="Defined at 1641.">getString</a></li>
<li><a href="#L1652" title="Defined at 1652.">getChars</a></li>
<li><a href="#L1686" title="Defined at 1686.">addAttribute</a></li>
<li><a href="#L1696" title="Defined at 1696.">addAttributes</a></li>
<li><a href="#L1706" title="Defined at 1706.">removeAttribute</a></li>
<li><a href="#L1716" title="Defined at 1716.">removeAttributes</a></li>
<li><a href="#L1726" title="Defined at 1726.">removeAttributes</a></li>
<li><a href="#L1733" title="Defined at 1733.">getEmptySet</a></li>
<li><a href="#L1744" title="Defined at 1744.">reclaim</a></li>
<li><a href="#L1781" title="Defined at 1781.">indent</a></li>
<li><a href="#L1793" title="Defined at 1793.">dump</a></li>
<li><a href="#L1852" title="Defined at 1852.">getAttributeCount</a></li>
<li><a href="#L1863" title="Defined at 1863.">isDefined</a></li>
<li><a href="#L1874" title="Defined at 1874.">isEqual</a></li>
<li><a href="#L1884" title="Defined at 1884.">copyAttributes</a></li>
<li><a href="#L1895" title="Defined at 1895.">getAttribute</a></li>
<li><a href="#L1915" title="Defined at 1915.">getAttributeNames</a></li>
<li><a href="#L1927" title="Defined at 1927.">containsAttribute</a></li>
<li><a href="#L1939" title="Defined at 1939.">containsAttributes</a></li>
<li><a href="#L1951" title="Defined at 1951.">getResolveParent</a></li>
<li><a href="#L1970" title="Defined at 1970.">addAttribute</a></li>
<li><a href="#L1982" title="Defined at 1982.">addAttributes</a></li>
<li><a href="#L1994" title="Defined at 1994.">removeAttribute</a></li>
<li><a href="#L2006" title="Defined at 2006.">removeAttributes</a></li>
<li><a href="#L2018" title="Defined at 2018.">removeAttributes</a></li>
<li><a href="#L2034" title="Defined at 2034.">setResolveParent</a></li>
<li><a href="#L2047" title="Defined at 2047.">checkForIllegalCast</a></li>
<li><a href="#L2061" title="Defined at 2061.">getDocument</a></li>
<li><a href="#L2070" title="Defined at 2070.">getParentElement</a></li>
<li><a href="#L2079" title="Defined at 2079.">getAttributes</a></li>
<li><a href="#L2088" title="Defined at 2088.">getName</a></li>
<li><a href="#L2100" title="Defined at 2100.">getStartOffset</a></li>
<li><a href="#L2107" title="Defined at 2107.">getEndOffset</a></li>
<li><a href="#L2115" title="Defined at 2115.">getElement</a></li>
<li><a href="#L2122" title="Defined at 2122.">getElementCount</a></li>
<li><a href="#L2130" title="Defined at 2130.">getElementIndex</a></li>
<li><a href="#L2137" title="Defined at 2137.">isLeaf</a></li>
<li><a href="#L2145" title="Defined at 2145.">getChildAt</a></li>
<li><a href="#L2155" title="Defined at 2155.">getChildCount</a></li>
<li><a href="#L2163" title="Defined at 2163.">getParent</a></li>
<li><a href="#L2175" title="Defined at 2175.">getIndex</a></li>
<li><a href="#L2186" title="Defined at 2186.">getAllowsChildren</a></li>
<li><a href="#L2194" title="Defined at 2194.">children</a></li>
<li><a href="#L2199" title="Defined at 2199.">writeObject</a></li>
<li><a href="#L2204" title="Defined at 2204.">readObject</a></li>
<li><a href="#L2257" title="Defined at 2257.">positionToElement</a></li>
<li><a href="#L2275" title="Defined at 2275.">replace</a></li>
<li><a href="#L2301" title="Defined at 2301.">toString</a></li>
<li><a href="#L2313" title="Defined at 2313.">getName</a></li>
<li><a href="#L2326" title="Defined at 2326.">getStartOffset</a></li>
<li><a href="#L2336" title="Defined at 2336.">getEndOffset</a></li>
<li><a href="#L2348" title="Defined at 2348.">getElement</a></li>
<li><a href="#L2360" title="Defined at 2360.">getElementCount</a></li>
<li><a href="#L2370" title="Defined at 2370.">getElementIndex</a></li>
<li><a href="#L2435" title="Defined at 2435.">isLeaf</a></li>
<li><a href="#L2446" title="Defined at 2446.">getAllowsChildren</a></li>
<li><a href="#L2456" title="Defined at 2456.">children</a></li>
<li><a href="#L2518" title="Defined at 2518.">toString</a></li>
<li><a href="#L2529" title="Defined at 2529.">getStartOffset</a></li>
<li><a href="#L2538" title="Defined at 2538.">getEndOffset</a></li>
<li><a href="#L2547" title="Defined at 2547.">getName</a></li>
<li><a href="#L2561" title="Defined at 2561.">getElementIndex</a></li>
<li><a href="#L2571" title="Defined at 2571.">getElement</a></li>
<li><a href="#L2580" title="Defined at 2580.">getElementCount</a></li>
<li><a href="#L2589" title="Defined at 2589.">isLeaf</a></li>
<li><a href="#L2599" title="Defined at 2599.">getAllowsChildren</a></li>
<li><a href="#L2609" title="Defined at 2609.">children</a></li>
<li><a href="#L2615" title="Defined at 2615.">writeObject</a></li>
<li><a href="#L2621" title="Defined at 2621.">readObject</a></li>
<li><a href="#L2660" title="Defined at 2660.">getName</a></li>
<li><a href="#L2684" title="Defined at 2684.">getName</a></li>
<li><a href="#L2688" title="Defined at 2688.">getLevel</a></li>
<li><a href="#L2696" title="Defined at 2696.">isLeftToRight</a></li>
<li><a href="#L2730" title="Defined at 2730.">toString</a></li>
<li><a href="#L2745" title="Defined at 2745.">addEdit</a></li>
<li><a href="#L2774" title="Defined at 2774.">redo</a></li>
<li><a href="#L2798" title="Defined at 2798.">undo</a></li>
<li><a href="#L2824" title="Defined at 2824.">isSignificant</a></li>
<li><a href="#L2835" title="Defined at 2835.">getPresentationName</a></li>
<li><a href="#L2851" title="Defined at 2851.">getUndoPresentationName</a></li>
<li><a href="#L2863" title="Defined at 2863.">getRedoPresentationName</a></li>
<li><a href="#L2876" title="Defined at 2876.">getType</a></li>
<li><a href="#L2886" title="Defined at 2886.">getOffset</a></li>
<li><a href="#L2896" title="Defined at 2896.">getLength</a></li>
<li><a href="#L2906" title="Defined at 2906.">getDocument</a></li>
<li><a href="#L2916" title="Defined at 2916.">getChange</a></li>
<li><a href="#L2967" title="Defined at 2967.">getSource</a></li>
<li><a href="#L2973" title="Defined at 2973.">getOffset</a></li>
<li><a href="#L2977" title="Defined at 2977.">getLength</a></li>
<li><a href="#L2981" title="Defined at 2981.">getDocument</a></li>
<li><a href="#L2985" title="Defined at 2985.">getType</a></li>
<li><a href="#L2989" title="Defined at 2989.">getChange</a></li>
<li><a href="#L3023" title="Defined at 3023.">getElement</a></li>
<li><a href="#L3032" title="Defined at 3032.">getIndex</a></li>
<li><a href="#L3041" title="Defined at 3041.">getChildrenRemoved</a></li>
<li><a href="#L3050" title="Defined at 3050.">getChildrenAdded</a></li>
<li><a href="#L3059" title="Defined at 3059.">redo</a></li>
<li><a href="#L3076" title="Defined at 3076.">undo</a></li>
<li><a href="#L3095" title="Defined at 3095.">getDocument</a></li>
<li><a href="#L3099" title="Defined at 3099.">remove</a></li>
<li><a href="#L3104" title="Defined at 3104.">insertString</a></li>
<li><a href="#L3110" title="Defined at 3110.">replace</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.util.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.font.TextAttribute;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.text.Bidi;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.swing.UIManager;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.swing.undo.*;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.swing.tree.TreeNode;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> sun.font.BidiUtils;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> sun.swing.SwingUtilities2;
<a id="L39" name="L39"></a>  39 
<div class="comment">
  An implementation of the document interface to serve as a
  basis for implementing various kinds of documents.  At this
  level there is very little policy, so there is a corresponding
  increase in difficulty of use.
  <p>
  This class implements a locking mechanism for the document.  It
  allows multiple readers or one writer, and writers must wait until
  all observers of the document have been notified of a previous
  change before beginning another mutation to the document.  The
  read lock is acquired and released using the <code>render</code>
  method.  A write lock is acquired by the methods that mutate the
  document, and are held for the duration of the method call.
  Notification is done on the thread that produced the mutation,
  and the thread has full read access to the document for the
  duration of the notification, but other readers are kept out
  until the notification has finished.  The notification is a
  beans event notification which does not allow any further
  mutations until all listeners have been notified.
  </p><p>
  Any models subclassed from this class and used in conjunction
  with a text component that has a look and feel implementation
  that is derived from BasicTextUI may be safely updated
  asynchronously, because all access to the View hierarchy
  is serialized by BasicTextUI if the document is of type
  <code>AbstractDocument</code>.  The locking assumes that an
  independent thread will access the View hierarchy only from
  the DocumentListener methods, and that there will be only
  one event thread active at a time.
  </p><p>
  If concurrency support is desired, there are the following
  additional implications.  The code path for any DocumentListener
  implementation and any UndoListener implementation must be threadsafe,
  and not access the component lock if trying to be safe from deadlocks.
  The <code>repaint</code> and <code>revalidate</code> methods
  on JComponent are safe.
  </p><p>
  AbstractDocument models an implied break at the end of the document.
  Among other things this allows you to position the caret after the last
  character. As a result of this, <code>getLength</code> returns one less
  than the length of the Content. If you create your own Content, be
  sure and initialize it to have an additional character. Refer to
  StringContent and GapContent for examples of this. Another implication
  of this is that Elements that model the implied end character will have
  an endOffset == (getLength() + 1). For example, in DefaultStyledDocument
  <code>getParagraphElement(getLength()).getEndOffset() == getLength() + 1
  </code>.
  </p><p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases. The current serialization support is
  appropriate for short term storage or RMI between applications running
  the same version of Swing.  As of 1.4, support for long term storage
  of all JavaBeans™
  has been added to the <code>java.beans</code> package.
  Please see {@link java.beans.XMLEncoder}.
  @author  Timothy Prinzing</p></div>
<a id="L99" name="L99"></a>  99 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/79.html" title="Multiple referred from 174 places.">AbstractDocument</a> <strong class="reserved">implements</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L100" name="L100"></a> 100 
<div class="comment">
      Constructs a new <code>AbstractDocument</code>, wrapped around some
      specified content storage mechanism.
      @param data the content</div>
<a id="L107" name="L107"></a> 107     <strong class="reserved">protected</strong> AbstractDocument(<a href="../S/3268.html#L1586" title="Defined at 1586 in src/javax/swing/text/AbstractDocument.java.">Content</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L108" name="L108"></a> 108         <strong class="reserved">this</strong>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../S/3343.html#L65" title="Defined at 65 in src/javax/swing/text/StyleContext.java.">StyleContext</a>.<a href="../S/3343.html#L73" title="Defined at 73 in src/javax/swing/text/StyleContext.java.">getDefaultStyleContext</a>());
<a id="L109" name="L109"></a> 109     <em class="brace">}</em>
<a id="L110" name="L110"></a> 110 
<div class="comment">
      Constructs a new <code>AbstractDocument</code>, wrapped around some
      specified content storage mechanism.
      @param data the content
      @param context the attribute context</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">protected</strong> AbstractDocument(<a href="../S/3268.html#L1586" title="Defined at 1586 in src/javax/swing/text/AbstractDocument.java.">Content</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L119" name="L119"></a> 119         <strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L120" name="L120"></a> 120         <strong class="reserved">this</strong>.<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L121" name="L121"></a> 121         bidiRoot = <strong class="reserved">new</strong> <a href="../S/3268.html#L2650" title="Defined at 2650 in src/javax/swing/text/AbstractDocument.java.">BidiRootElement</a>();
<a id="L122" name="L122"></a> 122 
<a id="L123" name="L123"></a> 123         <strong class="reserved">if</strong> (defaultI18NProperty == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124             <em class="comment">// determine default setting for i18n support</em>
<a id="L125" name="L125"></a> 125             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L126" name="L126"></a> 126                 <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;() <em class="brace">{</em>
<a id="L127" name="L127"></a> 127                     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L128" name="L128"></a> 128                         <strong class="reserved">return</strong> <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(I18NProperty);
<a id="L129" name="L129"></a> 129                     <em class="brace">}</em>
<a id="L130" name="L130"></a> 130                 <em class="brace">}</em>
<a id="L131" name="L131"></a> 131             );
<a id="L132" name="L132"></a> 132             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L133" name="L133"></a> 133                 defaultI18NProperty = <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L134" name="L134"></a> 134             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L135" name="L135"></a> 135                 defaultI18NProperty = <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE;
<a id="L136" name="L136"></a> 136             <em class="brace">}</em>
<a id="L137" name="L137"></a> 137         <em class="brace">}</em>
<a id="L138" name="L138"></a> 138         <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>( I18NProperty, defaultI18NProperty);
<a id="L139" name="L139"></a> 139 
<a id="L140" name="L140"></a> 140         <em class="comment">//REMIND(bcb) This creates an initial bidi element to account for</em>
<a id="L141" name="L141"></a> 141         <em class="comment">//the \n that exists by default in the content.  Doing it this way</em>
<a id="L142" name="L142"></a> 142         <em class="comment">//seems to expose a little too much knowledge of the content given</em>
<a id="L143" name="L143"></a> 143         <em class="comment">//to us by the sub-class.  Consider having the sub-class' constructor</em>
<a id="L144" name="L144"></a> 144         <em class="comment">//make an initial call to insertUpdate.</em>
<a id="L145" name="L145"></a> 145         <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L146" name="L146"></a> 146         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L147" name="L147"></a> 147             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] p = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[1];
<a id="L148" name="L148"></a> 148             p[0] = <strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>( bidiRoot, 0, 1, 0 );
<a id="L149" name="L149"></a> 149             bidiRoot.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0,0,p);
<a id="L150" name="L150"></a> 150         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L151" name="L151"></a> 151             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L152" name="L152"></a> 152         <em class="brace">}</em>
<a id="L153" name="L153"></a> 153     <em class="brace">}</em>
<a id="L154" name="L154"></a> 154 
<div class="comment">
      Supports managing a set of properties. Callers
      can use the <code>documentProperties</code> dictionary
      to annotate the document with document-wide properties.
      @return a non-<code>null</code> <code>Dictionary</code>
      @see #setDocumentProperties</div>
<a id="L163" name="L163"></a> 163     <strong class="reserved">public</strong> <a href="../S/1131.html#L50" title="Defined at 50 in src/java/util/Dictionary.java.">Dictionary</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../R/16225.html" title="Multiple referred from 3 places.">getDocumentProperties</a>() <em class="brace">{</em>
<a id="L164" name="L164"></a> 164         <strong class="reserved">if</strong> (documentProperties == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L165" name="L165"></a> 165             documentProperties = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(2);
<a id="L166" name="L166"></a> 166         <em class="brace">}</em>
<a id="L167" name="L167"></a> 167         <strong class="reserved">return</strong> documentProperties;
<a id="L168" name="L168"></a> 168     <em class="brace">}</em>
<a id="L169" name="L169"></a> 169 
<div class="comment">
      Replaces the document properties dictionary for this document.
      @param x the new dictionary
      @see #getDocumentProperties</div>
<a id="L176" name="L176"></a> 176     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setDocumentProperties(<a href="../S/1131.html#L50" title="Defined at 50 in src/java/util/Dictionary.java.">Dictionary</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L177" name="L177"></a> 177         documentProperties = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L178" name="L178"></a> 178     <em class="brace">}</em>
<a id="L179" name="L179"></a> 179 
<div class="comment">
      Notifies all listeners that have registered interest for
      notification on this event type.  The event instance
      is lazily created using the parameters passed into
      the fire method.
      @param e the event
      @see EventListenerList</div>
<a id="L189" name="L189"></a> 189     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14578.html" title="Multiple referred from 5 places.">fireInsertUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190         notifyingListeners = <strong class="reserved">true</strong>;
<a id="L191" name="L191"></a> 191         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L192" name="L192"></a> 192             <em class="comment">// Guaranteed to return a non-null array</em>
<a id="L193" name="L193"></a> 193             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] listeners = listenerList.<a href="../S/3406.html#L124" title="Defined at 124 in src/javax/swing/event/EventListenerList.java.">getListenerList</a>();
<a id="L194" name="L194"></a> 194             <em class="comment">// Process the listeners last to first, notifying</em>
<a id="L195" name="L195"></a> 195             <em class="comment">// those that are interested in this event</em>
<a id="L196" name="L196"></a> 196             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = listeners.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-2; i&gt;=0; i-=2) <em class="brace">{</em>
<a id="L197" name="L197"></a> 197                 <strong class="reserved">if</strong> (listeners[i]==<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198                     <em class="comment">// Lazily create the event:</em>
<a id="L199" name="L199"></a> 199                     <em class="comment">// if (e == null)</em>
<a id="L200" name="L200"></a> 200                     <em class="comment">// e = new ListSelectionEvent(this, firstIndex, lastIndex);</em>
<a id="L201" name="L201"></a> 201                     ((<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>)listeners[i+1]).<a href="../D/24781.html" title="Multiple defined in 28 places.">insertUpdate</a>(e);
<a id="L202" name="L202"></a> 202                 <em class="brace">}</em>
<a id="L203" name="L203"></a> 203             <em class="brace">}</em>
<a id="L204" name="L204"></a> 204         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L205" name="L205"></a> 205             notifyingListeners = <strong class="reserved">false</strong>;
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207     <em class="brace">}</em>
<a id="L208" name="L208"></a> 208 
<div class="comment">
      Notifies all listeners that have registered interest for
      notification on this event type.  The event instance
      is lazily created using the parameters passed into
      the fire method.
      @param e the event
      @see EventListenerList</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14554.html" title="Multiple referred from 10 places.">fireChangedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219         notifyingListeners = <strong class="reserved">true</strong>;
<a id="L220" name="L220"></a> 220         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L221" name="L221"></a> 221             <em class="comment">// Guaranteed to return a non-null array</em>
<a id="L222" name="L222"></a> 222             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] listeners = listenerList.<a href="../S/3406.html#L124" title="Defined at 124 in src/javax/swing/event/EventListenerList.java.">getListenerList</a>();
<a id="L223" name="L223"></a> 223             <em class="comment">// Process the listeners last to first, notifying</em>
<a id="L224" name="L224"></a> 224             <em class="comment">// those that are interested in this event</em>
<a id="L225" name="L225"></a> 225             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = listeners.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-2; i&gt;=0; i-=2) <em class="brace">{</em>
<a id="L226" name="L226"></a> 226                 <strong class="reserved">if</strong> (listeners[i]==<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227                     <em class="comment">// Lazily create the event:</em>
<a id="L228" name="L228"></a> 228                     <em class="comment">// if (e == null)</em>
<a id="L229" name="L229"></a> 229                     <em class="comment">// e = new ListSelectionEvent(this, firstIndex, lastIndex);</em>
<a id="L230" name="L230"></a> 230                     ((<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>)listeners[i+1]).<a href="../D/12316.html" title="Multiple defined in 27 places.">changedUpdate</a>(e);
<a id="L231" name="L231"></a> 231                 <em class="brace">}</em>
<a id="L232" name="L232"></a> 232             <em class="brace">}</em>
<a id="L233" name="L233"></a> 233         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L234" name="L234"></a> 234             notifyingListeners = <strong class="reserved">false</strong>;
<a id="L235" name="L235"></a> 235         <em class="brace">}</em>
<a id="L236" name="L236"></a> 236     <em class="brace">}</em>
<a id="L237" name="L237"></a> 237 
<div class="comment">
      Notifies all listeners that have registered interest for
      notification on this event type.  The event instance
      is lazily created using the parameters passed into
      the fire method.
      @param e the event
      @see EventListenerList</div>
<a id="L247" name="L247"></a> 247     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14599.html" title="Multiple referred from 7 places.">fireRemoveUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L248" name="L248"></a> 248         notifyingListeners = <strong class="reserved">true</strong>;
<a id="L249" name="L249"></a> 249         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L250" name="L250"></a> 250             <em class="comment">// Guaranteed to return a non-null array</em>
<a id="L251" name="L251"></a> 251             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] listeners = listenerList.<a href="../S/3406.html#L124" title="Defined at 124 in src/javax/swing/event/EventListenerList.java.">getListenerList</a>();
<a id="L252" name="L252"></a> 252             <em class="comment">// Process the listeners last to first, notifying</em>
<a id="L253" name="L253"></a> 253             <em class="comment">// those that are interested in this event</em>
<a id="L254" name="L254"></a> 254             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = listeners.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-2; i&gt;=0; i-=2) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255                 <strong class="reserved">if</strong> (listeners[i]==<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256                     <em class="comment">// Lazily create the event:</em>
<a id="L257" name="L257"></a> 257                     <em class="comment">// if (e == null)</em>
<a id="L258" name="L258"></a> 258                     <em class="comment">// e = new ListSelectionEvent(this, firstIndex, lastIndex);</em>
<a id="L259" name="L259"></a> 259                     ((<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>)listeners[i+1]).<a href="../D/30986.html" title="Multiple defined in 27 places.">removeUpdate</a>(e);
<a id="L260" name="L260"></a> 260                 <em class="brace">}</em>
<a id="L261" name="L261"></a> 261             <em class="brace">}</em>
<a id="L262" name="L262"></a> 262         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L263" name="L263"></a> 263             notifyingListeners = <strong class="reserved">false</strong>;
<a id="L264" name="L264"></a> 264         <em class="brace">}</em>
<a id="L265" name="L265"></a> 265     <em class="brace">}</em>
<a id="L266" name="L266"></a> 266 
<div class="comment">
      Notifies all listeners that have registered interest for
      notification on this event type.  The event instance
      is lazily created using the parameters passed into
      the fire method.
      @param e the event
      @see EventListenerList</div>
<a id="L276" name="L276"></a> 276     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14624.html" title="Multiple referred from 15 places.">fireUndoableEditUpdate</a>(<a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a> e) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277         <em class="comment">// Guaranteed to return a non-null array</em>
<a id="L278" name="L278"></a> 278         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] listeners = listenerList.<a href="../S/3406.html#L124" title="Defined at 124 in src/javax/swing/event/EventListenerList.java.">getListenerList</a>();
<a id="L279" name="L279"></a> 279         <em class="comment">// Process the listeners last to first, notifying</em>
<a id="L280" name="L280"></a> 280         <em class="comment">// those that are interested in this event</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = listeners.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-2; i&gt;=0; i-=2) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282             <strong class="reserved">if</strong> (listeners[i]==<a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283                 <em class="comment">// Lazily create the event:</em>
<a id="L284" name="L284"></a> 284                 <em class="comment">// if (e == null)</em>
<a id="L285" name="L285"></a> 285                 <em class="comment">// e = new ListSelectionEvent(this, firstIndex, lastIndex);</em>
<a id="L286" name="L286"></a> 286                 ((<a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a>)listeners[i+1]).<a href="../D/35828.html" title="Multiple defined in 2 places.">undoableEditHappened</a>(e);
<a id="L287" name="L287"></a> 287             <em class="brace">}</em>
<a id="L288" name="L288"></a> 288         <em class="brace">}</em>
<a id="L289" name="L289"></a> 289     <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<div class="comment">
      Returns an array of all the objects currently registered
      as <code><em>Foo</em>Listener</code>s
      upon this document.
      <code><em>Foo</em>Listener</code>s are registered using the
      <code>add<em>Foo</em>Listener</code> method.
      <p>
      You can specify the <code>listenerType</code> argument
      with a class literal, such as
      <code><em>Foo</em>Listener.class</code>.
      For example, you can query a
      document <code>d</code>
      for its document listeners with the following code:
      </p><pre>DocumentListener[] mls = (DocumentListener[])(d.getListeners(DocumentListener.class));</pre>
      If no such listeners exist, this method returns an empty array.
      @param listenerType the type of listeners requested; this parameter
               should specify an interface that descends from
               <code>java.util.EventListener</code>
      @return an array of all objects registered as
               <code><em>Foo</em>Listener</code>s on this component,
               or an empty array if no such
               listeners have been added
      @exception ClassCastException if <code>listenerType</code>
               doesn't specify a class or interface that implements
               <code>java.util.EventListener</code>
      @see #getDocumentListeners
      @see #getUndoableEditListeners
      @since 1.3</div>
<a id="L326" name="L326"></a> 326     <strong class="reserved">public</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <strong class="reserved">extends</strong> <a href="../D/2994.html" title="Multiple defined in 2 places.">EventListener</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[] <a href="../R/17397.html" title="Multiple referred from 122 places.">getListeners</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; listenerType) <em class="brace">{</em>
<a id="L327" name="L327"></a> 327         <strong class="reserved">return</strong> listenerList.<a href="../D/20173.html" title="Multiple defined in 32 places.">getListeners</a>(listenerType);
<a id="L328" name="L328"></a> 328     <em class="brace">}</em>
<a id="L329" name="L329"></a> 329 
<div class="comment">
      Gets the asynchronous loading priority.  If less than zero,
      the document should not be loaded asynchronously.
      @return the asynchronous loading priority, or <code>-1</code>
        if the document should not be loaded asynchronously</div>
<a id="L337" name="L337"></a> 337     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15130.html" title="Multiple referred from 3 places.">getAsynchronousLoadPriority</a>() <em class="brace">{</em>
<a id="L338" name="L338"></a> 338         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> loadPriority = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)
<a id="L339" name="L339"></a> 339             <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.AsyncLoadPriority);
<a id="L340" name="L340"></a> 340         <strong class="reserved">if</strong> (loadPriority != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L341" name="L341"></a> 341             <strong class="reserved">return</strong> loadPriority.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L342" name="L342"></a> 342         <em class="brace">}</em>
<a id="L343" name="L343"></a> 343         <strong class="reserved">return</strong> -1;
<a id="L344" name="L344"></a> 344     <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<div class="comment">
      Sets the asynchronous loading priority.
      @param p the new asynchronous loading priority; a value
        less than zero indicates that the document should not be
        loaded asynchronously</div>
<a id="L352" name="L352"></a> 352     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26915.html" title="Multiple referred from 2 places.">setAsynchronousLoadPriority</a>(<strong class="reserved">int</strong> p) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> loadPriority = (p &gt;= 0) ? <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(p) : <strong class="reserved">null</strong>;
<a id="L354" name="L354"></a> 354         <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.AsyncLoadPriority, loadPriority);
<a id="L355" name="L355"></a> 355     <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Sets the <code>DocumentFilter</code>. The <code>DocumentFilter</code>
      is passed <code>insert</code> and <code>remove</code> to conditionally
      allow inserting/deleting of the text.  A <code>null</code> value
      indicates that no filtering will occur.
      @param filter the <code>DocumentFilter</code> used to constrain text
      @see #getDocumentFilter
      @since 1.4</div>
<a id="L367" name="L367"></a> 367     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3126.html#L1094" title="Referred from 1094 in src/javax/swing/JFormattedTextField.java.">setDocumentFilter</a>(<a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368         documentFilter = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L369" name="L369"></a> 369     <em class="brace">}</em>
<a id="L370" name="L370"></a> 370 
<div class="comment">
      Returns the <code>DocumentFilter</code> that is responsible for
      filtering of insertion/removal. A <code>null</code> return value
      implies no filtering is to occur.
      @since 1.4
      @see #setDocumentFilter
      @return the DocumentFilter</div>
<a id="L380" name="L380"></a> 380     <strong class="reserved">public</strong> <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a> <a href="../R/16220.html" title="Multiple referred from 4 places.">getDocumentFilter</a>() <em class="brace">{</em>
<a id="L381" name="L381"></a> 381         <strong class="reserved">return</strong> documentFilter;
<a id="L382" name="L382"></a> 382     <em class="brace">}</em>
<a id="L383" name="L383"></a> 383 
<a id="L384" name="L384"></a> 384     <em class="comment">// --- Document methods -----------------------------------------</em>
<a id="L385" name="L385"></a> 385 
<div class="comment">
      This allows the model to be safely rendered in the presence
      of currency, if the model supports being updated asynchronously.
      The given runnable will be executed in a way that allows it
      to safely read the model with no changes while the runnable
      is being executed.  The runnable itself may <em>not</em>
      make any mutations.
      <p>
      This is implemented to acquire a read lock for the duration
      of the runnables execution.  There may be multiple runnables
      executing at the same time, and all writers will be blocked
      while there are active rendering runnables.  If the runnable
      throws an exception, its lock will be safely released.
      There is no protection against a runnable that never exits,
      which will effectively leave the document locked for it's
      lifetime.
      </p><p>
      If the given runnable attempts to make any mutations in
      this implementation, a deadlock will occur.  There is
      no tracking of individual rendering threads to enable
      detecting this situation, but a subclass could incur
      the overhead of tracking them and throwing an error.
      </p><p>
      This method is thread safe, although most Swing methods
      are not. Please see
      <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">Concurrency
      in Swing</a> for more information.
      @param r the renderer to execute</p></div>
<a id="L416" name="L416"></a> 416     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L2320" title="Referred from 2320 in src/javax/swing/text/JTextComponent.java.">render</a>(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> r) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417         <a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L418" name="L418"></a> 418         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L419" name="L419"></a> 419             r.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L420" name="L420"></a> 420         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L421" name="L421"></a> 421             <a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L422" name="L422"></a> 422         <em class="brace">}</em>
<a id="L423" name="L423"></a> 423     <em class="brace">}</em>
<a id="L424" name="L424"></a> 424 
<div class="comment">
      Returns the length of the data.  This is the number of
      characters of content that represents the users data.
      @return the length &gt;= 0
      @see Document#getLength</div>
<a id="L432" name="L432"></a> 432     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17335.html" title="Multiple referred from 644 places.">getLength</a>() <em class="brace">{</em>
<a id="L433" name="L433"></a> 433         <strong class="reserved">return</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1;
<a id="L434" name="L434"></a> 434     <em class="brace">}</em>
<a id="L435" name="L435"></a> 435 
<div class="comment">
      Adds a document listener for notification of any changes.
      @param listener the <code>DocumentListener</code> to add
      @see Document#addDocumentListener</div>
<a id="L442" name="L442"></a> 442     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9695.html" title="Multiple referred from 14 places.">addDocumentListener</a>(<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a> listener) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443         listenerList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>.<strong class="reserved">class</strong>, listener);
<a id="L444" name="L444"></a> 444     <em class="brace">}</em>
<a id="L445" name="L445"></a> 445 
<div class="comment">
      Removes a document listener.
      @param listener the <code>DocumentListener</code> to remove
      @see Document#removeDocumentListener</div>
<a id="L452" name="L452"></a> 452     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25942.html" title="Multiple referred from 10 places.">removeDocumentListener</a>(<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a> listener) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         listenerList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>.<strong class="reserved">class</strong>, listener);
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Returns an array of all the document listeners
      registered on this document.
      @return all of this document's <code>DocumentListener</code>s
              or an empty array if no document listeners are
              currently registered
      @see #addDocumentListener
      @see #removeDocumentListener
      @since 1.4</div>
<a id="L468" name="L468"></a> 468     <strong class="reserved">public</strong> <a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>[] <a href="../S/3318.html#L365" title="Referred from 365 in src/javax/swing/text/html/FormView.java.">getDocumentListeners</a>() <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">return</strong> listenerList.<a href="../D/20173.html" title="Multiple defined in 32 places.">getListeners</a>(<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>.<strong class="reserved">class</strong>);
<a id="L470" name="L470"></a> 470     <em class="brace">}</em>
<a id="L471" name="L471"></a> 471 
<div class="comment">
      Adds an undo listener for notification of any changes.
      Undo/Redo operations performed on the <code>UndoableEdit</code>
      will cause the appropriate DocumentEvent to be fired to keep
      the view(s) in sync with the model.
      @param listener the <code>UndoableEditListener</code> to add
      @see Document#addUndoableEditListener</div>
<a id="L481" name="L481"></a> 481     <strong class="reserved">public</strong> <strong class="reserved">void</strong> addUndoableEditListener(<a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a> listener) <em class="brace">{</em>
<a id="L482" name="L482"></a> 482         listenerList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a>.<strong class="reserved">class</strong>, listener);
<a id="L483" name="L483"></a> 483     <em class="brace">}</em>
<a id="L484" name="L484"></a> 484 
<div class="comment">
      Removes an undo listener.
      @param listener the <code>UndoableEditListener</code> to remove
      @see Document#removeDocumentListener</div>
<a id="L491" name="L491"></a> 491     <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeUndoableEditListener(<a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a> listener) <em class="brace">{</em>
<a id="L492" name="L492"></a> 492         listenerList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a>.<strong class="reserved">class</strong>, listener);
<a id="L493" name="L493"></a> 493     <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<div class="comment">
      Returns an array of all the undoable edit listeners
      registered on this document.
      @return all of this document's <code>UndoableEditListener</code>s
              or an empty array if no undoable edit listeners are
              currently registered
      @see #addUndoableEditListener
      @see #removeUndoableEditListener
      @since 1.4</div>
<a id="L508" name="L508"></a> 508     <strong class="reserved">public</strong> <a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a>[] getUndoableEditListeners() <em class="brace">{</em>
<a id="L509" name="L509"></a> 509         <strong class="reserved">return</strong> listenerList.<a href="../D/20173.html" title="Multiple defined in 32 places.">getListeners</a>(<a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a>.<strong class="reserved">class</strong>);
<a id="L510" name="L510"></a> 510     <em class="brace">}</em>
<a id="L511" name="L511"></a> 511 
<div class="comment">
      A convenience method for looking up a property value. It is
      equivalent to:
      <pre>      getDocumentProperties().get(key);
      </pre>
      @param key the non-<code>null</code> property key
      @return the value of this property or <code>null</code>
      @see #getDocumentProperties</div>
<a id="L523" name="L523"></a> 523     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/18510.html" title="Multiple referred from 728 places.">getProperty</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524         <strong class="reserved">return</strong> <a href="../S/3268.html#L163" title="Defined at 163 in src/javax/swing/text/AbstractDocument.java.">getDocumentProperties</a>().<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L525" name="L525"></a> 525     <em class="brace">}</em>
<a id="L526" name="L526"></a> 526 
<a id="L527" name="L527"></a> 527 
<div class="comment">
      A convenience method for storing up a property value.  It is
      equivalent to:
      <pre>      getDocumentProperties().put(key, value);
      </pre>
      If <code>value</code> is <code>null</code> this method will
      remove the property.
      @param key the non-<code>null</code> key
      @param value the property value
      @see #getDocumentProperties</div>
<a id="L541" name="L541"></a> 541     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25344.html" title="Multiple referred from 32 places.">putProperty</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543             <a href="../S/3268.html#L163" title="Defined at 163 in src/javax/swing/text/AbstractDocument.java.">getDocumentProperties</a>().<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L544" name="L544"></a> 544         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L545" name="L545"></a> 545             <a href="../S/3268.html#L163" title="Defined at 163 in src/javax/swing/text/AbstractDocument.java.">getDocumentProperties</a>().<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L546" name="L546"></a> 546         <em class="brace">}</em>
<a id="L547" name="L547"></a> 547         <strong class="reserved">if</strong>( <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION
<a id="L548" name="L548"></a> 548             &amp;&amp; <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(I18NProperty)) )
<a id="L549" name="L549"></a> 549         <em class="brace">{</em>
<a id="L550" name="L550"></a> 550             <em class="comment">//REMIND - this needs to flip on the i18n property if run dir</em>
<a id="L551" name="L551"></a> 551             <em class="comment">//is rtl and the i18n property is not already on.</em>
<a id="L552" name="L552"></a> 552             <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L553" name="L553"></a> 553             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L554" name="L554"></a> 554                 <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> e
<a id="L555" name="L555"></a> 555                     = <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(0, <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(),
<a id="L556" name="L556"></a> 556                                                <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT);
<a id="L557" name="L557"></a> 557                 <a href="../S/3268.html#L1024" title="Defined at 1024 in src/javax/swing/text/AbstractDocument.java.">updateBidi</a>( e );
<a id="L558" name="L558"></a> 558             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L559" name="L559"></a> 559                 <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L560" name="L560"></a> 560             <em class="brace">}</em>
<a id="L561" name="L561"></a> 561         <em class="brace">}</em>
<a id="L562" name="L562"></a> 562     <em class="brace">}</em>
<a id="L563" name="L563"></a> 563 
<div class="comment">
      Removes some content from the document.
      Removing content causes a write lock to be held while the
      actual changes are taking place.  Observers are notified
      of the change on the thread that called this method.
      <p>
      This method is thread safe, although most Swing methods
      are not. Please see
      <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">Concurrency
      in Swing</a> for more information.
      @param offs the starting offset &gt;= 0
      @param len the number of characters to remove &gt;= 0
      @exception BadLocationException  the given remove position is not a valid
        position within the document
      @see Document#remove</p></div>
<a id="L581" name="L581"></a> 581     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<strong class="reserved">int</strong> offs, <strong class="reserved">int</strong> len) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> = <a href="../D/18560.html" title="Multiple defined in 5 places.">getDocumentFilter</a>();
<a id="L583" name="L583"></a> 583 
<a id="L584" name="L584"></a> 584         <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L585" name="L585"></a> 585         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L586" name="L586"></a> 586             <strong class="reserved">if</strong> (<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L587" name="L587"></a> 587                 <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/19072.html" title="Multiple defined in 2 places.">getFilterBypass</a>(), offs, len);
<a id="L588" name="L588"></a> 588             <em class="brace">}</em>
<a id="L589" name="L589"></a> 589             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L590" name="L590"></a> 590                 <a href="../D/24024.html" title="Multiple defined in 2 places.">handleRemove</a>(offs, len);
<a id="L591" name="L591"></a> 591             <em class="brace">}</em>
<a id="L592" name="L592"></a> 592         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L593" name="L593"></a> 593             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L594" name="L594"></a> 594         <em class="brace">}</em>
<a id="L595" name="L595"></a> 595     <em class="brace">}</em>
<a id="L596" name="L596"></a> 596 
<div class="comment">
      Performs the actual work of the remove. It is assumed the caller
      will have obtained a <code>writeLock</code> before invoking this.</div>
<a id="L601" name="L601"></a> 601     <strong class="reserved">void</strong> <a href="../R/20136.html" title="Multiple referred from 4 places.">handleRemove</a>(<strong class="reserved">int</strong> offs, <strong class="reserved">int</strong> len) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L602" name="L602"></a> 602         <strong class="reserved">if</strong> (len &gt; 0) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603             <strong class="reserved">if</strong> (offs &lt; 0 || (offs + len) &gt; <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L604" name="L604"></a> 604                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("Invalid remove",
<a id="L605" name="L605"></a> 605                                                <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() + 1);
<a id="L606" name="L606"></a> 606             <em class="brace">}</em>
<a id="L607" name="L607"></a> 607             <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> chng =
<a id="L608" name="L608"></a> 608                     <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(offs, len, <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE);
<a id="L609" name="L609"></a> 609 
<a id="L610" name="L610"></a> 610             <strong class="reserved">boolean</strong> <a href="../D/25345.html" title="Multiple defined in 2 places.">isComposedTextElement</a>;
<a id="L611" name="L611"></a> 611             <em class="comment">// Check whether the position of interest is the composed text</em>
<a id="L612" name="L612"></a> 612             <a href="../D/25345.html" title="Multiple defined in 2 places.">isComposedTextElement</a> = <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../D/25345.html" title="Multiple defined in 2 places.">isComposedTextElement</a>(<strong class="reserved">this</strong>, offs);
<a id="L613" name="L613"></a> 613 
<a id="L614" name="L614"></a> 614             <a href="../D/30986.html" title="Multiple defined in 27 places.">removeUpdate</a>(chng);
<a id="L615" name="L615"></a> 615             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(offs, len);
<a id="L616" name="L616"></a> 616             <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617                 chng.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L618" name="L618"></a> 618             <em class="brace">}</em>
<a id="L619" name="L619"></a> 619             <a href="../S/3268.html#L1009" title="Defined at 1009 in src/javax/swing/text/AbstractDocument.java.">postRemoveUpdate</a>(chng);
<a id="L620" name="L620"></a> 620             <em class="comment">// Mark the edit as done.</em>
<a id="L621" name="L621"></a> 621             chng.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L622" name="L622"></a> 622             <a href="../S/3268.html#L247" title="Defined at 247 in src/javax/swing/text/AbstractDocument.java.">fireRemoveUpdate</a>(chng);
<a id="L623" name="L623"></a> 623             <em class="comment">// only fire undo if Content implementation supports it</em>
<a id="L624" name="L624"></a> 624             <em class="comment">// undo for the composed text is not supported for now</em>
<a id="L625" name="L625"></a> 625             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong>) &amp;&amp; !<a href="../D/25345.html" title="Multiple defined in 2 places.">isComposedTextElement</a>) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626                 <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(<strong class="reserved">this</strong>, chng));
<a id="L627" name="L627"></a> 627             <em class="brace">}</em>
<a id="L628" name="L628"></a> 628         <em class="brace">}</em>
<a id="L629" name="L629"></a> 629     <em class="brace">}</em>
<a id="L630" name="L630"></a> 630 
<div class="comment">
      Deletes the region of text from <code>offset</code> to
      <code>offset + length</code>, and replaces it with <code>text</code>.
      It is up to the implementation as to how this is implemented, some
      implementations may treat this as two distinct operations: a remove
      followed by an insert, others may treat the replace as one atomic
      operation.
      @param offset index of child element
      @param length length of text to delete, may be 0 indicating don't
                    delete anything
      @param text text to insert, <code>null</code> indicates no text to insert
      @param attrs AttributeSet indicating attributes of inserted text,
                   <code>null</code>
                   is legal, and typically treated as an empty attributeset,
                   but exact interpretation is left to the subclass
      @exception BadLocationException the given position is not a valid
                 position within the document
      @since 1.4</div>
<a id="L651" name="L651"></a> 651     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>,
<a id="L652" name="L652"></a> 652                         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L653" name="L653"></a> 653         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0 &amp;&amp; (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> == <strong class="reserved">null</strong> || <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L654" name="L654"></a> 654             <strong class="reserved">return</strong>;
<a id="L655" name="L655"></a> 655         <em class="brace">}</em>
<a id="L656" name="L656"></a> 656         <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> = <a href="../D/18560.html" title="Multiple defined in 5 places.">getDocumentFilter</a>();
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658         <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L659" name="L659"></a> 659         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L660" name="L660"></a> 660             <strong class="reserved">if</strong> (<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L661" name="L661"></a> 661                 <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/19072.html" title="Multiple defined in 2 places.">getFilterBypass</a>(), <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>,
<a id="L662" name="L662"></a> 662                                attrs);
<a id="L663" name="L663"></a> 663             <em class="brace">}</em>
<a id="L664" name="L664"></a> 664             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L665" name="L665"></a> 665                 <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L666" name="L666"></a> 666                     <a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L667" name="L667"></a> 667                 <em class="brace">}</em>
<a id="L668" name="L668"></a> 668                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L669" name="L669"></a> 669                     <a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrs);
<a id="L670" name="L670"></a> 670                 <em class="brace">}</em>
<a id="L671" name="L671"></a> 671             <em class="brace">}</em>
<a id="L672" name="L672"></a> 672         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L673" name="L673"></a> 673             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L674" name="L674"></a> 674         <em class="brace">}</em>
<a id="L675" name="L675"></a> 675     <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<div class="comment">
      Inserts some content into the document.
      Inserting content causes a write lock to be held while the
      actual changes are taking place, followed by notification
      to the observers on the thread that grabbed the write lock.
      <p>
      This method is thread safe, although most Swing methods
      are not. Please see
      <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">Concurrency
      in Swing</a> for more information.
      @param offs the starting offset &gt;= 0
      @param str the string to insert; does nothing with null/empty strings
      @param a the attributes for the inserted content
      @exception BadLocationException  the given insert position is not a valid
        position within the document
      @see Document#insertString</p></div>
<a id="L695" name="L695"></a> 695     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20792.html" title="Multiple referred from 41 places.">insertString</a>(<strong class="reserved">int</strong> offs, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L696" name="L696"></a> 696         <strong class="reserved">if</strong> ((<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> == <strong class="reserved">null</strong>) || (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L697" name="L697"></a> 697             <strong class="reserved">return</strong>;
<a id="L698" name="L698"></a> 698         <em class="brace">}</em>
<a id="L699" name="L699"></a> 699         <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> = <a href="../D/18560.html" title="Multiple defined in 5 places.">getDocumentFilter</a>();
<a id="L700" name="L700"></a> 700 
<a id="L701" name="L701"></a> 701         <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L702" name="L702"></a> 702 
<a id="L703" name="L703"></a> 703         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L704" name="L704"></a> 704             <strong class="reserved">if</strong> (<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705                 <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(<a href="../D/19072.html" title="Multiple defined in 2 places.">getFilterBypass</a>(), offs, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L706" name="L706"></a> 706             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L707" name="L707"></a> 707                 <a href="../S/3268.html#L718" title="Defined at 718 in src/javax/swing/text/AbstractDocument.java.">handleInsertString</a>(offs, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L708" name="L708"></a> 708             <em class="brace">}</em>
<a id="L709" name="L709"></a> 709         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L710" name="L710"></a> 710             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L711" name="L711"></a> 711         <em class="brace">}</em>
<a id="L712" name="L712"></a> 712     <em class="brace">}</em>
<a id="L713" name="L713"></a> 713 
<div class="comment">
      Performs the actual work of inserting the text; it is assumed the
      caller has obtained a write lock before invoking this.</div>
<a id="L718" name="L718"></a> 718     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20106.html" title="Multiple referred from 3 places.">handleInsertString</a>(<strong class="reserved">int</strong> offs, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>)
<a id="L719" name="L719"></a> 719             <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L720" name="L720"></a> 720         <strong class="reserved">if</strong> ((<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> == <strong class="reserved">null</strong>) || (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L721" name="L721"></a> 721             <strong class="reserved">return</strong>;
<a id="L722" name="L722"></a> 722         <em class="brace">}</em>
<a id="L723" name="L723"></a> 723         <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(offs, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>);
<a id="L724" name="L724"></a> 724         <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> e =
<a id="L725" name="L725"></a> 725             <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(offs, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(), <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT);
<a id="L726" name="L726"></a> 726         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L727" name="L727"></a> 727             e.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L728" name="L728"></a> 728         <em class="brace">}</em>
<a id="L729" name="L729"></a> 729 
<a id="L730" name="L730"></a> 730         <em class="comment">// see if complex glyph layout support is needed</em>
<a id="L731" name="L731"></a> 731         <strong class="reserved">if</strong>( <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(I18NProperty).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE ) ) <em class="brace">{</em>
<a id="L732" name="L732"></a> 732             <em class="comment">// if a default direction of right-to-left has been specified,</em>
<a id="L733" name="L733"></a> 733             <em class="comment">// we want complex layout even if the text is all left to right.</em>
<a id="L734" name="L734"></a> 734             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> d = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION);
<a id="L735" name="L735"></a> 735             <strong class="reserved">if</strong> ((d != <strong class="reserved">null</strong>) &amp;&amp; (d.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_RTL))) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736                 <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>( I18NProperty, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L737" name="L737"></a> 737             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L738" name="L738"></a> 738                 <strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a> = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>();
<a id="L739" name="L739"></a> 739                 <strong class="reserved">if</strong> (SwingUtilities2.isComplexLayout(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, 0, <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)) <em class="brace">{</em>
<a id="L740" name="L740"></a> 740                     <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>( I18NProperty, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L741" name="L741"></a> 741                 <em class="brace">}</em>
<a id="L742" name="L742"></a> 742             <em class="brace">}</em>
<a id="L743" name="L743"></a> 743         <em class="brace">}</em>
<a id="L744" name="L744"></a> 744 
<a id="L745" name="L745"></a> 745         <a href="../D/24781.html" title="Multiple defined in 28 places.">insertUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L746" name="L746"></a> 746         <em class="comment">// Mark the edit as done.</em>
<a id="L747" name="L747"></a> 747         e.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L748" name="L748"></a> 748         <a href="../S/3268.html#L189" title="Defined at 189 in src/javax/swing/text/AbstractDocument.java.">fireInsertUpdate</a>(e);
<a id="L749" name="L749"></a> 749         <em class="comment">// only fire undo if Content implementation supports it</em>
<a id="L750" name="L750"></a> 750         <em class="comment">// undo for the composed text is not supported for now</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong> &amp;&amp; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong> || !<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ComposedTextAttribute))) <em class="brace">{</em>
<a id="L752" name="L752"></a> 752             <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(<strong class="reserved">this</strong>, e));
<a id="L753" name="L753"></a> 753         <em class="brace">}</em>
<a id="L754" name="L754"></a> 754     <em class="brace">}</em>
<a id="L755" name="L755"></a> 755 
<div class="comment">
      Gets a sequence of text from the document.
      @param offset the starting offset &gt;= 0
      @param length the number of characters to retrieve &gt;= 0
      @return the text
      @exception BadLocationException  the range given includes a position
        that is not a valid position within the document
      @see Document#getText</div>
<a id="L766" name="L766"></a> 766     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19424.html" title="Multiple referred from 339 places.">getText</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L767" name="L767"></a> 767         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 0) <em class="brace">{</em>
<a id="L768" name="L768"></a> 768             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("Length must be positive", <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L769" name="L769"></a> 769         <em class="brace">}</em>
<a id="L770" name="L770"></a> 770         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L771" name="L771"></a> 771         <strong class="reserved">return</strong> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>;
<a id="L772" name="L772"></a> 772     <em class="brace">}</em>
<a id="L773" name="L773"></a> 773 
<div class="comment">
      Fetches the text contained within the given portion
      of the document.
      <p>
      If the partialReturn property on the txt parameter is false, the
      data returned in the Segment will be the entire length requested and
      may or may not be a copy depending upon how the data was stored.
      If the partialReturn property is true, only the amount of text that
      can be returned without creating a copy is returned.  Using partial
      returns will give better performance for situations where large
      parts of the document are being scanned.  The following is an example
      of using the partial return to access the entire document:
      </p><pre>      &nbsp; int nleft = doc.getDocumentLength();
      &nbsp; Segment text = new Segment();
      &nbsp; int offs = 0;
      &nbsp; text.setPartialReturn(true);
      &nbsp; while (nleft &gt; 0) {
      &nbsp;     doc.getText(offs, nleft, text);
      &nbsp;     // do something with text
      &nbsp;     nleft -= text.count;
      &nbsp;     offs += text.count;
      &nbsp; }
      </pre>
      @param offset the starting offset &gt;= 0
      @param length the number of characters to retrieve &gt;= 0
      @param txt the Segment object to retrieve the text into
      @exception BadLocationException  the range given includes a position
        that is not a valid position within the document</div>
<a id="L806" name="L806"></a> 806     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/19424.html" title="Multiple referred from 339 places.">getText</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> txt) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L807" name="L807"></a> 807         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 0) <em class="brace">{</em>
<a id="L808" name="L808"></a> 808             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("Length must be positive", <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L809" name="L809"></a> 809         <em class="brace">}</em>
<a id="L810" name="L810"></a> 810         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, txt);
<a id="L811" name="L811"></a> 811     <em class="brace">}</em>
<a id="L812" name="L812"></a> 812 
<div class="comment">
      Returns a position that will track change as the document
      is altered.
      <p>
      This method is thread safe, although most Swing methods
      are not. Please see
      <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">Concurrency
      in Swing</a> for more information.
      @param offs the position in the model &gt;= 0
      @return the position
      @exception BadLocationException  if the given position does not
        represent a valid location in the associated document
      @see Document#createPosition</p></div>
<a id="L828" name="L828"></a> 828     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> <a href="../R/12631.html" title="Multiple referred from 26 places.">createPosition</a>(<strong class="reserved">int</strong> offs) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L829" name="L829"></a> 829         <strong class="reserved">return</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(offs);
<a id="L830" name="L830"></a> 830     <em class="brace">}</em>
<a id="L831" name="L831"></a> 831 
<div class="comment">
      Returns a position that represents the start of the document.  The
      position returned can be counted on to track change and stay
      located at the beginning of the document.
      @return the position</div>
<a id="L839" name="L839"></a> 839     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> getStartPosition() <em class="brace">{</em>
<a id="L840" name="L840"></a> 840         <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> p;
<a id="L841" name="L841"></a> 841         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L842" name="L842"></a> 842             p = <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(0);
<a id="L843" name="L843"></a> 843         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> bl) <em class="brace">{</em>
<a id="L844" name="L844"></a> 844             p = <strong class="reserved">null</strong>;
<a id="L845" name="L845"></a> 845         <em class="brace">}</em>
<a id="L846" name="L846"></a> 846         <strong class="reserved">return</strong> p;
<a id="L847" name="L847"></a> 847     <em class="brace">}</em>
<a id="L848" name="L848"></a> 848 
<div class="comment">
      Returns a position that represents the end of the document.  The
      position returned can be counted on to track change and stay
      located at the end of the document.
      @return the position</div>
<a id="L856" name="L856"></a> 856     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> getEndPosition() <em class="brace">{</em>
<a id="L857" name="L857"></a> 857         <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> p;
<a id="L858" name="L858"></a> 858         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L859" name="L859"></a> 859             p = <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L860" name="L860"></a> 860         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> bl) <em class="brace">{</em>
<a id="L861" name="L861"></a> 861             p = <strong class="reserved">null</strong>;
<a id="L862" name="L862"></a> 862         <em class="brace">}</em>
<a id="L863" name="L863"></a> 863         <strong class="reserved">return</strong> p;
<a id="L864" name="L864"></a> 864     <em class="brace">}</em>
<a id="L865" name="L865"></a> 865 
<div class="comment">
      Gets all root elements defined.  Typically, there
      will only be one so the default implementation
      is to return the default root element.
      @return the root element</div>
<a id="L873" name="L873"></a> 873     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] <a href="../S/3322.html#L2246" title="Referred from 2246 in src/javax/swing/text/html/HTMLEditorKit.java.">getRootElements</a>() <em class="brace">{</em>
<a id="L874" name="L874"></a> 874         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] elems = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[2];
<a id="L875" name="L875"></a> 875         elems[0] = <a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L876" name="L876"></a> 876         elems[1] = <a href="../S/3268.html#L908" title="Defined at 908 in src/javax/swing/text/AbstractDocument.java.">getBidiRootElement</a>();
<a id="L877" name="L877"></a> 877         <strong class="reserved">return</strong> elems;
<a id="L878" name="L878"></a> 878     <em class="brace">}</em>
<a id="L879" name="L879"></a> 879 
<div class="comment">
      Returns the root element that views should be based upon
      unless some other mechanism for assigning views to element
      structures is provided.
      @return the root element
      @see Document#getDefaultRootElement</div>
<a id="L888" name="L888"></a> 888     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16072.html" title="Multiple referred from 34 places.">getDefaultRootElement</a>();
<a id="L889" name="L889"></a> 889 
<a id="L890" name="L890"></a> 890     <em class="comment">// ---- local methods -----------------------------------------</em>
<a id="L891" name="L891"></a> 891 
<div class="comment">
      Returns the <code>FilterBypass</code>. This will create one if one
      does not yet exist.</div>
<a id="L896" name="L896"></a> 896     <strong class="reserved">private</strong> <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a>.<a href="../D/3245.html" title="Multiple defined in 2 places.">FilterBypass</a> <a href="../R/16591.html" title="Multiple referred from 5 places.">getFilterBypass</a>() <em class="brace">{</em>
<a id="L897" name="L897"></a> 897         <strong class="reserved">if</strong> (filterBypass == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L898" name="L898"></a> 898             filterBypass = <strong class="reserved">new</strong> <a href="../D/2277.html" title="Multiple defined in 2 places.">DefaultFilterBypass</a>();
<a id="L899" name="L899"></a> 899         <em class="brace">}</em>
<a id="L900" name="L900"></a> 900         <strong class="reserved">return</strong> filterBypass;
<a id="L901" name="L901"></a> 901     <em class="brace">}</em>
<a id="L902" name="L902"></a> 902 
<div class="comment">
      Returns the root element of the bidirectional structure for this
      document.  Its children represent character runs with a given
      Unicode bidi level.</div>
<a id="L908" name="L908"></a> 908     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/15269.html" title="Multiple referred from 5 places.">getBidiRootElement</a>() <em class="brace">{</em>
<a id="L909" name="L909"></a> 909         <strong class="reserved">return</strong> bidiRoot;
<a id="L910" name="L910"></a> 910     <em class="brace">}</em>
<a id="L911" name="L911"></a> 911 
<div class="comment">
      Returns true if the text in the range <code>p0</code> to
      <code>p1</code> is left to right.</div>
<a id="L916" name="L916"></a> 916     <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21649.html" title="Multiple referred from 325 places.">isLeftToRight</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1) <em class="brace">{</em>
<a id="L917" name="L917"></a> 917         <strong class="reserved">if</strong> (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(doc.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(I18NProperty))) <em class="brace">{</em>
<a id="L918" name="L918"></a> 918             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L919" name="L919"></a> 919                 <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a> adoc = (<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) doc;
<a id="L920" name="L920"></a> 920                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> bidiRoot = adoc.<a href="../S/3268.html#L908" title="Defined at 908 in src/javax/swing/text/AbstractDocument.java.">getBidiRootElement</a>();
<a id="L921" name="L921"></a> 921                 <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = bidiRoot.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(p0);
<a id="L922" name="L922"></a> 922                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> bidiElem = bidiRoot.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L923" name="L923"></a> 923                 <strong class="reserved">if</strong> (bidiElem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() &gt;= p1) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924                     <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> bidiAttrs = bidiElem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L925" name="L925"></a> 925                     <strong class="reserved">return</strong> ((<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L284" title="Defined at 284 in src/javax/swing/text/StyleConstants.java.">getBidiLevel</a>(bidiAttrs) % 2) == 0);
<a id="L926" name="L926"></a> 926                 <em class="brace">}</em>
<a id="L927" name="L927"></a> 927             <em class="brace">}</em>
<a id="L928" name="L928"></a> 928         <em class="brace">}</em>
<a id="L929" name="L929"></a> 929         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L930" name="L930"></a> 930     <em class="brace">}</em>
<a id="L931" name="L931"></a> 931 
<div class="comment">
      Get the paragraph element containing the given position.  Sub-classes
      must define for themselves what exactly constitutes a paragraph.  They
      should keep in mind however that a paragraph should at least be the
      unit of text over which to run the Unicode bidirectional algorithm.
      @param pos the starting offset &gt;= 0
     * @return the element </div>
<a id="L940" name="L940"></a> 940     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/18247.html" title="Multiple referred from 33 places.">getParagraphElement</a>(<strong class="reserved">int</strong> pos);
<a id="L941" name="L941"></a> 941 
<a id="L942" name="L942"></a> 942 
<div class="comment">
      Fetches the context for managing attributes.  This
      method effectively establishes the strategy used
      for compressing AttributeSet information.
      @return the context</div>
<a id="L950" name="L950"></a> 950     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../R/15139.html" title="Multiple referred from 20 places.">getAttributeContext</a>() <em class="brace">{</em>
<a id="L951" name="L951"></a> 951         <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L952" name="L952"></a> 952     <em class="brace">}</em>
<a id="L953" name="L953"></a> 953 
<div class="comment">
      Updates document structure as a result of text insertion.  This
      will happen within a write lock.  If a subclass of
      this class reimplements this method, it should delegate to the
      superclass as well.
      @param chng a description of the change
      @param attr the attributes for the change</div>
<a id="L963" name="L963"></a> 963     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> chng, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L964" name="L964"></a> 964         <strong class="reserved">if</strong>( <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(I18NProperty).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE ) )
<a id="L965" name="L965"></a> 965             <a href="../S/3268.html#L1024" title="Defined at 1024 in src/javax/swing/text/AbstractDocument.java.">updateBidi</a>( chng );
<a id="L966" name="L966"></a> 966 
<a id="L967" name="L967"></a> 967         <em class="comment">// Check if a multi byte is encountered in the inserted text.</em>
<a id="L968" name="L968"></a> 968         <strong class="reserved">if</strong> (chng.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT &amp;&amp;
<a id="L969" name="L969"></a> 969                         chng.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &gt; 0 &amp;&amp;
<a id="L970" name="L970"></a> 970                         !<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(MultiByteProperty))) <em class="brace">{</em>
<a id="L971" name="L971"></a> 971             <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> segment = <a href="../S/3326.html#L42" title="Defined at 42 in src/javax/swing/text/SegmentCache.java.">SegmentCache</a>.<a href="../S/3326.html#L65" title="Defined at 65 in src/javax/swing/text/SegmentCache.java.">getSharedSegment</a>();
<a id="L972" name="L972"></a> 972             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L973" name="L973"></a> 973                 <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(chng.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(), chng.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(), segment);
<a id="L974" name="L974"></a> 974                 segment.<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L975" name="L975"></a> 975                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L976" name="L976"></a> 976                     <strong class="reserved">if</strong> ((<strong class="reserved">int</strong>)segment.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() &gt; 255) <em class="brace">{</em>
<a id="L977" name="L977"></a> 977                         <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(MultiByteProperty, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L978" name="L978"></a> 978                         <strong class="reserved">break</strong>;
<a id="L979" name="L979"></a> 979                     <em class="brace">}</em>
<a id="L980" name="L980"></a> 980                 <em class="brace">}</em> <strong class="reserved">while</strong> (segment.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>() != <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a>.DONE);
<a id="L981" name="L981"></a> 981             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L982" name="L982"></a> 982                 <em class="comment">// Should never happen</em>
<a id="L983" name="L983"></a> 983             <em class="brace">}</em>
<a id="L984" name="L984"></a> 984             <a href="../S/3326.html#L42" title="Defined at 42 in src/javax/swing/text/SegmentCache.java.">SegmentCache</a>.<a href="../S/3326.html#L73" title="Defined at 73 in src/javax/swing/text/SegmentCache.java.">releaseSharedSegment</a>(segment);
<a id="L985" name="L985"></a> 985         <em class="brace">}</em>
<a id="L986" name="L986"></a> 986     <em class="brace">}</em>
<a id="L987" name="L987"></a> 987 
<div class="comment">
      Updates any document structure as a result of text removal.  This
      method is called before the text is actually removed from the Content.
      This will happen within a write lock. If a subclass
      of this class reimplements this method, it should delegate to the
      superclass as well.
      @param chng a description of the change</div>
<a id="L997" name="L997"></a> 997     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26095.html" title="Multiple referred from 20 places.">removeUpdate</a>(<a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> chng) <em class="brace">{</em>
<a id="L998" name="L998"></a> 998     <em class="brace">}</em>
<a id="L999" name="L999"></a> 999 
<div class="comment">
      Updates any document structure as a result of text removal.  This
      method is called after the text has been removed from the Content.
      This will happen within a write lock. If a subclass
      of this class reimplements this method, it should delegate to the
      superclass as well.
      @param chng a description of the change</div>
<a id="L1009" name="L1009"></a>1009     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24866.html" title="Multiple referred from 5 places.">postRemoveUpdate</a>(<a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> chng) <em class="brace">{</em>
<a id="L1010" name="L1010"></a>1010         <strong class="reserved">if</strong>( <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(I18NProperty).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE ) )
<a id="L1011" name="L1011"></a>1011             <a href="../S/3268.html#L1024" title="Defined at 1024 in src/javax/swing/text/AbstractDocument.java.">updateBidi</a>( chng );
<a id="L1012" name="L1012"></a>1012     <em class="brace">}</em>
<a id="L1013" name="L1013"></a>1013 
<a id="L1014" name="L1014"></a>1014 
<div class="comment">
      Update the bidi element structure as a result of the given change
      to the document.  The given change will be updated to reflect the
      changes made to the bidi structure.
      This method assumes that every offset in the model is contained in
      exactly one paragraph.  This method also assumes that it is called
      after the change is made to the default element structure.</div>
<a id="L1024" name="L1024"></a>1024     <strong class="reserved">void</strong> <a href="../R/29813.html" title="Multiple referred from 5 places.">updateBidi</a>( <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> chng ) <em class="brace">{</em>
<a id="L1025" name="L1025"></a>1025 
<a id="L1026" name="L1026"></a>1026         <em class="comment">// Calculate the range of paragraphs affected by the change.</em>
<a id="L1027" name="L1027"></a>1027         <strong class="reserved">int</strong> firstPStart;
<a id="L1028" name="L1028"></a>1028         <strong class="reserved">int</strong> lastPEnd;
<a id="L1029" name="L1029"></a>1029         <strong class="reserved">if</strong>( chng.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT
<a id="L1030" name="L1030"></a>1030             || chng.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.CHANGE )
<a id="L1031" name="L1031"></a>1031         <em class="brace">{</em>
<a id="L1032" name="L1032"></a>1032             <strong class="reserved">int</strong> chngStart = chng.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L1033" name="L1033"></a>1033             <strong class="reserved">int</strong> chngEnd =  chngStart + chng.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L1034" name="L1034"></a>1034             firstPStart = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(chngStart).<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1035" name="L1035"></a>1035             lastPEnd = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(chngEnd).<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1036" name="L1036"></a>1036         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong>( chng.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE ) <em class="brace">{</em>
<a id="L1037" name="L1037"></a>1037             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> paragraph = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>( chng.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() );
<a id="L1038" name="L1038"></a>1038             firstPStart = paragraph.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1039" name="L1039"></a>1039             lastPEnd = paragraph.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1040" name="L1040"></a>1040         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Internal error: unknown event type.");
<a id="L1042" name="L1042"></a>1042         <em class="brace">}</em>
<a id="L1043" name="L1043"></a>1043         <em class="comment">//System.out.println("updateBidi: firstPStart = " + firstPStart + " lastPEnd = " + lastPEnd );</em>
<a id="L1044" name="L1044"></a>1044 
<a id="L1045" name="L1045"></a>1045 
<a id="L1046" name="L1046"></a>1046         <em class="comment">// Calculate the bidi levels for the affected range of paragraphs.  The</em>
<a id="L1047" name="L1047"></a>1047         <em class="comment">// levels array will contain a bidi level for each character in the</em>
<a id="L1048" name="L1048"></a>1048         <em class="comment">// affected text.</em>
<a id="L1049" name="L1049"></a>1049         <strong class="reserved">byte</strong> levels[] = <a href="../S/3268.html#L1175" title="Defined at 1175 in src/javax/swing/text/AbstractDocument.java.">calculateBidiLevels</a>( firstPStart, lastPEnd );
<a id="L1050" name="L1050"></a>1050 
<a id="L1051" name="L1051"></a>1051 
<a id="L1052" name="L1052"></a>1052         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; newElements = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt;();
<a id="L1053" name="L1053"></a>1053 
<a id="L1054" name="L1054"></a>1054         <em class="comment">// Calculate the first span of characters in the affected range with</em>
<a id="L1055" name="L1055"></a>1055         <em class="comment">// the same bidi level.  If this level is the same as the level of the</em>
<a id="L1056" name="L1056"></a>1056         <em class="comment">// previous bidi element (the existing bidi element containing</em>
<a id="L1057" name="L1057"></a>1057         <em class="comment">// firstPStart-1), then merge in the previous element.  If not, but</em>
<a id="L1058" name="L1058"></a>1058         <em class="comment">// the previous element overlaps the affected range, truncate the</em>
<a id="L1059" name="L1059"></a>1059         <em class="comment">// previous element at firstPStart.</em>
<a id="L1060" name="L1060"></a>1060         <strong class="reserved">int</strong> firstSpanStart = firstPStart;
<a id="L1061" name="L1061"></a>1061         <strong class="reserved">int</strong> removeFromIndex = 0;
<a id="L1062" name="L1062"></a>1062         <strong class="reserved">if</strong>( firstSpanStart &gt; 0 ) <em class="brace">{</em>
<a id="L1063" name="L1063"></a>1063             <strong class="reserved">int</strong> prevElemIndex = bidiRoot.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(firstPStart-1);
<a id="L1064" name="L1064"></a>1064             removeFromIndex = prevElemIndex;
<a id="L1065" name="L1065"></a>1065             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> prevElem = bidiRoot.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(prevElemIndex);
<a id="L1066" name="L1066"></a>1066             <strong class="reserved">int</strong> prevLevel=<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L284" title="Defined at 284 in src/javax/swing/text/StyleConstants.java.">getBidiLevel</a>(prevElem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>());
<a id="L1067" name="L1067"></a>1067             <em class="comment">//System.out.println("createbidiElements: prevElem= " + prevElem  + " prevLevel= " + prevLevel + "level[0] = " + levels[0]);</em>
<a id="L1068" name="L1068"></a>1068             <strong class="reserved">if</strong>( prevLevel==levels[0] ) <em class="brace">{</em>
<a id="L1069" name="L1069"></a>1069                 firstSpanStart = prevElem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1070" name="L1070"></a>1070             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong>( prevElem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() &gt; firstPStart ) <em class="brace">{</em>
<a id="L1071" name="L1071"></a>1071                 newElements.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>(bidiRoot,
<a id="L1072" name="L1072"></a>1072                                                        prevElem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L1073" name="L1073"></a>1073                                                        firstPStart, prevLevel));
<a id="L1074" name="L1074"></a>1074             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075                 removeFromIndex++;
<a id="L1076" name="L1076"></a>1076             <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077         <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078 
<a id="L1079" name="L1079"></a>1079         <strong class="reserved">int</strong> firstSpanEnd = 0;
<a id="L1080" name="L1080"></a>1080         <strong class="reserved">while</strong>((firstSpanEnd&lt;levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) &amp;&amp; (levels[firstSpanEnd]==levels[0]))
<a id="L1081" name="L1081"></a>1081             firstSpanEnd++;
<a id="L1082" name="L1082"></a>1082 
<a id="L1083" name="L1083"></a>1083 
<a id="L1084" name="L1084"></a>1084         <em class="comment">// Calculate the last span of characters in the affected range with</em>
<a id="L1085" name="L1085"></a>1085         <em class="comment">// the same bidi level.  If this level is the same as the level of the</em>
<a id="L1086" name="L1086"></a>1086         <em class="comment">// next bidi element (the existing bidi element containing lastPEnd),</em>
<a id="L1087" name="L1087"></a>1087         <em class="comment">// then merge in the next element.  If not, but the next element</em>
<a id="L1088" name="L1088"></a>1088         <em class="comment">// overlaps the affected range, adjust the next element to start at</em>
<a id="L1089" name="L1089"></a>1089         <em class="comment">// lastPEnd.</em>
<a id="L1090" name="L1090"></a>1090         <strong class="reserved">int</strong> lastSpanEnd = lastPEnd;
<a id="L1091" name="L1091"></a>1091         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> newNextElem = <strong class="reserved">null</strong>;
<a id="L1092" name="L1092"></a>1092         <strong class="reserved">int</strong> removeToIndex = bidiRoot.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>() - 1;
<a id="L1093" name="L1093"></a>1093         <strong class="reserved">if</strong>( lastSpanEnd &lt;= <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() ) <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094             <strong class="reserved">int</strong> nextElemIndex = bidiRoot.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>( lastPEnd );
<a id="L1095" name="L1095"></a>1095             removeToIndex = nextElemIndex;
<a id="L1096" name="L1096"></a>1096             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> nextElem = bidiRoot.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>( nextElemIndex );
<a id="L1097" name="L1097"></a>1097             <strong class="reserved">int</strong> nextLevel = <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L284" title="Defined at 284 in src/javax/swing/text/StyleConstants.java.">getBidiLevel</a>(nextElem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>());
<a id="L1098" name="L1098"></a>1098             <strong class="reserved">if</strong>( nextLevel == levels[levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1] ) <em class="brace">{</em>
<a id="L1099" name="L1099"></a>1099                 lastSpanEnd = nextElem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1100" name="L1100"></a>1100             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong>( nextElem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &lt; lastPEnd ) <em class="brace">{</em>
<a id="L1101" name="L1101"></a>1101                 newNextElem = <strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>(bidiRoot, lastPEnd,
<a id="L1102" name="L1102"></a>1102                                               nextElem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>(),
<a id="L1103" name="L1103"></a>1103                                               nextLevel);
<a id="L1104" name="L1104"></a>1104             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1105" name="L1105"></a>1105                 removeToIndex--;
<a id="L1106" name="L1106"></a>1106             <em class="brace">}</em>
<a id="L1107" name="L1107"></a>1107         <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108 
<a id="L1109" name="L1109"></a>1109         <strong class="reserved">int</strong> lastSpanStart = levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1110" name="L1110"></a>1110         <strong class="reserved">while</strong>( (lastSpanStart&gt;firstSpanEnd)
<a id="L1111" name="L1111"></a>1111                &amp;&amp; (levels[lastSpanStart-1]==levels[levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1]) )
<a id="L1112" name="L1112"></a>1112             lastSpanStart--;
<a id="L1113" name="L1113"></a>1113 
<a id="L1114" name="L1114"></a>1114 
<a id="L1115" name="L1115"></a>1115         <em class="comment">// If the first and last spans are contiguous and have the same level,</em>
<a id="L1116" name="L1116"></a>1116         <em class="comment">// merge them and create a single new element for the entire span.</em>
<a id="L1117" name="L1117"></a>1117         <em class="comment">// Otherwise, create elements for the first and last spans as well as</em>
<a id="L1118" name="L1118"></a>1118         <em class="comment">// any spans in between.</em>
<a id="L1119" name="L1119"></a>1119         <strong class="reserved">if</strong>((firstSpanEnd==lastSpanStart)&amp;&amp;(levels[0]==levels[levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1]))<em class="brace">{</em>
<a id="L1120" name="L1120"></a>1120             newElements.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>(bidiRoot, firstSpanStart,
<a id="L1121" name="L1121"></a>1121                                                    lastSpanEnd, levels[0]));
<a id="L1122" name="L1122"></a>1122         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1123" name="L1123"></a>1123             <em class="comment">// Create an element for the first span.</em>
<a id="L1124" name="L1124"></a>1124             newElements.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>(bidiRoot, firstSpanStart,
<a id="L1125" name="L1125"></a>1125                                                    firstSpanEnd+firstPStart,
<a id="L1126" name="L1126"></a>1126                                                    levels[0]));
<a id="L1127" name="L1127"></a>1127             <em class="comment">// Create elements for the spans in between the first and last</em>
<a id="L1128" name="L1128"></a>1128             <strong class="reserved">for</strong>( <strong class="reserved">int</strong> i=firstSpanEnd; i&lt;lastSpanStart; ) <em class="brace">{</em>
<a id="L1129" name="L1129"></a>1129                 <em class="comment">//System.out.println("executed line 872");</em>
<a id="L1130" name="L1130"></a>1130                 <strong class="reserved">int</strong> j;
<a id="L1131" name="L1131"></a>1131                 <strong class="reserved">for</strong>( j=i;  (j&lt;levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) &amp;&amp; (levels[j] == levels[i]); j++ );
<a id="L1132" name="L1132"></a>1132                 newElements.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>(bidiRoot, firstPStart+i,
<a id="L1133" name="L1133"></a>1133                                                        firstPStart+j,
<a id="L1134" name="L1134"></a>1134                                                        (<strong class="reserved">int</strong>)levels[i]));
<a id="L1135" name="L1135"></a>1135                 i=j;
<a id="L1136" name="L1136"></a>1136             <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137             <em class="comment">// Create an element for the last span.</em>
<a id="L1138" name="L1138"></a>1138             newElements.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>(bidiRoot,
<a id="L1139" name="L1139"></a>1139                                                    lastSpanStart+firstPStart,
<a id="L1140" name="L1140"></a>1140                                                    lastSpanEnd,
<a id="L1141" name="L1141"></a>1141                                                    levels[levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1]));
<a id="L1142" name="L1142"></a>1142         <em class="brace">}</em>
<a id="L1143" name="L1143"></a>1143 
<a id="L1144" name="L1144"></a>1144         <strong class="reserved">if</strong>( newNextElem != <strong class="reserved">null</strong> )
<a id="L1145" name="L1145"></a>1145             newElements.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>( newNextElem );
<a id="L1146" name="L1146"></a>1146 
<a id="L1147" name="L1147"></a>1147 
<a id="L1148" name="L1148"></a>1148         <em class="comment">// Calculate the set of existing bidi elements which must be</em>
<a id="L1149" name="L1149"></a>1149         <em class="comment">// removed.</em>
<a id="L1150" name="L1150"></a>1150         <strong class="reserved">int</strong> removedElemCount = 0;
<a id="L1151" name="L1151"></a>1151         <strong class="reserved">if</strong>( bidiRoot.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>() &gt; 0 ) <em class="brace">{</em>
<a id="L1152" name="L1152"></a>1152             removedElemCount = removeToIndex - removeFromIndex + 1;
<a id="L1153" name="L1153"></a>1153         <em class="brace">}</em>
<a id="L1154" name="L1154"></a>1154         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] removedElems = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[removedElemCount];
<a id="L1155" name="L1155"></a>1155         <strong class="reserved">for</strong>( <strong class="reserved">int</strong> i=0; i&lt;removedElemCount; i++ ) <em class="brace">{</em>
<a id="L1156" name="L1156"></a>1156             removedElems[i] = bidiRoot.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(removeFromIndex+i);
<a id="L1157" name="L1157"></a>1157         <em class="brace">}</em>
<a id="L1158" name="L1158"></a>1158 
<a id="L1159" name="L1159"></a>1159         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] addedElems = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[ newElements.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() ];
<a id="L1160" name="L1160"></a>1160         newElements.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>( addedElems );
<a id="L1161" name="L1161"></a>1161 
<a id="L1162" name="L1162"></a>1162         <em class="comment">// Update the change record.</em>
<a id="L1163" name="L1163"></a>1163         <a href="../S/3268.html#L2998" title="Defined at 2998 in src/javax/swing/text/AbstractDocument.java.">ElementEdit</a> ee = <strong class="reserved">new</strong> <a href="../S/3268.html#L2998" title="Defined at 2998 in src/javax/swing/text/AbstractDocument.java.">ElementEdit</a>( bidiRoot, removeFromIndex,
<a id="L1164" name="L1164"></a>1164                                           removedElems, addedElems );
<a id="L1165" name="L1165"></a>1165         chng.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>( ee );
<a id="L1166" name="L1166"></a>1166 
<a id="L1167" name="L1167"></a>1167         <em class="comment">// Update the bidi element structure.</em>
<a id="L1168" name="L1168"></a>1168         bidiRoot.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>( removeFromIndex, removedElems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, addedElems );
<a id="L1169" name="L1169"></a>1169     <em class="brace">}</em>
<a id="L1170" name="L1170"></a>1170 
<a id="L1171" name="L1171"></a>1171 
<div class="comment">
      Calculate the levels array for a range of paragraphs.</div>
<a id="L1175" name="L1175"></a>1175     <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] <a href="../S/3268.html#L1049" title="Referred from 1049 in src/javax/swing/text/AbstractDocument.java.">calculateBidiLevels</a>( <strong class="reserved">int</strong> firstPStart, <strong class="reserved">int</strong> lastPEnd ) <em class="brace">{</em>
<a id="L1176" name="L1176"></a>1176 
<a id="L1177" name="L1177"></a>1177         <strong class="reserved">byte</strong> levels[] = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[ lastPEnd - firstPStart ];
<a id="L1178" name="L1178"></a>1178         <strong class="reserved">int</strong>  levelsEnd = 0;
<a id="L1179" name="L1179"></a>1179         <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> defaultDirection = <strong class="reserved">null</strong>;
<a id="L1180" name="L1180"></a>1180         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> d = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION);
<a id="L1181" name="L1181"></a>1181         <strong class="reserved">if</strong> (d <strong class="reserved">instanceof</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) <em class="brace">{</em>
<a id="L1182" name="L1182"></a>1182             defaultDirection = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) d;
<a id="L1183" name="L1183"></a>1183         <em class="brace">}</em>
<a id="L1184" name="L1184"></a>1184 
<a id="L1185" name="L1185"></a>1185         <em class="comment">// For each paragraph in the given range of paragraphs, get its</em>
<a id="L1186" name="L1186"></a>1186         <em class="comment">// levels array and add it to the levels array for the entire span.</em>
<a id="L1187" name="L1187"></a>1187         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>=firstPStart; <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>&lt;lastPEnd; ) <em class="brace">{</em>
<a id="L1188" name="L1188"></a>1188             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> p = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>( <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> );
<a id="L1189" name="L1189"></a>1189             <strong class="reserved">int</strong> pStart = p.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1190" name="L1190"></a>1190             <strong class="reserved">int</strong> pEnd = p.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1191" name="L1191"></a>1191 
<a id="L1192" name="L1192"></a>1192             <em class="comment">// default run direction for the paragraph.  This will be</em>
<a id="L1193" name="L1193"></a>1193             <em class="comment">// null if there is no direction override specified (i.e.</em>
<a id="L1194" name="L1194"></a>1194             <em class="comment">// the direction will be determined from the content).</em>
<a id="L1195" name="L1195"></a>1195             <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> direction = defaultDirection;
<a id="L1196" name="L1196"></a>1196             d = p.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION);
<a id="L1197" name="L1197"></a>1197             <strong class="reserved">if</strong> (d <strong class="reserved">instanceof</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) <em class="brace">{</em>
<a id="L1198" name="L1198"></a>1198                 direction = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) d;
<a id="L1199" name="L1199"></a>1199             <em class="brace">}</em>
<a id="L1200" name="L1200"></a>1200 
<a id="L1201" name="L1201"></a>1201             <em class="comment">//System.out.println("updateBidi: paragraph start = " + pStart + " paragraph end = " + pEnd);</em>
<a id="L1202" name="L1202"></a>1202 
<a id="L1203" name="L1203"></a>1203             <em class="comment">// Create a Bidi over this paragraph then get the level</em>
<a id="L1204" name="L1204"></a>1204             <em class="comment">// array.</em>
<a id="L1205" name="L1205"></a>1205             <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> seg = <a href="../S/3326.html#L42" title="Defined at 42 in src/javax/swing/text/SegmentCache.java.">SegmentCache</a>.<a href="../S/3326.html#L65" title="Defined at 65 in src/javax/swing/text/SegmentCache.java.">getSharedSegment</a>();
<a id="L1206" name="L1206"></a>1206             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1207" name="L1207"></a>1207                 <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(pStart, pEnd-pStart, seg);
<a id="L1208" name="L1208"></a>1208             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e ) <em class="brace">{</em>
<a id="L1209" name="L1209"></a>1209                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Internal error: " + e.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L1210" name="L1210"></a>1210             <em class="brace">}</em>
<a id="L1211" name="L1211"></a>1211             <em class="comment">// REMIND(bcb) we should really be using a Segment here.</em>
<a id="L1212" name="L1212"></a>1212             <a href="../S/2485.html#L61" title="Defined at 61 in src/java/text/Bidi.java.">Bidi</a> bidiAnalyzer;
<a id="L1213" name="L1213"></a>1213             <strong class="reserved">int</strong> bidiflag = <a href="../S/2485.html#L61" title="Defined at 61 in src/java/text/Bidi.java.">Bidi</a>.DIRECTION_DEFAULT_LEFT_TO_RIGHT;
<a id="L1214" name="L1214"></a>1214             <strong class="reserved">if</strong> (direction != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1215" name="L1215"></a>1215                 <strong class="reserved">if</strong> (<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_LTR.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(direction)) <em class="brace">{</em>
<a id="L1216" name="L1216"></a>1216                     bidiflag = <a href="../S/2485.html#L61" title="Defined at 61 in src/java/text/Bidi.java.">Bidi</a>.DIRECTION_LEFT_TO_RIGHT;
<a id="L1217" name="L1217"></a>1217                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1218" name="L1218"></a>1218                     bidiflag = <a href="../S/2485.html#L61" title="Defined at 61 in src/java/text/Bidi.java.">Bidi</a>.DIRECTION_RIGHT_TO_LEFT;
<a id="L1219" name="L1219"></a>1219                 <em class="brace">}</em>
<a id="L1220" name="L1220"></a>1220             <em class="brace">}</em>
<a id="L1221" name="L1221"></a>1221             bidiAnalyzer = <strong class="reserved">new</strong> <a href="../S/2485.html#L61" title="Defined at 61 in src/java/text/Bidi.java.">Bidi</a>(seg.<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">null</strong>, 0, seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>,
<a id="L1222" name="L1222"></a>1222                     bidiflag);
<a id="L1223" name="L1223"></a>1223             BidiUtils.getLevels(bidiAnalyzer, levels, levelsEnd);
<a id="L1224" name="L1224"></a>1224             levelsEnd += bidiAnalyzer.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L1225" name="L1225"></a>1225 
<a id="L1226" name="L1226"></a>1226             <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> =  p.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1227" name="L1227"></a>1227             <a href="../S/3326.html#L42" title="Defined at 42 in src/javax/swing/text/SegmentCache.java.">SegmentCache</a>.<a href="../S/3326.html#L73" title="Defined at 73 in src/javax/swing/text/SegmentCache.java.">releaseSharedSegment</a>(seg);
<a id="L1228" name="L1228"></a>1228         <em class="brace">}</em>
<a id="L1229" name="L1229"></a>1229 
<a id="L1230" name="L1230"></a>1230         <em class="comment">// REMIND(bcb) remove this code when debugging is done.</em>
<a id="L1231" name="L1231"></a>1231         <strong class="reserved">if</strong>( levelsEnd != levels.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> )
<a id="L1232" name="L1232"></a>1232             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("levelsEnd assertion failed.");
<a id="L1233" name="L1233"></a>1233 
<a id="L1234" name="L1234"></a>1234         <strong class="reserved">return</strong> levels;
<a id="L1235" name="L1235"></a>1235     <em class="brace">}</em>
<a id="L1236" name="L1236"></a>1236 
<div class="comment">
      Gives a diagnostic dump.
      @param out the output stream</div>
<a id="L1242" name="L1242"></a>1242     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13596.html" title="Multiple referred from 51 places.">dump</a>(<a href="../S/1370.html#L57" title="Defined at 57 in src/java/io/PrintStream.java.">PrintStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <em class="brace">{</em>
<a id="L1243" name="L1243"></a>1243         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> = <a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L1244" name="L1244"></a>1244         <strong class="reserved">if</strong> (<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>) <em class="brace">{</em>
<a id="L1245" name="L1245"></a>1245             ((<a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>)<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>).<a href="../D/15245.html" title="Multiple defined in 64 places.">dump</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, 0);
<a id="L1246" name="L1246"></a>1246         <em class="brace">}</em>
<a id="L1247" name="L1247"></a>1247         bidiRoot.<a href="../D/15245.html" title="Multiple defined in 64 places.">dump</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>,0);
<a id="L1248" name="L1248"></a>1248     <em class="brace">}</em>
<a id="L1249" name="L1249"></a>1249 
<div class="comment">
      Gets the content for the document.
      @return the content</div>
<a id="L1255" name="L1255"></a>1255     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/3268.html#L1586" title="Defined at 1586 in src/javax/swing/text/AbstractDocument.java.">Content</a> <a href="../R/15781.html" title="Multiple referred from 28 places.">getContent</a>() <em class="brace">{</em>
<a id="L1256" name="L1256"></a>1256         <strong class="reserved">return</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L1257" name="L1257"></a>1257     <em class="brace">}</em>
<a id="L1258" name="L1258"></a>1258 
<div class="comment">
      Creates a document leaf element.
      Hook through which elements are created to represent the
      document structure.  Because this implementation keeps
      structure and content separate, elements grow automatically
      when content is extended so splits of existing elements
      follow.  The document itself gets to decide how to generate
      elements to give flexibility in the type of elements used.
      @param parent the parent element
      @param a the attributes for the element
      @param p0 the beginning of the range &gt;= 0
      @param p1 the end of the range &gt;= p0
      @return the new element</div>
<a id="L1274" name="L1274"></a>1274     <strong class="reserved">protected</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12529.html" title="Multiple referred from 35 places.">createLeafElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1) <em class="brace">{</em>
<a id="L1275" name="L1275"></a>1275         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3268.html#L2489" title="Defined at 2489 in src/javax/swing/text/AbstractDocument.java.">LeafElement</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, p0, p1);
<a id="L1276" name="L1276"></a>1276     <em class="brace">}</em>
<a id="L1277" name="L1277"></a>1277 
<div class="comment">
      Creates a document branch element, that can contain other elements.
      @param parent the parent element
      @param a the attributes
      @return the element</div>
<a id="L1285" name="L1285"></a>1285     <strong class="reserved">protected</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12235.html" title="Multiple referred from 9 places.">createBranchElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1286" name="L1286"></a>1286         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1287" name="L1287"></a>1287     <em class="brace">}</em>
<a id="L1288" name="L1288"></a>1288 
<a id="L1289" name="L1289"></a>1289     <em class="comment">// --- Document locking ----------------------------------</em>
<a id="L1290" name="L1290"></a>1290 
<div class="comment">
      Fetches the current writing thread if there is one.
      This can be used to distinguish whether a method is
      being called as part of an existing modification or
      if a lock needs to be acquired and a new transaction
      started.
      @return the thread actively modifying the document
       or <code>null</code> if there are no modifications in progress</div>
<a id="L1301" name="L1301"></a>1301     <strong class="reserved">protected</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">final</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> <a href="../S/3268.html#L2048" title="Referred from 2048 in src/javax/swing/text/AbstractDocument.java.">getCurrentWriter</a>() <em class="brace">{</em>
<a id="L1302" name="L1302"></a>1302         <strong class="reserved">return</strong> currWriter;
<a id="L1303" name="L1303"></a>1303     <em class="brace">}</em>
<a id="L1304" name="L1304"></a>1304 
<div class="comment">
      Acquires a lock to begin mutating the document this lock
      protects.  There can be no writing, notification of changes, or
      reading going on in order to gain the lock.  Additionally a thread is
      allowed to gain more than one <code>writeLock</code>,
      as long as it doesn't attempt to gain additional <code>writeLock</code>s
      from within document notification.  Attempting to gain a
      <code>writeLock</code> from within a DocumentListener notification will
      result in an <code>IllegalStateException</code>.  The ability
      to obtain more than one <code>writeLock</code> per thread allows
      subclasses to gain a writeLock, perform a number of operations, then
      release the lock.
      <p>
      Calls to <code>writeLock</code>
      must be balanced with calls to <code>writeUnlock</code>, else the
      <code>Document</code> will be left in a locked state so that no
      reading or writing can be done.
      @exception IllegalStateException thrown on illegal lock
       attempt.  If the document is implemented properly, this can
       only happen if a document listener attempts to mutate the
       document.  This situation violates the bean event model
       where order of delivery is not guaranteed and all listeners
       should be notified before further mutations are allowed.</p></div>
<a id="L1330" name="L1330"></a>1330     <strong class="reserved">protected</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30659.html" title="Multiple referred from 42 places.">writeLock</a>() <em class="brace">{</em>
<a id="L1331" name="L1331"></a>1331         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1332" name="L1332"></a>1332             <strong class="reserved">while</strong> ((numReaders &gt; 0) || (currWriter != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1333" name="L1333"></a>1333                 <strong class="reserved">if</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() == currWriter) <em class="brace">{</em>
<a id="L1334" name="L1334"></a>1334                     <strong class="reserved">if</strong> (notifyingListeners) <em class="brace">{</em>
<a id="L1335" name="L1335"></a>1335                         <em class="comment">// Assuming one doesn't do something wrong in a</em>
<a id="L1336" name="L1336"></a>1336                         <em class="comment">// subclass this should only happen if a</em>
<a id="L1337" name="L1337"></a>1337                         <em class="comment">// DocumentListener tries to mutate the document.</em>
<a id="L1338" name="L1338"></a>1338                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(
<a id="L1339" name="L1339"></a>1339                                       "Attempt to mutate in notification");
<a id="L1340" name="L1340"></a>1340                     <em class="brace">}</em>
<a id="L1341" name="L1341"></a>1341                     numWriters++;
<a id="L1342" name="L1342"></a>1342                     <strong class="reserved">return</strong>;
<a id="L1343" name="L1343"></a>1343                 <em class="brace">}</em>
<a id="L1344" name="L1344"></a>1344                 <a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>();
<a id="L1345" name="L1345"></a>1345             <em class="brace">}</em>
<a id="L1346" name="L1346"></a>1346             currWriter = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>();
<a id="L1347" name="L1347"></a>1347             numWriters = 1;
<a id="L1348" name="L1348"></a>1348         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> e) <em class="brace">{</em>
<a id="L1349" name="L1349"></a>1349             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Interrupted attempt to acquire write lock");
<a id="L1350" name="L1350"></a>1350         <em class="brace">}</em>
<a id="L1351" name="L1351"></a>1351     <em class="brace">}</em>
<a id="L1352" name="L1352"></a>1352 
<div class="comment">
      Releases a write lock previously obtained via <code>writeLock</code>.
      After decrementing the lock count if there are no outstanding locks
      this will allow a new writer, or readers.
      @see #writeLock</div>
<a id="L1360" name="L1360"></a>1360     <strong class="reserved">protected</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30749.html" title="Multiple referred from 28 places.">writeUnlock</a>() <em class="brace">{</em>
<a id="L1361" name="L1361"></a>1361         <strong class="reserved">if</strong> (--numWriters &lt;= 0) <em class="brace">{</em>
<a id="L1362" name="L1362"></a>1362             numWriters = 0;
<a id="L1363" name="L1363"></a>1363             currWriter = <strong class="reserved">null</strong>;
<a id="L1364" name="L1364"></a>1364             <a href="../S/1724.html#L295" title="Defined at 295 in src/java/lang/Object.java.">notifyAll</a>();
<a id="L1365" name="L1365"></a>1365         <em class="brace">}</em>
<a id="L1366" name="L1366"></a>1366     <em class="brace">}</em>
<a id="L1367" name="L1367"></a>1367 
<div class="comment">
      Acquires a lock to begin reading some state from the
      document.  There can be multiple readers at the same time.
      Writing blocks the readers until notification of the change
      to the listeners has been completed.  This method should
      be used very carefully to avoid unintended compromise
      of the document.  It should always be balanced with a
      <code>readUnlock</code>.
      @see #readUnlock</div>
<a id="L1379" name="L1379"></a>1379     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25503.html" title="Multiple referred from 51 places.">readLock</a>() <em class="brace">{</em>
<a id="L1380" name="L1380"></a>1380         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1381" name="L1381"></a>1381             <strong class="reserved">while</strong> (currWriter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1382" name="L1382"></a>1382                 <strong class="reserved">if</strong> (currWriter == <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <em class="brace">{</em>
<a id="L1383" name="L1383"></a>1383                     <em class="comment">// writer has full read access.... may try to acquire</em>
<a id="L1384" name="L1384"></a>1384                     <em class="comment">// lock in notification</em>
<a id="L1385" name="L1385"></a>1385                     <strong class="reserved">return</strong>;
<a id="L1386" name="L1386"></a>1386                 <em class="brace">}</em>
<a id="L1387" name="L1387"></a>1387                 <a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>();
<a id="L1388" name="L1388"></a>1388             <em class="brace">}</em>
<a id="L1389" name="L1389"></a>1389             numReaders += 1;
<a id="L1390" name="L1390"></a>1390         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> e) <em class="brace">{</em>
<a id="L1391" name="L1391"></a>1391             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Interrupted attempt to acquire read lock");
<a id="L1392" name="L1392"></a>1392         <em class="brace">}</em>
<a id="L1393" name="L1393"></a>1393     <em class="brace">}</em>
<a id="L1394" name="L1394"></a>1394 
<div class="comment">
      Does a read unlock.  This signals that one
      of the readers is done.  If there are no more readers
      then writing can begin again.  This should be balanced
      with a readLock, and should occur in a finally statement
      so that the balance is guaranteed.  The following is an
      example.
      <pre><code>
      &nbsp;   readLock();
      &nbsp;   try {
      &nbsp;       // do something
      &nbsp;   } finally {
      &nbsp;       readUnlock();
      &nbsp;   }
      </code></pre>
      @see #readLock</div>
<a id="L1413" name="L1413"></a>1413     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25566.html" title="Multiple referred from 29 places.">readUnlock</a>() <em class="brace">{</em>
<a id="L1414" name="L1414"></a>1414         <strong class="reserved">if</strong> (currWriter == <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()) <em class="brace">{</em>
<a id="L1415" name="L1415"></a>1415             <em class="comment">// writer has full read access.... may try to acquire</em>
<a id="L1416" name="L1416"></a>1416             <em class="comment">// lock in notification</em>
<a id="L1417" name="L1417"></a>1417             <strong class="reserved">return</strong>;
<a id="L1418" name="L1418"></a>1418         <em class="brace">}</em>
<a id="L1419" name="L1419"></a>1419         <strong class="reserved">if</strong> (numReaders &lt;= 0) <em class="brace">{</em>
<a id="L1420" name="L1420"></a>1420             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3266.html#L34" title="Defined at 34 in src/javax/swing/text/StateInvariantError.java.">StateInvariantError</a>(BAD_LOCK_STATE);
<a id="L1421" name="L1421"></a>1421         <em class="brace">}</em>
<a id="L1422" name="L1422"></a>1422         numReaders -= 1;
<a id="L1423" name="L1423"></a>1423         <a href="../D/28321.html" title="Multiple defined in 5 places.">notify</a>();
<a id="L1424" name="L1424"></a>1424     <em class="brace">}</em>
<a id="L1425" name="L1425"></a>1425 
<a id="L1426" name="L1426"></a>1426     <em class="comment">// --- serialization ---------------------------------------------</em>
<a id="L1427" name="L1427"></a>1427 
<a id="L1428" name="L1428"></a>1428     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L1429" name="L1429"></a>1429       <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1430" name="L1430"></a>1430     <em class="brace">{</em>
<a id="L1431" name="L1431"></a>1431         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L1432" name="L1432"></a>1432         listenerList = <strong class="reserved">new</strong> <a href="../S/3406.html#L101" title="Defined at 101 in src/javax/swing/event/EventListenerList.java.">EventListenerList</a>();
<a id="L1433" name="L1433"></a>1433 
<a id="L1434" name="L1434"></a>1434         <em class="comment">// Restore bidi structure</em>
<a id="L1435" name="L1435"></a>1435         <em class="comment">//REMIND(bcb) This creates an initial bidi element to account for</em>
<a id="L1436" name="L1436"></a>1436         <em class="comment">//the \n that exists by default in the content.</em>
<a id="L1437" name="L1437"></a>1437         bidiRoot = <strong class="reserved">new</strong> <a href="../S/3268.html#L2650" title="Defined at 2650 in src/javax/swing/text/AbstractDocument.java.">BidiRootElement</a>();
<a id="L1438" name="L1438"></a>1438         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1439" name="L1439"></a>1439             <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L1440" name="L1440"></a>1440             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] p = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[1];
<a id="L1441" name="L1441"></a>1441             p[0] = <strong class="reserved">new</strong> <a href="../S/3268.html#L2668" title="Defined at 2668 in src/javax/swing/text/AbstractDocument.java.">BidiElement</a>( bidiRoot, 0, 1, 0 );
<a id="L1442" name="L1442"></a>1442             bidiRoot.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0,0,p);
<a id="L1443" name="L1443"></a>1443         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1444" name="L1444"></a>1444             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L1445" name="L1445"></a>1445         <em class="brace">}</em>
<a id="L1446" name="L1446"></a>1446         <em class="comment">// At this point bidi root is only partially correct. To fully</em>
<a id="L1447" name="L1447"></a>1447         <em class="comment">// restore it we need access to getDefaultRootElement. But, this</em>
<a id="L1448" name="L1448"></a>1448         <em class="comment">// is created by the subclass and at this point will be null. We</em>
<a id="L1449" name="L1449"></a>1449         <em class="comment">// thus use registerValidation.</em>
<a id="L1450" name="L1450"></a>1450         s.<a href="../D/30605.html" title="Multiple defined in 2 places.">registerValidation</a>(<strong class="reserved">new</strong> <a href="../S/1373.html#L38" title="Defined at 38 in src/java/io/ObjectInputValidation.java.">ObjectInputValidation</a>() <em class="brace">{</em>
<a id="L1451" name="L1451"></a>1451             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/36340.html" title="Multiple defined in 2 places.">validateObject</a>() <em class="brace">{</em>
<a id="L1452" name="L1452"></a>1452                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1453" name="L1453"></a>1453                     <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L1454" name="L1454"></a>1454                     <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> e = <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>
<a id="L1455" name="L1455"></a>1455                                    (0, <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(),
<a id="L1456" name="L1456"></a>1456                                     <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT);
<a id="L1457" name="L1457"></a>1457                     <a href="../S/3268.html#L1024" title="Defined at 1024 in src/javax/swing/text/AbstractDocument.java.">updateBidi</a>( e );
<a id="L1458" name="L1458"></a>1458                 <em class="brace">}</em>
<a id="L1459" name="L1459"></a>1459                 <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1460" name="L1460"></a>1460                     <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L1461" name="L1461"></a>1461                 <em class="brace">}</em>
<a id="L1462" name="L1462"></a>1462             <em class="brace">}</em>
<a id="L1463" name="L1463"></a>1463         <em class="brace">}</em>, 0);
<a id="L1464" name="L1464"></a>1464     <em class="brace">}</em>
<a id="L1465" name="L1465"></a>1465 
<a id="L1466" name="L1466"></a>1466     <em class="comment">// ----- member variables ------------------------------------------</em>
<a id="L1467" name="L1467"></a>1467 
<a id="L1468" name="L1468"></a>1468     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> numReaders;
<a id="L1469" name="L1469"></a>1469     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> currWriter;
<div class="comment">
      The number of writers, all obtained from <code>currWriter</code>.</div>
<a id="L1473" name="L1473"></a>1473     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> numWriters;
<div class="comment">
      True will notifying listeners.</div>
<a id="L1477" name="L1477"></a>1477     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> notifyingListeners;
<a id="L1478" name="L1478"></a>1478 
<a id="L1479" name="L1479"></a>1479     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> defaultI18NProperty;
<a id="L1480" name="L1480"></a>1480 
<div class="comment">
      Storage for document-wide properties.</div>
<a id="L1484" name="L1484"></a>1484     <strong class="reserved">private</strong> <a href="../S/1131.html#L50" title="Defined at 50 in src/java/util/Dictionary.java.">Dictionary</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; documentProperties = <strong class="reserved">null</strong>;
<a id="L1485" name="L1485"></a>1485 
<div class="comment">
      The event listener list for the document.</div>
<a id="L1489" name="L1489"></a>1489     <strong class="reserved">protected</strong> <a href="../S/3406.html#L101" title="Defined at 101 in src/javax/swing/event/EventListenerList.java.">EventListenerList</a> listenerList = <strong class="reserved">new</strong> <a href="../S/3406.html#L101" title="Defined at 101 in src/javax/swing/event/EventListenerList.java.">EventListenerList</a>();
<a id="L1490" name="L1490"></a>1490 
<div class="comment">
      Where the text is actually stored, and a set of marks
      that track change as the document is edited are managed.</div>
<a id="L1495" name="L1495"></a>1495     <strong class="reserved">private</strong> <a href="../S/3268.html#L1586" title="Defined at 1586 in src/javax/swing/text/AbstractDocument.java.">Content</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L1496" name="L1496"></a>1496 
<div class="comment">
      Factory for the attributes.  This is the strategy for
      attribute compression and control of the lifetime of
      a set of attributes as a collection.  This may be shared
      with other documents.</div>
<a id="L1503" name="L1503"></a>1503     <strong class="reserved">private</strong> <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1504" name="L1504"></a>1504 
<div class="comment">
      The root of the bidirectional structure for this document.  Its children
      represent character runs with the same Unicode bidi level.</div>
<a id="L1509" name="L1509"></a>1509     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a> bidiRoot;
<a id="L1510" name="L1510"></a>1510 
<div class="comment">
      Filter for inserting/removing of text.</div>
<a id="L1514" name="L1514"></a>1514     <strong class="reserved">private</strong> <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a> documentFilter;
<a id="L1515" name="L1515"></a>1515 
<div class="comment">
      Used by DocumentFilter to do actual insert/remove.</div>
<a id="L1519" name="L1519"></a>1519     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a>.<a href="../D/3245.html" title="Multiple defined in 2 places.">FilterBypass</a> filterBypass;
<a id="L1520" name="L1520"></a>1520 
<a id="L1521" name="L1521"></a>1521     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BAD_LOCK_STATE = "document lock failure";
<a id="L1522" name="L1522"></a>1522 
<div class="comment">
      Error message to indicate a bad location.</div>
<a id="L1526" name="L1526"></a>1526     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BAD_LOCATION = "document location failure";
<a id="L1527" name="L1527"></a>1527 
<div class="comment">
      Name of elements used to represent paragraphs</div>
<a id="L1531" name="L1531"></a>1531     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ParagraphElementName = "paragraph";
<a id="L1532" name="L1532"></a>1532 
<div class="comment">
      Name of elements used to represent content</div>
<a id="L1536" name="L1536"></a>1536     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ContentElementName = "content";
<a id="L1537" name="L1537"></a>1537 
<div class="comment">
      Name of elements used to hold sections (lines/paragraphs).</div>
<a id="L1541" name="L1541"></a>1541     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SectionElementName = "section";
<a id="L1542" name="L1542"></a>1542 
<div class="comment">
      Name of elements used to hold a unidirectional run</div>
<a id="L1546" name="L1546"></a>1546     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BidiElementName = "bidi level";
<a id="L1547" name="L1547"></a>1547 
<div class="comment">
      Name of the attribute used to specify element
      names.</div>
<a id="L1552" name="L1552"></a>1552     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ElementNameAttribute = "$ename";
<a id="L1553" name="L1553"></a>1553 
<div class="comment">
      Document property that indicates whether internationalization
      functions such as text reordering or reshaping should be
      performed. This property should not be publicly exposed,
      since it is used for implementation convenience only.  As a
      side effect, copies of this property may be in its subclasses
      that live in different packages (e.g. HTMLDocument as of now),
      so those copies should also be taken care of when this property
      needs to be modified.</div>
<a id="L1564" name="L1564"></a>1564     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> I18NProperty = "i18n";
<a id="L1565" name="L1565"></a>1565 
<div class="comment">
      Document property that indicates if a character has been inserted
      into the document that is more than one byte long.  GlyphView uses
      this to determine if it should use BreakIterator.</div>
<a id="L1571" name="L1571"></a>1571     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> MultiByteProperty = "multiByte";
<a id="L1572" name="L1572"></a>1572 
<div class="comment">
      Document property that indicates asynchronous loading is
      desired, with the thread priority given as the value.</div>
<a id="L1577" name="L1577"></a>1577     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AsyncLoadPriority = "load priority";
<a id="L1578" name="L1578"></a>1578 
<div class="comment">
      Interface to describe a sequence of character content that
      can be edited.  Implementations may or may not support a
      history mechanism which will be reflected by whether or not
      mutations return an UndoableEdit implementation.
      @see AbstractDocument</div>
<a id="L1586" name="L1586"></a>1586     <strong class="reserved">public</strong> <strong class="reserved">interface</strong> <a href="../R/1701.html" title="Multiple referred from 13 places.">Content</a> <em class="brace">{</em>
<a id="L1587" name="L1587"></a>1587 
<div class="comment">
          Creates a position within the content that will
          track change as the content is mutated.
          @param offset the offset in the content &gt;= 0
          @return a Position
          @exception BadLocationException for an invalid offset</div>
<a id="L1596" name="L1596"></a>1596         <strong class="reserved">public</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> <a href="../R/12631.html" title="Multiple referred from 26 places.">createPosition</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>;
<a id="L1597" name="L1597"></a>1597 
<div class="comment">
          Current length of the sequence of character content.
          @return the length &gt;= 0</div>
<a id="L1603" name="L1603"></a>1603         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/22477.html" title="Multiple referred from 12963 places.">length</a>();
<a id="L1604" name="L1604"></a>1604 
<div class="comment">
          Inserts a string of characters into the sequence.
          @param where   offset into the sequence to make the insertion &gt;= 0
          @param str     string to insert
          @return  if the implementation supports a history mechanism,
             a reference to an <code>Edit</code> implementation will be returned,
             otherwise returns <code>null</code>
          @exception BadLocationException  thrown if the area covered by
            the arguments is not contained in the character sequence</div>
<a id="L1616" name="L1616"></a>1616         <strong class="reserved">public</strong> <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../R/20792.html" title="Multiple referred from 41 places.">insertString</a>(<strong class="reserved">int</strong> where, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>;
<a id="L1617" name="L1617"></a>1617 
<div class="comment">
          Removes some portion of the sequence.
          @param where   The offset into the sequence to make the
            insertion &gt;= 0.
          @param nitems  The number of items in the sequence to remove &gt;= 0.
          @return  If the implementation supports a history mechanism,
             a reference to an Edit implementation will be returned,
             otherwise null.
          @exception BadLocationException  Thrown if the area covered by
            the arguments is not contained in the character sequence.</div>
<a id="L1630" name="L1630"></a>1630         <strong class="reserved">public</strong> <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<strong class="reserved">int</strong> where, <strong class="reserved">int</strong> nitems) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>;
<a id="L1631" name="L1631"></a>1631 
<div class="comment">
          Fetches a string of characters contained in the sequence.
          @param where   Offset into the sequence to fetch &gt;= 0.
          @param len     number of characters to copy &gt;= 0.
          @return the string
          @exception BadLocationException  Thrown if the area covered by
            the arguments is not contained in the character sequence.</div>
<a id="L1641" name="L1641"></a>1641         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19208.html" title="Multiple referred from 527 places.">getString</a>(<strong class="reserved">int</strong> where, <strong class="reserved">int</strong> len) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>;
<a id="L1642" name="L1642"></a>1642 
<div class="comment">
          Gets a sequence of characters and copies them into a Segment.
          @param where the starting offset &gt;= 0
          @param len the number of characters &gt;= 0
          @param txt the target location to copy into
          @exception BadLocationException  Thrown if the area covered by
            the arguments is not contained in the character sequence.</div>
<a id="L1652" name="L1652"></a>1652         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/15533.html" title="Multiple referred from 94 places.">getChars</a>(<strong class="reserved">int</strong> where, <strong class="reserved">int</strong> len, <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> txt) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>;
<a id="L1653" name="L1653"></a>1653     <em class="brace">}</em>
<a id="L1654" name="L1654"></a>1654 
<div class="comment">
      An interface that can be used to allow MutableAttributeSet
      implementations to use pluggable attribute compression
      techniques.  Each mutation of the attribute set can be
      used to exchange a previous AttributeSet instance with
      another, preserving the possibility of the AttributeSet
      remaining immutable.  An implementation is provided by
      the StyleContext class.
      The Element implementations provided by this class use
      this interface to provide their MutableAttributeSet
      implementations, so that different AttributeSet compression
      techniques can be employed.  The method
      <code>getAttributeContext</code> should be implemented to
      return the object responsible for implementing the desired
      compression technique.
      @see StyleContext</div>
<a id="L1674" name="L1674"></a>1674     <strong class="reserved">public</strong> <strong class="reserved">interface</strong> <a href="../R/522.html" title="Multiple referred from 11 places.">AttributeContext</a> <em class="brace">{</em>
<a id="L1675" name="L1675"></a>1675 
<div class="comment">
          Adds an attribute to the given set, and returns
          the new representative set.
          @param old the old attribute set
          @param name the non-null attribute name
          @param value the attribute value
          @return the updated attribute set
          @see MutableAttributeSet#addAttribute</div>
<a id="L1686" name="L1686"></a>1686         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/9616.html" title="Multiple referred from 451 places.">addAttribute</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> old, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1687" name="L1687"></a>1687 
<div class="comment">
          Adds a set of attributes to the element.
          @param old the old attribute set
          @param attr the attributes to add
          @return the updated attribute set
          @see MutableAttributeSet#addAttribute</div>
<a id="L1696" name="L1696"></a>1696         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/9624.html" title="Multiple referred from 47 places.">addAttributes</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> old, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L1697" name="L1697"></a>1697 
<div class="comment">
          Removes an attribute from the set.
          @param old the old attribute set
          @param name the non-null attribute name
          @return the updated attribute set
          @see MutableAttributeSet#removeAttribute</div>
<a id="L1706" name="L1706"></a>1706         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/25905.html" title="Multiple referred from 75 places.">removeAttribute</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> old, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1707" name="L1707"></a>1707 
<div class="comment">
          Removes a set of attributes for the element.
          @param old the old attribute set
          @param names the attribute names
          @return the updated attribute set
          @see MutableAttributeSet#removeAttributes</div>
<a id="L1716" name="L1716"></a>1716         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/25910.html" title="Multiple referred from 40 places.">removeAttributes</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> old, <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;?&gt; names);
<a id="L1717" name="L1717"></a>1717 
<div class="comment">
          Removes a set of attributes for the element.
          @param old the old attribute set
          @param attrs the attributes
          @return the updated attribute set
          @see MutableAttributeSet#removeAttributes</div>
<a id="L1726" name="L1726"></a>1726         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/25910.html" title="Multiple referred from 40 places.">removeAttributes</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> old, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs);
<a id="L1727" name="L1727"></a>1727 
<div class="comment">
          Fetches an empty AttributeSet.
          @return the attribute set</div>
<a id="L1733" name="L1733"></a>1733         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/16344.html" title="Multiple referred from 5 places.">getEmptySet</a>();
<a id="L1734" name="L1734"></a>1734 
<div class="comment">
          Reclaims an attribute set.
          This is a way for a MutableAttributeSet to mark that it no
          longer need a particular immutable set.  This is only necessary
          in 1.1 where there are no weak references.  A 1.1 implementation
          would call this in its finalize method.
          @param a the attribute set to reclaim</div>
<a id="L1744" name="L1744"></a>1744         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25653.html" title="Multiple referred from 7 places.">reclaim</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1745" name="L1745"></a>1745     <em class="brace">}</em>
<a id="L1746" name="L1746"></a>1746 
<div class="comment">
      Implements the abstract part of an element.  By default elements
      support attributes by having a field that represents the immutable
      part of the current attribute set for the element.  The element itself
      implements MutableAttributeSet which can be used to modify the set
      by fetching a new immutable set.  The immutable sets are provided
      by the AttributeContext associated with the document.
      <p>
      <strong>Warning:</strong>
      Serialized objects of this class will not be compatible with
      future Swing releases. The current serialization support is
      appropriate for short term storage or RMI between applications running
      the same version of Swing.  As of 1.4, support for long term storage
      of all JavaBeans™
      has been added to the <code>java.beans</code> package.
      Please see {@link java.beans.XMLEncoder}.</p></div>
<a id="L1764" name="L1764"></a>1764     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/81.html" title="Multiple referred from 18 places.">AbstractElement</a> <strong class="reserved">implements</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>, <a href="../D/9145.html" title="Multiple defined in 4 places.">TreeNode</a> <em class="brace">{</em>
<a id="L1765" name="L1765"></a>1765 
<div class="comment">
          Creates a new AbstractElement.
          @param parent the parent element
          @param a the attributes for the element
          @since 1.4</div>
<a id="L1773" name="L1773"></a>1773         <strong class="reserved">public</strong> AbstractElement(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1774" name="L1774"></a>1774             <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1775" name="L1775"></a>1775             <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>().<a href="../D/18722.html" title="Multiple defined in 2 places.">getEmptySet</a>();
<a id="L1776" name="L1776"></a>1776             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1777" name="L1777"></a>1777                 <a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1778" name="L1778"></a>1778             <em class="brace">}</em>
<a id="L1779" name="L1779"></a>1779         <em class="brace">}</em>
<a id="L1780" name="L1780"></a>1780 
<a id="L1781" name="L1781"></a>1781         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/20502.html" title="Multiple referred from 201 places.">indent</a>(<a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, <strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L1782" name="L1782"></a>1782             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1783" name="L1783"></a>1783                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>("  ");
<a id="L1784" name="L1784"></a>1784             <em class="brace">}</em>
<a id="L1785" name="L1785"></a>1785         <em class="brace">}</em>
<a id="L1786" name="L1786"></a>1786 
<div class="comment">
          Dumps a debugging representation of the element hierarchy.
          @param psOut the output stream
          @param indentAmount the indentation level &gt;= 0</div>
<a id="L1793" name="L1793"></a>1793         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13596.html" title="Multiple referred from 51 places.">dump</a>(<a href="../S/1370.html#L57" title="Defined at 57 in src/java/io/PrintStream.java.">PrintStream</a> psOut, <strong class="reserved">int</strong> indentAmount) <em class="brace">{</em>
<a id="L1794" name="L1794"></a>1794             <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>;
<a id="L1795" name="L1795"></a>1795             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1796" name="L1796"></a>1796                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = <strong class="reserved">new</strong> <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a>(<strong class="reserved">new</strong> <a href="../S/1388.html#L77" title="Defined at 77 in src/java/io/OutputStreamWriter.java.">OutputStreamWriter</a>(psOut,"JavaEsc"),
<a id="L1797" name="L1797"></a>1797                                       <strong class="reserved">true</strong>);
<a id="L1798" name="L1798"></a>1798             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1372.html#L33" title="Defined at 33 in src/java/io/UnsupportedEncodingException.java.">UnsupportedEncodingException</a> e)<em class="brace">{</em>
<a id="L1799" name="L1799"></a>1799                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = <strong class="reserved">new</strong> <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a>(psOut,<strong class="reserved">true</strong>);
<a id="L1800" name="L1800"></a>1800             <em class="brace">}</em>
<a id="L1801" name="L1801"></a>1801             <a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, indentAmount);
<a id="L1802" name="L1802"></a>1802             <strong class="reserved">if</strong> (<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1803" name="L1803"></a>1803                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>("&lt;??");
<a id="L1804" name="L1804"></a>1804             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1805" name="L1805"></a>1805                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>("&lt;" + <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L1806" name="L1806"></a>1806             <em class="brace">}</em>
<a id="L1807" name="L1807"></a>1807             <strong class="reserved">if</strong> (<a href="../D/17069.html" title="Multiple defined in 12 places.">getAttributeCount</a>() &gt; 0) <em class="brace">{</em>
<a id="L1808" name="L1808"></a>1808                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("");
<a id="L1809" name="L1809"></a>1809                 <em class="comment">// dump the attributes</em>
<a id="L1810" name="L1810"></a>1810                 <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> names = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17092.html" title="Multiple defined in 12 places.">getAttributeNames</a>();
<a id="L1811" name="L1811"></a>1811                 <strong class="reserved">while</strong> (names.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L1812" name="L1812"></a>1812                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = names.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L1813" name="L1813"></a>1813                     <a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, indentAmount + 1);
<a id="L1814" name="L1814"></a>1814                     <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + "=" + <a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>));
<a id="L1815" name="L1815"></a>1815                 <em class="brace">}</em>
<a id="L1816" name="L1816"></a>1816                 <a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, indentAmount);
<a id="L1817" name="L1817"></a>1817             <em class="brace">}</em>
<a id="L1818" name="L1818"></a>1818             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("&gt;");
<a id="L1819" name="L1819"></a>1819 
<a id="L1820" name="L1820"></a>1820             <strong class="reserved">if</strong> (<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L1821" name="L1821"></a>1821                 <a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, indentAmount+1);
<a id="L1822" name="L1822"></a>1822                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>("[" + <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() + "," + <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() + "]");
<a id="L1823" name="L1823"></a>1823                 <a href="../S/3268.html#L1586" title="Defined at 1586 in src/javax/swing/text/AbstractDocument.java.">Content</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/17951.html" title="Multiple defined in 22 places.">getContent</a>();
<a id="L1824" name="L1824"></a>1824                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1825" name="L1825"></a>1825                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> contentStr = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>(<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L1826" name="L1826"></a>1826                                                     <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - <div class="comment">
/*.trim()*/</div>;
<a id="L1827" name="L1827"></a>1827                     <strong class="reserved">if</strong> (contentStr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 40) <em class="brace">{</em>
<a id="L1828" name="L1828"></a>1828                         contentStr = contentStr.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, 40) + "...";
<a id="L1829" name="L1829"></a>1829                     <em class="brace">}</em>
<a id="L1830" name="L1830"></a>1830                     <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("["+contentStr+"]");
<a id="L1831" name="L1831"></a>1831                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1832" name="L1832"></a>1832                 <em class="brace">}</em>
<a id="L1833" name="L1833"></a>1833 
<a id="L1834" name="L1834"></a>1834             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1835" name="L1835"></a>1835                 <strong class="reserved">int</strong> n = <a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L1836" name="L1836"></a>1836                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1837" name="L1837"></a>1837                     <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a> e = (<a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>) <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(i);
<a id="L1838" name="L1838"></a>1838                     e.<a href="../D/15245.html" title="Multiple defined in 64 places.">dump</a>(psOut, indentAmount+1);
<a id="L1839" name="L1839"></a>1839                 <em class="brace">}</em>
<a id="L1840" name="L1840"></a>1840             <em class="brace">}</em>
<a id="L1841" name="L1841"></a>1841         <em class="brace">}</em>
<a id="L1842" name="L1842"></a>1842 
<a id="L1843" name="L1843"></a>1843         <em class="comment">// --- AttributeSet ----------------------------</em>
<a id="L1844" name="L1844"></a>1844         <em class="comment">// delegated to the immutable field "attributes"</em>
<a id="L1845" name="L1845"></a>1845 
<div class="comment">
          Gets the number of attributes that are defined.
          @return the number of attributes &gt;= 0
          @see AttributeSet#getAttributeCount</div>
<a id="L1852" name="L1852"></a>1852         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15140.html" title="Multiple referred from 25 places.">getAttributeCount</a>() <em class="brace">{</em>
<a id="L1853" name="L1853"></a>1853             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17069.html" title="Multiple defined in 12 places.">getAttributeCount</a>();
<a id="L1854" name="L1854"></a>1854         <em class="brace">}</em>
<a id="L1855" name="L1855"></a>1855 
<div class="comment">
          Checks whether a given attribute is defined.
          @param attrName the non-null attribute name
          @return true if the attribute is defined
          @see AttributeSet#isDefined</div>
<a id="L1863" name="L1863"></a>1863         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21338.html" title="Multiple referred from 55 places.">isDefined</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> attrName) <em class="brace">{</em>
<a id="L1864" name="L1864"></a>1864             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(attrName);
<a id="L1865" name="L1865"></a>1865         <em class="brace">}</em>
<a id="L1866" name="L1866"></a>1866 
<div class="comment">
          Checks whether two attribute sets are equal.
          @param attr the attribute set to check against
          @return true if the same
          @see AttributeSet#isEqual</div>
<a id="L1874" name="L1874"></a>1874         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21418.html" title="Multiple referred from 29 places.">isEqual</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L1875" name="L1875"></a>1875             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L1876" name="L1876"></a>1876         <em class="brace">}</em>
<a id="L1877" name="L1877"></a>1877 
<div class="comment">
          Copies a set of attributes.
          @return the copy
          @see AttributeSet#copyAttributes</div>
<a id="L1884" name="L1884"></a>1884         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/12095.html" title="Multiple referred from 27 places.">copyAttributes</a>() <em class="brace">{</em>
<a id="L1885" name="L1885"></a>1885             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>();
<a id="L1886" name="L1886"></a>1886         <em class="brace">}</em>
<a id="L1887" name="L1887"></a>1887 
<div class="comment">
          Gets the value of an attribute.
          @param attrName the non-null attribute name
          @return the attribute value
          @see AttributeSet#getAttribute</div>
<a id="L1895" name="L1895"></a>1895         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/15136.html" title="Multiple referred from 528 places.">getAttribute</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> attrName) <em class="brace">{</em>
<a id="L1896" name="L1896"></a>1896             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(attrName);
<a id="L1897" name="L1897"></a>1897             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1898" name="L1898"></a>1898                 <em class="comment">// The delegate nor it's resolvers had a match,</em>
<a id="L1899" name="L1899"></a>1899                 <em class="comment">// so we'll try to resolve through the parent</em>
<a id="L1900" name="L1900"></a>1900                 <em class="comment">// element.</em>
<a id="L1901" name="L1901"></a>1901                 <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) ? <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>() : <strong class="reserved">null</strong>;
<a id="L1902" name="L1902"></a>1902                 <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1903" name="L1903"></a>1903                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(attrName);
<a id="L1904" name="L1904"></a>1904                 <em class="brace">}</em>
<a id="L1905" name="L1905"></a>1905             <em class="brace">}</em>
<a id="L1906" name="L1906"></a>1906             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1907" name="L1907"></a>1907         <em class="brace">}</em>
<a id="L1908" name="L1908"></a>1908 
<div class="comment">
          Gets the names of all attributes.
          @return the attribute names as an enumeration
          @see AttributeSet#getAttributeNames</div>
<a id="L1915" name="L1915"></a>1915         <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;?&gt; <a href="../R/15152.html" title="Multiple referred from 34 places.">getAttributeNames</a>() <em class="brace">{</em>
<a id="L1916" name="L1916"></a>1916             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17092.html" title="Multiple defined in 12 places.">getAttributeNames</a>();
<a id="L1917" name="L1917"></a>1917         <em class="brace">}</em>
<a id="L1918" name="L1918"></a>1918 
<div class="comment">
          Checks whether a given attribute name/value is defined.
          @param name the non-null attribute name
          @param value the attribute value
          @return true if the name/value is defined
          @see AttributeSet#containsAttribute</div>
<a id="L1927" name="L1927"></a>1927         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11954.html" title="Multiple referred from 2 places.">containsAttribute</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L1928" name="L1928"></a>1928             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/13319.html" title="Multiple defined in 8 places.">containsAttribute</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1929" name="L1929"></a>1929         <em class="brace">}</em>
<a id="L1930" name="L1930"></a>1930 
<a id="L1931" name="L1931"></a>1931 
<div class="comment">
          Checks whether the element contains all the attributes.
          @param attrs the attributes to check
          @return true if the element contains all the attributes
          @see AttributeSet#containsAttributes</div>
<a id="L1939" name="L1939"></a>1939         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11955.html" title="Multiple referred from 6 places.">containsAttributes</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs) <em class="brace">{</em>
<a id="L1940" name="L1940"></a>1940             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/13320.html" title="Multiple defined in 8 places.">containsAttributes</a>(attrs);
<a id="L1941" name="L1941"></a>1941         <em class="brace">}</em>
<a id="L1942" name="L1942"></a>1942 
<div class="comment">
          Gets the resolving parent.
          If not overridden, the resolving parent defaults to
          the parent element.
          @return the attributes from the parent, <code>null</code> if none
          @see AttributeSet#getResolveParent</div>
<a id="L1951" name="L1951"></a>1951         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/18705.html" title="Multiple referred from 15 places.">getResolveParent</a>() <em class="brace">{</em>
<a id="L1952" name="L1952"></a>1952             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/22034.html" title="Multiple defined in 13 places.">getResolveParent</a>();
<a id="L1953" name="L1953"></a>1953             <strong class="reserved">if</strong> ((<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1954" name="L1954"></a>1954                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1955" name="L1955"></a>1955             <em class="brace">}</em>
<a id="L1956" name="L1956"></a>1956             <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L1957" name="L1957"></a>1957         <em class="brace">}</em>
<a id="L1958" name="L1958"></a>1958 
<a id="L1959" name="L1959"></a>1959         <em class="comment">// --- MutableAttributeSet ----------------------------------</em>
<a id="L1960" name="L1960"></a>1960         <em class="comment">// should fetch a new immutable record for the field</em>
<a id="L1961" name="L1961"></a>1961         <em class="comment">// "attributes".</em>
<a id="L1962" name="L1962"></a>1962 
<div class="comment">
          Adds an attribute to the element.
          @param name the non-null attribute name
          @param value the attribute value
          @see MutableAttributeSet#addAttribute</div>
<a id="L1970" name="L1970"></a>1970         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9616.html" title="Multiple referred from 451 places.">addAttribute</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L1971" name="L1971"></a>1971             <a href="../S/3268.html#L2047" title="Defined at 2047 in src/javax/swing/text/AbstractDocument.java.">checkForIllegalCast</a>();
<a id="L1972" name="L1972"></a>1972             <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L1973" name="L1973"></a>1973             <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1974" name="L1974"></a>1974         <em class="brace">}</em>
<a id="L1975" name="L1975"></a>1975 
<div class="comment">
          Adds a set of attributes to the element.
          @param attr the attributes to add
          @see MutableAttributeSet#addAttribute</div>
<a id="L1982" name="L1982"></a>1982         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9624.html" title="Multiple referred from 47 places.">addAttributes</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L1983" name="L1983"></a>1983             <a href="../S/3268.html#L2047" title="Defined at 2047 in src/javax/swing/text/AbstractDocument.java.">checkForIllegalCast</a>();
<a id="L1984" name="L1984"></a>1984             <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L1985" name="L1985"></a>1985             <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L1986" name="L1986"></a>1986         <em class="brace">}</em>
<a id="L1987" name="L1987"></a>1987 
<div class="comment">
          Removes an attribute from the set.
          @param name the non-null attribute name
          @see MutableAttributeSet#removeAttribute</div>
<a id="L1994" name="L1994"></a>1994         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25905.html" title="Multiple referred from 75 places.">removeAttribute</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1995" name="L1995"></a>1995             <a href="../S/3268.html#L2047" title="Defined at 2047 in src/javax/swing/text/AbstractDocument.java.">checkForIllegalCast</a>();
<a id="L1996" name="L1996"></a>1996             <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L1997" name="L1997"></a>1997             <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1998" name="L1998"></a>1998         <em class="brace">}</em>
<a id="L1999" name="L1999"></a>1999 
<div class="comment">
          Removes a set of attributes for the element.
          @param names the attribute names
          @see MutableAttributeSet#removeAttributes</div>
<a id="L2006" name="L2006"></a>2006         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25910.html" title="Multiple referred from 40 places.">removeAttributes</a>(<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;?&gt; names) <em class="brace">{</em>
<a id="L2007" name="L2007"></a>2007             <a href="../S/3268.html#L2047" title="Defined at 2047 in src/javax/swing/text/AbstractDocument.java.">checkForIllegalCast</a>();
<a id="L2008" name="L2008"></a>2008             <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L2009" name="L2009"></a>2009             <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/30716.html" title="Multiple defined in 21 places.">removeAttributes</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, names);
<a id="L2010" name="L2010"></a>2010         <em class="brace">}</em>
<a id="L2011" name="L2011"></a>2011 
<div class="comment">
          Removes a set of attributes for the element.
          @param attrs the attributes
          @see MutableAttributeSet#removeAttributes</div>
<a id="L2018" name="L2018"></a>2018         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25910.html" title="Multiple referred from 40 places.">removeAttributes</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs) <em class="brace">{</em>
<a id="L2019" name="L2019"></a>2019             <a href="../S/3268.html#L2047" title="Defined at 2047 in src/javax/swing/text/AbstractDocument.java.">checkForIllegalCast</a>();
<a id="L2020" name="L2020"></a>2020             <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L2021" name="L2021"></a>2021             <strong class="reserved">if</strong> (attrs == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L2022" name="L2022"></a>2022                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/18722.html" title="Multiple defined in 2 places.">getEmptySet</a>();
<a id="L2023" name="L2023"></a>2023             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2024" name="L2024"></a>2024                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/30716.html" title="Multiple defined in 21 places.">removeAttributes</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, attrs);
<a id="L2025" name="L2025"></a>2025             <em class="brace">}</em>
<a id="L2026" name="L2026"></a>2026         <em class="brace">}</em>
<a id="L2027" name="L2027"></a>2027 
<div class="comment">
          Sets the resolving parent.
          @param parent the parent, null if none
          @see MutableAttributeSet#setResolveParent</div>
<a id="L2034" name="L2034"></a>2034         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28036.html" title="Multiple referred from 9 places.">setResolveParent</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L2035" name="L2035"></a>2035             <a href="../S/3268.html#L2047" title="Defined at 2047 in src/javax/swing/text/AbstractDocument.java.">checkForIllegalCast</a>();
<a id="L2036" name="L2036"></a>2036             <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L2037" name="L2037"></a>2037             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2038" name="L2038"></a>2038                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> =
<a id="L2039" name="L2039"></a>2039                     <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ResolveAttribute,
<a id="L2040" name="L2040"></a>2040                                          <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L2041" name="L2041"></a>2041             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2042" name="L2042"></a>2042                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> =
<a id="L2043" name="L2043"></a>2043                     <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ResolveAttribute);
<a id="L2044" name="L2044"></a>2044             <em class="brace">}</em>
<a id="L2045" name="L2045"></a>2045         <em class="brace">}</em>
<a id="L2046" name="L2046"></a>2046 
<a id="L2047" name="L2047"></a>2047         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/11172.html" title="Multiple referred from 6 places.">checkForIllegalCast</a>() <em class="brace">{</em>
<a id="L2048" name="L2048"></a>2048             <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t = <a href="../S/3268.html#L1301" title="Defined at 1301 in src/javax/swing/text/AbstractDocument.java.">getCurrentWriter</a>();
<a id="L2049" name="L2049"></a>2049             <strong class="reserved">if</strong> ((t == <strong class="reserved">null</strong>) || (t != <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>())) <em class="brace">{</em>
<a id="L2050" name="L2050"></a>2050                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3266.html#L34" title="Defined at 34 in src/javax/swing/text/StateInvariantError.java.">StateInvariantError</a>("Illegal cast to MutableAttributeSet");
<a id="L2051" name="L2051"></a>2051             <em class="brace">}</em>
<a id="L2052" name="L2052"></a>2052         <em class="brace">}</em>
<a id="L2053" name="L2053"></a>2053 
<a id="L2054" name="L2054"></a>2054         <em class="comment">// --- Element methods -------------------------------------</em>
<a id="L2055" name="L2055"></a>2055 
<div class="comment">
          Retrieves the underlying model.
          @return the model</div>
<a id="L2061" name="L2061"></a>2061         <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L2062" name="L2062"></a>2062             <strong class="reserved">return</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<strong class="reserved">this</strong>;
<a id="L2063" name="L2063"></a>2063         <em class="brace">}</em>
<a id="L2064" name="L2064"></a>2064 
<div class="comment">
          Gets the parent of the element.
          @return the parent</div>
<a id="L2070" name="L2070"></a>2070         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/18274.html" title="Multiple referred from 42 places.">getParentElement</a>() <em class="brace">{</em>
<a id="L2071" name="L2071"></a>2071             <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L2072" name="L2072"></a>2072         <em class="brace">}</em>
<a id="L2073" name="L2073"></a>2073 
<div class="comment">
          Gets the attributes for the element.
          @return the attribute set</div>
<a id="L2079" name="L2079"></a>2079         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L2080" name="L2080"></a>2080             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2081" name="L2081"></a>2081         <em class="brace">}</em>
<a id="L2082" name="L2082"></a>2082 
<div class="comment">
          Gets the name of the element.
          @return the name, null if none</div>
<a id="L2088" name="L2088"></a>2088         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L2089" name="L2089"></a>2089             <strong class="reserved">if</strong> (<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(ElementNameAttribute)) <em class="brace">{</em>
<a id="L2090" name="L2090"></a>2090                 <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(ElementNameAttribute);
<a id="L2091" name="L2091"></a>2091             <em class="brace">}</em>
<a id="L2092" name="L2092"></a>2092             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2093" name="L2093"></a>2093         <em class="brace">}</em>
<a id="L2094" name="L2094"></a>2094 
<div class="comment">
          Gets the starting offset in the model for the element.
          @return the offset &gt;= 0</div>
<a id="L2100" name="L2100"></a>2100         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>();
<a id="L2101" name="L2101"></a>2101 
<div class="comment">
          Gets the ending offset in the model for the element.
          @return the offset &gt;= 0</div>
<a id="L2107" name="L2107"></a>2107         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>();
<a id="L2108" name="L2108"></a>2108 
<div class="comment">
          Gets a child element.
          @param index the child index, &gt;= 0 &amp;&amp; &lt; getElementCount()
          @return the child element</div>
<a id="L2115" name="L2115"></a>2115         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L2116" name="L2116"></a>2116 
<div class="comment">
          Gets the number of children for the element.
          @return the number of children &gt;= 0</div>
<a id="L2122" name="L2122"></a>2122         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/16316.html" title="Multiple referred from 66 places.">getElementCount</a>();
<a id="L2123" name="L2123"></a>2123 
<div class="comment">
          Gets the child element index closest to the given model offset.
          @param offset the offset &gt;= 0
          @return the element index &gt;= 0</div>
<a id="L2130" name="L2130"></a>2130         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/16323.html" title="Multiple referred from 72 places.">getElementIndex</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L2131" name="L2131"></a>2131 
<div class="comment">
          Checks whether the element is a leaf.
          @return true if a leaf</div>
<a id="L2137" name="L2137"></a>2137         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/21644.html" title="Multiple referred from 150 places.">isLeaf</a>();
<a id="L2138" name="L2138"></a>2138 
<a id="L2139" name="L2139"></a>2139         <em class="comment">// --- TreeNode methods -------------------------------------</em>
<a id="L2140" name="L2140"></a>2140 
<div class="comment">
          Returns the child <code>TreeNode</code> at index
          <code>childIndex</code>.</div>
<a id="L2145" name="L2145"></a>2145         <strong class="reserved">public</strong> <a href="../D/9145.html" title="Multiple defined in 4 places.">TreeNode</a> <a href="../R/15538.html" title="Multiple referred from 48 places.">getChildAt</a>(<strong class="reserved">int</strong> childIndex) <em class="brace">{</em>
<a id="L2146" name="L2146"></a>2146             <strong class="reserved">return</strong> (<a href="../D/9145.html" title="Multiple defined in 4 places.">TreeNode</a>)<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(childIndex);
<a id="L2147" name="L2147"></a>2147         <em class="brace">}</em>
<a id="L2148" name="L2148"></a>2148 
<div class="comment">
          Returns the number of children <code>TreeNode</code>'s
          receiver contains.
          @return the number of children <code>TreeNodews</code>'s
          receiver contains</div>
<a id="L2155" name="L2155"></a>2155         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15542.html" title="Multiple referred from 99 places.">getChildCount</a>() <em class="brace">{</em>
<a id="L2156" name="L2156"></a>2156             <strong class="reserved">return</strong> <a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L2157" name="L2157"></a>2157         <em class="brace">}</em>
<a id="L2158" name="L2158"></a>2158 
<div class="comment">
          Returns the parent <code>TreeNode</code> of the receiver.
          @return the parent <code>TreeNode</code> of the receiver</div>
<a id="L2163" name="L2163"></a>2163         <strong class="reserved">public</strong> <a href="../D/9145.html" title="Multiple defined in 4 places.">TreeNode</a> <a href="../R/18269.html" title="Multiple referred from 606 places.">getParent</a>() <em class="brace">{</em>
<a id="L2164" name="L2164"></a>2164             <strong class="reserved">return</strong> (<a href="../D/9145.html" title="Multiple defined in 4 places.">TreeNode</a>)<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L2165" name="L2165"></a>2165         <em class="brace">}</em>
<a id="L2166" name="L2166"></a>2166 
<div class="comment">
          Returns the index of <code>node</code> in the receivers children.
          If the receiver does not contain <code>node</code>, -1 will be
          returned.
          @param node the location of interest
          @return the index of <code>node</code> in the receiver's
          children, or -1 if absent</div>
<a id="L2175" name="L2175"></a>2175         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17035.html" title="Multiple referred from 302 places.">getIndex</a>(<a href="../D/9145.html" title="Multiple defined in 4 places.">TreeNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L2176" name="L2176"></a>2176             <strong class="reserved">for</strong>(<strong class="reserved">int</strong> counter = <a href="../D/17635.html" title="Multiple defined in 9 places.">getChildCount</a>() - 1; counter &gt;= 0; counter--)
<a id="L2177" name="L2177"></a>2177                 <strong class="reserved">if</strong>(<a href="../D/17629.html" title="Multiple defined in 5 places.">getChildAt</a>(counter) == <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)
<a id="L2178" name="L2178"></a>2178                     <strong class="reserved">return</strong> counter;
<a id="L2179" name="L2179"></a>2179             <strong class="reserved">return</strong> -1;
<a id="L2180" name="L2180"></a>2180         <em class="brace">}</em>
<a id="L2181" name="L2181"></a>2181 
<div class="comment">
          Returns true if the receiver allows children.
          @return true if the receiver allows children, otherwise false</div>
<a id="L2186" name="L2186"></a>2186         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/15032.html" title="Multiple referred from 2 places.">getAllowsChildren</a>();
<a id="L2187" name="L2187"></a>2187 
<a id="L2188" name="L2188"></a>2188 
<div class="comment">
          Returns the children of the receiver as an
          <code>Enumeration</code>.
          @return the children of the receiver as an <code>Enumeration</code></div>
<a id="L2194" name="L2194"></a>2194         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../R/11433.html" title="Multiple referred from 591 places.">children</a>();
<a id="L2195" name="L2195"></a>2195 
<a id="L2196" name="L2196"></a>2196 
<a id="L2197" name="L2197"></a>2197         <em class="comment">// --- serialization ---------------------------------------------</em>
<a id="L2198" name="L2198"></a>2198 
<a id="L2199" name="L2199"></a>2199         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2200" name="L2200"></a>2200             s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L2201" name="L2201"></a>2201             <a href="../S/3343.html#L65" title="Defined at 65 in src/javax/swing/text/StyleContext.java.">StyleContext</a>.<a href="../S/3343.html#L587" title="Defined at 587 in src/javax/swing/text/StyleContext.java.">writeAttributeSet</a>(s, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L2202" name="L2202"></a>2202         <em class="brace">}</em>
<a id="L2203" name="L2203"></a>2203 
<a id="L2204" name="L2204"></a>2204         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L2205" name="L2205"></a>2205             <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L2206" name="L2206"></a>2206         <em class="brace">{</em>
<a id="L2207" name="L2207"></a>2207             s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L2208" name="L2208"></a>2208             <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L2209" name="L2209"></a>2209             <a href="../S/3343.html#L65" title="Defined at 65 in src/javax/swing/text/StyleContext.java.">StyleContext</a>.<a href="../S/3343.html#L637" title="Defined at 637 in src/javax/swing/text/StyleContext.java.">readAttributeSet</a>(s, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L2210" name="L2210"></a>2210             <a href="../S/3268.html#L1674" title="Defined at 1674 in src/javax/swing/text/AbstractDocument.java.">AttributeContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L2211" name="L2211"></a>2211             <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(<a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>.EMPTY, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L2212" name="L2212"></a>2212         <em class="brace">}</em>
<a id="L2213" name="L2213"></a>2213 
<a id="L2214" name="L2214"></a>2214         <em class="comment">// ---- variables -----------------------------------------------------</em>
<a id="L2215" name="L2215"></a>2215 
<a id="L2216" name="L2216"></a>2216         <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L2217" name="L2217"></a>2217         <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L2218" name="L2218"></a>2218 
<a id="L2219" name="L2219"></a>2219     <em class="brace">}</em>
<a id="L2220" name="L2220"></a>2220 
<div class="comment">
      Implements a composite element that contains other elements.
      <p>
      <strong>Warning:</strong>
      Serialized objects of this class will not be compatible with
      future Swing releases. The current serialization support is
      appropriate for short term storage or RMI between applications running
      the same version of Swing.  As of 1.4, support for long term storage
      of all JavaBeans™
      has been added to the <code>java.beans</code> package.
      Please see {@link java.beans.XMLEncoder}.</p></div>
<a id="L2233" name="L2233"></a>2233     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/892.html" title="Multiple referred from 29 places.">BranchElement</a> <strong class="reserved">extends</strong> <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a> <em class="brace">{</em>
<a id="L2234" name="L2234"></a>2234 
<div class="comment">
          Constructs a composite element that initially contains
          no children.
          @param parent  The parent element
          @param a the attributes for the element
          @since 1.4</div>
<a id="L2243" name="L2243"></a>2243         <strong class="reserved">public</strong> BranchElement(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2244" name="L2244"></a>2244             <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2245" name="L2245"></a>2245             <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> = <strong class="reserved">new</strong> <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>[1];
<a id="L2246" name="L2246"></a>2246             nchildren = 0;
<a id="L2247" name="L2247"></a>2247             lastIndex = -1;
<a id="L2248" name="L2248"></a>2248         <em class="brace">}</em>
<a id="L2249" name="L2249"></a>2249 
<div class="comment">
          Gets the child element that contains
          the given model position.
          @param pos the position &gt;= 0
          @return the element, null if none</div>
<a id="L2257" name="L2257"></a>2257         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> positionToElement(<strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L2258" name="L2258"></a>2258             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(pos);
<a id="L2259" name="L2259"></a>2259             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child = <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L2260" name="L2260"></a>2260             <strong class="reserved">int</strong> p0 = child.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L2261" name="L2261"></a>2261             <strong class="reserved">int</strong> p1 = child.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L2262" name="L2262"></a>2262             <strong class="reserved">if</strong> ((pos &gt;= p0) &amp;&amp; (pos &lt; p1)) <em class="brace">{</em>
<a id="L2263" name="L2263"></a>2263                 <strong class="reserved">return</strong> child;
<a id="L2264" name="L2264"></a>2264             <em class="brace">}</em>
<a id="L2265" name="L2265"></a>2265             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2266" name="L2266"></a>2266         <em class="brace">}</em>
<a id="L2267" name="L2267"></a>2267 
<div class="comment">
          Replaces content with a new set of elements.
          @param offset the starting offset &gt;= 0
          @param length the length to replace &gt;= 0
          @param elems the new elements</div>
<a id="L2275" name="L2275"></a>2275         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] elems) <em class="brace">{</em>
<a id="L2276" name="L2276"></a>2276             <strong class="reserved">int</strong> delta = elems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L2277" name="L2277"></a>2277             <strong class="reserved">int</strong> src = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L2278" name="L2278"></a>2278             <strong class="reserved">int</strong> nmove = nchildren - src;
<a id="L2279" name="L2279"></a>2279             <strong class="reserved">int</strong> dest = src + delta;
<a id="L2280" name="L2280"></a>2280             <strong class="reserved">if</strong> ((nchildren + delta) &gt;= <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L2281" name="L2281"></a>2281                 <em class="comment">// need to grow the array</em>
<a id="L2282" name="L2282"></a>2282                 <strong class="reserved">int</strong> newLength = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(2*<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, nchildren + delta);
<a id="L2283" name="L2283"></a>2283                 <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>[] newChildren = <strong class="reserved">new</strong> <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>[newLength];
<a id="L2284" name="L2284"></a>2284                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, 0, newChildren, 0, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L2285" name="L2285"></a>2285                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(elems, 0, newChildren, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, elems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2286" name="L2286"></a>2286                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, src, newChildren, dest, nmove);
<a id="L2287" name="L2287"></a>2287                 <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> = newChildren;
<a id="L2288" name="L2288"></a>2288             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2289" name="L2289"></a>2289                 <em class="comment">// patch the existing array</em>
<a id="L2290" name="L2290"></a>2290                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, src, <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, dest, nmove);
<a id="L2291" name="L2291"></a>2291                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(elems, 0, <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, elems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2292" name="L2292"></a>2292             <em class="brace">}</em>
<a id="L2293" name="L2293"></a>2293             nchildren = nchildren + delta;
<a id="L2294" name="L2294"></a>2294         <em class="brace">}</em>
<a id="L2295" name="L2295"></a>2295 
<div class="comment">
          Converts the element to a string.
          @return the string</div>
<a id="L2301" name="L2301"></a>2301         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2302" name="L2302"></a>2302             <strong class="reserved">return</strong> "BranchElement(" + <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + ") " + <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() + "," +
<a id="L2303" name="L2303"></a>2303                 <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() + "\n";
<a id="L2304" name="L2304"></a>2304         <em class="brace">}</em>
<a id="L2305" name="L2305"></a>2305 
<a id="L2306" name="L2306"></a>2306         <em class="comment">// --- Element methods -----------------------------------</em>
<a id="L2307" name="L2307"></a>2307 
<div class="comment">
          Gets the element name.
          @return the element name</div>
<a id="L2313" name="L2313"></a>2313         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L2314" name="L2314"></a>2314             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm = <strong class="reserved">super</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L2315" name="L2315"></a>2315             <strong class="reserved">if</strong> (nm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2316" name="L2316"></a>2316                 nm = ParagraphElementName;
<a id="L2317" name="L2317"></a>2317             <em class="brace">}</em>
<a id="L2318" name="L2318"></a>2318             <strong class="reserved">return</strong> nm;
<a id="L2319" name="L2319"></a>2319         <em class="brace">}</em>
<a id="L2320" name="L2320"></a>2320 
<div class="comment">
          Gets the starting offset in the model for the element.
          @return the offset &gt;= 0</div>
<a id="L2326" name="L2326"></a>2326         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>() <em class="brace">{</em>
<a id="L2327" name="L2327"></a>2327             <strong class="reserved">return</strong> <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[0].<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L2328" name="L2328"></a>2328         <em class="brace">}</em>
<a id="L2329" name="L2329"></a>2329 
<div class="comment">
          Gets the ending offset in the model for the element.
          @throws NullPointerException if this element has no children
          @return the offset &gt;= 0</div>
<a id="L2336" name="L2336"></a>2336         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>() <em class="brace">{</em>
<a id="L2337" name="L2337"></a>2337             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child =
<a id="L2338" name="L2338"></a>2338                 (nchildren &gt; 0) ? <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[nchildren - 1] : <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[0];
<a id="L2339" name="L2339"></a>2339             <strong class="reserved">return</strong> child.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L2340" name="L2340"></a>2340         <em class="brace">}</em>
<a id="L2341" name="L2341"></a>2341 
<div class="comment">
          Gets a child element.
          @param index the child index, &gt;= 0 &amp;&amp; &lt; getElementCount()
          @return the child element, null if none</div>
<a id="L2348" name="L2348"></a>2348         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L2349" name="L2349"></a>2349             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; nchildren) <em class="brace">{</em>
<a id="L2350" name="L2350"></a>2350                 <strong class="reserved">return</strong> <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L2351" name="L2351"></a>2351             <em class="brace">}</em>
<a id="L2352" name="L2352"></a>2352             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2353" name="L2353"></a>2353         <em class="brace">}</em>
<a id="L2354" name="L2354"></a>2354 
<div class="comment">
          Gets the number of children for the element.
          @return the number of children &gt;= 0</div>
<a id="L2360" name="L2360"></a>2360         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16316.html" title="Multiple referred from 66 places.">getElementCount</a>()  <em class="brace">{</em>
<a id="L2361" name="L2361"></a>2361             <strong class="reserved">return</strong> nchildren;
<a id="L2362" name="L2362"></a>2362         <em class="brace">}</em>
<a id="L2363" name="L2363"></a>2363 
<div class="comment">
          Gets the child element index closest to the given model offset.
          @param offset the offset &gt;= 0
          @return the element index &gt;= 0</div>
<a id="L2370" name="L2370"></a>2370         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16323.html" title="Multiple referred from 72 places.">getElementIndex</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L2371" name="L2371"></a>2371             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L2372" name="L2372"></a>2372             <strong class="reserved">int</strong> <a href="../D/27175.html" title="Multiple defined in 10 places.">lower</a> = 0;
<a id="L2373" name="L2373"></a>2373             <strong class="reserved">int</strong> upper = nchildren - 1;
<a id="L2374" name="L2374"></a>2374             <strong class="reserved">int</strong> mid = 0;
<a id="L2375" name="L2375"></a>2375             <strong class="reserved">int</strong> p0 = <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L2376" name="L2376"></a>2376             <strong class="reserved">int</strong> p1;
<a id="L2377" name="L2377"></a>2377 
<a id="L2378" name="L2378"></a>2378             <strong class="reserved">if</strong> (nchildren == 0) <em class="brace">{</em>
<a id="L2379" name="L2379"></a>2379                 <strong class="reserved">return</strong> 0;
<a id="L2380" name="L2380"></a>2380             <em class="brace">}</em>
<a id="L2381" name="L2381"></a>2381             <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt;= <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L2382" name="L2382"></a>2382                 <strong class="reserved">return</strong> nchildren - 1;
<a id="L2383" name="L2383"></a>2383             <em class="brace">}</em>
<a id="L2384" name="L2384"></a>2384 
<a id="L2385" name="L2385"></a>2385             <em class="comment">// see if the last index can be used.</em>
<a id="L2386" name="L2386"></a>2386             <strong class="reserved">if</strong> ((lastIndex &gt;= <a href="../D/27175.html" title="Multiple defined in 10 places.">lower</a>) &amp;&amp; (lastIndex &lt;= upper)) <em class="brace">{</em>
<a id="L2387" name="L2387"></a>2387                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> lastHit = <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[lastIndex];
<a id="L2388" name="L2388"></a>2388                 p0 = lastHit.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L2389" name="L2389"></a>2389                 p1 = lastHit.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L2390" name="L2390"></a>2390                 <strong class="reserved">if</strong> ((<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt;= p0) &amp;&amp; (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; p1)) <em class="brace">{</em>
<a id="L2391" name="L2391"></a>2391                     <strong class="reserved">return</strong> lastIndex;
<a id="L2392" name="L2392"></a>2392                 <em class="brace">}</em>
<a id="L2393" name="L2393"></a>2393 
<a id="L2394" name="L2394"></a>2394                 <em class="comment">// last index wasn't a hit, but it does give useful info about</em>
<a id="L2395" name="L2395"></a>2395                 <em class="comment">// where a hit (if any) would be.</em>
<a id="L2396" name="L2396"></a>2396                 <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; p0) <em class="brace">{</em>
<a id="L2397" name="L2397"></a>2397                     upper = lastIndex;
<a id="L2398" name="L2398"></a>2398                 <em class="brace">}</em> <strong class="reserved">else</strong>  <em class="brace">{</em>
<a id="L2399" name="L2399"></a>2399                     <a href="../D/27175.html" title="Multiple defined in 10 places.">lower</a> = lastIndex;
<a id="L2400" name="L2400"></a>2400                 <em class="brace">}</em>
<a id="L2401" name="L2401"></a>2401             <em class="brace">}</em>
<a id="L2402" name="L2402"></a>2402 
<a id="L2403" name="L2403"></a>2403             <strong class="reserved">while</strong> (<a href="../D/27175.html" title="Multiple defined in 10 places.">lower</a> &lt;= upper) <em class="brace">{</em>
<a id="L2404" name="L2404"></a>2404                 mid = <a href="../D/27175.html" title="Multiple defined in 10 places.">lower</a> + ((upper - <a href="../D/27175.html" title="Multiple defined in 10 places.">lower</a>) / 2);
<a id="L2405" name="L2405"></a>2405                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[mid];
<a id="L2406" name="L2406"></a>2406                 p0 = elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L2407" name="L2407"></a>2407                 p1 = elem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L2408" name="L2408"></a>2408                 <strong class="reserved">if</strong> ((<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt;= p0) &amp;&amp; (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; p1)) <em class="brace">{</em>
<a id="L2409" name="L2409"></a>2409                     <em class="comment">// found the location</em>
<a id="L2410" name="L2410"></a>2410                     <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = mid;
<a id="L2411" name="L2411"></a>2411                     lastIndex = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L2412" name="L2412"></a>2412                     <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L2413" name="L2413"></a>2413                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; p0) <em class="brace">{</em>
<a id="L2414" name="L2414"></a>2414                     upper = mid - 1;
<a id="L2415" name="L2415"></a>2415                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2416" name="L2416"></a>2416                     <a href="../D/27175.html" title="Multiple defined in 10 places.">lower</a> = mid + 1;
<a id="L2417" name="L2417"></a>2417                 <em class="brace">}</em>
<a id="L2418" name="L2418"></a>2418             <em class="brace">}</em>
<a id="L2419" name="L2419"></a>2419 
<a id="L2420" name="L2420"></a>2420             <em class="comment">// didn't find it, but we indicate the index of where it would belong</em>
<a id="L2421" name="L2421"></a>2421             <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; p0) <em class="brace">{</em>
<a id="L2422" name="L2422"></a>2422                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = mid;
<a id="L2423" name="L2423"></a>2423             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2424" name="L2424"></a>2424                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = mid + 1;
<a id="L2425" name="L2425"></a>2425             <em class="brace">}</em>
<a id="L2426" name="L2426"></a>2426             lastIndex = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L2427" name="L2427"></a>2427             <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L2428" name="L2428"></a>2428         <em class="brace">}</em>
<a id="L2429" name="L2429"></a>2429 
<div class="comment">
          Checks whether the element is a leaf.
          @return true if a leaf</div>
<a id="L2435" name="L2435"></a>2435         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21644.html" title="Multiple referred from 150 places.">isLeaf</a>() <em class="brace">{</em>
<a id="L2436" name="L2436"></a>2436             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2437" name="L2437"></a>2437         <em class="brace">}</em>
<a id="L2438" name="L2438"></a>2438 
<a id="L2439" name="L2439"></a>2439 
<a id="L2440" name="L2440"></a>2440         <em class="comment">// ------ TreeNode ----------------------------------------------</em>
<a id="L2441" name="L2441"></a>2441 
<div class="comment">
          Returns true if the receiver allows children.
          @return true if the receiver allows children, otherwise false</div>
<a id="L2446" name="L2446"></a>2446         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/15032.html" title="Multiple referred from 2 places.">getAllowsChildren</a>() <em class="brace">{</em>
<a id="L2447" name="L2447"></a>2447             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2448" name="L2448"></a>2448         <em class="brace">}</em>
<a id="L2449" name="L2449"></a>2449 
<a id="L2450" name="L2450"></a>2450 
<div class="comment">
          Returns the children of the receiver as an
          <code>Enumeration</code>.
          @return the children of the receiver</div>
<a id="L2456" name="L2456"></a>2456         <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../R/11433.html" title="Multiple referred from 591 places.">children</a>() <em class="brace">{</em>
<a id="L2457" name="L2457"></a>2457             <strong class="reserved">if</strong>(nchildren == 0)
<a id="L2458" name="L2458"></a>2458                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2459" name="L2459"></a>2459 
<a id="L2460" name="L2460"></a>2460             <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>&gt; tempVector = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>&gt;(nchildren);
<a id="L2461" name="L2461"></a>2461 
<a id="L2462" name="L2462"></a>2462             <strong class="reserved">for</strong>(<strong class="reserved">int</strong> counter = 0; counter &lt; nchildren; counter++)
<a id="L2463" name="L2463"></a>2463                 tempVector.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[counter]);
<a id="L2464" name="L2464"></a>2464             <strong class="reserved">return</strong> tempVector.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L2465" name="L2465"></a>2465         <em class="brace">}</em>
<a id="L2466" name="L2466"></a>2466 
<a id="L2467" name="L2467"></a>2467         <em class="comment">// ------ members ----------------------------------------------</em>
<a id="L2468" name="L2468"></a>2468 
<a id="L2469" name="L2469"></a>2469         <strong class="reserved">private</strong> <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a>[] <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>;
<a id="L2470" name="L2470"></a>2470         <strong class="reserved">private</strong> <strong class="reserved">int</strong> nchildren;
<a id="L2471" name="L2471"></a>2471         <strong class="reserved">private</strong> <strong class="reserved">int</strong> lastIndex;
<a id="L2472" name="L2472"></a>2472     <em class="brace">}</em>
<a id="L2473" name="L2473"></a>2473 
<div class="comment">
      Implements an element that directly represents content of
      some kind.
      <p>
      <strong>Warning:</strong>
      Serialized objects of this class will not be compatible with
      future Swing releases. The current serialization support is
      appropriate for short term storage or RMI between applications running
      the same version of Swing.  As of 1.4, support for long term storage
      of all JavaBeans™
      has been added to the <code>java.beans</code> package.
      Please see {@link java.beans.XMLEncoder}.
      @see     Element</p></div>
<a id="L2489" name="L2489"></a>2489     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/4551.html" title="Multiple referred from 4 places.">LeafElement</a> <strong class="reserved">extends</strong> <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a> <em class="brace">{</em>
<a id="L2490" name="L2490"></a>2490 
<div class="comment">
          Constructs an element that represents content within the
          document (has no children).
          @param parent  The parent element
          @param a       The element attributes
          @param offs0   The start offset &gt;= 0
          @param offs1   The end offset &gt;= offs0
          @since 1.4</div>
<a id="L2501" name="L2501"></a>2501         <strong class="reserved">public</strong> LeafElement(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> offs0, <strong class="reserved">int</strong> offs1) <em class="brace">{</em>
<a id="L2502" name="L2502"></a>2502             <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2503" name="L2503"></a>2503             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2504" name="L2504"></a>2504                 p0 = <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(offs0);
<a id="L2505" name="L2505"></a>2505                 p1 = <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(offs1);
<a id="L2506" name="L2506"></a>2506             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L2507" name="L2507"></a>2507                 p0 = <strong class="reserved">null</strong>;
<a id="L2508" name="L2508"></a>2508                 p1 = <strong class="reserved">null</strong>;
<a id="L2509" name="L2509"></a>2509                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3266.html#L34" title="Defined at 34 in src/javax/swing/text/StateInvariantError.java.">StateInvariantError</a>("Can't create Position references");
<a id="L2510" name="L2510"></a>2510             <em class="brace">}</em>
<a id="L2511" name="L2511"></a>2511         <em class="brace">}</em>
<a id="L2512" name="L2512"></a>2512 
<div class="comment">
          Converts the element to a string.
          @return the string</div>
<a id="L2518" name="L2518"></a>2518         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2519" name="L2519"></a>2519             <strong class="reserved">return</strong> "LeafElement(" + <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + ") " + p0 + "," + p1 + "\n";
<a id="L2520" name="L2520"></a>2520         <em class="brace">}</em>
<a id="L2521" name="L2521"></a>2521 
<a id="L2522" name="L2522"></a>2522         <em class="comment">// --- Element methods ---------------------------------------------</em>
<a id="L2523" name="L2523"></a>2523 
<div class="comment">
          Gets the starting offset in the model for the element.
          @return the offset &gt;= 0</div>
<a id="L2529" name="L2529"></a>2529         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>() <em class="brace">{</em>
<a id="L2530" name="L2530"></a>2530             <strong class="reserved">return</strong> p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L2531" name="L2531"></a>2531         <em class="brace">}</em>
<a id="L2532" name="L2532"></a>2532 
<div class="comment">
          Gets the ending offset in the model for the element.
          @return the offset &gt;= 0</div>
<a id="L2538" name="L2538"></a>2538         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>() <em class="brace">{</em>
<a id="L2539" name="L2539"></a>2539             <strong class="reserved">return</strong> p1.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L2540" name="L2540"></a>2540         <em class="brace">}</em>
<a id="L2541" name="L2541"></a>2541 
<div class="comment">
          Gets the element name.
          @return the name</div>
<a id="L2547" name="L2547"></a>2547         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L2548" name="L2548"></a>2548             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm = <strong class="reserved">super</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L2549" name="L2549"></a>2549             <strong class="reserved">if</strong> (nm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2550" name="L2550"></a>2550                 nm = ContentElementName;
<a id="L2551" name="L2551"></a>2551             <em class="brace">}</em>
<a id="L2552" name="L2552"></a>2552             <strong class="reserved">return</strong> nm;
<a id="L2553" name="L2553"></a>2553         <em class="brace">}</em>
<a id="L2554" name="L2554"></a>2554 
<div class="comment">
          Gets the child element index closest to the given model offset.
          @param pos the offset &gt;= 0
          @return the element index &gt;= 0</div>
<a id="L2561" name="L2561"></a>2561         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16323.html" title="Multiple referred from 72 places.">getElementIndex</a>(<strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L2562" name="L2562"></a>2562             <strong class="reserved">return</strong> -1;
<a id="L2563" name="L2563"></a>2563         <em class="brace">}</em>
<a id="L2564" name="L2564"></a>2564 
<div class="comment">
          Gets a child element.
          @param index the child index, &gt;= 0 &amp;&amp; &lt; getElementCount()
          @return the child element</div>
<a id="L2571" name="L2571"></a>2571         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L2572" name="L2572"></a>2572             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2573" name="L2573"></a>2573         <em class="brace">}</em>
<a id="L2574" name="L2574"></a>2574 
<div class="comment">
          Returns the number of child elements.
          @return the number of children &gt;= 0</div>
<a id="L2580" name="L2580"></a>2580         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16316.html" title="Multiple referred from 66 places.">getElementCount</a>()  <em class="brace">{</em>
<a id="L2581" name="L2581"></a>2581             <strong class="reserved">return</strong> 0;
<a id="L2582" name="L2582"></a>2582         <em class="brace">}</em>
<a id="L2583" name="L2583"></a>2583 
<div class="comment">
          Checks whether the element is a leaf.
          @return true if a leaf</div>
<a id="L2589" name="L2589"></a>2589         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21644.html" title="Multiple referred from 150 places.">isLeaf</a>() <em class="brace">{</em>
<a id="L2590" name="L2590"></a>2590             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2591" name="L2591"></a>2591         <em class="brace">}</em>
<a id="L2592" name="L2592"></a>2592 
<a id="L2593" name="L2593"></a>2593         <em class="comment">// ------ TreeNode ----------------------------------------------</em>
<a id="L2594" name="L2594"></a>2594 
<div class="comment">
          Returns true if the receiver allows children.
          @return true if the receiver allows children, otherwise false</div>
<a id="L2599" name="L2599"></a>2599         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/15032.html" title="Multiple referred from 2 places.">getAllowsChildren</a>() <em class="brace">{</em>
<a id="L2600" name="L2600"></a>2600             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2601" name="L2601"></a>2601         <em class="brace">}</em>
<a id="L2602" name="L2602"></a>2602 
<a id="L2603" name="L2603"></a>2603 
<div class="comment">
          Returns the children of the receiver as an
          <code>Enumeration</code>.
          @return the children of the receiver</div>
<a id="L2609" name="L2609"></a>2609         <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../R/11433.html" title="Multiple referred from 591 places.">children</a>() <em class="brace">{</em>
<a id="L2610" name="L2610"></a>2610             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2611" name="L2611"></a>2611         <em class="brace">}</em>
<a id="L2612" name="L2612"></a>2612 
<a id="L2613" name="L2613"></a>2613         <em class="comment">// --- serialization ---------------------------------------------</em>
<a id="L2614" name="L2614"></a>2614 
<a id="L2615" name="L2615"></a>2615         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2616" name="L2616"></a>2616             s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L2617" name="L2617"></a>2617             s.<a href="../D/37085.html" title="Multiple defined in 12 places.">writeInt</a>(p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2618" name="L2618"></a>2618             s.<a href="../D/37085.html" title="Multiple defined in 12 places.">writeInt</a>(p1.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2619" name="L2619"></a>2619         <em class="brace">}</em>
<a id="L2620" name="L2620"></a>2620 
<a id="L2621" name="L2621"></a>2621         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L2622" name="L2622"></a>2622             <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L2623" name="L2623"></a>2623         <em class="brace">{</em>
<a id="L2624" name="L2624"></a>2624             s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L2625" name="L2625"></a>2625 
<a id="L2626" name="L2626"></a>2626             <em class="comment">// set the range with positions that track change</em>
<a id="L2627" name="L2627"></a>2627             <strong class="reserved">int</strong> off0 = s.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L2628" name="L2628"></a>2628             <strong class="reserved">int</strong> off1 = s.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L2629" name="L2629"></a>2629             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2630" name="L2630"></a>2630                 p0 = <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(off0);
<a id="L2631" name="L2631"></a>2631                 p1 = <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(off1);
<a id="L2632" name="L2632"></a>2632             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L2633" name="L2633"></a>2633                 p0 = <strong class="reserved">null</strong>;
<a id="L2634" name="L2634"></a>2634                 p1 = <strong class="reserved">null</strong>;
<a id="L2635" name="L2635"></a>2635                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>("Can't restore Position references");
<a id="L2636" name="L2636"></a>2636             <em class="brace">}</em>
<a id="L2637" name="L2637"></a>2637         <em class="brace">}</em>
<a id="L2638" name="L2638"></a>2638 
<a id="L2639" name="L2639"></a>2639         <em class="comment">// ---- members -----------------------------------------------------</em>
<a id="L2640" name="L2640"></a>2640 
<a id="L2641" name="L2641"></a>2641         <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> p0;
<a id="L2642" name="L2642"></a>2642         <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> p1;
<a id="L2643" name="L2643"></a>2643     <em class="brace">}</em>
<a id="L2644" name="L2644"></a>2644 
<div class="comment">
      Represents the root element of the bidirectional element structure.
      The root element is the only element in the bidi element structure
      which contains children.</div>
<a id="L2650" name="L2650"></a>2650     <strong class="reserved">class</strong> <a href="../R/792.html" title="Multiple referred from 2 places.">BidiRootElement</a> <strong class="reserved">extends</strong> <a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a> <em class="brace">{</em>
<a id="L2651" name="L2651"></a>2651 
<a id="L2652" name="L2652"></a>2652         BidiRootElement() <em class="brace">{</em>
<a id="L2653" name="L2653"></a>2653             <strong class="reserved">super</strong>( <strong class="reserved">null</strong>, <strong class="reserved">null</strong> );
<a id="L2654" name="L2654"></a>2654         <em class="brace">}</em>
<a id="L2655" name="L2655"></a>2655 
<div class="comment">
          Gets the name of the element.
          @return the name</div>
<a id="L2660" name="L2660"></a>2660         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L2661" name="L2661"></a>2661             <strong class="reserved">return</strong> "bidi root";
<a id="L2662" name="L2662"></a>2662         <em class="brace">}</em>
<a id="L2663" name="L2663"></a>2663     <em class="brace">}</em>
<a id="L2664" name="L2664"></a>2664 
<div class="comment">
      Represents an element of the bidirectional element structure.</div>
<a id="L2668" name="L2668"></a>2668     <strong class="reserved">class</strong> <a href="../R/791.html" title="Multiple referred from 8 places.">BidiElement</a> <strong class="reserved">extends</strong> <a href="../S/3268.html#L2489" title="Defined at 2489 in src/javax/swing/text/AbstractDocument.java.">LeafElement</a> <em class="brace">{</em>
<a id="L2669" name="L2669"></a>2669 
<div class="comment">
          Creates a new BidiElement.</div>
<a id="L2673" name="L2673"></a>2673         BidiElement(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>, <strong class="reserved">int</strong> level) <em class="brace">{</em>
<a id="L2674" name="L2674"></a>2674             <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>(), <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L2675" name="L2675"></a>2675             <a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.BidiLevel, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(level));
<a id="L2676" name="L2676"></a>2676             <em class="comment">//System.out.println("BidiElement: start = " + start</em>
<a id="L2677" name="L2677"></a>2677             <em class="comment">//                   + " end = " + end + " level = " + level );</em>
<a id="L2678" name="L2678"></a>2678         <em class="brace">}</em>
<a id="L2679" name="L2679"></a>2679 
<div class="comment">
          Gets the name of the element.
          @return the name</div>
<a id="L2684" name="L2684"></a>2684         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L2685" name="L2685"></a>2685             <strong class="reserved">return</strong> BidiElementName;
<a id="L2686" name="L2686"></a>2686         <em class="brace">}</em>
<a id="L2687" name="L2687"></a>2687 
<a id="L2688" name="L2688"></a>2688         <strong class="reserved">int</strong> <a href="../R/17337.html" title="Multiple referred from 27 places.">getLevel</a>() <em class="brace">{</em>
<a id="L2689" name="L2689"></a>2689             <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.BidiLevel);
<a id="L2690" name="L2690"></a>2690             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2691" name="L2691"></a>2691                 <strong class="reserved">return</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L2692" name="L2692"></a>2692             <em class="brace">}</em>
<a id="L2693" name="L2693"></a>2693             <strong class="reserved">return</strong> 0;  <em class="comment">// Level 0 is base level (non-embedded) left-to-right</em>
<a id="L2694" name="L2694"></a>2694         <em class="brace">}</em>
<a id="L2695" name="L2695"></a>2695 
<a id="L2696" name="L2696"></a>2696         <strong class="reserved">boolean</strong> <a href="../R/21649.html" title="Multiple referred from 325 places.">isLeftToRight</a>() <em class="brace">{</em>
<a id="L2697" name="L2697"></a>2697             <strong class="reserved">return</strong> ((<a href="../D/20078.html" title="Multiple defined in 14 places.">getLevel</a>() % 2) == 0);
<a id="L2698" name="L2698"></a>2698         <em class="brace">}</em>
<a id="L2699" name="L2699"></a>2699     <em class="brace">}</em>
<a id="L2700" name="L2700"></a>2700 
<div class="comment">
      Stores document changes as the document is being
      modified.  Can subsequently be used for change notification
      when done with the document modification transaction.
      This is used by the AbstractDocument class and its extensions
      for broadcasting change information to the document listeners.</div>
<a id="L2708" name="L2708"></a>2708     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/2082.html" title="Multiple referred from 47 places.">DefaultDocumentEvent</a> <strong class="reserved">extends</strong> <a href="../S/3137.html#L35" title="Defined at 35 in src/javax/swing/undo/CompoundEdit.java.">CompoundEdit</a> <strong class="reserved">implements</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> <em class="brace">{</em>
<a id="L2709" name="L2709"></a>2709 
<div class="comment">
          Constructs a change record.
          @param offs the offset into the document of the change &gt;= 0
          @param len  the length of the change &gt;= 0
          @param type the type of event (DocumentEvent.EventType)
          @since 1.4</div>
<a id="L2718" name="L2718"></a>2718         <strong class="reserved">public</strong> DefaultDocumentEvent(<strong class="reserved">int</strong> offs, <strong class="reserved">int</strong> len, <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2719" name="L2719"></a>2719             <strong class="reserved">super</strong>();
<a id="L2720" name="L2720"></a>2720             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = offs;
<a id="L2721" name="L2721"></a>2721             <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = len;
<a id="L2722" name="L2722"></a>2722             <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L2723" name="L2723"></a>2723         <em class="brace">}</em>
<a id="L2724" name="L2724"></a>2724 
<div class="comment">
          Returns a string description of the change event.
          @return a string</div>
<a id="L2730" name="L2730"></a>2730         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L2731" name="L2731"></a>2731             <strong class="reserved">return</strong> edits.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2732" name="L2732"></a>2732         <em class="brace">}</em>
<a id="L2733" name="L2733"></a>2733 
<a id="L2734" name="L2734"></a>2734         <em class="comment">// --- CompoundEdit methods --------------------------</em>
<a id="L2735" name="L2735"></a>2735 
<div class="comment">
          Adds a document edit.  If the number of edits crosses
          a threshold, this switches on a hashtable lookup for
          ElementChange implementations since access of these
          needs to be relatively quick.
          @param anEdit a document edit record
          @return true if the edit was added</div>
<a id="L2745" name="L2745"></a>2745         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9706.html" title="Multiple referred from 31 places.">addEdit</a>(<a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> anEdit) <em class="brace">{</em>
<a id="L2746" name="L2746"></a>2746             <em class="comment">// if the number of changes gets too great, start using</em>
<a id="L2747" name="L2747"></a>2747             <em class="comment">// a hashtable for to locate the change for a given element.</em>
<a id="L2748" name="L2748"></a>2748             <strong class="reserved">if</strong> ((changeLookup == <strong class="reserved">null</strong>) &amp;&amp; (edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 10)) <em class="brace">{</em>
<a id="L2749" name="L2749"></a>2749                 changeLookup = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>, <a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>&gt;();
<a id="L2750" name="L2750"></a>2750                 <strong class="reserved">int</strong> n = edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L2751" name="L2751"></a>2751                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L2752" name="L2752"></a>2752                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = edits.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L2753" name="L2753"></a>2753                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>) <em class="brace">{</em>
<a id="L2754" name="L2754"></a>2754                         <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec = (<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L2755" name="L2755"></a>2755                         changeLookup.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(ec.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(), ec);
<a id="L2756" name="L2756"></a>2756                     <em class="brace">}</em>
<a id="L2757" name="L2757"></a>2757                 <em class="brace">}</em>
<a id="L2758" name="L2758"></a>2758             <em class="brace">}</em>
<a id="L2759" name="L2759"></a>2759 
<a id="L2760" name="L2760"></a>2760             <em class="comment">// if we have a hashtable... add the entry if it's</em>
<a id="L2761" name="L2761"></a>2761             <em class="comment">// an ElementChange.</em>
<a id="L2762" name="L2762"></a>2762             <strong class="reserved">if</strong> ((changeLookup != <strong class="reserved">null</strong>) &amp;&amp; (anEdit <strong class="reserved">instanceof</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>)) <em class="brace">{</em>
<a id="L2763" name="L2763"></a>2763                 <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec = (<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>) anEdit;
<a id="L2764" name="L2764"></a>2764                 changeLookup.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(ec.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(), ec);
<a id="L2765" name="L2765"></a>2765             <em class="brace">}</em>
<a id="L2766" name="L2766"></a>2766             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(anEdit);
<a id="L2767" name="L2767"></a>2767         <em class="brace">}</em>
<a id="L2768" name="L2768"></a>2768 
<div class="comment">
          Redoes a change.
          @exception CannotRedoException if the change cannot be redone</div>
<a id="L2774" name="L2774"></a>2774         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25693.html" title="Multiple referred from 14 places.">redo</a>() <strong class="reserved">throws</strong> <a href="../S/3138.html#L41" title="Defined at 41 in src/javax/swing/undo/CannotRedoException.java.">CannotRedoException</a> <em class="brace">{</em>
<a id="L2775" name="L2775"></a>2775             <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L2776" name="L2776"></a>2776             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2777" name="L2777"></a>2777                 <em class="comment">// change the state</em>
<a id="L2778" name="L2778"></a>2778                 <strong class="reserved">super</strong>.<a href="../D/30435.html" title="Multiple defined in 13 places.">redo</a>();
<a id="L2779" name="L2779"></a>2779                 <em class="comment">// fire a DocumentEvent to notify the view(s)</em>
<a id="L2780" name="L2780"></a>2780                 <a href="../S/3268.html#L2948" title="Defined at 2948 in src/javax/swing/text/AbstractDocument.java.">UndoRedoDocumentEvent</a> ev = <strong class="reserved">new</strong> <a href="../S/3268.html#L2948" title="Defined at 2948 in src/javax/swing/text/AbstractDocument.java.">UndoRedoDocumentEvent</a>(<strong class="reserved">this</strong>, <strong class="reserved">false</strong>);
<a id="L2781" name="L2781"></a>2781                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT) <em class="brace">{</em>
<a id="L2782" name="L2782"></a>2782                     <a href="../S/3268.html#L189" title="Defined at 189 in src/javax/swing/text/AbstractDocument.java.">fireInsertUpdate</a>(ev);
<a id="L2783" name="L2783"></a>2783                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE) <em class="brace">{</em>
<a id="L2784" name="L2784"></a>2784                     <a href="../S/3268.html#L247" title="Defined at 247 in src/javax/swing/text/AbstractDocument.java.">fireRemoveUpdate</a>(ev);
<a id="L2785" name="L2785"></a>2785                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2786" name="L2786"></a>2786                     <a href="../D/16316.html" title="Multiple defined in 2 places.">fireChangedUpdate</a>(ev);
<a id="L2787" name="L2787"></a>2787                 <em class="brace">}</em>
<a id="L2788" name="L2788"></a>2788             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2789" name="L2789"></a>2789                 <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L2790" name="L2790"></a>2790             <em class="brace">}</em>
<a id="L2791" name="L2791"></a>2791         <em class="brace">}</em>
<a id="L2792" name="L2792"></a>2792 
<div class="comment">
          Undoes a change.
          @exception CannotUndoException if the change cannot be undone</div>
<a id="L2798" name="L2798"></a>2798         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29628.html" title="Multiple referred from 38 places.">undo</a>() <strong class="reserved">throws</strong> <a href="../S/3140.html#L42" title="Defined at 42 in src/javax/swing/undo/CannotUndoException.java.">CannotUndoException</a> <em class="brace">{</em>
<a id="L2799" name="L2799"></a>2799             <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L2800" name="L2800"></a>2800             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2801" name="L2801"></a>2801                 <em class="comment">// change the state</em>
<a id="L2802" name="L2802"></a>2802                 <strong class="reserved">super</strong>.<a href="../D/35822.html" title="Multiple defined in 13 places.">undo</a>();
<a id="L2803" name="L2803"></a>2803                 <em class="comment">// fire a DocumentEvent to notify the view(s)</em>
<a id="L2804" name="L2804"></a>2804                 <a href="../S/3268.html#L2948" title="Defined at 2948 in src/javax/swing/text/AbstractDocument.java.">UndoRedoDocumentEvent</a> ev = <strong class="reserved">new</strong> <a href="../S/3268.html#L2948" title="Defined at 2948 in src/javax/swing/text/AbstractDocument.java.">UndoRedoDocumentEvent</a>(<strong class="reserved">this</strong>, <strong class="reserved">true</strong>);
<a id="L2805" name="L2805"></a>2805                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE) <em class="brace">{</em>
<a id="L2806" name="L2806"></a>2806                     <a href="../S/3268.html#L189" title="Defined at 189 in src/javax/swing/text/AbstractDocument.java.">fireInsertUpdate</a>(ev);
<a id="L2807" name="L2807"></a>2807                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT) <em class="brace">{</em>
<a id="L2808" name="L2808"></a>2808                     <a href="../S/3268.html#L247" title="Defined at 247 in src/javax/swing/text/AbstractDocument.java.">fireRemoveUpdate</a>(ev);
<a id="L2809" name="L2809"></a>2809                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2810" name="L2810"></a>2810                     <a href="../D/16316.html" title="Multiple defined in 2 places.">fireChangedUpdate</a>(ev);
<a id="L2811" name="L2811"></a>2811                 <em class="brace">}</em>
<a id="L2812" name="L2812"></a>2812             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2813" name="L2813"></a>2813                 <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L2814" name="L2814"></a>2814             <em class="brace">}</em>
<a id="L2815" name="L2815"></a>2815         <em class="brace">}</em>
<a id="L2816" name="L2816"></a>2816 
<div class="comment">
          DefaultDocument events are significant.  If you wish to aggregate
          DefaultDocumentEvents to present them as a single edit to the user
          place them into a CompoundEdit.
          @return whether the event is significant for edit undo purposes</div>
<a id="L2824" name="L2824"></a>2824         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22022.html" title="Multiple referred from 3 places.">isSignificant</a>() <em class="brace">{</em>
<a id="L2825" name="L2825"></a>2825             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2826" name="L2826"></a>2826         <em class="brace">}</em>
<a id="L2827" name="L2827"></a>2827 
<a id="L2828" name="L2828"></a>2828 
<div class="comment">
          Provides a localized, human readable description of this edit
          suitable for use in, say, a change log.
          @return the description</div>
<a id="L2835" name="L2835"></a>2835         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18427.html" title="Multiple referred from 6 places.">getPresentationName</a>() <em class="brace">{</em>
<a id="L2836" name="L2836"></a>2836             <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L2837" name="L2837"></a>2837             <strong class="reserved">if</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT)
<a id="L2838" name="L2838"></a>2838                 <strong class="reserved">return</strong> <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("AbstractDocument.additionText");
<a id="L2839" name="L2839"></a>2839             <strong class="reserved">if</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE)
<a id="L2840" name="L2840"></a>2840                 <strong class="reserved">return</strong> <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("AbstractDocument.deletionText");
<a id="L2841" name="L2841"></a>2841             <strong class="reserved">return</strong> <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("AbstractDocument.styleChangeText");
<a id="L2842" name="L2842"></a>2842         <em class="brace">}</em>
<a id="L2843" name="L2843"></a>2843 
<div class="comment">
          Provides a localized, human readable description of the undoable
          form of this edit, e.g. for use as an Undo menu item. Typically
          derived from getDescription();
          @return the description</div>
<a id="L2851" name="L2851"></a>2851         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19674.html" title="Multiple referred from 5 places.">getUndoPresentationName</a>() <em class="brace">{</em>
<a id="L2852" name="L2852"></a>2852             <strong class="reserved">return</strong> <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("AbstractDocument.undoText") + " " +
<a id="L2853" name="L2853"></a>2853                 <a href="../D/21604.html" title="Multiple defined in 5 places.">getPresentationName</a>();
<a id="L2854" name="L2854"></a>2854         <em class="brace">}</em>
<a id="L2855" name="L2855"></a>2855 
<div class="comment">
          Provides a localized, human readable description of the redoable
          form of this edit, e.g. for use as a Redo menu item. Typically
          derived from getPresentationName();
          @return the description</div>
<a id="L2863" name="L2863"></a>2863         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18633.html" title="Multiple referred from 5 places.">getRedoPresentationName</a>() <em class="brace">{</em>
<a id="L2864" name="L2864"></a>2864             <strong class="reserved">return</strong> <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("AbstractDocument.redoText") + " " +
<a id="L2865" name="L2865"></a>2865                 <a href="../D/21604.html" title="Multiple defined in 5 places.">getPresentationName</a>();
<a id="L2866" name="L2866"></a>2866         <em class="brace">}</em>
<a id="L2867" name="L2867"></a>2867 
<a id="L2868" name="L2868"></a>2868         <em class="comment">// --- DocumentEvent methods --------------------------</em>
<a id="L2869" name="L2869"></a>2869 
<div class="comment">
          Returns the type of event.
          @return the event type as a DocumentEvent.EventType
          @see DocumentEvent#getType</div>
<a id="L2876" name="L2876"></a>2876         <strong class="reserved">public</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em>
<a id="L2877" name="L2877"></a>2877             <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L2878" name="L2878"></a>2878         <em class="brace">}</em>
<a id="L2879" name="L2879"></a>2879 
<div class="comment">
          Returns the offset within the document of the start of the change.
          @return the offset &gt;= 0
          @see DocumentEvent#getOffset</div>
<a id="L2886" name="L2886"></a>2886         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>() <em class="brace">{</em>
<a id="L2887" name="L2887"></a>2887             <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L2888" name="L2888"></a>2888         <em class="brace">}</em>
<a id="L2889" name="L2889"></a>2889 
<div class="comment">
          Returns the length of the change.
          @return the length &gt;= 0
          @see DocumentEvent#getLength</div>
<a id="L2896" name="L2896"></a>2896         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17335.html" title="Multiple referred from 644 places.">getLength</a>() <em class="brace">{</em>
<a id="L2897" name="L2897"></a>2897             <strong class="reserved">return</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L2898" name="L2898"></a>2898         <em class="brace">}</em>
<a id="L2899" name="L2899"></a>2899 
<div class="comment">
          Gets the document that sourced the change event.
          @return the document
          @see DocumentEvent#getDocument</div>
<a id="L2906" name="L2906"></a>2906         <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L2907" name="L2907"></a>2907             <strong class="reserved">return</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<strong class="reserved">this</strong>;
<a id="L2908" name="L2908"></a>2908         <em class="brace">}</em>
<a id="L2909" name="L2909"></a>2909 
<div class="comment">
          Gets the changes for an element.
          @param elem the element
          @return the changes</div>
<a id="L2916" name="L2916"></a>2916         <strong class="reserved">public</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> <a href="../R/15490.html" title="Multiple referred from 7 places.">getChange</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L2917" name="L2917"></a>2917             <strong class="reserved">if</strong> (changeLookup != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2918" name="L2918"></a>2918                 <strong class="reserved">return</strong> changeLookup.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(elem);
<a id="L2919" name="L2919"></a>2919             <em class="brace">}</em>
<a id="L2920" name="L2920"></a>2920             <strong class="reserved">int</strong> n = edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L2921" name="L2921"></a>2921             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L2922" name="L2922"></a>2922                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = edits.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L2923" name="L2923"></a>2923                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>) <em class="brace">{</em>
<a id="L2924" name="L2924"></a>2924                     <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L2925" name="L2925"></a>2925                     <strong class="reserved">if</strong> (elem.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>())) <em class="brace">{</em>
<a id="L2926" name="L2926"></a>2926                         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L2927" name="L2927"></a>2927                     <em class="brace">}</em>
<a id="L2928" name="L2928"></a>2928                 <em class="brace">}</em>
<a id="L2929" name="L2929"></a>2929             <em class="brace">}</em>
<a id="L2930" name="L2930"></a>2930             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2931" name="L2931"></a>2931         <em class="brace">}</em>
<a id="L2932" name="L2932"></a>2932 
<a id="L2933" name="L2933"></a>2933         <em class="comment">// --- member variables ------------------------------------</em>
<a id="L2934" name="L2934"></a>2934 
<a id="L2935" name="L2935"></a>2935         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L2936" name="L2936"></a>2936         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L2937" name="L2937"></a>2937         <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>, <a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a>&gt; changeLookup;
<a id="L2938" name="L2938"></a>2938         <strong class="reserved">private</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L2939" name="L2939"></a>2939 
<a id="L2940" name="L2940"></a>2940     <em class="brace">}</em>
<a id="L2941" name="L2941"></a>2941 
<div class="comment">
      This event used when firing document changes while Undo/Redo
      operations. It just wraps DefaultDocumentEvent and delegates
      all calls to it except getType() which depends on operation
      (Undo or Redo).</div>
<a id="L2948" name="L2948"></a>2948     <strong class="reserved">class</strong> <a href="../R/8442.html" title="Multiple referred from 5 places.">UndoRedoDocumentEvent</a> <strong class="reserved">implements</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> <em class="brace">{</em>
<a id="L2949" name="L2949"></a>2949         <strong class="reserved">private</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> src = <strong class="reserved">null</strong>;
<a id="L2950" name="L2950"></a>2950         <strong class="reserved">private</strong> <a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L2951" name="L2951"></a>2951 
<a id="L2952" name="L2952"></a>2952         <strong class="reserved">public</strong> UndoRedoDocumentEvent(<a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> src, <strong class="reserved">boolean</strong> isUndo) <em class="brace">{</em>
<a id="L2953" name="L2953"></a>2953             <strong class="reserved">this</strong>.src = src;
<a id="L2954" name="L2954"></a>2954             <strong class="reserved">if</strong>(isUndo) <em class="brace">{</em>
<a id="L2955" name="L2955"></a>2955                 <strong class="reserved">if</strong>(src.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT)) <em class="brace">{</em>
<a id="L2956" name="L2956"></a>2956                     <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE;
<a id="L2957" name="L2957"></a>2957                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong>(src.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE)) <em class="brace">{</em>
<a id="L2958" name="L2958"></a>2958                     <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT;
<a id="L2959" name="L2959"></a>2959                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2960" name="L2960"></a>2960                     <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = src.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L2961" name="L2961"></a>2961                 <em class="brace">}</em>
<a id="L2962" name="L2962"></a>2962             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2963" name="L2963"></a>2963                 <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = src.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L2964" name="L2964"></a>2964             <em class="brace">}</em>
<a id="L2965" name="L2965"></a>2965         <em class="brace">}</em>
<a id="L2966" name="L2966"></a>2966 
<a id="L2967" name="L2967"></a>2967         <strong class="reserved">public</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> <a href="../R/19086.html" title="Multiple referred from 343 places.">getSource</a>() <em class="brace">{</em>
<a id="L2968" name="L2968"></a>2968             <strong class="reserved">return</strong> src;
<a id="L2969" name="L2969"></a>2969         <em class="brace">}</em>
<a id="L2970" name="L2970"></a>2970 
<a id="L2971" name="L2971"></a>2971         <em class="comment">// DocumentEvent methods delegated to DefaultDocumentEvent source</em>
<a id="L2972" name="L2972"></a>2972         <em class="comment">// except getType() which depends on operation (Undo or Redo).</em>
<a id="L2973" name="L2973"></a>2973         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>() <em class="brace">{</em>
<a id="L2974" name="L2974"></a>2974             <strong class="reserved">return</strong> src.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L2975" name="L2975"></a>2975         <em class="brace">}</em>
<a id="L2976" name="L2976"></a>2976 
<a id="L2977" name="L2977"></a>2977         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17335.html" title="Multiple referred from 644 places.">getLength</a>() <em class="brace">{</em>
<a id="L2978" name="L2978"></a>2978             <strong class="reserved">return</strong> src.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L2979" name="L2979"></a>2979         <em class="brace">}</em>
<a id="L2980" name="L2980"></a>2980 
<a id="L2981" name="L2981"></a>2981         <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L2982" name="L2982"></a>2982             <strong class="reserved">return</strong> src.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L2983" name="L2983"></a>2983         <em class="brace">}</em>
<a id="L2984" name="L2984"></a>2984 
<a id="L2985" name="L2985"></a>2985         <strong class="reserved">public</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em>
<a id="L2986" name="L2986"></a>2986             <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L2987" name="L2987"></a>2987         <em class="brace">}</em>
<a id="L2988" name="L2988"></a>2988 
<a id="L2989" name="L2989"></a>2989         <strong class="reserved">public</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> <a href="../R/15490.html" title="Multiple referred from 7 places.">getChange</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L2990" name="L2990"></a>2990             <strong class="reserved">return</strong> src.<a href="../D/17564.html" title="Multiple defined in 3 places.">getChange</a>(elem);
<a id="L2991" name="L2991"></a>2991         <em class="brace">}</em>
<a id="L2992" name="L2992"></a>2992     <em class="brace">}</em>
<a id="L2993" name="L2993"></a>2993 
<div class="comment">
      An implementation of ElementChange that can be added to the document
      event.</div>
<a id="L2998" name="L2998"></a>2998     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/2583.html" title="Multiple referred from 12 places.">ElementEdit</a> <strong class="reserved">extends</strong> <a href="../S/3141.html#L38" title="Defined at 38 in src/javax/swing/undo/AbstractUndoableEdit.java.">AbstractUndoableEdit</a> <strong class="reserved">implements</strong> <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> <em class="brace">{</em>
<a id="L2999" name="L2999"></a>2999 
<div class="comment">
          Constructs an edit record.  This does not modify the element
          so it can safely be used to <em>catch up</em> a view to the
          current model state for views that just attached to a model.
          @param e the element
          @param index the index into the model &gt;= 0
          @param removed a set of elements that were removed
          @param added a set of elements that were added</div>
<a id="L3010" name="L3010"></a>3010         <strong class="reserved">public</strong> ElementEdit(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] removed, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] added) <em class="brace">{</em>
<a id="L3011" name="L3011"></a>3011             <strong class="reserved">super</strong>();
<a id="L3012" name="L3012"></a>3012             <strong class="reserved">this</strong>.e = e;
<a id="L3013" name="L3013"></a>3013             <strong class="reserved">this</strong>.<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3014" name="L3014"></a>3014             <strong class="reserved">this</strong>.removed = removed;
<a id="L3015" name="L3015"></a>3015             <strong class="reserved">this</strong>.added = added;
<a id="L3016" name="L3016"></a>3016         <em class="brace">}</em>
<a id="L3017" name="L3017"></a>3017 
<div class="comment">
          Returns the underlying element.
          @return the element</div>
<a id="L3023" name="L3023"></a>3023         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>() <em class="brace">{</em>
<a id="L3024" name="L3024"></a>3024             <strong class="reserved">return</strong> e;
<a id="L3025" name="L3025"></a>3025         <em class="brace">}</em>
<a id="L3026" name="L3026"></a>3026 
<div class="comment">
          Returns the index into the list of elements.
          @return the index &gt;= 0</div>
<a id="L3032" name="L3032"></a>3032         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17035.html" title="Multiple referred from 302 places.">getIndex</a>() <em class="brace">{</em>
<a id="L3033" name="L3033"></a>3033             <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3034" name="L3034"></a>3034         <em class="brace">}</em>
<a id="L3035" name="L3035"></a>3035 
<div class="comment">
          Gets a list of children that were removed.
          @return the list</div>
<a id="L3041" name="L3041"></a>3041         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] <a href="../R/15559.html" title="Multiple referred from 4 places.">getChildrenRemoved</a>() <em class="brace">{</em>
<a id="L3042" name="L3042"></a>3042             <strong class="reserved">return</strong> removed;
<a id="L3043" name="L3043"></a>3043         <em class="brace">}</em>
<a id="L3044" name="L3044"></a>3044 
<div class="comment">
          Gets a list of children that were added.
          @return the list</div>
<a id="L3050" name="L3050"></a>3050         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] <a href="../R/15558.html" title="Multiple referred from 5 places.">getChildrenAdded</a>() <em class="brace">{</em>
<a id="L3051" name="L3051"></a>3051             <strong class="reserved">return</strong> added;
<a id="L3052" name="L3052"></a>3052         <em class="brace">}</em>
<a id="L3053" name="L3053"></a>3053 
<div class="comment">
          Redoes a change.
          @exception CannotRedoException if the change cannot be redone</div>
<a id="L3059" name="L3059"></a>3059         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25693.html" title="Multiple referred from 14 places.">redo</a>() <strong class="reserved">throws</strong> <a href="../S/3138.html#L41" title="Defined at 41 in src/javax/swing/undo/CannotRedoException.java.">CannotRedoException</a> <em class="brace">{</em>
<a id="L3060" name="L3060"></a>3060             <strong class="reserved">super</strong>.<a href="../D/30435.html" title="Multiple defined in 13 places.">redo</a>();
<a id="L3061" name="L3061"></a>3061 
<a id="L3062" name="L3062"></a>3062             <em class="comment">// Since this event will be reused, switch around added/removed.</em>
<a id="L3063" name="L3063"></a>3063             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] tmp = removed;
<a id="L3064" name="L3064"></a>3064             removed = added;
<a id="L3065" name="L3065"></a>3065             added = tmp;
<a id="L3066" name="L3066"></a>3066 
<a id="L3067" name="L3067"></a>3067             <em class="comment">// PENDING(prinz) need MutableElement interface, canRedo() should check</em>
<a id="L3068" name="L3068"></a>3068             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a>)e).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, removed.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, added);
<a id="L3069" name="L3069"></a>3069         <em class="brace">}</em>
<a id="L3070" name="L3070"></a>3070 
<div class="comment">
          Undoes a change.
          @exception CannotUndoException if the change cannot be undone</div>
<a id="L3076" name="L3076"></a>3076         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29628.html" title="Multiple referred from 38 places.">undo</a>() <strong class="reserved">throws</strong> <a href="../S/3140.html#L42" title="Defined at 42 in src/javax/swing/undo/CannotUndoException.java.">CannotUndoException</a> <em class="brace">{</em>
<a id="L3077" name="L3077"></a>3077             <strong class="reserved">super</strong>.<a href="../D/35822.html" title="Multiple defined in 13 places.">undo</a>();
<a id="L3078" name="L3078"></a>3078             <em class="comment">// PENDING(prinz) need MutableElement interface, canUndo() should check</em>
<a id="L3079" name="L3079"></a>3079             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a>)e).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, added.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, removed);
<a id="L3080" name="L3080"></a>3080 
<a id="L3081" name="L3081"></a>3081             <em class="comment">// Since this event will be reused, switch around added/removed.</em>
<a id="L3082" name="L3082"></a>3082             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] tmp = removed;
<a id="L3083" name="L3083"></a>3083             removed = added;
<a id="L3084" name="L3084"></a>3084             added = tmp;
<a id="L3085" name="L3085"></a>3085         <em class="brace">}</em>
<a id="L3086" name="L3086"></a>3086 
<a id="L3087" name="L3087"></a>3087         <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e;
<a id="L3088" name="L3088"></a>3088         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3089" name="L3089"></a>3089         <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] removed;
<a id="L3090" name="L3090"></a>3090         <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] added;
<a id="L3091" name="L3091"></a>3091     <em class="brace">}</em>
<a id="L3092" name="L3092"></a>3092 
<a id="L3093" name="L3093"></a>3093 
<a id="L3094" name="L3094"></a>3094     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2090.html" title="Multiple referred from 2 places.">DefaultFilterBypass</a> <strong class="reserved">extends</strong> <a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a>.<a href="../D/3245.html" title="Multiple defined in 2 places.">FilterBypass</a> <em class="brace">{</em>
<a id="L3095" name="L3095"></a>3095         <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L3096" name="L3096"></a>3096             <strong class="reserved">return</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<strong class="reserved">this</strong>;
<a id="L3097" name="L3097"></a>3097         <em class="brace">}</em>
<a id="L3098" name="L3098"></a>3098 
<a id="L3099" name="L3099"></a>3099         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong>
<a id="L3100" name="L3100"></a>3100             <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L3101" name="L3101"></a>3101             <a href="../D/24024.html" title="Multiple defined in 2 places.">handleRemove</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L3102" name="L3102"></a>3102         <em class="brace">}</em>
<a id="L3103" name="L3103"></a>3103 
<a id="L3104" name="L3104"></a>3104         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20792.html" title="Multiple referred from 41 places.">insertString</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>,
<a id="L3105" name="L3105"></a>3105                                  <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <strong class="reserved">throws</strong>
<a id="L3106" name="L3106"></a>3106                                         <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L3107" name="L3107"></a>3107             <a href="../S/3268.html#L718" title="Defined at 718 in src/javax/swing/text/AbstractDocument.java.">handleInsertString</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3108" name="L3108"></a>3108         <em class="brace">}</em>
<a id="L3109" name="L3109"></a>3109 
<a id="L3110" name="L3110"></a>3110         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>,
<a id="L3111" name="L3111"></a>3111                             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L3112" name="L3112"></a>3112             <a href="../D/24024.html" title="Multiple defined in 2 places.">handleRemove</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L3113" name="L3113"></a>3113             <a href="../S/3268.html#L718" title="Defined at 718 in src/javax/swing/text/AbstractDocument.java.">handleInsertString</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrs);
<a id="L3114" name="L3114"></a>3114         <em class="brace">}</em>
<a id="L3115" name="L3115"></a>3115     <em class="brace">}</em>
<a id="L3116" name="L3116"></a>3116 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L163">[^]</a><a href="#L3110">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>