<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L82">[^]</a><a href="#L406">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L82" title="Defined at 82.">getChildNodes</a></li>
<li><a href="#L89" title="Defined at 89.">getNodeValue</a></li>
<li><a href="#L99" title="Defined at 99.">setNodeValueInternal</a></li>
<li><a href="#L110" title="Defined at 110.">setNodeValueInternal</a></li>
<li><a href="#L141" title="Defined at 141.">setNodeValue</a></li>
<li><a href="#L161" title="Defined at 161.">getData</a></li>
<li><a href="#L172" title="Defined at 172.">getLength</a></li>
<li><a href="#L187" title="Defined at 187.">appendData</a></li>
<li><a href="#L216" title="Defined at 216.">deleteData</a></li>
<li><a href="#L228" title="Defined at 228.">internalDeleteData</a></li>
<li><a href="#L273" title="Defined at 273.">insertData</a></li>
<li><a href="#L287" title="Defined at 287.">internalInsertData</a></li>
<li><a href="#L343" title="Defined at 343.">replaceData</a></li>
<li><a href="#L381" title="Defined at 381.">setData</a></li>
<li><a href="#L406" title="Defined at 406.">substringData</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2002,2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.dom;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> org.w3c.dom.DOMException;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> org.w3c.dom.NodeList;
<a id="L26" name="L26"></a>  26 
<div class="comment">
  CharacterData is an abstract Node that can carry character data as its
  Value.  It provides shared behavior for Text, CData, and
  possibly other node types. All offsets are 0-based.
  <p>
  Since ProcessingInstructionImpl inherits from this class to reuse the
  setNodeValue method, this class isn't declared as implementing the interface
  CharacterData. This is done by relevant subclasses (TexImpl, CommentImpl).
  </p><p>
  This class doesn't directly support mutation events, however, it notifies
  the document when mutations are performed so that the document class do so.
  @xerces.internal
  @since  PR-DOM-Level-1-19980818.</p></div>
<a id="L43" name="L43"></a>  43 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/1287.html" title="Multiple referred from 3 places.">CharacterDataImpl</a>
<a id="L44" name="L44"></a>  44     <strong class="reserved">extends</strong> <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <em class="brace">{</em>
<a id="L45" name="L45"></a>  45 
<a id="L46" name="L46"></a>  46     <em class="comment">//</em>
<a id="L47" name="L47"></a>  47     <em class="comment">// Constants</em>
<a id="L48" name="L48"></a>  48     <em class="comment">//</em>
<a id="L49" name="L49"></a>  49 
<div class="comment">
     /** Serialization version. */</div>
<a id="L51" name="L51"></a>  51     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 7931170150428474230L;
<a id="L52" name="L52"></a>  52 
<a id="L53" name="L53"></a>  53     <em class="comment">//</em>
<a id="L54" name="L54"></a>  54     <em class="comment">// Data</em>
<a id="L55" name="L55"></a>  55     <em class="comment">//</em>
<a id="L56" name="L56"></a>  56 
<a id="L57" name="L57"></a>  57     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L58" name="L58"></a>  58 
<div class="comment">
     /** Empty child nodes. */</div>
<a id="L60" name="L60"></a>  60     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">transient</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> singletonNodeList = <strong class="reserved">new</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a>() <em class="brace">{</em>
<a id="L61" name="L61"></a>  61         <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em> <strong class="reserved">return</strong> <strong class="reserved">null</strong>; <em class="brace">}</em>
<a id="L62" name="L62"></a>  62         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() <em class="brace">{</em> <strong class="reserved">return</strong> 0; <em class="brace">}</em>
<a id="L63" name="L63"></a>  63     <em class="brace">}</em>;
<a id="L64" name="L64"></a>  64 
<a id="L65" name="L65"></a>  65     <em class="comment">//</em>
<a id="L66" name="L66"></a>  66     <em class="comment">// Constructors</em>
<a id="L67" name="L67"></a>  67     <em class="comment">//</em>
<a id="L68" name="L68"></a>  68 
<a id="L69" name="L69"></a>  69     <strong class="reserved">public</strong> CharacterDataImpl()<em class="brace">{</em><em class="brace">}</em>
<a id="L70" name="L70"></a>  70 
<div class="comment">
     /** Factory constructor. */</div>
<a id="L72" name="L72"></a>  72     <strong class="reserved">protected</strong> CharacterDataImpl(<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L73" name="L73"></a>  73         <strong class="reserved">super</strong>(<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>);
<a id="L74" name="L74"></a>  74         <strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L75" name="L75"></a>  75     <em class="brace">}</em>
<a id="L76" name="L76"></a>  76 
<a id="L77" name="L77"></a>  77     <em class="comment">//</em>
<a id="L78" name="L78"></a>  78     <em class="comment">// Node methods</em>
<a id="L79" name="L79"></a>  79     <em class="comment">//</em>
<a id="L80" name="L80"></a>  80 
<div class="comment">
     /** Returns an empty node list. */</div>
<a id="L82" name="L82"></a>  82     <strong class="reserved">public</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../R/15546.html" title="Multiple referred from 51 places.">getChildNodes</a>() <em class="brace">{</em>
<a id="L83" name="L83"></a>  83         <strong class="reserved">return</strong> singletonNodeList;
<a id="L84" name="L84"></a>  84     <em class="brace">}</em>
<a id="L85" name="L85"></a>  85 
<div class="comment">
      returns the content of this node</div>
<a id="L89" name="L89"></a>  89     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17992.html" title="Multiple referred from 231 places.">getNodeValue</a>() <em class="brace">{</em>
<a id="L90" name="L90"></a>  90         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L91" name="L91"></a>  91             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L92" name="L92"></a>  92         <em class="brace">}</em>
<a id="L93" name="L93"></a>  93         <strong class="reserved">return</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L94" name="L94"></a>  94     <em class="brace">}</em>
<a id="L95" name="L95"></a>  95 
<div class="comment">
 Convenience wrapper for calling setNodeValueInternal when
      we are not performing a replacement operation</div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27826.html" title="Multiple referred from 6 places.">setNodeValueInternal</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L100" name="L100"></a> 100         <a href="../D/33368.html" title="Multiple defined in 2 places.">setNodeValueInternal</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">false</strong>);
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>
<a id="L102" name="L102"></a> 102 
<div class="comment">
 This function added so that we can distinguish whether
       setNodeValue has been called from some other DOM functions.
       or by the client.<p>
       This is important, because we do one type of Range fix-up,
       from the high-level functions in CharacterData, and another
       type if the client simply calls setNodeValue(value).</p></div>
<a id="L110" name="L110"></a> 110     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27826.html" title="Multiple referred from 6 places.">setNodeValueInternal</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L111" name="L111"></a> 111 
<a id="L112" name="L112"></a> 112         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L113" name="L113"></a> 113 
<a id="L114" name="L114"></a> 114         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking &amp;&amp; <a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L115" name="L115"></a> 115             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L116" name="L116"></a> 116             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L117" name="L117"></a> 117         <em class="brace">}</em>
<a id="L118" name="L118"></a> 118 
<a id="L119" name="L119"></a> 119         <em class="comment">// revisit: may want to set the value in ownerDocument.</em>
<a id="L120" name="L120"></a> 120         <em class="comment">// Default behavior, overridden in some subclasses</em>
<a id="L121" name="L121"></a> 121         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L122" name="L122"></a> 122             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L123" name="L123"></a> 123         <em class="brace">}</em>
<a id="L124" name="L124"></a> 124 
<a id="L125" name="L125"></a> 125         <em class="comment">// keep old value for document notification</em>
<a id="L126" name="L126"></a> 126         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue = <strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L127" name="L127"></a> 127 
<a id="L128" name="L128"></a> 128         <em class="comment">// notify document</em>
<a id="L129" name="L129"></a> 129         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/27755.html" title="Multiple defined in 2 places.">modifyingCharacterData</a>(<strong class="reserved">this</strong>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L130" name="L130"></a> 130 
<a id="L131" name="L131"></a> 131         <strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L132" name="L132"></a> 132 
<a id="L133" name="L133"></a> 133         <em class="comment">// notify document</em>
<a id="L134" name="L134"></a> 134         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/27748.html" title="Multiple defined in 2 places.">modifiedCharacterData</a>(<strong class="reserved">this</strong>, oldvalue, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L135" name="L135"></a> 135     <em class="brace">}</em>
<a id="L136" name="L136"></a> 136 
<div class="comment">
      Sets the content, possibly firing related events,
      and updating ranges (via notification to the document)</div>
<a id="L141" name="L141"></a> 141     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27825.html" title="Multiple referred from 20 places.">setNodeValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L142" name="L142"></a> 142 
<a id="L143" name="L143"></a> 143         <a href="../D/33368.html" title="Multiple defined in 2 places.">setNodeValueInternal</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145         <em class="comment">// notify document</em>
<a id="L146" name="L146"></a> 146         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>().<a href="../D/31076.html" title="Multiple defined in 2 places.">replacedText</a>(<strong class="reserved">this</strong>);
<a id="L147" name="L147"></a> 147     <em class="brace">}</em>
<a id="L148" name="L148"></a> 148 
<a id="L149" name="L149"></a> 149     <em class="comment">//</em>
<a id="L150" name="L150"></a> 150     <em class="comment">// CharacterData methods</em>
<a id="L151" name="L151"></a> 151     <em class="comment">//</em>
<a id="L152" name="L152"></a> 152 
<div class="comment">
      Retrieve character data currently stored in this node.
      @throws DOMExcpetion(DOMSTRING_SIZE_ERR) In some implementations,
      the stored data may exceed the permitted length of strings. If so,
      getData() will throw this DOMException advising the user to
      instead retrieve the data in chunks via the substring() operation.</div>
<a id="L161" name="L161"></a> 161     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15943.html" title="Multiple referred from 161 places.">getData</a>() <em class="brace">{</em>
<a id="L162" name="L162"></a> 162         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L163" name="L163"></a> 163             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L164" name="L164"></a> 164         <em class="brace">}</em>
<a id="L165" name="L165"></a> 165         <strong class="reserved">return</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L166" name="L166"></a> 166     <em class="brace">}</em>
<a id="L167" name="L167"></a> 167 
<div class="comment">
      Report number of characters currently stored in this node's
      data. It may be 0, meaning that the value is an empty string.</div>
<a id="L172" name="L172"></a> 172     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17335.html" title="Multiple referred from 644 places.">getLength</a>() <em class="brace">{</em>
<a id="L173" name="L173"></a> 173         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L175" name="L175"></a> 175         <em class="brace">}</em>
<a id="L176" name="L176"></a> 176         <strong class="reserved">return</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L177" name="L177"></a> 177     <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<div class="comment">
      Concatenate additional characters onto the end of the data
      stored in this node. Note that this, and insert(), are the paths
      by which a DOM could wind up accumulating more data than the
      language's strings can easily handle. (See above discussion.)
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if node is readonly.</div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10203.html" title="Multiple referred from 10 places.">appendData</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188 
<a id="L189" name="L189"></a> 189         <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L191" name="L191"></a> 191             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L192" name="L192"></a> 192         <em class="brace">}</em>
<a id="L193" name="L193"></a> 193         <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L194" name="L194"></a> 194             <strong class="reserved">return</strong>;
<a id="L195" name="L195"></a> 195         <em class="brace">}</em>
<a id="L196" name="L196"></a> 196         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L197" name="L197"></a> 197             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L198" name="L198"></a> 198         <em class="brace">}</em>
<a id="L199" name="L199"></a> 199 
<a id="L200" name="L200"></a> 200         <a href="../D/33367.html" title="Multiple defined in 12 places.">setNodeValue</a>(<strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> + <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L201" name="L201"></a> 201 
<a id="L202" name="L202"></a> 202     <em class="brace">}</em> <em class="comment">// appendData(String)</em>
<a id="L203" name="L203"></a> 203 
<div class="comment">
      Remove a range of characters from the node's value. Throws a
      DOMException if the offset is beyond the end of the
      string. However, a deletion _count_ that exceeds the available
      data is accepted as a delete-to-end request.
      @throws DOMException(INDEX_SIZE_ERR) if offset is negative or
      greater than length, or if count is negative.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if node is
      readonly.</div>
<a id="L216" name="L216"></a> 216     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13208.html" title="Multiple referred from 2 places.">deleteData</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>)
<a id="L217" name="L217"></a> 217         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219         <a href="../S/5471.html#L228" title="Defined at 228 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">internalDeleteData</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <strong class="reserved">false</strong>);
<a id="L220" name="L220"></a> 220     <em class="brace">}</em> <em class="comment">// deleteData(int,int)</em>
<a id="L221" name="L221"></a> 221 
<a id="L222" name="L222"></a> 222 
<div class="comment">
 NON-DOM INTERNAL: Within DOM actions, we sometimes need to be able
      to control which mutation events are spawned. This version of the
      deleteData operation allows us to do so. It is not intended
      for use by application programs.</div>
<a id="L228" name="L228"></a> 228     <strong class="reserved">void</strong> <a href="../R/20927.html" title="Multiple referred from 2 places.">internalDeleteData</a> (<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>)
<a id="L229" name="L229"></a> 229     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L232" name="L232"></a> 232         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233             <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L235" name="L235"></a> 235                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L236" name="L236"></a> 236             <em class="brace">}</em>
<a id="L237" name="L237"></a> 237 
<a id="L238" name="L238"></a> 238             <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; 0) <em class="brace">{</em>
<a id="L239" name="L239"></a> 239                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INDEX_SIZE_ERR", <strong class="reserved">null</strong>);
<a id="L240" name="L240"></a> 240                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INDEX_SIZE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L241" name="L241"></a> 241             <em class="brace">}</em>
<a id="L242" name="L242"></a> 242         <em class="brace">}</em>
<a id="L243" name="L243"></a> 243 
<a id="L244" name="L244"></a> 244         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L245" name="L245"></a> 245             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L246" name="L246"></a> 246         <em class="brace">}</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">int</strong> tailLength = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> - <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, 0);
<a id="L248" name="L248"></a> 248         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L249" name="L249"></a> 249             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) +
<a id="L250" name="L250"></a> 250             (tailLength &gt; 0 ? <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> + tailLength) : "");
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252             <a href="../D/33368.html" title="Multiple defined in 2 places.">setNodeValueInternal</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254             <em class="comment">// notify document</em>
<a id="L255" name="L255"></a> 255             <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/14820.html" title="Multiple defined in 2 places.">deletedText</a>(<strong class="reserved">this</strong>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L256" name="L256"></a> 256         <em class="brace">}</em>
<a id="L257" name="L257"></a> 257         <strong class="reserved">catch</strong> (<a href="../S/1594.html#L39" title="Defined at 39 in src/java/lang/StringIndexOutOfBoundsException.java.">StringIndexOutOfBoundsException</a> e) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INDEX_SIZE_ERR", <strong class="reserved">null</strong>);
<a id="L259" name="L259"></a> 259             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INDEX_SIZE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L260" name="L260"></a> 260         <em class="brace">}</em>
<a id="L261" name="L261"></a> 261 
<a id="L262" name="L262"></a> 262     <em class="brace">}</em> <em class="comment">// internalDeleteData(int,int,boolean)</em>
<a id="L263" name="L263"></a> 263 
<div class="comment">
      Insert additional characters into the data stored in this node,
      at the offset specified.
      @throws DOMException(INDEX_SIZE_ERR) if offset is negative or
      greater than length.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if node is readonly.</div>
<a id="L273" name="L273"></a> 273     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20765.html" title="Multiple referred from 2 places.">insertData</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>)
<a id="L274" name="L274"></a> 274         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276         <a href="../S/5471.html#L287" title="Defined at 287 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">internalInsertData</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">false</strong>);
<a id="L277" name="L277"></a> 277 
<a id="L278" name="L278"></a> 278     <em class="brace">}</em> <em class="comment">// insertData(int,int)</em>
<a id="L279" name="L279"></a> 279 
<a id="L280" name="L280"></a> 280 
<a id="L281" name="L281"></a> 281 
<div class="comment">
 NON-DOM INTERNAL: Within DOM actions, we sometimes need to be able
      to control which mutation events are spawned. This version of the
      insertData operation allows us to do so. It is not intended
      for use by application programs.</div>
<a id="L287" name="L287"></a> 287     <strong class="reserved">void</strong> <a href="../R/20947.html" title="Multiple referred from 2 places.">internalInsertData</a> (<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>)
<a id="L288" name="L288"></a> 288     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L289" name="L289"></a> 289 
<a id="L290" name="L290"></a> 290         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L291" name="L291"></a> 291 
<a id="L292" name="L292"></a> 292         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking &amp;&amp; <a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L294" name="L294"></a> 294             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296 
<a id="L297" name="L297"></a> 297         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L299" name="L299"></a> 299         <em class="brace">}</em>
<a id="L300" name="L300"></a> 300         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L301" name="L301"></a> 301             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> =
<a id="L302" name="L302"></a> 302                 <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(<strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>).<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>).<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304 
<a id="L305" name="L305"></a> 305             <a href="../D/33368.html" title="Multiple defined in 2 places.">setNodeValueInternal</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L306" name="L306"></a> 306 
<a id="L307" name="L307"></a> 307             <em class="comment">// notify document</em>
<a id="L308" name="L308"></a> 308             <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/24810.html" title="Multiple defined in 2 places.">insertedText</a>(<strong class="reserved">this</strong>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L309" name="L309"></a> 309         <em class="brace">}</em>
<a id="L310" name="L310"></a> 310         <strong class="reserved">catch</strong> (<a href="../S/1594.html#L39" title="Defined at 39 in src/java/lang/StringIndexOutOfBoundsException.java.">StringIndexOutOfBoundsException</a> e) <em class="brace">{</em>
<a id="L311" name="L311"></a> 311             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INDEX_SIZE_ERR", <strong class="reserved">null</strong>);
<a id="L312" name="L312"></a> 312             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INDEX_SIZE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L313" name="L313"></a> 313         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315     <em class="brace">}</em> <em class="comment">// internalInsertData(int,String,boolean)</em>
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317 
<a id="L318" name="L318"></a> 318 
<div class="comment">
      Replace a series of characters at the specified (zero-based)
      offset with a new string, NOT necessarily of the same
      length. Convenience method, equivalent to a delete followed by an
      insert. Throws a DOMException if the specified offset is beyond
      the end of the existing data.
      @param offset       The offset at which to begin replacing.
      @param count        The number of characters to remove,
      interpreted as in the delete() method.
      @param data         The new string to be inserted at offset in place of
      the removed data. Note that the entire string will
      be inserted -- the count parameter does not affect
      insertion, and the new data may be longer or shorter
      than the substring it replaces.
      @throws DOMException(INDEX_SIZE_ERR) if offset is negative or
      greater than length, or if count is negative.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if node is
      readonly.</div>
<a id="L343" name="L343"></a> 343     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5273.html#L2613" title="Referred from 2613 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">replaceData</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>)
<a id="L344" name="L344"></a> 344     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L345" name="L345"></a> 345 
<a id="L346" name="L346"></a> 346         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L347" name="L347"></a> 347 
<a id="L348" name="L348"></a> 348         <em class="comment">// The read-only check is done by deleteData()</em>
<a id="L349" name="L349"></a> 349         <em class="comment">// ***** This could be more efficient w/r/t Mutation Events,</em>
<a id="L350" name="L350"></a> 350         <em class="comment">// specifically by aggregating DOMAttrModified and</em>
<a id="L351" name="L351"></a> 351         <em class="comment">// DOMSubtreeModified. But mutation events are</em>
<a id="L352" name="L352"></a> 352         <em class="comment">// underspecified; I don't feel compelled</em>
<a id="L353" name="L353"></a> 353         <em class="comment">// to deal with it right now.</em>
<a id="L354" name="L354"></a> 354         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking &amp;&amp; <a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L356" name="L356"></a> 356             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L357" name="L357"></a> 357         <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<a id="L359" name="L359"></a> 359         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L361" name="L361"></a> 361         <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<a id="L363" name="L363"></a> 363         <em class="comment">//notify document</em>
<a id="L364" name="L364"></a> 364         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31080.html" title="Multiple defined in 2 places.">replacingData</a>(<strong class="reserved">this</strong>);
<a id="L365" name="L365"></a> 365 
<a id="L366" name="L366"></a> 366         <em class="comment">// keep old value for document notification</em>
<a id="L367" name="L367"></a> 367         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue = <strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369         <a href="../S/5471.html#L228" title="Defined at 228 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">internalDeleteData</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <strong class="reserved">true</strong>);
<a id="L370" name="L370"></a> 370         <a href="../S/5471.html#L287" title="Defined at 287 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">internalInsertData</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">true</strong>);
<a id="L371" name="L371"></a> 371 
<a id="L372" name="L372"></a> 372         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31074.html" title="Multiple defined in 2 places.">replacedCharacterData</a>(<strong class="reserved">this</strong>, oldvalue, <strong class="reserved">this</strong>.<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374     <em class="brace">}</em> <em class="comment">// replaceData(int,int,String)</em>
<a id="L375" name="L375"></a> 375 
<div class="comment">
      Store character data into this node.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if node is readonly.</div>
<a id="L381" name="L381"></a> 381     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27163.html" title="Multiple referred from 9 places.">setData</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)
<a id="L382" name="L382"></a> 382         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L383" name="L383"></a> 383         <a href="../D/33367.html" title="Multiple defined in 12 places.">setNodeValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L384" name="L384"></a> 384     <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<div class="comment">
      Substring is more than a convenience function. In some
      implementations of the DOM, where the stored data may exceed the
      length that can be returned in a single string, the only way to
      read it all is to extract it in chunks via this method.
      @param offset        Zero-based offset of first character to retrieve.
      @param count Number of characters to retrieve.
      If the sum of offset and count exceeds the length, all characters
      to end of data are returned.
      @throws DOMException(INDEX_SIZE_ERR) if offset is negative or
      greater than length, or if count is negative.
      @throws DOMException(WSTRING_SIZE_ERR) In some implementations,
      count may exceed the permitted length of strings. If so,
      substring() will throw this DOMException advising the user to
      instead retrieve the data in smaller chunks.</div>
<a id="L406" name="L406"></a> 406     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> substringData(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>)
<a id="L407" name="L407"></a> 407         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L411" name="L411"></a> 411         <em class="brace">}</em>
<a id="L412" name="L412"></a> 412 
<a id="L413" name="L413"></a> 413         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L414" name="L414"></a> 414         <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; 0 || <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; 0 || <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1) <em class="brace">{</em>
<a id="L415" name="L415"></a> 415             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INDEX_SIZE_ERR", <strong class="reserved">null</strong>);
<a id="L416" name="L416"></a> 416             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INDEX_SIZE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L417" name="L417"></a> 417         <em class="brace">}</em>
<a id="L418" name="L418"></a> 418 
<a id="L419" name="L419"></a> 419         <strong class="reserved">int</strong> tailIndex = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L420" name="L420"></a> 420 
<a id="L421" name="L421"></a> 421         <strong class="reserved">return</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, tailIndex);
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423     <em class="brace">}</em> <em class="comment">// substringData(int,int):String</em>
<a id="L424" name="L424"></a> 424 
<a id="L425" name="L425"></a> 425 <em class="brace">}</em> <em class="comment">// class CharacterDataImpl</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L82">[^]</a><a href="#L406">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>