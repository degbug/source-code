<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/View.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L207">[^]</a><a href="#L1355">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L207" title="Defined at 207.">getParent</a></li>
<li><a href="#L218" title="Defined at 218.">isVisible</a></li>
<li><a href="#L235" title="Defined at 235.">getPreferredSpan</a></li>
<li><a href="#L246" title="Defined at 246.">getMinimumSpan</a></li>
<li><a href="#L264" title="Defined at 264.">getMaximumSpan</a></li>
<li><a href="#L285" title="Defined at 285.">preferenceChanged</a></li>
<li><a href="#L304" title="Defined at 304.">getAlignment</a></li>
<li><a href="#L316" title="Defined at 316.">paint</a></li>
<li><a href="#L334" title="Defined at 334.">setParent</a></li>
<li><a href="#L356" title="Defined at 356.">getViewCount</a></li>
<li><a href="#L367" title="Defined at 367.">getView</a></li>
<li><a href="#L378" title="Defined at 378.">removeAll</a></li>
<li><a href="#L387" title="Defined at 387.">remove</a></li>
<li><a href="#L400" title="Defined at 400.">insert</a></li>
<li><a href="#L414" title="Defined at 414.">append</a></li>
<li><a href="#L438" title="Defined at 438.">replace</a></li>
<li><a href="#L452" title="Defined at 452.">getViewIndex</a></li>
<li><a href="#L468" title="Defined at 468.">getChildAllocation</a></li>
<li><a href="#L501" title="Defined at 501.">getNextVisualPositionFrom</a></li>
<li><a href="#L591" title="Defined at 591.">modelToView</a></li>
<li><a href="#L622" title="Defined at 622.">modelToView</a></li>
<li><a href="#L672" title="Defined at 672.">viewToModel</a></li>
<li><a href="#L699" title="Defined at 699.">insertUpdate</a></li>
<li><a href="#L740" title="Defined at 740.">removeUpdate</a></li>
<li><a href="#L781" title="Defined at 781.">changedUpdate</a></li>
<li><a href="#L803" title="Defined at 803.">getDocument</a></li>
<li><a href="#L814" title="Defined at 814.">getStartOffset</a></li>
<li><a href="#L825" title="Defined at 825.">getEndOffset</a></li>
<li><a href="#L837" title="Defined at 837.">getElement</a></li>
<li><a href="#L850" title="Defined at 850.">getGraphics</a></li>
<li><a href="#L869" title="Defined at 869.">getAttributes</a></li>
<li><a href="#L905" title="Defined at 905.">breakView</a></li>
<li><a href="#L926" title="Defined at 926.">createFragment</a></li>
<li><a href="#L969" title="Defined at 969.">getBreakWeight</a></li>
<li><a href="#L984" title="Defined at 984.">getResizeWeight</a></li>
<li><a href="#L996" title="Defined at 996.">setSize</a></li>
<li><a href="#L1007" title="Defined at 1007.">getContainer</a></li>
<li><a href="#L1021" title="Defined at 1021.">getViewFactory</a></li>
<li><a href="#L1034" title="Defined at 1034.">getToolTipText</a></li>
<li><a href="#L1059" title="Defined at 1059.">getViewIndex</a></li>
<li><a href="#L1104" title="Defined at 1104.">updateChildren</a></li>
<li><a href="#L1142" title="Defined at 1142.">forwardUpdate</a></li>
<li><a href="#L1173" title="Defined at 1173.">calculateUpdateIndexes</a></li>
<li><a href="#L1204" title="Defined at 1204.">updateAfterChange</a></li>
<li><a href="#L1223" title="Defined at 1223.">forwardUpdateToView</a></li>
<li><a href="#L1250" title="Defined at 1250.">updateLayout</a></li>
<li><a href="#L1337" title="Defined at 1337.">modelToView</a></li>
<li><a href="#L1355" title="Defined at 1355.">viewToModel</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.awt.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.swing.SwingConstants;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L30" name="L30"></a>  30 
<div class="comment">
  <p>
  A very important part of the text package is the <code>View</code> class.
  As the name suggests it represents a view of the text model,
  or a piece of the text model.
  It is this class that is responsible for the look of the text component.
  The view is not intended to be some completely new thing that one must
  learn, but rather is much like a lightweight component.
  </p><p>
By default, a view is very light.  It contains a reference to the parent
view from which it can fetch many things without holding state, and it
contains a reference to a portion of the model (<code>Element</code>).
A view does not
have to exactly represent an element in the model, that is simply a typical
and therefore convenient mapping.  A view can alternatively maintain a couple
of Position objects to maintain its location in the model (i.e. represent
a fragment of an element).  This is typically the result of formatting where
views have been broken down into pieces.  The convenience of a substantial
relationship to the element makes it easier to build factories to produce the
views, and makes it easier  to keep track of the view pieces as the model is
changed and the view must be changed to reflect the model.  Simple views
therefore represent an Element directly and complex views do not.
</p><p>
A view has the following responsibilities:
  </p><dl>
    <dt><b>Participate in layout.</b>
    </dt><dd>
    <p>The view has a <code>setSize</code> method which is like
    <code>doLayout</code> and <code>setSize</code> in <code>Component</code> combined.
    The view has a <code>preferenceChanged</code> method which is
    like <code>invalidate</code> in <code>Component</code> except that one can
    invalidate just one axis
    and the child requesting the change is identified.
    </p><p>A View expresses the size that it would like to be in terms of three
    values, a minimum, a preferred, and a maximum span.  Layout in a view is
    can be done independently upon each axis.  For a properly functioning View
    implementation, the minimum span will be &lt;= the preferred span which in turn
    will be &lt;= the maximum span.
    </p>
    <p style="text-align:center"><img src="doc-files/View-flexibility.jpg" alt="The above text describes this graphic.">
    </p><p>The minimum set of methods for layout are:
    </p><ul><li>{@link #getMinimumSpan(int) getMinimumSpan}
    </li><li>{@link #getPreferredSpan(int) getPreferredSpan}
    </li><li>{@link #getMaximumSpan(int) getMaximumSpan}
    </li><li>{@link #getAlignment(int) getAlignment}
    </li><li>{@link #preferenceChanged(javax.swing.text.View, boolean, boolean) preferenceChanged}
    </li><li>{@link #setSize(float, float) setSize}
    </li></ul>
  <p>The <code>setSize</code> method should be prepared to be called a number of times
    (i.e. It may be called even if the size didn't change).
    The <code>setSize</code> method
    is generally called to make sure the View layout is complete prior to trying
    to perform an operation on it that requires an up-to-date layout.  A view's
    size should <em>always</em> be set to a value within the minimum and maximum
    span specified by that view.  Additionally, the view must always call the
    <code>preferenceChanged</code> method on the parent if it has changed the
    values for the
    layout it would like, and expects the parent to honor.  The parent View is
    not required to recognize a change until the <code>preferenceChanged</code>
    has been sent.
    This allows parent View implementations to cache the child requirements if
    desired.  The calling sequence looks something like the following:
    </p>
    <p style="text-align:center">
      <img src="doc-files/View-layout.jpg" alt="Sample calling sequence between parent view and child view:
       setSize, getMinimum, getPreferred, getMaximum, getAlignment, setSize">
    </p><p>The exact calling sequence is up to the layout functionality of
    the parent view (if the view has any children).  The view may collect
    the preferences of the children prior to determining what it will give
    each child, or it might iteratively update the children one at a time.
    </p>
    </dd><dt><b>Render a portion of the model.</b>
    </dt><dd>
    <p>This is done in the paint method, which is pretty much like a component
    paint method.  Views are expected to potentially populate a fairly large
    tree.  A <code>View</code> has the following semantics for rendering:
    </p>
    <ul><li>The view gets its allocation from the parent at paint time, so it
    must be prepared to redo layout if the allocated area is different from
    what it is prepared to deal with.
    </li><li>The coordinate system is the same as the hosting <code>Component</code>
    (i.e. the <code>Component</code> returned by the
    <a href="#L1007" title="Defined at 1007.">getContainer</a> method).
    This means a child view lives in the same coordinate system as the parent
    view unless the parent has explicitly changed the coordinate system.
    To schedule itself to be repainted a view can call repaint on the hosting
    <code>Component</code>.
    </li><li>The default is to <em>not clip</em> the children.  It is more efficient
    to allow a view to clip only if it really feels it needs clipping.
    </li><li>The <code>Graphics</code> object given is not initialized in any way.
    A view should set any settings needed.
    </li><li>A <code>View</code> is inherently transparent.  While a view may render into its
    entire allocation, typically a view does not.  Rendering is performed by
    traversing down the tree of <code>View</code> implementations.
    Each <code>View</code> is responsible
    for rendering its children.  This behavior is depended upon for thread
    safety.  While view implementations do not necessarily have to be implemented
    with thread safety in mind, other view implementations that do make use of
    concurrency can depend upon a tree traversal to guarantee thread safety.
    </li><li>The order of views relative to the model is up to the implementation.
    Although child views will typically be arranged in the same order that they
    occur in the model, they may be visually arranged in an entirely different
    order.  View implementations may have Z-Order associated with them if the
    children are overlapping.
    </li></ul>
    <p>The methods for rendering are:
    </p><ul><li>{@link #paint(java.awt.Graphics, java.awt.Shape) paint}
    </li></ul>
    </dd><dt><b>Translate between the model and view coordinate systems.</b>
    </dt><dd>
    <p>Because the view objects are produced from a factory and therefore cannot
    necessarily be counted upon to be in a particular pattern, one must be able
    to perform translation to properly locate spatial representation of the model.
    The methods for doing this are:
    </p><ul><li>{@link #modelToView(int, javax.swing.text.Position.Bias, int, javax.swing.text.Position.Bias, java.awt.Shape) modelToView}
    </li><li>{@link #viewToModel(float, float, java.awt.Shape, javax.swing.text.Position.Bias[]) viewToModel}
    </li><li>{@link #getDocument() getDocument}
    </li><li>{@link #getElement() getElement}
    </li><li>{@link #getStartOffset() getStartOffset}
    </li><li>{@link #getEndOffset() getEndOffset}
    </li></ul>
    <p>The layout must be valid prior to attempting to make the translation.
    The translation is not valid, and must not be attempted while changes
    are being broadcasted from the model via a <code>DocumentEvent</code>.
    </p>
    </dd><dt><b>Respond to changes from the model.</b>
    </dt><dd>
    <p>If the overall view is represented by many pieces (which is the best situation
    if one want to be able to change the view and write the least amount of new code),
    it would be impractical to have a huge number of <code>DocumentListener</code>s.
    If each
    view listened to the model, only a few would actually be interested in the
    changes broadcasted at any given time.   Since the model has no knowledge of
    views, it has no way to filter the broadcast of change information.  The view
    hierarchy itself is instead responsible for propagating the change information.
    At any level in the view hierarchy, that view knows enough about its children to
    best distribute the change information further.   Changes are therefore broadcasted
    starting from the root of the view hierarchy.
    The methods for doing this are:
    </p><ul><li><a href="#L699" title="Defined at 699.">insertUpdate</a>
    </li><li><a href="#L740" title="Defined at 740.">removeUpdate</a>
    </li><li><a href="#L781" title="Defined at 781.">changedUpdate</a>
    </li></ul>
    <p>
</p></dd></dl>
  @author  Timothy Prinzing</div>
<a id="L191" name="L191"></a> 191 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/8669.html" title="Multiple referred from 581 places.">View</a> <strong class="reserved">implements</strong> <a href="../S/2750.html#L35" title="Defined at 35 in src/javax/swing/SwingConstants.java.">SwingConstants</a> <em class="brace">{</em>
<a id="L192" name="L192"></a> 192 
<div class="comment">
      Creates a new <code>View</code> object.
      @param elem the <code>Element</code> to represent</div>
<a id="L198" name="L198"></a> 198     <strong class="reserved">public</strong> View(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199         <strong class="reserved">this</strong>.elem = elem;
<a id="L200" name="L200"></a> 200     <em class="brace">}</em>
<a id="L201" name="L201"></a> 201 
<div class="comment">
      Returns the parent of the view.
      @return the parent, or <code>null</code> if none exists</div>
<a id="L207" name="L207"></a> 207     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/18269.html" title="Multiple referred from 606 places.">getParent</a>() <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L209" name="L209"></a> 209     <em class="brace">}</em>
<a id="L210" name="L210"></a> 210 
<div class="comment">
       Returns a boolean that indicates whether
       the view is visible or not.  By default
       all views are visible.
       @return always returns true</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22218.html" title="Multiple referred from 244 places.">isVisible</a>() <em class="brace">{</em>
<a id="L219" name="L219"></a> 219         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L220" name="L220"></a> 220     <em class="brace">}</em>
<a id="L221" name="L221"></a> 221 
<a id="L222" name="L222"></a> 222 
<div class="comment">
      Determines the preferred span for this view along an
      axis.
      @param axis may be either <code>View.X_AXIS</code> or
               <code>View.Y_AXIS</code>
      @return   the span the view would like to be rendered into.
                Typically the view is told to render into the span
                that is returned, although there is no guarantee.
                The parent may choose to resize or break the view
      @see View#getPreferredSpan</div>
<a id="L235" name="L235"></a> 235     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">float</strong> <a href="../R/18413.html" title="Multiple referred from 96 places.">getPreferredSpan</a>(<strong class="reserved">int</strong> axis);
<a id="L236" name="L236"></a> 236 
<div class="comment">
      Determines the minimum span for this view along an
      axis.
      @param axis may be either <code>View.X_AXIS</code> or
               <code>View.Y_AXIS</code>
      @return  the minimum span the view can be rendered into
      @see View#getPreferredSpan</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17741.html" title="Multiple referred from 44 places.">getMinimumSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">int</strong> w = <a href="../D/22028.html" title="Multiple defined in 11 places.">getResizeWeight</a>(axis);
<a id="L248" name="L248"></a> 248         <strong class="reserved">if</strong> (w == 0) <em class="brace">{</em>
<a id="L249" name="L249"></a> 249             <em class="comment">// can't resize</em>
<a id="L250" name="L250"></a> 250             <strong class="reserved">return</strong> <a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis);
<a id="L251" name="L251"></a> 251         <em class="brace">}</em>
<a id="L252" name="L252"></a> 252         <strong class="reserved">return</strong> 0;
<a id="L253" name="L253"></a> 253     <em class="brace">}</em>
<a id="L254" name="L254"></a> 254 
<div class="comment">
      Determines the maximum span for this view along an
      axis.
      @param axis may be either <code>View.X_AXIS</code> or
               <code>View.Y_AXIS</code>
      @return  the maximum span the view can be rendered into
      @see View#getPreferredSpan</div>
<a id="L264" name="L264"></a> 264     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17622.html" title="Multiple referred from 43 places.">getMaximumSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265         <strong class="reserved">int</strong> w = <a href="../D/22028.html" title="Multiple defined in 11 places.">getResizeWeight</a>(axis);
<a id="L266" name="L266"></a> 266         <strong class="reserved">if</strong> (w == 0) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267             <em class="comment">// can't resize</em>
<a id="L268" name="L268"></a> 268             <strong class="reserved">return</strong> <a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis);
<a id="L269" name="L269"></a> 269         <em class="brace">}</em>
<a id="L270" name="L270"></a> 270         <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L271" name="L271"></a> 271     <em class="brace">}</em>
<a id="L272" name="L272"></a> 272 
<div class="comment">
      Child views can call this on the parent to indicate that
      the preference has changed and should be reconsidered
      for layout.  By default this just propagates upward to
      the next parent.  The root view will call
      <code>revalidate</code> on the associated text component.
      @param child the child view
      @param width true if the width preference has changed
      @param height true if the height preference has changed
      @see javax.swing.JComponent#revalidate</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24913.html" title="Multiple referred from 34 places.">preferenceChanged</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> child, <strong class="reserved">boolean</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">boolean</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L288" name="L288"></a> 288             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/29542.html" title="Multiple defined in 7 places.">preferenceChanged</a>(<strong class="reserved">this</strong>, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L289" name="L289"></a> 289         <em class="brace">}</em>
<a id="L290" name="L290"></a> 290     <em class="brace">}</em>
<a id="L291" name="L291"></a> 291 
<div class="comment">
      Determines the desired alignment for this view along an
      axis.  The desired alignment is returned.  This should be
      a value &gt;= 0.0 and &lt;= 1.0, where 0 indicates alignment at
      the origin and 1.0 indicates alignment to the full span
      away from the origin.  An alignment of 0.5 would be the
      center of the view.
      @param axis may be either <code>View.X_AXIS</code> or
               <code>View.Y_AXIS</code>
      @return the value 0.5</div>
<a id="L304" name="L304"></a> 304     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/15009.html" title="Multiple referred from 36 places.">getAlignment</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305         <strong class="reserved">return</strong> 0.5f;
<a id="L306" name="L306"></a> 306     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307 
<div class="comment">
      Renders using the given rendering surface and area on that
      surface.  The view may need to do layout and create child
      views to enable itself to render into the given allocation.
      @param g the rendering surface to use
      @param allocation the allocated region to render into</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> allocation);
<a id="L317" name="L317"></a> 317 
<div class="comment">
      Establishes the parent view for this view.  This is
      guaranteed to be called before any other methods if the
      parent view is functioning properly.  This is also
      the last method called, since it is called to indicate
      the view has been removed from the hierarchy as
      well. When this method is called to set the parent to
      null, this method does the same for each of its children,
      propagating the notification that they have been
      disconnected from the view tree. If this is
      reimplemented, <code>super.setParent()</code> should
      be called.
      @param parent the new parent, or <code>null</code> if the view is
               being removed from a parent</div>
<a id="L334" name="L334"></a> 334     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27912.html" title="Multiple referred from 145 places.">setParent</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335         <em class="comment">// if the parent is null then propogate down the view tree</em>
<a id="L336" name="L336"></a> 336         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L337" name="L337"></a> 337             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>(); i++) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338                 <strong class="reserved">if</strong> (<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i).<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>() == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339                     <em class="comment">// in FlowView.java view might be referenced</em>
<a id="L340" name="L340"></a> 340                     <em class="comment">// from two super-views as a child. see logicalView</em>
<a id="L341" name="L341"></a> 341                     <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i).<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<strong class="reserved">null</strong>);
<a id="L342" name="L342"></a> 342                 <em class="brace">}</em>
<a id="L343" name="L343"></a> 343             <em class="brace">}</em>
<a id="L344" name="L344"></a> 344         <em class="brace">}</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L346" name="L346"></a> 346     <em class="brace">}</em>
<a id="L347" name="L347"></a> 347 
<div class="comment">
      Returns the number of views in this view.  Since
      the default is to not be a composite view this
      returns 0.
      @return the number of views &gt;= 0
      @see View#getViewCount</div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19805.html" title="Multiple referred from 108 places.">getViewCount</a>() <em class="brace">{</em>
<a id="L357" name="L357"></a> 357         <strong class="reserved">return</strong> 0;
<a id="L358" name="L358"></a> 358     <em class="brace">}</em>
<a id="L359" name="L359"></a> 359 
<div class="comment">
      Gets the <i>n</i>th child view.  Since there are no
      children by default, this returns <code>null</code>.
      @param n the number of the view to get, &gt;= 0 &amp;&amp; &lt; getViewCount()
      @return the view</div>
<a id="L367" name="L367"></a> 367     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19801.html" title="Multiple referred from 186 places.">getView</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L369" name="L369"></a> 369     <em class="brace">}</em>
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371 
<div class="comment">
      Removes all of the children.  This is a convenience
      call to <code>replace</code>.
      @since 1.3</div>
<a id="L378" name="L378"></a> 378     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25889.html" title="Multiple referred from 59 places.">removeAll</a>() <em class="brace">{</em>
<a id="L379" name="L379"></a> 379         <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0, <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>(), <strong class="reserved">null</strong>);
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 
<div class="comment">
      Removes one of the children at the given position.
      This is a convenience call to <code>replace</code>.
      @since 1.3</div>
<a id="L387" name="L387"></a> 387     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L388" name="L388"></a> 388         <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(i, 1, <strong class="reserved">null</strong>);
<a id="L389" name="L389"></a> 389     <em class="brace">}</em>
<a id="L390" name="L390"></a> 390 
<div class="comment">
      Inserts a single child view.  This is a convenience
      call to <code>replace</code>.
      @param offs the offset of the view to insert before &gt;= 0
      @param v the view
      @see #replace
      @since 1.3</div>
<a id="L400" name="L400"></a> 400     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20751.html" title="Multiple referred from 148 places.">insert</a>(<strong class="reserved">int</strong> offs, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] one = <strong class="reserved">new</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[1];
<a id="L402" name="L402"></a> 402         one[0] = v;
<a id="L403" name="L403"></a> 403         <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(offs, 0, one);
<a id="L404" name="L404"></a> 404     <em class="brace">}</em>
<a id="L405" name="L405"></a> 405 
<div class="comment">
      Appends a single child view.  This is a convenience
      call to <code>replace</code>.
      @param v the view
      @see #replace
      @since 1.3</div>
<a id="L414" name="L414"></a> 414     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10189.html" title="Multiple referred from 5855 places.">append</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L415" name="L415"></a> 415         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] one = <strong class="reserved">new</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[1];
<a id="L416" name="L416"></a> 416         one[0] = v;
<a id="L417" name="L417"></a> 417         <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>(), 0, one);
<a id="L418" name="L418"></a> 418     <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<div class="comment">
      Replaces child views.  If there are no views to remove
      this acts as an insert.  If there are no views to
      add this acts as a remove.  Views being removed will
      have the parent set to <code>null</code>, and the internal reference
      to them removed so that they can be garbage collected.
      This is implemented to do nothing, because by default
      a view has no children.
      @param offset the starting index into the child views to insert
        the new views.  This should be a value &gt;= 0 and &lt;= getViewCount
      @param length the number of existing child views to remove
        This should be a value &gt;= 0 and &lt;= (getViewCount() - offset).
      @param views the child views to add.  This value can be
        <code>null</code> to indicate no children are being added
        (useful to remove).
      @since 1.3</div>
<a id="L438" name="L438"></a> 438     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] views) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439     <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<div class="comment">
      Returns the child view index representing the given position in
      the model.  By default a view has no children so this is implemented
      to return -1 to indicate there is no valid child index for any
      position.
      @param pos the position &gt;= 0
      @return  index of the view representing the given position, or
        -1 if no view represents that position
      @since 1.3</div>
<a id="L452" name="L452"></a> 452     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19807.html" title="Multiple referred from 22 places.">getViewIndex</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <strong class="reserved">return</strong> -1;
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Fetches the allocation for the given child view.
      This enables finding out where various views
      are located, without assuming how the views store
      their location.  This returns <code>null</code> since the
      default is to not have any child views.
      @param index the index of the child, &gt;= 0 &amp;&amp; &lt;
               <code>getViewCount()</code>
      @param a  the allocation to this view
      @return the allocation to the child</div>
<a id="L468" name="L468"></a> 468     <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/15537.html" title="Multiple referred from 23 places.">getChildAllocation</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L470" name="L470"></a> 470     <em class="brace">}</em>
<a id="L471" name="L471"></a> 471 
<div class="comment">
      Provides a way to determine the next visually represented model
      location at which one might place a caret.
      Some views may not be visible,
      they might not be in the same order found in the model, or they just
      might not allow access to some of the locations in the model.
      This method enables specifying a position to convert
      within the range of &gt;=0.  If the value is -1, a position
      will be calculated automatically.  If the value &lt; -1,
      the <code>BadLocationException</code> will be thrown.
      @param pos the position to convert
      @param a the allocated region in which to render
      @param direction the direction from the current position that can
       be thought of as the arrow keys typically found on a keyboard.
       This will be one of the following values:
      <ul><li>SwingConstants.WEST
      </li><li>SwingConstants.EAST
      </li><li>SwingConstants.NORTH
      </li><li>SwingConstants.SOUTH
      </li></ul>
      @return the location within the model that best represents the next
       location visual position
      @exception BadLocationException the given position is not a valid
                                      position within the document
      @exception IllegalArgumentException if <code>direction</code>
               doesn't have one of the legal values above</div>
<a id="L501" name="L501"></a> 501     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17962.html" title="Multiple referred from 24 places.">getNextVisualPositionFrom</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>,
<a id="L502" name="L502"></a> 502                                          <strong class="reserved">int</strong> direction, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet)
<a id="L503" name="L503"></a> 503       <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L504" name="L504"></a> 504         <strong class="reserved">if</strong> (pos &lt; -1) <em class="brace">{</em>
<a id="L505" name="L505"></a> 505             <em class="comment">// -1 is a reserved value, see the code below</em>
<a id="L506" name="L506"></a> 506             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("Invalid position", pos);
<a id="L507" name="L507"></a> 507         <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<a id="L509" name="L509"></a> 509         biasRet[0] = <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward;
<a id="L510" name="L510"></a> 510         <strong class="reserved">switch</strong> (direction) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511         <strong class="reserved">case</strong> NORTH:
<a id="L512" name="L512"></a> 512         <strong class="reserved">case</strong> SOUTH:
<a id="L513" name="L513"></a> 513         <em class="brace">{</em>
<a id="L514" name="L514"></a> 514             <strong class="reserved">if</strong> (pos == -1) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515                 pos = (direction == NORTH) ? <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - 1) :
<a id="L516" name="L516"></a> 516                     <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L517" name="L517"></a> 517                 <strong class="reserved">break</strong>;
<a id="L518" name="L518"></a> 518             <em class="brace">}</em>
<a id="L519" name="L519"></a> 519             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>) <a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>();
<a id="L520" name="L520"></a> 520             <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> != <strong class="reserved">null</strong>) ? <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>() : <strong class="reserved">null</strong>;
<a id="L521" name="L521"></a> 521             <em class="comment">// YECK! Ideally, the x location from the magic caret position</em>
<a id="L522" name="L522"></a> 522             <em class="comment">// would be passed in.</em>
<a id="L523" name="L523"></a> 523             <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> mcp;
<a id="L524" name="L524"></a> 524             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L525" name="L525"></a> 525                 mcp = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/20343.html" title="Multiple defined in 2 places.">getMagicCaretPosition</a>();
<a id="L526" name="L526"></a> 526             <em class="brace">}</em>
<a id="L527" name="L527"></a> 527             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L528" name="L528"></a> 528                 mcp = <strong class="reserved">null</strong>;
<a id="L529" name="L529"></a> 529             <em class="brace">}</em>
<a id="L530" name="L530"></a> 530             <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L531" name="L531"></a> 531             <strong class="reserved">if</strong> (mcp == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> loc = <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos);
<a id="L533" name="L533"></a> 533                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = (loc == <strong class="reserved">null</strong>) ? 0 : loc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L534" name="L534"></a> 534             <em class="brace">}</em>
<a id="L535" name="L535"></a> 535             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L536" name="L536"></a> 536                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = mcp.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L537" name="L537"></a> 537             <em class="brace">}</em>
<a id="L538" name="L538"></a> 538             <strong class="reserved">if</strong> (direction == NORTH) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539                 pos = <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L558" title="Defined at 558 in src/javax/swing/text/Utilities.java.">getPositionAbove</a>(<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, pos, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L540" name="L540"></a> 540             <em class="brace">}</em>
<a id="L541" name="L541"></a> 541             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L542" name="L542"></a> 542                 pos = <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L595" title="Defined at 595 in src/javax/swing/text/Utilities.java.">getPositionBelow</a>(<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, pos, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L543" name="L543"></a> 543             <em class="brace">}</em>
<a id="L544" name="L544"></a> 544         <em class="brace">}</em>
<a id="L545" name="L545"></a> 545             <strong class="reserved">break</strong>;
<a id="L546" name="L546"></a> 546         <strong class="reserved">case</strong> WEST:
<a id="L547" name="L547"></a> 547             <strong class="reserved">if</strong>(pos == -1) <em class="brace">{</em>
<a id="L548" name="L548"></a> 548                 pos = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - 1);
<a id="L549" name="L549"></a> 549             <em class="brace">}</em>
<a id="L550" name="L550"></a> 550             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L551" name="L551"></a> 551                 pos = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, pos - 1);
<a id="L552" name="L552"></a> 552             <em class="brace">}</em>
<a id="L553" name="L553"></a> 553             <strong class="reserved">break</strong>;
<a id="L554" name="L554"></a> 554         <strong class="reserved">case</strong> EAST:
<a id="L555" name="L555"></a> 555             <strong class="reserved">if</strong>(pos == -1) <em class="brace">{</em>
<a id="L556" name="L556"></a> 556                 pos = <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L557" name="L557"></a> 557             <em class="brace">}</em>
<a id="L558" name="L558"></a> 558             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L559" name="L559"></a> 559                 pos = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(pos + 1, <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L560" name="L560"></a> 560             <em class="brace">}</em>
<a id="L561" name="L561"></a> 561             <strong class="reserved">break</strong>;
<a id="L562" name="L562"></a> 562         <strong class="reserved">default</strong>:
<a id="L563" name="L563"></a> 563             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Bad direction: " + direction);
<a id="L564" name="L564"></a> 564         <em class="brace">}</em>
<a id="L565" name="L565"></a> 565         <strong class="reserved">return</strong> pos;
<a id="L566" name="L566"></a> 566     <em class="brace">}</em>
<a id="L567" name="L567"></a> 567 
<div class="comment">
      Provides a mapping, for a given character,
      from the document model coordinate space
      to the view coordinate space.
      @param pos the position of the desired character (&gt;=0)
      @param a the area of the view, which encompasses the requested character
      @param b the bias toward the previous character or the
       next character represented by the offset, in case the
       position is a boundary of two views; <code>b</code> will have one
       of these values:
      <ul><li> <code>Position.Bias.Forward</code>
      </li><li> <code>Position.Bias.Backward</code>
      </li></ul>
      @return the bounding box, in view coordinate space,
               of the character at the specified position
      @exception BadLocationException  if the specified position does
        not represent a valid location in the associated document
      @exception IllegalArgumentException if <code>b</code> is not one of the
               legal <code>Position.Bias</code> values listed above
      @see View#viewToModel</div>
<a id="L591" name="L591"></a> 591     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> pos, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>;
<a id="L592" name="L592"></a> 592 
<div class="comment">
      Provides a mapping, for a given region,
      from the document model coordinate space
      to the view coordinate space. The specified region is
      created as a union of the first and last character positions.
      @param p0 the position of the first character (&gt;=0)
      @param b0 the bias of the first character position,
       toward the previous character or the
       next character represented by the offset, in case the
       position is a boundary of two views; <code>b0</code> will have one
       of these values:
      <ul style="list-style-type:none">
      <li> <code>Position.Bias.Forward</code>
      </li><li> <code>Position.Bias.Backward</code>
      </li></ul>
      @param p1 the position of the last character (&gt;=0)
      @param b1 the bias for the second character position, defined
               one of the legal values shown above
      @param a the area of the view, which encompasses the requested region
      @return the bounding box which is a union of the region specified
               by the first and last character positions
      @exception BadLocationException  if the given position does
        not represent a valid location in the associated document
      @exception IllegalArgumentException if <code>b0</code> or
               <code>b1</code> are not one of the
               legal <code>Position.Bias</code> values listed above
      @see View#viewToModel</div>
<a id="L622" name="L622"></a> 622     <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> p0, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b0, <strong class="reserved">int</strong> p1, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b1, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L623" name="L623"></a> 623         <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> s0 = <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p0, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b0);
<a id="L624" name="L624"></a> 624         <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> s1;
<a id="L625" name="L625"></a> 625         <strong class="reserved">if</strong> (p1 == <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L627" name="L627"></a> 627                 s1 = <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p1, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b1);
<a id="L628" name="L628"></a> 628             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L629" name="L629"></a> 629                 s1 = <strong class="reserved">null</strong>;
<a id="L630" name="L630"></a> 630             <em class="brace">}</em>
<a id="L631" name="L631"></a> 631             <strong class="reserved">if</strong> (s1 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L632" name="L632"></a> 632                 <em class="comment">// Assume extends left to right.</em>
<a id="L633" name="L633"></a> 633                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ? (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> :
<a id="L634" name="L634"></a> 634                                   <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L635" name="L635"></a> 635                 s1 = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - 1, alloc.y,
<a id="L636" name="L636"></a> 636                                    1, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L637" name="L637"></a> 637             <em class="brace">}</em>
<a id="L638" name="L638"></a> 638         <em class="brace">}</em>
<a id="L639" name="L639"></a> 639         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L640" name="L640"></a> 640             s1 = <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p1, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b1);
<a id="L641" name="L641"></a> 641         <em class="brace">}</em>
<a id="L642" name="L642"></a> 642         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r0 = s0.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L643" name="L643"></a> 643         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r1 = (s1 <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ? (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) s1 :
<a id="L644" name="L644"></a> 644                                                    s1.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L645" name="L645"></a> 645         <strong class="reserved">if</strong> (r0.y != r1.y) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646             <em class="comment">// If it spans lines, force it to be the width of the view.</em>
<a id="L647" name="L647"></a> 647             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ? (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> :
<a id="L648" name="L648"></a> 648                               <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L649" name="L649"></a> 649             r0.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L650" name="L650"></a> 650             r0.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L651" name="L651"></a> 651         <em class="brace">}</em>
<a id="L652" name="L652"></a> 652         r0.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(r1);
<a id="L653" name="L653"></a> 653         <strong class="reserved">return</strong> r0;
<a id="L654" name="L654"></a> 654     <em class="brace">}</em>
<a id="L655" name="L655"></a> 655 
<div class="comment">
      Provides a mapping from the view coordinate space to the logical
      coordinate space of the model.  The <code>biasReturn</code>
      argument will be filled in to indicate that the point given is
      closer to the next character in the model or the previous
      character in the model.
      @param x the X coordinate &gt;= 0
      @param y the Y coordinate &gt;= 0
      @param a the allocated region in which to render
      @return the location within the model that best represents the
       given point in the view &gt;= 0.  The <code>biasReturn</code>
       argument will be
      filled in to indicate that the point given is closer to the next
      character in the model or the previous character in the model.</div>
<a id="L672" name="L672"></a> 672     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/30138.html" title="Multiple referred from 99 places.">viewToModel</a>(<strong class="reserved">float</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">float</strong> y, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasReturn);
<a id="L673" name="L673"></a> 673 
<div class="comment">
      Gives notification that something was inserted into
      the document in a location that this view is responsible for.
      To reduce the burden to subclasses, this functionality is
      spread out into the following calls that subclasses can
      reimplement:
      <ol>
      <li><a href="#L1104" title="Defined at 1104.">updateChildren</a> is called
      if there were any changes to the element this view is
      responsible for.  If this view has child views that are
      represent the child elements, then this method should do
      whatever is necessary to make sure the child views correctly
      represent the model.
      </li><li><a href="#L1142" title="Defined at 1142.">forwardUpdate</a> is called
      to forward the DocumentEvent to the appropriate child views.
      </li><li><a href="#L1250" title="Defined at 1250.">updateLayout</a> is called to
      give the view a chance to either repair its layout, to reschedule
      layout, or do nothing.
      </li></ol>
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see View#insertUpdate</div>
<a id="L699" name="L699"></a> 699     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L700" name="L700"></a> 700         <strong class="reserved">if</strong> (<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() &gt; 0) <em class="brace">{</em>
<a id="L701" name="L701"></a> 701             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L702" name="L702"></a> 702             <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec = e.<a href="../D/17564.html" title="Multiple defined in 3 places.">getChange</a>(elem);
<a id="L703" name="L703"></a> 703             <strong class="reserved">if</strong> (ec != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704                 <strong class="reserved">if</strong> (! <a href="../D/36069.html" title="Multiple defined in 6 places.">updateChildren</a>(ec, e, f)) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705                     <em class="comment">// don't consider the element changes they</em>
<a id="L706" name="L706"></a> 706                     <em class="comment">// are for a view further down.</em>
<a id="L707" name="L707"></a> 707                     ec = <strong class="reserved">null</strong>;
<a id="L708" name="L708"></a> 708                 <em class="brace">}</em>
<a id="L709" name="L709"></a> 709             <em class="brace">}</em>
<a id="L710" name="L710"></a> 710             <a href="../D/16560.html" title="Multiple defined in 5 places.">forwardUpdate</a>(ec, e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L711" name="L711"></a> 711             <a href="../D/36143.html" title="Multiple defined in 2 places.">updateLayout</a>(ec, e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L712" name="L712"></a> 712         <em class="brace">}</em>
<a id="L713" name="L713"></a> 713     <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<div class="comment">
      Gives notification that something was removed from the document
      in a location that this view is responsible for.
      To reduce the burden to subclasses, this functionality is
      spread out into the following calls that subclasses can
      reimplement:
      <ol>
      <li><a href="#L1104" title="Defined at 1104.">updateChildren</a> is called
      if there were any changes to the element this view is
      responsible for.  If this view has child views that are
      represent the child elements, then this method should do
      whatever is necessary to make sure the child views correctly
      represent the model.
      </li><li><a href="#L1142" title="Defined at 1142.">forwardUpdate</a> is called
      to forward the DocumentEvent to the appropriate child views.
      </li><li><a href="#L1250" title="Defined at 1250.">updateLayout</a> is called to
      give the view a chance to either repair its layout, to reschedule
      layout, or do nothing.
      </li></ol>
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see View#removeUpdate</div>
<a id="L740" name="L740"></a> 740     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26095.html" title="Multiple referred from 20 places.">removeUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L741" name="L741"></a> 741         <strong class="reserved">if</strong> (<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() &gt; 0) <em class="brace">{</em>
<a id="L742" name="L742"></a> 742             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L743" name="L743"></a> 743             <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec = e.<a href="../D/17564.html" title="Multiple defined in 3 places.">getChange</a>(elem);
<a id="L744" name="L744"></a> 744             <strong class="reserved">if</strong> (ec != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L745" name="L745"></a> 745                 <strong class="reserved">if</strong> (! <a href="../D/36069.html" title="Multiple defined in 6 places.">updateChildren</a>(ec, e, f)) <em class="brace">{</em>
<a id="L746" name="L746"></a> 746                     <em class="comment">// don't consider the element changes they</em>
<a id="L747" name="L747"></a> 747                     <em class="comment">// are for a view further down.</em>
<a id="L748" name="L748"></a> 748                     ec = <strong class="reserved">null</strong>;
<a id="L749" name="L749"></a> 749                 <em class="brace">}</em>
<a id="L750" name="L750"></a> 750             <em class="brace">}</em>
<a id="L751" name="L751"></a> 751             <a href="../D/16560.html" title="Multiple defined in 5 places.">forwardUpdate</a>(ec, e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L752" name="L752"></a> 752             <a href="../D/36143.html" title="Multiple defined in 2 places.">updateLayout</a>(ec, e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L753" name="L753"></a> 753         <em class="brace">}</em>
<a id="L754" name="L754"></a> 754     <em class="brace">}</em>
<a id="L755" name="L755"></a> 755 
<div class="comment">
      Gives notification from the document that attributes were changed
      in a location that this view is responsible for.
      To reduce the burden to subclasses, this functionality is
      spread out into the following calls that subclasses can
      reimplement:
      <ol>
      <li><a href="#L1104" title="Defined at 1104.">updateChildren</a> is called
      if there were any changes to the element this view is
      responsible for.  If this view has child views that are
      represent the child elements, then this method should do
      whatever is necessary to make sure the child views correctly
      represent the model.
      </li><li><a href="#L1142" title="Defined at 1142.">forwardUpdate</a> is called
      to forward the DocumentEvent to the appropriate child views.
      </li><li><a href="#L1250" title="Defined at 1250.">updateLayout</a> is called to
      give the view a chance to either repair its layout, to reschedule
      layout, or do nothing.
      </li></ol>
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see View#changedUpdate</div>
<a id="L781" name="L781"></a> 781     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L782" name="L782"></a> 782         <strong class="reserved">if</strong> (<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() &gt; 0) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L784" name="L784"></a> 784             <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec = e.<a href="../D/17564.html" title="Multiple defined in 3 places.">getChange</a>(elem);
<a id="L785" name="L785"></a> 785             <strong class="reserved">if</strong> (ec != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L786" name="L786"></a> 786                 <strong class="reserved">if</strong> (! <a href="../D/36069.html" title="Multiple defined in 6 places.">updateChildren</a>(ec, e, f)) <em class="brace">{</em>
<a id="L787" name="L787"></a> 787                     <em class="comment">// don't consider the element changes they</em>
<a id="L788" name="L788"></a> 788                     <em class="comment">// are for a view further down.</em>
<a id="L789" name="L789"></a> 789                     ec = <strong class="reserved">null</strong>;
<a id="L790" name="L790"></a> 790                 <em class="brace">}</em>
<a id="L791" name="L791"></a> 791             <em class="brace">}</em>
<a id="L792" name="L792"></a> 792             <a href="../D/16560.html" title="Multiple defined in 5 places.">forwardUpdate</a>(ec, e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L793" name="L793"></a> 793             <a href="../D/36143.html" title="Multiple defined in 2 places.">updateLayout</a>(ec, e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L794" name="L794"></a> 794         <em class="brace">}</em>
<a id="L795" name="L795"></a> 795     <em class="brace">}</em>
<a id="L796" name="L796"></a> 796 
<div class="comment">
      Fetches the model associated with the view.
      @return the view model, <code>null</code> if none
      @see View#getDocument</div>
<a id="L803" name="L803"></a> 803     <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L804" name="L804"></a> 804         <strong class="reserved">return</strong> elem.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L805" name="L805"></a> 805     <em class="brace">}</em>
<a id="L806" name="L806"></a> 806 
<div class="comment">
      Fetches the portion of the model for which this view is
      responsible.
      @return the starting offset into the model &gt;= 0
      @see View#getStartOffset</div>
<a id="L814" name="L814"></a> 814     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>() <em class="brace">{</em>
<a id="L815" name="L815"></a> 815         <strong class="reserved">return</strong> elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L816" name="L816"></a> 816     <em class="brace">}</em>
<a id="L817" name="L817"></a> 817 
<div class="comment">
      Fetches the portion of the model for which this view is
      responsible.
      @return the ending offset into the model &gt;= 0
      @see View#getEndOffset</div>
<a id="L825" name="L825"></a> 825     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>() <em class="brace">{</em>
<a id="L826" name="L826"></a> 826         <strong class="reserved">return</strong> elem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L827" name="L827"></a> 827     <em class="brace">}</em>
<a id="L828" name="L828"></a> 828 
<div class="comment">
      Fetches the structural portion of the subject that this
      view is mapped to.  The view may not be responsible for the
      entire portion of the element.
      @return the subject
      @see View#getElement</div>
<a id="L837" name="L837"></a> 837     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>() <em class="brace">{</em>
<a id="L838" name="L838"></a> 838         <strong class="reserved">return</strong> elem;
<a id="L839" name="L839"></a> 839     <em class="brace">}</em>
<a id="L840" name="L840"></a> 840 
<div class="comment">
      Fetch a <code>Graphics</code> for rendering.
      This can be used to determine
      font characteristics, and will be different for a print view
      than a component view.
      @return a <code>Graphics</code> object for rendering
      @since 1.3</div>
<a id="L850" name="L850"></a> 850     <strong class="reserved">public</strong> <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> <a href="../R/16810.html" title="Multiple referred from 33 places.">getGraphics</a>() <em class="brace">{</em>
<a id="L851" name="L851"></a> 851         <em class="comment">// PENDING(prinz) this is a temporary implementation</em>
<a id="L852" name="L852"></a> 852         <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>();
<a id="L853" name="L853"></a> 853         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/19360.html" title="Multiple defined in 12 places.">getGraphics</a>();
<a id="L854" name="L854"></a> 854     <em class="brace">}</em>
<a id="L855" name="L855"></a> 855 
<div class="comment">
      Fetches the attributes to use when rendering.  By default
      this simply returns the attributes of the associated element.
      This method should be used rather than using the element
      directly to obtain access to the attributes to allow
      view-specific attributes to be mixed in or to allow the
      view to have view-specific conversion of attributes by
      subclasses.
      Each view should document what attributes it recognizes
      for the purpose of rendering or layout, and should always
      access them through the <code>AttributeSet</code> returned
      by this method.</div>
<a id="L869" name="L869"></a> 869     <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L870" name="L870"></a> 870         <strong class="reserved">return</strong> elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L871" name="L871"></a> 871     <em class="brace">}</em>
<a id="L872" name="L872"></a> 872 
<div class="comment">
      Tries to break this view on the given axis.  This is
      called by views that try to do formatting of their
      children.  For example, a view of a paragraph will
      typically try to place its children into row and
      views representing chunks of text can sometimes be
      broken down into smaller pieces.
      <p>
      This is implemented to return the view itself, which
      represents the default behavior on not being
      breakable.  If the view does support breaking, the
      starting offset of the view returned should be the
      given offset, and the end offset should be less than
      or equal to the end offset of the view being broken.
      @param axis may be either <code>View.X_AXIS</code> or
               <code>View.Y_AXIS</code>
      @param offset the location in the document model
        that a broken fragment would occupy &gt;= 0.  This
        would be the starting offset of the fragment
        returned
      @param pos the position along the axis that the
       broken view would occupy &gt;= 0.  This may be useful for
       things like tab calculations
      @param len specifies the distance along the axis
       where a potential break is desired &gt;= 0
      @return the fragment of the view that represents the
       given span, if the view can be broken.  If the view
       doesn't support breaking behavior, the view itself is
       returned.
      @see ParagraphView</p></div>
<a id="L905" name="L905"></a> 905     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/10671.html" title="Multiple referred from 4 places.">breakView</a>(<strong class="reserved">int</strong> axis, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">float</strong> pos, <strong class="reserved">float</strong> len) <em class="brace">{</em>
<a id="L906" name="L906"></a> 906         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L907" name="L907"></a> 907     <em class="brace">}</em>
<a id="L908" name="L908"></a> 908 
<div class="comment">
      Creates a view that represents a portion of the element.
      This is potentially useful during formatting operations
      for taking measurements of fragments of the view.  If
      the view doesn't support fragmenting (the default), it
      should return itself.
      @param p0 the starting offset &gt;= 0.  This should be a value
        greater or equal to the element starting offset and
        less than the element ending offset.
      @param p1 the ending offset &gt; p0.  This should be a value
        less than or equal to the elements end offset and
        greater than the elements starting offset.
      @return the view fragment, or itself if the view doesn't
        support breaking into fragments
      @see LabelView</div>
<a id="L926" name="L926"></a> 926     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/12449.html" title="Multiple referred from 4 places.">createFragment</a>(<strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1) <em class="brace">{</em>
<a id="L927" name="L927"></a> 927         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L928" name="L928"></a> 928     <em class="brace">}</em>
<a id="L929" name="L929"></a> 929 
<div class="comment">
      Determines how attractive a break opportunity in
      this view is.  This can be used for determining which
      view is the most attractive to call <code>breakView</code>
      on in the process of formatting.  A view that represents
      text that has whitespace in it might be more attractive
      than a view that has no whitespace, for example.  The
      higher the weight, the more attractive the break.  A
      value equal to or lower than <code>BadBreakWeight</code>
      should not be considered for a break.  A value greater
      than or equal to <code>ForcedBreakWeight</code> should
      be broken.
      <p>
      This is implemented to provide the default behavior
      of returning <code>BadBreakWeight</code> unless the length
      is greater than the length of the view in which case the
      entire view represents the fragment.  Unless a view has
      been written to support breaking behavior, it is not
      attractive to try and break the view.  An example of
      a view that does support breaking is <code>LabelView</code>.
      An example of a view that uses break weight is
      <code>ParagraphView</code>.
      @param axis may be either <code>View.X_AXIS</code> or
               <code>View.Y_AXIS</code>
      @param pos the potential location of the start of the
        broken view &gt;= 0.  This may be useful for calculating tab
        positions
      @param len specifies the relative length from <em>pos</em>
        where a potential break is desired &gt;= 0
      @return the weight, which should be a value between
        ForcedBreakWeight and BadBreakWeight
      @see LabelView
      @see ParagraphView
      @see #BadBreakWeight
      @see #GoodBreakWeight
      @see #ExcellentBreakWeight
      @see #ForcedBreakWeight</p></div>
<a id="L969" name="L969"></a> 969     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15335.html" title="Multiple referred from 10 places.">getBreakWeight</a>(<strong class="reserved">int</strong> axis, <strong class="reserved">float</strong> pos, <strong class="reserved">float</strong> len) <em class="brace">{</em>
<a id="L970" name="L970"></a> 970         <strong class="reserved">if</strong> (len &gt; <a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis)) <em class="brace">{</em>
<a id="L971" name="L971"></a> 971             <strong class="reserved">return</strong> GoodBreakWeight;
<a id="L972" name="L972"></a> 972         <em class="brace">}</em>
<a id="L973" name="L973"></a> 973         <strong class="reserved">return</strong> BadBreakWeight;
<a id="L974" name="L974"></a> 974     <em class="brace">}</em>
<a id="L975" name="L975"></a> 975 
<div class="comment">
      Determines the resizability of the view along the
      given axis.  A value of 0 or less is not resizable.
      @param axis may be either <code>View.X_AXIS</code> or
               <code>View.Y_AXIS</code>
      @return the weight</div>
<a id="L984" name="L984"></a> 984     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18700.html" title="Multiple referred from 6 places.">getResizeWeight</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L985" name="L985"></a> 985         <strong class="reserved">return</strong> 0;
<a id="L986" name="L986"></a> 986     <em class="brace">}</em>
<a id="L987" name="L987"></a> 987 
<div class="comment">
      Sets the size of the view.  This should cause
      layout of the view along the given axis, if it
      has any layout duties.
      @param width the width &gt;= 0
      @param height the height &gt;= 0</div>
<a id="L996" name="L996"></a> 996     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28186.html" title="Multiple referred from 157 places.">setSize</a>(<strong class="reserved">float</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">float</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L997" name="L997"></a> 997     <em class="brace">}</em>
<a id="L998" name="L998"></a> 998 
<div class="comment">
      Fetches the container hosting the view.  This is useful for
      things like scheduling a repaint, finding out the host
      components font, etc.  The default implementation
      of this is to forward the query to the parent view.
      @return the container, <code>null</code> if none</div>
<a id="L1007" name="L1007"></a>1007     <strong class="reserved">public</strong> <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../R/15777.html" title="Multiple referred from 157 places.">getContainer</a>() <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L1009" name="L1009"></a>1009         <strong class="reserved">return</strong> (v != <strong class="reserved">null</strong>) ? v.<a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>() : <strong class="reserved">null</strong>;
<a id="L1010" name="L1010"></a>1010     <em class="brace">}</em>
<a id="L1011" name="L1011"></a>1011 
<div class="comment">
      Fetches the <code>ViewFactory</code> implementation that is feeding
      the view hierarchy.  Normally the views are given this
      as an argument to updates from the model when they
      are most likely to need the factory, but this
      method serves to provide it at other times.
      @return the factory, <code>null</code> if none</div>
<a id="L1021" name="L1021"></a>1021     <strong class="reserved">public</strong> <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> <a href="../R/19806.html" title="Multiple referred from 11 places.">getViewFactory</a>() <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L1023" name="L1023"></a>1023         <strong class="reserved">return</strong> (v != <strong class="reserved">null</strong>) ? v.<a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>() : <strong class="reserved">null</strong>;
<a id="L1024" name="L1024"></a>1024     <em class="brace">}</em>
<a id="L1025" name="L1025"></a>1025 
<div class="comment">
      Returns the tooltip text at the specified location. The default
      implementation returns the value from the child View identified by
      the passed in location.
      @since 1.4
      @see JTextComponent#getToolTipText</div>
<a id="L1034" name="L1034"></a>1034     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19537.html" title="Multiple referred from 37 places.">getToolTipText</a>(<strong class="reserved">float</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">float</strong> y, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> allocation) <em class="brace">{</em>
<a id="L1035" name="L1035"></a>1035         <strong class="reserved">int</strong> viewIndex = <a href="../D/23603.html" title="Multiple defined in 6 places.">getViewIndex</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, allocation);
<a id="L1036" name="L1036"></a>1036         <strong class="reserved">if</strong> (viewIndex &gt;= 0) <em class="brace">{</em>
<a id="L1037" name="L1037"></a>1037             allocation = <a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(viewIndex, allocation);
<a id="L1038" name="L1038"></a>1038             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> rect = (allocation <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ?
<a id="L1039" name="L1039"></a>1039                              (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)allocation : allocation.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L1040" name="L1040"></a>1040             <strong class="reserved">if</strong> (rect.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y)) <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041                 <strong class="reserved">return</strong> <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(viewIndex).<a href="../D/23198.html" title="Multiple defined in 18 places.">getToolTipText</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, allocation);
<a id="L1042" name="L1042"></a>1042             <em class="brace">}</em>
<a id="L1043" name="L1043"></a>1043         <em class="brace">}</em>
<a id="L1044" name="L1044"></a>1044         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1045" name="L1045"></a>1045     <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046 
<div class="comment">
      Returns the child view index representing the given position in
      the view. This iterates over all the children returning the
      first with a bounds that contains <code>x</code>, <code>y</code>.
      @param x the x coordinate
      @param y the y coordinate
      @param allocation current allocation of the View.
      @return  index of the view representing the given location, or
        -1 if no view represents that position
      @since 1.4</div>
<a id="L1059" name="L1059"></a>1059     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19807.html" title="Multiple referred from 22 places.">getViewIndex</a>(<strong class="reserved">float</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">float</strong> y, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> allocation) <em class="brace">{</em>
<a id="L1060" name="L1060"></a>1060         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() - 1; counter &gt;= 0; counter--) <em class="brace">{</em>
<a id="L1061" name="L1061"></a>1061             <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a> = <a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(counter, allocation);
<a id="L1062" name="L1062"></a>1062 
<a id="L1063" name="L1063"></a>1063             <strong class="reserved">if</strong> (<a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1064" name="L1064"></a>1064                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> rect = (<a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ?
<a id="L1065" name="L1065"></a>1065                          (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)<a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a> : <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L1066" name="L1066"></a>1066 
<a id="L1067" name="L1067"></a>1067                 <strong class="reserved">if</strong> (rect.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y)) <em class="brace">{</em>
<a id="L1068" name="L1068"></a>1068                     <strong class="reserved">return</strong> counter;
<a id="L1069" name="L1069"></a>1069                 <em class="brace">}</em>
<a id="L1070" name="L1070"></a>1070             <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071         <em class="brace">}</em>
<a id="L1072" name="L1072"></a>1072         <strong class="reserved">return</strong> -1;
<a id="L1073" name="L1073"></a>1073     <em class="brace">}</em>
<a id="L1074" name="L1074"></a>1074 
<div class="comment">
      Updates the child views in response to receiving notification
      that the model changed, and there is change record for the
      element this view is responsible for.  This is implemented
      to assume the child views are directly responsible for the
      child elements of the element this view represents.  The
      <code>ViewFactory</code> is used to create child views for each element
      specified as added in the <code>ElementChange</code>, starting at the
      index specified in the given <code>ElementChange</code>.  The number of
      child views representing the removed elements specified are
      removed.
      @param ec the change information for the element this view
       is responsible for.  This should not be <code>null</code> if
       this method gets called
      @param e the change information from the associated document
      @param f the factory to use to build child views
      @return whether or not the child views represent the
       child elements of the element this view is responsible
       for.  Some views create children that represent a portion
       of the element they are responsible for, and should return
       false.  This information is used to determine if views
       in the range of the added elements should be forwarded to
       or not
      @see #insertUpdate
      @see #removeUpdate
      @see #changedUpdate
      @since 1.3</div>
<a id="L1104" name="L1104"></a>1104     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/29832.html" title="Multiple referred from 6 places.">updateChildren</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec,
<a id="L1105" name="L1105"></a>1105                                          <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L1106" name="L1106"></a>1106         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] removedElems = ec.<a href="../D/17657.html" title="Multiple defined in 2 places.">getChildrenRemoved</a>();
<a id="L1107" name="L1107"></a>1107         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] addedElems = ec.<a href="../D/17656.html" title="Multiple defined in 2 places.">getChildrenAdded</a>();
<a id="L1108" name="L1108"></a>1108         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] added = <strong class="reserved">null</strong>;
<a id="L1109" name="L1109"></a>1109         <strong class="reserved">if</strong> (addedElems != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1110" name="L1110"></a>1110             added = <strong class="reserved">new</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[addedElems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L1111" name="L1111"></a>1111             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; addedElems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1112" name="L1112"></a>1112                 added[i] = f.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(addedElems[i]);
<a id="L1113" name="L1113"></a>1113             <em class="brace">}</em>
<a id="L1114" name="L1114"></a>1114         <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115         <strong class="reserved">int</strong> nremoved = 0;
<a id="L1116" name="L1116"></a>1116         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = ec.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L1117" name="L1117"></a>1117         <strong class="reserved">if</strong> (removedElems != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118             nremoved = removedElems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1119" name="L1119"></a>1119         <em class="brace">}</em>
<a id="L1120" name="L1120"></a>1120         <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, nremoved, added);
<a id="L1121" name="L1121"></a>1121         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1122" name="L1122"></a>1122     <em class="brace">}</em>
<a id="L1123" name="L1123"></a>1123 
<div class="comment">
      Forwards the given <code>DocumentEvent</code> to the child views
      that need to be notified of the change to the model.
      If there were changes to the element this view is
      responsible for, that should be considered when
      forwarding (i.e. new child views should not get
      notified).
      @param ec changes to the element this view is responsible
       for (may be <code>null</code> if there were no changes).
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see #insertUpdate
      @see #removeUpdate
      @see #changedUpdate
      @since 1.3</div>
<a id="L1142" name="L1142"></a>1142     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14775.html" title="Multiple referred from 7 places.">forwardUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec,
<a id="L1143" name="L1143"></a>1143                                       <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144         <a href="../S/3338.html#L1173" title="Defined at 1173 in src/javax/swing/text/View.java.">calculateUpdateIndexes</a>(e);
<a id="L1145" name="L1145"></a>1145 
<a id="L1146" name="L1146"></a>1146         <strong class="reserved">int</strong> hole0 = lastUpdateIndex + 1;
<a id="L1147" name="L1147"></a>1147         <strong class="reserved">int</strong> hole1 = hole0;
<a id="L1148" name="L1148"></a>1148         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] addedElems = (ec != <strong class="reserved">null</strong>) ? ec.<a href="../D/17656.html" title="Multiple defined in 2 places.">getChildrenAdded</a>() : <strong class="reserved">null</strong>;
<a id="L1149" name="L1149"></a>1149         <strong class="reserved">if</strong> ((addedElems != <strong class="reserved">null</strong>) &amp;&amp; (addedElems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0)) <em class="brace">{</em>
<a id="L1150" name="L1150"></a>1150             hole0 = ec.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L1151" name="L1151"></a>1151             hole1 = hole0 + addedElems.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L1152" name="L1152"></a>1152         <em class="brace">}</em>
<a id="L1153" name="L1153"></a>1153 
<a id="L1154" name="L1154"></a>1154         <em class="comment">// forward to any view not in the forwarding hole</em>
<a id="L1155" name="L1155"></a>1155         <em class="comment">// formed by added elements (i.e. they will be updated</em>
<a id="L1156" name="L1156"></a>1156         <em class="comment">// by initialization.</em>
<a id="L1157" name="L1157"></a>1157         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = firstUpdateIndex; i &lt;= lastUpdateIndex; i++) <em class="brace">{</em>
<a id="L1158" name="L1158"></a>1158             <strong class="reserved">if</strong> (! ((i &gt;= hole0) &amp;&amp; (i &lt;= hole1))) <em class="brace">{</em>
<a id="L1159" name="L1159"></a>1159                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L1160" name="L1160"></a>1160                 <strong class="reserved">if</strong> (v != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1161" name="L1161"></a>1161                     <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> childAlloc = <a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(i, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1162" name="L1162"></a>1162                     <a href="../D/16561.html" title="Multiple defined in 4 places.">forwardUpdateToView</a>(v, e, childAlloc, f);
<a id="L1163" name="L1163"></a>1163                 <em class="brace">}</em>
<a id="L1164" name="L1164"></a>1164             <em class="brace">}</em>
<a id="L1165" name="L1165"></a>1165         <em class="brace">}</em>
<a id="L1166" name="L1166"></a>1166     <em class="brace">}</em>
<a id="L1167" name="L1167"></a>1167 
<div class="comment">
      Calculates the first and the last indexes of the child views
      that need to be notified of the change to the model.
      @param e the change information from the associated document</div>
<a id="L1173" name="L1173"></a>1173     <strong class="reserved">void</strong> <a href="../S/3338.html#L1144" title="Referred from 1144 in src/javax/swing/text/View.java.">calculateUpdateIndexes</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174         <strong class="reserved">int</strong> pos = e.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L1175" name="L1175"></a>1175         firstUpdateIndex = <a href="../D/23603.html" title="Multiple defined in 6 places.">getViewIndex</a>(pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward);
<a id="L1176" name="L1176"></a>1176         <strong class="reserved">if</strong> (firstUpdateIndex == -1 &amp;&amp; e.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE &amp;&amp;
<a id="L1177" name="L1177"></a>1177             pos &gt;= <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178             <em class="comment">// Event beyond our offsets. We may have represented this, that is</em>
<a id="L1179" name="L1179"></a>1179             <em class="comment">// the remove may have removed one of our child Elements that</em>
<a id="L1180" name="L1180"></a>1180             <em class="comment">// represented this, so, we should forward to last element.</em>
<a id="L1181" name="L1181"></a>1181             firstUpdateIndex = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() - 1;
<a id="L1182" name="L1182"></a>1182         <em class="brace">}</em>
<a id="L1183" name="L1183"></a>1183         lastUpdateIndex = firstUpdateIndex;
<a id="L1184" name="L1184"></a>1184         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = (firstUpdateIndex &gt;= 0) ? <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(firstUpdateIndex) : <strong class="reserved">null</strong>;
<a id="L1185" name="L1185"></a>1185         <strong class="reserved">if</strong> (v != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1186" name="L1186"></a>1186             <strong class="reserved">if</strong> ((v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() == pos) &amp;&amp; (pos &gt; 0)) <em class="brace">{</em>
<a id="L1187" name="L1187"></a>1187                 <em class="comment">// If v is at a boundary, forward the event to the previous</em>
<a id="L1188" name="L1188"></a>1188                 <em class="comment">// view too.</em>
<a id="L1189" name="L1189"></a>1189                 firstUpdateIndex = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(firstUpdateIndex - 1, 0);
<a id="L1190" name="L1190"></a>1190             <em class="brace">}</em>
<a id="L1191" name="L1191"></a>1191         <em class="brace">}</em>
<a id="L1192" name="L1192"></a>1192         <strong class="reserved">if</strong> (e.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() != <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE) <em class="brace">{</em>
<a id="L1193" name="L1193"></a>1193             lastUpdateIndex = <a href="../D/23603.html" title="Multiple defined in 6 places.">getViewIndex</a>(pos + e.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(), <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward);
<a id="L1194" name="L1194"></a>1194             <strong class="reserved">if</strong> (lastUpdateIndex &lt; 0) <em class="brace">{</em>
<a id="L1195" name="L1195"></a>1195                 lastUpdateIndex = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() - 1;
<a id="L1196" name="L1196"></a>1196             <em class="brace">}</em>
<a id="L1197" name="L1197"></a>1197         <em class="brace">}</em>
<a id="L1198" name="L1198"></a>1198         firstUpdateIndex = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(firstUpdateIndex, 0);
<a id="L1199" name="L1199"></a>1199     <em class="brace">}</em>
<a id="L1200" name="L1200"></a>1200 
<div class="comment">
      Updates the view to reflect the changes.</div>
<a id="L1204" name="L1204"></a>1204     <strong class="reserved">void</strong> <a href="../S/3273.html#L817" title="Referred from 817 in src/javax/swing/text/FlowView.java.">updateAfterChange</a>() <em class="brace">{</em>
<a id="L1205" name="L1205"></a>1205         <em class="comment">// Do nothing by default. Should be overridden in subclasses, if any.</em>
<a id="L1206" name="L1206"></a>1206     <em class="brace">}</em>
<a id="L1207" name="L1207"></a>1207 
<div class="comment">
      Forwards the <code>DocumentEvent</code> to the give child view.  This
      simply messages the view with a call to <code>insertUpdate</code>,
      <code>removeUpdate</code>, or <code>changedUpdate</code> depending
      upon the type of the event.  This is called by
      <a href="#L1142" title="Defined at 1142.">forwardUpdate</a> to forward
      the event to children that need it.
      @param v the child view to forward the event to
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see #forwardUpdate
      @since 1.3</div>
<a id="L1223" name="L1223"></a>1223     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14776.html" title="Multiple referred from 4 places.">forwardUpdateToView</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v, <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e,
<a id="L1224" name="L1224"></a>1224                                            <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L1225" name="L1225"></a>1225         <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = e.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L1226" name="L1226"></a>1226         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.INSERT) <em class="brace">{</em>
<a id="L1227" name="L1227"></a>1227             v.<a href="../D/24781.html" title="Multiple defined in 28 places.">insertUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L1228" name="L1228"></a>1228         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229             v.<a href="../D/30986.html" title="Multiple defined in 27 places.">removeUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L1230" name="L1230"></a>1230         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1231" name="L1231"></a>1231             v.<a href="../D/12316.html" title="Multiple defined in 27 places.">changedUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L1232" name="L1232"></a>1232         <em class="brace">}</em>
<a id="L1233" name="L1233"></a>1233     <em class="brace">}</em>
<a id="L1234" name="L1234"></a>1234 
<div class="comment">
      Updates the layout in response to receiving notification of
      change from the model.  This is implemented to call
      <code>preferenceChanged</code> to reschedule a new layout
      if the <code>ElementChange</code> record is not <code>null</code>.
      @param ec changes to the element this view is responsible
       for (may be <code>null</code> if there were no changes)
      @param e the change information from the associated document
      @param a the current allocation of the view
      @see #insertUpdate
      @see #removeUpdate
      @see #changedUpdate
      @since 1.3</div>
<a id="L1250" name="L1250"></a>1250     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29900.html" title="Multiple referred from 3 places.">updateLayout</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec,
<a id="L1251" name="L1251"></a>1251                                     <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1252" name="L1252"></a>1252         <strong class="reserved">if</strong> ((ec != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1253" name="L1253"></a>1253             <em class="comment">// should damage more intelligently</em>
<a id="L1254" name="L1254"></a>1254             <a href="../D/29542.html" title="Multiple defined in 7 places.">preferenceChanged</a>(<strong class="reserved">null</strong>, <strong class="reserved">true</strong>, <strong class="reserved">true</strong>);
<a id="L1255" name="L1255"></a>1255             <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> host = <a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>();
<a id="L1256" name="L1256"></a>1256             <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1257" name="L1257"></a>1257                 host.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>();
<a id="L1258" name="L1258"></a>1258             <em class="brace">}</em>
<a id="L1259" name="L1259"></a>1259         <em class="brace">}</em>
<a id="L1260" name="L1260"></a>1260     <em class="brace">}</em>
<a id="L1261" name="L1261"></a>1261 
<div class="comment">
      The weight to indicate a view is a bad break
      opportunity for the purpose of formatting.  This
      value indicates that no attempt should be made to
      break the view into fragments as the view has
      not been written to support fragmenting.
      @see #getBreakWeight
      @see #GoodBreakWeight
      @see #ExcellentBreakWeight
      @see #ForcedBreakWeight</div>
<a id="L1274" name="L1274"></a>1274     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> BadBreakWeight = 0;
<a id="L1275" name="L1275"></a>1275 
<div class="comment">
      The weight to indicate a view supports breaking,
      but better opportunities probably exist.
      @see #getBreakWeight
      @see #BadBreakWeight
      @see #ExcellentBreakWeight
      @see #ForcedBreakWeight</div>
<a id="L1285" name="L1285"></a>1285     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> GoodBreakWeight = 1000;
<a id="L1286" name="L1286"></a>1286 
<div class="comment">
      The weight to indicate a view supports breaking,
      and this represents a very attractive place to
      break.
      @see #getBreakWeight
      @see #BadBreakWeight
      @see #GoodBreakWeight
      @see #ForcedBreakWeight</div>
<a id="L1297" name="L1297"></a>1297     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> ExcellentBreakWeight = 2000;
<a id="L1298" name="L1298"></a>1298 
<div class="comment">
      The weight to indicate a view supports breaking,
      and must be broken to be represented properly
      when placed in a view that formats its children
      by breaking them.
      @see #getBreakWeight
      @see #BadBreakWeight
      @see #GoodBreakWeight
      @see #ExcellentBreakWeight</div>
<a id="L1310" name="L1310"></a>1310     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> ForcedBreakWeight = 3000;
<a id="L1311" name="L1311"></a>1311 
<div class="comment">
      Axis for format/break operations.</div>
<a id="L1315" name="L1315"></a>1315     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> X_AXIS = HORIZONTAL;
<a id="L1316" name="L1316"></a>1316 
<div class="comment">
      Axis for format/break operations.</div>
<a id="L1320" name="L1320"></a>1320     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> Y_AXIS = VERTICAL;
<a id="L1321" name="L1321"></a>1321 
<div class="comment">
      Provides a mapping from the document model coordinate space
      to the coordinate space of the view mapped to it. This is
      implemented to default the bias to <code>Position.Bias.Forward</code>
      which was previously implied.
      @param pos the position to convert &gt;= 0
      @param a the allocated region in which to render
      @return the bounding box of the given position is returned
      @exception BadLocationException  if the given position does
        not represent a valid location in the associated document
      @see View#modelToView
      @deprecated</div>
<a id="L1336" name="L1336"></a>1336     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L1337" name="L1337"></a>1337     <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> pos, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1338" name="L1338"></a>1338         <strong class="reserved">return</strong> <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward);
<a id="L1339" name="L1339"></a>1339     <em class="brace">}</em>
<a id="L1340" name="L1340"></a>1340 
<a id="L1341" name="L1341"></a>1341 
<div class="comment">
      Provides a mapping from the view coordinate space to the logical
      coordinate space of the model.
      @param x the X coordinate &gt;= 0
      @param y the Y coordinate &gt;= 0
      @param a the allocated region in which to render
      @return the location within the model that best represents the
       given point in the view &gt;= 0
      @see View#viewToModel
      @deprecated</div>
<a id="L1354" name="L1354"></a>1354     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L1355" name="L1355"></a>1355     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/30138.html" title="Multiple referred from 99 places.">viewToModel</a>(<strong class="reserved">float</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">float</strong> y, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1356" name="L1356"></a>1356         sharedBiasReturn[0] = <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward;
<a id="L1357" name="L1357"></a>1357         <strong class="reserved">return</strong> <a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, sharedBiasReturn);
<a id="L1358" name="L1358"></a>1358     <em class="brace">}</em>
<a id="L1359" name="L1359"></a>1359 
<a id="L1360" name="L1360"></a>1360     <em class="comment">// static argument available for viewToModel calls since only</em>
<a id="L1361" name="L1361"></a>1361     <em class="comment">// one thread at a time may call this method.</em>
<a id="L1362" name="L1362"></a>1362     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] sharedBiasReturn = <strong class="reserved">new</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[1];
<a id="L1363" name="L1363"></a>1363 
<a id="L1364" name="L1364"></a>1364     <strong class="reserved">private</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1365" name="L1365"></a>1365     <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem;
<a id="L1366" name="L1366"></a>1366 
<div class="comment">
      The index of the first child view to be notified.</div>
<a id="L1370" name="L1370"></a>1370     <strong class="reserved">int</strong> firstUpdateIndex;
<a id="L1371" name="L1371"></a>1371 
<div class="comment">
      The index of the last child view to be notified.</div>
<a id="L1375" name="L1375"></a>1375     <strong class="reserved">int</strong> lastUpdateIndex;
<a id="L1376" name="L1376"></a>1376 
<a id="L1377" name="L1377"></a>1377 <em class="brace">}</em>;
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L207">[^]</a><a href="#L1355">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>