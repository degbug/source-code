<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/plaf/nimbus/NimbusStyle.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L226">[^]</a><a href="#L1111">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L226" title="Defined at 226.">installDefaults</a></li>
<li><a href="#L238" title="Defined at 238.">validate</a></li>
<li><a href="#L466" title="Defined at 466.">getPainter</a></li>
<li><a href="#L480" title="Defined at 480.">getInsets</a></li>
<li><a href="#L540" title="Defined at 540.">getColorForState</a></li>
<li><a href="#L572" title="Defined at 572.">getFontForState</a></li>
<li><a href="#L598" title="Defined at 598.">getPainter</a></li>
<li><a href="#L609" title="Defined at 609.">isOpaque</a></li>
<li><a href="#L651" title="Defined at 651.">get</a></li>
<li><a href="#L701" title="Defined at 701.">getBackgroundPainter</a></li>
<li><a href="#L736" title="Defined at 736.">getForegroundPainter</a></li>
<li><a href="#L771" title="Defined at 771.">getBorderPainter</a></li>
<li><a href="#L805" title="Defined at 805.">getValues</a></li>
<li><a href="#L821" title="Defined at 821.">contains</a></li>
<li><a href="#L854" title="Defined at 854.">getExtendedState</a></li>
<li><a href="#L926" title="Defined at 926.">getNextState</a></li>
<li><a href="#L1033" title="Defined at 1033.">toString</a></li>
<li><a href="#L1038" title="Defined at 1038.">clone</a></li>
<li><a href="#L1096" title="Defined at 1096.">init</a></li>
<li><a href="#L1102" title="Defined at 1102.">equals</a></li>
<li><a href="#L1111" title="Defined at 1111.">hashCode</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2005, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.plaf.nimbus;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> javax.swing.Painter;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.swing.JComponent;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> javax.swing.UIDefaults;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> javax.swing.UIManager;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.swing.plaf.ColorUIResource;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.swing.plaf.synth.ColorType;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> static javax.swing.plaf.synth.SynthConstants.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.swing.plaf.synth.SynthContext;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> javax.swing.plaf.synth.SynthPainter;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> javax.swing.plaf.synth.SynthStyle;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.awt.Color;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.awt.Font;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.awt.Insets;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.util.Collections;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.Comparator;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.List;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.util.Map;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.util.TreeMap;
<a id="L49" name="L49"></a>  49 
<div class="comment">
  <p>A SynthStyle implementation used by Nimbus. Each Region that has been
  registered with the NimbusLookAndFeel will have an associated NimbusStyle.
  Third party components that are registered with the NimbusLookAndFeel will
  therefore be handed a NimbusStyle from the look and feel from the
  #getStyle(JComponent, Region) method.</p>
  <p>This class properly reads and retrieves values placed in the UIDefaults
  according to the standard Nimbus naming conventions. It will create and
  retrieve painters, fonts, colors, and other data stored there.</p>
  <p>NimbusStyle also supports the ability to override settings on a per
  component basis. NimbusStyle checks the component's client property map for
  "Nimbus.Overrides". If the value associated with this key is an instance of
  UIDefaults, then the values in that defaults table will override the standard
  Nimbus defaults in UIManager, but for that component instance only.</p>
  <p>Optionally, you may specify the client property
  "Nimbus.Overrides.InheritDefaults". If true, this client property indicates
  that the defaults located in UIManager should first be read, and then
  replaced with defaults located in the component client properties. If false,
  then only the defaults located in the component client property map will
  be used. If not specified, it is assumed to be true.</p>
  <p>You must specify "Nimbus.Overrides" for "Nimbus.Overrides.InheritDefaults"
  to have any effect. "Nimbus.Overrides" indicates whether there are any
  overrides, while "Nimbus.Overrides.InheritDefaults" indicates whether those
  overrides should first be initialized with the defaults from UIManager.</p>
  <p>The NimbusStyle is reloaded whenever a property change event is fired
  for a component for "Nimbus.Overrides" or "Nimbus.Overrides.InheritDefaults".
  So for example, setting a new UIDefaults on a component would cause the
  style to be reloaded.</p>
  <p>The values are only read out of UIManager once, and then cached. If
  you need to read the values again (for example, if the UI is being reloaded),
  then discard this NimbusStyle and read a new one from NimbusLookAndFeel
  using NimbusLookAndFeel.getStyle.</p>
  <p>The primary API of interest in this class for 3rd party component authors
  are the three methods which retrieve painters: #getBackgroundPainter,
  #getForegroundPainter, and #getBorderPainter.</p>
  <p>NimbusStyle allows you to specify custom states, or modify the order of
  states. Synth (and thus Nimbus) has the concept of a "state". For example,
  a JButton might be in the "MOUSE_OVER" state, or the "ENABLED" state, or the
  "DISABLED" state. These are all "standard" states which are defined in synth,
  and which apply to all synth Regions.</p>
  <p>Sometimes, however, you need to have a custom state. For example, you
  want JButton to render differently if it's parent is a JToolbar. In Nimbus,
  you specify these custom states by including a special key in UIDefaults.
  The following UIDefaults entries define three states for this button:</p>
  <pre><code>
      JButton.States = Enabled, Disabled, Toolbar
      JButton[Enabled].backgroundPainter = somePainter
      JButton[Disabled].background = BLUE
      JButton[Toolbar].backgroundPainter = someOtherPaint
  </code></pre>
  <p>As you can see, the <code>JButton.States</code> entry lists the states
  that the JButton style will support. You then specify the settings for
  each state. If you do not specify the <code>JButton.States</code> entry,
  then the standard Synth states will be assumed. If you specify the entry
  but the list of states is empty or null, then the standard synth states
  will be assumed.</p>
  @author Richard Bair
  @author Jasper Potts</div>
<a id="L121" name="L121"></a> 121 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/5515.html" title="Multiple referred from 13 places.">NimbusStyle</a> <strong class="reserved">extends</strong> <a href="../S/2984.html#L52" title="Defined at 52 in src/javax/swing/plaf/synth/SynthStyle.java.">SynthStyle</a> <em class="brace">{</em>
<div class="comment">
     /* Keys and scales for large/small/mini components, based on Apples sizes */</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> LARGE_KEY = "large";
<a id="L124" name="L124"></a> 124     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SMALL_KEY = "small";
<a id="L125" name="L125"></a> 125     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> MINI_KEY = "mini";
<a id="L126" name="L126"></a> 126     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">double</strong> LARGE_SCALE = 1.15;
<a id="L127" name="L127"></a> 127     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">double</strong> SMALL_SCALE = 0.857;
<a id="L128" name="L128"></a> 128     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">double</strong> MINI_SCALE = 0.714;
<a id="L129" name="L129"></a> 129 
<div class="comment">
      Special constant used for performance reasons during the get() method.
      If get() runs through all of the search locations and determines that
      there is no value, then NULL will be placed into the values map. This way
      on subsequent lookups it will simply extract NULL, see it, and return
      null rather than continuing the lookup procedure.</div>
<a id="L137" name="L137"></a> 137     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2603.html#L115" title="Defined at 115 in src/java/sql/JDBCType.java.">NULL</a> = '\0';
<div class="comment">
      <p>The Color to return from getColorForState if it would otherwise have
      returned null.</p>
      <p>Returning null from getColorForState is a very bad thing, as it causes
      the AWT peer for the component to install a SystemColor, which is not a
      UIResource. As a result, if <code>null</code> is returned from
      getColorForState, then thereafter the color is not updated for other
      states or on LAF changes or updates. This DEFAULT_COLOR is used to
      ensure that a ColorUIResource is always returned from
      getColorForState.</p></div>
<a id="L150" name="L150"></a> 150     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> DEFAULT_COLOR = <strong class="reserved">new</strong> <a href="../S/3105.html#L48" title="Defined at 48 in src/javax/swing/plaf/ColorUIResource.java.">ColorUIResource</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>.BLACK);
<div class="comment">
      Simple Comparator for ordering the RuntimeStates according to their
      rank.</div>
<a id="L155" name="L155"></a> 155     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>&gt; STATE_COMPARATOR =
<a id="L156" name="L156"></a> 156         <strong class="reserved">new</strong> <a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>&gt;() <em class="brace">{</em>
<a id="L157" name="L157"></a> 157             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L158" name="L158"></a> 158             <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(<a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> b) <em class="brace">{</em>
<a id="L159" name="L159"></a> 159                 <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> - b.<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L160" name="L160"></a> 160             <em class="brace">}</em>
<a id="L161" name="L161"></a> 161         <em class="brace">}</em>;
<div class="comment">
      The prefix for the component or region that this NimbusStyle
      represents. This prefix is used to lookup state in the UIManager.
      It should be something like Button or Slider.Thumb or "MyButton" or
      ComboBox."ComboBox.arrowButton" or "MyComboBox"."ComboBox.arrowButton"</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<div class="comment">
      The SynthPainter that will be returned from this NimbusStyle. The
      SynthPainter returned will be a SynthPainterImpl, which will in turn
      delegate back to this NimbusStyle for the proper Painter (not
      SynthPainter) to use for painting the foreground, background, or border.</div>
<a id="L175" name="L175"></a> 175     <strong class="reserved">private</strong> <a href="../S/2933.html#L62" title="Defined at 62 in src/javax/swing/plaf/synth/SynthPainter.java.">SynthPainter</a> painter;
<div class="comment">
      Data structure containing all of the defaults, insets, states, and other
      values associated with this style. This instance refers to default
      values, and are used when no overrides are discovered in the client
      properties of a component. These values are lazily created on first
      access.</div>
<a id="L183" name="L183"></a> 183     <strong class="reserved">private</strong> <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>;
<a id="L184" name="L184"></a> 184 
<div class="comment">
      A temporary CacheKey used to perform lookups. This pattern avoids
      creating useless garbage keys, or concatenating strings, etc.</div>
<a id="L189" name="L189"></a> 189     <strong class="reserved">private</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> tmpKey = <strong class="reserved">new</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>("", 0);
<a id="L190" name="L190"></a> 190 
<div class="comment">
      Some NimbusStyles are created for a specific component only. In Nimbus,
      this happens whenever the component has as a client property a
      UIDefaults which overrides (or supplements) those defaults found in
      UIManager.</div>
<a id="L197" name="L197"></a> 197     <strong class="reserved">private</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>&gt; <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>;
<a id="L198" name="L198"></a> 198 
<div class="comment">
      Create a new NimbusStyle. Only the prefix must be supplied. At the
      appropriate time, installDefaults will be called. At that point, all of
      the state information will be pulled from UIManager and stored locally
      within this style.
      @param prefix Something like Button or Slider.Thumb or
             org.jdesktop.swingx.JXStatusBar or ComboBox."ComboBox.arrowButton"
      @param c an optional reference to a component that this NimbusStyle
             should be associated with. This is only used when the component
             has Nimbus overrides registered in its client properties and
             should be null otherwise.</div>
<a id="L212" name="L212"></a> 212     NimbusStyle(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214             <strong class="reserved">this</strong>.<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> = <strong class="reserved">new</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>&gt;(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L215" name="L215"></a> 215         <em class="brace">}</em>
<a id="L216" name="L216"></a> 216         <strong class="reserved">this</strong>.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L217" name="L217"></a> 217         <strong class="reserved">this</strong>.painter = <strong class="reserved">new</strong> <a href="../S/3091.html#L40" title="Defined at 40 in src/javax/swing/plaf/nimbus/SynthPainterImpl.java.">SynthPainterImpl</a>(<strong class="reserved">this</strong>);
<a id="L218" name="L218"></a> 218     <em class="brace">}</em>
<a id="L219" name="L219"></a> 219 
<div class="comment">
      {@inheritDoc}
      Overridden to cause this style to populate itself with data from
      UIDefaults, if necessary.</div>
<a id="L226" name="L226"></a> 226     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20846.html" title="Multiple referred from 80 places.">installDefaults</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>();
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229         <em class="comment">//delegate to the superclass to install defaults such as background,</em>
<a id="L230" name="L230"></a> 230         <em class="comment">//foreground, font, and opaque onto the swing component.</em>
<a id="L231" name="L231"></a> 231         <strong class="reserved">super</strong>.<a href="../D/24831.html" title="Multiple defined in 107 places.">installDefaults</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>);
<a id="L232" name="L232"></a> 232     <em class="brace">}</em>
<a id="L233" name="L233"></a> 233 
<div class="comment">
      Pulls data out of UIDefaults, if it has not done so already, and sets
      up the internal state.</div>
<a id="L238" name="L238"></a> 238     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30051.html" title="Multiple referred from 135 places.">validate</a>() <em class="brace">{</em>
<a id="L239" name="L239"></a> 239         <em class="comment">// a non-null values object is the flag we use to determine whether</em>
<a id="L240" name="L240"></a> 240         <em class="comment">// to reparse from UIManager.</em>
<a id="L241" name="L241"></a> 241         <strong class="reserved">if</strong> (<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a> != <strong class="reserved">null</strong>) <strong class="reserved">return</strong>;
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243         <em class="comment">// reconstruct this NimbusStyle based on the entries in the UIManager</em>
<a id="L244" name="L244"></a> 244         <em class="comment">// and possibly based on any overrides within the component's</em>
<a id="L245" name="L245"></a> 245         <em class="comment">// client properties (assuming such a component exists and contains</em>
<a id="L246" name="L246"></a> 246         <em class="comment">// any Nimbus.Overrides)</em>
<a id="L247" name="L247"></a> 247         <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a> = <strong class="reserved">new</strong> <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a>();
<a id="L248" name="L248"></a> 248 
<a id="L249" name="L249"></a> 249         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; defaults =
<a id="L250" name="L250"></a> 250                 ((<a href="../D/6043.html" title="Multiple defined in 2 places.">NimbusLookAndFeel</a>) <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../S/3125.html#L491" title="Defined at 491 in src/javax/swing/UIManager.java.">getLookAndFeel</a>()).
<a id="L251" name="L251"></a> 251                         <a href="../S/3069.html#L579" title="Defined at 579 in src/javax/swing/plaf/nimbus/NimbusLookAndFeel.java.">getDefaultsForPrefix</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L252" name="L252"></a> 252 
<a id="L253" name="L253"></a> 253         <em class="comment">// inspect the client properties for the key "Nimbus.Overrides". If the</em>
<a id="L254" name="L254"></a> 254         <em class="comment">// value is an instance of UIDefaults, then these defaults are used</em>
<a id="L255" name="L255"></a> 255         <em class="comment">// in place of, or in addition to, the defaults in UIManager.</em>
<a id="L256" name="L256"></a> 256         <strong class="reserved">if</strong> (<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             <em class="comment">// We know component.get() is non-null here, as if the component</em>
<a id="L258" name="L258"></a> 258             <em class="comment">// were GC'ed, we wouldn't be processing its style.</em>
<a id="L259" name="L259"></a> 259             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>().<a href="../S/3152.html#L4020" title="Defined at 4020 in src/javax/swing/JComponent.java.">getClientProperty</a>("Nimbus.Overrides");
<a id="L260" name="L260"></a> 260             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a>) <em class="brace">{</em>
<a id="L261" name="L261"></a> 261                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> i = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>().<a href="../S/3152.html#L4020" title="Defined at 4020 in src/javax/swing/JComponent.java.">getClientProperty</a>(
<a id="L262" name="L262"></a> 262                         "Nimbus.Overrides.InheritDefaults");
<a id="L263" name="L263"></a> 263                 <strong class="reserved">boolean</strong> inherit = i <strong class="reserved">instanceof</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> ? (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)i : <strong class="reserved">true</strong>;
<a id="L264" name="L264"></a> 264                 <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a> d = (<a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a>)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L265" name="L265"></a> 265                 <a href="../S/847.html#L111" title="Defined at 111 in src/java/util/TreeMap.java.">TreeMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <strong class="reserved">new</strong> <a href="../S/847.html#L111" title="Defined at 111 in src/java/util/TreeMap.java.">TreeMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L266" name="L266"></a> 266                 <strong class="reserved">for</strong> (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj : d.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>()) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267                     <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)obj;
<a id="L269" name="L269"></a> 269                         <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>)) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270                             <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, d.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>));
<a id="L271" name="L271"></a> 271                         <em class="brace">}</em>
<a id="L272" name="L272"></a> 272                     <em class="brace">}</em>
<a id="L273" name="L273"></a> 273                 <em class="brace">}</em>
<a id="L274" name="L274"></a> 274                 <strong class="reserved">if</strong> (inherit) <em class="brace">{</em>
<a id="L275" name="L275"></a> 275                     defaults.<a href="../D/29972.html" title="Multiple defined in 20 places.">putAll</a>(<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L276" name="L276"></a> 276                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L277" name="L277"></a> 277                     defaults = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L278" name="L278"></a> 278                 <em class="brace">}</em>
<a id="L279" name="L279"></a> 279             <em class="brace">}</em>
<a id="L280" name="L280"></a> 280         <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<a id="L282" name="L282"></a> 282         <em class="comment">//a list of the different types of states used by this style. This</em>
<a id="L283" name="L283"></a> 283         <em class="comment">//list may contain only "standard" states (those defined by Synth),</em>
<a id="L284" name="L284"></a> 284         <em class="comment">//or it may contain custom states, or it may contain only "standard"</em>
<a id="L285" name="L285"></a> 285         <em class="comment">//states but list them in a non-standard order.</em>
<a id="L286" name="L286"></a> 286         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>&gt; states = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>&gt;();
<a id="L287" name="L287"></a> 287         <em class="comment">//a map of state name to code</em>
<a id="L288" name="L288"></a> 288         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; stateCodes = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt;();
<a id="L289" name="L289"></a> 289         <em class="comment">//This is a list of runtime "state" context objects. These contain</em>
<a id="L290" name="L290"></a> 290         <em class="comment">//the values associated with each state.</em>
<a id="L291" name="L291"></a> 291         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>&gt; runtimeStates = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>&gt;();
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293         <em class="comment">//determine whether there are any custom states, or custom state</em>
<a id="L294" name="L294"></a> 294         <em class="comment">//order. If so, then read all those custom states and define the</em>
<a id="L295" name="L295"></a> 295         <em class="comment">//"values" stateTypes to be a non-null array.</em>
<a id="L296" name="L296"></a> 296         <em class="comment">//Otherwise, let the "values" stateTypes be null to indicate that</em>
<a id="L297" name="L297"></a> 297         <em class="comment">//there are no custom states or custom state ordering</em>
<a id="L298" name="L298"></a> 298         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> statesString = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".States");
<a id="L299" name="L299"></a> 299         <strong class="reserved">if</strong> (statesString != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L300" name="L300"></a> 300             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s[] = statesString.<a href="../D/34718.html" title="Multiple defined in 12 places.">split</a>(",");
<a id="L301" name="L301"></a> 301             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302                 s[i] = s[i].<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L303" name="L303"></a> 303                 <strong class="reserved">if</strong> (!<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.<a href="../S/3084.html#L150" title="Defined at 150 in src/javax/swing/plaf/nimbus/State.java.">isStandardStateName</a>(s[i])) <em class="brace">{</em>
<a id="L304" name="L304"></a> 304                     <em class="comment">//this is a non-standard state name, so look for the</em>
<a id="L305" name="L305"></a> 305                     <em class="comment">//custom state associated with it</em>
<a id="L306" name="L306"></a> 306                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> stateName = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + "." + s[i];
<a id="L307" name="L307"></a> 307                     <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> customState = (<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>)defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(stateName);
<a id="L308" name="L308"></a> 308                     <strong class="reserved">if</strong> (customState != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309                         states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(customState);
<a id="L310" name="L310"></a> 310                     <em class="brace">}</em>
<a id="L311" name="L311"></a> 311                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L312" name="L312"></a> 312                     states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.<a href="../S/3084.html#L154" title="Defined at 154 in src/javax/swing/plaf/nimbus/State.java.">getStandardState</a>(s[i]));
<a id="L313" name="L313"></a> 313                 <em class="brace">}</em>
<a id="L314" name="L314"></a> 314             <em class="brace">}</em>
<a id="L315" name="L315"></a> 315 
<a id="L316" name="L316"></a> 316             <em class="comment">//if there were any states defined, then set the stateTypes array</em>
<a id="L317" name="L317"></a> 317             <em class="comment">//to be non-null. Otherwise, leave it null (meaning, use the</em>
<a id="L318" name="L318"></a> 318             <em class="comment">//standard synth states).</em>
<a id="L319" name="L319"></a> 319             <strong class="reserved">if</strong> (states.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                 <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.stateTypes = states.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>[states.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L321" name="L321"></a> 321             <em class="brace">}</em>
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323             <em class="comment">//assign codes for each of the state types</em>
<a id="L324" name="L324"></a> 324             <strong class="reserved">int</strong> code = 1;
<a id="L325" name="L325"></a> 325             <strong class="reserved">for</strong> (<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> : states) <em class="brace">{</em>
<a id="L326" name="L326"></a> 326                 stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(), code);
<a id="L327" name="L327"></a> 327                 code &lt;&lt;= 1;
<a id="L328" name="L328"></a> 328             <em class="brace">}</em>
<a id="L329" name="L329"></a> 329         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L330" name="L330"></a> 330             <em class="comment">//since there were no custom states defined, setup the list of</em>
<a id="L331" name="L331"></a> 331             <em class="comment">//standard synth states. Note that the "v.stateTypes" is not</em>
<a id="L332" name="L332"></a> 332             <em class="comment">//being set here, indicating that at runtime the state selection</em>
<a id="L333" name="L333"></a> 333             <em class="comment">//routines should use standard synth states instead of custom</em>
<a id="L334" name="L334"></a> 334             <em class="comment">//states. I do need to popuplate this temp list now though, so that</em>
<a id="L335" name="L335"></a> 335             <em class="comment">//the remainder of this method will function as expected.</em>
<a id="L336" name="L336"></a> 336             states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.Enabled);
<a id="L337" name="L337"></a> 337             states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.MouseOver);
<a id="L338" name="L338"></a> 338             states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.Pressed);
<a id="L339" name="L339"></a> 339             states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.Disabled);
<a id="L340" name="L340"></a> 340             states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.Focused);
<a id="L341" name="L341"></a> 341             states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.Selected);
<a id="L342" name="L342"></a> 342             states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.Default);
<a id="L343" name="L343"></a> 343 
<a id="L344" name="L344"></a> 344             <em class="comment">//assign codes for the states</em>
<a id="L345" name="L345"></a> 345             stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("Enabled", ENABLED);
<a id="L346" name="L346"></a> 346             stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("MouseOver", MOUSE_OVER);
<a id="L347" name="L347"></a> 347             stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("Pressed", PRESSED);
<a id="L348" name="L348"></a> 348             stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("Disabled", DISABLED);
<a id="L349" name="L349"></a> 349             stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("Focused", FOCUSED);
<a id="L350" name="L350"></a> 350             stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("Selected", SELECTED);
<a id="L351" name="L351"></a> 351             stateCodes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("Default", <a href="../D/2015.html" title="Multiple defined in 7 places.">DEFAULT</a>);
<a id="L352" name="L352"></a> 352         <em class="brace">}</em>
<a id="L353" name="L353"></a> 353 
<a id="L354" name="L354"></a> 354         <em class="comment">//Now iterate over all the keys in the defaults table</em>
<a id="L355" name="L355"></a> 355         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> : defaults.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>()) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356             <em class="comment">//The key is something like JButton.Enabled.backgroundPainter,</em>
<a id="L357" name="L357"></a> 357             <em class="comment">//or JButton.States, or JButton.background.</em>
<a id="L358" name="L358"></a> 358             <em class="comment">//Remove the "JButton." portion of the key</em>
<a id="L359" name="L359"></a> 359             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> temp = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L360" name="L360"></a> 360             <em class="comment">//if there is a " or : then we skip it because it is a subregion</em>
<a id="L361" name="L361"></a> 361             <em class="comment">//of some kind</em>
<a id="L362" name="L362"></a> 362             <strong class="reserved">if</strong> (temp.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('"') != -1 || temp.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':') != -1) <strong class="reserved">continue</strong>;
<a id="L363" name="L363"></a> 363             <em class="comment">//remove the separator</em>
<a id="L364" name="L364"></a> 364             temp = temp.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L365" name="L365"></a> 365             <em class="comment">//At this point, temp may be any of the following:</em>
<a id="L366" name="L366"></a> 366             <em class="comment">//background</em>
<a id="L367" name="L367"></a> 367             <em class="comment">//[Enabled].background</em>
<a id="L368" name="L368"></a> 368             <em class="comment">//[Enabled+MouseOver].background</em>
<a id="L369" name="L369"></a> 369             <em class="comment">//property.foo</em>
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371             <em class="comment">//parse out the states and the property</em>
<a id="L372" name="L372"></a> 372             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> stateString = <strong class="reserved">null</strong>;
<a id="L373" name="L373"></a> 373             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> property = <strong class="reserved">null</strong>;
<a id="L374" name="L374"></a> 374             <strong class="reserved">int</strong> bracketIndex = temp.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(']');
<a id="L375" name="L375"></a> 375             <strong class="reserved">if</strong> (bracketIndex &lt; 0) <em class="brace">{</em>
<a id="L376" name="L376"></a> 376                 <em class="comment">//there is not a state string, so property = temp</em>
<a id="L377" name="L377"></a> 377                 property = temp;
<a id="L378" name="L378"></a> 378             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L379" name="L379"></a> 379                 stateString = temp.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, bracketIndex);
<a id="L380" name="L380"></a> 380                 property = temp.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(bracketIndex + 2);
<a id="L381" name="L381"></a> 381             <em class="brace">}</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383             <em class="comment">//now that I have the state (if any) and the property, get the</em>
<a id="L384" name="L384"></a> 384             <em class="comment">//value for this property and install it where it belongs</em>
<a id="L385" name="L385"></a> 385             <strong class="reserved">if</strong> (stateString == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L386" name="L386"></a> 386                 <em class="comment">//there was no state, just a property. Check for the custom</em>
<a id="L387" name="L387"></a> 387                 <em class="comment">//"contentMargins" property (which is handled specially by</em>
<a id="L388" name="L388"></a> 388                 <em class="comment">//Synth/Nimbus). Also check for the property being "States",</em>
<a id="L389" name="L389"></a> 389                 <em class="comment">//in which case it is not a real property and should be ignored.</em>
<a id="L390" name="L390"></a> 390                 <em class="comment">//otherwise, assume it is a property and install it on the</em>
<a id="L391" name="L391"></a> 391                 <em class="comment">//values object</em>
<a id="L392" name="L392"></a> 392                 <strong class="reserved">if</strong> ("contentMargins".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(property)) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393                     <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.contentMargins = (<a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a>)defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L394" name="L394"></a> 394                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("States".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(property)) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395                     <em class="comment">//ignore</em>
<a id="L396" name="L396"></a> 396                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                     <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.defaults.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(property, defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>));
<a id="L398" name="L398"></a> 398                 <em class="brace">}</em>
<a id="L399" name="L399"></a> 399             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L400" name="L400"></a> 400                 <em class="comment">//it is possible that the developer has a malformed UIDefaults</em>
<a id="L401" name="L401"></a> 401                 <em class="comment">//entry, such that something was specified in the place of</em>
<a id="L402" name="L402"></a> 402                 <em class="comment">//the State portion of the key but it wasn't a state. In this</em>
<a id="L403" name="L403"></a> 403                 <em class="comment">//case, skip will be set to true</em>
<a id="L404" name="L404"></a> 404                 <strong class="reserved">boolean</strong> <a href="../D/34598.html" title="Multiple defined in 46 places.">skip</a> = <strong class="reserved">false</strong>;
<a id="L405" name="L405"></a> 405                 <em class="comment">//this variable keeps track of the int value associated with</em>
<a id="L406" name="L406"></a> 406                 <em class="comment">//the state. See SynthState for details.</em>
<a id="L407" name="L407"></a> 407                 <strong class="reserved">int</strong> componentState = 0;
<a id="L408" name="L408"></a> 408                 <em class="comment">//Multiple states may be specified in the string, such as</em>
<a id="L409" name="L409"></a> 409                 <em class="comment">//Enabled+MouseOver</em>
<a id="L410" name="L410"></a> 410                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] stateParts = stateString.<a href="../D/34718.html" title="Multiple defined in 12 places.">split</a>("\\+");
<a id="L411" name="L411"></a> 411                 <em class="comment">//For each state, we need to find the State object associated</em>
<a id="L412" name="L412"></a> 412                 <em class="comment">//with it, or skip it if it cannot be found.</em>
<a id="L413" name="L413"></a> 413                 <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s : stateParts) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414                     <strong class="reserved">if</strong> (stateCodes.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(s)) <em class="brace">{</em>
<a id="L415" name="L415"></a> 415                         componentState |= stateCodes.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(s);
<a id="L416" name="L416"></a> 416                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L417" name="L417"></a> 417                         <em class="comment">//Was not a state. Maybe it was a subregion or something</em>
<a id="L418" name="L418"></a> 418                         <em class="comment">//skip it.</em>
<a id="L419" name="L419"></a> 419                         <a href="../D/34598.html" title="Multiple defined in 46 places.">skip</a> = <strong class="reserved">true</strong>;
<a id="L420" name="L420"></a> 420                         <strong class="reserved">break</strong>;
<a id="L421" name="L421"></a> 421                     <em class="brace">}</em>
<a id="L422" name="L422"></a> 422                 <em class="brace">}</em>
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424                 <strong class="reserved">if</strong> (<a href="../D/34598.html" title="Multiple defined in 46 places.">skip</a>) <strong class="reserved">continue</strong>;
<a id="L425" name="L425"></a> 425 
<a id="L426" name="L426"></a> 426                 <em class="comment">//find the RuntimeState for this State</em>
<a id="L427" name="L427"></a> 427                 <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> rs = <strong class="reserved">null</strong>;
<a id="L428" name="L428"></a> 428                 <strong class="reserved">for</strong> (<a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> s : runtimeStates) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429                     <strong class="reserved">if</strong> (s.<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == componentState) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430                         rs = s;
<a id="L431" name="L431"></a> 431                         <strong class="reserved">break</strong>;
<a id="L432" name="L432"></a> 432                     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433                 <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<a id="L435" name="L435"></a> 435                 <em class="comment">//couldn't find the runtime state, so create a new one</em>
<a id="L436" name="L436"></a> 436                 <strong class="reserved">if</strong> (rs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437                     rs = <strong class="reserved">new</strong> <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>(componentState, stateString);
<a id="L438" name="L438"></a> 438                     runtimeStates.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(rs);
<a id="L439" name="L439"></a> 439                 <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441                 <em class="comment">//check for a couple special properties, such as for the</em>
<a id="L442" name="L442"></a> 442                 <em class="comment">//painters. If these are found, then set the specially on</em>
<a id="L443" name="L443"></a> 443                 <em class="comment">//the runtime state. Else, it is just a normal property,</em>
<a id="L444" name="L444"></a> 444                 <em class="comment">//so put it in the UIDefaults associated with that runtime</em>
<a id="L445" name="L445"></a> 445                 <em class="comment">//state</em>
<a id="L446" name="L446"></a> 446                 <strong class="reserved">if</strong> ("backgroundPainter".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(property)) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447                     rs.backgroundPainter = <a href="../D/21351.html" title="Multiple defined in 12 places.">getPainter</a>(defaults, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L448" name="L448"></a> 448                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("foregroundPainter".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(property)) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449                     rs.foregroundPainter = <a href="../D/21351.html" title="Multiple defined in 12 places.">getPainter</a>(defaults, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L450" name="L450"></a> 450                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("borderPainter".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(property)) <em class="brace">{</em>
<a id="L451" name="L451"></a> 451                     rs.borderPainter = <a href="../D/21351.html" title="Multiple defined in 12 places.">getPainter</a>(defaults, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L452" name="L452"></a> 452                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L453" name="L453"></a> 453                     rs.defaults.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(property, defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>));
<a id="L454" name="L454"></a> 454                 <em class="brace">}</em>
<a id="L455" name="L455"></a> 455             <em class="brace">}</em>
<a id="L456" name="L456"></a> 456         <em class="brace">}</em>
<a id="L457" name="L457"></a> 457 
<a id="L458" name="L458"></a> 458         <em class="comment">//now that I've collected all the runtime states, I'll sort them based</em>
<a id="L459" name="L459"></a> 459         <em class="comment">//on their integer "state" (see SynthState for how this works).</em>
<a id="L460" name="L460"></a> 460         <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/34687.html" title="Multiple defined in 56 places.">sort</a>(runtimeStates, STATE_COMPARATOR);
<a id="L461" name="L461"></a> 461 
<a id="L462" name="L462"></a> 462         <em class="comment">//finally, set the array of runtime states on the values object</em>
<a id="L463" name="L463"></a> 463         <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.states = runtimeStates.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>[runtimeStates.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L464" name="L464"></a> 464     <em class="brace">}</em>
<a id="L465" name="L465"></a> 465 
<a id="L466" name="L466"></a> 466     <strong class="reserved">private</strong> <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> <a href="../R/18240.html" title="Multiple referred from 260 places.">getPainter</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; defaults, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L467" name="L467"></a> 467         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> p = defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L468" name="L468"></a> 468         <strong class="reserved">if</strong> (p <strong class="reserved">instanceof</strong> <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a>.<a href="../S/2752.html#L952" title="Defined at 952 in src/javax/swing/UIDefaults.java.">LazyValue</a>) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469             p = ((<a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a>.<a href="../S/2752.html#L952" title="Defined at 952 in src/javax/swing/UIDefaults.java.">LazyValue</a>)p).<a href="../D/14301.html" title="Multiple defined in 15 places.">createValue</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/18389.html" title="Multiple defined in 8 places.">getDefaults</a>());
<a id="L470" name="L470"></a> 470         <em class="brace">}</em>
<a id="L471" name="L471"></a> 471         <strong class="reserved">return</strong> (p <strong class="reserved">instanceof</strong> <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> ? (<a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a>)p : <strong class="reserved">null</strong>);
<a id="L472" name="L472"></a> 472     <em class="brace">}</em>
<a id="L473" name="L473"></a> 473 
<div class="comment">
      {@inheritDoc}
      Overridden to cause this style to populate itself with data from
      UIDefaults, if necessary.</div>
<a id="L480" name="L480"></a> 480     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> <a href="../R/17108.html" title="Multiple referred from 254 places.">getInsets</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481         <strong class="reserved">if</strong> (<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L482" name="L482"></a> 482             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">new</strong> <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a>(0, 0, 0, 0);
<a id="L483" name="L483"></a> 483         <em class="brace">}</em>
<a id="L484" name="L484"></a> 484 
<a id="L485" name="L485"></a> 485         <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> v = <a href="../D/23554.html" title="Multiple defined in 5 places.">getValues</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>);
<a id="L486" name="L486"></a> 486 
<a id="L487" name="L487"></a> 487         <strong class="reserved">if</strong> (v.contentMargins == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.bottom = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.left = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.right = 0;
<a id="L489" name="L489"></a> 489             <strong class="reserved">return</strong> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>;
<a id="L490" name="L490"></a> 490         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L491" name="L491"></a> 491             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.bottom = v.contentMargins.bottom;
<a id="L492" name="L492"></a> 492             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = v.contentMargins.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>;
<a id="L493" name="L493"></a> 493             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.left = v.contentMargins.left;
<a id="L494" name="L494"></a> 494             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.right = v.contentMargins.right;
<a id="L495" name="L495"></a> 495             <em class="comment">// Account for scale</em>
<a id="L496" name="L496"></a> 496             <em class="comment">// The key "JComponent.sizeVariant" is used to match Apple's LAF</em>
<a id="L497" name="L497"></a> 497             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scaleKey = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>().<a href="../S/3152.html#L4020" title="Defined at 4020 in src/javax/swing/JComponent.java.">getClientProperty</a>(
<a id="L498" name="L498"></a> 498                     "JComponent.sizeVariant");
<a id="L499" name="L499"></a> 499             <strong class="reserved">if</strong> (scaleKey != <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L500" name="L500"></a> 500                 <strong class="reserved">if</strong> (LARGE_KEY.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(scaleKey))<em class="brace">{</em>
<a id="L501" name="L501"></a> 501                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.bottom *= LARGE_SCALE;
<a id="L502" name="L502"></a> 502                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> *= LARGE_SCALE;
<a id="L503" name="L503"></a> 503                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.left *= LARGE_SCALE;
<a id="L504" name="L504"></a> 504                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.right *= LARGE_SCALE;
<a id="L505" name="L505"></a> 505                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (SMALL_KEY.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(scaleKey))<em class="brace">{</em>
<a id="L506" name="L506"></a> 506                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.bottom *= SMALL_SCALE;
<a id="L507" name="L507"></a> 507                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> *= SMALL_SCALE;
<a id="L508" name="L508"></a> 508                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.left *= SMALL_SCALE;
<a id="L509" name="L509"></a> 509                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.right *= SMALL_SCALE;
<a id="L510" name="L510"></a> 510                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (MINI_KEY.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(scaleKey))<em class="brace">{</em>
<a id="L511" name="L511"></a> 511                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.bottom *= MINI_SCALE;
<a id="L512" name="L512"></a> 512                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> *= MINI_SCALE;
<a id="L513" name="L513"></a> 513                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.left *= MINI_SCALE;
<a id="L514" name="L514"></a> 514                     <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.right *= MINI_SCALE;
<a id="L515" name="L515"></a> 515                 <em class="brace">}</em>
<a id="L516" name="L516"></a> 516             <em class="brace">}</em>
<a id="L517" name="L517"></a> 517             <strong class="reserved">return</strong> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>;
<a id="L518" name="L518"></a> 518         <em class="brace">}</em>
<a id="L519" name="L519"></a> 519     <em class="brace">}</em>
<a id="L520" name="L520"></a> 520 
<div class="comment">
      {@inheritDoc}
      <p>Overridden to cause this style to populate itself with data from
      UIDefaults, if necessary.</p>
      <p>In addition, NimbusStyle handles ColorTypes slightly differently from
      Synth.</p>
      <ul><li>ColorType.BACKGROUND will equate to the color stored in UIDefaults
           named "background".</li><li>ColorType.TEXT_BACKGROUND will equate to the color stored in
           UIDefaults named "textBackground".</li><li>ColorType.FOREGROUND will equate to the color stored in UIDefaults
           named "textForeground".</li><li>ColorType.TEXT_FOREGROUND will equate to the color stored in
           UIDefaults named "textForeground".</li>
      </ul></div>
<a id="L540" name="L540"></a> 540     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">protected</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../R/15659.html" title="Multiple referred from 10 places.">getColorForState</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, <a href="../D/1652.html" title="Multiple defined in 2 places.">ColorType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L541" name="L541"></a> 541         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <strong class="reserved">null</strong>;
<a id="L542" name="L542"></a> 542         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/1652.html" title="Multiple defined in 2 places.">ColorType</a>.BACKGROUND) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "background";
<a id="L544" name="L544"></a> 544         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/1652.html" title="Multiple defined in 2 places.">ColorType</a>.FOREGROUND) <em class="brace">{</em>
<a id="L545" name="L545"></a> 545             <em class="comment">//map FOREGROUND as TEXT_FOREGROUND</em>
<a id="L546" name="L546"></a> 546             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "textForeground";
<a id="L547" name="L547"></a> 547         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/1652.html" title="Multiple defined in 2 places.">ColorType</a>.TEXT_BACKGROUND) <em class="brace">{</em>
<a id="L548" name="L548"></a> 548             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "textBackground";
<a id="L549" name="L549"></a> 549         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/1652.html" title="Multiple defined in 2 places.">ColorType</a>.TEXT_FOREGROUND) <em class="brace">{</em>
<a id="L550" name="L550"></a> 550             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "textForeground";
<a id="L551" name="L551"></a> 551         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/1652.html" title="Multiple defined in 2 places.">ColorType</a>.FOCUS) <em class="brace">{</em>
<a id="L552" name="L552"></a> 552             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "focus";
<a id="L553" name="L553"></a> 553         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L554" name="L554"></a> 554             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L555" name="L555"></a> 555         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L556" name="L556"></a> 556             <strong class="reserved">return</strong> DEFAULT_COLOR;
<a id="L557" name="L557"></a> 557         <em class="brace">}</em>
<a id="L558" name="L558"></a> 558         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>) <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L559" name="L559"></a> 559         <em class="comment">//if all else fails, return a default color (which is a ColorUIResource)</em>
<a id="L560" name="L560"></a> 560         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>) <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = DEFAULT_COLOR;
<a id="L561" name="L561"></a> 561         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L562" name="L562"></a> 562     <em class="brace">}</em>
<a id="L563" name="L563"></a> 563 
<div class="comment">
      {@inheritDoc}
      Overridden to cause this style to populate itself with data from
      UIDefaults, if necessary. If a value named "font" is not found in
      UIDefaults, then the "defaultFont" font in UIDefaults will be returned
      instead.</div>
<a id="L572" name="L572"></a> 572     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">protected</strong> <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> <a href="../R/16681.html" title="Multiple referred from 3 places.">getFontForState</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L573" name="L573"></a> 573         <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> f = (<a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a>)<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, "font");
<a id="L574" name="L574"></a> 574         <strong class="reserved">if</strong> (f == <strong class="reserved">null</strong>) f = <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>("defaultFont");
<a id="L575" name="L575"></a> 575 
<a id="L576" name="L576"></a> 576         <em class="comment">// Account for scale</em>
<a id="L577" name="L577"></a> 577         <em class="comment">// The key "JComponent.sizeVariant" is used to match Apple's LAF</em>
<a id="L578" name="L578"></a> 578         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scaleKey = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>().<a href="../S/3152.html#L4020" title="Defined at 4020 in src/javax/swing/JComponent.java.">getClientProperty</a>(
<a id="L579" name="L579"></a> 579                 "JComponent.sizeVariant");
<a id="L580" name="L580"></a> 580         <strong class="reserved">if</strong> (scaleKey != <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L581" name="L581"></a> 581             <strong class="reserved">if</strong> (LARGE_KEY.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(scaleKey))<em class="brace">{</em>
<a id="L582" name="L582"></a> 582                 f = f.<a href="../D/14849.html" title="Multiple defined in 6 places.">deriveFont</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/31457.html" title="Multiple defined in 6 places.">round</a>(f.<a href="../S/2176.html#L1329" title="Defined at 1329 in src/java/awt/Font.java.">getSize2D</a>()*LARGE_SCALE));
<a id="L583" name="L583"></a> 583             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (SMALL_KEY.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(scaleKey))<em class="brace">{</em>
<a id="L584" name="L584"></a> 584                 f = f.<a href="../D/14849.html" title="Multiple defined in 6 places.">deriveFont</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/31457.html" title="Multiple defined in 6 places.">round</a>(f.<a href="../S/2176.html#L1329" title="Defined at 1329 in src/java/awt/Font.java.">getSize2D</a>()*SMALL_SCALE));
<a id="L585" name="L585"></a> 585             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (MINI_KEY.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(scaleKey))<em class="brace">{</em>
<a id="L586" name="L586"></a> 586                 f = f.<a href="../D/14849.html" title="Multiple defined in 6 places.">deriveFont</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/31457.html" title="Multiple defined in 6 places.">round</a>(f.<a href="../S/2176.html#L1329" title="Defined at 1329 in src/java/awt/Font.java.">getSize2D</a>()*MINI_SCALE));
<a id="L587" name="L587"></a> 587             <em class="brace">}</em>
<a id="L588" name="L588"></a> 588         <em class="brace">}</em>
<a id="L589" name="L589"></a> 589         <strong class="reserved">return</strong> f;
<a id="L590" name="L590"></a> 590     <em class="brace">}</em>
<a id="L591" name="L591"></a> 591 
<div class="comment">
      {@inheritDoc}
      Returns the SynthPainter for this style, which ends up delegating to
      the Painters installed in this style.</div>
<a id="L598" name="L598"></a> 598     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <a href="../S/2933.html#L62" title="Defined at 62 in src/javax/swing/plaf/synth/SynthPainter.java.">SynthPainter</a> <a href="../R/18240.html" title="Multiple referred from 260 places.">getPainter</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L599" name="L599"></a> 599         <strong class="reserved">return</strong> painter;
<a id="L600" name="L600"></a> 600     <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<div class="comment">
      {@inheritDoc}
      Overridden to cause this style to populate itself with data from
      UIDefaults, if necessary. If opacity is not specified in UI defaults,
      then it defaults to being non-opaque.</div>
<a id="L609" name="L609"></a> 609     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21824.html" title="Multiple referred from 85 places.">isOpaque</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L610" name="L610"></a> 610         <em class="comment">// Force Table CellRenderers to be opaque</em>
<a id="L611" name="L611"></a> 611         <strong class="reserved">if</strong> ("Table.cellRenderer".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>())) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L613" name="L613"></a> 613         <em class="brace">}</em>
<a id="L614" name="L614"></a> 614         <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> opaque = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, "opaque");
<a id="L615" name="L615"></a> 615         <strong class="reserved">return</strong> opaque == <strong class="reserved">null</strong> ? <strong class="reserved">false</strong> : opaque;
<a id="L616" name="L616"></a> 616     <em class="brace">}</em>
<a id="L617" name="L617"></a> 617 
<div class="comment">
      {@inheritDoc}
      <p>Overridden to cause this style to populate itself with data from
      UIDefaults, if necessary.</p>
      <p>Properties in UIDefaults may be specified in a chained manner. For
      example:
      </p><pre>      background
      Button.opacity
      Button.Enabled.foreground
      Button.Enabled+Selected.background
      </pre>
      <p>In this example, suppose you were in the Enabled+Selected state and
      searched for "foreground". In this case, we first check for
      Button.Enabled+Selected.foreground, but no such color exists. We then
      fall back to the next valid state, in this case,
      Button.Enabled.foreground, and have a match. So we return it.</p>
      <p>Again, if we were in the state Enabled and looked for "background", we
      wouldn't find it in Button.Enabled, or in Button, but would at the top
      level in UIManager. So we return that value.</p>
      <p>One special note: the "key" passed to this method could be of the form
      "background" or "Button.background" where "Button" equals the prefix
      passed to the NimbusStyle constructor. In either case, it looks for
      "background".</p>
      @param ctx
      @param key must not be null</div>
<a id="L651" name="L651"></a> 651     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652         <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> v = <a href="../D/23554.html" title="Multiple defined in 5 places.">getValues</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>);
<a id="L653" name="L653"></a> 653 
<a id="L654" name="L654"></a> 654         <em class="comment">// strip off the prefix, if there is one.</em>
<a id="L655" name="L655"></a> 655         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fullKey = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L656" name="L656"></a> 656         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> partialKey = fullKey.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(fullKey.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(".") + 1);
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj = <strong class="reserved">null</strong>;
<a id="L659" name="L659"></a> 659         <strong class="reserved">int</strong> xstate = <a href="../D/18949.html" title="Multiple defined in 2 places.">getExtendedState</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, v);
<a id="L660" name="L660"></a> 660 
<a id="L661" name="L661"></a> 661         <em class="comment">// check the cache</em>
<a id="L662" name="L662"></a> 662         tmpKey.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(partialKey, xstate);
<a id="L663" name="L663"></a> 663         obj = v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(tmpKey);
<a id="L664" name="L664"></a> 664         <strong class="reserved">boolean</strong> wasInCache = obj != <strong class="reserved">null</strong>;
<a id="L665" name="L665"></a> 665         <strong class="reserved">if</strong> (!wasInCache)<em class="brace">{</em>
<a id="L666" name="L666"></a> 666             <em class="comment">// Search exact matching states and then lesser matching states</em>
<a id="L667" name="L667"></a> 667             <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> s = <strong class="reserved">null</strong>;
<a id="L668" name="L668"></a> 668             <strong class="reserved">int</strong>[] lastIndex = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[] <em class="brace">{</em>-1<em class="brace">}</em>;
<a id="L669" name="L669"></a> 669             <strong class="reserved">while</strong> (obj == <strong class="reserved">null</strong> &amp;&amp;
<a id="L670" name="L670"></a> 670                     (s = <a href="../D/20939.html" title="Multiple defined in 2 places.">getNextState</a>(v.states, lastIndex, xstate)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L671" name="L671"></a> 671                 obj = s.defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(partialKey);
<a id="L672" name="L672"></a> 672             <em class="brace">}</em>
<a id="L673" name="L673"></a> 673             <em class="comment">// Search Region Defaults</em>
<a id="L674" name="L674"></a> 674             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> &amp;&amp; v.defaults != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675                 obj = v.defaults.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(partialKey);
<a id="L676" name="L676"></a> 676             <em class="brace">}</em>
<a id="L677" name="L677"></a> 677             <em class="comment">// return found object</em>
<a id="L678" name="L678"></a> 678             <em class="comment">// Search UIManager Defaults</em>
<a id="L679" name="L679"></a> 679             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>) obj = <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(fullKey);
<a id="L680" name="L680"></a> 680             <em class="comment">// Search Synth Defaults for InputMaps</em>
<a id="L681" name="L681"></a> 681             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> &amp;&amp; partialKey.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("focusInputMap")) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682                 obj = <strong class="reserved">super</strong>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, fullKey);
<a id="L683" name="L683"></a> 683             <em class="brace">}</em>
<a id="L684" name="L684"></a> 684             <em class="comment">// if all we got was a null, store this fact for later use</em>
<a id="L685" name="L685"></a> 685             v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<strong class="reserved">new</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>(partialKey, xstate),
<a id="L686" name="L686"></a> 686                     obj == <strong class="reserved">null</strong> ? <a href="../S/2603.html#L115" title="Defined at 115 in src/java/sql/JDBCType.java.">NULL</a> : obj);
<a id="L687" name="L687"></a> 687         <em class="brace">}</em>
<a id="L688" name="L688"></a> 688         <em class="comment">// return found object</em>
<a id="L689" name="L689"></a> 689         <strong class="reserved">return</strong> obj == <a href="../S/2603.html#L115" title="Defined at 115 in src/java/sql/JDBCType.java.">NULL</a> ? <strong class="reserved">null</strong> : obj;
<a id="L690" name="L690"></a> 690     <em class="brace">}</em>
<a id="L691" name="L691"></a> 691 
<div class="comment">
      Gets the appropriate background Painter, if there is one, for the state
      specified in the given SynthContext. This method does appropriate
      fallback searching, as described in #get.
      @param ctx The SynthContext. Must not be null.
      @return The background painter associated for the given state, or null if
      none could be found.</div>
<a id="L701" name="L701"></a> 701     <strong class="reserved">public</strong> <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> <a href="../S/3091.html#L99" title="Referred from 99 in src/javax/swing/plaf/nimbus/SynthPainterImpl.java.">getBackgroundPainter</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L702" name="L702"></a> 702         <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> v = <a href="../D/23554.html" title="Multiple defined in 5 places.">getValues</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>);
<a id="L703" name="L703"></a> 703         <strong class="reserved">int</strong> xstate = <a href="../D/18949.html" title="Multiple defined in 2 places.">getExtendedState</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, v);
<a id="L704" name="L704"></a> 704         <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> p = <strong class="reserved">null</strong>;
<a id="L705" name="L705"></a> 705 
<a id="L706" name="L706"></a> 706         <em class="comment">// check the cache</em>
<a id="L707" name="L707"></a> 707         tmpKey.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>("backgroundPainter$$instance", xstate);
<a id="L708" name="L708"></a> 708         p = (<a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a>)v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(tmpKey);
<a id="L709" name="L709"></a> 709         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <strong class="reserved">return</strong> p;
<a id="L710" name="L710"></a> 710 
<a id="L711" name="L711"></a> 711         <em class="comment">// not in cache, so lookup and store in cache</em>
<a id="L712" name="L712"></a> 712         <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> s = <strong class="reserved">null</strong>;
<a id="L713" name="L713"></a> 713         <strong class="reserved">int</strong>[] lastIndex = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[] <em class="brace">{</em>-1<em class="brace">}</em>;
<a id="L714" name="L714"></a> 714         <strong class="reserved">while</strong> ((s = <a href="../D/20939.html" title="Multiple defined in 2 places.">getNextState</a>(v.states, lastIndex, xstate)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L715" name="L715"></a> 715             <strong class="reserved">if</strong> (s.backgroundPainter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L716" name="L716"></a> 716                 p = s.backgroundPainter;
<a id="L717" name="L717"></a> 717                 <strong class="reserved">break</strong>;
<a id="L718" name="L718"></a> 718             <em class="brace">}</em>
<a id="L719" name="L719"></a> 719         <em class="brace">}</em>
<a id="L720" name="L720"></a> 720         <strong class="reserved">if</strong> (p == <strong class="reserved">null</strong>) p = (<a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a>)<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, "backgroundPainter");
<a id="L721" name="L721"></a> 721         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L722" name="L722"></a> 722             v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<strong class="reserved">new</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>("backgroundPainter$$instance", xstate), p);
<a id="L723" name="L723"></a> 723         <em class="brace">}</em>
<a id="L724" name="L724"></a> 724         <strong class="reserved">return</strong> p;
<a id="L725" name="L725"></a> 725     <em class="brace">}</em>
<a id="L726" name="L726"></a> 726 
<div class="comment">
      Gets the appropriate foreground Painter, if there is one, for the state
      specified in the given SynthContext. This method does appropriate
      fallback searching, as described in #get.
      @param ctx The SynthContext. Must not be null.
      @return The foreground painter associated for the given state, or null if
      none could be found.</div>
<a id="L736" name="L736"></a> 736     <strong class="reserved">public</strong> <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> <a href="../S/3091.html#L108" title="Referred from 108 in src/javax/swing/plaf/nimbus/SynthPainterImpl.java.">getForegroundPainter</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L737" name="L737"></a> 737         <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> v = <a href="../D/23554.html" title="Multiple defined in 5 places.">getValues</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>);
<a id="L738" name="L738"></a> 738         <strong class="reserved">int</strong> xstate = <a href="../D/18949.html" title="Multiple defined in 2 places.">getExtendedState</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, v);
<a id="L739" name="L739"></a> 739         <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> p = <strong class="reserved">null</strong>;
<a id="L740" name="L740"></a> 740 
<a id="L741" name="L741"></a> 741         <em class="comment">// check the cache</em>
<a id="L742" name="L742"></a> 742         tmpKey.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>("foregroundPainter$$instance", xstate);
<a id="L743" name="L743"></a> 743         p = (<a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a>)v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(tmpKey);
<a id="L744" name="L744"></a> 744         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <strong class="reserved">return</strong> p;
<a id="L745" name="L745"></a> 745 
<a id="L746" name="L746"></a> 746         <em class="comment">// not in cache, so lookup and store in cache</em>
<a id="L747" name="L747"></a> 747         <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> s = <strong class="reserved">null</strong>;
<a id="L748" name="L748"></a> 748         <strong class="reserved">int</strong>[] lastIndex = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[] <em class="brace">{</em>-1<em class="brace">}</em>;
<a id="L749" name="L749"></a> 749         <strong class="reserved">while</strong> ((s = <a href="../D/20939.html" title="Multiple defined in 2 places.">getNextState</a>(v.states, lastIndex, xstate)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L750" name="L750"></a> 750             <strong class="reserved">if</strong> (s.foregroundPainter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L751" name="L751"></a> 751                 p = s.foregroundPainter;
<a id="L752" name="L752"></a> 752                 <strong class="reserved">break</strong>;
<a id="L753" name="L753"></a> 753             <em class="brace">}</em>
<a id="L754" name="L754"></a> 754         <em class="brace">}</em>
<a id="L755" name="L755"></a> 755         <strong class="reserved">if</strong> (p == <strong class="reserved">null</strong>) p = (<a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a>)<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, "foregroundPainter");
<a id="L756" name="L756"></a> 756         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757             v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<strong class="reserved">new</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>("foregroundPainter$$instance", xstate), p);
<a id="L758" name="L758"></a> 758         <em class="brace">}</em>
<a id="L759" name="L759"></a> 759         <strong class="reserved">return</strong> p;
<a id="L760" name="L760"></a> 760     <em class="brace">}</em>
<a id="L761" name="L761"></a> 761 
<div class="comment">
      Gets the appropriate border Painter, if there is one, for the state
      specified in the given SynthContext. This method does appropriate
      fallback searching, as described in #get.
      @param ctx The SynthContext. Must not be null.
      @return The border painter associated for the given state, or null if
      none could be found.</div>
<a id="L771" name="L771"></a> 771     <strong class="reserved">public</strong> <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> <a href="../R/15307.html" title="Multiple referred from 2 places.">getBorderPainter</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L772" name="L772"></a> 772         <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> v = <a href="../D/23554.html" title="Multiple defined in 5 places.">getValues</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>);
<a id="L773" name="L773"></a> 773         <strong class="reserved">int</strong> xstate = <a href="../D/18949.html" title="Multiple defined in 2 places.">getExtendedState</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, v);
<a id="L774" name="L774"></a> 774         <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> p = <strong class="reserved">null</strong>;
<a id="L775" name="L775"></a> 775 
<a id="L776" name="L776"></a> 776         <em class="comment">// check the cache</em>
<a id="L777" name="L777"></a> 777         tmpKey.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>("borderPainter$$instance", xstate);
<a id="L778" name="L778"></a> 778         p = (<a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a>)v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(tmpKey);
<a id="L779" name="L779"></a> 779         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <strong class="reserved">return</strong> p;
<a id="L780" name="L780"></a> 780 
<a id="L781" name="L781"></a> 781         <em class="comment">// not in cache, so lookup and store in cache</em>
<a id="L782" name="L782"></a> 782         <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> s = <strong class="reserved">null</strong>;
<a id="L783" name="L783"></a> 783         <strong class="reserved">int</strong>[] lastIndex = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[] <em class="brace">{</em>-1<em class="brace">}</em>;
<a id="L784" name="L784"></a> 784         <strong class="reserved">while</strong> ((s = <a href="../D/20939.html" title="Multiple defined in 2 places.">getNextState</a>(v.states, lastIndex, xstate)) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L785" name="L785"></a> 785             <strong class="reserved">if</strong> (s.borderPainter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L786" name="L786"></a> 786                 p = s.borderPainter;
<a id="L787" name="L787"></a> 787                 <strong class="reserved">break</strong>;
<a id="L788" name="L788"></a> 788             <em class="brace">}</em>
<a id="L789" name="L789"></a> 789         <em class="brace">}</em>
<a id="L790" name="L790"></a> 790         <strong class="reserved">if</strong> (p == <strong class="reserved">null</strong>) p = (<a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a>)<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, "borderPainter");
<a id="L791" name="L791"></a> 791         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792             v.<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<strong class="reserved">new</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>("borderPainter$$instance", xstate), p);
<a id="L793" name="L793"></a> 793         <em class="brace">}</em>
<a id="L794" name="L794"></a> 794         <strong class="reserved">return</strong> p;
<a id="L795" name="L795"></a> 795     <em class="brace">}</em>
<a id="L796" name="L796"></a> 796 
<div class="comment">
      Utility method which returns the proper Values based on the given
      SynthContext. Ensures that parsing of the values has occurred, or
      reoccurs as necessary.
      @param ctx The SynthContext
      @return a non-null values reference</div>
<a id="L805" name="L805"></a> 805     <strong class="reserved">private</strong> <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> <a href="../R/19772.html" title="Multiple referred from 13 places.">getValues</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L806" name="L806"></a> 806         <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>();
<a id="L807" name="L807"></a> 807         <strong class="reserved">return</strong> <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>;
<a id="L808" name="L808"></a> 808     <em class="brace">}</em>
<a id="L809" name="L809"></a> 809 
<div class="comment">
      Simple utility method that searches the given array of Strings for the
      given string. This method is only called from getExtendedState if
      the developer has specified a specific state for the component to be
      in (ie, has "wedged" the component in that state) by specifying
      they client property "Nimbus.State".
      @param names a non-null array of strings
      @param name the name to look for in the array
      @return true or false based on whether the given name is in the array</div>
<a id="L821" name="L821"></a> 821     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/11949.html" title="Multiple referred from 682 places.">contains</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] names, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L822" name="L822"></a> 822         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>;
<a id="L823" name="L823"></a> 823         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;names.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L824" name="L824"></a> 824             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(names[i])) <em class="brace">{</em>
<a id="L825" name="L825"></a> 825                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L826" name="L826"></a> 826             <em class="brace">}</em>
<a id="L827" name="L827"></a> 827         <em class="brace">}</em>
<a id="L828" name="L828"></a> 828         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L829" name="L829"></a> 829     <em class="brace">}</em>
<a id="L830" name="L830"></a> 830 
<div class="comment">
      <p>Gets the extended state for a given synth context. Nimbus supports the
      ability to define custom states. The algorithm used for choosing what
      style information to use for a given state requires a single integer
      bit string where each bit in the integer represents a different state
      that the component is in. This method uses the componentState as
      reported in the SynthContext, in addition to custom states, to determine
      what this extended state is.</p>
      <p>In addition, this method checks the component in the given context
      for a client property called "Nimbus.State". If one exists, then it will
      decompose the String associated with that property to determine what
      state to return. In this way, the developer can force a component to be
      in a specific state, regardless of what the "real" state of the component
      is.</p>
      <p>The string associated with "Nimbus.State" would be of the form:
      </p><pre>Enabled+CustomState+MouseOver</pre><p></p>
      @param ctx
      @param v
      @return</div>
<a id="L854" name="L854"></a> 854     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/16503.html" title="Multiple referred from 15 places.">getExtendedState</a>(<a href="../S/2972.html#L42" title="Defined at 42 in src/javax/swing/plaf/synth/SynthContext.java.">SynthContext</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a> v) <em class="brace">{</em>
<a id="L855" name="L855"></a> 855         <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>();
<a id="L856" name="L856"></a> 856         <strong class="reserved">int</strong> xstate = 0;
<a id="L857" name="L857"></a> 857         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = 1;
<a id="L858" name="L858"></a> 858         <em class="comment">//check for the Nimbus.State client property</em>
<a id="L859" name="L859"></a> 859         <em class="comment">//Performance NOTE: getClientProperty ends up inside a synchronized</em>
<a id="L860" name="L860"></a> 860         <em class="comment">//block, so there is some potential for performance issues here, however</em>
<a id="L861" name="L861"></a> 861         <em class="comment">//I'm not certain that there is one on a modern VM.</em>
<a id="L862" name="L862"></a> 862         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> property = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/3152.html#L4020" title="Defined at 4020 in src/javax/swing/JComponent.java.">getClientProperty</a>("Nimbus.State");
<a id="L863" name="L863"></a> 863         <strong class="reserved">if</strong> (property != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L864" name="L864"></a> 864             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> stateNames = property.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L865" name="L865"></a> 865             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] states = stateNames.<a href="../D/34718.html" title="Multiple defined in 12 places.">split</a>("\\+");
<a id="L866" name="L866"></a> 866             <strong class="reserved">if</strong> (v.stateTypes == <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L867" name="L867"></a> 867                 <em class="comment">// standard states only</em>
<a id="L868" name="L868"></a> 868                 <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> stateStr : states) <em class="brace">{</em>
<a id="L869" name="L869"></a> 869                     <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.<a href="../S/3084.html#L158" title="Defined at 158 in src/javax/swing/plaf/nimbus/State.java.">StandardState</a> s = <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.<a href="../S/3084.html#L154" title="Defined at 154 in src/javax/swing/plaf/nimbus/State.java.">getStandardState</a>(stateStr);
<a id="L870" name="L870"></a> 870                     <strong class="reserved">if</strong> (s != <strong class="reserved">null</strong>) xstate |= s.<a href="../D/22724.html" title="Multiple defined in 28 places.">getState</a>();
<a id="L871" name="L871"></a> 871                 <em class="brace">}</em>
<a id="L872" name="L872"></a> 872             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L873" name="L873"></a> 873                 <em class="comment">// custom states</em>
<a id="L874" name="L874"></a> 874                 <strong class="reserved">for</strong> (<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> s : v.stateTypes) <em class="brace">{</em>
<a id="L875" name="L875"></a> 875                     <strong class="reserved">if</strong> (<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(states, s.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>())) <em class="brace">{</em>
<a id="L876" name="L876"></a> 876                         xstate |= <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L877" name="L877"></a> 877                     <em class="brace">}</em>
<a id="L878" name="L878"></a> 878                     <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &lt;&lt;= 1;
<a id="L879" name="L879"></a> 879                 <em class="brace">}</em>
<a id="L880" name="L880"></a> 880             <em class="brace">}</em>
<a id="L881" name="L881"></a> 881         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L882" name="L882"></a> 882             <em class="comment">//if there are no custom states defined, then simply return the</em>
<a id="L883" name="L883"></a> 883             <em class="comment">//state that Synth reported</em>
<a id="L884" name="L884"></a> 884             <strong class="reserved">if</strong> (v.stateTypes == <strong class="reserved">null</strong>) <strong class="reserved">return</strong> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>.<a href="../D/17878.html" title="Multiple defined in 29 places.">getComponentState</a>();
<a id="L885" name="L885"></a> 885 
<a id="L886" name="L886"></a> 886             <em class="comment">//there are custom states on this values, so I'll have to iterate</em>
<a id="L887" name="L887"></a> 887             <em class="comment">//over them all and return a custom extended state</em>
<a id="L888" name="L888"></a> 888             <strong class="reserved">int</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>.<a href="../D/17878.html" title="Multiple defined in 29 places.">getComponentState</a>();
<a id="L889" name="L889"></a> 889             <strong class="reserved">for</strong> (<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> s : v.stateTypes) <em class="brace">{</em>
<a id="L890" name="L890"></a> 890                 <strong class="reserved">if</strong> (s.<a href="../D/25706.html" title="Multiple defined in 26 places.">isInState</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>)) <em class="brace">{</em>
<a id="L891" name="L891"></a> 891                     xstate |= <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L892" name="L892"></a> 892                 <em class="brace">}</em>
<a id="L893" name="L893"></a> 893                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &lt;&lt;= 1;
<a id="L894" name="L894"></a> 894             <em class="brace">}</em>
<a id="L895" name="L895"></a> 895         <em class="brace">}</em>
<a id="L896" name="L896"></a> 896         <strong class="reserved">return</strong> xstate;
<a id="L897" name="L897"></a> 897     <em class="brace">}</em>
<a id="L898" name="L898"></a> 898 
<div class="comment">
      <p>Gets the RuntimeState that most closely matches the state in the given
      context, but is less specific than the given "lastState". Essentially,
      this allows you to search for the next best state.</p>
      <p>For example, if you had the following three states:
      </p><pre>      Enabled
      Enabled+Pressed
      Disabled
      </pre>
      And you wanted to find the state that best represented
      ENABLED+PRESSED+FOCUSED and <code>lastState</code> was null (or an
      empty array, or an array with a single int with index == -1), then
      Enabled+Pressed would be returned. If you then call this method again but
      pass the index of Enabled+Pressed as the "lastState", then
      Enabled would be returned. If you call this method a third time and pass
      the index of Enabled in as the <code>lastState</code>, then null would be
      returned.<p></p>
      <p>The actual code path for determining the proper state is the same as
      in Synth.</p>
      @param ctx
      @param lastState a 1 element array, allowing me to do pass-by-reference.
      @return</div>
<a id="L926" name="L926"></a> 926     <strong class="reserved">private</strong> <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> <a href="../R/17949.html" title="Multiple referred from 5 places.">getNextState</a>(<a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>[] states,
<a id="L927" name="L927"></a> 927                                       <strong class="reserved">int</strong>[] lastState,
<a id="L928" name="L928"></a> 928                                       <strong class="reserved">int</strong> xstate) <em class="brace">{</em>
<a id="L929" name="L929"></a> 929         <em class="comment">// Use the StateInfo with the most bits that matches that of state.</em>
<a id="L930" name="L930"></a> 930         <em class="comment">// If there are none, then fallback to</em>
<a id="L931" name="L931"></a> 931         <em class="comment">// the StateInfo with a state of 0, indicating it'll match anything.</em>
<a id="L932" name="L932"></a> 932 
<a id="L933" name="L933"></a> 933         <em class="comment">// Consider if we have 3 StateInfos a, b and c with states:</em>
<a id="L934" name="L934"></a> 934         <em class="comment">// SELECTED, SELECTED | ENABLED, 0</em>
<a id="L935" name="L935"></a> 935         <em class="comment">//</em>
<a id="L936" name="L936"></a> 936         <em class="comment">// Input                          Return Value</em>
<a id="L937" name="L937"></a> 937         <em class="comment">// -----                          ------------</em>
<a id="L938" name="L938"></a> 938         <em class="comment">// SELECTED                       a</em>
<a id="L939" name="L939"></a> 939         <em class="comment">// SELECTED | ENABLED             b</em>
<a id="L940" name="L940"></a> 940         <em class="comment">// MOUSE_OVER                     c</em>
<a id="L941" name="L941"></a> 941         <em class="comment">// SELECTED | ENABLED | FOCUSED   b</em>
<a id="L942" name="L942"></a> 942         <em class="comment">// ENABLED                        c</em>
<a id="L943" name="L943"></a> 943 
<a id="L944" name="L944"></a> 944         <strong class="reserved">if</strong> (states != <strong class="reserved">null</strong> &amp;&amp; states.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L945" name="L945"></a> 945             <strong class="reserved">int</strong> bestCount = 0;
<a id="L946" name="L946"></a> 946             <strong class="reserved">int</strong> bestIndex = -1;
<a id="L947" name="L947"></a> 947             <strong class="reserved">int</strong> wildIndex = -1;
<a id="L948" name="L948"></a> 948 
<a id="L949" name="L949"></a> 949             <em class="comment">//if xstate is 0, then search for the runtime state with component</em>
<a id="L950" name="L950"></a> 950             <em class="comment">//state of 0. That is, find the exact match and return it.</em>
<a id="L951" name="L951"></a> 951             <strong class="reserved">if</strong> (xstate == 0) <em class="brace">{</em>
<a id="L952" name="L952"></a> 952                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = states.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1; counter &gt;= 0; counter--) <em class="brace">{</em>
<a id="L953" name="L953"></a> 953                     <strong class="reserved">if</strong> (states[counter].<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == 0) <em class="brace">{</em>
<a id="L954" name="L954"></a> 954                         lastState[0] = counter;
<a id="L955" name="L955"></a> 955                         <strong class="reserved">return</strong> states[counter];
<a id="L956" name="L956"></a> 956                     <em class="brace">}</em>
<a id="L957" name="L957"></a> 957                 <em class="brace">}</em>
<a id="L958" name="L958"></a> 958                 <em class="comment">//an exact match couldn't be found, so there was no match.</em>
<a id="L959" name="L959"></a> 959                 lastState[0] = -1;
<a id="L960" name="L960"></a> 960                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L961" name="L961"></a> 961             <em class="brace">}</em>
<a id="L962" name="L962"></a> 962 
<a id="L963" name="L963"></a> 963             <em class="comment">//xstate is some value != 0</em>
<a id="L964" name="L964"></a> 964 
<a id="L965" name="L965"></a> 965             <em class="comment">//determine from which index to start looking. If lastState[0] is -1</em>
<a id="L966" name="L966"></a> 966             <em class="comment">//then we know to start from the end of the state array. Otherwise,</em>
<a id="L967" name="L967"></a> 967             <em class="comment">//we start at the lastIndex - 1.</em>
<a id="L968" name="L968"></a> 968             <strong class="reserved">int</strong> lastStateIndex = lastState == <strong class="reserved">null</strong> || lastState[0] == -1 ?
<a id="L969" name="L969"></a> 969                 states.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> : lastState[0];
<a id="L970" name="L970"></a> 970 
<a id="L971" name="L971"></a> 971             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = lastStateIndex - 1; counter &gt;= 0; counter--) <em class="brace">{</em>
<a id="L972" name="L972"></a> 972                 <strong class="reserved">int</strong> oState = states[counter].<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L973" name="L973"></a> 973 
<a id="L974" name="L974"></a> 974                 <strong class="reserved">if</strong> (oState == 0) <em class="brace">{</em>
<a id="L975" name="L975"></a> 975                     <strong class="reserved">if</strong> (wildIndex == -1) <em class="brace">{</em>
<a id="L976" name="L976"></a> 976                         wildIndex = counter;
<a id="L977" name="L977"></a> 977                     <em class="brace">}</em>
<a id="L978" name="L978"></a> 978                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((xstate &amp; oState) == oState) <em class="brace">{</em>
<a id="L979" name="L979"></a> 979                     <em class="comment">// This is key, we need to make sure all bits of the</em>
<a id="L980" name="L980"></a> 980                     <em class="comment">// StateInfo match, otherwise a StateInfo with</em>
<a id="L981" name="L981"></a> 981                     <em class="comment">// SELECTED | ENABLED would match ENABLED, which we</em>
<a id="L982" name="L982"></a> 982                     <em class="comment">// don't want.</em>
<a id="L983" name="L983"></a> 983 
<a id="L984" name="L984"></a> 984                     <em class="comment">// This comes from BigInteger.bitCnt</em>
<a id="L985" name="L985"></a> 985                     <strong class="reserved">int</strong> <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> = oState;
<a id="L986" name="L986"></a> 986                     <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> -= (0xaaaaaaaa &amp; <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a>) &gt;&gt;&gt; 1;
<a id="L987" name="L987"></a> 987                     <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> = (<a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> &amp; 0x33333333) + ((<a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> &gt;&gt;&gt; 2) &amp;
<a id="L988" name="L988"></a> 988                             0x33333333);
<a id="L989" name="L989"></a> 989                     <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> = <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> + (<a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> &gt;&gt;&gt; 4) &amp; 0x0f0f0f0f;
<a id="L990" name="L990"></a> 990                     <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> += <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> &gt;&gt;&gt; 8;
<a id="L991" name="L991"></a> 991                     <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> += <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> &gt;&gt;&gt; 16;
<a id="L992" name="L992"></a> 992                     <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> = <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> &amp; 0xff;
<a id="L993" name="L993"></a> 993                     <strong class="reserved">if</strong> (<a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a> &gt; bestCount) <em class="brace">{</em>
<a id="L994" name="L994"></a> 994                         bestIndex = counter;
<a id="L995" name="L995"></a> 995                         bestCount = <a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a>;
<a id="L996" name="L996"></a> 996                     <em class="brace">}</em>
<a id="L997" name="L997"></a> 997                 <em class="brace">}</em>
<a id="L998" name="L998"></a> 998             <em class="brace">}</em>
<a id="L999" name="L999"></a> 999             <strong class="reserved">if</strong> (bestIndex != -1) <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000                 lastState[0] = bestIndex;
<a id="L1001" name="L1001"></a>1001                 <strong class="reserved">return</strong> states[bestIndex];
<a id="L1002" name="L1002"></a>1002             <em class="brace">}</em>
<a id="L1003" name="L1003"></a>1003             <strong class="reserved">if</strong> (wildIndex != -1) <em class="brace">{</em>
<a id="L1004" name="L1004"></a>1004                 lastState[0] = wildIndex;
<a id="L1005" name="L1005"></a>1005                 <strong class="reserved">return</strong> states[wildIndex];
<a id="L1006" name="L1006"></a>1006             <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007         <em class="brace">}</em>
<a id="L1008" name="L1008"></a>1008         lastState[0] = -1;
<a id="L1009" name="L1009"></a>1009         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1010" name="L1010"></a>1010     <em class="brace">}</em>
<a id="L1011" name="L1011"></a>1011 
<div class="comment">
      Contains values such as the UIDefaults and painters associated with
      a state. Whereas <code>State</code> represents a distinct state that a
      component can be in (such as Enabled), this class represents the colors,
      fonts, painters, etc associated with some state for this
      style.</div>
<a id="L1019" name="L1019"></a>1019     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6786.html" title="Multiple referred from 16 places.">RuntimeState</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020         <strong class="reserved">int</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L1021" name="L1021"></a>1021         <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> backgroundPainter;
<a id="L1022" name="L1022"></a>1022         <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> foregroundPainter;
<a id="L1023" name="L1023"></a>1023         <a href="../D/6576.html" title="Multiple defined in 2 places.">Painter</a> borderPainter;
<a id="L1024" name="L1024"></a>1024         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> stateName;
<a id="L1025" name="L1025"></a>1025         <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a> defaults = <strong class="reserved">new</strong> <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a>(10, .7f);
<a id="L1026" name="L1026"></a>1026 
<a id="L1027" name="L1027"></a>1027         <strong class="reserved">private</strong> RuntimeState(<strong class="reserved">int</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> stateName) <em class="brace">{</em>
<a id="L1028" name="L1028"></a>1028             <strong class="reserved">this</strong>.<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L1029" name="L1029"></a>1029             <strong class="reserved">this</strong>.stateName = stateName;
<a id="L1030" name="L1030"></a>1030         <em class="brace">}</em>
<a id="L1031" name="L1031"></a>1031 
<a id="L1032" name="L1032"></a>1032         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1033" name="L1033"></a>1033         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">return</strong> stateName;
<a id="L1035" name="L1035"></a>1035         <em class="brace">}</em>
<a id="L1036" name="L1036"></a>1036 
<a id="L1037" name="L1037"></a>1037         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1038" name="L1038"></a>1038         <strong class="reserved">public</strong> <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039             <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a> <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a> = <strong class="reserved">new</strong> <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>(<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>, stateName);
<a id="L1040" name="L1040"></a>1040             <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.backgroundPainter = backgroundPainter;
<a id="L1041" name="L1041"></a>1041             <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.foregroundPainter = foregroundPainter;
<a id="L1042" name="L1042"></a>1042             <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.borderPainter = borderPainter;
<a id="L1043" name="L1043"></a>1043             <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.defaults.<a href="../D/29972.html" title="Multiple defined in 20 places.">putAll</a>(defaults);
<a id="L1044" name="L1044"></a>1044             <strong class="reserved">return</strong> <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>;
<a id="L1045" name="L1045"></a>1045         <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046     <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047 
<div class="comment">
      Essentially a struct of data for a style. A default instance of this
      class is used by NimbusStyle. Additional instances exist for each
      component that has overrides.</div>
<a id="L1053" name="L1053"></a>1053     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8639.html" title="Multiple referred from 18 places.">Values</a> <em class="brace">{</em>
<div class="comment">
          The list of State types. A State represents a type of state, such
          as Enabled, Default, WindowFocused, etc. These can be custom states.</div>
<a id="L1058" name="L1058"></a>1058         <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>[] stateTypes = <strong class="reserved">null</strong>;
<div class="comment">
          The list of actual runtime state representations. These can represent things such
          as Enabled + Focused. Thus, they differ from States in that they contain
          several states together, and have associated properties, data, etc.</div>
<a id="L1064" name="L1064"></a>1064         <a href="../S/3002.html#L1019" title="Defined at 1019 in src/javax/swing/plaf/nimbus/NimbusStyle.java.">RuntimeState</a>[] states = <strong class="reserved">null</strong>;
<div class="comment">
          The content margins for this region.</div>
<a id="L1068" name="L1068"></a>1068         <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> contentMargins;
<div class="comment">
          Defaults on the region/component level.</div>
<a id="L1072" name="L1072"></a>1072         <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a> defaults = <strong class="reserved">new</strong> <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a>(10, .7f);
<div class="comment">
          Simple cache. After a value has been looked up, it is stored
          in this cache for later retrieval. The key is a concatenation of
          the property being looked up, two dollar signs, and the extended
          state. So for example:
          foo.bar$$2353</div>
<a id="L1081" name="L1081"></a>1081         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L1082" name="L1082"></a>1082     <em class="brace">}</em>
<a id="L1083" name="L1083"></a>1083 
<div class="comment">
      This implementation presupposes that key is never null and that
      the two keys being checked for equality are never null</div>
<a id="L1088" name="L1088"></a>1088     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1125.html" title="Multiple referred from 39 places.">CacheKey</a> <em class="brace">{</em>
<a id="L1089" name="L1089"></a>1089         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L1090" name="L1090"></a>1090         <strong class="reserved">private</strong> <strong class="reserved">int</strong> xstate;
<a id="L1091" name="L1091"></a>1091 
<a id="L1092" name="L1092"></a>1092         CacheKey(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">int</strong> xstate) <em class="brace">{</em>
<a id="L1093" name="L1093"></a>1093             <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, xstate);
<a id="L1094" name="L1094"></a>1094         <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095 
<a id="L1096" name="L1096"></a>1096         <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">int</strong> xstate) <em class="brace">{</em>
<a id="L1097" name="L1097"></a>1097             <strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1098" name="L1098"></a>1098             <strong class="reserved">this</strong>.xstate = xstate;
<a id="L1099" name="L1099"></a>1099         <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100 
<a id="L1101" name="L1101"></a>1101         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1102" name="L1102"></a>1102         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L1103" name="L1103"></a>1103             <strong class="reserved">final</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> other = (<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>) obj;
<a id="L1104" name="L1104"></a>1104             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1105" name="L1105"></a>1105             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.xstate != other.xstate) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1106" name="L1106"></a>1106             <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(other.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>)) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1107" name="L1107"></a>1107             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1108" name="L1108"></a>1108         <em class="brace">}</em>
<a id="L1109" name="L1109"></a>1109 
<a id="L1110" name="L1110"></a>1110         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1111" name="L1111"></a>1111         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L1112" name="L1112"></a>1112             <strong class="reserved">int</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = 3;
<a id="L1113" name="L1113"></a>1113             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = 29 * <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> + <strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L1114" name="L1114"></a>1114             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = 29 * <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> + <strong class="reserved">this</strong>.xstate;
<a id="L1115" name="L1115"></a>1115             <strong class="reserved">return</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>;
<a id="L1116" name="L1116"></a>1116         <em class="brace">}</em>
<a id="L1117" name="L1117"></a>1117     <em class="brace">}</em>
<a id="L1118" name="L1118"></a>1118 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L226">[^]</a><a href="#L1111">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>