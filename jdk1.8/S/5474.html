<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/dom/ParentNode.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L128">[^]</a><a href="#L1011">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L128" title="Defined at 128.">cloneNode</a></li>
<li><a href="#L162" title="Defined at 162.">getOwnerDocument</a></li>
<li><a href="#L170" title="Defined at 170.">ownerDocument</a></li>
<li><a href="#L178" title="Defined at 178.">setOwnerDocument</a></li>
<li><a href="#L196" title="Defined at 196.">hasChildNodes</a></li>
<li><a href="#L216" title="Defined at 216.">getChildNodes</a></li>
<li><a href="#L226" title="Defined at 226.">getFirstChild</a></li>
<li><a href="#L236" title="Defined at 236.">getLastChild</a></li>
<li><a href="#L245" title="Defined at 245.">lastChild</a></li>
<li><a href="#L250" title="Defined at 250.">lastChild</a></li>
<li><a href="#L285" title="Defined at 285.">insertBefore</a></li>
<li><a href="#L296" title="Defined at 296.">internalInsertBefore</a></li>
<li><a href="#L481" title="Defined at 481.">removeChild</a></li>
<li><a href="#L492" title="Defined at 492.">internalRemoveChild</a></li>
<li><a href="#L595" title="Defined at 595.">replaceChild</a></li>
<li><a href="#L621" title="Defined at 621.">getTextContent</a></li>
<li><a href="#L641" title="Defined at 641.">getTextContent</a></li>
<li><a href="#L652" title="Defined at 652.">hasTextContent</a></li>
<li><a href="#L663" title="Defined at 663.">setTextContent</a></li>
<li><a href="#L685" title="Defined at 685.">nodeListGetLength</a></li>
<li><a href="#L725" title="Defined at 725.">getLength</a></li>
<li><a href="#L734" title="Defined at 734.">nodeListItem</a></li>
<li><a href="#L799" title="Defined at 799.">item</a></li>
<li><a href="#L815" title="Defined at 815.">getChildNodesUnoptimized</a></li>
<li><a href="#L845" title="Defined at 845.">normalize</a></li>
<li><a href="#L864" title="Defined at 864.">isEqualNode</a></li>
<li><a href="#L898" title="Defined at 898.">setReadOnly</a></li>
<li><a href="#L927" title="Defined at 927.">synchronizeChildren</a></li>
<li><a href="#L947" title="Defined at 947.">checkNormalizationAfterInsert</a></li>
<li><a href="#L980" title="Defined at 980.">checkNormalizationAfterRemove</a></li>
<li><a href="#L999" title="Defined at 999.">writeObject</a></li>
<li><a href="#L1011" title="Defined at 1011.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2002,2004,2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.dom;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.io.IOException;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.ObjectOutputStream;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> org.w3c.dom.DOMException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> org.w3c.dom.NodeList;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> org.w3c.dom.UserDataHandler;
<a id="L33" name="L33"></a>  33 
<div class="comment">
  ParentNode inherits from ChildNode and adds the capability of having child
  nodes. Not every node in the DOM can have children, so only nodes that can
  should inherit from this class and pay the price for it.
  <p>
  ParentNode, just like NodeImpl, also implements NodeList, so it can
  return itself in response to the getChildNodes() query. This eliminiates
  the need for a separate ChildNodeList object. Note that this is an
  IMPLEMENTATION DETAIL; applications should _never_ assume that
  this identity exists. On the other hand, subclasses may need to override
  this, in case of conflicting names. This is the case for the classes
  HTMLSelectElementImpl and HTMLFormElementImpl of the HTML DOM.
  </p><p>
  While we have a direct reference to the first child, the last child is
  stored as the previous sibling of the first child. First child nodes are
  marked as being so, and getNextSibling hides this fact.
  </p><p>Note: Not all parent nodes actually need to also be a child. At some
  point we used to have ParentNode inheriting from NodeImpl and another class
  called ChildAndParentNode that inherited from ChildNode. But due to the lack
  of multiple inheritance a lot of code had to be duplicated which led to a
  maintenance nightmare. At the same time only a few nodes (Document,
  DocumentFragment, Entity, and Attribute) cannot be a child so the gain in
  memory wasn't really worth it. The only type for which this would be the
  case is Attribute, but we deal with there in another special way, so this is
  not applicable.
  </p><p>
  This class doesn't directly support mutation events, however, it notifies
  the document when mutations are performed so that the document class do so.
  </p><p><b>WARNING</b>: Some of the code here is partially duplicated in
  AttrImpl, be careful to keep these two classes in sync!
  @xerces.internal
  @author Arnaud  Le Hors, IBM
  @author Joe Kesselman, IBM
  @author Andy Clark, IBM
  @version $Id: ParentNode.java,v 1.6 2009/07/21 20:30:28 joehw Exp $</p></div>
<a id="L73" name="L73"></a>  73 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/6025.html" title="Multiple referred from 12 places.">ParentNode</a>
<a id="L74" name="L74"></a>  74     <strong class="reserved">extends</strong> <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <em class="brace">{</em>
<a id="L75" name="L75"></a>  75 
<div class="comment">
     /** Serialization version. */</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 2815829867152120872L;
<a id="L78" name="L78"></a>  78 
<div class="comment">
     /** Owner document. */</div>
<a id="L80" name="L80"></a>  80     <strong class="reserved">protected</strong> <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L81" name="L81"></a>  81 
<div class="comment">
     /** First child. */</div>
<a id="L83" name="L83"></a>  83     <strong class="reserved">protected</strong> <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = <strong class="reserved">null</strong>;
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85     <em class="comment">// transients</em>
<a id="L86" name="L86"></a>  86 
<div class="comment">
     /** NodeList cache */</div>
<a id="L88" name="L88"></a>  88     <strong class="reserved">protected</strong> <strong class="reserved">transient</strong> <a href="../S/5472.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/dom/NodeListCache.java.">NodeListCache</a> fNodeListCache = <strong class="reserved">null</strong>;
<a id="L89" name="L89"></a>  89 
<a id="L90" name="L90"></a>  90     <em class="comment">//</em>
<a id="L91" name="L91"></a>  91     <em class="comment">// Constructors</em>
<a id="L92" name="L92"></a>  92     <em class="comment">//</em>
<a id="L93" name="L93"></a>  93 
<div class="comment">
      No public constructor; only subclasses of ParentNode should be
      instantiated, and those normally via a Document's factory methods</div>
<a id="L98" name="L98"></a>  98     <strong class="reserved">protected</strong> ParentNode(<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>) <em class="brace">{</em>
<a id="L99" name="L99"></a>  99         <strong class="reserved">super</strong>(<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>);
<a id="L100" name="L100"></a> 100         <strong class="reserved">this</strong>.<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>
<a id="L102" name="L102"></a> 102 
<div class="comment">
     /** Constructor for serialization. */</div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">public</strong> ParentNode() <em class="brace">{</em><em class="brace">}</em>
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106     <em class="comment">//</em>
<a id="L107" name="L107"></a> 107     <em class="comment">// NodeList methods</em>
<a id="L108" name="L108"></a> 108     <em class="comment">//</em>
<a id="L109" name="L109"></a> 109 
<div class="comment">
      Returns a duplicate of a given node. You can consider this a
      generic "copy constructor" for nodes. The newly returned object should
      be completely independent of the source object's subtree, so changes
      in one after the clone has been made will not affect the other.
      <p>
      Example: Cloning a Text node will copy both the node and the text it
      contains.
      </p><p>
      Example: Cloning something that has children -- Element or Attr, for
      example -- will _not_ clone those children unless a "deep clone"
      has been requested. A shallow clone of an Attr node will yield an
      empty Attr of the same name.
      </p><p>
      NOTE: Clones will always be read/write, even if the node being cloned
      is read-only, to permit applications using only the DOM API to obtain
      editable copies of locked portions of the tree.</p></div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/11574.html" title="Multiple referred from 32 places.">cloneNode</a>(<strong class="reserved">boolean</strong> deep) <em class="brace">{</em>
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L131" name="L131"></a> 131             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L132" name="L132"></a> 132         <em class="brace">}</em>
<a id="L133" name="L133"></a> 133         <a href="../S/5474.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">ParentNode</a> newnode = (<a href="../S/5474.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">ParentNode</a>) <strong class="reserved">super</strong>.<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(deep);
<a id="L134" name="L134"></a> 134 
<a id="L135" name="L135"></a> 135         <em class="comment">// set owner document</em>
<a id="L136" name="L136"></a> 136         newnode.<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L137" name="L137"></a> 137 
<a id="L138" name="L138"></a> 138         <em class="comment">// Need to break the association w/ original kids</em>
<a id="L139" name="L139"></a> 139         newnode.<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>      = <strong class="reserved">null</strong>;
<a id="L140" name="L140"></a> 140 
<a id="L141" name="L141"></a> 141         <em class="comment">// invalidate cache for children NodeList</em>
<a id="L142" name="L142"></a> 142         newnode.fNodeListCache = <strong class="reserved">null</strong>;
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144         <em class="comment">// Then, if deep, clone the kids too.</em>
<a id="L145" name="L145"></a> 145         <strong class="reserved">if</strong> (deep) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146             <strong class="reserved">for</strong> (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> child = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L147" name="L147"></a> 147                  child != <strong class="reserved">null</strong>;
<a id="L148" name="L148"></a> 148                  child = child.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L149" name="L149"></a> 149                 newnode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(child.<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(<strong class="reserved">true</strong>));
<a id="L150" name="L150"></a> 150             <em class="brace">}</em>
<a id="L151" name="L151"></a> 151         <em class="brace">}</em>
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153         <strong class="reserved">return</strong> newnode;
<a id="L154" name="L154"></a> 154 
<a id="L155" name="L155"></a> 155     <em class="brace">}</em> <em class="comment">// cloneNode(boolean):Node</em>
<a id="L156" name="L156"></a> 156 
<div class="comment">
      Find the Document that this Node belongs to (the document in
      whose context the Node was created). The Node may or may not
      currently be part of that Document's actual contents.</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/18201.html" title="Multiple referred from 121 places.">getOwnerDocument</a>() <em class="brace">{</em>
<a id="L163" name="L163"></a> 163         <strong class="reserved">return</strong> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L164" name="L164"></a> 164     <em class="brace">}</em>
<a id="L165" name="L165"></a> 165 
<div class="comment">
      same as above but returns internal type and this one is not overridden
      by CoreDocumentImpl to return null</div>
<a id="L170" name="L170"></a> 170     <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../R/24076.html" title="Multiple referred from 335 places.">ownerDocument</a>() <em class="brace">{</em>
<a id="L171" name="L171"></a> 171         <strong class="reserved">return</strong> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L172" name="L172"></a> 172     <em class="brace">}</em>
<a id="L173" name="L173"></a> 173 
<div class="comment">
      NON-DOM
      set the ownerDocument of this node and its children</div>
<a id="L178" name="L178"></a> 178     <strong class="reserved">void</strong> <a href="../R/27887.html" title="Multiple referred from 18 places.">setOwnerDocument</a>(<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> doc) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L181" name="L181"></a> 181         <em class="brace">}</em>
<a id="L182" name="L182"></a> 182        <strong class="reserved">for</strong> (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> child = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L183" name="L183"></a> 183              child != <strong class="reserved">null</strong>; child = child.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L184" name="L184"></a> 184              child.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(doc);
<a id="L185" name="L185"></a> 185         <em class="brace">}</em>
<div class="comment">
 setting the owner document of self, after it's children makes the
           data of children available to the new document. </div>
<a id="L188" name="L188"></a> 188         <strong class="reserved">super</strong>.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(doc);
<a id="L189" name="L189"></a> 189         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = doc;
<a id="L190" name="L190"></a> 190     <em class="brace">}</em>
<a id="L191" name="L191"></a> 191 
<div class="comment">
      Test whether this node has any children. Convenience shorthand
      for (Node.getFirstChild()!=null)</div>
<a id="L196" name="L196"></a> 196     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20185.html" title="Multiple referred from 24 places.">hasChildNodes</a>() <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L199" name="L199"></a> 199         <em class="brace">}</em>
<a id="L200" name="L200"></a> 200         <strong class="reserved">return</strong> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> != <strong class="reserved">null</strong>;
<a id="L201" name="L201"></a> 201     <em class="brace">}</em>
<a id="L202" name="L202"></a> 202 
<div class="comment">
      Obtain a NodeList enumerating all children of this node. If there
      are none, an (initially) empty NodeList is returned.
      <p>
      NodeLists are "live"; as children are added/removed the NodeList
      will immediately reflect those changes. Also, the NodeList refers
      to the actual nodes, so changes to those nodes made via the DOM tree
      will be reflected in the NodeList and vice versa.
      </p><p>
      In this implementation, Nodes implement the NodeList interface and
      provide their own getChildNodes() support. Other DOMs may solve this
      differently.</p></div>
<a id="L216" name="L216"></a> 216     <strong class="reserved">public</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../R/15546.html" title="Multiple referred from 51 places.">getChildNodes</a>() <em class="brace">{</em>
<a id="L217" name="L217"></a> 217 
<a id="L218" name="L218"></a> 218         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L220" name="L220"></a> 220         <em class="brace">}</em>
<a id="L221" name="L221"></a> 221         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L222" name="L222"></a> 222 
<a id="L223" name="L223"></a> 223     <em class="brace">}</em> <em class="comment">// getChildNodes():NodeList</em>
<a id="L224" name="L224"></a> 224 
<div class="comment">
     /** The first child of this Node, or null if none. */</div>
<a id="L226" name="L226"></a> 226     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/16606.html" title="Multiple referred from 267 places.">getFirstChild</a>() <em class="brace">{</em>
<a id="L227" name="L227"></a> 227 
<a id="L228" name="L228"></a> 228         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L230" name="L230"></a> 230         <em class="brace">}</em>
<a id="L231" name="L231"></a> 231         <strong class="reserved">return</strong> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L232" name="L232"></a> 232 
<a id="L233" name="L233"></a> 233     <em class="brace">}</em>   <em class="comment">// getFirstChild():Node</em>
<a id="L234" name="L234"></a> 234 
<div class="comment">
     /** The last child of this Node, or null if none. */</div>
<a id="L236" name="L236"></a> 236     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/17271.html" title="Multiple referred from 52 places.">getLastChild</a>() <em class="brace">{</em>
<a id="L237" name="L237"></a> 237 
<a id="L238" name="L238"></a> 238         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L239" name="L239"></a> 239             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L240" name="L240"></a> 240         <em class="brace">}</em>
<a id="L241" name="L241"></a> 241         <strong class="reserved">return</strong> <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>();
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243     <em class="brace">}</em> <em class="comment">// getLastChild():Node</em>
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245     <strong class="reserved">final</strong> <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../R/22413.html" title="Multiple referred from 55 places.">lastChild</a>() <em class="brace">{</em>
<a id="L246" name="L246"></a> 246         <em class="comment">// last child is stored as the previous sibling of first child</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">return</strong> <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> != <strong class="reserved">null</strong> ? <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> : <strong class="reserved">null</strong>;
<a id="L248" name="L248"></a> 248     <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/22413.html" title="Multiple referred from 55 places.">lastChild</a>(<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251         <em class="comment">// store lastChild as previous sibling of first child</em>
<a id="L252" name="L252"></a> 252         <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253             <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L254" name="L254"></a> 254         <em class="brace">}</em>
<a id="L255" name="L255"></a> 255     <em class="brace">}</em>
<a id="L256" name="L256"></a> 256 
<div class="comment">
      Move one or more node(s) to our list of children. Note that this
      implicitly removes them from their previous parent.
      @param newChild The Node to be moved to our subtree. As a
      convenience feature, inserting a DocumentNode will instead insert
      all its children.
      @param refChild Current child which newChild should be placed
      immediately before. If refChild is null, the insertion occurs
      after all existing Nodes, like appendChild().
      @return newChild, in its new state (relocated, or emptied in the case of
      DocumentNode.)
      @throws DOMException(HIERARCHY_REQUEST_ERR) if newChild is of a
      type that shouldn't be a child of this node, or if newChild is an
      ancestor of this node.
      @throws DOMException(WRONG_DOCUMENT_ERR) if newChild has a
      different owner document than we do.
      @throws DOMException(NOT_FOUND_ERR) if refChild is not a child of
      this node.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if this node is
      read-only.</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20761.html" title="Multiple referred from 37 places.">insertBefore</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> refChild)
<a id="L286" name="L286"></a> 286         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <em class="comment">// Tail-call; optimizer should be able to do good things with.</em>
<a id="L288" name="L288"></a> 288         <strong class="reserved">return</strong> <a href="../D/24937.html" title="Multiple defined in 2 places.">internalInsertBefore</a>(newChild, refChild, <strong class="reserved">false</strong>);
<a id="L289" name="L289"></a> 289     <em class="brace">}</em> <em class="comment">// insertBefore(Node,Node):Node</em>
<a id="L290" name="L290"></a> 290 
<div class="comment">
 NON-DOM INTERNAL: Within DOM actions,we sometimes need to be able
      to control which mutation events are spawned. This version of the
      insertBefore operation allows us to do so. It is not intended
      for use by application programs.</div>
<a id="L296" name="L296"></a> 296     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20946.html" title="Multiple referred from 5 places.">internalInsertBefore</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> refChild, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>)
<a id="L297" name="L297"></a> 297         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299         <strong class="reserved">boolean</strong> errorChecking = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking;
<a id="L300" name="L300"></a> 300 
<a id="L301" name="L301"></a> 301         <strong class="reserved">if</strong> (newChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_FRAGMENT_NODE) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302             <em class="comment">// SLOW BUT SAFE: We could insert the whole subtree without</em>
<a id="L303" name="L303"></a> 303             <em class="comment">// juggling so many next/previous pointers. (Wipe out the</em>
<a id="L304" name="L304"></a> 304             <em class="comment">// parent's child-list, patch the parent pointers, set the</em>
<a id="L305" name="L305"></a> 305             <em class="comment">// ends of the list.) But we know some subclasses have special-</em>
<a id="L306" name="L306"></a> 306             <em class="comment">// case behavior they add to insertBefore(), so we don't risk it.</em>
<a id="L307" name="L307"></a> 307             <em class="comment">// This approch also takes fewer bytecodes.</em>
<a id="L308" name="L308"></a> 308 
<a id="L309" name="L309"></a> 309             <em class="comment">// NOTE: If one of the children is not a legal child of this</em>
<a id="L310" name="L310"></a> 310             <em class="comment">// node, throw HIERARCHY_REQUEST_ERR before _any_ of the children</em>
<a id="L311" name="L311"></a> 311             <em class="comment">// have been transferred. (Alternative behaviors would be to</em>
<a id="L312" name="L312"></a> 312             <em class="comment">// reparent up to the first failure point or reparent all those</em>
<a id="L313" name="L313"></a> 313             <em class="comment">// which are acceptable to the target node, neither of which is</em>
<a id="L314" name="L314"></a> 314             <em class="comment">// as robust. PR-DOM-0818 isn't entirely clear on which it</em>
<a id="L315" name="L315"></a> 315             <em class="comment">// recommends?????</em>
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317             <em class="comment">// No need to check kids for right-document; if they weren't,</em>
<a id="L318" name="L318"></a> 318             <em class="comment">// they wouldn't be kids of that DocFrag.</em>
<a id="L319" name="L319"></a> 319             <strong class="reserved">if</strong> (errorChecking) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                 <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> kid = newChild.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(); <em class="comment">// Prescan</em>
<a id="L321" name="L321"></a> 321                      kid != <strong class="reserved">null</strong>; kid = kid.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323                     <strong class="reserved">if</strong> (!<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2253" title="Defined at 2253 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isKidOK</a>(<strong class="reserved">this</strong>, kid)) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(
<a id="L325" name="L325"></a> 325                               <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR,
<a id="L326" name="L326"></a> 326                               <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>));
<a id="L327" name="L327"></a> 327                     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328                 <em class="brace">}</em>
<a id="L329" name="L329"></a> 329             <em class="brace">}</em>
<a id="L330" name="L330"></a> 330 
<a id="L331" name="L331"></a> 331             <strong class="reserved">while</strong> (newChild.<a href="../D/24077.html" title="Multiple defined in 16 places.">hasChildNodes</a>()) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332                 <a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(newChild.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(), refChild);
<a id="L333" name="L333"></a> 333             <em class="brace">}</em>
<a id="L334" name="L334"></a> 334             <strong class="reserved">return</strong> newChild;
<a id="L335" name="L335"></a> 335         <em class="brace">}</em>
<a id="L336" name="L336"></a> 336 
<a id="L337" name="L337"></a> 337         <strong class="reserved">if</strong> (newChild == refChild) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338             <em class="comment">// stupid case that must be handled as a no-op triggering events...</em>
<a id="L339" name="L339"></a> 339             refChild = refChild.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L340" name="L340"></a> 340             <a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(newChild);
<a id="L341" name="L341"></a> 341             <a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(newChild, refChild);
<a id="L342" name="L342"></a> 342             <strong class="reserved">return</strong> newChild;
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L347" name="L347"></a> 347         <em class="brace">}</em>
<a id="L348" name="L348"></a> 348 
<a id="L349" name="L349"></a> 349         <strong class="reserved">if</strong> (errorChecking) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350             <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(
<a id="L352" name="L352"></a> 352                               <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR,
<a id="L353" name="L353"></a> 353                               <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>));
<a id="L354" name="L354"></a> 354             <em class="brace">}</em>
<a id="L355" name="L355"></a> 355             <strong class="reserved">if</strong> (newChild.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>() != <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> &amp;&amp; newChild != <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.WRONG_DOCUMENT_ERR,
<a id="L357" name="L357"></a> 357                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "WRONG_DOCUMENT_ERR", <strong class="reserved">null</strong>));
<a id="L358" name="L358"></a> 358             <em class="brace">}</em>
<a id="L359" name="L359"></a> 359             <strong class="reserved">if</strong> (!<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2253" title="Defined at 2253 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isKidOK</a>(<strong class="reserved">this</strong>, newChild)) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR,
<a id="L361" name="L361"></a> 361                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>));
<a id="L362" name="L362"></a> 362             <em class="brace">}</em>
<a id="L363" name="L363"></a> 363             <em class="comment">// refChild must be a child of this node (or null)</em>
<a id="L364" name="L364"></a> 364             <strong class="reserved">if</strong> (refChild != <strong class="reserved">null</strong> &amp;&amp; refChild.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>() != <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_FOUND_ERR,
<a id="L366" name="L366"></a> 366                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_FOUND_ERR", <strong class="reserved">null</strong>));
<a id="L367" name="L367"></a> 367             <em class="brace">}</em>
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369             <em class="comment">// Prevent cycles in the tree</em>
<a id="L370" name="L370"></a> 370             <em class="comment">// newChild cannot be ancestor of this Node,</em>
<a id="L371" name="L371"></a> 371             <em class="comment">// and actually cannot be this</em>
<a id="L372" name="L372"></a> 372             <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.ancestorChecking) <em class="brace">{</em>
<a id="L373" name="L373"></a> 373                 <strong class="reserved">boolean</strong> treeSafe = <strong class="reserved">true</strong>;
<a id="L374" name="L374"></a> 374                 <strong class="reserved">for</strong> (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">this</strong>; treeSafe &amp;&amp; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>())
<a id="L375" name="L375"></a> 375                 <em class="brace">{</em>
<a id="L376" name="L376"></a> 376                     treeSafe = newChild != <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L377" name="L377"></a> 377                 <em class="brace">}</em>
<a id="L378" name="L378"></a> 378                 <strong class="reserved">if</strong>(!treeSafe) <em class="brace">{</em>
<a id="L379" name="L379"></a> 379                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR,
<a id="L380" name="L380"></a> 380                                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>));
<a id="L381" name="L381"></a> 381                 <em class="brace">}</em>
<a id="L382" name="L382"></a> 382             <em class="brace">}</em>
<a id="L383" name="L383"></a> 383         <em class="brace">}</em>
<a id="L384" name="L384"></a> 384 
<a id="L385" name="L385"></a> 385         <em class="comment">// notify document</em>
<a id="L386" name="L386"></a> 386         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/24811.html" title="Multiple defined in 2 places.">insertingNode</a>(<strong class="reserved">this</strong>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L387" name="L387"></a> 387 
<a id="L388" name="L388"></a> 388         <em class="comment">// Convert to internal type, to avoid repeated casting</em>
<a id="L389" name="L389"></a> 389         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> newInternal = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>)newChild;
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldparent = newInternal.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>();
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong> (oldparent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             oldparent.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(newInternal);
<a id="L394" name="L394"></a> 394         <em class="brace">}</em>
<a id="L395" name="L395"></a> 395 
<a id="L396" name="L396"></a> 396         <em class="comment">// Convert to internal type, to avoid repeated casting</em>
<a id="L397" name="L397"></a> 397         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> refInternal = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>)refChild;
<a id="L398" name="L398"></a> 398 
<a id="L399" name="L399"></a> 399         <em class="comment">// Attach up</em>
<a id="L400" name="L400"></a> 400         newInternal.ownerNode = <strong class="reserved">this</strong>;
<a id="L401" name="L401"></a> 401         newInternal.<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>(<strong class="reserved">true</strong>);
<a id="L402" name="L402"></a> 402 
<a id="L403" name="L403"></a> 403         <em class="comment">// Attach before and after</em>
<a id="L404" name="L404"></a> 404         <em class="comment">// Note: firstChild.previousSibling == lastChild!!</em>
<a id="L405" name="L405"></a> 405         <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L406" name="L406"></a> 406             <em class="comment">// this our first and only child</em>
<a id="L407" name="L407"></a> 407             <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = newInternal;
<a id="L408" name="L408"></a> 408             newInternal.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L409" name="L409"></a> 409             newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L410" name="L410"></a> 410         <em class="brace">}</em>
<a id="L411" name="L411"></a> 411         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L412" name="L412"></a> 412             <strong class="reserved">if</strong> (refInternal == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                 <em class="comment">// this is an append</em>
<a id="L414" name="L414"></a> 414                 <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a> = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L415" name="L415"></a> 415                 <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = newInternal;
<a id="L416" name="L416"></a> 416                 newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>;
<a id="L417" name="L417"></a> 417                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L418" name="L418"></a> 418             <em class="brace">}</em>
<a id="L419" name="L419"></a> 419             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L420" name="L420"></a> 420                 <em class="comment">// this is an insert</em>
<a id="L421" name="L421"></a> 421                 <strong class="reserved">if</strong> (refChild == <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>) <em class="brace">{</em>
<a id="L422" name="L422"></a> 422                     <em class="comment">// at the head of the list</em>
<a id="L423" name="L423"></a> 423                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">false</strong>);
<a id="L424" name="L424"></a> 424                     newInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L425" name="L425"></a> 425                     newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L426" name="L426"></a> 426                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L427" name="L427"></a> 427                     <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = newInternal;
<a id="L428" name="L428"></a> 428                     newInternal.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L429" name="L429"></a> 429                 <em class="brace">}</em>
<a id="L430" name="L430"></a> 430                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L431" name="L431"></a> 431                     <em class="comment">// somewhere in the middle</em>
<a id="L432" name="L432"></a> 432                     <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> prev = refInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L433" name="L433"></a> 433                     newInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = refInternal;
<a id="L434" name="L434"></a> 434                     prev.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = newInternal;
<a id="L435" name="L435"></a> 435                     refInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = newInternal;
<a id="L436" name="L436"></a> 436                     newInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = prev;
<a id="L437" name="L437"></a> 437                 <em class="brace">}</em>
<a id="L438" name="L438"></a> 438             <em class="brace">}</em>
<a id="L439" name="L439"></a> 439         <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441         <a href="../D/12315.html" title="Multiple defined in 4 places.">changed</a>();
<a id="L442" name="L442"></a> 442 
<a id="L443" name="L443"></a> 443         <em class="comment">// update cached length if we have any</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong> (fNodeListCache != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             <strong class="reserved">if</strong> (fNodeListCache.fLength != -1) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                 fNodeListCache.fLength++;
<a id="L447" name="L447"></a> 447             <em class="brace">}</em>
<a id="L448" name="L448"></a> 448             <strong class="reserved">if</strong> (fNodeListCache.fChildIndex != -1) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449                 <em class="comment">// if we happen to insert just before the cached node, update</em>
<a id="L450" name="L450"></a> 450                 <em class="comment">// the cache to the new node to match the cached index</em>
<a id="L451" name="L451"></a> 451                 <strong class="reserved">if</strong> (fNodeListCache.fChild == refInternal) <em class="brace">{</em>
<a id="L452" name="L452"></a> 452                     fNodeListCache.fChild = newInternal;
<a id="L453" name="L453"></a> 453                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L454" name="L454"></a> 454                     <em class="comment">// otherwise just invalidate the cache</em>
<a id="L455" name="L455"></a> 455                     fNodeListCache.fChildIndex = -1;
<a id="L456" name="L456"></a> 456                 <em class="brace">}</em>
<a id="L457" name="L457"></a> 457             <em class="brace">}</em>
<a id="L458" name="L458"></a> 458         <em class="brace">}</em>
<a id="L459" name="L459"></a> 459 
<a id="L460" name="L460"></a> 460         <em class="comment">// notify document</em>
<a id="L461" name="L461"></a> 461         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/24808.html" title="Multiple defined in 2 places.">insertedNode</a>(<strong class="reserved">this</strong>, newInternal, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L462" name="L462"></a> 462 
<a id="L463" name="L463"></a> 463         <a href="../D/12560.html" title="Multiple defined in 2 places.">checkNormalizationAfterInsert</a>(newInternal);
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465         <strong class="reserved">return</strong> newChild;
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467     <em class="brace">}</em> <em class="comment">// internalInsertBefore(Node,Node,boolean):Node</em>
<a id="L468" name="L468"></a> 468 
<div class="comment">
      Remove a child from this Node. The removed child's subtree
      remains intact so it may be re-inserted elsewhere.
      @return oldChild, in its new state (removed).
      @throws DOMException(NOT_FOUND_ERR) if oldChild is not a child of
      this node.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if this node is
      read-only.</div>
<a id="L481" name="L481"></a> 481     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/25920.html" title="Multiple referred from 47 places.">removeChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild)
<a id="L482" name="L482"></a> 482         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L483" name="L483"></a> 483         <em class="comment">// Tail-call, should be optimizable</em>
<a id="L484" name="L484"></a> 484         <strong class="reserved">return</strong> <a href="../D/24953.html" title="Multiple defined in 2 places.">internalRemoveChild</a>(oldChild, <strong class="reserved">false</strong>);
<a id="L485" name="L485"></a> 485     <em class="brace">}</em> <em class="comment">// removeChild(Node) :Node</em>
<a id="L486" name="L486"></a> 486 
<div class="comment">
 NON-DOM INTERNAL: Within DOM actions,we sometimes need to be able
      to control which mutation events are spawned. This version of the
      removeChild operation allows us to do so. It is not intended
      for use by application programs.</div>
<a id="L492" name="L492"></a> 492     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20960.html" title="Multiple referred from 6 places.">internalRemoveChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>)
<a id="L493" name="L493"></a> 493         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>();
<a id="L496" name="L496"></a> 496         <strong class="reserved">if</strong> (<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.errorChecking) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497             <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(
<a id="L499" name="L499"></a> 499                             <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR,
<a id="L500" name="L500"></a> 500                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>));
<a id="L501" name="L501"></a> 501             <em class="brace">}</em>
<a id="L502" name="L502"></a> 502             <strong class="reserved">if</strong> (oldChild != <strong class="reserved">null</strong> &amp;&amp; oldChild.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>() != <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L503" name="L503"></a> 503                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_FOUND_ERR,
<a id="L504" name="L504"></a> 504                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_FOUND_ERR", <strong class="reserved">null</strong>));
<a id="L505" name="L505"></a> 505             <em class="brace">}</em>
<a id="L506" name="L506"></a> 506         <em class="brace">}</em>
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> oldInternal = (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a>) oldChild;
<a id="L509" name="L509"></a> 509 
<a id="L510" name="L510"></a> 510         <em class="comment">// notify document</em>
<a id="L511" name="L511"></a> 511         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31001.html" title="Multiple defined in 2 places.">removingNode</a>(<strong class="reserved">this</strong>, oldInternal, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513         <em class="comment">// update cached length if we have any</em>
<a id="L514" name="L514"></a> 514         <strong class="reserved">if</strong> (fNodeListCache != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515             <strong class="reserved">if</strong> (fNodeListCache.fLength != -1) <em class="brace">{</em>
<a id="L516" name="L516"></a> 516                 fNodeListCache.fLength--;
<a id="L517" name="L517"></a> 517             <em class="brace">}</em>
<a id="L518" name="L518"></a> 518             <strong class="reserved">if</strong> (fNodeListCache.fChildIndex != -1) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519                 <em class="comment">// if the removed node is the cached node</em>
<a id="L520" name="L520"></a> 520                 <em class="comment">// move the cache to its (soon former) previous sibling</em>
<a id="L521" name="L521"></a> 521                 <strong class="reserved">if</strong> (fNodeListCache.fChild == oldInternal) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522                     fNodeListCache.fChildIndex--;
<a id="L523" name="L523"></a> 523                     fNodeListCache.fChild = oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>();
<a id="L524" name="L524"></a> 524                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L525" name="L525"></a> 525                     <em class="comment">// otherwise just invalidate the cache</em>
<a id="L526" name="L526"></a> 526                     fNodeListCache.fChildIndex = -1;
<a id="L527" name="L527"></a> 527                 <em class="brace">}</em>
<a id="L528" name="L528"></a> 528             <em class="brace">}</em>
<a id="L529" name="L529"></a> 529         <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<a id="L531" name="L531"></a> 531         <em class="comment">// Patch linked list around oldChild</em>
<a id="L532" name="L532"></a> 532         <em class="comment">// Note: lastChild == firstChild.previousSibling</em>
<a id="L533" name="L533"></a> 533         <strong class="reserved">if</strong> (oldInternal == <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>) <em class="brace">{</em>
<a id="L534" name="L534"></a> 534             <em class="comment">// removing first child</em>
<a id="L535" name="L535"></a> 535             oldInternal.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">false</strong>);
<a id="L536" name="L536"></a> 536             <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> = oldInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L537" name="L537"></a> 537             <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/25561.html" title="Multiple defined in 2 places.">isFirstChild</a>(<strong class="reserved">true</strong>);
<a id="L539" name="L539"></a> 539                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L540" name="L540"></a> 540             <em class="brace">}</em>
<a id="L541" name="L541"></a> 541         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L542" name="L542"></a> 542             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> prev = oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>;
<a id="L543" name="L543"></a> 543             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = oldInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L544" name="L544"></a> 544             prev.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L545" name="L545"></a> 545             <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546                 <em class="comment">// removing last child</em>
<a id="L547" name="L547"></a> 547                 <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = prev;
<a id="L548" name="L548"></a> 548             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L549" name="L549"></a> 549                 <em class="comment">// removing some other child in the middle</em>
<a id="L550" name="L550"></a> 550                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = prev;
<a id="L551" name="L551"></a> 551             <em class="brace">}</em>
<a id="L552" name="L552"></a> 552         <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<a id="L554" name="L554"></a> 554         <em class="comment">// Save previous sibling for normalization checking.</em>
<a id="L555" name="L555"></a> 555         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> oldPreviousSibling = oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>();
<a id="L556" name="L556"></a> 556 
<a id="L557" name="L557"></a> 557         <em class="comment">// Remove oldInternal's references to tree</em>
<a id="L558" name="L558"></a> 558         oldInternal.ownerNode       = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>;
<a id="L559" name="L559"></a> 559         oldInternal.<a href="../D/26020.html" title="Multiple defined in 2 places.">isOwned</a>(<strong class="reserved">false</strong>);
<a id="L560" name="L560"></a> 560         oldInternal.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>     = <strong class="reserved">null</strong>;
<a id="L561" name="L561"></a> 561         oldInternal.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> = <strong class="reserved">null</strong>;
<a id="L562" name="L562"></a> 562 
<a id="L563" name="L563"></a> 563         <a href="../D/12315.html" title="Multiple defined in 4 places.">changed</a>();
<a id="L564" name="L564"></a> 564 
<a id="L565" name="L565"></a> 565         <em class="comment">// notify document</em>
<a id="L566" name="L566"></a> 566         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31000.html" title="Multiple defined in 2 places.">removedNode</a>(<strong class="reserved">this</strong>, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>);
<a id="L567" name="L567"></a> 567 
<a id="L568" name="L568"></a> 568         <a href="../D/12561.html" title="Multiple defined in 2 places.">checkNormalizationAfterRemove</a>(oldPreviousSibling);
<a id="L569" name="L569"></a> 569 
<a id="L570" name="L570"></a> 570         <strong class="reserved">return</strong> oldInternal;
<a id="L571" name="L571"></a> 571 
<a id="L572" name="L572"></a> 572     <em class="brace">}</em> <em class="comment">// internalRemoveChild(Node,boolean):Node</em>
<a id="L573" name="L573"></a> 573 
<div class="comment">
      Make newChild occupy the location that oldChild used to
      have. Note that newChild will first be removed from its previous
      parent, if any. Equivalent to inserting newChild before oldChild,
      then removing oldChild.
      @return oldChild, in its new state (removed).
      @throws DOMException(HIERARCHY_REQUEST_ERR) if newChild is of a
      type that shouldn't be a child of this node, or if newChild is
      one of our ancestors.
      @throws DOMException(WRONG_DOCUMENT_ERR) if newChild has a
      different owner document than we do.
      @throws DOMException(NOT_FOUND_ERR) if oldChild is not a child of
      this node.
      @throws DOMException(NO_MODIFICATION_ALLOWED_ERR) if this node is
      read-only.</div>
<a id="L595" name="L595"></a> 595     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/26144.html" title="Multiple referred from 5 places.">replaceChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild)
<a id="L596" name="L596"></a> 596         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L597" name="L597"></a> 597         <em class="comment">// If Mutation Events are being generated, this operation might</em>
<a id="L598" name="L598"></a> 598         <em class="comment">// throw aggregate events twice when modifying an Attr -- once</em>
<a id="L599" name="L599"></a> 599         <em class="comment">// on insertion and once on removal. DOM Level 2 does not specify</em>
<a id="L600" name="L600"></a> 600         <em class="comment">// this as either desirable or undesirable, but hints that</em>
<a id="L601" name="L601"></a> 601         <em class="comment">// aggregations should be issued only once per user request.</em>
<a id="L602" name="L602"></a> 602 
<a id="L603" name="L603"></a> 603         <em class="comment">// notify document</em>
<a id="L604" name="L604"></a> 604         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31081.html" title="Multiple defined in 2 places.">replacingNode</a>(<strong class="reserved">this</strong>);
<a id="L605" name="L605"></a> 605 
<a id="L606" name="L606"></a> 606         <a href="../D/24937.html" title="Multiple defined in 2 places.">internalInsertBefore</a>(newChild, oldChild, <strong class="reserved">true</strong>);
<a id="L607" name="L607"></a> 607         <strong class="reserved">if</strong> (newChild != oldChild) <em class="brace">{</em>
<a id="L608" name="L608"></a> 608             <a href="../D/24953.html" title="Multiple defined in 2 places.">internalRemoveChild</a>(oldChild, <strong class="reserved">true</strong>);
<a id="L609" name="L609"></a> 609         <em class="brace">}</em>
<a id="L610" name="L610"></a> 610 
<a id="L611" name="L611"></a> 611         <em class="comment">// notify document</em>
<a id="L612" name="L612"></a> 612         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../D/31075.html" title="Multiple defined in 2 places.">replacedNode</a>(<strong class="reserved">this</strong>);
<a id="L613" name="L613"></a> 613 
<a id="L614" name="L614"></a> 614         <strong class="reserved">return</strong> oldChild;
<a id="L615" name="L615"></a> 615     <em class="brace">}</em>
<a id="L616" name="L616"></a> 616 
<div class="comment">
      Get Node text content
      @since DOM Level 3</div>
<a id="L621" name="L621"></a> 621     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19428.html" title="Multiple referred from 6 places.">getTextContent</a>() <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L622" name="L622"></a> 622         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = <a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L623" name="L623"></a> 623         <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L624" name="L624"></a> 624             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L625" name="L625"></a> 625             <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626                 <strong class="reserved">return</strong> <a href="../S/5474.html#L652" title="Defined at 652 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">hasTextContent</a>(child) ? ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) child).<a href="../D/23051.html" title="Multiple defined in 13 places.">getTextContent</a>() : "";
<a id="L627" name="L627"></a> 627             <em class="brace">}</em>
<a id="L628" name="L628"></a> 628             <strong class="reserved">if</strong> (fBufferStr == <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L629" name="L629"></a> 629                 fBufferStr = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L630" name="L630"></a> 630             <em class="brace">}</em>
<a id="L631" name="L631"></a> 631             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L632" name="L632"></a> 632                 fBufferStr.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a>(0);
<a id="L633" name="L633"></a> 633             <em class="brace">}</em>
<a id="L634" name="L634"></a> 634             <a href="../D/23051.html" title="Multiple defined in 13 places.">getTextContent</a>(fBufferStr);
<a id="L635" name="L635"></a> 635             <strong class="reserved">return</strong> fBufferStr.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L636" name="L636"></a> 636         <em class="brace">}</em>
<a id="L637" name="L637"></a> 637         <strong class="reserved">return</strong> "";
<a id="L638" name="L638"></a> 638     <em class="brace">}</em>
<a id="L639" name="L639"></a> 639 
<a id="L640" name="L640"></a> 640     <em class="comment">// internal method taking a StringBuffer in parameter</em>
<a id="L641" name="L641"></a> 641     <strong class="reserved">void</strong> <a href="../R/19428.html" title="Multiple referred from 6 places.">getTextContent</a>(<a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>) <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L642" name="L642"></a> 642         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = <a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L643" name="L643"></a> 643         <strong class="reserved">while</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644             <strong class="reserved">if</strong> (<a href="../S/5474.html#L652" title="Defined at 652 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">hasTextContent</a>(child)) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645                 ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) child).<a href="../D/23051.html" title="Multiple defined in 13 places.">getTextContent</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L646" name="L646"></a> 646             <em class="brace">}</em>
<a id="L647" name="L647"></a> 647             child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L648" name="L648"></a> 648         <em class="brace">}</em>
<a id="L649" name="L649"></a> 649     <em class="brace">}</em>
<a id="L650" name="L650"></a> 650 
<a id="L651" name="L651"></a> 651     <em class="comment">// internal method returning whether to take the given node's text content</em>
<a id="L652" name="L652"></a> 652     <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/20280.html" title="Multiple referred from 2 places.">hasTextContent</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child) <em class="brace">{</em>
<a id="L653" name="L653"></a> 653         <strong class="reserved">return</strong> child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.COMMENT_NODE &amp;&amp;
<a id="L654" name="L654"></a> 654             child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.PROCESSING_INSTRUCTION_NODE &amp;&amp;
<a id="L655" name="L655"></a> 655             (child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE ||
<a id="L656" name="L656"></a> 656              ((<a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a>) child).<a href="../D/25685.html" title="Multiple defined in 3 places.">isIgnorableWhitespace</a>() == <strong class="reserved">false</strong>);
<a id="L657" name="L657"></a> 657     <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<div class="comment">
      Set Node text content
      @since DOM Level 3</div>
<a id="L663" name="L663"></a> 663     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28274.html" title="Multiple referred from 2 places.">setTextContent</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> textContent)
<a id="L664" name="L664"></a> 664         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L665" name="L665"></a> 665         <em class="comment">// get rid of any existing children</em>
<a id="L666" name="L666"></a> 666         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child;
<a id="L667" name="L667"></a> 667         <strong class="reserved">while</strong> ((child = <a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L668" name="L668"></a> 668             <a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(child);
<a id="L669" name="L669"></a> 669         <em class="brace">}</em>
<a id="L670" name="L670"></a> 670         <em class="comment">// create a Text node to hold the given content</em>
<a id="L671" name="L671"></a> 671         <strong class="reserved">if</strong> (textContent != <strong class="reserved">null</strong> &amp;&amp; textContent.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0)<em class="brace">{</em>
<a id="L672" name="L672"></a> 672             <a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>().<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(textContent));
<a id="L673" name="L673"></a> 673         <em class="brace">}</em>
<a id="L674" name="L674"></a> 674     <em class="brace">}</em>
<a id="L675" name="L675"></a> 675 
<a id="L676" name="L676"></a> 676     <em class="comment">//</em>
<a id="L677" name="L677"></a> 677     <em class="comment">// NodeList methods</em>
<a id="L678" name="L678"></a> 678     <em class="comment">//</em>
<a id="L679" name="L679"></a> 679 
<div class="comment">
      Count the immediate children of this node.  Use to implement
      NodeList.getLength().
      @return int</div>
<a id="L685" name="L685"></a> 685     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/23749.html" title="Multiple referred from 2 places.">nodeListGetLength</a>() <em class="brace">{</em>
<a id="L686" name="L686"></a> 686 
<a id="L687" name="L687"></a> 687         <strong class="reserved">if</strong> (fNodeListCache == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L688" name="L688"></a> 688             <em class="comment">// get rid of trivial cases</em>
<a id="L689" name="L689"></a> 689             <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L690" name="L690"></a> 690                 <strong class="reserved">return</strong> 0;
<a id="L691" name="L691"></a> 691             <em class="brace">}</em>
<a id="L692" name="L692"></a> 692             <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> == <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>()) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693                 <strong class="reserved">return</strong> 1;
<a id="L694" name="L694"></a> 694             <em class="brace">}</em>
<a id="L695" name="L695"></a> 695             <em class="comment">// otherwise request a cache object</em>
<a id="L696" name="L696"></a> 696             fNodeListCache = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2280" title="Defined at 2280 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">getNodeListCache</a>(<strong class="reserved">this</strong>);
<a id="L697" name="L697"></a> 697         <em class="brace">}</em>
<a id="L698" name="L698"></a> 698         <strong class="reserved">if</strong> (fNodeListCache.fLength == -1) <em class="brace">{</em> <em class="comment">// is the cached length invalid ?</em>
<a id="L699" name="L699"></a> 699             <strong class="reserved">int</strong> l;
<a id="L700" name="L700"></a> 700             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> n;
<a id="L701" name="L701"></a> 701             <em class="comment">// start from the cached node if we have one</em>
<a id="L702" name="L702"></a> 702             <strong class="reserved">if</strong> (fNodeListCache.fChildIndex != -1 &amp;&amp;
<a id="L703" name="L703"></a> 703                 fNodeListCache.fChild != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704                 l = fNodeListCache.fChildIndex;
<a id="L705" name="L705"></a> 705                 n = fNodeListCache.fChild;
<a id="L706" name="L706"></a> 706             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L707" name="L707"></a> 707                 n = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L708" name="L708"></a> 708                 l = 0;
<a id="L709" name="L709"></a> 709             <em class="brace">}</em>
<a id="L710" name="L710"></a> 710             <strong class="reserved">while</strong> (n != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L711" name="L711"></a> 711                 l++;
<a id="L712" name="L712"></a> 712                 n = n.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L713" name="L713"></a> 713             <em class="brace">}</em>
<a id="L714" name="L714"></a> 714             fNodeListCache.fLength = l;
<a id="L715" name="L715"></a> 715         <em class="brace">}</em>
<a id="L716" name="L716"></a> 716 
<a id="L717" name="L717"></a> 717         <strong class="reserved">return</strong> fNodeListCache.fLength;
<a id="L718" name="L718"></a> 718 
<a id="L719" name="L719"></a> 719     <em class="brace">}</em> <em class="comment">// nodeListGetLength():int</em>
<a id="L720" name="L720"></a> 720 
<div class="comment">
      NodeList method: Count the immediate children of this node
      @return int</div>
<a id="L725" name="L725"></a> 725     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17335.html" title="Multiple referred from 644 places.">getLength</a>() <em class="brace">{</em>
<a id="L726" name="L726"></a> 726         <strong class="reserved">return</strong> <a href="../S/5474.html#L685" title="Defined at 685 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">nodeListGetLength</a>();
<a id="L727" name="L727"></a> 727     <em class="brace">}</em>
<a id="L728" name="L728"></a> 728 
<div class="comment">
      Return the Nth immediate child of this node, or null if the index is
      out of bounds.  Use to implement NodeList.item().
      @param index int</div>
<a id="L734" name="L734"></a> 734     <strong class="reserved">private</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/23750.html" title="Multiple referred from 2 places.">nodeListItem</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736         <strong class="reserved">if</strong> (fNodeListCache == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L737" name="L737"></a> 737             <em class="comment">// get rid of trivial case</em>
<a id="L738" name="L738"></a> 738             <strong class="reserved">if</strong> (<a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> == <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>()) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739                 <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == 0 ? <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> : <strong class="reserved">null</strong>;
<a id="L740" name="L740"></a> 740             <em class="brace">}</em>
<a id="L741" name="L741"></a> 741             <em class="comment">// otherwise request a cache object</em>
<a id="L742" name="L742"></a> 742             fNodeListCache = <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2280" title="Defined at 2280 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">getNodeListCache</a>(<strong class="reserved">this</strong>);
<a id="L743" name="L743"></a> 743         <em class="brace">}</em>
<a id="L744" name="L744"></a> 744         <strong class="reserved">int</strong> i = fNodeListCache.fChildIndex;
<a id="L745" name="L745"></a> 745         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> n = fNodeListCache.fChild;
<a id="L746" name="L746"></a> 746         <strong class="reserved">boolean</strong> firstAccess = <strong class="reserved">true</strong>;
<a id="L747" name="L747"></a> 747         <em class="comment">// short way</em>
<a id="L748" name="L748"></a> 748         <strong class="reserved">if</strong> (i != -1 &amp;&amp; n != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L749" name="L749"></a> 749             firstAccess = <strong class="reserved">false</strong>;
<a id="L750" name="L750"></a> 750             <strong class="reserved">if</strong> (i &lt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L751" name="L751"></a> 751                 <strong class="reserved">while</strong> (i &lt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &amp;&amp; n != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L752" name="L752"></a> 752                     i++;
<a id="L753" name="L753"></a> 753                     n = n.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L754" name="L754"></a> 754                 <em class="brace">}</em>
<a id="L755" name="L755"></a> 755             <em class="brace">}</em>
<a id="L756" name="L756"></a> 756             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (i &gt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757                 <strong class="reserved">while</strong> (i &gt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &amp;&amp; n != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L758" name="L758"></a> 758                     i--;
<a id="L759" name="L759"></a> 759                     n = n.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>();
<a id="L760" name="L760"></a> 760                 <em class="brace">}</em>
<a id="L761" name="L761"></a> 761             <em class="brace">}</em>
<a id="L762" name="L762"></a> 762         <em class="brace">}</em>
<a id="L763" name="L763"></a> 763         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L764" name="L764"></a> 764             <em class="comment">// long way</em>
<a id="L765" name="L765"></a> 765             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0) <em class="brace">{</em>
<a id="L766" name="L766"></a> 766                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L767" name="L767"></a> 767             <em class="brace">}</em>
<a id="L768" name="L768"></a> 768             n = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L769" name="L769"></a> 769             <strong class="reserved">for</strong> (i = 0; i &lt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &amp;&amp; n != <strong class="reserved">null</strong>; i++) <em class="brace">{</em>
<a id="L770" name="L770"></a> 770                 n = n.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L771" name="L771"></a> 771             <em class="brace">}</em>
<a id="L772" name="L772"></a> 772         <em class="brace">}</em>
<a id="L773" name="L773"></a> 773 
<a id="L774" name="L774"></a> 774         <em class="comment">// release cache if reaching last child or first child</em>
<a id="L775" name="L775"></a> 775         <strong class="reserved">if</strong> (!firstAccess &amp;&amp; (n == <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a> || n == <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>())) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776             fNodeListCache.fChildIndex = -1;
<a id="L777" name="L777"></a> 777             fNodeListCache.fChild = <strong class="reserved">null</strong>;
<a id="L778" name="L778"></a> 778             <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a>.<a href="../S/5445.html#L2302" title="Defined at 2302 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">freeNodeListCache</a>(fNodeListCache);
<a id="L779" name="L779"></a> 779             <em class="comment">// we can keep using the cache until it is actually reused</em>
<a id="L780" name="L780"></a> 780             <em class="comment">// fNodeListCache will be nulled by the pool (document) if that</em>
<a id="L781" name="L781"></a> 781             <em class="comment">// happens.</em>
<a id="L782" name="L782"></a> 782             <em class="comment">// fNodeListCache = null;</em>
<a id="L783" name="L783"></a> 783         <em class="brace">}</em>
<a id="L784" name="L784"></a> 784         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L785" name="L785"></a> 785             <em class="comment">// otherwise update it</em>
<a id="L786" name="L786"></a> 786             fNodeListCache.fChildIndex = i;
<a id="L787" name="L787"></a> 787             fNodeListCache.fChild = n;
<a id="L788" name="L788"></a> 788         <em class="brace">}</em>
<a id="L789" name="L789"></a> 789         <strong class="reserved">return</strong> n;
<a id="L790" name="L790"></a> 790 
<a id="L791" name="L791"></a> 791     <em class="brace">}</em> <em class="comment">// nodeListItem(int):Node</em>
<a id="L792" name="L792"></a> 792 
<div class="comment">
      NodeList method: Return the Nth immediate child of this node, or
      null if the index is out of bounds.
      @return org.w3c.dom.Node
      @param index int</div>
<a id="L799" name="L799"></a> 799     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/22287.html" title="Multiple referred from 822 places.">item</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L800" name="L800"></a> 800         <strong class="reserved">return</strong> <a href="../S/5474.html#L734" title="Defined at 734 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">nodeListItem</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L801" name="L801"></a> 801     <em class="brace">}</em> <em class="comment">// item(int):Node</em>
<a id="L802" name="L802"></a> 802 
<div class="comment">
      Create a NodeList to access children that is use by subclass elements
      that have methods named getLength() or item(int).  ChildAndParentNode
      optimizes getChildNodes() by implementing NodeList itself.  However if
      a subclass Element implements methods with the same name as the NodeList
      methods, they will override the actually methods in this class.
      <p>
      To use this method, the subclass should implement getChildNodes() and
      have it call this method.  The resulting NodeList instance maybe
      shared and cached in a transient field, but the cached value must be
      cleared if the node is cloned.</p></div>
<a id="L815" name="L815"></a> 815     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> getChildNodesUnoptimized() <em class="brace">{</em>
<a id="L816" name="L816"></a> 816         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L817" name="L817"></a> 817             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L818" name="L818"></a> 818         <em class="brace">}</em>
<a id="L819" name="L819"></a> 819         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a>() <em class="brace">{</em>
<div class="comment">
                  @see NodeList.getLength()</div>
<a id="L823" name="L823"></a> 823                 <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() <em class="brace">{</em>
<a id="L824" name="L824"></a> 824                     <strong class="reserved">return</strong> <a href="../S/5474.html#L685" title="Defined at 685 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">nodeListGetLength</a>();
<a id="L825" name="L825"></a> 825                 <em class="brace">}</em> <em class="comment">// getLength():int</em>
<a id="L826" name="L826"></a> 826 
<div class="comment">
                  @see NodeList.item(int)</div>
<a id="L830" name="L830"></a> 830                 <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831                     <strong class="reserved">return</strong> <a href="../S/5474.html#L734" title="Defined at 734 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">nodeListItem</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L832" name="L832"></a> 832                 <em class="brace">}</em> <em class="comment">// item(int):Node</em>
<a id="L833" name="L833"></a> 833             <em class="brace">}</em>;
<a id="L834" name="L834"></a> 834     <em class="brace">}</em> <em class="comment">// getChildNodesUnoptimized():NodeList</em>
<a id="L835" name="L835"></a> 835 
<a id="L836" name="L836"></a> 836     <em class="comment">//</em>
<a id="L837" name="L837"></a> 837     <em class="comment">// DOM2: methods, getters, setters</em>
<a id="L838" name="L838"></a> 838     <em class="comment">//</em>
<a id="L839" name="L839"></a> 839 
<div class="comment">
      Override default behavior to call normalize() on this Node's
      children. It is up to implementors or Node to override normalize()
      to take action.</div>
<a id="L845" name="L845"></a> 845     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23781.html" title="Multiple referred from 143 places.">normalize</a>() <em class="brace">{</em>
<a id="L846" name="L846"></a> 846         <em class="comment">// No need to normalize if already normalized.</em>
<a id="L847" name="L847"></a> 847         <strong class="reserved">if</strong> (<a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>()) <em class="brace">{</em>
<a id="L848" name="L848"></a> 848             <strong class="reserved">return</strong>;
<a id="L849" name="L849"></a> 849         <em class="brace">}</em>
<a id="L850" name="L850"></a> 850         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L851" name="L851"></a> 851             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L852" name="L852"></a> 852         <em class="brace">}</em>
<a id="L853" name="L853"></a> 853         <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> kid;
<a id="L854" name="L854"></a> 854         <strong class="reserved">for</strong> (kid = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>; kid != <strong class="reserved">null</strong>; kid = kid.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L855" name="L855"></a> 855             kid.<a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>();
<a id="L856" name="L856"></a> 856         <em class="brace">}</em>
<a id="L857" name="L857"></a> 857         <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">true</strong>);
<a id="L858" name="L858"></a> 858     <em class="brace">}</em>
<a id="L859" name="L859"></a> 859 
<div class="comment">
      DOM Level 3 WD- Experimental.
      Override inherited behavior from NodeImpl to support deep equal.</div>
<a id="L864" name="L864"></a> 864     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21419.html" title="Multiple referred from 9 places.">isEqualNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>) <em class="brace">{</em>
<a id="L865" name="L865"></a> 865         <strong class="reserved">if</strong> (!<strong class="reserved">super</strong>.<a href="../D/25514.html" title="Multiple defined in 12 places.">isEqualNode</a>(<a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>)) <em class="brace">{</em>
<a id="L866" name="L866"></a> 866             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L867" name="L867"></a> 867         <em class="brace">}</em>
<a id="L868" name="L868"></a> 868         <em class="comment">// there are many ways to do this test, and there isn't any way</em>
<a id="L869" name="L869"></a> 869         <em class="comment">// better than another. Performance may vary greatly depending on</em>
<a id="L870" name="L870"></a> 870         <em class="comment">// the implementations involved. This one should work fine for us.</em>
<a id="L871" name="L871"></a> 871         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child1 = <a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L872" name="L872"></a> 872         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child2 = <a href="../D/11479.html" title="Multiple defined in 2 places.">arg</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L873" name="L873"></a> 873         <strong class="reserved">while</strong> (child1 != <strong class="reserved">null</strong> &amp;&amp; child2 != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L874" name="L874"></a> 874             <strong class="reserved">if</strong> (!((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) child1).<a href="../D/25514.html" title="Multiple defined in 12 places.">isEqualNode</a>(child2)) <em class="brace">{</em>
<a id="L875" name="L875"></a> 875                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L876" name="L876"></a> 876             <em class="brace">}</em>
<a id="L877" name="L877"></a> 877             child1 = child1.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L878" name="L878"></a> 878             child2 = child2.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L879" name="L879"></a> 879         <em class="brace">}</em>
<a id="L880" name="L880"></a> 880         <strong class="reserved">if</strong> (child1 != child2) <em class="brace">{</em>
<a id="L881" name="L881"></a> 881             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L882" name="L882"></a> 882         <em class="brace">}</em>
<a id="L883" name="L883"></a> 883         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L884" name="L884"></a> 884     <em class="brace">}</em>
<a id="L885" name="L885"></a> 885 
<a id="L886" name="L886"></a> 886     <em class="comment">//</em>
<a id="L887" name="L887"></a> 887     <em class="comment">// Public methods</em>
<a id="L888" name="L888"></a> 888     <em class="comment">//</em>
<a id="L889" name="L889"></a> 889 
<div class="comment">
      Override default behavior so that if deep is true, children are also
      toggled.
      @see Node
      <p>
      Note: this will not change the state of an EntityReference or its
      children, which are always read-only.</p></div>
<a id="L898" name="L898"></a> 898     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28000.html" title="Multiple referred from 34 places.">setReadOnly</a>(<strong class="reserved">boolean</strong> readOnly, <strong class="reserved">boolean</strong> deep) <em class="brace">{</em>
<a id="L899" name="L899"></a> 899 
<a id="L900" name="L900"></a> 900         <strong class="reserved">super</strong>.<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a>(readOnly, deep);
<a id="L901" name="L901"></a> 901 
<a id="L902" name="L902"></a> 902         <strong class="reserved">if</strong> (deep) <em class="brace">{</em>
<a id="L903" name="L903"></a> 903 
<a id="L904" name="L904"></a> 904             <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L905" name="L905"></a> 905                 <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L906" name="L906"></a> 906             <em class="brace">}</em>
<a id="L907" name="L907"></a> 907 
<a id="L908" name="L908"></a> 908             <em class="comment">// Recursively set kids</em>
<a id="L909" name="L909"></a> 909             <strong class="reserved">for</strong> (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> mykid = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>;
<a id="L910" name="L910"></a> 910                  mykid != <strong class="reserved">null</strong>;
<a id="L911" name="L911"></a> 911                  mykid = mykid.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L912" name="L912"></a> 912                 <strong class="reserved">if</strong> (mykid.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE) <em class="brace">{</em>
<a id="L913" name="L913"></a> 913                     mykid.<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a>(readOnly,<strong class="reserved">true</strong>);
<a id="L914" name="L914"></a> 914                 <em class="brace">}</em>
<a id="L915" name="L915"></a> 915             <em class="brace">}</em>
<a id="L916" name="L916"></a> 916         <em class="brace">}</em>
<a id="L917" name="L917"></a> 917     <em class="brace">}</em> <em class="comment">// setReadOnly(boolean,boolean)</em>
<a id="L918" name="L918"></a> 918 
<a id="L919" name="L919"></a> 919     <em class="comment">//</em>
<a id="L920" name="L920"></a> 920     <em class="comment">// Protected methods</em>
<a id="L921" name="L921"></a> 921     <em class="comment">//</em>
<a id="L922" name="L922"></a> 922 
<div class="comment">
      Override this method in subclass to hook in efficient
      internal data structure.</div>
<a id="L927" name="L927"></a> 927     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29076.html" title="Multiple referred from 42 places.">synchronizeChildren</a>() <em class="brace">{</em>
<a id="L928" name="L928"></a> 928         <em class="comment">// By default just change the flag to avoid calling this method again</em>
<a id="L929" name="L929"></a> 929         <a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>(<strong class="reserved">false</strong>);
<a id="L930" name="L930"></a> 930     <em class="brace">}</em>
<a id="L931" name="L931"></a> 931 
<div class="comment">
      Checks the normalized state of this node after inserting a child.
      If the inserted child causes this node to be unnormalized, then this
      node is flagged accordingly.
      The conditions for changing the normalized state are:
      <ul><li>The inserted child is a text node and one of its adjacent siblings
      is also a text node.
      </li><li>The inserted child is is itself unnormalized.
      </li></ul>
      @param insertedChild the child node that was inserted into this node
      @throws NullPointerException if the inserted child is <code>null</code></div>
<a id="L947" name="L947"></a> 947     <strong class="reserved">void</strong> <a href="../R/11263.html" title="Multiple referred from 2 places.">checkNormalizationAfterInsert</a>(<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> insertedChild) <em class="brace">{</em>
<a id="L948" name="L948"></a> 948         <em class="comment">// See if insertion caused this node to be unnormalized.</em>
<a id="L949" name="L949"></a> 949         <strong class="reserved">if</strong> (insertedChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L950" name="L950"></a> 950             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> prev = insertedChild.<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>();
<a id="L951" name="L951"></a> 951             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = insertedChild.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L952" name="L952"></a> 952             <em class="comment">// If an adjacent sibling of the new child is a text node,</em>
<a id="L953" name="L953"></a> 953             <em class="comment">// flag this node as unnormalized.</em>
<a id="L954" name="L954"></a> 954             <strong class="reserved">if</strong> ((prev != <strong class="reserved">null</strong> &amp;&amp; prev.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) ||
<a id="L955" name="L955"></a> 955                 (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE)) <em class="brace">{</em>
<a id="L956" name="L956"></a> 956                 <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">false</strong>);
<a id="L957" name="L957"></a> 957             <em class="brace">}</em>
<a id="L958" name="L958"></a> 958         <em class="brace">}</em>
<a id="L959" name="L959"></a> 959         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L960" name="L960"></a> 960             <em class="comment">// If the new child is not normalized,</em>
<a id="L961" name="L961"></a> 961             <em class="comment">// then this node is inherently not normalized.</em>
<a id="L962" name="L962"></a> 962             <strong class="reserved">if</strong> (!insertedChild.<a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>()) <em class="brace">{</em>
<a id="L963" name="L963"></a> 963                 <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">false</strong>);
<a id="L964" name="L964"></a> 964             <em class="brace">}</em>
<a id="L965" name="L965"></a> 965         <em class="brace">}</em>
<a id="L966" name="L966"></a> 966     <em class="brace">}</em> <em class="comment">// checkNormalizationAfterInsert(ChildNode)</em>
<a id="L967" name="L967"></a> 967 
<div class="comment">
      Checks the normalized of this node after removing a child.
      If the removed child causes this node to be unnormalized, then this
      node is flagged accordingly.
      The conditions for changing the normalized state are:
      <ul><li>The removed child had two adjacent siblings that were text nodes.
      </li></ul>
      @param previousSibling the previous sibling of the removed child, or
      <code>null</code></div>
<a id="L980" name="L980"></a> 980     <strong class="reserved">void</strong> <a href="../R/11264.html" title="Multiple referred from 2 places.">checkNormalizationAfterRemove</a>(<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981         <em class="comment">// See if removal caused this node to be unnormalized.</em>
<a id="L982" name="L982"></a> 982         <em class="comment">// If the adjacent siblings of the removed child were both text nodes,</em>
<a id="L983" name="L983"></a> 983         <em class="comment">// flag this node as unnormalized.</em>
<a id="L984" name="L984"></a> 984         <strong class="reserved">if</strong> (<a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a> != <strong class="reserved">null</strong> &amp;&amp;
<a id="L985" name="L985"></a> 985             <a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L986" name="L986"></a> 986 
<a id="L987" name="L987"></a> 987             <a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/29608.html" title="Multiple defined in 4 places.">previousSibling</a>.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>;
<a id="L988" name="L988"></a> 988             <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L989" name="L989"></a> 989                 <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">false</strong>);
<a id="L990" name="L990"></a> 990             <em class="brace">}</em>
<a id="L991" name="L991"></a> 991         <em class="brace">}</em>
<a id="L992" name="L992"></a> 992     <em class="brace">}</em> <em class="comment">// checkNormalizationAfterRemove(Node)</em>
<a id="L993" name="L993"></a> 993 
<a id="L994" name="L994"></a> 994     <em class="comment">//</em>
<a id="L995" name="L995"></a> 995     <em class="comment">// Serialization methods</em>
<a id="L996" name="L996"></a> 996     <em class="comment">//</em>
<a id="L997" name="L997"></a> 997 
<div class="comment">
     /** Serialize object. */</div>
<a id="L999" name="L999"></a> 999     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000 
<a id="L1001" name="L1001"></a>1001         <em class="comment">// synchronize chilren</em>
<a id="L1002" name="L1002"></a>1002         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L1003" name="L1003"></a>1003             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L1004" name="L1004"></a>1004         <em class="brace">}</em>
<a id="L1005" name="L1005"></a>1005         <em class="comment">// write object</em>
<a id="L1006" name="L1006"></a>1006         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L1007" name="L1007"></a>1007 
<a id="L1008" name="L1008"></a>1008     <em class="brace">}</em> <em class="comment">// writeObject(ObjectOutputStream)</em>
<a id="L1009" name="L1009"></a>1009 
<div class="comment">
     /** Deserialize object. */</div>
<a id="L1011" name="L1011"></a>1011     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> ois)
<a id="L1012" name="L1012"></a>1012         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1013" name="L1013"></a>1013 
<a id="L1014" name="L1014"></a>1014         <em class="comment">// perform default deseralization</em>
<a id="L1015" name="L1015"></a>1015         ois.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L1016" name="L1016"></a>1016 
<a id="L1017" name="L1017"></a>1017         <em class="comment">// hardset synchildren - so we don't try to sync - it does not make any</em>
<a id="L1018" name="L1018"></a>1018         <em class="comment">// sense to try to synchildren when we just deserialize object.</em>
<a id="L1019" name="L1019"></a>1019         <a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>(<strong class="reserved">false</strong>);
<a id="L1020" name="L1020"></a>1020 
<a id="L1021" name="L1021"></a>1021     <em class="brace">}</em> <em class="comment">// readObject(ObjectInputStream)</em>
<a id="L1022" name="L1022"></a>1022 
<div class="comment">
      a class to store some user data along with its handler</div>
<a id="L1026" name="L1026"></a>1026     <strong class="reserved">class</strong> <a href="../R/8567.html" title="Multiple referred from 9 places.">UserDataRecord</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<div class="comment">
         /** Serialization version. */</div>
<a id="L1028" name="L1028"></a>1028         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 3258126977134310455L;
<a id="L1029" name="L1029"></a>1029 
<a id="L1030" name="L1030"></a>1030         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> fData;
<a id="L1031" name="L1031"></a>1031         <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a> fHandler;
<a id="L1032" name="L1032"></a>1032         UserDataRecord(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033             fData = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L1034" name="L1034"></a>1034             fHandler = <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L1035" name="L1035"></a>1035         <em class="brace">}</em>
<a id="L1036" name="L1036"></a>1036     <em class="brace">}</em>
<a id="L1037" name="L1037"></a>1037 <em class="brace">}</em> <em class="comment">// class ParentNode</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L128">[^]</a><a href="#L1011">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>