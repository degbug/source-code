<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/sql/BatchUpdateException.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L402">[^]</a><a href="#L556">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L402" title="Defined at 402.">getUpdateCounts</a></li>
<li><a href="#L465" title="Defined at 465.">getLargeUpdateCounts</a></li>
<li><a href="#L509" title="Defined at 509.">copyUpdateCount</a></li>
<li><a href="#L522" title="Defined at 522.">copyUpdateCount</a></li>
<li><a href="#L533" title="Defined at 533.">readObject</a></li>
<li><a href="#L556" title="Defined at 556.">writeObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.sql;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.IOException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.ObjectOutputStream;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L33" name="L33"></a>  33 
<div class="comment">
  The subclass of <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> thrown when an error
  occurs during a batch update operation.  In addition to the
  information provided by <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a>, a
  <code>BatchUpdateException</code> provides the update
  counts for all commands that were executed successfully during the
  batch update, that is, all commands that were executed before the error
  occurred.  The order of elements in an array of update counts
  corresponds to the order in which commands were added to the batch.
  <p>
  After a command in a batch update fails to execute properly
  and a <code>BatchUpdateException</code> is thrown, the driver
  may or may not continue to process the remaining commands in
  the batch.  If the driver continues processing after a failure,
  the array returned by the method
  <code>BatchUpdateException.getUpdateCounts</code> will have
  an element for every command in the batch rather than only
  elements for the commands that executed successfully before
  the error.  In the case where the driver continues processing
  commands, the array element for any command
  that failed is <code>Statement.EXECUTE_FAILED</code>.
  </p><p>
  A JDBC driver implementation should use
  the constructor {@code BatchUpdateException(String reason, String SQLState,
  int vendorCode, long []updateCounts,Throwable cause) } instead of
  constructors that take <code>int[]</code> for the update counts to avoid the
  possibility of overflow.
  </p><p>
  If <code>Statement.executeLargeBatch</code> method is invoked it is recommended that
  <code>getLargeUpdateCounts</code> be called instead of <code>getUpdateCounts</code>
  in order to avoid a possible overflow of the integer update count.
  @since 1.2</p></div>
<a id="L67" name="L67"></a>  67 
<a id="L68" name="L68"></a>  68 <strong class="reserved">public</strong> <strong class="reserved">class</strong> BatchUpdateException <strong class="reserved">extends</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L69" name="L69"></a>  69 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with a given
    <code>reason</code>, <code>SQLState</code>, <code>vendorCode</code> and
    <code>updateCounts</code>.
    The <code>cause</code> is not initialized, and may subsequently be
    initialized by a call to the
    {@link Throwable#initCause(java.lang.Throwable)} method.
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param reason a description of the error
    @param SQLState an XOPEN or SQL:2003 code identifying the exception
    @param vendorCode an exception code used by a particular
    database vendor
    @param updateCounts an array of <code>int</code>, with each element
    indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    @since 1.2
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L99" name="L99"></a>  99   <strong class="reserved">public</strong> BatchUpdateException( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> reason, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SQLState, <strong class="reserved">int</strong> vendorCode,
<a id="L100" name="L100"></a> 100                                <strong class="reserved">int</strong>[] updateCounts ) <em class="brace">{</em>
<a id="L101" name="L101"></a> 101       <strong class="reserved">super</strong>(reason, SQLState, vendorCode);
<a id="L102" name="L102"></a> 102       <strong class="reserved">this</strong>.updateCounts  = (updateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(updateCounts, updateCounts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L103" name="L103"></a> 103       <strong class="reserved">this</strong>.longUpdateCounts = (updateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../D/13530.html" title="Multiple defined in 2 places.">copyUpdateCount</a>(updateCounts);
<a id="L104" name="L104"></a> 104   <em class="brace">}</em>
<a id="L105" name="L105"></a> 105 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with a given
    <code>reason</code>, <code>SQLState</code> and
    <code>updateCounts</code>.
    The <code>cause</code> is not initialized, and may subsequently be
    initialized by a call to the
    {@link Throwable#initCause(java.lang.Throwable)} method. The vendor code
    is initialized to 0.
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param reason a description of the exception
    @param SQLState an XOPEN or SQL:2003 code identifying the exception
    @param updateCounts an array of <code>int</code>, with each element
    indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    @since 1.2
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L134" name="L134"></a> 134   <strong class="reserved">public</strong> BatchUpdateException(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> reason, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SQLState,
<a id="L135" name="L135"></a> 135                               <strong class="reserved">int</strong>[] updateCounts) <em class="brace">{</em>
<a id="L136" name="L136"></a> 136       <strong class="reserved">this</strong>(reason, SQLState, 0, updateCounts);
<a id="L137" name="L137"></a> 137   <em class="brace">}</em>
<a id="L138" name="L138"></a> 138 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with a given
    <code>reason</code> and <code>updateCounts</code>.
    The <code>cause</code> is not initialized, and may subsequently be
    initialized by a call to the
    {@link Throwable#initCause(java.lang.Throwable)} method.  The
    <code>SQLState</code> is initialized to <code>null</code>
    and the vendor code is initialized to 0.
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param reason a description of the exception
    @param updateCounts an array of <code>int</code>, with each element
    indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    @since 1.2
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L166" name="L166"></a> 166   <strong class="reserved">public</strong>  BatchUpdateException(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> reason, <strong class="reserved">int</strong>[] updateCounts) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167       <strong class="reserved">this</strong>(reason, <strong class="reserved">null</strong>, 0, updateCounts);
<a id="L168" name="L168"></a> 168   <em class="brace">}</em>
<a id="L169" name="L169"></a> 169 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with a given
    <code>updateCounts</code>.
    initialized by a call to the
    {@link Throwable#initCause(java.lang.Throwable)} method. The  <code>reason</code>
    and <code>SQLState</code> are initialized to null and the vendor code
    is initialized to 0.
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param updateCounts an array of <code>int</code>, with each element
    indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    @since 1.2
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L195" name="L195"></a> 195   <strong class="reserved">public</strong> BatchUpdateException(<strong class="reserved">int</strong>[] updateCounts) <em class="brace">{</em>
<a id="L196" name="L196"></a> 196       <strong class="reserved">this</strong>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, 0, updateCounts);
<a id="L197" name="L197"></a> 197   <em class="brace">}</em>
<a id="L198" name="L198"></a> 198 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object.
    The <code>reason</code>, <code>SQLState</code> and <code>updateCounts</code>
     are initialized to <code>null</code> and the vendor code is initialized to 0.
    The <code>cause</code> is not initialized, and may subsequently be
    initialized by a call to the
    {@link Throwable#initCause(java.lang.Throwable)} method.
    <p>
    @since 1.2
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</p></div>
<a id="L212" name="L212"></a> 212   <strong class="reserved">public</strong> BatchUpdateException() <em class="brace">{</em>
<a id="L213" name="L213"></a> 213         <strong class="reserved">this</strong>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, 0, <strong class="reserved">null</strong>);
<a id="L214" name="L214"></a> 214   <em class="brace">}</em>
<a id="L215" name="L215"></a> 215 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with
     a given <code>cause</code>.
    The <code>SQLState</code> and <code>updateCounts</code>
    are initialized
    to <code>null</code> and the vendor code is initialized to 0.
    The <code>reason</code>  is initialized to <code>null</code> if
    <code>cause==null</code> or to <code>cause.toString()</code> if
     <code>cause!=null</code>.
    @param cause the underlying reason for this <code>SQLException</code>
    (which is saved for later retrieval by the <code>getCause()</code> method);
    may be null indicating the cause is non-existent or unknown.
    @since 1.6
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L232" name="L232"></a> 232   <strong class="reserved">public</strong> BatchUpdateException(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233       <strong class="reserved">this</strong>((cause == <strong class="reserved">null</strong> ? <strong class="reserved">null</strong> : cause.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()), <strong class="reserved">null</strong>, 0, (<strong class="reserved">int</strong>[])<strong class="reserved">null</strong>, cause);
<a id="L234" name="L234"></a> 234   <em class="brace">}</em>
<a id="L235" name="L235"></a> 235 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with a
    given <code>cause</code> and <code>updateCounts</code>.
    The <code>SQLState</code> is initialized
    to <code>null</code> and the vendor code is initialized to 0.
    The <code>reason</code>  is initialized to <code>null</code> if
    <code>cause==null</code> or to <code>cause.toString()</code> if
    <code>cause!=null</code>.
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param updateCounts an array of <code>int</code>, with each element
    indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    @param cause the underlying reason for this <code>SQLException</code>
    (which is saved for later retrieval by the <code>getCause()</code> method); may be null indicating
    the cause is non-existent or unknown.
    @since 1.6
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L265" name="L265"></a> 265   <strong class="reserved">public</strong> BatchUpdateException(<strong class="reserved">int</strong> []updateCounts , <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L266" name="L266"></a> 266       <strong class="reserved">this</strong>((cause == <strong class="reserved">null</strong> ? <strong class="reserved">null</strong> : cause.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()), <strong class="reserved">null</strong>, 0, updateCounts, cause);
<a id="L267" name="L267"></a> 267   <em class="brace">}</em>
<a id="L268" name="L268"></a> 268 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with
    a given <code>reason</code>, <code>cause</code>
    and <code>updateCounts</code>. The <code>SQLState</code> is initialized
    to <code>null</code> and the vendor code is initialized to 0.
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param reason a description of the exception
    @param updateCounts an array of <code>int</code>, with each element
   indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    @param cause the underlying reason for this <code>SQLException</code> (which is saved for later retrieval by the <code>getCause()</code> method);
    may be null indicating
    the cause is non-existent or unknown.
    @since 1.6
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L296" name="L296"></a> 296   <strong class="reserved">public</strong> BatchUpdateException(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> reason, <strong class="reserved">int</strong> []updateCounts, <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297       <strong class="reserved">this</strong>(reason, <strong class="reserved">null</strong>, 0, updateCounts, cause);
<a id="L298" name="L298"></a> 298   <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with
    a given <code>reason</code>, <code>SQLState</code>,<code>cause</code>, and
    <code>updateCounts</code>. The vendor code is initialized to 0.
    @param reason a description of the exception
    @param SQLState an XOPEN or SQL:2003 code identifying the exception
    @param updateCounts an array of <code>int</code>, with each element
    indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param cause the underlying reason for this <code>SQLException</code>
    (which is saved for later retrieval by the <code>getCause()</code> method);
    may be null indicating
    the cause is non-existent or unknown.
    @since 1.6
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L329" name="L329"></a> 329   <strong class="reserved">public</strong> BatchUpdateException(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> reason, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SQLState,
<a id="L330" name="L330"></a> 330           <strong class="reserved">int</strong> []updateCounts, <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331       <strong class="reserved">this</strong>(reason, SQLState, 0, updateCounts, cause);
<a id="L332" name="L332"></a> 332   <em class="brace">}</em>
<a id="L333" name="L333"></a> 333 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with
    a given <code>reason</code>, <code>SQLState</code>, <code>vendorCode</code>
    <code>cause</code> and <code>updateCounts</code>.
    @param reason a description of the error
    @param SQLState an XOPEN or SQL:2003 code identifying the exception
    @param vendorCode an exception code used by a particular
    database vendor
    @param updateCounts an array of <code>int</code>, with each element
   indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    <p>
    <strong>Note:</strong> There is no validation of <code>updateCounts</code> for
    overflow and because of this it is recommended that you use the constructor
    {@code BatchUpdateException(String reason, String SQLState,
    int vendorCode, long []updateCounts,Throwable cause) }.
    </p>
    @param cause the underlying reason for this <code>SQLException</code> (which is saved for later retrieval by the <code>getCause()</code> method);
    may be null indicating
    the cause is non-existent or unknown.
    @since 1.6
    @see #BatchUpdateException(java.lang.String, java.lang.String, int, long[],
    java.lang.Throwable)</div>
<a id="L364" name="L364"></a> 364   <strong class="reserved">public</strong> BatchUpdateException(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> reason, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SQLState, <strong class="reserved">int</strong> vendorCode,
<a id="L365" name="L365"></a> 365                                 <strong class="reserved">int</strong> []updateCounts,<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366         <strong class="reserved">super</strong>(reason, SQLState, vendorCode, cause);
<a id="L367" name="L367"></a> 367         <strong class="reserved">this</strong>.updateCounts  = (updateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(updateCounts, updateCounts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L368" name="L368"></a> 368         <strong class="reserved">this</strong>.longUpdateCounts = (updateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../D/13530.html" title="Multiple defined in 2 places.">copyUpdateCount</a>(updateCounts);
<a id="L369" name="L369"></a> 369   <em class="brace">}</em>
<a id="L370" name="L370"></a> 370 
<div class="comment">
    Retrieves the update count for each update statement in the batch
    update that executed successfully before this exception occurred.
    A driver that implements batch updates may or may not continue to
    process the remaining commands in a batch when one of the commands
    fails to execute properly. If the driver continues processing commands,
    the array returned by this method will have as many elements as
    there are commands in the batch; otherwise, it will contain an
    update count for each command that executed successfully before
    the <code>BatchUpdateException</code> was thrown.
   <p>
    The possible return values for this method were modified for
    the Java 2 SDK, Standard Edition, version 1.3.  This was done to
    accommodate the new option of continuing to process commands
    in a batch update after a <code>BatchUpdateException</code> object
    has been thrown.
    @return an array of <code>int</code> containing the update counts
    for the updates that were executed successfully before this error
    occurred.  Or, if the driver continues to process commands after an
    error, one of the following for every command in the batch:
    </p><ol>
    <li>an update count
     </li><li><code>Statement.SUCCESS_NO_INFO</code> to indicate that the command
        executed successfully but the number of rows affected is unknown
     </li><li><code>Statement.EXECUTE_FAILED</code> to indicate that the command
        failed to execute successfully
    </li></ol>
    @since 1.3
    @see #getLargeUpdateCounts()</div>
<a id="L402" name="L402"></a> 402   <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] getUpdateCounts() <em class="brace">{</em>
<a id="L403" name="L403"></a> 403       <strong class="reserved">return</strong> (updateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(updateCounts, updateCounts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L404" name="L404"></a> 404   <em class="brace">}</em>
<a id="L405" name="L405"></a> 405 
<div class="comment">
    Constructs a <code>BatchUpdateException</code> object initialized with
    a given <code>reason</code>, <code>SQLState</code>, <code>vendorCode</code>
    <code>cause</code> and <code>updateCounts</code>.
    <p>
    This constructor should be used when the returned update count may exceed
    {@link Integer#MAX_VALUE}.
    </p><p>
    @param reason a description of the error
    @param SQLState an XOPEN or SQL:2003 code identifying the exception
    @param vendorCode an exception code used by a particular
    database vendor
    @param updateCounts an array of <code>long</code>, with each element
   indicating the update count, <code>Statement.SUCCESS_NO_INFO</code> or
    <code>Statement.EXECUTE_FAILED</code> for each SQL command in
    the batch for JDBC drivers that continue processing
    after a command failure; an update count or
    <code>Statement.SUCCESS_NO_INFO</code> for each SQL command in the batch
    prior to the failure for JDBC drivers that stop processing after a command
    failure
    @param cause the underlying reason for this <code>SQLException</code>
    (which is saved for later retrieval by the <code>getCause()</code> method);
    may be null indicating the cause is non-existent or unknown.
    @since 1.8</p></div>
<a id="L431" name="L431"></a> 431   <strong class="reserved">public</strong> BatchUpdateException(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> reason, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SQLState, <strong class="reserved">int</strong> vendorCode,
<a id="L432" name="L432"></a> 432           <strong class="reserved">long</strong> []updateCounts,<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433       <strong class="reserved">super</strong>(reason, SQLState, vendorCode, cause);
<a id="L434" name="L434"></a> 434       <strong class="reserved">this</strong>.longUpdateCounts  = (updateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(updateCounts, updateCounts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L435" name="L435"></a> 435       <strong class="reserved">this</strong>.updateCounts = (longUpdateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../D/13530.html" title="Multiple defined in 2 places.">copyUpdateCount</a>(longUpdateCounts);
<a id="L436" name="L436"></a> 436   <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<div class="comment">
    Retrieves the update count for each update statement in the batch
    update that executed successfully before this exception occurred.
    A driver that implements batch updates may or may not continue to
    process the remaining commands in a batch when one of the commands
    fails to execute properly. If the driver continues processing commands,
    the array returned by this method will have as many elements as
    there are commands in the batch; otherwise, it will contain an
    update count for each command that executed successfully before
    the <code>BatchUpdateException</code> was thrown.
    <p>
    This method should be used when <code>Statement.executeLargeBatch</code> is
    invoked and the returned update count may exceed {@link Integer#MAX_VALUE}.
    </p><p>
    @return an array of <code>long</code> containing the update counts
    for the updates that were executed successfully before this error
    occurred.  Or, if the driver continues to process commands after an
    error, one of the following for every command in the batch:
    </p><ol>
    <li>an update count
     </li><li><code>Statement.SUCCESS_NO_INFO</code> to indicate that the command
        executed successfully but the number of rows affected is unknown
     </li><li><code>Statement.EXECUTE_FAILED</code> to indicate that the command
        failed to execute successfully
    </li></ol>
    @since 1.8</div>
<a id="L465" name="L465"></a> 465   <strong class="reserved">public</strong> <strong class="reserved">long</strong>[] getLargeUpdateCounts() <em class="brace">{</em>
<a id="L466" name="L466"></a> 466       <strong class="reserved">return</strong> (longUpdateCounts == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> :
<a id="L467" name="L467"></a> 467               <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(longUpdateCounts, longUpdateCounts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L468" name="L468"></a> 468   <em class="brace">}</em>
<a id="L469" name="L469"></a> 469 
<div class="comment">
    The array that describes the outcome of a batch execution.
    @serial
    @since 1.2</div>
<a id="L475" name="L475"></a> 475   <strong class="reserved">private</strong>  <strong class="reserved">int</strong>[] updateCounts;
<a id="L476" name="L476"></a> 476 
<div class="comment">
    Starting with Java SE 8, JDBC has added support for returning an update
    count &gt; Integer.MAX_VALUE.  Because of this the following changes were made
    to BatchUpdateException:
    <ul><li>Add field longUpdateCounts</li><li>Add Constructorr which takes long[] for update counts</li><li>Add getLargeUpdateCounts method</li>
    </ul>
    When any of the constructors are called, the int[] and long[] updateCount
    fields are populated by copying the one array to each other.
    As the JDBC driver passes in the updateCounts, there has always been the
    possiblity for overflow and BatchUpdateException does not need to account
    for that, it simply copies the arrays.
    JDBC drivers should always use the constructor that specifies long[] and
    JDBC application developers should call getLargeUpdateCounts.</div>
<a id="L496" name="L496"></a> 496 
<div class="comment">
    The array that describes the outcome of a batch execution.
    @serial
    @since 1.8</div>
<a id="L502" name="L502"></a> 502   <strong class="reserved">private</strong>  <strong class="reserved">long</strong>[] longUpdateCounts;
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504   <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 5977529877145521757L;
<a id="L505" name="L505"></a> 505 
<div class="comment">
    Utility method to copy int[] updateCount to long[] updateCount</div>
<a id="L509" name="L509"></a> 509   <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong>[] <a href="../R/12141.html" title="Multiple referred from 5 places.">copyUpdateCount</a>(<strong class="reserved">int</strong>[] uc) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510       <strong class="reserved">long</strong>[] <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[uc.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L511" name="L511"></a> 511       <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i= 0; i&lt; uc.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512           <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>[i] = uc[i];
<a id="L513" name="L513"></a> 513       <em class="brace">}</em>
<a id="L514" name="L514"></a> 514       <strong class="reserved">return</strong> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>;
<a id="L515" name="L515"></a> 515   <em class="brace">}</em>
<a id="L516" name="L516"></a> 516 
<div class="comment">
    Utility method to copy long[] updateCount to int[] updateCount.
    No checks for overflow will be done as it is expected a  user will call
    getLargeUpdateCounts.</div>
<a id="L522" name="L522"></a> 522   <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] <a href="../R/12141.html" title="Multiple referred from 5 places.">copyUpdateCount</a>(<strong class="reserved">long</strong>[] uc) <em class="brace">{</em>
<a id="L523" name="L523"></a> 523       <strong class="reserved">int</strong>[] <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[uc.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L524" name="L524"></a> 524       <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i= 0; i&lt; uc.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L525" name="L525"></a> 525           <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>[i] = (<strong class="reserved">int</strong>) uc[i];
<a id="L526" name="L526"></a> 526       <em class="brace">}</em>
<a id="L527" name="L527"></a> 527       <strong class="reserved">return</strong> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>;
<a id="L528" name="L528"></a> 528   <em class="brace">}</em>
<div class="comment">
      readObject is called to restore the state of the
      <code>BatchUpdateException</code> from a stream.</div>
<a id="L533" name="L533"></a> 533     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L534" name="L534"></a> 534             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L535" name="L535"></a> 535 
<a id="L536" name="L536"></a> 536        <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L537" name="L537"></a> 537        <strong class="reserved">int</strong>[] tmp = (<strong class="reserved">int</strong>[])<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("updateCounts", <strong class="reserved">null</strong>);
<a id="L538" name="L538"></a> 538        <strong class="reserved">long</strong>[] tmp2 = (<strong class="reserved">long</strong>[])<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("longUpdateCounts", <strong class="reserved">null</strong>);
<a id="L539" name="L539"></a> 539        <strong class="reserved">if</strong>(tmp != <strong class="reserved">null</strong> &amp;&amp; tmp2 != <strong class="reserved">null</strong> &amp;&amp; tmp.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != tmp2.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L540" name="L540"></a> 540            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("update counts are not the expected size");
<a id="L541" name="L541"></a> 541        <strong class="reserved">if</strong> (tmp != <strong class="reserved">null</strong>)
<a id="L542" name="L542"></a> 542            updateCounts = tmp.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L543" name="L543"></a> 543        <strong class="reserved">if</strong> (tmp2 != <strong class="reserved">null</strong>)
<a id="L544" name="L544"></a> 544            longUpdateCounts = tmp2.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L545" name="L545"></a> 545        <strong class="reserved">if</strong>(updateCounts == <strong class="reserved">null</strong> &amp;&amp; longUpdateCounts != <strong class="reserved">null</strong>)
<a id="L546" name="L546"></a> 546            updateCounts = <a href="../D/13530.html" title="Multiple defined in 2 places.">copyUpdateCount</a>(longUpdateCounts);
<a id="L547" name="L547"></a> 547        <strong class="reserved">if</strong>(longUpdateCounts == <strong class="reserved">null</strong> &amp;&amp; updateCounts != <strong class="reserved">null</strong>)
<a id="L548" name="L548"></a> 548            longUpdateCounts = <a href="../D/13530.html" title="Multiple defined in 2 places.">copyUpdateCount</a>(updateCounts);
<a id="L549" name="L549"></a> 549 
<a id="L550" name="L550"></a> 550     <em class="brace">}</em>
<a id="L551" name="L551"></a> 551 
<div class="comment">
      writeObject is called to save the state of the <code>BatchUpdateException</code>
      to a stream.</div>
<a id="L556" name="L556"></a> 556     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L557" name="L557"></a> 557             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L558" name="L558"></a> 558 
<a id="L559" name="L559"></a> 559         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L560" name="L560"></a> 560         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("updateCounts", updateCounts);
<a id="L561" name="L561"></a> 561         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("longUpdateCounts", longUpdateCounts);
<a id="L562" name="L562"></a> 562         s.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L563" name="L563"></a> 563     <em class="brace">}</em>
<a id="L564" name="L564"></a> 564 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L402">[^]</a><a href="#L556">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>