<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/parsers/XMLGrammarPreparser.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L153">[^]</a><a href="#L337">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L153" title="Defined at 153.">registerPreparser</a></li>
<li><a href="#L189" title="Defined at 189.">preparseGrammar</a></li>
<li><a href="#L218" title="Defined at 218.">setLocale</a></li>
<li><a href="#L224" title="Defined at 224.">getLocale</a></li>
<li><a href="#L234" title="Defined at 234.">setErrorHandler</a></li>
<li><a href="#L239" title="Defined at 239.">getErrorHandler</a></li>
<li><a href="#L248" title="Defined at 248.">setEntityResolver</a></li>
<li><a href="#L253" title="Defined at 253.">getEntityResolver</a></li>
<li><a href="#L262" title="Defined at 262.">setGrammarPool</a></li>
<li><a href="#L267" title="Defined at 267.">getGrammarPool</a></li>
<li><a href="#L273" title="Defined at 273.">getLoader</a></li>
<li><a href="#L282" title="Defined at 282.">setFeature</a></li>
<li><a href="#L306" title="Defined at 306.">setProperty</a></li>
<li><a href="#L324" title="Defined at 324.">getFeature</a></li>
<li><a href="#L337" title="Defined at 337.">getProperty</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001, 2002,2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.parsers;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.io.IOException;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.util.Locale;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.Constants;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.XMLEntityManager;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.XMLErrorReporter;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.SymbolTable;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XNIException;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.grammars.Grammar;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.grammars.XMLGrammarDescription;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.grammars.XMLGrammarLoader;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.grammars.XMLGrammarPool;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.parser.XMLEntityResolver;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.parser.XMLErrorHandler;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.parser.XMLInputSource;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.utils.ObjectFactory;
<a id="L41" name="L41"></a>  41 
<div class="comment">
  <p> This class provides an easy way for a user to preparse grammars
  of various types.  By default, it knows how to preparse external
  DTD's and schemas; it provides an easy way for user applications to
  register classes that know how to parse additional grammar types.
  By default, it does no grammar caching; but it provides ways for
  user applications to do so.
  @author Neil Graham, IBM
  @version $Id: XMLGrammarPreparser.java,v 1.7 2010-11-01 04:40:10 joehw Exp $</p></div>
<a id="L54" name="L54"></a>  54 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/9022.html" title="Multiple referred from 2 places.">XMLGrammarPreparser</a> <em class="brace">{</em>
<a id="L55" name="L55"></a>  55 
<a id="L56" name="L56"></a>  56     <em class="comment">//</em>
<a id="L57" name="L57"></a>  57     <em class="comment">// Constants</em>
<a id="L58" name="L58"></a>  58     <em class="comment">//</em>
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60     <em class="comment">// feature:  continue-after-fatal-error</em>
<a id="L61" name="L61"></a>  61     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> CONTINUE_AFTER_FATAL_ERROR =
<a id="L62" name="L62"></a>  62         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_FEATURE_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.CONTINUE_AFTER_FATAL_ERROR_FEATURE;
<a id="L63" name="L63"></a>  63 
<div class="comment">
     /** Property identifier: symbol table. */</div>
<a id="L65" name="L65"></a>  65     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SYMBOL_TABLE =
<a id="L66" name="L66"></a>  66         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SYMBOL_TABLE_PROPERTY;
<a id="L67" name="L67"></a>  67 
<div class="comment">
     /** Property identifier: error reporter. */</div>
<a id="L69" name="L69"></a>  69     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ERROR_REPORTER =
<a id="L70" name="L70"></a>  70         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ERROR_REPORTER_PROPERTY;
<a id="L71" name="L71"></a>  71 
<div class="comment">
     /** Property identifier: error handler. */</div>
<a id="L73" name="L73"></a>  73     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ERROR_HANDLER =
<a id="L74" name="L74"></a>  74         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ERROR_HANDLER_PROPERTY;
<a id="L75" name="L75"></a>  75 
<div class="comment">
     /** Property identifier: entity resolver. */</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ENTITY_RESOLVER =
<a id="L78" name="L78"></a>  78         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ENTITY_RESOLVER_PROPERTY;
<a id="L79" name="L79"></a>  79 
<div class="comment">
     /** Property identifier: grammar pool . */</div>
<a id="L81" name="L81"></a>  81     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> GRAMMAR_POOL =
<a id="L82" name="L82"></a>  82         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XMLGRAMMAR_POOL_PROPERTY;
<a id="L83" name="L83"></a>  83 
<a id="L84" name="L84"></a>  84     <em class="comment">// the "built-in" grammar loaders</em>
<a id="L85" name="L85"></a>  85     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> KNOWN_LOADERS = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L86" name="L86"></a>  86 
<a id="L87" name="L87"></a>  87     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L88" name="L88"></a>  88         KNOWN_LOADERS.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/5514.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarDescription.java.">XMLGrammarDescription</a>.XML_SCHEMA,
<a id="L89" name="L89"></a>  89             "com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader");
<a id="L90" name="L90"></a>  90         KNOWN_LOADERS.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/5514.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarDescription.java.">XMLGrammarDescription</a>.XML_DTD,
<a id="L91" name="L91"></a>  91             "com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDLoader");
<a id="L92" name="L92"></a>  92     <em class="brace">}</em>
<a id="L93" name="L93"></a>  93 
<div class="comment">
     /** Recognized properties. */</div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] RECOGNIZED_PROPERTIES = <em class="brace">{</em>
<a id="L96" name="L96"></a>  96         SYMBOL_TABLE,
<a id="L97" name="L97"></a>  97         ERROR_REPORTER,
<a id="L98" name="L98"></a>  98         ERROR_HANDLER,
<a id="L99" name="L99"></a>  99         ENTITY_RESOLVER,
<a id="L100" name="L100"></a> 100         GRAMMAR_POOL,
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>;
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     <em class="comment">// Data</em>
<a id="L104" name="L104"></a> 104     <strong class="reserved">protected</strong> <a href="../D/8572.html" title="Multiple defined in 2 places.">SymbolTable</a> fSymbolTable;
<a id="L105" name="L105"></a> 105     <strong class="reserved">protected</strong> <a href="../S/5041.html#L116" title="Defined at 116 in src/com/sun/org/apache/xerces/internal/impl/XMLErrorReporter.java.">XMLErrorReporter</a> fErrorReporter;
<a id="L106" name="L106"></a> 106     <strong class="reserved">protected</strong> <a href="../S/5504.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLEntityResolver.java.">XMLEntityResolver</a> fEntityResolver;
<a id="L107" name="L107"></a> 107     <strong class="reserved">protected</strong> <a href="../S/5516.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarPool.java.">XMLGrammarPool</a> fGrammarPool;
<a id="L108" name="L108"></a> 108 
<a id="L109" name="L109"></a> 109     <strong class="reserved">protected</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> fLocale;
<a id="L110" name="L110"></a> 110 
<a id="L111" name="L111"></a> 111     <em class="comment">// Hashtable holding our loaders</em>
<a id="L112" name="L112"></a> 112     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> fLoaders;
<a id="L113" name="L113"></a> 113 
<a id="L114" name="L114"></a> 114     <em class="comment">//</em>
<a id="L115" name="L115"></a> 115     <em class="comment">// Constructors</em>
<a id="L116" name="L116"></a> 116     <em class="comment">//</em>
<a id="L117" name="L117"></a> 117 
<div class="comment">
     /** Default constructor. */</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">public</strong> XMLGrammarPreparser() <em class="brace">{</em>
<a id="L120" name="L120"></a> 120         <strong class="reserved">this</strong>(<strong class="reserved">new</strong> <a href="../D/8572.html" title="Multiple defined in 2 places.">SymbolTable</a>());
<a id="L121" name="L121"></a> 121     <em class="brace">}</em> <em class="comment">// &lt;init&gt;()</em>
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Constructs a preparser using the specified symbol table.
      @param symbolTable The symbol table to use.</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">public</strong> XMLGrammarPreparser (<a href="../D/8572.html" title="Multiple defined in 2 places.">SymbolTable</a> symbolTable) <em class="brace">{</em>
<a id="L129" name="L129"></a> 129         fSymbolTable = symbolTable;
<a id="L130" name="L130"></a> 130 
<a id="L131" name="L131"></a> 131         fLoaders = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L132" name="L132"></a> 132         fErrorReporter = <strong class="reserved">new</strong> <a href="../S/5041.html#L116" title="Defined at 116 in src/com/sun/org/apache/xerces/internal/impl/XMLErrorReporter.java.">XMLErrorReporter</a>();
<a id="L133" name="L133"></a> 133         <a href="../D/33132.html" title="Multiple defined in 36 places.">setLocale</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>());
<a id="L134" name="L134"></a> 134         fEntityResolver = <strong class="reserved">new</strong> <a href="../S/5242.html#L88" title="Defined at 88 in src/com/sun/org/apache/xerces/internal/impl/XMLEntityManager.java.">XMLEntityManager</a>();
<a id="L135" name="L135"></a> 135         <em class="comment">// those are all the basic properties...</em>
<a id="L136" name="L136"></a> 136     <em class="brace">}</em> <em class="comment">// &lt;init&gt;(SymbolTable)</em>
<a id="L137" name="L137"></a> 137 
<a id="L138" name="L138"></a> 138     <em class="comment">//</em>
<a id="L139" name="L139"></a> 139     <em class="comment">// Public methods</em>
<a id="L140" name="L140"></a> 140     <em class="comment">//</em>
<a id="L141" name="L141"></a> 141 
<div class="comment">
     Register a type of grammar to make it preparsable.   If
     the second parameter is null, the parser will use its  built-in
     facilities for that grammar type.
     This should be called by the application immediately
     after creating this object and before initializing any properties/features.
     @param type   URI identifying the type of the grammar
     @param loader an object capable of preparsing that type; null if the ppreparser should use built-in knowledge.
     @return true if successful; false if no built-in knowledge of
           the type or if unable to instantiate the string we know about</div>
<a id="L153" name="L153"></a> 153     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/5428.html#L694" title="Referred from 694 in src/com/sun/org/apache/xerces/internal/dom/DOMNormalizer.java.">registerPreparser</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> grammarType, <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> loader) <em class="brace">{</em>
<a id="L154" name="L154"></a> 154         <strong class="reserved">if</strong>(loader == <strong class="reserved">null</strong>) <em class="brace">{</em> <em class="comment">// none specified!</em>
<a id="L155" name="L155"></a> 155             <strong class="reserved">if</strong>(KNOWN_LOADERS.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(grammarType)) <em class="brace">{</em>
<a id="L156" name="L156"></a> 156                 <em class="comment">// got one; just instantiate it...</em>
<a id="L157" name="L157"></a> 157                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> loaderName = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)KNOWN_LOADERS.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(grammarType);
<a id="L158" name="L158"></a> 158                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L159" name="L159"></a> 159                     <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> gl = (<a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a>)(<a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(loaderName, <strong class="reserved">true</strong>));
<a id="L160" name="L160"></a> 160                     fLoaders.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(grammarType, gl);
<a id="L161" name="L161"></a> 161                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L163" name="L163"></a> 163                 <em class="brace">}</em>
<a id="L164" name="L164"></a> 164                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L165" name="L165"></a> 165             <em class="brace">}</em>
<a id="L166" name="L166"></a> 166             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L167" name="L167"></a> 167         <em class="brace">}</em>
<a id="L168" name="L168"></a> 168         <em class="comment">// were given one</em>
<a id="L169" name="L169"></a> 169         fLoaders.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(grammarType, loader);
<a id="L170" name="L170"></a> 170         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L171" name="L171"></a> 171     <em class="brace">}</em> <em class="comment">// registerPreparser(String, XMLGrammarLoader):  boolean</em>
<a id="L172" name="L172"></a> 172 
<div class="comment">
      Parse a grammar from a location identified by an
      XMLInputSource.
      This method also adds this grammar to the XMLGrammarPool
      @param type The type of the grammar to be constructed
      @param is The XMLInputSource containing this grammar's
      information
      <strong>If a URI is included in the systemId field, the parser will not expand this URI or make it
      available to the EntityResolver</strong>
      @return The newly created <code>Grammar</code>.
      @exception XNIException thrown on an error in grammar
      construction
      @exception IOException thrown if an error is encountered
      in reading the file</div>
<a id="L189" name="L189"></a> 189     <strong class="reserved">public</strong> <a href="../S/5511.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/xni/grammars/Grammar.java.">Grammar</a> <a href="../R/24951.html" title="Multiple referred from 2 places.">preparseGrammar</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/5494.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLInputSource.java.">XMLInputSource</a>
<a id="L190" name="L190"></a> 190                 <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L191" name="L191"></a> 191         <strong class="reserved">if</strong>(fLoaders.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)) <em class="brace">{</em>
<a id="L192" name="L192"></a> 192             <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> gl = (<a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a>)fLoaders.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L193" name="L193"></a> 193             <em class="comment">// make sure gl's been set up with all the "basic" properties:</em>
<a id="L194" name="L194"></a> 194             gl.<a href="../D/33622.html" title="Multiple defined in 81 places.">setProperty</a>(SYMBOL_TABLE, fSymbolTable);
<a id="L195" name="L195"></a> 195             gl.<a href="../D/33622.html" title="Multiple defined in 81 places.">setProperty</a>(ENTITY_RESOLVER, fEntityResolver);
<a id="L196" name="L196"></a> 196             gl.<a href="../D/33622.html" title="Multiple defined in 81 places.">setProperty</a>(ERROR_REPORTER, fErrorReporter);
<a id="L197" name="L197"></a> 197             <em class="comment">// potentially, not all will support this one...</em>
<a id="L198" name="L198"></a> 198             <strong class="reserved">if</strong>(fGrammarPool != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L200" name="L200"></a> 200                     gl.<a href="../D/33622.html" title="Multiple defined in 81 places.">setProperty</a>(GRAMMAR_POOL, fGrammarPool);
<a id="L201" name="L201"></a> 201                 <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202                     <em class="comment">// too bad...</em>
<a id="L203" name="L203"></a> 203                 <em class="brace">}</em>
<a id="L204" name="L204"></a> 204             <em class="brace">}</em>
<a id="L205" name="L205"></a> 205             <strong class="reserved">return</strong> gl.<a href="../D/26929.html" title="Multiple defined in 4 places.">loadGrammar</a>(<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>);
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L208" name="L208"></a> 208     <em class="brace">}</em> <em class="comment">// preparseGrammar(String, XMLInputSource):  Grammar</em>
<a id="L209" name="L209"></a> 209 
<div class="comment">
      Set the locale to use for messages.
      @param locale The locale object to use for localization of messages.
      @exception XNIException Thrown if the parser does not support the
                              specified locale.</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27688.html" title="Multiple referred from 47 places.">setLocale</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219         fLocale = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L220" name="L220"></a> 220         fErrorReporter.<a href="../D/33132.html" title="Multiple defined in 36 places.">setLocale</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L221" name="L221"></a> 221     <em class="brace">}</em> <em class="comment">// setLocale(Locale)</em>
<a id="L222" name="L222"></a> 222 
<div class="comment">
     /** Return the Locale the XMLGrammarLoader is using. */</div>
<a id="L224" name="L224"></a> 224     <strong class="reserved">public</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/17438.html" title="Multiple referred from 191 places.">getLocale</a>() <em class="brace">{</em>
<a id="L225" name="L225"></a> 225         <strong class="reserved">return</strong> fLocale;
<a id="L226" name="L226"></a> 226     <em class="brace">}</em> <em class="comment">// getLocale():  Locale</em>
<a id="L227" name="L227"></a> 227 
<a id="L228" name="L228"></a> 228 
<div class="comment">
      Sets the error handler.
      @param errorHandler The error handler.</div>
<a id="L234" name="L234"></a> 234     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27345.html" title="Multiple referred from 43 places.">setErrorHandler</a>(<a href="../S/5508.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLErrorHandler.java.">XMLErrorHandler</a> errorHandler) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235         fErrorReporter.<a href="../D/33622.html" title="Multiple defined in 81 places.">setProperty</a>(ERROR_HANDLER, errorHandler);
<a id="L236" name="L236"></a> 236     <em class="brace">}</em> <em class="comment">// setErrorHandler(XMLErrorHandler)</em>
<a id="L237" name="L237"></a> 237 
<div class="comment">
     /** Returns the registered error handler.  */</div>
<a id="L239" name="L239"></a> 239     <strong class="reserved">public</strong> <a href="../S/5508.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLErrorHandler.java.">XMLErrorHandler</a> <a href="../R/16431.html" title="Multiple referred from 39 places.">getErrorHandler</a>() <em class="brace">{</em>
<a id="L240" name="L240"></a> 240         <strong class="reserved">return</strong> fErrorReporter.<a href="../D/18849.html" title="Multiple defined in 37 places.">getErrorHandler</a>();
<a id="L241" name="L241"></a> 241     <em class="brace">}</em> <em class="comment">// getErrorHandler():  XMLErrorHandler</em>
<a id="L242" name="L242"></a> 242 
<div class="comment">
      Sets the entity resolver.
      @param entityResolver The new entity resolver.</div>
<a id="L248" name="L248"></a> 248     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27337.html" title="Multiple referred from 40 places.">setEntityResolver</a>(<a href="../S/5504.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLEntityResolver.java.">XMLEntityResolver</a> entityResolver) <em class="brace">{</em>
<a id="L249" name="L249"></a> 249         fEntityResolver = entityResolver;
<a id="L250" name="L250"></a> 250     <em class="brace">}</em> <em class="comment">// setEntityResolver(XMLEntityResolver)</em>
<a id="L251" name="L251"></a> 251 
<div class="comment">
     /** Returns the registered entity resolver.  */</div>
<a id="L253" name="L253"></a> 253     <strong class="reserved">public</strong> <a href="../S/5504.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLEntityResolver.java.">XMLEntityResolver</a> <a href="../R/16392.html" title="Multiple referred from 19 places.">getEntityResolver</a>() <em class="brace">{</em>
<a id="L254" name="L254"></a> 254         <strong class="reserved">return</strong> fEntityResolver;
<a id="L255" name="L255"></a> 255     <em class="brace">}</em> <em class="comment">// getEntityResolver():  XMLEntityResolver</em>
<a id="L256" name="L256"></a> 256 
<div class="comment">
      Sets the grammar pool.
      @param grammarPool The new grammar pool.</div>
<a id="L262" name="L262"></a> 262     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27478.html" title="Multiple referred from 2 places.">setGrammarPool</a>(<a href="../S/5516.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarPool.java.">XMLGrammarPool</a> grammarPool) <em class="brace">{</em>
<a id="L263" name="L263"></a> 263         fGrammarPool = grammarPool;
<a id="L264" name="L264"></a> 264     <em class="brace">}</em> <em class="comment">// setGrammarPool(XMLGrammarPool)</em>
<a id="L265" name="L265"></a> 265 
<div class="comment">
     /** Returns the registered grammar pool.  */</div>
<a id="L267" name="L267"></a> 267     <strong class="reserved">public</strong> <a href="../S/5516.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarPool.java.">XMLGrammarPool</a> <a href="../R/16804.html" title="Multiple referred from 2 places.">getGrammarPool</a>() <em class="brace">{</em>
<a id="L268" name="L268"></a> 268         <strong class="reserved">return</strong> fGrammarPool;
<a id="L269" name="L269"></a> 269     <em class="brace">}</em> <em class="comment">// getGrammarPool():  XMLGrammarPool</em>
<a id="L270" name="L270"></a> 270 
<a id="L271" name="L271"></a> 271     <em class="comment">// it's possible the application may want access to a certain loader to do</em>
<a id="L272" name="L272"></a> 272     <em class="comment">// some custom work.</em>
<a id="L273" name="L273"></a> 273     <strong class="reserved">public</strong> <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> <a href="../R/17404.html" title="Multiple referred from 10 places.">getLoader</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274         <strong class="reserved">return</strong> (<a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a>)fLoaders.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L275" name="L275"></a> 275     <em class="brace">}</em> <em class="comment">// getLoader(String):  XMLGrammarLoader</em>
<a id="L276" name="L276"></a> 276 
<a id="L277" name="L277"></a> 277     <em class="comment">// set a feature.  This method tries to set it on all</em>
<a id="L278" name="L278"></a> 278     <em class="comment">// registered loaders; it eats any resulting exceptions.  If</em>
<a id="L279" name="L279"></a> 279     <em class="comment">// an app needs to know if a particular feature is supported</em>
<a id="L280" name="L280"></a> 280     <em class="comment">// by a grammar loader of a particular type, it will have</em>
<a id="L281" name="L281"></a> 281     <em class="comment">// to retrieve that loader and use the loader's setFeature method.</em>
<a id="L282" name="L282"></a> 282     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27391.html" title="Multiple referred from 223 places.">setFeature</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> featureId, <strong class="reserved">boolean</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> loaders = fLoaders.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L284" name="L284"></a> 284         <strong class="reserved">while</strong>(loaders.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>())<em class="brace">{</em>
<a id="L285" name="L285"></a> 285             <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> gl = (<a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a>)loaders.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L286" name="L286"></a> 286             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L287" name="L287"></a> 287                 gl.<a href="../D/32684.html" title="Multiple defined in 62 places.">setFeature</a>(featureId, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L288" name="L288"></a> 288             <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L289" name="L289"></a> 289                 <em class="comment">// eat it up...</em>
<a id="L290" name="L290"></a> 290             <em class="brace">}</em>
<a id="L291" name="L291"></a> 291         <em class="brace">}</em>
<a id="L292" name="L292"></a> 292         <em class="comment">// since our error reporter is a property we set later,</em>
<a id="L293" name="L293"></a> 293         <em class="comment">// make sure features it understands are also set.</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">if</strong>(featureId.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(CONTINUE_AFTER_FATAL_ERROR)) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295             fErrorReporter.<a href="../D/32684.html" title="Multiple defined in 62 places.">setFeature</a>(CONTINUE_AFTER_FATAL_ERROR, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L296" name="L296"></a> 296         <em class="brace">}</em>
<a id="L297" name="L297"></a> 297     <em class="brace">}</em> <em class="comment">//setFeature(String, boolean)</em>
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299     <em class="comment">// set a property.  This method tries to set it on all</em>
<a id="L300" name="L300"></a> 300     <em class="comment">// registered loaders; it eats any resulting exceptions.  If</em>
<a id="L301" name="L301"></a> 301     <em class="comment">// an app needs to know if a particular property is supported</em>
<a id="L302" name="L302"></a> 302     <em class="comment">// by a grammar loader of a particular type, it will have</em>
<a id="L303" name="L303"></a> 303     <em class="comment">// to retrieve that loader and use the loader's setProperty method.</em>
<a id="L304" name="L304"></a> 304     <em class="comment">// &lt;p&gt; &lt;strong&gt;An application should use the explicit method</em>
<a id="L305" name="L305"></a> 305     <em class="comment">// in this class to set "standard" properties like error handler etc.&lt;/strong&gt;</em>
<a id="L306" name="L306"></a> 306     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27976.html" title="Multiple referred from 343 places.">setProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propId, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> loaders = fLoaders.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L308" name="L308"></a> 308         <strong class="reserved">while</strong>(loaders.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>())<em class="brace">{</em>
<a id="L309" name="L309"></a> 309             <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> gl = (<a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a>)loaders.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L310" name="L310"></a> 310             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L311" name="L311"></a> 311                 gl.<a href="../D/33622.html" title="Multiple defined in 81 places.">setProperty</a>(propId, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L312" name="L312"></a> 312             <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L313" name="L313"></a> 313                 <em class="comment">// eat it up...</em>
<a id="L314" name="L314"></a> 314             <em class="brace">}</em>
<a id="L315" name="L315"></a> 315         <em class="brace">}</em>
<a id="L316" name="L316"></a> 316     <em class="brace">}</em> <em class="comment">//setProperty(String, Object)</em>
<a id="L317" name="L317"></a> 317 
<a id="L318" name="L318"></a> 318     <em class="comment">// get status of feature in a particular loader.  This</em>
<a id="L319" name="L319"></a> 319     <em class="comment">// catches no exceptions--including NPE's--so the application had</em>
<a id="L320" name="L320"></a> 320     <em class="comment">// better make sure the loader exists and knows about this feature.</em>
<a id="L321" name="L321"></a> 321     <em class="comment">// @param type type of grammar to look for the feature in.</em>
<a id="L322" name="L322"></a> 322     <em class="comment">// @param featureId the feature string to query.</em>
<a id="L323" name="L323"></a> 323     <em class="comment">// @return the value of the feature.</em>
<a id="L324" name="L324"></a> 324     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/16538.html" title="Multiple referred from 145 places.">getFeature</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> featureId) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325         <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> gl = (<a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a>)fLoaders.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L326" name="L326"></a> 326         <strong class="reserved">return</strong> gl.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a>(featureId);
<a id="L327" name="L327"></a> 327     <em class="brace">}</em> <em class="comment">// getFeature (String, String):  boolean</em>
<a id="L328" name="L328"></a> 328 
<a id="L329" name="L329"></a> 329     <em class="comment">// get status of property in a particular loader.  This</em>
<a id="L330" name="L330"></a> 330     <em class="comment">// catches no exceptions--including NPE's--so the application had</em>
<a id="L331" name="L331"></a> 331     <em class="comment">// better make sure the loader exists and knows about this property.</em>
<a id="L332" name="L332"></a> 332     <em class="comment">// &lt;strong&gt;For standard properties--that will be supported</em>
<a id="L333" name="L333"></a> 333     <em class="comment">// by all loaders--the specific methods should be queried!&lt;/strong&gt;</em>
<a id="L334" name="L334"></a> 334     <em class="comment">// @param type type of grammar to look for the property in.</em>
<a id="L335" name="L335"></a> 335     <em class="comment">// @param propertyId the property string to query.</em>
<a id="L336" name="L336"></a> 336     <em class="comment">// @return the value of the property.</em>
<a id="L337" name="L337"></a> 337     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/18510.html" title="Multiple referred from 728 places.">getProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propertyId) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338         <a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a> gl = (<a href="../S/5512.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/xni/grammars/XMLGrammarLoader.java.">XMLGrammarLoader</a>)fLoaders.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L339" name="L339"></a> 339         <strong class="reserved">return</strong> gl.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(propertyId);
<a id="L340" name="L340"></a> 340     <em class="brace">}</em> <em class="comment">// getProperty(String, String):  Object</em>
<a id="L341" name="L341"></a> 341 <em class="brace">}</em> <em class="comment">// class XMLGrammarPreparser</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L153">[^]</a><a href="#L337">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>