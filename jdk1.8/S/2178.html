<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/EventQueue.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L187">[^]</a><a href="#L1346">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L187" title="Defined at 187.">getEventLog</a></li>
<li><a href="#L260" title="Defined at 260.">postEvent</a></li>
<li><a href="#L274" title="Defined at 274.">postEventPrivate</a></li>
<li><a href="#L296" title="Defined at 296.">getPriority</a></li>
<li><a href="#L324" title="Defined at 324.">postEvent</a></li>
<li><a href="#L358" title="Defined at 358.">coalescePaintEvent</a></li>
<li><a href="#L379" title="Defined at 379.">mergePaintEvents</a></li>
<li><a href="#L391" title="Defined at 391.">coalesceMouseEvent</a></li>
<li><a href="#L404" title="Defined at 404.">coalescePeerEvent</a></li>
<li><a href="#L429" title="Defined at 429.">coalesceOtherEvent</a></li>
<li><a href="#L448" title="Defined at 448.">coalesceEvent</a></li>
<li><a href="#L470" title="Defined at 470.">cacheEQItem</a></li>
<li><a href="#L481" title="Defined at 481.">uncacheEQItem</a></li>
<li><a href="#L499" title="Defined at 499.">eventToCacheIndex</a></li>
<li><a href="#L521" title="Defined at 521.">noEvents</a></li>
<li><a href="#L539" title="Defined at 539.">getNextEvent</a></li>
<li><a href="#L564" title="Defined at 564.">getNextEventPrivate</a></li>
<li><a href="#L579" title="Defined at 579.">getNextEvent</a></li>
<li><a href="#L621" title="Defined at 621.">peekEvent</a></li>
<li><a href="#L642" title="Defined at 642.">peekEvent</a></li>
<li><a href="#L701" title="Defined at 701.">dispatchEvent</a></li>
<li><a href="#L738" title="Defined at 738.">getAccessControlContextFrom</a></li>
<li><a href="#L751" title="Defined at 751.">dispatchEventImpl</a></li>
<li><a href="#L803" title="Defined at 803.">getMostRecentEventTime</a></li>
<li><a href="#L806" title="Defined at 806.">getMostRecentEventTimeImpl</a></li>
<li><a href="#L820" title="Defined at 820.">getMostRecentEventTimeEx</a></li>
<li><a href="#L841" title="Defined at 841.">getCurrentEvent</a></li>
<li><a href="#L844" title="Defined at 844.">getCurrentEventImpl</a></li>
<li><a href="#L866" title="Defined at 866.">push</a></li>
<li><a href="#L931" title="Defined at 931.">pop</a></li>
<li><a href="#L997" title="Defined at 997.">createSecondaryLoop</a></li>
<li><a href="#L1001" title="Defined at 1001.">createSecondaryLoop</a></li>
<li><a href="#L1040" title="Defined at 1040.">isDispatchThread</a></li>
<li><a href="#L1045" title="Defined at 1045.">isDispatchThreadImpl</a></li>
<li><a href="#L1063" title="Defined at 1063.">initDispatchThread</a></li>
<li><a href="#L1089" title="Defined at 1089.">detachDispatchThread</a></li>
<li><a href="#L1129" title="Defined at 1129.">getDispatchThread</a></li>
<li><a href="#L1150" title="Defined at 1150.">removeSourceEvents</a></li>
<li><a href="#L1195" title="Defined at 1195.">getMostRecentKeyEventTime</a></li>
<li><a href="#L1204" title="Defined at 1204.">setCurrentEventAndMostRecentTime</a></li>
<li><a href="#L1207" title="Defined at 1207.">setCurrentEventAndMostRecentTimeImpl</a></li>
<li><a href="#L1263" title="Defined at 1263.">invokeLater</a></li>
<li><a href="#L1291" title="Defined at 1291.">invokeAndWait</a></li>
<li><a href="#L1297" title="Defined at 1297.">invokeAndWait</a></li>
<li><a href="#L1329" title="Defined at 1329.">wakeup</a></li>
<li><a href="#L1346" title="Defined at 1346.">setFwDispatcher</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1996, 2014, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.event.*;
<a id="L29" name="L29"></a>  29 
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.peer.ComponentPeer;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.lang.reflect.InvocationTargetException;
<a id="L34" name="L34"></a>  34 
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L37" name="L37"></a>  37 
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.EmptyStackException;
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> sun.awt.*;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> sun.awt.dnd.SunDropTargetEvent;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> sun.util.logging.PlatformLogger;
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.concurrent.locks.Condition;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.concurrent.locks.Lock;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.concurrent.atomic.AtomicInteger;
<a id="L47" name="L47"></a>  47 
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.security.AccessControlContext;
<a id="L49" name="L49"></a>  49 
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> sun.misc.SharedSecrets;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> sun.misc.JavaSecurityAccess;
<a id="L52" name="L52"></a>  52 
<div class="comment">
  <code>EventQueue</code> is a platform-independent class
  that queues events, both from the underlying peer classes
  and from trusted application classes.
  <p>
  It encapsulates asynchronous event dispatch machinery which
  extracts events from the queue and dispatches them by calling
  {@link #dispatchEvent(AWTEvent) dispatchEvent(AWTEvent)} method
  on this <code>EventQueue</code> with the event to be dispatched
  as an argument.  The particular behavior of this machinery is
  implementation-dependent.  The only requirements are that events
  which were actually enqueued to this queue (note that events
  being posted to the <code>EventQueue</code> can be coalesced)
  are dispatched:
  </p><dl>
    <dt> Sequentially.
    </dt><dd> That is, it is not permitted that several events from
         this queue are dispatched simultaneously.
    </dd><dt> In the same order as they are enqueued.
    </dt><dd> That is, if <code>AWTEvent</code>&nbsp;A is enqueued
         to the <code>EventQueue</code> before
         <code>AWTEvent</code>&nbsp;B then event B will not be
         dispatched before event A.
  </dd></dl>
  <p>
  Some browsers partition applets in different code bases into
  separate contexts, and establish walls between these contexts.
  In such a scenario, there will be one <code>EventQueue</code>
  per context. Other browsers place all applets into the same
  context, implying that there will be only a single, global
  <code>EventQueue</code> for all applets. This behavior is
  implementation-dependent.  Consult your browser's documentation
  for more information.
  </p><p>
  For information on the threading issues of the event dispatch
  machinery, see <a href="doc-files/AWTThreadIssues.html#Autoshutdown">AWT Threading Issues</a>.
  @author Thomas Ball
  @author Fred Ecks
  @author David Mendenhall
  @since       1.1</p></div>
<a id="L97" name="L97"></a>  97 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/2749.html" title="Multiple referred from 83 places.">EventQueue</a> <em class="brace">{</em>
<a id="L98" name="L98"></a>  98     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1089.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicInteger.java.">AtomicInteger</a> threadInitNumber = <strong class="reserved">new</strong> <a href="../S/1089.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicInteger.java.">AtomicInteger</a>(0);
<a id="L99" name="L99"></a>  99 
<a id="L100" name="L100"></a> 100     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> LOW_PRIORITY = 0;
<a id="L101" name="L101"></a> 101     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NORM_PRIORITY = 1;
<a id="L102" name="L102"></a> 102     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> HIGH_PRIORITY = 2;
<a id="L103" name="L103"></a> 103     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> ULTIMATE_PRIORITY = 3;
<a id="L104" name="L104"></a> 104 
<a id="L105" name="L105"></a> 105     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;
<a id="L106" name="L106"></a> 106 
<div class="comment">
      We maintain one Queue for each priority that the EventQueue supports.
      That is, the EventQueue object is actually implemented as
      NUM_PRIORITIES queues and all Events on a particular internal Queue
      have identical priority. Events are pulled off the EventQueue starting
      with the Queue of highest priority. We progress in decreasing order
      across all Queues.</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">private</strong> <a href="../D/6991.html" title="Multiple defined in 3 places.">Queue</a>[] queues = <strong class="reserved">new</strong> <a href="../D/6991.html" title="Multiple defined in 3 places.">Queue</a>[NUM_PRIORITIES];
<a id="L116" name="L116"></a> 116 
<div class="comment">
      The next EventQueue on the stack, or null if this EventQueue is
      on the top of the stack.  If nextQueue is non-null, requests to post
      an event are forwarded to nextQueue.</div>
<a id="L122" name="L122"></a> 122     <strong class="reserved">private</strong> <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> nextQueue;
<a id="L123" name="L123"></a> 123 
<div class="comment">
      The previous EventQueue on the stack, or null if this is the
      "base" EventQueue.</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> previousQueue;
<a id="L129" name="L129"></a> 129 
<div class="comment">
      A single lock to synchronize the push()/pop() and related operations with
      all the EventQueues from the AppContext. Synchronization on any particular
      event queue(s) is not enough: we should lock the whole stack.</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5200.html" title="Multiple defined in 4 places.">Lock</a> pushPopLock;
<a id="L136" name="L136"></a> 136     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1049.html#L179" title="Defined at 179 in src/java/util/concurrent/locks/Condition.java.">Condition</a> pushPopCond;
<a id="L137" name="L137"></a> 137 
<div class="comment">
      Dummy runnable to wake up EDT from getNextEvent() after
     push/pop is performed</div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> dummyRunnable = <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L143" name="L143"></a> 143         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L144" name="L144"></a> 144         <em class="brace">}</em>
<a id="L145" name="L145"></a> 145     <em class="brace">}</em>;
<a id="L146" name="L146"></a> 146 
<a id="L147" name="L147"></a> 147     <strong class="reserved">private</strong> <a href="../D/2988.html" title="Multiple defined in 2 places.">EventDispatchThread</a> dispatchThread;
<a id="L148" name="L148"></a> 148 
<a id="L149" name="L149"></a> 149     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1756.html#L57" title="Defined at 57 in src/java/lang/ThreadGroup.java.">ThreadGroup</a> threadGroup =
<a id="L150" name="L150"></a> 150         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/23094.html" title="Multiple defined in 4 places.">getThreadGroup</a>();
<a id="L151" name="L151"></a> 151     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> classLoader =
<a id="L152" name="L152"></a> 152         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/17977.html" title="Multiple defined in 21 places.">getContextClassLoader</a>();
<a id="L153" name="L153"></a> 153 
<div class="comment">
      The time stamp of the last dispatched InputEvent or ActionEvent.</div>
<a id="L157" name="L157"></a> 157     <strong class="reserved">private</strong> <strong class="reserved">long</strong> mostRecentEventTime = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L158" name="L158"></a> 158 
<div class="comment">
      The time stamp of the last KeyEvent .</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">private</strong> <strong class="reserved">long</strong> mostRecentKeyEventTime = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L163" name="L163"></a> 163 
<div class="comment">
      The modifiers field of the current event, if the current event is an
      InputEvent or ActionEvent.</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">private</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a>&gt; currentEvent;
<a id="L169" name="L169"></a> 169 
<div class="comment">
      Non-zero if a thread is waiting in getNextEvent(int) for an event of
      a particular ID to be posted to the queue.</div>
<a id="L174" name="L174"></a> 174     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">int</strong> <a href="../D/36784.html" title="Multiple defined in 2 places.">waitForID</a>;
<a id="L175" name="L175"></a> 175 
<div class="comment">
      AppContext corresponding to the queue.</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">private</strong> <strong class="reserved">final</strong> AppContext appContext;
<a id="L180" name="L180"></a> 180 
<a id="L181" name="L181"></a> 181     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = "AWT-EventQueue-" + threadInitNumber.<a href="../D/16942.html" title="Multiple defined in 8 places.">getAndIncrement</a>();
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183     <strong class="reserved">private</strong> FwDispatcher fwDispatcher;
<a id="L184" name="L184"></a> 184 
<a id="L185" name="L185"></a> 185     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> PlatformLogger eventLog;
<a id="L186" name="L186"></a> 186 
<a id="L187" name="L187"></a> 187     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> PlatformLogger <a href="../R/16449.html" title="Multiple referred from 10 places.">getEventLog</a>() <em class="brace">{</em>
<a id="L188" name="L188"></a> 188         <strong class="reserved">if</strong>(eventLog == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L189" name="L189"></a> 189             eventLog = PlatformLogger.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>("java.awt.event.EventQueue");
<a id="L190" name="L190"></a> 190         <em class="brace">}</em>
<a id="L191" name="L191"></a> 191         <strong class="reserved">return</strong> eventLog;
<a id="L192" name="L192"></a> 192     <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<a id="L194" name="L194"></a> 194     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L195" name="L195"></a> 195         AWTAccessor.setEventQueueAccessor(
<a id="L196" name="L196"></a> 196             <strong class="reserved">new</strong> AWTAccessor.EventQueueAccessor() <em class="brace">{</em>
<a id="L197" name="L197"></a> 197                 <strong class="reserved">public</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> <a href="../S/2178.html#L1129" title="Defined at 1129 in src/java/awt/EventQueue.java.">getDispatchThread</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198                     <strong class="reserved">return</strong> eventQueue.<a href="../S/2178.html#L1129" title="Defined at 1129 in src/java/awt/EventQueue.java.">getDispatchThread</a>();
<a id="L199" name="L199"></a> 199                 <em class="brace">}</em>
<a id="L200" name="L200"></a> 200                 <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/2178.html#L1045" title="Defined at 1045 in src/java/awt/EventQueue.java.">isDispatchThreadImpl</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue) <em class="brace">{</em>
<a id="L201" name="L201"></a> 201                     <strong class="reserved">return</strong> eventQueue.<a href="../S/2178.html#L1045" title="Defined at 1045 in src/java/awt/EventQueue.java.">isDispatchThreadImpl</a>();
<a id="L202" name="L202"></a> 202                 <em class="brace">}</em>
<a id="L203" name="L203"></a> 203                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2178.html#L1150" title="Defined at 1150 in src/java/awt/EventQueue.java.">removeSourceEvents</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue,
<a id="L204" name="L204"></a> 204                                                <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>,
<a id="L205" name="L205"></a> 205                                                <strong class="reserved">boolean</strong> removeAllEvents)
<a id="L206" name="L206"></a> 206                 <em class="brace">{</em>
<a id="L207" name="L207"></a> 207                     eventQueue.<a href="../S/2178.html#L1150" title="Defined at 1150 in src/java/awt/EventQueue.java.">removeSourceEvents</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, removeAllEvents);
<a id="L208" name="L208"></a> 208                 <em class="brace">}</em>
<a id="L209" name="L209"></a> 209                 <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/2178.html#L521" title="Defined at 521 in src/java/awt/EventQueue.java.">noEvents</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210                     <strong class="reserved">return</strong> eventQueue.<a href="../S/2178.html#L521" title="Defined at 521 in src/java/awt/EventQueue.java.">noEvents</a>();
<a id="L211" name="L211"></a> 211                 <em class="brace">}</em>
<a id="L212" name="L212"></a> 212                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/36800.html" title="Multiple defined in 2 places.">wakeup</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue, <strong class="reserved">boolean</strong> <a href="../D/26240.html" title="Multiple defined in 5 places.">isShutdown</a>) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213                     eventQueue.<a href="../D/36800.html" title="Multiple defined in 2 places.">wakeup</a>(<a href="../D/26240.html" title="Multiple defined in 5 places.">isShutdown</a>);
<a id="L214" name="L214"></a> 214                 <em class="brace">}</em>
<a id="L215" name="L215"></a> 215                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/25053.html" title="Multiple defined in 3 places.">invokeAndWait</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> r)
<a id="L216" name="L216"></a> 216                     <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>, <a href="../S/1671.html#L42" title="Defined at 42 in src/java/lang/reflect/InvocationTargetException.java.">InvocationTargetException</a>
<a id="L217" name="L217"></a> 217                 <em class="brace">{</em>
<a id="L218" name="L218"></a> 218                     <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../D/25053.html" title="Multiple defined in 3 places.">invokeAndWait</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, r);
<a id="L219" name="L219"></a> 219                 <em class="brace">}</em>
<a id="L220" name="L220"></a> 220                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2178.html#L1346" title="Defined at 1346 in src/java/awt/EventQueue.java.">setFwDispatcher</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue,
<a id="L221" name="L221"></a> 221                                             FwDispatcher dispatcher) <em class="brace">{</em>
<a id="L222" name="L222"></a> 222                     eventQueue.<a href="../S/2178.html#L1346" title="Defined at 1346 in src/java/awt/EventQueue.java.">setFwDispatcher</a>(dispatcher);
<a id="L223" name="L223"></a> 223                 <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L226" name="L226"></a> 226                 <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../S/2178.html#L803" title="Defined at 803 in src/java/awt/EventQueue.java.">getMostRecentEventTime</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227                     <strong class="reserved">return</strong> eventQueue.<a href="../S/2178.html#L806" title="Defined at 806 in src/java/awt/EventQueue.java.">getMostRecentEventTimeImpl</a>();
<a id="L228" name="L228"></a> 228                 <em class="brace">}</em>
<a id="L229" name="L229"></a> 229             <em class="brace">}</em>);
<a id="L230" name="L230"></a> 230     <em class="brace">}</em>
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232     <strong class="reserved">public</strong> EventQueue() <em class="brace">{</em>
<a id="L233" name="L233"></a> 233         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; NUM_PRIORITIES; i++) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234             queues[i] = <strong class="reserved">new</strong> <a href="../D/6991.html" title="Multiple defined in 3 places.">Queue</a>();
<a id="L235" name="L235"></a> 235         <em class="brace">}</em>
<div class="comment">
          NOTE: if you ever have to start the associated event dispatch
          thread at this point, be aware of the following problem:
          If this EventQueue instance is created in
          SunToolkit.createNewAppContext() the started dispatch thread
          may call AppContext.getAppContext() before createNewAppContext()
          completes thus causing mess in thread group to appcontext mapping.</div>
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245         appContext = AppContext.getAppContext();
<a id="L246" name="L246"></a> 246         pushPopLock = (<a href="../D/5200.html" title="Multiple defined in 4 places.">Lock</a>)appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(AppContext.EVENT_QUEUE_LOCK_KEY);
<a id="L247" name="L247"></a> 247         pushPopCond = (<a href="../S/1049.html#L179" title="Defined at 179 in src/java/util/concurrent/locks/Condition.java.">Condition</a>)appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(AppContext.EVENT_QUEUE_COND_KEY);
<a id="L248" name="L248"></a> 248     <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<div class="comment">
      Posts a 1.1-style event to the <code>EventQueue</code>.
      If there is an existing event on the queue with the same ID
      and event source, the source <code>Component</code>'s
      <code>coalesceEvents</code> method will be called.
      @param theEvent an instance of <code>java.awt.AWTEvent</code>,
               or a subclass of it
      @throws NullPointerException if <code>theEvent</code> is <code>null</code></div>
<a id="L260" name="L260"></a> 260     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24857.html" title="Multiple referred from 38 places.">postEvent</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> theEvent) <em class="brace">{</em>
<a id="L261" name="L261"></a> 261         SunToolkit.flushPendingEvents(appContext);
<a id="L262" name="L262"></a> 262         <a href="../S/2178.html#L274" title="Defined at 274 in src/java/awt/EventQueue.java.">postEventPrivate</a>(theEvent);
<a id="L263" name="L263"></a> 263     <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<div class="comment">
      Posts a 1.1-style event to the <code>EventQueue</code>.
      If there is an existing event on the queue with the same ID
      and event source, the source <code>Component</code>'s
      <code>coalesceEvents</code> method will be called.
      @param theEvent an instance of <code>java.awt.AWTEvent</code>,
               or a subclass of it</div>
<a id="L274" name="L274"></a> 274     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/24858.html" title="Multiple referred from 6 places.">postEventPrivate</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> theEvent) <em class="brace">{</em>
<a id="L275" name="L275"></a> 275         theEvent.isPosted = <strong class="reserved">true</strong>;
<a id="L276" name="L276"></a> 276         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L277" name="L277"></a> 277         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L278" name="L278"></a> 278             <strong class="reserved">if</strong> (nextQueue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279                 <em class="comment">// Forward the event to the top of EventQueue stack</em>
<a id="L280" name="L280"></a> 280                 nextQueue.<a href="../S/2178.html#L274" title="Defined at 274 in src/java/awt/EventQueue.java.">postEventPrivate</a>(theEvent);
<a id="L281" name="L281"></a> 281                 <strong class="reserved">return</strong>;
<a id="L282" name="L282"></a> 282             <em class="brace">}</em>
<a id="L283" name="L283"></a> 283             <strong class="reserved">if</strong> (dispatchThread == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284                 <strong class="reserved">if</strong> (theEvent.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() == AWTAutoShutdown.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>()) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285                     <strong class="reserved">return</strong>;
<a id="L286" name="L286"></a> 286                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L287" name="L287"></a> 287                     <a href="../S/2178.html#L1063" title="Defined at 1063 in src/java/awt/EventQueue.java.">initDispatchThread</a>();
<a id="L288" name="L288"></a> 288                 <em class="brace">}</em>
<a id="L289" name="L289"></a> 289             <em class="brace">}</em>
<a id="L290" name="L290"></a> 290             <a href="../D/29484.html" title="Multiple defined in 6 places.">postEvent</a>(theEvent, <a href="../D/21675.html" title="Multiple defined in 8 places.">getPriority</a>(theEvent));
<a id="L291" name="L291"></a> 291         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L292" name="L292"></a> 292             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L293" name="L293"></a> 293         <em class="brace">}</em>
<a id="L294" name="L294"></a> 294     <em class="brace">}</em>
<a id="L295" name="L295"></a> 295 
<a id="L296" name="L296"></a> 296     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/18481.html" title="Multiple referred from 18 places.">getPriority</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> theEvent) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297         <strong class="reserved">if</strong> (theEvent <strong class="reserved">instanceof</strong> PeerEvent) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             PeerEvent peerEvent = (PeerEvent)theEvent;
<a id="L299" name="L299"></a> 299             <strong class="reserved">if</strong> ((peerEvent.<a href="../D/19132.html" title="Multiple defined in 7 places.">getFlags</a>() &amp; PeerEvent.ULTIMATE_PRIORITY_EVENT) != 0) <em class="brace">{</em>
<a id="L300" name="L300"></a> 300                 <strong class="reserved">return</strong> ULTIMATE_PRIORITY;
<a id="L301" name="L301"></a> 301             <em class="brace">}</em>
<a id="L302" name="L302"></a> 302             <strong class="reserved">if</strong> ((peerEvent.<a href="../D/19132.html" title="Multiple defined in 7 places.">getFlags</a>() &amp; PeerEvent.PRIORITY_EVENT) != 0) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303                 <strong class="reserved">return</strong> HIGH_PRIORITY;
<a id="L304" name="L304"></a> 304             <em class="brace">}</em>
<a id="L305" name="L305"></a> 305             <strong class="reserved">if</strong> ((peerEvent.<a href="../D/19132.html" title="Multiple defined in 7 places.">getFlags</a>() &amp; PeerEvent.LOW_PRIORITY_EVENT) != 0) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306                 <strong class="reserved">return</strong> LOW_PRIORITY;
<a id="L307" name="L307"></a> 307             <em class="brace">}</em>
<a id="L308" name="L308"></a> 308         <em class="brace">}</em>
<a id="L309" name="L309"></a> 309         <strong class="reserved">int</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = theEvent.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>();
<a id="L310" name="L310"></a> 310         <strong class="reserved">if</strong> ((<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> &gt;= <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a>.PAINT_FIRST) &amp;&amp; (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> &lt;= <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a>.PAINT_LAST)) <em class="brace">{</em>
<a id="L311" name="L311"></a> 311             <strong class="reserved">return</strong> LOW_PRIORITY;
<a id="L312" name="L312"></a> 312         <em class="brace">}</em>
<a id="L313" name="L313"></a> 313         <strong class="reserved">return</strong> NORM_PRIORITY;
<a id="L314" name="L314"></a> 314     <em class="brace">}</em>
<a id="L315" name="L315"></a> 315 
<div class="comment">
      Posts the event to the internal Queue of specified priority,
      coalescing as appropriate.
      @param theEvent an instance of <code>java.awt.AWTEvent</code>,
               or a subclass of it
      @param priority  the desired priority of the event</div>
<a id="L324" name="L324"></a> 324     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/24857.html" title="Multiple referred from 38 places.">postEvent</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> theEvent, <strong class="reserved">int</strong> priority) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325         <strong class="reserved">if</strong> (<a href="../S/2178.html#L448" title="Defined at 448 in src/java/awt/EventQueue.java.">coalesceEvent</a>(theEvent, priority)) <em class="brace">{</em>
<a id="L326" name="L326"></a> 326             <strong class="reserved">return</strong>;
<a id="L327" name="L327"></a> 327         <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<a id="L329" name="L329"></a> 329         EventQueueItem newItem = <strong class="reserved">new</strong> EventQueueItem(theEvent);
<a id="L330" name="L330"></a> 330 
<a id="L331" name="L331"></a> 331         <a href="../S/2178.html#L470" title="Defined at 470 in src/java/awt/EventQueue.java.">cacheEQItem</a>(newItem);
<a id="L332" name="L332"></a> 332 
<a id="L333" name="L333"></a> 333         <strong class="reserved">boolean</strong> notifyID = (theEvent.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>() == <strong class="reserved">this</strong>.<a href="../D/36784.html" title="Multiple defined in 2 places.">waitForID</a>);
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335         <strong class="reserved">if</strong> (queues[priority].head == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336             <strong class="reserved">boolean</strong> shouldNotify = <a href="../S/2178.html#L521" title="Defined at 521 in src/java/awt/EventQueue.java.">noEvents</a>();
<a id="L337" name="L337"></a> 337             queues[priority].head = queues[priority].tail = newItem;
<a id="L338" name="L338"></a> 338 
<a id="L339" name="L339"></a> 339             <strong class="reserved">if</strong> (shouldNotify) <em class="brace">{</em>
<a id="L340" name="L340"></a> 340                 <strong class="reserved">if</strong> (theEvent.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() != AWTAutoShutdown.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>()) <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                     AWTAutoShutdown.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>().notifyThreadBusy(dispatchThread);
<a id="L342" name="L342"></a> 342                 <em class="brace">}</em>
<a id="L343" name="L343"></a> 343                 pushPopCond.<a href="../D/34559.html" title="Multiple defined in 3 places.">signalAll</a>();
<a id="L344" name="L344"></a> 344             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (notifyID) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345                 pushPopCond.<a href="../D/34559.html" title="Multiple defined in 3 places.">signalAll</a>();
<a id="L346" name="L346"></a> 346             <em class="brace">}</em>
<a id="L347" name="L347"></a> 347         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L348" name="L348"></a> 348             <em class="comment">// The event was not coalesced or has non-Component source.</em>
<a id="L349" name="L349"></a> 349             <em class="comment">// Insert it at the end of the appropriate Queue.</em>
<a id="L350" name="L350"></a> 350             queues[priority].tail.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = newItem;
<a id="L351" name="L351"></a> 351             queues[priority].tail = newItem;
<a id="L352" name="L352"></a> 352             <strong class="reserved">if</strong> (notifyID) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353                 pushPopCond.<a href="../D/34559.html" title="Multiple defined in 3 places.">signalAll</a>();
<a id="L354" name="L354"></a> 354             <em class="brace">}</em>
<a id="L355" name="L355"></a> 355         <em class="brace">}</em>
<a id="L356" name="L356"></a> 356     <em class="brace">}</em>
<a id="L357" name="L357"></a> 357 
<a id="L358" name="L358"></a> 358     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/11620.html" title="Multiple referred from 2 places.">coalescePaintEvent</a>(<a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a> e) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359         <a href="../S/2204.html#L52" title="Defined at 52 in src/java/awt/peer/ComponentPeer.java.">ComponentPeer</a> sourcePeer = ((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>()).peer;
<a id="L360" name="L360"></a> 360         <strong class="reserved">if</strong> (sourcePeer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361             sourcePeer.<a href="../D/12957.html" title="Multiple defined in 2 places.">coalescePaintEvent</a>(e);
<a id="L362" name="L362"></a> 362         <em class="brace">}</em>
<a id="L363" name="L363"></a> 363         EventQueueItem[] <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> = ((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>()).eventCache;
<a id="L364" name="L364"></a> 364         <strong class="reserved">if</strong> (<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L366" name="L366"></a> 366         <em class="brace">}</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../S/2178.html#L499" title="Defined at 499 in src/java/awt/EventQueue.java.">eventToCacheIndex</a>(e);
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1 &amp;&amp; <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370             <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a> merged = <a href="../S/2178.html#L379" title="Defined at 379 in src/java/awt/EventQueue.java.">mergePaintEvents</a>(e, (<a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a>)<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>].event);
<a id="L371" name="L371"></a> 371             <strong class="reserved">if</strong> (merged != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L372" name="L372"></a> 372                 <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>].event = merged;
<a id="L373" name="L373"></a> 373                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L374" name="L374"></a> 374             <em class="brace">}</em>
<a id="L375" name="L375"></a> 375         <em class="brace">}</em>
<a id="L376" name="L376"></a> 376         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L377" name="L377"></a> 377     <em class="brace">}</em>
<a id="L378" name="L378"></a> 378 
<a id="L379" name="L379"></a> 379     <strong class="reserved">private</strong> <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a> <a href="../S/2178.html#L370" title="Referred from 370 in src/java/awt/EventQueue.java.">mergePaintEvents</a>(<a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a> b) <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> aRect = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../S/2400.html#L112" title="Defined at 112 in src/java/awt/event/PaintEvent.java.">getUpdateRect</a>();
<a id="L381" name="L381"></a> 381         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> bRect = b.<a href="../S/2400.html#L112" title="Defined at 112 in src/java/awt/event/PaintEvent.java.">getUpdateRect</a>();
<a id="L382" name="L382"></a> 382         <strong class="reserved">if</strong> (bRect.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(aRect)) <em class="brace">{</em>
<a id="L383" name="L383"></a> 383             <strong class="reserved">return</strong> b;
<a id="L384" name="L384"></a> 384         <em class="brace">}</em>
<a id="L385" name="L385"></a> 385         <strong class="reserved">if</strong> (aRect.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(bRect)) <em class="brace">{</em>
<a id="L386" name="L386"></a> 386             <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L387" name="L387"></a> 387         <em class="brace">}</em>
<a id="L388" name="L388"></a> 388         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L389" name="L389"></a> 389     <em class="brace">}</em>
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/2178.html#L465" title="Referred from 465 in src/java/awt/EventQueue.java.">coalesceMouseEvent</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L392" name="L392"></a> 392         EventQueueItem[] <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> = ((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>()).eventCache;
<a id="L393" name="L393"></a> 393         <strong class="reserved">if</strong> (<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L394" name="L394"></a> 394             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L395" name="L395"></a> 395         <em class="brace">}</em>
<a id="L396" name="L396"></a> 396         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../S/2178.html#L499" title="Defined at 499 in src/java/awt/EventQueue.java.">eventToCacheIndex</a>(e);
<a id="L397" name="L397"></a> 397         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1 &amp;&amp; <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L398" name="L398"></a> 398             <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>].event = e;
<a id="L399" name="L399"></a> 399             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L400" name="L400"></a> 400         <em class="brace">}</em>
<a id="L401" name="L401"></a> 401         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L402" name="L402"></a> 402     <em class="brace">}</em>
<a id="L403" name="L403"></a> 403 
<a id="L404" name="L404"></a> 404     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/2178.html#L453" title="Referred from 453 in src/java/awt/EventQueue.java.">coalescePeerEvent</a>(PeerEvent e) <em class="brace">{</em>
<a id="L405" name="L405"></a> 405         EventQueueItem[] <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> = ((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>()).eventCache;
<a id="L406" name="L406"></a> 406         <strong class="reserved">if</strong> (<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L408" name="L408"></a> 408         <em class="brace">}</em>
<a id="L409" name="L409"></a> 409         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../S/2178.html#L499" title="Defined at 499 in src/java/awt/EventQueue.java.">eventToCacheIndex</a>(e);
<a id="L410" name="L410"></a> 410         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1 &amp;&amp; <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411             e = e.<a href="../S/2177.html#L6264" title="Defined at 6264 in src/java/awt/Component.java.">coalesceEvents</a>((PeerEvent)<a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>].event);
<a id="L412" name="L412"></a> 412             <strong class="reserved">if</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                 <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>].event = e;
<a id="L414" name="L414"></a> 414                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L415" name="L415"></a> 415             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L416" name="L416"></a> 416                 <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] = <strong class="reserved">null</strong>;
<a id="L417" name="L417"></a> 417             <em class="brace">}</em>
<a id="L418" name="L418"></a> 418         <em class="brace">}</em>
<a id="L419" name="L419"></a> 419         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<div class="comment">
      Should avoid of calling this method by any means
      as it's working time is dependant on EQ length.
      In the wors case this method alone can slow down the entire application
      10 times by stalling the Event processing.
      Only here by backward compatibility reasons.</div>
<a id="L429" name="L429"></a> 429     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/2178.html#L457" title="Referred from 457 in src/java/awt/EventQueue.java.">coalesceOtherEvent</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> e, <strong class="reserved">int</strong> priority) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">int</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = e.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>();
<a id="L431" name="L431"></a> 431         <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = (<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L432" name="L432"></a> 432         <strong class="reserved">for</strong> (EventQueueItem entry = queues[priority].head;
<a id="L433" name="L433"></a> 433             entry != <strong class="reserved">null</strong>; entry = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>)
<a id="L434" name="L434"></a> 434         <em class="brace">{</em>
<a id="L435" name="L435"></a> 435             <em class="comment">// Give Component.coalesceEvents a chance</em>
<a id="L436" name="L436"></a> 436             <strong class="reserved">if</strong> (entry.event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() == <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> &amp;&amp; entry.event.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>() == <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437                 <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> coalescedEvent = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../S/2177.html#L6264" title="Defined at 6264 in src/java/awt/Component.java.">coalesceEvents</a>(
<a id="L438" name="L438"></a> 438                     entry.event, e);
<a id="L439" name="L439"></a> 439                 <strong class="reserved">if</strong> (coalescedEvent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440                     entry.event = coalescedEvent;
<a id="L441" name="L441"></a> 441                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L442" name="L442"></a> 442                 <em class="brace">}</em>
<a id="L443" name="L443"></a> 443             <em class="brace">}</em>
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L446" name="L446"></a> 446     <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<a id="L448" name="L448"></a> 448     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/2178.html#L325" title="Referred from 325 in src/java/awt/EventQueue.java.">coalesceEvent</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> e, <strong class="reserved">int</strong> priority) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449         <strong class="reserved">if</strong> (!(e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() <strong class="reserved">instanceof</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)) <em class="brace">{</em>
<a id="L450" name="L450"></a> 450             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L451" name="L451"></a> 451         <em class="brace">}</em>
<a id="L452" name="L452"></a> 452         <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> PeerEvent) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453             <strong class="reserved">return</strong> <a href="../S/2178.html#L404" title="Defined at 404 in src/java/awt/EventQueue.java.">coalescePeerEvent</a>((PeerEvent)e);
<a id="L454" name="L454"></a> 454         <em class="brace">}</em>
<a id="L455" name="L455"></a> 455         <em class="comment">// The worst case</em>
<a id="L456" name="L456"></a> 456         <strong class="reserved">if</strong> (((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>()).<a href="../S/2177.html#L6233" title="Defined at 6233 in src/java/awt/Component.java.">isCoalescingEnabled</a>()
<a id="L457" name="L457"></a> 457             &amp;&amp; <a href="../S/2178.html#L429" title="Defined at 429 in src/java/awt/EventQueue.java.">coalesceOtherEvent</a>(e, priority))
<a id="L458" name="L458"></a> 458         <em class="brace">{</em>
<a id="L459" name="L459"></a> 459             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L460" name="L460"></a> 460         <em class="brace">}</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a>) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <strong class="reserved">return</strong> <a href="../D/12957.html" title="Multiple defined in 2 places.">coalescePaintEvent</a>((<a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a>)e);
<a id="L463" name="L463"></a> 463         <em class="brace">}</em>
<a id="L464" name="L464"></a> 464         <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465             <strong class="reserved">return</strong> <a href="../S/2178.html#L391" title="Defined at 391 in src/java/awt/EventQueue.java.">coalesceMouseEvent</a>((<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>)e);
<a id="L466" name="L466"></a> 466         <em class="brace">}</em>
<a id="L467" name="L467"></a> 467         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L468" name="L468"></a> 468     <em class="brace">}</em>
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/2178.html#L331" title="Referred from 331 in src/java/awt/EventQueue.java.">cacheEQItem</a>(EventQueueItem entry) <em class="brace">{</em>
<a id="L471" name="L471"></a> 471         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../S/2178.html#L499" title="Defined at 499 in src/java/awt/EventQueue.java.">eventToCacheIndex</a>(entry.event);
<a id="L472" name="L472"></a> 472         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1 &amp;&amp; entry.event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() <strong class="reserved">instanceof</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>) <em class="brace">{</em>
<a id="L473" name="L473"></a> 473             <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = (<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)entry.event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L474" name="L474"></a> 474             <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.eventCache == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475                 <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.eventCache = <strong class="reserved">new</strong> EventQueueItem[CACHE_LENGTH];
<a id="L476" name="L476"></a> 476             <em class="brace">}</em>
<a id="L477" name="L477"></a> 477             <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.eventCache[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] = entry;
<a id="L478" name="L478"></a> 478         <em class="brace">}</em>
<a id="L479" name="L479"></a> 479     <em class="brace">}</em>
<a id="L480" name="L480"></a> 480 
<a id="L481" name="L481"></a> 481     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/29617.html" title="Multiple referred from 3 places.">uncacheEQItem</a>(EventQueueItem entry) <em class="brace">{</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../S/2178.html#L499" title="Defined at 499 in src/java/awt/EventQueue.java.">eventToCacheIndex</a>(entry.event);
<a id="L483" name="L483"></a> 483         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1 &amp;&amp; entry.event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() <strong class="reserved">instanceof</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484             <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = (<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)entry.event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L485" name="L485"></a> 485             <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.eventCache == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L486" name="L486"></a> 486                 <strong class="reserved">return</strong>;
<a id="L487" name="L487"></a> 487             <em class="brace">}</em>
<a id="L488" name="L488"></a> 488             <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.eventCache[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] = <strong class="reserved">null</strong>;
<a id="L489" name="L489"></a> 489         <em class="brace">}</em>
<a id="L490" name="L490"></a> 490     <em class="brace">}</em>
<a id="L491" name="L491"></a> 491 
<a id="L492" name="L492"></a> 492     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PAINT = 0;
<a id="L493" name="L493"></a> 493     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> UPDATE = 1;
<a id="L494" name="L494"></a> 494     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MOVE = 2;
<a id="L495" name="L495"></a> 495     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DRAG = 3;
<a id="L496" name="L496"></a> 496     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PEER = 4;
<a id="L497" name="L497"></a> 497     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CACHE_LENGTH = 5;
<a id="L498" name="L498"></a> 498 
<a id="L499" name="L499"></a> 499     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/14057.html" title="Multiple referred from 5 places.">eventToCacheIndex</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> e) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500         <strong class="reserved">switch</strong>(e.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>()) <em class="brace">{</em>
<a id="L501" name="L501"></a> 501         <strong class="reserved">case</strong> <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a>.PAINT:
<a id="L502" name="L502"></a> 502             <strong class="reserved">return</strong> PAINT;
<a id="L503" name="L503"></a> 503         <strong class="reserved">case</strong> <a href="../S/2400.html#L47" title="Defined at 47 in src/java/awt/event/PaintEvent.java.">PaintEvent</a>.UPDATE:
<a id="L504" name="L504"></a> 504             <strong class="reserved">return</strong> UPDATE;
<a id="L505" name="L505"></a> 505         <strong class="reserved">case</strong> <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>.MOUSE_MOVED:
<a id="L506" name="L506"></a> 506             <strong class="reserved">return</strong> MOVE;
<a id="L507" name="L507"></a> 507         <strong class="reserved">case</strong> <a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a>.MOUSE_DRAGGED:
<a id="L508" name="L508"></a> 508             <em class="comment">// Return -1 for SunDropTargetEvent since they are usually synchronous</em>
<a id="L509" name="L509"></a> 509             <em class="comment">// and we don't want to skip them by coalescing with MouseEvent or other drag events</em>
<a id="L510" name="L510"></a> 510             <strong class="reserved">return</strong> e <strong class="reserved">instanceof</strong> SunDropTargetEvent ? -1 : DRAG;
<a id="L511" name="L511"></a> 511         <strong class="reserved">default</strong>:
<a id="L512" name="L512"></a> 512             <strong class="reserved">return</strong> e <strong class="reserved">instanceof</strong> PeerEvent ? PEER : -1;
<a id="L513" name="L513"></a> 513         <em class="brace">}</em>
<a id="L514" name="L514"></a> 514     <em class="brace">}</em>
<a id="L515" name="L515"></a> 515 
<div class="comment">
      Returns whether an event is pending on any of the separate
      Queues.
      @return whether an event is pending on any of the separate Queues</div>
<a id="L521" name="L521"></a> 521     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/23717.html" title="Multiple referred from 4 places.">noEvents</a>() <em class="brace">{</em>
<a id="L522" name="L522"></a> 522         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; NUM_PRIORITIES; i++) <em class="brace">{</em>
<a id="L523" name="L523"></a> 523             <strong class="reserved">if</strong> (queues[i].head != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L525" name="L525"></a> 525             <em class="brace">}</em>
<a id="L526" name="L526"></a> 526         <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<a id="L528" name="L528"></a> 528         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L529" name="L529"></a> 529     <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<div class="comment">
      Removes an event from the <code>EventQueue</code> and
      returns it.  This method will block until an event has
      been posted by another thread.
      @return the next <code>AWTEvent</code>
      @exception InterruptedException
                 if any thread has interrupted this thread</div>
<a id="L539" name="L539"></a> 539     <strong class="reserved">public</strong> <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> <a href="../R/17914.html" title="Multiple referred from 2 places.">getNextEvent</a>() <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L540" name="L540"></a> 540         <strong class="reserved">do</strong> <em class="brace">{</em>
<div class="comment">
              SunToolkit.flushPendingEvents must be called outside
              of the synchronized block to avoid deadlock when
              event queues are nested with push()/pop().</div>
<a id="L546" name="L546"></a> 546             SunToolkit.flushPendingEvents(appContext);
<a id="L547" name="L547"></a> 547             pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L548" name="L548"></a> 548             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L549" name="L549"></a> 549                 <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> event = <a href="../S/2178.html#L564" title="Defined at 564 in src/java/awt/EventQueue.java.">getNextEventPrivate</a>();
<a id="L550" name="L550"></a> 550                 <strong class="reserved">if</strong> (event != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L551" name="L551"></a> 551                     <strong class="reserved">return</strong> event;
<a id="L552" name="L552"></a> 552                 <em class="brace">}</em>
<a id="L553" name="L553"></a> 553                 AWTAutoShutdown.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>().notifyThreadFree(dispatchThread);
<a id="L554" name="L554"></a> 554                 pushPopCond.<a href="../D/11670.html" title="Multiple defined in 11 places.">await</a>();
<a id="L555" name="L555"></a> 555             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L556" name="L556"></a> 556                 pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L557" name="L557"></a> 557             <em class="brace">}</em>
<a id="L558" name="L558"></a> 558         <em class="brace">}</em> <strong class="reserved">while</strong>(<strong class="reserved">true</strong>);
<a id="L559" name="L559"></a> 559     <em class="brace">}</em>
<a id="L560" name="L560"></a> 560 
<div class="comment">
      Must be called under the lock. Doesn't call flushPendingEvents()</div>
<a id="L564" name="L564"></a> 564     <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> <a href="../R/17915.html" title="Multiple referred from 3 places.">getNextEventPrivate</a>() <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L565" name="L565"></a> 565         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = NUM_PRIORITIES - 1; i &gt;= 0; i--) <em class="brace">{</em>
<a id="L566" name="L566"></a> 566             <strong class="reserved">if</strong> (queues[i].head != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567                 EventQueueItem entry = queues[i].head;
<a id="L568" name="L568"></a> 568                 queues[i].head = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L569" name="L569"></a> 569                 <strong class="reserved">if</strong> (entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L570" name="L570"></a> 570                     queues[i].tail = <strong class="reserved">null</strong>;
<a id="L571" name="L571"></a> 571                 <em class="brace">}</em>
<a id="L572" name="L572"></a> 572                 <a href="../S/2178.html#L481" title="Defined at 481 in src/java/awt/EventQueue.java.">uncacheEQItem</a>(entry);
<a id="L573" name="L573"></a> 573                 <strong class="reserved">return</strong> entry.event;
<a id="L574" name="L574"></a> 574             <em class="brace">}</em>
<a id="L575" name="L575"></a> 575         <em class="brace">}</em>
<a id="L576" name="L576"></a> 576         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L577" name="L577"></a> 577     <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579     <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> <a href="../R/17914.html" title="Multiple referred from 2 places.">getNextEvent</a>(<strong class="reserved">int</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L580" name="L580"></a> 580         <strong class="reserved">do</strong> <em class="brace">{</em>
<div class="comment">
              SunToolkit.flushPendingEvents must be called outside
              of the synchronized block to avoid deadlock when
              event queues are nested with push()/pop().</div>
<a id="L586" name="L586"></a> 586             SunToolkit.flushPendingEvents(appContext);
<a id="L587" name="L587"></a> 587             pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L588" name="L588"></a> 588             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L589" name="L589"></a> 589                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; NUM_PRIORITIES; i++) <em class="brace">{</em>
<a id="L590" name="L590"></a> 590                     <strong class="reserved">for</strong> (EventQueueItem entry = queues[i].head, prev = <strong class="reserved">null</strong>;
<a id="L591" name="L591"></a> 591                          entry != <strong class="reserved">null</strong>; prev = entry, entry = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>)
<a id="L592" name="L592"></a> 592                     <em class="brace">{</em>
<a id="L593" name="L593"></a> 593                         <strong class="reserved">if</strong> (entry.event.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>() == <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L594" name="L594"></a> 594                             <strong class="reserved">if</strong> (prev == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L595" name="L595"></a> 595                                 queues[i].head = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L596" name="L596"></a> 596                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L597" name="L597"></a> 597                                 prev.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L598" name="L598"></a> 598                             <em class="brace">}</em>
<a id="L599" name="L599"></a> 599                             <strong class="reserved">if</strong> (queues[i].tail == entry) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600                                 queues[i].tail = prev;
<a id="L601" name="L601"></a> 601                             <em class="brace">}</em>
<a id="L602" name="L602"></a> 602                             <a href="../S/2178.html#L481" title="Defined at 481 in src/java/awt/EventQueue.java.">uncacheEQItem</a>(entry);
<a id="L603" name="L603"></a> 603                             <strong class="reserved">return</strong> entry.event;
<a id="L604" name="L604"></a> 604                         <em class="brace">}</em>
<a id="L605" name="L605"></a> 605                     <em class="brace">}</em>
<a id="L606" name="L606"></a> 606                 <em class="brace">}</em>
<a id="L607" name="L607"></a> 607                 <a href="../D/36784.html" title="Multiple defined in 2 places.">waitForID</a> = <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L608" name="L608"></a> 608                 pushPopCond.<a href="../D/11670.html" title="Multiple defined in 11 places.">await</a>();
<a id="L609" name="L609"></a> 609                 <a href="../D/36784.html" title="Multiple defined in 2 places.">waitForID</a> = 0;
<a id="L610" name="L610"></a> 610             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L611" name="L611"></a> 611                 pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L612" name="L612"></a> 612             <em class="brace">}</em>
<a id="L613" name="L613"></a> 613         <em class="brace">}</em> <strong class="reserved">while</strong>(<strong class="reserved">true</strong>);
<a id="L614" name="L614"></a> 614     <em class="brace">}</em>
<a id="L615" name="L615"></a> 615 
<div class="comment">
      Returns the first event on the <code>EventQueue</code>
      without removing it.
      @return the first event</div>
<a id="L621" name="L621"></a> 621     <strong class="reserved">public</strong> <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> <a href="../R/24694.html" title="Multiple referred from 3 places.">peekEvent</a>() <em class="brace">{</em>
<a id="L622" name="L622"></a> 622         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L623" name="L623"></a> 623         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L624" name="L624"></a> 624             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = NUM_PRIORITIES - 1; i &gt;= 0; i--) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625                 <strong class="reserved">if</strong> (queues[i].head != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626                     <strong class="reserved">return</strong> queues[i].head.event;
<a id="L627" name="L627"></a> 627                 <em class="brace">}</em>
<a id="L628" name="L628"></a> 628             <em class="brace">}</em>
<a id="L629" name="L629"></a> 629         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L630" name="L630"></a> 630             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L631" name="L631"></a> 631         <em class="brace">}</em>
<a id="L632" name="L632"></a> 632 
<a id="L633" name="L633"></a> 633         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L634" name="L634"></a> 634     <em class="brace">}</em>
<a id="L635" name="L635"></a> 635 
<div class="comment">
      Returns the first event with the specified id, if any.
      @param id the id of the type of event desired
      @return the first event of the specified id or <code>null</code>
         if there is no such event</div>
<a id="L642" name="L642"></a> 642     <strong class="reserved">public</strong> <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> <a href="../R/24694.html" title="Multiple referred from 3 places.">peekEvent</a>(<strong class="reserved">int</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L643" name="L643"></a> 643         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L644" name="L644"></a> 644         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L645" name="L645"></a> 645             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = NUM_PRIORITIES - 1; i &gt;= 0; i--) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646                 EventQueueItem q = queues[i].head;
<a id="L647" name="L647"></a> 647                 <strong class="reserved">for</strong> (; q != <strong class="reserved">null</strong>; q = q.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>) <em class="brace">{</em>
<a id="L648" name="L648"></a> 648                     <strong class="reserved">if</strong> (q.event.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>() == <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L649" name="L649"></a> 649                         <strong class="reserved">return</strong> q.event;
<a id="L650" name="L650"></a> 650                     <em class="brace">}</em>
<a id="L651" name="L651"></a> 651                 <em class="brace">}</em>
<a id="L652" name="L652"></a> 652             <em class="brace">}</em>
<a id="L653" name="L653"></a> 653         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L654" name="L654"></a> 654             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L655" name="L655"></a> 655         <em class="brace">}</em>
<a id="L656" name="L656"></a> 656 
<a id="L657" name="L657"></a> 657         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L658" name="L658"></a> 658     <em class="brace">}</em>
<a id="L659" name="L659"></a> 659 
<a id="L660" name="L660"></a> 660     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> JavaSecurityAccess javaSecurityAccess =
<a id="L661" name="L661"></a> 661         SharedSecrets.getJavaSecurityAccess();
<a id="L662" name="L662"></a> 662 
<div class="comment">
      Dispatches an event. The manner in which the event is
      dispatched depends upon the type of the event and the
      type of the event's source object:
      <table border="1" summary="Event types, source types, and dispatch methods">
      <tbody><tr>
          <th>Event Type</th>
          <th>Source Type</th>
          <th>Dispatched To</th>
      </tr>
      <tr>
          <td>ActiveEvent</td>
          <td>Any</td>
          <td>event.dispatch()</td>
      </tr>
      <tr>
          <td>Other</td>
          <td>Component</td>
          <td>source.dispatchEvent(AWTEvent)</td>
      </tr>
      <tr>
          <td>Other</td>
          <td>MenuComponent</td>
          <td>source.dispatchEvent(AWTEvent)</td>
      </tr>
      <tr>
          <td>Other</td>
          <td>Other</td>
          <td>No action (ignored)</td>
      </tr>
      </tbody></table>
      <p>
      @param event an instance of <code>java.awt.AWTEvent</code>,
               or a subclass of it
      @throws NullPointerException if <code>event</code> is <code>null</code>
      @since           1.2</p></div>
<a id="L701" name="L701"></a> 701     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13320.html" title="Multiple referred from 46 places.">dispatchEvent</a>(<strong class="reserved">final</strong> <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> event) <em class="brace">{</em>
<a id="L702" name="L702"></a> 702         <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> src = event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L703" name="L703"></a> 703         <strong class="reserved">final</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L704" name="L704"></a> 704             <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L705" name="L705"></a> 705                 <em class="comment">// In case fwDispatcher is installed and we're already on the</em>
<a id="L706" name="L706"></a> 706                 <em class="comment">// dispatch thread (e.g. performing DefaultKeyboardFocusManager.sendMessage),</em>
<a id="L707" name="L707"></a> 707                 <em class="comment">// dispatch the event straight away.</em>
<a id="L708" name="L708"></a> 708                 <strong class="reserved">if</strong> (fwDispatcher == <strong class="reserved">null</strong> || <a href="../S/2178.html#L1045" title="Defined at 1045 in src/java/awt/EventQueue.java.">isDispatchThreadImpl</a>()) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709                     <a href="../D/14952.html" title="Multiple defined in 5 places.">dispatchEventImpl</a>(event, src);
<a id="L710" name="L710"></a> 710                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L711" name="L711"></a> 711                     fwDispatcher.scheduleDispatch(<strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L712" name="L712"></a> 712                         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L713" name="L713"></a> 713                         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L714" name="L714"></a> 714                             <a href="../D/14952.html" title="Multiple defined in 5 places.">dispatchEventImpl</a>(event, src);
<a id="L715" name="L715"></a> 715                         <em class="brace">}</em>
<a id="L716" name="L716"></a> 716                     <em class="brace">}</em>);
<a id="L717" name="L717"></a> 717                 <em class="brace">}</em>
<a id="L718" name="L718"></a> 718                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L719" name="L719"></a> 719             <em class="brace">}</em>
<a id="L720" name="L720"></a> 720         <em class="brace">}</em>;
<a id="L721" name="L721"></a> 721 
<a id="L722" name="L722"></a> 722         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> stack = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L723" name="L723"></a> 723         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> srcAcc = <a href="../S/2178.html#L738" title="Defined at 738 in src/java/awt/EventQueue.java.">getAccessControlContextFrom</a>(src);
<a id="L724" name="L724"></a> 724         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> eventAcc = event.<a href="../D/16722.html" title="Multiple defined in 5 places.">getAccessControlContext</a>();
<a id="L725" name="L725"></a> 725         <strong class="reserved">if</strong> (srcAcc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726             javaSecurityAccess.<a href="../D/15040.html" title="Multiple defined in 2 places.">doIntersectionPrivilege</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>, stack, eventAcc);
<a id="L727" name="L727"></a> 727         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L728" name="L728"></a> 728             javaSecurityAccess.<a href="../D/15040.html" title="Multiple defined in 2 places.">doIntersectionPrivilege</a>(
<a id="L729" name="L729"></a> 729                 <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L730" name="L730"></a> 730                     <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L731" name="L731"></a> 731                         javaSecurityAccess.<a href="../D/15040.html" title="Multiple defined in 2 places.">doIntersectionPrivilege</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>, eventAcc);
<a id="L732" name="L732"></a> 732                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L733" name="L733"></a> 733                     <em class="brace">}</em>
<a id="L734" name="L734"></a> 734                 <em class="brace">}</em>, stack, srcAcc);
<a id="L735" name="L735"></a> 735         <em class="brace">}</em>
<a id="L736" name="L736"></a> 736     <em class="brace">}</em>
<a id="L737" name="L737"></a> 737 
<a id="L738" name="L738"></a> 738     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> <a href="../S/2178.html#L723" title="Referred from 723 in src/java/awt/EventQueue.java.">getAccessControlContextFrom</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> src) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739         <strong class="reserved">return</strong> src <strong class="reserved">instanceof</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> ?
<a id="L740" name="L740"></a> 740             ((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)src).<a href="../D/16722.html" title="Multiple defined in 5 places.">getAccessControlContext</a>() :
<a id="L741" name="L741"></a> 741             src <strong class="reserved">instanceof</strong> <a href="../S/2162.html#L50" title="Defined at 50 in src/java/awt/MenuComponent.java.">MenuComponent</a> ?
<a id="L742" name="L742"></a> 742                 ((<a href="../S/2162.html#L50" title="Defined at 50 in src/java/awt/MenuComponent.java.">MenuComponent</a>)src).<a href="../D/16722.html" title="Multiple defined in 5 places.">getAccessControlContext</a>() :
<a id="L743" name="L743"></a> 743                 src <strong class="reserved">instanceof</strong> <a href="../S/2090.html#L86" title="Defined at 86 in src/java/awt/TrayIcon.java.">TrayIcon</a> ?
<a id="L744" name="L744"></a> 744                     ((<a href="../S/2090.html#L86" title="Defined at 86 in src/java/awt/TrayIcon.java.">TrayIcon</a>)src).<a href="../D/16722.html" title="Multiple defined in 5 places.">getAccessControlContext</a>() :
<a id="L745" name="L745"></a> 745                     <strong class="reserved">null</strong>;
<a id="L746" name="L746"></a> 746     <em class="brace">}</em>
<a id="L747" name="L747"></a> 747 
<div class="comment">
      Called from dispatchEvent() under a correct AccessControlContext</div>
<a id="L751" name="L751"></a> 751     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13321.html" title="Multiple referred from 7 places.">dispatchEventImpl</a>(<strong class="reserved">final</strong> <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> event, <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> src) <em class="brace">{</em>
<a id="L752" name="L752"></a> 752         event.isPosted = <strong class="reserved">true</strong>;
<a id="L753" name="L753"></a> 753         <strong class="reserved">if</strong> (event <strong class="reserved">instanceof</strong> <a href="../S/2310.html#L52" title="Defined at 52 in src/java/awt/ActiveEvent.java.">ActiveEvent</a>) <em class="brace">{</em>
<a id="L754" name="L754"></a> 754             <em class="comment">// This could become the sole method of dispatching in time.</em>
<a id="L755" name="L755"></a> 755             <a href="../S/2178.html#L1207" title="Defined at 1207 in src/java/awt/EventQueue.java.">setCurrentEventAndMostRecentTimeImpl</a>(event);
<a id="L756" name="L756"></a> 756             ((<a href="../S/2310.html#L52" title="Defined at 52 in src/java/awt/ActiveEvent.java.">ActiveEvent</a>)event).<a href="../D/14945.html" title="Multiple defined in 15 places.">dispatch</a>();
<a id="L757" name="L757"></a> 757         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (src <strong class="reserved">instanceof</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>) <em class="brace">{</em>
<a id="L758" name="L758"></a> 758             ((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)src).<a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(event);
<a id="L759" name="L759"></a> 759             event.<a href="../S/2213.html#L606" title="Defined at 606 in src/java/awt/AWTEvent.java.">dispatched</a>();
<a id="L760" name="L760"></a> 760         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (src <strong class="reserved">instanceof</strong> <a href="../S/2162.html#L50" title="Defined at 50 in src/java/awt/MenuComponent.java.">MenuComponent</a>) <em class="brace">{</em>
<a id="L761" name="L761"></a> 761             ((<a href="../S/2162.html#L50" title="Defined at 50 in src/java/awt/MenuComponent.java.">MenuComponent</a>)src).<a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(event);
<a id="L762" name="L762"></a> 762         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (src <strong class="reserved">instanceof</strong> <a href="../S/2090.html#L86" title="Defined at 86 in src/java/awt/TrayIcon.java.">TrayIcon</a>) <em class="brace">{</em>
<a id="L763" name="L763"></a> 763             ((<a href="../S/2090.html#L86" title="Defined at 86 in src/java/awt/TrayIcon.java.">TrayIcon</a>)src).<a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(event);
<a id="L764" name="L764"></a> 764         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (src <strong class="reserved">instanceof</strong> AWTAutoShutdown) <em class="brace">{</em>
<a id="L765" name="L765"></a> 765             <strong class="reserved">if</strong> (<a href="../S/2178.html#L521" title="Defined at 521 in src/java/awt/EventQueue.java.">noEvents</a>()) <em class="brace">{</em>
<a id="L766" name="L766"></a> 766                 dispatchThread.<a href="../S/2111.html#L76" title="Defined at 76 in src/java/awt/EventDispatchThread.java.">stopDispatching</a>();
<a id="L767" name="L767"></a> 767             <em class="brace">}</em>
<a id="L768" name="L768"></a> 768         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L769" name="L769"></a> 769             <strong class="reserved">if</strong> (<a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(PlatformLogger.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L770" name="L770"></a> 770                 <a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/16274.html" title="Multiple defined in 5 places.">fine</a>("Unable to dispatch event: " + event);
<a id="L771" name="L771"></a> 771             <em class="brace">}</em>
<a id="L772" name="L772"></a> 772         <em class="brace">}</em>
<a id="L773" name="L773"></a> 773     <em class="brace">}</em>
<a id="L774" name="L774"></a> 774 
<div class="comment">
      Returns the timestamp of the most recent event that had a timestamp, and
      that was dispatched from the <code>EventQueue</code> associated with the
      calling thread. If an event with a timestamp is currently being
      dispatched, its timestamp will be returned. If no events have yet
      been dispatched, the EventQueue's initialization time will be
      returned instead.In the current version of
      the JDK, only <code>InputEvent</code>s,
      <code>ActionEvent</code>s, and <code>InvocationEvent</code>s have
      timestamps; however, future versions of the JDK may add timestamps to
      additional event types. Note that this method should only be invoked
      from an application's <a href="#L1040" title="Defined at 1040.">isDispatchThread</a>.
      If this method is
      invoked from another thread, the current system time (as reported by
      <code>System.currentTimeMillis()</code>) will be returned instead.
      @return the timestamp of the last <code>InputEvent</code>,
              <code>ActionEvent</code>, or <code>InvocationEvent</code> to be
              dispatched, or <code>System.currentTimeMillis()</code> if this
              method is invoked on a thread other than an event dispatching
              thread
      @see java.awt.event.InputEvent#getWhen
      @see java.awt.event.ActionEvent#getWhen
      @see java.awt.event.InvocationEvent#getWhen
      @see #isDispatchThread
      @since 1.4</div>
<a id="L803" name="L803"></a> 803     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> <a href="../R/17795.html" title="Multiple referred from 14 places.">getMostRecentEventTime</a>() <em class="brace">{</em>
<a id="L804" name="L804"></a> 804         <strong class="reserved">return</strong> <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>().<a href="../S/2178.html#L806" title="Defined at 806 in src/java/awt/EventQueue.java.">getMostRecentEventTimeImpl</a>();
<a id="L805" name="L805"></a> 805     <em class="brace">}</em>
<a id="L806" name="L806"></a> 806     <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../R/17797.html" title="Multiple referred from 2 places.">getMostRecentEventTimeImpl</a>() <em class="brace">{</em>
<a id="L807" name="L807"></a> 807         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L808" name="L808"></a> 808         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L809" name="L809"></a> 809             <strong class="reserved">return</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() == dispatchThread)
<a id="L810" name="L810"></a> 810                 ? mostRecentEventTime
<a id="L811" name="L811"></a> 811                 : <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L812" name="L812"></a> 812         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L813" name="L813"></a> 813             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L814" name="L814"></a> 814         <em class="brace">}</em>
<a id="L815" name="L815"></a> 815     <em class="brace">}</em>
<a id="L816" name="L816"></a> 816 
<div class="comment">
      @return most recent event time on all threads.</div>
<a id="L820" name="L820"></a> 820     <strong class="reserved">long</strong> getMostRecentEventTimeEx() <em class="brace">{</em>
<a id="L821" name="L821"></a> 821         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L822" name="L822"></a> 822         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L823" name="L823"></a> 823             <strong class="reserved">return</strong> mostRecentEventTime;
<a id="L824" name="L824"></a> 824         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L825" name="L825"></a> 825             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L826" name="L826"></a> 826         <em class="brace">}</em>
<a id="L827" name="L827"></a> 827     <em class="brace">}</em>
<a id="L828" name="L828"></a> 828 
<div class="comment">
      Returns the the event currently being dispatched by the
      <code>EventQueue</code> associated with the calling thread. This is
      useful if a method needs access to the event, but was not designed to
      receive a reference to it as an argument. Note that this method should
      only be invoked from an application's event dispatching thread. If this
      method is invoked from another thread, null will be returned.
      @return the event currently being dispatched, or null if this method is
              invoked on a thread other than an event dispatching thread
      @since 1.4</div>
<a id="L841" name="L841"></a> 841     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> <a href="../R/15882.html" title="Multiple referred from 7 places.">getCurrentEvent</a>() <em class="brace">{</em>
<a id="L842" name="L842"></a> 842         <strong class="reserved">return</strong> <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>().<a href="../S/2178.html#L844" title="Defined at 844 in src/java/awt/EventQueue.java.">getCurrentEventImpl</a>();
<a id="L843" name="L843"></a> 843     <em class="brace">}</em>
<a id="L844" name="L844"></a> 844     <strong class="reserved">private</strong> <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> <a href="../S/2178.html#L842" title="Referred from 842 in src/java/awt/EventQueue.java.">getCurrentEventImpl</a>() <em class="brace">{</em>
<a id="L845" name="L845"></a> 845         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L846" name="L846"></a> 846         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L847" name="L847"></a> 847                 <strong class="reserved">return</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() == dispatchThread)
<a id="L848" name="L848"></a> 848                 ? currentEvent.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>()
<a id="L849" name="L849"></a> 849                 : <strong class="reserved">null</strong>;
<a id="L850" name="L850"></a> 850         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L851" name="L851"></a> 851             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L852" name="L852"></a> 852         <em class="brace">}</em>
<a id="L853" name="L853"></a> 853     <em class="brace">}</em>
<a id="L854" name="L854"></a> 854 
<div class="comment">
      Replaces the existing <code>EventQueue</code> with the specified one.
      Any pending events are transferred to the new <code>EventQueue</code>
      for processing by it.
      @param newEventQueue an <code>EventQueue</code>
               (or subclass thereof) instance to be use
      @see      java.awt.EventQueue#pop
      @throws NullPointerException if <code>newEventQueue</code> is <code>null</code>
      @since           1.2</div>
<a id="L866" name="L866"></a> 866     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25256.html" title="Multiple referred from 281 places.">push</a>(<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> newEventQueue) <em class="brace">{</em>
<a id="L867" name="L867"></a> 867         <strong class="reserved">if</strong> (<a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(PlatformLogger.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L868" name="L868"></a> 868             <a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/16274.html" title="Multiple defined in 5 places.">fine</a>("EventQueue.push(" + newEventQueue + ")");
<a id="L869" name="L869"></a> 869         <em class="brace">}</em>
<a id="L870" name="L870"></a> 870 
<a id="L871" name="L871"></a> 871         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L872" name="L872"></a> 872         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L873" name="L873"></a> 873             <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> topQueue = <strong class="reserved">this</strong>;
<a id="L874" name="L874"></a> 874             <strong class="reserved">while</strong> (topQueue.nextQueue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L875" name="L875"></a> 875                 topQueue = topQueue.nextQueue;
<a id="L876" name="L876"></a> 876             <em class="brace">}</em>
<a id="L877" name="L877"></a> 877             <strong class="reserved">if</strong> (topQueue.fwDispatcher != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L878" name="L878"></a> 878                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("push() to queue with fwDispatcher");
<a id="L879" name="L879"></a> 879             <em class="brace">}</em>
<a id="L880" name="L880"></a> 880             <strong class="reserved">if</strong> ((topQueue.dispatchThread != <strong class="reserved">null</strong>) &amp;&amp;
<a id="L881" name="L881"></a> 881                 (topQueue.dispatchThread.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>() == <strong class="reserved">this</strong>))
<a id="L882" name="L882"></a> 882             <em class="brace">{</em>
<a id="L883" name="L883"></a> 883                 newEventQueue.dispatchThread = topQueue.dispatchThread;
<a id="L884" name="L884"></a> 884                 topQueue.dispatchThread.<a href="../S/2111.html#L229" title="Defined at 229 in src/java/awt/EventDispatchThread.java.">setEventQueue</a>(newEventQueue);
<a id="L885" name="L885"></a> 885             <em class="brace">}</em>
<a id="L886" name="L886"></a> 886 
<a id="L887" name="L887"></a> 887             <em class="comment">// Transfer all events forward to new EventQueue.</em>
<a id="L888" name="L888"></a> 888             <strong class="reserved">while</strong> (topQueue.<a href="../D/29292.html" title="Multiple defined in 2 places.">peekEvent</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L889" name="L889"></a> 889                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L890" name="L890"></a> 890                     <em class="comment">// Use getNextEventPrivate() as it doesn't call flushPendingEvents()</em>
<a id="L891" name="L891"></a> 891                     newEventQueue.<a href="../S/2178.html#L274" title="Defined at 274 in src/java/awt/EventQueue.java.">postEventPrivate</a>(topQueue.<a href="../S/2178.html#L564" title="Defined at 564 in src/java/awt/EventQueue.java.">getNextEventPrivate</a>());
<a id="L892" name="L892"></a> 892                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> ie) <em class="brace">{</em>
<a id="L893" name="L893"></a> 893                     <strong class="reserved">if</strong> (<a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(PlatformLogger.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L894" name="L894"></a> 894                         <a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/16274.html" title="Multiple defined in 5 places.">fine</a>("Interrupted push", ie);
<a id="L895" name="L895"></a> 895                     <em class="brace">}</em>
<a id="L896" name="L896"></a> 896                 <em class="brace">}</em>
<a id="L897" name="L897"></a> 897             <em class="brace">}</em>
<a id="L898" name="L898"></a> 898 
<a id="L899" name="L899"></a> 899             <em class="comment">// Wake up EDT waiting in getNextEvent(), so it can</em>
<a id="L900" name="L900"></a> 900             <em class="comment">// pick up a new EventQueue. Post the waking event before</em>
<a id="L901" name="L901"></a> 901             <em class="comment">// topQueue.nextQueue is assigned, otherwise the event would</em>
<a id="L902" name="L902"></a> 902             <em class="comment">// go newEventQueue</em>
<a id="L903" name="L903"></a> 903             topQueue.<a href="../S/2178.html#L274" title="Defined at 274 in src/java/awt/EventQueue.java.">postEventPrivate</a>(<strong class="reserved">new</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>(topQueue, dummyRunnable));
<a id="L904" name="L904"></a> 904 
<a id="L905" name="L905"></a> 905             newEventQueue.previousQueue = topQueue;
<a id="L906" name="L906"></a> 906             topQueue.nextQueue = newEventQueue;
<a id="L907" name="L907"></a> 907 
<a id="L908" name="L908"></a> 908             <strong class="reserved">if</strong> (appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(AppContext.EVENT_QUEUE_KEY) == topQueue) <em class="brace">{</em>
<a id="L909" name="L909"></a> 909                 appContext.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(AppContext.EVENT_QUEUE_KEY, newEventQueue);
<a id="L910" name="L910"></a> 910             <em class="brace">}</em>
<a id="L911" name="L911"></a> 911 
<a id="L912" name="L912"></a> 912             pushPopCond.<a href="../D/34559.html" title="Multiple defined in 3 places.">signalAll</a>();
<a id="L913" name="L913"></a> 913         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L914" name="L914"></a> 914             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L915" name="L915"></a> 915         <em class="brace">}</em>
<a id="L916" name="L916"></a> 916     <em class="brace">}</em>
<a id="L917" name="L917"></a> 917 
<div class="comment">
      Stops dispatching events using this <code>EventQueue</code>.
      Any pending events are transferred to the previous
      <code>EventQueue</code> for processing.
      <p>
      Warning: To avoid deadlock, do not declare this method
      synchronized in a subclass.
      @exception EmptyStackException if no previous push was made
       on this <code>EventQueue</code>
      @see      java.awt.EventQueue#push
      @since           1.2</p></div>
<a id="L931" name="L931"></a> 931     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24804.html" title="Multiple referred from 176 places.">pop</a>() <strong class="reserved">throws</strong> <a href="../S/1158.html#L37" title="Defined at 37 in src/java/util/EmptyStackException.java.">EmptyStackException</a> <em class="brace">{</em>
<a id="L932" name="L932"></a> 932         <strong class="reserved">if</strong> (<a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(PlatformLogger.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L933" name="L933"></a> 933             <a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/16274.html" title="Multiple defined in 5 places.">fine</a>("EventQueue.pop(" + <strong class="reserved">this</strong> + ")");
<a id="L934" name="L934"></a> 934         <em class="brace">}</em>
<a id="L935" name="L935"></a> 935 
<a id="L936" name="L936"></a> 936         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L937" name="L937"></a> 937         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L938" name="L938"></a> 938             <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> topQueue = <strong class="reserved">this</strong>;
<a id="L939" name="L939"></a> 939             <strong class="reserved">while</strong> (topQueue.nextQueue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L940" name="L940"></a> 940                 topQueue = topQueue.nextQueue;
<a id="L941" name="L941"></a> 941             <em class="brace">}</em>
<a id="L942" name="L942"></a> 942             <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> prevQueue = topQueue.previousQueue;
<a id="L943" name="L943"></a> 943             <strong class="reserved">if</strong> (prevQueue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L944" name="L944"></a> 944                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1158.html#L37" title="Defined at 37 in src/java/util/EmptyStackException.java.">EmptyStackException</a>();
<a id="L945" name="L945"></a> 945             <em class="brace">}</em>
<a id="L946" name="L946"></a> 946 
<a id="L947" name="L947"></a> 947             topQueue.previousQueue = <strong class="reserved">null</strong>;
<a id="L948" name="L948"></a> 948             prevQueue.nextQueue = <strong class="reserved">null</strong>;
<a id="L949" name="L949"></a> 949 
<a id="L950" name="L950"></a> 950             <em class="comment">// Transfer all events back to previous EventQueue.</em>
<a id="L951" name="L951"></a> 951             <strong class="reserved">while</strong> (topQueue.<a href="../D/29292.html" title="Multiple defined in 2 places.">peekEvent</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L952" name="L952"></a> 952                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L953" name="L953"></a> 953                     prevQueue.<a href="../S/2178.html#L274" title="Defined at 274 in src/java/awt/EventQueue.java.">postEventPrivate</a>(topQueue.<a href="../S/2178.html#L564" title="Defined at 564 in src/java/awt/EventQueue.java.">getNextEventPrivate</a>());
<a id="L954" name="L954"></a> 954                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> ie) <em class="brace">{</em>
<a id="L955" name="L955"></a> 955                     <strong class="reserved">if</strong> (<a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(PlatformLogger.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L956" name="L956"></a> 956                         <a href="../S/2178.html#L187" title="Defined at 187 in src/java/awt/EventQueue.java.">getEventLog</a>().<a href="../D/16274.html" title="Multiple defined in 5 places.">fine</a>("Interrupted pop", ie);
<a id="L957" name="L957"></a> 957                     <em class="brace">}</em>
<a id="L958" name="L958"></a> 958                 <em class="brace">}</em>
<a id="L959" name="L959"></a> 959             <em class="brace">}</em>
<a id="L960" name="L960"></a> 960 
<a id="L961" name="L961"></a> 961             <strong class="reserved">if</strong> ((topQueue.dispatchThread != <strong class="reserved">null</strong>) &amp;&amp;
<a id="L962" name="L962"></a> 962                 (topQueue.dispatchThread.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>() == <strong class="reserved">this</strong>))
<a id="L963" name="L963"></a> 963             <em class="brace">{</em>
<a id="L964" name="L964"></a> 964                 prevQueue.dispatchThread = topQueue.dispatchThread;
<a id="L965" name="L965"></a> 965                 topQueue.dispatchThread.<a href="../S/2111.html#L229" title="Defined at 229 in src/java/awt/EventDispatchThread.java.">setEventQueue</a>(prevQueue);
<a id="L966" name="L966"></a> 966             <em class="brace">}</em>
<a id="L967" name="L967"></a> 967 
<a id="L968" name="L968"></a> 968             <strong class="reserved">if</strong> (appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(AppContext.EVENT_QUEUE_KEY) == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L969" name="L969"></a> 969                 appContext.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(AppContext.EVENT_QUEUE_KEY, prevQueue);
<a id="L970" name="L970"></a> 970             <em class="brace">}</em>
<a id="L971" name="L971"></a> 971 
<a id="L972" name="L972"></a> 972             <em class="comment">// Wake up EDT waiting in getNextEvent(), so it can</em>
<a id="L973" name="L973"></a> 973             <em class="comment">// pick up a new EventQueue</em>
<a id="L974" name="L974"></a> 974             topQueue.<a href="../S/2178.html#L274" title="Defined at 274 in src/java/awt/EventQueue.java.">postEventPrivate</a>(<strong class="reserved">new</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>(topQueue, dummyRunnable));
<a id="L975" name="L975"></a> 975 
<a id="L976" name="L976"></a> 976             pushPopCond.<a href="../D/34559.html" title="Multiple defined in 3 places.">signalAll</a>();
<a id="L977" name="L977"></a> 977         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L978" name="L978"></a> 978             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L979" name="L979"></a> 979         <em class="brace">}</em>
<a id="L980" name="L980"></a> 980     <em class="brace">}</em>
<a id="L981" name="L981"></a> 981 
<div class="comment">
      Creates a new <code>secondary loop</code> associated with this
      event queue. Use the {@link SecondaryLoop#enter} and
      {@link SecondaryLoop#exit} methods to start and stop the
      event loop and dispatch the events from this queue.
      @return secondaryLoop A new secondary loop object, which can
                            be used to launch a new nested event
                            loop and dispatch events from this queue
      @see SecondaryLoop#enter
      @see SecondaryLoop#exit
      @since 1.7</div>
<a id="L997" name="L997"></a> 997     <strong class="reserved">public</strong> <a href="../S/2101.html#L97" title="Defined at 97 in src/java/awt/SecondaryLoop.java.">SecondaryLoop</a> <a href="../R/12677.html" title="Multiple referred from 4 places.">createSecondaryLoop</a>() <em class="brace">{</em>
<a id="L998" name="L998"></a> 998         <strong class="reserved">return</strong> <a href="../D/14185.html" title="Multiple defined in 2 places.">createSecondaryLoop</a>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, 0);
<a id="L999" name="L999"></a> 999     <em class="brace">}</em>
<a id="L1000" name="L1000"></a>1000 
<a id="L1001" name="L1001"></a>1001     <a href="../S/2101.html#L97" title="Defined at 97 in src/java/awt/SecondaryLoop.java.">SecondaryLoop</a> <a href="../R/12677.html" title="Multiple referred from 4 places.">createSecondaryLoop</a>(<a href="../D/1787.html" title="Multiple defined in 2 places.">Conditional</a> cond, <a href="../D/2990.html" title="Multiple defined in 2 places.">EventFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>, <strong class="reserved">long</strong> interval) <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1003" name="L1003"></a>1003         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1004" name="L1004"></a>1004             <strong class="reserved">if</strong> (nextQueue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1005" name="L1005"></a>1005                 <em class="comment">// Forward the request to the top of EventQueue stack</em>
<a id="L1006" name="L1006"></a>1006                 <strong class="reserved">return</strong> nextQueue.<a href="../D/14185.html" title="Multiple defined in 2 places.">createSecondaryLoop</a>(cond, <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>, interval);
<a id="L1007" name="L1007"></a>1007             <em class="brace">}</em>
<a id="L1008" name="L1008"></a>1008             <strong class="reserved">if</strong> (fwDispatcher != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1009" name="L1009"></a>1009                 <strong class="reserved">return</strong> fwDispatcher.<a href="../D/14185.html" title="Multiple defined in 2 places.">createSecondaryLoop</a>();
<a id="L1010" name="L1010"></a>1010             <em class="brace">}</em>
<a id="L1011" name="L1011"></a>1011             <strong class="reserved">if</strong> (dispatchThread == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1012" name="L1012"></a>1012                 <a href="../S/2178.html#L1063" title="Defined at 1063 in src/java/awt/EventQueue.java.">initDispatchThread</a>();
<a id="L1013" name="L1013"></a>1013             <em class="brace">}</em>
<a id="L1014" name="L1014"></a>1014             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2092.html#L48" title="Defined at 48 in src/java/awt/WaitDispatchSupport.java.">WaitDispatchSupport</a>(dispatchThread, cond, <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>, interval);
<a id="L1015" name="L1015"></a>1015         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1016" name="L1016"></a>1016             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1017" name="L1017"></a>1017         <em class="brace">}</em>
<a id="L1018" name="L1018"></a>1018     <em class="brace">}</em>
<a id="L1019" name="L1019"></a>1019 
<div class="comment">
      Returns true if the calling thread is
      {@link Toolkit#getSystemEventQueue the current AWT EventQueue}'s
      dispatch thread. Use this method to ensure that a particular
      task is being executed (or not being) there.
      <p>
      Note: use the <a href="#L1263" title="Defined at 1263.">invokeLater</a> or <a href="#L1291" title="Defined at 1291.">invokeAndWait</a>
      methods to execute a task in
      {@link Toolkit#getSystemEventQueue the current AWT EventQueue}'s
      dispatch thread.
      </p><p>
      @return true if running in
      {@link Toolkit#getSystemEventQueue the current AWT EventQueue}'s
      dispatch thread
      @see             #invokeLater
      @see             #invokeAndWait
      @see             Toolkit#getSystemEventQueue
      @since           1.2</p></div>
<a id="L1040" name="L1040"></a>1040     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21366.html" title="Multiple referred from 9 places.">isDispatchThread</a>() <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041         <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a> = <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>();
<a id="L1042" name="L1042"></a>1042         <strong class="reserved">return</strong> <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>.<a href="../S/2178.html#L1045" title="Defined at 1045 in src/java/awt/EventQueue.java.">isDispatchThreadImpl</a>();
<a id="L1043" name="L1043"></a>1043     <em class="brace">}</em>
<a id="L1044" name="L1044"></a>1044 
<a id="L1045" name="L1045"></a>1045     <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21367.html" title="Multiple referred from 4 places.">isDispatchThreadImpl</a>() <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046         <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a> = <strong class="reserved">this</strong>;
<a id="L1047" name="L1047"></a>1047         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1048" name="L1048"></a>1048         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1049" name="L1049"></a>1049             <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>.nextQueue;
<a id="L1050" name="L1050"></a>1050             <strong class="reserved">while</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1051" name="L1051"></a>1051                 <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1052" name="L1052"></a>1052                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>.nextQueue;
<a id="L1053" name="L1053"></a>1053             <em class="brace">}</em>
<a id="L1054" name="L1054"></a>1054             <strong class="reserved">if</strong> (<a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>.fwDispatcher != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055                 <strong class="reserved">return</strong> <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>.fwDispatcher.<a href="../S/2178.html#L1040" title="Defined at 1040 in src/java/awt/EventQueue.java.">isDispatchThread</a>();
<a id="L1056" name="L1056"></a>1056             <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057             <strong class="reserved">return</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() == <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>.dispatchThread);
<a id="L1058" name="L1058"></a>1058         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1059" name="L1059"></a>1059             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1060" name="L1060"></a>1060         <em class="brace">}</em>
<a id="L1061" name="L1061"></a>1061     <em class="brace">}</em>
<a id="L1062" name="L1062"></a>1062 
<a id="L1063" name="L1063"></a>1063     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/20565.html" title="Multiple referred from 4 places.">initDispatchThread</a>() <em class="brace">{</em>
<a id="L1064" name="L1064"></a>1064         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066             <strong class="reserved">if</strong> (dispatchThread == <strong class="reserved">null</strong> &amp;&amp; !threadGroup.<a href="../D/25434.html" title="Multiple defined in 7 places.">isDestroyed</a>() &amp;&amp; !appContext.<a href="../D/25453.html" title="Multiple defined in 2 places.">isDisposed</a>()) <em class="brace">{</em>
<a id="L1067" name="L1067"></a>1067                 dispatchThread = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L1068" name="L1068"></a>1068                     <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/2988.html" title="Multiple defined in 2 places.">EventDispatchThread</a>&gt;() <em class="brace">{</em>
<a id="L1069" name="L1069"></a>1069                         <strong class="reserved">public</strong> <a href="../D/2988.html" title="Multiple defined in 2 places.">EventDispatchThread</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1070" name="L1070"></a>1070                             <a href="../D/2988.html" title="Multiple defined in 2 places.">EventDispatchThread</a> t =
<a id="L1071" name="L1071"></a>1071                                 <strong class="reserved">new</strong> <a href="../D/2988.html" title="Multiple defined in 2 places.">EventDispatchThread</a>(threadGroup,
<a id="L1072" name="L1072"></a>1072                                                         <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L1073" name="L1073"></a>1073                                                         <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<strong class="reserved">this</strong>);
<a id="L1074" name="L1074"></a>1074                             t.<a href="../D/32262.html" title="Multiple defined in 3 places.">setContextClassLoader</a>(classLoader);
<a id="L1075" name="L1075"></a>1075                             t.<a href="../D/33607.html" title="Multiple defined in 2 places.">setPriority</a>(<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.NORM_PRIORITY + 1);
<a id="L1076" name="L1076"></a>1076                             t.<a href="../D/32347.html" title="Multiple defined in 2 places.">setDaemon</a>(<strong class="reserved">false</strong>);
<a id="L1077" name="L1077"></a>1077                             AWTAutoShutdown.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>().notifyThreadBusy(t);
<a id="L1078" name="L1078"></a>1078                             <strong class="reserved">return</strong> t;
<a id="L1079" name="L1079"></a>1079                         <em class="brace">}</em>
<a id="L1080" name="L1080"></a>1080                     <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081                 );
<a id="L1082" name="L1082"></a>1082                 dispatchThread.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>();
<a id="L1083" name="L1083"></a>1083             <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1085" name="L1085"></a>1085             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1086" name="L1086"></a>1086         <em class="brace">}</em>
<a id="L1087" name="L1087"></a>1087     <em class="brace">}</em>
<a id="L1088" name="L1088"></a>1088 
<a id="L1089" name="L1089"></a>1089     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/2111.html#L88" title="Referred from 88 in src/java/awt/EventDispatchThread.java.">detachDispatchThread</a>(<a href="../D/2988.html" title="Multiple defined in 2 places.">EventDispatchThread</a> edt) <em class="brace">{</em>
<div class="comment">
          Minimize discard possibility for non-posted events</div>
<a id="L1093" name="L1093"></a>1093         SunToolkit.flushPendingEvents(appContext);
<div class="comment">
          This synchronized block is to secure that the event dispatch
          thread won't die in the middle of posting a new event to the
          associated event queue. It is important because we notify
          that the event dispatch thread is busy after posting a new event
          to its queue, so the EventQueue.dispatchThread reference must
          be valid at that point.</div>
<a id="L1102" name="L1102"></a>1102         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1103" name="L1103"></a>1103         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1104" name="L1104"></a>1104             <strong class="reserved">if</strong> (edt == dispatchThread) <em class="brace">{</em>
<a id="L1105" name="L1105"></a>1105                 dispatchThread = <strong class="reserved">null</strong>;
<a id="L1106" name="L1106"></a>1106             <em class="brace">}</em>
<a id="L1107" name="L1107"></a>1107             AWTAutoShutdown.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>().notifyThreadFree(edt);
<div class="comment">
              Event was posted after EDT events pumping had stopped, so start
              another EDT to handle this event</div>
<a id="L1112" name="L1112"></a>1112             <strong class="reserved">if</strong> (<a href="../D/29292.html" title="Multiple defined in 2 places.">peekEvent</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1113" name="L1113"></a>1113                 <a href="../S/2178.html#L1063" title="Defined at 1063 in src/java/awt/EventQueue.java.">initDispatchThread</a>();
<a id="L1114" name="L1114"></a>1114             <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1116" name="L1116"></a>1116             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1117" name="L1117"></a>1117         <em class="brace">}</em>
<a id="L1118" name="L1118"></a>1118     <em class="brace">}</em>
<a id="L1119" name="L1119"></a>1119 
<div class="comment">
      Gets the <code>EventDispatchThread</code> for this
      <code>EventQueue</code>.
      @return the event dispatch thread associated with this event queue
              or <code>null</code> if this event queue doesn't have a
              working thread associated with it
      @see    java.awt.EventQueue#initDispatchThread
      @see    java.awt.EventQueue#detachDispatchThread</div>
<a id="L1129" name="L1129"></a>1129     <strong class="reserved">final</strong> <a href="../D/2988.html" title="Multiple defined in 2 places.">EventDispatchThread</a> <a href="../R/16184.html" title="Multiple referred from 4 places.">getDispatchThread</a>() <em class="brace">{</em>
<a id="L1130" name="L1130"></a>1130         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1131" name="L1131"></a>1131         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132             <strong class="reserved">return</strong> dispatchThread;
<a id="L1133" name="L1133"></a>1133         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1134" name="L1134"></a>1134             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1135" name="L1135"></a>1135         <em class="brace">}</em>
<a id="L1136" name="L1136"></a>1136     <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137 
<div class="comment">
      Removes any pending events for the specified source object.
      If removeAllEvents parameter is <code>true</code> then all
      events for the specified source object are removed, if it
      is <code>false</code> then <code>SequencedEvent</code>, <code>SentEvent</code>,
      <code>FocusEvent</code>, <code>WindowEvent</code>, <code>KeyEvent</code>,
      and <code>InputMethodEvent</code> are kept in the queue, but all other
      events are removed.
      This method is normally called by the source's
      <code>removeNotify</code> method.</div>
<a id="L1150" name="L1150"></a>1150     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26070.html" title="Multiple referred from 4 places.">removeSourceEvents</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <strong class="reserved">boolean</strong> removeAllEvents) <em class="brace">{</em>
<a id="L1151" name="L1151"></a>1151         SunToolkit.flushPendingEvents(appContext);
<a id="L1152" name="L1152"></a>1152         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1153" name="L1153"></a>1153         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1154" name="L1154"></a>1154             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; NUM_PRIORITIES; i++) <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155                 EventQueueItem entry = queues[i].head;
<a id="L1156" name="L1156"></a>1156                 EventQueueItem prev = <strong class="reserved">null</strong>;
<a id="L1157" name="L1157"></a>1157                 <strong class="reserved">while</strong> (entry != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1158" name="L1158"></a>1158                     <strong class="reserved">if</strong> ((entry.event.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>() == <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>)
<a id="L1159" name="L1159"></a>1159                         &amp;&amp; (removeAllEvents
<a id="L1160" name="L1160"></a>1160                             || ! (entry.event <strong class="reserved">instanceof</strong> <a href="../S/2097.html#L44" title="Defined at 44 in src/java/awt/SequencedEvent.java.">SequencedEvent</a>
<a id="L1161" name="L1161"></a>1161                                   || entry.event <strong class="reserved">instanceof</strong> <a href="../S/2096.html#L39" title="Defined at 39 in src/java/awt/SentEvent.java.">SentEvent</a>
<a id="L1162" name="L1162"></a>1162                                   || entry.event <strong class="reserved">instanceof</strong> <a href="../S/2416.html#L66" title="Defined at 66 in src/java/awt/event/FocusEvent.java.">FocusEvent</a>
<a id="L1163" name="L1163"></a>1163                                   || entry.event <strong class="reserved">instanceof</strong> <a href="../S/2398.html#L59" title="Defined at 59 in src/java/awt/event/WindowEvent.java.">WindowEvent</a>
<a id="L1164" name="L1164"></a>1164                                   || entry.event <strong class="reserved">instanceof</strong> <a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>
<a id="L1165" name="L1165"></a>1165                                   || entry.event <strong class="reserved">instanceof</strong> <a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a>)))
<a id="L1166" name="L1166"></a>1166                     <em class="brace">{</em>
<a id="L1167" name="L1167"></a>1167                         <strong class="reserved">if</strong> (entry.event <strong class="reserved">instanceof</strong> <a href="../S/2097.html#L44" title="Defined at 44 in src/java/awt/SequencedEvent.java.">SequencedEvent</a>) <em class="brace">{</em>
<a id="L1168" name="L1168"></a>1168                             ((<a href="../S/2097.html#L44" title="Defined at 44 in src/java/awt/SequencedEvent.java.">SequencedEvent</a>)entry.event).<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L1169" name="L1169"></a>1169                         <em class="brace">}</em>
<a id="L1170" name="L1170"></a>1170                         <strong class="reserved">if</strong> (entry.event <strong class="reserved">instanceof</strong> <a href="../S/2096.html#L39" title="Defined at 39 in src/java/awt/SentEvent.java.">SentEvent</a>) <em class="brace">{</em>
<a id="L1171" name="L1171"></a>1171                             ((<a href="../S/2096.html#L39" title="Defined at 39 in src/java/awt/SentEvent.java.">SentEvent</a>)entry.event).<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L1172" name="L1172"></a>1172                         <em class="brace">}</em>
<a id="L1173" name="L1173"></a>1173                         <strong class="reserved">if</strong> (entry.event <strong class="reserved">instanceof</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>) <em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174                             AWTAccessor.getInvocationEventAccessor()
<a id="L1175" name="L1175"></a>1175                                     .<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>((<a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>)entry.event);
<a id="L1176" name="L1176"></a>1176                         <em class="brace">}</em>
<a id="L1177" name="L1177"></a>1177                         <strong class="reserved">if</strong> (prev == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178                             queues[i].head = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1179" name="L1179"></a>1179                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1180" name="L1180"></a>1180                             prev.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1181" name="L1181"></a>1181                         <em class="brace">}</em>
<a id="L1182" name="L1182"></a>1182                         <a href="../S/2178.html#L481" title="Defined at 481 in src/java/awt/EventQueue.java.">uncacheEQItem</a>(entry);
<a id="L1183" name="L1183"></a>1183                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1184" name="L1184"></a>1184                         prev = entry;
<a id="L1185" name="L1185"></a>1185                     <em class="brace">}</em>
<a id="L1186" name="L1186"></a>1186                     entry = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1187" name="L1187"></a>1187                 <em class="brace">}</em>
<a id="L1188" name="L1188"></a>1188                 queues[i].tail = prev;
<a id="L1189" name="L1189"></a>1189             <em class="brace">}</em>
<a id="L1190" name="L1190"></a>1190         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1191" name="L1191"></a>1191             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1192" name="L1192"></a>1192         <em class="brace">}</em>
<a id="L1193" name="L1193"></a>1193     <em class="brace">}</em>
<a id="L1194" name="L1194"></a>1194 
<a id="L1195" name="L1195"></a>1195     <strong class="reserved">synchronized</strong> <strong class="reserved">long</strong> <a href="../R/17799.html" title="Multiple referred from 3 places.">getMostRecentKeyEventTime</a>() <em class="brace">{</em>
<a id="L1196" name="L1196"></a>1196         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1197" name="L1197"></a>1197         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1198" name="L1198"></a>1198             <strong class="reserved">return</strong> mostRecentKeyEventTime;
<a id="L1199" name="L1199"></a>1199         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1200" name="L1200"></a>1200             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1201" name="L1201"></a>1201         <em class="brace">}</em>
<a id="L1202" name="L1202"></a>1202     <em class="brace">}</em>
<a id="L1203" name="L1203"></a>1203 
<a id="L1204" name="L1204"></a>1204     <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/27129.html" title="Multiple referred from 4 places.">setCurrentEventAndMostRecentTime</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> e) <em class="brace">{</em>
<a id="L1205" name="L1205"></a>1205         <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>().<a href="../S/2178.html#L1207" title="Defined at 1207 in src/java/awt/EventQueue.java.">setCurrentEventAndMostRecentTimeImpl</a>(e);
<a id="L1206" name="L1206"></a>1206     <em class="brace">}</em>
<a id="L1207" name="L1207"></a>1207     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27130.html" title="Multiple referred from 2 places.">setCurrentEventAndMostRecentTimeImpl</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> e) <em class="brace">{</em>
<a id="L1208" name="L1208"></a>1208         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1209" name="L1209"></a>1209         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1210" name="L1210"></a>1210             <strong class="reserved">if</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() != dispatchThread) <em class="brace">{</em>
<a id="L1211" name="L1211"></a>1211                 <strong class="reserved">return</strong>;
<a id="L1212" name="L1212"></a>1212             <em class="brace">}</em>
<a id="L1213" name="L1213"></a>1213 
<a id="L1214" name="L1214"></a>1214             currentEvent = <strong class="reserved">new</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;&gt;(e);
<a id="L1215" name="L1215"></a>1215 
<a id="L1216" name="L1216"></a>1216             <em class="comment">// This series of 'instanceof' checks should be replaced with a</em>
<a id="L1217" name="L1217"></a>1217             <em class="comment">// polymorphic type (for example, an interface which declares a</em>
<a id="L1218" name="L1218"></a>1218             <em class="comment">// getWhen() method). However, this would require us to make such</em>
<a id="L1219" name="L1219"></a>1219             <em class="comment">// a type public, or to place it in sun.awt. Both of these approaches</em>
<a id="L1220" name="L1220"></a>1220             <em class="comment">// have been frowned upon. So for now, we hack.</em>
<a id="L1221" name="L1221"></a>1221             <em class="comment">//</em>
<a id="L1222" name="L1222"></a>1222             <em class="comment">// In tiger, we will probably give timestamps to all events, so this</em>
<a id="L1223" name="L1223"></a>1223             <em class="comment">// will no longer be an issue.</em>
<a id="L1224" name="L1224"></a>1224             <strong class="reserved">long</strong> mostRecentEventTime2 = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MIN_VALUE;
<a id="L1225" name="L1225"></a>1225             <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> <a href="../S/2412.html#L59" title="Defined at 59 in src/java/awt/event/InputEvent.java.">InputEvent</a>) <em class="brace">{</em>
<a id="L1226" name="L1226"></a>1226                 <a href="../S/2412.html#L59" title="Defined at 59 in src/java/awt/event/InputEvent.java.">InputEvent</a> ie = (<a href="../S/2412.html#L59" title="Defined at 59 in src/java/awt/event/InputEvent.java.">InputEvent</a>)e;
<a id="L1227" name="L1227"></a>1227                 mostRecentEventTime2 = ie.<a href="../D/23677.html" title="Multiple defined in 4 places.">getWhen</a>();
<a id="L1228" name="L1228"></a>1228                 <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> <a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229                     mostRecentKeyEventTime = ie.<a href="../D/23677.html" title="Multiple defined in 4 places.">getWhen</a>();
<a id="L1230" name="L1230"></a>1230                 <em class="brace">}</em>
<a id="L1231" name="L1231"></a>1231             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> <a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a>) <em class="brace">{</em>
<a id="L1232" name="L1232"></a>1232                 <a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a> ime = (<a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a>)e;
<a id="L1233" name="L1233"></a>1233                 mostRecentEventTime2 = ime.<a href="../D/23677.html" title="Multiple defined in 4 places.">getWhen</a>();
<a id="L1234" name="L1234"></a>1234             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>) <em class="brace">{</em>
<a id="L1235" name="L1235"></a>1235                 <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> ae = (<a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>)e;
<a id="L1236" name="L1236"></a>1236                 mostRecentEventTime2 = ae.<a href="../D/23677.html" title="Multiple defined in 4 places.">getWhen</a>();
<a id="L1237" name="L1237"></a>1237             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (e <strong class="reserved">instanceof</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>) <em class="brace">{</em>
<a id="L1238" name="L1238"></a>1238                 <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a> ie = (<a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>)e;
<a id="L1239" name="L1239"></a>1239                 mostRecentEventTime2 = ie.<a href="../D/23677.html" title="Multiple defined in 4 places.">getWhen</a>();
<a id="L1240" name="L1240"></a>1240             <em class="brace">}</em>
<a id="L1241" name="L1241"></a>1241             mostRecentEventTime = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(mostRecentEventTime, mostRecentEventTime2);
<a id="L1242" name="L1242"></a>1242         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1243" name="L1243"></a>1243             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1244" name="L1244"></a>1244         <em class="brace">}</em>
<a id="L1245" name="L1245"></a>1245     <em class="brace">}</em>
<a id="L1246" name="L1246"></a>1246 
<div class="comment">
      Causes <code>runnable</code> to have its <code>run</code>
      method called in the <a href="#L1040" title="Defined at 1040.">isDispatchThread</a> of
      {@link Toolkit#getSystemEventQueue the system EventQueue}.
      This will happen after all pending events are processed.
      @param runnable  the <code>Runnable</code> whose <code>run</code>
                       method should be executed
                       asynchronously in the
                       <a href="#L1040" title="Defined at 1040.">isDispatchThread</a>
                       of {@link Toolkit#getSystemEventQueue the system EventQueue}
      @see             #invokeAndWait
      @see             Toolkit#getSystemEventQueue
      @see             #isDispatchThread
      @since           1.2</div>
<a id="L1263" name="L1263"></a>1263     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/21068.html" title="Multiple referred from 39 places.">invokeLater</a>(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable) <em class="brace">{</em>
<a id="L1264" name="L1264"></a>1264         <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>().<a href="../D/29484.html" title="Multiple defined in 6 places.">postEvent</a>(
<a id="L1265" name="L1265"></a>1265             <strong class="reserved">new</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>(<a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>(), runnable));
<a id="L1266" name="L1266"></a>1266     <em class="brace">}</em>
<a id="L1267" name="L1267"></a>1267 
<div class="comment">
      Causes <code>runnable</code> to have its <code>run</code>
      method called in the <a href="#L1040" title="Defined at 1040.">isDispatchThread</a> of
      {@link Toolkit#getSystemEventQueue the system EventQueue}.
      This will happen after all pending events are processed.
      The call blocks until this has happened.  This method
      will throw an Error if called from the
      <a href="#L1040" title="Defined at 1040.">isDispatchThread</a>.
      @param runnable  the <code>Runnable</code> whose <code>run</code>
                       method should be executed
                       synchronously in the
                       <a href="#L1040" title="Defined at 1040.">isDispatchThread</a>
                       of {@link Toolkit#getSystemEventQueue the system EventQueue}
      @exception       InterruptedException  if any thread has
                       interrupted this thread
      @exception       InvocationTargetException  if an throwable is thrown
                       when running <code>runnable</code>
      @see             #invokeLater
      @see             Toolkit#getSystemEventQueue
      @see             #isDispatchThread
      @since           1.2</div>
<a id="L1291" name="L1291"></a>1291     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/21055.html" title="Multiple referred from 8 places.">invokeAndWait</a>(<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable)
<a id="L1292" name="L1292"></a>1292         <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>, <a href="../S/1671.html#L42" title="Defined at 42 in src/java/lang/reflect/InvocationTargetException.java.">InvocationTargetException</a>
<a id="L1293" name="L1293"></a>1293     <em class="brace">{</em>
<a id="L1294" name="L1294"></a>1294         <a href="../D/25053.html" title="Multiple defined in 3 places.">invokeAndWait</a>(<a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>(), runnable);
<a id="L1295" name="L1295"></a>1295     <em class="brace">}</em>
<a id="L1296" name="L1296"></a>1296 
<a id="L1297" name="L1297"></a>1297     <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/21055.html" title="Multiple referred from 8 places.">invokeAndWait</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable)
<a id="L1298" name="L1298"></a>1298         <strong class="reserved">throws</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>, <a href="../S/1671.html#L42" title="Defined at 42 in src/java/lang/reflect/InvocationTargetException.java.">InvocationTargetException</a>
<a id="L1299" name="L1299"></a>1299     <em class="brace">{</em>
<a id="L1300" name="L1300"></a>1300         <strong class="reserved">if</strong> (<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../S/2178.html#L1040" title="Defined at 1040 in src/java/awt/EventQueue.java.">isDispatchThread</a>()) <em class="brace">{</em>
<a id="L1301" name="L1301"></a>1301             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Cannot call invokeAndWait from the event dispatcher thread");
<a id="L1302" name="L1302"></a>1302         <em class="brace">}</em>
<a id="L1303" name="L1303"></a>1303 
<a id="L1304" name="L1304"></a>1304         <strong class="reserved">class</strong> <a href="../S/2178.html#L1305" title="Referred from 1305 in src/java/awt/EventQueue.java.">AWTInvocationLock</a> <em class="brace">{</em><em class="brace">}</em>
<a id="L1305" name="L1305"></a>1305         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = <strong class="reserved">new</strong> <a href="../S/2178.html#L1304" title="Defined at 1304 in src/java/awt/EventQueue.java.">AWTInvocationLock</a>();
<a id="L1306" name="L1306"></a>1306 
<a id="L1307" name="L1307"></a>1307         <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a> event =
<a id="L1308" name="L1308"></a>1308             <strong class="reserved">new</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, runnable, <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>, <strong class="reserved">true</strong>);
<a id="L1309" name="L1309"></a>1309 
<a id="L1310" name="L1310"></a>1310         <strong class="reserved">synchronized</strong> (<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>) <em class="brace">{</em>
<a id="L1311" name="L1311"></a>1311             <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../D/18886.html" title="Multiple defined in 2 places.">getEventQueue</a>().<a href="../D/29484.html" title="Multiple defined in 6 places.">postEvent</a>(event);
<a id="L1312" name="L1312"></a>1312             <strong class="reserved">while</strong> (!event.<a href="../S/2403.html#L383" title="Defined at 383 in src/java/awt/event/InvocationEvent.java.">isDispatched</a>()) <em class="brace">{</em>
<a id="L1313" name="L1313"></a>1313                 <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>.<a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>();
<a id="L1314" name="L1314"></a>1314             <em class="brace">}</em>
<a id="L1315" name="L1315"></a>1315         <em class="brace">}</em>
<a id="L1316" name="L1316"></a>1316 
<a id="L1317" name="L1317"></a>1317         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> eventThrowable = event.<a href="../S/2403.html#L339" title="Defined at 339 in src/java/awt/event/InvocationEvent.java.">getThrowable</a>();
<a id="L1318" name="L1318"></a>1318         <strong class="reserved">if</strong> (eventThrowable != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1319" name="L1319"></a>1319             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1671.html#L42" title="Defined at 42 in src/java/lang/reflect/InvocationTargetException.java.">InvocationTargetException</a>(eventThrowable);
<a id="L1320" name="L1320"></a>1320         <em class="brace">}</em>
<a id="L1321" name="L1321"></a>1321     <em class="brace">}</em>
<a id="L1322" name="L1322"></a>1322 
<div class="comment">
      Called from PostEventQueue.postEvent to notify that a new event
      appeared. First it proceeds to the EventQueue on the top of the
      stack, then notifies the associated dispatch thread if it exists
      or starts a new one otherwise.</div>
<a id="L1329" name="L1329"></a>1329     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30426.html" title="Multiple referred from 8 places.">wakeup</a>(<strong class="reserved">boolean</strong> <a href="../D/26240.html" title="Multiple defined in 5 places.">isShutdown</a>) <em class="brace">{</em>
<a id="L1330" name="L1330"></a>1330         pushPopLock.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>();
<a id="L1331" name="L1331"></a>1331         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1332" name="L1332"></a>1332             <strong class="reserved">if</strong> (nextQueue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1333" name="L1333"></a>1333                 <em class="comment">// Forward call to the top of EventQueue stack.</em>
<a id="L1334" name="L1334"></a>1334                 nextQueue.<a href="../D/36800.html" title="Multiple defined in 2 places.">wakeup</a>(<a href="../D/26240.html" title="Multiple defined in 5 places.">isShutdown</a>);
<a id="L1335" name="L1335"></a>1335             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (dispatchThread != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1336" name="L1336"></a>1336                 pushPopCond.<a href="../D/34559.html" title="Multiple defined in 3 places.">signalAll</a>();
<a id="L1337" name="L1337"></a>1337             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (!<a href="../D/26240.html" title="Multiple defined in 5 places.">isShutdown</a>) <em class="brace">{</em>
<a id="L1338" name="L1338"></a>1338                 <a href="../S/2178.html#L1063" title="Defined at 1063 in src/java/awt/EventQueue.java.">initDispatchThread</a>();
<a id="L1339" name="L1339"></a>1339             <em class="brace">}</em>
<a id="L1340" name="L1340"></a>1340         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1341" name="L1341"></a>1341             pushPopLock.<a href="../D/35916.html" title="Multiple defined in 13 places.">unlock</a>();
<a id="L1342" name="L1342"></a>1342         <em class="brace">}</em>
<a id="L1343" name="L1343"></a>1343     <em class="brace">}</em>
<a id="L1344" name="L1344"></a>1344 
<a id="L1345" name="L1345"></a>1345     <em class="comment">// The method is used by AWTAccessor for javafx/AWT single threaded mode.</em>
<a id="L1346" name="L1346"></a>1346     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27464.html" title="Multiple referred from 3 places.">setFwDispatcher</a>(FwDispatcher dispatcher) <em class="brace">{</em>
<a id="L1347" name="L1347"></a>1347         <strong class="reserved">if</strong> (nextQueue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1348" name="L1348"></a>1348             nextQueue.<a href="../S/2178.html#L1346" title="Defined at 1346 in src/java/awt/EventQueue.java.">setFwDispatcher</a>(dispatcher);
<a id="L1349" name="L1349"></a>1349         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1350" name="L1350"></a>1350             fwDispatcher = dispatcher;
<a id="L1351" name="L1351"></a>1351         <em class="brace">}</em>
<a id="L1352" name="L1352"></a>1352     <em class="brace">}</em>
<a id="L1353" name="L1353"></a>1353 <em class="brace">}</em>
<a id="L1354" name="L1354"></a>1354 
<div class="comment">
  The Queue object holds pointers to the beginning and end of one internal
  queue. An EventQueue object is composed of multiple internal Queues, one
  for each priority supported by the EventQueue. All Events on a particular
  internal Queue have identical priority.</div>
<a id="L1361" name="L1361"></a>1361 <strong class="reserved">class</strong> <a href="../R/6371.html" title="Multiple referred from 21 places.">Queue</a> <em class="brace">{</em>
<a id="L1362" name="L1362"></a>1362     EventQueueItem head;
<a id="L1363" name="L1363"></a>1363     EventQueueItem tail;
<a id="L1364" name="L1364"></a>1364 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L187">[^]</a><a href="#L1346">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>