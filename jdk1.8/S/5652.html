<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/security/signature/Reference.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L132">[^]</a><a href="#L799">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L132" title="Defined at 132.">booleanValue</a></li>
<li><a href="#L255" title="Defined at 255.">getMessageDigestAlgorithm</a></li>
<li><a href="#L280" title="Defined at 280.">setURI</a></li>
<li><a href="#L291" title="Defined at 291.">getURI</a></li>
<li><a href="#L300" title="Defined at 300.">setId</a></li>
<li><a href="#L312" title="Defined at 312.">getId</a></li>
<li><a href="#L323" title="Defined at 323.">setType</a></li>
<li><a href="#L336" title="Defined at 336.">getType</a></li>
<li><a href="#L349" title="Defined at 349.">typeIsReferenceToObject</a></li>
<li><a href="#L366" title="Defined at 366.">typeIsReferenceToManifest</a></li>
<li><a href="#L379" title="Defined at 379.">setDigestValueElement</a></li>
<li><a href="#L398" title="Defined at 398.">generateDigestValue</a></li>
<li><a href="#L409" title="Defined at 409.">getContentsBeforeTransformation</a></li>
<li><a href="#L427" title="Defined at 427.">getContentsAfterTransformation</a></li>
<li><a href="#L462" title="Defined at 462.">getContentsAfterTransformation</a></li>
<li><a href="#L477" title="Defined at 477.">getNodesetBeforeFirstCanonicalization</a></li>
<li><a href="#L523" title="Defined at 523.">getHTMLRepresentation</a></li>
<li><a href="#L577" title="Defined at 577.">getTransformsOutput</a></li>
<li><a href="#L585" title="Defined at 585.">getReferenceData</a></li>
<li><a href="#L598" title="Defined at 598.">dereferenceURIandPerformTransforms</a></li>
<li><a href="#L615" title="Defined at 615.">cacheDereferencedElement</a></li>
<li><a href="#L667" title="Defined at 667.">getTransforms</a></li>
<li><a href="#L680" title="Defined at 680.">getReferencedBytes</a></li>
<li><a href="#L701" title="Defined at 701.">calculateDigest</a></li>
<li><a href="#L757" title="Defined at 757.">getDigestValue</a></li>
<li><a href="#L776" title="Defined at 776.">verify</a></li>
<li><a href="#L799" title="Defined at 799.">getBaseLocalName</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements. See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership. The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License. You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied. See the License for the
  specific language governing permissions and limitations
  under the License.</div>
<a id="L23" name="L23"></a>  23 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.security.<a href="../S/7698.html#L129" title="Defined at 129 in src/com/sun/javadoc/ExecutableMemberDoc.java.">signature</a>;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.IOException;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Set;
<a id="L32" name="L32"></a>  32 
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.algorithms.MessageDigestAlgorithm;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.c14n.CanonicalizationException;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.c14n.InvalidCanonicalizerException;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.exceptions.Base64DecodingException;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.exceptions.XMLSecurityException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.signature.reference.ReferenceData;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.signature.reference.ReferenceNodeSetData;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.signature.reference.ReferenceOctetStreamData;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.signature.reference.ReferenceSubTreeData;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.transforms.InvalidTransformException;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.transforms.Transform;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.transforms.TransformationException;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.transforms.Transforms;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.transforms.params.InclusiveNamespaces;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.Base64;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.Constants;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.DigesterOutputStream;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.SignatureElementProxy;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.UnsyncBufferedOutputStream;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.XMLUtils;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> org.w3c.dom.Text;
<a id="L60" name="L60"></a>  60 
<div class="comment">
  Handles <code>&lt;ds:Reference&gt;</code> elements.
  This includes:
  Constructs a <code>ds:Reference</code> from an {@link org.w3c.dom.Element}.
  <p>Create a new reference</p>
  <pre>  Document doc;
  MessageDigestAlgorithm sha1 = MessageDigestAlgorithm.getInstance("http://#sha1");
  Reference ref = new Reference(new XMLSignatureInput(new FileInputStream("1.gif"),
                                "http://localhost/1.gif",
                                (Transforms) null, sha1);
  Element refElem = ref.toElement(doc);
  </pre>
  <p>Verify a reference</p>
  <pre>  Element refElem = doc.getElement("Reference"); // PSEUDO
  Reference ref = new Reference(refElem);
  String url = ref.getURI();
  ref.setData(new XMLSignatureInput(new FileInputStream(url)));
  if (ref.verify()) {
     System.out.println("verified");
  }
  </pre>
  <pre>  &lt;element name="Reference" type="ds:ReferenceType"/&gt;
   &lt;complexType name="ReferenceType"&gt;
     &lt;sequence&gt;
       &lt;element ref="ds:Transforms" minOccurs="0"/&gt;
       &lt;element ref="ds:DigestMethod"/&gt;
       &lt;element ref="ds:DigestValue"/&gt;
     &lt;/sequence&gt;
     &lt;attribute name="Id" type="ID" use="optional"/&gt;
     &lt;attribute name="URI" type="anyURI" use="optional"/&gt;
     &lt;attribute name="Type" type="anyURI" use="optional"/&gt;
   &lt;/complexType&gt;
  </pre>
  @author Christian Geuer-Pollmann
  @see ObjectContainer
  @see Manifest</div>
<a id="L107" name="L107"></a> 107 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/6537.html" title="Multiple referred from 169 places.">Reference</a> <strong class="reserved">extends</strong> <a href="../S/5675.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/utils/SignatureElementProxy.java.">SignatureElementProxy</a> <em class="brace">{</em>
<a id="L108" name="L108"></a> 108 
<div class="comment">
     /** Field OBJECT_URI */</div>
<a id="L110" name="L110"></a> 110     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> OBJECT_URI = <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_OBJECT;
<a id="L111" name="L111"></a> 111 
<div class="comment">
     /** Field MANIFEST_URI */</div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> MANIFEST_URI = <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_MANIFEST;
<a id="L114" name="L114"></a> 114 
<div class="comment">
      The maximum number of transforms per reference, if secure validation is enabled.</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAXIMUM_TRANSFORM_COUNT = 5;
<a id="L119" name="L119"></a> 119 
<a id="L120" name="L120"></a> 120     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> secureValidation;
<a id="L121" name="L121"></a> 121 
<div class="comment">
      Look up useC14N11 system property. If true, an explicit C14N11 transform
      will be added if necessary when generating the signature. See section
      3.1.1 of http://www.w3.org/2007/xmlsec/Drafts/xmldsig-core/ for more info.</div>
<a id="L127" name="L127"></a> 127     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> useC14N11 = (
<a id="L128" name="L128"></a> 128         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;() <em class="brace">{</em>
<a id="L129" name="L129"></a> 129             <strong class="reserved">public</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L130" name="L130"></a> 130                 <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/17286.html" title="Multiple defined in 18 places.">getBoolean</a>("com.sun.org.apache.xml.internal.security.useC14N11"));
<a id="L131" name="L131"></a> 131             <em class="brace">}</em>
<a id="L132" name="L132"></a> 132         <em class="brace">}</em>)).<a href="../R/10646.html" title="Multiple referred from 249 places.">booleanValue</a>();
<a id="L133" name="L133"></a> 133 
<div class="comment">
     /** {@link org.apache.commons.logging} logging facility */</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a> =
<a id="L136" name="L136"></a> 136         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>(<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L137" name="L137"></a> 137 
<a id="L138" name="L138"></a> 138     <strong class="reserved">private</strong> <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> manifest;
<a id="L139" name="L139"></a> 139     <strong class="reserved">private</strong> <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> transformsOutput;
<a id="L140" name="L140"></a> 140 
<a id="L141" name="L141"></a> 141     <strong class="reserved">private</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> transforms;
<a id="L142" name="L142"></a> 142 
<a id="L143" name="L143"></a> 143     <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> digestMethodElem;
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145     <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> digestValueElement;
<a id="L146" name="L146"></a> 146 
<a id="L147" name="L147"></a> 147     <strong class="reserved">private</strong> <a href="../S/5661.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/signature/reference/ReferenceData.java.">ReferenceData</a> referenceData;
<a id="L148" name="L148"></a> 148 
<div class="comment">
      Constructor Reference
      @param doc the {@link Document} in which <code>XMLsignature</code> is placed
      @param baseURI the URI of the resource where the XML instance will be stored
      @param referenceURI URI indicate where is data which will digested
      @param manifest
      @param transforms {@link Transforms} applied to data
      @param messageDigestAlgorithm {@link MessageDigestAlgorithm Digest algorithm} which is
      applied to the data
      TODO should we throw XMLSignatureException if MessageDigestAlgoURI is wrong?
      @throws XMLSignatureException</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">protected</strong> Reference(
<a id="L163" name="L163"></a> 163         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> referenceURI, <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> manifest,
<a id="L164" name="L164"></a> 164         <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> transforms, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> messageDigestAlgorithm
<a id="L165" name="L165"></a> 165     ) <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L166" name="L166"></a> 166         <strong class="reserved">super</strong>(doc);
<a id="L167" name="L167"></a> 167 
<a id="L168" name="L168"></a> 168         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/11052.html" title="Multiple defined in 2 places.">addReturnToElement</a>(<strong class="reserved">this</strong>.constructionElement);
<a id="L169" name="L169"></a> 169 
<a id="L170" name="L170"></a> 170         <strong class="reserved">this</strong>.baseURI = baseURI;
<a id="L171" name="L171"></a> 171         <strong class="reserved">this</strong>.manifest = manifest;
<a id="L172" name="L172"></a> 172 
<a id="L173" name="L173"></a> 173         <strong class="reserved">this</strong>.<a href="../D/34206.html" title="Multiple defined in 6 places.">setURI</a>(referenceURI);
<a id="L174" name="L174"></a> 174 
<a id="L175" name="L175"></a> 175         <em class="comment">// important: The ds:Reference must be added to the associated ds:Manifest</em>
<a id="L176" name="L176"></a> 176         <em class="comment">//            or ds:SignedInfo _before_ the this.resolverResult() is called.</em>
<a id="L177" name="L177"></a> 177         <em class="comment">// this.manifest.appendChild(this.constructionElement);</em>
<a id="L178" name="L178"></a> 178         <em class="comment">// this.manifest.appendChild(this.doc.createTextNode("\n"));</em>
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180         <strong class="reserved">if</strong> (transforms != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L181" name="L181"></a> 181             <strong class="reserved">this</strong>.transforms=transforms;
<a id="L182" name="L182"></a> 182             <strong class="reserved">this</strong>.constructionElement.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(transforms.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>());
<a id="L183" name="L183"></a> 183             <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/11052.html" title="Multiple defined in 2 places.">addReturnToElement</a>(<strong class="reserved">this</strong>.constructionElement);
<a id="L184" name="L184"></a> 184         <em class="brace">}</em>
<a id="L185" name="L185"></a> 185         <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a> mda =
<a id="L186" name="L186"></a> 186             <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<strong class="reserved">this</strong>.doc, messageDigestAlgorithm);
<a id="L187" name="L187"></a> 187 
<a id="L188" name="L188"></a> 188         digestMethodElem = mda.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L189" name="L189"></a> 189         <strong class="reserved">this</strong>.constructionElement.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(digestMethodElem);
<a id="L190" name="L190"></a> 190         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/11052.html" title="Multiple defined in 2 places.">addReturnToElement</a>(<strong class="reserved">this</strong>.constructionElement);
<a id="L191" name="L191"></a> 191 
<a id="L192" name="L192"></a> 192         digestValueElement =
<a id="L193" name="L193"></a> 193             <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L296" title="Defined at 296 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">createElementInSignatureSpace</a>(<strong class="reserved">this</strong>.doc, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_DIGESTVALUE);
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195         <strong class="reserved">this</strong>.constructionElement.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(digestValueElement);
<a id="L196" name="L196"></a> 196         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/11052.html" title="Multiple defined in 2 places.">addReturnToElement</a>(<strong class="reserved">this</strong>.constructionElement);
<a id="L197" name="L197"></a> 197     <em class="brace">}</em>
<a id="L198" name="L198"></a> 198 
<a id="L199" name="L199"></a> 199 
<div class="comment">
      Build a {@link Reference} from an {@link Element}
      @param element <code>Reference</code> element
      @param baseURI the URI of the resource where the XML instance was stored
      @param manifest is the {@link Manifest} of {@link SignedInfo} in which the Reference occurs.
      We need this because the Manifest has the individual {@link ResourceResolver}s which have
      been set by the user
      @throws XMLSecurityException</div>
<a id="L210" name="L210"></a> 210     <strong class="reserved">protected</strong> Reference(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI, <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> manifest) <strong class="reserved">throws</strong> <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <em class="brace">{</em>
<a id="L211" name="L211"></a> 211         <strong class="reserved">this</strong>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, baseURI, manifest, <strong class="reserved">false</strong>);
<a id="L212" name="L212"></a> 212     <em class="brace">}</em>
<a id="L213" name="L213"></a> 213 
<div class="comment">
      Build a {@link Reference} from an {@link Element}
      @param element <code>Reference</code> element
      @param baseURI the URI of the resource where the XML instance was stored
      @param manifest is the {@link Manifest} of {@link SignedInfo} in which the Reference occurs.
      @param secureValidation whether secure validation is enabled or not
      We need this because the Manifest has the individual {@link ResourceResolver}s which have
      been set by the user
      @throws XMLSecurityException</div>
<a id="L225" name="L225"></a> 225     <strong class="reserved">protected</strong> Reference(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI, <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> manifest, <strong class="reserved">boolean</strong> secureValidation)
<a id="L226" name="L226"></a> 226         <strong class="reserved">throws</strong> <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         <strong class="reserved">super</strong>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, baseURI);
<a id="L228" name="L228"></a> 228         <strong class="reserved">this</strong>.secureValidation = secureValidation;
<a id="L229" name="L229"></a> 229         <strong class="reserved">this</strong>.baseURI = baseURI;
<a id="L230" name="L230"></a> 230         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el = <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/20896.html" title="Multiple defined in 2 places.">getNextElement</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>());
<a id="L231" name="L231"></a> 231         <strong class="reserved">if</strong> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_TRANSFORMS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(el.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>())
<a id="L232" name="L232"></a> 232             &amp;&amp; <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(el.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233             transforms = <strong class="reserved">new</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>(el, <strong class="reserved">this</strong>.baseURI);
<a id="L234" name="L234"></a> 234             transforms.<a href="../D/33834.html" title="Multiple defined in 5 places.">setSecureValidation</a>(secureValidation);
<a id="L235" name="L235"></a> 235             <strong class="reserved">if</strong> (secureValidation &amp;&amp; transforms.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &gt; MAXIMUM_TRANSFORM_COUNT) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> exArgs[] = <em class="brace">{</em> transforms.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(), MAXIMUM_TRANSFORM_COUNT <em class="brace">}</em>;
<a id="L237" name="L237"></a> 237 
<a id="L238" name="L238"></a> 238                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a>("signature.tooManyTransforms", exArgs);
<a id="L239" name="L239"></a> 239             <em class="brace">}</em>
<a id="L240" name="L240"></a> 240             el = <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/20896.html" title="Multiple defined in 2 places.">getNextElement</a>(el.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>());
<a id="L241" name="L241"></a> 241         <em class="brace">}</em>
<a id="L242" name="L242"></a> 242         digestMethodElem = el;
<a id="L243" name="L243"></a> 243         digestValueElement = <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/20896.html" title="Multiple defined in 2 places.">getNextElement</a>(digestMethodElem.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>());
<a id="L244" name="L244"></a> 244         <strong class="reserved">this</strong>.manifest = manifest;
<a id="L245" name="L245"></a> 245     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246 
<div class="comment">
      Returns {@link MessageDigestAlgorithm}
      @return {@link MessageDigestAlgorithm}
      @throws XMLSignatureException</div>
<a id="L255" name="L255"></a> 255     <strong class="reserved">public</strong> <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a> <a href="../S/5652.html#L705" title="Referred from 705 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">getMessageDigestAlgorithm</a>() <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L256" name="L256"></a> 256         <strong class="reserved">if</strong> (digestMethodElem == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L258" name="L258"></a> 258         <em class="brace">}</em>
<a id="L259" name="L259"></a> 259 
<a id="L260" name="L260"></a> 260         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = digestMethodElem.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_ALGORITHM);
<a id="L261" name="L261"></a> 261 
<a id="L262" name="L262"></a> 262         <strong class="reserved">if</strong> (uri == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L263" name="L263"></a> 263             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L264" name="L264"></a> 264         <em class="brace">}</em>
<a id="L265" name="L265"></a> 265 
<a id="L266" name="L266"></a> 266         <strong class="reserved">if</strong> (secureValidation &amp;&amp; <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.ALGO_ID_DIGEST_NOT_RECOMMENDED_MD5.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(uri)) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> exArgs[] = <em class="brace">{</em> uri <em class="brace">}</em>;
<a id="L268" name="L268"></a> 268 
<a id="L269" name="L269"></a> 269             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("signature.signatureAlgorithm", exArgs);
<a id="L270" name="L270"></a> 270         <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272         <strong class="reserved">return</strong> <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<strong class="reserved">this</strong>.doc, uri);
<a id="L273" name="L273"></a> 273     <em class="brace">}</em>
<a id="L274" name="L274"></a> 274 
<div class="comment">
      Sets the <code>URI</code> of this <code>Reference</code> element
      @param uri the <code>URI</code> of this <code>Reference</code> element</div>
<a id="L280" name="L280"></a> 280     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28339.html" title="Multiple referred from 7 places.">setURI</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">if</strong> (uri != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282             <strong class="reserved">this</strong>.constructionElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_URI, uri);
<a id="L283" name="L283"></a> 283         <em class="brace">}</em>
<a id="L284" name="L284"></a> 284     <em class="brace">}</em>
<a id="L285" name="L285"></a> 285 
<div class="comment">
      Returns the <code>URI</code> of this <code>Reference</code> element
      @return URI the <code>URI</code> of this <code>Reference</code> element</div>
<a id="L291" name="L291"></a> 291     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19651.html" title="Multiple referred from 112 places.">getURI</a>() <em class="brace">{</em>
<a id="L292" name="L292"></a> 292         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.constructionElement.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_URI);
<a id="L293" name="L293"></a> 293     <em class="brace">}</em>
<a id="L294" name="L294"></a> 294 
<div class="comment">
      Sets the <code>Id</code> attribute of this <code>Reference</code> element
      @param id the <code>Id</code> attribute of this <code>Reference</code> element</div>
<a id="L300" name="L300"></a> 300     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27527.html" title="Multiple referred from 22 places.">setId</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301         <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302             <strong class="reserved">this</strong>.constructionElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_ID, <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L303" name="L303"></a> 303             <strong class="reserved">this</strong>.constructionElement.<a href="../D/32886.html" title="Multiple defined in 7 places.">setIdAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_ID, <strong class="reserved">true</strong>);
<a id="L304" name="L304"></a> 304         <em class="brace">}</em>
<a id="L305" name="L305"></a> 305     <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<div class="comment">
      Returns the <code>Id</code> attribute of this <code>Reference</code> element
      @return Id the <code>Id</code> attribute of this <code>Reference</code> element</div>
<a id="L312" name="L312"></a> 312     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16968.html" title="Multiple referred from 227 places.">getId</a>() <em class="brace">{</em>
<a id="L313" name="L313"></a> 313         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.constructionElement.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_ID);
<a id="L314" name="L314"></a> 314     <em class="brace">}</em>
<a id="L315" name="L315"></a> 315 
<div class="comment">
      Sets the <code>type</code> atttibute of the Reference indicate whether an
      <code>ds:Object</code>, <code>ds:SignatureProperty</code>, or <code>ds:Manifest</code>
      element.
      @param type the <code>type</code> attribute of the Reference</div>
<a id="L323" name="L323"></a> 323     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28332.html" title="Multiple referred from 31 places.">setType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325             <strong class="reserved">this</strong>.constructionElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_TYPE, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L326" name="L326"></a> 326         <em class="brace">}</em>
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Return the <code>type</code> atttibute of the Reference indicate whether an
      <code>ds:Object</code>, <code>ds:SignatureProperty</code>, or <code>ds:Manifest</code>
      element
      @return the <code>type</code> attribute of the Reference</div>
<a id="L336" name="L336"></a> 336     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em>
<a id="L337" name="L337"></a> 337         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.constructionElement.<a href="../D/17089.html" title="Multiple defined in 7 places.">getAttributeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_TYPE);
<a id="L338" name="L338"></a> 338     <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<div class="comment">
      Method isReferenceToObject
      This returns true if the <code>Type</code> attribute of the
      <code>Reference</code> element points to a <code>#Object</code> element
      @return true if the Reference type indicates that this Reference points to an
      <code>Object</code></div>
<a id="L349" name="L349"></a> 349     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> typeIsReferenceToObject() <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <strong class="reserved">if</strong> (<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>.OBJECT_URI.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<strong class="reserved">this</strong>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>())) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L352" name="L352"></a> 352         <em class="brace">}</em>
<a id="L353" name="L353"></a> 353 
<a id="L354" name="L354"></a> 354         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L355" name="L355"></a> 355     <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Method isReferenceToManifest
      This returns true if the <code>Type</code> attribute of the
      <code>Reference</code> element points to a <code>#Manifest</code> element
      @return true if the Reference type indicates that this Reference points to a
      {@link Manifest}</div>
<a id="L366" name="L366"></a> 366     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/5649.html#L352" title="Referred from 352 in src/com/sun/org/apache/xml/internal/security/signature/Manifest.java.">typeIsReferenceToManifest</a>() <em class="brace">{</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">if</strong> (<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>.MANIFEST_URI.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<strong class="reserved">this</strong>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>())) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L369" name="L369"></a> 369         <em class="brace">}</em>
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L372" name="L372"></a> 372     <em class="brace">}</em>
<a id="L373" name="L373"></a> 373 
<div class="comment">
      Method setDigestValueElement
      @param digestValue</div>
<a id="L379" name="L379"></a> 379     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5652.html#L400" title="Referred from 400 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">setDigestValueElement</a>(<strong class="reserved">byte</strong>[] digestValue) <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n = digestValueElement.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L381" name="L381"></a> 381         <strong class="reserved">while</strong> (n != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382             digestValueElement.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(n);
<a id="L383" name="L383"></a> 383             n = n.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L384" name="L384"></a> 384         <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<a id="L386" name="L386"></a> 386         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> base64codedValue = <a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/15393.html" title="Multiple defined in 39 places.">encode</a>(digestValue);
<a id="L387" name="L387"></a> 387         <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> t = <strong class="reserved">this</strong>.doc.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(base64codedValue);
<a id="L388" name="L388"></a> 388 
<a id="L389" name="L389"></a> 389         digestValueElement.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(t);
<a id="L390" name="L390"></a> 390     <em class="brace">}</em>
<a id="L391" name="L391"></a> 391 
<div class="comment">
      Method generateDigestValue
      @throws ReferenceNotInitializedException
      @throws XMLSignatureException</div>
<a id="L398" name="L398"></a> 398     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5649.html#L210" title="Referred from 210 in src/com/sun/org/apache/xml/internal/security/signature/Manifest.java.">generateDigestValue</a>()
<a id="L399" name="L399"></a> 399         <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>, <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a> <em class="brace">{</em>
<a id="L400" name="L400"></a> 400         <strong class="reserved">this</strong>.<a href="../S/5652.html#L379" title="Defined at 379 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">setDigestValueElement</a>(<strong class="reserved">this</strong>.<a href="../S/5652.html#L701" title="Defined at 701 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">calculateDigest</a>(<strong class="reserved">false</strong>));
<a id="L401" name="L401"></a> 401     <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<div class="comment">
      Returns the XMLSignatureInput which is created by de-referencing the URI attribute.
      @return the XMLSignatureInput of the source of this reference
      @throws ReferenceNotInitializedException If the resolver found any
      problem resolving the reference</div>
<a id="L409" name="L409"></a> 409     <strong class="reserved">public</strong> <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../R/15799.html" title="Multiple referred from 4 places.">getContentsBeforeTransformation</a>()
<a id="L410" name="L410"></a> 410         <strong class="reserved">throws</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a> <em class="brace">{</em>
<a id="L411" name="L411"></a> 411         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L412" name="L412"></a> 412             <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> uriAttr =
<a id="L413" name="L413"></a> 413                 <strong class="reserved">this</strong>.constructionElement.<a href="../D/17095.html" title="Multiple defined in 7 places.">getAttributeNodeNS</a>(<strong class="reserved">null</strong>, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._ATT_URI);
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415             <a href="../S/5704.html#L43" title="Defined at 43 in src/com/sun/org/apache/xml/internal/security/utils/resolver/ResourceResolver.java.">ResourceResolver</a> resolver =
<a id="L416" name="L416"></a> 416                 <a href="../S/5704.html#L43" title="Defined at 43 in src/com/sun/org/apache/xml/internal/security/utils/resolver/ResourceResolver.java.">ResourceResolver</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(
<a id="L417" name="L417"></a> 417                     uriAttr, <strong class="reserved">this</strong>.baseURI, <strong class="reserved">this</strong>.manifest.<a href="../S/5649.html#L510" title="Defined at 510 in src/com/sun/org/apache/xml/internal/security/signature/Manifest.java.">getPerManifestResolvers</a>(), secureValidation
<a id="L418" name="L418"></a> 418                 );
<a id="L419" name="L419"></a> 419             resolver.<a href="../S/5704.html#L341" title="Defined at 341 in src/com/sun/org/apache/xml/internal/security/utils/resolver/ResourceResolver.java.">addProperties</a>(<strong class="reserved">this</strong>.manifest.<a href="../S/5649.html#L518" title="Defined at 518 in src/com/sun/org/apache/xml/internal/security/signature/Manifest.java.">getResolverProperties</a>());
<a id="L420" name="L420"></a> 420 
<a id="L421" name="L421"></a> 421             <strong class="reserved">return</strong> resolver.<a href="../D/31237.html" title="Multiple defined in 38 places.">resolve</a>(uriAttr, <strong class="reserved">this</strong>.baseURI, secureValidation);
<a id="L422" name="L422"></a> 422         <em class="brace">}</em>  <strong class="reserved">catch</strong> (<a href="../S/5703.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/utils/resolver/ResourceResolverException.java.">ResourceResolverException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L423" name="L423"></a> 423             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L424" name="L424"></a> 424         <em class="brace">}</em>
<a id="L425" name="L425"></a> 425     <em class="brace">}</em>
<a id="L426" name="L426"></a> 426 
<a id="L427" name="L427"></a> 427     <strong class="reserved">private</strong> <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../R/15798.html" title="Multiple referred from 3 places.">getContentsAfterTransformation</a>(
<a id="L428" name="L428"></a> 428         <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os
<a id="L429" name="L429"></a> 429     ) <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> transforms = <strong class="reserved">this</strong>.<a href="../D/23252.html" title="Multiple defined in 6 places.">getTransforms</a>();
<a id="L432" name="L432"></a> 432             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = <strong class="reserved">null</strong>;
<a id="L433" name="L433"></a> 433 
<a id="L434" name="L434"></a> 434             <strong class="reserved">if</strong> (transforms != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L435" name="L435"></a> 435                 <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = transforms.<a href="../D/29325.html" title="Multiple defined in 2 places.">performTransforms</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, os);
<a id="L436" name="L436"></a> 436                 <strong class="reserved">this</strong>.transformsOutput = <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>;<em class="comment">//new XMLSignatureInput(output.getBytes());</em>
<a id="L437" name="L437"></a> 437 
<a id="L438" name="L438"></a> 438                 <em class="comment">//this.transformsOutput.setSourceURI(output.getSourceURI());</em>
<a id="L439" name="L439"></a> 439             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L440" name="L440"></a> 440                 <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>;
<a id="L441" name="L441"></a> 441             <em class="brace">}</em>
<a id="L442" name="L442"></a> 442 
<a id="L443" name="L443"></a> 443             <strong class="reserved">return</strong> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>;
<a id="L444" name="L444"></a> 444         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5703.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/utils/resolver/ResourceResolverException.java.">ResourceResolverException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L446" name="L446"></a> 446         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5608.html#L32" title="Defined at 32 in src/com/sun/org/apache/xml/internal/security/c14n/CanonicalizationException.java.">CanonicalizationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L448" name="L448"></a> 448         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5622.html#L27" title="Defined at 27 in src/com/sun/org/apache/xml/internal/security/c14n/InvalidCanonicalizerException.java.">InvalidCanonicalizerException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L450" name="L450"></a> 450         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5718.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/TransformationException.java.">TransformationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L451" name="L451"></a> 451             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L452" name="L452"></a> 452         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L454" name="L454"></a> 454         <em class="brace">}</em>
<a id="L455" name="L455"></a> 455     <em class="brace">}</em>
<a id="L456" name="L456"></a> 456 
<div class="comment">
      Returns the XMLSignatureInput which is the result of the Transforms.
      @return a XMLSignatureInput with all transformations applied.
      @throws XMLSignatureException</div>
<a id="L462" name="L462"></a> 462     <strong class="reserved">public</strong> <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../R/15798.html" title="Multiple referred from 3 places.">getContentsAfterTransformation</a>()
<a id="L463" name="L463"></a> 463         <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L464" name="L464"></a> 464         <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a> = <strong class="reserved">this</strong>.<a href="../S/5652.html#L409" title="Defined at 409 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">getContentsBeforeTransformation</a>();
<a id="L465" name="L465"></a> 465         <a href="../S/5652.html#L615" title="Defined at 615 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">cacheDereferencedElement</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>);
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../D/17973.html" title="Multiple defined in 2 places.">getContentsAfterTransformation</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, <strong class="reserved">null</strong>);
<a id="L468" name="L468"></a> 468     <em class="brace">}</em>
<a id="L469" name="L469"></a> 469 
<div class="comment">
      This method returns the XMLSignatureInput which represents the node set before
      some kind of canonicalization is applied for the first time.
      @return Gets a the node doing everything till the first c14n is needed
      @throws XMLSignatureException</div>
<a id="L477" name="L477"></a> 477     <strong class="reserved">public</strong> <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../S/5652.html#L525" title="Referred from 525 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">getNodesetBeforeFirstCanonicalization</a>()
<a id="L478" name="L478"></a> 478         <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L479" name="L479"></a> 479         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L480" name="L480"></a> 480             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a> = <strong class="reserved">this</strong>.<a href="../S/5652.html#L409" title="Defined at 409 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">getContentsBeforeTransformation</a>();
<a id="L481" name="L481"></a> 481             <a href="../S/5652.html#L615" title="Defined at 615 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">cacheDereferencedElement</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>);
<a id="L482" name="L482"></a> 482             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>;
<a id="L483" name="L483"></a> 483             <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> transforms = <strong class="reserved">this</strong>.<a href="../D/23252.html" title="Multiple defined in 6 places.">getTransforms</a>();
<a id="L484" name="L484"></a> 484 
<a id="L485" name="L485"></a> 485             <strong class="reserved">if</strong> (transforms != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L486" name="L486"></a> 486                 doTransforms: <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; transforms.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L487" name="L487"></a> 487                     <a href="../D/9064.html" title="Multiple defined in 4 places.">Transform</a> t = transforms.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L488" name="L488"></a> 488                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = t.<a href="../D/23369.html" title="Multiple defined in 43 places.">getURI</a>();
<a id="L489" name="L489"></a> 489 
<a id="L490" name="L490"></a> 490                     <strong class="reserved">if</strong> (uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_C14N_EXCL_OMIT_COMMENTS)
<a id="L491" name="L491"></a> 491                         || uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_C14N_EXCL_WITH_COMMENTS)
<a id="L492" name="L492"></a> 492                         || uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_C14N_OMIT_COMMENTS)
<a id="L493" name="L493"></a> 493                         || uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_C14N_WITH_COMMENTS)) <em class="brace">{</em>
<a id="L494" name="L494"></a> 494                         <strong class="reserved">break</strong> doTransforms;
<a id="L495" name="L495"></a> 495                     <em class="brace">}</em>
<a id="L496" name="L496"></a> 496 
<a id="L497" name="L497"></a> 497                     <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = t.<a href="../D/29324.html" title="Multiple defined in 2 places.">performTransform</a>(<a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>, <strong class="reserved">null</strong>);
<a id="L498" name="L498"></a> 498                 <em class="brace">}</em>
<a id="L499" name="L499"></a> 499 
<a id="L500" name="L500"></a> 500             <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../S/5663.html#L374" title="Defined at 374 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">setSourceURI</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L365" title="Defined at 365 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">getSourceURI</a>());
<a id="L501" name="L501"></a> 501             <em class="brace">}</em>
<a id="L502" name="L502"></a> 502             <strong class="reserved">return</strong> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>;
<a id="L503" name="L503"></a> 503         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L505" name="L505"></a> 505         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5703.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/utils/resolver/ResourceResolverException.java.">ResourceResolverException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L507" name="L507"></a> 507         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5608.html#L32" title="Defined at 32 in src/com/sun/org/apache/xml/internal/security/c14n/CanonicalizationException.java.">CanonicalizationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L509" name="L509"></a> 509         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5622.html#L27" title="Defined at 27 in src/com/sun/org/apache/xml/internal/security/c14n/InvalidCanonicalizerException.java.">InvalidCanonicalizerException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L511" name="L511"></a> 511         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5718.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/TransformationException.java.">TransformationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L513" name="L513"></a> 513         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L514" name="L514"></a> 514             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L515" name="L515"></a> 515         <em class="brace">}</em>
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<div class="comment">
      Method getHTMLRepresentation
      @return The HTML of the transformation
      @throws XMLSignatureException</div>
<a id="L523" name="L523"></a> 523     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16843.html" title="Multiple referred from 3 places.">getHTMLRepresentation</a>() <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L524" name="L524"></a> 524         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L525" name="L525"></a> 525             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> nodes = <strong class="reserved">this</strong>.<a href="../S/5652.html#L477" title="Defined at 477 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">getNodesetBeforeFirstCanonicalization</a>();
<a id="L526" name="L526"></a> 526 
<a id="L527" name="L527"></a> 527             <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> transforms = <strong class="reserved">this</strong>.<a href="../D/23252.html" title="Multiple defined in 6 places.">getTransforms</a>();
<a id="L528" name="L528"></a> 528             <a href="../D/9064.html" title="Multiple defined in 4 places.">Transform</a> c14nTransform = <strong class="reserved">null</strong>;
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530             <strong class="reserved">if</strong> (transforms != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L531" name="L531"></a> 531                 doTransforms: <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; transforms.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532                     <a href="../D/9064.html" title="Multiple defined in 4 places.">Transform</a> t = transforms.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L533" name="L533"></a> 533                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = t.<a href="../D/23369.html" title="Multiple defined in 43 places.">getURI</a>();
<a id="L534" name="L534"></a> 534 
<a id="L535" name="L535"></a> 535                     <strong class="reserved">if</strong> (uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_C14N_EXCL_OMIT_COMMENTS)
<a id="L536" name="L536"></a> 536                         || uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_C14N_EXCL_WITH_COMMENTS)) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537                         c14nTransform = t;
<a id="L538" name="L538"></a> 538                         <strong class="reserved">break</strong> doTransforms;
<a id="L539" name="L539"></a> 539                     <em class="brace">}</em>
<a id="L540" name="L540"></a> 540                 <em class="brace">}</em>
<a id="L541" name="L541"></a> 541             <em class="brace">}</em>
<a id="L542" name="L542"></a> 542 
<a id="L543" name="L543"></a> 543             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; inclusiveNamespaces = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;();
<a id="L544" name="L544"></a> 544             <strong class="reserved">if</strong> (c14nTransform != <strong class="reserved">null</strong>
<a id="L545" name="L545"></a> 545                 &amp;&amp; (c14nTransform.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(
<a id="L546" name="L546"></a> 546                     <a href="../S/5724.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">InclusiveNamespaces</a>.ExclusiveCanonicalizationNamespace,
<a id="L547" name="L547"></a> 547                     <a href="../S/5724.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">InclusiveNamespaces</a>._TAG_EC_INCLUSIVENAMESPACES) == 1)) <em class="brace">{</em>
<a id="L548" name="L548"></a> 548 
<a id="L549" name="L549"></a> 549                 <em class="comment">// there is one InclusiveNamespaces element</em>
<a id="L550" name="L550"></a> 550                 <a href="../S/5724.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">InclusiveNamespaces</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> =
<a id="L551" name="L551"></a> 551                     <strong class="reserved">new</strong> <a href="../S/5724.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">InclusiveNamespaces</a>(
<a id="L552" name="L552"></a> 552                         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/31699.html" title="Multiple defined in 3 places.">selectNode</a>(
<a id="L553" name="L553"></a> 553                             c14nTransform.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(),
<a id="L554" name="L554"></a> 554                             <a href="../S/5724.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">InclusiveNamespaces</a>.ExclusiveCanonicalizationNamespace,
<a id="L555" name="L555"></a> 555                             <a href="../S/5724.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">InclusiveNamespaces</a>._TAG_EC_INCLUSIVENAMESPACES,
<a id="L556" name="L556"></a> 556                             0
<a id="L557" name="L557"></a> 557                         ), <strong class="reserved">this</strong>.<a href="../D/17205.html" title="Multiple defined in 22 places.">getBaseURI</a>());
<a id="L558" name="L558"></a> 558 
<a id="L559" name="L559"></a> 559                 inclusiveNamespaces =
<a id="L560" name="L560"></a> 560                     <a href="../S/5724.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">InclusiveNamespaces</a>.<a href="../S/5724.html#L134" title="Defined at 134 in src/com/sun/org/apache/xml/internal/security/transforms/params/InclusiveNamespaces.java.">prefixStr2Set</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/19654.html" title="Multiple defined in 2 places.">getInclusiveNamespaces</a>());
<a id="L561" name="L561"></a> 561             <em class="brace">}</em>
<a id="L562" name="L562"></a> 562 
<a id="L563" name="L563"></a> 563             <strong class="reserved">return</strong> nodes.<a href="../D/19401.html" title="Multiple defined in 4 places.">getHTMLRepresentation</a>(inclusiveNamespaces);
<a id="L564" name="L564"></a> 564         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5718.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/TransformationException.java.">TransformationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L566" name="L566"></a> 566         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5720.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/InvalidTransformException.java.">InvalidTransformException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L568" name="L568"></a> 568         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L569" name="L569"></a> 569             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L570" name="L570"></a> 570         <em class="brace">}</em>
<a id="L571" name="L571"></a> 571     <em class="brace">}</em>
<a id="L572" name="L572"></a> 572 
<div class="comment">
      This method only works works after a call to verify.
      @return the transformed output(i.e. what is going to be digested).</div>
<a id="L577" name="L577"></a> 577     <strong class="reserved">public</strong> <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> getTransformsOutput() <em class="brace">{</em>
<a id="L578" name="L578"></a> 578         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.transformsOutput;
<a id="L579" name="L579"></a> 579     <em class="brace">}</em>
<a id="L580" name="L580"></a> 580 
<div class="comment">
      Get the ReferenceData that corresponds to the cached representation of the dereferenced
      object before transformation.</div>
<a id="L585" name="L585"></a> 585     <strong class="reserved">public</strong> <a href="../S/5661.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/signature/reference/ReferenceData.java.">ReferenceData</a> getReferenceData() <em class="brace">{</em>
<a id="L586" name="L586"></a> 586         <strong class="reserved">return</strong> referenceData;
<a id="L587" name="L587"></a> 587     <em class="brace">}</em>
<a id="L588" name="L588"></a> 588 
<div class="comment">
      This method returns the {@link XMLSignatureInput} which is referenced by the
      <code>URI</code> Attribute.
      @param os where to write the transformation can be null.
      @return the element to digest
      @throws XMLSignatureException
      @see Manifest#verifyReferences()</div>
<a id="L598" name="L598"></a> 598     <strong class="reserved">protected</strong> <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../R/13232.html" title="Multiple referred from 3 places.">dereferenceURIandPerformTransforms</a>(<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os)
<a id="L599" name="L599"></a> 599         <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L600" name="L600"></a> 600         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L601" name="L601"></a> 601             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a> = <strong class="reserved">this</strong>.<a href="../S/5652.html#L409" title="Defined at 409 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">getContentsBeforeTransformation</a>();
<a id="L602" name="L602"></a> 602             <a href="../S/5652.html#L615" title="Defined at 615 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">cacheDereferencedElement</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>);
<a id="L603" name="L603"></a> 603 
<a id="L604" name="L604"></a> 604             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = <strong class="reserved">this</strong>.<a href="../D/17973.html" title="Multiple defined in 2 places.">getContentsAfterTransformation</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, os);
<a id="L605" name="L605"></a> 605             <strong class="reserved">this</strong>.transformsOutput = <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>;
<a id="L606" name="L606"></a> 606             <strong class="reserved">return</strong> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>;
<a id="L607" name="L607"></a> 607         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L608" name="L608"></a> 608             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L609" name="L609"></a> 609         <em class="brace">}</em>
<a id="L610" name="L610"></a> 610     <em class="brace">}</em>
<a id="L611" name="L611"></a> 611 
<div class="comment">
      Store the dereferenced Element(s) so that it/they can be retrieved later.</div>
<a id="L615" name="L615"></a> 615     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/10753.html" title="Multiple referred from 3 places.">cacheDereferencedElement</a>(<a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>) <em class="brace">{</em>
<a id="L616" name="L616"></a> 616         <strong class="reserved">if</strong> (<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L288" title="Defined at 288 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">isNodeSet</a>()) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L618" name="L618"></a> 618                 <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; s = <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/20987.html" title="Multiple defined in 2 places.">getNodeSet</a>();
<a id="L619" name="L619"></a> 619                 referenceData = <strong class="reserved">new</strong> <a href="../S/5660.html#L38" title="Defined at 38 in src/com/sun/org/apache/xml/internal/security/signature/reference/ReferenceNodeSetData.java.">ReferenceNodeSetData</a>() <em class="brace">{</em>
<a id="L620" name="L620"></a> 620                     <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>() <em class="brace">{</em>
<a id="L621" name="L621"></a> 621                         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt;() <em class="brace">{</em>
<a id="L622" name="L622"></a> 622 
<a id="L623" name="L623"></a> 623                             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; sIterator = s.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L624" name="L624"></a> 624 
<a id="L625" name="L625"></a> 625                             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>() <em class="brace">{</em>
<a id="L626" name="L626"></a> 626                                 <strong class="reserved">return</strong> sIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>();
<a id="L627" name="L627"></a> 627                             <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629                             <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>() <em class="brace">{</em>
<a id="L630" name="L630"></a> 630                                 <strong class="reserved">return</strong> sIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L631" name="L631"></a> 631                             <em class="brace">}</em>
<a id="L632" name="L632"></a> 632 
<a id="L633" name="L633"></a> 633                             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>() <em class="brace">{</em>
<a id="L634" name="L634"></a> 634                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>();
<a id="L635" name="L635"></a> 635                             <em class="brace">}</em>
<a id="L636" name="L636"></a> 636                         <em class="brace">}</em>;
<a id="L637" name="L637"></a> 637                     <em class="brace">}</em>
<a id="L638" name="L638"></a> 638                 <em class="brace">}</em>;
<a id="L639" name="L639"></a> 639             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L640" name="L640"></a> 640                 <em class="comment">// log a warning</em>
<a id="L641" name="L641"></a> 641                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.WARNING, "cannot cache dereferenced data: " + e);
<a id="L642" name="L642"></a> 642             <em class="brace">}</em>
<a id="L643" name="L643"></a> 643         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/25488.html" title="Multiple defined in 9 places.">isElement</a>()) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644             referenceData = <strong class="reserved">new</strong> <a href="../S/5662.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/security/signature/reference/ReferenceSubTreeData.java.">ReferenceSubTreeData</a>
<a id="L645" name="L645"></a> 645                 (<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L447" title="Defined at 447 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">getSubNode</a>(), <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L454" title="Defined at 454 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">isExcludeComments</a>());
<a id="L646" name="L646"></a> 646         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L308" title="Defined at 308 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">isOctetStream</a>() || <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L329" title="Defined at 329 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">isByteArray</a>()) <em class="brace">{</em>
<a id="L647" name="L647"></a> 647             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L648" name="L648"></a> 648                 referenceData = <strong class="reserved">new</strong> <a href="../S/5659.html#L36" title="Defined at 36 in src/com/sun/org/apache/xml/internal/security/signature/reference/ReferenceOctetStreamData.java.">ReferenceOctetStreamData</a>
<a id="L649" name="L649"></a> 649                     (<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/21172.html" title="Multiple defined in 3 places.">getOctetStream</a>(), <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L365" title="Defined at 365 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">getSourceURI</a>(),
<a id="L650" name="L650"></a> 650                         <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../S/5663.html#L347" title="Defined at 347 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">getMIMEType</a>());
<a id="L651" name="L651"></a> 651             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652                 <em class="comment">// log a warning</em>
<a id="L653" name="L653"></a> 653                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.WARNING, "cannot cache dereferenced data: " + ioe);
<a id="L654" name="L654"></a> 654             <em class="brace">}</em>
<a id="L655" name="L655"></a> 655         <em class="brace">}</em>
<a id="L656" name="L656"></a> 656     <em class="brace">}</em>
<a id="L657" name="L657"></a> 657 
<div class="comment">
      Method getTransforms
      @return The transforms that applied this reference.
      @throws InvalidTransformException
      @throws TransformationException
      @throws XMLSecurityException
      @throws XMLSignatureException</div>
<a id="L667" name="L667"></a> 667     <strong class="reserved">public</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a> <a href="../R/19573.html" title="Multiple referred from 5 places.">getTransforms</a>()
<a id="L668" name="L668"></a> 668         <strong class="reserved">throws</strong> <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a>, <a href="../S/5720.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/InvalidTransformException.java.">InvalidTransformException</a>,
<a id="L669" name="L669"></a> 669         <a href="../S/5718.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/transforms/TransformationException.java.">TransformationException</a>, <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <em class="brace">{</em>
<a id="L670" name="L670"></a> 670         <strong class="reserved">return</strong> transforms;
<a id="L671" name="L671"></a> 671     <em class="brace">}</em>
<a id="L672" name="L672"></a> 672 
<div class="comment">
      Method getReferencedBytes
      @return the bytes that will be used to generated digest.
      @throws ReferenceNotInitializedException
      @throws XMLSignatureException</div>
<a id="L680" name="L680"></a> 680     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] getReferencedBytes()
<a id="L681" name="L681"></a> 681         <strong class="reserved">throws</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>, <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L682" name="L682"></a> 682         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L683" name="L683"></a> 683             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = <strong class="reserved">this</strong>.<a href="../S/5652.html#L598" title="Defined at 598 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">dereferenceURIandPerformTransforms</a>(<strong class="reserved">null</strong>);
<a id="L684" name="L684"></a> 684             <strong class="reserved">return</strong> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L685" name="L685"></a> 685         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L686" name="L686"></a> 686             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L687" name="L687"></a> 687         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5608.html#L32" title="Defined at 32 in src/com/sun/org/apache/xml/internal/security/c14n/CanonicalizationException.java.">CanonicalizationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L688" name="L688"></a> 688             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L689" name="L689"></a> 689         <em class="brace">}</em>
<a id="L690" name="L690"></a> 690     <em class="brace">}</em>
<a id="L691" name="L691"></a> 691 
<a id="L692" name="L692"></a> 692 
<div class="comment">
      Method calculateDigest
      @param validating true if validating the reference
      @return reference Calculate the digest of this reference.
      @throws ReferenceNotInitializedException
      @throws XMLSignatureException</div>
<a id="L701" name="L701"></a> 701     <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] <a href="../R/10801.html" title="Multiple referred from 2 places.">calculateDigest</a>(<strong class="reserved">boolean</strong> validating)
<a id="L702" name="L702"></a> 702         <strong class="reserved">throws</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>, <a href="../D/10006.html" title="Multiple defined in 2 places.">XMLSignatureException</a> <em class="brace">{</em>
<a id="L703" name="L703"></a> 703         <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os = <strong class="reserved">null</strong>;
<a id="L704" name="L704"></a> 704         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L705" name="L705"></a> 705             <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a> mda = <strong class="reserved">this</strong>.<a href="../S/5652.html#L255" title="Defined at 255 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">getMessageDigestAlgorithm</a>();
<a id="L706" name="L706"></a> 706 
<a id="L707" name="L707"></a> 707             mda.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L708" name="L708"></a> 708             <a href="../S/5677.html#L33" title="Defined at 33 in src/com/sun/org/apache/xml/internal/security/utils/DigesterOutputStream.java.">DigesterOutputStream</a> diOs = <strong class="reserved">new</strong> <a href="../S/5677.html#L33" title="Defined at 33 in src/com/sun/org/apache/xml/internal/security/utils/DigesterOutputStream.java.">DigesterOutputStream</a>(mda);
<a id="L709" name="L709"></a> 709             os = <strong class="reserved">new</strong> <a href="../S/5693.html#L32" title="Defined at 32 in src/com/sun/org/apache/xml/internal/security/utils/UnsyncBufferedOutputStream.java.">UnsyncBufferedOutputStream</a>(diOs);
<a id="L710" name="L710"></a> 710             <a href="../S/5663.html#L57" title="Defined at 57 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">XMLSignatureInput</a> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> = <strong class="reserved">this</strong>.<a href="../S/5652.html#L598" title="Defined at 598 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">dereferenceURIandPerformTransforms</a>(os);
<a id="L711" name="L711"></a> 711             <em class="comment">// if signing and c14n11 property == true explicitly add</em>
<a id="L712" name="L712"></a> 712             <em class="comment">// C14N11 transform if needed</em>
<a id="L713" name="L713"></a> 713             <strong class="reserved">if</strong> (<a href="../D/7176.html" title="Multiple defined in 5 places.">Reference</a>.useC14N11 &amp;&amp; !validating &amp;&amp; !<a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../S/5663.html#L320" title="Defined at 320 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">isOutputStreamSet</a>()
<a id="L714" name="L714"></a> 714                 &amp;&amp; !<a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../S/5663.html#L308" title="Defined at 308 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">isOctetStream</a>()) <em class="brace">{</em>
<a id="L715" name="L715"></a> 715                 <strong class="reserved">if</strong> (transforms == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L716" name="L716"></a> 716                     transforms = <strong class="reserved">new</strong> <a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>(<strong class="reserved">this</strong>.doc);
<a id="L717" name="L717"></a> 717                     transforms.<a href="../D/33834.html" title="Multiple defined in 5 places.">setSecureValidation</a>(secureValidation);
<a id="L718" name="L718"></a> 718                     <strong class="reserved">this</strong>.constructionElement.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(transforms.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(), digestMethodElem);
<a id="L719" name="L719"></a> 719                 <em class="brace">}</em>
<a id="L720" name="L720"></a> 720                 transforms.<a href="../D/11136.html" title="Multiple defined in 4 places.">addTransform</a>(<a href="../D/9094.html" title="Multiple defined in 2 places.">Transforms</a>.TRANSFORM_C14N11_OMIT_COMMENTS);
<a id="L721" name="L721"></a> 721                 <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../D/36177.html" title="Multiple defined in 2 places.">updateOutputStream</a>(os, <strong class="reserved">true</strong>);
<a id="L722" name="L722"></a> 722             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L723" name="L723"></a> 723                 <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../D/36177.html" title="Multiple defined in 2 places.">updateOutputStream</a>(os);
<a id="L724" name="L724"></a> 724             <em class="brace">}</em>
<a id="L725" name="L725"></a> 725             os.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L726" name="L726"></a> 726 
<a id="L727" name="L727"></a> 727             <strong class="reserved">if</strong> (<a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../S/5663.html#L259" title="Defined at 259 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">getOctetStreamReal</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728                 <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>.<a href="../S/5663.html#L259" title="Defined at 259 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignatureInput.java.">getOctetStreamReal</a>().<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L729" name="L729"></a> 729             <em class="brace">}</em>
<a id="L730" name="L730"></a> 730 
<a id="L731" name="L731"></a> 731             <em class="comment">//this.getReferencedBytes(diOs);</em>
<a id="L732" name="L732"></a> 732             <em class="comment">//mda.update(data);</em>
<a id="L733" name="L733"></a> 733 
<a id="L734" name="L734"></a> 734             <strong class="reserved">return</strong> diOs.<a href="../D/18476.html" title="Multiple defined in 3 places.">getDigestValue</a>();
<a id="L735" name="L735"></a> 735         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L737" name="L737"></a> 737         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L738" name="L738"></a> 738             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L739" name="L739"></a> 739         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L740" name="L740"></a> 740             <strong class="reserved">if</strong> (os != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L741" name="L741"></a> 741                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L742" name="L742"></a> 742                     os.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L743" name="L743"></a> 743                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L744" name="L744"></a> 744                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>("empty", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L745" name="L745"></a> 745                 <em class="brace">}</em>
<a id="L746" name="L746"></a> 746             <em class="brace">}</em>
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748     <em class="brace">}</em>
<a id="L749" name="L749"></a> 749 
<div class="comment">
      Returns the digest value.
      @return the digest value.
      @throws Base64DecodingException if Reference contains no proper base64 encoded data.
      @throws XMLSecurityException if the Reference does not contain a DigestValue element</div>
<a id="L757" name="L757"></a> 757     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] <a href="../R/16153.html" title="Multiple referred from 2 places.">getDigestValue</a>() <strong class="reserved">throws</strong> <a href="../S/5714.html#L30" title="Defined at 30 in src/com/sun/org/apache/xml/internal/security/exceptions/Base64DecodingException.java.">Base64DecodingException</a>, <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <em class="brace">{</em>
<a id="L758" name="L758"></a> 758         <strong class="reserved">if</strong> (digestValueElement == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759             <em class="comment">// The required element is not in the XML!</em>
<a id="L760" name="L760"></a> 760             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] exArgs =<em class="brace">{</em> <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_DIGESTVALUE, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS <em class="brace">}</em>;
<a id="L761" name="L761"></a> 761             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a>(
<a id="L762" name="L762"></a> 762                 "signature.Verification.NoSignatureElement", exArgs
<a id="L763" name="L763"></a> 763             );
<a id="L764" name="L764"></a> 764         <em class="brace">}</em>
<a id="L765" name="L765"></a> 765         <strong class="reserved">return</strong> <a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/14516.html" title="Multiple defined in 39 places.">decode</a>(digestValueElement);
<a id="L766" name="L766"></a> 766     <em class="brace">}</em>
<a id="L767" name="L767"></a> 767 
<a id="L768" name="L768"></a> 768 
<div class="comment">
      Tests reference validation is success or false
      @return true if reference validation is success, otherwise false
      @throws ReferenceNotInitializedException
      @throws XMLSecurityException</div>
<a id="L776" name="L776"></a> 776     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/30114.html" title="Multiple referred from 52 places.">verify</a>()
<a id="L777" name="L777"></a> 777         <strong class="reserved">throws</strong> <a href="../S/5653.html#L31" title="Defined at 31 in src/com/sun/org/apache/xml/internal/security/signature/ReferenceNotInitializedException.java.">ReferenceNotInitializedException</a>, <a href="../S/5715.html#L64" title="Defined at 64 in src/com/sun/org/apache/xml/internal/security/exceptions/XMLSecurityException.java.">XMLSecurityException</a> <em class="brace">{</em>
<a id="L778" name="L778"></a> 778         <strong class="reserved">byte</strong>[] elemDig = <strong class="reserved">this</strong>.<a href="../D/18476.html" title="Multiple defined in 3 places.">getDigestValue</a>();
<a id="L779" name="L779"></a> 779         <strong class="reserved">byte</strong>[] calcDig = <strong class="reserved">this</strong>.<a href="../S/5652.html#L701" title="Defined at 701 in src/com/sun/org/apache/xml/internal/security/signature/Reference.java.">calculateDigest</a>(<strong class="reserved">true</strong>);
<a id="L780" name="L780"></a> 780         <strong class="reserved">boolean</strong> <a href="../D/15675.html" title="Multiple defined in 20 places.">equal</a> = <a href="../S/5669.html#L40" title="Defined at 40 in src/com/sun/org/apache/xml/internal/security/algorithms/MessageDigestAlgorithm.java.">MessageDigestAlgorithm</a>.<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(elemDig, calcDig);
<a id="L781" name="L781"></a> 781 
<a id="L782" name="L782"></a> 782         <strong class="reserved">if</strong> (!<a href="../D/15675.html" title="Multiple defined in 20 places.">equal</a>) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.WARNING, "Verification failed for URI \"" + <strong class="reserved">this</strong>.<a href="../D/23369.html" title="Multiple defined in 43 places.">getURI</a>() + "\"");
<a id="L784" name="L784"></a> 784             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.WARNING, "Expected Digest: " + <a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/15393.html" title="Multiple defined in 39 places.">encode</a>(elemDig));
<a id="L785" name="L785"></a> 785             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.WARNING, "Actual Digest: " + <a href="../D/720.html" title="Multiple defined in 4 places.">Base64</a>.<a href="../D/15393.html" title="Multiple defined in 39 places.">encode</a>(calcDig));
<a id="L786" name="L786"></a> 786         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L787" name="L787"></a> 787             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L788" name="L788"></a> 788                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Verification successful for URI \"" + <strong class="reserved">this</strong>.<a href="../D/23369.html" title="Multiple defined in 43 places.">getURI</a>() + "\"");
<a id="L789" name="L789"></a> 789             <em class="brace">}</em>
<a id="L790" name="L790"></a> 790         <em class="brace">}</em>
<a id="L791" name="L791"></a> 791 
<a id="L792" name="L792"></a> 792         <strong class="reserved">return</strong> <a href="../D/15675.html" title="Multiple defined in 20 places.">equal</a>;
<a id="L793" name="L793"></a> 793     <em class="brace">}</em>
<a id="L794" name="L794"></a> 794 
<div class="comment">
      Method getBaseLocalName
      @inheritDoc</div>
<a id="L799" name="L799"></a> 799     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15224.html" title="Multiple referred from 7 places.">getBaseLocalName</a>() <em class="brace">{</em>
<a id="L800" name="L800"></a> 800         <strong class="reserved">return</strong> <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>._TAG_REFERENCE;
<a id="L801" name="L801"></a> 801     <em class="brace">}</em>
<a id="L802" name="L802"></a> 802 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L132">[^]</a><a href="#L799">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>