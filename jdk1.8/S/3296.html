<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/html/TableView.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L63">[^]</a><a href="#L1785">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L63" title="Defined at 63.">createTableRow</a></li>
<li><a href="#L77" title="Defined at 77.">getColumnCount</a></li>
<li><a href="#L86" title="Defined at 86.">getColumnSpan</a></li>
<li><a href="#L96" title="Defined at 96.">getRowCount</a></li>
<li><a href="#L104" title="Defined at 104.">getMultiRowSpan</a></li>
<li><a href="#L120" title="Defined at 120.">getRowSpan</a></li>
<li><a href="#L128" title="Defined at 128.">getRow</a></li>
<li><a href="#L135" title="Defined at 135.">getViewAtPoint</a></li>
<li><a href="#L158" title="Defined at 158.">getColumnsOccupied</a></li>
<li><a href="#L179" title="Defined at 179.">getRowsOccupied</a></li>
<li><a href="#L196" title="Defined at 196.">invalidateGrid</a></li>
<li><a href="#L200" title="Defined at 200.">getStyleSheet</a></li>
<li><a href="#L209" title="Defined at 209.">updateInsets</a></li>
<li><a href="#L230" title="Defined at 230.">setPropertiesFromAttributes</a></li>
<li><a href="#L263" title="Defined at 263.">updateGrid</a></li>
<li><a href="#L348" title="Defined at 348.">addFill</a></li>
<li><a href="#L370" title="Defined at 370.">layoutColumns</a></li>
<li><a href="#L393" title="Defined at 393.">calculateColumnRequirements</a></li>
<li><a href="#L459" title="Defined at 459.">checkSingleColumnCell</a></li>
<li><a href="#L469" title="Defined at 469.">checkMultiColumnCell</a></li>
<li><a href="#L542" title="Defined at 542.">calculateMinorAxisRequirements</a></li>
<li><a href="#L613" title="Defined at 613.">calculateMajorAxisRequirements</a></li>
<li><a href="#L645" title="Defined at 645.">layoutMinorAxis</a></li>
<li><a href="#L688" title="Defined at 688.">layoutMajorAxis</a></li>
<li><a href="#L719" title="Defined at 719.">getViewAtPosition</a></li>
<li><a href="#L750" title="Defined at 750.">getAttributes</a></li>
<li><a href="#L773" title="Defined at 773.">paint</a></li>
<li><a href="#L816" title="Defined at 816.">setParent</a></li>
<li><a href="#L834" title="Defined at 834.">getViewFactory</a></li>
<li><a href="#L852" title="Defined at 852.">insertUpdate</a></li>
<li><a href="#L870" title="Defined at 870.">removeUpdate</a></li>
<li><a href="#L888" title="Defined at 888.">changedUpdate</a></li>
<li><a href="#L892" title="Defined at 892.">forwardUpdate</a></li>
<li><a href="#L912" title="Defined at 912.">replace</a></li>
<li><a href="#L925" title="Defined at 925.">create</a></li>
<li><a href="#L1007" title="Defined at 1007.">disablePercentages</a></li>
<li><a href="#L1014" title="Defined at 1014.">updatePercentagesAndAdjustmentWeights</a></li>
<li><a href="#L1057" title="Defined at 1057.">setLayoutArrays</a></li>
<li><a href="#L1065" title="Defined at 1065.">getCount</a></li>
<li><a href="#L1069" title="Defined at 1069.">setIndex</a></li>
<li><a href="#L1073" title="Defined at 1073.">setOffset</a></li>
<li><a href="#L1077" title="Defined at 1077.">getOffset</a></li>
<li><a href="#L1081" title="Defined at 1081.">setSpan</a></li>
<li><a href="#L1085" title="Defined at 1085.">getSpan</a></li>
<li><a href="#L1089" title="Defined at 1089.">getMinimumSpan</a></li>
<li><a href="#L1096" title="Defined at 1096.">getPreferredSpan</a></li>
<li><a href="#L1103" title="Defined at 1103.">getMaximumSpan</a></li>
<li><a href="#L1107" title="Defined at 1107.">getBorderWidth</a></li>
<li><a href="#L1112" title="Defined at 1112.">getLeadingCollapseSpan</a></li>
<li><a href="#L1116" title="Defined at 1116.">getTrailingCollapseSpan</a></li>
<li><a href="#L1120" title="Defined at 1120.">getAdjustmentWeight</a></li>
<li><a href="#L1146" title="Defined at 1146.">updateAdjustments</a></li>
<li><a href="#L1177" title="Defined at 1177.">adjustMultiRowSpan</a></li>
<li><a href="#L1206" title="Defined at 1206.">setLayoutArrays</a></li>
<li><a href="#L1213" title="Defined at 1213.">setOffset</a></li>
<li><a href="#L1220" title="Defined at 1220.">getOffset</a></li>
<li><a href="#L1228" title="Defined at 1228.">setSpan</a></li>
<li><a href="#L1235" title="Defined at 1235.">getSpan</a></li>
<li><a href="#L1243" title="Defined at 1243.">getCount</a></li>
<li><a href="#L1247" title="Defined at 1247.">setIndex</a></li>
<li><a href="#L1251" title="Defined at 1251.">getMinimumSpan</a></li>
<li><a href="#L1255" title="Defined at 1255.">getPreferredSpan</a></li>
<li><a href="#L1264" title="Defined at 1264.">getMaximumSpan</a></li>
<li><a href="#L1268" title="Defined at 1268.">getBorderWidth</a></li>
<li><a href="#L1272" title="Defined at 1272.">getLeadingCollapseSpan</a></li>
<li><a href="#L1276" title="Defined at 1276.">getTrailingCollapseSpan</a></li>
<li><a href="#L1280" title="Defined at 1280.">getAdjustmentWeight</a></li>
<li><a href="#L1315" title="Defined at 1315.">clearFilledColumns</a></li>
<li><a href="#L1319" title="Defined at 1319.">fillColumn</a></li>
<li><a href="#L1323" title="Defined at 1323.">isFilled</a></li>
<li><a href="#L1330" title="Defined at 1330.">getColumnCount</a></li>
<li><a href="#L1346" title="Defined at 1346.">getAttributes</a></li>
<li><a href="#L1350" title="Defined at 1350.">findViewAtPoint</a></li>
<li><a href="#L1361" title="Defined at 1361.">getStyleSheet</a></li>
<li><a href="#L1379" title="Defined at 1379.">preferenceChanged</a></li>
<li><a href="#L1395" title="Defined at 1395.">calculateMajorAxisRequirements</a></li>
<li><a href="#L1404" title="Defined at 1404.">getMinimumSpan</a></li>
<li><a href="#L1417" title="Defined at 1417.">getMaximumSpan</a></li>
<li><a href="#L1430" title="Defined at 1430.">getPreferredSpan</a></li>
<li><a href="#L1443" title="Defined at 1443.">changedUpdate</a></li>
<li><a href="#L1462" title="Defined at 1462.">paint</a></li>
<li><a href="#L1473" title="Defined at 1473.">replace</a></li>
<li><a href="#L1486" title="Defined at 1486.">calculateMinorAxisRequirements</a></li>
<li><a href="#L1536" title="Defined at 1536.">layoutMajorAxis</a></li>
<li><a href="#L1587" title="Defined at 1587.">layoutMinorAxis</a></li>
<li><a href="#L1616" title="Defined at 1616.">getResizeWeight</a></li>
<li><a href="#L1633" title="Defined at 1633.">getViewAtPosition</a></li>
<li><a href="#L1660" title="Defined at 1660.">setPropertiesFromAttributes</a></li>
<li><a href="#L1729" title="Defined at 1729.">layoutMajorAxis</a></li>
<li><a href="#L1777" title="Defined at 1777.">calculateMajorAxisRequirements</a></li>
<li><a href="#L1785" title="Defined at 1785.">calculateMinorAxisRequirements</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.html;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.awt.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.BitSet;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Vector;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> javax.swing.SizeRequirements;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.swing.event.DocumentEvent;
<a id="L33" name="L33"></a>  33 
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.swing.text.*;
<a id="L35" name="L35"></a>  35 
<div class="comment">
  HTML table view.
  @author  Timothy Prinzing
  @see     View</div>
<div class="comment">
 /*public*/</div> <strong class="reserved">class</strong> <a href="../R/8006.html" title="Multiple referred from 6 places.">TableView</a> <strong class="reserved">extends</strong> <a href="../S/3355.html#L61" title="Defined at 61 in src/javax/swing/text/BoxView.java.">BoxView</a> <strong class="reserved">implements</strong> <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> <em class="brace">{</em>
<a id="L43" name="L43"></a>  43 
<div class="comment">
      Constructs a TableView for the given element.
      @param elem the element that this view is responsible for</div>
<a id="L49" name="L49"></a>  49     <strong class="reserved">public</strong> TableView(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L50" name="L50"></a>  50         <strong class="reserved">super</strong>(elem, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS);
<a id="L51" name="L51"></a>  51         rows = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>&gt;();
<a id="L52" name="L52"></a>  52         gridValid = <strong class="reserved">false</strong>;
<a id="L53" name="L53"></a>  53         captionIndex = -1;
<a id="L54" name="L54"></a>  54         totalColumnRequirements = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>();
<a id="L55" name="L55"></a>  55     <em class="brace">}</em>
<a id="L56" name="L56"></a>  56 
<div class="comment">
      Creates a new table row.
      @param elem an element
      @return the row</div>
<a id="L63" name="L63"></a>  63     <strong class="reserved">protected</strong> <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> <a href="../S/3296.html#L930" title="Referred from 930 in src/javax/swing/text/html/TableView.java.">createTableRow</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L64" name="L64"></a>  64         <em class="comment">// PENDING(prinz) need to add support for some of the other</em>
<a id="L65" name="L65"></a>  65         <em class="comment">// elements, but for now just ignore anything that is not</em>
<a id="L66" name="L66"></a>  66         <em class="comment">// a TR.</em>
<a id="L67" name="L67"></a>  67         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L68" name="L68"></a>  68         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TR) <em class="brace">{</em>
<a id="L69" name="L69"></a>  69             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>(elem);
<a id="L70" name="L70"></a>  70         <em class="brace">}</em>
<a id="L71" name="L71"></a>  71         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L72" name="L72"></a>  72     <em class="brace">}</em>
<a id="L73" name="L73"></a>  73 
<div class="comment">
      The number of columns in the table.</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15671.html" title="Multiple referred from 91 places.">getColumnCount</a>() <em class="brace">{</em>
<a id="L78" name="L78"></a>  78         <strong class="reserved">return</strong> columnSpans.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L79" name="L79"></a>  79     <em class="brace">}</em>
<a id="L80" name="L80"></a>  80 
<div class="comment">
      Fetches the span (width) of the given column.
      This is used by the nested cells to query the
      sizes of grid locations outside of themselves.</div>
<a id="L86" name="L86"></a>  86     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getColumnSpan(<strong class="reserved">int</strong> col) <em class="brace">{</em>
<a id="L87" name="L87"></a>  87         <strong class="reserved">if</strong> (col &lt; columnSpans.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L88" name="L88"></a>  88             <strong class="reserved">return</strong> columnSpans[col];
<a id="L89" name="L89"></a>  89         <em class="brace">}</em>
<a id="L90" name="L90"></a>  90         <strong class="reserved">return</strong> 0;
<a id="L91" name="L91"></a>  91     <em class="brace">}</em>
<a id="L92" name="L92"></a>  92 
<div class="comment">
      The number of rows in the table.</div>
<a id="L96" name="L96"></a>  96     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18787.html" title="Multiple referred from 152 places.">getRowCount</a>() <em class="brace">{</em>
<a id="L97" name="L97"></a>  97         <strong class="reserved">return</strong> rows.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L98" name="L98"></a>  98     <em class="brace">}</em>
<a id="L99" name="L99"></a>  99 
<div class="comment">
      Fetch the span of multiple rows.  This includes
      the border area.</div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/3296.html#L1600" title="Referred from 1600 in src/javax/swing/text/html/TableView.java.">getMultiRowSpan</a>(<strong class="reserved">int</strong> row0, <strong class="reserved">int</strong> row1) <em class="brace">{</em>
<a id="L105" name="L105"></a> 105         <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv0 = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row0);
<a id="L106" name="L106"></a> 106         <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv1 = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row1);
<a id="L107" name="L107"></a> 107         <strong class="reserved">if</strong> ((rv0 != <strong class="reserved">null</strong>) &amp;&amp; (rv1 != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L108" name="L108"></a> 108             <strong class="reserved">int</strong> index0 = rv0.viewIndex;
<a id="L109" name="L109"></a> 109             <strong class="reserved">int</strong> index1 = rv1.viewIndex;
<a id="L110" name="L110"></a> 110             <strong class="reserved">int</strong> span = <a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(Y_AXIS, index1) - <a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(Y_AXIS, index0) +
<a id="L111" name="L111"></a> 111                 <a href="../D/22646.html" title="Multiple defined in 8 places.">getSpan</a>(Y_AXIS, index1);
<a id="L112" name="L112"></a> 112             <strong class="reserved">return</strong> span;
<a id="L113" name="L113"></a> 113         <em class="brace">}</em>
<a id="L114" name="L114"></a> 114         <strong class="reserved">return</strong> 0;
<a id="L115" name="L115"></a> 115     <em class="brace">}</em>
<a id="L116" name="L116"></a> 116 
<div class="comment">
      Fetches the span (height) of the given row.</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getRowSpan(<strong class="reserved">int</strong> row) <em class="brace">{</em>
<a id="L121" name="L121"></a> 121         <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L122" name="L122"></a> 122         <strong class="reserved">if</strong> (rv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L123" name="L123"></a> 123             <strong class="reserved">return</strong> <a href="../D/22646.html" title="Multiple defined in 8 places.">getSpan</a>(Y_AXIS, rv.viewIndex);
<a id="L124" name="L124"></a> 124         <em class="brace">}</em>
<a id="L125" name="L125"></a> 125         <strong class="reserved">return</strong> 0;
<a id="L126" name="L126"></a> 126     <em class="brace">}</em>
<a id="L127" name="L127"></a> 127 
<a id="L128" name="L128"></a> 128     <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> <a href="../R/18783.html" title="Multiple referred from 71 places.">getRow</a>(<strong class="reserved">int</strong> row) <em class="brace">{</em>
<a id="L129" name="L129"></a> 129         <strong class="reserved">if</strong> (row &lt; rows.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130             <strong class="reserved">return</strong> rows.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(row);
<a id="L131" name="L131"></a> 131         <em class="brace">}</em>
<a id="L132" name="L132"></a> 132         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L133" name="L133"></a> 133     <em class="brace">}</em>
<a id="L134" name="L134"></a> 134 
<a id="L135" name="L135"></a> 135     <strong class="reserved">protected</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19802.html" title="Multiple referred from 2 places.">getViewAtPoint</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc) <em class="brace">{</em>
<a id="L136" name="L136"></a> 136         <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L137" name="L137"></a> 137         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v;
<a id="L138" name="L138"></a> 138         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> allocation = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>();
<a id="L139" name="L139"></a> 139         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L140" name="L140"></a> 140             allocation.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(alloc);
<a id="L141" name="L141"></a> 141             <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(i, allocation);
<a id="L142" name="L142"></a> 142             v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L143" name="L143"></a> 143             <strong class="reserved">if</strong> (v <strong class="reserved">instanceof</strong> <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144                 v = ((<a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>)v).<a href="../S/3296.html#L1350" title="Defined at 1350 in src/javax/swing/text/html/TableView.java.">findViewAtPoint</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, allocation);
<a id="L145" name="L145"></a> 145                 <strong class="reserved">if</strong> (v != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146                     alloc.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(allocation);
<a id="L147" name="L147"></a> 147                     <strong class="reserved">return</strong> v;
<a id="L148" name="L148"></a> 148                 <em class="brace">}</em>
<a id="L149" name="L149"></a> 149             <em class="brace">}</em>
<a id="L150" name="L150"></a> 150         <em class="brace">}</em>
<a id="L151" name="L151"></a> 151         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/23598.html" title="Multiple defined in 6 places.">getViewAtPoint</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, alloc);
<a id="L152" name="L152"></a> 152     <em class="brace">}</em>
<a id="L153" name="L153"></a> 153 
<div class="comment">
      Determines the number of columns occupied by
      the table cell represented by given element.</div>
<a id="L158" name="L158"></a> 158     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/15684.html" title="Multiple referred from 11 places.">getColumnsOccupied</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L159" name="L159"></a> 159         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = v.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L160" name="L160"></a> 160 
<a id="L161" name="L161"></a> 161         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.COLSPAN)) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.COLSPAN);
<a id="L163" name="L163"></a> 163             <strong class="reserved">if</strong> (s != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L164" name="L164"></a> 164                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L165" name="L165"></a> 165                     <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(s);
<a id="L166" name="L166"></a> 166                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> nfe) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167                     <em class="comment">// fall through to one column</em>
<a id="L168" name="L168"></a> 168                 <em class="brace">}</em>
<a id="L169" name="L169"></a> 169             <em class="brace">}</em>
<a id="L170" name="L170"></a> 170         <em class="brace">}</em>
<a id="L171" name="L171"></a> 171 
<a id="L172" name="L172"></a> 172         <strong class="reserved">return</strong> 1;
<a id="L173" name="L173"></a> 173     <em class="brace">}</em>
<a id="L174" name="L174"></a> 174 
<div class="comment">
      Determines the number of rows occupied by
      the table cell represented by given element.</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/18807.html" title="Multiple referred from 9 places.">getRowsOccupied</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = v.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.ROWSPAN)) <em class="brace">{</em>
<a id="L183" name="L183"></a> 183             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.ROWSPAN);
<a id="L184" name="L184"></a> 184             <strong class="reserved">if</strong> (s != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L185" name="L185"></a> 185                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L186" name="L186"></a> 186                     <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(s);
<a id="L187" name="L187"></a> 187                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> nfe) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188                     <em class="comment">// fall through to one row</em>
<a id="L189" name="L189"></a> 189                 <em class="brace">}</em>
<a id="L190" name="L190"></a> 190             <em class="brace">}</em>
<a id="L191" name="L191"></a> 191         <em class="brace">}</em>
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193         <strong class="reserved">return</strong> 1;
<a id="L194" name="L194"></a> 194     <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/21033.html" title="Multiple referred from 4 places.">invalidateGrid</a>() <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         gridValid = <strong class="reserved">false</strong>;
<a id="L198" name="L198"></a> 198     <em class="brace">}</em>
<a id="L199" name="L199"></a> 199 
<a id="L200" name="L200"></a> 200     <strong class="reserved">protected</strong> <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> <a href="../R/19240.html" title="Multiple referred from 42 places.">getStyleSheet</a>() <em class="brace">{</em>
<a id="L201" name="L201"></a> 201         <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a> doc = (<a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>) <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L202" name="L202"></a> 202         <strong class="reserved">return</strong> doc.<a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>();
<a id="L203" name="L203"></a> 203     <em class="brace">}</em>
<a id="L204" name="L204"></a> 204 
<div class="comment">
      Update the insets, which contain the caption if there
      is a caption.</div>
<a id="L209" name="L209"></a> 209     <strong class="reserved">void</strong> <a href="../S/3296.html#L614" title="Referred from 614 in src/javax/swing/text/html/TableView.java.">updateInsets</a>() <em class="brace">{</em>
<a id="L210" name="L210"></a> 210         <strong class="reserved">short</strong> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(TOP, <strong class="reserved">this</strong>);
<a id="L211" name="L211"></a> 211         <strong class="reserved">short</strong> bottom = (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(BOTTOM, <strong class="reserved">this</strong>);
<a id="L212" name="L212"></a> 212         <strong class="reserved">if</strong> (captionIndex != -1) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> caption = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(captionIndex);
<a id="L214" name="L214"></a> 214             <strong class="reserved">short</strong> h = (<strong class="reserved">short</strong>) caption.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(Y_AXIS);
<a id="L215" name="L215"></a> 215             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = caption.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L216" name="L216"></a> 216             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/11271.html" title="Multiple defined in 4 places.">align</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.CAPTION_SIDE);
<a id="L217" name="L217"></a> 217             <strong class="reserved">if</strong> ((<a href="../D/11271.html" title="Multiple defined in 4 places.">align</a> != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/11271.html" title="Multiple defined in 4 places.">align</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("bottom"))) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218                 bottom += h;
<a id="L219" name="L219"></a> 219             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L220" name="L220"></a> 220                 <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> += h;
<a id="L221" name="L221"></a> 221             <em class="brace">}</em>
<a id="L222" name="L222"></a> 222         <em class="brace">}</em>
<a id="L223" name="L223"></a> 223         <a href="../S/3349.html#L655" title="Defined at 655 in src/javax/swing/text/CompositeView.java.">setInsets</a>(<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>, (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(LEFT, <strong class="reserved">this</strong>),
<a id="L224" name="L224"></a> 224                   bottom, (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(RIGHT, <strong class="reserved">this</strong>));
<a id="L225" name="L225"></a> 225     <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<div class="comment">
      Update any cached values that come from attributes.</div>
<a id="L230" name="L230"></a> 230     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27975.html" title="Multiple referred from 16 places.">setPropertiesFromAttributes</a>() <em class="brace">{</em>
<a id="L231" name="L231"></a> 231         <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> sheet = <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>();
<a id="L232" name="L232"></a> 232         <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = sheet.<a href="../D/23600.html" title="Multiple defined in 2 places.">getViewAttributes</a>(<strong class="reserved">this</strong>);
<a id="L233" name="L233"></a> 233         painter = sheet.<a href="../S/3315.html#L919" title="Defined at 919 in src/javax/swing/text/html/StyleSheet.java.">getBoxPainter</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L234" name="L234"></a> 234         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235             <a href="../S/3349.html#L655" title="Defined at 655 in src/javax/swing/text/CompositeView.java.">setInsets</a>((<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(TOP, <strong class="reserved">this</strong>),
<a id="L236" name="L236"></a> 236                       (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(LEFT, <strong class="reserved">this</strong>),
<a id="L237" name="L237"></a> 237                           (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(BOTTOM, <strong class="reserved">this</strong>),
<a id="L238" name="L238"></a> 238                       (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(RIGHT, <strong class="reserved">this</strong>));
<a id="L239" name="L239"></a> 239 
<a id="L240" name="L240"></a> 240             <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a> lv = (<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a>)
<a id="L241" name="L241"></a> 241                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.BORDER_SPACING);
<a id="L242" name="L242"></a> 242             <strong class="reserved">if</strong> (lv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243                 cellSpacing = (<strong class="reserved">int</strong>) lv.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L244" name="L244"></a> 244             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L245" name="L245"></a> 245                 <em class="comment">// Default cell spacing equals 2</em>
<a id="L246" name="L246"></a> 246                 cellSpacing = 2;
<a id="L247" name="L247"></a> 247             <em class="brace">}</em>
<a id="L248" name="L248"></a> 248             lv = (<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a>)
<a id="L249" name="L249"></a> 249                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.BORDER_TOP_WIDTH);
<a id="L250" name="L250"></a> 250             <strong class="reserved">if</strong> (lv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251                     borderWidth = (<strong class="reserved">int</strong>) lv.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L252" name="L252"></a> 252             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                     borderWidth = 0;
<a id="L254" name="L254"></a> 254             <em class="brace">}</em>
<a id="L255" name="L255"></a> 255         <em class="brace">}</em>
<a id="L256" name="L256"></a> 256     <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
      Fill in the grid locations that are placeholders
      for multi-column, multi-row, and missing grid
      locations.</div>
<a id="L263" name="L263"></a> 263     <strong class="reserved">void</strong> <a href="../R/29876.html" title="Multiple referred from 6 places.">updateGrid</a>() <em class="brace">{</em>
<a id="L264" name="L264"></a> 264         <strong class="reserved">if</strong> (! gridValid) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265             relativeCells = <strong class="reserved">false</strong>;
<a id="L266" name="L266"></a> 266             multiRowCells = <strong class="reserved">false</strong>;
<a id="L267" name="L267"></a> 267 
<a id="L268" name="L268"></a> 268             <em class="comment">// determine which views are table rows and clear out</em>
<a id="L269" name="L269"></a> 269             <em class="comment">// grid points marked filled.</em>
<a id="L270" name="L270"></a> 270             captionIndex = -1;
<a id="L271" name="L271"></a> 271             rows.<a href="../D/30689.html" title="Multiple defined in 14 places.">removeAllElements</a>();
<a id="L272" name="L272"></a> 272             <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L273" name="L273"></a> 273             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L275" name="L275"></a> 275                 <strong class="reserved">if</strong> (v <strong class="reserved">instanceof</strong> <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276                     rows.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>((<a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>) v);
<a id="L277" name="L277"></a> 277                     <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = (<a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>) v;
<a id="L278" name="L278"></a> 278                     rv.<a href="../D/12840.html" title="Multiple defined in 2 places.">clearFilledColumns</a>();
<a id="L279" name="L279"></a> 279                     rv.rowIndex = rows.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1;
<a id="L280" name="L280"></a> 280                     rv.viewIndex = i;
<a id="L281" name="L281"></a> 281                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L282" name="L282"></a> 282                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = v.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L283" name="L283"></a> 283                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284                         <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> <a href="../D/26729.html" title="Multiple defined in 5 places.">kind</a> = (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L285" name="L285"></a> 285                         <strong class="reserved">if</strong> (<a href="../D/26729.html" title="Multiple defined in 5 places.">kind</a> == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CAPTION) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286                             captionIndex = i;
<a id="L287" name="L287"></a> 287                         <em class="brace">}</em>
<a id="L288" name="L288"></a> 288                     <em class="brace">}</em>
<a id="L289" name="L289"></a> 289                 <em class="brace">}</em>
<a id="L290" name="L290"></a> 290             <em class="brace">}</em>
<a id="L291" name="L291"></a> 291 
<a id="L292" name="L292"></a> 292             <strong class="reserved">int</strong> maxColumns = 0;
<a id="L293" name="L293"></a> 293             <strong class="reserved">int</strong> nrows = rows.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L294" name="L294"></a> 294             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> row = 0; row &lt; nrows; row++) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295                 <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L296" name="L296"></a> 296                 <strong class="reserved">int</strong> col = 0;
<a id="L297" name="L297"></a> 297                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> cell = 0; cell &lt; rv.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>(); cell++, col++) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298                     <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> cv = rv.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(cell);
<a id="L299" name="L299"></a> 299                     <strong class="reserved">if</strong> (! relativeCells) <em class="brace">{</em>
<a id="L300" name="L300"></a> 300                         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = cv.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L301" name="L301"></a> 301                         <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a> lv = (<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a>)
<a id="L302" name="L302"></a> 302                             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.WIDTH);
<a id="L303" name="L303"></a> 303                         <strong class="reserved">if</strong> ((lv != <strong class="reserved">null</strong>) &amp;&amp; (lv.<a href="../D/26054.html" title="Multiple defined in 2 places.">isPercentage</a>())) <em class="brace">{</em>
<a id="L304" name="L304"></a> 304                             relativeCells = <strong class="reserved">true</strong>;
<a id="L305" name="L305"></a> 305                         <em class="brace">}</em>
<a id="L306" name="L306"></a> 306                     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307                     <em class="comment">// advance to a free column</em>
<a id="L308" name="L308"></a> 308                     <strong class="reserved">for</strong> (; rv.<a href="../D/25553.html" title="Multiple defined in 2 places.">isFilled</a>(col); col++);
<a id="L309" name="L309"></a> 309                     <strong class="reserved">int</strong> rowSpan = <a href="../D/22185.html" title="Multiple defined in 2 places.">getRowsOccupied</a>(cv);
<a id="L310" name="L310"></a> 310                     <strong class="reserved">if</strong> (rowSpan &gt; 1) <em class="brace">{</em>
<a id="L311" name="L311"></a> 311                         multiRowCells = <strong class="reserved">true</strong>;
<a id="L312" name="L312"></a> 312                     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313                     <strong class="reserved">int</strong> colSpan = <a href="../D/17821.html" title="Multiple defined in 2 places.">getColumnsOccupied</a>(cv);
<a id="L314" name="L314"></a> 314                     <strong class="reserved">if</strong> ((colSpan &gt; 1) || (rowSpan &gt; 1)) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315                         <em class="comment">// fill in the overflow entries for this cell</em>
<a id="L316" name="L316"></a> 316                         <strong class="reserved">int</strong> rowLimit = row + rowSpan;
<a id="L317" name="L317"></a> 317                         <strong class="reserved">int</strong> colLimit = col + colSpan;
<a id="L318" name="L318"></a> 318                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = row; i &lt; rowLimit; i++) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319                             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = col; j &lt; colLimit; j++) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                                 <strong class="reserved">if</strong> (i != row || j != col) <em class="brace">{</em>
<a id="L321" name="L321"></a> 321                                     <a href="../D/10806.html" title="Multiple defined in 2 places.">addFill</a>(i, j);
<a id="L322" name="L322"></a> 322                                 <em class="brace">}</em>
<a id="L323" name="L323"></a> 323                             <em class="brace">}</em>
<a id="L324" name="L324"></a> 324                         <em class="brace">}</em>
<a id="L325" name="L325"></a> 325                         <strong class="reserved">if</strong> (colSpan &gt; 1) <em class="brace">{</em>
<a id="L326" name="L326"></a> 326                             col += colSpan - 1;
<a id="L327" name="L327"></a> 327                         <em class="brace">}</em>
<a id="L328" name="L328"></a> 328                     <em class="brace">}</em>
<a id="L329" name="L329"></a> 329                 <em class="brace">}</em>
<a id="L330" name="L330"></a> 330                 maxColumns = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(maxColumns, col);
<a id="L331" name="L331"></a> 331             <em class="brace">}</em>
<a id="L332" name="L332"></a> 332 
<a id="L333" name="L333"></a> 333             <em class="comment">// setup the column layout/requirements</em>
<a id="L334" name="L334"></a> 334             columnSpans = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[maxColumns];
<a id="L335" name="L335"></a> 335             columnOffsets = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[maxColumns];
<a id="L336" name="L336"></a> 336             columnRequirements = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>[maxColumns];
<a id="L337" name="L337"></a> 337             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; maxColumns; i++) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338                 columnRequirements[i] = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>();
<a id="L339" name="L339"></a> 339                 columnRequirements[i].maximum = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L340" name="L340"></a> 340             <em class="brace">}</em>
<a id="L341" name="L341"></a> 341             gridValid = <strong class="reserved">true</strong>;
<a id="L342" name="L342"></a> 342         <em class="brace">}</em>
<a id="L343" name="L343"></a> 343     <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<div class="comment">
      Mark a grid location as filled in for a cells overflow.</div>
<a id="L348" name="L348"></a> 348     <strong class="reserved">void</strong> <a href="../R/9733.html" title="Multiple referred from 2 places.">addFill</a>(<strong class="reserved">int</strong> row, <strong class="reserved">int</strong> col) <em class="brace">{</em>
<a id="L349" name="L349"></a> 349         <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L350" name="L350"></a> 350         <strong class="reserved">if</strong> (rv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351             rv.<a href="../D/16035.html" title="Multiple defined in 2 places.">fillColumn</a>(col);
<a id="L352" name="L352"></a> 352         <em class="brace">}</em>
<a id="L353" name="L353"></a> 353     <em class="brace">}</em>
<a id="L354" name="L354"></a> 354 
<div class="comment">
      Layout the columns to fit within the given target span.
      @param targetSpan the given span for total of all the table
       columns
      @param reqs the requirements desired for each column.  This
       is the column maximum of the cells minimum, preferred, and
       maximum requested span
      @param spans the return value of how much to allocated to
       each column
      @param offsets the return value of the offset from the
       origin for each column
      @return the offset from the origin and the span for each column
       in the offsets and spans parameters</div>
<a id="L370" name="L370"></a> 370     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22434.html" title="Multiple referred from 2 places.">layoutColumns</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans,
<a id="L371" name="L371"></a> 371                                  <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>[] reqs) <em class="brace">{</em>
<a id="L372" name="L372"></a> 372         <em class="comment">//clean offsets and spans</em>
<a id="L373" name="L373"></a> 373         <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/16028.html" title="Multiple defined in 25 places.">fill</a>(offsets, 0);
<a id="L374" name="L374"></a> 374         <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/16028.html" title="Multiple defined in 25 places.">fill</a>(spans, 0);
<a id="L375" name="L375"></a> 375         colIterator.<a href="../D/33062.html" title="Multiple defined in 2 places.">setLayoutArrays</a>(offsets, spans, targetSpan);
<a id="L376" name="L376"></a> 376         <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L3144" title="Defined at 3144 in src/javax/swing/text/html/CSS.java.">calculateTiledLayout</a>(colIterator, targetSpan);
<a id="L377" name="L377"></a> 377     <em class="brace">}</em>
<a id="L378" name="L378"></a> 378 
<div class="comment">
      Calculate the requirements for each column.  The calculation
      is done as two passes over the table.  The table cells that
      occupy a single column are scanned first to determine the
      maximum of minimum, preferred, and maximum spans along the
      give axis.  Table cells that span multiple columns are excluded
      from the first pass.  A second pass is made to determine if
      the cells that span multiple columns are satisfied.  If the
      column requirements are not satisified, the needs of the
      multi-column cell is mixed into the existing column requirements.
      The calculation of the multi-column distribution is based upon
      the proportions of the existing column requirements and taking
      into consideration any constraining maximums.</div>
<a id="L393" name="L393"></a> 393     <strong class="reserved">void</strong> <a href="../R/10795.html" title="Multiple referred from 2 places.">calculateColumnRequirements</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L394" name="L394"></a> 394         <em class="comment">// clean columnRequirements</em>
<a id="L395" name="L395"></a> 395         <strong class="reserved">for</strong> (<a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req : columnRequirements) <em class="brace">{</em>
<a id="L396" name="L396"></a> 396             req.minimum = 0;
<a id="L397" name="L397"></a> 397             req.preferred = 0;
<a id="L398" name="L398"></a> 398             req.maximum = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L399" name="L399"></a> 399         <em class="brace">}</em>
<a id="L400" name="L400"></a> 400         <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> host = <a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>();
<a id="L401" name="L401"></a> 401         <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L402" name="L402"></a> 402             <strong class="reserved">if</strong> (host <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>) <em class="brace">{</em>
<a id="L403" name="L403"></a> 403                 skipComments = !((<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)host).<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>();
<a id="L404" name="L404"></a> 404             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L405" name="L405"></a> 405                 skipComments = <strong class="reserved">true</strong>;
<a id="L406" name="L406"></a> 406             <em class="brace">}</em>
<a id="L407" name="L407"></a> 407         <em class="brace">}</em>
<a id="L408" name="L408"></a> 408         <em class="comment">// pass 1 - single column cells</em>
<a id="L409" name="L409"></a> 409         <strong class="reserved">boolean</strong> hasMultiColumn = <strong class="reserved">false</strong>;
<a id="L410" name="L410"></a> 410         <strong class="reserved">int</strong> nrows = <a href="../D/22156.html" title="Multiple defined in 20 places.">getRowCount</a>();
<a id="L411" name="L411"></a> 411         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nrows; i++) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> row = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(i);
<a id="L413" name="L413"></a> 413             <strong class="reserved">int</strong> col = 0;
<a id="L414" name="L414"></a> 414             <strong class="reserved">int</strong> ncells = row.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L415" name="L415"></a> 415             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> cell = 0; cell &lt; ncells; cell++) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> cv = row.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(cell);
<a id="L417" name="L417"></a> 417                 <strong class="reserved">if</strong> (skipComments &amp;&amp; !(cv <strong class="reserved">instanceof</strong> <a href="../S/3296.html#L1694" title="Defined at 1694 in src/javax/swing/text/html/TableView.java.">CellView</a>)) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418                     <strong class="reserved">continue</strong>;
<a id="L419" name="L419"></a> 419                 <em class="brace">}</em>
<a id="L420" name="L420"></a> 420                 <strong class="reserved">for</strong> (; row.<a href="../D/25553.html" title="Multiple defined in 2 places.">isFilled</a>(col); col++); <em class="comment">// advance to a free column</em>
<a id="L421" name="L421"></a> 421                 <strong class="reserved">int</strong> rowSpan = <a href="../D/22185.html" title="Multiple defined in 2 places.">getRowsOccupied</a>(cv);
<a id="L422" name="L422"></a> 422                 <strong class="reserved">int</strong> colSpan = <a href="../D/17821.html" title="Multiple defined in 2 places.">getColumnsOccupied</a>(cv);
<a id="L423" name="L423"></a> 423                 <strong class="reserved">if</strong> (colSpan == 1) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424                     <a href="../D/12663.html" title="Multiple defined in 2 places.">checkSingleColumnCell</a>(axis, col, cv);
<a id="L425" name="L425"></a> 425                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L426" name="L426"></a> 426                     hasMultiColumn = <strong class="reserved">true</strong>;
<a id="L427" name="L427"></a> 427                     col += colSpan - 1;
<a id="L428" name="L428"></a> 428                 <em class="brace">}</em>
<a id="L429" name="L429"></a> 429                 col++;
<a id="L430" name="L430"></a> 430             <em class="brace">}</em>
<a id="L431" name="L431"></a> 431         <em class="brace">}</em>
<a id="L432" name="L432"></a> 432 
<a id="L433" name="L433"></a> 433         <em class="comment">// pass 2 - multi-column cells</em>
<a id="L434" name="L434"></a> 434         <strong class="reserved">if</strong> (hasMultiColumn) <em class="brace">{</em>
<a id="L435" name="L435"></a> 435             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nrows; i++) <em class="brace">{</em>
<a id="L436" name="L436"></a> 436                 <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> row = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(i);
<a id="L437" name="L437"></a> 437                 <strong class="reserved">int</strong> col = 0;
<a id="L438" name="L438"></a> 438                 <strong class="reserved">int</strong> ncells = row.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L439" name="L439"></a> 439                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> cell = 0; cell &lt; ncells; cell++) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440                     <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> cv = row.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(cell);
<a id="L441" name="L441"></a> 441                     <strong class="reserved">if</strong> (skipComments &amp;&amp; !(cv <strong class="reserved">instanceof</strong> <a href="../S/3296.html#L1694" title="Defined at 1694 in src/javax/swing/text/html/TableView.java.">CellView</a>)) <em class="brace">{</em>
<a id="L442" name="L442"></a> 442                         <strong class="reserved">continue</strong>;
<a id="L443" name="L443"></a> 443                     <em class="brace">}</em>
<a id="L444" name="L444"></a> 444                     <strong class="reserved">for</strong> (; row.<a href="../D/25553.html" title="Multiple defined in 2 places.">isFilled</a>(col); col++); <em class="comment">// advance to a free column</em>
<a id="L445" name="L445"></a> 445                     <strong class="reserved">int</strong> colSpan = <a href="../D/17821.html" title="Multiple defined in 2 places.">getColumnsOccupied</a>(cv);
<a id="L446" name="L446"></a> 446                     <strong class="reserved">if</strong> (colSpan &gt; 1) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447                         <a href="../D/12541.html" title="Multiple defined in 2 places.">checkMultiColumnCell</a>(axis, col, colSpan, cv);
<a id="L448" name="L448"></a> 448                         col += colSpan - 1;
<a id="L449" name="L449"></a> 449                     <em class="brace">}</em>
<a id="L450" name="L450"></a> 450                     col++;
<a id="L451" name="L451"></a> 451                 <em class="brace">}</em>
<a id="L452" name="L452"></a> 452             <em class="brace">}</em>
<a id="L453" name="L453"></a> 453         <em class="brace">}</em>
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      check the requirements of a table cell that spans a single column.</div>
<a id="L459" name="L459"></a> 459     <strong class="reserved">void</strong> <a href="../R/11363.html" title="Multiple referred from 2 places.">checkSingleColumnCell</a>(<strong class="reserved">int</strong> axis, <strong class="reserved">int</strong> col, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L460" name="L460"></a> 460         <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req = columnRequirements[col];
<a id="L461" name="L461"></a> 461         req.minimum = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) v.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis), req.minimum);
<a id="L462" name="L462"></a> 462         req.preferred = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) v.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis), req.preferred);
<a id="L463" name="L463"></a> 463     <em class="brace">}</em>
<a id="L464" name="L464"></a> 464 
<div class="comment">
      check the requirements of a table cell that spans multiple
      columns.</div>
<a id="L469" name="L469"></a> 469     <strong class="reserved">void</strong> <a href="../R/11246.html" title="Multiple referred from 2 places.">checkMultiColumnCell</a>(<strong class="reserved">int</strong> axis, <strong class="reserved">int</strong> col, <strong class="reserved">int</strong> ncols, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470         <em class="comment">// calculate the totals</em>
<a id="L471" name="L471"></a> 471         <strong class="reserved">long</strong> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = 0;
<a id="L472" name="L472"></a> 472         <strong class="reserved">long</strong> pref = 0;
<a id="L473" name="L473"></a> 473         <strong class="reserved">long</strong> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = 0;
<a id="L474" name="L474"></a> 474         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; ncols; i++) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req = columnRequirements[col + i];
<a id="L476" name="L476"></a> 476             <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> += req.minimum;
<a id="L477" name="L477"></a> 477             pref += req.preferred;
<a id="L478" name="L478"></a> 478             <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> += req.maximum;
<a id="L479" name="L479"></a> 479         <em class="brace">}</em>
<a id="L480" name="L480"></a> 480 
<a id="L481" name="L481"></a> 481         <em class="comment">// check if the minimum size needs adjustment.</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">int</strong> cmin = (<strong class="reserved">int</strong>) v.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis);
<a id="L483" name="L483"></a> 483         <strong class="reserved">if</strong> (cmin &gt; <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>) <em class="brace">{</em>
<div class="comment">
              the columns that this cell spans need adjustment to fit
              this table cell.... calculate the adjustments.</div>
<a id="L488" name="L488"></a> 488             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>[] reqs = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>[ncols];
<a id="L489" name="L489"></a> 489             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; ncols; i++) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490                 reqs[i] = columnRequirements[col + i];
<a id="L491" name="L491"></a> 491             <em class="brace">}</em>
<a id="L492" name="L492"></a> 492             <strong class="reserved">int</strong>[] spans = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[ncols];
<a id="L493" name="L493"></a> 493             <strong class="reserved">int</strong>[] offsets = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[ncols];
<a id="L494" name="L494"></a> 494             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>.<a href="../D/12099.html" title="Multiple defined in 2 places.">calculateTiledPositions</a>(cmin, <strong class="reserved">null</strong>, reqs,
<a id="L495" name="L495"></a> 495                                                      offsets, spans);
<a id="L496" name="L496"></a> 496             <em class="comment">// apply the adjustments</em>
<a id="L497" name="L497"></a> 497             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; ncols; i++) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498                 <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req = reqs[i];
<a id="L499" name="L499"></a> 499                 req.minimum = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(spans[i], req.minimum);
<a id="L500" name="L500"></a> 500                 req.preferred = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(req.minimum, req.preferred);
<a id="L501" name="L501"></a> 501                 req.maximum = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(req.preferred, req.maximum);
<a id="L502" name="L502"></a> 502             <em class="brace">}</em>
<a id="L503" name="L503"></a> 503         <em class="brace">}</em>
<a id="L504" name="L504"></a> 504 
<a id="L505" name="L505"></a> 505         <em class="comment">// check if the preferred size needs adjustment.</em>
<a id="L506" name="L506"></a> 506         <strong class="reserved">int</strong> cpref = (<strong class="reserved">int</strong>) v.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis);
<a id="L507" name="L507"></a> 507         <strong class="reserved">if</strong> (cpref &gt; pref) <em class="brace">{</em>
<div class="comment">
              the columns that this cell spans need adjustment to fit
              this table cell.... calculate the adjustments.</div>
<a id="L512" name="L512"></a> 512             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>[] reqs = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>[ncols];
<a id="L513" name="L513"></a> 513             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; ncols; i++) <em class="brace">{</em>
<a id="L514" name="L514"></a> 514                 reqs[i] = columnRequirements[col + i];
<a id="L515" name="L515"></a> 515             <em class="brace">}</em>
<a id="L516" name="L516"></a> 516             <strong class="reserved">int</strong>[] spans = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[ncols];
<a id="L517" name="L517"></a> 517             <strong class="reserved">int</strong>[] offsets = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[ncols];
<a id="L518" name="L518"></a> 518             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>.<a href="../D/12099.html" title="Multiple defined in 2 places.">calculateTiledPositions</a>(cpref, <strong class="reserved">null</strong>, reqs,
<a id="L519" name="L519"></a> 519                                                      offsets, spans);
<a id="L520" name="L520"></a> 520             <em class="comment">// apply the adjustments</em>
<a id="L521" name="L521"></a> 521             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; ncols; i++) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522                 <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req = reqs[i];
<a id="L523" name="L523"></a> 523                 req.preferred = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(spans[i], req.preferred);
<a id="L524" name="L524"></a> 524                 req.maximum = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(req.preferred, req.maximum);
<a id="L525" name="L525"></a> 525             <em class="brace">}</em>
<a id="L526" name="L526"></a> 526         <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<a id="L528" name="L528"></a> 528     <em class="brace">}</em>
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530     <em class="comment">// --- BoxView methods -----------------------------------------</em>
<a id="L531" name="L531"></a> 531 
<div class="comment">
      Calculate the requirements for the minor axis.  This is called by
      the superclass whenever the requirements need to be updated (i.e.
      a preferenceChanged was messaged through this view).
      <p>
      This is implemented to calculate the requirements as the sum of the
      requirements of the columns and then adjust it if the
      CSS width or height attribute is specified and applicable to
      the axis.</p></div>
<a id="L542" name="L542"></a> 542     <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10822.html" title="Multiple referred from 8 places.">calculateMinorAxisRequirements</a>(<strong class="reserved">int</strong> axis, <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543         <a href="../D/36117.html" title="Multiple defined in 4 places.">updateGrid</a>();
<a id="L544" name="L544"></a> 544 
<a id="L545" name="L545"></a> 545         <em class="comment">// calculate column requirements for each column</em>
<a id="L546" name="L546"></a> 546         <a href="../D/12049.html" title="Multiple defined in 2 places.">calculateColumnRequirements</a>(axis);
<a id="L547" name="L547"></a> 547 
<a id="L548" name="L548"></a> 548 
<a id="L549" name="L549"></a> 549         <em class="comment">// the requirements are the sum of the columns.</em>
<a id="L550" name="L550"></a> 550         <strong class="reserved">if</strong> (r == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L551" name="L551"></a> 551             r = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>();
<a id="L552" name="L552"></a> 552         <em class="brace">}</em>
<a id="L553" name="L553"></a> 553         <strong class="reserved">long</strong> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = 0;
<a id="L554" name="L554"></a> 554         <strong class="reserved">long</strong> pref = 0;
<a id="L555" name="L555"></a> 555         <strong class="reserved">int</strong> n = columnRequirements.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L556" name="L556"></a> 556         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req = columnRequirements[i];
<a id="L558" name="L558"></a> 558             <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> += req.minimum;
<a id="L559" name="L559"></a> 559             pref += req.preferred;
<a id="L560" name="L560"></a> 560         <em class="brace">}</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">int</strong> <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = (n + 1) * cellSpacing + 2 * borderWidth;
<a id="L562" name="L562"></a> 562         <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> += <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a>;
<a id="L563" name="L563"></a> 563         pref += <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a>;
<a id="L564" name="L564"></a> 564         r.minimum = (<strong class="reserved">int</strong>) <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>;
<a id="L565" name="L565"></a> 565         r.preferred = (<strong class="reserved">int</strong>) pref;
<a id="L566" name="L566"></a> 566         r.maximum = (<strong class="reserved">int</strong>) pref;
<a id="L567" name="L567"></a> 567 
<a id="L568" name="L568"></a> 568 
<a id="L569" name="L569"></a> 569         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L570" name="L570"></a> 570         <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a> cssWidth = (<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(
<a id="L571" name="L571"></a> 571                                                     <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.WIDTH);
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573         <strong class="reserved">if</strong> (<a href="../S/3291.html#L40" title="Defined at 40 in src/javax/swing/text/html/BlockView.java.">BlockView</a>.<a href="../S/3291.html#L202" title="Defined at 202 in src/javax/swing/text/html/BlockView.java.">spanSetFromAttributes</a>(axis, r, cssWidth, <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L574" name="L574"></a> 574             <strong class="reserved">if</strong> (r.minimum &lt; (<strong class="reserved">int</strong>)<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>) <em class="brace">{</em>
<a id="L575" name="L575"></a> 575                 <em class="comment">// The user has requested a smaller size than is needed to</em>
<a id="L576" name="L576"></a> 576                 <em class="comment">// show the table, override it.</em>
<a id="L577" name="L577"></a> 577                 r.maximum = r.minimum = r.preferred = (<strong class="reserved">int</strong>) <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>;
<a id="L578" name="L578"></a> 578             <em class="brace">}</em>
<a id="L579" name="L579"></a> 579         <em class="brace">}</em>
<a id="L580" name="L580"></a> 580         totalColumnRequirements.minimum = r.minimum;
<a id="L581" name="L581"></a> 581         totalColumnRequirements.preferred = r.preferred;
<a id="L582" name="L582"></a> 582         totalColumnRequirements.maximum = r.maximum;
<a id="L583" name="L583"></a> 583 
<a id="L584" name="L584"></a> 584         <em class="comment">// set the alignment</em>
<a id="L585" name="L585"></a> 585         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TEXT_ALIGN);
<a id="L586" name="L586"></a> 586         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L587" name="L587"></a> 587             <em class="comment">// set horizontal alignment</em>
<a id="L588" name="L588"></a> 588             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ta = <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L589" name="L589"></a> 589             <strong class="reserved">if</strong> (ta.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("left")) <em class="brace">{</em>
<a id="L590" name="L590"></a> 590                 r.alignment = 0;
<a id="L591" name="L591"></a> 591             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ta.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("center")) <em class="brace">{</em>
<a id="L592" name="L592"></a> 592                 r.alignment = 0.5f;
<a id="L593" name="L593"></a> 593             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ta.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("right")) <em class="brace">{</em>
<a id="L594" name="L594"></a> 594                 r.alignment = 1;
<a id="L595" name="L595"></a> 595             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L596" name="L596"></a> 596                 r.alignment = 0;
<a id="L597" name="L597"></a> 597             <em class="brace">}</em>
<a id="L598" name="L598"></a> 598         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L599" name="L599"></a> 599             r.alignment = 0;
<a id="L600" name="L600"></a> 600         <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<a id="L602" name="L602"></a> 602         <strong class="reserved">return</strong> r;
<a id="L603" name="L603"></a> 603     <em class="brace">}</em>
<a id="L604" name="L604"></a> 604 
<div class="comment">
      Calculate the requirements for the major axis.  This is called by
      the superclass whenever the requirements need to be updated (i.e.
      a preferenceChanged was messaged through this view).
      <p>
      This is implemented to provide the superclass behavior adjusted for
      multi-row table cells.</p></div>
<a id="L613" name="L613"></a> 613     <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10814.html" title="Multiple referred from 6 places.">calculateMajorAxisRequirements</a>(<strong class="reserved">int</strong> axis, <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L614" name="L614"></a> 614         <a href="../S/3296.html#L209" title="Defined at 209 in src/javax/swing/text/html/TableView.java.">updateInsets</a>();
<a id="L615" name="L615"></a> 615         rowIterator.<a href="../S/3296.html#L1146" title="Defined at 1146 in src/javax/swing/text/html/TableView.java.">updateAdjustments</a>();
<a id="L616" name="L616"></a> 616         r = <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L3102" title="Defined at 3102 in src/javax/swing/text/html/CSS.java.">calculateTiledRequirements</a>(rowIterator, r);
<a id="L617" name="L617"></a> 617         r.maximum = r.preferred;
<a id="L618" name="L618"></a> 618         <strong class="reserved">return</strong> r;
<a id="L619" name="L619"></a> 619     <em class="brace">}</em>
<a id="L620" name="L620"></a> 620 
<div class="comment">
      Perform layout for the minor axis of the box (i.e. the
      axis orthogonal to the axis that it represents).  The results
      of the layout should be placed in the given arrays which represent
      the allocations to the children along the minor axis.  This
      is called by the superclass whenever the layout needs to be
      updated along the minor axis.
      <p>
      This is implemented to call the
      <a href="#layoutColumns">layoutColumns</a> method, and then
      forward to the superclass to actually carry out the layout
      of the tables rows.
      @param targetSpan the total span given to the view, which
       would be used to layout the children
      @param axis the axis being layed out
      @param offsets the offsets from the origin of the view for
       each of the child views.  This is a return value and is
       filled in by the implementation of this method
      @param spans the span of each child view;  this is a return
       value and is filled in by the implementation of this method
      @return the offset and span for each child view in the
       offsets and spans parameters</p></div>
<a id="L645" name="L645"></a> 645     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22444.html" title="Multiple referred from 6 places.">layoutMinorAxis</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong> axis, <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646         <em class="comment">// make grid is properly represented</em>
<a id="L647" name="L647"></a> 647         <a href="../D/36117.html" title="Multiple defined in 4 places.">updateGrid</a>();
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649         <em class="comment">// all of the row layouts are invalid, so mark them that way</em>
<a id="L650" name="L650"></a> 650         <strong class="reserved">int</strong> n = <a href="../D/22156.html" title="Multiple defined in 20 places.">getRowCount</a>();
<a id="L651" name="L651"></a> 651         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> row = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(i);
<a id="L653" name="L653"></a> 653             row.<a href="../S/3355.html#L127" title="Defined at 127 in src/javax/swing/text/BoxView.java.">layoutChanged</a>(axis);
<a id="L654" name="L654"></a> 654         <em class="brace">}</em>
<a id="L655" name="L655"></a> 655 
<a id="L656" name="L656"></a> 656         <em class="comment">// calculate column spans</em>
<a id="L657" name="L657"></a> 657         <a href="../D/26768.html" title="Multiple defined in 2 places.">layoutColumns</a>(targetSpan, columnOffsets, columnSpans, columnRequirements);
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659         <em class="comment">// continue normal layout</em>
<a id="L660" name="L660"></a> 660         <strong class="reserved">super</strong>.<a href="../D/26780.html" title="Multiple defined in 8 places.">layoutMinorAxis</a>(targetSpan, axis, offsets, spans);
<a id="L661" name="L661"></a> 661     <em class="brace">}</em>
<a id="L662" name="L662"></a> 662 
<a id="L663" name="L663"></a> 663 
<div class="comment">
      Perform layout for the major axis of the box (i.e. the
      axis that it represents).  The results
      of the layout should be placed in the given arrays which represent
      the allocations to the children along the minor axis.  This
      is called by the superclass whenever the layout needs to be
      updated along the minor axis.
      <p>
      This method is where the layout of the table rows within the
      table takes place.  This method is implemented to call the use
      the RowIterator and the CSS collapsing tile to layout
      with border spacing and border collapsing capabilities.
      @param targetSpan the total span given to the view, which
       would be used to layout the children
      @param axis the axis being layed out
      @param offsets the offsets from the origin of the view for
       each of the child views; this is a return value and is
       filled in by the implementation of this method
      @param spans the span of each child view; this is a return
       value and is filled in by the implementation of this method
      @return the offset and span for each child view in the
       offsets and spans parameters</p></div>
<a id="L688" name="L688"></a> 688     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22442.html" title="Multiple referred from 4 places.">layoutMajorAxis</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong> axis, <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L689" name="L689"></a> 689         rowIterator.<a href="../D/33062.html" title="Multiple defined in 2 places.">setLayoutArrays</a>(offsets, spans);
<a id="L690" name="L690"></a> 690         <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L3144" title="Defined at 3144 in src/javax/swing/text/html/CSS.java.">calculateTiledLayout</a>(rowIterator, targetSpan);
<a id="L691" name="L691"></a> 691 
<a id="L692" name="L692"></a> 692         <strong class="reserved">if</strong> (captionIndex != -1) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693             <em class="comment">// place the caption</em>
<a id="L694" name="L694"></a> 694             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> caption = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(captionIndex);
<a id="L695" name="L695"></a> 695             <strong class="reserved">int</strong> h = (<strong class="reserved">int</strong>) caption.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(Y_AXIS);
<a id="L696" name="L696"></a> 696             spans[captionIndex] = h;
<a id="L697" name="L697"></a> 697             <strong class="reserved">short</strong> boxBottom = (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(BOTTOM, <strong class="reserved">this</strong>);
<a id="L698" name="L698"></a> 698             <strong class="reserved">if</strong> (boxBottom != <a href="../D/17326.html" title="Multiple defined in 3 places.">getBottomInset</a>()) <em class="brace">{</em>
<a id="L699" name="L699"></a> 699                 offsets[captionIndex] = targetSpan + boxBottom;
<a id="L700" name="L700"></a> 700             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L701" name="L701"></a> 701                 offsets[captionIndex] = - <a href="../D/23206.html" title="Multiple defined in 2 places.">getTopInset</a>();
<a id="L702" name="L702"></a> 702             <em class="brace">}</em>
<a id="L703" name="L703"></a> 703         <em class="brace">}</em>
<a id="L704" name="L704"></a> 704     <em class="brace">}</em>
<a id="L705" name="L705"></a> 705 
<div class="comment">
      Fetches the child view that represents the given position in
      the model.  This is implemented to walk through the children
      looking for a range that contains the given position.  In this
      view the children do not necessarily have a one to one mapping
      with the child elements.
      @param pos  the search position &gt;= 0
      @param a  the allocation to the table on entry, and the
        allocation of the view containing the position on exit
      @return  the view representing the given position, or
        null if there isn't one</div>
<a id="L719" name="L719"></a> 719     <strong class="reserved">protected</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19803.html" title="Multiple referred from 6 places.">getViewAtPosition</a>(<strong class="reserved">int</strong> pos, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L720" name="L720"></a> 720         <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L721" name="L721"></a> 721         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L722" name="L722"></a> 722             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L723" name="L723"></a> 723             <strong class="reserved">int</strong> p0 = v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L724" name="L724"></a> 724             <strong class="reserved">int</strong> p1 = v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L725" name="L725"></a> 725             <strong class="reserved">if</strong> ((pos &gt;= p0) &amp;&amp; (pos &lt; p1)) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726                 <em class="comment">// it's in this view.</em>
<a id="L727" name="L727"></a> 727                 <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728                     <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(i, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L729" name="L729"></a> 729                 <em class="brace">}</em>
<a id="L730" name="L730"></a> 730                 <strong class="reserved">return</strong> v;
<a id="L731" name="L731"></a> 731             <em class="brace">}</em>
<a id="L732" name="L732"></a> 732         <em class="brace">}</em>
<a id="L733" name="L733"></a> 733         <strong class="reserved">if</strong> (pos == <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L734" name="L734"></a> 734             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(n - 1);
<a id="L735" name="L735"></a> 735             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736                 <strong class="reserved">this</strong>.<a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(n - 1, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L737" name="L737"></a> 737             <em class="brace">}</em>
<a id="L738" name="L738"></a> 738             <strong class="reserved">return</strong> v;
<a id="L739" name="L739"></a> 739         <em class="brace">}</em>
<a id="L740" name="L740"></a> 740         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L741" name="L741"></a> 741     <em class="brace">}</em>
<a id="L742" name="L742"></a> 742 
<a id="L743" name="L743"></a> 743     <em class="comment">// --- View methods ---------------------------------------------</em>
<a id="L744" name="L744"></a> 744 
<div class="comment">
      Fetches the attributes to use when rendering.  This is
      implemented to multiplex the attributes specified in the
      model with a StyleSheet.</div>
<a id="L750" name="L750"></a> 750     <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L752" name="L752"></a> 752             <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> sheet = <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>();
<a id="L753" name="L753"></a> 753             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = sheet.<a href="../D/23600.html" title="Multiple defined in 2 places.">getViewAttributes</a>(<strong class="reserved">this</strong>);
<a id="L754" name="L754"></a> 754         <em class="brace">}</em>
<a id="L755" name="L755"></a> 755         <strong class="reserved">return</strong> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>;
<a id="L756" name="L756"></a> 756     <em class="brace">}</em>
<a id="L757" name="L757"></a> 757 
<div class="comment">
      Renders using the given rendering surface and area on that
      surface.  This is implemented to delegate to the css box
      painter to paint the border and background prior to the
      interior.  The superclass culls rendering the children
      that don't directly intersect the clip and the row may
      have cells hanging from a row above in it.  The table
      does not use the superclass rendering behavior and instead
      paints all of the rows and lets the rows cull those
      cells not intersecting the clip region.
      @param g the rendering surface to use
      @param allocation the allocated region to render into
      @see View#paint</div>
<a id="L773" name="L773"></a> 773     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> allocation) <em class="brace">{</em>
<a id="L774" name="L774"></a> 774         <em class="comment">// paint the border</em>
<a id="L775" name="L775"></a> 775         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = allocation.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L776" name="L776"></a> 776         <a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L777" name="L777"></a> 777         <strong class="reserved">if</strong> (captionIndex != -1) <em class="brace">{</em>
<a id="L778" name="L778"></a> 778             <em class="comment">// adjust the border for the caption</em>
<a id="L779" name="L779"></a> 779             <strong class="reserved">short</strong> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(TOP, <strong class="reserved">this</strong>);
<a id="L780" name="L780"></a> 780             <strong class="reserved">short</strong> bottom = (<strong class="reserved">short</strong>) painter.<a href="../S/3315.html#L1818" title="Defined at 1818 in src/javax/swing/text/html/StyleSheet.java.">getInset</a>(BOTTOM, <strong class="reserved">this</strong>);
<a id="L781" name="L781"></a> 781             <strong class="reserved">if</strong> (<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> != <a href="../D/23206.html" title="Multiple defined in 2 places.">getTopInset</a>()) <em class="brace">{</em>
<a id="L782" name="L782"></a> 782                 <strong class="reserved">int</strong> h = <a href="../D/23206.html" title="Multiple defined in 2 places.">getTopInset</a>() - <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>;
<a id="L783" name="L783"></a> 783                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.y += h;
<a id="L784" name="L784"></a> 784                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> -= h;
<a id="L785" name="L785"></a> 785             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L786" name="L786"></a> 786                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> -= <a href="../D/17326.html" title="Multiple defined in 3 places.">getBottomInset</a>() - bottom;
<a id="L787" name="L787"></a> 787             <em class="brace">}</em>
<a id="L788" name="L788"></a> 788         <em class="brace">}</em>
<a id="L789" name="L789"></a> 789         painter.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.y, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>, <strong class="reserved">this</strong>);
<a id="L790" name="L790"></a> 790         <em class="comment">// paint interior</em>
<a id="L791" name="L791"></a> 791         <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L792" name="L792"></a> 792         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L793" name="L793"></a> 793             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L794" name="L794"></a> 794             v.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, <a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(i, allocation));
<a id="L795" name="L795"></a> 795         <em class="brace">}</em>
<a id="L796" name="L796"></a> 796         <em class="comment">//super.paint(g, a);</em>
<a id="L797" name="L797"></a> 797     <em class="brace">}</em>
<a id="L798" name="L798"></a> 798 
<div class="comment">
      Establishes the parent view for this view.  This is
      guaranteed to be called before any other methods if the
      parent view is functioning properly.
      <p>
      This is implemented
      to forward to the superclass as well as call the
      <a href="#setPropertiesFromAttributes">setPropertiesFromAttributes</a>
      method to set the paragraph properties from the css
      attributes.  The call is made at this time to ensure
      the ability to resolve upward through the parents
      view attributes.
      @param parent the new parent, or null if the view is
       being removed from a parent it was previously added
       to</p></div>
<a id="L816" name="L816"></a> 816     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27912.html" title="Multiple referred from 145 places.">setParent</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L817" name="L817"></a> 817         <strong class="reserved">super</strong>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L818" name="L818"></a> 818         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L819" name="L819"></a> 819             <a href="../D/33621.html" title="Multiple defined in 12 places.">setPropertiesFromAttributes</a>();
<a id="L820" name="L820"></a> 820         <em class="brace">}</em>
<a id="L821" name="L821"></a> 821     <em class="brace">}</em>
<a id="L822" name="L822"></a> 822 
<div class="comment">
      Fetches the ViewFactory implementation that is feeding
      the view hierarchy.
      This replaces the ViewFactory with an implementation that
      calls through to the createTableRow and createTableCell
      methods.   If the element given to the factory isn't a
      table row or cell, the request is delegated to the factory
      produced by the superclass behavior.
      @return the factory, null if none</div>
<a id="L834" name="L834"></a> 834     <strong class="reserved">public</strong> <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> <a href="../R/19806.html" title="Multiple referred from 11 places.">getViewFactory</a>() <em class="brace">{</em>
<a id="L835" name="L835"></a> 835         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L836" name="L836"></a> 836     <em class="brace">}</em>
<a id="L837" name="L837"></a> 837 
<div class="comment">
      Gives notification that something was inserted into
      the document in a location that this view is responsible for.
      This replaces the ViewFactory with an implementation that
      calls through to the createTableRow and createTableCell
      methods.   If the element given to the factory isn't a
      table row or cell, the request is delegated to the factory
      passed as an argument.
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see View#insertUpdate</div>
<a id="L852" name="L852"></a> 852     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L853" name="L853"></a> 853         <strong class="reserved">super</strong>.<a href="../D/24781.html" title="Multiple defined in 28 places.">insertUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">this</strong>);
<a id="L854" name="L854"></a> 854     <em class="brace">}</em>
<a id="L855" name="L855"></a> 855 
<div class="comment">
      Gives notification that something was removed from the document
      in a location that this view is responsible for.
      This replaces the ViewFactory with an implementation that
      calls through to the createTableRow and createTableCell
      methods.   If the element given to the factory isn't a
      table row or cell, the request is delegated to the factory
      passed as an argument.
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see View#removeUpdate</div>
<a id="L870" name="L870"></a> 870     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26095.html" title="Multiple referred from 20 places.">removeUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L871" name="L871"></a> 871         <strong class="reserved">super</strong>.<a href="../D/30986.html" title="Multiple defined in 27 places.">removeUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">this</strong>);
<a id="L872" name="L872"></a> 872     <em class="brace">}</em>
<a id="L873" name="L873"></a> 873 
<div class="comment">
      Gives notification from the document that attributes were changed
      in a location that this view is responsible for.
      This replaces the ViewFactory with an implementation that
      calls through to the createTableRow and createTableCell
      methods.   If the element given to the factory isn't a
      table row or cell, the request is delegated to the factory
      passed as an argument.
      @param e the change information from the associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see View#changedUpdate</div>
<a id="L888" name="L888"></a> 888     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L889" name="L889"></a> 889         <strong class="reserved">super</strong>.<a href="../D/12316.html" title="Multiple defined in 27 places.">changedUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">this</strong>);
<a id="L890" name="L890"></a> 890     <em class="brace">}</em>
<a id="L891" name="L891"></a> 891 
<a id="L892" name="L892"></a> 892     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14775.html" title="Multiple referred from 7 places.">forwardUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../S/3381.html#L143" title="Defined at 143 in src/javax/swing/event/DocumentEvent.java.">ElementChange</a> ec,
<a id="L893" name="L893"></a> 893                                  <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L894" name="L894"></a> 894         <strong class="reserved">super</strong>.<a href="../D/16560.html" title="Multiple defined in 5 places.">forwardUpdate</a>(ec, e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L895" name="L895"></a> 895         <em class="comment">// A change in any of the table cells usually effects the whole table,</em>
<a id="L896" name="L896"></a> 896         <em class="comment">// so redraw it all!</em>
<a id="L897" name="L897"></a> 897         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L898" name="L898"></a> 898             <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>();
<a id="L899" name="L899"></a> 899             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L900" name="L900"></a> 900                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ? (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> :
<a id="L901" name="L901"></a> 901                                    <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L902" name="L902"></a> 902                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>(alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, alloc.y, alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L903" name="L903"></a> 903             <em class="brace">}</em>
<a id="L904" name="L904"></a> 904         <em class="brace">}</em>
<a id="L905" name="L905"></a> 905     <em class="brace">}</em>
<a id="L906" name="L906"></a> 906 
<div class="comment">
      Change the child views.  This is implemented to
      provide the superclass behavior and invalidate the
      grid so that rows and columns will be recalculated.</div>
<a id="L912" name="L912"></a> 912     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] views) <em class="brace">{</em>
<a id="L913" name="L913"></a> 913         <strong class="reserved">super</strong>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, views);
<a id="L914" name="L914"></a> 914         <a href="../D/25030.html" title="Multiple defined in 2 places.">invalidateGrid</a>();
<a id="L915" name="L915"></a> 915     <em class="brace">}</em>
<a id="L916" name="L916"></a> 916 
<a id="L917" name="L917"></a> 917     <em class="comment">// --- ViewFactory methods ------------------------------------------</em>
<a id="L918" name="L918"></a> 918 
<div class="comment">
      The table itself acts as a factory for the various
      views that actually represent pieces of the table.
      All other factory activity is delegated to the factory
      returned by the parent of the table.</div>
<a id="L925" name="L925"></a> 925     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/12190.html" title="Multiple referred from 234 places.">create</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L926" name="L926"></a> 926         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L927" name="L927"></a> 927         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) <em class="brace">{</em>
<a id="L928" name="L928"></a> 928             <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> <a href="../D/26729.html" title="Multiple defined in 5 places.">kind</a> = (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L929" name="L929"></a> 929             <strong class="reserved">if</strong> (<a href="../D/26729.html" title="Multiple defined in 5 places.">kind</a> == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TR) <em class="brace">{</em>
<a id="L930" name="L930"></a> 930                 <strong class="reserved">return</strong> <a href="../D/14239.html" title="Multiple defined in 2 places.">createTableRow</a>(elem);
<a id="L931" name="L931"></a> 931             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((<a href="../D/26729.html" title="Multiple defined in 5 places.">kind</a> == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TD) || (<a href="../D/26729.html" title="Multiple defined in 5 places.">kind</a> == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TH)) <em class="brace">{</em>
<a id="L932" name="L932"></a> 932                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3296.html#L1694" title="Defined at 1694 in src/javax/swing/text/html/TableView.java.">CellView</a>(elem);
<a id="L933" name="L933"></a> 933             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/26729.html" title="Multiple defined in 5 places.">kind</a> == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CAPTION) <em class="brace">{</em>
<a id="L934" name="L934"></a> 934                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.html.<a href="../D/6591.html" title="Multiple defined in 2 places.">ParagraphView</a>(elem);
<a id="L935" name="L935"></a> 935             <em class="brace">}</em>
<a id="L936" name="L936"></a> 936         <em class="brace">}</em>
<a id="L937" name="L937"></a> 937         <em class="comment">// default is to delegate to the normal factory</em>
<a id="L938" name="L938"></a> 938         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> p = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L939" name="L939"></a> 939         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L940" name="L940"></a> 940             <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f = p.<a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>();
<a id="L941" name="L941"></a> 941             <strong class="reserved">if</strong> (f != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L942" name="L942"></a> 942                 <strong class="reserved">return</strong> f.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(elem);
<a id="L943" name="L943"></a> 943             <em class="brace">}</em>
<a id="L944" name="L944"></a> 944         <em class="brace">}</em>
<a id="L945" name="L945"></a> 945         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L946" name="L946"></a> 946     <em class="brace">}</em>
<a id="L947" name="L947"></a> 947 
<a id="L948" name="L948"></a> 948     <em class="comment">// ---- variables ----------------------------------------------------</em>
<a id="L949" name="L949"></a> 949 
<a id="L950" name="L950"></a> 950     <strong class="reserved">private</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>;
<a id="L951" name="L951"></a> 951     <strong class="reserved">private</strong> <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a>.<a href="../S/3315.html#L1763" title="Defined at 1763 in src/javax/swing/text/html/StyleSheet.java.">BoxPainter</a> painter;
<a id="L952" name="L952"></a> 952 
<a id="L953" name="L953"></a> 953     <strong class="reserved">private</strong> <strong class="reserved">int</strong> cellSpacing;
<a id="L954" name="L954"></a> 954     <strong class="reserved">private</strong> <strong class="reserved">int</strong> borderWidth;
<a id="L955" name="L955"></a> 955 
<div class="comment">
      The index of the caption view if there is a caption.
      This has a value of -1 if there is no caption.  The
      caption lives in the inset area of the table, and is
      updated with each time the grid is recalculated.</div>
<a id="L962" name="L962"></a> 962     <strong class="reserved">private</strong> <strong class="reserved">int</strong> captionIndex;
<a id="L963" name="L963"></a> 963 
<div class="comment">
      Do any of the table cells contain a relative size
      specification?  This is updated with each call to
      updateGrid().  If this is true, the ColumnIterator
      will do extra work to calculate relative cell
      specifications.</div>
<a id="L971" name="L971"></a> 971     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> relativeCells;
<a id="L972" name="L972"></a> 972 
<div class="comment">
      Do any of the table cells span multiple rows?  If
      true, the RowRequirementIterator will do additional
      work to adjust the requirements of rows spanned by
      a single table cell.  This is updated with each call to
      updateGrid().</div>
<a id="L980" name="L980"></a> 980     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> multiRowCells;
<a id="L981" name="L981"></a> 981 
<a id="L982" name="L982"></a> 982     <strong class="reserved">int</strong>[] columnSpans;
<a id="L983" name="L983"></a> 983     <strong class="reserved">int</strong>[] columnOffsets;
<div class="comment">
      SizeRequirements for all the columns.</div>
<a id="L987" name="L987"></a> 987     <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> totalColumnRequirements;
<a id="L988" name="L988"></a> 988     <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>[] columnRequirements;
<a id="L989" name="L989"></a> 989 
<a id="L990" name="L990"></a> 990     <a href="../S/3296.html#L1141" title="Defined at 1141 in src/javax/swing/text/html/TableView.java.">RowIterator</a> rowIterator = <strong class="reserved">new</strong> <a href="../S/3296.html#L1141" title="Defined at 1141 in src/javax/swing/text/html/TableView.java.">RowIterator</a>();
<a id="L991" name="L991"></a> 991     <a href="../S/3296.html#L1001" title="Defined at 1001 in src/javax/swing/text/html/TableView.java.">ColumnIterator</a> colIterator = <strong class="reserved">new</strong> <a href="../S/3296.html#L1001" title="Defined at 1001 in src/javax/swing/text/html/TableView.java.">ColumnIterator</a>();
<a id="L992" name="L992"></a> 992 
<a id="L993" name="L993"></a> 993     <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>&gt; rows;
<a id="L994" name="L994"></a> 994 
<a id="L995" name="L995"></a> 995     <em class="comment">// whether to display comments inside table or not.</em>
<a id="L996" name="L996"></a> 996     <strong class="reserved">boolean</strong> skipComments = <strong class="reserved">false</strong>;
<a id="L997" name="L997"></a> 997 
<a id="L998" name="L998"></a> 998     <strong class="reserved">boolean</strong> gridValid;
<a id="L999" name="L999"></a> 999     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">private</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> EMPTY = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>();
<a id="L1000" name="L1000"></a>1000 
<a id="L1001" name="L1001"></a>1001     <strong class="reserved">class</strong> <a href="../S/3296.html#L991" title="Referred from 991 in src/javax/swing/text/html/TableView.java.">ColumnIterator</a> <strong class="reserved">implements</strong> <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L3283" title="Defined at 3283 in src/javax/swing/text/html/CSS.java.">LayoutIterator</a> <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002 
<div class="comment">
          Disable percentage adjustments which should only apply
          when calculating layout, not requirements.</div>
<a id="L1007" name="L1007"></a>1007         <strong class="reserved">void</strong> disablePercentages() <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008             percentages = <strong class="reserved">null</strong>;
<a id="L1009" name="L1009"></a>1009         <em class="brace">}</em>
<a id="L1010" name="L1010"></a>1010 
<div class="comment">
          Update percentage adjustments if they are needed.</div>
<a id="L1014" name="L1014"></a>1014         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3296.html#L1060" title="Referred from 1060 in src/javax/swing/text/html/TableView.java.">updatePercentagesAndAdjustmentWeights</a>(<strong class="reserved">int</strong> span) <em class="brace">{</em>
<a id="L1015" name="L1015"></a>1015             adjustmentWeights = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[columnRequirements.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L1016" name="L1016"></a>1016             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; columnRequirements.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1017" name="L1017"></a>1017                 adjustmentWeights[i] = 0;
<a id="L1018" name="L1018"></a>1018             <em class="brace">}</em>
<a id="L1019" name="L1019"></a>1019             <strong class="reserved">if</strong> (relativeCells) <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020                 percentages = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[columnRequirements.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L1021" name="L1021"></a>1021             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022                 percentages = <strong class="reserved">null</strong>;
<a id="L1023" name="L1023"></a>1023             <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024             <strong class="reserved">int</strong> nrows = <a href="../D/22156.html" title="Multiple defined in 20 places.">getRowCount</a>();
<a id="L1025" name="L1025"></a>1025             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> rowIndex = 0; rowIndex &lt; nrows; rowIndex++) <em class="brace">{</em>
<a id="L1026" name="L1026"></a>1026                 <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> row = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(rowIndex);
<a id="L1027" name="L1027"></a>1027                 <strong class="reserved">int</strong> col = 0;
<a id="L1028" name="L1028"></a>1028                 <strong class="reserved">int</strong> ncells = row.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1029" name="L1029"></a>1029                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> cell = 0; cell &lt; ncells; cell++, col++) <em class="brace">{</em>
<a id="L1030" name="L1030"></a>1030                     <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> cv = row.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(cell);
<a id="L1031" name="L1031"></a>1031                     <strong class="reserved">for</strong> (; row.<a href="../D/25553.html" title="Multiple defined in 2 places.">isFilled</a>(col); col++); <em class="comment">// advance to a free column</em>
<a id="L1032" name="L1032"></a>1032                     <strong class="reserved">int</strong> rowSpan = <a href="../D/22185.html" title="Multiple defined in 2 places.">getRowsOccupied</a>(cv);
<a id="L1033" name="L1033"></a>1033                     <strong class="reserved">int</strong> colSpan = <a href="../D/17821.html" title="Multiple defined in 2 places.">getColumnsOccupied</a>(cv);
<a id="L1034" name="L1034"></a>1034                     <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = cv.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1035" name="L1035"></a>1035                     <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a> lv = (<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L2239" title="Defined at 2239 in src/javax/swing/text/html/CSS.java.">LengthValue</a>)
<a id="L1036" name="L1036"></a>1036                         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.WIDTH);
<a id="L1037" name="L1037"></a>1037                     <strong class="reserved">if</strong> ( lv != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038                         <strong class="reserved">int</strong> len = (<strong class="reserved">int</strong>) (lv.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(span) / colSpan + 0.5f);
<a id="L1039" name="L1039"></a>1039                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; colSpan; i++) <em class="brace">{</em>
<a id="L1040" name="L1040"></a>1040                             <strong class="reserved">if</strong> (lv.<a href="../D/26054.html" title="Multiple defined in 2 places.">isPercentage</a>()) <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041                                 <em class="comment">// add a percentage requirement</em>
<a id="L1042" name="L1042"></a>1042                                 percentages[col+i] = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(percentages[col+i], len);
<a id="L1043" name="L1043"></a>1043                                 adjustmentWeights[col + i] = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(adjustmentWeights[col + i], WorstAdjustmentWeight);
<a id="L1044" name="L1044"></a>1044                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1045" name="L1045"></a>1045                                 adjustmentWeights[col + i] = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(adjustmentWeights[col + i], WorstAdjustmentWeight - 1);
<a id="L1046" name="L1046"></a>1046                             <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047                         <em class="brace">}</em>
<a id="L1048" name="L1048"></a>1048                     <em class="brace">}</em>
<a id="L1049" name="L1049"></a>1049                     col += colSpan - 1;
<a id="L1050" name="L1050"></a>1050                 <em class="brace">}</em>
<a id="L1051" name="L1051"></a>1051             <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052         <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053 
<div class="comment">
          Set the layout arrays to use for holding layout results</div>
<a id="L1057" name="L1057"></a>1057         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27647.html" title="Multiple referred from 2 places.">setLayoutArrays</a>(<strong class="reserved">int</strong> offsets[], <strong class="reserved">int</strong> spans[], <strong class="reserved">int</strong> targetSpan) <em class="brace">{</em>
<a id="L1058" name="L1058"></a>1058             <strong class="reserved">this</strong>.offsets = offsets;
<a id="L1059" name="L1059"></a>1059             <strong class="reserved">this</strong>.spans = spans;
<a id="L1060" name="L1060"></a>1060             <a href="../S/3296.html#L1014" title="Defined at 1014 in src/javax/swing/text/html/TableView.java.">updatePercentagesAndAdjustmentWeights</a>(targetSpan);
<a id="L1061" name="L1061"></a>1061         <em class="brace">}</em>
<a id="L1062" name="L1062"></a>1062 
<a id="L1063" name="L1063"></a>1063         <em class="comment">// --- RequirementIterator methods -------------------</em>
<a id="L1064" name="L1064"></a>1064 
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15841.html" title="Multiple referred from 20 places.">getCount</a>() <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066             <strong class="reserved">return</strong> columnRequirements.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1067" name="L1067"></a>1067         <em class="brace">}</em>
<a id="L1068" name="L1068"></a>1068 
<a id="L1069" name="L1069"></a>1069         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27555.html" title="Multiple referred from 63 places.">setIndex</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L1070" name="L1070"></a>1070             col = i;
<a id="L1071" name="L1071"></a>1071         <em class="brace">}</em>
<a id="L1072" name="L1072"></a>1072 
<a id="L1073" name="L1073"></a>1073         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27848.html" title="Multiple referred from 17 places.">setOffset</a>(<strong class="reserved">int</strong> offs) <em class="brace">{</em>
<a id="L1074" name="L1074"></a>1074             offsets[col] = offs;
<a id="L1075" name="L1075"></a>1075         <em class="brace">}</em>
<a id="L1076" name="L1076"></a>1076 
<a id="L1077" name="L1077"></a>1077         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>() <em class="brace">{</em>
<a id="L1078" name="L1078"></a>1078             <strong class="reserved">return</strong> offsets[col];
<a id="L1079" name="L1079"></a>1079         <em class="brace">}</em>
<a id="L1080" name="L1080"></a>1080 
<a id="L1081" name="L1081"></a>1081         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28210.html" title="Multiple referred from 6 places.">setSpan</a>(<strong class="reserved">int</strong> span) <em class="brace">{</em>
<a id="L1082" name="L1082"></a>1082             spans[col] = span;
<a id="L1083" name="L1083"></a>1083         <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084 
<a id="L1085" name="L1085"></a>1085         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19117.html" title="Multiple referred from 19 places.">getSpan</a>() <em class="brace">{</em>
<a id="L1086" name="L1086"></a>1086             <strong class="reserved">return</strong> spans[col];
<a id="L1087" name="L1087"></a>1087         <em class="brace">}</em>
<a id="L1088" name="L1088"></a>1088 
<a id="L1089" name="L1089"></a>1089         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17741.html" title="Multiple referred from 44 places.">getMinimumSpan</a>(<strong class="reserved">float</strong> parentSpan) <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090             <em class="comment">// do not care for percentages, since min span can't</em>
<a id="L1091" name="L1091"></a>1091             <em class="comment">// be less than columnRequirements[col].minimum,</em>
<a id="L1092" name="L1092"></a>1092             <em class="comment">// but can be less than percentage value.</em>
<a id="L1093" name="L1093"></a>1093             <strong class="reserved">return</strong> columnRequirements[col].minimum;
<a id="L1094" name="L1094"></a>1094         <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095 
<a id="L1096" name="L1096"></a>1096         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/18413.html" title="Multiple referred from 96 places.">getPreferredSpan</a>(<strong class="reserved">float</strong> parentSpan) <em class="brace">{</em>
<a id="L1097" name="L1097"></a>1097             <strong class="reserved">if</strong> ((percentages != <strong class="reserved">null</strong>) &amp;&amp; (percentages[col] != 0)) <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098                 <strong class="reserved">return</strong> <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(percentages[col], columnRequirements[col].minimum);
<a id="L1099" name="L1099"></a>1099             <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100             <strong class="reserved">return</strong> columnRequirements[col].preferred;
<a id="L1101" name="L1101"></a>1101         <em class="brace">}</em>
<a id="L1102" name="L1102"></a>1102 
<a id="L1103" name="L1103"></a>1103         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17622.html" title="Multiple referred from 43 places.">getMaximumSpan</a>(<strong class="reserved">float</strong> parentSpan) <em class="brace">{</em>
<a id="L1104" name="L1104"></a>1104             <strong class="reserved">return</strong> columnRequirements[col].maximum;
<a id="L1105" name="L1105"></a>1105         <em class="brace">}</em>
<a id="L1106" name="L1106"></a>1106 
<a id="L1107" name="L1107"></a>1107         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/15312.html" title="Multiple referred from 5 places.">getBorderWidth</a>() <em class="brace">{</em>
<a id="L1108" name="L1108"></a>1108             <strong class="reserved">return</strong> borderWidth;
<a id="L1109" name="L1109"></a>1109         <em class="brace">}</em>
<a id="L1110" name="L1110"></a>1110 
<a id="L1111" name="L1111"></a>1111 
<a id="L1112" name="L1112"></a>1112         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17319.html" title="Multiple referred from 2 places.">getLeadingCollapseSpan</a>() <em class="brace">{</em>
<a id="L1113" name="L1113"></a>1113             <strong class="reserved">return</strong> cellSpacing;
<a id="L1114" name="L1114"></a>1114         <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115 
<a id="L1116" name="L1116"></a>1116         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/19563.html" title="Multiple referred from 3 places.">getTrailingCollapseSpan</a>() <em class="brace">{</em>
<a id="L1117" name="L1117"></a>1117             <strong class="reserved">return</strong> cellSpacing;
<a id="L1118" name="L1118"></a>1118         <em class="brace">}</em>
<a id="L1119" name="L1119"></a>1119 
<a id="L1120" name="L1120"></a>1120         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/14993.html" title="Multiple referred from 4 places.">getAdjustmentWeight</a>() <em class="brace">{</em>
<a id="L1121" name="L1121"></a>1121             <strong class="reserved">return</strong> adjustmentWeights[col];
<a id="L1122" name="L1122"></a>1122         <em class="brace">}</em>
<a id="L1123" name="L1123"></a>1123 
<div class="comment">
          Current column index</div>
<a id="L1127" name="L1127"></a>1127         <strong class="reserved">private</strong> <strong class="reserved">int</strong> col;
<a id="L1128" name="L1128"></a>1128 
<div class="comment">
          percentage values (may be null since there
          might not be any).</div>
<a id="L1133" name="L1133"></a>1133         <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] percentages;
<a id="L1134" name="L1134"></a>1134 
<a id="L1135" name="L1135"></a>1135         <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] adjustmentWeights;
<a id="L1136" name="L1136"></a>1136 
<a id="L1137" name="L1137"></a>1137         <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] offsets;
<a id="L1138" name="L1138"></a>1138         <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] spans;
<a id="L1139" name="L1139"></a>1139     <em class="brace">}</em>
<a id="L1140" name="L1140"></a>1140 
<a id="L1141" name="L1141"></a>1141     <strong class="reserved">class</strong> <a href="../S/3296.html#L990" title="Referred from 990 in src/javax/swing/text/html/TableView.java.">RowIterator</a> <strong class="reserved">implements</strong> <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../S/3294.html#L3283" title="Defined at 3283 in src/javax/swing/text/html/CSS.java.">LayoutIterator</a> <em class="brace">{</em>
<a id="L1142" name="L1142"></a>1142 
<a id="L1143" name="L1143"></a>1143         RowIterator() <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144         <em class="brace">}</em>
<a id="L1145" name="L1145"></a>1145 
<a id="L1146" name="L1146"></a>1146         <strong class="reserved">void</strong> <a href="../S/3296.html#L615" title="Referred from 615 in src/javax/swing/text/html/TableView.java.">updateAdjustments</a>() <em class="brace">{</em>
<a id="L1147" name="L1147"></a>1147             <strong class="reserved">int</strong> axis = Y_AXIS;
<a id="L1148" name="L1148"></a>1148             <strong class="reserved">if</strong> (multiRowCells) <em class="brace">{</em>
<a id="L1149" name="L1149"></a>1149                 <em class="comment">// adjust requirements of multi-row cells</em>
<a id="L1150" name="L1150"></a>1150                 <strong class="reserved">int</strong> n = <a href="../D/22156.html" title="Multiple defined in 20 places.">getRowCount</a>();
<a id="L1151" name="L1151"></a>1151                 adjustments = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[n];
<a id="L1152" name="L1152"></a>1152                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1153" name="L1153"></a>1153                     <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(i);
<a id="L1154" name="L1154"></a>1154                     <strong class="reserved">if</strong> (rv.multiRowCells == <strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155                         <strong class="reserved">int</strong> ncells = rv.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1156" name="L1156"></a>1156                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; ncells; j++) <em class="brace">{</em>
<a id="L1157" name="L1157"></a>1157                             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = rv.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(j);
<a id="L1158" name="L1158"></a>1158                             <strong class="reserved">int</strong> nrows = <a href="../D/22185.html" title="Multiple defined in 2 places.">getRowsOccupied</a>(v);
<a id="L1159" name="L1159"></a>1159                             <strong class="reserved">if</strong> (nrows &gt; 1) <em class="brace">{</em>
<a id="L1160" name="L1160"></a>1160                                 <strong class="reserved">int</strong> spanNeeded = (<strong class="reserved">int</strong>) v.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis);
<a id="L1161" name="L1161"></a>1161                                 <a href="../S/3296.html#L1177" title="Defined at 1177 in src/javax/swing/text/html/TableView.java.">adjustMultiRowSpan</a>(spanNeeded, nrows, i);
<a id="L1162" name="L1162"></a>1162                             <em class="brace">}</em>
<a id="L1163" name="L1163"></a>1163                         <em class="brace">}</em>
<a id="L1164" name="L1164"></a>1164                     <em class="brace">}</em>
<a id="L1165" name="L1165"></a>1165                 <em class="brace">}</em>
<a id="L1166" name="L1166"></a>1166             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1167" name="L1167"></a>1167                 adjustments = <strong class="reserved">null</strong>;
<a id="L1168" name="L1168"></a>1168             <em class="brace">}</em>
<a id="L1169" name="L1169"></a>1169         <em class="brace">}</em>
<a id="L1170" name="L1170"></a>1170 
<div class="comment">
          Fixup preferences to accommodate a multi-row table cell
          if not already covered by existing preferences.  This is
          a no-op if not all of the rows needed (to do this check/fixup)
          have arrived yet.</div>
<a id="L1177" name="L1177"></a>1177         <strong class="reserved">void</strong> <a href="../S/3296.html#L1161" title="Referred from 1161 in src/javax/swing/text/html/TableView.java.">adjustMultiRowSpan</a>(<strong class="reserved">int</strong> spanNeeded, <strong class="reserved">int</strong> nrows, <strong class="reserved">int</strong> rowIndex) <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178             <strong class="reserved">if</strong> ((rowIndex + nrows) &gt; <a href="../D/18032.html" title="Multiple defined in 16 places.">getCount</a>()) <em class="brace">{</em>
<a id="L1179" name="L1179"></a>1179                 <em class="comment">// rows are missing (could be a bad rowspan specification)</em>
<a id="L1180" name="L1180"></a>1180                 <em class="comment">// or not all the rows have arrived.  Do the best we can with</em>
<a id="L1181" name="L1181"></a>1181                 <em class="comment">// the current set of rows.</em>
<a id="L1182" name="L1182"></a>1182                 nrows = <a href="../D/18032.html" title="Multiple defined in 16 places.">getCount</a>() - rowIndex;
<a id="L1183" name="L1183"></a>1183                 <strong class="reserved">if</strong> (nrows &lt; 1) <em class="brace">{</em>
<a id="L1184" name="L1184"></a>1184                     <strong class="reserved">return</strong>;
<a id="L1185" name="L1185"></a>1185                 <em class="brace">}</em>
<a id="L1186" name="L1186"></a>1186             <em class="brace">}</em>
<a id="L1187" name="L1187"></a>1187             <strong class="reserved">int</strong> span = 0;
<a id="L1188" name="L1188"></a>1188             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nrows; i++) <em class="brace">{</em>
<a id="L1189" name="L1189"></a>1189                 <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(rowIndex + i);
<a id="L1190" name="L1190"></a>1190                 span += rv.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(Y_AXIS);
<a id="L1191" name="L1191"></a>1191             <em class="brace">}</em>
<a id="L1192" name="L1192"></a>1192             <strong class="reserved">if</strong> (spanNeeded &gt; span) <em class="brace">{</em>
<a id="L1193" name="L1193"></a>1193                 <strong class="reserved">int</strong> <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = (spanNeeded - span);
<a id="L1194" name="L1194"></a>1194                 <strong class="reserved">int</strong> rowAdjust = <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> / nrows;
<a id="L1195" name="L1195"></a>1195                 <strong class="reserved">int</strong> firstAdjust = rowAdjust + (<a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> - (rowAdjust * nrows));
<a id="L1196" name="L1196"></a>1196                 <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(rowIndex);
<a id="L1197" name="L1197"></a>1197                 adjustments[rowIndex] = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(adjustments[rowIndex],
<a id="L1198" name="L1198"></a>1198                                                  firstAdjust);
<a id="L1199" name="L1199"></a>1199                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt; nrows; i++) <em class="brace">{</em>
<a id="L1200" name="L1200"></a>1200                     adjustments[rowIndex + i] = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(
<a id="L1201" name="L1201"></a>1201                         adjustments[rowIndex + i], rowAdjust);
<a id="L1202" name="L1202"></a>1202                 <em class="brace">}</em>
<a id="L1203" name="L1203"></a>1203             <em class="brace">}</em>
<a id="L1204" name="L1204"></a>1204         <em class="brace">}</em>
<a id="L1205" name="L1205"></a>1205 
<a id="L1206" name="L1206"></a>1206         <strong class="reserved">void</strong> <a href="../R/27647.html" title="Multiple referred from 2 places.">setLayoutArrays</a>(<strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L1207" name="L1207"></a>1207             <strong class="reserved">this</strong>.offsets = offsets;
<a id="L1208" name="L1208"></a>1208             <strong class="reserved">this</strong>.spans = spans;
<a id="L1209" name="L1209"></a>1209         <em class="brace">}</em>
<a id="L1210" name="L1210"></a>1210 
<a id="L1211" name="L1211"></a>1211         <em class="comment">// --- RequirementIterator methods -------------------</em>
<a id="L1212" name="L1212"></a>1212 
<a id="L1213" name="L1213"></a>1213         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27848.html" title="Multiple referred from 17 places.">setOffset</a>(<strong class="reserved">int</strong> offs) <em class="brace">{</em>
<a id="L1214" name="L1214"></a>1214             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L1215" name="L1215"></a>1215             <strong class="reserved">if</strong> (rv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1216" name="L1216"></a>1216                 offsets[rv.viewIndex] = offs;
<a id="L1217" name="L1217"></a>1217             <em class="brace">}</em>
<a id="L1218" name="L1218"></a>1218         <em class="brace">}</em>
<a id="L1219" name="L1219"></a>1219 
<a id="L1220" name="L1220"></a>1220         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>() <em class="brace">{</em>
<a id="L1221" name="L1221"></a>1221             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L1222" name="L1222"></a>1222             <strong class="reserved">if</strong> (rv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1223" name="L1223"></a>1223                 <strong class="reserved">return</strong> offsets[rv.viewIndex];
<a id="L1224" name="L1224"></a>1224             <em class="brace">}</em>
<a id="L1225" name="L1225"></a>1225             <strong class="reserved">return</strong> 0;
<a id="L1226" name="L1226"></a>1226         <em class="brace">}</em>
<a id="L1227" name="L1227"></a>1227 
<a id="L1228" name="L1228"></a>1228         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28210.html" title="Multiple referred from 6 places.">setSpan</a>(<strong class="reserved">int</strong> span) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L1230" name="L1230"></a>1230             <strong class="reserved">if</strong> (rv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1231" name="L1231"></a>1231                 spans[rv.viewIndex] = span;
<a id="L1232" name="L1232"></a>1232             <em class="brace">}</em>
<a id="L1233" name="L1233"></a>1233         <em class="brace">}</em>
<a id="L1234" name="L1234"></a>1234 
<a id="L1235" name="L1235"></a>1235         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19117.html" title="Multiple referred from 19 places.">getSpan</a>() <em class="brace">{</em>
<a id="L1236" name="L1236"></a>1236             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L1237" name="L1237"></a>1237             <strong class="reserved">if</strong> (rv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1238" name="L1238"></a>1238                 <strong class="reserved">return</strong> spans[rv.viewIndex];
<a id="L1239" name="L1239"></a>1239             <em class="brace">}</em>
<a id="L1240" name="L1240"></a>1240             <strong class="reserved">return</strong> 0;
<a id="L1241" name="L1241"></a>1241         <em class="brace">}</em>
<a id="L1242" name="L1242"></a>1242 
<a id="L1243" name="L1243"></a>1243         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15841.html" title="Multiple referred from 20 places.">getCount</a>() <em class="brace">{</em>
<a id="L1244" name="L1244"></a>1244             <strong class="reserved">return</strong> rows.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1245" name="L1245"></a>1245         <em class="brace">}</em>
<a id="L1246" name="L1246"></a>1246 
<a id="L1247" name="L1247"></a>1247         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27555.html" title="Multiple referred from 63 places.">setIndex</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L1248" name="L1248"></a>1248             row = i;
<a id="L1249" name="L1249"></a>1249         <em class="brace">}</em>
<a id="L1250" name="L1250"></a>1250 
<a id="L1251" name="L1251"></a>1251         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17741.html" title="Multiple referred from 44 places.">getMinimumSpan</a>(<strong class="reserved">float</strong> parentSpan) <em class="brace">{</em>
<a id="L1252" name="L1252"></a>1252             <strong class="reserved">return</strong> <a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(parentSpan);
<a id="L1253" name="L1253"></a>1253         <em class="brace">}</em>
<a id="L1254" name="L1254"></a>1254 
<a id="L1255" name="L1255"></a>1255         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/18413.html" title="Multiple referred from 96 places.">getPreferredSpan</a>(<strong class="reserved">float</strong> parentSpan) <em class="brace">{</em>
<a id="L1256" name="L1256"></a>1256             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(row);
<a id="L1257" name="L1257"></a>1257             <strong class="reserved">if</strong> (rv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1258" name="L1258"></a>1258                 <strong class="reserved">int</strong> <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = (adjustments != <strong class="reserved">null</strong>) ? adjustments[row] : 0;
<a id="L1259" name="L1259"></a>1259                 <strong class="reserved">return</strong> rv.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(<a href="../D/8818.html" title="Multiple defined in 2 places.">TableView</a>.<strong class="reserved">this</strong>.<a href="../D/17162.html" title="Multiple defined in 25 places.">getAxis</a>()) + <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a>;
<a id="L1260" name="L1260"></a>1260             <em class="brace">}</em>
<a id="L1261" name="L1261"></a>1261             <strong class="reserved">return</strong> 0;
<a id="L1262" name="L1262"></a>1262         <em class="brace">}</em>
<a id="L1263" name="L1263"></a>1263 
<a id="L1264" name="L1264"></a>1264         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17622.html" title="Multiple referred from 43 places.">getMaximumSpan</a>(<strong class="reserved">float</strong> parentSpan) <em class="brace">{</em>
<a id="L1265" name="L1265"></a>1265             <strong class="reserved">return</strong> <a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(parentSpan);
<a id="L1266" name="L1266"></a>1266         <em class="brace">}</em>
<a id="L1267" name="L1267"></a>1267 
<a id="L1268" name="L1268"></a>1268         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/15312.html" title="Multiple referred from 5 places.">getBorderWidth</a>() <em class="brace">{</em>
<a id="L1269" name="L1269"></a>1269             <strong class="reserved">return</strong> borderWidth;
<a id="L1270" name="L1270"></a>1270         <em class="brace">}</em>
<a id="L1271" name="L1271"></a>1271 
<a id="L1272" name="L1272"></a>1272         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17319.html" title="Multiple referred from 2 places.">getLeadingCollapseSpan</a>() <em class="brace">{</em>
<a id="L1273" name="L1273"></a>1273             <strong class="reserved">return</strong> cellSpacing;
<a id="L1274" name="L1274"></a>1274         <em class="brace">}</em>
<a id="L1275" name="L1275"></a>1275 
<a id="L1276" name="L1276"></a>1276         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/19563.html" title="Multiple referred from 3 places.">getTrailingCollapseSpan</a>() <em class="brace">{</em>
<a id="L1277" name="L1277"></a>1277             <strong class="reserved">return</strong> cellSpacing;
<a id="L1278" name="L1278"></a>1278         <em class="brace">}</em>
<a id="L1279" name="L1279"></a>1279 
<a id="L1280" name="L1280"></a>1280         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/14993.html" title="Multiple referred from 4 places.">getAdjustmentWeight</a>() <em class="brace">{</em>
<a id="L1281" name="L1281"></a>1281             <strong class="reserved">return</strong> 0;
<a id="L1282" name="L1282"></a>1282         <em class="brace">}</em>
<a id="L1283" name="L1283"></a>1283 
<div class="comment">
          Current row index</div>
<a id="L1287" name="L1287"></a>1287         <strong class="reserved">private</strong> <strong class="reserved">int</strong> row;
<a id="L1288" name="L1288"></a>1288 
<div class="comment">
          Adjustments to the row requirements to handle multi-row
          table cells.</div>
<a id="L1293" name="L1293"></a>1293         <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] adjustments;
<a id="L1294" name="L1294"></a>1294 
<a id="L1295" name="L1295"></a>1295         <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] offsets;
<a id="L1296" name="L1296"></a>1296         <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] spans;
<a id="L1297" name="L1297"></a>1297     <em class="brace">}</em>
<a id="L1298" name="L1298"></a>1298 
<div class="comment">
      View of a row in a row-centric table.</div>
<a id="L1302" name="L1302"></a>1302     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/6768.html" title="Multiple referred from 30 places.">RowView</a> <strong class="reserved">extends</strong> <a href="../S/3355.html#L61" title="Defined at 61 in src/javax/swing/text/BoxView.java.">BoxView</a> <em class="brace">{</em>
<a id="L1303" name="L1303"></a>1303 
<div class="comment">
          Constructs a TableView for the given element.
          @param elem the element that this view is responsible for</div>
<a id="L1309" name="L1309"></a>1309         <strong class="reserved">public</strong> RowView(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L1310" name="L1310"></a>1310             <strong class="reserved">super</strong>(elem, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS);
<a id="L1311" name="L1311"></a>1311             fillColumns = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>();
<a id="L1312" name="L1312"></a>1312             <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>.<strong class="reserved">this</strong>.<a href="../D/33621.html" title="Multiple defined in 12 places.">setPropertiesFromAttributes</a>();
<a id="L1313" name="L1313"></a>1313         <em class="brace">}</em>
<a id="L1314" name="L1314"></a>1314 
<a id="L1315" name="L1315"></a>1315         <strong class="reserved">void</strong> <a href="../R/11516.html" title="Multiple referred from 2 places.">clearFilledColumns</a>() <em class="brace">{</em>
<a id="L1316" name="L1316"></a>1316             fillColumns.<a href="../D/11334.html" title="Multiple defined in 8 places.">and</a>(EMPTY);
<a id="L1317" name="L1317"></a>1317         <em class="brace">}</em>
<a id="L1318" name="L1318"></a>1318 
<a id="L1319" name="L1319"></a>1319         <strong class="reserved">void</strong> <a href="../R/14297.html" title="Multiple referred from 2 places.">fillColumn</a>(<strong class="reserved">int</strong> col) <em class="brace">{</em>
<a id="L1320" name="L1320"></a>1320             fillColumns.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(col);
<a id="L1321" name="L1321"></a>1321         <em class="brace">}</em>
<a id="L1322" name="L1322"></a>1322 
<a id="L1323" name="L1323"></a>1323         <strong class="reserved">boolean</strong> <a href="../R/21449.html" title="Multiple referred from 11 places.">isFilled</a>(<strong class="reserved">int</strong> col) <em class="brace">{</em>
<a id="L1324" name="L1324"></a>1324             <strong class="reserved">return</strong> fillColumns.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(col);
<a id="L1325" name="L1325"></a>1325         <em class="brace">}</em>
<a id="L1326" name="L1326"></a>1326 
<div class="comment">
          The number of columns present in this row.</div>
<a id="L1330" name="L1330"></a>1330         <strong class="reserved">int</strong> <a href="../R/15671.html" title="Multiple referred from 91 places.">getColumnCount</a>() <em class="brace">{</em>
<a id="L1331" name="L1331"></a>1331             <strong class="reserved">int</strong> nfill = 0;
<a id="L1332" name="L1332"></a>1332             <strong class="reserved">int</strong> n = fillColumns.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1333" name="L1333"></a>1333             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1334" name="L1334"></a>1334                 <strong class="reserved">if</strong> (fillColumns.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i)) <em class="brace">{</em>
<a id="L1335" name="L1335"></a>1335                     nfill ++;
<a id="L1336" name="L1336"></a>1336                 <em class="brace">}</em>
<a id="L1337" name="L1337"></a>1337             <em class="brace">}</em>
<a id="L1338" name="L1338"></a>1338             <strong class="reserved">return</strong> <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() + nfill;
<a id="L1339" name="L1339"></a>1339         <em class="brace">}</em>
<a id="L1340" name="L1340"></a>1340 
<div class="comment">
          Fetches the attributes to use when rendering.  This is
          implemented to multiplex the attributes specified in the
          model with a StyleSheet.</div>
<a id="L1346" name="L1346"></a>1346         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L1347" name="L1347"></a>1347             <strong class="reserved">return</strong> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>;
<a id="L1348" name="L1348"></a>1348         <em class="brace">}</em>
<a id="L1349" name="L1349"></a>1349 
<a id="L1350" name="L1350"></a>1350         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../S/3296.html#L144" title="Referred from 144 in src/javax/swing/text/html/TableView.java.">findViewAtPoint</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc) <em class="brace">{</em>
<a id="L1351" name="L1351"></a>1351             <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1352" name="L1352"></a>1352             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1353" name="L1353"></a>1353                 <strong class="reserved">if</strong> (<a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(i, alloc).<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y)) <em class="brace">{</em>
<a id="L1354" name="L1354"></a>1354                     <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(i, alloc);
<a id="L1355" name="L1355"></a>1355                     <strong class="reserved">return</strong> <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L1356" name="L1356"></a>1356                 <em class="brace">}</em>
<a id="L1357" name="L1357"></a>1357             <em class="brace">}</em>
<a id="L1358" name="L1358"></a>1358             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1359" name="L1359"></a>1359         <em class="brace">}</em>
<a id="L1360" name="L1360"></a>1360 
<a id="L1361" name="L1361"></a>1361         <strong class="reserved">protected</strong> <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> <a href="../R/19240.html" title="Multiple referred from 42 places.">getStyleSheet</a>() <em class="brace">{</em>
<a id="L1362" name="L1362"></a>1362             <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a> doc = (<a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>) <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1363" name="L1363"></a>1363             <strong class="reserved">return</strong> doc.<a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>();
<a id="L1364" name="L1364"></a>1364         <em class="brace">}</em>
<a id="L1365" name="L1365"></a>1365 
<div class="comment">
          This is called by a child to indicate its
          preferred span has changed.  This is implemented to
          execute the superclass behavior and well as try to
          determine if a row with a multi-row cell hangs across
          this row.  If a multi-row cell covers this row it also
          needs to propagate a preferenceChanged so that it will
          recalculate the multi-row cell.
          @param child the child view
          @param width true if the width preference should change
          @param height true if the height preference should change</div>
<a id="L1379" name="L1379"></a>1379         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24913.html" title="Multiple referred from 34 places.">preferenceChanged</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> child, <strong class="reserved">boolean</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">boolean</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1380" name="L1380"></a>1380             <strong class="reserved">super</strong>.<a href="../D/29542.html" title="Multiple defined in 7 places.">preferenceChanged</a>(child, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1381" name="L1381"></a>1381             <strong class="reserved">if</strong> (<a href="../D/8818.html" title="Multiple defined in 2 places.">TableView</a>.<strong class="reserved">this</strong>.multiRowCells &amp;&amp; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1382" name="L1382"></a>1382                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = rowIndex  - 1; i &gt;= 0; i--) <em class="brace">{</em>
<a id="L1383" name="L1383"></a>1383                     <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a> rv = <a href="../D/8818.html" title="Multiple defined in 2 places.">TableView</a>.<strong class="reserved">this</strong>.<a href="../D/22152.html" title="Multiple defined in 8 places.">getRow</a>(i);
<a id="L1384" name="L1384"></a>1384                     <strong class="reserved">if</strong> (rv.multiRowCells) <em class="brace">{</em>
<a id="L1385" name="L1385"></a>1385                         rv.<a href="../D/29542.html" title="Multiple defined in 7 places.">preferenceChanged</a>(<strong class="reserved">null</strong>, <strong class="reserved">false</strong>, <strong class="reserved">true</strong>);
<a id="L1386" name="L1386"></a>1386                         <strong class="reserved">break</strong>;
<a id="L1387" name="L1387"></a>1387                     <em class="brace">}</em>
<a id="L1388" name="L1388"></a>1388                 <em class="brace">}</em>
<a id="L1389" name="L1389"></a>1389             <em class="brace">}</em>
<a id="L1390" name="L1390"></a>1390         <em class="brace">}</em>
<a id="L1391" name="L1391"></a>1391 
<a id="L1392" name="L1392"></a>1392         <em class="comment">// The major axis requirements for a row are dictated by the column</em>
<a id="L1393" name="L1393"></a>1393         <em class="comment">// requirements. These methods use the value calculated by</em>
<a id="L1394" name="L1394"></a>1394         <em class="comment">// TableView.</em>
<a id="L1395" name="L1395"></a>1395         <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10814.html" title="Multiple referred from 6 places.">calculateMajorAxisRequirements</a>(<strong class="reserved">int</strong> axis, <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L1396" name="L1396"></a>1396             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>();
<a id="L1397" name="L1397"></a>1397             req.minimum = totalColumnRequirements.minimum;
<a id="L1398" name="L1398"></a>1398             req.maximum = totalColumnRequirements.maximum;
<a id="L1399" name="L1399"></a>1399             req.preferred = totalColumnRequirements.preferred;
<a id="L1400" name="L1400"></a>1400             req.alignment = 0f;
<a id="L1401" name="L1401"></a>1401             <strong class="reserved">return</strong> req;
<a id="L1402" name="L1402"></a>1402         <em class="brace">}</em>
<a id="L1403" name="L1403"></a>1403 
<a id="L1404" name="L1404"></a>1404         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17741.html" title="Multiple referred from 44 places.">getMinimumSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1405" name="L1405"></a>1405             <strong class="reserved">float</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1406" name="L1406"></a>1406 
<a id="L1407" name="L1407"></a>1407             <strong class="reserved">if</strong> (axis == <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS) <em class="brace">{</em>
<a id="L1408" name="L1408"></a>1408                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = totalColumnRequirements.minimum + <a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>() +
<a id="L1409" name="L1409"></a>1409                         <a href="../D/22102.html" title="Multiple defined in 2 places.">getRightInset</a>();
<a id="L1410" name="L1410"></a>1410             <em class="brace">}</em>
<a id="L1411" name="L1411"></a>1411             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1412" name="L1412"></a>1412                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">super</strong>.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis);
<a id="L1413" name="L1413"></a>1413             <em class="brace">}</em>
<a id="L1414" name="L1414"></a>1414             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1415" name="L1415"></a>1415         <em class="brace">}</em>
<a id="L1416" name="L1416"></a>1416 
<a id="L1417" name="L1417"></a>1417         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17622.html" title="Multiple referred from 43 places.">getMaximumSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1418" name="L1418"></a>1418             <strong class="reserved">float</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1419" name="L1419"></a>1419 
<a id="L1420" name="L1420"></a>1420             <strong class="reserved">if</strong> (axis == <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS) <em class="brace">{</em>
<a id="L1421" name="L1421"></a>1421                 <em class="comment">// We're flexible.</em>
<a id="L1422" name="L1422"></a>1422                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (<strong class="reserved">float</strong>)<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L1423" name="L1423"></a>1423             <em class="brace">}</em>
<a id="L1424" name="L1424"></a>1424             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1425" name="L1425"></a>1425                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">super</strong>.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(axis);
<a id="L1426" name="L1426"></a>1426             <em class="brace">}</em>
<a id="L1427" name="L1427"></a>1427             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1428" name="L1428"></a>1428         <em class="brace">}</em>
<a id="L1429" name="L1429"></a>1429 
<a id="L1430" name="L1430"></a>1430         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/18413.html" title="Multiple referred from 96 places.">getPreferredSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1431" name="L1431"></a>1431             <strong class="reserved">float</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1432" name="L1432"></a>1432 
<a id="L1433" name="L1433"></a>1433             <strong class="reserved">if</strong> (axis == <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS) <em class="brace">{</em>
<a id="L1434" name="L1434"></a>1434                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = totalColumnRequirements.preferred + <a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>() +
<a id="L1435" name="L1435"></a>1435                         <a href="../D/22102.html" title="Multiple defined in 2 places.">getRightInset</a>();
<a id="L1436" name="L1436"></a>1436             <em class="brace">}</em>
<a id="L1437" name="L1437"></a>1437             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1438" name="L1438"></a>1438                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">super</strong>.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis);
<a id="L1439" name="L1439"></a>1439             <em class="brace">}</em>
<a id="L1440" name="L1440"></a>1440             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1441" name="L1441"></a>1441         <em class="brace">}</em>
<a id="L1442" name="L1442"></a>1442 
<a id="L1443" name="L1443"></a>1443         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L1444" name="L1444"></a>1444             <strong class="reserved">super</strong>.<a href="../D/12316.html" title="Multiple defined in 27 places.">changedUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L1445" name="L1445"></a>1445             <strong class="reserved">int</strong> pos = e.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L1446" name="L1446"></a>1446             <strong class="reserved">if</strong> (pos &lt;= <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &amp;&amp; (pos + e.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) &gt;=
<a id="L1447" name="L1447"></a>1447                 <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L1448" name="L1448"></a>1448                 <a href="../S/3296.html#L1302" title="Defined at 1302 in src/javax/swing/text/html/TableView.java.">RowView</a>.<strong class="reserved">this</strong>.<a href="../D/33621.html" title="Multiple defined in 12 places.">setPropertiesFromAttributes</a>();
<a id="L1449" name="L1449"></a>1449             <em class="brace">}</em>
<a id="L1450" name="L1450"></a>1450         <em class="brace">}</em>
<a id="L1451" name="L1451"></a>1451 
<div class="comment">
          Renders using the given rendering surface and area on that
          surface.  This is implemented to delegate to the css box
          painter to paint the border and background prior to the
          interior.
          @param g the rendering surface to use
          @param allocation the allocated region to render into
          @see View#paint</div>
<a id="L1462" name="L1462"></a>1462         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> allocation) <em class="brace">{</em>
<a id="L1463" name="L1463"></a>1463             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) allocation;
<a id="L1464" name="L1464"></a>1464             painter.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.y, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>, <strong class="reserved">this</strong>);
<a id="L1465" name="L1465"></a>1465             <strong class="reserved">super</strong>.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1466" name="L1466"></a>1466         <em class="brace">}</em>
<a id="L1467" name="L1467"></a>1467 
<div class="comment">
          Change the child views.  This is implemented to
          provide the superclass behavior and invalidate the
          grid so that rows and columns will be recalculated.</div>
<a id="L1473" name="L1473"></a>1473         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] views) <em class="brace">{</em>
<a id="L1474" name="L1474"></a>1474             <strong class="reserved">super</strong>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, views);
<a id="L1475" name="L1475"></a>1475             <a href="../D/25030.html" title="Multiple defined in 2 places.">invalidateGrid</a>();
<a id="L1476" name="L1476"></a>1476         <em class="brace">}</em>
<a id="L1477" name="L1477"></a>1477 
<div class="comment">
          Calculate the height requirements of the table row.  The
          requirements of multi-row cells are not considered for this
          calculation.  The table itself will check and adjust the row
          requirements for all the rows that have multi-row cells spanning
          them.  This method updates the multi-row flag that indicates that
          this row and rows below need additional consideration.</div>
<a id="L1486" name="L1486"></a>1486         <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10822.html" title="Multiple referred from 8 places.">calculateMinorAxisRequirements</a>(<strong class="reserved">int</strong> axis, <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L1487" name="L1487"></a>1487 <em class="comment">//          return super.calculateMinorAxisRequirements(axis, r);</em>
<a id="L1488" name="L1488"></a>1488             <strong class="reserved">long</strong> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = 0;
<a id="L1489" name="L1489"></a>1489             <strong class="reserved">long</strong> pref = 0;
<a id="L1490" name="L1490"></a>1490             <strong class="reserved">long</strong> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = 0;
<a id="L1491" name="L1491"></a>1491             multiRowCells = <strong class="reserved">false</strong>;
<a id="L1492" name="L1492"></a>1492             <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1493" name="L1493"></a>1493             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1494" name="L1494"></a>1494                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L1495" name="L1495"></a>1495                 <strong class="reserved">if</strong> (<a href="../D/22185.html" title="Multiple defined in 2 places.">getRowsOccupied</a>(v) &gt; 1) <em class="brace">{</em>
<a id="L1496" name="L1496"></a>1496                     multiRowCells = <strong class="reserved">true</strong>;
<a id="L1497" name="L1497"></a>1497                     <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) v.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(axis), <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>);
<a id="L1498" name="L1498"></a>1498                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1499" name="L1499"></a>1499                     <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) v.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis), <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>);
<a id="L1500" name="L1500"></a>1500                     pref = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) v.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis), pref);
<a id="L1501" name="L1501"></a>1501                     <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) v.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(axis), <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>);
<a id="L1502" name="L1502"></a>1502                 <em class="brace">}</em>
<a id="L1503" name="L1503"></a>1503             <em class="brace">}</em>
<a id="L1504" name="L1504"></a>1504 
<a id="L1505" name="L1505"></a>1505             <strong class="reserved">if</strong> (r == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1506" name="L1506"></a>1506                 r = <strong class="reserved">new</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a>();
<a id="L1507" name="L1507"></a>1507                 r.alignment = 0.5f;
<a id="L1508" name="L1508"></a>1508             <em class="brace">}</em>
<a id="L1509" name="L1509"></a>1509             r.preferred = (<strong class="reserved">int</strong>) pref;
<a id="L1510" name="L1510"></a>1510             r.minimum = (<strong class="reserved">int</strong>) <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>;
<a id="L1511" name="L1511"></a>1511             r.maximum = (<strong class="reserved">int</strong>) <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>;
<a id="L1512" name="L1512"></a>1512             <strong class="reserved">return</strong> r;
<a id="L1513" name="L1513"></a>1513         <em class="brace">}</em>
<a id="L1514" name="L1514"></a>1514 
<div class="comment">
          Perform layout for the major axis of the box (i.e. the
          axis that it represents).  The results of the layout should
          be placed in the given arrays which represent the allocations
          to the children along the major axis.
          <p>
          This is re-implemented to give each child the span of the column
          width for the table, and to give cells that span multiple columns
          the multi-column span.
          @param targetSpan the total span given to the view, which
           would be used to layout the children
          @param axis the axis being layed out
          @param offsets the offsets from the origin of the view for
           each of the child views; this is a return value and is
           filled in by the implementation of this method
          @param spans the span of each child view; this is a return
           value and is filled in by the implementation of this method
          @return the offset and span for each child view in the
           offsets and spans parameters</p></div>
<a id="L1536" name="L1536"></a>1536         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22442.html" title="Multiple referred from 4 places.">layoutMajorAxis</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong> axis, <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L1537" name="L1537"></a>1537             <strong class="reserved">int</strong> col = 0;
<a id="L1538" name="L1538"></a>1538             <strong class="reserved">int</strong> ncells = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1539" name="L1539"></a>1539             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> cell = 0; cell &lt; ncells; cell++) <em class="brace">{</em>
<a id="L1540" name="L1540"></a>1540                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> cv = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(cell);
<a id="L1541" name="L1541"></a>1541                 <strong class="reserved">if</strong> (skipComments &amp;&amp; !(cv <strong class="reserved">instanceof</strong> <a href="../S/3296.html#L1694" title="Defined at 1694 in src/javax/swing/text/html/TableView.java.">CellView</a>)) <em class="brace">{</em>
<a id="L1542" name="L1542"></a>1542                     <strong class="reserved">continue</strong>;
<a id="L1543" name="L1543"></a>1543                 <em class="brace">}</em>
<a id="L1544" name="L1544"></a>1544                 <strong class="reserved">for</strong> (; <a href="../D/25553.html" title="Multiple defined in 2 places.">isFilled</a>(col); col++); <em class="comment">// advance to a free column</em>
<a id="L1545" name="L1545"></a>1545                 <strong class="reserved">int</strong> colSpan = <a href="../D/17821.html" title="Multiple defined in 2 places.">getColumnsOccupied</a>(cv);
<a id="L1546" name="L1546"></a>1546                 spans[cell] = columnSpans[col];
<a id="L1547" name="L1547"></a>1547                 offsets[cell] = columnOffsets[col];
<a id="L1548" name="L1548"></a>1548                 <strong class="reserved">if</strong> (colSpan &gt; 1) <em class="brace">{</em>
<a id="L1549" name="L1549"></a>1549                     <strong class="reserved">int</strong> n = columnSpans.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1550" name="L1550"></a>1550                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 1; j &lt; colSpan; j++) <em class="brace">{</em>
<a id="L1551" name="L1551"></a>1551                         <em class="comment">// Because the table may be only partially formed, some</em>
<a id="L1552" name="L1552"></a>1552                         <em class="comment">// of the columns may not yet exist.  Therefore we check</em>
<a id="L1553" name="L1553"></a>1553                         <em class="comment">// the bounds.</em>
<a id="L1554" name="L1554"></a>1554                         <strong class="reserved">if</strong> ((col+j) &lt; n) <em class="brace">{</em>
<a id="L1555" name="L1555"></a>1555                             spans[cell] += columnSpans[col+j];
<a id="L1556" name="L1556"></a>1556                             spans[cell] += cellSpacing;
<a id="L1557" name="L1557"></a>1557                         <em class="brace">}</em>
<a id="L1558" name="L1558"></a>1558                     <em class="brace">}</em>
<a id="L1559" name="L1559"></a>1559                     col += colSpan - 1;
<a id="L1560" name="L1560"></a>1560                 <em class="brace">}</em>
<a id="L1561" name="L1561"></a>1561                 col++;
<a id="L1562" name="L1562"></a>1562             <em class="brace">}</em>
<a id="L1563" name="L1563"></a>1563         <em class="brace">}</em>
<a id="L1564" name="L1564"></a>1564 
<div class="comment">
          Perform layout for the minor axis of the box (i.e. the
          axis orthogonal to the axis that it represents).  The results
          of the layout should be placed in the given arrays which represent
          the allocations to the children along the minor axis.  This
          is called by the superclass whenever the layout needs to be
          updated along the minor axis.
          <p>
          This is implemented to delegate to the superclass, then adjust
          the span for any cell that spans multiple rows.
          @param targetSpan the total span given to the view, which
           would be used to layout the children
          @param axis the axis being layed out
          @param offsets the offsets from the origin of the view for
           each of the child views; this is a return value and is
           filled in by the implementation of this method
          @param spans the span of each child view; this is a return
           value and is filled in by the implementation of this method
          @return the offset and span for each child view in the
           offsets and spans parameters</p></div>
<a id="L1587" name="L1587"></a>1587         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22444.html" title="Multiple referred from 6 places.">layoutMinorAxis</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong> axis, <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L1588" name="L1588"></a>1588             <strong class="reserved">super</strong>.<a href="../D/26780.html" title="Multiple defined in 8 places.">layoutMinorAxis</a>(targetSpan, axis, offsets, spans);
<a id="L1589" name="L1589"></a>1589             <strong class="reserved">int</strong> col = 0;
<a id="L1590" name="L1590"></a>1590             <strong class="reserved">int</strong> ncells = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1591" name="L1591"></a>1591             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> cell = 0; cell &lt; ncells; cell++, col++) <em class="brace">{</em>
<a id="L1592" name="L1592"></a>1592                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> cv = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(cell);
<a id="L1593" name="L1593"></a>1593                 <strong class="reserved">for</strong> (; <a href="../D/25553.html" title="Multiple defined in 2 places.">isFilled</a>(col); col++); <em class="comment">// advance to a free column</em>
<a id="L1594" name="L1594"></a>1594                 <strong class="reserved">int</strong> colSpan = <a href="../D/17821.html" title="Multiple defined in 2 places.">getColumnsOccupied</a>(cv);
<a id="L1595" name="L1595"></a>1595                 <strong class="reserved">int</strong> rowSpan = <a href="../D/22185.html" title="Multiple defined in 2 places.">getRowsOccupied</a>(cv);
<a id="L1596" name="L1596"></a>1596                 <strong class="reserved">if</strong> (rowSpan &gt; 1) <em class="brace">{</em>
<a id="L1597" name="L1597"></a>1597 
<a id="L1598" name="L1598"></a>1598                     <strong class="reserved">int</strong> row0 = rowIndex;
<a id="L1599" name="L1599"></a>1599                     <strong class="reserved">int</strong> row1 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(rowIndex + rowSpan - 1, <a href="../D/22156.html" title="Multiple defined in 20 places.">getRowCount</a>()-1);
<a id="L1600" name="L1600"></a>1600                     spans[cell] = <a href="../S/3296.html#L104" title="Defined at 104 in src/javax/swing/text/html/TableView.java.">getMultiRowSpan</a>(row0, row1);
<a id="L1601" name="L1601"></a>1601                 <em class="brace">}</em>
<a id="L1602" name="L1602"></a>1602                 <strong class="reserved">if</strong> (colSpan &gt; 1) <em class="brace">{</em>
<a id="L1603" name="L1603"></a>1603                     col += colSpan - 1;
<a id="L1604" name="L1604"></a>1604                 <em class="brace">}</em>
<a id="L1605" name="L1605"></a>1605             <em class="brace">}</em>
<a id="L1606" name="L1606"></a>1606         <em class="brace">}</em>
<a id="L1607" name="L1607"></a>1607 
<div class="comment">
          Determines the resizability of the view along the
          given axis.  A value of 0 or less is not resizable.
          @param axis may be either View.X_AXIS or View.Y_AXIS
          @return the resize weight
          @exception IllegalArgumentException for an invalid axis</div>
<a id="L1616" name="L1616"></a>1616         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18700.html" title="Multiple referred from 6 places.">getResizeWeight</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1617" name="L1617"></a>1617             <strong class="reserved">return</strong> 1;
<a id="L1618" name="L1618"></a>1618         <em class="brace">}</em>
<a id="L1619" name="L1619"></a>1619 
<div class="comment">
          Fetches the child view that represents the given position in
          the model.  This is implemented to walk through the children
          looking for a range that contains the given position.  In this
          view the children do not necessarily have a one to one mapping
          with the child elements.
          @param pos  the search position &gt;= 0
          @param a  the allocation to the table on entry, and the
            allocation of the view containing the position on exit
          @return  the view representing the given position, or
            null if there isn't one</div>
<a id="L1633" name="L1633"></a>1633         <strong class="reserved">protected</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19803.html" title="Multiple referred from 6 places.">getViewAtPosition</a>(<strong class="reserved">int</strong> pos, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1634" name="L1634"></a>1634             <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1635" name="L1635"></a>1635             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1636" name="L1636"></a>1636                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L1637" name="L1637"></a>1637                 <strong class="reserved">int</strong> p0 = v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1638" name="L1638"></a>1638                 <strong class="reserved">int</strong> p1 = v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1639" name="L1639"></a>1639                 <strong class="reserved">if</strong> ((pos &gt;= p0) &amp;&amp; (pos &lt; p1)) <em class="brace">{</em>
<a id="L1640" name="L1640"></a>1640                     <em class="comment">// it's in this view.</em>
<a id="L1641" name="L1641"></a>1641                     <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1642" name="L1642"></a>1642                         <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(i, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1643" name="L1643"></a>1643                     <em class="brace">}</em>
<a id="L1644" name="L1644"></a>1644                     <strong class="reserved">return</strong> v;
<a id="L1645" name="L1645"></a>1645                 <em class="brace">}</em>
<a id="L1646" name="L1646"></a>1646             <em class="brace">}</em>
<a id="L1647" name="L1647"></a>1647             <strong class="reserved">if</strong> (pos == <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L1648" name="L1648"></a>1648                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(n - 1);
<a id="L1649" name="L1649"></a>1649                 <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1650" name="L1650"></a>1650                     <strong class="reserved">this</strong>.<a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(n - 1, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1651" name="L1651"></a>1651                 <em class="brace">}</em>
<a id="L1652" name="L1652"></a>1652                 <strong class="reserved">return</strong> v;
<a id="L1653" name="L1653"></a>1653             <em class="brace">}</em>
<a id="L1654" name="L1654"></a>1654             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1655" name="L1655"></a>1655         <em class="brace">}</em>
<a id="L1656" name="L1656"></a>1656 
<div class="comment">
          Update any cached values that come from attributes.</div>
<a id="L1660" name="L1660"></a>1660         <strong class="reserved">void</strong> <a href="../R/27975.html" title="Multiple referred from 16 places.">setPropertiesFromAttributes</a>() <em class="brace">{</em>
<a id="L1661" name="L1661"></a>1661             <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> sheet = <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>();
<a id="L1662" name="L1662"></a>1662             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = sheet.<a href="../D/23600.html" title="Multiple defined in 2 places.">getViewAttributes</a>(<strong class="reserved">this</strong>);
<a id="L1663" name="L1663"></a>1663             painter = sheet.<a href="../S/3315.html#L919" title="Defined at 919 in src/javax/swing/text/html/StyleSheet.java.">getBoxPainter</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L1664" name="L1664"></a>1664         <em class="brace">}</em>
<a id="L1665" name="L1665"></a>1665 
<a id="L1666" name="L1666"></a>1666         <strong class="reserved">private</strong> <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a>.<a href="../S/3315.html#L1763" title="Defined at 1763 in src/javax/swing/text/html/StyleSheet.java.">BoxPainter</a> painter;
<a id="L1667" name="L1667"></a>1667         <strong class="reserved">private</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>;
<a id="L1668" name="L1668"></a>1668 
<div class="comment">
         /** columns filled by multi-column or multi-row cells */</div>
<a id="L1670" name="L1670"></a>1670         <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> fillColumns;
<a id="L1671" name="L1671"></a>1671 
<div class="comment">
          The row index within the overall grid</div>
<a id="L1675" name="L1675"></a>1675         <strong class="reserved">int</strong> rowIndex;
<a id="L1676" name="L1676"></a>1676 
<div class="comment">
          The view index (for row index to view index conversion).
          This is set by the updateGrid method.</div>
<a id="L1681" name="L1681"></a>1681         <strong class="reserved">int</strong> viewIndex;
<a id="L1682" name="L1682"></a>1682 
<div class="comment">
          Does this table row have cells that span multiple rows?</div>
<a id="L1686" name="L1686"></a>1686         <strong class="reserved">boolean</strong> multiRowCells;
<a id="L1687" name="L1687"></a>1687 
<a id="L1688" name="L1688"></a>1688     <em class="brace">}</em>
<a id="L1689" name="L1689"></a>1689 
<div class="comment">
      Default view of an html table cell.  This needs to be moved
      somewhere else.</div>
<a id="L1694" name="L1694"></a>1694     <strong class="reserved">class</strong> <a href="../R/1207.html" title="Multiple referred from 4 places.">CellView</a> <strong class="reserved">extends</strong> <a href="../S/3291.html#L40" title="Defined at 40 in src/javax/swing/text/html/BlockView.java.">BlockView</a> <em class="brace">{</em>
<a id="L1695" name="L1695"></a>1695 
<div class="comment">
          Constructs a TableCell for the given element.
          @param elem the element that this view is responsible for</div>
<a id="L1701" name="L1701"></a>1701         <strong class="reserved">public</strong> CellView(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L1702" name="L1702"></a>1702             <strong class="reserved">super</strong>(elem, Y_AXIS);
<a id="L1703" name="L1703"></a>1703         <em class="brace">}</em>
<a id="L1704" name="L1704"></a>1704 
<div class="comment">
          Perform layout for the major axis of the box (i.e. the
          axis that it represents).  The results of the layout should
          be placed in the given arrays which represent the allocations
          to the children along the major axis.  This is called by the
          superclass to recalculate the positions of the child views
          when the layout might have changed.
          <p>
          This is implemented to delegate to the superclass to
          tile the children.  If the target span is greater than
          was needed, the offsets are adjusted to align the children
          (i.e. position according to the html valign attribute).
          @param targetSpan the total span given to the view, which
           would be used to layout the children
          @param axis the axis being layed out
          @param offsets the offsets from the origin of the view for
           each of the child views; this is a return value and is
           filled in by the implementation of this method
          @param spans the span of each child view; this is a return
           value and is filled in by the implementation of this method
          @return the offset and span for each child view in the
           offsets and spans parameters</p></div>
<a id="L1729" name="L1729"></a>1729         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22442.html" title="Multiple referred from 4 places.">layoutMajorAxis</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong> axis, <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L1730" name="L1730"></a>1730             <strong class="reserved">super</strong>.<a href="../D/26778.html" title="Multiple defined in 7 places.">layoutMajorAxis</a>(targetSpan, axis, offsets, spans);
<a id="L1731" name="L1731"></a>1731             <em class="comment">// calculate usage</em>
<a id="L1732" name="L1732"></a>1732             <strong class="reserved">int</strong> used = 0;
<a id="L1733" name="L1733"></a>1733             <strong class="reserved">int</strong> n = spans.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1734" name="L1734"></a>1734             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1735" name="L1735"></a>1735                 used += spans[i];
<a id="L1736" name="L1736"></a>1736             <em class="brace">}</em>
<a id="L1737" name="L1737"></a>1737 
<a id="L1738" name="L1738"></a>1738             <em class="comment">// calculate adjustments</em>
<a id="L1739" name="L1739"></a>1739             <strong class="reserved">int</strong> <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = 0;
<a id="L1740" name="L1740"></a>1740             <strong class="reserved">if</strong> (used &lt; targetSpan) <em class="brace">{</em>
<a id="L1741" name="L1741"></a>1741                 <em class="comment">// PENDING(prinz) change to use the css alignment.</em>
<a id="L1742" name="L1742"></a>1742                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> valign = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(
<a id="L1743" name="L1743"></a>1743                     <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.VALIGN);
<a id="L1744" name="L1744"></a>1744                 <strong class="reserved">if</strong> (valign == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1745" name="L1745"></a>1745                     <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> rowAttr = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>().<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1746" name="L1746"></a>1746                     valign = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) rowAttr.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.VALIGN);
<a id="L1747" name="L1747"></a>1747                 <em class="brace">}</em>
<a id="L1748" name="L1748"></a>1748                 <strong class="reserved">if</strong> ((valign == <strong class="reserved">null</strong>) || valign.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("middle")) <em class="brace">{</em>
<a id="L1749" name="L1749"></a>1749                     <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = (targetSpan - used) / 2;
<a id="L1750" name="L1750"></a>1750                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (valign.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("bottom")) <em class="brace">{</em>
<a id="L1751" name="L1751"></a>1751                     <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = targetSpan - used;
<a id="L1752" name="L1752"></a>1752                 <em class="brace">}</em>
<a id="L1753" name="L1753"></a>1753             <em class="brace">}</em>
<a id="L1754" name="L1754"></a>1754 
<a id="L1755" name="L1755"></a>1755             <em class="comment">// make adjustments.</em>
<a id="L1756" name="L1756"></a>1756             <strong class="reserved">if</strong> (<a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> != 0) <em class="brace">{</em>
<a id="L1757" name="L1757"></a>1757                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1758" name="L1758"></a>1758                     offsets[i] += <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a>;
<a id="L1759" name="L1759"></a>1759                 <em class="brace">}</em>
<a id="L1760" name="L1760"></a>1760             <em class="brace">}</em>
<a id="L1761" name="L1761"></a>1761         <em class="brace">}</em>
<a id="L1762" name="L1762"></a>1762 
<div class="comment">
          Calculate the requirements needed along the major axis.
          This is called by the superclass whenever the requirements
          need to be updated (i.e. a preferenceChanged was messaged
          through this view).
          <p>
          This is implemented to delegate to the superclass, but
          indicate the maximum size is very large (i.e. the cell
          is willing to expend to occupy the full height of the row).
          @param axis the axis being layed out.
          @param r the requirements to fill in.  If null, a new one
           should be allocated.</p></div>
<a id="L1777" name="L1777"></a>1777         <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10814.html" title="Multiple referred from 6 places.">calculateMajorAxisRequirements</a>(<strong class="reserved">int</strong> axis,
<a id="L1778" name="L1778"></a>1778                                                                   <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L1779" name="L1779"></a>1779             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> req = <strong class="reserved">super</strong>.<a href="../D/12069.html" title="Multiple defined in 7 places.">calculateMajorAxisRequirements</a>(axis, r);
<a id="L1780" name="L1780"></a>1780             req.maximum = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L1781" name="L1781"></a>1781             <strong class="reserved">return</strong> req;
<a id="L1782" name="L1782"></a>1782         <em class="brace">}</em>
<a id="L1783" name="L1783"></a>1783 
<a id="L1784" name="L1784"></a>1784         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1785" name="L1785"></a>1785         <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10822.html" title="Multiple referred from 8 places.">calculateMinorAxisRequirements</a>(<strong class="reserved">int</strong> axis, <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L1786" name="L1786"></a>1786             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> rv = <strong class="reserved">super</strong>.<a href="../D/12077.html" title="Multiple defined in 12 places.">calculateMinorAxisRequirements</a>(axis, r);
<a id="L1787" name="L1787"></a>1787             <em class="comment">//for the cell the minimum should be derived from the child views</em>
<a id="L1788" name="L1788"></a>1788             <em class="comment">//the parent behaviour is to use CSS for that</em>
<a id="L1789" name="L1789"></a>1789             <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L1790" name="L1790"></a>1790             <strong class="reserved">int</strong> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = 0;
<a id="L1791" name="L1791"></a>1791             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1792" name="L1792"></a>1792                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L1793" name="L1793"></a>1793                 <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) v.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis), <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>);
<a id="L1794" name="L1794"></a>1794             <em class="brace">}</em>
<a id="L1795" name="L1795"></a>1795             rv.minimum = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(rv.minimum, <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>);
<a id="L1796" name="L1796"></a>1796             <strong class="reserved">return</strong> rv;
<a id="L1797" name="L1797"></a>1797         <em class="brace">}</em>
<a id="L1798" name="L1798"></a>1798     <em class="brace">}</em>
<a id="L1799" name="L1799"></a>1799 
<a id="L1800" name="L1800"></a>1800 
<a id="L1801" name="L1801"></a>1801 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L63">[^]</a><a href="#L1785">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>