<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L155">[^]</a><a href="#L1301">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L155" title="Defined at 155.">cloneNode</a></li>
<li><a href="#L174" title="Defined at 174.">getImplementation</a></li>
<li><a href="#L194" title="Defined at 194.">createNodeIterator</a></li>
<li><a href="#L213" title="Defined at 213.">createNodeIterator</a></li>
<li><a href="#L246" title="Defined at 246.">createTreeWalker</a></li>
<li><a href="#L262" title="Defined at 262.">createTreeWalker</a></li>
<li><a href="#L285" title="Defined at 285.">removeNodeIterator</a></li>
<li><a href="#L298" title="Defined at 298.">createRange</a></li>
<li><a href="#L316" title="Defined at 316.">removeRange</a></li>
<li><a href="#L328" title="Defined at 328.">replacedText</a></li>
<li><a href="#L342" title="Defined at 342.">deletedText</a></li>
<li><a href="#L357" title="Defined at 357.">insertedText</a></li>
<li><a href="#L372" title="Defined at 372.">splitData</a></li>
<li><a href="#L406" title="Defined at 406.">createEvent</a></li>
<li><a href="#L423" title="Defined at 423.">setMutationEvents</a></li>
<li><a href="#L430" title="Defined at 430.">getMutationEvents</a></li>
<li><a href="#L440" title="Defined at 440.">setEventListeners</a></li>
<li><a href="#L460" title="Defined at 460.">getEventListeners</a></li>
<li><a href="#L518" title="Defined at 518.">addEventListener</a></li>
<li><a href="#L561" title="Defined at 561.">removeEventListener</a></li>
<li><a href="#L600" title="Defined at 600.">copyEventListeners</a></li>
<li><a href="#L658" title="Defined at 658.">dispatchEvent</a></li>
<li><a href="#L829" title="Defined at 829.">dispatchEventToSubtree</a></li>
<li><a href="#L848" title="Defined at 848.">dispatchingEventToSubtree</a></li>
<li><a href="#L885" title="Defined at 885.">dispatchAggregateEvents</a></li>
<li><a href="#L918" title="Defined at 918.">dispatchAggregateEvents</a></li>
<li><a href="#L970" title="Defined at 970.">saveEnclosingAttr</a></li>
<li><a href="#L1004" title="Defined at 1004.">modifyingCharacterData</a></li>
<li><a href="#L1015" title="Defined at 1015.">modifiedCharacterData</a></li>
<li><a href="#L1040" title="Defined at 1040.">replacedCharacterData</a></li>
<li><a href="#L1053" title="Defined at 1053.">insertingNode</a></li>
<li><a href="#L1064" title="Defined at 1064.">insertedNode</a></li>
<li><a href="#L1129" title="Defined at 1129.">removingNode</a></li>
<li><a href="#L1196" title="Defined at 1196.">removedNode</a></li>
<li><a href="#L1210" title="Defined at 1210.">replacingNode</a></li>
<li><a href="#L1219" title="Defined at 1219.">replacingData</a></li>
<li><a href="#L1228" title="Defined at 1228.">replacedNode</a></li>
<li><a href="#L1237" title="Defined at 1237.">modifiedAttrValue</a></li>
<li><a href="#L1248" title="Defined at 1248.">setAttrNode</a></li>
<li><a href="#L1266" title="Defined at 1266.">removedAttrNode</a></li>
<li><a href="#L1294" title="Defined at 1294.">renamedAttrNode</a></li>
<li><a href="#L1301" title="Defined at 1301.">renamedElement</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001,2002,2004,2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.dom;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.util.Vector;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.events.EventImpl;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.events.MutationEventImpl;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> org.w3c.dom.UserDataHandler;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> org.w3c.dom.DOMException;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> org.w3c.dom.DOMImplementation;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> org.w3c.dom.DocumentType;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> org.w3c.dom.NamedNodeMap;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> org.w3c.dom.events.DocumentEvent;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> org.w3c.dom.events.Event;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> org.w3c.dom.events.EventException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> org.w3c.dom.events.EventListener;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> org.w3c.dom.events.MutationEvent;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> org.w3c.dom.ranges.DocumentRange;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> org.w3c.dom.ranges.Range;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> org.w3c.dom.traversal.DocumentTraversal;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> org.w3c.dom.traversal.NodeFilter;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> org.w3c.dom.traversal.NodeIterator;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> org.w3c.dom.traversal.TreeWalker;
<a id="L48" name="L48"></a>  48 
<a id="L49" name="L49"></a>  49 
<div class="comment">
  The Document interface represents the entire HTML or XML document.
  Conceptually, it is the root of the document tree, and provides the
  primary access to the document's data.
  <p>
  Since elements, text nodes, comments, processing instructions,
  etc. cannot exist outside the context of a Document, the Document
  interface also contains the factory methods needed to create these
  objects. The Node objects created have a ownerDocument attribute
  which associates them with the Document within whose context they
  were created.
  </p><p>
  The DocumentImpl class also implements the DOM Level 2 DocumentTraversal
  interface. This interface is comprised of factory methods needed to
  create NodeIterators and TreeWalkers. The process of creating NodeIterator
  objects also adds these references to this document.
  After finishing with an iterator it is important to remove the object
  using the remove methods in this implementation. This allows the release of
  the references from the iterator objects to the DOM Nodes.
  </p><p>
  <b>Note:</b> When any node in the document is serialized, the
  entire document is serialized along with it.
  @xerces.internal
  @author Arnaud  Le Hors, IBM
  @author Joe Kesselman, IBM
  @author Andy Clark, IBM
  @author Ralf Pfeiffer, IBM
  @version $Id: DocumentImpl.java,v 1.6 2010/07/20 20:25:24 joehw Exp $
  @since  PR-DOM-Level-1-19980818.</p></div>
<a id="L82" name="L82"></a>  82 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/2355.html" title="Multiple referred from 18 places.">DocumentImpl</a>
<a id="L83" name="L83"></a>  83     <strong class="reserved">extends</strong> <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a>
<a id="L84" name="L84"></a>  84     <strong class="reserved">implements</strong> <a href="../S/123.html#L58" title="Defined at 58 in src/org/w3c/dom/traversal/DocumentTraversal.java.">DocumentTraversal</a>, <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>, <a href="../S/18.html#L48" title="Defined at 48 in src/org/w3c/dom/ranges/DocumentRange.java.">DocumentRange</a> <em class="brace">{</em>
<a id="L85" name="L85"></a>  85 
<a id="L86" name="L86"></a>  86     <em class="comment">//</em>
<a id="L87" name="L87"></a>  87     <em class="comment">// Constants</em>
<a id="L88" name="L88"></a>  88     <em class="comment">//</em>
<a id="L89" name="L89"></a>  89 
<div class="comment">
     /** Serialization version. */</div>
<a id="L91" name="L91"></a>  91     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 515687835542616694L;
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93     <em class="comment">//</em>
<a id="L94" name="L94"></a>  94     <em class="comment">// Data</em>
<a id="L95" name="L95"></a>  95     <em class="comment">//</em>
<a id="L96" name="L96"></a>  96 
<div class="comment">
     /** Iterators */</div>
<a id="L98" name="L98"></a>  98     <em class="comment">// REVISIT: Should this be transient? -Ac</em>
<a id="L99" name="L99"></a>  99     <strong class="reserved">protected</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> iterators;
<a id="L100" name="L100"></a> 100 
<div class="comment">
      /** Ranges */</div>
<a id="L102" name="L102"></a> 102     <em class="comment">// REVISIT: Should this be transient? -Ac</em>
<a id="L103" name="L103"></a> 103     <strong class="reserved">protected</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> ranges;
<a id="L104" name="L104"></a> 104 
<div class="comment">
     /** Table for event listeners registered to this document nodes. */</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">protected</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> eventListeners;
<a id="L107" name="L107"></a> 107 
<div class="comment">
     /** Bypass mutation events firing. */</div>
<a id="L109" name="L109"></a> 109     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> mutationEvents = <strong class="reserved">false</strong>;
<a id="L110" name="L110"></a> 110 
<a id="L111" name="L111"></a> 111     <em class="comment">//</em>
<a id="L112" name="L112"></a> 112     <em class="comment">// Constructors</em>
<a id="L113" name="L113"></a> 113     <em class="comment">//</em>
<a id="L114" name="L114"></a> 114 
<div class="comment">
      NON-DOM: Actually creating a Document is outside the DOM's spec,
      since it has to operate in terms of a particular implementation.</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">public</strong> DocumentImpl() <em class="brace">{</em>
<a id="L120" name="L120"></a> 120         <strong class="reserved">super</strong>();
<a id="L121" name="L121"></a> 121     <em class="brace">}</em>
<a id="L122" name="L122"></a> 122 
<div class="comment">
     /** Constructor. */</div>
<a id="L124" name="L124"></a> 124     <strong class="reserved">public</strong> DocumentImpl(<strong class="reserved">boolean</strong> grammarAccess) <em class="brace">{</em>
<a id="L125" name="L125"></a> 125         <strong class="reserved">super</strong>(grammarAccess);
<a id="L126" name="L126"></a> 126     <em class="brace">}</em>
<a id="L127" name="L127"></a> 127 
<div class="comment">
      For DOM2 support.
      The createDocument factory method is in DOMImplementation.</div>
<a id="L132" name="L132"></a> 132     <strong class="reserved">public</strong> DocumentImpl(<a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> doctype)
<a id="L133" name="L133"></a> 133     <em class="brace">{</em>
<a id="L134" name="L134"></a> 134         <strong class="reserved">super</strong>(doctype);
<a id="L135" name="L135"></a> 135     <em class="brace">}</em>
<a id="L136" name="L136"></a> 136 
<div class="comment">
     /** For DOM2 support. */</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">public</strong> DocumentImpl(<a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> doctype, <strong class="reserved">boolean</strong> grammarAccess) <em class="brace">{</em>
<a id="L139" name="L139"></a> 139         <strong class="reserved">super</strong>(doctype, grammarAccess);
<a id="L140" name="L140"></a> 140     <em class="brace">}</em>
<a id="L141" name="L141"></a> 141 
<a id="L142" name="L142"></a> 142     <em class="comment">//</em>
<a id="L143" name="L143"></a> 143     <em class="comment">// Node methods</em>
<a id="L144" name="L144"></a> 144     <em class="comment">//</em>
<a id="L145" name="L145"></a> 145 
<div class="comment">
      Deep-clone a document, including fixing ownerDoc for the cloned
      children. Note that this requires bypassing the WRONG_DOCUMENT_ERR
      protection. I've chosen to implement it by calling importNode
      which is DOM Level 2.
      @return org.w3c.dom.Node
      @param deep boolean, iff true replicate children</div>
<a id="L155" name="L155"></a> 155     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/11574.html" title="Multiple referred from 32 places.">cloneNode</a>(<strong class="reserved">boolean</strong> deep) <em class="brace">{</em>
<a id="L156" name="L156"></a> 156 
<a id="L157" name="L157"></a> 157         <a href="../S/5446.html#L82" title="Defined at 82 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">DocumentImpl</a> newdoc = <strong class="reserved">new</strong> <a href="../S/5446.html#L82" title="Defined at 82 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">DocumentImpl</a>();
<a id="L158" name="L158"></a> 158         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(<strong class="reserved">this</strong>, newdoc, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_CLONED);
<a id="L159" name="L159"></a> 159         <a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(newdoc, deep);
<a id="L160" name="L160"></a> 160 
<a id="L161" name="L161"></a> 161         <em class="comment">// experimental</em>
<a id="L162" name="L162"></a> 162         newdoc.mutationEvents = mutationEvents;
<a id="L163" name="L163"></a> 163 
<a id="L164" name="L164"></a> 164         <strong class="reserved">return</strong> newdoc;
<a id="L165" name="L165"></a> 165 
<a id="L166" name="L166"></a> 166     <em class="brace">}</em> <em class="comment">// cloneNode(boolean):Node</em>
<a id="L167" name="L167"></a> 167 
<div class="comment">
      Retrieve information describing the abilities of this particular
      DOM implementation. Intended to support applications that may be
      using DOMs retrieved from several different sources, potentially
      with different underlying representations.</div>
<a id="L174" name="L174"></a> 174     <strong class="reserved">public</strong> <a href="../S/119.html#L50" title="Defined at 50 in src/org/w3c/dom/DOMImplementation.java.">DOMImplementation</a> <a href="../R/17003.html" title="Multiple referred from 8 places.">getImplementation</a>() <em class="brace">{</em>
<a id="L175" name="L175"></a> 175         <em class="comment">// Currently implemented as a singleton, since it's hardcoded</em>
<a id="L176" name="L176"></a> 176         <em class="comment">// information anyway.</em>
<a id="L177" name="L177"></a> 177         <strong class="reserved">return</strong> <a href="../S/5448.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/dom/DOMImplementationImpl.java.">DOMImplementationImpl</a>.<a href="../D/18159.html" title="Multiple defined in 12 places.">getDOMImplementation</a>();
<a id="L178" name="L178"></a> 178     <em class="brace">}</em>
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180     <em class="comment">//</em>
<a id="L181" name="L181"></a> 181     <em class="comment">// DocumentTraversal methods</em>
<a id="L182" name="L182"></a> 182     <em class="comment">//</em>
<a id="L183" name="L183"></a> 183 
<div class="comment">
      NON-DOM extension:
      Create and return a NodeIterator. The NodeIterator is
      added to a list of NodeIterators so that it can be
      removed to free up the DOM Nodes it references.
      @param root The root of the iterator.
      @param whatToShow The whatToShow mask.
      @param filter The NodeFilter installed. Null means no filter.</div>
<a id="L194" name="L194"></a> 194     <strong class="reserved">public</strong> <a href="../D/6090.html" title="Multiple defined in 2 places.">NodeIterator</a> <a href="../S/5446.html#L198" title="Referred from 198 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">createNodeIterator</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>,
<a id="L195" name="L195"></a> 195                                            <strong class="reserved">short</strong> whatToShow,
<a id="L196" name="L196"></a> 196                                            <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>)
<a id="L197" name="L197"></a> 197     <em class="brace">{</em>
<a id="L198" name="L198"></a> 198         <strong class="reserved">return</strong> <a href="../D/14085.html" title="Multiple defined in 3 places.">createNodeIterator</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>, whatToShow, <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>, <strong class="reserved">true</strong>);
<a id="L199" name="L199"></a> 199     <em class="brace">}</em>
<a id="L200" name="L200"></a> 200 
<div class="comment">
      Create and return a NodeIterator. The NodeIterator is
      added to a list of NodeIterators so that it can be
      removed to free up the DOM Nodes it references.
      @param root The root of the iterator.
      @param whatToShow The whatToShow mask.
      @param filter The NodeFilter installed. Null means no filter.
      @param entityReferenceExpansion true to expand the contents of
                                      EntityReference nodes
      @since WD-DOM-Level-2-19990923</div>
<a id="L213" name="L213"></a> 213     <strong class="reserved">public</strong> <a href="../D/6090.html" title="Multiple defined in 2 places.">NodeIterator</a> <a href="../S/5446.html#L198" title="Referred from 198 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">createNodeIterator</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>,
<a id="L214" name="L214"></a> 214                                            <strong class="reserved">int</strong> whatToShow,
<a id="L215" name="L215"></a> 215                                            <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>,
<a id="L216" name="L216"></a> 216                                            <strong class="reserved">boolean</strong> entityReferenceExpansion)
<a id="L217" name="L217"></a> 217     <em class="brace">{</em>
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219         <strong class="reserved">if</strong> (<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L220" name="L220"></a> 220                   <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L221" name="L221"></a> 221                   <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L222" name="L222"></a> 222         <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224         <a href="../D/6090.html" title="Multiple defined in 2 places.">NodeIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <strong class="reserved">new</strong> <a href="../S/5443.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/NodeIteratorImpl.java.">NodeIteratorImpl</a>(<strong class="reserved">this</strong>,
<a id="L225" name="L225"></a> 225                                                      <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>,
<a id="L226" name="L226"></a> 226                                                      whatToShow,
<a id="L227" name="L227"></a> 227                                                      <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>,
<a id="L228" name="L228"></a> 228                                                      entityReferenceExpansion);
<a id="L229" name="L229"></a> 229         <strong class="reserved">if</strong> (iterators == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L230" name="L230"></a> 230             iterators = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L231" name="L231"></a> 231         <em class="brace">}</em>
<a id="L232" name="L232"></a> 232 
<a id="L233" name="L233"></a> 233         iterators.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>);
<a id="L234" name="L234"></a> 234 
<a id="L235" name="L235"></a> 235         <strong class="reserved">return</strong> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>;
<a id="L236" name="L236"></a> 236     <em class="brace">}</em>
<a id="L237" name="L237"></a> 237 
<div class="comment">
      NON-DOM extension:
      Create and return a TreeWalker.
      @param root The root of the iterator.
      @param whatToShow The whatToShow mask.
      @param filter The NodeFilter installed. Null means no filter.</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">public</strong> <a href="../D/9164.html" title="Multiple defined in 3 places.">TreeWalker</a> <a href="../S/5446.html#L250" title="Referred from 250 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">createTreeWalker</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>,
<a id="L247" name="L247"></a> 247                                        <strong class="reserved">short</strong> whatToShow,
<a id="L248" name="L248"></a> 248                                        <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>)
<a id="L249" name="L249"></a> 249     <em class="brace">{</em>
<a id="L250" name="L250"></a> 250         <strong class="reserved">return</strong> <a href="../D/14275.html" title="Multiple defined in 3 places.">createTreeWalker</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>, whatToShow, <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>, <strong class="reserved">true</strong>);
<a id="L251" name="L251"></a> 251     <em class="brace">}</em>
<div class="comment">
      Create and return a TreeWalker.
      @param root The root of the iterator.
      @param whatToShow The whatToShow mask.
      @param filter The NodeFilter installed. Null means no filter.
      @param entityReferenceExpansion true to expand the contents of
                                      EntityReference nodes
      @since WD-DOM-Level-2-19990923</div>
<a id="L262" name="L262"></a> 262     <strong class="reserved">public</strong> <a href="../D/9164.html" title="Multiple defined in 3 places.">TreeWalker</a> <a href="../S/5446.html#L250" title="Referred from 250 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">createTreeWalker</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>,
<a id="L263" name="L263"></a> 263                                        <strong class="reserved">int</strong> whatToShow,
<a id="L264" name="L264"></a> 264                                        <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>,
<a id="L265" name="L265"></a> 265                                        <strong class="reserved">boolean</strong> entityReferenceExpansion)
<a id="L266" name="L266"></a> 266     <em class="brace">{</em>
<a id="L267" name="L267"></a> 267         <strong class="reserved">if</strong> (<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L269" name="L269"></a> 269             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L270" name="L270"></a> 270         <em class="brace">}</em>
<a id="L271" name="L271"></a> 271         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5483.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/dom/TreeWalkerImpl.java.">TreeWalkerImpl</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>, whatToShow, <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>,
<a id="L272" name="L272"></a> 272                                   entityReferenceExpansion);
<a id="L273" name="L273"></a> 273     <em class="brace">}</em>
<a id="L274" name="L274"></a> 274 
<a id="L275" name="L275"></a> 275     <em class="comment">//</em>
<a id="L276" name="L276"></a> 276     <em class="comment">// Not DOM Level 2. Support DocumentTraversal methods.</em>
<a id="L277" name="L277"></a> 277     <em class="comment">//</em>
<a id="L278" name="L278"></a> 278 
<div class="comment">
 This is not called by the developer client. The
       developer client uses the detach() function on the
       NodeIterator itself. <p>
       This function is called from the NodeIterator#detach().</p></div>
<a id="L285" name="L285"></a> 285      <strong class="reserved">void</strong> <a href="../S/5443.html#L371" title="Referred from 371 in src/com/sun/org/apache/xerces/internal/dom/NodeIteratorImpl.java.">removeNodeIterator</a>(<a href="../D/6090.html" title="Multiple defined in 2 places.">NodeIterator</a> nodeIterator) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286 
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong> (nodeIterator == <strong class="reserved">null</strong>) <strong class="reserved">return</strong>;
<a id="L288" name="L288"></a> 288         <strong class="reserved">if</strong> (iterators == <strong class="reserved">null</strong>) <strong class="reserved">return</strong>;
<a id="L289" name="L289"></a> 289 
<a id="L290" name="L290"></a> 290         iterators.<a href="../D/30774.html" title="Multiple defined in 14 places.">removeElement</a>(nodeIterator);
<a id="L291" name="L291"></a> 291     <em class="brace">}</em>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293     <em class="comment">//</em>
<a id="L294" name="L294"></a> 294     <em class="comment">// DocumentRange methods</em>
<a id="L295" name="L295"></a> 295     <em class="comment">//</em>
<div class="comment">
</div>
<a id="L298" name="L298"></a> 298     <strong class="reserved">public</strong> <a href="../D/7102.html" title="Multiple defined in 2 places.">Range</a> <a href="../R/12644.html" title="Multiple referred from 33 places.">createRange</a>() <em class="brace">{</em>
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300         <strong class="reserved">if</strong> (ranges == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301             ranges = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L302" name="L302"></a> 302         <em class="brace">}</em>
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304         <a href="../D/7102.html" title="Multiple defined in 2 places.">Range</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> = <strong class="reserved">new</strong> <a href="../S/5486.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">RangeImpl</a>(<strong class="reserved">this</strong>);
<a id="L305" name="L305"></a> 305 
<a id="L306" name="L306"></a> 306         ranges.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>);
<a id="L307" name="L307"></a> 307 
<a id="L308" name="L308"></a> 308         <strong class="reserved">return</strong> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L309" name="L309"></a> 309 
<a id="L310" name="L310"></a> 310     <em class="brace">}</em>
<a id="L311" name="L311"></a> 311 
<div class="comment">
 Not a client function. Called by Range.detach(),
       so a Range can remove itself from the list of
       Ranges.</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">void</strong> <a href="../R/26053.html" title="Multiple referred from 5 places.">removeRange</a>(<a href="../D/7102.html" title="Multiple defined in 2 places.">Range</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317 
<a id="L318" name="L318"></a> 318         <strong class="reserved">if</strong> (<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> == <strong class="reserved">null</strong>) <strong class="reserved">return</strong>;
<a id="L319" name="L319"></a> 319         <strong class="reserved">if</strong> (ranges == <strong class="reserved">null</strong>) <strong class="reserved">return</strong>;
<a id="L320" name="L320"></a> 320 
<a id="L321" name="L321"></a> 321         ranges.<a href="../D/30774.html" title="Multiple defined in 14 places.">removeElement</a>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>);
<a id="L322" name="L322"></a> 322     <em class="brace">}</em>
<a id="L323" name="L323"></a> 323 
<div class="comment">
      A method to be called when some text was changed in a text node,
      so that live objects can be notified.</div>
<a id="L328" name="L328"></a> 328     <strong class="reserved">void</strong> <a href="../S/5471.html#L146" title="Referred from 146 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">replacedText</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L329" name="L329"></a> 329         <em class="comment">// notify ranges</em>
<a id="L330" name="L330"></a> 330         <strong class="reserved">if</strong> (ranges != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = ranges.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L332" name="L332"></a> 332             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i != <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333                 ((<a href="../S/5486.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">RangeImpl</a>)ranges.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../S/5486.html#L958" title="Defined at 958 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">receiveReplacedText</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L334" name="L334"></a> 334             <em class="brace">}</em>
<a id="L335" name="L335"></a> 335         <em class="brace">}</em>
<a id="L336" name="L336"></a> 336     <em class="brace">}</em>
<a id="L337" name="L337"></a> 337 
<div class="comment">
      A method to be called when some text was deleted from a text node,
      so that live objects can be notified.</div>
<a id="L342" name="L342"></a> 342     <strong class="reserved">void</strong> <a href="../S/5471.html#L255" title="Referred from 255 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">deletedText</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343         <em class="comment">// notify ranges</em>
<a id="L344" name="L344"></a> 344         <strong class="reserved">if</strong> (ranges != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = ranges.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L346" name="L346"></a> 346             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i != <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347                 ((<a href="../S/5486.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">RangeImpl</a>)ranges.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../S/5486.html#L898" title="Defined at 898 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">receiveDeletedText</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,
<a id="L348" name="L348"></a> 348                                                                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L349" name="L349"></a> 349             <em class="brace">}</em>
<a id="L350" name="L350"></a> 350         <em class="brace">}</em>
<a id="L351" name="L351"></a> 351     <em class="brace">}</em>
<a id="L352" name="L352"></a> 352 
<div class="comment">
      A method to be called when some text was inserted into a text node,
      so that live objects can be notified.</div>
<a id="L357" name="L357"></a> 357     <strong class="reserved">void</strong> <a href="../S/5471.html#L308" title="Referred from 308 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">insertedText</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358         <em class="comment">// notify ranges</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">if</strong> (ranges != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = ranges.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L361" name="L361"></a> 361             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i != <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362                 ((<a href="../S/5486.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">RangeImpl</a>)ranges.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../S/5486.html#L936" title="Defined at 936 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">receiveInsertedText</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,
<a id="L363" name="L363"></a> 363                                                                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L364" name="L364"></a> 364             <em class="brace">}</em>
<a id="L365" name="L365"></a> 365         <em class="brace">}</em>
<a id="L366" name="L366"></a> 366     <em class="brace">}</em>
<a id="L367" name="L367"></a> 367 
<div class="comment">
      A method to be called when a text node has been split,
      so that live objects can be notified.</div>
<a id="L372" name="L372"></a> 372     <strong class="reserved">void</strong> <a href="../S/5486.html#L856" title="Referred from 856 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">splitData</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28045.html" title="Multiple defined in 5 places.">newNode</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L373" name="L373"></a> 373         <em class="comment">// notify ranges</em>
<a id="L374" name="L374"></a> 374         <strong class="reserved">if</strong> (ranges != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = ranges.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L376" name="L376"></a> 376             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i != <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377                 ((<a href="../S/5486.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">RangeImpl</a>)ranges.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../S/5486.html#L863" title="Defined at 863 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">receiveSplitData</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,
<a id="L378" name="L378"></a> 378                                                               <a href="../D/28045.html" title="Multiple defined in 5 places.">newNode</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L379" name="L379"></a> 379             <em class="brace">}</em>
<a id="L380" name="L380"></a> 380         <em class="brace">}</em>
<a id="L381" name="L381"></a> 381     <em class="brace">}</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383     <em class="comment">//</em>
<a id="L384" name="L384"></a> 384     <em class="comment">// DocumentEvent methods</em>
<a id="L385" name="L385"></a> 385     <em class="comment">//</em>
<a id="L386" name="L386"></a> 386 
<div class="comment">
      Introduced in DOM Level 2. Optional. <p>
      Create and return Event objects.
      @param type The eventType parameter specifies the type of Event
      interface to be created.  If the Event interface specified is supported
      by the implementation this method will return a new Event of the
      interface type requested. If the Event is to be dispatched via the
      dispatchEvent method the appropriate event init method must be called
      after creation in order to initialize the Event's values.  As an
      example, a user wishing to synthesize some kind of Event would call
      createEvent with the parameter "Events". The initEvent method could then
      be called on the newly created Event to set the specific type of Event
      to be dispatched and set its context information.
      @return Newly created Event
      @exception DOMException NOT_SUPPORTED_ERR: Raised if the implementation
      does not support the type of Event interface requested
      @since WD-DOM-Level-2-19990923</p></div>
<a id="L406" name="L406"></a> 406     <strong class="reserved">public</strong> <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a> createEvent(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)
<a id="L407" name="L407"></a> 407         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L408" name="L408"></a> 408             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("Events") || "Event".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>))
<a id="L409" name="L409"></a> 409                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5478.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/events/EventImpl.java.">EventImpl</a>();
<a id="L410" name="L410"></a> 410             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("MutationEvents") ||
<a id="L411" name="L411"></a> 411                 "MutationEvent".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>))
<a id="L412" name="L412"></a> 412                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L413" name="L413"></a> 413             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L414" name="L414"></a> 414             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L415" name="L415"></a> 415                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L416" name="L416"></a> 416         <em class="brace">}</em>
<a id="L417" name="L417"></a> 417         <em class="brace">}</em>
<a id="L418" name="L418"></a> 418 
<div class="comment">
      Sets whether the DOM implementation generates mutation events
      upon operations.</div>
<a id="L423" name="L423"></a> 423     <strong class="reserved">void</strong> <a href="../R/27792.html" title="Multiple referred from 10 places.">setMutationEvents</a>(<strong class="reserved">boolean</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424         mutationEvents = <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>;
<a id="L425" name="L425"></a> 425     <em class="brace">}</em>
<a id="L426" name="L426"></a> 426 
<div class="comment">
      Returns true if the DOM implementation generates mutation events.</div>
<a id="L430" name="L430"></a> 430     <strong class="reserved">boolean</strong> <a href="../R/17818.html" title="Multiple referred from 7 places.">getMutationEvents</a>() <em class="brace">{</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">return</strong> mutationEvents;
<a id="L432" name="L432"></a> 432     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<div class="comment">
      Store event listener registered on a given node
      This is another place where we could use weak references! Indeed, the
      node here won't be GC'ed as long as some listener is registered on it,
      since the eventsListeners table will have a reference to the node.</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27357.html" title="Multiple referred from 3 places.">setEventListeners</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> n, <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> listeners) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441         <strong class="reserved">if</strong> (eventListeners == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L442" name="L442"></a> 442             eventListeners = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L443" name="L443"></a> 443         <em class="brace">}</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong> (listeners == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             eventListeners.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(n);
<a id="L446" name="L446"></a> 446             <strong class="reserved">if</strong> (eventListeners.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447                 <em class="comment">// stop firing events when there isn't any listener</em>
<a id="L448" name="L448"></a> 448                 mutationEvents = <strong class="reserved">false</strong>;
<a id="L449" name="L449"></a> 449             <em class="brace">}</em>
<a id="L450" name="L450"></a> 450         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L451" name="L451"></a> 451             eventListeners.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(n, listeners);
<a id="L452" name="L452"></a> 452             <em class="comment">// turn mutation events on</em>
<a id="L453" name="L453"></a> 453             mutationEvents = <strong class="reserved">true</strong>;
<a id="L454" name="L454"></a> 454         <em class="brace">}</em>
<a id="L455" name="L455"></a> 455     <em class="brace">}</em>
<a id="L456" name="L456"></a> 456 
<div class="comment">
      Retreive event listener registered on a given node</div>
<a id="L460" name="L460"></a> 460     <strong class="reserved">protected</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/16448.html" title="Multiple referred from 6 places.">getEventListeners</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> n) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">if</strong> (eventListeners == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L463" name="L463"></a> 463         <em class="brace">}</em>
<a id="L464" name="L464"></a> 464         <strong class="reserved">return</strong> (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>) eventListeners.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n);
<a id="L465" name="L465"></a> 465     <em class="brace">}</em>
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467     <em class="comment">//</em>
<a id="L468" name="L468"></a> 468     <em class="comment">// EventTarget support (public and internal)</em>
<a id="L469" name="L469"></a> 469     <em class="comment">//</em>
<a id="L470" name="L470"></a> 470 
<a id="L471" name="L471"></a> 471     <em class="comment">//</em>
<a id="L472" name="L472"></a> 472     <em class="comment">// Constants</em>
<a id="L473" name="L473"></a> 473     <em class="comment">//</em>
<a id="L474" name="L474"></a> 474 
<div class="comment">
      NON-DOM INTERNAL: Class LEntry is just a struct used to represent
      event listeners registered with this node. Copies of this object
      are hung from the nodeListeners Vector.
      <p>
      I considered using two vectors -- one for capture,
      one for bubble -- but decided that since the list of listeners
      is probably short in most cases, it might not be worth spending
      the space. ***** REVISIT WHEN WE HAVE MORE EXPERIENCE.</p></div>
<a id="L485" name="L485"></a> 485     <strong class="reserved">class</strong> <a href="../R/4446.html" title="Multiple referred from 5 places.">LEntry</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L486" name="L486"></a> 486 
<a id="L487" name="L487"></a> 487         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -8426757059492421631L;
<a id="L488" name="L488"></a> 488         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L489" name="L489"></a> 489         <a href="../D/2994.html" title="Multiple defined in 2 places.">EventListener</a> listener;
<a id="L490" name="L490"></a> 490         <strong class="reserved">boolean</strong> useCapture;
<a id="L491" name="L491"></a> 491 
<div class="comment">
 NON-DOM INTERNAL: Constructor for Listener list Entry
          @param type Event name (NOT event group!) to listen for.
          @param listener Who gets called when event is dispatched
          @param useCaptue True iff listener is registered on
           capturing phase rather than at-target or bubbling</div>
<a id="L498" name="L498"></a> 498         LEntry(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/2994.html" title="Multiple defined in 2 places.">EventListener</a> listener, <strong class="reserved">boolean</strong> useCapture)
<a id="L499" name="L499"></a> 499         <em class="brace">{</em>
<a id="L500" name="L500"></a> 500             <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L501" name="L501"></a> 501             <strong class="reserved">this</strong>.listener = listener;
<a id="L502" name="L502"></a> 502             <strong class="reserved">this</strong>.useCapture = useCapture;
<a id="L503" name="L503"></a> 503         <em class="brace">}</em>
<a id="L504" name="L504"></a> 504 
<a id="L505" name="L505"></a> 505     <em class="brace">}</em> <em class="comment">// LEntry</em>
<a id="L506" name="L506"></a> 506 
<div class="comment">
      Introduced in DOM Level 2. <p> Register an event listener with this
      Node. A listener may be independently registered as both Capturing and
      Bubbling, but may only be registered once per role; redundant
      registrations are ignored.
      @param node node to add listener to
      @param type Event name (NOT event group!) to listen for.
      @param listener Who gets called when event is dispatched
      @param useCapture True iff listener is registered on
       capturing phase rather than at-target or bubbling</p></div>
<a id="L518" name="L518"></a> 518     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/9721.html" title="Multiple referred from 3 places.">addEventListener</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L519" name="L519"></a> 519                                     <a href="../D/2994.html" title="Multiple defined in 2 places.">EventListener</a> listener, <strong class="reserved">boolean</strong> useCapture)
<a id="L520" name="L520"></a> 520     <em class="brace">{</em>
<a id="L521" name="L521"></a> 521         <em class="comment">// We can't dispatch to blank type-name, and of course we need</em>
<a id="L522" name="L522"></a> 522         <em class="comment">// a listener to dispatch to</em>
<a id="L523" name="L523"></a> 523         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong> || <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("") || listener == <strong class="reserved">null</strong>)
<a id="L524" name="L524"></a> 524             <strong class="reserved">return</strong>;
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526         <em class="comment">// Each listener may be registered only once per type per phase.</em>
<a id="L527" name="L527"></a> 527         <em class="comment">// Simplest way to code that is to zap the previous entry, if any.</em>
<a id="L528" name="L528"></a> 528         <a href="../D/30788.html" title="Multiple defined in 5 places.">removeEventListener</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, listener, useCapture);
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> = <a href="../S/5446.html#L460" title="Defined at 460 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">getEventListeners</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L531" name="L531"></a> 531         <strong class="reserved">if</strong>(<a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532             <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L533" name="L533"></a> 533             <a href="../S/5446.html#L440" title="Defined at 440 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">setEventListeners</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>);
<a id="L534" name="L534"></a> 534         <em class="brace">}</em>
<a id="L535" name="L535"></a> 535         <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, listener, useCapture));
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537         <em class="comment">// Record active listener</em>
<a id="L538" name="L538"></a> 538         <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L539" name="L539"></a> 539         <strong class="reserved">if</strong> (useCapture) <em class="brace">{</em>
<a id="L540" name="L540"></a> 540             ++lc.captures;
<a id="L541" name="L541"></a> 541             ++lc.total;
<a id="L542" name="L542"></a> 542         <em class="brace">}</em>
<a id="L543" name="L543"></a> 543         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L544" name="L544"></a> 544             ++lc.bubbles;
<a id="L545" name="L545"></a> 545             ++lc.total;
<a id="L546" name="L546"></a> 546         <em class="brace">}</em>
<a id="L547" name="L547"></a> 547 
<a id="L548" name="L548"></a> 548     <em class="brace">}</em> <em class="comment">// addEventListener(NodeImpl,String,EventListener,boolean) :void</em>
<a id="L549" name="L549"></a> 549 
<div class="comment">
      Introduced in DOM Level 2. <p> Deregister an event listener previously
      registered with this Node.  A listener must be independently removed
      from the Capturing and Bubbling roles. Redundant removals (of listeners
      not currently registered for this role) are ignored.
      @param node node to remove listener from
      @param type Event name (NOT event group!) to listen for.
      @param listener Who gets called when event is dispatched
      @param useCapture True iff listener is registered on
       capturing phase rather than at-target or bubbling</p></div>
<a id="L561" name="L561"></a> 561     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25961.html" title="Multiple referred from 5 places.">removeEventListener</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L562" name="L562"></a> 562                                        <a href="../D/2994.html" title="Multiple defined in 2 places.">EventListener</a> listener,
<a id="L563" name="L563"></a> 563                                        <strong class="reserved">boolean</strong> useCapture)
<a id="L564" name="L564"></a> 564     <em class="brace">{</em>
<a id="L565" name="L565"></a> 565         <em class="comment">// If this couldn't be a valid listener registration, ignore request</em>
<a id="L566" name="L566"></a> 566         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong> || <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("") || listener == <strong class="reserved">null</strong>)
<a id="L567" name="L567"></a> 567             <strong class="reserved">return</strong>;
<a id="L568" name="L568"></a> 568         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> = <a href="../S/5446.html#L460" title="Defined at 460 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">getEventListeners</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L569" name="L569"></a> 569         <strong class="reserved">if</strong> (<a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> == <strong class="reserved">null</strong>)
<a id="L570" name="L570"></a> 570             <strong class="reserved">return</strong>;
<a id="L571" name="L571"></a> 571 
<a id="L572" name="L572"></a> 572         <em class="comment">// Note that addListener has previously ensured that</em>
<a id="L573" name="L573"></a> 573         <em class="comment">// each listener may be registered only once per type per phase.</em>
<a id="L574" name="L574"></a> 574         <em class="comment">// count-down is OK for deletions!</em>
<a id="L575" name="L575"></a> 575         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1; i &gt;= 0; --i) <em class="brace">{</em>
<a id="L576" name="L576"></a> 576             <a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a> le = (<a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a>) <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L577" name="L577"></a> 577             <strong class="reserved">if</strong> (le.useCapture == useCapture &amp;&amp; le.listener == listener &amp;&amp;
<a id="L578" name="L578"></a> 578                 le.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)) <em class="brace">{</em>
<a id="L579" name="L579"></a> 579                 <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/30775.html" title="Multiple defined in 12 places.">removeElementAt</a>(i);
<a id="L580" name="L580"></a> 580                 <em class="comment">// Storage management: Discard empty listener lists</em>
<a id="L581" name="L581"></a> 581                 <strong class="reserved">if</strong> (<a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0)
<a id="L582" name="L582"></a> 582                     <a href="../S/5446.html#L440" title="Defined at 440 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">setEventListeners</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">null</strong>);
<a id="L583" name="L583"></a> 583 
<a id="L584" name="L584"></a> 584                 <em class="comment">// Remove active listener</em>
<a id="L585" name="L585"></a> 585                 <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L586" name="L586"></a> 586                 <strong class="reserved">if</strong> (useCapture) <em class="brace">{</em>
<a id="L587" name="L587"></a> 587                     --lc.captures;
<a id="L588" name="L588"></a> 588                     --lc.total;
<a id="L589" name="L589"></a> 589                 <em class="brace">}</em>
<a id="L590" name="L590"></a> 590                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                     --lc.bubbles;
<a id="L592" name="L592"></a> 592                     --lc.total;
<a id="L593" name="L593"></a> 593                 <em class="brace">}</em>
<a id="L594" name="L594"></a> 594 
<a id="L595" name="L595"></a> 595                 <strong class="reserved">break</strong>;  <em class="comment">// Found it; no need to loop farther.</em>
<a id="L596" name="L596"></a> 596             <em class="brace">}</em>
<a id="L597" name="L597"></a> 597         <em class="brace">}</em>
<a id="L598" name="L598"></a> 598     <em class="brace">}</em> <em class="comment">// removeEventListener(NodeImpl,String,EventListener,boolean) :void</em>
<a id="L599" name="L599"></a> 599 
<a id="L600" name="L600"></a> 600     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/12101.html" title="Multiple referred from 2 places.">copyEventListeners</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> src, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> tgt) <em class="brace">{</em>
<a id="L601" name="L601"></a> 601         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> = <a href="../S/5446.html#L460" title="Defined at 460 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">getEventListeners</a>(src);
<a id="L602" name="L602"></a> 602         <strong class="reserved">if</strong> (<a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603             <strong class="reserved">return</strong>;
<a id="L604" name="L604"></a> 604         <em class="brace">}</em>
<a id="L605" name="L605"></a> 605         <a href="../S/5446.html#L440" title="Defined at 440 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">setEventListeners</a>(tgt, (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>) <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>());
<a id="L606" name="L606"></a> 606     <em class="brace">}</em>
<a id="L607" name="L607"></a> 607 
<div class="comment">
      Introduced in DOM Level 2. <p>
      Distribution engine for DOM Level 2 Events.
      </p><p>
      Event propagation runs as follows:
      </p><ol>
      <li>Event is dispatched to a particular target node, which invokes
        this code. Note that the event's stopPropagation flag is
        cleared when dispatch begins; thereafter, if it has
        been set before processing of a node commences, we instead
        immediately advance to the DEFAULT phase.
      </li><li>The node's ancestors are established as destinations for events.
        For capture and bubble purposes, node ancestry is determined at
        the time dispatch starts. If an event handler alters the document
        tree, that does not change which nodes will be informed of the event.
      </li><li>CAPTURING_PHASE: Ancestors are scanned, root to target, for
        Capturing listeners. If found, they are invoked (see below).
      </li><li>AT_TARGET:
        Event is dispatched to NON-CAPTURING listeners on the
        target node. Note that capturing listeners on this node are _not_
        invoked.
      </li><li>BUBBLING_PHASE: Ancestors are scanned, target to root, for
        non-capturing listeners.
      </li><li>Default processing: Some DOMs have default behaviors bound to
        specific nodes. If this DOM does, and if the event's preventDefault
        flag has not been set, we now return to the target node and process
        its default handler for this event, if any.
      </li></ol>
      <p>
      Note that registration of handlers during processing of an event does
      not take effect during this phase of this event; they will not be called
      until the next time this node is visited by dispatchEvent. On the other
      hand, removals take effect immediately.
      </p><p>
      If an event handler itself causes events to be dispatched, they are
      processed synchronously, before processing resumes
      on the event which triggered them. Please be aware that this may
      result in events arriving at listeners "out of order" relative
      to the actual sequence of requests.
      </p><p>
      Note that our implementation resets the event's stop/prevent flags
      when dispatch begins.
      I believe the DOM's intent is that event objects be redispatchable,
      though it isn't stated in those terms.
      @param node node to dispatch to
      @param event the event object to be dispatched to
                   registered EventListeners
      @return true if the event's <code>preventDefault()</code>
                   method was invoked by an EventListener; otherwise false.</p></div>
<a id="L658" name="L658"></a> 658     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/13320.html" title="Multiple referred from 46 places.">dispatchEvent</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a> event) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659         <strong class="reserved">if</strong> (event == <strong class="reserved">null</strong>) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L660" name="L660"></a> 660 
<a id="L661" name="L661"></a> 661         <em class="comment">// Can't use anyone else's implementation, since there's no public</em>
<a id="L662" name="L662"></a> 662         <em class="comment">// API for setting the event's processing-state fields.</em>
<a id="L663" name="L663"></a> 663         <a href="../S/5478.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/events/EventImpl.java.">EventImpl</a> evt = (<a href="../S/5478.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/events/EventImpl.java.">EventImpl</a>)event;
<a id="L664" name="L664"></a> 664 
<a id="L665" name="L665"></a> 665         <em class="comment">// VALIDATE -- must have been initialized at least once, must have</em>
<a id="L666" name="L666"></a> 666         <em class="comment">// a non-null non-blank name.</em>
<a id="L667" name="L667"></a> 667         <strong class="reserved">if</strong>(!evt.<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> || evt.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong> || evt.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")) <em class="brace">{</em>
<a id="L668" name="L668"></a> 668             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "UNSPECIFIED_EVENT_TYPE_ERR", <strong class="reserved">null</strong>);
<a id="L669" name="L669"></a> 669             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/146.html#L50" title="Defined at 50 in src/org/w3c/dom/events/EventException.java.">EventException</a>(<a href="../S/146.html#L50" title="Defined at 50 in src/org/w3c/dom/events/EventException.java.">EventException</a>.UNSPECIFIED_EVENT_TYPE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L670" name="L670"></a> 670         <em class="brace">}</em>
<a id="L671" name="L671"></a> 671 
<a id="L672" name="L672"></a> 672         <em class="comment">// If nobody is listening for this event, discard immediately</em>
<a id="L673" name="L673"></a> 673         <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(evt.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>());
<a id="L674" name="L674"></a> 674         <strong class="reserved">if</strong> (lc.total == 0)
<a id="L675" name="L675"></a> 675             <strong class="reserved">return</strong> evt.<a href="../D/29599.html" title="Multiple defined in 2 places.">preventDefault</a>;
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677         <em class="comment">// INITIALIZE THE EVENT'S DISPATCH STATUS</em>
<a id="L678" name="L678"></a> 678         <em class="comment">// (Note that Event objects are reusable in our implementation;</em>
<a id="L679" name="L679"></a> 679         <em class="comment">// that doesn't seem to be explicitly guaranteed in the DOM, but</em>
<a id="L680" name="L680"></a> 680         <em class="comment">// I believe it is the intent.)</em>
<a id="L681" name="L681"></a> 681         evt.<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L682" name="L682"></a> 682         evt.<a href="../D/34887.html" title="Multiple defined in 2 places.">stopPropagation</a> = <strong class="reserved">false</strong>;
<a id="L683" name="L683"></a> 683         evt.<a href="../D/29599.html" title="Multiple defined in 2 places.">preventDefault</a> = <strong class="reserved">false</strong>;
<a id="L684" name="L684"></a> 684 
<a id="L685" name="L685"></a> 685         <em class="comment">// Capture pre-event parentage chain, not including target;</em>
<a id="L686" name="L686"></a> 686         <em class="comment">// use pre-event-dispatch ancestors even if event handlers mutate</em>
<a id="L687" name="L687"></a> 687         <em class="comment">// document and change the target's context.</em>
<a id="L688" name="L688"></a> 688         <em class="comment">// Note that this is parents ONLY; events do not</em>
<a id="L689" name="L689"></a> 689         <em class="comment">// cross the Attr/Element "blood/brain barrier".</em>
<a id="L690" name="L690"></a> 690         <em class="comment">// DOMAttrModified. which looks like an exception,</em>
<a id="L691" name="L691"></a> 691         <em class="comment">// is issued to the Element rather than the Attr</em>
<a id="L692" name="L692"></a> 692         <em class="comment">// and causes a _second_ DOMSubtreeModified in the Element's</em>
<a id="L693" name="L693"></a> 693         <em class="comment">// tree.</em>
<a id="L694" name="L694"></a> 694         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> pv = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>(10,10);
<a id="L695" name="L695"></a> 695         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> p = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L696" name="L696"></a> 696         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n = p.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L697" name="L697"></a> 697         <strong class="reserved">while</strong> (n != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L698" name="L698"></a> 698             pv.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(n);
<a id="L699" name="L699"></a> 699             p = n;
<a id="L700" name="L700"></a> 700             n = n.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L701" name="L701"></a> 701         <em class="brace">}</em>
<a id="L702" name="L702"></a> 702 
<a id="L703" name="L703"></a> 703         <em class="comment">// CAPTURING_PHASE:</em>
<a id="L704" name="L704"></a> 704         <strong class="reserved">if</strong> (lc.captures &gt; 0) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705             evt.eventPhase = <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a>.CAPTURING_PHASE;
<a id="L706" name="L706"></a> 706             <em class="comment">// Ancestors are scanned, root to target, for</em>
<a id="L707" name="L707"></a> 707             <em class="comment">// Capturing listeners.</em>
<a id="L708" name="L708"></a> 708             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = pv.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1; j &gt;= 0; --j) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709                 <strong class="reserved">if</strong> (evt.<a href="../D/34887.html" title="Multiple defined in 2 places.">stopPropagation</a>)
<a id="L710" name="L710"></a> 710                     <strong class="reserved">break</strong>;  <em class="comment">// Someone set the flag. Phase ends.</em>
<a id="L711" name="L711"></a> 711 
<a id="L712" name="L712"></a> 712                 <em class="comment">// Handle all capturing listeners on this node</em>
<a id="L713" name="L713"></a> 713                 <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> nn = (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) pv.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(j);
<a id="L714" name="L714"></a> 714                 evt.currentTarget = nn;
<a id="L715" name="L715"></a> 715                 <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> = <a href="../S/5446.html#L460" title="Defined at 460 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">getEventListeners</a>(nn);
<a id="L716" name="L716"></a> 716                 <strong class="reserved">if</strong> (<a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L717" name="L717"></a> 717                     <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> nl = (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>) <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L718" name="L718"></a> 718                     <em class="comment">// call listeners in the order in which they got registered</em>
<a id="L719" name="L719"></a> 719                     <strong class="reserved">int</strong> nlsize = nl.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L720" name="L720"></a> 720                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nlsize; i++) <em class="brace">{</em>
<a id="L721" name="L721"></a> 721                         <a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a> le = (<a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a>) nl.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L722" name="L722"></a> 722                         <strong class="reserved">if</strong> (le.useCapture &amp;&amp; le.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(evt.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) &amp;&amp;
<a id="L723" name="L723"></a> 723                             <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(le)) <em class="brace">{</em>
<a id="L724" name="L724"></a> 724                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L725" name="L725"></a> 725                                 le.listener.<a href="../D/23977.html" title="Multiple defined in 10 places.">handleEvent</a>(evt);
<a id="L726" name="L726"></a> 726                             <em class="brace">}</em>
<a id="L727" name="L727"></a> 727                             <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728                                 <em class="comment">// All exceptions are ignored.</em>
<a id="L729" name="L729"></a> 729                             <em class="brace">}</em>
<a id="L730" name="L730"></a> 730                         <em class="brace">}</em>
<a id="L731" name="L731"></a> 731                     <em class="brace">}</em>
<a id="L732" name="L732"></a> 732                 <em class="brace">}</em>
<a id="L733" name="L733"></a> 733             <em class="brace">}</em>
<a id="L734" name="L734"></a> 734         <em class="brace">}</em>
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736 
<a id="L737" name="L737"></a> 737         <em class="comment">// Both AT_TARGET and BUBBLE use non-capturing listeners.</em>
<a id="L738" name="L738"></a> 738         <strong class="reserved">if</strong> (lc.bubbles &gt; 0) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739             <em class="comment">// AT_TARGET PHASE: Event is dispatched to NON-CAPTURING listeners</em>
<a id="L740" name="L740"></a> 740             <em class="comment">// on the target node. Note that capturing listeners on the target</em>
<a id="L741" name="L741"></a> 741             <em class="comment">// node are _not_ invoked, even during the capture phase.</em>
<a id="L742" name="L742"></a> 742             evt.eventPhase = <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a>.AT_TARGET;
<a id="L743" name="L743"></a> 743             evt.currentTarget = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L744" name="L744"></a> 744             <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> = <a href="../S/5446.html#L460" title="Defined at 460 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">getEventListeners</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L745" name="L745"></a> 745             <strong class="reserved">if</strong> (!evt.<a href="../D/34887.html" title="Multiple defined in 2 places.">stopPropagation</a> &amp;&amp; <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L746" name="L746"></a> 746                 <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> nl = (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>) <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L747" name="L747"></a> 747                 <em class="comment">// call listeners in the order in which they got registered</em>
<a id="L748" name="L748"></a> 748                 <strong class="reserved">int</strong> nlsize = nl.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L749" name="L749"></a> 749                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nlsize; i++) <em class="brace">{</em>
<a id="L750" name="L750"></a> 750                     <a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a> le = (<a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a>) nl.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L751" name="L751"></a> 751                     <strong class="reserved">if</strong> (!le.useCapture &amp;&amp; le.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(evt.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) &amp;&amp;
<a id="L752" name="L752"></a> 752                         <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(le)) <em class="brace">{</em>
<a id="L753" name="L753"></a> 753                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L754" name="L754"></a> 754                             le.listener.<a href="../D/23977.html" title="Multiple defined in 10 places.">handleEvent</a>(evt);
<a id="L755" name="L755"></a> 755                         <em class="brace">}</em>
<a id="L756" name="L756"></a> 756                         <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757                             <em class="comment">// All exceptions are ignored.</em>
<a id="L758" name="L758"></a> 758                         <em class="brace">}</em>
<a id="L759" name="L759"></a> 759                     <em class="brace">}</em>
<a id="L760" name="L760"></a> 760                 <em class="brace">}</em>
<a id="L761" name="L761"></a> 761             <em class="brace">}</em>
<a id="L762" name="L762"></a> 762             <em class="comment">// BUBBLING_PHASE: Ancestors are scanned, target to root, for</em>
<a id="L763" name="L763"></a> 763             <em class="comment">// non-capturing listeners. If the event's preventBubbling flag</em>
<a id="L764" name="L764"></a> 764             <em class="comment">// has been set before processing of a node commences, we</em>
<a id="L765" name="L765"></a> 765             <em class="comment">// instead immediately advance to the default phase.</em>
<a id="L766" name="L766"></a> 766             <em class="comment">// Note that not all events bubble.</em>
<a id="L767" name="L767"></a> 767             <strong class="reserved">if</strong> (evt.bubbles) <em class="brace">{</em>
<a id="L768" name="L768"></a> 768                 evt.eventPhase = <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a>.BUBBLING_PHASE;
<a id="L769" name="L769"></a> 769                 <strong class="reserved">int</strong> pvsize = pv.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L770" name="L770"></a> 770                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; pvsize; j++) <em class="brace">{</em>
<a id="L771" name="L771"></a> 771                     <strong class="reserved">if</strong> (evt.<a href="../D/34887.html" title="Multiple defined in 2 places.">stopPropagation</a>)
<a id="L772" name="L772"></a> 772                         <strong class="reserved">break</strong>;  <em class="comment">// Someone set the flag. Phase ends.</em>
<a id="L773" name="L773"></a> 773 
<a id="L774" name="L774"></a> 774                     <em class="comment">// Handle all bubbling listeners on this node</em>
<a id="L775" name="L775"></a> 775                     <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> nn = (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) pv.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(j);
<a id="L776" name="L776"></a> 776                     evt.currentTarget = nn;
<a id="L777" name="L777"></a> 777                     <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> = <a href="../S/5446.html#L460" title="Defined at 460 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">getEventListeners</a>(nn);
<a id="L778" name="L778"></a> 778                     <strong class="reserved">if</strong> (<a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779                         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> nl = (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>) <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L780" name="L780"></a> 780                         <em class="comment">// call listeners in the order in which they got</em>
<a id="L781" name="L781"></a> 781                         <em class="comment">// registered</em>
<a id="L782" name="L782"></a> 782                         <strong class="reserved">int</strong> nlsize = nl.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L783" name="L783"></a> 783                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nlsize; i++) <em class="brace">{</em>
<a id="L784" name="L784"></a> 784                             <a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a> le = (<a href="../S/5446.html#L485" title="Defined at 485 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">LEntry</a>) nl.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L785" name="L785"></a> 785                             <strong class="reserved">if</strong> (!le.useCapture &amp;&amp; le.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(evt.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) &amp;&amp;
<a id="L786" name="L786"></a> 786                                 <a href="../S/839.html#L1540" title="Defined at 1540 in src/java/util/prefs/AbstractPreferences.java.">nodeListeners</a>.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(le)) <em class="brace">{</em>
<a id="L787" name="L787"></a> 787                                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L788" name="L788"></a> 788                                     le.listener.<a href="../D/23977.html" title="Multiple defined in 10 places.">handleEvent</a>(evt);
<a id="L789" name="L789"></a> 789                                 <em class="brace">}</em>
<a id="L790" name="L790"></a> 790                                 <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L791" name="L791"></a> 791                                     <em class="comment">// All exceptions are ignored.</em>
<a id="L792" name="L792"></a> 792                                 <em class="brace">}</em>
<a id="L793" name="L793"></a> 793                             <em class="brace">}</em>
<a id="L794" name="L794"></a> 794                         <em class="brace">}</em>
<a id="L795" name="L795"></a> 795                     <em class="brace">}</em>
<a id="L796" name="L796"></a> 796                 <em class="brace">}</em>
<a id="L797" name="L797"></a> 797             <em class="brace">}</em>
<a id="L798" name="L798"></a> 798         <em class="brace">}</em>
<a id="L799" name="L799"></a> 799 
<a id="L800" name="L800"></a> 800         <em class="comment">// DEFAULT PHASE: Some DOMs have default behaviors bound to specific</em>
<a id="L801" name="L801"></a> 801         <em class="comment">// nodes. If this DOM does, and if the event's preventDefault flag has</em>
<a id="L802" name="L802"></a> 802         <em class="comment">// not been set, we now return to the target node and process its</em>
<a id="L803" name="L803"></a> 803         <em class="comment">// default handler for this event, if any.</em>
<a id="L804" name="L804"></a> 804         <em class="comment">// No specific phase value defined, since this is DOM-internal</em>
<a id="L805" name="L805"></a> 805         <strong class="reserved">if</strong> (lc.defaults &gt; 0 &amp;&amp; (!evt.cancelable || !evt.<a href="../D/29599.html" title="Multiple defined in 2 places.">preventDefault</a>)) <em class="brace">{</em>
<a id="L806" name="L806"></a> 806             <em class="comment">// evt.eventPhase = Event.DEFAULT_PHASE;</em>
<a id="L807" name="L807"></a> 807             <em class="comment">// evt.currentTarget = node;</em>
<a id="L808" name="L808"></a> 808             <em class="comment">// DO_DEFAULT_OPERATION</em>
<a id="L809" name="L809"></a> 809         <em class="brace">}</em>
<a id="L810" name="L810"></a> 810 
<a id="L811" name="L811"></a> 811         <strong class="reserved">return</strong> evt.<a href="../D/29599.html" title="Multiple defined in 2 places.">preventDefault</a>;
<a id="L812" name="L812"></a> 812     <em class="brace">}</em> <em class="comment">// dispatchEvent(NodeImpl,Event) :boolean</em>
<a id="L813" name="L813"></a> 813 
<div class="comment">
      NON-DOM INTERNAL: DOMNodeInsertedIntoDocument and ...RemovedFrom...
      are dispatched to an entire subtree. This is the distribution code
      therefor. They DO NOT bubble, thanks be, but may be captured.
      <p>
      Similar to code in dispatchingEventToSubtree however this method
      is only used on the target node and does not start a dispatching chain
      on the sibling of the target node as this is not part of the subtree
      ***** At the moment I'm being sloppy and using the normal
      capture dispatcher on every node. This could be optimized hugely
      by writing a capture engine that tracks our position in the tree to
      update the capture chain without repeated chases up to root.
      @param n target node (that was directly inserted or removed)
      @param e event to be sent to that node and its subtree</p></div>
<a id="L829" name="L829"></a> 829     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13323.html" title="Multiple referred from 2 places.">dispatchEventToSubtree</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n, <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a> e) <em class="brace">{</em>
<a id="L830" name="L830"></a> 830 
<a id="L831" name="L831"></a> 831         ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) n).<a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(e);
<a id="L832" name="L832"></a> 832         <strong class="reserved">if</strong> (n.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L833" name="L833"></a> 833             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = n.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L834" name="L834"></a> 834             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() - 1; i &gt;= 0; --i)
<a id="L835" name="L835"></a> 835                 <a href="../S/5446.html#L848" title="Defined at 848 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">dispatchingEventToSubtree</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i), e);
<a id="L836" name="L836"></a> 836         <em class="brace">}</em>
<a id="L837" name="L837"></a> 837         <a href="../S/5446.html#L848" title="Defined at 848 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">dispatchingEventToSubtree</a>(n.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(), e);
<a id="L838" name="L838"></a> 838 
<a id="L839" name="L839"></a> 839     <em class="brace">}</em> <em class="comment">// dispatchEventToSubtree(NodeImpl,Node,Event) :void</em>
<a id="L840" name="L840"></a> 840 
<a id="L841" name="L841"></a> 841 
<div class="comment">
      Dispatches event to the target node's descendents recursively
      @param n node to dispatch to
      @param e event to be sent to that node and its subtree</div>
<a id="L848" name="L848"></a> 848     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13331.html" title="Multiple referred from 5 places.">dispatchingEventToSubtree</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n, <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a> e) <em class="brace">{</em>
<a id="L849" name="L849"></a> 849         <strong class="reserved">if</strong> (n==<strong class="reserved">null</strong>)
<a id="L850" name="L850"></a> 850                 <strong class="reserved">return</strong>;
<a id="L851" name="L851"></a> 851 
<a id="L852" name="L852"></a> 852         <em class="comment">// ***** Recursive implementation. This is excessively expensive,</em>
<a id="L853" name="L853"></a> 853         <em class="comment">// and should be replaced in conjunction with optimization</em>
<a id="L854" name="L854"></a> 854         <em class="comment">// mentioned above.</em>
<a id="L855" name="L855"></a> 855         ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) n).<a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(e);
<a id="L856" name="L856"></a> 856         <strong class="reserved">if</strong> (n.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L857" name="L857"></a> 857             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = n.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L858" name="L858"></a> 858             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() - 1; i &gt;= 0; --i)
<a id="L859" name="L859"></a> 859                 <a href="../S/5446.html#L848" title="Defined at 848 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">dispatchingEventToSubtree</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i), e);
<a id="L860" name="L860"></a> 860         <em class="brace">}</em>
<a id="L861" name="L861"></a> 861         <a href="../S/5446.html#L848" title="Defined at 848 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">dispatchingEventToSubtree</a>(n.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(), e);
<a id="L862" name="L862"></a> 862         <a href="../S/5446.html#L848" title="Defined at 848 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">dispatchingEventToSubtree</a>(n.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>(), e);
<a id="L863" name="L863"></a> 863     <em class="brace">}</em>
<a id="L864" name="L864"></a> 864 
<div class="comment">
      NON-DOM INTERNAL: Return object for getEnclosingAttr. Carries
      (two values, the Attr node affected (if any) and its previous
      string value. Simple struct, no methods.</div>
<a id="L870" name="L870"></a> 870     <strong class="reserved">class</strong> <a href="../R/2637.html" title="Multiple referred from 3 places.">EnclosingAttr</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L871" name="L871"></a> 871         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 5208387723391647216L;
<a id="L872" name="L872"></a> 872         <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L873" name="L873"></a> 873         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue;
<a id="L874" name="L874"></a> 874     <em class="brace">}</em>
<a id="L875" name="L875"></a> 875 
<a id="L876" name="L876"></a> 876     <a href="../S/5446.html#L870" title="Defined at 870 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">EnclosingAttr</a> savedEnclosingAttr;
<a id="L877" name="L877"></a> 877 
<div class="comment">
      NON-DOM INTERNAL: Convenience wrapper for calling
      dispatchAggregateEvents when the context was established
      by <code>savedEnclosingAttr</code>.
      @param node node to dispatch to
      @param ea description of Attr affected by current operation</div>
<a id="L885" name="L885"></a> 885     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13315.html" title="Multiple referred from 10 places.">dispatchAggregateEvents</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../S/5446.html#L870" title="Defined at 870 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">EnclosingAttr</a> ea) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886         <strong class="reserved">if</strong> (ea != <strong class="reserved">null</strong>)
<a id="L887" name="L887"></a> 887             <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, ea.<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, ea.oldvalue,
<a id="L888" name="L888"></a> 888                                     <a href="../S/152.html#L52" title="Defined at 52 in src/org/w3c/dom/events/MutationEvent.java.">MutationEvent</a>.MODIFICATION);
<a id="L889" name="L889"></a> 889         <strong class="reserved">else</strong>
<a id="L890" name="L890"></a> 890             <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, (<strong class="reserved">short</strong>) 0);
<a id="L891" name="L891"></a> 891 
<a id="L892" name="L892"></a> 892     <em class="brace">}</em> <em class="comment">// dispatchAggregateEvents(NodeImpl,EnclosingAttr) :void</em>
<a id="L893" name="L893"></a> 893 
<div class="comment">
      NON-DOM INTERNAL: Generate the "aggregated" post-mutation events
      DOMAttrModified and DOMSubtreeModified.
      Both of these should be issued only once for each user-requested
      mutation operation, even if that involves multiple changes to
      the DOM.
      For example, if a DOM operation makes multiple changes to a single
      Attr before returning, it would be nice to generate only one
      DOMAttrModified, and multiple changes over larger scope but within
      a recognizable single subtree might want to generate only one
      DOMSubtreeModified, sent to their lowest common ancestor.
      <p>
      To manage this, use the "internal" versions of insert and remove
      with MUTATION_LOCAL, then make an explicit call to this routine
      at the higher level. Some examples now exist in our code.
      @param node The node to dispatch to
      @param enclosingAttr The Attr node (if any) whose value has been changed
      as a result of the DOM operation. Null if none such.
      @param oldValue The String value previously held by the
      enclosingAttr. Ignored if none such.
      @param change Type of modification to the attr. See
      MutationEvent.attrChange</p></div>
<a id="L918" name="L918"></a> 918     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13315.html" title="Multiple referred from 10 places.">dispatchAggregateEvents</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,
<a id="L919" name="L919"></a> 919                                            <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> enclosingAttr,
<a id="L920" name="L920"></a> 920                                            <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue, <strong class="reserved">short</strong> <a href="../S/3328.html#L1520" title="Defined at 1520 in src/javax/swing/text/DefaultStyledDocument.java.">change</a>) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921         <em class="comment">// We have to send DOMAttrModified.</em>
<a id="L922" name="L922"></a> 922         <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = <strong class="reserved">null</strong>;
<a id="L923" name="L923"></a> 923         <strong class="reserved">if</strong> (enclosingAttr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924             <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_ATTR_MODIFIED);
<a id="L925" name="L925"></a> 925             <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) enclosingAttr.<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L926" name="L926"></a> 926             <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L927" name="L927"></a> 927                 <strong class="reserved">if</strong> (<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L928" name="L928"></a> 928                     <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a> me =  <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L929" name="L929"></a> 929                     me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_ATTR_MODIFIED,
<a id="L930" name="L930"></a> 930                                          <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, enclosingAttr,
<a id="L931" name="L931"></a> 931                                          oldvalue,
<a id="L932" name="L932"></a> 932                                          enclosingAttr.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>(),
<a id="L933" name="L933"></a> 933                                          enclosingAttr.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>(),
<a id="L934" name="L934"></a> 934                                          <a href="../S/3328.html#L1520" title="Defined at 1520 in src/javax/swing/text/DefaultStyledDocument.java.">change</a>);
<a id="L935" name="L935"></a> 935                     <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(me);
<a id="L936" name="L936"></a> 936                 <em class="brace">}</em>
<a id="L937" name="L937"></a> 937             <em class="brace">}</em>
<a id="L938" name="L938"></a> 938         <em class="brace">}</em>
<a id="L939" name="L939"></a> 939         <em class="comment">// DOMSubtreeModified gets sent to the lowest common root of a</em>
<a id="L940" name="L940"></a> 940         <em class="comment">// set of changes.</em>
<a id="L941" name="L941"></a> 941         <em class="comment">// "This event is dispatched after all other events caused by the</em>
<a id="L942" name="L942"></a> 942         <em class="comment">// mutation have been fired."</em>
<a id="L943" name="L943"></a> 943         <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_SUBTREE_MODIFIED);
<a id="L944" name="L944"></a> 944         <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L945" name="L945"></a> 945             <a href="../S/152.html#L52" title="Defined at 52 in src/org/w3c/dom/events/MutationEvent.java.">MutationEvent</a> me =  <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L946" name="L946"></a> 946             me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_SUBTREE_MODIFIED,
<a id="L947" name="L947"></a> 947                                  <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>,
<a id="L948" name="L948"></a> 948                                  <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, (<strong class="reserved">short</strong>) 0);
<a id="L949" name="L949"></a> 949 
<a id="L950" name="L950"></a> 950             <em class="comment">// If we're within an Attr, DStM gets sent to the Attr</em>
<a id="L951" name="L951"></a> 951             <em class="comment">// and to its owningElement. Otherwise we dispatch it</em>
<a id="L952" name="L952"></a> 952             <em class="comment">// locally.</em>
<a id="L953" name="L953"></a> 953             <strong class="reserved">if</strong> (enclosingAttr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L954" name="L954"></a> 954                 <a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(enclosingAttr, me);
<a id="L955" name="L955"></a> 955                 <strong class="reserved">if</strong> (<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> != <strong class="reserved">null</strong>)
<a id="L956" name="L956"></a> 956                     <a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>, me);
<a id="L957" name="L957"></a> 957             <em class="brace">}</em>
<a id="L958" name="L958"></a> 958             <strong class="reserved">else</strong>
<a id="L959" name="L959"></a> 959                 <a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, me);
<a id="L960" name="L960"></a> 960         <em class="brace">}</em>
<a id="L961" name="L961"></a> 961     <em class="brace">}</em> <em class="comment">// dispatchAggregateEvents(NodeImpl, AttrImpl,String) :void</em>
<a id="L962" name="L962"></a> 962 
<div class="comment">
      NON-DOM INTERNAL: Pre-mutation context check, in
      preparation for later generating DOMAttrModified events.
      Determines whether this node is within an Attr
      @param node node to get enclosing attribute for
      @return either a description of that Attr, or null if none such.</div>
<a id="L970" name="L970"></a> 970     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26593.html" title="Multiple referred from 5 places.">saveEnclosingAttr</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L971" name="L971"></a> 971         savedEnclosingAttr = <strong class="reserved">null</strong>;
<a id="L972" name="L972"></a> 972         <em class="comment">// MUTATION PREPROCESSING AND PRE-EVENTS:</em>
<a id="L973" name="L973"></a> 973         <em class="comment">// If we're within the scope of an Attr and DOMAttrModified</em>
<a id="L974" name="L974"></a> 974         <em class="comment">// was requested, we need to preserve its previous value for</em>
<a id="L975" name="L975"></a> 975         <em class="comment">// that event.</em>
<a id="L976" name="L976"></a> 976         <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_ATTR_MODIFIED);
<a id="L977" name="L977"></a> 977         <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L978" name="L978"></a> 978             <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> eventAncestor = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L979" name="L979"></a> 979             <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L980" name="L980"></a> 980                 <strong class="reserved">if</strong> (eventAncestor == <strong class="reserved">null</strong>)
<a id="L981" name="L981"></a> 981                     <strong class="reserved">return</strong>;
<a id="L982" name="L982"></a> 982                 <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = eventAncestor.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>();
<a id="L983" name="L983"></a> 983                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ATTRIBUTE_NODE) <em class="brace">{</em>
<a id="L984" name="L984"></a> 984                     <a href="../S/5446.html#L870" title="Defined at 870 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">EnclosingAttr</a> retval = <strong class="reserved">new</strong> <a href="../S/5446.html#L870" title="Defined at 870 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">EnclosingAttr</a>();
<a id="L985" name="L985"></a> 985                     retval.<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) eventAncestor;
<a id="L986" name="L986"></a> 986                     retval.oldvalue = retval.<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L987" name="L987"></a> 987                     savedEnclosingAttr = retval;
<a id="L988" name="L988"></a> 988                     <strong class="reserved">return</strong>;
<a id="L989" name="L989"></a> 989                 <em class="brace">}</em>
<a id="L990" name="L990"></a> 990                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE)
<a id="L991" name="L991"></a> 991                     eventAncestor = eventAncestor.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>();
<a id="L992" name="L992"></a> 992                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE)
<a id="L993" name="L993"></a> 993                     eventAncestor = eventAncestor.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>();
<a id="L994" name="L994"></a> 994                 <strong class="reserved">else</strong>
<a id="L995" name="L995"></a> 995                     <strong class="reserved">return</strong>;
<a id="L996" name="L996"></a> 996                 <em class="comment">// Any other parent means we're not in an Attr</em>
<a id="L997" name="L997"></a> 997             <em class="brace">}</em>
<a id="L998" name="L998"></a> 998         <em class="brace">}</em>
<a id="L999" name="L999"></a> 999     <em class="brace">}</em> <em class="comment">// saveEnclosingAttr(NodeImpl) :void</em>
<a id="L1000" name="L1000"></a>1000 
<div class="comment">
      A method to be called when a character data node has been modified</div>
<a id="L1004" name="L1004"></a>1004     <strong class="reserved">void</strong> <a href="../S/5471.html#L129" title="Referred from 129 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">modifyingCharacterData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1005" name="L1005"></a>1005         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1006" name="L1006"></a>1006                 <strong class="reserved">if</strong> (!<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007                         <a href="../S/5446.html#L970" title="Defined at 970 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">saveEnclosingAttr</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1008" name="L1008"></a>1008                 <em class="brace">}</em>
<a id="L1009" name="L1009"></a>1009         <em class="brace">}</em>
<a id="L1010" name="L1010"></a>1010     <em class="brace">}</em>
<a id="L1011" name="L1011"></a>1011 
<div class="comment">
      A method to be called when a character data node has been modified</div>
<a id="L1015" name="L1015"></a>1015     <strong class="reserved">void</strong> <a href="../R/23334.html" title="Multiple referred from 2 places.">modifiedCharacterData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1016" name="L1016"></a>1016         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1017" name="L1017"></a>1017                 <strong class="reserved">if</strong> (!<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018                         <em class="comment">// MUTATION POST-EVENTS:</em>
<a id="L1019" name="L1019"></a>1019                         <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc =
<a id="L1020" name="L1020"></a>1020                                 <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_CHARACTER_DATA_MODIFIED);
<a id="L1021" name="L1021"></a>1021                         <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022                                 <a href="../S/152.html#L52" title="Defined at 52 in src/org/w3c/dom/events/MutationEvent.java.">MutationEvent</a> me = <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L1023" name="L1023"></a>1023                                 me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(
<a id="L1024" name="L1024"></a>1024                                         <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_CHARACTER_DATA_MODIFIED,
<a id="L1025" name="L1025"></a>1025                                         <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, <strong class="reserved">null</strong>,
<a id="L1026" name="L1026"></a>1026                                                                                 oldvalue, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">null</strong>, (<strong class="reserved">short</strong>) 0);
<a id="L1027" name="L1027"></a>1027                                 <a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, me);
<a id="L1028" name="L1028"></a>1028                         <em class="brace">}</em>
<a id="L1029" name="L1029"></a>1029 
<a id="L1030" name="L1030"></a>1030                         <em class="comment">// Subroutine: Transmit DOMAttrModified and DOMSubtreeModified,</em>
<a id="L1031" name="L1031"></a>1031                         <em class="comment">// if required. (Common to most kinds of mutation)</em>
<a id="L1032" name="L1032"></a>1032                         <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, savedEnclosingAttr);
<a id="L1033" name="L1033"></a>1033                 <em class="brace">}</em> <em class="comment">// End mutation postprocessing</em>
<a id="L1034" name="L1034"></a>1034         <em class="brace">}</em>
<a id="L1035" name="L1035"></a>1035     <em class="brace">}</em>
<a id="L1036" name="L1036"></a>1036 
<div class="comment">
      A method to be called when a character data node has been replaced</div>
<a id="L1040" name="L1040"></a>1040     <strong class="reserved">void</strong> <a href="../S/5471.html#L372" title="Referred from 372 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">replacedCharacterData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041         <em class="comment">//now that we have finished replacing data, we need to perform the same actions</em>
<a id="L1042" name="L1042"></a>1042         <em class="comment">//that are required after a character data node has been modified</em>
<a id="L1043" name="L1043"></a>1043         <em class="comment">//send the value of false for replace parameter so that mutation</em>
<a id="L1044" name="L1044"></a>1044         <em class="comment">//events if appropriate will be initiated</em>
<a id="L1045" name="L1045"></a>1045         <a href="../D/27748.html" title="Multiple defined in 2 places.">modifiedCharacterData</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, oldvalue, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">false</strong>);
<a id="L1046" name="L1046"></a>1046     <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047 
<a id="L1048" name="L1048"></a>1048 
<a id="L1049" name="L1049"></a>1049 
<div class="comment">
      A method to be called when a node is about to be inserted in the tree.</div>
<a id="L1053" name="L1053"></a>1053     <strong class="reserved">void</strong> <a href="../R/20827.html" title="Multiple referred from 2 places.">insertingNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1054" name="L1054"></a>1054         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055             <strong class="reserved">if</strong> (!<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1056" name="L1056"></a>1056                 <a href="../S/5446.html#L970" title="Defined at 970 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">saveEnclosingAttr</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1057" name="L1057"></a>1057             <em class="brace">}</em>
<a id="L1058" name="L1058"></a>1058         <em class="brace">}</em>
<a id="L1059" name="L1059"></a>1059     <em class="brace">}</em>
<a id="L1060" name="L1060"></a>1060 
<div class="comment">
      A method to be called when a node has been inserted in the tree.</div>
<a id="L1064" name="L1064"></a>1064     <strong class="reserved">void</strong> <a href="../R/20824.html" title="Multiple referred from 2 places.">insertedNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> newInternal, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066             <em class="comment">// MUTATION POST-EVENTS:</em>
<a id="L1067" name="L1067"></a>1067             <em class="comment">// "Local" events (non-aggregated)</em>
<a id="L1068" name="L1068"></a>1068             <em class="comment">// New child is told it was inserted, and where</em>
<a id="L1069" name="L1069"></a>1069             <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_NODE_INSERTED);
<a id="L1070" name="L1070"></a>1070             <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L1071" name="L1071"></a>1071                 <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a> me = <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L1072" name="L1072"></a>1072                 me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_NODE_INSERTED,
<a id="L1073" name="L1073"></a>1073                                      <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,
<a id="L1074" name="L1074"></a>1074                                      <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, (<strong class="reserved">short</strong>) 0);
<a id="L1075" name="L1075"></a>1075                 <a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(newInternal, me);
<a id="L1076" name="L1076"></a>1076             <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077 
<a id="L1078" name="L1078"></a>1078             <em class="comment">// If within the Document, tell the subtree it's been added</em>
<a id="L1079" name="L1079"></a>1079             <em class="comment">// to the Doc.</em>
<a id="L1080" name="L1080"></a>1080             lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(
<a id="L1081" name="L1081"></a>1081                             <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_NODE_INSERTED_INTO_DOCUMENT);
<a id="L1082" name="L1082"></a>1082             <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L1083" name="L1083"></a>1083                 <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> eventAncestor = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1084" name="L1084"></a>1084                 <strong class="reserved">if</strong> (savedEnclosingAttr != <strong class="reserved">null</strong>)
<a id="L1085" name="L1085"></a>1085                     eventAncestor = (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)
<a id="L1086" name="L1086"></a>1086                         savedEnclosingAttr.<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L1087" name="L1087"></a>1087                 <strong class="reserved">if</strong> (eventAncestor != <strong class="reserved">null</strong>) <em class="brace">{</em> <em class="comment">// Might have been orphan Attr</em>
<a id="L1088" name="L1088"></a>1088                     <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> p = eventAncestor;
<a id="L1089" name="L1089"></a>1089                     <strong class="reserved">while</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090                         eventAncestor = p; <em class="comment">// Last non-null ancestor</em>
<a id="L1091" name="L1091"></a>1091                         <em class="comment">// In this context, ancestry includes</em>
<a id="L1092" name="L1092"></a>1092                         <em class="comment">// walking back from Attr to Element</em>
<a id="L1093" name="L1093"></a>1093                         <strong class="reserved">if</strong> (p.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == ATTRIBUTE_NODE) <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094                             p = (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) ((<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>)p).<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L1095" name="L1095"></a>1095                         <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1097" name="L1097"></a>1097                             p = p.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>();
<a id="L1098" name="L1098"></a>1098                         <em class="brace">}</em>
<a id="L1099" name="L1099"></a>1099                     <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100                     <strong class="reserved">if</strong> (eventAncestor.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE)<em class="brace">{</em>
<a id="L1101" name="L1101"></a>1101                         <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a> me = <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L1102" name="L1102"></a>1102                         me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>
<a id="L1103" name="L1103"></a>1103                                              .DOM_NODE_INSERTED_INTO_DOCUMENT,
<a id="L1104" name="L1104"></a>1104                                              <strong class="reserved">false</strong>,<strong class="reserved">false</strong>,<strong class="reserved">null</strong>,<strong class="reserved">null</strong>,
<a id="L1105" name="L1105"></a>1105                                              <strong class="reserved">null</strong>,<strong class="reserved">null</strong>,(<strong class="reserved">short</strong>)0);
<a id="L1106" name="L1106"></a>1106                         <a href="../S/5446.html#L829" title="Defined at 829 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">dispatchEventToSubtree</a>(newInternal, me);
<a id="L1107" name="L1107"></a>1107                     <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108                 <em class="brace">}</em>
<a id="L1109" name="L1109"></a>1109             <em class="brace">}</em>
<a id="L1110" name="L1110"></a>1110             <strong class="reserved">if</strong> (!<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1111" name="L1111"></a>1111                 <em class="comment">// Subroutine: Transmit DOMAttrModified and DOMSubtreeModified</em>
<a id="L1112" name="L1112"></a>1112                 <em class="comment">// (Common to most kinds of mutation)</em>
<a id="L1113" name="L1113"></a>1113                 <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, savedEnclosingAttr);
<a id="L1114" name="L1114"></a>1114             <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115         <em class="brace">}</em>
<a id="L1116" name="L1116"></a>1116 
<a id="L1117" name="L1117"></a>1117         <em class="comment">// notify the range of insertions</em>
<a id="L1118" name="L1118"></a>1118         <strong class="reserved">if</strong> (ranges != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1119" name="L1119"></a>1119             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = ranges.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1120" name="L1120"></a>1120             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i != <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1121" name="L1121"></a>1121                 ((<a href="../S/5486.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">RangeImpl</a>)ranges.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../S/5486.html#L975" title="Defined at 975 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">insertedNodeFromDOM</a>(newInternal);
<a id="L1122" name="L1122"></a>1122             <em class="brace">}</em>
<a id="L1123" name="L1123"></a>1123         <em class="brace">}</em>
<a id="L1124" name="L1124"></a>1124     <em class="brace">}</em>
<a id="L1125" name="L1125"></a>1125 
<div class="comment">
      A method to be called when a node is about to be removed from the tree.</div>
<a id="L1129" name="L1129"></a>1129     <strong class="reserved">void</strong> <a href="../R/26108.html" title="Multiple referred from 2 places.">removingNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> oldChild, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1130" name="L1130"></a>1130 
<a id="L1131" name="L1131"></a>1131         <em class="comment">// notify iterators</em>
<a id="L1132" name="L1132"></a>1132         <strong class="reserved">if</strong> (iterators != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1133" name="L1133"></a>1133             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = iterators.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1134" name="L1134"></a>1134             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i != <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1135" name="L1135"></a>1135                ((<a href="../S/5443.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/NodeIteratorImpl.java.">NodeIteratorImpl</a>)iterators.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../D/30892.html" title="Multiple defined in 7 places.">removeNode</a>(oldChild);
<a id="L1136" name="L1136"></a>1136             <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137         <em class="brace">}</em>
<a id="L1138" name="L1138"></a>1138 
<a id="L1139" name="L1139"></a>1139         <em class="comment">// notify ranges</em>
<a id="L1140" name="L1140"></a>1140         <strong class="reserved">if</strong> (ranges != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1141" name="L1141"></a>1141             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = ranges.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1142" name="L1142"></a>1142             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i != <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1143" name="L1143"></a>1143                 ((<a href="../S/5486.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/RangeImpl.java.">RangeImpl</a>)ranges.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i)).<a href="../D/30892.html" title="Multiple defined in 7 places.">removeNode</a>(oldChild);
<a id="L1144" name="L1144"></a>1144             <em class="brace">}</em>
<a id="L1145" name="L1145"></a>1145         <em class="brace">}</em>
<a id="L1146" name="L1146"></a>1146 
<a id="L1147" name="L1147"></a>1147         <em class="comment">// mutation events</em>
<a id="L1148" name="L1148"></a>1148         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1149" name="L1149"></a>1149             <em class="comment">// MUTATION PREPROCESSING AND PRE-EVENTS:</em>
<a id="L1150" name="L1150"></a>1150             <em class="comment">// If we're within the scope of an Attr and DOMAttrModified</em>
<a id="L1151" name="L1151"></a>1151             <em class="comment">// was requested, we need to preserve its previous value for</em>
<a id="L1152" name="L1152"></a>1152             <em class="comment">// that event.</em>
<a id="L1153" name="L1153"></a>1153             <strong class="reserved">if</strong> (!<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1154" name="L1154"></a>1154                 <a href="../S/5446.html#L970" title="Defined at 970 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">saveEnclosingAttr</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1155" name="L1155"></a>1155             <em class="brace">}</em>
<a id="L1156" name="L1156"></a>1156             <em class="comment">// Child is told that it is about to be removed</em>
<a id="L1157" name="L1157"></a>1157             <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_NODE_REMOVED);
<a id="L1158" name="L1158"></a>1158             <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L1159" name="L1159"></a>1159                 <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a> me= <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L1160" name="L1160"></a>1160                 me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_NODE_REMOVED,
<a id="L1161" name="L1161"></a>1161                                      <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">null</strong>,
<a id="L1162" name="L1162"></a>1162                                      <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, (<strong class="reserved">short</strong>) 0);
<a id="L1163" name="L1163"></a>1163                 <a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(oldChild, me);
<a id="L1164" name="L1164"></a>1164             <em class="brace">}</em>
<a id="L1165" name="L1165"></a>1165 
<a id="L1166" name="L1166"></a>1166             <em class="comment">// If within Document, child's subtree is informed that it's</em>
<a id="L1167" name="L1167"></a>1167             <em class="comment">// losing that status</em>
<a id="L1168" name="L1168"></a>1168             lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(
<a id="L1169" name="L1169"></a>1169                              <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_NODE_REMOVED_FROM_DOCUMENT);
<a id="L1170" name="L1170"></a>1170             <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L1171" name="L1171"></a>1171                 <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> eventAncestor = <strong class="reserved">this</strong>;
<a id="L1172" name="L1172"></a>1172                 <strong class="reserved">if</strong>(savedEnclosingAttr != <strong class="reserved">null</strong>)
<a id="L1173" name="L1173"></a>1173                     eventAncestor = (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)
<a id="L1174" name="L1174"></a>1174                         savedEnclosingAttr.<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L1175" name="L1175"></a>1175                 <strong class="reserved">if</strong> (eventAncestor != <strong class="reserved">null</strong>) <em class="brace">{</em> <em class="comment">// Might have been orphan Attr</em>
<a id="L1176" name="L1176"></a>1176                     <strong class="reserved">for</strong> (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> p = eventAncestor.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>();
<a id="L1177" name="L1177"></a>1177                          p != <strong class="reserved">null</strong>; p = p.<a href="../D/29069.html" title="Multiple defined in 4 places.">parentNode</a>()) <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178                         eventAncestor = p; <em class="comment">// Last non-null ancestor</em>
<a id="L1179" name="L1179"></a>1179                     <em class="brace">}</em>
<a id="L1180" name="L1180"></a>1180                     <strong class="reserved">if</strong> (eventAncestor.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE)<em class="brace">{</em>
<a id="L1181" name="L1181"></a>1181                         <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a> me = <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L1182" name="L1182"></a>1182                         me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(
<a id="L1183" name="L1183"></a>1183                               <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_NODE_REMOVED_FROM_DOCUMENT,
<a id="L1184" name="L1184"></a>1184                                              <strong class="reserved">false</strong>, <strong class="reserved">false</strong>, <strong class="reserved">null</strong>,
<a id="L1185" name="L1185"></a>1185                                              <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, (<strong class="reserved">short</strong>) 0);
<a id="L1186" name="L1186"></a>1186                         <a href="../S/5446.html#L829" title="Defined at 829 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">dispatchEventToSubtree</a>(oldChild, me);
<a id="L1187" name="L1187"></a>1187                     <em class="brace">}</em>
<a id="L1188" name="L1188"></a>1188                 <em class="brace">}</em>
<a id="L1189" name="L1189"></a>1189             <em class="brace">}</em>
<a id="L1190" name="L1190"></a>1190         <em class="brace">}</em> <em class="comment">// End mutation preprocessing</em>
<a id="L1191" name="L1191"></a>1191     <em class="brace">}</em>
<a id="L1192" name="L1192"></a>1192 
<div class="comment">
      A method to be called when a node has been removed from the tree.</div>
<a id="L1196" name="L1196"></a>1196     <strong class="reserved">void</strong> <a href="../R/26107.html" title="Multiple referred from 7 places.">removedNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1197" name="L1197"></a>1197         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1198" name="L1198"></a>1198             <em class="comment">// MUTATION POST-EVENTS:</em>
<a id="L1199" name="L1199"></a>1199             <em class="comment">// Subroutine: Transmit DOMAttrModified and DOMSubtreeModified,</em>
<a id="L1200" name="L1200"></a>1200             <em class="comment">// if required. (Common to most kinds of mutation)</em>
<a id="L1201" name="L1201"></a>1201             <strong class="reserved">if</strong> (!<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L1202" name="L1202"></a>1202                 <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, savedEnclosingAttr);
<a id="L1203" name="L1203"></a>1203             <em class="brace">}</em>
<a id="L1204" name="L1204"></a>1204         <em class="brace">}</em> <em class="comment">// End mutation postprocessing</em>
<a id="L1205" name="L1205"></a>1205     <em class="brace">}</em>
<a id="L1206" name="L1206"></a>1206 
<div class="comment">
      A method to be called when a node is about to be replaced in the tree.</div>
<a id="L1210" name="L1210"></a>1210     <strong class="reserved">void</strong> <a href="../R/26178.html" title="Multiple referred from 2 places.">replacingNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1211" name="L1211"></a>1211         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1212" name="L1212"></a>1212             <a href="../S/5446.html#L970" title="Defined at 970 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">saveEnclosingAttr</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1213" name="L1213"></a>1213         <em class="brace">}</em>
<a id="L1214" name="L1214"></a>1214     <em class="brace">}</em>
<a id="L1215" name="L1215"></a>1215 
<div class="comment">
      A method to be called when character data is about to be replaced in the tree.</div>
<a id="L1219" name="L1219"></a>1219     <strong class="reserved">void</strong> <a href="../S/5471.html#L364" title="Referred from 364 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">replacingData</a> (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1220" name="L1220"></a>1220         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1221" name="L1221"></a>1221                         <a href="../S/5446.html#L970" title="Defined at 970 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">saveEnclosingAttr</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1222" name="L1222"></a>1222         <em class="brace">}</em>
<a id="L1223" name="L1223"></a>1223     <em class="brace">}</em>
<a id="L1224" name="L1224"></a>1224 
<div class="comment">
      A method to be called when a node has been replaced in the tree.</div>
<a id="L1228" name="L1228"></a>1228     <strong class="reserved">void</strong> <a href="../R/26172.html" title="Multiple referred from 2 places.">replacedNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1230" name="L1230"></a>1230             <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, savedEnclosingAttr);
<a id="L1231" name="L1231"></a>1231         <em class="brace">}</em>
<a id="L1232" name="L1232"></a>1232     <em class="brace">}</em>
<a id="L1233" name="L1233"></a>1233 
<div class="comment">
      A method to be called when an attribute value has been modified</div>
<a id="L1237" name="L1237"></a>1237     <strong class="reserved">void</strong> <a href="../S/5449.html#L423" title="Referred from 423 in src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java.">modifiedAttrValue</a>(<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue) <em class="brace">{</em>
<a id="L1238" name="L1238"></a>1238         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1239" name="L1239"></a>1239             <em class="comment">// MUTATION POST-EVENTS:</em>
<a id="L1240" name="L1240"></a>1240             <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, oldvalue,
<a id="L1241" name="L1241"></a>1241                                     <a href="../S/152.html#L52" title="Defined at 52 in src/org/w3c/dom/events/MutationEvent.java.">MutationEvent</a>.MODIFICATION);
<a id="L1242" name="L1242"></a>1242         <em class="brace">}</em>
<a id="L1243" name="L1243"></a>1243     <em class="brace">}</em>
<a id="L1244" name="L1244"></a>1244 
<div class="comment">
      A method to be called when an attribute node has been set</div>
<a id="L1248" name="L1248"></a>1248     <strong class="reserved">void</strong> <a href="../R/26917.html" title="Multiple referred from 3 places.">setAttrNode</a>(<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/29600.html" title="Multiple defined in 22 places.">previous</a>) <em class="brace">{</em>
<a id="L1249" name="L1249"></a>1249         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1250" name="L1250"></a>1250             <em class="comment">// MUTATION POST-EVENTS:</em>
<a id="L1251" name="L1251"></a>1251             <strong class="reserved">if</strong> (<a href="../D/29600.html" title="Multiple defined in 22 places.">previous</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1252" name="L1252"></a>1252                 <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.ownerNode, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <strong class="reserved">null</strong>,
<a id="L1253" name="L1253"></a>1253                                         <a href="../S/152.html#L52" title="Defined at 52 in src/org/w3c/dom/events/MutationEvent.java.">MutationEvent</a>.ADDITION);
<a id="L1254" name="L1254"></a>1254             <em class="brace">}</em>
<a id="L1255" name="L1255"></a>1255             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1256" name="L1256"></a>1256                 <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.ownerNode, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>,
<a id="L1257" name="L1257"></a>1257                                         <a href="../D/29600.html" title="Multiple defined in 22 places.">previous</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>(),
<a id="L1258" name="L1258"></a>1258                                         <a href="../S/152.html#L52" title="Defined at 52 in src/org/w3c/dom/events/MutationEvent.java.">MutationEvent</a>.MODIFICATION);
<a id="L1259" name="L1259"></a>1259             <em class="brace">}</em>
<a id="L1260" name="L1260"></a>1260         <em class="brace">}</em>
<a id="L1261" name="L1261"></a>1261     <em class="brace">}</em>
<a id="L1262" name="L1262"></a>1262 
<div class="comment">
      A method to be called when an attribute node has been removed</div>
<a id="L1266" name="L1266"></a>1266     <strong class="reserved">void</strong> <a href="../R/26106.html" title="Multiple referred from 2 places.">removedAttrNode</a>(<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> oldOwner, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1267" name="L1267"></a>1267         <em class="comment">// We can't use the standard dispatchAggregate, since it assumes</em>
<a id="L1268" name="L1268"></a>1268         <em class="comment">// that the Attr is still attached to an owner. This code is</em>
<a id="L1269" name="L1269"></a>1269         <em class="comment">// similar but dispatches to the previous owner, "element".</em>
<a id="L1270" name="L1270"></a>1270         <strong class="reserved">if</strong> (mutationEvents) <em class="brace">{</em>
<a id="L1271" name="L1271"></a>1271             <em class="comment">// If we have to send DOMAttrModified (determined earlier),</em>
<a id="L1272" name="L1272"></a>1272             <em class="comment">// do so.</em>
<a id="L1273" name="L1273"></a>1273             <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a> lc = <a href="../S/5459.html#L45" title="Defined at 45 in src/com/sun/org/apache/xerces/internal/dom/LCount.java.">LCount</a>.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_ATTR_MODIFIED);
<a id="L1274" name="L1274"></a>1274             <strong class="reserved">if</strong> (lc.total &gt; 0) <em class="brace">{</em>
<a id="L1275" name="L1275"></a>1275                 <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a> me= <strong class="reserved">new</strong> <a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>();
<a id="L1276" name="L1276"></a>1276                 me.<a href="../D/24570.html" title="Multiple defined in 2 places.">initMutationEvent</a>(<a href="../S/5479.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/dom/events/MutationEventImpl.java.">MutationEventImpl</a>.DOM_ATTR_MODIFIED,
<a id="L1277" name="L1277"></a>1277                                      <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>,
<a id="L1278" name="L1278"></a>1278                                      <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>(), <strong class="reserved">null</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L1279" name="L1279"></a>1279                                      <a href="../S/152.html#L52" title="Defined at 52 in src/org/w3c/dom/events/MutationEvent.java.">MutationEvent</a>.REMOVAL);
<a id="L1280" name="L1280"></a>1280                 <a href="../D/14951.html" title="Multiple defined in 14 places.">dispatchEvent</a>(oldOwner, me);
<a id="L1281" name="L1281"></a>1281             <em class="brace">}</em>
<a id="L1282" name="L1282"></a>1282 
<a id="L1283" name="L1283"></a>1283             <em class="comment">// We can hand off to process DOMSubtreeModified, though.</em>
<a id="L1284" name="L1284"></a>1284             <em class="comment">// Note that only the Element needs to be informed; the</em>
<a id="L1285" name="L1285"></a>1285             <em class="comment">// Attr's subtree has not been changed by this operation.</em>
<a id="L1286" name="L1286"></a>1286             <a href="../D/14946.html" title="Multiple defined in 2 places.">dispatchAggregateEvents</a>(oldOwner, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, (<strong class="reserved">short</strong>) 0);
<a id="L1287" name="L1287"></a>1287         <em class="brace">}</em>
<a id="L1288" name="L1288"></a>1288     <em class="brace">}</em>
<a id="L1289" name="L1289"></a>1289 
<a id="L1290" name="L1290"></a>1290 
<div class="comment">
      A method to be called when an attribute node has been renamed</div>
<a id="L1294" name="L1294"></a>1294     <strong class="reserved">void</strong> <a href="../S/5445.html#L1121" title="Referred from 1121 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">renamedAttrNode</a>(<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> oldAt, <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> newAt) <em class="brace">{</em>
<a id="L1295" name="L1295"></a>1295         <em class="comment">// REVISIT: To be implemented!!!</em>
<a id="L1296" name="L1296"></a>1296     <em class="brace">}</em>
<a id="L1297" name="L1297"></a>1297 
<div class="comment">
      A method to be called when an element has been renamed</div>
<a id="L1301" name="L1301"></a>1301     <strong class="reserved">void</strong> <a href="../S/5445.html#L1057" title="Referred from 1057 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">renamedElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> oldEl, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> newEl) <em class="brace">{</em>
<a id="L1302" name="L1302"></a>1302         <em class="comment">// REVISIT: To be implemented!!!</em>
<a id="L1303" name="L1303"></a>1303     <em class="brace">}</em>
<a id="L1304" name="L1304"></a>1304 
<a id="L1305" name="L1305"></a>1305 <em class="brace">}</em> <em class="comment">// class DocumentImpl</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L155">[^]</a><a href="#L1301">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>