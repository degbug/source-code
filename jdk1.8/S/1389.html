<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/io/DataOutputStream.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L67">[^]</a><a href="#L413">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L67" title="Defined at 67.">incCount</a></li>
<li><a href="#L87" title="Defined at 87.">write</a></li>
<li><a href="#L104" title="Defined at 104.">write</a></li>
<li><a href="#L122" title="Defined at 122.">flush</a></li>
<li><a href="#L138" title="Defined at 138.">writeBoolean</a></li>
<li><a href="#L152" title="Defined at 152.">writeByte</a></li>
<li><a href="#L166" title="Defined at 166.">writeShort</a></li>
<li><a href="#L181" title="Defined at 181.">writeChar</a></li>
<li><a href="#L196" title="Defined at 196.">writeInt</a></li>
<li><a href="#L215" title="Defined at 215.">writeLong</a></li>
<li><a href="#L241" title="Defined at 241.">writeFloat</a></li>
<li><a href="#L258" title="Defined at 258.">writeDouble</a></li>
<li><a href="#L273" title="Defined at 273.">writeBytes</a></li>
<li><a href="#L293" title="Defined at 293.">writeChars</a></li>
<li><a href="#L322" title="Defined at 322.">writeUTF</a></li>
<li><a href="#L346" title="Defined at 346.">writeUTF</a></li>
<li><a href="#L413" title="Defined at 413.">size</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1994, 2004, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io;
<a id="L27" name="L27"></a>  27 
<div class="comment">
  A data output stream lets an application write primitive Java data
  types to an output stream in a portable way. An application can
  then use a data input stream to read the data back in.
  @author  unascribed
  @see     java.io.DataInputStream
  @since   JDK1.0</div>
<a id="L37" name="L37"></a>  37 <strong class="reserved">public</strong>
<a id="L38" name="L38"></a>  38 <strong class="reserved">class</strong> <a href="../R/2004.html" title="Multiple referred from 89 places.">DataOutputStream</a> <strong class="reserved">extends</strong> <a href="../S/1415.html#L45" title="Defined at 45 in src/java/io/FilterOutputStream.java.">FilterOutputStream</a> <strong class="reserved">implements</strong> <a href="../S/1422.html#L50" title="Defined at 50 in src/java/io/DataOutput.java.">DataOutput</a> <em class="brace">{</em>
<div class="comment">
      The number of bytes written to the data output stream so far.
      If this counter overflows, it will be wrapped to Integer.MAX_VALUE.</div>
<a id="L43" name="L43"></a>  43     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> written;
<a id="L44" name="L44"></a>  44 
<div class="comment">
      bytearr is initialized on demand by writeUTF</div>
<a id="L48" name="L48"></a>  48     <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] bytearr = <strong class="reserved">null</strong>;
<a id="L49" name="L49"></a>  49 
<div class="comment">
      Creates a new data output stream to write data to the specified
      underlying output stream. The counter <code>written</code> is
      set to zero.
      @param   out   the underlying output stream, to be saved for later
                     use.
      @see     java.io.FilterOutputStream#out</div>
<a id="L59" name="L59"></a>  59     <strong class="reserved">public</strong> DataOutputStream(<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <em class="brace">{</em>
<a id="L60" name="L60"></a>  60         <strong class="reserved">super</strong>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>);
<a id="L61" name="L61"></a>  61     <em class="brace">}</em>
<a id="L62" name="L62"></a>  62 
<div class="comment">
      Increases the written counter by the specified value
      until it reaches Integer.MAX_VALUE.</div>
<a id="L67" name="L67"></a>  67     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20467.html" title="Multiple referred from 10 places.">incCount</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L68" name="L68"></a>  68         <strong class="reserved">int</strong> temp = written + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L69" name="L69"></a>  69         <strong class="reserved">if</strong> (temp &lt; 0) <em class="brace">{</em>
<a id="L70" name="L70"></a>  70             temp = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L71" name="L71"></a>  71         <em class="brace">}</em>
<a id="L72" name="L72"></a>  72         written = temp;
<a id="L73" name="L73"></a>  73     <em class="brace">}</em>
<a id="L74" name="L74"></a>  74 
<div class="comment">
      Writes the specified byte (the low eight bits of the argument
      <code>b</code>) to the underlying output stream. If no exception
      is thrown, the counter <code>written</code> is incremented by
      <code>1</code>.
      <p>
      Implements the <code>write</code> method of <code>OutputStream</code>.
      @param      b   the <code>byte</code> to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</p></div>
<a id="L87" name="L87"></a>  87     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/30544.html" title="Multiple referred from 1880 places.">write</a>(<strong class="reserved">int</strong> b) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L88" name="L88"></a>  88         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(b);
<a id="L89" name="L89"></a>  89         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(1);
<a id="L90" name="L90"></a>  90     <em class="brace">}</em>
<a id="L91" name="L91"></a>  91 
<div class="comment">
      Writes <code>len</code> bytes from the specified byte array
      starting at offset <code>off</code> to the underlying output stream.
      If no exception is thrown, the counter <code>written</code> is
      incremented by <code>len</code>.
      @param      b     the data.
      @param      off   the start offset in the data.
      @param      len   the number of bytes to write.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/30544.html" title="Multiple referred from 1880 places.">write</a>(<strong class="reserved">byte</strong> b[], <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len)
<a id="L105" name="L105"></a> 105         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L106" name="L106"></a> 106     <em class="brace">{</em>
<a id="L107" name="L107"></a> 107         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(b, off, len);
<a id="L108" name="L108"></a> 108         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(len);
<a id="L109" name="L109"></a> 109     <em class="brace">}</em>
<a id="L110" name="L110"></a> 110 
<div class="comment">
      Flushes this data output stream. This forces any buffered output
      bytes to be written out to the stream.
      <p>
      The <code>flush</code> method of <code>DataOutputStream</code>
      calls the <code>flush</code> method of its underlying output stream.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out
      @see        java.io.OutputStream#flush()</p></div>
<a id="L122" name="L122"></a> 122     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14697.html" title="Multiple referred from 199 places.">flush</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L123" name="L123"></a> 123         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L124" name="L124"></a> 124     <em class="brace">}</em>
<a id="L125" name="L125"></a> 125 
<div class="comment">
      Writes a <code>boolean</code> to the underlying output stream as
      a 1-byte value. The value <code>true</code> is written out as the
      value <code>(byte)1</code>; the value <code>false</code> is
      written out as the value <code>(byte)0</code>. If no exception is
      thrown, the counter <code>written</code> is incremented by
      <code>1</code>.
      @param      v   a <code>boolean</code> value to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30570.html" title="Multiple referred from 11 places.">writeBoolean</a>(<strong class="reserved">boolean</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L139" name="L139"></a> 139         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(v ? 1 : 0);
<a id="L140" name="L140"></a> 140         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(1);
<a id="L141" name="L141"></a> 141     <em class="brace">}</em>
<a id="L142" name="L142"></a> 142 
<div class="comment">
      Writes out a <code>byte</code> to the underlying output stream as
      a 1-byte value. If no exception is thrown, the counter
      <code>written</code> is incremented by <code>1</code>.
      @param      v   a <code>byte</code> value to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L152" name="L152"></a> 152     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30572.html" title="Multiple referred from 221 places.">writeByte</a>(<strong class="reserved">int</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L153" name="L153"></a> 153         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(v);
<a id="L154" name="L154"></a> 154         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(1);
<a id="L155" name="L155"></a> 155     <em class="brace">}</em>
<a id="L156" name="L156"></a> 156 
<div class="comment">
      Writes a <code>short</code> to the underlying output stream as two
      bytes, high byte first. If no exception is thrown, the counter
      <code>written</code> is incremented by <code>2</code>.
      @param      v   a <code>short</code> to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L166" name="L166"></a> 166     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30710.html" title="Multiple referred from 146 places.">writeShort</a>(<strong class="reserved">int</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L167" name="L167"></a> 167         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 8) &amp; 0xFF);
<a id="L168" name="L168"></a> 168         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 0) &amp; 0xFF);
<a id="L169" name="L169"></a> 169         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(2);
<a id="L170" name="L170"></a> 170     <em class="brace">}</em>
<a id="L171" name="L171"></a> 171 
<div class="comment">
      Writes a <code>char</code> to the underlying output stream as a
      2-byte value, high byte first. If no exception is thrown, the
      counter <code>written</code> is incremented by <code>2</code>.
      @param      v   a <code>char</code> value to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L181" name="L181"></a> 181     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30576.html" title="Multiple referred from 5 places.">writeChar</a>(<strong class="reserved">int</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L182" name="L182"></a> 182         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 8) &amp; 0xFF);
<a id="L183" name="L183"></a> 183         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 0) &amp; 0xFF);
<a id="L184" name="L184"></a> 184         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(2);
<a id="L185" name="L185"></a> 185     <em class="brace">}</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      Writes an <code>int</code> to the underlying output stream as four
      bytes, high byte first. If no exception is thrown, the counter
      <code>written</code> is incremented by <code>4</code>.
      @param      v   an <code>int</code> to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L196" name="L196"></a> 196     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30645.html" title="Multiple referred from 202 places.">writeInt</a>(<strong class="reserved">int</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 24) &amp; 0xFF);
<a id="L198" name="L198"></a> 198         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 16) &amp; 0xFF);
<a id="L199" name="L199"></a> 199         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt;  8) &amp; 0xFF);
<a id="L200" name="L200"></a> 200         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt;  0) &amp; 0xFF);
<a id="L201" name="L201"></a> 201         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(4);
<a id="L202" name="L202"></a> 202     <em class="brace">}</em>
<a id="L203" name="L203"></a> 203 
<a id="L204" name="L204"></a> 204     <strong class="reserved">private</strong> <strong class="reserved">byte</strong> writeBuffer[] = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[8];
<a id="L205" name="L205"></a> 205 
<div class="comment">
      Writes a <code>long</code> to the underlying output stream as eight
      bytes, high byte first. In no exception is thrown, the counter
      <code>written</code> is incremented by <code>8</code>.
      @param      v   a <code>long</code> to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L215" name="L215"></a> 215     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30662.html" title="Multiple referred from 32 places.">writeLong</a>(<strong class="reserved">long</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L216" name="L216"></a> 216         writeBuffer[0] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt; 56);
<a id="L217" name="L217"></a> 217         writeBuffer[1] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt; 48);
<a id="L218" name="L218"></a> 218         writeBuffer[2] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt; 40);
<a id="L219" name="L219"></a> 219         writeBuffer[3] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt; 32);
<a id="L220" name="L220"></a> 220         writeBuffer[4] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt; 24);
<a id="L221" name="L221"></a> 221         writeBuffer[5] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt; 16);
<a id="L222" name="L222"></a> 222         writeBuffer[6] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt;  8);
<a id="L223" name="L223"></a> 223         writeBuffer[7] = (<strong class="reserved">byte</strong>)(v &gt;&gt;&gt;  0);
<a id="L224" name="L224"></a> 224         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(writeBuffer, 0, 8);
<a id="L225" name="L225"></a> 225         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(8);
<a id="L226" name="L226"></a> 226     <em class="brace">}</em>
<a id="L227" name="L227"></a> 227 
<div class="comment">
      Converts the float argument to an <code>int</code> using the
      <code>floatToIntBits</code> method in class <code>Float</code>,
      and then writes that <code>int</code> value to the underlying
      output stream as a 4-byte quantity, high byte first. If no
      exception is thrown, the counter <code>written</code> is
      incremented by <code>4</code>.
      @param      v   a <code>float</code> value to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out
      @see        java.lang.Float#floatToIntBits(float)</div>
<a id="L241" name="L241"></a> 241     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30628.html" title="Multiple referred from 8 places.">writeFloat</a>(<strong class="reserved">float</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L242" name="L242"></a> 242         <a href="../D/37085.html" title="Multiple defined in 12 places.">writeInt</a>(<a href="../D/3293.html" title="Multiple defined in 10 places.">Float</a>.<a href="../S/1719.html#L743" title="Defined at 743 in src/java/lang/Float.java.">floatToIntBits</a>(v));
<a id="L243" name="L243"></a> 243     <em class="brace">}</em>
<a id="L244" name="L244"></a> 244 
<div class="comment">
      Converts the double argument to a <code>long</code> using the
      <code>doubleToLongBits</code> method in class <code>Double</code>,
      and then writes that <code>long</code> value to the underlying
      output stream as an 8-byte quantity, high byte first. If no
      exception is thrown, the counter <code>written</code> is
      incremented by <code>8</code>.
      @param      v   a <code>double</code> value to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out
      @see        java.lang.Double#doubleToLongBits(double)</div>
<a id="L258" name="L258"></a> 258     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30601.html" title="Multiple referred from 7 places.">writeDouble</a>(<strong class="reserved">double</strong> v) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L259" name="L259"></a> 259         <a href="../D/37103.html" title="Multiple defined in 11 places.">writeLong</a>(<a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<a href="../S/1746.html#L835" title="Defined at 835 in src/java/lang/Double.java.">doubleToLongBits</a>(v));
<a id="L260" name="L260"></a> 260     <em class="brace">}</em>
<a id="L261" name="L261"></a> 261 
<div class="comment">
      Writes out the string to the underlying output stream as a
      sequence of bytes. Each character in the string is written out, in
      sequence, by discarding its high eight bits. If no exception is
      thrown, the counter <code>written</code> is incremented by the
      length of <code>s</code>.
      @param      s   a string of bytes to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.FilterOutputStream#out</div>
<a id="L273" name="L273"></a> 273     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30573.html" title="Multiple referred from 31 places.">writeBytes</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L274" name="L274"></a> 274         <strong class="reserved">int</strong> len = s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L275" name="L275"></a> 275         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0 ; i &lt; len ; i++) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((<strong class="reserved">byte</strong>)s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i));
<a id="L277" name="L277"></a> 277         <em class="brace">}</em>
<a id="L278" name="L278"></a> 278         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(len);
<a id="L279" name="L279"></a> 279     <em class="brace">}</em>
<a id="L280" name="L280"></a> 280 
<div class="comment">
      Writes a string to the underlying output stream as a sequence of
      characters. Each character is written to the data output stream as
      if by the <code>writeChar</code> method. If no exception is
      thrown, the counter <code>written</code> is incremented by twice
      the length of <code>s</code>.
      @param      s   a <code>String</code> value to be written.
      @exception  IOException  if an I/O error occurs.
      @see        java.io.DataOutputStream#writeChar(int)
      @see        java.io.FilterOutputStream#out</div>
<a id="L293" name="L293"></a> 293     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30581.html" title="Multiple referred from 4 places.">writeChars</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">int</strong> len = s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L295" name="L295"></a> 295         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0 ; i &lt; len ; i++) <em class="brace">{</em>
<a id="L296" name="L296"></a> 296             <strong class="reserved">int</strong> v = s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L297" name="L297"></a> 297             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 8) &amp; 0xFF);
<a id="L298" name="L298"></a> 298             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>((v &gt;&gt;&gt; 0) &amp; 0xFF);
<a id="L299" name="L299"></a> 299         <em class="brace">}</em>
<a id="L300" name="L300"></a> 300         <a href="../S/1389.html#L67" title="Defined at 67 in src/java/io/DataOutputStream.java.">incCount</a>(len * 2);
<a id="L301" name="L301"></a> 301     <em class="brace">}</em>
<a id="L302" name="L302"></a> 302 
<div class="comment">
      Writes a string to the underlying output stream using
      <a href="DataInput.html#modified-utf-8">modified UTF-8</a>
      encoding in a machine-independent manner.
      <p>
      First, two bytes are written to the output stream as if by the
      <code>writeShort</code> method giving the number of bytes to
      follow. This value is the number of bytes actually written out,
      not the length of the string. Following the length, each character
      of the string is output, in sequence, using the modified UTF-8 encoding
      for the character. If no exception is thrown, the counter
      <code>written</code> is incremented by the total number of
      bytes written to the output stream. This will be at least two
      plus the length of <code>str</code>, and at most two plus
      thrice the length of <code>str</code>.
      @param      str   a string to be written.
      @exception  IOException  if an I/O error occurs.</p></div>
<a id="L322" name="L322"></a> 322     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/30744.html" title="Multiple referred from 84 places.">writeUTF</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L323" name="L323"></a> 323         <a href="../D/37198.html" title="Multiple defined in 10 places.">writeUTF</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <strong class="reserved">this</strong>);
<a id="L324" name="L324"></a> 324     <em class="brace">}</em>
<a id="L325" name="L325"></a> 325 
<div class="comment">
      Writes a string to the specified DataOutput using
      <a href="DataInput.html#modified-utf-8">modified UTF-8</a>
      encoding in a machine-independent manner.
      <p>
      First, two bytes are written to out as if by the <code>writeShort</code>
      method giving the number of bytes to follow. This value is the number of
      bytes actually written out, not the length of the string. Following the
      length, each character of the string is output, in sequence, using the
      modified UTF-8 encoding for the character. If no exception is thrown, the
      counter <code>written</code> is incremented by the total number of
      bytes written to the output stream. This will be at least two
      plus the length of <code>str</code>, and at most two plus
      thrice the length of <code>str</code>.
      @param      str   a string to be written.
      @param      out   destination to write to
      @return     The number of bytes written out.
      @exception  IOException  if an I/O error occurs.</p></div>
<a id="L346" name="L346"></a> 346     <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/30744.html" title="Multiple referred from 84 places.">writeUTF</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <a href="../S/1422.html#L50" title="Defined at 50 in src/java/io/DataOutput.java.">DataOutput</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L347" name="L347"></a> 347         <strong class="reserved">int</strong> strlen = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L348" name="L348"></a> 348         <strong class="reserved">int</strong> utflen = 0;
<a id="L349" name="L349"></a> 349         <strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = 0;
<a id="L350" name="L350"></a> 350 
<div class="comment">
         /* use charAt instead of copying String to char array */</div>
<a id="L352" name="L352"></a> 352         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; strlen; i++) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L354" name="L354"></a> 354             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 0x0001) &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 0x007F)) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355                 utflen++;
<a id="L356" name="L356"></a> 356             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt; 0x07FF) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357                 utflen += 3;
<a id="L358" name="L358"></a> 358             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L359" name="L359"></a> 359                 utflen += 2;
<a id="L360" name="L360"></a> 360             <em class="brace">}</em>
<a id="L361" name="L361"></a> 361         <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong> (utflen &gt; 65535)
<a id="L364" name="L364"></a> 364             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1397.html#L46" title="Defined at 46 in src/java/io/UTFDataFormatException.java.">UTFDataFormatException</a>(
<a id="L365" name="L365"></a> 365                 "encoded string too long: " + utflen + " bytes");
<a id="L366" name="L366"></a> 366 
<a id="L367" name="L367"></a> 367         <strong class="reserved">byte</strong>[] bytearr = <strong class="reserved">null</strong>;
<a id="L368" name="L368"></a> 368         <strong class="reserved">if</strong> (<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> <strong class="reserved">instanceof</strong> <a href="../D/2188.html" title="Multiple defined in 2 places.">DataOutputStream</a>) <em class="brace">{</em>
<a id="L369" name="L369"></a> 369             <a href="../D/2188.html" title="Multiple defined in 2 places.">DataOutputStream</a> dos = (<a href="../D/2188.html" title="Multiple defined in 2 places.">DataOutputStream</a>)<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>;
<a id="L370" name="L370"></a> 370             <strong class="reserved">if</strong>(dos.bytearr == <strong class="reserved">null</strong> || (dos.bytearr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; (utflen+2)))
<a id="L371" name="L371"></a> 371                 dos.bytearr = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[(utflen*2) + 2];
<a id="L372" name="L372"></a> 372             bytearr = dos.bytearr;
<a id="L373" name="L373"></a> 373         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374             bytearr = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[utflen+2];
<a id="L375" name="L375"></a> 375         <em class="brace">}</em>
<a id="L376" name="L376"></a> 376 
<a id="L377" name="L377"></a> 377         bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) ((utflen &gt;&gt;&gt; 8) &amp; 0xFF);
<a id="L378" name="L378"></a> 378         bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) ((utflen &gt;&gt;&gt; 0) &amp; 0xFF);
<a id="L379" name="L379"></a> 379 
<a id="L380" name="L380"></a> 380         <strong class="reserved">int</strong> i=0;
<a id="L381" name="L381"></a> 381         <strong class="reserved">for</strong> (i=0; i&lt;strlen; i++) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382            <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L383" name="L383"></a> 383            <strong class="reserved">if</strong> (!((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 0x0001) &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 0x007F))) <strong class="reserved">break</strong>;
<a id="L384" name="L384"></a> 384            bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L385" name="L385"></a> 385         <em class="brace">}</em>
<a id="L386" name="L386"></a> 386 
<a id="L387" name="L387"></a> 387         <strong class="reserved">for</strong> (;i &lt; strlen; i++)<em class="brace">{</em>
<a id="L388" name="L388"></a> 388             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L389" name="L389"></a> 389             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 0x0001) &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 0x007F)) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390                 bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L391" name="L391"></a> 391 
<a id="L392" name="L392"></a> 392             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt; 0x07FF) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393                 bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) (0xE0 | ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;&gt; 12) &amp; 0x0F));
<a id="L394" name="L394"></a> 394                 bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) (0x80 | ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;&gt;  6) &amp; 0x3F));
<a id="L395" name="L395"></a> 395                 bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) (0x80 | ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;&gt;  0) &amp; 0x3F));
<a id="L396" name="L396"></a> 396             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                 bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) (0xC0 | ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;&gt;  6) &amp; 0x1F));
<a id="L398" name="L398"></a> 398                 bytearr[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++] = (<strong class="reserved">byte</strong>) (0x80 | ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;&gt;  0) &amp; 0x3F));
<a id="L399" name="L399"></a> 399             <em class="brace">}</em>
<a id="L400" name="L400"></a> 400         <em class="brace">}</em>
<a id="L401" name="L401"></a> 401         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(bytearr, 0, utflen+2);
<a id="L402" name="L402"></a> 402         <strong class="reserved">return</strong> utflen + 2;
<a id="L403" name="L403"></a> 403     <em class="brace">}</em>
<a id="L404" name="L404"></a> 404 
<div class="comment">
      Returns the current value of the counter <code>written</code>,
      the number of bytes written to this data output stream so far.
      If the counter overflows, it will be wrapped to Integer.MAX_VALUE.
      @return  the value of the <code>written</code> field.
      @see     java.io.DataOutputStream#written</div>
<a id="L413" name="L413"></a> 413     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L414" name="L414"></a> 414         <strong class="reserved">return</strong> written;
<a id="L415" name="L415"></a> 415     <em class="brace">}</em>
<a id="L416" name="L416"></a> 416 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L67">[^]</a><a href="#L413">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>