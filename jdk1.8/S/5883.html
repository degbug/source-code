<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L102">[^]</a><a href="#L559">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L102" title="Defined at 102.">warning</a></li>
<li><a href="#L141" title="Defined at 141.">error</a></li>
<li><a href="#L173" title="Defined at 173.">fatalError</a></li>
<li><a href="#L206" title="Defined at 206.">warning</a></li>
<li><a href="#L233" title="Defined at 233.">error</a></li>
<li><a href="#L261" title="Defined at 261.">fatalError</a></li>
<li><a href="#L285" title="Defined at 285.">logExceptionLocation</a></li>
<li><a href="#L362" title="Defined at 362.">logSourceLine</a></li>
<li><a href="#L410" title="Defined at 410.">getSourceLine</a></li>
<li><a href="#L484" title="Defined at 484.">setThrowOnWarning</a></li>
<li><a href="#L494" title="Defined at 494.">getThrowOnWarning</a></li>
<li><a href="#L516" title="Defined at 516.">setThrowOnError</a></li>
<li><a href="#L526" title="Defined at 526.">getThrowOnError</a></li>
<li><a href="#L549" title="Defined at 549.">setThrowOnFatalError</a></li>
<li><a href="#L559" title="Defined at 559.">getThrowOnFatalError</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2000-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<div class="comment">
  $Id: ListingErrorHandler.java,v 1.2.4.1 2005/09/15 08:15:46 suresh_emailid Exp $</div>
<a id="L23" name="L23"></a>  23 
<a id="L24" name="L24"></a>  24 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.utils;
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.BufferedReader;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.InputStreamReader;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.PrintWriter;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.net.URL;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.net.URLConnection;
<a id="L32" name="L32"></a>  32 
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.xml.transform.ErrorListener;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.xml.transform.SourceLocator;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.xml.transform.TransformerException;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.res.XMLErrorResources;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.res.XMLMessages;
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> org.xml.sax.ErrorHandler;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> org.xml.sax.SAXParseException;
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44 
<div class="comment">
  Sample implementation of similar SAX ErrorHandler and JAXP ErrorListener.
  <p>This implementation is suitable for various use cases, and
  provides some basic configuration API's as well to control
  when we re-throw errors, etc.</p>
  @author shane_curcuru@us.ibm.com
  @xsl.usage general</div>
<a id="L55" name="L55"></a>  55 <strong class="reserved">public</strong> <strong class="reserved">class</strong> ListingErrorHandler <strong class="reserved">implements</strong> <a href="../S/723.html#L73" title="Defined at 73 in src/org/xml/sax/ErrorHandler.java.">ErrorHandler</a>, <a href="../S/4030.html#L53" title="Defined at 53 in src/javax/xml/transform/ErrorListener.java.">ErrorListener</a>
<a id="L56" name="L56"></a>  56 <em class="brace">{</em>
<a id="L57" name="L57"></a>  57     <strong class="reserved">protected</strong> <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> m_pw = <strong class="reserved">null</strong>;
<a id="L58" name="L58"></a>  58 
<a id="L59" name="L59"></a>  59 
<div class="comment">
      Constructor ListingErrorHandler; user-supplied PrintWriter.</div>
<a id="L63" name="L63"></a>  63     <strong class="reserved">public</strong> ListingErrorHandler(<a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> pw)
<a id="L64" name="L64"></a>  64     <em class="brace">{</em>
<a id="L65" name="L65"></a>  65         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == pw)
<a id="L66" name="L66"></a>  66             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(<a href="../S/5529.html#L33" title="Defined at 33 in src/com/sun/org/apache/xml/internal/res/XMLMessages.java.">XMLMessages</a>.<a href="../S/5529.html#L82" title="Defined at 82 in src/com/sun/org/apache/xml/internal/res/XMLMessages.java.">createXMLMessage</a>(<a href="../S/5541.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/res/XMLErrorResources.java.">XMLErrorResources</a>.ER_ERRORHANDLER_CREATED_WITH_NULL_PRINTWRITER, <strong class="reserved">null</strong>));
<a id="L67" name="L67"></a>  67             <em class="comment">// "ListingErrorHandler created with null PrintWriter!");</em>
<a id="L68" name="L68"></a>  68 
<a id="L69" name="L69"></a>  69         m_pw = pw;
<a id="L70" name="L70"></a>  70     <em class="brace">}</em>
<a id="L71" name="L71"></a>  71 
<div class="comment">
      Constructor ListingErrorHandler; uses System.err.</div>
<a id="L75" name="L75"></a>  75     <strong class="reserved">public</strong> ListingErrorHandler()
<a id="L76" name="L76"></a>  76     <em class="brace">{</em>
<a id="L77" name="L77"></a>  77         m_pw = <strong class="reserved">new</strong> <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err, <strong class="reserved">true</strong>);
<a id="L78" name="L78"></a>  78     <em class="brace">}</em>
<a id="L79" name="L79"></a>  79 
<a id="L80" name="L80"></a>  80 
<div class="comment">
     /* ======== Implement org.xml.sax.ErrorHandler ======== */</div>
<div class="comment">
      Receive notification of a warning.
      <p>SAX parsers will use this method to report conditions that
      are not errors or fatal errors as defined by the XML 1.0
      recommendation.  The default behaviour is to take no action.</p>
      <p>The SAX parser must continue to provide normal parsing events
      after invoking this method: it should still be possible for the
      application to process the document through to the end.</p>
      <p>Filters may use this method to report other, non-XML warnings
      as well.</p>
      @param exception The warning information encapsulated in a
                       SAX parse exception.
      @exception org.xml.sax.SAXException Any SAX exception, possibly
      wrapping another exception; only if setThrowOnWarning is true.
      @see org.xml.sax.SAXParseException</div>
<a id="L102" name="L102"></a> 102     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30453.html" title="Multiple referred from 107 places.">warning</a> (<a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>)
<a id="L103" name="L103"></a> 103         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L104" name="L104"></a> 104     <em class="brace">{</em>
<a id="L105" name="L105"></a> 105         <a href="../S/5883.html#L285" title="Defined at 285 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logExceptionLocation</a>(m_pw, <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L106" name="L106"></a> 106         <em class="comment">// Note: should we really call .toString() below, since</em>
<a id="L107" name="L107"></a> 107         <em class="comment">//  sometimes the message is not properly set?</em>
<a id="L108" name="L108"></a> 108         m_pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("warning: " + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L109" name="L109"></a> 109         m_pw.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L110" name="L110"></a> 110 
<a id="L111" name="L111"></a> 111         <strong class="reserved">if</strong> (<a href="../S/5883.html#L494" title="Defined at 494 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getThrowOnWarning</a>())
<a id="L112" name="L112"></a> 112             <strong class="reserved">throw</strong> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L113" name="L113"></a> 113     <em class="brace">}</em>
<a id="L114" name="L114"></a> 114 
<a id="L115" name="L115"></a> 115 
<div class="comment">
      Receive notification of a recoverable error.
      <p>This corresponds to the definition of "error" in section 1.2
      of the W3C XML 1.0 Recommendation.  For example, a validating
      parser would use this callback to report the violation of a
      validity constraint.  The default behaviour is to take no
      action.</p>
      <p>The SAX parser must continue to provide normal parsing events
      after invoking this method: it should still be possible for the
      application to process the document through to the end.  If the
      application cannot do so, then the parser should report a fatal
      error even if the XML 1.0 recommendation does not require it to
      do so.</p>
      <p>Filters may use this method to report other, non-XML errors
      as well.</p>
      @param exception The error information encapsulated in a
                       SAX parse exception.
      @exception org.xml.sax.SAXException Any SAX exception, possibly
      wrapping another exception; only if setThrowOnErroris true.
      @see org.xml.sax.SAXParseException</div>
<a id="L141" name="L141"></a> 141     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14003.html" title="Multiple referred from 408 places.">error</a> (<a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>)
<a id="L142" name="L142"></a> 142         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L143" name="L143"></a> 143     <em class="brace">{</em>
<a id="L144" name="L144"></a> 144         <a href="../S/5883.html#L285" title="Defined at 285 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logExceptionLocation</a>(m_pw, <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L145" name="L145"></a> 145         m_pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("error: " + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L146" name="L146"></a> 146         m_pw.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L147" name="L147"></a> 147 
<a id="L148" name="L148"></a> 148         <strong class="reserved">if</strong> (<a href="../S/5883.html#L526" title="Defined at 526 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getThrowOnError</a>())
<a id="L149" name="L149"></a> 149             <strong class="reserved">throw</strong> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L150" name="L150"></a> 150     <em class="brace">}</em>
<a id="L151" name="L151"></a> 151 
<a id="L152" name="L152"></a> 152 
<div class="comment">
      Receive notification of a non-recoverable error.
      <p>This corresponds to the definition of "fatal error" in
      section 1.2 of the W3C XML 1.0 Recommendation.  For example, a
      parser would use this callback to report the violation of a
      well-formedness constraint.</p>
      <p>The application must assume that the document is unusable
      after the parser has invoked this method, and should continue
      (if at all) only for the sake of collecting addition error
      messages: in fact, SAX parsers are free to stop reporting any
      other events once this method has been invoked.</p>
      @param exception The error information encapsulated in a
                       SAX parse exception.
      @exception org.xml.sax.SAXException Any SAX exception, possibly
      wrapping another exception; only if setThrowOnFatalError is true.
      @see org.xml.sax.SAXParseException</div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14255.html" title="Multiple referred from 46 places.">fatalError</a> (<a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>)
<a id="L174" name="L174"></a> 174         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L175" name="L175"></a> 175     <em class="brace">{</em>
<a id="L176" name="L176"></a> 176         <a href="../S/5883.html#L285" title="Defined at 285 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logExceptionLocation</a>(m_pw, <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L177" name="L177"></a> 177         m_pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("fatalError: " + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L178" name="L178"></a> 178         m_pw.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180         <strong class="reserved">if</strong> (<a href="../S/5883.html#L559" title="Defined at 559 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getThrowOnFatalError</a>())
<a id="L181" name="L181"></a> 181             <strong class="reserved">throw</strong> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L182" name="L182"></a> 182     <em class="brace">}</em>
<a id="L183" name="L183"></a> 183 
<a id="L184" name="L184"></a> 184 
<div class="comment">
     /* ======== Implement javax.xml.transform.ErrorListener ======== */</div>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      Receive notification of a warning.
      <p>{@link javax.xml.transform.Transformer} can use this method to report
      conditions that are not errors or fatal errors.  The default behaviour
      is to take no action.</p>
      <p>After invoking this method, the Transformer must continue with
      the transformation. It should still be possible for the
      application to process the document through to the end.</p>
      @param exception The warning information encapsulated in a
                       transformer exception.
      @throws javax.xml.transform.TransformerException  only if
      setThrowOnWarning is true.
      @see javax.xml.transform.TransformerException</div>
<a id="L206" name="L206"></a> 206     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30453.html" title="Multiple referred from 107 places.">warning</a>(<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>)
<a id="L207" name="L207"></a> 207         <strong class="reserved">throws</strong> <a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>
<a id="L208" name="L208"></a> 208     <em class="brace">{</em>
<a id="L209" name="L209"></a> 209         <a href="../S/5883.html#L285" title="Defined at 285 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logExceptionLocation</a>(m_pw, <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L210" name="L210"></a> 210         m_pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("warning: " + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L211" name="L211"></a> 211         m_pw.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213         <strong class="reserved">if</strong> (<a href="../S/5883.html#L494" title="Defined at 494 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getThrowOnWarning</a>())
<a id="L214" name="L214"></a> 214             <strong class="reserved">throw</strong> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L215" name="L215"></a> 215     <em class="brace">}</em>
<a id="L216" name="L216"></a> 216 
<div class="comment">
      Receive notification of a recoverable error.
      <p>The transformer must continue to try and provide normal transformation
      after invoking this method.  It should still be possible for the
      application to process the document through to the end if no other errors
      are encountered.</p>
      @param exception The error information encapsulated in a
                       transformer exception.
      @throws javax.xml.transform.TransformerException  only if
      setThrowOnError is true.
      @see javax.xml.transform.TransformerException</div>
<a id="L233" name="L233"></a> 233     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14003.html" title="Multiple referred from 408 places.">error</a>(<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>)
<a id="L234" name="L234"></a> 234         <strong class="reserved">throws</strong> <a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>
<a id="L235" name="L235"></a> 235     <em class="brace">{</em>
<a id="L236" name="L236"></a> 236         <a href="../S/5883.html#L285" title="Defined at 285 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logExceptionLocation</a>(m_pw, <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L237" name="L237"></a> 237         m_pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("error: " + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L238" name="L238"></a> 238         m_pw.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L239" name="L239"></a> 239 
<a id="L240" name="L240"></a> 240         <strong class="reserved">if</strong> (<a href="../S/5883.html#L526" title="Defined at 526 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getThrowOnError</a>())
<a id="L241" name="L241"></a> 241             <strong class="reserved">throw</strong> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L242" name="L242"></a> 242     <em class="brace">}</em>
<a id="L243" name="L243"></a> 243 
<div class="comment">
      Receive notification of a non-recoverable error.
      <p>The transformer must continue to try and provide normal transformation
      after invoking this method.  It should still be possible for the
      application to process the document through to the end if no other errors
      are encountered, but there is no guarantee that the output will be
      useable.</p>
      @param exception The error information encapsulated in a
                       transformer exception.
      @throws javax.xml.transform.TransformerException  only if
      setThrowOnError is true.
      @see javax.xml.transform.TransformerException</div>
<a id="L261" name="L261"></a> 261     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14255.html" title="Multiple referred from 46 places.">fatalError</a>(<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>)
<a id="L262" name="L262"></a> 262         <strong class="reserved">throws</strong> <a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>
<a id="L263" name="L263"></a> 263     <em class="brace">{</em>
<a id="L264" name="L264"></a> 264         <a href="../S/5883.html#L285" title="Defined at 285 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logExceptionLocation</a>(m_pw, <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L265" name="L265"></a> 265         m_pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("error: " + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L266" name="L266"></a> 266         m_pw.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L267" name="L267"></a> 267 
<a id="L268" name="L268"></a> 268         <strong class="reserved">if</strong> (<a href="../S/5883.html#L526" title="Defined at 526 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getThrowOnError</a>())
<a id="L269" name="L269"></a> 269             <strong class="reserved">throw</strong> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L270" name="L270"></a> 270     <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272 
<a id="L273" name="L273"></a> 273 
<div class="comment">
     /* ======== Implement worker methods ======== */</div>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276 
<div class="comment">
      Print out location information about the exception.
      Cribbed from DefaultErrorHandler.printLocation()
      @param pw PrintWriter to send output to
      @param exception TransformerException or SAXParseException
      to log information about</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/22679.html" title="Multiple referred from 6 places.">logExceptionLocation</a>(<a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> pw, <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>)
<a id="L286" name="L286"></a> 286     <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == pw)
<a id="L288" name="L288"></a> 288             pw = <strong class="reserved">new</strong> <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err, <strong class="reserved">true</strong>);
<a id="L289" name="L289"></a> 289 
<a id="L290" name="L290"></a> 290         <a href="../S/4044.html#L32" title="Defined at 32 in src/javax/xml/transform/SourceLocator.java.">SourceLocator</a> locator = <strong class="reserved">null</strong>;
<a id="L291" name="L291"></a> 291         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>;
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293         <em class="comment">// Try to find the locator closest to the cause.</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">do</strong>
<a id="L295" name="L295"></a> 295         <em class="brace">{</em>
<a id="L296" name="L296"></a> 296             <em class="comment">// Find the current locator, if one present</em>
<a id="L297" name="L297"></a> 297             <strong class="reserved">if</strong>(cause <strong class="reserved">instanceof</strong> <a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a>)
<a id="L298" name="L298"></a> 298             <em class="brace">{</em>
<a id="L299" name="L299"></a> 299                 <em class="comment">// A SAXSourceLocator is a Xalan helper class</em>
<a id="L300" name="L300"></a> 300                 <em class="comment">//  that implements both a SourceLocator and a SAX Locator</em>
<a id="L301" name="L301"></a> 301                 <em class="comment">//@todo check that the new locator actually has</em>
<a id="L302" name="L302"></a> 302                 <em class="comment">//  as much or more information as the</em>
<a id="L303" name="L303"></a> 303                 <em class="comment">//  current one already does</em>
<a id="L304" name="L304"></a> 304                 locator = <strong class="reserved">new</strong> <a href="../S/5852.html#L38" title="Defined at 38 in src/com/sun/org/apache/xml/internal/utils/SAXSourceLocator.java.">SAXSourceLocator</a>((<a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a>)cause);
<a id="L305" name="L305"></a> 305             <em class="brace">}</em>
<a id="L306" name="L306"></a> 306             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>)
<a id="L307" name="L307"></a> 307             <em class="brace">{</em>
<a id="L308" name="L308"></a> 308                 <a href="../S/4044.html#L32" title="Defined at 32 in src/javax/xml/transform/SourceLocator.java.">SourceLocator</a> causeLocator = ((<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>)cause).<a href="../D/20250.html" title="Multiple defined in 7 places.">getLocator</a>();
<a id="L309" name="L309"></a> 309                 <strong class="reserved">if</strong>(<strong class="reserved">null</strong> != causeLocator)
<a id="L310" name="L310"></a> 310                 <em class="brace">{</em>
<a id="L311" name="L311"></a> 311                     locator = causeLocator;
<a id="L312" name="L312"></a> 312                 <em class="brace">}</em>
<a id="L313" name="L313"></a> 313             <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315             <em class="comment">// Then walk back down the chain of exceptions</em>
<a id="L316" name="L316"></a> 316             <strong class="reserved">if</strong>(cause <strong class="reserved">instanceof</strong> <a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>)
<a id="L317" name="L317"></a> 317                 cause = ((<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>)cause).<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L318" name="L318"></a> 318             <strong class="reserved">else</strong> <strong class="reserved">if</strong>(cause <strong class="reserved">instanceof</strong> <a href="../D/9772.html" title="Multiple defined in 2 places.">WrappedRuntimeException</a>)
<a id="L319" name="L319"></a> 319                 cause = ((<a href="../D/9772.html" title="Multiple defined in 2 places.">WrappedRuntimeException</a>)cause).<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L320" name="L320"></a> 320             <strong class="reserved">else</strong> <strong class="reserved">if</strong>(cause <strong class="reserved">instanceof</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>)
<a id="L321" name="L321"></a> 321                 cause = ((<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>)cause).<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L322" name="L322"></a> 322             <strong class="reserved">else</strong>
<a id="L323" name="L323"></a> 323                 cause = <strong class="reserved">null</strong>;
<a id="L324" name="L324"></a> 324         <em class="brace">}</em>
<a id="L325" name="L325"></a> 325         <strong class="reserved">while</strong>(<strong class="reserved">null</strong> != cause);
<a id="L326" name="L326"></a> 326 
<a id="L327" name="L327"></a> 327         <em class="comment">// Formatting note: mimic javac-like errors:</em>
<a id="L328" name="L328"></a> 328         <em class="comment">//  path\filename:123: message-here</em>
<a id="L329" name="L329"></a> 329         <em class="comment">//  systemId:L=1;C=2: message-here</em>
<a id="L330" name="L330"></a> 330         <strong class="reserved">if</strong>(<strong class="reserved">null</strong> != locator)
<a id="L331" name="L331"></a> 331         <em class="brace">{</em>
<a id="L332" name="L332"></a> 332             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = (locator.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>() != locator.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>())
<a id="L333" name="L333"></a> 333                       ? locator.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>()
<a id="L334" name="L334"></a> 334                         : (<strong class="reserved">null</strong> != locator.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>())
<a id="L335" name="L335"></a> 335                           ? locator.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>() : "SystemId-Unknown";
<a id="L336" name="L336"></a> 336 
<a id="L337" name="L337"></a> 337             pw.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> + ":Line=" + locator.<a href="../D/20122.html" title="Multiple defined in 41 places.">getLineNumber</a>()
<a id="L338" name="L338"></a> 338                              + ";Column=" + locator.<a href="../D/17813.html" title="Multiple defined in 33 places.">getColumnNumber</a>()+": ");
<a id="L339" name="L339"></a> 339             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("exception:" + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L340" name="L340"></a> 340             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("root-cause:"
<a id="L341" name="L341"></a> 341                        + ((<strong class="reserved">null</strong> != cause) ? cause.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>() : "null"));
<a id="L342" name="L342"></a> 342             <a href="../S/5883.html#L362" title="Defined at 362 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logSourceLine</a>(pw, locator);
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344         <strong class="reserved">else</strong>
<a id="L345" name="L345"></a> 345         <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             pw.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>("SystemId-Unknown:locator-unavailable: ");
<a id="L347" name="L347"></a> 347             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("exception:" + <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L348" name="L348"></a> 348             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("root-cause:"
<a id="L349" name="L349"></a> 349                        + ((<strong class="reserved">null</strong> != cause) ? cause.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>() : "null"));
<a id="L350" name="L350"></a> 350         <em class="brace">}</em>
<a id="L351" name="L351"></a> 351     <em class="brace">}</em>
<a id="L352" name="L352"></a> 352 
<a id="L353" name="L353"></a> 353 
<div class="comment">
      Print out the specific source line that caused the exception,
      if possible to load it.
      @param pw PrintWriter to send output to
      @param locator Xalan wrapper for either a JAXP or a SAX
      source location object</div>
<a id="L362" name="L362"></a> 362     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5883.html#L342" title="Referred from 342 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">logSourceLine</a>(<a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> pw, <a href="../S/4044.html#L32" title="Defined at 32 in src/javax/xml/transform/SourceLocator.java.">SourceLocator</a> locator)
<a id="L363" name="L363"></a> 363     <em class="brace">{</em>
<a id="L364" name="L364"></a> 364         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == locator)
<a id="L365" name="L365"></a> 365             <strong class="reserved">return</strong>;
<a id="L366" name="L366"></a> 366 
<a id="L367" name="L367"></a> 367         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == pw)
<a id="L368" name="L368"></a> 368             pw = <strong class="reserved">new</strong> <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err, <strong class="reserved">true</strong>);
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url = locator.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>();
<a id="L371" name="L371"></a> 371         <em class="comment">// Bail immediately if we get SystemId-Unknown</em>
<a id="L372" name="L372"></a> 372         <em class="comment">//@todo future improvement: attempt to get resource</em>
<a id="L373" name="L373"></a> 373         <em class="comment">//  from a publicId if possible</em>
<a id="L374" name="L374"></a> 374         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == url)
<a id="L375" name="L375"></a> 375         <em class="brace">{</em>
<a id="L376" name="L376"></a> 376             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("line: (No systemId; cannot read file)");
<a id="L377" name="L377"></a> 377             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>();
<a id="L378" name="L378"></a> 378             <strong class="reserved">return</strong>;
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<a id="L381" name="L381"></a> 381         <em class="comment">//@todo attempt to get DOM backpointer or other ids</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <strong class="reserved">try</strong>
<a id="L384" name="L384"></a> 384         <em class="brace">{</em>
<a id="L385" name="L385"></a> 385             <strong class="reserved">int</strong> <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a> = locator.<a href="../D/20122.html" title="Multiple defined in 41 places.">getLineNumber</a>();
<a id="L386" name="L386"></a> 386             <strong class="reserved">int</strong> <a href="../S/7696.html#L51" title="Defined at 51 in src/com/sun/javadoc/SourcePosition.java.">column</a> = locator.<a href="../D/17813.html" title="Multiple defined in 33 places.">getColumnNumber</a>();
<a id="L387" name="L387"></a> 387             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("line: " + <a href="../D/22617.html" title="Multiple defined in 3 places.">getSourceLine</a>(url, <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a>));
<a id="L388" name="L388"></a> 388             <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>("line: ");
<a id="L389" name="L389"></a> 389             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt; <a href="../S/7696.html#L51" title="Defined at 51 in src/com/sun/javadoc/SourcePosition.java.">column</a>; i++)
<a id="L390" name="L390"></a> 390             <em class="brace">{</em>
<a id="L391" name="L391"></a> 391                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(' ');
<a id="L392" name="L392"></a> 392             <em class="brace">}</em>
<a id="L393" name="L393"></a> 393             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('^');
<a id="L394" name="L394"></a> 394             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L395" name="L395"></a> 395         <em class="brace">}</em>
<a id="L396" name="L396"></a> 396         <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e)
<a id="L397" name="L397"></a> 397         <em class="brace">{</em>
<a id="L398" name="L398"></a> 398             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("line: logSourceLine unavailable due to: " + e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L399" name="L399"></a> 399             pw.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>();
<a id="L400" name="L400"></a> 400         <em class="brace">}</em>
<a id="L401" name="L401"></a> 401     <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<a id="L403" name="L403"></a> 403 
<div class="comment">
      Return the specific source line that caused the exception,
      if possible to load it; allow exceptions to be thrown.
      @author shane_curcuru@us.ibm.com</div>
<a id="L410" name="L410"></a> 410     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/5883.html#L387" title="Referred from 387 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getSourceLine</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> sourceUrl, <strong class="reserved">int</strong> lineNum)
<a id="L411" name="L411"></a> 411             <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>
<a id="L412" name="L412"></a> 412     <em class="brace">{</em>
<a id="L413" name="L413"></a> 413         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <strong class="reserved">null</strong>;
<a id="L414" name="L414"></a> 414         <em class="comment">// Get a URL from the sourceUrl</em>
<a id="L415" name="L415"></a> 415         <strong class="reserved">try</strong>
<a id="L416" name="L416"></a> 416         <em class="brace">{</em>
<a id="L417" name="L417"></a> 417             <em class="comment">// Try to get a URL from it as-is</em>
<a id="L418" name="L418"></a> 418             url = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(sourceUrl);
<a id="L419" name="L419"></a> 419         <em class="brace">}</em>
<a id="L420" name="L420"></a> 420         <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net.<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mue)
<a id="L421" name="L421"></a> 421         <em class="brace">{</em>
<a id="L422" name="L422"></a> 422             <strong class="reserved">int</strong> indexOfColon = sourceUrl.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L423" name="L423"></a> 423             <strong class="reserved">int</strong> indexOfSlash = sourceUrl.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('/');
<a id="L424" name="L424"></a> 424 
<a id="L425" name="L425"></a> 425             <strong class="reserved">if</strong> ((indexOfColon != -1)
<a id="L426" name="L426"></a> 426                 &amp;&amp; (indexOfSlash != -1)
<a id="L427" name="L427"></a> 427                 &amp;&amp; (indexOfColon &lt; indexOfSlash))
<a id="L428" name="L428"></a> 428             <em class="brace">{</em>
<a id="L429" name="L429"></a> 429                 <em class="comment">// The url is already absolute, but we could not get</em>
<a id="L430" name="L430"></a> 430                 <em class="comment">//  the system to form it, so bail</em>
<a id="L431" name="L431"></a> 431                 <strong class="reserved">throw</strong> mue;
<a id="L432" name="L432"></a> 432             <em class="brace">}</em>
<a id="L433" name="L433"></a> 433             <strong class="reserved">else</strong>
<a id="L434" name="L434"></a> 434             <em class="brace">{</em>
<a id="L435" name="L435"></a> 435                 <em class="comment">// The url is relative, so attempt to get absolute</em>
<a id="L436" name="L436"></a> 436                 url = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(<a href="../D/8695.html" title="Multiple defined in 2 places.">SystemIDResolver</a>.<a href="../D/16701.html" title="Multiple defined in 4 places.">getAbsoluteURI</a>(sourceUrl));
<a id="L437" name="L437"></a> 437                 <em class="comment">// If this fails, allow the exception to propagate</em>
<a id="L438" name="L438"></a> 438             <em class="brace">}</em>
<a id="L439" name="L439"></a> 439         <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a> = <strong class="reserved">null</strong>;
<a id="L442" name="L442"></a> 442         <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <strong class="reserved">null</strong>;
<a id="L443" name="L443"></a> 443         <a href="../S/1395.html#L70" title="Defined at 70 in src/java/io/BufferedReader.java.">BufferedReader</a> br = <strong class="reserved">null</strong>;
<a id="L444" name="L444"></a> 444         <strong class="reserved">try</strong>
<a id="L445" name="L445"></a> 445         <em class="brace">{</em>
<a id="L446" name="L446"></a> 446             <em class="comment">// Open the URL and read to our specified line</em>
<a id="L447" name="L447"></a> 447             <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> uc = url.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>();
<a id="L448" name="L448"></a> 448             <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = uc.<a href="../D/19744.html" title="Multiple defined in 16 places.">getInputStream</a>();
<a id="L449" name="L449"></a> 449             br = <strong class="reserved">new</strong> <a href="../S/1395.html#L70" title="Defined at 70 in src/java/io/BufferedReader.java.">BufferedReader</a>(<strong class="reserved">new</strong> <a href="../S/1416.html#L62" title="Defined at 62 in src/java/io/InputStreamReader.java.">InputStreamReader</a>(<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>));
<a id="L450" name="L450"></a> 450 
<a id="L451" name="L451"></a> 451             <em class="comment">// Not the most efficient way, but it works</em>
<a id="L452" name="L452"></a> 452             <em class="comment">// (Feel free to patch to seek to the appropriate line)</em>
<a id="L453" name="L453"></a> 453             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt;= lineNum; i++)
<a id="L454" name="L454"></a> 454             <em class="brace">{</em>
<a id="L455" name="L455"></a> 455                 <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a> = br.<a href="../D/30213.html" title="Multiple defined in 17 places.">readLine</a>();
<a id="L456" name="L456"></a> 456             <em class="brace">}</em>
<a id="L457" name="L457"></a> 457 
<a id="L458" name="L458"></a> 458         <em class="brace">}</em>
<a id="L459" name="L459"></a> 459         <em class="comment">// Allow exceptions to propagate from here, but ensure</em>
<a id="L460" name="L460"></a> 460         <em class="comment">//  streams are closed!</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">finally</strong>
<a id="L462" name="L462"></a> 462         <em class="brace">{</em>
<a id="L463" name="L463"></a> 463             br.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L464" name="L464"></a> 464             <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L465" name="L465"></a> 465         <em class="brace">}</em>
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467         <em class="comment">// Return whatever we found</em>
<a id="L468" name="L468"></a> 468         <strong class="reserved">return</strong> <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a>;
<a id="L469" name="L469"></a> 469     <em class="brace">}</em>
<a id="L470" name="L470"></a> 470 
<a id="L471" name="L471"></a> 471 
<div class="comment">
     /* ======== Implement settable properties ======== */</div>
<a id="L473" name="L473"></a> 473 
<div class="comment">
      User-settable behavior: when to re-throw exceptions.
      <p>This allows per-instance configuration of
      ListingErrorHandlers.  You can ask us to either throw
      an exception when we're called for various warning /
      error / fatalErrors, or simply log them and continue.</p>
      @param b if we should throw an exception on warnings</div>
<a id="L484" name="L484"></a> 484     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setThrowOnWarning(<strong class="reserved">boolean</strong> b)
<a id="L485" name="L485"></a> 485     <em class="brace">{</em>
<a id="L486" name="L486"></a> 486         throwOnWarning = b;
<a id="L487" name="L487"></a> 487     <em class="brace">}</em>
<a id="L488" name="L488"></a> 488 
<div class="comment">
      User-settable behavior: when to re-throw exceptions.
      @return if we throw an exception on warnings</div>
<a id="L494" name="L494"></a> 494     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/19471.html" title="Multiple referred from 2 places.">getThrowOnWarning</a>()
<a id="L495" name="L495"></a> 495     <em class="brace">{</em>
<a id="L496" name="L496"></a> 496         <strong class="reserved">return</strong> throwOnWarning;
<a id="L497" name="L497"></a> 497     <em class="brace">}</em>
<a id="L498" name="L498"></a> 498 
<div class="comment">
     /** If we should throw exception on warnings; default:false.  */</div>
<a id="L500" name="L500"></a> 500     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> throwOnWarning = <strong class="reserved">false</strong>;
<a id="L501" name="L501"></a> 501 
<a id="L502" name="L502"></a> 502 
<div class="comment">
      User-settable behavior: when to re-throw exceptions.
      <p>This allows per-instance configuration of
      ListingErrorHandlers.  You can ask us to either throw
      an exception when we're called for various warning /
      error / fatalErrors, or simply log them and continue.</p>
      <p>Note that the behavior of many parsers/transformers
      after an error is not necessarily defined!</p>
      @param b if we should throw an exception on errors</div>
<a id="L516" name="L516"></a> 516     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setThrowOnError(<strong class="reserved">boolean</strong> b)
<a id="L517" name="L517"></a> 517     <em class="brace">{</em>
<a id="L518" name="L518"></a> 518         throwOnError = b;
<a id="L519" name="L519"></a> 519     <em class="brace">}</em>
<a id="L520" name="L520"></a> 520 
<div class="comment">
      User-settable behavior: when to re-throw exceptions.
      @return if we throw an exception on errors</div>
<a id="L526" name="L526"></a> 526     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/19469.html" title="Multiple referred from 3 places.">getThrowOnError</a>()
<a id="L527" name="L527"></a> 527     <em class="brace">{</em>
<a id="L528" name="L528"></a> 528         <strong class="reserved">return</strong> throwOnError;
<a id="L529" name="L529"></a> 529     <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<div class="comment">
     /** If we should throw exception on errors; default:true.  */</div>
<a id="L532" name="L532"></a> 532     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> throwOnError = <strong class="reserved">true</strong>;
<a id="L533" name="L533"></a> 533 
<a id="L534" name="L534"></a> 534 
<div class="comment">
      User-settable behavior: when to re-throw exceptions.
      <p>This allows per-instance configuration of
      ListingErrorHandlers.  You can ask us to either throw
      an exception when we're called for various warning /
      error / fatalErrors, or simply log them and continue.</p>
      <p>Note that the behavior of many parsers/transformers
      after a fatalError is not necessarily defined, most
      products will probably barf if you continue.</p>
      @param b if we should throw an exception on fatalErrors</div>
<a id="L549" name="L549"></a> 549     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setThrowOnFatalError(<strong class="reserved">boolean</strong> b)
<a id="L550" name="L550"></a> 550     <em class="brace">{</em>
<a id="L551" name="L551"></a> 551         throwOnFatalError = b;
<a id="L552" name="L552"></a> 552     <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<div class="comment">
      User-settable behavior: when to re-throw exceptions.
      @return if we throw an exception on fatalErrors</div>
<a id="L559" name="L559"></a> 559     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/5883.html#L180" title="Referred from 180 in src/com/sun/org/apache/xml/internal/utils/ListingErrorHandler.java.">getThrowOnFatalError</a>()
<a id="L560" name="L560"></a> 560     <em class="brace">{</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">return</strong> throwOnFatalError;
<a id="L562" name="L562"></a> 562     <em class="brace">}</em>
<a id="L563" name="L563"></a> 563 
<div class="comment">
     /** If we should throw exception on fatalErrors; default:true.  */</div>
<a id="L565" name="L565"></a> 565     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> throwOnFatalError = <strong class="reserved">true</strong>;
<a id="L566" name="L566"></a> 566 
<a id="L567" name="L567"></a> 567 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L102">[^]</a><a href="#L559">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>