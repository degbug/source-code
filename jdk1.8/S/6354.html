<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L129">[^]</a><a href="#L451">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L129" title="Defined at 129.">entries</a></li>
<li><a href="#L137" title="Defined at 137.">communities</a></li>
<li><a href="#L159" title="Defined at 159.">getName</a></li>
<li><a href="#L168" title="Defined at 168.">getREAD</a></li>
<li><a href="#L177" title="Defined at 177.">getWRITE</a></li>
<li><a href="#L186" title="Defined at 186.">getDefaultAclFileName</a></li>
<li><a href="#L202" title="Defined at 202.">setAuthorizedListFile</a></li>
<li><a href="#L228" title="Defined at 228.">rereadTheFile</a></li>
<li><a href="#L245" title="Defined at 245.">getAuthorizedListFile</a></li>
<li><a href="#L256" title="Defined at 256.">checkReadPermission</a></li>
<li><a href="#L270" title="Defined at 270.">checkReadPermission</a></li>
<li><a href="#L283" title="Defined at 283.">checkCommunity</a></li>
<li><a href="#L294" title="Defined at 294.">checkWritePermission</a></li>
<li><a href="#L308" title="Defined at 308.">checkWritePermission</a></li>
<li><a href="#L319" title="Defined at 319.">getTrapDestinations</a></li>
<li><a href="#L330" title="Defined at 330.">getTrapCommunities</a></li>
<li><a href="#L353" title="Defined at 353.">getInformDestinations</a></li>
<li><a href="#L364" title="Defined at 364.">getInformCommunities</a></li>
<li><a href="#L385" title="Defined at 385.">readAuthorizedListFile</a></li>
<li><a href="#L451" title="Defined at 451.">setDefaultFileName</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2012, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">package</strong> com.sun.jmx.snmp.IPAcl;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 
<a id="L30" name="L30"></a>  30 
<a id="L31" name="L31"></a>  31 <em class="comment">// java import</em>
<a id="L32" name="L32"></a>  32 <em class="comment">//</em>
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.io.File;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.io.FileInputStream;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.io.FileNotFoundException;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.net.InetAddress;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.net.UnknownHostException;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.util.logging.Level;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.util.Vector;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.security.acl.AclEntry;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.security.acl.NotOwnerException;
<a id="L46" name="L46"></a>  46 
<a id="L47" name="L47"></a>  47 <em class="comment">// SNMP Runtime import</em>
<a id="L48" name="L48"></a>  48 <em class="comment">//</em>
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> static com.sun.jmx.defaults.JmxProperties.SNMP_LOGGER;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> com.sun.jmx.snmp.InetAddressAcl;
<a id="L51" name="L51"></a>  51 
<div class="comment">
  Defines an implementation of the {@link com.sun.jmx.snmp.InetAddressAcl InetAddressAcl} interface.
  <p>
  In this implementation the ACL information is stored on a flat file and
  its default location is "$JRE/lib/snmp.acl" - See
  {@link #getDefaultAclFileName()}
  </p><p>
  </p><ol>
  <p><b>This API is a Sun Microsystems internal API  and is subject
  to change without notice.</b></p></ol></div>
<a id="L64" name="L64"></a>  64 
<a id="L65" name="L65"></a>  65 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7332.html" title="Multiple referred from 18 places.">SnmpAcl</a> <strong class="reserved">implements</strong> <a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L66" name="L66"></a>  66     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -6702287103824397063L;
<a id="L67" name="L67"></a>  67 
<a id="L68" name="L68"></a>  68     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/6344.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/IPAcl/PermissionImpl.java.">PermissionImpl</a> READ  = <strong class="reserved">new</strong> <a href="../S/6344.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/IPAcl/PermissionImpl.java.">PermissionImpl</a>("READ");
<a id="L69" name="L69"></a>  69     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/6344.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/IPAcl/PermissionImpl.java.">PermissionImpl</a> WRITE = <strong class="reserved">new</strong> <a href="../S/6344.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/IPAcl/PermissionImpl.java.">PermissionImpl</a>("WRITE");
<a id="L70" name="L70"></a>  70 
<div class="comment">
      Constructs the Java Dynamic Management(TM) Access Control List
      based on IP addresses. The ACL will take the given owner name.
      The current IP address will be the owner of the ACL.
      @param Owner The name of the ACL Owner.
      @exception UnknownHostException If the local host is unknown.
      @exception IllegalArgumentException If the ACL file doesn't exist.</div>
<a id="L81" name="L81"></a>  81     <strong class="reserved">public</strong> SnmpAcl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1346.html#L40" title="Defined at 40 in src/java/security/acl/Owner.java.">Owner</a>)
<a id="L82" name="L82"></a>  82         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>, <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L83" name="L83"></a>  83         <strong class="reserved">this</strong>(<a href="../S/1346.html#L40" title="Defined at 40 in src/java/security/acl/Owner.java.">Owner</a>,<strong class="reserved">null</strong>);
<a id="L84" name="L84"></a>  84     <em class="brace">}</em>
<a id="L85" name="L85"></a>  85 
<div class="comment">
      Constructs the Java Dynamic Management(TM) Access Control List
      based on IP addresses. The ACL will take the given owner name.
      The current IP address will be the owner of the ACL.
      @param Owner The name of the ACL Owner.
      @param aclFileName The name of the ACL File.
      @exception UnknownHostException If the local host is unknown.
      @exception IllegalArgumentException If the ACL file doesn't exist.</div>
<a id="L97" name="L97"></a>  97     <strong class="reserved">public</strong> SnmpAcl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1346.html#L40" title="Defined at 40 in src/java/security/acl/Owner.java.">Owner</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> aclFileName)
<a id="L98" name="L98"></a>  98         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>, <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L99" name="L99"></a>  99         trapDestList= <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>, <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;&gt;();
<a id="L100" name="L100"></a> 100         informDestList= <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>, <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;&gt;();
<a id="L101" name="L101"></a> 101 
<a id="L102" name="L102"></a> 102         <em class="comment">// PrincipalImpl() take the current host as entry</em>
<a id="L103" name="L103"></a> 103         <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = <strong class="reserved">new</strong> <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a>();
<a id="L104" name="L104"></a> 104         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L105" name="L105"></a> 105             acl = <strong class="reserved">new</strong> <a href="../S/6332.html#L55" title="Defined at 55 in src/com/sun/jmx/snmp/IPAcl/AclImpl.java.">AclImpl</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>,<a href="../S/1346.html#L40" title="Defined at 40 in src/java/security/acl/Owner.java.">Owner</a>);
<a id="L106" name="L106"></a> 106             <a href="../D/296.html" title="Multiple defined in 2 places.">AclEntry</a> ownEntry = <strong class="reserved">new</strong> <a href="../S/6318.html#L49" title="Defined at 49 in src/com/sun/jmx/snmp/IPAcl/AclEntryImpl.java.">AclEntryImpl</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>);
<a id="L107" name="L107"></a> 107             ownEntry.<a href="../D/10997.html" title="Multiple defined in 2 places.">addPermission</a>(READ);
<a id="L108" name="L108"></a> 108             ownEntry.<a href="../D/10997.html" title="Multiple defined in 2 places.">addPermission</a>(WRITE);
<a id="L109" name="L109"></a> 109             acl.<a href="../D/10783.html" title="Multiple defined in 9 places.">addEntry</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>,ownEntry);
<a id="L110" name="L110"></a> 110         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1348.html#L35" title="Defined at 35 in src/java/security/acl/NotOwnerException.java.">NotOwnerException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L111" name="L111"></a> 111             <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L112" name="L112"></a> 112                 SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L113" name="L113"></a> 113                     "SnmpAcl(String,String)",
<a id="L114" name="L114"></a> 114                     "Should never get NotOwnerException as the owner " +
<a id="L115" name="L115"></a> 115                     "is built in this constructor");
<a id="L116" name="L116"></a> 116             <em class="brace">}</em>
<a id="L117" name="L117"></a> 117         <em class="brace">}</em>
<a id="L118" name="L118"></a> 118         <strong class="reserved">if</strong> (aclFileName == <strong class="reserved">null</strong>) <a href="../S/6354.html#L451" title="Defined at 451 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">setDefaultFileName</a>();
<a id="L119" name="L119"></a> 119         <strong class="reserved">else</strong> <a href="../S/6354.html#L202" title="Defined at 202 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">setAuthorizedListFile</a>(aclFileName);
<a id="L120" name="L120"></a> 120         <a href="../S/6354.html#L385" title="Defined at 385 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">readAuthorizedListFile</a>();
<a id="L121" name="L121"></a> 121     <em class="brace">}</em>
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Returns an enumeration of the entries in this ACL. Each element in the
      enumeration is of type <code>java.security.acl.AclEntry</code>.
      @return An enumeration of the entries in this ACL.</div>
<a id="L129" name="L129"></a> 129     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/296.html" title="Multiple defined in 2 places.">AclEntry</a>&gt; <a href="../R/13953.html" title="Multiple referred from 182 places.">entries</a>() <em class="brace">{</em>
<a id="L130" name="L130"></a> 130         <strong class="reserved">return</strong> acl.<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>();
<a id="L131" name="L131"></a> 131     <em class="brace">}</em>
<a id="L132" name="L132"></a> 132 
<div class="comment">
      Returns ann enumeration of community strings. Community strings are returned as String.
      @return The enumeration of community strings.</div>
<a id="L137" name="L137"></a> 137     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/11680.html" title="Multiple referred from 2 places.">communities</a>() <em class="brace">{</em>
<a id="L138" name="L138"></a> 138         <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;();
<a id="L139" name="L139"></a> 139         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; res = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;();
<a id="L140" name="L140"></a> 140         <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/296.html" title="Multiple defined in 2 places.">AclEntry</a>&gt; e = acl.<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>() ; e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() ;) <em class="brace">{</em>
<a id="L141" name="L141"></a> 141             <a href="../S/6318.html#L49" title="Defined at 49 in src/com/sun/jmx/snmp/IPAcl/AclEntryImpl.java.">AclEntryImpl</a> entry = (<a href="../S/6318.html#L49" title="Defined at 49 in src/com/sun/jmx/snmp/IPAcl/AclEntryImpl.java.">AclEntryImpl</a>) e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L142" name="L142"></a> 142             <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; cs = entry.<a href="../D/13021.html" title="Multiple defined in 2 places.">communities</a>();
<a id="L143" name="L143"></a> 143                  cs.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() ;) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144                 <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(cs.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>());
<a id="L145" name="L145"></a> 145             <em class="brace">}</em>
<a id="L146" name="L146"></a> 146         <em class="brace">}</em>
<a id="L147" name="L147"></a> 147         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] objs = <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[0]);
<a id="L148" name="L148"></a> 148         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; objs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++)
<a id="L149" name="L149"></a> 149             res.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(objs[i]);
<a id="L150" name="L150"></a> 150 
<a id="L151" name="L151"></a> 151         <strong class="reserved">return</strong> res.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L152" name="L152"></a> 152     <em class="brace">}</em>
<a id="L153" name="L153"></a> 153 
<div class="comment">
      Returns the name of the ACL.
      @return The name of the ACL.</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L160" name="L160"></a> 160         <strong class="reserved">return</strong> acl.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L161" name="L161"></a> 161     <em class="brace">}</em>
<a id="L162" name="L162"></a> 162 
<div class="comment">
      Returns the read permission instance used.
      @return The read permission instance.</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <a href="../S/6344.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/IPAcl/PermissionImpl.java.">PermissionImpl</a> <a href="../R/18574.html" title="Multiple referred from 2 places.">getREAD</a>() <em class="brace">{</em>
<a id="L169" name="L169"></a> 169         <strong class="reserved">return</strong> READ;
<a id="L170" name="L170"></a> 170     <em class="brace">}</em>
<a id="L171" name="L171"></a> 171 
<div class="comment">
      Returns the write permission instance used.
      @return  The write permission instance.</div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <a href="../S/6344.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/IPAcl/PermissionImpl.java.">PermissionImpl</a> <a href="../S/6334.html#L61" title="Referred from 61 in src/com/sun/jmx/snmp/IPAcl/JDMAccess.java.">getWRITE</a>() <em class="brace">{</em>
<a id="L178" name="L178"></a> 178         <strong class="reserved">return</strong> WRITE;
<a id="L179" name="L179"></a> 179     <em class="brace">}</em>
<a id="L180" name="L180"></a> 180 
<div class="comment">
      Get the default name for the ACL file.
      In this implementation this is "$JRE/lib/snmp.acl"
      @return The default name for the ACL file.
     *</div>
<a id="L186" name="L186"></a> 186     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6354.html#L453" title="Referred from 453 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">getDefaultAclFileName</a>() <em class="brace">{</em>
<a id="L187" name="L187"></a> 187         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fileSeparator =
<a id="L188" name="L188"></a> 188             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("file.separator");
<a id="L189" name="L189"></a> 189         <strong class="reserved">final</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> defaultAclName =
<a id="L190" name="L190"></a> 190             <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.home")).
<a id="L191" name="L191"></a> 191             <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(fileSeparator).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("lib").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(fileSeparator).
<a id="L192" name="L192"></a> 192             <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("snmp.acl");
<a id="L193" name="L193"></a> 193         <strong class="reserved">return</strong> defaultAclName.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L194" name="L194"></a> 194     <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<div class="comment">
      Sets the full path of the file containing the ACL information.
      @param filename The full path of the file containing the ACL information.
      @throws IllegalArgumentException If the passed ACL file doesn't exist.</div>
<a id="L202" name="L202"></a> 202     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26925.html" title="Multiple referred from 2 places.">setAuthorizedListFile</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filename)
<a id="L203" name="L203"></a> 203         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L204" name="L204"></a> 204         <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(filename);
<a id="L205" name="L205"></a> 205         <strong class="reserved">if</strong> (!<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../S/1433.html#L874" title="Defined at 874 in src/java/io/File.java.">isFile</a>() ) <em class="brace">{</em>
<a id="L206" name="L206"></a> 206             <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L207" name="L207"></a> 207                 SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L208" name="L208"></a> 208                     "setAuthorizedListFile", "ACL file not found: " + filename);
<a id="L209" name="L209"></a> 209             <em class="brace">}</em>
<a id="L210" name="L210"></a> 210             <strong class="reserved">throw</strong> <strong class="reserved">new</strong>
<a id="L211" name="L211"></a> 211                 <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The specified file ["+<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>+"] "+
<a id="L212" name="L212"></a> 212                                          "doesn't exist or is not a file, "+
<a id="L213" name="L213"></a> 213                                          "no configuration loaded");
<a id="L214" name="L214"></a> 214         <em class="brace">}</em>
<a id="L215" name="L215"></a> 215         <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216             SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L217" name="L217"></a> 217                 "setAuthorizedListFile", "Default file set to " + filename);
<a id="L218" name="L218"></a> 218         <em class="brace">}</em>
<a id="L219" name="L219"></a> 219         authorizedListFile = filename;
<a id="L220" name="L220"></a> 220     <em class="brace">}</em>
<a id="L221" name="L221"></a> 221 
<div class="comment">
      Resets this ACL to the values contained in the configuration file.
      @exception NotOwnerException If the principal attempting the reset is not an owner of this ACL.
      @exception UnknownHostException If IP addresses for hosts contained in the ACL file couldn't be found.</div>
<a id="L228" name="L228"></a> 228     <strong class="reserved">public</strong> <strong class="reserved">void</strong> rereadTheFile() <strong class="reserved">throws</strong> <a href="../S/1348.html#L35" title="Defined at 35 in src/java/security/acl/NotOwnerException.java.">NotOwnerException</a>, <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L229" name="L229"></a> 229         alwaysAuthorized = <strong class="reserved">false</strong>;
<a id="L230" name="L230"></a> 230         acl.<a href="../D/30685.html" title="Multiple defined in 45 places.">removeAll</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>);
<a id="L231" name="L231"></a> 231         trapDestList.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L232" name="L232"></a> 232         informDestList.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L233" name="L233"></a> 233         <a href="../D/296.html" title="Multiple defined in 2 places.">AclEntry</a> ownEntry = <strong class="reserved">new</strong> <a href="../S/6318.html#L49" title="Defined at 49 in src/com/sun/jmx/snmp/IPAcl/AclEntryImpl.java.">AclEntryImpl</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>);
<a id="L234" name="L234"></a> 234         ownEntry.<a href="../D/10997.html" title="Multiple defined in 2 places.">addPermission</a>(READ);
<a id="L235" name="L235"></a> 235         ownEntry.<a href="../D/10997.html" title="Multiple defined in 2 places.">addPermission</a>(WRITE);
<a id="L236" name="L236"></a> 236         acl.<a href="../D/10783.html" title="Multiple defined in 9 places.">addEntry</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>,ownEntry);
<a id="L237" name="L237"></a> 237         <a href="../S/6354.html#L385" title="Defined at 385 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">readAuthorizedListFile</a>();
<a id="L238" name="L238"></a> 238     <em class="brace">}</em>
<a id="L239" name="L239"></a> 239 
<div class="comment">
      Returns the full path of the file used to get ACL information.
      @return The full path of the file used to get ACL information.</div>
<a id="L245" name="L245"></a> 245     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6354.html#L399" title="Referred from 399 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">getAuthorizedListFile</a>() <em class="brace">{</em>
<a id="L246" name="L246"></a> 246         <strong class="reserved">return</strong> authorizedListFile;
<a id="L247" name="L247"></a> 247     <em class="brace">}</em>
<a id="L248" name="L248"></a> 248 
<div class="comment">
      Checks whether or not the specified host has <code>READ</code> access.
      @param address The host address to check.
      @return <code>true</code> if the host has read permission, <code>false</code> otherwise.</div>
<a id="L256" name="L256"></a> 256     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/6462.html#L822" title="Referred from 822 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">checkReadPermission</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257         <strong class="reserved">if</strong> (alwaysAuthorized) <strong class="reserved">return</strong> ( <strong class="reserved">true</strong> );
<a id="L258" name="L258"></a> 258         <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a> p = <strong class="reserved">new</strong> <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L259" name="L259"></a> 259         <strong class="reserved">return</strong> acl.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(p, READ);
<a id="L260" name="L260"></a> 260     <em class="brace">}</em>
<a id="L261" name="L261"></a> 261 
<div class="comment">
      Checks whether or not the specified host and community have <code>READ</code> access.
      @param address The host address to check.
      @param community The community associated with the host.
      @return <code>true</code> if the pair (host, community) has read permission, <code>false</code> otherwise.</div>
<a id="L270" name="L270"></a> 270     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/6462.html#L822" title="Referred from 822 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">checkReadPermission</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> community) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271         <strong class="reserved">if</strong> (alwaysAuthorized) <strong class="reserved">return</strong> ( <strong class="reserved">true</strong> );
<a id="L272" name="L272"></a> 272         <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a> p = <strong class="reserved">new</strong> <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L273" name="L273"></a> 273         <strong class="reserved">return</strong> acl.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(p, community, READ);
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<div class="comment">
      Checks whether or not a community string is defined.
      @param community The community to check.
      @return <code>true</code> if the community is known, <code>false</code> otherwise.</div>
<a id="L283" name="L283"></a> 283     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11120.html" title="Multiple referred from 4 places.">checkCommunity</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> community) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284         <strong class="reserved">return</strong> acl.<a href="../D/12406.html" title="Multiple defined in 4 places.">checkCommunity</a>(community);
<a id="L285" name="L285"></a> 285     <em class="brace">}</em>
<a id="L286" name="L286"></a> 286 
<div class="comment">
      Checks whether or not the specified host has <code>WRITE</code> access.
      @param address The host address to check.
      @return <code>true</code> if the host has write permission, <code>false</code> otherwise.</div>
<a id="L294" name="L294"></a> 294     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/6462.html#L801" title="Referred from 801 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">checkWritePermission</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295         <strong class="reserved">if</strong> (alwaysAuthorized) <strong class="reserved">return</strong> ( <strong class="reserved">true</strong> );
<a id="L296" name="L296"></a> 296         <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a> p = <strong class="reserved">new</strong> <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L297" name="L297"></a> 297         <strong class="reserved">return</strong> acl.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(p, WRITE);
<a id="L298" name="L298"></a> 298     <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<div class="comment">
      Checks whether or not the specified host and community have <code>WRITE</code> access.
      @param address The host address to check.
      @param community The community associated with the host.
      @return <code>true</code> if the pair (host, community) has write permission, <code>false</code> otherwise.</div>
<a id="L308" name="L308"></a> 308     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/6462.html#L801" title="Referred from 801 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">checkWritePermission</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> community) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309         <strong class="reserved">if</strong> (alwaysAuthorized) <strong class="reserved">return</strong> ( <strong class="reserved">true</strong> );
<a id="L310" name="L310"></a> 310         <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a> p = <strong class="reserved">new</strong> <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L311" name="L311"></a> 311         <strong class="reserved">return</strong> acl.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(p, community, WRITE);
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<div class="comment">
      Returns an enumeration of trap destinations.
      @return An enumeration of the trap destinations (enumeration of <code>InetAddress</code>).</div>
<a id="L319" name="L319"></a> 319     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>&gt; <a href="../S/6449.html#L2148" title="Referred from 2148 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">getTrapDestinations</a>() <em class="brace">{</em>
<a id="L320" name="L320"></a> 320         <strong class="reserved">return</strong> trapDestList.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L321" name="L321"></a> 321     <em class="brace">}</em>
<a id="L322" name="L322"></a> 322 
<div class="comment">
      Returns an enumeration of trap communities for a given host.
      @param i The address of the host.
      @return An enumeration of trap communities for a given host (enumeration of <code>String</code>).</div>
<a id="L330" name="L330"></a> 330     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/6449.html#L2151" title="Referred from 2151 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">getTrapCommunities</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> i) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">null</strong>;
<a id="L332" name="L332"></a> 332         <strong class="reserved">if</strong> ((<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = trapDestList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i)) != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333             <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334                 SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L335" name="L335"></a> 335                     "getTrapCommunities", "["+i.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()+"] is in list");
<a id="L336" name="L336"></a> 336             <em class="brace">}</em>
<a id="L337" name="L337"></a> 337             <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L338" name="L338"></a> 338         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L339" name="L339"></a> 339             <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L340" name="L340"></a> 340             <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                 SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L342" name="L342"></a> 342                     "getTrapCommunities", "["+i.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()+"] is not in list");
<a id="L343" name="L343"></a> 343             <em class="brace">}</em>
<a id="L344" name="L344"></a> 344             <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L345" name="L345"></a> 345         <em class="brace">}</em>
<a id="L346" name="L346"></a> 346     <em class="brace">}</em>
<a id="L347" name="L347"></a> 347 
<div class="comment">
      Returns an enumeration of inform destinations.
      @return An enumeration of the inform destinations (enumeration of <code>InetAddress</code>).</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>&gt; <a href="../S/6449.html#L2365" title="Referred from 2365 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">getInformDestinations</a>() <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <strong class="reserved">return</strong> informDestList.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L355" name="L355"></a> 355     <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Returns an enumeration of inform communities for a given host.
      @param i The address of the host.
      @return An enumeration of inform communities for a given host (enumeration of <code>String</code>).</div>
<a id="L364" name="L364"></a> 364     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/6449.html#L2368" title="Referred from 2368 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">getInformCommunities</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> i) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">null</strong>;
<a id="L366" name="L366"></a> 366         <strong class="reserved">if</strong> ((<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = informDestList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i)) != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367             <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368                 SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L369" name="L369"></a> 369                     "getInformCommunities", "["+i.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()+"] is in list");
<a id="L370" name="L370"></a> 370             <em class="brace">}</em>
<a id="L371" name="L371"></a> 371             <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L372" name="L372"></a> 372         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L373" name="L373"></a> 373             <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L374" name="L374"></a> 374             <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375                 SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L376" name="L376"></a> 376                     "getInformCommunities", "["+i.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()+"] is not in list");
<a id="L377" name="L377"></a> 377             <em class="brace">}</em>
<a id="L378" name="L378"></a> 378             <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 
<div class="comment">
      Converts the input configuration file into ACL.</div>
<a id="L385" name="L385"></a> 385     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25427.html" title="Multiple referred from 2 places.">readAuthorizedListFile</a>() <em class="brace">{</em>
<a id="L386" name="L386"></a> 386 
<a id="L387" name="L387"></a> 387         alwaysAuthorized = <strong class="reserved">false</strong>;
<a id="L388" name="L388"></a> 388 
<a id="L389" name="L389"></a> 389         <strong class="reserved">if</strong> (authorizedListFile == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390             <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391                 SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L392" name="L392"></a> 392                     "readAuthorizedListFile", "alwaysAuthorized set to true");
<a id="L393" name="L393"></a> 393             <em class="brace">}</em>
<a id="L394" name="L394"></a> 394             alwaysAuthorized = <strong class="reserved">true</strong> ;
<a id="L395" name="L395"></a> 395         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L396" name="L396"></a> 396             <em class="comment">// Read the file content</em>
<a id="L397" name="L397"></a> 397             <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> parser = <strong class="reserved">null</strong>;
<a id="L398" name="L398"></a> 398             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L399" name="L399"></a> 399                 parser= <strong class="reserved">new</strong> <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a>(<strong class="reserved">new</strong> <a href="../S/1386.html#L49" title="Defined at 49 in src/java/io/FileInputStream.java.">FileInputStream</a>(<a href="../S/6354.html#L245" title="Defined at 245 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">getAuthorizedListFile</a>()));
<a id="L400" name="L400"></a> 400             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1431.html#L43" title="Defined at 43 in src/java/io/FileNotFoundException.java.">FileNotFoundException</a> e) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401                 <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L402" name="L402"></a> 402                     SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L403" name="L403"></a> 403                             "readAuthorizedListFile",
<a id="L404" name="L404"></a> 404                             "The specified file was not found, authorize everybody");
<a id="L405" name="L405"></a> 405                 <em class="brace">}</em>
<a id="L406" name="L406"></a> 406                 alwaysAuthorized = <strong class="reserved">true</strong> ;
<a id="L407" name="L407"></a> 407                 <strong class="reserved">return</strong>;
<a id="L408" name="L408"></a> 408             <em class="brace">}</em>
<a id="L409" name="L409"></a> 409 
<a id="L410" name="L410"></a> 410             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                 <a href="../S/6333.html#L31" title="Defined at 31 in src/com/sun/jmx/snmp/IPAcl/JDMSecurityDefs.java.">JDMSecurityDefs</a> n = parser.<a href="../S/6321.html#L37" title="Defined at 37 in src/com/sun/jmx/snmp/IPAcl/Parser.java.">SecurityDefs</a>();
<a id="L412" name="L412"></a> 412                 n.<a href="../D/11932.html" title="Multiple defined in 4 places.">buildAclEntries</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>, acl);
<a id="L413" name="L413"></a> 413                 n.<a href="../D/11977.html" title="Multiple defined in 4 places.">buildTrapEntries</a>(trapDestList);
<a id="L414" name="L414"></a> 414                 n.<a href="../D/11956.html" title="Multiple defined in 4 places.">buildInformEntries</a>(informDestList);
<a id="L415" name="L415"></a> 415             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> e) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416                 <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417                     SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L418" name="L418"></a> 418                         "readAuthorizedListFile", "Got parsing exception", e);
<a id="L419" name="L419"></a> 419                 <em class="brace">}</em>
<a id="L420" name="L420"></a> 420                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L421" name="L421"></a> 421             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a> err) <em class="brace">{</em>
<a id="L422" name="L422"></a> 422                 <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L423" name="L423"></a> 423                     SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L424" name="L424"></a> 424                         "readAuthorizedListFile", "Got unexpected error", err);
<a id="L425" name="L425"></a> 425                 <em class="brace">}</em>
<a id="L426" name="L426"></a> 426                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(err.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L427" name="L427"></a> 427             <em class="brace">}</em>
<a id="L428" name="L428"></a> 428 
<a id="L429" name="L429"></a> 429             <strong class="reserved">for</strong>(<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/296.html" title="Multiple defined in 2 places.">AclEntry</a>&gt; e = acl.<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>(); e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>();) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430                 <a href="../S/6318.html#L49" title="Defined at 49 in src/com/sun/jmx/snmp/IPAcl/AclEntryImpl.java.">AclEntryImpl</a> aa = (<a href="../S/6318.html#L49" title="Defined at 49 in src/com/sun/jmx/snmp/IPAcl/AclEntryImpl.java.">AclEntryImpl</a>) e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L431" name="L431"></a> 431                 <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432                     SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L433" name="L433"></a> 433                             "readAuthorizedListFile",
<a id="L434" name="L434"></a> 434                             "===&gt; " + aa.<a href="../D/21662.html" title="Multiple defined in 14 places.">getPrincipal</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L435" name="L435"></a> 435                 <em class="brace">}</em>
<a id="L436" name="L436"></a> 436                 <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.acl.<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; eee = aa.<a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>();eee.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>();) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437                     <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.acl.<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> perm = eee.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L438" name="L438"></a> 438                     <strong class="reserved">if</strong> (SNMP_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                         SNMP_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L440" name="L440"></a> 440                                 "readAuthorizedListFile", "perm = " + perm);
<a id="L441" name="L441"></a> 441                     <em class="brace">}</em>
<a id="L442" name="L442"></a> 442                 <em class="brace">}</em>
<a id="L443" name="L443"></a> 443             <em class="brace">}</em>
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445     <em class="brace">}</em>
<a id="L446" name="L446"></a> 446 
<div class="comment">
      Set the default full path for "snmp.acl" input file.
      Do not complain if the file does not exists.</div>
<a id="L451" name="L451"></a> 451     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/6354.html#L118" title="Referred from 118 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">setDefaultFileName</a>() <em class="brace">{</em>
<a id="L452" name="L452"></a> 452         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L453" name="L453"></a> 453             <a href="../S/6354.html#L202" title="Defined at 202 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">setAuthorizedListFile</a>(<a href="../S/6354.html#L186" title="Defined at 186 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">getDefaultAclFileName</a>());
<a id="L454" name="L454"></a> 454         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             <em class="comment">// OK...</em>
<a id="L456" name="L456"></a> 456         <em class="brace">}</em>
<a id="L457" name="L457"></a> 457     <em class="brace">}</em>
<a id="L458" name="L458"></a> 458 
<a id="L459" name="L459"></a> 459 
<a id="L460" name="L460"></a> 460     <em class="comment">// PRIVATE VARIABLES</em>
<a id="L461" name="L461"></a> 461     <em class="comment">//------------------</em>
<a id="L462" name="L462"></a> 462 
<div class="comment">
      Represents the Access Control List.</div>
<a id="L466" name="L466"></a> 466     <strong class="reserved">private</strong> <a href="../S/6332.html#L55" title="Defined at 55 in src/com/sun/jmx/snmp/IPAcl/AclImpl.java.">AclImpl</a> acl = <strong class="reserved">null</strong>;
<div class="comment">
      Flag indicating whether the access is always authorized.
      <br>This is the case if there is no flat file defined.</div>
<a id="L471" name="L471"></a> 471     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> alwaysAuthorized = <strong class="reserved">false</strong>;
<div class="comment">
      Represents the Access Control List flat file.</div>
<a id="L475" name="L475"></a> 475     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authorizedListFile = <strong class="reserved">null</strong>;
<div class="comment">
      Contains the hosts list for trap destination.</div>
<a id="L479" name="L479"></a> 479     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>, <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;&gt; trapDestList = <strong class="reserved">null</strong>;
<div class="comment">
      Contains the hosts list for inform destination.</div>
<a id="L483" name="L483"></a> 483     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>, <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;&gt; informDestList = <strong class="reserved">null</strong>;
<a id="L484" name="L484"></a> 484 
<a id="L485" name="L485"></a> 485     <strong class="reserved">private</strong> <a href="../D/6818.html" title="Multiple defined in 2 places.">PrincipalImpl</a> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = <strong class="reserved">null</strong>;
<a id="L486" name="L486"></a> 486 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L129">[^]</a><a href="#L451">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>