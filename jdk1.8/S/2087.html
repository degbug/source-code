<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/TexturePaintContext.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L69">[^]</a><a href="#L754">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L69" title="Defined at 69.">getContext</a></li>
<li><a href="#L103" title="Defined at 103.">isFilterableICM</a></li>
<li><a href="#L113" title="Defined at 113.">isFilterableDCM</a></li>
<li><a href="#L124" title="Defined at 124.">isMaskOK</a></li>
<li><a href="#L134" title="Defined at 134.">getInternedColorModel</a></li>
<li><a href="#L173" title="Defined at 173.">fractAsInt</a></li>
<li><a href="#L177" title="Defined at 177.">mod</a></li>
<li><a href="#L197" title="Defined at 197.">dispose</a></li>
<li><a href="#L204" title="Defined at 204.">getColorModel</a></li>
<li><a href="#L214" title="Defined at 214.">getRaster</a></li>
<li><a href="#L240" title="Defined at 240.">makeRaster</a></li>
<li><a href="#L276" title="Defined at 276.">dropRaster</a></li>
<li><a href="#L289" title="Defined at 289.">makeByteRaster</a></li>
<li><a href="#L306" title="Defined at 306.">dropByteRaster</a></li>
<li><a href="#L313" title="Defined at 313.">makeRaster</a></li>
<li><a href="#L314" title="Defined at 314.">setRaster</a></li>
<li><a href="#L338" title="Defined at 338.">blend</a></li>
<li><a href="#L394" title="Defined at 394.">makeRaster</a></li>
<li><a href="#L403" title="Defined at 403.">setRaster</a></li>
<li><a href="#L528" title="Defined at 528.">makeRaster</a></li>
<li><a href="#L537" title="Defined at 537.">dispose</a></li>
<li><a href="#L541" title="Defined at 541.">setRaster</a></li>
<li><a href="#L653" title="Defined at 653.">makeRaster</a></li>
<li><a href="#L664" title="Defined at 664.">setRaster</a></li>
<li><a href="#L750" title="Defined at 750.">makeRaster</a></li>
<li><a href="#L754" title="Defined at 754.">setRaster</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.image.BufferedImage;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.image.Raster;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.image.WritableRaster;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.awt.image.ColorModel;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.awt.image.DirectColorModel;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.awt.image.IndexColorModel;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.awt.geom.AffineTransform;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.awt.geom.NoninvertibleTransformException;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> sun.awt.image.SunWritableRaster;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> sun.awt.image.IntegerInterleavedRaster;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> sun.awt.image.ByteInterleavedRaster;
<a id="L40" name="L40"></a>  40 
<a id="L41" name="L41"></a>  41 <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/8120.html" title="Multiple referred from 8 places.">TexturePaintContext</a> <strong class="reserved">implements</strong> <a href="../D/6571.html" title="Multiple defined in 2 places.">PaintContext</a> <em class="brace">{</em>
<a id="L42" name="L42"></a>  42     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> xrgbmodel =
<a id="L43" name="L43"></a>  43         <strong class="reserved">new</strong> <a href="../S/2270.html#L109" title="Defined at 109 in src/java/awt/image/DirectColorModel.java.">DirectColorModel</a>(24, 0xff0000, 0xff00, 0xff);
<a id="L44" name="L44"></a>  44     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> argbmodel = <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../S/2256.html#L240" title="Defined at 240 in src/java/awt/image/ColorModel.java.">getRGBdefault</a>();
<a id="L45" name="L45"></a>  45 
<a id="L46" name="L46"></a>  46     <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> colorModel;
<a id="L47" name="L47"></a>  47     <strong class="reserved">int</strong> bWidth;
<a id="L48" name="L48"></a>  48     <strong class="reserved">int</strong> bHeight;
<a id="L49" name="L49"></a>  49     <strong class="reserved">int</strong> maxWidth;
<a id="L50" name="L50"></a>  50 
<a id="L51" name="L51"></a>  51     <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> outRas;
<a id="L52" name="L52"></a>  52 
<a id="L53" name="L53"></a>  53     <strong class="reserved">double</strong> xOrg;
<a id="L54" name="L54"></a>  54     <strong class="reserved">double</strong> yOrg;
<a id="L55" name="L55"></a>  55     <strong class="reserved">double</strong> incXAcross;
<a id="L56" name="L56"></a>  56     <strong class="reserved">double</strong> incYAcross;
<a id="L57" name="L57"></a>  57     <strong class="reserved">double</strong> incXDown;
<a id="L58" name="L58"></a>  58     <strong class="reserved">double</strong> incYDown;
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60     <strong class="reserved">int</strong> colincx;
<a id="L61" name="L61"></a>  61     <strong class="reserved">int</strong> colincy;
<a id="L62" name="L62"></a>  62     <strong class="reserved">int</strong> colincxerr;
<a id="L63" name="L63"></a>  63     <strong class="reserved">int</strong> colincyerr;
<a id="L64" name="L64"></a>  64     <strong class="reserved">int</strong> rowincx;
<a id="L65" name="L65"></a>  65     <strong class="reserved">int</strong> rowincy;
<a id="L66" name="L66"></a>  66     <strong class="reserved">int</strong> rowincxerr;
<a id="L67" name="L67"></a>  67     <strong class="reserved">int</strong> rowincyerr;
<a id="L68" name="L68"></a>  68 
<a id="L69" name="L69"></a>  69     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6571.html" title="Multiple defined in 2 places.">PaintContext</a> <a href="../R/15801.html" title="Multiple referred from 401 places.">getContext</a>(<a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> bufImg,
<a id="L70" name="L70"></a>  70                                           <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform,
<a id="L71" name="L71"></a>  71                                           <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> hints,
<a id="L72" name="L72"></a>  72                                           <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> devBounds) <em class="brace">{</em>
<a id="L73" name="L73"></a>  73         <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> raster = bufImg.<a href="../D/21845.html" title="Multiple defined in 8 places.">getRaster</a>();
<a id="L74" name="L74"></a>  74         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm = bufImg.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>();
<a id="L75" name="L75"></a>  75         <strong class="reserved">int</strong> maxw = devBounds.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L76" name="L76"></a>  76         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = hints.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.KEY_INTERPOLATION);
<a id="L77" name="L77"></a>  77         <strong class="reserved">boolean</strong> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> =
<a id="L78" name="L78"></a>  78             (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> == <strong class="reserved">null</strong>
<a id="L79" name="L79"></a>  79              ? (hints.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.KEY_RENDERING) == <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.VALUE_RENDER_QUALITY)
<a id="L80" name="L80"></a>  80              : (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> != <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.VALUE_INTERPOLATION_NEAREST_NEIGHBOR));
<a id="L81" name="L81"></a>  81         <strong class="reserved">if</strong> (raster <strong class="reserved">instanceof</strong> IntegerInterleavedRaster &amp;&amp;
<a id="L82" name="L82"></a>  82             (!<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> || <a href="../S/2087.html#L113" title="Defined at 113 in src/java/awt/TexturePaintContext.java.">isFilterableDCM</a>(cm)))
<a id="L83" name="L83"></a>  83         <em class="brace">{</em>
<a id="L84" name="L84"></a>  84             IntegerInterleavedRaster iir = (IntegerInterleavedRaster) raster;
<a id="L85" name="L85"></a>  85             <strong class="reserved">if</strong> (iir.<a href="../D/21062.html" title="Multiple defined in 5 places.">getNumDataElements</a>() == 1 &amp;&amp; iir.<a href="../S/2254.html#L549" title="Defined at 549 in src/java/awt/image/ComponentSampleModel.java.">getPixelStride</a>() == 1) <em class="brace">{</em>
<a id="L86" name="L86"></a>  86                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2087.html#L373" title="Defined at 373 in src/java/awt/TexturePaintContext.java.">Int</a>(iir, cm, xform, maxw, <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>);
<a id="L87" name="L87"></a>  87             <em class="brace">}</em>
<a id="L88" name="L88"></a>  88         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (raster <strong class="reserved">instanceof</strong> ByteInterleavedRaster) <em class="brace">{</em>
<a id="L89" name="L89"></a>  89             ByteInterleavedRaster bir = (ByteInterleavedRaster) raster;
<a id="L90" name="L90"></a>  90             <strong class="reserved">if</strong> (bir.<a href="../D/21062.html" title="Multiple defined in 5 places.">getNumDataElements</a>() == 1 &amp;&amp; bir.<a href="../S/2254.html#L549" title="Defined at 549 in src/java/awt/image/ComponentSampleModel.java.">getPixelStride</a>() == 1) <em class="brace">{</em>
<a id="L91" name="L91"></a>  91                 <strong class="reserved">if</strong> (<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>) <em class="brace">{</em>
<a id="L92" name="L92"></a>  92                     <strong class="reserved">if</strong> (<a href="../S/2087.html#L103" title="Defined at 103 in src/java/awt/TexturePaintContext.java.">isFilterableICM</a>(cm)) <em class="brace">{</em>
<a id="L93" name="L93"></a>  93                         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2087.html#L629" title="Defined at 629 in src/java/awt/TexturePaintContext.java.">ByteFilter</a>(bir, cm, xform, maxw);
<a id="L94" name="L94"></a>  94                     <em class="brace">}</em>
<a id="L95" name="L95"></a>  95                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L96" name="L96"></a>  96                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/1038.html" title="Multiple defined in 2 places.">Byte</a>(bir, cm, xform, maxw);
<a id="L97" name="L97"></a>  97                 <em class="brace">}</em>
<a id="L98" name="L98"></a>  98             <em class="brace">}</em>
<a id="L99" name="L99"></a>  99         <em class="brace">}</em>
<a id="L100" name="L100"></a> 100         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>(raster, cm, xform, maxw, <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>);
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/2087.html#L92" title="Referred from 92 in src/java/awt/TexturePaintContext.java.">isFilterableICM</a>(<a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm) <em class="brace">{</em>
<a id="L104" name="L104"></a> 104         <strong class="reserved">if</strong> (cm <strong class="reserved">instanceof</strong> <a href="../S/2242.html#L125" title="Defined at 125 in src/java/awt/image/IndexColorModel.java.">IndexColorModel</a>) <em class="brace">{</em>
<a id="L105" name="L105"></a> 105             <a href="../S/2242.html#L125" title="Defined at 125 in src/java/awt/image/IndexColorModel.java.">IndexColorModel</a> icm = (<a href="../S/2242.html#L125" title="Defined at 125 in src/java/awt/image/IndexColorModel.java.">IndexColorModel</a>) cm;
<a id="L106" name="L106"></a> 106             <strong class="reserved">if</strong> (icm.<a href="../S/2242.html#L637" title="Defined at 637 in src/java/awt/image/IndexColorModel.java.">getMapSize</a>() &lt;= 256) <em class="brace">{</em>
<a id="L107" name="L107"></a> 107                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L108" name="L108"></a> 108             <em class="brace">}</em>
<a id="L109" name="L109"></a> 109         <em class="brace">}</em>
<a id="L110" name="L110"></a> 110         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L111" name="L111"></a> 111     <em class="brace">}</em>
<a id="L112" name="L112"></a> 112 
<a id="L113" name="L113"></a> 113     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/2087.html#L82" title="Referred from 82 in src/java/awt/TexturePaintContext.java.">isFilterableDCM</a>(<a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm) <em class="brace">{</em>
<a id="L114" name="L114"></a> 114         <strong class="reserved">if</strong> (cm <strong class="reserved">instanceof</strong> <a href="../S/2270.html#L109" title="Defined at 109 in src/java/awt/image/DirectColorModel.java.">DirectColorModel</a>) <em class="brace">{</em>
<a id="L115" name="L115"></a> 115             <a href="../S/2270.html#L109" title="Defined at 109 in src/java/awt/image/DirectColorModel.java.">DirectColorModel</a> dcm = (<a href="../S/2270.html#L109" title="Defined at 109 in src/java/awt/image/DirectColorModel.java.">DirectColorModel</a>) cm;
<a id="L116" name="L116"></a> 116             <strong class="reserved">return</strong> (<a href="../S/2087.html#L124" title="Defined at 124 in src/java/awt/TexturePaintContext.java.">isMaskOK</a>(dcm.<a href="../S/2270.html#L299" title="Defined at 299 in src/java/awt/image/DirectColorModel.java.">getAlphaMask</a>(), <strong class="reserved">true</strong>) &amp;&amp;
<a id="L117" name="L117"></a> 117                     <a href="../S/2087.html#L124" title="Defined at 124 in src/java/awt/TexturePaintContext.java.">isMaskOK</a>(dcm.<a href="../S/2270.html#L269" title="Defined at 269 in src/java/awt/image/DirectColorModel.java.">getRedMask</a>(), <strong class="reserved">false</strong>) &amp;&amp;
<a id="L118" name="L118"></a> 118                     <a href="../S/2087.html#L124" title="Defined at 124 in src/java/awt/TexturePaintContext.java.">isMaskOK</a>(dcm.<a href="../S/2270.html#L279" title="Defined at 279 in src/java/awt/image/DirectColorModel.java.">getGreenMask</a>(), <strong class="reserved">false</strong>) &amp;&amp;
<a id="L119" name="L119"></a> 119                     <a href="../S/2087.html#L124" title="Defined at 124 in src/java/awt/TexturePaintContext.java.">isMaskOK</a>(dcm.<a href="../S/2270.html#L289" title="Defined at 289 in src/java/awt/image/DirectColorModel.java.">getBlueMask</a>(), <strong class="reserved">false</strong>));
<a id="L120" name="L120"></a> 120         <em class="brace">}</em>
<a id="L121" name="L121"></a> 121         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L122" name="L122"></a> 122     <em class="brace">}</em>
<a id="L123" name="L123"></a> 123 
<a id="L124" name="L124"></a> 124     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21715.html" title="Multiple referred from 4 places.">isMaskOK</a>(<strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>, <strong class="reserved">boolean</strong> canbezero) <em class="brace">{</em>
<a id="L125" name="L125"></a> 125         <strong class="reserved">if</strong> (canbezero &amp;&amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == 0) <em class="brace">{</em>
<a id="L126" name="L126"></a> 126             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L127" name="L127"></a> 127         <em class="brace">}</em>
<a id="L128" name="L128"></a> 128         <strong class="reserved">return</strong> (<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == 0xff ||
<a id="L129" name="L129"></a> 129                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == 0xff00 ||
<a id="L130" name="L130"></a> 130                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == 0xff0000 ||
<a id="L131" name="L131"></a> 131                 <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> == 0xff000000);
<a id="L132" name="L132"></a> 132     <em class="brace">}</em>
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> <a href="../S/2087.html#L146" title="Referred from 146 in src/java/awt/TexturePaintContext.java.">getInternedColorModel</a>(<a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm) <em class="brace">{</em>
<a id="L135" name="L135"></a> 135         <strong class="reserved">if</strong> (xrgbmodel == cm || xrgbmodel.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(cm)) <em class="brace">{</em>
<a id="L136" name="L136"></a> 136             <strong class="reserved">return</strong> xrgbmodel;
<a id="L137" name="L137"></a> 137         <em class="brace">}</em>
<a id="L138" name="L138"></a> 138         <strong class="reserved">if</strong> (argbmodel == cm || argbmodel.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(cm)) <em class="brace">{</em>
<a id="L139" name="L139"></a> 139             <strong class="reserved">return</strong> argbmodel;
<a id="L140" name="L140"></a> 140         <em class="brace">}</em>
<a id="L141" name="L141"></a> 141         <strong class="reserved">return</strong> cm;
<a id="L142" name="L142"></a> 142     <em class="brace">}</em>
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144     TexturePaintContext(<a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm, <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform,
<a id="L145" name="L145"></a> 145                         <strong class="reserved">int</strong> bWidth, <strong class="reserved">int</strong> bHeight, <strong class="reserved">int</strong> maxw) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146         <strong class="reserved">this</strong>.colorModel = <a href="../S/2087.html#L134" title="Defined at 134 in src/java/awt/TexturePaintContext.java.">getInternedColorModel</a>(cm);
<a id="L147" name="L147"></a> 147         <strong class="reserved">this</strong>.bWidth = bWidth;
<a id="L148" name="L148"></a> 148         <strong class="reserved">this</strong>.bHeight = bHeight;
<a id="L149" name="L149"></a> 149         <strong class="reserved">this</strong>.maxWidth = maxw;
<a id="L150" name="L150"></a> 150 
<a id="L151" name="L151"></a> 151         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L152" name="L152"></a> 152             xform = xform.<a href="../S/2328.html#L2656" title="Defined at 2656 in src/java/awt/geom/AffineTransform.java.">createInverse</a>();
<a id="L153" name="L153"></a> 153         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2332.html#L35" title="Defined at 35 in src/java/awt/geom/NoninvertibleTransformException.java.">NoninvertibleTransformException</a> e) <em class="brace">{</em>
<a id="L154" name="L154"></a> 154             xform.<a href="../S/2328.html#L2122" title="Defined at 2122 in src/java/awt/geom/AffineTransform.java.">setToScale</a>(0, 0);
<a id="L155" name="L155"></a> 155         <em class="brace">}</em>
<a id="L156" name="L156"></a> 156         <strong class="reserved">this</strong>.incXAcross = <a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(xform.<a href="../S/2328.html#L1170" title="Defined at 1170 in src/java/awt/geom/AffineTransform.java.">getScaleX</a>(), bWidth);
<a id="L157" name="L157"></a> 157         <strong class="reserved">this</strong>.incYAcross = <a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(xform.<a href="../S/2328.html#L1206" title="Defined at 1206 in src/java/awt/geom/AffineTransform.java.">getShearY</a>(), bHeight);
<a id="L158" name="L158"></a> 158         <strong class="reserved">this</strong>.incXDown = <a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(xform.<a href="../S/2328.html#L1194" title="Defined at 1194 in src/java/awt/geom/AffineTransform.java.">getShearX</a>(), bWidth);
<a id="L159" name="L159"></a> 159         <strong class="reserved">this</strong>.incYDown = <a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(xform.<a href="../S/2328.html#L1182" title="Defined at 1182 in src/java/awt/geom/AffineTransform.java.">getScaleY</a>(), bHeight);
<a id="L160" name="L160"></a> 160         <strong class="reserved">this</strong>.xOrg = xform.<a href="../S/2328.html#L1218" title="Defined at 1218 in src/java/awt/geom/AffineTransform.java.">getTranslateX</a>();
<a id="L161" name="L161"></a> 161         <strong class="reserved">this</strong>.yOrg = xform.<a href="../S/2328.html#L1230" title="Defined at 1230 in src/java/awt/geom/AffineTransform.java.">getTranslateY</a>();
<a id="L162" name="L162"></a> 162         <strong class="reserved">this</strong>.colincx = (<strong class="reserved">int</strong>) incXAcross;
<a id="L163" name="L163"></a> 163         <strong class="reserved">this</strong>.colincy = (<strong class="reserved">int</strong>) incYAcross;
<a id="L164" name="L164"></a> 164         <strong class="reserved">this</strong>.colincxerr = <a href="../S/2087.html#L173" title="Defined at 173 in src/java/awt/TexturePaintContext.java.">fractAsInt</a>(incXAcross);
<a id="L165" name="L165"></a> 165         <strong class="reserved">this</strong>.colincyerr = <a href="../S/2087.html#L173" title="Defined at 173 in src/java/awt/TexturePaintContext.java.">fractAsInt</a>(incYAcross);
<a id="L166" name="L166"></a> 166         <strong class="reserved">this</strong>.rowincx = (<strong class="reserved">int</strong>) incXDown;
<a id="L167" name="L167"></a> 167         <strong class="reserved">this</strong>.rowincy = (<strong class="reserved">int</strong>) incYDown;
<a id="L168" name="L168"></a> 168         <strong class="reserved">this</strong>.rowincxerr = <a href="../S/2087.html#L173" title="Defined at 173 in src/java/awt/TexturePaintContext.java.">fractAsInt</a>(incXDown);
<a id="L169" name="L169"></a> 169         <strong class="reserved">this</strong>.rowincyerr = <a href="../S/2087.html#L173" title="Defined at 173 in src/java/awt/TexturePaintContext.java.">fractAsInt</a>(incYDown);
<a id="L170" name="L170"></a> 170 
<a id="L171" name="L171"></a> 171     <em class="brace">}</em>
<a id="L172" name="L172"></a> 172 
<a id="L173" name="L173"></a> 173     <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/14781.html" title="Multiple referred from 5 places.">fractAsInt</a>(<strong class="reserved">double</strong> d) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>) ((d % 1.0) * <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L175" name="L175"></a> 175     <em class="brace">}</em>
<a id="L176" name="L176"></a> 176 
<a id="L177" name="L177"></a> 177     <strong class="reserved">static</strong> <strong class="reserved">double</strong> <a href="../R/23319.html" title="Multiple referred from 147 places.">mod</a>(<strong class="reserved">double</strong> <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>, <strong class="reserved">double</strong> den) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178         <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> = <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> % den;
<a id="L179" name="L179"></a> 179         <strong class="reserved">if</strong> (<a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> &lt; 0) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180             <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> += den;
<a id="L181" name="L181"></a> 181             <strong class="reserved">if</strong> (<a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> &gt;= den) <em class="brace">{</em>
<a id="L182" name="L182"></a> 182                 <em class="comment">// For very small negative numerators, the answer might</em>
<a id="L183" name="L183"></a> 183                 <em class="comment">// be such a tiny bit less than den that the difference</em>
<a id="L184" name="L184"></a> 184                 <em class="comment">// is smaller than the mantissa of a double allows and</em>
<a id="L185" name="L185"></a> 185                 <em class="comment">// the result would then be rounded to den.  If that is</em>
<a id="L186" name="L186"></a> 186                 <em class="comment">// the case then we map that number to 0 as the nearest</em>
<a id="L187" name="L187"></a> 187                 <em class="comment">// modulus representation.</em>
<a id="L188" name="L188"></a> 188                 <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> = 0;
<a id="L189" name="L189"></a> 189             <em class="brace">}</em>
<a id="L190" name="L190"></a> 190         <em class="brace">}</em>
<a id="L191" name="L191"></a> 191         <strong class="reserved">return</strong> <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>;
<a id="L192" name="L192"></a> 192     <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<div class="comment">
      Release the resources allocated for the operation.</div>
<a id="L197" name="L197"></a> 197     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13337.html" title="Multiple referred from 363 places.">dispose</a>() <em class="brace">{</em>
<a id="L198" name="L198"></a> 198         <a href="../S/2087.html#L276" title="Defined at 276 in src/java/awt/TexturePaintContext.java.">dropRaster</a>(colorModel, outRas);
<a id="L199" name="L199"></a> 199     <em class="brace">}</em>
<a id="L200" name="L200"></a> 200 
<div class="comment">
      Return the ColorModel of the output.</div>
<a id="L204" name="L204"></a> 204     <strong class="reserved">public</strong> <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> <a href="../R/15661.html" title="Multiple referred from 76 places.">getColorModel</a>() <em class="brace">{</em>
<a id="L205" name="L205"></a> 205         <strong class="reserved">return</strong> colorModel;
<a id="L206" name="L206"></a> 206     <em class="brace">}</em>
<a id="L207" name="L207"></a> 207 
<div class="comment">
      Return a Raster containing the colors generated for the graphics
      operation.
      @param x,y,w,h The area in device space for which colors are
      generated.</div>
<a id="L214" name="L214"></a> 214     <strong class="reserved">public</strong> <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> <a href="../R/18595.html" title="Multiple referred from 41 places.">getRaster</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L215" name="L215"></a> 215         <strong class="reserved">if</strong> (outRas == <strong class="reserved">null</strong> ||
<a id="L216" name="L216"></a> 216             outRas.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &lt; w ||
<a id="L217" name="L217"></a> 217             outRas.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &lt; h)
<a id="L218" name="L218"></a> 218         <em class="brace">{</em>
<a id="L219" name="L219"></a> 219             <em class="comment">// If h==1, we will probably get lots of "scanline" rects</em>
<a id="L220" name="L220"></a> 220             outRas = <a href="../D/27376.html" title="Multiple defined in 6 places.">makeRaster</a>((h == 1 ? <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(w, maxWidth) : w), h);
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222         <strong class="reserved">double</strong> X = <a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(xOrg + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> * incXAcross + y * incXDown, bWidth);
<a id="L223" name="L223"></a> 223         <strong class="reserved">double</strong> Y = <a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(yOrg + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> * incYAcross + y * incYDown, bHeight);
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225         <a href="../D/33654.html" title="Multiple defined in 6 places.">setRaster</a>((<strong class="reserved">int</strong>) X, (<strong class="reserved">int</strong>) Y, <a href="../S/2087.html#L173" title="Defined at 173 in src/java/awt/TexturePaintContext.java.">fractAsInt</a>(X), <a href="../S/2087.html#L173" title="Defined at 173 in src/java/awt/TexturePaintContext.java.">fractAsInt</a>(Y),
<a id="L226" name="L226"></a> 226                   w, h, bWidth, bHeight,
<a id="L227" name="L227"></a> 227                   colincx, colincxerr,
<a id="L228" name="L228"></a> 228                   colincy, colincyerr,
<a id="L229" name="L229"></a> 229                   rowincx, rowincxerr,
<a id="L230" name="L230"></a> 230                   rowincy, rowincyerr);
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232         SunWritableRaster.markDirty(outRas);
<a id="L233" name="L233"></a> 233 
<a id="L234" name="L234"></a> 234         <strong class="reserved">return</strong> outRas;
<a id="L235" name="L235"></a> 235     <em class="brace">}</em>
<a id="L236" name="L236"></a> 236 
<a id="L237" name="L237"></a> 237     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a>&gt; xrgbRasRef;
<a id="L238" name="L238"></a> 238     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a>&gt; argbRasRef;
<a id="L239" name="L239"></a> 239 
<a id="L240" name="L240"></a> 240     <strong class="reserved">synchronized</strong> <strong class="reserved">static</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/22980.html" title="Multiple referred from 4 places.">makeRaster</a>(<a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm,
<a id="L241" name="L241"></a> 241                                                   <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> srcRas,
<a id="L242" name="L242"></a> 242                                                   <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h)
<a id="L243" name="L243"></a> 243     <em class="brace">{</em>
<a id="L244" name="L244"></a> 244         <strong class="reserved">if</strong> (xrgbmodel == cm) <em class="brace">{</em>
<a id="L245" name="L245"></a> 245             <strong class="reserved">if</strong> (xrgbRasRef != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L246" name="L246"></a> 246                 <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> wr = (<a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a>) xrgbRasRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L247" name="L247"></a> 247                 <strong class="reserved">if</strong> (wr != <strong class="reserved">null</strong> &amp;&amp; wr.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &gt;= w &amp;&amp; wr.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &gt;= h) <em class="brace">{</em>
<a id="L248" name="L248"></a> 248                     xrgbRasRef = <strong class="reserved">null</strong>;
<a id="L249" name="L249"></a> 249                     <strong class="reserved">return</strong> wr;
<a id="L250" name="L250"></a> 250                 <em class="brace">}</em>
<a id="L251" name="L251"></a> 251             <em class="brace">}</em>
<a id="L252" name="L252"></a> 252             <em class="comment">// If we are going to cache this Raster, make it non-tiny</em>
<a id="L253" name="L253"></a> 253             <strong class="reserved">if</strong> (w &lt;= 32 &amp;&amp; h &lt;= 32) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254                 w = h = 32;
<a id="L255" name="L255"></a> 255             <em class="brace">}</em>
<a id="L256" name="L256"></a> 256         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (argbmodel == cm) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             <strong class="reserved">if</strong> (argbRasRef != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258                 <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> wr = (<a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a>) argbRasRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L259" name="L259"></a> 259                 <strong class="reserved">if</strong> (wr != <strong class="reserved">null</strong> &amp;&amp; wr.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &gt;= w &amp;&amp; wr.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &gt;= h) <em class="brace">{</em>
<a id="L260" name="L260"></a> 260                     argbRasRef = <strong class="reserved">null</strong>;
<a id="L261" name="L261"></a> 261                     <strong class="reserved">return</strong> wr;
<a id="L262" name="L262"></a> 262                 <em class="brace">}</em>
<a id="L263" name="L263"></a> 263             <em class="brace">}</em>
<a id="L264" name="L264"></a> 264             <em class="comment">// If we are going to cache this Raster, make it non-tiny</em>
<a id="L265" name="L265"></a> 265             <strong class="reserved">if</strong> (w &lt;= 32 &amp;&amp; h &lt;= 32) <em class="brace">{</em>
<a id="L266" name="L266"></a> 266                 w = h = 32;
<a id="L267" name="L267"></a> 267             <em class="brace">}</em>
<a id="L268" name="L268"></a> 268         <em class="brace">}</em>
<a id="L269" name="L269"></a> 269         <strong class="reserved">if</strong> (srcRas != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270             <strong class="reserved">return</strong> srcRas.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(w, h);
<a id="L271" name="L271"></a> 271         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L272" name="L272"></a> 272             <strong class="reserved">return</strong> cm.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(w, h);
<a id="L273" name="L273"></a> 273         <em class="brace">}</em>
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276     <strong class="reserved">synchronized</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L198" title="Referred from 198 in src/java/awt/TexturePaintContext.java.">dropRaster</a>(<a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm, <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> outRas) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277         <strong class="reserved">if</strong> (outRas == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L278" name="L278"></a> 278             <strong class="reserved">return</strong>;
<a id="L279" name="L279"></a> 279         <em class="brace">}</em>
<a id="L280" name="L280"></a> 280         <strong class="reserved">if</strong> (xrgbmodel == cm) <em class="brace">{</em>
<a id="L281" name="L281"></a> 281             xrgbRasRef = <strong class="reserved">new</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;&gt;(outRas);
<a id="L282" name="L282"></a> 282         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (argbmodel == cm) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283             argbRasRef = <strong class="reserved">new</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;&gt;(outRas);
<a id="L284" name="L284"></a> 284         <em class="brace">}</em>
<a id="L285" name="L285"></a> 285     <em class="brace">}</em>
<a id="L286" name="L286"></a> 286 
<a id="L287" name="L287"></a> 287     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a>&gt; byteRasRef;
<a id="L288" name="L288"></a> 288 
<a id="L289" name="L289"></a> 289     <strong class="reserved">synchronized</strong> <strong class="reserved">static</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../S/2087.html#L529" title="Referred from 529 in src/java/awt/TexturePaintContext.java.">makeByteRaster</a>(<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> srcRas,
<a id="L290" name="L290"></a> 290                                                       <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h)
<a id="L291" name="L291"></a> 291     <em class="brace">{</em>
<a id="L292" name="L292"></a> 292         <strong class="reserved">if</strong> (byteRasRef != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> wr = (<a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a>) byteRasRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L294" name="L294"></a> 294             <strong class="reserved">if</strong> (wr != <strong class="reserved">null</strong> &amp;&amp; wr.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &gt;= w &amp;&amp; wr.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &gt;= h) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295                 byteRasRef = <strong class="reserved">null</strong>;
<a id="L296" name="L296"></a> 296                 <strong class="reserved">return</strong> wr;
<a id="L297" name="L297"></a> 297             <em class="brace">}</em>
<a id="L298" name="L298"></a> 298         <em class="brace">}</em>
<a id="L299" name="L299"></a> 299         <em class="comment">// If we are going to cache this Raster, make it non-tiny</em>
<a id="L300" name="L300"></a> 300         <strong class="reserved">if</strong> (w &lt;= 32 &amp;&amp; h &lt;= 32) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301             w = h = 32;
<a id="L302" name="L302"></a> 302         <em class="brace">}</em>
<a id="L303" name="L303"></a> 303         <strong class="reserved">return</strong> srcRas.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(w, h);
<a id="L304" name="L304"></a> 304     <em class="brace">}</em>
<a id="L305" name="L305"></a> 305 
<a id="L306" name="L306"></a> 306     <strong class="reserved">synchronized</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L538" title="Referred from 538 in src/java/awt/TexturePaintContext.java.">dropByteRaster</a>(<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> outRas) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <strong class="reserved">if</strong> (outRas == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L308" name="L308"></a> 308             <strong class="reserved">return</strong>;
<a id="L309" name="L309"></a> 309         <em class="brace">}</em>
<a id="L310" name="L310"></a> 310         byteRasRef = <strong class="reserved">new</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;&gt;(outRas);
<a id="L311" name="L311"></a> 311     <em class="brace">}</em>
<a id="L312" name="L312"></a> 312 
<a id="L313" name="L313"></a> 313     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/22980.html" title="Multiple referred from 4 places.">makeRaster</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h);
<a id="L314" name="L314"></a> 314     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L225" title="Referred from 225 in src/java/awt/TexturePaintContext.java.">setRaster</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> xerr, <strong class="reserved">int</strong> yerr,
<a id="L315" name="L315"></a> 315                                    <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> bWidth, <strong class="reserved">int</strong> bHeight,
<a id="L316" name="L316"></a> 316                                    <strong class="reserved">int</strong> colincx, <strong class="reserved">int</strong> colincxerr,
<a id="L317" name="L317"></a> 317                                    <strong class="reserved">int</strong> colincy, <strong class="reserved">int</strong> colincyerr,
<a id="L318" name="L318"></a> 318                                    <strong class="reserved">int</strong> rowincx, <strong class="reserved">int</strong> rowincxerr,
<a id="L319" name="L319"></a> 319                                    <strong class="reserved">int</strong> rowincy, <strong class="reserved">int</strong> rowincyerr);
<a id="L320" name="L320"></a> 320 
<div class="comment">
      Blends the four ARGB values in the rgbs array using the factors
      described by xmul and ymul in the following ratio:
          rgbs[0] * (1-xmul) * (1-ymul) +
          rgbs[1] * (  xmul) * (1-ymul) +
          rgbs[2] * (1-xmul) * (  ymul) +
          rgbs[3] * (  xmul) * (  ymul)
      xmul and ymul are integer values in the half-open range [0, 2^31)
      where 0 == 0.0 and 2^31 == 1.0.
      Note that since the range is half-open, the values are always
      logically less than 1.0.  This makes sense because while choosing
      pixels to blend, when the error values reach 1.0 we move to the
      next pixel and reset them to 0.0.</div>
<a id="L338" name="L338"></a> 338     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/10630.html" title="Multiple referred from 3 places.">blend</a>(<strong class="reserved">int</strong> rgbs[], <strong class="reserved">int</strong> xmul, <strong class="reserved">int</strong> ymul) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339         <em class="comment">// xmul/ymul are 31 bits wide, (0 =&gt; 2^31-1)</em>
<a id="L340" name="L340"></a> 340         <em class="comment">// shift them to 12 bits wide, (0 =&gt; 2^12-1)</em>
<a id="L341" name="L341"></a> 341         xmul = (xmul &gt;&gt;&gt; 19);
<a id="L342" name="L342"></a> 342         ymul = (ymul &gt;&gt;&gt; 19);
<a id="L343" name="L343"></a> 343         <strong class="reserved">int</strong> accumA, accumR, accumG, accumB;
<a id="L344" name="L344"></a> 344         accumA = accumR = accumG = accumB = 0;
<a id="L345" name="L345"></a> 345         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 4; i++) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <strong class="reserved">int</strong> rgb = rgbs[i];
<a id="L347" name="L347"></a> 347             <em class="comment">// The complement of the [xy]mul values (1-[xy]mul) can result</em>
<a id="L348" name="L348"></a> 348             <em class="comment">// in new values in the range (1 =&gt; 2^12).  Thus for any given</em>
<a id="L349" name="L349"></a> 349             <em class="comment">// loop iteration, the values could be anywhere in (0 =&gt; 2^12).</em>
<a id="L350" name="L350"></a> 350             xmul = (1&lt;&lt;12) - xmul;
<a id="L351" name="L351"></a> 351             <strong class="reserved">if</strong> ((i &amp; 1) == 0) <em class="brace">{</em>
<a id="L352" name="L352"></a> 352                 ymul = (1&lt;&lt;12) - ymul;
<a id="L353" name="L353"></a> 353             <em class="brace">}</em>
<a id="L354" name="L354"></a> 354             <em class="comment">// xmul and ymul are each 12 bits (0 =&gt; 2^12)</em>
<a id="L355" name="L355"></a> 355             <em class="comment">// factor is thus 24 bits (0 =&gt; 2^24)</em>
<a id="L356" name="L356"></a> 356             <strong class="reserved">int</strong> factor = xmul * ymul;
<a id="L357" name="L357"></a> 357             <strong class="reserved">if</strong> (factor != 0) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358                 <em class="comment">// accum variables will accumulate 32 bits</em>
<a id="L359" name="L359"></a> 359                 <em class="comment">// bytes extracted from rgb fit in 8 bits (0 =&gt; 255)</em>
<a id="L360" name="L360"></a> 360                 <em class="comment">// byte * factor thus fits in 32 bits (0 =&gt; 255 * 2^24)</em>
<a id="L361" name="L361"></a> 361                 accumA += (((rgb &gt;&gt;&gt; 24)       ) * factor);
<a id="L362" name="L362"></a> 362                 accumR += (((rgb &gt;&gt;&gt; 16) &amp; 0xff) * factor);
<a id="L363" name="L363"></a> 363                 accumG += (((rgb &gt;&gt;&gt;  8) &amp; 0xff) * factor);
<a id="L364" name="L364"></a> 364                 accumB += (((rgb       ) &amp; 0xff) * factor);
<a id="L365" name="L365"></a> 365             <em class="brace">}</em>
<a id="L366" name="L366"></a> 366         <em class="brace">}</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">return</strong> ((((accumA + (1&lt;&lt;23)) &gt;&gt;&gt; 24) &lt;&lt; 24) |
<a id="L368" name="L368"></a> 368                 (((accumR + (1&lt;&lt;23)) &gt;&gt;&gt; 24) &lt;&lt; 16) |
<a id="L369" name="L369"></a> 369                 (((accumG + (1&lt;&lt;23)) &gt;&gt;&gt; 24) &lt;&lt;  8) |
<a id="L370" name="L370"></a> 370                 (((accumB + (1&lt;&lt;23)) &gt;&gt;&gt; 24)      ));
<a id="L371" name="L371"></a> 371     <em class="brace">}</em>
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/3884.html" title="Multiple referred from 33 places.">Int</a> <strong class="reserved">extends</strong> <a href="../S/2087.html#L41" title="Defined at 41 in src/java/awt/TexturePaintContext.java.">TexturePaintContext</a> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374         IntegerInterleavedRaster srcRas;
<a id="L375" name="L375"></a> 375         <strong class="reserved">int</strong> inData[];
<a id="L376" name="L376"></a> 376         <strong class="reserved">int</strong> inOff;
<a id="L377" name="L377"></a> 377         <strong class="reserved">int</strong> inSpan;
<a id="L378" name="L378"></a> 378         <strong class="reserved">int</strong> outData[];
<a id="L379" name="L379"></a> 379         <strong class="reserved">int</strong> outOff;
<a id="L380" name="L380"></a> 380         <strong class="reserved">int</strong> outSpan;
<a id="L381" name="L381"></a> 381         <strong class="reserved">boolean</strong> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <strong class="reserved">public</strong> Int(IntegerInterleavedRaster srcRas, <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm,
<a id="L384" name="L384"></a> 384                    <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform, <strong class="reserved">int</strong> maxw, <strong class="reserved">boolean</strong> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>)
<a id="L385" name="L385"></a> 385         <em class="brace">{</em>
<a id="L386" name="L386"></a> 386             <strong class="reserved">super</strong>(cm, xform, srcRas.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(), srcRas.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(), maxw);
<a id="L387" name="L387"></a> 387             <strong class="reserved">this</strong>.srcRas = srcRas;
<a id="L388" name="L388"></a> 388             <strong class="reserved">this</strong>.inData = srcRas.getDataStorage();
<a id="L389" name="L389"></a> 389             <strong class="reserved">this</strong>.inSpan = srcRas.<a href="../D/22246.html" title="Multiple defined in 3 places.">getScanlineStride</a>();
<a id="L390" name="L390"></a> 390             <strong class="reserved">this</strong>.inOff = srcRas.getDataOffset(0);
<a id="L391" name="L391"></a> 391             <strong class="reserved">this</strong>.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L392" name="L392"></a> 392         <em class="brace">}</em>
<a id="L393" name="L393"></a> 393 
<a id="L394" name="L394"></a> 394         <strong class="reserved">public</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/22980.html" title="Multiple referred from 4 places.">makeRaster</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> ras = <a href="../D/27376.html" title="Multiple defined in 6 places.">makeRaster</a>(colorModel, srcRas, w, h);
<a id="L396" name="L396"></a> 396             IntegerInterleavedRaster iiRas = (IntegerInterleavedRaster) ras;
<a id="L397" name="L397"></a> 397             outData = iiRas.getDataStorage();
<a id="L398" name="L398"></a> 398             outSpan = iiRas.<a href="../D/22246.html" title="Multiple defined in 3 places.">getScanlineStride</a>();
<a id="L399" name="L399"></a> 399             outOff = iiRas.getDataOffset(0);
<a id="L400" name="L400"></a> 400             <strong class="reserved">return</strong> ras;
<a id="L401" name="L401"></a> 401         <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<a id="L403" name="L403"></a> 403         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L225" title="Referred from 225 in src/java/awt/TexturePaintContext.java.">setRaster</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> xerr, <strong class="reserved">int</strong> yerr,
<a id="L404" name="L404"></a> 404                               <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> bWidth, <strong class="reserved">int</strong> bHeight,
<a id="L405" name="L405"></a> 405                               <strong class="reserved">int</strong> colincx, <strong class="reserved">int</strong> colincxerr,
<a id="L406" name="L406"></a> 406                               <strong class="reserved">int</strong> colincy, <strong class="reserved">int</strong> colincyerr,
<a id="L407" name="L407"></a> 407                               <strong class="reserved">int</strong> rowincx, <strong class="reserved">int</strong> rowincxerr,
<a id="L408" name="L408"></a> 408                               <strong class="reserved">int</strong> rowincy, <strong class="reserved">int</strong> rowincyerr) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409             <strong class="reserved">int</strong>[] inData = <strong class="reserved">this</strong>.inData;
<a id="L410" name="L410"></a> 410             <strong class="reserved">int</strong>[] outData = <strong class="reserved">this</strong>.outData;
<a id="L411" name="L411"></a> 411             <strong class="reserved">int</strong> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = outOff;
<a id="L412" name="L412"></a> 412             <strong class="reserved">int</strong> inSpan = <strong class="reserved">this</strong>.inSpan;
<a id="L413" name="L413"></a> 413             <strong class="reserved">int</strong> inOff = <strong class="reserved">this</strong>.inOff;
<a id="L414" name="L414"></a> 414             <strong class="reserved">int</strong> outSpan = <strong class="reserved">this</strong>.outSpan;
<a id="L415" name="L415"></a> 415             <strong class="reserved">boolean</strong> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> = <strong class="reserved">this</strong>.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L416" name="L416"></a> 416             <strong class="reserved">boolean</strong> normalx = (colincx == 1 &amp;&amp; colincxerr == 0 &amp;&amp;
<a id="L417" name="L417"></a> 417                                colincy == 0 &amp;&amp; colincyerr == 0) &amp;&amp; !<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L418" name="L418"></a> 418             <strong class="reserved">int</strong> rowx = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L419" name="L419"></a> 419             <strong class="reserved">int</strong> rowy = y;
<a id="L420" name="L420"></a> 420             <strong class="reserved">int</strong> rowxerr = xerr;
<a id="L421" name="L421"></a> 421             <strong class="reserved">int</strong> rowyerr = yerr;
<a id="L422" name="L422"></a> 422             <strong class="reserved">if</strong> (normalx) <em class="brace">{</em>
<a id="L423" name="L423"></a> 423                 outSpan -= w;
<a id="L424" name="L424"></a> 424             <em class="brace">}</em>
<a id="L425" name="L425"></a> 425             <strong class="reserved">int</strong> rgbs[] = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> ? <strong class="reserved">new</strong> <strong class="reserved">int</strong>[4] : <strong class="reserved">null</strong>;
<a id="L426" name="L426"></a> 426             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; h; j++) <em class="brace">{</em>
<a id="L427" name="L427"></a> 427                 <strong class="reserved">if</strong> (normalx) <em class="brace">{</em>
<a id="L428" name="L428"></a> 428                     <strong class="reserved">int</strong> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = inOff + rowy * inSpan + bWidth;
<a id="L429" name="L429"></a> 429                     <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = bWidth - rowx;
<a id="L430" name="L430"></a> 430                     <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += w;
<a id="L431" name="L431"></a> 431                     <strong class="reserved">if</strong> (bWidth &gt;= 32) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432                         <strong class="reserved">int</strong> i = w;
<a id="L433" name="L433"></a> 433                         <strong class="reserved">while</strong> (i &gt; 0) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434                             <strong class="reserved">int</strong> copyw = (i &lt; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) ? i : <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L435" name="L435"></a> 435                             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(inData, <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> - <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,
<a id="L436" name="L436"></a> 436                                              outData, <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> - i,
<a id="L437" name="L437"></a> 437                                              copyw);
<a id="L438" name="L438"></a> 438                             i -= copyw;
<a id="L439" name="L439"></a> 439                             <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= copyw) == 0) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440                                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = bWidth;
<a id="L441" name="L441"></a> 441                             <em class="brace">}</em>
<a id="L442" name="L442"></a> 442                         <em class="brace">}</em>
<a id="L443" name="L443"></a> 443                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L444" name="L444"></a> 444                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = w; i &gt; 0; i--) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445                             outData[<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> - i] = inData[<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> - <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>];
<a id="L446" name="L446"></a> 446                             <strong class="reserved">if</strong> (--<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> == 0) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447                                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = bWidth;
<a id="L448" name="L448"></a> 448                             <em class="brace">}</em>
<a id="L449" name="L449"></a> 449                         <em class="brace">}</em>
<a id="L450" name="L450"></a> 450                     <em class="brace">}</em>
<a id="L451" name="L451"></a> 451                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L452" name="L452"></a> 452                     <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = rowx;
<a id="L453" name="L453"></a> 453                     y = rowy;
<a id="L454" name="L454"></a> 454                     xerr = rowxerr;
<a id="L455" name="L455"></a> 455                     yerr = rowyerr;
<a id="L456" name="L456"></a> 456                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; w; i++) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457                         <strong class="reserved">if</strong> (<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>) <em class="brace">{</em>
<a id="L458" name="L458"></a> 458                             <strong class="reserved">int</strong> nextx, nexty;
<a id="L459" name="L459"></a> 459                             <strong class="reserved">if</strong> ((nextx = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + 1) &gt;= bWidth) <em class="brace">{</em>
<a id="L460" name="L460"></a> 460                                 nextx = 0;
<a id="L461" name="L461"></a> 461                             <em class="brace">}</em>
<a id="L462" name="L462"></a> 462                             <strong class="reserved">if</strong> ((nexty = y + 1) &gt;= bHeight) <em class="brace">{</em>
<a id="L463" name="L463"></a> 463                                 nexty = 0;
<a id="L464" name="L464"></a> 464                             <em class="brace">}</em>
<a id="L465" name="L465"></a> 465                             rgbs[0] = inData[inOff + y * inSpan + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>];
<a id="L466" name="L466"></a> 466                             rgbs[1] = inData[inOff + y * inSpan + nextx];
<a id="L467" name="L467"></a> 467                             rgbs[2] = inData[inOff + nexty * inSpan + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>];
<a id="L468" name="L468"></a> 468                             rgbs[3] = inData[inOff + nexty * inSpan + nextx];
<a id="L469" name="L469"></a> 469                             outData[<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> + i] =
<a id="L470" name="L470"></a> 470                                 <a href="../S/2087.html#L41" title="Defined at 41 in src/java/awt/TexturePaintContext.java.">TexturePaintContext</a>.<a href="../S/2087.html#L338" title="Defined at 338 in src/java/awt/TexturePaintContext.java.">blend</a>(rgbs, xerr, yerr);
<a id="L471" name="L471"></a> 471                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L472" name="L472"></a> 472                             outData[<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> + i] = inData[inOff + y * inSpan + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>];
<a id="L473" name="L473"></a> 473                         <em class="brace">}</em>
<a id="L474" name="L474"></a> 474                         <strong class="reserved">if</strong> ((xerr += colincxerr) &lt; 0) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475                             xerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L476" name="L476"></a> 476                             <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>++;
<a id="L477" name="L477"></a> 477                         <em class="brace">}</em>
<a id="L478" name="L478"></a> 478                         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += colincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479                             <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= bWidth;
<a id="L480" name="L480"></a> 480                         <em class="brace">}</em>
<a id="L481" name="L481"></a> 481                         <strong class="reserved">if</strong> ((yerr += colincyerr) &lt; 0) <em class="brace">{</em>
<a id="L482" name="L482"></a> 482                             yerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L483" name="L483"></a> 483                             y++;
<a id="L484" name="L484"></a> 484                         <em class="brace">}</em>
<a id="L485" name="L485"></a> 485                         <strong class="reserved">if</strong> ((y += colincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L486" name="L486"></a> 486                             y -= bHeight;
<a id="L487" name="L487"></a> 487                         <em class="brace">}</em>
<a id="L488" name="L488"></a> 488                     <em class="brace">}</em>
<a id="L489" name="L489"></a> 489                 <em class="brace">}</em>
<a id="L490" name="L490"></a> 490                 <strong class="reserved">if</strong> ((rowxerr += rowincxerr) &lt; 0) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491                     rowxerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L492" name="L492"></a> 492                     rowx++;
<a id="L493" name="L493"></a> 493                 <em class="brace">}</em>
<a id="L494" name="L494"></a> 494                 <strong class="reserved">if</strong> ((rowx += rowincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L495" name="L495"></a> 495                     rowx -= bWidth;
<a id="L496" name="L496"></a> 496                 <em class="brace">}</em>
<a id="L497" name="L497"></a> 497                 <strong class="reserved">if</strong> ((rowyerr += rowincyerr) &lt; 0) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498                     rowyerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L499" name="L499"></a> 499                     rowy++;
<a id="L500" name="L500"></a> 500                 <em class="brace">}</em>
<a id="L501" name="L501"></a> 501                 <strong class="reserved">if</strong> ((rowy += rowincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502                     rowy -= bHeight;
<a id="L503" name="L503"></a> 503                 <em class="brace">}</em>
<a id="L504" name="L504"></a> 504                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += outSpan;
<a id="L505" name="L505"></a> 505             <em class="brace">}</em>
<a id="L506" name="L506"></a> 506         <em class="brace">}</em>
<a id="L507" name="L507"></a> 507     <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<a id="L509" name="L509"></a> 509     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/952.html" title="Multiple referred from 161 places.">Byte</a> <strong class="reserved">extends</strong> <a href="../S/2087.html#L41" title="Defined at 41 in src/java/awt/TexturePaintContext.java.">TexturePaintContext</a> <em class="brace">{</em>
<a id="L510" name="L510"></a> 510         ByteInterleavedRaster srcRas;
<a id="L511" name="L511"></a> 511         <strong class="reserved">byte</strong> inData[];
<a id="L512" name="L512"></a> 512         <strong class="reserved">int</strong> inOff;
<a id="L513" name="L513"></a> 513         <strong class="reserved">int</strong> inSpan;
<a id="L514" name="L514"></a> 514         <strong class="reserved">byte</strong> outData[];
<a id="L515" name="L515"></a> 515         <strong class="reserved">int</strong> outOff;
<a id="L516" name="L516"></a> 516         <strong class="reserved">int</strong> outSpan;
<a id="L517" name="L517"></a> 517 
<a id="L518" name="L518"></a> 518         <strong class="reserved">public</strong> Byte(ByteInterleavedRaster srcRas, <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm,
<a id="L519" name="L519"></a> 519                     <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform, <strong class="reserved">int</strong> maxw)
<a id="L520" name="L520"></a> 520         <em class="brace">{</em>
<a id="L521" name="L521"></a> 521             <strong class="reserved">super</strong>(cm, xform, srcRas.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(), srcRas.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(), maxw);
<a id="L522" name="L522"></a> 522             <strong class="reserved">this</strong>.srcRas = srcRas;
<a id="L523" name="L523"></a> 523             <strong class="reserved">this</strong>.inData = srcRas.getDataStorage();
<a id="L524" name="L524"></a> 524             <strong class="reserved">this</strong>.inSpan = srcRas.<a href="../D/22246.html" title="Multiple defined in 3 places.">getScanlineStride</a>();
<a id="L525" name="L525"></a> 525             <strong class="reserved">this</strong>.inOff = srcRas.getDataOffset(0);
<a id="L526" name="L526"></a> 526         <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<a id="L528" name="L528"></a> 528         <strong class="reserved">public</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/22980.html" title="Multiple referred from 4 places.">makeRaster</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> ras = <a href="../S/2087.html#L289" title="Defined at 289 in src/java/awt/TexturePaintContext.java.">makeByteRaster</a>(srcRas, w, h);
<a id="L530" name="L530"></a> 530             ByteInterleavedRaster biRas = (ByteInterleavedRaster) ras;
<a id="L531" name="L531"></a> 531             outData = biRas.getDataStorage();
<a id="L532" name="L532"></a> 532             outSpan = biRas.<a href="../D/22246.html" title="Multiple defined in 3 places.">getScanlineStride</a>();
<a id="L533" name="L533"></a> 533             outOff = biRas.getDataOffset(0);
<a id="L534" name="L534"></a> 534             <strong class="reserved">return</strong> ras;
<a id="L535" name="L535"></a> 535         <em class="brace">}</em>
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13337.html" title="Multiple referred from 363 places.">dispose</a>() <em class="brace">{</em>
<a id="L538" name="L538"></a> 538             <a href="../S/2087.html#L306" title="Defined at 306 in src/java/awt/TexturePaintContext.java.">dropByteRaster</a>(outRas);
<a id="L539" name="L539"></a> 539         <em class="brace">}</em>
<a id="L540" name="L540"></a> 540 
<a id="L541" name="L541"></a> 541         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L225" title="Referred from 225 in src/java/awt/TexturePaintContext.java.">setRaster</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> xerr, <strong class="reserved">int</strong> yerr,
<a id="L542" name="L542"></a> 542                               <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> bWidth, <strong class="reserved">int</strong> bHeight,
<a id="L543" name="L543"></a> 543                               <strong class="reserved">int</strong> colincx, <strong class="reserved">int</strong> colincxerr,
<a id="L544" name="L544"></a> 544                               <strong class="reserved">int</strong> colincy, <strong class="reserved">int</strong> colincyerr,
<a id="L545" name="L545"></a> 545                               <strong class="reserved">int</strong> rowincx, <strong class="reserved">int</strong> rowincxerr,
<a id="L546" name="L546"></a> 546                               <strong class="reserved">int</strong> rowincy, <strong class="reserved">int</strong> rowincyerr) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547             <strong class="reserved">byte</strong>[] inData = <strong class="reserved">this</strong>.inData;
<a id="L548" name="L548"></a> 548             <strong class="reserved">byte</strong>[] outData = <strong class="reserved">this</strong>.outData;
<a id="L549" name="L549"></a> 549             <strong class="reserved">int</strong> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = outOff;
<a id="L550" name="L550"></a> 550             <strong class="reserved">int</strong> inSpan = <strong class="reserved">this</strong>.inSpan;
<a id="L551" name="L551"></a> 551             <strong class="reserved">int</strong> inOff = <strong class="reserved">this</strong>.inOff;
<a id="L552" name="L552"></a> 552             <strong class="reserved">int</strong> outSpan = <strong class="reserved">this</strong>.outSpan;
<a id="L553" name="L553"></a> 553             <strong class="reserved">boolean</strong> normalx = (colincx == 1 &amp;&amp; colincxerr == 0 &amp;&amp;
<a id="L554" name="L554"></a> 554                                colincy == 0 &amp;&amp; colincyerr == 0);
<a id="L555" name="L555"></a> 555             <strong class="reserved">int</strong> rowx = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L556" name="L556"></a> 556             <strong class="reserved">int</strong> rowy = y;
<a id="L557" name="L557"></a> 557             <strong class="reserved">int</strong> rowxerr = xerr;
<a id="L558" name="L558"></a> 558             <strong class="reserved">int</strong> rowyerr = yerr;
<a id="L559" name="L559"></a> 559             <strong class="reserved">if</strong> (normalx) <em class="brace">{</em>
<a id="L560" name="L560"></a> 560                 outSpan -= w;
<a id="L561" name="L561"></a> 561             <em class="brace">}</em>
<a id="L562" name="L562"></a> 562             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; h; j++) <em class="brace">{</em>
<a id="L563" name="L563"></a> 563                 <strong class="reserved">if</strong> (normalx) <em class="brace">{</em>
<a id="L564" name="L564"></a> 564                     <strong class="reserved">int</strong> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = inOff + rowy * inSpan + bWidth;
<a id="L565" name="L565"></a> 565                     <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = bWidth - rowx;
<a id="L566" name="L566"></a> 566                     <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += w;
<a id="L567" name="L567"></a> 567                     <strong class="reserved">if</strong> (bWidth &gt;= 32) <em class="brace">{</em>
<a id="L568" name="L568"></a> 568                         <strong class="reserved">int</strong> i = w;
<a id="L569" name="L569"></a> 569                         <strong class="reserved">while</strong> (i &gt; 0) <em class="brace">{</em>
<a id="L570" name="L570"></a> 570                             <strong class="reserved">int</strong> copyw = (i &lt; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) ? i : <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L571" name="L571"></a> 571                             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(inData, <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> - <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,
<a id="L572" name="L572"></a> 572                                              outData, <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> - i,
<a id="L573" name="L573"></a> 573                                              copyw);
<a id="L574" name="L574"></a> 574                             i -= copyw;
<a id="L575" name="L575"></a> 575                             <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= copyw) == 0) <em class="brace">{</em>
<a id="L576" name="L576"></a> 576                                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = bWidth;
<a id="L577" name="L577"></a> 577                             <em class="brace">}</em>
<a id="L578" name="L578"></a> 578                         <em class="brace">}</em>
<a id="L579" name="L579"></a> 579                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L580" name="L580"></a> 580                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = w; i &gt; 0; i--) <em class="brace">{</em>
<a id="L581" name="L581"></a> 581                             outData[<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> - i] = inData[<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> - <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>];
<a id="L582" name="L582"></a> 582                             <strong class="reserved">if</strong> (--<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> == 0) <em class="brace">{</em>
<a id="L583" name="L583"></a> 583                                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = bWidth;
<a id="L584" name="L584"></a> 584                             <em class="brace">}</em>
<a id="L585" name="L585"></a> 585                         <em class="brace">}</em>
<a id="L586" name="L586"></a> 586                     <em class="brace">}</em>
<a id="L587" name="L587"></a> 587                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L588" name="L588"></a> 588                     <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = rowx;
<a id="L589" name="L589"></a> 589                     y = rowy;
<a id="L590" name="L590"></a> 590                     xerr = rowxerr;
<a id="L591" name="L591"></a> 591                     yerr = rowyerr;
<a id="L592" name="L592"></a> 592                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; w; i++) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593                         outData[<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> + i] = inData[inOff + y * inSpan + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>];
<a id="L594" name="L594"></a> 594                         <strong class="reserved">if</strong> ((xerr += colincxerr) &lt; 0) <em class="brace">{</em>
<a id="L595" name="L595"></a> 595                             xerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L596" name="L596"></a> 596                             <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>++;
<a id="L597" name="L597"></a> 597                         <em class="brace">}</em>
<a id="L598" name="L598"></a> 598                         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += colincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L599" name="L599"></a> 599                             <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= bWidth;
<a id="L600" name="L600"></a> 600                         <em class="brace">}</em>
<a id="L601" name="L601"></a> 601                         <strong class="reserved">if</strong> ((yerr += colincyerr) &lt; 0) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602                             yerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L603" name="L603"></a> 603                             y++;
<a id="L604" name="L604"></a> 604                         <em class="brace">}</em>
<a id="L605" name="L605"></a> 605                         <strong class="reserved">if</strong> ((y += colincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L606" name="L606"></a> 606                             y -= bHeight;
<a id="L607" name="L607"></a> 607                         <em class="brace">}</em>
<a id="L608" name="L608"></a> 608                     <em class="brace">}</em>
<a id="L609" name="L609"></a> 609                 <em class="brace">}</em>
<a id="L610" name="L610"></a> 610                 <strong class="reserved">if</strong> ((rowxerr += rowincxerr) &lt; 0) <em class="brace">{</em>
<a id="L611" name="L611"></a> 611                     rowxerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L612" name="L612"></a> 612                     rowx++;
<a id="L613" name="L613"></a> 613                 <em class="brace">}</em>
<a id="L614" name="L614"></a> 614                 <strong class="reserved">if</strong> ((rowx += rowincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L615" name="L615"></a> 615                     rowx -= bWidth;
<a id="L616" name="L616"></a> 616                 <em class="brace">}</em>
<a id="L617" name="L617"></a> 617                 <strong class="reserved">if</strong> ((rowyerr += rowincyerr) &lt; 0) <em class="brace">{</em>
<a id="L618" name="L618"></a> 618                     rowyerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L619" name="L619"></a> 619                     rowy++;
<a id="L620" name="L620"></a> 620                 <em class="brace">}</em>
<a id="L621" name="L621"></a> 621                 <strong class="reserved">if</strong> ((rowy += rowincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L622" name="L622"></a> 622                     rowy -= bHeight;
<a id="L623" name="L623"></a> 623                 <em class="brace">}</em>
<a id="L624" name="L624"></a> 624                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += outSpan;
<a id="L625" name="L625"></a> 625             <em class="brace">}</em>
<a id="L626" name="L626"></a> 626         <em class="brace">}</em>
<a id="L627" name="L627"></a> 627     <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/2087.html#L93" title="Referred from 93 in src/java/awt/TexturePaintContext.java.">ByteFilter</a> <strong class="reserved">extends</strong> <a href="../S/2087.html#L41" title="Defined at 41 in src/java/awt/TexturePaintContext.java.">TexturePaintContext</a> <em class="brace">{</em>
<a id="L630" name="L630"></a> 630         ByteInterleavedRaster srcRas;
<a id="L631" name="L631"></a> 631         <strong class="reserved">int</strong> inPalette[];
<a id="L632" name="L632"></a> 632         <strong class="reserved">byte</strong> inData[];
<a id="L633" name="L633"></a> 633         <strong class="reserved">int</strong> inOff;
<a id="L634" name="L634"></a> 634         <strong class="reserved">int</strong> inSpan;
<a id="L635" name="L635"></a> 635         <strong class="reserved">int</strong> outData[];
<a id="L636" name="L636"></a> 636         <strong class="reserved">int</strong> outOff;
<a id="L637" name="L637"></a> 637         <strong class="reserved">int</strong> outSpan;
<a id="L638" name="L638"></a> 638 
<a id="L639" name="L639"></a> 639         <strong class="reserved">public</strong> ByteFilter(ByteInterleavedRaster srcRas, <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm,
<a id="L640" name="L640"></a> 640                           <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform, <strong class="reserved">int</strong> maxw)
<a id="L641" name="L641"></a> 641         <em class="brace">{</em>
<a id="L642" name="L642"></a> 642             <strong class="reserved">super</strong>((cm.<a href="../D/23273.html" title="Multiple defined in 9 places.">getTransparency</a>() == <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.OPAQUE
<a id="L643" name="L643"></a> 643                    ? xrgbmodel : argbmodel),
<a id="L644" name="L644"></a> 644                   xform, srcRas.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(), srcRas.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(), maxw);
<a id="L645" name="L645"></a> 645             <strong class="reserved">this</strong>.inPalette = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[256];
<a id="L646" name="L646"></a> 646             ((<a href="../S/2242.html#L125" title="Defined at 125 in src/java/awt/image/IndexColorModel.java.">IndexColorModel</a>) cm).<a href="../S/2242.html#L720" title="Defined at 720 in src/java/awt/image/IndexColorModel.java.">getRGBs</a>(<strong class="reserved">this</strong>.inPalette);
<a id="L647" name="L647"></a> 647             <strong class="reserved">this</strong>.srcRas = srcRas;
<a id="L648" name="L648"></a> 648             <strong class="reserved">this</strong>.inData = srcRas.getDataStorage();
<a id="L649" name="L649"></a> 649             <strong class="reserved">this</strong>.inSpan = srcRas.<a href="../D/22246.html" title="Multiple defined in 3 places.">getScanlineStride</a>();
<a id="L650" name="L650"></a> 650             <strong class="reserved">this</strong>.inOff = srcRas.getDataOffset(0);
<a id="L651" name="L651"></a> 651         <em class="brace">}</em>
<a id="L652" name="L652"></a> 652 
<a id="L653" name="L653"></a> 653         <strong class="reserved">public</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/22980.html" title="Multiple referred from 4 places.">makeRaster</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L654" name="L654"></a> 654             <em class="comment">// Note that we do not pass srcRas to makeRaster since it</em>
<a id="L655" name="L655"></a> 655             <em class="comment">// is a Byte Raster and this colorModel needs an Int Raster</em>
<a id="L656" name="L656"></a> 656             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> ras = <a href="../D/27376.html" title="Multiple defined in 6 places.">makeRaster</a>(colorModel, <strong class="reserved">null</strong>, w, h);
<a id="L657" name="L657"></a> 657             IntegerInterleavedRaster iiRas = (IntegerInterleavedRaster) ras;
<a id="L658" name="L658"></a> 658             outData = iiRas.getDataStorage();
<a id="L659" name="L659"></a> 659             outSpan = iiRas.<a href="../D/22246.html" title="Multiple defined in 3 places.">getScanlineStride</a>();
<a id="L660" name="L660"></a> 660             outOff = iiRas.getDataOffset(0);
<a id="L661" name="L661"></a> 661             <strong class="reserved">return</strong> ras;
<a id="L662" name="L662"></a> 662         <em class="brace">}</em>
<a id="L663" name="L663"></a> 663 
<a id="L664" name="L664"></a> 664         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L225" title="Referred from 225 in src/java/awt/TexturePaintContext.java.">setRaster</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> xerr, <strong class="reserved">int</strong> yerr,
<a id="L665" name="L665"></a> 665                               <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> bWidth, <strong class="reserved">int</strong> bHeight,
<a id="L666" name="L666"></a> 666                               <strong class="reserved">int</strong> colincx, <strong class="reserved">int</strong> colincxerr,
<a id="L667" name="L667"></a> 667                               <strong class="reserved">int</strong> colincy, <strong class="reserved">int</strong> colincyerr,
<a id="L668" name="L668"></a> 668                               <strong class="reserved">int</strong> rowincx, <strong class="reserved">int</strong> rowincxerr,
<a id="L669" name="L669"></a> 669                               <strong class="reserved">int</strong> rowincy, <strong class="reserved">int</strong> rowincyerr) <em class="brace">{</em>
<a id="L670" name="L670"></a> 670             <strong class="reserved">byte</strong>[] inData = <strong class="reserved">this</strong>.inData;
<a id="L671" name="L671"></a> 671             <strong class="reserved">int</strong>[] outData = <strong class="reserved">this</strong>.outData;
<a id="L672" name="L672"></a> 672             <strong class="reserved">int</strong> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = outOff;
<a id="L673" name="L673"></a> 673             <strong class="reserved">int</strong> inSpan = <strong class="reserved">this</strong>.inSpan;
<a id="L674" name="L674"></a> 674             <strong class="reserved">int</strong> inOff = <strong class="reserved">this</strong>.inOff;
<a id="L675" name="L675"></a> 675             <strong class="reserved">int</strong> outSpan = <strong class="reserved">this</strong>.outSpan;
<a id="L676" name="L676"></a> 676             <strong class="reserved">int</strong> rowx = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L677" name="L677"></a> 677             <strong class="reserved">int</strong> rowy = y;
<a id="L678" name="L678"></a> 678             <strong class="reserved">int</strong> rowxerr = xerr;
<a id="L679" name="L679"></a> 679             <strong class="reserved">int</strong> rowyerr = yerr;
<a id="L680" name="L680"></a> 680             <strong class="reserved">int</strong> rgbs[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[4];
<a id="L681" name="L681"></a> 681             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; h; j++) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = rowx;
<a id="L683" name="L683"></a> 683                 y = rowy;
<a id="L684" name="L684"></a> 684                 xerr = rowxerr;
<a id="L685" name="L685"></a> 685                 yerr = rowyerr;
<a id="L686" name="L686"></a> 686                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; w; i++) <em class="brace">{</em>
<a id="L687" name="L687"></a> 687                     <strong class="reserved">int</strong> nextx, nexty;
<a id="L688" name="L688"></a> 688                     <strong class="reserved">if</strong> ((nextx = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + 1) &gt;= bWidth) <em class="brace">{</em>
<a id="L689" name="L689"></a> 689                         nextx = 0;
<a id="L690" name="L690"></a> 690                     <em class="brace">}</em>
<a id="L691" name="L691"></a> 691                     <strong class="reserved">if</strong> ((nexty = y + 1) &gt;= bHeight) <em class="brace">{</em>
<a id="L692" name="L692"></a> 692                         nexty = 0;
<a id="L693" name="L693"></a> 693                     <em class="brace">}</em>
<a id="L694" name="L694"></a> 694                     rgbs[0] = inPalette[0xff &amp; inData[inOff + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> +
<a id="L695" name="L695"></a> 695                                                       inSpan * y]];
<a id="L696" name="L696"></a> 696                     rgbs[1] = inPalette[0xff &amp; inData[inOff + nextx +
<a id="L697" name="L697"></a> 697                                                       inSpan * y]];
<a id="L698" name="L698"></a> 698                     rgbs[2] = inPalette[0xff &amp; inData[inOff + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> +
<a id="L699" name="L699"></a> 699                                                       inSpan * nexty]];
<a id="L700" name="L700"></a> 700                     rgbs[3] = inPalette[0xff &amp; inData[inOff + nextx +
<a id="L701" name="L701"></a> 701                                                       inSpan * nexty]];
<a id="L702" name="L702"></a> 702                     outData[<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> + i] =
<a id="L703" name="L703"></a> 703                         <a href="../S/2087.html#L41" title="Defined at 41 in src/java/awt/TexturePaintContext.java.">TexturePaintContext</a>.<a href="../S/2087.html#L338" title="Defined at 338 in src/java/awt/TexturePaintContext.java.">blend</a>(rgbs, xerr, yerr);
<a id="L704" name="L704"></a> 704                     <strong class="reserved">if</strong> ((xerr += colincxerr) &lt; 0) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705                         xerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L706" name="L706"></a> 706                         <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>++;
<a id="L707" name="L707"></a> 707                     <em class="brace">}</em>
<a id="L708" name="L708"></a> 708                     <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += colincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709                         <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= bWidth;
<a id="L710" name="L710"></a> 710                     <em class="brace">}</em>
<a id="L711" name="L711"></a> 711                     <strong class="reserved">if</strong> ((yerr += colincyerr) &lt; 0) <em class="brace">{</em>
<a id="L712" name="L712"></a> 712                         yerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L713" name="L713"></a> 713                         y++;
<a id="L714" name="L714"></a> 714                     <em class="brace">}</em>
<a id="L715" name="L715"></a> 715                     <strong class="reserved">if</strong> ((y += colincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L716" name="L716"></a> 716                         y -= bHeight;
<a id="L717" name="L717"></a> 717                     <em class="brace">}</em>
<a id="L718" name="L718"></a> 718                 <em class="brace">}</em>
<a id="L719" name="L719"></a> 719                 <strong class="reserved">if</strong> ((rowxerr += rowincxerr) &lt; 0) <em class="brace">{</em>
<a id="L720" name="L720"></a> 720                     rowxerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L721" name="L721"></a> 721                     rowx++;
<a id="L722" name="L722"></a> 722                 <em class="brace">}</em>
<a id="L723" name="L723"></a> 723                 <strong class="reserved">if</strong> ((rowx += rowincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L724" name="L724"></a> 724                     rowx -= bWidth;
<a id="L725" name="L725"></a> 725                 <em class="brace">}</em>
<a id="L726" name="L726"></a> 726                 <strong class="reserved">if</strong> ((rowyerr += rowincyerr) &lt; 0) <em class="brace">{</em>
<a id="L727" name="L727"></a> 727                     rowyerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L728" name="L728"></a> 728                     rowy++;
<a id="L729" name="L729"></a> 729                 <em class="brace">}</em>
<a id="L730" name="L730"></a> 730                 <strong class="reserved">if</strong> ((rowy += rowincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L731" name="L731"></a> 731                     rowy -= bHeight;
<a id="L732" name="L732"></a> 732                 <em class="brace">}</em>
<a id="L733" name="L733"></a> 733                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += outSpan;
<a id="L734" name="L734"></a> 734             <em class="brace">}</em>
<a id="L735" name="L735"></a> 735         <em class="brace">}</em>
<a id="L736" name="L736"></a> 736     <em class="brace">}</em>
<a id="L737" name="L737"></a> 737 
<a id="L738" name="L738"></a> 738     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/399.html" title="Multiple referred from 830 places.">Any</a> <strong class="reserved">extends</strong> <a href="../S/2087.html#L41" title="Defined at 41 in src/java/awt/TexturePaintContext.java.">TexturePaintContext</a> <em class="brace">{</em>
<a id="L739" name="L739"></a> 739         <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> srcRas;
<a id="L740" name="L740"></a> 740         <strong class="reserved">boolean</strong> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L741" name="L741"></a> 741 
<a id="L742" name="L742"></a> 742         <strong class="reserved">public</strong> Any(<a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> srcRas, <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm,
<a id="L743" name="L743"></a> 743                    <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform, <strong class="reserved">int</strong> maxw, <strong class="reserved">boolean</strong> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>)
<a id="L744" name="L744"></a> 744         <em class="brace">{</em>
<a id="L745" name="L745"></a> 745             <strong class="reserved">super</strong>(cm, xform, srcRas.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(), srcRas.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(), maxw);
<a id="L746" name="L746"></a> 746             <strong class="reserved">this</strong>.srcRas = srcRas;
<a id="L747" name="L747"></a> 747             <strong class="reserved">this</strong>.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L748" name="L748"></a> 748         <em class="brace">}</em>
<a id="L749" name="L749"></a> 749 
<a id="L750" name="L750"></a> 750         <strong class="reserved">public</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/22980.html" title="Multiple referred from 4 places.">makeRaster</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L751" name="L751"></a> 751             <strong class="reserved">return</strong> <a href="../D/27376.html" title="Multiple defined in 6 places.">makeRaster</a>(colorModel, srcRas, w, h);
<a id="L752" name="L752"></a> 752         <em class="brace">}</em>
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2087.html#L225" title="Referred from 225 in src/java/awt/TexturePaintContext.java.">setRaster</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> xerr, <strong class="reserved">int</strong> yerr,
<a id="L755" name="L755"></a> 755                               <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> bWidth, <strong class="reserved">int</strong> bHeight,
<a id="L756" name="L756"></a> 756                               <strong class="reserved">int</strong> colincx, <strong class="reserved">int</strong> colincxerr,
<a id="L757" name="L757"></a> 757                               <strong class="reserved">int</strong> colincy, <strong class="reserved">int</strong> colincyerr,
<a id="L758" name="L758"></a> 758                               <strong class="reserved">int</strong> rowincx, <strong class="reserved">int</strong> rowincxerr,
<a id="L759" name="L759"></a> 759                               <strong class="reserved">int</strong> rowincy, <strong class="reserved">int</strong> rowincyerr) <em class="brace">{</em>
<a id="L760" name="L760"></a> 760             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <strong class="reserved">null</strong>;
<a id="L761" name="L761"></a> 761             <strong class="reserved">int</strong> rowx = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L762" name="L762"></a> 762             <strong class="reserved">int</strong> rowy = y;
<a id="L763" name="L763"></a> 763             <strong class="reserved">int</strong> rowxerr = xerr;
<a id="L764" name="L764"></a> 764             <strong class="reserved">int</strong> rowyerr = yerr;
<a id="L765" name="L765"></a> 765             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> srcRas = <strong class="reserved">this</strong>.srcRas;
<a id="L766" name="L766"></a> 766             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> outRas = <strong class="reserved">this</strong>.outRas;
<a id="L767" name="L767"></a> 767             <strong class="reserved">int</strong> rgbs[] = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a> ? <strong class="reserved">new</strong> <strong class="reserved">int</strong>[4] : <strong class="reserved">null</strong>;
<a id="L768" name="L768"></a> 768             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; h; j++) <em class="brace">{</em>
<a id="L769" name="L769"></a> 769                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = rowx;
<a id="L770" name="L770"></a> 770                 y = rowy;
<a id="L771" name="L771"></a> 771                 xerr = rowxerr;
<a id="L772" name="L772"></a> 772                 yerr = rowyerr;
<a id="L773" name="L773"></a> 773                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; w; i++) <em class="brace">{</em>
<a id="L774" name="L774"></a> 774                     <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = srcRas.<a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L775" name="L775"></a> 775                     <strong class="reserved">if</strong> (<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776                         <strong class="reserved">int</strong> nextx, nexty;
<a id="L777" name="L777"></a> 777                         <strong class="reserved">if</strong> ((nextx = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + 1) &gt;= bWidth) <em class="brace">{</em>
<a id="L778" name="L778"></a> 778                             nextx = 0;
<a id="L779" name="L779"></a> 779                         <em class="brace">}</em>
<a id="L780" name="L780"></a> 780                         <strong class="reserved">if</strong> ((nexty = y + 1) &gt;= bHeight) <em class="brace">{</em>
<a id="L781" name="L781"></a> 781                             nexty = 0;
<a id="L782" name="L782"></a> 782                         <em class="brace">}</em>
<a id="L783" name="L783"></a> 783                         rgbs[0] = colorModel.<a href="../D/21814.html" title="Multiple defined in 13 places.">getRGB</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L784" name="L784"></a> 784                         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = srcRas.<a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(nextx, y, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L785" name="L785"></a> 785                         rgbs[1] = colorModel.<a href="../D/21814.html" title="Multiple defined in 13 places.">getRGB</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L786" name="L786"></a> 786                         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = srcRas.<a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, nexty, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L787" name="L787"></a> 787                         rgbs[2] = colorModel.<a href="../D/21814.html" title="Multiple defined in 13 places.">getRGB</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L788" name="L788"></a> 788                         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = srcRas.<a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(nextx, nexty, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L789" name="L789"></a> 789                         rgbs[3] = colorModel.<a href="../D/21814.html" title="Multiple defined in 13 places.">getRGB</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L790" name="L790"></a> 790                         <strong class="reserved">int</strong> rgb =
<a id="L791" name="L791"></a> 791                             <a href="../S/2087.html#L41" title="Defined at 41 in src/java/awt/TexturePaintContext.java.">TexturePaintContext</a>.<a href="../S/2087.html#L338" title="Defined at 338 in src/java/awt/TexturePaintContext.java.">blend</a>(rgbs, xerr, yerr);
<a id="L792" name="L792"></a> 792                         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = colorModel.<a href="../D/18198.html" title="Multiple defined in 18 places.">getDataElements</a>(rgb, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L793" name="L793"></a> 793                     <em class="brace">}</em>
<a id="L794" name="L794"></a> 794                     outRas.<a href="../D/32349.html" title="Multiple defined in 9 places.">setDataElements</a>(i, j, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L795" name="L795"></a> 795                     <strong class="reserved">if</strong> ((xerr += colincxerr) &lt; 0) <em class="brace">{</em>
<a id="L796" name="L796"></a> 796                         xerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L797" name="L797"></a> 797                         <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>++;
<a id="L798" name="L798"></a> 798                     <em class="brace">}</em>
<a id="L799" name="L799"></a> 799                     <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += colincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L800" name="L800"></a> 800                         <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= bWidth;
<a id="L801" name="L801"></a> 801                     <em class="brace">}</em>
<a id="L802" name="L802"></a> 802                     <strong class="reserved">if</strong> ((yerr += colincyerr) &lt; 0) <em class="brace">{</em>
<a id="L803" name="L803"></a> 803                         yerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L804" name="L804"></a> 804                         y++;
<a id="L805" name="L805"></a> 805                     <em class="brace">}</em>
<a id="L806" name="L806"></a> 806                     <strong class="reserved">if</strong> ((y += colincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L807" name="L807"></a> 807                         y -= bHeight;
<a id="L808" name="L808"></a> 808                     <em class="brace">}</em>
<a id="L809" name="L809"></a> 809                 <em class="brace">}</em>
<a id="L810" name="L810"></a> 810                 <strong class="reserved">if</strong> ((rowxerr += rowincxerr) &lt; 0) <em class="brace">{</em>
<a id="L811" name="L811"></a> 811                     rowxerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L812" name="L812"></a> 812                     rowx++;
<a id="L813" name="L813"></a> 813                 <em class="brace">}</em>
<a id="L814" name="L814"></a> 814                 <strong class="reserved">if</strong> ((rowx += rowincx) &gt;= bWidth) <em class="brace">{</em>
<a id="L815" name="L815"></a> 815                     rowx -= bWidth;
<a id="L816" name="L816"></a> 816                 <em class="brace">}</em>
<a id="L817" name="L817"></a> 817                 <strong class="reserved">if</strong> ((rowyerr += rowincyerr) &lt; 0) <em class="brace">{</em>
<a id="L818" name="L818"></a> 818                     rowyerr &amp;= <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L819" name="L819"></a> 819                     rowy++;
<a id="L820" name="L820"></a> 820                 <em class="brace">}</em>
<a id="L821" name="L821"></a> 821                 <strong class="reserved">if</strong> ((rowy += rowincy) &gt;= bHeight) <em class="brace">{</em>
<a id="L822" name="L822"></a> 822                     rowy -= bHeight;
<a id="L823" name="L823"></a> 823                 <em class="brace">}</em>
<a id="L824" name="L824"></a> 824             <em class="brace">}</em>
<a id="L825" name="L825"></a> 825         <em class="brace">}</em>
<a id="L826" name="L826"></a> 826     <em class="brace">}</em>
<a id="L827" name="L827"></a> 827 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L69">[^]</a><a href="#L754">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>