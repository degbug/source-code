<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L57">[^]</a><a href="#L1397">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L57" title="Defined at 57.">fireEndElem</a></li>
<li><a href="#L73" title="Defined at 73.">fireCharEvent</a></li>
<li><a href="#L238" title="Defined at 238.">comment</a></li>
<li><a href="#L259" title="Defined at 259.">patchName</a></li>
<li><a href="#L288" title="Defined at 288.">getLocalName</a></li>
<li><a href="#L320" title="Defined at 320.">setDocumentLocator</a></li>
<li><a href="#L343" title="Defined at 343.">addAttribute</a></li>
<li><a href="#L373" title="Defined at 373.">addAttributeAlways</a></li>
<li><a href="#L425" title="Defined at 425.">addAttribute</a></li>
<li><a href="#L445" title="Defined at 445.">addXSLAttribute</a></li>
<li><a href="#L462" title="Defined at 462.">addAttributes</a></li>
<li><a href="#L493" title="Defined at 493.">asContentHandler</a></li>
<li><a href="#L505" title="Defined at 505.">endEntity</a></li>
<li><a href="#L520" title="Defined at 520.">close</a></li>
<li><a href="#L528" title="Defined at 528.">initCDATA</a></li>
<li><a href="#L539" title="Defined at 539.">getEncoding</a></li>
<li><a href="#L548" title="Defined at 548.">setEncoding</a></li>
<li><a href="#L558" title="Defined at 558.">setOmitXMLDeclaration</a></li>
<li><a href="#L568" title="Defined at 568.">getOmitXMLDeclaration</a></li>
<li><a href="#L580" title="Defined at 580.">getDoctypePublic</a></li>
<li><a href="#L589" title="Defined at 589.">setDoctypePublic</a></li>
<li><a href="#L602" title="Defined at 602.">getDoctypeSystem</a></li>
<li><a href="#L611" title="Defined at 611.">setDoctypeSystem</a></li>
<li><a href="#L622" title="Defined at 622.">setDoctype</a></li>
<li><a href="#L635" title="Defined at 635.">setStandalone</a></li>
<li><a href="#L648" title="Defined at 648.">setStandaloneInternal</a></li>
<li><a href="#L663" title="Defined at 663.">getStandalone</a></li>
<li><a href="#L672" title="Defined at 672.">getIndent</a></li>
<li><a href="#L682" title="Defined at 682.">getMediaType</a></li>
<li><a href="#L691" title="Defined at 691.">getVersion</a></li>
<li><a href="#L701" title="Defined at 701.">setVersion</a></li>
<li><a href="#L713" title="Defined at 713.">setMediaType</a></li>
<li><a href="#L721" title="Defined at 721.">getIndentAmount</a></li>
<li><a href="#L730" title="Defined at 730.">setIndentAmount</a></li>
<li><a href="#L742" title="Defined at 742.">setIndent</a></li>
<li><a href="#L752" title="Defined at 752.">setIsStandalone</a></li>
<li><a href="#L768" title="Defined at 768.">namespaceAfterStartElement</a></li>
<li><a href="#L784" title="Defined at 784.">asDOMSerializer</a></li>
<li><a href="#L800" title="Defined at 800.">isCdataSection</a></li>
<li><a href="#L850" title="Defined at 850.">subPartMatch</a></li>
<li><a href="#L864" title="Defined at 864.">getPrefixPart</a></li>
<li><a href="#L876" title="Defined at 876.">getNamespaceMappings</a></li>
<li><a href="#L887" title="Defined at 887.">getPrefix</a></li>
<li><a href="#L901" title="Defined at 901.">getNamespaceURI</a></li>
<li><a href="#L931" title="Defined at 931.">getNamespaceURIFromPrefix</a></li>
<li><a href="#L946" title="Defined at 946.">entityReference</a></li>
<li><a href="#L963" title="Defined at 963.">setTransformer</a></li>
<li><a href="#L982" title="Defined at 982.">getTransformer</a></li>
<li><a href="#L993" title="Defined at 993.">characters</a></li>
<li><a href="#L1014" title="Defined at 1014.">error</a></li>
<li><a href="#L1020" title="Defined at 1020.">fatalError</a></li>
<li><a href="#L1029" title="Defined at 1029.">warning</a></li>
<li><a href="#L1037" title="Defined at 1037.">fireStartEntity</a></li>
<li><a href="#L1070" title="Defined at 1070.">flushMyWriter</a></li>
<li><a href="#L1090" title="Defined at 1090.">fireCDATAEvent</a></li>
<li><a href="#L1106" title="Defined at 1106.">fireCommentEvent</a></li>
<li><a href="#L1121" title="Defined at 1121.">fireEndEntity</a></li>
<li><a href="#L1132" title="Defined at 1132.">fireStartDoc</a></li>
<li><a href="#L1146" title="Defined at 1146.">fireEndDoc</a></li>
<li><a href="#L1163" title="Defined at 1163.">fireStartElem</a></li>
<li><a href="#L1191" title="Defined at 1191.">fireEscapingEvent</a></li>
<li><a href="#L1207" title="Defined at 1207.">fireEntityReference</a></li>
<li><a href="#L1231" title="Defined at 1231.">startDocument</a></li>
<li><a href="#L1256" title="Defined at 1256.">startDocumentInternal</a></li>
<li><a href="#L1265" title="Defined at 1265.">setDocumentInfo</a></li>
<li><a href="#L1286" title="Defined at 1286.">setSourceLocator</a></li>
<li><a href="#L1298" title="Defined at 1298.">setNamespaceMappings</a></li>
<li><a href="#L1302" title="Defined at 1302.">reset</a></li>
<li><a href="#L1312" title="Defined at 1312.">resetSerializerBase</a></li>
<li><a href="#L1346" title="Defined at 1346.">inTemporaryOutputState</a></li>
<li><a href="#L1363" title="Defined at 1363.">addAttribute</a></li>
<li><a href="#L1374" title="Defined at 1374.">notationDecl</a></li>
<li><a href="#L1383" title="Defined at 1383.">unparsedEntityDecl</a></li>
<li><a href="#L1397" title="Defined at 1397.">setDTDEntityExpansion</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<div class="comment">
  $Id: SerializerBase.java,v 1.5 2006/04/14 12:09:19 sunithareddy Exp $</div>
<a id="L23" name="L23"></a>  23 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.serializer;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.IOException;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.util.Vector;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.xml.transform.SourceLocator;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.xml.transform.Transformer;
<a id="L30" name="L30"></a>  30 
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.serializer.utils.MsgKey;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.serializer.utils.Utils;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> org.xml.sax.Attributes;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> org.xml.sax.ContentHandler;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> org.xml.sax.Locator;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> org.xml.sax.SAXParseException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> org.xml.sax.ext.Locator2;
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40 
<div class="comment">
  This class acts as a base class for the XML "serializers"
  and the stream serializers.
  It contains a number of common fields and methods.
  @xsl.usage internal</div>
<a id="L48" name="L48"></a>  48 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/7054.html" title="Multiple referred from 3 places.">SerializerBase</a>
<a id="L49" name="L49"></a>  49     <strong class="reserved">implements</strong> <a href="../S/5585.html#L45" title="Defined at 45 in src/com/sun/org/apache/xml/internal/serializer/SerializationHandler.java.">SerializationHandler</a>, <a href="../S/5586.html#L29" title="Defined at 29 in src/com/sun/org/apache/xml/internal/serializer/SerializerConstants.java.">SerializerConstants</a>
<a id="L50" name="L50"></a>  50 <em class="brace">{</em>
<a id="L51" name="L51"></a>  51 
<a id="L52" name="L52"></a>  52 
<div class="comment">
      To fire off the end element trace event
      @param name Name of element</div>
<a id="L57" name="L57"></a>  57     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14569.html" title="Multiple referred from 9 places.">fireEndElem</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L58" name="L58"></a>  58         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L59" name="L59"></a>  59     <em class="brace">{</em>
<a id="L60" name="L60"></a>  60         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L61" name="L61"></a>  61         <em class="brace">{</em>
<a id="L62" name="L62"></a>  62             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L63" name="L63"></a>  63             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_ENDELEMENT,<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, (<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a>)<strong class="reserved">null</strong>);
<a id="L64" name="L64"></a>  64         <em class="brace">}</em>
<a id="L65" name="L65"></a>  65     <em class="brace">}</em>
<a id="L66" name="L66"></a>  66 
<div class="comment">
      Report the characters trace event
      @param chars  content of characters
      @param start  starting index of characters to output
      @param length  number of characters to output</div>
<a id="L73" name="L73"></a>  73     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14555.html" title="Multiple referred from 7 places.">fireCharEvent</a>(<strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L74" name="L74"></a>  74         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L75" name="L75"></a>  75     <em class="brace">{</em>
<a id="L76" name="L76"></a>  76         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L77" name="L77"></a>  77         <em class="brace">{</em>
<a id="L78" name="L78"></a>  78             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L79" name="L79"></a>  79             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_CHARACTERS, <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L80" name="L80"></a>  80         <em class="brace">}</em>
<a id="L81" name="L81"></a>  81     <em class="brace">}</em>
<a id="L82" name="L82"></a>  82 
<div class="comment">
      true if we still need to call startDocumentInternal()</div>
<a id="L86" name="L86"></a>  86     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_needToCallStartDocument = <strong class="reserved">true</strong>;
<a id="L87" name="L87"></a>  87 
<div class="comment">
 True if a trailing "]]&gt;" still needs to be written to be
      written out. Used to merge adjacent CDATA sections</div>
<a id="L91" name="L91"></a>  91     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_cdataTagOpen = <strong class="reserved">false</strong>;
<a id="L92" name="L92"></a>  92 
<div class="comment">
      All the attributes of the current element, collected from
      startPrefixMapping() calls, or addAddtribute() calls, or
      from the SAX attributes in a startElement() call.</div>
<a id="L98" name="L98"></a>  98     <strong class="reserved">protected</strong> <a href="../S/5550.html#L41" title="Defined at 41 in src/com/sun/org/apache/xml/internal/serializer/AttributesImplSerializer.java.">AttributesImplSerializer</a> m_attributes = <strong class="reserved">new</strong> <a href="../S/5550.html#L41" title="Defined at 41 in src/com/sun/org/apache/xml/internal/serializer/AttributesImplSerializer.java.">AttributesImplSerializer</a>();
<a id="L99" name="L99"></a>  99 
<div class="comment">
      Tells if we're in an EntityRef event.</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_inEntityRef = <strong class="reserved">false</strong>;
<a id="L104" name="L104"></a> 104 
<div class="comment">
     /** This flag is set while receiving events from the external DTD */</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_inExternalDTD = <strong class="reserved">false</strong>;
<a id="L107" name="L107"></a> 107 
<div class="comment">
      The System ID for the doc type.</div>
<a id="L111" name="L111"></a> 111     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> m_doctypeSystem;
<a id="L112" name="L112"></a> 112 
<div class="comment">
      The public ID for the doc type.</div>
<a id="L116" name="L116"></a> 116     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> m_doctypePublic;
<a id="L117" name="L117"></a> 117 
<div class="comment">
      Flag to tell that we need to add the doctype decl, which we can't do
      until the first element is encountered.</div>
<a id="L122" name="L122"></a> 122     <strong class="reserved">boolean</strong> m_needToOutputDocTypeDecl = <strong class="reserved">true</strong>;
<a id="L123" name="L123"></a> 123 
<div class="comment">
      The character encoding.  Must match the encoding used for the
      printWriter.</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> m_encoding = <strong class="reserved">null</strong>;
<a id="L129" name="L129"></a> 129 
<div class="comment">
      Tells if we should write the XML declaration.</div>
<a id="L133" name="L133"></a> 133     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> m_shouldNotWriteXMLHeader = <strong class="reserved">false</strong>;
<a id="L134" name="L134"></a> 134 
<div class="comment">
      The standalone value for the doctype.</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> m_standalone;
<a id="L139" name="L139"></a> 139 
<div class="comment">
      True if standalone was specified.</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_standaloneWasSpecified = <strong class="reserved">false</strong>;
<a id="L144" name="L144"></a> 144 
<div class="comment">
      Determine if the output is a standalone.</div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_isStandalone = <strong class="reserved">false</strong>;
<a id="L149" name="L149"></a> 149 
<div class="comment">
      Flag to tell if indenting (pretty-printing) is on.</div>
<a id="L153" name="L153"></a> 153     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_doIndent = <strong class="reserved">false</strong>;
<div class="comment">
      Amount to indent.</div>
<a id="L157" name="L157"></a> 157     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_indentAmount = 0;
<a id="L158" name="L158"></a> 158 
<div class="comment">
      Tells the XML version, for writing out to the XML decl.</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> m_version = <strong class="reserved">null</strong>;
<a id="L163" name="L163"></a> 163 
<div class="comment">
      The mediatype.  Not used right now.</div>
<a id="L167" name="L167"></a> 167     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> m_mediatype;
<a id="L168" name="L168"></a> 168 
<div class="comment">
      The transformer that was around when this output handler was created (if
      any).</div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">private</strong> <a href="../S/4036.html#L49" title="Defined at 49 in src/javax/xml/transform/Transformer.java.">Transformer</a> m_transformer;
<a id="L174" name="L174"></a> 174 
<div class="comment">
      Pairs of local names and corresponding URIs of CDATA sections. This list
      comes from the cdata-section-elements attribute. Every second one is a
      local name, and every other second one is the URI for the local name.</div>
<a id="L180" name="L180"></a> 180     <strong class="reserved">protected</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> m_cdataSectionElements = <strong class="reserved">null</strong>;
<a id="L181" name="L181"></a> 181 
<div class="comment">
      Namespace support, that keeps track of currently defined
      prefix/uri mappings. As processed elements come and go, so do
      the associated mappings for that element.</div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">protected</strong> <a href="../S/5584.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/serializer/NamespaceMappings.java.">NamespaceMappings</a> m_prefixMap;
<a id="L188" name="L188"></a> 188 
<div class="comment">
      Handle for firing generate events.  This interface may be implemented
      by the referenced transformer object.</div>
<a id="L193" name="L193"></a> 193     <strong class="reserved">protected</strong> <a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a> m_tracer;
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195     <strong class="reserved">protected</strong> <a href="../S/4044.html#L32" title="Defined at 32 in src/javax/xml/transform/SourceLocator.java.">SourceLocator</a> m_sourceLocator;
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197 
<div class="comment">
      The writer to send output to. This field is only used in the ToStream
      serializers, but exists here just so that the fireStartDoc() and
      other fire... methods can flush this writer when tracing.</div>
<a id="L203" name="L203"></a> 203     <strong class="reserved">protected</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> m_writer = <strong class="reserved">null</strong>;
<a id="L204" name="L204"></a> 204 
<div class="comment">
      A reference to "stack frame" corresponding to
      the current element. Such a frame is pushed at a startElement()
      and popped at an endElement(). This frame contains information about
      the element, such as its namespace URI.</div>
<a id="L211" name="L211"></a> 211     <strong class="reserved">protected</strong> <a href="../S/5547.html#L55" title="Defined at 55 in src/com/sun/org/apache/xml/internal/serializer/ElemContext.java.">ElemContext</a> m_elemContext = <strong class="reserved">new</strong> <a href="../S/5547.html#L55" title="Defined at 55 in src/com/sun/org/apache/xml/internal/serializer/ElemContext.java.">ElemContext</a>();
<a id="L212" name="L212"></a> 212 
<div class="comment">
      A utility buffer for converting Strings passed to
      character() methods to character arrays.
      Reusing this buffer means not creating a new character array
      everytime and it runs faster.</div>
<a id="L219" name="L219"></a> 219     <strong class="reserved">protected</strong> <strong class="reserved">char</strong>[] m_charsBuff = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[60];
<a id="L220" name="L220"></a> 220 
<div class="comment">
      A utility buffer for converting Strings passed to
      attribute methods to character arrays.
      Reusing this buffer means not creating a new character array
      everytime and it runs faster.</div>
<a id="L227" name="L227"></a> 227     <strong class="reserved">protected</strong> <strong class="reserved">char</strong>[] m_attrBuff = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[30];
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229     <strong class="reserved">private</strong> <a href="../D/5191.html" title="Multiple defined in 3 places.">Locator</a> m_locator = <strong class="reserved">null</strong>;
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> m_needToCallSetDocumentInfo = <strong class="reserved">true</strong>;
<a id="L232" name="L232"></a> 232 
<div class="comment">
      Receive notification of a comment.
      @see ExtendedLexicalHandler#comment(String)</div>
<a id="L238" name="L238"></a> 238     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11671.html" title="Multiple referred from 126 places.">comment</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L239" name="L239"></a> 239     <em class="brace">{</em>
<a id="L240" name="L240"></a> 240         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L241" name="L241"></a> 241         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; m_charsBuff.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L242" name="L242"></a> 242         <em class="brace">{</em>
<a id="L243" name="L243"></a> 243             m_charsBuff = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> * 2 + 1];
<a id="L244" name="L244"></a> 244         <em class="brace">}</em>
<a id="L245" name="L245"></a> 245         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, m_charsBuff, 0);
<a id="L246" name="L246"></a> 246         <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>(m_charsBuff, 0, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L247" name="L247"></a> 247     <em class="brace">}</em>
<a id="L248" name="L248"></a> 248 
<div class="comment">
      If at runtime, when the qname of the attribute is
      known, another prefix is specified for the attribute, then we can
      patch or hack the name with this method. For
      a qname of the form "ns?:otherprefix:name", this function patches the
      qname by simply ignoring "otherprefix".
      TODO: This method is a HACK! We do not have access to the
      XML file, it sometimes generates a NS prefix of the form "ns?" for
      an attribute.</div>
<a id="L259" name="L259"></a> 259     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/24679.html" title="Multiple referred from 3 places.">patchName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> qname)
<a id="L260" name="L260"></a> 260     <em class="brace">{</em>
<a id="L261" name="L261"></a> 261 
<a id="L262" name="L262"></a> 262 
<a id="L263" name="L263"></a> 263         <strong class="reserved">final</strong> <strong class="reserved">int</strong> lastColon = qname.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(':');
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265         <strong class="reserved">if</strong> (lastColon &gt; 0) <em class="brace">{</em>
<a id="L266" name="L266"></a> 266             <strong class="reserved">final</strong> <strong class="reserved">int</strong> firstColon = qname.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L267" name="L267"></a> 267             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = qname.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, firstColon);
<a id="L268" name="L268"></a> 268             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> = qname.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(lastColon + 1);
<a id="L269" name="L269"></a> 269 
<a id="L270" name="L270"></a> 270         <em class="comment">// If uri is "" then ignore prefix</em>
<a id="L271" name="L271"></a> 271             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = m_prefixMap.<a href="../D/27133.html" title="Multiple defined in 9 places.">lookupNamespace</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L272" name="L272"></a> 272             <strong class="reserved">if</strong> (uri != <strong class="reserved">null</strong> &amp;&amp; uri.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L273" name="L273"></a> 273                 <strong class="reserved">return</strong> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>;
<a id="L274" name="L274"></a> 274             <em class="brace">}</em>
<a id="L275" name="L275"></a> 275             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (firstColon != lastColon) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276                 <strong class="reserved">return</strong> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ':' + <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>;
<a id="L277" name="L277"></a> 277             <em class="brace">}</em>
<a id="L278" name="L278"></a> 278         <em class="brace">}</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">return</strong> qname;
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<div class="comment">
      Returns the local name of a qualified name. If the name has no prefix,
      then it works as the identity (SAX2).
      @param qname the qualified name
      @return the name, but excluding any prefix and colon.</div>
<a id="L288" name="L288"></a> 288     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17419.html" title="Multiple referred from 323 places.">getLocalName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> qname)
<a id="L289" name="L289"></a> 289     <em class="brace">{</em>
<a id="L290" name="L290"></a> 290         <strong class="reserved">final</strong> <strong class="reserved">int</strong> col = qname.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(':');
<a id="L291" name="L291"></a> 291         <strong class="reserved">return</strong> (col &gt; 0) ? qname.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(col + 1) : qname;
<a id="L292" name="L292"></a> 292     <em class="brace">}</em>
<a id="L293" name="L293"></a> 293 
<div class="comment">
      Receive an object for locating the origin of SAX document events.
      @param locator An object that can return the location of any SAX document
      event.
      Receive an object for locating the origin of SAX document events.
      <p>SAX parsers are strongly encouraged (though not absolutely
      required) to supply a locator: if it does so, it must supply
      the locator to the application by invoking this method before
      invoking any of the other methods in the DocumentHandler
      interface.</p>
      <p>The locator allows the application to determine the end
      position of any document-related event, even if the parser is
      not reporting an error.  Typically, the application will
      use this information for reporting its own errors (such as
      character content that does not match an application's
      business rules).  The information returned by the locator
      is probably not sufficient for use with a search engine.</p>
      <p>Note that the locator will return correct information only
      during the invocation of the events in this interface.  The
      application should not attempt to use it at any other time.</p></div>
<a id="L320" name="L320"></a> 320     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27270.html" title="Multiple referred from 45 places.">setDocumentLocator</a>(<a href="../D/5191.html" title="Multiple defined in 3 places.">Locator</a> locator)
<a id="L321" name="L321"></a> 321     <em class="brace">{</em>
<a id="L322" name="L322"></a> 322         m_locator = locator;
<a id="L323" name="L323"></a> 323     <em class="brace">}</em>
<a id="L324" name="L324"></a> 324 
<div class="comment">
      Adds the given attribute to the set of collected attributes , but only if
      there is a currently open element.
      An element is currently open if a startElement() notification has
      occured but the start of the element has not yet been written to the
      output.  In the stream case this means that we have not yet been forced
      to close the elements opening tag by another notification, such as a
      character notification.
      @param uri the URI of the attribute
      @param localName the local name of the attribute
      @param rawName    the qualified name of the attribute
      @param type the type of the attribute (probably CDATA)
      @param value the value of the attribute
      @param XSLAttribute true if this attribute is coming from an xsl:attriute element
      @see ExtendedContentHandler#addAttribute(String, String, String, String, String)</div>
<a id="L343" name="L343"></a> 343     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9616.html" title="Multiple referred from 451 places.">addAttribute</a>(
<a id="L344" name="L344"></a> 344         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri,
<a id="L345" name="L345"></a> 345         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>,
<a id="L346" name="L346"></a> 346         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rawName,
<a id="L347" name="L347"></a> 347         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L348" name="L348"></a> 348         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L349" name="L349"></a> 349         <strong class="reserved">boolean</strong> XSLAttribute)
<a id="L350" name="L350"></a> 350         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L351" name="L351"></a> 351     <em class="brace">{</em>
<a id="L352" name="L352"></a> 352         <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L353" name="L353"></a> 353         <em class="brace">{</em>
<a id="L354" name="L354"></a> 354             <a href="../D/10661.html" title="Multiple defined in 2 places.">addAttributeAlways</a>(uri, <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, rawName, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, XSLAttribute);
<a id="L355" name="L355"></a> 355         <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<a id="L357" name="L357"></a> 357     <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<div class="comment">
      Adds the given attribute to the set of attributes, even if there is
      no currently open element. This is useful if a SAX startPrefixMapping()
      should need to add an attribute before the element name is seen.
      @param uri the URI of the attribute
      @param localName the local name of the attribute
      @param rawName   the qualified name of the attribute
      @param type the type of the attribute (probably CDATA)
      @param value the value of the attribute
      @param XSLAttribute true if this attribute is coming from an xsl:attribute element
      @return true if the attribute was added,
      false if an existing value was replaced.</div>
<a id="L373" name="L373"></a> 373     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9617.html" title="Multiple referred from 14 places.">addAttributeAlways</a>(
<a id="L374" name="L374"></a> 374         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri,
<a id="L375" name="L375"></a> 375         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>,
<a id="L376" name="L376"></a> 376         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rawName,
<a id="L377" name="L377"></a> 377         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L378" name="L378"></a> 378         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L379" name="L379"></a> 379         <strong class="reserved">boolean</strong> XSLAttribute)
<a id="L380" name="L380"></a> 380     <em class="brace">{</em>
<a id="L381" name="L381"></a> 381         <strong class="reserved">boolean</strong> was_added;
<a id="L382" name="L382"></a> 382 <em class="comment">//            final int index =</em>
<a id="L383" name="L383"></a> 383 <em class="comment">//                (localName == null || uri == null) ?</em>
<a id="L384" name="L384"></a> 384 <em class="comment">//                m_attributes.getIndex(rawName):m_attributes.getIndex(uri, localName);</em>
<a id="L385" name="L385"></a> 385             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L386" name="L386"></a> 386 <em class="comment">//            if (localName == null || uri == null){</em>
<a id="L387" name="L387"></a> 387 <em class="comment">//                index = m_attributes.getIndex(rawName);</em>
<a id="L388" name="L388"></a> 388 <em class="comment">//            }</em>
<a id="L389" name="L389"></a> 389 <em class="comment">//            else {</em>
<a id="L390" name="L390"></a> 390 <em class="comment">//                index = m_attributes.getIndex(uri, localName);</em>
<a id="L391" name="L391"></a> 391 <em class="comment">//            }</em>
<a id="L392" name="L392"></a> 392 
<a id="L393" name="L393"></a> 393             <strong class="reserved">if</strong> (<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> == <strong class="reserved">null</strong> || uri == <strong class="reserved">null</strong> || uri.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)
<a id="L394" name="L394"></a> 394                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = m_attributes.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>(rawName);
<a id="L395" name="L395"></a> 395             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L396" name="L396"></a> 396                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = m_attributes.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>(uri,<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>);
<a id="L397" name="L397"></a> 397             <em class="brace">}</em>
<a id="L398" name="L398"></a> 398             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0)
<a id="L399" name="L399"></a> 399             <em class="brace">{</em>
<div class="comment">
 We've seen the attribute before.
                  We may have a null uri or localName, but all
                  we really want to re-set is the value anyway.</div>
<a id="L404" name="L404"></a> 404                 m_attributes.<a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>,<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L405" name="L405"></a> 405                 was_added = <strong class="reserved">false</strong>;
<a id="L406" name="L406"></a> 406             <em class="brace">}</em>
<a id="L407" name="L407"></a> 407             <strong class="reserved">else</strong>
<a id="L408" name="L408"></a> 408             <em class="brace">{</em>
<a id="L409" name="L409"></a> 409                 <em class="comment">// the attribute doesn't exist yet, create it</em>
<a id="L410" name="L410"></a> 410                 m_attributes.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(uri, <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, rawName, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L411" name="L411"></a> 411                 was_added = <strong class="reserved">true</strong>;
<a id="L412" name="L412"></a> 412             <em class="brace">}</em>
<a id="L413" name="L413"></a> 413             <strong class="reserved">return</strong> was_added;
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415     <em class="brace">}</em>
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417 
<div class="comment">
       Adds  the given attribute to the set of collected attributes,
      but only if there is a currently open element.
      @param name the attribute's qualified name
      @param value the value of the attribute</div>
<a id="L425" name="L425"></a> 425     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9616.html" title="Multiple referred from 451 places.">addAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)
<a id="L426" name="L426"></a> 426     <em class="brace">{</em>
<a id="L427" name="L427"></a> 427         <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L428" name="L428"></a> 428         <em class="brace">{</em>
<a id="L429" name="L429"></a> 429             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> patchedName = <a href="../S/5556.html#L259" title="Defined at 259 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">patchName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L430" name="L430"></a> 430             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> = <a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(patchedName);
<a id="L431" name="L431"></a> 431             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = <a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>(patchedName, <strong class="reserved">false</strong>);
<a id="L432" name="L432"></a> 432 
<a id="L433" name="L433"></a> 433             <a href="../D/10661.html" title="Multiple defined in 2 places.">addAttributeAlways</a>(uri,<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, patchedName, "CDATA", <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">false</strong>);
<a id="L434" name="L434"></a> 434          <em class="brace">}</em>
<a id="L435" name="L435"></a> 435     <em class="brace">}</em>
<a id="L436" name="L436"></a> 436 
<div class="comment">
      Adds the given xsl:attribute to the set of collected attributes,
      but only if there is a currently open element.
      @param name the attribute's qualified name (prefix:localName)
      @param value the value of the attribute
      @param uri the URI that the prefix of the name points to</div>
<a id="L445" name="L445"></a> 445     <strong class="reserved">public</strong> <strong class="reserved">void</strong> addXSLAttribute(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri)
<a id="L446" name="L446"></a> 446     <em class="brace">{</em>
<a id="L447" name="L447"></a> 447         <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L448" name="L448"></a> 448         <em class="brace">{</em>
<a id="L449" name="L449"></a> 449             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> patchedName = <a href="../S/5556.html#L259" title="Defined at 259 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">patchName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L450" name="L450"></a> 450             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> = <a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(patchedName);
<a id="L451" name="L451"></a> 451 
<a id="L452" name="L452"></a> 452             <a href="../D/10661.html" title="Multiple defined in 2 places.">addAttributeAlways</a>(uri,<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, patchedName, "CDATA", <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">true</strong>);
<a id="L453" name="L453"></a> 453          <em class="brace">}</em>
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Add the given attributes to the currently collected ones. These
      attributes are always added, regardless of whether on not an element
      is currently open.
      @param atts List of attributes to add to this list</div>
<a id="L462" name="L462"></a> 462     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9624.html" title="Multiple referred from 47 places.">addAttributes</a>(<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a> atts) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L463" name="L463"></a> 463     <em class="brace">{</em>
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465         <strong class="reserved">int</strong> nAtts = atts.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L466" name="L466"></a> 466         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nAtts; i++)
<a id="L467" name="L467"></a> 467         <em class="brace">{</em>
<a id="L468" name="L468"></a> 468             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = atts.<a href="../D/23369.html" title="Multiple defined in 43 places.">getURI</a>(i);
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == uri)
<a id="L471" name="L471"></a> 471                 uri = "";
<a id="L472" name="L472"></a> 472 
<a id="L473" name="L473"></a> 473             <a href="../D/10661.html" title="Multiple defined in 2 places.">addAttributeAlways</a>(
<a id="L474" name="L474"></a> 474                 uri,
<a id="L475" name="L475"></a> 475                 atts.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(i),
<a id="L476" name="L476"></a> 476                 atts.<a href="../D/21788.html" title="Multiple defined in 20 places.">getQName</a>(i),
<a id="L477" name="L477"></a> 477                 atts.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>(i),
<a id="L478" name="L478"></a> 478                 atts.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(i),
<a id="L479" name="L479"></a> 479                 <strong class="reserved">false</strong>);
<a id="L480" name="L480"></a> 480 
<a id="L481" name="L481"></a> 481         <em class="brace">}</em>
<a id="L482" name="L482"></a> 482     <em class="brace">}</em>
<a id="L483" name="L483"></a> 483 
<div class="comment">
      Return a <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> interface into this serializer.
      If the serializer does not support the <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a>
      interface, it should return null.
      @return A <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> interface into this serializer,
       or null if the serializer is not SAX 2 capable
      @throws IOException An I/O exception occured</div>
<a id="L493" name="L493"></a> 493     <strong class="reserved">public</strong> <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> asContentHandler() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L494" name="L494"></a> 494     <em class="brace">{</em>
<a id="L495" name="L495"></a> 495         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L496" name="L496"></a> 496     <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<div class="comment">
      Report the end of an entity.
      @param name The name of the entity that is ending.
      @throws org.xml.sax.SAXException The application may raise an exception.
      @see #startEntity</div>
<a id="L505" name="L505"></a> 505     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13769.html" title="Multiple referred from 20 places.">endEntity</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L506" name="L506"></a> 506     <em class="brace">{</em>
<a id="L507" name="L507"></a> 507         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("[dtd]"))
<a id="L508" name="L508"></a> 508             m_inExternalDTD = <strong class="reserved">false</strong>;
<a id="L509" name="L509"></a> 509         m_inEntityRef = <strong class="reserved">false</strong>;
<a id="L510" name="L510"></a> 510 
<a id="L511" name="L511"></a> 511         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L512" name="L512"></a> 512             <strong class="reserved">this</strong>.<a href="../S/5556.html#L1121" title="Defined at 1121 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireEndEntity</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L513" name="L513"></a> 513     <em class="brace">}</em>
<a id="L514" name="L514"></a> 514 
<div class="comment">
      Flush and close the underlying java.io.Writer. This method applies to
      ToStream serializers, not ToSAXHandler serializers.
      @see ToStream</div>
<a id="L520" name="L520"></a> 520     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11587.html" title="Multiple referred from 410 places.">close</a>()
<a id="L521" name="L521"></a> 521     <em class="brace">{</em>
<a id="L522" name="L522"></a> 522         <em class="comment">// do nothing (base behavior)</em>
<a id="L523" name="L523"></a> 523     <em class="brace">}</em>
<a id="L524" name="L524"></a> 524 
<div class="comment">
      Initialize global variables</div>
<a id="L528" name="L528"></a> 528     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20545.html" title="Multiple referred from 4 places.">initCDATA</a>()
<a id="L529" name="L529"></a> 529     <em class="brace">{</em>
<a id="L530" name="L530"></a> 530         <em class="comment">// CDATA stack</em>
<a id="L531" name="L531"></a> 531         <em class="comment">//        _cdataStack = new Stack();</em>
<a id="L532" name="L532"></a> 532         <em class="comment">//        _cdataStack.push(new Integer(-1)); // push dummy value</em>
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<div class="comment">
      Returns the character encoding to be used in the output document.
      @return the character encoding to be used in the output document.</div>
<a id="L539" name="L539"></a> 539     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16356.html" title="Multiple referred from 82 places.">getEncoding</a>()
<a id="L540" name="L540"></a> 540     <em class="brace">{</em>
<a id="L541" name="L541"></a> 541         <strong class="reserved">return</strong> m_encoding;
<a id="L542" name="L542"></a> 542     <em class="brace">}</em>
<a id="L543" name="L543"></a> 543 
<div class="comment">
      Sets the character encoding coming from the xsl:output encoding stylesheet attribute.
      @param m_encoding the character encoding</div>
<a id="L548" name="L548"></a> 548     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27319.html" title="Multiple referred from 47 places.">setEncoding</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> m_encoding)
<a id="L549" name="L549"></a> 549     <em class="brace">{</em>
<a id="L550" name="L550"></a> 550         <strong class="reserved">this</strong>.m_encoding = m_encoding;
<a id="L551" name="L551"></a> 551     <em class="brace">}</em>
<a id="L552" name="L552"></a> 552 
<div class="comment">
      Sets the value coming from the xsl:output omit-xml-declaration stylesheet attribute
      @param b true if the XML declaration is to be omitted from the output
      document.</div>
<a id="L558" name="L558"></a> 558     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27852.html" title="Multiple referred from 8 places.">setOmitXMLDeclaration</a>(<strong class="reserved">boolean</strong> b)
<a id="L559" name="L559"></a> 559     <em class="brace">{</em>
<a id="L560" name="L560"></a> 560         <strong class="reserved">this</strong>.m_shouldNotWriteXMLHeader = b;
<a id="L561" name="L561"></a> 561     <em class="brace">}</em>
<a id="L562" name="L562"></a> 562 
<a id="L563" name="L563"></a> 563 
<div class="comment">
      @return true if the XML declaration is to be omitted from the output
      document.</div>
<a id="L568" name="L568"></a> 568     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/18129.html" title="Multiple referred from 5 places.">getOmitXMLDeclaration</a>()
<a id="L569" name="L569"></a> 569     <em class="brace">{</em>
<a id="L570" name="L570"></a> 570         <strong class="reserved">return</strong> m_shouldNotWriteXMLHeader;
<a id="L571" name="L571"></a> 571     <em class="brace">}</em>
<a id="L572" name="L572"></a> 572 
<div class="comment">
      Returns the previously set value of the value to be used as the public
      identifier in the document type declaration (DTD).
     @return the public identifier to be used in the DOCTYPE declaration in the
      output document.</div>
<a id="L580" name="L580"></a> 580     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16212.html" title="Multiple referred from 9 places.">getDoctypePublic</a>()
<a id="L581" name="L581"></a> 581     <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <strong class="reserved">return</strong> m_doctypePublic;
<a id="L583" name="L583"></a> 583     <em class="brace">}</em>
<a id="L584" name="L584"></a> 584 
<div class="comment">
 Set the value coming from the xsl:output doctype-public stylesheet attribute.
       @param doctypePublic the public identifier to be used in the DOCTYPE
       declaration in the output document.</div>
<a id="L589" name="L589"></a> 589     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27261.html" title="Multiple referred from 6 places.">setDoctypePublic</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> doctypePublic)
<a id="L590" name="L590"></a> 590     <em class="brace">{</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">this</strong>.m_doctypePublic = doctypePublic;
<a id="L592" name="L592"></a> 592     <em class="brace">}</em>
<a id="L593" name="L593"></a> 593 
<a id="L594" name="L594"></a> 594 
<div class="comment">
      Returns the previously set value of the value to be used
      as the system identifier in the document type declaration (DTD).
          @return the system identifier to be used in the DOCTYPE declaration in
          the output document.</div>
<a id="L602" name="L602"></a> 602     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16213.html" title="Multiple referred from 10 places.">getDoctypeSystem</a>()
<a id="L603" name="L603"></a> 603     <em class="brace">{</em>
<a id="L604" name="L604"></a> 604         <strong class="reserved">return</strong> m_doctypeSystem;
<a id="L605" name="L605"></a> 605     <em class="brace">}</em>
<a id="L606" name="L606"></a> 606 
<div class="comment">
 Set the value coming from the xsl:output doctype-system stylesheet attribute.
       @param doctypeSystem the system identifier to be used in the DOCTYPE
       declaration in the output document.</div>
<a id="L611" name="L611"></a> 611     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27262.html" title="Multiple referred from 6 places.">setDoctypeSystem</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> doctypeSystem)
<a id="L612" name="L612"></a> 612     <em class="brace">{</em>
<a id="L613" name="L613"></a> 613         <strong class="reserved">this</strong>.m_doctypeSystem = doctypeSystem;
<a id="L614" name="L614"></a> 614     <em class="brace">}</em>
<a id="L615" name="L615"></a> 615 
<div class="comment">
 Set the value coming from the xsl:output doctype-public and doctype-system stylesheet properties
      @param doctypeSystem the system identifier to be used in the DOCTYPE
      declaration in the output document.
      @param doctypePublic the public identifier to be used in the DOCTYPE
      declaration in the output document.</div>
<a id="L622" name="L622"></a> 622     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27260.html" title="Multiple referred from 5 places.">setDoctype</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> doctypeSystem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> doctypePublic)
<a id="L623" name="L623"></a> 623     <em class="brace">{</em>
<a id="L624" name="L624"></a> 624         <strong class="reserved">this</strong>.m_doctypeSystem = doctypeSystem;
<a id="L625" name="L625"></a> 625         <strong class="reserved">this</strong>.m_doctypePublic = doctypePublic;
<a id="L626" name="L626"></a> 626     <em class="brace">}</em>
<a id="L627" name="L627"></a> 627 
<div class="comment">
      Sets the value coming from the xsl:output standalone stylesheet attribute.
      @param standalone a value of "yes" indicates that the
      <code>standalone</code> delaration is to be included in the output
      document. This method remembers if the value was explicitly set using
      this method, verses if the value is the default value.</div>
<a id="L635" name="L635"></a> 635     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28217.html" title="Multiple referred from 10 places.">setStandalone</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> standalone)
<a id="L636" name="L636"></a> 636     <em class="brace">{</em>
<a id="L637" name="L637"></a> 637         <strong class="reserved">if</strong> (standalone != <strong class="reserved">null</strong>)
<a id="L638" name="L638"></a> 638         <em class="brace">{</em>
<a id="L639" name="L639"></a> 639             m_standaloneWasSpecified = <strong class="reserved">true</strong>;
<a id="L640" name="L640"></a> 640             <a href="../S/5556.html#L648" title="Defined at 648 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">setStandaloneInternal</a>(standalone);
<a id="L641" name="L641"></a> 641         <em class="brace">}</em>
<a id="L642" name="L642"></a> 642     <em class="brace">}</em>
<div class="comment">
      Sets the XSL standalone attribute, but does not remember if this is a
      default or explicite setting.
      @param standalone "yes" | "no"</div>
<a id="L648" name="L648"></a> 648     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/28218.html" title="Multiple referred from 2 places.">setStandaloneInternal</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> standalone)
<a id="L649" name="L649"></a> 649     <em class="brace">{</em>
<a id="L650" name="L650"></a> 650         <strong class="reserved">if</strong> ("yes".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(standalone))
<a id="L651" name="L651"></a> 651             m_standalone = "yes";
<a id="L652" name="L652"></a> 652         <strong class="reserved">else</strong>
<a id="L653" name="L653"></a> 653             m_standalone = "no";
<a id="L654" name="L654"></a> 654 
<a id="L655" name="L655"></a> 655     <em class="brace">}</em>
<a id="L656" name="L656"></a> 656 
<div class="comment">
      Gets the XSL standalone attribute
      @return a value of "yes" if the <code>standalone</code> delaration is to
      be included in the output document.
       @see XSLOutputAttributes#getStandalone()</div>
<a id="L663" name="L663"></a> 663     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19148.html" title="Multiple referred from 11 places.">getStandalone</a>()
<a id="L664" name="L664"></a> 664     <em class="brace">{</em>
<a id="L665" name="L665"></a> 665         <strong class="reserved">return</strong> m_standalone;
<a id="L666" name="L666"></a> 666     <em class="brace">}</em>
<a id="L667" name="L667"></a> 667 
<div class="comment">
      @return true if the output document should be indented to visually
      indicate its structure.</div>
<a id="L672" name="L672"></a> 672     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/17030.html" title="Multiple referred from 5 places.">getIndent</a>()
<a id="L673" name="L673"></a> 673     <em class="brace">{</em>
<a id="L674" name="L674"></a> 674         <strong class="reserved">return</strong> m_doIndent;
<a id="L675" name="L675"></a> 675     <em class="brace">}</em>
<div class="comment">
      Gets the mediatype the media-type or MIME type associated with the output
      document.
      @return the mediatype the media-type or MIME type associated with the
      output document.</div>
<a id="L682" name="L682"></a> 682     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17632.html" title="Multiple referred from 4 places.">getMediaType</a>()
<a id="L683" name="L683"></a> 683     <em class="brace">{</em>
<a id="L684" name="L684"></a> 684         <strong class="reserved">return</strong> m_mediatype;
<a id="L685" name="L685"></a> 685     <em class="brace">}</em>
<a id="L686" name="L686"></a> 686 
<div class="comment">
      Gets the version of the output format.
      @return the version of the output format.</div>
<a id="L691" name="L691"></a> 691     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19788.html" title="Multiple referred from 46 places.">getVersion</a>()
<a id="L692" name="L692"></a> 692     <em class="brace">{</em>
<a id="L693" name="L693"></a> 693         <strong class="reserved">return</strong> m_version;
<a id="L694" name="L694"></a> 694     <em class="brace">}</em>
<a id="L695" name="L695"></a> 695 
<div class="comment">
      Sets the value coming from the xsl:output version attribute.
      @param version the version of the output format.
      @see SerializationHandler#setVersion(String)</div>
<a id="L701" name="L701"></a> 701     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28387.html" title="Multiple referred from 18 places.">setVersion</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>)
<a id="L702" name="L702"></a> 702     <em class="brace">{</em>
<a id="L703" name="L703"></a> 703         m_version = <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>;
<a id="L704" name="L704"></a> 704     <em class="brace">}</em>
<a id="L705" name="L705"></a> 705 
<div class="comment">
      Sets the value coming from the xsl:output media-type stylesheet attribute.
      @param mediaType the non-null media-type or MIME type associated with the
      output document.
      @see javax.xml.transform.OutputKeys#MEDIA_TYPE
      @see SerializationHandler#setMediaType(String)</div>
<a id="L713" name="L713"></a> 713     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27739.html" title="Multiple referred from 7 places.">setMediaType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mediaType)
<a id="L714" name="L714"></a> 714     <em class="brace">{</em>
<a id="L715" name="L715"></a> 715         m_mediatype = mediaType;
<a id="L716" name="L716"></a> 716     <em class="brace">}</em>
<a id="L717" name="L717"></a> 717 
<div class="comment">
      @return the number of spaces to indent for each indentation level.</div>
<a id="L721" name="L721"></a> 721     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17031.html" title="Multiple referred from 2 places.">getIndentAmount</a>()
<a id="L722" name="L722"></a> 722     <em class="brace">{</em>
<a id="L723" name="L723"></a> 723         <strong class="reserved">return</strong> m_indentAmount;
<a id="L724" name="L724"></a> 724     <em class="brace">}</em>
<a id="L725" name="L725"></a> 725 
<div class="comment">
      Sets the indentation amount.
      @param m_indentAmount The m_indentAmount to set</div>
<a id="L730" name="L730"></a> 730     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27551.html" title="Multiple referred from 7 places.">setIndentAmount</a>(<strong class="reserved">int</strong> m_indentAmount)
<a id="L731" name="L731"></a> 731     <em class="brace">{</em>
<a id="L732" name="L732"></a> 732         <strong class="reserved">this</strong>.m_indentAmount = m_indentAmount;
<a id="L733" name="L733"></a> 733     <em class="brace">}</em>
<a id="L734" name="L734"></a> 734 
<div class="comment">
      Sets the value coming from the xsl:output indent stylesheet
      attribute.
      @param doIndent true if the output document should be indented to
      visually indicate its structure.
      @see XSLOutputAttributes#setIndent(boolean)</div>
<a id="L742" name="L742"></a> 742     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27550.html" title="Multiple referred from 6 places.">setIndent</a>(<strong class="reserved">boolean</strong> doIndent)
<a id="L743" name="L743"></a> 743     <em class="brace">{</em>
<a id="L744" name="L744"></a> 744         m_doIndent = doIndent;
<a id="L745" name="L745"></a> 745     <em class="brace">}</em>
<a id="L746" name="L746"></a> 746 
<div class="comment">
      Sets the isStandalone property
      @param isStandalone true if the ORACLE_IS_STANDALONE is set to yes
      @see OutputPropertiesFactory ORACLE_IS_STANDALONE</div>
<a id="L752" name="L752"></a> 752     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27605.html" title="Multiple referred from 3 places.">setIsStandalone</a>(<strong class="reserved">boolean</strong> <a href="../D/26270.html" title="Multiple defined in 7 places.">isStandalone</a>)
<a id="L753" name="L753"></a> 753     <em class="brace">{</em>
<a id="L754" name="L754"></a> 754        m_isStandalone = <a href="../D/26270.html" title="Multiple defined in 7 places.">isStandalone</a>;
<a id="L755" name="L755"></a> 755     <em class="brace">}</em>
<a id="L756" name="L756"></a> 756 
<div class="comment">
      This method is used when a prefix/uri namespace mapping
      is indicated after the element was started with a
      startElement() and before and endElement().
      startPrefixMapping(prefix,uri) would be used before the
      startElement() call.
      @param uri the URI of the namespace
      @param prefix the prefix associated with the given URI.
      @see ExtendedContentHandler#namespaceAfterStartElement(String, String)</div>
<a id="L768" name="L768"></a> 768     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23436.html" title="Multiple referred from 14 places.">namespaceAfterStartElement</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>)
<a id="L769" name="L769"></a> 769         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L770" name="L770"></a> 770     <em class="brace">{</em>
<a id="L771" name="L771"></a> 771         <em class="comment">// default behavior is to do nothing</em>
<a id="L772" name="L772"></a> 772     <em class="brace">}</em>
<a id="L773" name="L773"></a> 773 
<div class="comment">
      Return a <a href="../D/2086.html" title="Multiple defined in 2 places.">DOMSerializer</a> interface into this serializer. If the
      serializer does not support the <a href="../D/2086.html" title="Multiple defined in 2 places.">DOMSerializer</a> interface, it should
      return null.
      @return A <a href="../D/2086.html" title="Multiple defined in 2 places.">DOMSerializer</a> interface into this serializer,  or null
      if the serializer is not DOM capable
      @throws IOException An I/O exception occured
      @see Serializer#asDOMSerializer()</div>
<a id="L784" name="L784"></a> 784     <strong class="reserved">public</strong> <a href="../D/2086.html" title="Multiple defined in 2 places.">DOMSerializer</a> <a href="../S/5544.html#L1189" title="Referred from 1189 in src/com/sun/org/apache/xml/internal/serializer/ToUnknownStream.java.">asDOMSerializer</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L785" name="L785"></a> 785     <em class="brace">{</em>
<a id="L786" name="L786"></a> 786         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L787" name="L787"></a> 787     <em class="brace">}</em>
<a id="L788" name="L788"></a> 788 
<div class="comment">
      Push a boolean state based on if the name of the current element
      is found in the list of qnames.  A state is only pushed if
      there were some cdata-section-names were specified.
      <p>
      Hidden parameters are the vector of qualified elements specified in
      cdata-section-names attribute, and the m_cdataSectionStates stack
      onto which whether the current element is in the list is pushed (true or
      false). Other hidden parameters are the current elements namespaceURI,
      localName and qName</p></div>
<a id="L800" name="L800"></a> 800     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21236.html" title="Multiple referred from 3 places.">isCdataSection</a>()
<a id="L801" name="L801"></a> 801     <em class="brace">{</em>
<a id="L802" name="L802"></a> 802 
<a id="L803" name="L803"></a> 803         <strong class="reserved">boolean</strong> b = <strong class="reserved">false</strong>;
<a id="L804" name="L804"></a> 804 
<a id="L805" name="L805"></a> 805         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != m_cdataSectionElements)
<a id="L806" name="L806"></a> 806         <em class="brace">{</em>
<a id="L807" name="L807"></a> 807             <strong class="reserved">if</strong> (m_elemContext.m_elementLocalName == <strong class="reserved">null</strong>)
<a id="L808" name="L808"></a> 808                 m_elemContext.m_elementLocalName =
<a id="L809" name="L809"></a> 809                     <a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(m_elemContext.m_elementName);
<a id="L810" name="L810"></a> 810             <strong class="reserved">if</strong> (m_elemContext.m_elementURI == <strong class="reserved">null</strong>)
<a id="L811" name="L811"></a> 811             <em class="brace">{</em>
<a id="L812" name="L812"></a> 812                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../D/21598.html" title="Multiple defined in 2 places.">getPrefixPart</a>(m_elemContext.m_elementName);
<a id="L813" name="L813"></a> 813                 <strong class="reserved">if</strong> (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> != <strong class="reserved">null</strong>)
<a id="L814" name="L814"></a> 814                     m_elemContext.m_elementURI =
<a id="L815" name="L815"></a> 815                         m_prefixMap.<a href="../D/27133.html" title="Multiple defined in 9 places.">lookupNamespace</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L816" name="L816"></a> 816 
<a id="L817" name="L817"></a> 817             <em class="brace">}</em>
<a id="L818" name="L818"></a> 818 
<a id="L819" name="L819"></a> 819             <strong class="reserved">if</strong> ((<strong class="reserved">null</strong> != m_elemContext.m_elementURI)
<a id="L820" name="L820"></a> 820                 &amp;&amp; m_elemContext.m_elementURI.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)
<a id="L821" name="L821"></a> 821                 m_elemContext.m_elementURI = <strong class="reserved">null</strong>;
<a id="L822" name="L822"></a> 822 
<a id="L823" name="L823"></a> 823             <strong class="reserved">int</strong> nElems = m_cdataSectionElements.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L824" name="L824"></a> 824 
<a id="L825" name="L825"></a> 825             <em class="comment">// loop through 2 at a time, as these are pairs of URI and localName</em>
<a id="L826" name="L826"></a> 826             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nElems; i += 2)
<a id="L827" name="L827"></a> 827             <em class="brace">{</em>
<a id="L828" name="L828"></a> 828                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) m_cdataSectionElements.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L829" name="L829"></a> 829                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> loc = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) m_cdataSectionElements.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i + 1);
<a id="L830" name="L830"></a> 830                 <strong class="reserved">if</strong> (loc.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(m_elemContext.m_elementLocalName)
<a id="L831" name="L831"></a> 831                     &amp;&amp; <a href="../D/34993.html" title="Multiple defined in 2 places.">subPartMatch</a>(m_elemContext.m_elementURI, uri))
<a id="L832" name="L832"></a> 832                 <em class="brace">{</em>
<a id="L833" name="L833"></a> 833                     b = <strong class="reserved">true</strong>;
<a id="L834" name="L834"></a> 834 
<a id="L835" name="L835"></a> 835                     <strong class="reserved">break</strong>;
<a id="L836" name="L836"></a> 836                 <em class="brace">}</em>
<a id="L837" name="L837"></a> 837             <em class="brace">}</em>
<a id="L838" name="L838"></a> 838         <em class="brace">}</em>
<a id="L839" name="L839"></a> 839         <strong class="reserved">return</strong> b;
<a id="L840" name="L840"></a> 840     <em class="brace">}</em>
<a id="L841" name="L841"></a> 841 
<div class="comment">
      Tell if two strings are equal, without worry if the first string is null.
      @param p String reference, which may be null.
      @param t String reference, which may be null.
      @return true if strings are equal.</div>
<a id="L850" name="L850"></a> 850     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/29004.html" title="Multiple referred from 7 places.">subPartMatch</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> p, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> t)
<a id="L851" name="L851"></a> 851     <em class="brace">{</em>
<a id="L852" name="L852"></a> 852         <strong class="reserved">return</strong> (p == t) || ((<strong class="reserved">null</strong> != p) &amp;&amp; (p.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(t)));
<a id="L853" name="L853"></a> 853     <em class="brace">}</em>
<a id="L854" name="L854"></a> 854 
<div class="comment">
      Returns the local name of a qualified name.
      If the name has no prefix,
      then it works as the identity (SAX2).
      @param qname a qualified name
      @return returns the prefix of the qualified name,
      or null if there is no prefix.</div>
<a id="L864" name="L864"></a> 864     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18421.html" title="Multiple referred from 5 places.">getPrefixPart</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> qname)
<a id="L865" name="L865"></a> 865     <em class="brace">{</em>
<a id="L866" name="L866"></a> 866         <strong class="reserved">final</strong> <strong class="reserved">int</strong> col = qname.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L867" name="L867"></a> 867         <strong class="reserved">return</strong> (col &gt; 0) ? qname.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, col) : <strong class="reserved">null</strong>;
<a id="L868" name="L868"></a> 868         <em class="comment">//return (col &gt; 0) ? qname.substring(0,col) : "";</em>
<a id="L869" name="L869"></a> 869     <em class="brace">}</em>
<a id="L870" name="L870"></a> 870 
<div class="comment">
      Some users of the serializer may need the current namespace mappings
      @return the current namespace mappings (prefix/uri)
      @see ExtendedContentHandler#getNamespaceMappings()</div>
<a id="L876" name="L876"></a> 876     <strong class="reserved">public</strong> <a href="../S/5584.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/serializer/NamespaceMappings.java.">NamespaceMappings</a> <a href="../R/17858.html" title="Multiple referred from 2 places.">getNamespaceMappings</a>()
<a id="L877" name="L877"></a> 877     <em class="brace">{</em>
<a id="L878" name="L878"></a> 878         <strong class="reserved">return</strong> m_prefixMap;
<a id="L879" name="L879"></a> 879     <em class="brace">}</em>
<a id="L880" name="L880"></a> 880 
<div class="comment">
      Returns the prefix currently pointing to the given URI (if any).
      @param namespaceURI the uri of the namespace in question
      @return a prefix pointing to the given URI (if any).
      @see ExtendedContentHandler#getPrefix(String)</div>
<a id="L887" name="L887"></a> 887     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18418.html" title="Multiple referred from 112 places.">getPrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>)
<a id="L888" name="L888"></a> 888     <em class="brace">{</em>
<a id="L889" name="L889"></a> 889         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = m_prefixMap.<a href="../D/27146.html" title="Multiple defined in 10 places.">lookupPrefix</a>(<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>);
<a id="L890" name="L890"></a> 890         <strong class="reserved">return</strong> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L891" name="L891"></a> 891     <em class="brace">}</em>
<a id="L892" name="L892"></a> 892 
<div class="comment">
      Returns the URI of an element or attribute. Note that default namespaces
      do not apply directly to attributes.
      @param qname a qualified name
      @param isElement true if the qualified name is the name of
      an element.
      @return returns the namespace URI associated with the qualified name.</div>
<a id="L901" name="L901"></a> 901     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17864.html" title="Multiple referred from 185 places.">getNamespaceURI</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> qname, <strong class="reserved">boolean</strong> <a href="../D/25488.html" title="Multiple defined in 9 places.">isElement</a>)
<a id="L902" name="L902"></a> 902     <em class="brace">{</em>
<a id="L903" name="L903"></a> 903         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = EMPTYSTRING;
<a id="L904" name="L904"></a> 904         <strong class="reserved">int</strong> col = qname.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(':');
<a id="L905" name="L905"></a> 905         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = (col &gt; 0) ? qname.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, col) : EMPTYSTRING;
<a id="L906" name="L906"></a> 906 
<a id="L907" name="L907"></a> 907         <strong class="reserved">if</strong> (!EMPTYSTRING.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) || <a href="../D/25488.html" title="Multiple defined in 9 places.">isElement</a>)
<a id="L908" name="L908"></a> 908         <em class="brace">{</em>
<a id="L909" name="L909"></a> 909             <strong class="reserved">if</strong> (m_prefixMap != <strong class="reserved">null</strong>)
<a id="L910" name="L910"></a> 910             <em class="brace">{</em>
<a id="L911" name="L911"></a> 911                 uri = m_prefixMap.<a href="../D/27133.html" title="Multiple defined in 9 places.">lookupNamespace</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L912" name="L912"></a> 912                 <strong class="reserved">if</strong> (uri == <strong class="reserved">null</strong> &amp;&amp; !<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(XMLNS_PREFIX))
<a id="L913" name="L913"></a> 913                 <em class="brace">{</em>
<a id="L914" name="L914"></a> 914                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(
<a id="L915" name="L915"></a> 915                         <a href="../D/9445.html" title="Multiple defined in 2 places.">Utils</a>.messages.<a href="../D/14043.html" title="Multiple defined in 4 places.">createMessage</a>(
<a id="L916" name="L916"></a> 916                             <a href="../S/5578.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/utils/MsgKey.java.">MsgKey</a>.ER_NAMESPACE_PREFIX,
<a id="L917" name="L917"></a> 917                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> qname.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, col) <em class="brace">}</em>  ));
<a id="L918" name="L918"></a> 918                 <em class="brace">}</em>
<a id="L919" name="L919"></a> 919             <em class="brace">}</em>
<a id="L920" name="L920"></a> 920         <em class="brace">}</em>
<a id="L921" name="L921"></a> 921         <strong class="reserved">return</strong> uri;
<a id="L922" name="L922"></a> 922     <em class="brace">}</em>
<a id="L923" name="L923"></a> 923 
<div class="comment">
      Returns the URI of prefix (if any)
          @param prefix the prefix whose URI is searched for
      @return the namespace URI currently associated with the
      prefix, null if the prefix is undefined.</div>
<a id="L931" name="L931"></a> 931     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/5544.html#L1281" title="Referred from 1281 in src/com/sun/org/apache/xml/internal/serializer/ToUnknownStream.java.">getNamespaceURIFromPrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>)
<a id="L932" name="L932"></a> 932     <em class="brace">{</em>
<a id="L933" name="L933"></a> 933         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = <strong class="reserved">null</strong>;
<a id="L934" name="L934"></a> 934         <strong class="reserved">if</strong> (m_prefixMap != <strong class="reserved">null</strong>)
<a id="L935" name="L935"></a> 935             uri = m_prefixMap.<a href="../D/27133.html" title="Multiple defined in 9 places.">lookupNamespace</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L936" name="L936"></a> 936         <strong class="reserved">return</strong> uri;
<a id="L937" name="L937"></a> 937     <em class="brace">}</em>
<a id="L938" name="L938"></a> 938 
<div class="comment">
      Entity reference event.
      @param name Name of entity
      @throws org.xml.sax.SAXException</div>
<a id="L946" name="L946"></a> 946     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5544.html#L1268" title="Referred from 1268 in src/com/sun/org/apache/xml/internal/serializer/ToUnknownStream.java.">entityReference</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L947" name="L947"></a> 947     <em class="brace">{</em>
<a id="L948" name="L948"></a> 948 
<a id="L949" name="L949"></a> 949         <a href="../D/16486.html" title="Multiple defined in 7 places.">flushPending</a>();
<a id="L950" name="L950"></a> 950 
<a id="L951" name="L951"></a> 951         <a href="../D/34782.html" title="Multiple defined in 25 places.">startEntity</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L952" name="L952"></a> 952         <a href="../D/15451.html" title="Multiple defined in 21 places.">endEntity</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L953" name="L953"></a> 953 
<a id="L954" name="L954"></a> 954         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L955" name="L955"></a> 955                     <a href="../S/5556.html#L1207" title="Defined at 1207 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireEntityReference</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L956" name="L956"></a> 956     <em class="brace">}</em>
<a id="L957" name="L957"></a> 957 
<div class="comment">
      Sets the transformer associated with this serializer
      @param t the transformer associated with this serializer.
      @see SerializationHandler#setTransformer(Transformer)</div>
<a id="L963" name="L963"></a> 963     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28323.html" title="Multiple referred from 3 places.">setTransformer</a>(<a href="../S/4036.html#L49" title="Defined at 49 in src/javax/xml/transform/Transformer.java.">Transformer</a> t)
<a id="L964" name="L964"></a> 964     <em class="brace">{</em>
<a id="L965" name="L965"></a> 965         m_transformer = t;
<a id="L966" name="L966"></a> 966 
<a id="L967" name="L967"></a> 967         <em class="comment">// If this transformer object implements the SerializerTrace interface</em>
<a id="L968" name="L968"></a> 968         <em class="comment">// then assign m_tracer to the transformer object so it can be used</em>
<a id="L969" name="L969"></a> 969         <em class="comment">// to fire trace events.</em>
<a id="L970" name="L970"></a> 970         <strong class="reserved">if</strong> ((m_transformer <strong class="reserved">instanceof</strong> <a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>) &amp;&amp;
<a id="L971" name="L971"></a> 971             (((<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>) m_transformer).<a href="../S/5588.html#L109" title="Defined at 109 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">hasTraceListeners</a>())) <em class="brace">{</em>
<a id="L972" name="L972"></a> 972            m_tracer = (<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>) m_transformer;
<a id="L973" name="L973"></a> 973         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L974" name="L974"></a> 974            m_tracer = <strong class="reserved">null</strong>;
<a id="L975" name="L975"></a> 975         <em class="brace">}</em>
<a id="L976" name="L976"></a> 976     <em class="brace">}</em>
<div class="comment">
      Gets the transformer associated with this serializer
      @return returns the transformer associated with this serializer.
      @see SerializationHandler#getTransformer()</div>
<a id="L982" name="L982"></a> 982     <strong class="reserved">public</strong> <a href="../S/4036.html#L49" title="Defined at 49 in src/javax/xml/transform/Transformer.java.">Transformer</a> <a href="../R/19571.html" title="Multiple referred from 8 places.">getTransformer</a>()
<a id="L983" name="L983"></a> 983     <em class="brace">{</em>
<a id="L984" name="L984"></a> 984         <strong class="reserved">return</strong> m_transformer;
<a id="L985" name="L985"></a> 985     <em class="brace">}</em>
<a id="L986" name="L986"></a> 986 
<div class="comment">
      This method gets the nodes value as a String and uses that String as if
      it were an input character notification.
      @param node the Node to serialize
      @throws org.xml.sax.SAXException</div>
<a id="L993" name="L993"></a> 993     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11056.html" title="Multiple referred from 150 places.">characters</a>(org.w3c.dom.<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)
<a id="L994" name="L994"></a> 994         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L995" name="L995"></a> 995     <em class="brace">{</em>
<a id="L996" name="L996"></a> 996         <a href="../D/16486.html" title="Multiple defined in 7 places.">flushPending</a>();
<a id="L997" name="L997"></a> 997         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L998" name="L998"></a> 998         <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> != <strong class="reserved">null</strong>)
<a id="L999" name="L999"></a> 999         <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000             <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L1001" name="L1001"></a>1001             <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; m_charsBuff.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L1002" name="L1002"></a>1002             <em class="brace">{</em>
<a id="L1003" name="L1003"></a>1003                 m_charsBuff = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> * 2 + 1];
<a id="L1004" name="L1004"></a>1004             <em class="brace">}</em>
<a id="L1005" name="L1005"></a>1005             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, m_charsBuff, 0);
<a id="L1006" name="L1006"></a>1006             <a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(m_charsBuff, 0, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1007" name="L1007"></a>1007         <em class="brace">}</em>
<a id="L1008" name="L1008"></a>1008     <em class="brace">}</em>
<a id="L1009" name="L1009"></a>1009 
<a id="L1010" name="L1010"></a>1010 
<div class="comment">
      @see org.xml.sax.ErrorHandler#error(SAXParseException)</div>
<a id="L1014" name="L1014"></a>1014     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14003.html" title="Multiple referred from 408 places.">error</a>(<a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a> exc) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L1015" name="L1015"></a>1015     <em class="brace">}</em>
<a id="L1016" name="L1016"></a>1016 
<div class="comment">
      @see org.xml.sax.ErrorHandler#fatalError(SAXParseException)</div>
<a id="L1020" name="L1020"></a>1020     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14255.html" title="Multiple referred from 46 places.">fatalError</a>(<a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a> exc) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L1021" name="L1021"></a>1021 
<a id="L1022" name="L1022"></a>1022       m_elemContext.m_startTagOpen = <strong class="reserved">false</strong>;
<a id="L1023" name="L1023"></a>1023 
<a id="L1024" name="L1024"></a>1024     <em class="brace">}</em>
<a id="L1025" name="L1025"></a>1025 
<div class="comment">
      @see org.xml.sax.ErrorHandler#warning(SAXParseException)</div>
<a id="L1029" name="L1029"></a>1029     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30453.html" title="Multiple referred from 107 places.">warning</a>(<a href="../S/712.html#L62" title="Defined at 62 in src/org/xml/sax/SAXParseException.java.">SAXParseException</a> exc) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1030" name="L1030"></a>1030     <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031     <em class="brace">}</em>
<a id="L1032" name="L1032"></a>1032 
<div class="comment">
      To fire off start entity trace event
      @param name Name of entity</div>
<a id="L1037" name="L1037"></a>1037     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> fireStartEntity(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1038" name="L1038"></a>1038         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1039" name="L1039"></a>1039     <em class="brace">{</em>
<a id="L1040" name="L1040"></a>1040         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1041" name="L1041"></a>1041         <em class="brace">{</em>
<a id="L1042" name="L1042"></a>1042             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1043" name="L1043"></a>1043             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_ENTITYREF, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1044" name="L1044"></a>1044         <em class="brace">}</em>
<a id="L1045" name="L1045"></a>1045     <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046 
<div class="comment">
      Report the characters event
      @param chars  content of characters
      @param start  starting index of characters to output
      @param length  number of characters to output</div>
<a id="L1053" name="L1053"></a>1053 <em class="comment">//    protected void fireCharEvent(char[] chars, int start, int length)</em>
<a id="L1054" name="L1054"></a>1054 <em class="comment">//        throws org.xml.sax.SAXException</em>
<a id="L1055" name="L1055"></a>1055 <em class="comment">//    {</em>
<a id="L1056" name="L1056"></a>1056 <em class="comment">//        if (m_tracer != null)</em>
<a id="L1057" name="L1057"></a>1057 <em class="comment">//            m_tracer.fireGenerateEvent(SerializerTrace.EVENTTYPE_CHARACTERS, chars, start,length);</em>
<a id="L1058" name="L1058"></a>1058 <em class="comment">//    }</em>
<a id="L1059" name="L1059"></a>1059 <em class="comment">//</em>
<a id="L1060" name="L1060"></a>1060 
<div class="comment">
      This method is only used internally when flushing the writer from the
      various fire...() trace events.  Due to the writer being wrapped with
      SerializerTraceWriter it may cause the flush of these trace events:
      EVENTTYPE_OUTPUT_PSEUDO_CHARACTERS
      EVENTTYPE_OUTPUT_CHARACTERS
      which trace the output written to the output stream.</div>
<a id="L1070" name="L1070"></a>1070     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/14706.html" title="Multiple referred from 11 places.">flushMyWriter</a>()
<a id="L1071" name="L1071"></a>1071     <em class="brace">{</em>
<a id="L1072" name="L1072"></a>1072         <strong class="reserved">if</strong> (m_writer != <strong class="reserved">null</strong>)
<a id="L1073" name="L1073"></a>1073         <em class="brace">{</em>
<a id="L1074" name="L1074"></a>1074             <strong class="reserved">try</strong>
<a id="L1075" name="L1075"></a>1075             <em class="brace">{</em>
<a id="L1076" name="L1076"></a>1076                 m_writer.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L1077" name="L1077"></a>1077             <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078             <strong class="reserved">catch</strong>(<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe)
<a id="L1079" name="L1079"></a>1079             <em class="brace">{</em>
<a id="L1080" name="L1080"></a>1080 
<a id="L1081" name="L1081"></a>1081             <em class="brace">}</em>
<a id="L1082" name="L1082"></a>1082         <em class="brace">}</em>
<a id="L1083" name="L1083"></a>1083     <em class="brace">}</em>
<div class="comment">
      Report the CDATA trace event
      @param chars  content of CDATA
      @param start  starting index of characters to output
      @param length  number of characters to output</div>
<a id="L1090" name="L1090"></a>1090     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14552.html" title="Multiple referred from 2 places.">fireCDATAEvent</a>(<strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L1091" name="L1091"></a>1091         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1092" name="L1092"></a>1092     <em class="brace">{</em>
<a id="L1093" name="L1093"></a>1093                 <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1094" name="L1094"></a>1094         <em class="brace">{</em>
<a id="L1095" name="L1095"></a>1095             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1096" name="L1096"></a>1096                         m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_CDATA, <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1097" name="L1097"></a>1097         <em class="brace">}</em>
<a id="L1098" name="L1098"></a>1098     <em class="brace">}</em>
<a id="L1099" name="L1099"></a>1099 
<div class="comment">
      Report the comment trace event
      @param chars  content of comment
      @param start  starting index of comment to output
      @param length  number of characters to output</div>
<a id="L1106" name="L1106"></a>1106     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14563.html" title="Multiple referred from 6 places.">fireCommentEvent</a>(<strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L1107" name="L1107"></a>1107         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1108" name="L1108"></a>1108     <em class="brace">{</em>
<a id="L1109" name="L1109"></a>1109                 <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1110" name="L1110"></a>1110         <em class="brace">{</em>
<a id="L1111" name="L1111"></a>1111             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1112" name="L1112"></a>1112                         m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_COMMENT, <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L1113" name="L1113"></a>1113         <em class="brace">}</em>
<a id="L1114" name="L1114"></a>1114     <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115 
<a id="L1116" name="L1116"></a>1116 
<div class="comment">
      To fire off end entity trace event
      @param name Name of entity</div>
<a id="L1121" name="L1121"></a>1121     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5556.html#L512" title="Referred from 512 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireEndEntity</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1122" name="L1122"></a>1122         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1123" name="L1123"></a>1123     <em class="brace">{</em>
<a id="L1124" name="L1124"></a>1124         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1125" name="L1125"></a>1125             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1126" name="L1126"></a>1126         <em class="comment">// we do not need to handle this.</em>
<a id="L1127" name="L1127"></a>1127     <em class="brace">}</em>
<a id="L1128" name="L1128"></a>1128 
<div class="comment">
      To fire off start document trace  event</div>
<a id="L1132" name="L1132"></a>1132      <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/5556.html#L1259" title="Referred from 1259 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireStartDoc</a>()
<a id="L1133" name="L1133"></a>1133         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1134" name="L1134"></a>1134     <em class="brace">{</em>
<a id="L1135" name="L1135"></a>1135         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1136" name="L1136"></a>1136         <em class="brace">{</em>
<a id="L1137" name="L1137"></a>1137             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1138" name="L1138"></a>1138             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_STARTDOCUMENT);
<a id="L1139" name="L1139"></a>1139         <em class="brace">}</em>
<a id="L1140" name="L1140"></a>1140     <em class="brace">}</em>
<a id="L1141" name="L1141"></a>1141 
<a id="L1142" name="L1142"></a>1142 
<div class="comment">
      To fire off end document trace event</div>
<a id="L1146" name="L1146"></a>1146     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14568.html" title="Multiple referred from 6 places.">fireEndDoc</a>()
<a id="L1147" name="L1147"></a>1147         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1148" name="L1148"></a>1148     <em class="brace">{</em>
<a id="L1149" name="L1149"></a>1149         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1150" name="L1150"></a>1150         <em class="brace">{</em>
<a id="L1151" name="L1151"></a>1151             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1152" name="L1152"></a>1152             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_ENDDOCUMENT);
<a id="L1153" name="L1153"></a>1153         <em class="brace">}</em>
<a id="L1154" name="L1154"></a>1154     <em class="brace">}</em>
<a id="L1155" name="L1155"></a>1155 
<div class="comment">
      Report the start element trace event. This trace method needs to be
      called just before the attributes are cleared.
      @param elemName the qualified name of the element</div>
<a id="L1163" name="L1163"></a>1163     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14608.html" title="Multiple referred from 9 places.">fireStartElem</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> elemName)
<a id="L1164" name="L1164"></a>1164         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1165" name="L1165"></a>1165     <em class="brace">{</em>
<a id="L1166" name="L1166"></a>1166         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1167" name="L1167"></a>1167         <em class="brace">{</em>
<a id="L1168" name="L1168"></a>1168             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1169" name="L1169"></a>1169             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_STARTELEMENT,
<a id="L1170" name="L1170"></a>1170                 elemName, m_attributes);
<a id="L1171" name="L1171"></a>1171         <em class="brace">}</em>
<a id="L1172" name="L1172"></a>1172     <em class="brace">}</em>
<a id="L1173" name="L1173"></a>1173 
<a id="L1174" name="L1174"></a>1174 
<div class="comment">
      To fire off the end element event
      @param name Name of element</div>
<a id="L1179" name="L1179"></a>1179 <em class="comment">//    protected void fireEndElem(String name)</em>
<a id="L1180" name="L1180"></a>1180 <em class="comment">//        throws org.xml.sax.SAXException</em>
<a id="L1181" name="L1181"></a>1181 <em class="comment">//    {</em>
<a id="L1182" name="L1182"></a>1182 <em class="comment">//        if (m_tracer != null)</em>
<a id="L1183" name="L1183"></a>1183 <em class="comment">//            m_tracer.fireGenerateEvent(SerializerTrace.EVENTTYPE_ENDELEMENT,name, (Attributes)null);</em>
<a id="L1184" name="L1184"></a>1184 <em class="comment">//    }</em>
<a id="L1185" name="L1185"></a>1185 
<a id="L1186" name="L1186"></a>1186 
<div class="comment">
      To fire off the PI trace event
      @param name Name of PI</div>
<a id="L1191" name="L1191"></a>1191     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14572.html" title="Multiple referred from 6 places.">fireEscapingEvent</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>)
<a id="L1192" name="L1192"></a>1192         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1193" name="L1193"></a>1193     <em class="brace">{</em>
<a id="L1194" name="L1194"></a>1194 
<a id="L1195" name="L1195"></a>1195         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1196" name="L1196"></a>1196         <em class="brace">{</em>
<a id="L1197" name="L1197"></a>1197             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1198" name="L1198"></a>1198             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_PI,<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1199" name="L1199"></a>1199         <em class="brace">}</em>
<a id="L1200" name="L1200"></a>1200     <em class="brace">}</em>
<a id="L1201" name="L1201"></a>1201 
<a id="L1202" name="L1202"></a>1202 
<div class="comment">
      To fire off the entity reference trace event
      @param name Name of entity reference</div>
<a id="L1207" name="L1207"></a>1207     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14571.html" title="Multiple referred from 3 places.">fireEntityReference</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1208" name="L1208"></a>1208         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1209" name="L1209"></a>1209     <em class="brace">{</em>
<a id="L1210" name="L1210"></a>1210         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1211" name="L1211"></a>1211         <em class="brace">{</em>
<a id="L1212" name="L1212"></a>1212             <a href="../S/5556.html#L1070" title="Defined at 1070 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">flushMyWriter</a>();
<a id="L1213" name="L1213"></a>1213             m_tracer.<a href="../D/16337.html" title="Multiple defined in 5 places.">fireGenerateEvent</a>(<a href="../S/5588.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/SerializerTrace.java.">SerializerTrace</a>.EVENTTYPE_ENTITYREF,<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, (<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a>)<strong class="reserved">null</strong>);
<a id="L1214" name="L1214"></a>1214         <em class="brace">}</em>
<a id="L1215" name="L1215"></a>1215     <em class="brace">}</em>
<a id="L1216" name="L1216"></a>1216 
<div class="comment">
      Receive notification of the beginning of a document.
      This method is never a self generated call,
      but only called externally.
      <p>The SAX parser will invoke this method only once, before any
      other methods in this interface or in DTDHandler (except for
      setDocumentLocator).</p>
      @throws org.xml.sax.SAXException Any SAX exception, possibly
                 wrapping another exception.
      @throws org.xml.sax.SAXException</div>
<a id="L1231" name="L1231"></a>1231     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28800.html" title="Multiple referred from 67 places.">startDocument</a>() <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1232" name="L1232"></a>1232     <em class="brace">{</em>
<a id="L1233" name="L1233"></a>1233 
<a id="L1234" name="L1234"></a>1234         <em class="comment">// if we do get called with startDocument(), handle it right away</em>
<a id="L1235" name="L1235"></a>1235         <a href="../D/34771.html" title="Multiple defined in 5 places.">startDocumentInternal</a>();
<a id="L1236" name="L1236"></a>1236         m_needToCallStartDocument = <strong class="reserved">false</strong>;
<a id="L1237" name="L1237"></a>1237         <strong class="reserved">return</strong>;
<a id="L1238" name="L1238"></a>1238     <em class="brace">}</em>
<a id="L1239" name="L1239"></a>1239 
<div class="comment">
      This method handles what needs to be done at a startDocument() call,
      whether from an external caller, or internally called in the
      serializer.  For historical reasons the serializer is flexible to
      startDocument() not always being called.
      Even if no external call is
      made into startDocument() this method will always be called as a self
      generated internal startDocument, it handles what needs to be done at a
      startDocument() call.
      This method exists just to make sure that startDocument() is only ever
      called from an external caller, which in principle is just a matter of
      style.
      @throws SAXException</div>
<a id="L1256" name="L1256"></a>1256     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/28803.html" title="Multiple referred from 18 places.">startDocumentInternal</a>() <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1257" name="L1257"></a>1257     <em class="brace">{</em>
<a id="L1258" name="L1258"></a>1258         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L1259" name="L1259"></a>1259             <strong class="reserved">this</strong>.<a href="../S/5556.html#L1132" title="Defined at 1132 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireStartDoc</a>();
<a id="L1260" name="L1260"></a>1260 
<a id="L1261" name="L1261"></a>1261     <em class="brace">}</em>
<a id="L1262" name="L1262"></a>1262 
<div class="comment">
 This method extracts version and encoding information from SAX events.</div>
<a id="L1265" name="L1265"></a>1265     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27269.html" title="Multiple referred from 3 places.">setDocumentInfo</a>() <em class="brace">{</em>
<a id="L1266" name="L1266"></a>1266         <strong class="reserved">if</strong> (m_locator == <strong class="reserved">null</strong>)
<a id="L1267" name="L1267"></a>1267                 <strong class="reserved">return</strong>;
<a id="L1268" name="L1268"></a>1268         <strong class="reserved">try</strong><em class="brace">{</em>
<a id="L1269" name="L1269"></a>1269             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> strVersion = ((<a href="../S/718.html#L57" title="Defined at 57 in src/org/xml/sax/ext/Locator2.java.">Locator2</a>)m_locator).<a href="../D/23762.html" title="Multiple defined in 12 places.">getXMLVersion</a>();
<a id="L1270" name="L1270"></a>1270             <strong class="reserved">if</strong> (strVersion != <strong class="reserved">null</strong>)
<a id="L1271" name="L1271"></a>1271                 <a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>(strVersion);
<div class="comment">
String strEncoding = ((Locator2)m_locator).getEncoding();
            if (strEncoding != null)
                setEncoding(strEncoding); </div>
<a id="L1275" name="L1275"></a>1275 
<a id="L1276" name="L1276"></a>1276         <em class="brace">}</em><strong class="reserved">catch</strong>(<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> e)<em class="brace">{</em><em class="brace">}</em>
<a id="L1277" name="L1277"></a>1277     <em class="brace">}</em>
<a id="L1278" name="L1278"></a>1278 
<div class="comment">
      This method is used to set the source locator, which might be used to
      generated an error message.
      @param locator the source locator
      @see ExtendedContentHandler#setSourceLocator(javax.xml.transform.SourceLocator)</div>
<a id="L1286" name="L1286"></a>1286     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5544.html#L1315" title="Referred from 1315 in src/com/sun/org/apache/xml/internal/serializer/ToUnknownStream.java.">setSourceLocator</a>(<a href="../S/4044.html#L32" title="Defined at 32 in src/javax/xml/transform/SourceLocator.java.">SourceLocator</a> locator)
<a id="L1287" name="L1287"></a>1287     <em class="brace">{</em>
<a id="L1288" name="L1288"></a>1288         m_sourceLocator = locator;
<a id="L1289" name="L1289"></a>1289     <em class="brace">}</em>
<a id="L1290" name="L1290"></a>1290 
<a id="L1291" name="L1291"></a>1291 
<div class="comment">
      Used only by TransformerSnapshotImpl to restore the serialization
      to a previous state.
      @param mappings NamespaceMappings</div>
<a id="L1298" name="L1298"></a>1298     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setNamespaceMappings(<a href="../S/5584.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/serializer/NamespaceMappings.java.">NamespaceMappings</a> mappings) <em class="brace">{</em>
<a id="L1299" name="L1299"></a>1299         m_prefixMap = mappings;
<a id="L1300" name="L1300"></a>1300     <em class="brace">}</em>
<a id="L1301" name="L1301"></a>1301 
<a id="L1302" name="L1302"></a>1302     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>()
<a id="L1303" name="L1303"></a>1303     <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304         <a href="../S/5556.html#L1312" title="Defined at 1312 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">resetSerializerBase</a>();
<a id="L1305" name="L1305"></a>1305         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1306" name="L1306"></a>1306     <em class="brace">}</em>
<a id="L1307" name="L1307"></a>1307 
<div class="comment">
      Reset all of the fields owned by SerializerBase</div>
<a id="L1312" name="L1312"></a>1312     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5556.html#L1304" title="Referred from 1304 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">resetSerializerBase</a>()
<a id="L1313" name="L1313"></a>1313     <em class="brace">{</em>
<a id="L1314" name="L1314"></a>1314         <strong class="reserved">this</strong>.m_attributes.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L1315" name="L1315"></a>1315         <strong class="reserved">this</strong>.m_cdataSectionElements = <strong class="reserved">null</strong>;
<a id="L1316" name="L1316"></a>1316         <strong class="reserved">this</strong>.m_elemContext = <strong class="reserved">new</strong> <a href="../S/5547.html#L55" title="Defined at 55 in src/com/sun/org/apache/xml/internal/serializer/ElemContext.java.">ElemContext</a>();
<a id="L1317" name="L1317"></a>1317         <strong class="reserved">this</strong>.m_doctypePublic = <strong class="reserved">null</strong>;
<a id="L1318" name="L1318"></a>1318         <strong class="reserved">this</strong>.m_doctypeSystem = <strong class="reserved">null</strong>;
<a id="L1319" name="L1319"></a>1319         <strong class="reserved">this</strong>.m_doIndent = <strong class="reserved">false</strong>;
<a id="L1320" name="L1320"></a>1320         <strong class="reserved">this</strong>.m_encoding = <strong class="reserved">null</strong>;
<a id="L1321" name="L1321"></a>1321         <strong class="reserved">this</strong>.m_indentAmount = 0;
<a id="L1322" name="L1322"></a>1322         <strong class="reserved">this</strong>.m_inEntityRef = <strong class="reserved">false</strong>;
<a id="L1323" name="L1323"></a>1323         <strong class="reserved">this</strong>.m_inExternalDTD = <strong class="reserved">false</strong>;
<a id="L1324" name="L1324"></a>1324         <strong class="reserved">this</strong>.m_mediatype = <strong class="reserved">null</strong>;
<a id="L1325" name="L1325"></a>1325         <strong class="reserved">this</strong>.m_needToCallStartDocument = <strong class="reserved">true</strong>;
<a id="L1326" name="L1326"></a>1326         <strong class="reserved">this</strong>.m_needToOutputDocTypeDecl = <strong class="reserved">false</strong>;
<a id="L1327" name="L1327"></a>1327         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.m_prefixMap != <strong class="reserved">null</strong>)
<a id="L1328" name="L1328"></a>1328             <strong class="reserved">this</strong>.m_prefixMap.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L1329" name="L1329"></a>1329         <strong class="reserved">this</strong>.m_shouldNotWriteXMLHeader = <strong class="reserved">false</strong>;
<a id="L1330" name="L1330"></a>1330         <strong class="reserved">this</strong>.m_sourceLocator = <strong class="reserved">null</strong>;
<a id="L1331" name="L1331"></a>1331         <strong class="reserved">this</strong>.m_standalone = <strong class="reserved">null</strong>;
<a id="L1332" name="L1332"></a>1332         <strong class="reserved">this</strong>.m_standaloneWasSpecified = <strong class="reserved">false</strong>;
<a id="L1333" name="L1333"></a>1333         <strong class="reserved">this</strong>.m_tracer = <strong class="reserved">null</strong>;
<a id="L1334" name="L1334"></a>1334         <strong class="reserved">this</strong>.m_transformer = <strong class="reserved">null</strong>;
<a id="L1335" name="L1335"></a>1335         <strong class="reserved">this</strong>.m_version = <strong class="reserved">null</strong>;
<a id="L1336" name="L1336"></a>1336         <em class="comment">// don't set writer to null, so that it might be re-used</em>
<a id="L1337" name="L1337"></a>1337         <em class="comment">//this.m_writer = null;</em>
<a id="L1338" name="L1338"></a>1338     <em class="brace">}</em>
<a id="L1339" name="L1339"></a>1339 
<div class="comment">
      Returns true if the serializer is used for temporary output rather than
      final output.
      This concept is made clear in the XSLT 2.0 draft.</div>
<a id="L1346" name="L1346"></a>1346     <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../S/5548.html#L205" title="Referred from 205 in src/com/sun/org/apache/xml/internal/serializer/ToTextStream.java.">inTemporaryOutputState</a>()
<a id="L1347" name="L1347"></a>1347     <em class="brace">{</em>
<div class="comment">
 This is a hack. We should really be letting the serializer know
          that it is in temporary output state with an explicit call, but
          from a pragmatic point of view (for now anyways) having no output
          encoding at all, not even the default UTF-8 indicates that the serializer
          is being used for temporary RTF.</div>
<a id="L1354" name="L1354"></a>1354         <strong class="reserved">return</strong> (<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>() == <strong class="reserved">null</strong>);
<a id="L1355" name="L1355"></a>1355 
<a id="L1356" name="L1356"></a>1356     <em class="brace">}</em>
<a id="L1357" name="L1357"></a>1357 
<div class="comment">
      This method adds an attribute the the current element,
      but should not be used for an xsl:attribute child.
      @see ExtendedContentHandler#addAttribute(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)</div>
<a id="L1363" name="L1363"></a>1363     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9616.html" title="Multiple referred from 451 places.">addAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rawName, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L1364" name="L1364"></a>1364     <em class="brace">{</em>
<a id="L1365" name="L1365"></a>1365         <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L1366" name="L1366"></a>1366         <em class="brace">{</em>
<a id="L1367" name="L1367"></a>1367             <a href="../D/10661.html" title="Multiple defined in 2 places.">addAttributeAlways</a>(uri, <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, rawName, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">false</strong>);
<a id="L1368" name="L1368"></a>1368         <em class="brace">}</em>
<a id="L1369" name="L1369"></a>1369     <em class="brace">}</em>
<a id="L1370" name="L1370"></a>1370 
<div class="comment">
      @see org.xml.sax.DTDHandler#notationDecl(java.lang.String, java.lang.String, java.lang.String)</div>
<a id="L1374" name="L1374"></a>1374     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23809.html" title="Multiple referred from 25 places.">notationDecl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg0, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg1, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg2)
<a id="L1375" name="L1375"></a>1375         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L1376" name="L1376"></a>1376         <em class="comment">// This method just provides a definition to satisfy the interface</em>
<a id="L1377" name="L1377"></a>1377         <em class="comment">// A particular sub-class of SerializerBase provides the implementation (if desired)</em>
<a id="L1378" name="L1378"></a>1378     <em class="brace">}</em>
<a id="L1379" name="L1379"></a>1379 
<div class="comment">
      @see org.xml.sax.DTDHandler#unparsedEntityDecl(java.lang.String, java.lang.String, java.lang.String, java.lang.String)</div>
<a id="L1383" name="L1383"></a>1383     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29743.html" title="Multiple referred from 14 places.">unparsedEntityDecl</a>(
<a id="L1384" name="L1384"></a>1384         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg0,
<a id="L1385" name="L1385"></a>1385         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg1,
<a id="L1386" name="L1386"></a>1386         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg2,
<a id="L1387" name="L1387"></a>1387         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg3)
<a id="L1388" name="L1388"></a>1388         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L1389" name="L1389"></a>1389         <em class="comment">// This method just provides a definition to satisfy the interface</em>
<a id="L1390" name="L1390"></a>1390         <em class="comment">// A particular sub-class of SerializerBase provides the implementation (if desired)</em>
<a id="L1391" name="L1391"></a>1391     <em class="brace">}</em>
<a id="L1392" name="L1392"></a>1392 
<div class="comment">
      If set to false the serializer does not expand DTD entities,
      but leaves them as is, the default value is true.</div>
<a id="L1397" name="L1397"></a>1397     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setDTDEntityExpansion(<strong class="reserved">boolean</strong> <a href="../D/15823.html" title="Multiple defined in 8 places.">expand</a>) <em class="brace">{</em>
<a id="L1398" name="L1398"></a>1398         <em class="comment">// This method just provides a definition to satisfy the interface</em>
<a id="L1399" name="L1399"></a>1399         <em class="comment">// A particular sub-class of SerializerBase provides the implementation (if desired)</em>
<a id="L1400" name="L1400"></a>1400     <em class="brace">}</em>
<a id="L1401" name="L1401"></a>1401 
<a id="L1402" name="L1402"></a>1402 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L57">[^]</a><a href="#L1397">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>