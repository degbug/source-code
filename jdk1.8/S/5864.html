<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/utils/TreeWalker.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L67">[^]</a><a href="#L456">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L67" title="Defined at 67.">getContentHandler</a></li>
<li><a href="#L77" title="Defined at 77.">setContentHandler</a></li>
<li><a href="#L155" title="Defined at 155.">traverse</a></li>
<li><a href="#L174" title="Defined at 174.">traverseFragment</a></li>
<li><a href="#L226" title="Defined at 226.">traverse</a></li>
<li><a href="#L270" title="Defined at 270.">dispatachChars</a></li>
<li><a href="#L292" title="Defined at 292.">startNode</a></li>
<li><a href="#L456" title="Defined at 456.">endNode</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<div class="comment">
  $Id: TreeWalker.java,v 1.2.4.1 2005/09/15 08:15:59 suresh_emailid Exp $</div>
<a id="L23" name="L23"></a>  23 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.utils;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.utils.SecuritySupport;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.File;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> org.w3c.dom.Comment;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> org.w3c.dom.EntityReference;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> org.w3c.dom.NamedNodeMap;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> org.w3c.dom.ProcessingInstruction;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> org.w3c.dom.Text;
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> org.xml.sax.ContentHandler;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> org.xml.sax.Locator;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> org.xml.sax.ext.LexicalHandler;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> org.xml.sax.helpers.LocatorImpl;
<a id="L40" name="L40"></a>  40 
<div class="comment">
  This class does a pre-order walk of the DOM tree, calling a ContentHandler
  interface as it goes.
  @xsl.usage advanced</div>
<a id="L46" name="L46"></a>  46 
<a id="L47" name="L47"></a>  47 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8330.html" title="Multiple referred from 12 places.">TreeWalker</a>
<a id="L48" name="L48"></a>  48 <em class="brace">{</em>
<a id="L49" name="L49"></a>  49 
<div class="comment">
   /** Local reference to a ContentHandler          */</div>
<a id="L51" name="L51"></a>  51   <strong class="reserved">private</strong> <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> m_contentHandler = <strong class="reserved">null</strong>;
<a id="L52" name="L52"></a>  52 
<a id="L53" name="L53"></a>  53   <em class="comment">// ARGHH!!  JAXP Uses Xerces without setting the namespace processing to ON!</em>
<a id="L54" name="L54"></a>  54   <em class="comment">// DOM2Helper m_dh = new DOM2Helper();</em>
<a id="L55" name="L55"></a>  55 
<div class="comment">
   /** DomHelper for this TreeWalker          */</div>
<a id="L57" name="L57"></a>  57   <strong class="reserved">protected</strong> <a href="../S/5840.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/utils/DOMHelper.java.">DOMHelper</a> m_dh;
<a id="L58" name="L58"></a>  58 
<div class="comment">
         /** Locator object for this TreeWalker          */</div>
<a id="L60" name="L60"></a>  60         <strong class="reserved">private</strong> <a href="../S/736.html#L76" title="Defined at 76 in src/org/xml/sax/helpers/LocatorImpl.java.">LocatorImpl</a> m_locator = <strong class="reserved">new</strong> <a href="../S/736.html#L76" title="Defined at 76 in src/org/xml/sax/helpers/LocatorImpl.java.">LocatorImpl</a>();
<a id="L61" name="L61"></a>  61 
<div class="comment">
    Get the ContentHandler used for the tree walk.
    @return the ContentHandler used for the tree walk</div>
<a id="L67" name="L67"></a>  67   <strong class="reserved">public</strong> <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> <a href="../R/15784.html" title="Multiple referred from 7 places.">getContentHandler</a>()
<a id="L68" name="L68"></a>  68   <em class="brace">{</em>
<a id="L69" name="L69"></a>  69     <strong class="reserved">return</strong> m_contentHandler;
<a id="L70" name="L70"></a>  70   <em class="brace">}</em>
<a id="L71" name="L71"></a>  71 
<div class="comment">
    Get the ContentHandler used for the tree walk.
    @return the ContentHandler used for the tree walk</div>
<a id="L77" name="L77"></a>  77   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27103.html" title="Multiple referred from 47 places.">setContentHandler</a>(<a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> ch)
<a id="L78" name="L78"></a>  78   <em class="brace">{</em>
<a id="L79" name="L79"></a>  79     m_contentHandler = ch;
<a id="L80" name="L80"></a>  80   <em class="brace">}</em>
<a id="L81" name="L81"></a>  81 
<div class="comment">
    Constructor.
    @param   contentHandler The implemention of the
    @param   systemId System identifier for the document.
    contentHandler operation (toXMLString, digest, ...)</div>
<a id="L88" name="L88"></a>  88   <strong class="reserved">public</strong> TreeWalker(<a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> contentHandler, <a href="../S/5840.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/utils/DOMHelper.java.">DOMHelper</a> dh, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L89" name="L89"></a>  89   <em class="brace">{</em>
<a id="L90" name="L90"></a>  90     <strong class="reserved">this</strong>.m_contentHandler = contentHandler;
<a id="L91" name="L91"></a>  91     m_contentHandler.<a href="../D/32500.html" title="Multiple defined in 33 places.">setDocumentLocator</a>(m_locator);
<a id="L92" name="L92"></a>  92     <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>)
<a id="L93" name="L93"></a>  93         m_locator.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L94" name="L94"></a>  94     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L95" name="L95"></a>  95         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L96" name="L96"></a>  96           <em class="comment">// Bug see Bugzilla  26741</em>
<a id="L97" name="L97"></a>  97           m_locator.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(<a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("user.dir") + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> + "dummy.xsl");
<a id="L98" name="L98"></a>  98          <em class="brace">}</em>
<a id="L99" name="L99"></a>  99          <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se) <em class="brace">{</em><em class="comment">// user.dir not accessible from applet</em>
<a id="L100" name="L100"></a> 100          <em class="brace">}</em>
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>
<a id="L102" name="L102"></a> 102     m_dh = dh;
<a id="L103" name="L103"></a> 103   <em class="brace">}</em>
<a id="L104" name="L104"></a> 104 
<div class="comment">
    Constructor.
    @param   contentHandler The implemention of the
    contentHandler operation (toXMLString, digest, ...)</div>
<a id="L110" name="L110"></a> 110   <strong class="reserved">public</strong> TreeWalker(<a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> contentHandler, <a href="../S/5840.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/utils/DOMHelper.java.">DOMHelper</a> dh)
<a id="L111" name="L111"></a> 111   <em class="brace">{</em>
<a id="L112" name="L112"></a> 112     <strong class="reserved">this</strong>.m_contentHandler = contentHandler;
<a id="L113" name="L113"></a> 113     m_contentHandler.<a href="../D/32500.html" title="Multiple defined in 33 places.">setDocumentLocator</a>(m_locator);
<a id="L114" name="L114"></a> 114     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L115" name="L115"></a> 115        <em class="comment">// Bug see Bugzilla  26741</em>
<a id="L116" name="L116"></a> 116       m_locator.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(<a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("user.dir") + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> + "dummy.xsl");
<a id="L117" name="L117"></a> 117     <em class="brace">}</em>
<a id="L118" name="L118"></a> 118     <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se)<em class="brace">{</em><em class="comment">// user.dir not accessible from applet</em>
<a id="L119" name="L119"></a> 119     <em class="brace">}</em>
<a id="L120" name="L120"></a> 120     m_dh = dh;
<a id="L121" name="L121"></a> 121   <em class="brace">}</em>
<a id="L122" name="L122"></a> 122 
<div class="comment">
    Constructor.
    @param   contentHandler The implemention of the
    contentHandler operation (toXMLString, digest, ...)</div>
<a id="L128" name="L128"></a> 128   <strong class="reserved">public</strong> TreeWalker(<a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> contentHandler)
<a id="L129" name="L129"></a> 129   <em class="brace">{</em>
<a id="L130" name="L130"></a> 130     <strong class="reserved">this</strong>.m_contentHandler = contentHandler;
<a id="L131" name="L131"></a> 131                 <strong class="reserved">if</strong> (m_contentHandler != <strong class="reserved">null</strong>)
<a id="L132" name="L132"></a> 132                         m_contentHandler.<a href="../D/32500.html" title="Multiple defined in 33 places.">setDocumentLocator</a>(m_locator);
<a id="L133" name="L133"></a> 133                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L134" name="L134"></a> 134                    <em class="comment">// Bug see Bugzilla  26741</em>
<a id="L135" name="L135"></a> 135                   m_locator.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(<a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("user.dir") + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> + "dummy.xsl");
<a id="L136" name="L136"></a> 136                 <em class="brace">}</em>
<a id="L137" name="L137"></a> 137                 <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se)<em class="brace">{</em><em class="comment">// user.dir not accessible from applet</em>
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139     <em class="brace">}</em>
<a id="L140" name="L140"></a> 140     m_dh = <strong class="reserved">new</strong> <a href="../D/2042.html" title="Multiple defined in 2 places.">DOM2Helper</a>();
<a id="L141" name="L141"></a> 141   <em class="brace">}</em>
<a id="L142" name="L142"></a> 142 
<div class="comment">
    Perform a pre-order traversal non-recursive style.
    Note that TreeWalker assumes that the subtree is intended to represent
    a complete (though not necessarily well-formed) document and, during a
    traversal, startDocument and endDocument will always be issued to the
    SAX listener.
    @param pos Node in the tree where to start traversal
    @throws TransformerException</div>
<a id="L155" name="L155"></a> 155   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29475.html" title="Multiple referred from 12 places.">traverse</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> pos) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L156" name="L156"></a> 156   <em class="brace">{</em>
<a id="L157" name="L157"></a> 157         <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/34768.html" title="Multiple defined in 61 places.">startDocument</a>();
<a id="L158" name="L158"></a> 158 
<a id="L159" name="L159"></a> 159         <a href="../S/5864.html#L174" title="Defined at 174 in src/com/sun/org/apache/xml/internal/utils/TreeWalker.java.">traverseFragment</a>(pos);
<a id="L160" name="L160"></a> 160 
<a id="L161" name="L161"></a> 161         <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/15443.html" title="Multiple defined in 65 places.">endDocument</a>();
<a id="L162" name="L162"></a> 162   <em class="brace">}</em>
<a id="L163" name="L163"></a> 163 
<div class="comment">
    Perform a pre-order traversal non-recursive style.
    In contrast to the traverse() method this method will not issue
    startDocument() and endDocument() events to the SAX listener.
    @param pos Node in the tree where to start traversal
    @throws TransformerException</div>
<a id="L174" name="L174"></a> 174   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29491.html" title="Multiple referred from 2 places.">traverseFragment</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> pos) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L175" name="L175"></a> 175   <em class="brace">{</em>
<a id="L176" name="L176"></a> 176     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = pos;
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178     <strong class="reserved">while</strong> (<strong class="reserved">null</strong> != pos)
<a id="L179" name="L179"></a> 179     <em class="brace">{</em>
<a id="L180" name="L180"></a> 180       <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>(pos);
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182       <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = pos.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L183" name="L183"></a> 183 
<a id="L184" name="L184"></a> 184       <strong class="reserved">while</strong> (<strong class="reserved">null</strong> == <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>)
<a id="L185" name="L185"></a> 185       <em class="brace">{</em>
<a id="L186" name="L186"></a> 186         <a href="../D/15461.html" title="Multiple defined in 3 places.">endNode</a>(pos);
<a id="L187" name="L187"></a> 187 
<a id="L188" name="L188"></a> 188         <strong class="reserved">if</strong> (<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(pos))
<a id="L189" name="L189"></a> 189           <strong class="reserved">break</strong>;
<a id="L190" name="L190"></a> 190 
<a id="L191" name="L191"></a> 191         <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = pos.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>)
<a id="L194" name="L194"></a> 194         <em class="brace">{</em>
<a id="L195" name="L195"></a> 195           pos = pos.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197           <strong class="reserved">if</strong> ((<strong class="reserved">null</strong> == pos) || (<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(pos)))
<a id="L198" name="L198"></a> 198           <em class="brace">{</em>
<a id="L199" name="L199"></a> 199             <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != pos)
<a id="L200" name="L200"></a> 200               <a href="../D/15461.html" title="Multiple defined in 3 places.">endNode</a>(pos);
<a id="L201" name="L201"></a> 201 
<a id="L202" name="L202"></a> 202             <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = <strong class="reserved">null</strong>;
<a id="L203" name="L203"></a> 203 
<a id="L204" name="L204"></a> 204             <strong class="reserved">break</strong>;
<a id="L205" name="L205"></a> 205           <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207       <em class="brace">}</em>
<a id="L208" name="L208"></a> 208 
<a id="L209" name="L209"></a> 209       pos = <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>;
<a id="L210" name="L210"></a> 210     <em class="brace">}</em>
<a id="L211" name="L211"></a> 211   <em class="brace">}</em>
<a id="L212" name="L212"></a> 212 
<div class="comment">
    Perform a pre-order traversal non-recursive style.
    Note that TreeWalker assumes that the subtree is intended to represent
    a complete (though not necessarily well-formed) document and, during a
    traversal, startDocument and endDocument will always be issued to the
    SAX listener.
    @param pos Node in the tree where to start traversal
    @param top Node in the tree where to end traversal
    @throws TransformerException</div>
<a id="L226" name="L226"></a> 226   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29475.html" title="Multiple referred from 12 places.">traverse</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> pos, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L227" name="L227"></a> 227   <em class="brace">{</em>
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229         <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/34768.html" title="Multiple defined in 61 places.">startDocument</a>();
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231     <strong class="reserved">while</strong> (<strong class="reserved">null</strong> != pos)
<a id="L232" name="L232"></a> 232     <em class="brace">{</em>
<a id="L233" name="L233"></a> 233       <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>(pos);
<a id="L234" name="L234"></a> 234 
<a id="L235" name="L235"></a> 235       <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = pos.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L236" name="L236"></a> 236 
<a id="L237" name="L237"></a> 237       <strong class="reserved">while</strong> (<strong class="reserved">null</strong> == <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>)
<a id="L238" name="L238"></a> 238       <em class="brace">{</em>
<a id="L239" name="L239"></a> 239         <a href="../D/15461.html" title="Multiple defined in 3 places.">endNode</a>(pos);
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241         <strong class="reserved">if</strong> ((<strong class="reserved">null</strong> != <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>) &amp;&amp; <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(pos))
<a id="L242" name="L242"></a> 242           <strong class="reserved">break</strong>;
<a id="L243" name="L243"></a> 243 
<a id="L244" name="L244"></a> 244         <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = pos.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L245" name="L245"></a> 245 
<a id="L246" name="L246"></a> 246         <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>)
<a id="L247" name="L247"></a> 247         <em class="brace">{</em>
<a id="L248" name="L248"></a> 248           pos = pos.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250           <strong class="reserved">if</strong> ((<strong class="reserved">null</strong> == pos) || ((<strong class="reserved">null</strong> != <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>) &amp;&amp; <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(pos)))
<a id="L251" name="L251"></a> 251           <em class="brace">{</em>
<a id="L252" name="L252"></a> 252             <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = <strong class="reserved">null</strong>;
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254             <strong class="reserved">break</strong>;
<a id="L255" name="L255"></a> 255           <em class="brace">}</em>
<a id="L256" name="L256"></a> 256         <em class="brace">}</em>
<a id="L257" name="L257"></a> 257       <em class="brace">}</em>
<a id="L258" name="L258"></a> 258 
<a id="L259" name="L259"></a> 259       pos = <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>;
<a id="L260" name="L260"></a> 260     <em class="brace">}</em>
<a id="L261" name="L261"></a> 261     <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/15443.html" title="Multiple defined in 65 places.">endDocument</a>();
<a id="L262" name="L262"></a> 262   <em class="brace">}</em>
<a id="L263" name="L263"></a> 263 
<div class="comment">
   /** Flag indicating whether following text to be processed is raw text          */</div>
<a id="L265" name="L265"></a> 265   <strong class="reserved">boolean</strong> nextIsRaw = <strong class="reserved">false</strong>;
<a id="L266" name="L266"></a> 266 
<div class="comment">
    Optimized dispatch of characters.</div>
<a id="L270" name="L270"></a> 270   <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/13313.html" title="Multiple referred from 9 places.">dispatachChars</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)
<a id="L271" name="L271"></a> 271      <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L272" name="L272"></a> 272   <em class="brace">{</em>
<a id="L273" name="L273"></a> 273     <strong class="reserved">if</strong>(m_contentHandler <strong class="reserved">instanceof</strong> com.sun.org.apache.xml.internal.dtm.<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.dom2dtm.<a href="../S/5895.html#L68" title="Defined at 68 in src/com/sun/org/apache/xml/internal/dtm/ref/dom2dtm/DOM2DTM.java.">DOM2DTM</a>.<a href="../S/5895.html#L1736" title="Defined at 1736 in src/com/sun/org/apache/xml/internal/dtm/ref/dom2dtm/DOM2DTM.java.">CharacterNodeHandler</a>)
<a id="L274" name="L274"></a> 274     <em class="brace">{</em>
<a id="L275" name="L275"></a> 275       ((com.sun.org.apache.xml.internal.dtm.<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.dom2dtm.<a href="../S/5895.html#L68" title="Defined at 68 in src/com/sun/org/apache/xml/internal/dtm/ref/dom2dtm/DOM2DTM.java.">DOM2DTM</a>.<a href="../S/5895.html#L1736" title="Defined at 1736 in src/com/sun/org/apache/xml/internal/dtm/ref/dom2dtm/DOM2DTM.java.">CharacterNodeHandler</a>)m_contentHandler).<a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L276" name="L276"></a> 276     <em class="brace">}</em>
<a id="L277" name="L277"></a> 277     <strong class="reserved">else</strong>
<a id="L278" name="L278"></a> 278     <em class="brace">{</em>
<a id="L279" name="L279"></a> 279       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = ((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>();
<a id="L280" name="L280"></a> 280       <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>(), 0, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L281" name="L281"></a> 281     <em class="brace">}</em>
<a id="L282" name="L282"></a> 282   <em class="brace">}</em>
<a id="L283" name="L283"></a> 283 
<div class="comment">
    Start processing given node
    @param node Node to process
    @throws org.xml.sax.SAXException</div>
<a id="L292" name="L292"></a> 292   <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/28833.html" title="Multiple referred from 58 places.">startNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L293" name="L293"></a> 293   <em class="brace">{</em>
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295     <strong class="reserved">if</strong> (m_contentHandler <strong class="reserved">instanceof</strong> <a href="../S/5845.html#L33" title="Defined at 33 in src/com/sun/org/apache/xml/internal/utils/NodeConsumer.java.">NodeConsumer</a>)
<a id="L296" name="L296"></a> 296     <em class="brace">{</em>
<a id="L297" name="L297"></a> 297       ((<a href="../S/5845.html#L33" title="Defined at 33 in src/com/sun/org/apache/xml/internal/utils/NodeConsumer.java.">NodeConsumer</a>) m_contentHandler).<a href="../S/5845.html#L41" title="Defined at 41 in src/com/sun/org/apache/xml/internal/utils/NodeConsumer.java.">setOriginatingNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L298" name="L298"></a> 298     <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300                 <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> <strong class="reserved">instanceof</strong> <a href="../D/5191.html" title="Multiple defined in 3 places.">Locator</a>)
<a id="L301" name="L301"></a> 301                 <em class="brace">{</em>
<a id="L302" name="L302"></a> 302                         <a href="../D/5191.html" title="Multiple defined in 3 places.">Locator</a> loc = (<a href="../D/5191.html" title="Multiple defined in 3 places.">Locator</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L303" name="L303"></a> 303                         m_locator.<a href="../D/32196.html" title="Multiple defined in 5 places.">setColumnNumber</a>(loc.<a href="../D/17813.html" title="Multiple defined in 33 places.">getColumnNumber</a>());
<a id="L304" name="L304"></a> 304                         m_locator.<a href="../D/33092.html" title="Multiple defined in 9 places.">setLineNumber</a>(loc.<a href="../D/20122.html" title="Multiple defined in 41 places.">getLineNumber</a>());
<a id="L305" name="L305"></a> 305                         m_locator.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a>(loc.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>());
<a id="L306" name="L306"></a> 306                         m_locator.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(loc.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>());
<a id="L307" name="L307"></a> 307                 <em class="brace">}</em>
<a id="L308" name="L308"></a> 308                 <strong class="reserved">else</strong>
<a id="L309" name="L309"></a> 309                 <em class="brace">{</em>
<a id="L310" name="L310"></a> 310                         m_locator.<a href="../D/32196.html" title="Multiple defined in 5 places.">setColumnNumber</a>(0);
<a id="L311" name="L311"></a> 311       m_locator.<a href="../D/33092.html" title="Multiple defined in 9 places.">setLineNumber</a>(0);
<a id="L312" name="L312"></a> 312                 <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<a id="L314" name="L314"></a> 314     <strong class="reserved">switch</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>())
<a id="L315" name="L315"></a> 315     <em class="brace">{</em>
<a id="L316" name="L316"></a> 316     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.COMMENT_NODE :
<a id="L317" name="L317"></a> 317     <em class="brace">{</em>
<a id="L318" name="L318"></a> 318       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = ((<a href="../D/1672.html" title="Multiple defined in 3 places.">Comment</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>();
<a id="L319" name="L319"></a> 319 
<a id="L320" name="L320"></a> 320       <strong class="reserved">if</strong> (m_contentHandler <strong class="reserved">instanceof</strong> <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>)
<a id="L321" name="L321"></a> 321       <em class="brace">{</em>
<a id="L322" name="L322"></a> 322         <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a> lh = ((<a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>) <strong class="reserved">this</strong>.m_contentHandler);
<a id="L323" name="L323"></a> 323 
<a id="L324" name="L324"></a> 324         lh.<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>(), 0, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L325" name="L325"></a> 325       <em class="brace">}</em>
<a id="L326" name="L326"></a> 326     <em class="brace">}</em>
<a id="L327" name="L327"></a> 327     <strong class="reserved">break</strong>;
<a id="L328" name="L328"></a> 328     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_FRAGMENT_NODE :
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330       <em class="comment">// ??;</em>
<a id="L331" name="L331"></a> 331       <strong class="reserved">break</strong>;
<a id="L332" name="L332"></a> 332     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE :
<a id="L333" name="L333"></a> 333 
<a id="L334" name="L334"></a> 334       <strong class="reserved">break</strong>;
<a id="L335" name="L335"></a> 335     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE :
<a id="L336" name="L336"></a> 336       <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> atts = ((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L337" name="L337"></a> 337       <strong class="reserved">int</strong> nAttrs = atts.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L338" name="L338"></a> 338       <em class="comment">// System.out.println("TreeWalker#startNode: "+node.getNodeName());</em>
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nAttrs; i++)
<a id="L341" name="L341"></a> 341       <em class="brace">{</em>
<a id="L342" name="L342"></a> 342         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = atts.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L343" name="L343"></a> 343         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>();
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345         <em class="comment">// System.out.println("TreeWalker#startNode: attr["+i+"] = "+attrName+", "+attr.getNodeValue());</em>
<a id="L346" name="L346"></a> 346         <strong class="reserved">if</strong> (attrName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xmlns") || attrName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("xmlns:"))
<a id="L347" name="L347"></a> 347         <em class="brace">{</em>
<a id="L348" name="L348"></a> 348           <em class="comment">// System.out.println("TreeWalker#startNode: attr["+i+"] = "+attrName+", "+attr.getNodeValue());</em>
<a id="L349" name="L349"></a> 349           <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L350" name="L350"></a> 350           <em class="comment">// Use "" instead of null, as Xerces likes "" for the</em>
<a id="L351" name="L351"></a> 351           <em class="comment">// name of the default namespace.  Fix attributed</em>
<a id="L352" name="L352"></a> 352           <em class="comment">// to "Steven Murray" &lt;smurray@ebt.com&gt;.</em>
<a id="L353" name="L353"></a> 353           <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = attrName.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(":")) &lt; 0
<a id="L354" name="L354"></a> 354                           ? "" : attrName.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1);
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356           <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/34818.html" title="Multiple defined in 38 places.">startPrefixMapping</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>,
<a id="L357" name="L357"></a> 357                                                    <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L358" name="L358"></a> 358         <em class="brace">}</em>
<a id="L359" name="L359"></a> 359 
<a id="L360" name="L360"></a> 360       <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362       <em class="comment">// System.out.println("m_dh.getNamespaceOfNode(node): "+m_dh.getNamespaceOfNode(node));</em>
<a id="L363" name="L363"></a> 363       <em class="comment">// System.out.println("m_dh.getLocalNameOfNode(node): "+m_dh.getLocalNameOfNode(node));</em>
<a id="L364" name="L364"></a> 364       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ns = m_dh.<a href="../D/20823.html" title="Multiple defined in 3 places.">getNamespaceOfNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L365" name="L365"></a> 365       <strong class="reserved">if</strong>(<strong class="reserved">null</strong> == ns)
<a id="L366" name="L366"></a> 366         ns = "";
<a id="L367" name="L367"></a> 367       <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/34781.html" title="Multiple defined in 105 places.">startElement</a>(ns,
<a id="L368" name="L368"></a> 368                                          m_dh.<a href="../D/20204.html" title="Multiple defined in 3 places.">getLocalNameOfNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>),
<a id="L369" name="L369"></a> 369                                          <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>(),
<a id="L370" name="L370"></a> 370                                          <strong class="reserved">new</strong> <a href="../D/557.html" title="Multiple defined in 2 places.">AttList</a>(atts, m_dh));
<a id="L371" name="L371"></a> 371       <strong class="reserved">break</strong>;
<a id="L372" name="L372"></a> 372     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.PROCESSING_INSTRUCTION_NODE :
<a id="L373" name="L373"></a> 373     <em class="brace">{</em>
<a id="L374" name="L374"></a> 374       <a href="../D/6899.html" title="Multiple defined in 3 places.">ProcessingInstruction</a> pi = (<a href="../D/6899.html" title="Multiple defined in 3 places.">ProcessingInstruction</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L375" name="L375"></a> 375       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = pi.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>();
<a id="L376" name="L376"></a> 376 
<a id="L377" name="L377"></a> 377       <em class="comment">// String data = pi.getData();</em>
<a id="L378" name="L378"></a> 378       <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xslt-next-is-raw"))
<a id="L379" name="L379"></a> 379       <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         nextIsRaw = <strong class="reserved">true</strong>;
<a id="L381" name="L381"></a> 381       <em class="brace">}</em>
<a id="L382" name="L382"></a> 382       <strong class="reserved">else</strong>
<a id="L383" name="L383"></a> 383       <em class="brace">{</em>
<a id="L384" name="L384"></a> 384         <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/29876.html" title="Multiple defined in 72 places.">processingInstruction</a>(pi.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>(),
<a id="L385" name="L385"></a> 385                                                     pi.<a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>());
<a id="L386" name="L386"></a> 386       <em class="brace">}</em>
<a id="L387" name="L387"></a> 387     <em class="brace">}</em>
<a id="L388" name="L388"></a> 388     <strong class="reserved">break</strong>;
<a id="L389" name="L389"></a> 389     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.CDATA_SECTION_NODE :
<a id="L390" name="L390"></a> 390     <em class="brace">{</em>
<a id="L391" name="L391"></a> 391       <strong class="reserved">boolean</strong> isLexH = (m_contentHandler <strong class="reserved">instanceof</strong> <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>);
<a id="L392" name="L392"></a> 392       <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a> lh = isLexH
<a id="L393" name="L393"></a> 393                           ? ((<a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>) <strong class="reserved">this</strong>.m_contentHandler) : <strong class="reserved">null</strong>;
<a id="L394" name="L394"></a> 394 
<a id="L395" name="L395"></a> 395       <strong class="reserved">if</strong> (isLexH)
<a id="L396" name="L396"></a> 396       <em class="brace">{</em>
<a id="L397" name="L397"></a> 397         lh.<a href="../D/34760.html" title="Multiple defined in 37 places.">startCDATA</a>();
<a id="L398" name="L398"></a> 398       <em class="brace">}</em>
<a id="L399" name="L399"></a> 399 
<a id="L400" name="L400"></a> 400       <a href="../D/14944.html" title="Multiple defined in 3 places.">dispatachChars</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L401" name="L401"></a> 401 
<a id="L402" name="L402"></a> 402       <em class="brace">{</em>
<a id="L403" name="L403"></a> 403         <strong class="reserved">if</strong> (isLexH)
<a id="L404" name="L404"></a> 404         <em class="brace">{</em>
<a id="L405" name="L405"></a> 405           lh.<a href="../D/15437.html" title="Multiple defined in 40 places.">endCDATA</a>();
<a id="L406" name="L406"></a> 406         <em class="brace">}</em>
<a id="L407" name="L407"></a> 407       <em class="brace">}</em>
<a id="L408" name="L408"></a> 408     <em class="brace">}</em>
<a id="L409" name="L409"></a> 409     <strong class="reserved">break</strong>;
<a id="L410" name="L410"></a> 410     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE :
<a id="L411" name="L411"></a> 411     <em class="brace">{</em>
<a id="L412" name="L412"></a> 412       <em class="comment">//String data = ((Text) node).getData();</em>
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414       <strong class="reserved">if</strong> (nextIsRaw)
<a id="L415" name="L415"></a> 415       <em class="brace">{</em>
<a id="L416" name="L416"></a> 416         nextIsRaw = <strong class="reserved">false</strong>;
<a id="L417" name="L417"></a> 417 
<a id="L418" name="L418"></a> 418         m_contentHandler.<a href="../D/29876.html" title="Multiple defined in 72 places.">processingInstruction</a>(<a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a>.<a href="../D/7352.html" title="Multiple defined in 5 places.">Result</a>.PI_DISABLE_OUTPUT_ESCAPING, "");
<a id="L419" name="L419"></a> 419         <a href="../D/14944.html" title="Multiple defined in 3 places.">dispatachChars</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L420" name="L420"></a> 420         m_contentHandler.<a href="../D/29876.html" title="Multiple defined in 72 places.">processingInstruction</a>(<a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a>.<a href="../D/7352.html" title="Multiple defined in 5 places.">Result</a>.PI_ENABLE_OUTPUT_ESCAPING, "");
<a id="L421" name="L421"></a> 421       <em class="brace">}</em>
<a id="L422" name="L422"></a> 422       <strong class="reserved">else</strong>
<a id="L423" name="L423"></a> 423       <em class="brace">{</em>
<a id="L424" name="L424"></a> 424         <a href="../D/14944.html" title="Multiple defined in 3 places.">dispatachChars</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L425" name="L425"></a> 425       <em class="brace">}</em>
<a id="L426" name="L426"></a> 426     <em class="brace">}</em>
<a id="L427" name="L427"></a> 427     <strong class="reserved">break</strong>;
<a id="L428" name="L428"></a> 428     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE :
<a id="L429" name="L429"></a> 429     <em class="brace">{</em>
<a id="L430" name="L430"></a> 430       <a href="../D/2917.html" title="Multiple defined in 2 places.">EntityReference</a> eref = (<a href="../D/2917.html" title="Multiple defined in 2 places.">EntityReference</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L431" name="L431"></a> 431 
<a id="L432" name="L432"></a> 432       <strong class="reserved">if</strong> (m_contentHandler <strong class="reserved">instanceof</strong> <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>)
<a id="L433" name="L433"></a> 433       <em class="brace">{</em>
<a id="L434" name="L434"></a> 434         ((<a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>) <strong class="reserved">this</strong>.m_contentHandler).<a href="../D/34782.html" title="Multiple defined in 25 places.">startEntity</a>(
<a id="L435" name="L435"></a> 435           eref.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L436" name="L436"></a> 436       <em class="brace">}</em>
<a id="L437" name="L437"></a> 437       <strong class="reserved">else</strong>
<a id="L438" name="L438"></a> 438       <em class="brace">{</em>
<a id="L439" name="L439"></a> 439 
<a id="L440" name="L440"></a> 440         <em class="comment">// warning("Can not output entity to a pure SAX ContentHandler");</em>
<a id="L441" name="L441"></a> 441       <em class="brace">}</em>
<a id="L442" name="L442"></a> 442     <em class="brace">}</em>
<a id="L443" name="L443"></a> 443     <strong class="reserved">break</strong>;
<a id="L444" name="L444"></a> 444     <strong class="reserved">default</strong> :
<a id="L445" name="L445"></a> 445     <em class="brace">}</em>
<a id="L446" name="L446"></a> 446   <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<div class="comment">
    End processing of given node
    @param node Node we just finished processing
    @throws org.xml.sax.SAXException</div>
<a id="L456" name="L456"></a> 456   <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13778.html" title="Multiple referred from 18 places.">endNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L457" name="L457"></a> 457   <em class="brace">{</em>
<a id="L458" name="L458"></a> 458 
<a id="L459" name="L459"></a> 459     <strong class="reserved">switch</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>())
<a id="L460" name="L460"></a> 460     <em class="brace">{</em>
<a id="L461" name="L461"></a> 461     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE :
<a id="L462" name="L462"></a> 462       <strong class="reserved">break</strong>;
<a id="L463" name="L463"></a> 463 
<a id="L464" name="L464"></a> 464     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE :
<a id="L465" name="L465"></a> 465       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ns = m_dh.<a href="../D/20823.html" title="Multiple defined in 3 places.">getNamespaceOfNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L466" name="L466"></a> 466       <strong class="reserved">if</strong>(<strong class="reserved">null</strong> == ns)
<a id="L467" name="L467"></a> 467         ns = "";
<a id="L468" name="L468"></a> 468       <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/15448.html" title="Multiple defined in 90 places.">endElement</a>(ns,
<a id="L469" name="L469"></a> 469                                          m_dh.<a href="../D/20204.html" title="Multiple defined in 3 places.">getLocalNameOfNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>),
<a id="L470" name="L470"></a> 470                                          <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L471" name="L471"></a> 471 
<a id="L472" name="L472"></a> 472       <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> atts = ((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L473" name="L473"></a> 473       <strong class="reserved">int</strong> nAttrs = atts.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nAttrs; i++)
<a id="L476" name="L476"></a> 476       <em class="brace">{</em>
<a id="L477" name="L477"></a> 477         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = atts.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L478" name="L478"></a> 478         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>();
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480         <strong class="reserved">if</strong> (attrName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xmlns") || attrName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("xmlns:"))
<a id="L481" name="L481"></a> 481         <em class="brace">{</em>
<a id="L482" name="L482"></a> 482           <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L483" name="L483"></a> 483           <em class="comment">// Use "" instead of null, as Xerces likes "" for the</em>
<a id="L484" name="L484"></a> 484           <em class="comment">// name of the default namespace.  Fix attributed</em>
<a id="L485" name="L485"></a> 485           <em class="comment">// to "Steven Murray" &lt;smurray@ebt.com&gt;.</em>
<a id="L486" name="L486"></a> 486           <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = attrName.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(":")) &lt; 0
<a id="L487" name="L487"></a> 487                           ? "" : attrName.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1);
<a id="L488" name="L488"></a> 488 
<a id="L489" name="L489"></a> 489           <strong class="reserved">this</strong>.m_contentHandler.<a href="../D/15470.html" title="Multiple defined in 28 places.">endPrefixMapping</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L490" name="L490"></a> 490         <em class="brace">}</em>
<a id="L491" name="L491"></a> 491       <em class="brace">}</em>
<a id="L492" name="L492"></a> 492       <strong class="reserved">break</strong>;
<a id="L493" name="L493"></a> 493     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.CDATA_SECTION_NODE :
<a id="L494" name="L494"></a> 494       <strong class="reserved">break</strong>;
<a id="L495" name="L495"></a> 495     <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE :
<a id="L496" name="L496"></a> 496     <em class="brace">{</em>
<a id="L497" name="L497"></a> 497       <a href="../D/2917.html" title="Multiple defined in 2 places.">EntityReference</a> eref = (<a href="../D/2917.html" title="Multiple defined in 2 places.">EntityReference</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L498" name="L498"></a> 498 
<a id="L499" name="L499"></a> 499       <strong class="reserved">if</strong> (m_contentHandler <strong class="reserved">instanceof</strong> <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>)
<a id="L500" name="L500"></a> 500       <em class="brace">{</em>
<a id="L501" name="L501"></a> 501         <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a> lh = ((<a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>) <strong class="reserved">this</strong>.m_contentHandler);
<a id="L502" name="L502"></a> 502 
<a id="L503" name="L503"></a> 503         lh.<a href="../D/15451.html" title="Multiple defined in 21 places.">endEntity</a>(eref.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L504" name="L504"></a> 504       <em class="brace">}</em>
<a id="L505" name="L505"></a> 505     <em class="brace">}</em>
<a id="L506" name="L506"></a> 506     <strong class="reserved">break</strong>;
<a id="L507" name="L507"></a> 507     <strong class="reserved">default</strong> :
<a id="L508" name="L508"></a> 508     <em class="brace">}</em>
<a id="L509" name="L509"></a> 509   <em class="brace">}</em>
<a id="L510" name="L510"></a> 510 <em class="brace">}</em>  <em class="comment">//TreeWalker</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L67">[^]</a><a href="#L456">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>