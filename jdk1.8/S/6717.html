<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/java/swing/plaf/windows/WindowsMenuUI.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L110">[^]</a><a href="#L276">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L110" title="Defined at 110.">createUI</a></li>
<li><a href="#L114" title="Defined at 114.">installDefaults</a></li>
<li><a href="#L130" title="Defined at 130.">paintBackground</a></li>
<li><a href="#L209" title="Defined at 209.">paintText</a></li>
<li><a href="#L244" title="Defined at 244.">createMouseInputListener</a></li>
<li><a href="#L254" title="Defined at 254.">mouseEntered</a></li>
<li><a href="#L264" title="Defined at 264.">mouseExited</a></li>
<li><a href="#L276" title="Defined at 276.">getPreferredMenuItemSize</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2007, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> com.sun.<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.swing.plaf.<a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a>;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.event.MouseEvent;
<a id="L30" name="L30"></a>  30 
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> javax.swing.plaf.ComponentUI;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.swing.plaf.basic.BasicMenuUI;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.swing.event.MouseInputListener;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.swing.*;
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.java.swing.plaf.windows.TMSchema.Part;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.java.swing.plaf.windows.TMSchema.State;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  Windows rendition of the component.
  <p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases.  The current serialization support is appropriate
  for short term storage or RMI between applications running the same
  version of Swing.  A future release of Swing will provide support for
  long term persistence.</p></div>
<a id="L49" name="L49"></a>  49 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8815.html" title="Multiple referred from 3 places.">WindowsMenuUI</a> <strong class="reserved">extends</strong> <a href="../S/2862.html#L49" title="Defined at 49 in src/javax/swing/plaf/basic/BasicMenuUI.java.">BasicMenuUI</a> <em class="brace">{</em>
<a id="L50" name="L50"></a>  50     <strong class="reserved">protected</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> menuBarHeight;
<a id="L51" name="L51"></a>  51     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> hotTrackingOn;
<a id="L52" name="L52"></a>  52 
<a id="L53" name="L53"></a>  53     <strong class="reserved">final</strong> <a href="../S/6711.html#L42" title="Defined at 42 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUIAccessor.java.">WindowsMenuItemUIAccessor</a> accessor =
<a id="L54" name="L54"></a>  54         <strong class="reserved">new</strong> <a href="../S/6711.html#L42" title="Defined at 42 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUIAccessor.java.">WindowsMenuItemUIAccessor</a>() <em class="brace">{</em>
<a id="L55" name="L55"></a>  55 
<a id="L56" name="L56"></a>  56             <strong class="reserved">public</strong> <a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a> <a href="../S/6711.html#L43" title="Defined at 43 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUIAccessor.java.">getMenuItem</a>() <em class="brace">{</em>
<a id="L57" name="L57"></a>  57                 <strong class="reserved">return</strong> menuItem;
<a id="L58" name="L58"></a>  58             <em class="brace">}</em>
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60             <strong class="reserved">public</strong> <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> <a href="../D/22724.html" title="Multiple defined in 28 places.">getState</a>(<a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a> menu) <em class="brace">{</em>
<a id="L61" name="L61"></a>  61                 <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = menu.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>() ? <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.NORMAL
<a id="L62" name="L62"></a>  62                         : <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.DISABLED;
<a id="L63" name="L63"></a>  63                 <a href="../S/2732.html#L76" title="Defined at 76 in src/javax/swing/ButtonModel.java.">ButtonModel</a> model = menu.<a href="../D/20699.html" title="Multiple defined in 27 places.">getModel</a>();
<a id="L64" name="L64"></a>  64                 <strong class="reserved">if</strong> (model.<a href="../D/25207.html" title="Multiple defined in 4 places.">isArmed</a>() || model.<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()) <em class="brace">{</em>
<a id="L65" name="L65"></a>  65                     <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = (menu.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) ? <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.PUSHED
<a id="L66" name="L66"></a>  66                             : <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.DISABLEDPUSHED;
<a id="L67" name="L67"></a>  67                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (model.<a href="../D/26187.html" title="Multiple defined in 4 places.">isRollover</a>()
<a id="L68" name="L68"></a>  68                            &amp;&amp; ((<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>) menu).<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>()) <em class="brace">{</em>
<div class="comment">
                      Only paint rollover if no other menu on menubar is
                      selected</div>
<a id="L73" name="L73"></a>  73                     <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> stateTmp = <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L74" name="L74"></a>  74                     <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = (menu.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) ? <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.HOT
<a id="L75" name="L75"></a>  75                             : <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.DISABLEDHOT;
<a id="L76" name="L76"></a>  76                     <strong class="reserved">for</strong> (<a href="../S/3222.html#L38" title="Defined at 38 in src/javax/swing/MenuElement.java.">MenuElement</a> menuElement :
<a id="L77" name="L77"></a>  77                         ((<a href="../S/3432.html#L93" title="Defined at 93 in src/javax/swing/JMenuBar.java.">JMenuBar</a>) menu.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>()).<a href="../D/22817.html" title="Multiple defined in 5 places.">getSubElements</a>()) <em class="brace">{</em>
<a id="L78" name="L78"></a>  78                         <strong class="reserved">if</strong> (((<a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a>) menuElement).<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()) <em class="brace">{</em>
<a id="L79" name="L79"></a>  79                             <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = stateTmp;
<a id="L80" name="L80"></a>  80                             <strong class="reserved">break</strong>;
<a id="L81" name="L81"></a>  81                         <em class="brace">}</em>
<a id="L82" name="L82"></a>  82                     <em class="brace">}</em>
<a id="L83" name="L83"></a>  83                 <em class="brace">}</em>
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85                 <em class="comment">//non top level menus have HOT state instead of PUSHED</em>
<a id="L86" name="L86"></a>  86                 <strong class="reserved">if</strong> (!((<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>) menu).<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>()) <em class="brace">{</em>
<a id="L87" name="L87"></a>  87                     <strong class="reserved">if</strong> (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.PUSHED) <em class="brace">{</em>
<a id="L88" name="L88"></a>  88                         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.HOT;
<a id="L89" name="L89"></a>  89                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.DISABLEDPUSHED) <em class="brace">{</em>
<a id="L90" name="L90"></a>  90                         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.DISABLEDHOT;
<a id="L91" name="L91"></a>  91                     <em class="brace">}</em>
<a id="L92" name="L92"></a>  92                 <em class="brace">}</em>
<a id="L93" name="L93"></a>  93 
<div class="comment">
                  on Vista top level menu for non active frame looks disabled</div>
<a id="L97" name="L97"></a>  97                 <strong class="reserved">if</strong> (((<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>) menu).<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>() &amp;&amp; <a href="../S/6735.html#L51" title="Defined at 51 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUI.java.">WindowsMenuItemUI</a>.<a href="../D/26493.html" title="Multiple defined in 2 places.">isVistaPainting</a>()) <em class="brace">{</em>
<a id="L98" name="L98"></a>  98                     <strong class="reserved">if</strong> (! <a href="../S/6755.html#L55" title="Defined at 55 in src/com/sun/java/swing/plaf/windows/WindowsMenuBarUI.java.">WindowsMenuBarUI</a>.<a href="../D/25158.html" title="Multiple defined in 19 places.">isActive</a>(menu)) <em class="brace">{</em>
<a id="L99" name="L99"></a>  99                         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.DISABLED;
<a id="L100" name="L100"></a> 100                     <em class="brace">}</em>
<a id="L101" name="L101"></a> 101                 <em class="brace">}</em>
<a id="L102" name="L102"></a> 102                 <strong class="reserved">return</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L103" name="L103"></a> 103             <em class="brace">}</em>
<a id="L104" name="L104"></a> 104 
<a id="L105" name="L105"></a> 105             <strong class="reserved">public</strong> <a href="../D/6649.html" title="Multiple defined in 2 places.">Part</a> <a href="../D/21418.html" title="Multiple defined in 2 places.">getPart</a>(<a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a> menuItem) <em class="brace">{</em>
<a id="L106" name="L106"></a> 106                 <strong class="reserved">return</strong> ((<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>) menuItem).<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>() ? <a href="../D/6649.html" title="Multiple defined in 2 places.">Part</a>.<a href="../S/6754.html#L90" title="Defined at 90 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">MP_BARITEM</a>
<a id="L107" name="L107"></a> 107                         : <a href="../D/6649.html" title="Multiple defined in 2 places.">Part</a>.<a href="../S/6754.html#L96" title="Defined at 96 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">MP_POPUPITEM</a>;
<a id="L108" name="L108"></a> 108             <em class="brace">}</em>
<a id="L109" name="L109"></a> 109     <em class="brace">}</em>;
<a id="L110" name="L110"></a> 110     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3113.html#L54" title="Defined at 54 in src/javax/swing/plaf/ComponentUI.java.">ComponentUI</a> <a href="../R/12758.html" title="Multiple referred from 45 places.">createUI</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L111" name="L111"></a> 111         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/6717.html#L49" title="Defined at 49 in src/com/sun/java/swing/plaf/windows/WindowsMenuUI.java.">WindowsMenuUI</a>();
<a id="L112" name="L112"></a> 112     <em class="brace">}</em>
<a id="L113" name="L113"></a> 113 
<a id="L114" name="L114"></a> 114     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20846.html" title="Multiple referred from 80 places.">installDefaults</a>() <em class="brace">{</em>
<a id="L115" name="L115"></a> 115         <strong class="reserved">super</strong>.<a href="../D/24831.html" title="Multiple defined in 107 places.">installDefaults</a>();
<a id="L116" name="L116"></a> 116         <strong class="reserved">if</strong> (!<a href="../S/6763.html#L93" title="Defined at 93 in src/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.java.">WindowsLookAndFeel</a>.<a href="../S/6763.html#L1997" title="Defined at 1997 in src/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.java.">isClassicWindows</a>()) <em class="brace">{</em>
<a id="L117" name="L117"></a> 117             menuItem.<a href="../S/2743.html#L1526" title="Defined at 1526 in src/javax/swing/AbstractButton.java.">setRolloverEnabled</a>(<strong class="reserved">true</strong>);
<a id="L118" name="L118"></a> 118         <em class="brace">}</em>
<a id="L119" name="L119"></a> 119 
<a id="L120" name="L120"></a> 120         menuBarHeight = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>("MenuBar.height");
<a id="L121" name="L121"></a> 121 
<a id="L122" name="L122"></a> 122         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj      = <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("MenuBar.rolloverEnabled");
<a id="L123" name="L123"></a> 123         hotTrackingOn = (obj <strong class="reserved">instanceof</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) ? (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)obj : <strong class="reserved">true</strong>;
<a id="L124" name="L124"></a> 124     <em class="brace">}</em>
<a id="L125" name="L125"></a> 125 
<div class="comment">
      Draws the background of the menu.
      @since 1.4</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24103.html" title="Multiple referred from 107 places.">paintBackground</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a> menuItem, <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> bgColor) <em class="brace">{</em>
<a id="L131" name="L131"></a> 131         <strong class="reserved">if</strong> (<a href="../S/6735.html#L51" title="Defined at 51 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUI.java.">WindowsMenuItemUI</a>.<a href="../D/26493.html" title="Multiple defined in 2 places.">isVistaPainting</a>()) <em class="brace">{</em>
<a id="L132" name="L132"></a> 132             <a href="../S/6735.html#L51" title="Defined at 51 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUI.java.">WindowsMenuItemUI</a>.<a href="../D/28667.html" title="Multiple defined in 29 places.">paintBackground</a>(accessor, g, menuItem, bgColor);
<a id="L133" name="L133"></a> 133             <strong class="reserved">return</strong>;
<a id="L134" name="L134"></a> 134         <em class="brace">}</em>
<a id="L135" name="L135"></a> 135 
<a id="L136" name="L136"></a> 136         <a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a> menu = (<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>)menuItem;
<a id="L137" name="L137"></a> 137         <a href="../S/2732.html#L76" title="Defined at 76 in src/javax/swing/ButtonModel.java.">ButtonModel</a> model = menu.<a href="../D/20699.html" title="Multiple defined in 27 places.">getModel</a>();
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139         <em class="comment">// Use superclass method for the old Windows LAF,</em>
<a id="L140" name="L140"></a> 140         <em class="comment">// for submenus, and for XP toplevel if selected or pressed</em>
<a id="L141" name="L141"></a> 141         <strong class="reserved">if</strong> (<a href="../S/6763.html#L93" title="Defined at 93 in src/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.java.">WindowsLookAndFeel</a>.<a href="../S/6763.html#L1997" title="Defined at 1997 in src/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.java.">isClassicWindows</a>() ||
<a id="L142" name="L142"></a> 142             !menu.<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>() ||
<a id="L143" name="L143"></a> 143             (<a href="../S/6758.html#L66" title="Defined at 66 in src/com/sun/java/swing/plaf/windows/XPStyle.java.">XPStyle</a>.<a href="../S/6758.html#L98" title="Defined at 98 in src/com/sun/java/swing/plaf/windows/XPStyle.java.">getXP</a>() != <strong class="reserved">null</strong> &amp;&amp; (model.<a href="../D/25207.html" title="Multiple defined in 4 places.">isArmed</a>() || model.<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()))) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145             <strong class="reserved">super</strong>.<a href="../D/28667.html" title="Multiple defined in 29 places.">paintBackground</a>(g, menu, bgColor);
<a id="L146" name="L146"></a> 146             <strong class="reserved">return</strong>;
<a id="L147" name="L147"></a> 147         <em class="brace">}</em>
<a id="L148" name="L148"></a> 148 
<a id="L149" name="L149"></a> 149         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> oldColor = g.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>();
<a id="L150" name="L150"></a> 150         <strong class="reserved">int</strong> menuWidth = menu.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L151" name="L151"></a> 151         <strong class="reserved">int</strong> menuHeight = menu.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153         <a href="../S/2752.html#L73" title="Defined at 73 in src/javax/swing/UIDefaults.java.">UIDefaults</a> table = <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/20288.html" title="Multiple defined in 2 places.">getLookAndFeelDefaults</a>();
<a id="L154" name="L154"></a> 154         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> highlight = table.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>("controlLtHighlight");
<a id="L155" name="L155"></a> 155         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> shadow = table.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>("controlShadow");
<a id="L156" name="L156"></a> 156 
<a id="L157" name="L157"></a> 157         g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(menu.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>());
<a id="L158" name="L158"></a> 158         g.<a href="../D/16053.html" title="Multiple defined in 2 places.">fillRect</a>(0,0, menuWidth, menuHeight);
<a id="L159" name="L159"></a> 159 
<a id="L160" name="L160"></a> 160         <strong class="reserved">if</strong> (menu.<a href="../D/25996.html" title="Multiple defined in 14 places.">isOpaque</a>()) <em class="brace">{</em>
<a id="L161" name="L161"></a> 161             <strong class="reserved">if</strong> (model.<a href="../D/25207.html" title="Multiple defined in 4 places.">isArmed</a>() || model.<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162                 <em class="comment">// Draw a lowered bevel border</em>
<a id="L163" name="L163"></a> 163                 g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(shadow);
<a id="L164" name="L164"></a> 164                 g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(0,0, menuWidth - 1,0);
<a id="L165" name="L165"></a> 165                 g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(0,0, 0,menuHeight - 2);
<a id="L166" name="L166"></a> 166 
<a id="L167" name="L167"></a> 167                 g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(highlight);
<a id="L168" name="L168"></a> 168                 g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(menuWidth - 1,0, menuWidth - 1,menuHeight - 2);
<a id="L169" name="L169"></a> 169                 g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(0,menuHeight - 2, menuWidth - 1,menuHeight - 2);
<a id="L170" name="L170"></a> 170             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (model.<a href="../D/26187.html" title="Multiple defined in 4 places.">isRollover</a>() &amp;&amp; model.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) <em class="brace">{</em>
<a id="L171" name="L171"></a> 171                 <em class="comment">// Only paint rollover if no other menu on menubar is selected</em>
<a id="L172" name="L172"></a> 172                 <strong class="reserved">boolean</strong> otherMenuSelected = <strong class="reserved">false</strong>;
<a id="L173" name="L173"></a> 173                 <a href="../S/3222.html#L38" title="Defined at 38 in src/javax/swing/MenuElement.java.">MenuElement</a>[] menus = ((<a href="../S/3432.html#L93" title="Defined at 93 in src/javax/swing/JMenuBar.java.">JMenuBar</a>)menu.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>()).<a href="../D/22817.html" title="Multiple defined in 5 places.">getSubElements</a>();
<a id="L174" name="L174"></a> 174                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; menus.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L175" name="L175"></a> 175                     <strong class="reserved">if</strong> (((<a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a>)menus[i]).<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176                         otherMenuSelected = <strong class="reserved">true</strong>;
<a id="L177" name="L177"></a> 177                         <strong class="reserved">break</strong>;
<a id="L178" name="L178"></a> 178                     <em class="brace">}</em>
<a id="L179" name="L179"></a> 179                 <em class="brace">}</em>
<a id="L180" name="L180"></a> 180                 <strong class="reserved">if</strong> (!otherMenuSelected) <em class="brace">{</em>
<a id="L181" name="L181"></a> 181                     <strong class="reserved">if</strong> (<a href="../S/6758.html#L66" title="Defined at 66 in src/com/sun/java/swing/plaf/windows/XPStyle.java.">XPStyle</a>.<a href="../S/6758.html#L98" title="Defined at 98 in src/com/sun/java/swing/plaf/windows/XPStyle.java.">getXP</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L182" name="L182"></a> 182                         g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(selectionBackground); <em class="comment">// Uses protected field.</em>
<a id="L183" name="L183"></a> 183                         g.<a href="../D/16053.html" title="Multiple defined in 2 places.">fillRect</a>(0, 0, menuWidth, menuHeight);
<a id="L184" name="L184"></a> 184                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L185" name="L185"></a> 185                         <em class="comment">// Draw a raised bevel border</em>
<a id="L186" name="L186"></a> 186                         g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(highlight);
<a id="L187" name="L187"></a> 187                         g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(0,0, menuWidth - 1,0);
<a id="L188" name="L188"></a> 188                         g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(0,0, 0,menuHeight - 2);
<a id="L189" name="L189"></a> 189 
<a id="L190" name="L190"></a> 190                         g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(shadow);
<a id="L191" name="L191"></a> 191                         g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(menuWidth - 1,0, menuWidth - 1,menuHeight - 2);
<a id="L192" name="L192"></a> 192                         g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(0,menuHeight - 2, menuWidth - 1,menuHeight - 2);
<a id="L193" name="L193"></a> 193                     <em class="brace">}</em>
<a id="L194" name="L194"></a> 194                 <em class="brace">}</em>
<a id="L195" name="L195"></a> 195             <em class="brace">}</em>
<a id="L196" name="L196"></a> 196         <em class="brace">}</em>
<a id="L197" name="L197"></a> 197         g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(oldColor);
<a id="L198" name="L198"></a> 198     <em class="brace">}</em>
<a id="L199" name="L199"></a> 199 
<div class="comment">
      Method which renders the text of the current menu item.
      <p>
      @param g Graphics context
      @param menuItem Current menu item to render
      @param textRect Bounding rectangle to render the text.
      @param text String to render
      @since 1.4</p></div>
<a id="L209" name="L209"></a> 209     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24372.html" title="Multiple referred from 40 places.">paintText</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a> menuItem,
<a id="L210" name="L210"></a> 210                              <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> textRect, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211         <strong class="reserved">if</strong> (<a href="../S/6735.html#L51" title="Defined at 51 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUI.java.">WindowsMenuItemUI</a>.<a href="../D/26493.html" title="Multiple defined in 2 places.">isVistaPainting</a>()) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212             <a href="../S/6735.html#L51" title="Defined at 51 in src/com/sun/java/swing/plaf/windows/WindowsMenuItemUI.java.">WindowsMenuItemUI</a>.<a href="../D/28944.html" title="Multiple defined in 25 places.">paintText</a>(accessor, g, menuItem, textRect, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L213" name="L213"></a> 213             <strong class="reserved">return</strong>;
<a id="L214" name="L214"></a> 214         <em class="brace">}</em>
<a id="L215" name="L215"></a> 215         <a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a> menu = (<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>)menuItem;
<a id="L216" name="L216"></a> 216         <a href="../S/2732.html#L76" title="Defined at 76 in src/javax/swing/ButtonModel.java.">ButtonModel</a> model = menuItem.<a href="../D/20699.html" title="Multiple defined in 27 places.">getModel</a>();
<a id="L217" name="L217"></a> 217         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> oldColor = g.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>();
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219         <em class="comment">// Only paint rollover if no other menu on menubar is selected</em>
<a id="L220" name="L220"></a> 220         <strong class="reserved">boolean</strong> paintRollover = model.<a href="../D/26187.html" title="Multiple defined in 4 places.">isRollover</a>();
<a id="L221" name="L221"></a> 221         <strong class="reserved">if</strong> (paintRollover &amp;&amp; menu.<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>()) <em class="brace">{</em>
<a id="L222" name="L222"></a> 222             <a href="../S/3222.html#L38" title="Defined at 38 in src/javax/swing/MenuElement.java.">MenuElement</a>[] menus = ((<a href="../S/3432.html#L93" title="Defined at 93 in src/javax/swing/JMenuBar.java.">JMenuBar</a>)menu.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>()).<a href="../D/22817.html" title="Multiple defined in 5 places.">getSubElements</a>();
<a id="L223" name="L223"></a> 223             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; menus.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L224" name="L224"></a> 224                 <strong class="reserved">if</strong> (((<a href="../S/2713.html#L91" title="Defined at 91 in src/javax/swing/JMenuItem.java.">JMenuItem</a>)menus[i]).<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225                     paintRollover = <strong class="reserved">false</strong>;
<a id="L226" name="L226"></a> 226                     <strong class="reserved">break</strong>;
<a id="L227" name="L227"></a> 227                 <em class="brace">}</em>
<a id="L228" name="L228"></a> 228             <em class="brace">}</em>
<a id="L229" name="L229"></a> 229         <em class="brace">}</em>
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231         <strong class="reserved">if</strong> ((model.<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>() &amp;&amp; (<a href="../S/6763.html#L93" title="Defined at 93 in src/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.java.">WindowsLookAndFeel</a>.<a href="../S/6763.html#L1997" title="Defined at 1997 in src/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.java.">isClassicWindows</a>() ||
<a id="L232" name="L232"></a> 232                                     !menu.<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>())) ||
<a id="L233" name="L233"></a> 233             (<a href="../S/6758.html#L66" title="Defined at 66 in src/com/sun/java/swing/plaf/windows/XPStyle.java.">XPStyle</a>.<a href="../S/6758.html#L98" title="Defined at 98 in src/com/sun/java/swing/plaf/windows/XPStyle.java.">getXP</a>() != <strong class="reserved">null</strong> &amp;&amp; (paintRollover ||
<a id="L234" name="L234"></a> 234                                          model.<a href="../D/25207.html" title="Multiple defined in 4 places.">isArmed</a>() ||
<a id="L235" name="L235"></a> 235                                          model.<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()))) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236             g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(selectionForeground); <em class="comment">// Uses protected field.</em>
<a id="L237" name="L237"></a> 237         <em class="brace">}</em>
<a id="L238" name="L238"></a> 238 
<a id="L239" name="L239"></a> 239         <a href="../S/6752.html#L44" title="Defined at 44 in src/com/sun/java/swing/plaf/windows/WindowsGraphicsUtils.java.">WindowsGraphicsUtils</a>.<a href="../D/28944.html" title="Multiple defined in 25 places.">paintText</a>(g, menuItem, textRect, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, 0);
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241         g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(oldColor);
<a id="L242" name="L242"></a> 242     <em class="brace">}</em>
<a id="L243" name="L243"></a> 243 
<a id="L244" name="L244"></a> 244     <strong class="reserved">protected</strong> <a href="../S/3403.html#L39" title="Defined at 39 in src/javax/swing/event/MouseInputListener.java.">MouseInputListener</a> <a href="../R/12576.html" title="Multiple referred from 5 places.">createMouseInputListener</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L245" name="L245"></a> 245         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/6717.html#L253" title="Defined at 253 in src/com/sun/java/swing/plaf/windows/WindowsMenuUI.java.">WindowsMouseInputHandler</a>();
<a id="L246" name="L246"></a> 246     <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<div class="comment">
      This class implements a mouse handler that sets the rollover flag to
      true when the mouse enters the menu and false when it exits.
      @since 1.4</div>
<a id="L253" name="L253"></a> 253     <strong class="reserved">protected</strong> <strong class="reserved">class</strong> <a href="../S/6717.html#L245" title="Referred from 245 in src/com/sun/java/swing/plaf/windows/WindowsMenuUI.java.">WindowsMouseInputHandler</a> <strong class="reserved">extends</strong> <a href="../S/2862.html#L49" title="Defined at 49 in src/javax/swing/plaf/basic/BasicMenuUI.java.">BasicMenuUI</a>.<a href="../D/5784.html" title="Multiple defined in 12 places.">MouseInputHandler</a> <em class="brace">{</em>
<a id="L254" name="L254"></a> 254         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23357.html" title="Multiple referred from 19 places.">mouseEntered</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> evt) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255             <strong class="reserved">super</strong>.<a href="../D/27786.html" title="Multiple defined in 43 places.">mouseEntered</a>(evt);
<a id="L256" name="L256"></a> 256 
<a id="L257" name="L257"></a> 257             <a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a> menu = (<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>)evt.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L258" name="L258"></a> 258             <strong class="reserved">if</strong> (hotTrackingOn &amp;&amp; menu.<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>() &amp;&amp; menu.<a href="../S/2743.html#L1507" title="Defined at 1507 in src/javax/swing/AbstractButton.java.">isRolloverEnabled</a>()) <em class="brace">{</em>
<a id="L259" name="L259"></a> 259                 menu.<a href="../D/20699.html" title="Multiple defined in 27 places.">getModel</a>().<a href="../D/33757.html" title="Multiple defined in 4 places.">setRollover</a>(<strong class="reserved">true</strong>);
<a id="L260" name="L260"></a> 260                 menuItem.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>();
<a id="L261" name="L261"></a> 261             <em class="brace">}</em>
<a id="L262" name="L262"></a> 262         <em class="brace">}</em>
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23359.html" title="Multiple referred from 18 places.">mouseExited</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> evt) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265             <strong class="reserved">super</strong>.<a href="../D/27788.html" title="Multiple defined in 43 places.">mouseExited</a>(evt);
<a id="L266" name="L266"></a> 266 
<a id="L267" name="L267"></a> 267             <a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a> menu = (<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>)evt.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L268" name="L268"></a> 268             <a href="../S/2732.html#L76" title="Defined at 76 in src/javax/swing/ButtonModel.java.">ButtonModel</a> model = menu.<a href="../D/20699.html" title="Multiple defined in 27 places.">getModel</a>();
<a id="L269" name="L269"></a> 269             <strong class="reserved">if</strong> (menu.<a href="../S/2743.html#L1507" title="Defined at 1507 in src/javax/swing/AbstractButton.java.">isRolloverEnabled</a>()) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270                 model.<a href="../D/33757.html" title="Multiple defined in 4 places.">setRollover</a>(<strong class="reserved">false</strong>);
<a id="L271" name="L271"></a> 271                 menuItem.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>();
<a id="L272" name="L272"></a> 272             <em class="brace">}</em>
<a id="L273" name="L273"></a> 273         <em class="brace">}</em>
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276     <strong class="reserved">protected</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/18407.html" title="Multiple referred from 4 places.">getPreferredMenuItemSize</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>,
<a id="L277" name="L277"></a> 277                                                      <a href="../S/3146.html#L37" title="Defined at 37 in src/javax/swing/Icon.java.">Icon</a> checkIcon,
<a id="L278" name="L278"></a> 278                                                      <a href="../S/3146.html#L37" title="Defined at 37 in src/javax/swing/Icon.java.">Icon</a> arrowIcon,
<a id="L279" name="L279"></a> 279                                                      <strong class="reserved">int</strong> defaultTextIconGap) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280 
<a id="L281" name="L281"></a> 281         <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> d = <strong class="reserved">super</strong>.<a href="../D/21579.html" title="Multiple defined in 5 places.">getPreferredMenuItemSize</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, checkIcon, arrowIcon,
<a id="L282" name="L282"></a> 282                                                      defaultTextIconGap);
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284         <em class="comment">// Note: When toolbar containers (rebars) are implemented, only do</em>
<a id="L285" name="L285"></a> 285         <em class="comment">// this if the JMenuBar is not in a rebar (i.e. ignore the desktop</em>
<a id="L286" name="L286"></a> 286         <em class="comment">// property win.menu.height if in a rebar.)</em>
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a> &amp;&amp; ((<a href="../S/3433.html#L113" title="Defined at 113 in src/javax/swing/JMenu.java.">JMenu</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>).<a href="../S/3433.html#L897" title="Defined at 897 in src/javax/swing/JMenu.java.">isTopLevelMenu</a>() &amp;&amp;
<a id="L288" name="L288"></a> 288             menuBarHeight != <strong class="reserved">null</strong> &amp;&amp; d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> &lt; menuBarHeight) <em class="brace">{</em>
<a id="L289" name="L289"></a> 289 
<a id="L290" name="L290"></a> 290             d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = menuBarHeight;
<a id="L291" name="L291"></a> 291         <em class="brace">}</em>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293         <strong class="reserved">return</strong> d;
<a id="L294" name="L294"></a> 294     <em class="brace">}</em>
<a id="L295" name="L295"></a> 295 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L110">[^]</a><a href="#L276">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>