<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/lang/Throwable.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L376">[^]</a><a href="#L1074">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L376" title="Defined at 376.">getMessage</a></li>
<li><a href="#L390" title="Defined at 390.">getLocalizedMessage</a></li>
<li><a href="#L414" title="Defined at 414.">getCause</a></li>
<li><a href="#L454" title="Defined at 454.">initCause</a></li>
<li><a href="#L478" title="Defined at 478.">toString</a></li>
<li><a href="#L633" title="Defined at 633.">printStackTrace</a></li>
<li><a href="#L642" title="Defined at 642.">printStackTrace</a></li>
<li><a href="#L646" title="Defined at 646.">printStackTrace</a></li>
<li><a href="#L675" title="Defined at 675.">printEnclosedStackTrace</a></li>
<li><a href="#L720" title="Defined at 720.">printStackTrace</a></li>
<li><a href="#L730" title="Defined at 730.">lock</a></li>
<li><a href="#L733" title="Defined at 733.">println</a></li>
<li><a href="#L743" title="Defined at 743.">lock</a></li>
<li><a href="#L747" title="Defined at 747.">println</a></li>
<li><a href="#L759" title="Defined at 759.">lock</a></li>
<li><a href="#L763" title="Defined at 763.">println</a></li>
<li><a href="#L780" title="Defined at 780.">fillInStackTrace</a></li>
<li><a href="#L789" title="Defined at 789.">fillInStackTrace</a></li>
<li><a href="#L815" title="Defined at 815.">getStackTrace</a></li>
<li><a href="#L819" title="Defined at 819.">getOurStackTrace</a></li>
<li><a href="#L862" title="Defined at 862.">setStackTrace</a></li>
<li><a href="#L884" title="Defined at 884.">getStackTraceDepth</a></li>
<li><a href="#L895" title="Defined at 895.">getStackTraceElement</a></li>
<li><a href="#L912" title="Defined at 912.">readObject</a></li>
<li><a href="#L973" title="Defined at 973.">writeObject</a></li>
<li><a href="#L1041" title="Defined at 1041.">addSuppressed</a></li>
<li><a href="#L1074" title="Defined at 1074.">getSuppressed</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1994, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong>  java.io.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong>  java.util.*;
<a id="L29" name="L29"></a>  29 
<div class="comment">
  The <code>Throwable</code> class is the superclass of all errors and
  exceptions in the Java language. Only objects that are instances of this
  class (or one of its subclasses) are thrown by the Java Virtual Machine or
  can be thrown by the Java <code>throw</code> statement. Similarly, only
  this class or one of its subclasses can be the argument type in a
  <code>catch</code> clause.
  For the purposes of compile-time checking of exceptions, {@code
  Throwable} and any subclass of <code>Throwable</code> that is not also a
  subclass of either {@link RuntimeException} or {@link Error} are
  regarded as checked exceptions.
  <p>Instances of two subclasses, {@link java.lang.Error} and
  {@link java.lang.Exception}, are conventionally used to indicate
  that exceptional situations have occurred. Typically, these instances
  are freshly created in the context of the exceptional situation so
  as to include relevant information (such as stack trace data).
  </p><p>A throwable contains a snapshot of the execution stack of its
  thread at the time it was created. It can also contain a message
  string that gives more information about the error. Over time, a
  throwable can {@linkplain Throwable#addSuppressed suppress} other
  throwables from being propagated.  Finally, the throwable can also
  contain a <i>cause</i>: another throwable that caused this
  throwable to be constructed.  The recording of this causal information
  is referred to as the <i>chained exception</i> facility, as the
  cause can, itself, have a cause, and so on, leading to a "chain" of
  exceptions, each caused by another.
  </p><p>One reason that a throwable may have a cause is that the class that
  throws it is built atop a lower layered abstraction, and an operation on
  the upper layer fails due to a failure in the lower layer.  It would be bad
  design to let the throwable thrown by the lower layer propagate outward, as
  it is generally unrelated to the abstraction provided by the upper layer.
  Further, doing so would tie the API of the upper layer to the details of
  its implementation, assuming the lower layer's exception was a checked
  exception.  Throwing a "wrapped exception" (i.e., an exception containing a
  cause) allows the upper layer to communicate the details of the failure to
  its caller without incurring either of these shortcomings.  It preserves
  the flexibility to change the implementation of the upper layer without
  changing its API (in particular, the set of exceptions thrown by its
  methods).
  </p><p>A second reason that a throwable may have a cause is that the method
  that throws it must conform to a general-purpose interface that does not
  permit the method to throw the cause directly.  For example, suppose
  a persistent collection conforms to the {@link java.util.Collection
  Collection} interface, and that its persistence is implemented atop
  <code>java.io</code>.  Suppose the internals of the <code>add</code> method
  can throw an {@link java.io.IOException IOException}.  The implementation
  can communicate the details of the <code>IOException</code> to its caller
  while conforming to the <code>Collection</code> interface by wrapping the
  <code>IOException</code> in an appropriate unchecked exception.  (The
  specification for the persistent collection should indicate that it is
  capable of throwing such exceptions.)
  </p><p>A cause can be associated with a throwable in two ways: via a
  constructor that takes the cause as an argument, or via the
  {@link #initCause(Throwable)} method.  New throwable classes that
  wish to allow causes to be associated with them should provide constructors
  that take a cause and delegate (perhaps indirectly) to one of the
  <code>Throwable</code> constructors that takes a cause.
  Because the <code>initCause</code> method is public, it allows a cause to be
  associated with any throwable, even a "legacy throwable" whose
  implementation predates the addition of the exception chaining mechanism to
  <code>Throwable</code>.
  </p><p>By convention, class <code>Throwable</code> and its subclasses have two
  constructors, one that takes no arguments and one that takes a
  <code>String</code> argument that can be used to produce a detail message.
  Further, those subclasses that might likely have a cause associated with
  them should have two more constructors, one that takes a
  <code>Throwable</code> (the cause), and one that takes a
  <code>String</code> (the detail message) and a <code>Throwable</code> (the
  cause).
  @author  unascribed
  @author  Josh Bloch (Added exception chaining and programmatic access to
           stack trace in 1.4.)
  @jls 11.2 Compile-Time Checking of Exceptions
  @since JDK1.0</p></div>
<a id="L114" name="L114"></a> 114 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8152.html" title="Multiple referred from 2222 places.">Throwable</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<div class="comment">
     /** use serialVersionUID from JDK 1.0.2 for interoperability */</div>
<a id="L116" name="L116"></a> 116     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -3042686055658047285L;
<a id="L117" name="L117"></a> 117 
<div class="comment">
      Native code saves some indication of the stack backtrace in this slot.</div>
<a id="L121" name="L121"></a> 121     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> backtrace;
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Specific details about the Throwable.  For example, for
      <code>FileNotFoundException</code>, this contains the name of
      the file that could not be found.
      @serial</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> detailMessage;
<a id="L131" name="L131"></a> 131 
<a id="L132" name="L132"></a> 132 
<div class="comment">
      Holder class to defer initializing sentinel objects only used
      for serialization.</div>
<a id="L137" name="L137"></a> 137     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/7023.html" title="Multiple referred from 2 places.">SentinelHolder</a> <em class="brace">{</em>
<div class="comment">
          {@linkplain #setStackTrace(StackTraceElement[]) Setting the
          stack trace} to a one-element array containing this sentinel
          value indicates future attempts to set the stack trace will be
          ignored.  The sentinal is equal to the result of calling:<br>
          <code>new StackTraceElement("", "", null, Integer.MIN_VALUE)</code></div>
<a id="L145" name="L145"></a> 145         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a> STACK_TRACE_ELEMENT_SENTINEL =
<a id="L146" name="L146"></a> 146             <strong class="reserved">new</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>("", "", <strong class="reserved">null</strong>, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE);
<a id="L147" name="L147"></a> 147 
<div class="comment">
          Sentinel value used in the serial form to indicate an immutable
          stack trace.</div>
<a id="L152" name="L152"></a> 152         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] STACK_TRACE_SENTINEL =
<a id="L153" name="L153"></a> 153             <strong class="reserved">new</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] <em class="brace">{</em>STACK_TRACE_ELEMENT_SENTINEL<em class="brace">}</em>;
<a id="L154" name="L154"></a> 154     <em class="brace">}</em>
<a id="L155" name="L155"></a> 155 
<div class="comment">
      A shared value for an empty stack.</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] UNASSIGNED_STACK = <strong class="reserved">new</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[0];
<a id="L160" name="L160"></a> 160 
<div class="comment">
      To allow Throwable objects to be made immutable and safely
      reused by the JVM, such as OutOfMemoryErrors, fields of
      Throwable that are writable in response to user actions, cause,
      stackTrace, and suppressedExceptions obey the following
      protocol:
      1) The fields are initialized to a non-null sentinel value
      which indicates the value has logically not been set.
      2) Writing a null to the field indicates further writes
      are forbidden
      3) The sentinel value may be replaced with another non-null
      value.
      For example, implementations of the HotSpot JVM have
      preallocated OutOfMemoryError objects to provide for better
      diagnosability of that situation.  These objects are created
      without calling the constructor for that class and the fields
      in question are initialized to null.  To support this
      capability, any new fields added to Throwable that require
      being initialized to a non-null value require a coordinated JVM
      change.</div>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      The throwable that caused this throwable to get thrown, or null if this
      throwable was not caused by another throwable, or if the causative
      throwable is unknown.  If this field is equal to this throwable itself,
      it indicates that the cause of this throwable has not yet been
      initialized.
      @serial
      @since 1.4</div>
<a id="L197" name="L197"></a> 197     <strong class="reserved">private</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = <strong class="reserved">this</strong>;
<a id="L198" name="L198"></a> 198 
<div class="comment">
      The stack trace, as returned by {@link #getStackTrace()}.
      The field is initialized to a zero-length array.  A {@code
      null} value of this field indicates subsequent calls to {@link
      #setStackTrace(StackTraceElement[])} and {@link
      #fillInStackTrace()} will be be no-ops.
      @serial
      @since 1.4</div>
<a id="L210" name="L210"></a> 210     <strong class="reserved">private</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] stackTrace = UNASSIGNED_STACK;
<a id="L211" name="L211"></a> 211 
<a id="L212" name="L212"></a> 212     <em class="comment">// Setting this static field introduces an acceptable</em>
<a id="L213" name="L213"></a> 213     <em class="comment">// initialization dependency on a few java.util classes.</em>
<a id="L214" name="L214"></a> 214     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt; SUPPRESSED_SENTINEL =
<a id="L215" name="L215"></a> 215         <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(<strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt;(0));
<a id="L216" name="L216"></a> 216 
<div class="comment">
      The list of suppressed exceptions, as returned by {@link
      #getSuppressed()}.  The list is initialized to a zero-element
      unmodifiable sentinel list.  When a serialized Throwable is
      read in, if the <code>suppressedExceptions</code> field points to a
      zero-element list, the field is reset to the sentinel value.
      @serial
      @since 1.7</div>
<a id="L227" name="L227"></a> 227     <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt; suppressedExceptions = SUPPRESSED_SENTINEL;
<a id="L228" name="L228"></a> 228 
<div class="comment">
     /** Message for trying to suppress a null exception. */</div>
<a id="L230" name="L230"></a> 230     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> NULL_CAUSE_MESSAGE = "Cannot suppress a null exception.";
<a id="L231" name="L231"></a> 231 
<div class="comment">
     /** Message for trying to suppress oneself. */</div>
<a id="L233" name="L233"></a> 233     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SELF_SUPPRESSION_MESSAGE = "Self-suppression not permitted";
<a id="L234" name="L234"></a> 234 
<div class="comment">
     /** Caption  for labeling causative exception stack traces */</div>
<a id="L236" name="L236"></a> 236     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> CAUSE_CAPTION = "Caused by: ";
<a id="L237" name="L237"></a> 237 
<div class="comment">
     /** Caption for labeling suppressed exception stack traces */</div>
<a id="L239" name="L239"></a> 239     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SUPPRESSED_CAPTION = "Suppressed: ";
<a id="L240" name="L240"></a> 240 
<div class="comment">
      Constructs a new throwable with <code>null</code> as its detail message.
      The cause is not initialized, and may subsequently be initialized by a
      call to {@link #initCause}.
      <p>The {@link #fillInStackTrace()} method is called to initialize
      the stack trace data in the newly created throwable.</p></div>
<a id="L249" name="L249"></a> 249     <strong class="reserved">public</strong> Throwable() <em class="brace">{</em>
<a id="L250" name="L250"></a> 250         <a href="../D/16042.html" title="Multiple defined in 3 places.">fillInStackTrace</a>();
<a id="L251" name="L251"></a> 251     <em class="brace">}</em>
<a id="L252" name="L252"></a> 252 
<div class="comment">
      Constructs a new throwable with the specified detail message.  The
      cause is not initialized, and may subsequently be initialized by
      a call to {@link #initCause}.
      <p>The {@link #fillInStackTrace()} method is called to initialize
      the stack trace data in the newly created throwable.
      @param   message   the detail message. The detail message is saved for
               later retrieval by the {@link #getMessage()} method.</p></div>
<a id="L264" name="L264"></a> 264     <strong class="reserved">public</strong> Throwable(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265         <a href="../D/16042.html" title="Multiple defined in 3 places.">fillInStackTrace</a>();
<a id="L266" name="L266"></a> 266         detailMessage = <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>;
<a id="L267" name="L267"></a> 267     <em class="brace">}</em>
<a id="L268" name="L268"></a> 268 
<div class="comment">
      Constructs a new throwable with the specified detail message and
      cause.  <p>Note that the detail message associated with
      <code>cause</code> is <i>not</i> automatically incorporated in
      this throwable's detail message.
      </p><p>The {@link #fillInStackTrace()} method is called to initialize
      the stack trace data in the newly created throwable.
      @param  message the detail message (which is saved for later retrieval
              by the {@link #getMessage()} method).
      @param  cause the cause (which is saved for later retrieval by the
              {@link #getCause()} method).  (A <code>null</code> value is
              permitted, and indicates that the cause is nonexistent or
              unknown.)
      @since  1.4</p></div>
<a id="L286" name="L286"></a> 286     <strong class="reserved">public</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, Throwable cause) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <a href="../D/16042.html" title="Multiple defined in 3 places.">fillInStackTrace</a>();
<a id="L288" name="L288"></a> 288         detailMessage = <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>;
<a id="L289" name="L289"></a> 289         <strong class="reserved">this</strong>.cause = cause;
<a id="L290" name="L290"></a> 290     <em class="brace">}</em>
<a id="L291" name="L291"></a> 291 
<div class="comment">
      Constructs a new throwable with the specified cause and a detail
      message of <code>(cause==null ? null : cause.toString())</code> (which
      typically contains the class and detail message of <code>cause</code>).
      This constructor is useful for throwables that are little more than
      wrappers for other throwables (for example, {@link
      java.security.PrivilegedActionException}).
      <p>The {@link #fillInStackTrace()} method is called to initialize
      the stack trace data in the newly created throwable.
      @param  cause the cause (which is saved for later retrieval by the
              {@link #getCause()} method).  (A <code>null</code> value is
              permitted, and indicates that the cause is nonexistent or
              unknown.)
      @since  1.4</p></div>
<a id="L309" name="L309"></a> 309     <strong class="reserved">public</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>(Throwable cause) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         <a href="../D/16042.html" title="Multiple defined in 3 places.">fillInStackTrace</a>();
<a id="L311" name="L311"></a> 311         detailMessage = (cause==<strong class="reserved">null</strong> ? <strong class="reserved">null</strong> : cause.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L312" name="L312"></a> 312         <strong class="reserved">this</strong>.cause = cause;
<a id="L313" name="L313"></a> 313     <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<div class="comment">
      Constructs a new throwable with the specified detail message,
      cause, {@linkplain #addSuppressed suppression} enabled or
      disabled, and writable stack trace enabled or disabled.  If
      suppression is disabled, {@link #getSuppressed} for this object
      will return a zero-length array and calls to {@link
      #addSuppressed} that would otherwise append an exception to the
      suppressed list will have no effect.  If the writable stack
      trace is false, this constructor will not call {@link
      #fillInStackTrace()}, a <code>null</code> will be written to the
      <code>stackTrace</code> field, and subsequent calls to {@code
      fillInStackTrace} and {@link
      #setStackTrace(StackTraceElement[])} will not set the stack
      trace.  If the writable stack trace is false, {@link
      #getStackTrace} will return a zero length array.
      <p>Note that the other constructors of <code>Throwable</code> treat
      suppression as being enabled and the stack trace as being
      writable.  Subclasses of <code>Throwable</code> should document any
      conditions under which suppression is disabled and document
      conditions under which the stack trace is not writable.
      Disabling of suppression should only occur in exceptional
      circumstances where special requirements exist, such as a
      virtual machine reusing exception objects under low-memory
      situations.  Circumstances where a given exception object is
      repeatedly caught and rethrown, such as to implement control
      flow between two sub-systems, is another situation where
      immutable throwable objects would be appropriate.
      @param  message the detail message.
      @param cause the cause.  (A <code>null</code> value is permitted,
      and indicates that the cause is nonexistent or unknown.)
      @param enableSuppression whether or not suppression is enabled or disabled
      @param writableStackTrace whether or not the stack trace should be
                                writable
      @see OutOfMemoryError
      @see NullPointerException
      @see ArithmeticException
      @since 1.7</p></div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">protected</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, Throwable cause,
<a id="L357" name="L357"></a> 357                         <strong class="reserved">boolean</strong> enableSuppression,
<a id="L358" name="L358"></a> 358                         <strong class="reserved">boolean</strong> writableStackTrace) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">if</strong> (writableStackTrace) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360             <a href="../D/16042.html" title="Multiple defined in 3 places.">fillInStackTrace</a>();
<a id="L361" name="L361"></a> 361         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L362" name="L362"></a> 362             stackTrace = <strong class="reserved">null</strong>;
<a id="L363" name="L363"></a> 363         <em class="brace">}</em>
<a id="L364" name="L364"></a> 364         detailMessage = <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>;
<a id="L365" name="L365"></a> 365         <strong class="reserved">this</strong>.cause = cause;
<a id="L366" name="L366"></a> 366         <strong class="reserved">if</strong> (!enableSuppression)
<a id="L367" name="L367"></a> 367             suppressedExceptions = <strong class="reserved">null</strong>;
<a id="L368" name="L368"></a> 368     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<div class="comment">
      Returns the detail message string of this throwable.
      @return  the detail message string of this <code>Throwable</code> instance
               (which may be <code>null</code>).</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17668.html" title="Multiple referred from 607 places.">getMessage</a>() <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">return</strong> detailMessage;
<a id="L378" name="L378"></a> 378     <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<div class="comment">
      Creates a localized description of this throwable.
      Subclasses may override this method in order to produce a
      locale-specific message.  For subclasses that do not override this
      method, the default implementation returns the same result as
      <code>getMessage()</code>.
      @return  The localized description of this throwable.
      @since   JDK1.1</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17443.html" title="Multiple referred from 15 places.">getLocalizedMessage</a>() <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <strong class="reserved">return</strong> <a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>();
<a id="L392" name="L392"></a> 392     <em class="brace">}</em>
<a id="L393" name="L393"></a> 393 
<div class="comment">
      Returns the cause of this throwable or <code>null</code> if the
      cause is nonexistent or unknown.  (The cause is the throwable that
      caused this throwable to get thrown.)
      <p>This implementation returns the cause that was supplied via one of
      the constructors requiring a <code>Throwable</code>, or that was set after
      creation with the {@link #initCause(Throwable)} method.  While it is
      typically unnecessary to override this method, a subclass can override
      it to return a cause set by some other means.  This is appropriate for
      a "legacy chained throwable" that predates the addition of chained
      exceptions to <code>Throwable</code>.  Note that it is <i>not</i>
      necessary to override any of the <code>PrintStackTrace</code> methods,
      all of which invoke the <code>getCause</code> method to determine the
      cause of a throwable.
      @return  the cause of this throwable or <code>null</code> if the
               cause is nonexistent or unknown.
      @since 1.4</p></div>
<a id="L414" name="L414"></a> 414     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/15467.html" title="Multiple referred from 93 places.">getCause</a>() <em class="brace">{</em>
<a id="L415" name="L415"></a> 415         <strong class="reserved">return</strong> (cause==<strong class="reserved">this</strong> ? <strong class="reserved">null</strong> : cause);
<a id="L416" name="L416"></a> 416     <em class="brace">}</em>
<a id="L417" name="L417"></a> 417 
<div class="comment">
      Initializes the <i>cause</i> of this throwable to the specified value.
      (The cause is the throwable that caused this throwable to get thrown.)
      <p>This method can be called at most once.  It is generally called from
      within the constructor, or immediately after creating the
      throwable.  If this throwable was created
      with {@link #Throwable(Throwable)} or
      {@link #Throwable(String,Throwable)}, this method cannot be called
      even once.
      </p><p>An example of using this method on a legacy throwable type
      without other support for setting the cause is:
      </p><pre>      try {
          lowLevelOp();
      } catch (LowLevelException le) {
          throw (HighLevelException)
                new HighLevelException().initCause(le); // Legacy constructor
      }
      </pre>
      @param  cause the cause (which is saved for later retrieval by the
              {@link #getCause()} method).  (A <code>null</code> value is
              permitted, and indicates that the cause is nonexistent or
              unknown.)
      @return  a reference to this <code>Throwable</code> instance.
      @throws IllegalArgumentException if <code>cause</code> is this
              throwable.  (A throwable cannot be its own cause.)
      @throws IllegalStateException if this throwable was
              created with {@link #Throwable(Throwable)} or
              {@link #Throwable(String,Throwable)}, or this method has already
              been called on this throwable.
      @since  1.4</div>
<a id="L454" name="L454"></a> 454     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/20547.html" title="Multiple referred from 873 places.">initCause</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.cause != <strong class="reserved">this</strong>)
<a id="L456" name="L456"></a> 456             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("Can't overwrite cause with " +
<a id="L457" name="L457"></a> 457                                             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(cause, "a null"), <strong class="reserved">this</strong>);
<a id="L458" name="L458"></a> 458         <strong class="reserved">if</strong> (cause == <strong class="reserved">this</strong>)
<a id="L459" name="L459"></a> 459             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Self-causation not permitted", <strong class="reserved">this</strong>);
<a id="L460" name="L460"></a> 460         <strong class="reserved">this</strong>.cause = cause;
<a id="L461" name="L461"></a> 461         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      Returns a short description of this throwable.
      The result is the concatenation of:
      <ul><li> the {@linkplain Class#getName() name} of the class of this object
      </li><li> ": " (a colon and a space)
      </li><li> the result of invoking this object's {@link #getLocalizedMessage}
           method
      </li></ul>
      If <code>getLocalizedMessage</code> returns <code>null</code>, then just
      the class name is returned.
      @return a string representation of this throwable.</div>
<a id="L478" name="L478"></a> 478     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L479" name="L479"></a> 479         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L480" name="L480"></a> 480         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a> = <a href="../S/1726.html#L390" title="Defined at 390 in src/java/lang/Throwable.java.">getLocalizedMessage</a>();
<a id="L481" name="L481"></a> 481         <strong class="reserved">return</strong> (<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a> != <strong class="reserved">null</strong>) ? (s + ": " + <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>) : s;
<a id="L482" name="L482"></a> 482     <em class="brace">}</em>
<a id="L483" name="L483"></a> 483 
<div class="comment">
      Prints this throwable and its backtrace to the
      standard error stream. This method prints a stack trace for this
      <code>Throwable</code> object on the error output stream that is
      the value of the field <code>System.err</code>. The first line of
      output contains the result of the {@link #toString()} method for
      this object.  Remaining lines represent data previously recorded by
      the method {@link #fillInStackTrace()}. The format of this
      information depends on the implementation, but the following
      example may be regarded as typical:
      <blockquote><pre>      java.lang.NullPointerException
              at MyClass.mash(MyClass.java:9)
              at MyClass.crunch(MyClass.java:6)
              at MyClass.main(MyClass.java:3)
      </pre></blockquote>
      This example was produced by running the program:
      <pre>      class MyClass {
          public static void main(String[] args) {
              crunch(null);
          }
          static void crunch(int[] a) {
              mash(a);
          }
          static void mash(int[] b) {
              System.out.println(b[0]);
          }
      }
      </pre>
      The backtrace for a throwable with an initialized, non-null cause
      should generally include the backtrace for the cause.  The format
      of this information depends on the implementation, but the following
      example may be regarded as typical:
      <pre>      HighLevelException: MidLevelException: LowLevelException
              at Junk.a(Junk.java:13)
              at Junk.main(Junk.java:4)
      Caused by: MidLevelException: LowLevelException
              at Junk.c(Junk.java:23)
              at Junk.b(Junk.java:17)
              at Junk.a(Junk.java:11)
              ... 1 more
      Caused by: LowLevelException
              at Junk.e(Junk.java:30)
              at Junk.d(Junk.java:27)
              at Junk.c(Junk.java:21)
              ... 3 more
      </pre>
      Note the presence of lines containing the characters <code>"..."</code>.
      These lines indicate that the remainder of the stack trace for this
      exception matches the indicated number of frames from the bottom of the
      stack trace of the exception that was caused by this exception (the
      "enclosing" exception).  This shorthand can greatly reduce the length
      of the output in the common case where a wrapped exception is thrown
      from same method as the "causative exception" is caught.  The above
      example was produced by running the program:
      <pre>      public class Junk {
          public static void main(String args[]) {
              try {
                  a();
              } catch(HighLevelException e) {
                  e.printStackTrace();
              }
          }
          static void a() throws HighLevelException {
              try {
                  b();
              } catch(MidLevelException e) {
                  throw new HighLevelException(e);
              }
          }
          static void b() throws MidLevelException {
              c();
          }
          static void c() throws MidLevelException {
              try {
                  d();
              } catch(LowLevelException e) {
                  throw new MidLevelException(e);
              }
          }
          static void d() throws LowLevelException {
             e();
          }
          static void e() throws LowLevelException {
              throw new LowLevelException();
          }
      }
      class HighLevelException extends Exception {
          HighLevelException(Throwable cause) { super(cause); }
      }
      class MidLevelException extends Exception {
          MidLevelException(Throwable cause)  { super(cause); }
      }
      class LowLevelException extends Exception {
      }
      </pre>
      As of release 7, the platform supports the notion of
      <i>suppressed exceptions</i> (in conjunction with the {@code
      try}-with-resources statement). Any exceptions that were
      suppressed in order to deliver an exception are printed out
      beneath the stack trace.  The format of this information
      depends on the implementation, but the following example may be
      regarded as typical:
      <pre>      Exception in thread "main" java.lang.Exception: Something happened
       at Foo.bar(Foo.java:10)
       at Foo.main(Foo.java:5)
       Suppressed: Resource$CloseFailException: Resource ID = 0
               at Resource.close(Resource.java:26)
               at Foo.bar(Foo.java:9)
               ... 1 more
      </pre>
      Note that the "... n more" notation is used on suppressed exceptions
      just at it is used on causes. Unlike causes, suppressed exceptions are
      indented beyond their "containing exceptions."
      <p>An exception can have both a cause and one or more suppressed
      exceptions:
      </p><pre>      Exception in thread "main" java.lang.Exception: Main block
       at Foo3.main(Foo3.java:7)
       Suppressed: Resource$CloseFailException: Resource ID = 2
               at Resource.close(Resource.java:26)
               at Foo3.main(Foo3.java:5)
       Suppressed: Resource$CloseFailException: Resource ID = 1
               at Resource.close(Resource.java:26)
               at Foo3.main(Foo3.java:5)
      Caused by: java.lang.Exception: I did it
       at Foo3.main(Foo3.java:8)
      </pre>
      Likewise, a suppressed exception can have a cause:
      <pre>      Exception in thread "main" java.lang.Exception: Main block
       at Foo4.main(Foo4.java:6)
       Suppressed: Resource2$CloseFailException: Resource ID = 1
               at Resource2.close(Resource2.java:20)
               at Foo4.main(Foo4.java:5)
       Caused by: java.lang.Exception: Rats, you caught me
               at Resource2$CloseFailException.&lt;init&gt;(Resource2.java:45)
               ... 2 more
      </pre></div>
<a id="L633" name="L633"></a> 633     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25043.html" title="Multiple referred from 342 places.">printStackTrace</a>() <em class="brace">{</em>
<a id="L634" name="L634"></a> 634         <a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err);
<a id="L635" name="L635"></a> 635     <em class="brace">}</em>
<a id="L636" name="L636"></a> 636 
<div class="comment">
      Prints this throwable and its backtrace to the specified print stream.
      @param s <code>PrintStream</code> to use for output</div>
<a id="L642" name="L642"></a> 642     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25043.html" title="Multiple referred from 342 places.">printStackTrace</a>(<a href="../S/1370.html#L57" title="Defined at 57 in src/java/io/PrintStream.java.">PrintStream</a> s) <em class="brace">{</em>
<a id="L643" name="L643"></a> 643         <a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>(<strong class="reserved">new</strong> <a href="../S/1726.html#L736" title="Defined at 736 in src/java/lang/Throwable.java.">WrappedPrintStream</a>(s));
<a id="L644" name="L644"></a> 644     <em class="brace">}</em>
<a id="L645" name="L645"></a> 645 
<a id="L646" name="L646"></a> 646     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25043.html" title="Multiple referred from 342 places.">printStackTrace</a>(<a href="../S/1726.html#L728" title="Defined at 728 in src/java/lang/Throwable.java.">PrintStreamOrWriter</a> s) <em class="brace">{</em>
<a id="L647" name="L647"></a> 647         <em class="comment">// Guard against malicious overrides of Throwable.equals by</em>
<a id="L648" name="L648"></a> 648         <em class="comment">// using a Set with identity equality semantics.</em>
<a id="L649" name="L649"></a> 649         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt; dejaVu =
<a id="L650" name="L650"></a> 650             <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L5436" title="Defined at 5436 in src/java/util/Collections.java.">newSetFromMap</a>(<strong class="reserved">new</strong> <a href="../S/863.html#L138" title="Defined at 138 in src/java/util/IdentityHashMap.java.">IdentityHashMap</a>&lt;<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;());
<a id="L651" name="L651"></a> 651         dejaVu.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">this</strong>);
<a id="L652" name="L652"></a> 652 
<a id="L653" name="L653"></a> 653         <strong class="reserved">synchronized</strong> (s.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>()) <em class="brace">{</em>
<a id="L654" name="L654"></a> 654             <em class="comment">// Print our stack trace</em>
<a id="L655" name="L655"></a> 655             s.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<strong class="reserved">this</strong>);
<a id="L656" name="L656"></a> 656             <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a> = <a href="../S/1726.html#L819" title="Defined at 819 in src/java/lang/Throwable.java.">getOurStackTrace</a>();
<a id="L657" name="L657"></a> 657             <strong class="reserved">for</strong> (<a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a> traceElement : <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>)
<a id="L658" name="L658"></a> 658                 s.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("\tat " + traceElement);
<a id="L659" name="L659"></a> 659 
<a id="L660" name="L660"></a> 660             <em class="comment">// Print suppressed exceptions, if any</em>
<a id="L661" name="L661"></a> 661             <strong class="reserved">for</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> se : <a href="../S/1726.html#L1074" title="Defined at 1074 in src/java/lang/Throwable.java.">getSuppressed</a>())
<a id="L662" name="L662"></a> 662                 se.<a href="../S/1726.html#L675" title="Defined at 675 in src/java/lang/Throwable.java.">printEnclosedStackTrace</a>(s, <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>, SUPPRESSED_CAPTION, "\t", dejaVu);
<a id="L663" name="L663"></a> 663 
<a id="L664" name="L664"></a> 664             <em class="comment">// Print cause, if any</em>
<a id="L665" name="L665"></a> 665             <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> ourCause = <a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L666" name="L666"></a> 666             <strong class="reserved">if</strong> (ourCause != <strong class="reserved">null</strong>)
<a id="L667" name="L667"></a> 667                 ourCause.<a href="../S/1726.html#L675" title="Defined at 675 in src/java/lang/Throwable.java.">printEnclosedStackTrace</a>(s, <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>, CAUSE_CAPTION, "", dejaVu);
<a id="L668" name="L668"></a> 668         <em class="brace">}</em>
<a id="L669" name="L669"></a> 669     <em class="brace">}</em>
<a id="L670" name="L670"></a> 670 
<div class="comment">
      Print our stack trace as an enclosed exception for the specified
      stack trace.</div>
<a id="L675" name="L675"></a> 675     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25008.html" title="Multiple referred from 4 places.">printEnclosedStackTrace</a>(<a href="../S/1726.html#L728" title="Defined at 728 in src/java/lang/Throwable.java.">PrintStreamOrWriter</a> s,
<a id="L676" name="L676"></a> 676                                          <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] enclosingTrace,
<a id="L677" name="L677"></a> 677                                          <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> caption,
<a id="L678" name="L678"></a> 678                                          <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>,
<a id="L679" name="L679"></a> 679                                          <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt; dejaVu) <em class="brace">{</em>
<a id="L680" name="L680"></a> 680         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L1488" title="Defined at 1488 in src/java/lang/Thread.java.">holdsLock</a>(s.<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>());
<a id="L681" name="L681"></a> 681         <strong class="reserved">if</strong> (dejaVu.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<strong class="reserved">this</strong>)) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682             s.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("\t[CIRCULAR REFERENCE:" + <strong class="reserved">this</strong> + "]");
<a id="L683" name="L683"></a> 683         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L684" name="L684"></a> 684             dejaVu.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">this</strong>);
<a id="L685" name="L685"></a> 685             <em class="comment">// Compute number of frames in common between this and enclosing trace</em>
<a id="L686" name="L686"></a> 686             <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a> = <a href="../S/1726.html#L819" title="Defined at 819 in src/java/lang/Throwable.java.">getOurStackTrace</a>();
<a id="L687" name="L687"></a> 687             <strong class="reserved">int</strong> m = <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L688" name="L688"></a> 688             <strong class="reserved">int</strong> n = enclosingTrace.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L689" name="L689"></a> 689             <strong class="reserved">while</strong> (m &gt;= 0 &amp;&amp; n &gt;=0 &amp;&amp; <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>[m].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(enclosingTrace[n])) <em class="brace">{</em>
<a id="L690" name="L690"></a> 690                 m--; n--;
<a id="L691" name="L691"></a> 691             <em class="brace">}</em>
<a id="L692" name="L692"></a> 692             <strong class="reserved">int</strong> framesInCommon = <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1 - m;
<a id="L693" name="L693"></a> 693 
<a id="L694" name="L694"></a> 694             <em class="comment">// Print our stack trace</em>
<a id="L695" name="L695"></a> 695             s.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + caption + <strong class="reserved">this</strong>);
<a id="L696" name="L696"></a> 696             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt;= m; i++)
<a id="L697" name="L697"></a> 697                 s.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + "\tat " + <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>[i]);
<a id="L698" name="L698"></a> 698             <strong class="reserved">if</strong> (framesInCommon != 0)
<a id="L699" name="L699"></a> 699                 s.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + "\t... " + framesInCommon + " more");
<a id="L700" name="L700"></a> 700 
<a id="L701" name="L701"></a> 701             <em class="comment">// Print suppressed exceptions, if any</em>
<a id="L702" name="L702"></a> 702             <strong class="reserved">for</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> se : <a href="../S/1726.html#L1074" title="Defined at 1074 in src/java/lang/Throwable.java.">getSuppressed</a>())
<a id="L703" name="L703"></a> 703                 se.<a href="../S/1726.html#L675" title="Defined at 675 in src/java/lang/Throwable.java.">printEnclosedStackTrace</a>(s, <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>, SUPPRESSED_CAPTION,
<a id="L704" name="L704"></a> 704                                            <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> +"\t", dejaVu);
<a id="L705" name="L705"></a> 705 
<a id="L706" name="L706"></a> 706             <em class="comment">// Print cause, if any</em>
<a id="L707" name="L707"></a> 707             <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> ourCause = <a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L708" name="L708"></a> 708             <strong class="reserved">if</strong> (ourCause != <strong class="reserved">null</strong>)
<a id="L709" name="L709"></a> 709                 ourCause.<a href="../S/1726.html#L675" title="Defined at 675 in src/java/lang/Throwable.java.">printEnclosedStackTrace</a>(s, <a href="../D/35559.html" title="Multiple defined in 6 places.">trace</a>, CAUSE_CAPTION, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, dejaVu);
<a id="L710" name="L710"></a> 710         <em class="brace">}</em>
<a id="L711" name="L711"></a> 711     <em class="brace">}</em>
<a id="L712" name="L712"></a> 712 
<div class="comment">
      Prints this throwable and its backtrace to the specified
      print writer.
      @param s <code>PrintWriter</code> to use for output
      @since   JDK1.1</div>
<a id="L720" name="L720"></a> 720     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25043.html" title="Multiple referred from 342 places.">printStackTrace</a>(<a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> s) <em class="brace">{</em>
<a id="L721" name="L721"></a> 721         <a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>(<strong class="reserved">new</strong> <a href="../S/1726.html#L752" title="Defined at 752 in src/java/lang/Throwable.java.">WrappedPrintWriter</a>(s));
<a id="L722" name="L722"></a> 722     <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<div class="comment">
      Wrapper class for PrintStream and PrintWriter to enable a single
      implementation of printStackTrace.</div>
<a id="L728" name="L728"></a> 728     <strong class="reserved">private</strong> <strong class="reserved">abstract</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6240.html" title="Multiple referred from 4 places.">PrintStreamOrWriter</a> <em class="brace">{</em>
<div class="comment">
         /** Returns the object to be locked when using this StreamOrWriter */</div>
<a id="L730" name="L730"></a> 730         <strong class="reserved">abstract</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/22669.html" title="Multiple referred from 810 places.">lock</a>();
<a id="L731" name="L731"></a> 731 
<div class="comment">
         /** Prints the specified string as a line on this StreamOrWriter */</div>
<a id="L733" name="L733"></a> 733         <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/25062.html" title="Multiple referred from 1715 places.">println</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L734" name="L734"></a> 734     <em class="brace">}</em>
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/1726.html#L643" title="Referred from 643 in src/java/lang/Throwable.java.">WrappedPrintStream</a> <strong class="reserved">extends</strong> <a href="../S/1726.html#L728" title="Defined at 728 in src/java/lang/Throwable.java.">PrintStreamOrWriter</a> <em class="brace">{</em>
<a id="L737" name="L737"></a> 737         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1370.html#L57" title="Defined at 57 in src/java/io/PrintStream.java.">PrintStream</a> <a href="../D/29707.html" title="Multiple defined in 2 places.">printStream</a>;
<a id="L738" name="L738"></a> 738 
<a id="L739" name="L739"></a> 739         WrappedPrintStream(<a href="../S/1370.html#L57" title="Defined at 57 in src/java/io/PrintStream.java.">PrintStream</a> <a href="../D/29707.html" title="Multiple defined in 2 places.">printStream</a>) <em class="brace">{</em>
<a id="L740" name="L740"></a> 740             <strong class="reserved">this</strong>.<a href="../D/29707.html" title="Multiple defined in 2 places.">printStream</a> = <a href="../D/29707.html" title="Multiple defined in 2 places.">printStream</a>;
<a id="L741" name="L741"></a> 741         <em class="brace">}</em>
<a id="L742" name="L742"></a> 742 
<a id="L743" name="L743"></a> 743         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/22669.html" title="Multiple referred from 810 places.">lock</a>() <em class="brace">{</em>
<a id="L744" name="L744"></a> 744             <strong class="reserved">return</strong> <a href="../D/29707.html" title="Multiple defined in 2 places.">printStream</a>;
<a id="L745" name="L745"></a> 745         <em class="brace">}</em>
<a id="L746" name="L746"></a> 746 
<a id="L747" name="L747"></a> 747         <strong class="reserved">void</strong> <a href="../R/25062.html" title="Multiple referred from 1715 places.">println</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L748" name="L748"></a> 748             <a href="../D/29707.html" title="Multiple defined in 2 places.">printStream</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L749" name="L749"></a> 749         <em class="brace">}</em>
<a id="L750" name="L750"></a> 750     <em class="brace">}</em>
<a id="L751" name="L751"></a> 751 
<a id="L752" name="L752"></a> 752     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/1726.html#L721" title="Referred from 721 in src/java/lang/Throwable.java.">WrappedPrintWriter</a> <strong class="reserved">extends</strong> <a href="../S/1726.html#L728" title="Defined at 728 in src/java/lang/Throwable.java.">PrintStreamOrWriter</a> <em class="brace">{</em>
<a id="L753" name="L753"></a> 753         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> printWriter;
<a id="L754" name="L754"></a> 754 
<a id="L755" name="L755"></a> 755         WrappedPrintWriter(<a href="../S/1445.html#L56" title="Defined at 56 in src/java/io/PrintWriter.java.">PrintWriter</a> printWriter) <em class="brace">{</em>
<a id="L756" name="L756"></a> 756             <strong class="reserved">this</strong>.printWriter = printWriter;
<a id="L757" name="L757"></a> 757         <em class="brace">}</em>
<a id="L758" name="L758"></a> 758 
<a id="L759" name="L759"></a> 759         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/22669.html" title="Multiple referred from 810 places.">lock</a>() <em class="brace">{</em>
<a id="L760" name="L760"></a> 760             <strong class="reserved">return</strong> printWriter;
<a id="L761" name="L761"></a> 761         <em class="brace">}</em>
<a id="L762" name="L762"></a> 762 
<a id="L763" name="L763"></a> 763         <strong class="reserved">void</strong> <a href="../R/25062.html" title="Multiple referred from 1715 places.">println</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L764" name="L764"></a> 764             printWriter.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L765" name="L765"></a> 765         <em class="brace">}</em>
<a id="L766" name="L766"></a> 766     <em class="brace">}</em>
<a id="L767" name="L767"></a> 767 
<div class="comment">
      Fills in the execution stack trace. This method records within this
      <code>Throwable</code> object information about the current state of
      the stack frames for the current thread.
      <p>If the stack trace of this <code>Throwable</code> {@linkplain
      Throwable#Throwable(String, Throwable, boolean, boolean) is not
      writable}, calling this method has no effect.
      @return  a reference to this <code>Throwable</code> instance.
      @see     java.lang.Throwable#printStackTrace()</p></div>
<a id="L780" name="L780"></a> 780     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/14304.html" title="Multiple referred from 29 places.">fillInStackTrace</a>() <em class="brace">{</em>
<a id="L781" name="L781"></a> 781         <strong class="reserved">if</strong> (stackTrace != <strong class="reserved">null</strong> ||
<a id="L782" name="L782"></a> 782             backtrace != <div class="comment">
/* Out of protocol state */</div> ) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783             <a href="../D/16042.html" title="Multiple defined in 3 places.">fillInStackTrace</a>(0);
<a id="L784" name="L784"></a> 784             stackTrace = UNASSIGNED_STACK;
<a id="L785" name="L785"></a> 785         <em class="brace">}</em>
<a id="L786" name="L786"></a> 786         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L787" name="L787"></a> 787     <em class="brace">}</em>
<a id="L788" name="L788"></a> 788 
<a id="L789" name="L789"></a> 789     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/14304.html" title="Multiple referred from 29 places.">fillInStackTrace</a>(<strong class="reserved">int</strong> dummy);
<a id="L790" name="L790"></a> 790 
<div class="comment">
      Provides programmatic access to the stack trace information printed by
      {@link #printStackTrace()}.  Returns an array of stack trace elements,
      each representing one stack frame.  The zeroth element of the array
      (assuming the array's length is non-zero) represents the top of the
      stack, which is the last method invocation in the sequence.  Typically,
      this is the point at which this throwable was created and thrown.
      The last element of the array (assuming the array's length is non-zero)
      represents the bottom of the stack, which is the first method invocation
      in the sequence.
      <p>Some virtual machines may, under some circumstances, omit one
      or more stack frames from the stack trace.  In the extreme case,
      a virtual machine that has no stack trace information concerning
      this throwable is permitted to return a zero-length array from this
      method.  Generally speaking, the array returned by this method will
      contain one element for every frame that would be printed by
      <code>printStackTrace</code>.  Writes to the returned array do not
      affect future calls to this method.
      @return an array of stack trace elements representing the stack trace
              pertaining to this throwable.
      @since  1.4</p></div>
<a id="L815" name="L815"></a> 815     <strong class="reserved">public</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] <a href="../R/19143.html" title="Multiple referred from 9 places.">getStackTrace</a>() <em class="brace">{</em>
<a id="L816" name="L816"></a> 816         <strong class="reserved">return</strong> <a href="../S/1726.html#L819" title="Defined at 819 in src/java/lang/Throwable.java.">getOurStackTrace</a>().<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L817" name="L817"></a> 817     <em class="brace">}</em>
<a id="L818" name="L818"></a> 818 
<a id="L819" name="L819"></a> 819     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] <a href="../R/18176.html" title="Multiple referred from 4 places.">getOurStackTrace</a>() <em class="brace">{</em>
<a id="L820" name="L820"></a> 820         <em class="comment">// Initialize stack trace field with information from</em>
<a id="L821" name="L821"></a> 821         <em class="comment">// backtrace if this is the first call to this method</em>
<a id="L822" name="L822"></a> 822         <strong class="reserved">if</strong> (stackTrace == UNASSIGNED_STACK ||
<a id="L823" name="L823"></a> 823             (stackTrace == <strong class="reserved">null</strong> &amp;&amp; backtrace != <div class="comment">
/* Out of protocol state */</div>) <em class="brace">{</em>
<a id="L824" name="L824"></a> 824             <strong class="reserved">int</strong> <a href="../S/3238.html#L188" title="Defined at 188 in src/javax/swing/text/ElementIterator.java.">depth</a> = <a href="../S/1726.html#L884" title="Defined at 884 in src/java/lang/Throwable.java.">getStackTraceDepth</a>();
<a id="L825" name="L825"></a> 825             stackTrace = <strong class="reserved">new</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[<a href="../S/3238.html#L188" title="Defined at 188 in src/javax/swing/text/ElementIterator.java.">depth</a>];
<a id="L826" name="L826"></a> 826             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; <a href="../S/3238.html#L188" title="Defined at 188 in src/javax/swing/text/ElementIterator.java.">depth</a>; i++)
<a id="L827" name="L827"></a> 827                 stackTrace[i] = <a href="../S/1726.html#L895" title="Defined at 895 in src/java/lang/Throwable.java.">getStackTraceElement</a>(i);
<a id="L828" name="L828"></a> 828         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (stackTrace == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L829" name="L829"></a> 829             <strong class="reserved">return</strong> UNASSIGNED_STACK;
<a id="L830" name="L830"></a> 830         <em class="brace">}</em>
<a id="L831" name="L831"></a> 831         <strong class="reserved">return</strong> stackTrace;
<a id="L832" name="L832"></a> 832     <em class="brace">}</em>
<a id="L833" name="L833"></a> 833 
<div class="comment">
      Sets the stack trace elements that will be returned by
      {@link #getStackTrace()} and printed by {@link #printStackTrace()}
      and related methods.
      This method, which is designed for use by RPC frameworks and other
      advanced systems, allows the client to override the default
      stack trace that is either generated by {@link #fillInStackTrace()}
      when a throwable is constructed or deserialized when a throwable is
      read from a serialization stream.
      <p>If the stack trace of this <code>Throwable</code> {@linkplain
      Throwable#Throwable(String, Throwable, boolean, boolean) is not
      writable}, calling this method has no effect other than
      validating its argument.
      @param   stackTrace the stack trace elements to be associated with
      this <code>Throwable</code>.  The specified array is copied by this
      call; changes in the specified array after the method invocation
      returns will have no affect on this <code>Throwable</code>'s stack
      trace.
      @throws NullPointerException if <code>stackTrace</code> is
              <code>null</code> or if any of the elements of
              <code>stackTrace</code> are <code>null</code>
      @since  1.4</p></div>
<a id="L862" name="L862"></a> 862     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28215.html" title="Multiple referred from 3 places.">setStackTrace</a>(<a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] stackTrace) <em class="brace">{</em>
<a id="L863" name="L863"></a> 863         <em class="comment">// Validate argument</em>
<a id="L864" name="L864"></a> 864         <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] defensiveCopy = stackTrace.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L865" name="L865"></a> 865         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; defensiveCopy.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L866" name="L866"></a> 866             <strong class="reserved">if</strong> (defensiveCopy[i] == <strong class="reserved">null</strong>)
<a id="L867" name="L867"></a> 867                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("stackTrace[" + i + "]");
<a id="L868" name="L868"></a> 868         <em class="brace">}</em>
<a id="L869" name="L869"></a> 869 
<a id="L870" name="L870"></a> 870         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L871" name="L871"></a> 871             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.stackTrace == <strong class="reserved">null</strong> &amp;&amp; <em class="comment">// Immutable stack</em>
<a id="L872" name="L872"></a> 872                 backtrace == <strong class="reserved">null</strong>) <em class="comment">// Test for out of protocol state</em>
<a id="L873" name="L873"></a> 873                 <strong class="reserved">return</strong>;
<a id="L874" name="L874"></a> 874             <strong class="reserved">this</strong>.stackTrace = defensiveCopy;
<a id="L875" name="L875"></a> 875         <em class="brace">}</em>
<a id="L876" name="L876"></a> 876     <em class="brace">}</em>
<a id="L877" name="L877"></a> 877 
<div class="comment">
      Returns the number of elements in the stack trace (or 0 if the stack
      trace is unavailable).
      package-protection for use by SharedSecrets.</div>
<a id="L884" name="L884"></a> 884     <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../R/19144.html" title="Multiple referred from 4 places.">getStackTraceDepth</a>();
<a id="L885" name="L885"></a> 885 
<div class="comment">
      Returns the specified element of the stack trace.
      package-protection for use by SharedSecrets.
      @param index index of the element to return.
      @throws IndexOutOfBoundsException if {@code index &lt; 0 ||
              index &gt;= getStackTraceDepth() }</div>
<a id="L895" name="L895"></a> 895     <strong class="reserved">native</strong> <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a> <a href="../R/19145.html" title="Multiple referred from 4 places.">getStackTraceElement</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L896" name="L896"></a> 896 
<div class="comment">
      Reads a <code>Throwable</code> from a stream, enforcing
      well-formedness constraints on fields.  Null entries and
      self-pointers are not allowed in the list of {@code
      suppressedExceptions}.  Null entries are not allowed for stack
      trace elements.  A null stack trace in the serial form results
      in a zero-length stack element array. A single-element stack
      trace whose entry is equal to {@code new StackTraceElement("",
      "", null, Integer.MIN_VALUE)} results in a <code>null</code> {@code
      stackTrace} field.
      Note that there are no constraints on the value the {@code
      cause} field can hold; both <code>null</code> and <code>this</code> are
      valid values for the field.</div>
<a id="L912" name="L912"></a> 912     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L913" name="L913"></a> 913         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L914" name="L914"></a> 914         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();     <em class="comment">// read in all fields</em>
<a id="L915" name="L915"></a> 915         <strong class="reserved">if</strong> (suppressedExceptions != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L916" name="L916"></a> 916             <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>&gt; suppressed = <strong class="reserved">null</strong>;
<a id="L917" name="L917"></a> 917             <strong class="reserved">if</strong> (suppressedExceptions.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L918" name="L918"></a> 918                 <em class="comment">// Use the sentinel for a zero-length list</em>
<a id="L919" name="L919"></a> 919                 suppressed = SUPPRESSED_SENTINEL;
<a id="L920" name="L920"></a> 920             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// Copy Throwables to new list</em>
<a id="L921" name="L921"></a> 921                 suppressed = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;(1);
<a id="L922" name="L922"></a> 922                 <strong class="reserved">for</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> t : suppressedExceptions) <em class="brace">{</em>
<a id="L923" name="L923"></a> 923                     <em class="comment">// Enforce constraints on suppressed exceptions in</em>
<a id="L924" name="L924"></a> 924                     <em class="comment">// case of corrupt or malicious stream.</em>
<a id="L925" name="L925"></a> 925                     <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong>)
<a id="L926" name="L926"></a> 926                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(NULL_CAUSE_MESSAGE);
<a id="L927" name="L927"></a> 927                     <strong class="reserved">if</strong> (t == <strong class="reserved">this</strong>)
<a id="L928" name="L928"></a> 928                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(SELF_SUPPRESSION_MESSAGE);
<a id="L929" name="L929"></a> 929                     suppressed.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(t);
<a id="L930" name="L930"></a> 930                 <em class="brace">}</em>
<a id="L931" name="L931"></a> 931             <em class="brace">}</em>
<a id="L932" name="L932"></a> 932             suppressedExceptions = suppressed;
<a id="L933" name="L933"></a> 933         <em class="brace">}</em> <em class="comment">// else a null suppressedExceptions field remains null</em>
<a id="L934" name="L934"></a> 934 
<div class="comment">
          For zero-length stack traces, use a clone of
          UNASSIGNED_STACK rather than UNASSIGNED_STACK itself to
          allow identity comparison against UNASSIGNED_STACK in
          getOurStackTrace.  The identity of UNASSIGNED_STACK in
          stackTrace indicates to the getOurStackTrace method that
          the stackTrace needs to be constructed from the information
          in backtrace.</div>
<a id="L944" name="L944"></a> 944         <strong class="reserved">if</strong> (stackTrace != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L945" name="L945"></a> 945             <strong class="reserved">if</strong> (stackTrace.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L946" name="L946"></a> 946                 stackTrace = UNASSIGNED_STACK.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L947" name="L947"></a> 947             <em class="brace">}</em>  <strong class="reserved">else</strong> <strong class="reserved">if</strong> (stackTrace.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 1 &amp;&amp;
<a id="L948" name="L948"></a> 948                         <em class="comment">// Check for the marker of an immutable stack trace</em>
<a id="L949" name="L949"></a> 949                         <a href="../S/1726.html#L137" title="Defined at 137 in src/java/lang/Throwable.java.">SentinelHolder</a>.STACK_TRACE_ELEMENT_SENTINEL.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(stackTrace[0])) <em class="brace">{</em>
<a id="L950" name="L950"></a> 950                 stackTrace = <strong class="reserved">null</strong>;
<a id="L951" name="L951"></a> 951             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// Verify stack trace elements are non-null.</em>
<a id="L952" name="L952"></a> 952                 <strong class="reserved">for</strong>(<a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a> ste : stackTrace) <em class="brace">{</em>
<a id="L953" name="L953"></a> 953                     <strong class="reserved">if</strong> (ste == <strong class="reserved">null</strong>)
<a id="L954" name="L954"></a> 954                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("null StackTraceElement in serial stream. ");
<a id="L955" name="L955"></a> 955                 <em class="brace">}</em>
<a id="L956" name="L956"></a> 956             <em class="brace">}</em>
<a id="L957" name="L957"></a> 957         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L958" name="L958"></a> 958             <em class="comment">// A null stackTrace field in the serial form can result</em>
<a id="L959" name="L959"></a> 959             <em class="comment">// from an exception serialized without that field in</em>
<a id="L960" name="L960"></a> 960             <em class="comment">// older JDK releases; treat such exceptions as having</em>
<a id="L961" name="L961"></a> 961             <em class="comment">// empty stack traces.</em>
<a id="L962" name="L962"></a> 962             stackTrace = UNASSIGNED_STACK.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L963" name="L963"></a> 963         <em class="brace">}</em>
<a id="L964" name="L964"></a> 964     <em class="brace">}</em>
<a id="L965" name="L965"></a> 965 
<div class="comment">
      Write a <code>Throwable</code> object to a stream.
      A <code>null</code> stack trace field is represented in the serial
      form as a one-element array whose element is equal to {@code
      new StackTraceElement("", "", null, Integer.MIN_VALUE)}.</div>
<a id="L973" name="L973"></a> 973     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L974" name="L974"></a> 974         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L975" name="L975"></a> 975         <em class="comment">// Ensure that the stackTrace field is initialized to a</em>
<a id="L976" name="L976"></a> 976         <em class="comment">// non-null value, if appropriate.  As of JDK 7, a null stack</em>
<a id="L977" name="L977"></a> 977         <em class="comment">// trace field is a valid value indicating the stack trace</em>
<a id="L978" name="L978"></a> 978         <em class="comment">// should not be set.</em>
<a id="L979" name="L979"></a> 979         <a href="../S/1726.html#L819" title="Defined at 819 in src/java/lang/Throwable.java.">getOurStackTrace</a>();
<a id="L980" name="L980"></a> 980 
<a id="L981" name="L981"></a> 981         <a href="../S/1579.html#L42" title="Defined at 42 in src/java/lang/StackTraceElement.java.">StackTraceElement</a>[] oldStackTrace = stackTrace;
<a id="L982" name="L982"></a> 982         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L983" name="L983"></a> 983             <strong class="reserved">if</strong> (stackTrace == <strong class="reserved">null</strong>)
<a id="L984" name="L984"></a> 984                 stackTrace = <a href="../S/1726.html#L137" title="Defined at 137 in src/java/lang/Throwable.java.">SentinelHolder</a>.STACK_TRACE_SENTINEL;
<a id="L985" name="L985"></a> 985             s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L986" name="L986"></a> 986         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L987" name="L987"></a> 987             stackTrace = oldStackTrace;
<a id="L988" name="L988"></a> 988         <em class="brace">}</em>
<a id="L989" name="L989"></a> 989     <em class="brace">}</em>
<a id="L990" name="L990"></a> 990 
<div class="comment">
      Appends the specified exception to the exceptions that were
      suppressed in order to deliver this exception. This method is
      thread-safe and typically called (automatically and implicitly)
      by the <code>try</code>-with-resources statement.
      <p>The suppression behavior is enabled <em>unless</em> disabled
      {@linkplain #Throwable(String, Throwable, boolean, boolean) via
      a constructor}.  When suppression is disabled, this method does
      nothing other than to validate its argument.
      </p><p>Note that when one exception {@linkplain
      #initCause(Throwable) causes} another exception, the first
      exception is usually caught and then the second exception is
      thrown in response.  In other words, there is a causal
      connection between the two exceptions.
      In contrast, there are situations where two independent
      exceptions can be thrown in sibling code blocks, in particular
      in the <code>try</code> block of a <code>try</code>-with-resources
      statement and the compiler-generated <code>finally</code> block
      which closes the resource.
      In these situations, only one of the thrown exceptions can be
      propagated.  In the <code>try</code>-with-resources statement, when
      there are two such exceptions, the exception originating from
      the <code>try</code> block is propagated and the exception from the
      <code>finally</code> block is added to the list of exceptions
      suppressed by the exception from the <code>try</code> block.  As an
      exception unwinds the stack, it can accumulate multiple
      suppressed exceptions.
      </p><p>An exception may have suppressed exceptions while also being
      caused by another exception.  Whether or not an exception has a
      cause is semantically known at the time of its creation, unlike
      whether or not an exception will suppress other exceptions
      which is typically only determined after an exception is
      thrown.
      </p><p>Note that programmer written code is also able to take
      advantage of calling this method in situations where there are
      multiple sibling exceptions and only one can be propagated.
      @param exception the exception to be added to the list of
             suppressed exceptions
      @throws IllegalArgumentException if <code>exception</code> is this
              throwable; a throwable cannot suppress itself.
      @throws NullPointerException if <code>exception</code> is <code>null</code>
      @since 1.7</p></div>
<a id="L1041" name="L1041"></a>1041     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/9978.html" title="Multiple referred from 13 places.">addSuppressed</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>) <em class="brace">{</em>
<a id="L1042" name="L1042"></a>1042         <strong class="reserved">if</strong> (<a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a> == <strong class="reserved">this</strong>)
<a id="L1043" name="L1043"></a>1043             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(SELF_SUPPRESSION_MESSAGE, <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L1044" name="L1044"></a>1044 
<a id="L1045" name="L1045"></a>1045         <strong class="reserved">if</strong> (<a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a> == <strong class="reserved">null</strong>)
<a id="L1046" name="L1046"></a>1046             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(NULL_CAUSE_MESSAGE);
<a id="L1047" name="L1047"></a>1047 
<a id="L1048" name="L1048"></a>1048         <strong class="reserved">if</strong> (suppressedExceptions == <strong class="reserved">null</strong>) <em class="comment">// Suppressed exceptions not recorded</em>
<a id="L1049" name="L1049"></a>1049             <strong class="reserved">return</strong>;
<a id="L1050" name="L1050"></a>1050 
<a id="L1051" name="L1051"></a>1051         <strong class="reserved">if</strong> (suppressedExceptions == SUPPRESSED_SENTINEL)
<a id="L1052" name="L1052"></a>1052             suppressedExceptions = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;(1);
<a id="L1053" name="L1053"></a>1053 
<a id="L1054" name="L1054"></a>1054         suppressedExceptions.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>);
<a id="L1055" name="L1055"></a>1055     <em class="brace">}</em>
<a id="L1056" name="L1056"></a>1056 
<a id="L1057" name="L1057"></a>1057     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>[] EMPTY_THROWABLE_ARRAY = <strong class="reserved">new</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>[0];
<a id="L1058" name="L1058"></a>1058 
<div class="comment">
      Returns an array containing all of the exceptions that were
      suppressed, typically by the <code>try</code>-with-resources
      statement, in order to deliver this exception.
      If no exceptions were suppressed or {@linkplain
      #Throwable(String, Throwable, boolean, boolean) suppression is
      disabled}, an empty array is returned.  This method is
      thread-safe.  Writes to the returned array do not affect future
      calls to this method.
      @return an array containing all of the exceptions that were
              suppressed to deliver this exception.
      @since 1.7</div>
<a id="L1074" name="L1074"></a>1074     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a>[] <a href="../R/19294.html" title="Multiple referred from 2 places.">getSuppressed</a>() <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075         <strong class="reserved">if</strong> (suppressedExceptions == SUPPRESSED_SENTINEL ||
<a id="L1076" name="L1076"></a>1076             suppressedExceptions == <strong class="reserved">null</strong>)
<a id="L1077" name="L1077"></a>1077             <strong class="reserved">return</strong> EMPTY_THROWABLE_ARRAY;
<a id="L1078" name="L1078"></a>1078         <strong class="reserved">else</strong>
<a id="L1079" name="L1079"></a>1079             <strong class="reserved">return</strong> suppressedExceptions.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(EMPTY_THROWABLE_ARRAY);
<a id="L1080" name="L1080"></a>1080     <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L376">[^]</a><a href="#L1074">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>