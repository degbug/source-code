<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/logging/LogManager.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L225">[^]</a><a href="#L1818">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L225" title="Defined at 225.">run</a></li>
<li><a href="#L265" title="Defined at 265.">checkSubclassPermissions</a></li>
<li><a href="#L297" title="Defined at 297.">ensureLogManagerInitialized</a></li>
<li><a href="#L376" title="Defined at 376.">getLogManager</a></li>
<li><a href="#L383" title="Defined at 383.">readPrimordialConfiguration</a></li>
<li><a href="#L436" title="Defined at 436.">addPropertyChangeListener</a></li>
<li><a href="#L472" title="Defined at 472.">removePropertyChangeListener</a></li>
<li><a href="#L498" title="Defined at 498.">getUserContext</a></li>
<li><a href="#L527" title="Defined at 527.">getSystemContext</a></li>
<li><a href="#L531" title="Defined at 531.">contexts</a></li>
<li><a href="#L550" title="Defined at 550.">demandLogger</a></li>
<li><a href="#L579" title="Defined at 579.">demandSystemLogger</a></li>
<li><a href="#L636" title="Defined at 636.">requiresDefaultLoggers</a></li>
<li><a href="#L645" title="Defined at 645.">getOwner</a></li>
<li><a href="#L652" title="Defined at 652.">getRootLogger</a></li>
<li><a href="#L659" title="Defined at 659.">getGlobalLogger</a></li>
<li><a href="#L665" title="Defined at 665.">demandLogger</a></li>
<li><a href="#L680" title="Defined at 680.">ensureInitialized</a></li>
<li><a href="#L689" title="Defined at 689.">findLogger</a></li>
<li><a href="#L712" title="Defined at 712.">ensureAllDefaultLoggers</a></li>
<li><a href="#L724" title="Defined at 724.">ensureDefaultLogger</a></li>
<li><a href="#L756" title="Defined at 756.">addLocalLogger</a></li>
<li><a href="#L763" title="Defined at 763.">addLocalLogger</a></li>
<li><a href="#L839" title="Defined at 839.">removeLoggerRef</a></li>
<li><a href="#L843" title="Defined at 843.">getLoggerNames</a></li>
<li><a href="#L852" title="Defined at 852.">processParentHandlers</a></li>
<li><a href="#L886" title="Defined at 886.">getNode</a></li>
<li><a href="#L921" title="Defined at 921.">demandLogger</a></li>
<li><a href="#L955" title="Defined at 955.">loadLoggerHandlers</a></li>
<li><a href="#L1031" title="Defined at 1031.">dispose</a></li>
<li><a href="#L1086" title="Defined at 1086.">setNode</a></li>
<li><a href="#L1091" title="Defined at 1091.">setParentRef</a></li>
<li><a href="#L1123" title="Defined at 1123.">drainLoggerRefQueueBounded</a></li>
<li><a href="#L1155" title="Defined at 1155.">addLogger</a></li>
<li><a href="#L1174" title="Defined at 1174.">doSetLevel</a></li>
<li><a href="#L1193" title="Defined at 1193.">doSetParent</a></li>
<li><a href="#L1225" title="Defined at 1225.">getLogger</a></li>
<li><a href="#L1245" title="Defined at 1245.">getLoggerNames</a></li>
<li><a href="#L1265" title="Defined at 1265.">readConfiguration</a></li>
<li><a href="#L1318" title="Defined at 1318.">reset</a></li>
<li><a href="#L1339" title="Defined at 1339.">resetLogger</a></li>
<li><a href="#L1361" title="Defined at 1361.">parseClassNames</a></li>
<li><a href="#L1404" title="Defined at 1404.">readConfiguration</a></li>
<li><a href="#L1462" title="Defined at 1462.">getProperty</a></li>
<li><a href="#L1469" title="Defined at 1469.">getStringProperty</a></li>
<li><a href="#L1480" title="Defined at 1480.">getIntProperty</a></li>
<li><a href="#L1495" title="Defined at 1495.">getBooleanProperty</a></li>
<li><a href="#L1512" title="Defined at 1512.">getLevelProperty</a></li>
<li><a href="#L1525" title="Defined at 1525.">getFilterProperty</a></li>
<li><a href="#L1546" title="Defined at 1546.">getFormatterProperty</a></li>
<li><a href="#L1565" title="Defined at 1565.">initializeGlobalHandlers</a></li>
<li><a href="#L1583" title="Defined at 1583.">checkPermission</a></li>
<li><a href="#L1599" title="Defined at 1599.">checkAccess</a></li>
<li><a href="#L1617" title="Defined at 1617.">walkAndSetParent</a></li>
<li><a href="#L1647" title="Defined at 1647.">log</a></li>
<li><a href="#L1654" title="Defined at 1654.">addHandler</a></li>
<li><a href="#L1660" title="Defined at 1660.">removeHandler</a></li>
<li><a href="#L1666" title="Defined at 1666.">accessCheckedHandlers</a></li>
<li><a href="#L1675" title="Defined at 1675.">setLevelsOnExistingLoggers</a></li>
<li><a href="#L1730" title="Defined at 1730.">getLoggingMXBean</a></li>
<li><a href="#L1762" title="Defined at 1762.">getClass</a></li>
<li><a href="#L1769" title="Defined at 1769.">getConstructor</a></li>
<li><a href="#L1777" title="Defined at 1777.">getMethod</a></li>
<li><a href="#L1788" title="Defined at 1788.">isBeansPresent</a></li>
<li><a href="#L1797" title="Defined at 1797.">newPropertyChangeEvent</a></li>
<li><a href="#L1818" title="Defined at 1818.">invokePropertyChange</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.*;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.*;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.lang.ref.ReferenceQueue;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.lang.reflect.Constructor;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.lang.reflect.InvocationTargetException;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.lang.reflect.Method;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.beans.PropertyChangeListener;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> sun.misc.JavaAWTAccess;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> sun.misc.SharedSecrets;
<a id="L40" name="L40"></a>  40 
<div class="comment">
  There is a single global LogManager object that is used to
  maintain a set of shared state about Loggers and log services.
  <p>
  This LogManager object:
  </p><ul><li> Manages a hierarchical namespace of Logger objects.  All
       named Loggers are stored in this namespace.
  </li><li> Manages a set of logging control properties.  These are
       simple key-value pairs that can be used by Handlers and
       other logging objects to configure themselves.
  </li></ul>
  <p>
  The global LogManager object can be retrieved using LogManager.getLogManager().
  The LogManager object is created during class initialization and
  cannot subsequently be changed.
  </p><p>
  At startup the LogManager class is located using the
  java.util.logging.manager system property.
  </p><p>
  The LogManager defines two optional system properties that allow control over
  the initial configuration:
  </p><ul><li>"java.util.logging.config.class"
  </li><li>"java.util.logging.config.file"
  </li></ul>
  These two properties may be specified on the command line to the "java"
  command, or as system property definitions passed to JNI_CreateJavaVM.
  <p>
  If the "java.util.logging.config.class" property is set, then the
  property value is treated as a class name.  The given class will be
  loaded, an object will be instantiated, and that object's constructor
  is responsible for reading in the initial configuration.  (That object
  may use other system properties to control its configuration.)  The
  alternate configuration class can use <tt>readConfiguration(InputStream)</tt>
  to define properties in the LogManager.
  </p><p>
  If "java.util.logging.config.class" property is <b>not</b> set,
  then the "java.util.logging.config.file" system property can be used
  to specify a properties file (in java.util.Properties format). The
  initial logging configuration will be read from this file.
  </p><p>
  If neither of these properties is defined then the LogManager uses its
  default configuration. The default configuration is typically loaded from the
  properties file "<code>lib/logging.properties</code>" in the Java installation
  directory.
  </p><p>
  The properties for loggers and Handlers will have names starting
  with the dot-separated name for the handler or logger.
  </p><p>
  The global logging properties may include:
  </p><ul><li>A property "handlers".  This defines a whitespace or comma separated
  list of class names for handler classes to load and register as
  handlers on the root Logger (the Logger named "").  Each class
  name must be for a Handler class which has a default constructor.
  Note that these Handlers may be created lazily, when they are
  first used.
  </li><li>A property "&lt;logger&gt;.handlers". This defines a whitespace or
  comma separated list of class names for handlers classes to
  load and register as handlers to the specified logger. Each class
  name must be for a Handler class which has a default constructor.
  Note that these Handlers may be created lazily, when they are
  first used.
  </li><li>A property "&lt;logger&gt;.useParentHandlers". This defines a boolean
  value. By default every logger calls its parent in addition to
  handling the logging message itself, this often result in messages
  being handled by the root logger as well. When setting this property
  to false a Handler needs to be configured for this logger otherwise
  no logging messages are delivered.
  </li><li>A property "config".  This property is intended to allow
  arbitrary configuration code to be run.  The property defines a
  whitespace or comma separated list of class names.  A new instance will be
  created for each named class.  The default constructor of each class
  may execute arbitrary code to update the logging configuration, such as
  setting logger levels, adding handlers, adding filters, etc.
  </li></ul>
  <p>
  Note that all classes loaded during LogManager configuration are
  first searched on the system class path before any user class path.
  That includes the LogManager class, any config classes, and any
  handler classes.
  </p><p>
  Loggers are organized into a naming hierarchy based on their
  dot separated names.  Thus "a.b.c" is a child of "a.b", but
  "a.b1" and a.b2" are peers.
  </p><p>
  All properties whose names end with ".level" are assumed to define
  log levels for Loggers.  Thus "foo.level" defines a log level for
  the logger called "foo" and (recursively) for any of its children
  in the naming hierarchy.  Log Levels are applied in the order they
  are defined in the properties file.  Thus level settings for child
  nodes in the tree should come after settings for their parents.
  The property name ".level" can be used to set the level for the
  root of the tree.
  </p><p>
  All methods on the LogManager object are multi-thread safe.
  @since 1.4</p></div>
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/4734.html" title="Multiple referred from 51 places.">LogManager</a> <em class="brace">{</em>
<a id="L146" name="L146"></a> 146     <em class="comment">// The global LogManager object</em>
<a id="L147" name="L147"></a> 147     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> manager;
<a id="L148" name="L148"></a> 148 
<a id="L149" name="L149"></a> 149     <em class="comment">// 'props' is assigned within a lock but accessed without it.</em>
<a id="L150" name="L150"></a> 150     <em class="comment">// Declaring it volatile makes sure that another thread will not</em>
<a id="L151" name="L151"></a> 151     <em class="comment">// be able to see a partially constructed 'props' object.</em>
<a id="L152" name="L152"></a> 152     <em class="comment">// (seeing a partially constructed 'props' object can result in</em>
<a id="L153" name="L153"></a> 153     <em class="comment">// NPE being thrown in Hashtable.get(), because it leaves the door</em>
<a id="L154" name="L154"></a> 154     <em class="comment">// open for props.getProperties() to be called before the construcor</em>
<a id="L155" name="L155"></a> 155     <em class="comment">// of Hashtable is actually completed).</em>
<a id="L156" name="L156"></a> 156     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> props = <strong class="reserved">new</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a>();
<a id="L157" name="L157"></a> 157     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> defaultLevel = <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.INFO;
<a id="L158" name="L158"></a> 158 
<a id="L159" name="L159"></a> 159     <em class="comment">// The map of the registered listeners. The map value is the registration</em>
<a id="L160" name="L160"></a> 160     <em class="comment">// count to allow for cases where the same listener is registered many times.</em>
<a id="L161" name="L161"></a> 161     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; listenerMap = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L162" name="L162"></a> 162 
<a id="L163" name="L163"></a> 163     <em class="comment">// LoggerContext for system loggers and user loggers</em>
<a id="L164" name="L164"></a> 164     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> systemContext = <strong class="reserved">new</strong> <a href="../S/1171.html#L915" title="Defined at 915 in src/java/util/logging/LogManager.java.">SystemLoggerContext</a>();
<a id="L165" name="L165"></a> 165     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> userContext = <strong class="reserved">new</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a>();
<a id="L166" name="L166"></a> 166     <em class="comment">// non final field - make it volatile to make sure that other threads</em>
<a id="L167" name="L167"></a> 167     <em class="comment">// will see the new value once ensureLogManagerInitialized() has finished</em>
<a id="L168" name="L168"></a> 168     <em class="comment">// executing.</em>
<a id="L169" name="L169"></a> 169     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> rootLogger;
<a id="L170" name="L170"></a> 170     <em class="comment">// Have we done the primordial reading of the configuration file?</em>
<a id="L171" name="L171"></a> 171     <em class="comment">// (Must be done after a suitable amount of java.lang.System</em>
<a id="L172" name="L172"></a> 172     <em class="comment">// initialization has been done)</em>
<a id="L173" name="L173"></a> 173     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> <a href="../S/1171.html#L383" title="Defined at 383 in src/java/util/logging/LogManager.java.">readPrimordialConfiguration</a>;
<a id="L174" name="L174"></a> 174     <em class="comment">// Have we initialized global (root) handlers yet?</em>
<a id="L175" name="L175"></a> 175     <em class="comment">// This gets set to false in readConfiguration</em>
<a id="L176" name="L176"></a> 176     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> initializedGlobalHandlers = <strong class="reserved">true</strong>;
<a id="L177" name="L177"></a> 177     <em class="comment">// True if JVM death is imminent and the exit hook has been called.</em>
<a id="L178" name="L178"></a> 178     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> deathImminent;
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L181" name="L181"></a> 181         manager = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>&gt;() <em class="brace">{</em>
<a id="L182" name="L182"></a> 182             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L183" name="L183"></a> 183             <strong class="reserved">public</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L184" name="L184"></a> 184                 <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> mgr = <strong class="reserved">null</strong>;
<a id="L185" name="L185"></a> 185                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cname = <strong class="reserved">null</strong>;
<a id="L186" name="L186"></a> 186                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L187" name="L187"></a> 187                     cname = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.util.logging.manager");
<a id="L188" name="L188"></a> 188                     <strong class="reserved">if</strong> (cname != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L189" name="L189"></a> 189                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L190" name="L190"></a> 190                             <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>()
<a id="L191" name="L191"></a> 191                                     .<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(cname);
<a id="L192" name="L192"></a> 192                             mgr = (<a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>) clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L193" name="L193"></a> 193                         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L194" name="L194"></a> 194                             <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>()
<a id="L195" name="L195"></a> 195                                     .<a href="../D/17977.html" title="Multiple defined in 21 places.">getContextClassLoader</a>().<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(cname);
<a id="L196" name="L196"></a> 196                             mgr = (<a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>) clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L197" name="L197"></a> 197                         <em class="brace">}</em>
<a id="L198" name="L198"></a> 198                     <em class="brace">}</em>
<a id="L199" name="L199"></a> 199                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L200" name="L200"></a> 200                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Could not load Logmanager \"" + cname + "\"");
<a id="L201" name="L201"></a> 201                     <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L202" name="L202"></a> 202                 <em class="brace">}</em>
<a id="L203" name="L203"></a> 203                 <strong class="reserved">if</strong> (mgr == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204                     mgr = <strong class="reserved">new</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>();
<a id="L205" name="L205"></a> 205                 <em class="brace">}</em>
<a id="L206" name="L206"></a> 206                 <strong class="reserved">return</strong> mgr;
<a id="L207" name="L207"></a> 207 
<a id="L208" name="L208"></a> 208             <em class="brace">}</em>
<a id="L209" name="L209"></a> 209         <em class="brace">}</em>);
<a id="L210" name="L210"></a> 210     <em class="brace">}</em>
<a id="L211" name="L211"></a> 211 
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213     <em class="comment">// This private class is used as a shutdown hook.</em>
<a id="L214" name="L214"></a> 214     <em class="comment">// It does a "reset" to close all open handlers.</em>
<a id="L215" name="L215"></a> 215     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/1409.html" title="Multiple referred from 46 places.">Cleaner</a> <strong class="reserved">extends</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> <em class="brace">{</em>
<a id="L216" name="L216"></a> 216 
<a id="L217" name="L217"></a> 217         <strong class="reserved">private</strong> Cleaner() <em class="brace">{</em>
<div class="comment">
 Set context class loader to null in order to avoid
              keeping a strong reference to an application classloader.</div>
<a id="L221" name="L221"></a> 221             <strong class="reserved">this</strong>.<a href="../D/32262.html" title="Multiple defined in 3 places.">setContextClassLoader</a>(<strong class="reserved">null</strong>);
<a id="L222" name="L222"></a> 222         <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L225" name="L225"></a> 225         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em>
<a id="L226" name="L226"></a> 226             <em class="comment">// This is to ensure the LogManager.&lt;clinit&gt; is completed</em>
<a id="L227" name="L227"></a> 227             <em class="comment">// before synchronized block. Otherwise deadlocks are possible.</em>
<a id="L228" name="L228"></a> 228             <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> mgr = manager;
<a id="L229" name="L229"></a> 229 
<a id="L230" name="L230"></a> 230             <em class="comment">// If the global handlers haven't been initialized yet, we</em>
<a id="L231" name="L231"></a> 231             <em class="comment">// don't want to initialize them just so we can close them!</em>
<a id="L232" name="L232"></a> 232             <strong class="reserved">synchronized</strong> (<a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>.<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233                 <em class="comment">// Note that death is imminent.</em>
<a id="L234" name="L234"></a> 234                 deathImminent = <strong class="reserved">true</strong>;
<a id="L235" name="L235"></a> 235                 initializedGlobalHandlers = <strong class="reserved">true</strong>;
<a id="L236" name="L236"></a> 236             <em class="brace">}</em>
<a id="L237" name="L237"></a> 237 
<a id="L238" name="L238"></a> 238             <em class="comment">// Do a reset to close all active handlers.</em>
<a id="L239" name="L239"></a> 239             <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L240" name="L240"></a> 240         <em class="brace">}</em>
<a id="L241" name="L241"></a> 241     <em class="brace">}</em>
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243 
<div class="comment">
      Protected constructor.  This is protected so that container applications
      (such as J2EE containers) can subclass the object.  It is non-public as
      it is intended that there only be one LogManager object, whose value is
      retrieved by calling LogManager.getLogManager.</div>
<a id="L250" name="L250"></a> 250     <strong class="reserved">protected</strong> LogManager() <em class="brace">{</em>
<a id="L251" name="L251"></a> 251         <strong class="reserved">this</strong>(<a href="../S/1171.html#L265" title="Defined at 265 in src/java/util/logging/LogManager.java.">checkSubclassPermissions</a>());
<a id="L252" name="L252"></a> 252     <em class="brace">}</em>
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254     <strong class="reserved">private</strong> LogManager(<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> checked) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255 
<a id="L256" name="L256"></a> 256         <em class="comment">// Add a shutdown hook to close the global handlers.</em>
<a id="L257" name="L257"></a> 257         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L258" name="L258"></a> 258             <a href="../S/1774.html#L46" title="Defined at 46 in src/java/lang/Runtime.java.">Runtime</a>.<a href="../S/1774.html#L57" title="Defined at 57 in src/java/lang/Runtime.java.">getRuntime</a>().<a href="../S/1774.html#L206" title="Defined at 206 in src/java/lang/Runtime.java.">addShutdownHook</a>(<strong class="reserved">new</strong> <a href="../S/1171.html#L215" title="Defined at 215 in src/java/util/logging/LogManager.java.">Cleaner</a>());
<a id="L259" name="L259"></a> 259         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> e) <em class="brace">{</em>
<a id="L260" name="L260"></a> 260             <em class="comment">// If the VM is already shutting down,</em>
<a id="L261" name="L261"></a> 261             <em class="comment">// We do not need to register shutdownHook.</em>
<a id="L262" name="L262"></a> 262         <em class="brace">}</em>
<a id="L263" name="L263"></a> 263     <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../S/1171.html#L251" title="Referred from 251 in src/java/util/logging/LogManager.java.">checkSubclassPermissions</a>() <em class="brace">{</em>
<a id="L266" name="L266"></a> 266         <strong class="reserved">final</strong> <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L267" name="L267"></a> 267         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268             <em class="comment">// These permission will be checked in the LogManager constructor,</em>
<a id="L269" name="L269"></a> 269             <em class="comment">// in order to register the Cleaner() thread as a shutdown hook.</em>
<a id="L270" name="L270"></a> 270             <em class="comment">// Check them here to avoid the penalty of constructing the object</em>
<a id="L271" name="L271"></a> 271             <em class="comment">// etc...</em>
<a id="L272" name="L272"></a> 272             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/1764.html#L349" title="Defined at 349 in src/java/lang/RuntimePermission.java.">RuntimePermission</a>("shutdownHooks"));
<a id="L273" name="L273"></a> 273             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/1764.html#L349" title="Defined at 349 in src/java/lang/RuntimePermission.java.">RuntimePermission</a>("setContextClassLoader"));
<a id="L274" name="L274"></a> 274         <em class="brace">}</em>
<a id="L275" name="L275"></a> 275         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L276" name="L276"></a> 276     <em class="brace">}</em>
<a id="L277" name="L277"></a> 277 
<div class="comment">
      Lazy initialization: if this instance of manager is the global
      manager then this method will read the initial configuration and
      add the root logger and global logger by calling addLogger().
      Note that it is subtly different from what we do in LoggerContext.
      In LoggerContext we're patching up the logger context tree in order to add
      the root and global logger *to the context tree*.
      For this to work, addLogger() must have already have been called
      once on the LogManager instance for the default logger being
      added.
      This is why ensureLogManagerInitialized() needs to be called before
      any logger is added to any logger context.</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> initializedCalled = <strong class="reserved">false</strong>;
<a id="L296" name="L296"></a> 296     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> initializationDone = <strong class="reserved">false</strong>;
<a id="L297" name="L297"></a> 297     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/13926.html" title="Multiple referred from 2 places.">ensureLogManagerInitialized</a>() <em class="brace">{</em>
<a id="L298" name="L298"></a> 298         <strong class="reserved">final</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = <strong class="reserved">this</strong>;
<a id="L299" name="L299"></a> 299         <strong class="reserved">if</strong> (initializationDone || <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> != manager) <em class="brace">{</em>
<a id="L300" name="L300"></a> 300             <em class="comment">// we don't want to do this twice, and we don't want to do</em>
<a id="L301" name="L301"></a> 301             <em class="comment">// this on private manager instances.</em>
<a id="L302" name="L302"></a> 302             <strong class="reserved">return</strong>;
<a id="L303" name="L303"></a> 303         <em class="brace">}</em>
<a id="L304" name="L304"></a> 304 
<a id="L305" name="L305"></a> 305         <em class="comment">// Maybe another thread has called ensureLogManagerInitialized()</em>
<a id="L306" name="L306"></a> 306         <em class="comment">// before us and is still executing it. If so we will block until</em>
<a id="L307" name="L307"></a> 307         <em class="comment">// the log manager has finished initialized, then acquire the monitor,</em>
<a id="L308" name="L308"></a> 308         <em class="comment">// notice that initializationDone is now true and return.</em>
<a id="L309" name="L309"></a> 309         <em class="comment">// Otherwise - we have come here first! We will acquire the monitor,</em>
<a id="L310" name="L310"></a> 310         <em class="comment">// see that initializationDone is still false, and perform the</em>
<a id="L311" name="L311"></a> 311         <em class="comment">// initialization.</em>
<a id="L312" name="L312"></a> 312         <em class="comment">//</em>
<a id="L313" name="L313"></a> 313         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L314" name="L314"></a> 314             <em class="comment">// If initializedCalled is true it means that we're already in</em>
<a id="L315" name="L315"></a> 315             <em class="comment">// the process of initializing the LogManager in this thread.</em>
<a id="L316" name="L316"></a> 316             <em class="comment">// There has been a recursive call to ensureLogManagerInitialized().</em>
<a id="L317" name="L317"></a> 317             <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isRecursiveInitialization = (initializedCalled == <strong class="reserved">true</strong>);
<a id="L318" name="L318"></a> 318 
<a id="L319" name="L319"></a> 319             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> initializedCalled || !initializationDone
<a id="L320" name="L320"></a> 320                     : "Initialization can't be done if initialized has not been called!";
<a id="L321" name="L321"></a> 321 
<a id="L322" name="L322"></a> 322             <strong class="reserved">if</strong> (isRecursiveInitialization || initializationDone) <em class="brace">{</em>
<a id="L323" name="L323"></a> 323                 <em class="comment">// If isRecursiveInitialization is true it means that we're</em>
<a id="L324" name="L324"></a> 324                 <em class="comment">// already in the process of initializing the LogManager in</em>
<a id="L325" name="L325"></a> 325                 <em class="comment">// this thread. There has been a recursive call to</em>
<a id="L326" name="L326"></a> 326                 <em class="comment">// ensureLogManagerInitialized(). We should not proceed as</em>
<a id="L327" name="L327"></a> 327                 <em class="comment">// it would lead to infinite recursion.</em>
<a id="L328" name="L328"></a> 328                 <em class="comment">//</em>
<a id="L329" name="L329"></a> 329                 <em class="comment">// If initializationDone is true then it means the manager</em>
<a id="L330" name="L330"></a> 330                 <em class="comment">// has finished initializing; just return: we're done.</em>
<a id="L331" name="L331"></a> 331                 <strong class="reserved">return</strong>;
<a id="L332" name="L332"></a> 332             <em class="brace">}</em>
<a id="L333" name="L333"></a> 333             <em class="comment">// Calling addLogger below will in turn call requiresDefaultLogger()</em>
<a id="L334" name="L334"></a> 334             <em class="comment">// which will call ensureLogManagerInitialized().</em>
<a id="L335" name="L335"></a> 335             <em class="comment">// We use initializedCalled to break the recursion.</em>
<a id="L336" name="L336"></a> 336             initializedCalled = <strong class="reserved">true</strong>;
<a id="L337" name="L337"></a> 337             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L338" name="L338"></a> 338                 <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;() <em class="brace">{</em>
<a id="L339" name="L339"></a> 339                     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L340" name="L340"></a> 340                     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> rootLogger == <strong class="reserved">null</strong>;
<a id="L342" name="L342"></a> 342                         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> initializedCalled &amp;&amp; !initializationDone;
<a id="L343" name="L343"></a> 343 
<a id="L344" name="L344"></a> 344                         <em class="comment">// Read configuration.</em>
<a id="L345" name="L345"></a> 345                         <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../S/1171.html#L383" title="Defined at 383 in src/java/util/logging/LogManager.java.">readPrimordialConfiguration</a>();
<a id="L346" name="L346"></a> 346 
<a id="L347" name="L347"></a> 347                         <em class="comment">// Create and retain Logger for the root of the namespace.</em>
<a id="L348" name="L348"></a> 348                         <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.rootLogger = <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<strong class="reserved">new</strong> <a href="../S/1171.html#L1638" title="Defined at 1638 in src/java/util/logging/LogManager.java.">RootLogger</a>();
<a id="L349" name="L349"></a> 349                         <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../S/1171.html#L1155" title="Defined at 1155 in src/java/util/logging/LogManager.java.">addLogger</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.rootLogger);
<a id="L350" name="L350"></a> 350                         <strong class="reserved">if</strong> (!<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.rootLogger.<a href="../S/1170.html#L1695" title="Defined at 1695 in src/java/util/logging/Logger.java.">isLevelInitialized</a>()) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351                             <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.rootLogger.<a href="../D/33080.html" title="Multiple defined in 6 places.">setLevel</a>(defaultLevel);
<a id="L352" name="L352"></a> 352                         <em class="brace">}</em>
<a id="L353" name="L353"></a> 353 
<a id="L354" name="L354"></a> 354                         <em class="comment">// Adding the global Logger.</em>
<a id="L355" name="L355"></a> 355                         <em class="comment">// Do not call Logger.getGlobal() here as this might trigger</em>
<a id="L356" name="L356"></a> 356                         <em class="comment">// subtle inter-dependency issues.</em>
<a id="L357" name="L357"></a> 357                         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("deprecation")
<a id="L358" name="L358"></a> 358                         <strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> global = <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>.global;
<a id="L359" name="L359"></a> 359 
<a id="L360" name="L360"></a> 360                         <em class="comment">// Make sure the global logger will be registered in the</em>
<a id="L361" name="L361"></a> 361                         <em class="comment">// global manager</em>
<a id="L362" name="L362"></a> 362                         <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../S/1171.html#L1155" title="Defined at 1155 in src/java/util/logging/LogManager.java.">addLogger</a>(global);
<a id="L363" name="L363"></a> 363                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L364" name="L364"></a> 364                     <em class="brace">}</em>
<a id="L365" name="L365"></a> 365                 <em class="brace">}</em>);
<a id="L366" name="L366"></a> 366             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L367" name="L367"></a> 367                 initializationDone = <strong class="reserved">true</strong>;
<a id="L368" name="L368"></a> 368             <em class="brace">}</em>
<a id="L369" name="L369"></a> 369         <em class="brace">}</em>
<a id="L370" name="L370"></a> 370     <em class="brace">}</em>
<a id="L371" name="L371"></a> 371 
<div class="comment">
      Returns the global LogManager object.
      @return the global LogManager object</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> <a href="../R/17467.html" title="Multiple referred from 18 places.">getLogManager</a>() <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">if</strong> (manager != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             manager.<a href="../S/1171.html#L297" title="Defined at 297 in src/java/util/logging/LogManager.java.">ensureLogManagerInitialized</a>();
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380         <strong class="reserved">return</strong> manager;
<a id="L381" name="L381"></a> 381     <em class="brace">}</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25530.html" title="Multiple referred from 5 places.">readPrimordialConfiguration</a>() <em class="brace">{</em>
<a id="L384" name="L384"></a> 384         <strong class="reserved">if</strong> (!<a href="../S/1171.html#L383" title="Defined at 383 in src/java/util/logging/LogManager.java.">readPrimordialConfiguration</a>) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L386" name="L386"></a> 386                 <strong class="reserved">if</strong> (!<a href="../S/1171.html#L383" title="Defined at 383 in src/java/util/logging/LogManager.java.">readPrimordialConfiguration</a>) <em class="brace">{</em>
<a id="L387" name="L387"></a> 387                     <em class="comment">// If System.in/out/err are null, it's a good</em>
<a id="L388" name="L388"></a> 388                     <em class="comment">// indication that we're still in the</em>
<a id="L389" name="L389"></a> 389                     <em class="comment">// bootstrapping phase</em>
<a id="L390" name="L390"></a> 390                     <strong class="reserved">if</strong> (<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391                         <strong class="reserved">return</strong>;
<a id="L392" name="L392"></a> 392                     <em class="brace">}</em>
<a id="L393" name="L393"></a> 393                     <a href="../S/1171.html#L383" title="Defined at 383 in src/java/util/logging/LogManager.java.">readPrimordialConfiguration</a> = <strong class="reserved">true</strong>;
<a id="L394" name="L394"></a> 394 
<a id="L395" name="L395"></a> 395                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L396" name="L396"></a> 396                         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L398" name="L398"></a> 398                                 <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L399" name="L399"></a> 399                                     <a href="../D/30158.html" title="Multiple defined in 2 places.">readConfiguration</a>();
<a id="L400" name="L400"></a> 400 
<a id="L401" name="L401"></a> 401                                     <em class="comment">// Platform loggers begin to delegate to java.util.logging.Logger</em>
<a id="L402" name="L402"></a> 402                                     sun.util.logging.PlatformLogger.redirectPlatformLoggers();
<a id="L403" name="L403"></a> 403                                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L404" name="L404"></a> 404                                 <em class="brace">}</em>
<a id="L405" name="L405"></a> 405                             <em class="brace">}</em>);
<a id="L406" name="L406"></a> 406                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407                         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <strong class="reserved">false</strong> : "Exception raised while reading logging configuration: " + <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L408" name="L408"></a> 408                     <em class="brace">}</em>
<a id="L409" name="L409"></a> 409                 <em class="brace">}</em>
<a id="L410" name="L410"></a> 410             <em class="brace">}</em>
<a id="L411" name="L411"></a> 411         <em class="brace">}</em>
<a id="L412" name="L412"></a> 412     <em class="brace">}</em>
<a id="L413" name="L413"></a> 413 
<div class="comment">
      Adds an event listener to be invoked when the logging
      properties are re-read. Adding multiple instances of
      the same event Listener results in multiple entries
      in the property event listener table.
      <p><b>WARNING:</b> This method is omitted from this class in all subset
      Profiles of Java SE that do not include the <code>java.beans</code> package.
      </p>
      @param l  event listener
      @exception  SecurityException  if a security manager exists and if
                  the caller does not have LoggingPermission("control").
      @exception NullPointerException if the PropertyChangeListener is null.
      @deprecated The dependency on <code>PropertyChangeListener</code> creates a
                  significant impediment to future modularization of the Java
                  platform. This method will be removed in a future release.
                  The global <code>LogManager</code> can detect changes to the
                  logging configuration by overridding the {@link
                  #readConfiguration readConfiguration} method.</div>
<a id="L435" name="L435"></a> 435     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L436" name="L436"></a> 436     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9914.html" title="Multiple referred from 169 places.">addPropertyChangeListener</a>(<a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a> l) <strong class="reserved">throws</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L437" name="L437"></a> 437         <a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a> listener = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(l);
<a id="L438" name="L438"></a> 438         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>();
<a id="L439" name="L439"></a> 439         <strong class="reserved">synchronized</strong> (listenerMap) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440             <em class="comment">// increment the registration count if already registered</em>
<a id="L441" name="L441"></a> 441             <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = listenerMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(listener);
<a id="L442" name="L442"></a> 442             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) ? 1 : (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> + 1);
<a id="L443" name="L443"></a> 443             listenerMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(listener, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445     <em class="brace">}</em>
<a id="L446" name="L446"></a> 446 
<div class="comment">
      Removes an event listener for property change events.
      If the same listener instance has been added to the listener table
      through multiple invocations of <code>addPropertyChangeListener</code>,
      then an equivalent number of
      <code>removePropertyChangeListener</code> invocations are required to remove
      all instances of that listener from the listener table.
      <p>
      Returns silently if the given listener is not found.
      </p><p><b>WARNING:</b> This method is omitted from this class in all subset
      Profiles of Java SE that do not include the <code>java.beans</code> package.
      </p>
      @param l  event listener (can be null)
      @exception  SecurityException  if a security manager exists and if
                  the caller does not have LoggingPermission("control").
      @deprecated The dependency on <code>PropertyChangeListener</code> creates a
                  significant impediment to future modularization of the Java
                  platform. This method will be removed in a future release.
                  The global <code>LogManager</code> can detect changes to the
                  logging configuration by overridding the {@link
                  #readConfiguration readConfiguration} method.</div>
<a id="L471" name="L471"></a> 471     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L472" name="L472"></a> 472     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26051.html" title="Multiple referred from 157 places.">removePropertyChangeListener</a>(<a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a> l) <strong class="reserved">throws</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L473" name="L473"></a> 473         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>();
<a id="L474" name="L474"></a> 474         <strong class="reserved">if</strong> (l != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475             <a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a> listener = l;
<a id="L476" name="L476"></a> 476             <strong class="reserved">synchronized</strong> (listenerMap) <em class="brace">{</em>
<a id="L477" name="L477"></a> 477                 <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = listenerMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(listener);
<a id="L478" name="L478"></a> 478                 <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479                     <em class="comment">// remove from map if registration count is 1, otherwise</em>
<a id="L480" name="L480"></a> 480                     <em class="comment">// just decrement its count</em>
<a id="L481" name="L481"></a> 481                     <strong class="reserved">int</strong> i = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L482" name="L482"></a> 482                     <strong class="reserved">if</strong> (i == 1) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483                         listenerMap.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(listener);
<a id="L484" name="L484"></a> 484                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L485" name="L485"></a> 485                         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> i &gt; 1;
<a id="L486" name="L486"></a> 486                         listenerMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(listener, i - 1);
<a id="L487" name="L487"></a> 487                     <em class="brace">}</em>
<a id="L488" name="L488"></a> 488                 <em class="brace">}</em>
<a id="L489" name="L489"></a> 489             <em class="brace">}</em>
<a id="L490" name="L490"></a> 490         <em class="brace">}</em>
<a id="L491" name="L491"></a> 491     <em class="brace">}</em>
<a id="L492" name="L492"></a> 492 
<a id="L493" name="L493"></a> 493     <em class="comment">// LoggerContext maps from AppContext</em>
<a id="L494" name="L494"></a> 494     <strong class="reserved">private</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>, <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a>&gt; contextsMap = <strong class="reserved">null</strong>;
<a id="L495" name="L495"></a> 495 
<a id="L496" name="L496"></a> 496     <em class="comment">// Returns the LoggerContext for the user code (i.e. application or AppContext).</em>
<a id="L497" name="L497"></a> 497     <em class="comment">// Loggers are isolated from each AppContext.</em>
<a id="L498" name="L498"></a> 498     <strong class="reserved">private</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> <a href="../R/19717.html" title="Multiple referred from 4 places.">getUserContext</a>() <em class="brace">{</em>
<a id="L499" name="L499"></a> 499         <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <strong class="reserved">null</strong>;
<a id="L500" name="L500"></a> 500 
<a id="L501" name="L501"></a> 501         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L502" name="L502"></a> 502         JavaAWTAccess javaAwtAccess = SharedSecrets.getJavaAWTAccess();
<a id="L503" name="L503"></a> 503         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong> &amp;&amp; javaAwtAccess != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504             <em class="comment">// for each applet, it has its own LoggerContext isolated from others</em>
<a id="L505" name="L505"></a> 505             <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> ecx = javaAwtAccess.<a href="../D/16984.html" title="Multiple defined in 3 places.">getAppletContext</a>();
<a id="L506" name="L506"></a> 506             <strong class="reserved">if</strong> (ecx != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507                 <strong class="reserved">synchronized</strong> (javaAwtAccess) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508                     <em class="comment">// find the AppContext of the applet code</em>
<a id="L509" name="L509"></a> 509                     <em class="comment">// will be null if we are in the main app context.</em>
<a id="L510" name="L510"></a> 510                     <strong class="reserved">if</strong> (contextsMap == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511                         contextsMap = <strong class="reserved">new</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;&gt;();
<a id="L512" name="L512"></a> 512                     <em class="brace">}</em>
<a id="L513" name="L513"></a> 513                     <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = contextsMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(ecx);
<a id="L514" name="L514"></a> 514                     <strong class="reserved">if</strong> (<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515                         <em class="comment">// Create a new LoggerContext for the applet.</em>
<a id="L516" name="L516"></a> 516                         <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <strong class="reserved">new</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a>();
<a id="L517" name="L517"></a> 517                         contextsMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(ecx, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L518" name="L518"></a> 518                     <em class="brace">}</em>
<a id="L519" name="L519"></a> 519                 <em class="brace">}</em>
<a id="L520" name="L520"></a> 520             <em class="brace">}</em>
<a id="L521" name="L521"></a> 521         <em class="brace">}</em>
<a id="L522" name="L522"></a> 522         <em class="comment">// for standalone app, return userContext</em>
<a id="L523" name="L523"></a> 523         <strong class="reserved">return</strong> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> != <strong class="reserved">null</strong> ? <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> : userContext;
<a id="L524" name="L524"></a> 524     <em class="brace">}</em>
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526     <em class="comment">// The system context.</em>
<a id="L527" name="L527"></a> 527     <strong class="reserved">final</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> <a href="../R/19309.html" title="Multiple referred from 2 places.">getSystemContext</a>() <em class="brace">{</em>
<a id="L528" name="L528"></a> 528         <strong class="reserved">return</strong> systemContext;
<a id="L529" name="L529"></a> 529     <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<a id="L531" name="L531"></a> 531     <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a>&gt; <a href="../R/11998.html" title="Multiple referred from 62 places.">contexts</a>() <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a>&gt; cxs = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L533" name="L533"></a> 533         cxs.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1171.html#L527" title="Defined at 527 in src/java/util/logging/LogManager.java.">getSystemContext</a>());
<a id="L534" name="L534"></a> 534         cxs.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1171.html#L498" title="Defined at 498 in src/java/util/logging/LogManager.java.">getUserContext</a>());
<a id="L535" name="L535"></a> 535         <strong class="reserved">return</strong> cxs;
<a id="L536" name="L536"></a> 536     <em class="brace">}</em>
<a id="L537" name="L537"></a> 537 
<a id="L538" name="L538"></a> 538     <em class="comment">// Find or create a specified logger instance. If a logger has</em>
<a id="L539" name="L539"></a> 539     <em class="comment">// already been created with the given name it is returned.</em>
<a id="L540" name="L540"></a> 540     <em class="comment">// Otherwise a new logger instance is created and registered</em>
<a id="L541" name="L541"></a> 541     <em class="comment">// in the LogManager global namespace.</em>
<a id="L542" name="L542"></a> 542     <em class="comment">// This method will always return a non-null Logger object.</em>
<a id="L543" name="L543"></a> 543     <em class="comment">// Synchronization is not required here. All synchronization for</em>
<a id="L544" name="L544"></a> 544     <em class="comment">// adding a new Logger object is handled by addLogger().</em>
<a id="L545" name="L545"></a> 545     <em class="comment">//</em>
<a id="L546" name="L546"></a> 546     <em class="comment">// This method must delegate to the LogManager implementation to</em>
<a id="L547" name="L547"></a> 547     <em class="comment">// add a new Logger or return the one that has been added previously</em>
<a id="L548" name="L548"></a> 548     <em class="comment">// as a LogManager subclass may override the addLogger, getLogger,</em>
<a id="L549" name="L549"></a> 549     <em class="comment">// readConfiguration, and other methods.</em>
<a id="L550" name="L550"></a> 550     <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/13222.html" title="Multiple referred from 6 places.">demandLogger</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resourceBundleName, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; caller) <em class="brace">{</em>
<a id="L551" name="L551"></a> 551         <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L552" name="L552"></a> 552         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L553" name="L553"></a> 553             <em class="comment">// only allocate the new logger once</em>
<a id="L554" name="L554"></a> 554             <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> newLogger = <strong class="reserved">new</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, resourceBundleName, caller, <strong class="reserved">this</strong>, <strong class="reserved">false</strong>);
<a id="L555" name="L555"></a> 555             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L556" name="L556"></a> 556                 <strong class="reserved">if</strong> (<a href="../S/1171.html#L1155" title="Defined at 1155 in src/java/util/logging/LogManager.java.">addLogger</a>(newLogger)) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557                     <em class="comment">// We successfully added the new Logger that we</em>
<a id="L558" name="L558"></a> 558                     <em class="comment">// created above so return it without refetching.</em>
<a id="L559" name="L559"></a> 559                     <strong class="reserved">return</strong> newLogger;
<a id="L560" name="L560"></a> 560                 <em class="brace">}</em>
<a id="L561" name="L561"></a> 561 
<a id="L562" name="L562"></a> 562                 <em class="comment">// We didn't add the new Logger that we created above</em>
<a id="L563" name="L563"></a> 563                 <em class="comment">// because another thread added a Logger with the same</em>
<a id="L564" name="L564"></a> 564                 <em class="comment">// name after our null check above and before our call</em>
<a id="L565" name="L565"></a> 565                 <em class="comment">// to addLogger(). We have to refetch the Logger because</em>
<a id="L566" name="L566"></a> 566                 <em class="comment">// addLogger() returns a boolean instead of the Logger</em>
<a id="L567" name="L567"></a> 567                 <em class="comment">// reference itself. However, if the thread that created</em>
<a id="L568" name="L568"></a> 568                 <em class="comment">// the other Logger is not holding a strong reference to</em>
<a id="L569" name="L569"></a> 569                 <em class="comment">// the other Logger, then it is possible for the other</em>
<a id="L570" name="L570"></a> 570                 <em class="comment">// Logger to be GC'ed after we saw it in addLogger() and</em>
<a id="L571" name="L571"></a> 571                 <em class="comment">// before we can refetch it. If it has been GC'ed then</em>
<a id="L572" name="L572"></a> 572                 <em class="comment">// we'll just loop around and try again.</em>
<a id="L573" name="L573"></a> 573                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L574" name="L574"></a> 574             <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>);
<a id="L575" name="L575"></a> 575         <em class="brace">}</em>
<a id="L576" name="L576"></a> 576         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L577" name="L577"></a> 577     <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579     <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/13223.html" title="Multiple referred from 2 places.">demandSystemLogger</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resourceBundleName) <em class="brace">{</em>
<a id="L580" name="L580"></a> 580         <em class="comment">// Add a system logger in the system context's namespace</em>
<a id="L581" name="L581"></a> 581         <strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> sysLogger = <a href="../S/1171.html#L527" title="Defined at 527 in src/java/util/logging/LogManager.java.">getSystemContext</a>().<a href="../D/14828.html" title="Multiple defined in 4 places.">demandLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, resourceBundleName);
<a id="L582" name="L582"></a> 582 
<a id="L583" name="L583"></a> 583         <em class="comment">// Add the system logger to the LogManager's namespace if not exist</em>
<a id="L584" name="L584"></a> 584         <em class="comment">// so that there is only one single logger of the given name.</em>
<a id="L585" name="L585"></a> 585         <em class="comment">// System loggers are visible to applications unless a logger of</em>
<a id="L586" name="L586"></a> 586         <em class="comment">// the same name has been added.</em>
<a id="L587" name="L587"></a> 587         <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>;
<a id="L588" name="L588"></a> 588         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L589" name="L589"></a> 589             <em class="comment">// First attempt to call addLogger instead of getLogger</em>
<a id="L590" name="L590"></a> 590             <em class="comment">// This would avoid potential bug in custom LogManager.getLogger</em>
<a id="L591" name="L591"></a> 591             <em class="comment">// implementation that adds a logger if does not exist</em>
<a id="L592" name="L592"></a> 592             <strong class="reserved">if</strong> (<a href="../S/1171.html#L1155" title="Defined at 1155 in src/java/util/logging/LogManager.java.">addLogger</a>(sysLogger)) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593                 <em class="comment">// successfully added the new system logger</em>
<a id="L594" name="L594"></a> 594                 <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = sysLogger;
<a id="L595" name="L595"></a> 595             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L596" name="L596"></a> 596                 <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = <a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L597" name="L597"></a> 597             <em class="brace">}</em>
<a id="L598" name="L598"></a> 598         <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> == <strong class="reserved">null</strong>);
<a id="L599" name="L599"></a> 599 
<a id="L600" name="L600"></a> 600         <em class="comment">// LogManager will set the sysLogger's handlers via LogManager.addLogger method.</em>
<a id="L601" name="L601"></a> 601         <strong class="reserved">if</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> != sysLogger &amp;&amp; sysLogger.<a href="../D/10562.html" title="Multiple defined in 2 places.">accessCheckedHandlers</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602             <em class="comment">// if logger already exists but handlers not set</em>
<a id="L603" name="L603"></a> 603             <strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> l = <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>;
<a id="L604" name="L604"></a> 604             <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L605" name="L605"></a> 605                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L606" name="L606"></a> 606                 <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L607" name="L607"></a> 607                     <strong class="reserved">for</strong> (<a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a> hdl : l.<a href="../D/10562.html" title="Multiple defined in 2 places.">accessCheckedHandlers</a>()) <em class="brace">{</em>
<a id="L608" name="L608"></a> 608                         sysLogger.<a href="../D/10833.html" title="Multiple defined in 2 places.">addHandler</a>(hdl);
<a id="L609" name="L609"></a> 609                     <em class="brace">}</em>
<a id="L610" name="L610"></a> 610                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L611" name="L611"></a> 611                 <em class="brace">}</em>
<a id="L612" name="L612"></a> 612             <em class="brace">}</em>);
<a id="L613" name="L613"></a> 613         <em class="brace">}</em>
<a id="L614" name="L614"></a> 614         <strong class="reserved">return</strong> sysLogger;
<a id="L615" name="L615"></a> 615     <em class="brace">}</em>
<a id="L616" name="L616"></a> 616 
<a id="L617" name="L617"></a> 617     <em class="comment">// LoggerContext maintains the logger namespace per context.</em>
<a id="L618" name="L618"></a> 618     <em class="comment">// The default LogManager implementation has one system context and user</em>
<a id="L619" name="L619"></a> 619     <em class="comment">// context.  The system context is used to maintain the namespace for</em>
<a id="L620" name="L620"></a> 620     <em class="comment">// all system loggers and is queried by the system code.  If a system logger</em>
<a id="L621" name="L621"></a> 621     <em class="comment">// doesn't exist in the user context, it'll also be added to the user context.</em>
<a id="L622" name="L622"></a> 622     <em class="comment">// The user context is queried by the user code and all other loggers are</em>
<a id="L623" name="L623"></a> 623     <em class="comment">// added in the user context.</em>
<a id="L624" name="L624"></a> 624     <strong class="reserved">class</strong> <a href="../R/4742.html" title="Multiple referred from 15 places.">LoggerContext</a> <em class="brace">{</em>
<a id="L625" name="L625"></a> 625         <em class="comment">// Table of named Loggers that maps names to Loggers.</em>
<a id="L626" name="L626"></a> 626         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a>&gt; namedLoggers = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;&gt;();
<a id="L627" name="L627"></a> 627         <em class="comment">// Tree of named Loggers</em>
<a id="L628" name="L628"></a> 628         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L629" name="L629"></a> 629         <strong class="reserved">private</strong> LoggerContext() <em class="brace">{</em>
<a id="L630" name="L630"></a> 630             <strong class="reserved">this</strong>.<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> = <strong class="reserved">new</strong> <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a>(<strong class="reserved">null</strong>, <strong class="reserved">this</strong>);
<a id="L631" name="L631"></a> 631         <em class="brace">}</em>
<a id="L632" name="L632"></a> 632 
<a id="L633" name="L633"></a> 633 
<a id="L634" name="L634"></a> 634         <em class="comment">// Tells whether default loggers are required in this context.</em>
<a id="L635" name="L635"></a> 635         <em class="comment">// If true, the default loggers will be lazily added.</em>
<a id="L636" name="L636"></a> 636         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/26232.html" title="Multiple referred from 7 places.">requiresDefaultLoggers</a>() <em class="brace">{</em>
<a id="L637" name="L637"></a> 637             <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../S/1171.html#L636" title="Defined at 636 in src/java/util/logging/LogManager.java.">requiresDefaultLoggers</a> = (<a href="../D/21291.html" title="Multiple defined in 12 places.">getOwner</a>() == manager);
<a id="L638" name="L638"></a> 638             <strong class="reserved">if</strong> (<a href="../S/1171.html#L636" title="Defined at 636 in src/java/util/logging/LogManager.java.">requiresDefaultLoggers</a>) <em class="brace">{</em>
<a id="L639" name="L639"></a> 639                 <a href="../D/21291.html" title="Multiple defined in 12 places.">getOwner</a>().<a href="../S/1171.html#L297" title="Defined at 297 in src/java/util/logging/LogManager.java.">ensureLogManagerInitialized</a>();
<a id="L640" name="L640"></a> 640             <em class="brace">}</em>
<a id="L641" name="L641"></a> 641             <strong class="reserved">return</strong> <a href="../S/1171.html#L636" title="Defined at 636 in src/java/util/logging/LogManager.java.">requiresDefaultLoggers</a>;
<a id="L642" name="L642"></a> 642         <em class="brace">}</em>
<a id="L643" name="L643"></a> 643 
<a id="L644" name="L644"></a> 644         <em class="comment">// This context's LogManager.</em>
<a id="L645" name="L645"></a> 645         <strong class="reserved">final</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> <a href="../R/18200.html" title="Multiple referred from 29 places.">getOwner</a>() <em class="brace">{</em>
<a id="L646" name="L646"></a> 646             <strong class="reserved">return</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>.<strong class="reserved">this</strong>;
<a id="L647" name="L647"></a> 647         <em class="brace">}</em>
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649         <em class="comment">// This context owner's root logger, which if not null, and if</em>
<a id="L650" name="L650"></a> 650         <em class="comment">// the context requires default loggers, will be added to the context</em>
<a id="L651" name="L651"></a> 651         <em class="comment">// logger's tree.</em>
<a id="L652" name="L652"></a> 652         <strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/18768.html" title="Multiple referred from 2 places.">getRootLogger</a>() <em class="brace">{</em>
<a id="L653" name="L653"></a> 653             <strong class="reserved">return</strong> <a href="../D/21291.html" title="Multiple defined in 12 places.">getOwner</a>().rootLogger;
<a id="L654" name="L654"></a> 654         <em class="brace">}</em>
<a id="L655" name="L655"></a> 655 
<a id="L656" name="L656"></a> 656         <em class="comment">// The global logger, which if not null, and if</em>
<a id="L657" name="L657"></a> 657         <em class="comment">// the context requires default loggers, will be added to the context</em>
<a id="L658" name="L658"></a> 658         <em class="comment">// logger's tree.</em>
<a id="L659" name="L659"></a> 659         <strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/16789.html" title="Multiple referred from 2 places.">getGlobalLogger</a>() <em class="brace">{</em>
<a id="L660" name="L660"></a> 660             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("deprecated") <em class="comment">// avoids initialization cycles.</em>
<a id="L661" name="L661"></a> 661             <strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> global = <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>.global;
<a id="L662" name="L662"></a> 662             <strong class="reserved">return</strong> global;
<a id="L663" name="L663"></a> 663         <em class="brace">}</em>
<a id="L664" name="L664"></a> 664 
<a id="L665" name="L665"></a> 665         <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/13222.html" title="Multiple referred from 6 places.">demandLogger</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resourceBundleName) <em class="brace">{</em>
<a id="L666" name="L666"></a> 666             <em class="comment">// a LogManager subclass may have its own implementation to add and</em>
<a id="L667" name="L667"></a> 667             <em class="comment">// get a Logger.  So delegate to the LogManager to do the work.</em>
<a id="L668" name="L668"></a> 668             <strong class="reserved">final</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = <a href="../D/21291.html" title="Multiple defined in 12 places.">getOwner</a>();
<a id="L669" name="L669"></a> 669             <strong class="reserved">return</strong> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../D/14828.html" title="Multiple defined in 4 places.">demandLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, resourceBundleName, <strong class="reserved">null</strong>);
<a id="L670" name="L670"></a> 670         <em class="brace">}</em>
<a id="L671" name="L671"></a> 671 
<a id="L672" name="L672"></a> 672 
<a id="L673" name="L673"></a> 673         <em class="comment">// Due to subtle deadlock issues getUserContext() no longer</em>
<a id="L674" name="L674"></a> 674         <em class="comment">// calls addLocalLogger(rootLogger);</em>
<a id="L675" name="L675"></a> 675         <em class="comment">// Therefore - we need to add the default loggers later on.</em>
<a id="L676" name="L676"></a> 676         <em class="comment">// Checks that the context is properly initialized</em>
<a id="L677" name="L677"></a> 677         <em class="comment">// This is necessary before calling e.g. find(name)</em>
<a id="L678" name="L678"></a> 678         <em class="comment">// or getLoggerNames()</em>
<a id="L679" name="L679"></a> 679         <em class="comment">//</em>
<a id="L680" name="L680"></a> 680         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13923.html" title="Multiple referred from 6 places.">ensureInitialized</a>() <em class="brace">{</em>
<a id="L681" name="L681"></a> 681             <strong class="reserved">if</strong> (<a href="../S/1171.html#L636" title="Defined at 636 in src/java/util/logging/LogManager.java.">requiresDefaultLoggers</a>()) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682                 <em class="comment">// Ensure that the root and global loggers are set.</em>
<a id="L683" name="L683"></a> 683                 <a href="../S/1171.html#L724" title="Defined at 724 in src/java/util/logging/LogManager.java.">ensureDefaultLogger</a>(<a href="../S/1171.html#L652" title="Defined at 652 in src/java/util/logging/LogManager.java.">getRootLogger</a>());
<a id="L684" name="L684"></a> 684                 <a href="../S/1171.html#L724" title="Defined at 724 in src/java/util/logging/LogManager.java.">ensureDefaultLogger</a>(<a href="../S/1171.html#L659" title="Defined at 659 in src/java/util/logging/LogManager.java.">getGlobalLogger</a>());
<a id="L685" name="L685"></a> 685             <em class="brace">}</em>
<a id="L686" name="L686"></a> 686         <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<a id="L688" name="L688"></a> 688 
<a id="L689" name="L689"></a> 689         <strong class="reserved">synchronized</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/14413.html" title="Multiple referred from 5 places.">findLogger</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L690" name="L690"></a> 690             <em class="comment">// ensure that this context is properly initialized before</em>
<a id="L691" name="L691"></a> 691             <em class="comment">// looking for loggers.</em>
<a id="L692" name="L692"></a> 692             <a href="../D/15612.html" title="Multiple defined in 4 places.">ensureInitialized</a>();
<a id="L693" name="L693"></a> 693             <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = namedLoggers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L694" name="L694"></a> 694             <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L695" name="L695"></a> 695                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L696" name="L696"></a> 696             <em class="brace">}</em>
<a id="L697" name="L697"></a> 697             <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L698" name="L698"></a> 698             <strong class="reserved">if</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L699" name="L699"></a> 699                 <em class="comment">// Hashtable holds stale weak reference</em>
<a id="L700" name="L700"></a> 700                 <em class="comment">// to a logger which has been GC-ed.</em>
<a id="L701" name="L701"></a> 701                 <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L702" name="L702"></a> 702             <em class="brace">}</em>
<a id="L703" name="L703"></a> 703             <strong class="reserved">return</strong> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>;
<a id="L704" name="L704"></a> 704         <em class="brace">}</em>
<a id="L705" name="L705"></a> 705 
<a id="L706" name="L706"></a> 706         <em class="comment">// This method is called before adding a logger to the</em>
<a id="L707" name="L707"></a> 707         <em class="comment">// context.</em>
<a id="L708" name="L708"></a> 708         <em class="comment">// 'logger' is the context that will be added.</em>
<a id="L709" name="L709"></a> 709         <em class="comment">// This method will ensure that the defaults loggers are added</em>
<a id="L710" name="L710"></a> 710         <em class="comment">// before adding 'logger'.</em>
<a id="L711" name="L711"></a> 711         <em class="comment">//</em>
<a id="L712" name="L712"></a> 712         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1171.html#L774" title="Referred from 774 in src/java/util/logging/LogManager.java.">ensureAllDefaultLoggers</a>(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>) <em class="brace">{</em>
<a id="L713" name="L713"></a> 713             <strong class="reserved">if</strong> (<a href="../S/1171.html#L636" title="Defined at 636 in src/java/util/logging/LogManager.java.">requiresDefaultLoggers</a>()) <em class="brace">{</em>
<a id="L714" name="L714"></a> 714                 <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L715" name="L715"></a> 715                 <strong class="reserved">if</strong> (!<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L716" name="L716"></a> 716                     <a href="../S/1171.html#L724" title="Defined at 724 in src/java/util/logging/LogManager.java.">ensureDefaultLogger</a>(<a href="../S/1171.html#L652" title="Defined at 652 in src/java/util/logging/LogManager.java.">getRootLogger</a>());
<a id="L717" name="L717"></a> 717                     <strong class="reserved">if</strong> (!<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>.GLOBAL_LOGGER_NAME.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L718" name="L718"></a> 718                         <a href="../S/1171.html#L724" title="Defined at 724 in src/java/util/logging/LogManager.java.">ensureDefaultLogger</a>(<a href="../S/1171.html#L659" title="Defined at 659 in src/java/util/logging/LogManager.java.">getGlobalLogger</a>());
<a id="L719" name="L719"></a> 719                     <em class="brace">}</em>
<a id="L720" name="L720"></a> 720                 <em class="brace">}</em>
<a id="L721" name="L721"></a> 721             <em class="brace">}</em>
<a id="L722" name="L722"></a> 722         <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<a id="L724" name="L724"></a> 724         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13914.html" title="Multiple referred from 4 places.">ensureDefaultLogger</a>(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>) <em class="brace">{</em>
<a id="L725" name="L725"></a> 725             <em class="comment">// Used for lazy addition of root logger and global logger</em>
<a id="L726" name="L726"></a> 726             <em class="comment">// to a LoggerContext.</em>
<a id="L727" name="L727"></a> 727 
<a id="L728" name="L728"></a> 728             <em class="comment">// This check is simple sanity: we do not want that this</em>
<a id="L729" name="L729"></a> 729             <em class="comment">// method be called for anything else than Logger.global</em>
<a id="L730" name="L730"></a> 730             <em class="comment">// or owner.rootLogger.</em>
<a id="L731" name="L731"></a> 731             <strong class="reserved">if</strong> (!<a href="../S/1171.html#L636" title="Defined at 636 in src/java/util/logging/LogManager.java.">requiresDefaultLoggers</a>() || <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> == <strong class="reserved">null</strong>
<a id="L732" name="L732"></a> 732                     || <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> != <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>.global &amp;&amp; <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> != <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>.<strong class="reserved">this</strong>.rootLogger) <em class="brace">{</em>
<a id="L733" name="L733"></a> 733 
<a id="L734" name="L734"></a> 734                 <em class="comment">// the case where we have a non null logger which is neither</em>
<a id="L735" name="L735"></a> 735                 <em class="comment">// Logger.global nor manager.rootLogger indicates a serious</em>
<a id="L736" name="L736"></a> 736                 <em class="comment">// issue - as ensureDefaultLogger should never be called</em>
<a id="L737" name="L737"></a> 737                 <em class="comment">// with any other loggers than one of these two (or null - if</em>
<a id="L738" name="L738"></a> 738                 <em class="comment">// e.g manager.rootLogger is not yet initialized)...</em>
<a id="L739" name="L739"></a> 739                 <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> == <strong class="reserved">null</strong>;
<a id="L740" name="L740"></a> 740 
<a id="L741" name="L741"></a> 741                 <strong class="reserved">return</strong>;
<a id="L742" name="L742"></a> 742             <em class="brace">}</em>
<a id="L743" name="L743"></a> 743 
<a id="L744" name="L744"></a> 744             <em class="comment">// Adds the logger if it's not already there.</em>
<a id="L745" name="L745"></a> 745             <strong class="reserved">if</strong> (!namedLoggers.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>())) <em class="brace">{</em>
<a id="L746" name="L746"></a> 746                 <em class="comment">// It is important to prevent addLocalLogger to</em>
<a id="L747" name="L747"></a> 747                 <em class="comment">// call ensureAllDefaultLoggers when we're in the process</em>
<a id="L748" name="L748"></a> 748                 <em class="comment">// off adding one of those default loggers - as this would</em>
<a id="L749" name="L749"></a> 749                 <em class="comment">// immediately cause a stack overflow.</em>
<a id="L750" name="L750"></a> 750                 <em class="comment">// Therefore we must pass addDefaultLoggersIfNeeded=false,</em>
<a id="L751" name="L751"></a> 751                 <em class="comment">// even if requiresDefaultLoggers is true.</em>
<a id="L752" name="L752"></a> 752                 <a href="../D/10912.html" title="Multiple defined in 2 places.">addLocalLogger</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <strong class="reserved">false</strong>);
<a id="L753" name="L753"></a> 753             <em class="brace">}</em>
<a id="L754" name="L754"></a> 754         <em class="brace">}</em>
<a id="L755" name="L755"></a> 755 
<a id="L756" name="L756"></a> 756         <strong class="reserved">boolean</strong> <a href="../R/9830.html" title="Multiple referred from 4 places.">addLocalLogger</a>(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757             <em class="comment">// no need to add default loggers if it's not required</em>
<a id="L758" name="L758"></a> 758             <strong class="reserved">return</strong> <a href="../D/10912.html" title="Multiple defined in 2 places.">addLocalLogger</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <a href="../S/1171.html#L636" title="Defined at 636 in src/java/util/logging/LogManager.java.">requiresDefaultLoggers</a>());
<a id="L759" name="L759"></a> 759         <em class="brace">}</em>
<a id="L760" name="L760"></a> 760 
<a id="L761" name="L761"></a> 761         <em class="comment">// Add a logger to this context.  This method will only set its level</em>
<a id="L762" name="L762"></a> 762         <em class="comment">// and process parent loggers.  It doesn't set its handlers.</em>
<a id="L763" name="L763"></a> 763         <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/9830.html" title="Multiple referred from 4 places.">addLocalLogger</a>(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <strong class="reserved">boolean</strong> addDefaultLoggersIfNeeded) <em class="brace">{</em>
<a id="L764" name="L764"></a> 764             <em class="comment">// addDefaultLoggersIfNeeded serves to break recursion when adding</em>
<a id="L765" name="L765"></a> 765             <em class="comment">// default loggers. If we're adding one of the default loggers</em>
<a id="L766" name="L766"></a> 766             <em class="comment">// (we're being called from ensureDefaultLogger()) then</em>
<a id="L767" name="L767"></a> 767             <em class="comment">// addDefaultLoggersIfNeeded will be false: we don't want to</em>
<a id="L768" name="L768"></a> 768             <em class="comment">// call ensureAllDefaultLoggers again.</em>
<a id="L769" name="L769"></a> 769             <em class="comment">//</em>
<a id="L770" name="L770"></a> 770             <em class="comment">// Note: addDefaultLoggersIfNeeded can also be false when</em>
<a id="L771" name="L771"></a> 771             <em class="comment">//       requiresDefaultLoggers is false - since calling</em>
<a id="L772" name="L772"></a> 772             <em class="comment">//       ensureAllDefaultLoggers would have no effect in this case.</em>
<a id="L773" name="L773"></a> 773             <strong class="reserved">if</strong> (addDefaultLoggersIfNeeded) <em class="brace">{</em>
<a id="L774" name="L774"></a> 774                 <a href="../S/1171.html#L712" title="Defined at 712 in src/java/util/logging/LogManager.java.">ensureAllDefaultLoggers</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>);
<a id="L775" name="L775"></a> 775             <em class="brace">}</em>
<a id="L776" name="L776"></a> 776 
<a id="L777" name="L777"></a> 777             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L778" name="L778"></a> 778             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L780" name="L780"></a> 780             <em class="brace">}</em>
<a id="L781" name="L781"></a> 781             <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = namedLoggers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L782" name="L782"></a> 782             <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783                 <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L784" name="L784"></a> 784                     <em class="comment">// It's possible that the Logger was GC'ed after a</em>
<a id="L785" name="L785"></a> 785                     <em class="comment">// drainLoggerRefQueueBounded() call above so allow</em>
<a id="L786" name="L786"></a> 786                     <em class="comment">// a new one to be registered.</em>
<a id="L787" name="L787"></a> 787                     <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L788" name="L788"></a> 788                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L789" name="L789"></a> 789                     <em class="comment">// We already have a registered logger with the given name.</em>
<a id="L790" name="L790"></a> 790                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L791" name="L791"></a> 791                 <em class="brace">}</em>
<a id="L792" name="L792"></a> 792             <em class="brace">}</em>
<a id="L793" name="L793"></a> 793 
<a id="L794" name="L794"></a> 794             <em class="comment">// We're adding a new logger.</em>
<a id="L795" name="L795"></a> 795             <em class="comment">// Note that we are creating a weak reference here.</em>
<a id="L796" name="L796"></a> 796             <strong class="reserved">final</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = <a href="../D/21291.html" title="Multiple defined in 12 places.">getOwner</a>();
<a id="L797" name="L797"></a> 797             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../S/1170.html#L412" title="Defined at 412 in src/java/util/logging/Logger.java.">setLogManager</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>);
<a id="L798" name="L798"></a> 798             <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<strong class="reserved">new</strong> <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>);
<a id="L799" name="L799"></a> 799             namedLoggers.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>);
<a id="L800" name="L800"></a> 800 
<a id="L801" name="L801"></a> 801             <em class="comment">// Apply any initial level defined for the new logger, unless</em>
<a id="L802" name="L802"></a> 802             <em class="comment">// the logger's level is already initialized</em>
<a id="L803" name="L803"></a> 803             <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> level = <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../S/1171.html#L1512" title="Defined at 1512 in src/java/util/logging/LogManager.java.">getLevelProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + ".level", <strong class="reserved">null</strong>);
<a id="L804" name="L804"></a> 804             <strong class="reserved">if</strong> (level != <strong class="reserved">null</strong> &amp;&amp; !<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../S/1170.html#L1695" title="Defined at 1695 in src/java/util/logging/Logger.java.">isLevelInitialized</a>()) <em class="brace">{</em>
<a id="L805" name="L805"></a> 805                 <a href="../S/1171.html#L1174" title="Defined at 1174 in src/java/util/logging/LogManager.java.">doSetLevel</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, level);
<a id="L806" name="L806"></a> 806             <em class="brace">}</em>
<a id="L807" name="L807"></a> 807 
<a id="L808" name="L808"></a> 808             <em class="comment">// instantiation of the handler is done in the LogManager.addLogger</em>
<a id="L809" name="L809"></a> 809             <em class="comment">// implementation as a handler class may be only visible to LogManager</em>
<a id="L810" name="L810"></a> 810             <em class="comment">// subclass for the custom log manager case</em>
<a id="L811" name="L811"></a> 811             <a href="../S/1171.html#L852" title="Defined at 852 in src/java/util/logging/LogManager.java.">processParentHandlers</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L812" name="L812"></a> 812 
<a id="L813" name="L813"></a> 813             <em class="comment">// Find the new node and its parent.</em>
<a id="L814" name="L814"></a> 814             <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/20970.html" title="Multiple defined in 26 places.">getNode</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L815" name="L815"></a> 815             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.loggerRef = <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<a id="L816" name="L816"></a> 816             <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <strong class="reserved">null</strong>;
<a id="L817" name="L817"></a> 817             <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> nodep = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L818" name="L818"></a> 818             <strong class="reserved">while</strong> (nodep != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L819" name="L819"></a> 819                 <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a> nodeRef = nodep.loggerRef;
<a id="L820" name="L820"></a> 820                 <strong class="reserved">if</strong> (nodeRef != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L821" name="L821"></a> 821                     <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = nodeRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L822" name="L822"></a> 822                     <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L823" name="L823"></a> 823                         <strong class="reserved">break</strong>;
<a id="L824" name="L824"></a> 824                     <em class="brace">}</em>
<a id="L825" name="L825"></a> 825                 <em class="brace">}</em>
<a id="L826" name="L826"></a> 826                 nodep = nodep.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L827" name="L827"></a> 827             <em class="brace">}</em>
<a id="L828" name="L828"></a> 828 
<a id="L829" name="L829"></a> 829             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L830" name="L830"></a> 830                 <a href="../D/15085.html" title="Multiple defined in 2 places.">doSetParent</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L831" name="L831"></a> 831             <em class="brace">}</em>
<a id="L832" name="L832"></a> 832             <em class="comment">// Walk over the children and tell them we are their new parent.</em>
<a id="L833" name="L833"></a> 833             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../S/1171.html#L1617" title="Defined at 1617 in src/java/util/logging/LogManager.java.">walkAndSetParent</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>);
<a id="L834" name="L834"></a> 834             <em class="comment">// new LogNode is ready so tell the LoggerWeakRef about it</em>
<a id="L835" name="L835"></a> 835             <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/33362.html" title="Multiple defined in 7 places.">setNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L836" name="L836"></a> 836             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L837" name="L837"></a> 837         <em class="brace">}</em>
<a id="L838" name="L838"></a> 838 
<a id="L839" name="L839"></a> 839         <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../S/1171.html#L1061" title="Referred from 1061 in src/java/util/logging/LogManager.java.">removeLoggerRef</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>) <em class="brace">{</em>
<a id="L840" name="L840"></a> 840             namedLoggers.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>);
<a id="L841" name="L841"></a> 841         <em class="brace">}</em>
<a id="L842" name="L842"></a> 842 
<a id="L843" name="L843"></a> 843         <strong class="reserved">synchronized</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/17473.html" title="Multiple referred from 4 places.">getLoggerNames</a>() <em class="brace">{</em>
<a id="L844" name="L844"></a> 844             <em class="comment">// ensure that this context is properly initialized before</em>
<a id="L845" name="L845"></a> 845             <em class="comment">// returning logger names.</em>
<a id="L846" name="L846"></a> 846             <a href="../D/15612.html" title="Multiple defined in 4 places.">ensureInitialized</a>();
<a id="L847" name="L847"></a> 847             <strong class="reserved">return</strong> namedLoggers.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L848" name="L848"></a> 848         <em class="brace">}</em>
<a id="L849" name="L849"></a> 849 
<a id="L850" name="L850"></a> 850         <em class="comment">// If logger.getUseParentHandlers() returns 'true' and any of the logger's</em>
<a id="L851" name="L851"></a> 851         <em class="comment">// parents have levels or handlers defined, make sure they are instantiated.</em>
<a id="L852" name="L852"></a> 852         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1171.html#L811" title="Referred from 811 in src/java/util/logging/LogManager.java.">processParentHandlers</a>(<strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L853" name="L853"></a> 853             <strong class="reserved">final</strong> <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a> = <a href="../D/21291.html" title="Multiple defined in 12 places.">getOwner</a>();
<a id="L854" name="L854"></a> 854             <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L855" name="L855"></a> 855                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L856" name="L856"></a> 856                 <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L857" name="L857"></a> 857                     <strong class="reserved">if</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> != <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.rootLogger) <em class="brace">{</em>
<a id="L858" name="L858"></a> 858                         <strong class="reserved">boolean</strong> useParent = <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../D/17290.html" title="Multiple defined in 4 places.">getBooleanProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + ".useParentHandlers", <strong class="reserved">true</strong>);
<a id="L859" name="L859"></a> 859                         <strong class="reserved">if</strong> (!useParent) <em class="brace">{</em>
<a id="L860" name="L860"></a> 860                             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../S/1170.html#L1797" title="Defined at 1797 in src/java/util/logging/Logger.java.">setUseParentHandlers</a>(<strong class="reserved">false</strong>);
<a id="L861" name="L861"></a> 861                         <em class="brace">}</em>
<a id="L862" name="L862"></a> 862                     <em class="brace">}</em>
<a id="L863" name="L863"></a> 863                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L864" name="L864"></a> 864                 <em class="brace">}</em>
<a id="L865" name="L865"></a> 865             <em class="brace">}</em>);
<a id="L866" name="L866"></a> 866 
<a id="L867" name="L867"></a> 867             <strong class="reserved">int</strong> <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> = 1;
<a id="L868" name="L868"></a> 868             <strong class="reserved">for</strong> (;;) <em class="brace">{</em>
<a id="L869" name="L869"></a> 869                 <strong class="reserved">int</strong> ix2 = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(".", <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a>);
<a id="L870" name="L870"></a> 870                 <strong class="reserved">if</strong> (ix2 &lt; 0) <em class="brace">{</em>
<a id="L871" name="L871"></a> 871                     <strong class="reserved">break</strong>;
<a id="L872" name="L872"></a> 872                 <em class="brace">}</em>
<a id="L873" name="L873"></a> 873                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pname = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, ix2);
<a id="L874" name="L874"></a> 874                 <strong class="reserved">if</strong> (<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(pname + ".level") != <strong class="reserved">null</strong> ||
<a id="L875" name="L875"></a> 875                     <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(pname + ".handlers") != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L876" name="L876"></a> 876                     <em class="comment">// This pname has a level/handlers definition.</em>
<a id="L877" name="L877"></a> 877                     <em class="comment">// Make sure it exists.</em>
<a id="L878" name="L878"></a> 878                     <a href="../D/14828.html" title="Multiple defined in 4 places.">demandLogger</a>(pname, <strong class="reserved">null</strong>);
<a id="L879" name="L879"></a> 879                 <em class="brace">}</em>
<a id="L880" name="L880"></a> 880                 <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> = ix2+1;
<a id="L881" name="L881"></a> 881             <em class="brace">}</em>
<a id="L882" name="L882"></a> 882         <em class="brace">}</em>
<a id="L883" name="L883"></a> 883 
<a id="L884" name="L884"></a> 884         <em class="comment">// Gets a node in our tree of logger nodes.</em>
<a id="L885" name="L885"></a> 885         <em class="comment">// If necessary, create it.</em>
<a id="L886" name="L886"></a> 886         <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> <a href="../R/17972.html" title="Multiple referred from 119 places.">getNode</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L887" name="L887"></a> 887             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong> || <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")) <em class="brace">{</em>
<a id="L888" name="L888"></a> 888                 <strong class="reserved">return</strong> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L889" name="L889"></a> 889             <em class="brace">}</em>
<a id="L890" name="L890"></a> 890             <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L891" name="L891"></a> 891             <strong class="reserved">while</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L892" name="L892"></a> 892                 <strong class="reserved">int</strong> <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(".");
<a id="L893" name="L893"></a> 893                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> head;
<a id="L894" name="L894"></a> 894                 <strong class="reserved">if</strong> (<a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> &gt; 0) <em class="brace">{</em>
<a id="L895" name="L895"></a> 895                     head = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a>);
<a id="L896" name="L896"></a> 896                     <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> + 1);
<a id="L897" name="L897"></a> 897                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L898" name="L898"></a> 898                     head = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L899" name="L899"></a> 899                     <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = "";
<a id="L900" name="L900"></a> 900                 <em class="brace">}</em>
<a id="L901" name="L901"></a> 901                 <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L902" name="L902"></a> 902                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L903" name="L903"></a> 903                 <em class="brace">}</em>
<a id="L904" name="L904"></a> 904                 <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> child = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(head);
<a id="L905" name="L905"></a> 905                 <strong class="reserved">if</strong> (child == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L906" name="L906"></a> 906                     child = <strong class="reserved">new</strong> <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">this</strong>);
<a id="L907" name="L907"></a> 907                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(head, child);
<a id="L908" name="L908"></a> 908                 <em class="brace">}</em>
<a id="L909" name="L909"></a> 909                 <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = child;
<a id="L910" name="L910"></a> 910             <em class="brace">}</em>
<a id="L911" name="L911"></a> 911             <strong class="reserved">return</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L912" name="L912"></a> 912         <em class="brace">}</em>
<a id="L913" name="L913"></a> 913     <em class="brace">}</em>
<a id="L914" name="L914"></a> 914 
<a id="L915" name="L915"></a> 915     <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1171.html#L164" title="Referred from 164 in src/java/util/logging/LogManager.java.">SystemLoggerContext</a> <strong class="reserved">extends</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> <em class="brace">{</em>
<a id="L916" name="L916"></a> 916         <em class="comment">// Add a system logger in the system context's namespace as well as</em>
<a id="L917" name="L917"></a> 917         <em class="comment">// in the LogManager's namespace if not exist so that there is only</em>
<a id="L918" name="L918"></a> 918         <em class="comment">// one single logger of the given name.  System loggers are visible</em>
<a id="L919" name="L919"></a> 919         <em class="comment">// to applications unless a logger of the same name has been added.</em>
<a id="L920" name="L920"></a> 920         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L921" name="L921"></a> 921         <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/13222.html" title="Multiple referred from 6 places.">demandLogger</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resourceBundleName) <em class="brace">{</em>
<a id="L922" name="L922"></a> 922             <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/1171.html#L689" title="Defined at 689 in src/java/util/logging/LogManager.java.">findLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L923" name="L923"></a> 923             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924                 <em class="comment">// only allocate the new system logger once</em>
<a id="L925" name="L925"></a> 925                 <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> newLogger = <strong class="reserved">new</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, resourceBundleName, <strong class="reserved">null</strong>, <a href="../D/21291.html" title="Multiple defined in 12 places.">getOwner</a>(), <strong class="reserved">true</strong>);
<a id="L926" name="L926"></a> 926                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L927" name="L927"></a> 927                     <strong class="reserved">if</strong> (<a href="../D/10912.html" title="Multiple defined in 2 places.">addLocalLogger</a>(newLogger)) <em class="brace">{</em>
<a id="L928" name="L928"></a> 928                         <em class="comment">// We successfully added the new Logger that we</em>
<a id="L929" name="L929"></a> 929                         <em class="comment">// created above so return it without refetching.</em>
<a id="L930" name="L930"></a> 930                         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = newLogger;
<a id="L931" name="L931"></a> 931                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L932" name="L932"></a> 932                         <em class="comment">// We didn't add the new Logger that we created above</em>
<a id="L933" name="L933"></a> 933                         <em class="comment">// because another thread added a Logger with the same</em>
<a id="L934" name="L934"></a> 934                         <em class="comment">// name after our null check above and before our call</em>
<a id="L935" name="L935"></a> 935                         <em class="comment">// to addLogger(). We have to refetch the Logger because</em>
<a id="L936" name="L936"></a> 936                         <em class="comment">// addLogger() returns a boolean instead of the Logger</em>
<a id="L937" name="L937"></a> 937                         <em class="comment">// reference itself. However, if the thread that created</em>
<a id="L938" name="L938"></a> 938                         <em class="comment">// the other Logger is not holding a strong reference to</em>
<a id="L939" name="L939"></a> 939                         <em class="comment">// the other Logger, then it is possible for the other</em>
<a id="L940" name="L940"></a> 940                         <em class="comment">// Logger to be GC'ed after we saw it in addLogger() and</em>
<a id="L941" name="L941"></a> 941                         <em class="comment">// before we can refetch it. If it has been GC'ed then</em>
<a id="L942" name="L942"></a> 942                         <em class="comment">// we'll just loop around and try again.</em>
<a id="L943" name="L943"></a> 943                         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/1171.html#L689" title="Defined at 689 in src/java/util/logging/LogManager.java.">findLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L944" name="L944"></a> 944                     <em class="brace">}</em>
<a id="L945" name="L945"></a> 945                 <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>);
<a id="L946" name="L946"></a> 946             <em class="brace">}</em>
<a id="L947" name="L947"></a> 947             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L948" name="L948"></a> 948         <em class="brace">}</em>
<a id="L949" name="L949"></a> 949     <em class="brace">}</em>
<a id="L950" name="L950"></a> 950 
<a id="L951" name="L951"></a> 951     <em class="comment">// Add new per logger handlers.</em>
<a id="L952" name="L952"></a> 952     <em class="comment">// We need to raise privilege here. All our decisions will</em>
<a id="L953" name="L953"></a> 953     <em class="comment">// be made based on the logging configuration, which can</em>
<a id="L954" name="L954"></a> 954     <em class="comment">// only be modified by trusted code.</em>
<a id="L955" name="L955"></a> 955     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/22603.html" title="Multiple referred from 2 places.">loadLoggerHandlers</a>(<strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L956" name="L956"></a> 956                                     <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> handlersPropertyName)
<a id="L957" name="L957"></a> 957     <em class="brace">{</em>
<a id="L958" name="L958"></a> 958         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;() <em class="brace">{</em>
<a id="L959" name="L959"></a> 959             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L960" name="L960"></a> 960             <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L961" name="L961"></a> 961                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> names[] = <a href="../S/1171.html#L1361" title="Defined at 1361 in src/java/util/logging/LogManager.java.">parseClassNames</a>(handlersPropertyName);
<a id="L962" name="L962"></a> 962                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; names.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L963" name="L963"></a> 963                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> word = names[i];
<a id="L964" name="L964"></a> 964                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L965" name="L965"></a> 965                         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>().<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(word);
<a id="L966" name="L966"></a> 966                         <a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a> hdl = (<a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a>) clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L967" name="L967"></a> 967                         <em class="comment">// Check if there is a property defining the</em>
<a id="L968" name="L968"></a> 968                         <em class="comment">// this handler's level.</em>
<a id="L969" name="L969"></a> 969                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> levs = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(word + ".level");
<a id="L970" name="L970"></a> 970                         <strong class="reserved">if</strong> (levs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L971" name="L971"></a> 971                             <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> l = <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.<a href="../S/1180.html#L343" title="Defined at 343 in src/java/util/logging/Level.java.">findLevel</a>(levs);
<a id="L972" name="L972"></a> 972                             <strong class="reserved">if</strong> (l != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L973" name="L973"></a> 973                                 hdl.<a href="../D/33080.html" title="Multiple defined in 6 places.">setLevel</a>(l);
<a id="L974" name="L974"></a> 974                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L975" name="L975"></a> 975                                 <em class="comment">// Probably a bad level. Drop through.</em>
<a id="L976" name="L976"></a> 976                                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Can't set level for " + word);
<a id="L977" name="L977"></a> 977                             <em class="brace">}</em>
<a id="L978" name="L978"></a> 978                         <em class="brace">}</em>
<a id="L979" name="L979"></a> 979                         <em class="comment">// Add this Handler to the logger</em>
<a id="L980" name="L980"></a> 980                         <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/10833.html" title="Multiple defined in 2 places.">addHandler</a>(hdl);
<a id="L981" name="L981"></a> 981                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L982" name="L982"></a> 982                         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Can't load log handler \"" + word + "\"");
<a id="L983" name="L983"></a> 983                         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("" + <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L984" name="L984"></a> 984                         <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L985" name="L985"></a> 985                     <em class="brace">}</em>
<a id="L986" name="L986"></a> 986                 <em class="brace">}</em>
<a id="L987" name="L987"></a> 987                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L988" name="L988"></a> 988             <em class="brace">}</em>
<a id="L989" name="L989"></a> 989         <em class="brace">}</em>);
<a id="L990" name="L990"></a> 990     <em class="brace">}</em>
<a id="L991" name="L991"></a> 991 
<a id="L992" name="L992"></a> 992 
<a id="L993" name="L993"></a> 993     <em class="comment">// loggerRefQueue holds LoggerWeakRef objects for Logger objects</em>
<a id="L994" name="L994"></a> 994     <em class="comment">// that have been GC'ed.</em>
<a id="L995" name="L995"></a> 995     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>&gt; loggerRefQueue
<a id="L996" name="L996"></a> 996         = <strong class="reserved">new</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;&gt;();
<a id="L997" name="L997"></a> 997 
<a id="L998" name="L998"></a> 998     <em class="comment">// Package-level inner class.</em>
<a id="L999" name="L999"></a> 999     <em class="comment">// Helper class for managing WeakReferences to Logger objects.</em>
<a id="L1000" name="L1000"></a>1000     <em class="comment">//</em>
<a id="L1001" name="L1001"></a>1001     <em class="comment">// LogManager.namedLoggers</em>
<a id="L1002" name="L1002"></a>1002     <em class="comment">//     - has weak references to all named Loggers</em>
<a id="L1003" name="L1003"></a>1003     <em class="comment">//     - namedLoggers keeps the LoggerWeakRef objects for the named</em>
<a id="L1004" name="L1004"></a>1004     <em class="comment">//       Loggers around until we can deal with the book keeping for</em>
<a id="L1005" name="L1005"></a>1005     <em class="comment">//       the named Logger that is being GC'ed.</em>
<a id="L1006" name="L1006"></a>1006     <em class="comment">// LogManager.LogNode.loggerRef</em>
<a id="L1007" name="L1007"></a>1007     <em class="comment">//     - has a weak reference to a named Logger</em>
<a id="L1008" name="L1008"></a>1008     <em class="comment">//     - the LogNode will also keep the LoggerWeakRef objects for</em>
<a id="L1009" name="L1009"></a>1009     <em class="comment">//       the named Loggers around; currently LogNodes never go away.</em>
<a id="L1010" name="L1010"></a>1010     <em class="comment">// Logger.kids</em>
<a id="L1011" name="L1011"></a>1011     <em class="comment">//     - has a weak reference to each direct child Logger; this</em>
<a id="L1012" name="L1012"></a>1012     <em class="comment">//       includes anonymous and named Loggers</em>
<a id="L1013" name="L1013"></a>1013     <em class="comment">//     - anonymous Loggers are always children of the rootLogger</em>
<a id="L1014" name="L1014"></a>1014     <em class="comment">//       which is a strong reference; rootLogger.kids keeps the</em>
<a id="L1015" name="L1015"></a>1015     <em class="comment">//       LoggerWeakRef objects for the anonymous Loggers around</em>
<a id="L1016" name="L1016"></a>1016     <em class="comment">//       until we can deal with the book keeping.</em>
<a id="L1017" name="L1017"></a>1017     <em class="comment">//</em>
<a id="L1018" name="L1018"></a>1018     <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/4743.html" title="Multiple referred from 17 places.">LoggerWeakRef</a> <strong class="reserved">extends</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>&gt; <em class="brace">{</em>
<a id="L1019" name="L1019"></a>1019         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>                <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;       <em class="comment">// for namedLoggers cleanup</em>
<a id="L1020" name="L1020"></a>1020         <strong class="reserved">private</strong> <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a>               <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;       <em class="comment">// for loggerRef cleanup</em>
<a id="L1021" name="L1021"></a>1021         <strong class="reserved">private</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>&gt; parentRef;  <em class="comment">// for kids cleanup</em>
<a id="L1022" name="L1022"></a>1022         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> disposed = <strong class="reserved">false</strong>;         <em class="comment">// avoid calling dispose twice</em>
<a id="L1023" name="L1023"></a>1023 
<a id="L1024" name="L1024"></a>1024         LoggerWeakRef(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>) <em class="brace">{</em>
<a id="L1025" name="L1025"></a>1025             <strong class="reserved">super</strong>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, loggerRefQueue);
<a id="L1026" name="L1026"></a>1026 
<a id="L1027" name="L1027"></a>1027             <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();  <em class="comment">// save for namedLoggers cleanup</em>
<a id="L1028" name="L1028"></a>1028         <em class="brace">}</em>
<a id="L1029" name="L1029"></a>1029 
<a id="L1030" name="L1030"></a>1030         <em class="comment">// dispose of this LoggerWeakRef object</em>
<a id="L1031" name="L1031"></a>1031         <strong class="reserved">void</strong> <a href="../R/13337.html" title="Multiple referred from 363 places.">dispose</a>() <em class="brace">{</em>
<a id="L1032" name="L1032"></a>1032             <em class="comment">// Avoid calling dispose twice. When a Logger is gc'ed, its</em>
<a id="L1033" name="L1033"></a>1033             <em class="comment">// LoggerWeakRef will be enqueued.</em>
<a id="L1034" name="L1034"></a>1034             <em class="comment">// However, a new logger of the same name may be added (or looked</em>
<a id="L1035" name="L1035"></a>1035             <em class="comment">// up) before the queue is drained. When that happens, dispose()</em>
<a id="L1036" name="L1036"></a>1036             <em class="comment">// will be called by addLocalLogger() or findLogger().</em>
<a id="L1037" name="L1037"></a>1037             <em class="comment">// Later when the queue is drained, dispose() will be called again</em>
<a id="L1038" name="L1038"></a>1038             <em class="comment">// for the same LoggerWeakRef. Marking LoggerWeakRef as disposed</em>
<a id="L1039" name="L1039"></a>1039             <em class="comment">// avoids processing the data twice (even though the code should</em>
<a id="L1040" name="L1040"></a>1040             <em class="comment">// now be reentrant).</em>
<a id="L1041" name="L1041"></a>1041             <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1042" name="L1042"></a>1042                 <em class="comment">// Note to maintainers:</em>
<a id="L1043" name="L1043"></a>1043                 <em class="comment">// Be careful not to call any method that tries to acquire</em>
<a id="L1044" name="L1044"></a>1044                 <em class="comment">// another lock from within this block - as this would surely</em>
<a id="L1045" name="L1045"></a>1045                 <em class="comment">// lead to deadlocks, given that dispose() can be called by</em>
<a id="L1046" name="L1046"></a>1046                 <em class="comment">// multiple threads, and from within different synchronized</em>
<a id="L1047" name="L1047"></a>1047                 <em class="comment">// methods/blocks.</em>
<a id="L1048" name="L1048"></a>1048                 <strong class="reserved">if</strong> (disposed) <strong class="reserved">return</strong>;
<a id="L1049" name="L1049"></a>1049                 disposed = <strong class="reserved">true</strong>;
<a id="L1050" name="L1050"></a>1050             <em class="brace">}</em>
<a id="L1051" name="L1051"></a>1051 
<a id="L1052" name="L1052"></a>1052             <strong class="reserved">final</strong> <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> n = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1053" name="L1053"></a>1053             <strong class="reserved">if</strong> (n != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1054" name="L1054"></a>1054                 <em class="comment">// n.loggerRef can only be safely modified from within</em>
<a id="L1055" name="L1055"></a>1055                 <em class="comment">// a lock on LoggerContext. removeLoggerRef is already</em>
<a id="L1056" name="L1056"></a>1056                 <em class="comment">// synchronized on LoggerContext so calling</em>
<a id="L1057" name="L1057"></a>1057                 <em class="comment">// n.context.removeLoggerRef from within this lock is safe.</em>
<a id="L1058" name="L1058"></a>1058                 <strong class="reserved">synchronized</strong> (n.<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1059" name="L1059"></a>1059                     <em class="comment">// if we have a LogNode, then we were a named Logger</em>
<a id="L1060" name="L1060"></a>1060                     <em class="comment">// so clear namedLoggers weak ref to us</em>
<a id="L1061" name="L1061"></a>1061                     n.<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../S/1171.html#L839" title="Defined at 839 in src/java/util/logging/LogManager.java.">removeLoggerRef</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">this</strong>);
<a id="L1062" name="L1062"></a>1062                     <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <strong class="reserved">null</strong>;  <em class="comment">// clear our ref to the Logger's name</em>
<a id="L1063" name="L1063"></a>1063 
<a id="L1064" name="L1064"></a>1064                     <em class="comment">// LogNode may have been reused - so only clear</em>
<a id="L1065" name="L1065"></a>1065                     <em class="comment">// LogNode.loggerRef if LogNode.loggerRef == this</em>
<a id="L1066" name="L1066"></a>1066                     <strong class="reserved">if</strong> (n.loggerRef == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1067" name="L1067"></a>1067                         n.loggerRef = <strong class="reserved">null</strong>;  <em class="comment">// clear LogNode's weak ref to us</em>
<a id="L1068" name="L1068"></a>1068                     <em class="brace">}</em>
<a id="L1069" name="L1069"></a>1069                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <strong class="reserved">null</strong>;            <em class="comment">// clear our ref to LogNode</em>
<a id="L1070" name="L1070"></a>1070                 <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071             <em class="brace">}</em>
<a id="L1072" name="L1072"></a>1072 
<a id="L1073" name="L1073"></a>1073             <strong class="reserved">if</strong> (parentRef != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1074" name="L1074"></a>1074                 <em class="comment">// this LoggerWeakRef has or had a parent Logger</em>
<a id="L1075" name="L1075"></a>1075                 <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = parentRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1076" name="L1076"></a>1076                 <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1077" name="L1077"></a>1077                     <em class="comment">// the parent Logger is still there so clear the</em>
<a id="L1078" name="L1078"></a>1078                     <em class="comment">// parent Logger's weak ref to us</em>
<a id="L1079" name="L1079"></a>1079                     <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../S/1170.html#L2089" title="Defined at 2089 in src/java/util/logging/Logger.java.">removeChildLogger</a>(<strong class="reserved">this</strong>);
<a id="L1080" name="L1080"></a>1080                 <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081                 parentRef = <strong class="reserved">null</strong>;  <em class="comment">// clear our weak ref to the parent Logger</em>
<a id="L1082" name="L1082"></a>1082             <em class="brace">}</em>
<a id="L1083" name="L1083"></a>1083         <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084 
<a id="L1085" name="L1085"></a>1085         <em class="comment">// set the node field to the specified value</em>
<a id="L1086" name="L1086"></a>1086         <strong class="reserved">void</strong> <a href="../R/27821.html" title="Multiple referred from 12 places.">setNode</a>(<a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1087" name="L1087"></a>1087             <strong class="reserved">this</strong>.<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1088" name="L1088"></a>1088         <em class="brace">}</em>
<a id="L1089" name="L1089"></a>1089 
<a id="L1090" name="L1090"></a>1090         <em class="comment">// set the parentRef field to the specified value</em>
<a id="L1091" name="L1091"></a>1091         <strong class="reserved">void</strong> <a href="../S/1170.html#L2076" title="Referred from 2076 in src/java/util/logging/Logger.java.">setParentRef</a>(<a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>&gt; parentRef) <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092             <strong class="reserved">this</strong>.parentRef = parentRef;
<a id="L1093" name="L1093"></a>1093         <em class="brace">}</em>
<a id="L1094" name="L1094"></a>1094     <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095 
<a id="L1096" name="L1096"></a>1096     <em class="comment">// Package-level method.</em>
<a id="L1097" name="L1097"></a>1097     <em class="comment">// Drain some Logger objects that have been GC'ed.</em>
<a id="L1098" name="L1098"></a>1098     <em class="comment">//</em>
<a id="L1099" name="L1099"></a>1099     <em class="comment">// drainLoggerRefQueueBounded() is called by addLogger() below</em>
<a id="L1100" name="L1100"></a>1100     <em class="comment">// and by Logger.getAnonymousLogger(String) so we'll drain up to</em>
<a id="L1101" name="L1101"></a>1101     <em class="comment">// MAX_ITERATIONS GC'ed Loggers for every Logger we add.</em>
<a id="L1102" name="L1102"></a>1102     <em class="comment">//</em>
<a id="L1103" name="L1103"></a>1103     <em class="comment">// On a WinXP VMware client, a MAX_ITERATIONS value of 400 gives</em>
<a id="L1104" name="L1104"></a>1104     <em class="comment">// us about a 50/50 mix in increased weak ref counts versus</em>
<a id="L1105" name="L1105"></a>1105     <em class="comment">// decreased weak ref counts in the AnonLoggerWeakRefLeak test.</em>
<a id="L1106" name="L1106"></a>1106     <em class="comment">// Here are stats for cleaning up sets of 400 anonymous Loggers:</em>
<a id="L1107" name="L1107"></a>1107     <em class="comment">//   - test duration 1 minute</em>
<a id="L1108" name="L1108"></a>1108     <em class="comment">//   - sample size of 125 sets of 400</em>
<a id="L1109" name="L1109"></a>1109     <em class="comment">//   - average: 1.99 ms</em>
<a id="L1110" name="L1110"></a>1110     <em class="comment">//   - minimum: 0.57 ms</em>
<a id="L1111" name="L1111"></a>1111     <em class="comment">//   - maximum: 25.3 ms</em>
<a id="L1112" name="L1112"></a>1112     <em class="comment">//</em>
<a id="L1113" name="L1113"></a>1113     <em class="comment">// The same config gives us a better decreased weak ref count</em>
<a id="L1114" name="L1114"></a>1114     <em class="comment">// than increased weak ref count in the LoggerWeakRefLeak test.</em>
<a id="L1115" name="L1115"></a>1115     <em class="comment">// Here are stats for cleaning up sets of 400 named Loggers:</em>
<a id="L1116" name="L1116"></a>1116     <em class="comment">//   - test duration 2 minutes</em>
<a id="L1117" name="L1117"></a>1117     <em class="comment">//   - sample size of 506 sets of 400</em>
<a id="L1118" name="L1118"></a>1118     <em class="comment">//   - average: 0.57 ms</em>
<a id="L1119" name="L1119"></a>1119     <em class="comment">//   - minimum: 0.02 ms</em>
<a id="L1120" name="L1120"></a>1120     <em class="comment">//   - maximum: 10.9 ms</em>
<a id="L1121" name="L1121"></a>1121     <em class="comment">//</em>
<a id="L1122" name="L1122"></a>1122     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> MAX_ITERATIONS = 400;
<a id="L1123" name="L1123"></a>1123     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/13513.html" title="Multiple referred from 2 places.">drainLoggerRefQueueBounded</a>() <em class="brace">{</em>
<a id="L1124" name="L1124"></a>1124         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; MAX_ITERATIONS; i++) <em class="brace">{</em>
<a id="L1125" name="L1125"></a>1125             <strong class="reserved">if</strong> (loggerRefQueue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1126" name="L1126"></a>1126                 <em class="comment">// haven't finished loading LogManager yet</em>
<a id="L1127" name="L1127"></a>1127                 <strong class="reserved">break</strong>;
<a id="L1128" name="L1128"></a>1128             <em class="brace">}</em>
<a id="L1129" name="L1129"></a>1129 
<a id="L1130" name="L1130"></a>1130             <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = (<a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a>) loggerRefQueue.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>();
<a id="L1131" name="L1131"></a>1131             <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132                 <strong class="reserved">break</strong>;
<a id="L1133" name="L1133"></a>1133             <em class="brace">}</em>
<a id="L1134" name="L1134"></a>1134             <em class="comment">// a Logger object has been GC'ed so clean it up</em>
<a id="L1135" name="L1135"></a>1135             <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L1136" name="L1136"></a>1136         <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137     <em class="brace">}</em>
<a id="L1138" name="L1138"></a>1138 
<div class="comment">
      Add a named logger.  This does nothing and returns false if a logger
      with the same name is already registered.
      <p>
      The Logger factory methods call this method to register each
      newly created Logger.
      </p><p>
      The application should retain its own reference to the Logger
      object to avoid it being garbage collected.  The LogManager
      may only retain a weak reference.
      @param   logger the new logger.
      @return  true if the argument logger was registered successfully,
               false if a logger of that name already exists.
      @exception NullPointerException if the logger name is null.</p></div>
<a id="L1155" name="L1155"></a>1155     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9835.html" title="Multiple referred from 4 places.">addLogger</a>(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>) <em class="brace">{</em>
<a id="L1156" name="L1156"></a>1156         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L1157" name="L1157"></a>1157         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1158" name="L1158"></a>1158             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1159" name="L1159"></a>1159         <em class="brace">}</em>
<a id="L1160" name="L1160"></a>1160         <a href="../S/1171.html#L1123" title="Defined at 1123 in src/java/util/logging/LogManager.java.">drainLoggerRefQueueBounded</a>();
<a id="L1161" name="L1161"></a>1161         <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> cx = <a href="../S/1171.html#L498" title="Defined at 498 in src/java/util/logging/LogManager.java.">getUserContext</a>();
<a id="L1162" name="L1162"></a>1162         <strong class="reserved">if</strong> (cx.<a href="../D/10912.html" title="Multiple defined in 2 places.">addLocalLogger</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>)) <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163             <em class="comment">// Do we have a per logger handler too?</em>
<a id="L1164" name="L1164"></a>1164             <em class="comment">// Note: this will add a 200ms penalty</em>
<a id="L1165" name="L1165"></a>1165             <a href="../S/1171.html#L955" title="Defined at 955 in src/java/util/logging/LogManager.java.">loadLoggerHandlers</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + ".handlers");
<a id="L1166" name="L1166"></a>1166             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1167" name="L1167"></a>1167         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1168" name="L1168"></a>1168             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1169" name="L1169"></a>1169         <em class="brace">}</em>
<a id="L1170" name="L1170"></a>1170     <em class="brace">}</em>
<a id="L1171" name="L1171"></a>1171 
<a id="L1172" name="L1172"></a>1172     <em class="comment">// Private method to set a level on a logger.</em>
<a id="L1173" name="L1173"></a>1173     <em class="comment">// If necessary, we raise privilege before doing the call.</em>
<a id="L1174" name="L1174"></a>1174     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1171.html#L805" title="Referred from 805 in src/java/util/logging/LogManager.java.">doSetLevel</a>(<strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <strong class="reserved">final</strong> <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> level) <em class="brace">{</em>
<a id="L1175" name="L1175"></a>1175         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1176" name="L1176"></a>1176         <strong class="reserved">if</strong> (sm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1177" name="L1177"></a>1177             <em class="comment">// There is no security manager, so things are easy.</em>
<a id="L1178" name="L1178"></a>1178             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/33080.html" title="Multiple defined in 6 places.">setLevel</a>(level);
<a id="L1179" name="L1179"></a>1179             <strong class="reserved">return</strong>;
<a id="L1180" name="L1180"></a>1180         <em class="brace">}</em>
<a id="L1181" name="L1181"></a>1181         <em class="comment">// There is a security manager.  Raise privilege before</em>
<a id="L1182" name="L1182"></a>1182         <em class="comment">// calling setLevel.</em>
<a id="L1183" name="L1183"></a>1183         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;() <em class="brace">{</em>
<a id="L1184" name="L1184"></a>1184             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1185" name="L1185"></a>1185             <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1186" name="L1186"></a>1186                 <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/33080.html" title="Multiple defined in 6 places.">setLevel</a>(level);
<a id="L1187" name="L1187"></a>1187                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1188" name="L1188"></a>1188             <em class="brace">}</em><em class="brace">}</em>);
<a id="L1189" name="L1189"></a>1189     <em class="brace">}</em>
<a id="L1190" name="L1190"></a>1190 
<a id="L1191" name="L1191"></a>1191     <em class="comment">// Private method to set a parent on a logger.</em>
<a id="L1192" name="L1192"></a>1192     <em class="comment">// If necessary, we raise privilege before doing the setParent call.</em>
<a id="L1193" name="L1193"></a>1193     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/13445.html" title="Multiple referred from 4 places.">doSetParent</a>(<strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <strong class="reserved">final</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1194" name="L1194"></a>1194         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1195" name="L1195"></a>1195         <strong class="reserved">if</strong> (sm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1196" name="L1196"></a>1196             <em class="comment">// There is no security manager, so things are easy.</em>
<a id="L1197" name="L1197"></a>1197             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L1198" name="L1198"></a>1198             <strong class="reserved">return</strong>;
<a id="L1199" name="L1199"></a>1199         <em class="brace">}</em>
<a id="L1200" name="L1200"></a>1200         <em class="comment">// There is a security manager.  Raise privilege before</em>
<a id="L1201" name="L1201"></a>1201         <em class="comment">// calling setParent.</em>
<a id="L1202" name="L1202"></a>1202         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;() <em class="brace">{</em>
<a id="L1203" name="L1203"></a>1203             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1204" name="L1204"></a>1204             <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1205" name="L1205"></a>1205                 <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L1206" name="L1206"></a>1206                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1207" name="L1207"></a>1207             <em class="brace">}</em><em class="brace">}</em>);
<a id="L1208" name="L1208"></a>1208     <em class="brace">}</em>
<a id="L1209" name="L1209"></a>1209 
<div class="comment">
      Method to find a named logger.
      <p>
      Note that since untrusted code may create loggers with
      arbitrary names this method should not be relied on to
      find Loggers for security sensitive logging.
      It is also important to note that the Logger associated with the
      String <code>name</code> may be garbage collected at any time if there
      is no strong reference to the Logger. The caller of this method
      must check the return value for null in order to properly handle
      the case where the Logger has been garbage collected.
      </p><p>
      @param name name of the logger
      @return  matching logger or null if none is found</p></div>
<a id="L1225" name="L1225"></a>1225     <strong class="reserved">public</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../R/17470.html" title="Multiple referred from 119 places.">getLogger</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1226" name="L1226"></a>1226         <strong class="reserved">return</strong> <a href="../S/1171.html#L498" title="Defined at 498 in src/java/util/logging/LogManager.java.">getUserContext</a>().<a href="../S/1171.html#L689" title="Defined at 689 in src/java/util/logging/LogManager.java.">findLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1227" name="L1227"></a>1227     <em class="brace">}</em>
<a id="L1228" name="L1228"></a>1228 
<div class="comment">
      Get an enumeration of known logger names.
      <p>
      Note:  Loggers may be added dynamically as new classes are loaded.
      This method only reports on the loggers that are currently registered.
      It is also important to note that this method only returns the name
      of a Logger, not a strong reference to the Logger itself.
      The returned String does nothing to prevent the Logger from being
      garbage collected. In particular, if the returned name is passed
      to <code>LogManager.getLogger()</code>, then the caller must check the
      return value from <code>LogManager.getLogger()</code> for null to properly
      handle the case where the Logger has been garbage collected in the
      time since its name was returned by this method.
      </p><p>
      @return  enumeration of logger name strings</p></div>
<a id="L1245" name="L1245"></a>1245     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/17473.html" title="Multiple referred from 4 places.">getLoggerNames</a>() <em class="brace">{</em>
<a id="L1246" name="L1246"></a>1246         <strong class="reserved">return</strong> <a href="../S/1171.html#L498" title="Defined at 498 in src/java/util/logging/LogManager.java.">getUserContext</a>().<a href="../D/20271.html" title="Multiple defined in 6 places.">getLoggerNames</a>();
<a id="L1247" name="L1247"></a>1247     <em class="brace">}</em>
<a id="L1248" name="L1248"></a>1248 
<div class="comment">
      Reinitialize the logging properties and reread the logging configuration.
      <p>
      The same rules are used for locating the configuration properties
      as are used at startup.  So normally the logging properties will
      be re-read from the same file that was used at startup.
      </p><p>
      Any log level definitions in the new configuration file will be
      applied using Logger.setLevel(), if the target Logger exists.
      </p><p>
      A PropertyChangeEvent will be fired after the properties are read.
      @exception  SecurityException  if a security manager exists and if
                  the caller does not have LoggingPermission("control").
      @exception  IOException if there are IO problems reading the configuration.</p></div>
<a id="L1265" name="L1265"></a>1265     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25451.html" title="Multiple referred from 2 places.">readConfiguration</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L1266" name="L1266"></a>1266         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>();
<a id="L1267" name="L1267"></a>1267 
<a id="L1268" name="L1268"></a>1268         <em class="comment">// if a configuration class is specified, load it and use it.</em>
<a id="L1269" name="L1269"></a>1269         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cname = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.util.logging.config.class");
<a id="L1270" name="L1270"></a>1270         <strong class="reserved">if</strong> (cname != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1271" name="L1271"></a>1271             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1272" name="L1272"></a>1272                 <em class="comment">// Instantiate the named class.  It is its constructor's</em>
<a id="L1273" name="L1273"></a>1273                 <em class="comment">// responsibility to initialize the logging configuration, by</em>
<a id="L1274" name="L1274"></a>1274                 <em class="comment">// calling readConfiguration(InputStream) with a suitable stream.</em>
<a id="L1275" name="L1275"></a>1275                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1276" name="L1276"></a>1276                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>().<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(cname);
<a id="L1277" name="L1277"></a>1277                     clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1278" name="L1278"></a>1278                     <strong class="reserved">return</strong>;
<a id="L1279" name="L1279"></a>1279                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1280" name="L1280"></a>1280                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/17977.html" title="Multiple defined in 21 places.">getContextClassLoader</a>().<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(cname);
<a id="L1281" name="L1281"></a>1281                     clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1282" name="L1282"></a>1282                     <strong class="reserved">return</strong>;
<a id="L1283" name="L1283"></a>1283                 <em class="brace">}</em>
<a id="L1284" name="L1284"></a>1284             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1285" name="L1285"></a>1285                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Logging configuration class \"" + cname + "\" failed");
<a id="L1286" name="L1286"></a>1286                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("" + <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1287" name="L1287"></a>1287                 <em class="comment">// keep going and useful config file.</em>
<a id="L1288" name="L1288"></a>1288             <em class="brace">}</em>
<a id="L1289" name="L1289"></a>1289         <em class="brace">}</em>
<a id="L1290" name="L1290"></a>1290 
<a id="L1291" name="L1291"></a>1291         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fname = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.util.logging.config.file");
<a id="L1292" name="L1292"></a>1292         <strong class="reserved">if</strong> (fname == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1293" name="L1293"></a>1293             fname = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.home");
<a id="L1294" name="L1294"></a>1294             <strong class="reserved">if</strong> (fname == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1295" name="L1295"></a>1295                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Can't find java.home ??");
<a id="L1296" name="L1296"></a>1296             <em class="brace">}</em>
<a id="L1297" name="L1297"></a>1297             <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(fname, "lib");
<a id="L1298" name="L1298"></a>1298             f = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(f, "logging.properties");
<a id="L1299" name="L1299"></a>1299             fname = f.<a href="../S/1433.html#L614" title="Defined at 614 in src/java/io/File.java.">getCanonicalPath</a>();
<a id="L1300" name="L1300"></a>1300         <em class="brace">}</em>
<a id="L1301" name="L1301"></a>1301         <strong class="reserved">try</strong> (<strong class="reserved">final</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">new</strong> <a href="../S/1386.html#L49" title="Defined at 49 in src/java/io/FileInputStream.java.">FileInputStream</a>(fname)) <em class="brace">{</em>
<a id="L1302" name="L1302"></a>1302             <strong class="reserved">final</strong> <a href="../S/1411.html#L51" title="Defined at 51 in src/java/io/BufferedInputStream.java.">BufferedInputStream</a> bin = <strong class="reserved">new</strong> <a href="../S/1411.html#L51" title="Defined at 51 in src/java/io/BufferedInputStream.java.">BufferedInputStream</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>);
<a id="L1303" name="L1303"></a>1303             <a href="../D/30158.html" title="Multiple defined in 2 places.">readConfiguration</a>(bin);
<a id="L1304" name="L1304"></a>1304         <em class="brace">}</em>
<a id="L1305" name="L1305"></a>1305     <em class="brace">}</em>
<a id="L1306" name="L1306"></a>1306 
<div class="comment">
      Reset the logging configuration.
      <p>
      For all named loggers, the reset operation removes and closes
      all Handlers and (except for the root logger) sets the level
      to null.  The root logger's level is set to Level.INFO.
      @exception  SecurityException  if a security manager exists and if
                  the caller does not have LoggingPermission("control").</p></div>
<a id="L1317" name="L1317"></a>1317 
<a id="L1318" name="L1318"></a>1318     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>() <strong class="reserved">throws</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L1319" name="L1319"></a>1319         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>();
<a id="L1320" name="L1320"></a>1320         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1321" name="L1321"></a>1321             props = <strong class="reserved">new</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a>();
<a id="L1322" name="L1322"></a>1322             <em class="comment">// Since we are doing a reset we no longer want to initialize</em>
<a id="L1323" name="L1323"></a>1323             <em class="comment">// the global handlers, if they haven't been initialized yet.</em>
<a id="L1324" name="L1324"></a>1324             initializedGlobalHandlers = <strong class="reserved">true</strong>;
<a id="L1325" name="L1325"></a>1325         <em class="brace">}</em>
<a id="L1326" name="L1326"></a>1326         <strong class="reserved">for</strong> (<a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> cx : <a href="../D/13381.html" title="Multiple defined in 7 places.">contexts</a>()) <em class="brace">{</em>
<a id="L1327" name="L1327"></a>1327             <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; enum_ = cx.<a href="../D/20271.html" title="Multiple defined in 6 places.">getLoggerNames</a>();
<a id="L1328" name="L1328"></a>1328             <strong class="reserved">while</strong> (enum_.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L1329" name="L1329"></a>1329                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = enum_.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L1330" name="L1330"></a>1330                 <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = cx.<a href="../S/1171.html#L689" title="Defined at 689 in src/java/util/logging/LogManager.java.">findLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1331" name="L1331"></a>1331                 <strong class="reserved">if</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1332" name="L1332"></a>1332                     <a href="../S/1171.html#L1339" title="Defined at 1339 in src/java/util/logging/LogManager.java.">resetLogger</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>);
<a id="L1333" name="L1333"></a>1333                 <em class="brace">}</em>
<a id="L1334" name="L1334"></a>1334             <em class="brace">}</em>
<a id="L1335" name="L1335"></a>1335         <em class="brace">}</em>
<a id="L1336" name="L1336"></a>1336     <em class="brace">}</em>
<a id="L1337" name="L1337"></a>1337 
<a id="L1338" name="L1338"></a>1338     <em class="comment">// Private method to reset an individual target logger.</em>
<a id="L1339" name="L1339"></a>1339     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1171.html#L1332" title="Referred from 1332 in src/java/util/logging/LogManager.java.">resetLogger</a>(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>) <em class="brace">{</em>
<a id="L1340" name="L1340"></a>1340         <em class="comment">// Close all the Logger's handlers.</em>
<a id="L1341" name="L1341"></a>1341         <a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a>[] targets = <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/19414.html" title="Multiple defined in 3 places.">getHandlers</a>();
<a id="L1342" name="L1342"></a>1342         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; targets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1343" name="L1343"></a>1343             <a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a> h = targets[i];
<a id="L1344" name="L1344"></a>1344             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/30809.html" title="Multiple defined in 2 places.">removeHandler</a>(h);
<a id="L1345" name="L1345"></a>1345             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1346" name="L1346"></a>1346                 h.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L1347" name="L1347"></a>1347             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1348" name="L1348"></a>1348                 <em class="comment">// Problems closing a handler?  Keep going...</em>
<a id="L1349" name="L1349"></a>1349             <em class="brace">}</em>
<a id="L1350" name="L1350"></a>1350         <em class="brace">}</em>
<a id="L1351" name="L1351"></a>1351         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L1352" name="L1352"></a>1352         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")) <em class="brace">{</em>
<a id="L1353" name="L1353"></a>1353             <em class="comment">// This is the root logger.</em>
<a id="L1354" name="L1354"></a>1354             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/33080.html" title="Multiple defined in 6 places.">setLevel</a>(defaultLevel);
<a id="L1355" name="L1355"></a>1355         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1356" name="L1356"></a>1356             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/33080.html" title="Multiple defined in 6 places.">setLevel</a>(<strong class="reserved">null</strong>);
<a id="L1357" name="L1357"></a>1357         <em class="brace">}</em>
<a id="L1358" name="L1358"></a>1358     <em class="brace">}</em>
<a id="L1359" name="L1359"></a>1359 
<a id="L1360" name="L1360"></a>1360     <em class="comment">// get a list of whitespace separated classnames from a property.</em>
<a id="L1361" name="L1361"></a>1361     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/24525.html" title="Multiple referred from 2 places.">parseClassNames</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>) <em class="brace">{</em>
<a id="L1362" name="L1362"></a>1362         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> hands = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>);
<a id="L1363" name="L1363"></a>1363         <strong class="reserved">if</strong> (hands == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1364" name="L1364"></a>1364             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[0];
<a id="L1365" name="L1365"></a>1365         <em class="brace">}</em>
<a id="L1366" name="L1366"></a>1366         hands = hands.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L1367" name="L1367"></a>1367         <strong class="reserved">int</strong> <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> = 0;
<a id="L1368" name="L1368"></a>1368         <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L1369" name="L1369"></a>1369         <strong class="reserved">while</strong> (<a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> &lt; hands.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L1370" name="L1370"></a>1370             <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a>;
<a id="L1371" name="L1371"></a>1371             <strong class="reserved">while</strong> (<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &lt; hands.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L1372" name="L1372"></a>1372                 <strong class="reserved">if</strong> (<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/26507.html" title="Multiple defined in 18 places.">isWhitespace</a>(hands.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>))) <em class="brace">{</em>
<a id="L1373" name="L1373"></a>1373                     <strong class="reserved">break</strong>;
<a id="L1374" name="L1374"></a>1374                 <em class="brace">}</em>
<a id="L1375" name="L1375"></a>1375                 <strong class="reserved">if</strong> (hands.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) == ',') <em class="brace">{</em>
<a id="L1376" name="L1376"></a>1376                     <strong class="reserved">break</strong>;
<a id="L1377" name="L1377"></a>1377                 <em class="brace">}</em>
<a id="L1378" name="L1378"></a>1378                 <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>++;
<a id="L1379" name="L1379"></a>1379             <em class="brace">}</em>
<a id="L1380" name="L1380"></a>1380             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> word = hands.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L1381" name="L1381"></a>1381             <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> = <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>+1;
<a id="L1382" name="L1382"></a>1382             word = word.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L1383" name="L1383"></a>1383             <strong class="reserved">if</strong> (word.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1384" name="L1384"></a>1384                 <strong class="reserved">continue</strong>;
<a id="L1385" name="L1385"></a>1385             <em class="brace">}</em>
<a id="L1386" name="L1386"></a>1386             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(word);
<a id="L1387" name="L1387"></a>1387         <em class="brace">}</em>
<a id="L1388" name="L1388"></a>1388         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L1389" name="L1389"></a>1389     <em class="brace">}</em>
<a id="L1390" name="L1390"></a>1390 
<div class="comment">
      Reinitialize the logging properties and reread the logging configuration
      from the given stream, which should be in java.util.Properties format.
      A PropertyChangeEvent will be fired after the properties are read.
      <p>
      Any log level definitions in the new configuration file will be
      applied using Logger.setLevel(), if the target Logger exists.
      @param ins       stream to read properties from
      @exception  SecurityException  if a security manager exists and if
                  the caller does not have LoggingPermission("control").
      @exception  IOException if there are problems reading from the stream.</p></div>
<a id="L1404" name="L1404"></a>1404     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25451.html" title="Multiple referred from 2 places.">readConfiguration</a>(<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> ins) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L1405" name="L1405"></a>1405         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>();
<a id="L1406" name="L1406"></a>1406         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L1407" name="L1407"></a>1407 
<a id="L1408" name="L1408"></a>1408         <em class="comment">// Load the properties</em>
<a id="L1409" name="L1409"></a>1409         props.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(ins);
<a id="L1410" name="L1410"></a>1410         <em class="comment">// Instantiate new configuration objects.</em>
<a id="L1411" name="L1411"></a>1411         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> names[] = <a href="../S/1171.html#L1361" title="Defined at 1361 in src/java/util/logging/LogManager.java.">parseClassNames</a>("config");
<a id="L1412" name="L1412"></a>1412 
<a id="L1413" name="L1413"></a>1413         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; names.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1414" name="L1414"></a>1414             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> word = names[i];
<a id="L1415" name="L1415"></a>1415             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1416" name="L1416"></a>1416                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>().<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(word);
<a id="L1417" name="L1417"></a>1417                 clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1418" name="L1418"></a>1418             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1419" name="L1419"></a>1419                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Can't load config class \"" + word + "\"");
<a id="L1420" name="L1420"></a>1420                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("" + <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1421" name="L1421"></a>1421                 <em class="comment">// ex.printStackTrace();</em>
<a id="L1422" name="L1422"></a>1422             <em class="brace">}</em>
<a id="L1423" name="L1423"></a>1423         <em class="brace">}</em>
<a id="L1424" name="L1424"></a>1424 
<a id="L1425" name="L1425"></a>1425         <em class="comment">// Set levels on any pre-existing loggers, based on the new properties.</em>
<a id="L1426" name="L1426"></a>1426         <a href="../S/1171.html#L1675" title="Defined at 1675 in src/java/util/logging/LogManager.java.">setLevelsOnExistingLoggers</a>();
<a id="L1427" name="L1427"></a>1427 
<a id="L1428" name="L1428"></a>1428         <em class="comment">// Notify any interested parties that our properties have changed.</em>
<a id="L1429" name="L1429"></a>1429         <em class="comment">// We first take a copy of the listener map so that we aren't holding any</em>
<a id="L1430" name="L1430"></a>1430         <em class="comment">// locks when calling the listeners.</em>
<a id="L1431" name="L1431"></a>1431         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; listeners = <strong class="reserved">null</strong>;
<a id="L1432" name="L1432"></a>1432         <strong class="reserved">synchronized</strong> (listenerMap) <em class="brace">{</em>
<a id="L1433" name="L1433"></a>1433             <strong class="reserved">if</strong> (!listenerMap.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>())
<a id="L1434" name="L1434"></a>1434                 listeners = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;(listenerMap);
<a id="L1435" name="L1435"></a>1435         <em class="brace">}</em>
<a id="L1436" name="L1436"></a>1436         <strong class="reserved">if</strong> (listeners != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1437" name="L1437"></a>1437             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../D/839.html" title="Multiple defined in 2 places.">Beans</a>.<a href="../S/1171.html#L1788" title="Defined at 1788 in src/java/util/logging/LogManager.java.">isBeansPresent</a>();
<a id="L1438" name="L1438"></a>1438             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> ev = <a href="../D/839.html" title="Multiple defined in 2 places.">Beans</a>.<a href="../S/1171.html#L1797" title="Defined at 1797 in src/java/util/logging/LogManager.java.">newPropertyChangeEvent</a>(<a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>.<strong class="reserved">class</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L1439" name="L1439"></a>1439             <strong class="reserved">for</strong> (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>,<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; entry : listeners.<a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>()) <em class="brace">{</em>
<a id="L1440" name="L1440"></a>1440                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> listener = entry.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>();
<a id="L1441" name="L1441"></a>1441                 <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>().<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1442" name="L1442"></a>1442                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>; i++) <em class="brace">{</em>
<a id="L1443" name="L1443"></a>1443                     <a href="../D/839.html" title="Multiple defined in 2 places.">Beans</a>.<a href="../S/1171.html#L1818" title="Defined at 1818 in src/java/util/logging/LogManager.java.">invokePropertyChange</a>(listener, ev);
<a id="L1444" name="L1444"></a>1444                 <em class="brace">}</em>
<a id="L1445" name="L1445"></a>1445             <em class="brace">}</em>
<a id="L1446" name="L1446"></a>1446         <em class="brace">}</em>
<a id="L1447" name="L1447"></a>1447 
<a id="L1448" name="L1448"></a>1448 
<a id="L1449" name="L1449"></a>1449         <em class="comment">// Note that we need to reinitialize global handles when</em>
<a id="L1450" name="L1450"></a>1450         <em class="comment">// they are first referenced.</em>
<a id="L1451" name="L1451"></a>1451         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1452" name="L1452"></a>1452             initializedGlobalHandlers = <strong class="reserved">false</strong>;
<a id="L1453" name="L1453"></a>1453         <em class="brace">}</em>
<a id="L1454" name="L1454"></a>1454     <em class="brace">}</em>
<a id="L1455" name="L1455"></a>1455 
<div class="comment">
      Get the value of a logging property.
      The method returns null if the property is not found.
      @param name      property name
      @return          property value</div>
<a id="L1462" name="L1462"></a>1462     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18510.html" title="Multiple referred from 728 places.">getProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1463" name="L1463"></a>1463         <strong class="reserved">return</strong> props.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1464" name="L1464"></a>1464     <em class="brace">}</em>
<a id="L1465" name="L1465"></a>1465 
<a id="L1466" name="L1466"></a>1466     <em class="comment">// Package private method to get a String property.</em>
<a id="L1467" name="L1467"></a>1467     <em class="comment">// If the property is not defined we return the given</em>
<a id="L1468" name="L1468"></a>1468     <em class="comment">// default value.</em>
<a id="L1469" name="L1469"></a>1469     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19224.html" title="Multiple referred from 6 places.">getStringProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>) <em class="brace">{</em>
<a id="L1470" name="L1470"></a>1470         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1471" name="L1471"></a>1471         <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1472" name="L1472"></a>1472             <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1473" name="L1473"></a>1473         <em class="brace">}</em>
<a id="L1474" name="L1474"></a>1474         <strong class="reserved">return</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L1475" name="L1475"></a>1475     <em class="brace">}</em>
<a id="L1476" name="L1476"></a>1476 
<a id="L1477" name="L1477"></a>1477     <em class="comment">// Package private method to get an integer property.</em>
<a id="L1478" name="L1478"></a>1478     <em class="comment">// If the property is not defined or cannot be parsed</em>
<a id="L1479" name="L1479"></a>1479     <em class="comment">// we return the given default value.</em>
<a id="L1480" name="L1480"></a>1480     <strong class="reserved">int</strong> <a href="../R/17132.html" title="Multiple referred from 5 places.">getIntProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">int</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>) <em class="brace">{</em>
<a id="L1481" name="L1481"></a>1481         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1482" name="L1482"></a>1482         <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1483" name="L1483"></a>1483             <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1484" name="L1484"></a>1484         <em class="brace">}</em>
<a id="L1485" name="L1485"></a>1485         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1486" name="L1486"></a>1486             <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>());
<a id="L1487" name="L1487"></a>1487         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1488" name="L1488"></a>1488             <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1489" name="L1489"></a>1489         <em class="brace">}</em>
<a id="L1490" name="L1490"></a>1490     <em class="brace">}</em>
<a id="L1491" name="L1491"></a>1491 
<a id="L1492" name="L1492"></a>1492     <em class="comment">// Package private method to get a boolean property.</em>
<a id="L1493" name="L1493"></a>1493     <em class="comment">// If the property is not defined or cannot be parsed</em>
<a id="L1494" name="L1494"></a>1494     <em class="comment">// we return the given default value.</em>
<a id="L1495" name="L1495"></a>1495     <strong class="reserved">boolean</strong> <a href="../R/15299.html" title="Multiple referred from 9 places.">getBooleanProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">boolean</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>) <em class="brace">{</em>
<a id="L1496" name="L1496"></a>1496         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1497" name="L1497"></a>1497         <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1498" name="L1498"></a>1498             <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1499" name="L1499"></a>1499         <em class="brace">}</em>
<a id="L1500" name="L1500"></a>1500         <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L1501" name="L1501"></a>1501         <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("true") || <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("1")) <em class="brace">{</em>
<a id="L1502" name="L1502"></a>1502             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1503" name="L1503"></a>1503         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("false") || <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("0")) <em class="brace">{</em>
<a id="L1504" name="L1504"></a>1504             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1505" name="L1505"></a>1505         <em class="brace">}</em>
<a id="L1506" name="L1506"></a>1506         <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1507" name="L1507"></a>1507     <em class="brace">}</em>
<a id="L1508" name="L1508"></a>1508 
<a id="L1509" name="L1509"></a>1509     <em class="comment">// Package private method to get a Level property.</em>
<a id="L1510" name="L1510"></a>1510     <em class="comment">// If the property is not defined or cannot be parsed</em>
<a id="L1511" name="L1511"></a>1511     <em class="comment">// we return the given default value.</em>
<a id="L1512" name="L1512"></a>1512     <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> <a href="../R/17340.html" title="Multiple referred from 8 places.">getLevelProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>) <em class="brace">{</em>
<a id="L1513" name="L1513"></a>1513         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1514" name="L1514"></a>1514         <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1515" name="L1515"></a>1515             <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1516" name="L1516"></a>1516         <em class="brace">}</em>
<a id="L1517" name="L1517"></a>1517         <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> l = <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.<a href="../S/1180.html#L343" title="Defined at 343 in src/java/util/logging/Level.java.">findLevel</a>(<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>());
<a id="L1518" name="L1518"></a>1518         <strong class="reserved">return</strong> l != <strong class="reserved">null</strong> ? l : <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1519" name="L1519"></a>1519     <em class="brace">}</em>
<a id="L1520" name="L1520"></a>1520 
<a id="L1521" name="L1521"></a>1521     <em class="comment">// Package private method to get a filter property.</em>
<a id="L1522" name="L1522"></a>1522     <em class="comment">// We return an instance of the class named by the "name"</em>
<a id="L1523" name="L1523"></a>1523     <em class="comment">// property. If the property is not defined or has problems</em>
<a id="L1524" name="L1524"></a>1524     <em class="comment">// we return the defaultValue.</em>
<a id="L1525" name="L1525"></a>1525     <a href="../D/3243.html" title="Multiple defined in 6 places.">Filter</a> <a href="../R/16595.html" title="Multiple referred from 5 places.">getFilterProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/3243.html" title="Multiple defined in 6 places.">Filter</a> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>) <em class="brace">{</em>
<a id="L1526" name="L1526"></a>1526         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1527" name="L1527"></a>1527         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1528" name="L1528"></a>1528             <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1529" name="L1529"></a>1529                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>().<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L1530" name="L1530"></a>1530                 <strong class="reserved">return</strong> (<a href="../D/3243.html" title="Multiple defined in 6 places.">Filter</a>) clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1531" name="L1531"></a>1531             <em class="brace">}</em>
<a id="L1532" name="L1532"></a>1532         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1533" name="L1533"></a>1533             <em class="comment">// We got one of a variety of exceptions in creating the</em>
<a id="L1534" name="L1534"></a>1534             <em class="comment">// class or creating an instance.</em>
<a id="L1535" name="L1535"></a>1535             <em class="comment">// Drop through.</em>
<a id="L1536" name="L1536"></a>1536         <em class="brace">}</em>
<a id="L1537" name="L1537"></a>1537         <em class="comment">// We got an exception.  Return the defaultValue.</em>
<a id="L1538" name="L1538"></a>1538         <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1539" name="L1539"></a>1539     <em class="brace">}</em>
<a id="L1540" name="L1540"></a>1540 
<a id="L1541" name="L1541"></a>1541 
<a id="L1542" name="L1542"></a>1542     <em class="comment">// Package private method to get a formatter property.</em>
<a id="L1543" name="L1543"></a>1543     <em class="comment">// We return an instance of the class named by the "name"</em>
<a id="L1544" name="L1544"></a>1544     <em class="comment">// property. If the property is not defined or has problems</em>
<a id="L1545" name="L1545"></a>1545     <em class="comment">// we return the defaultValue.</em>
<a id="L1546" name="L1546"></a>1546     <a href="../D/3384.html" title="Multiple defined in 2 places.">Formatter</a> <a href="../R/16702.html" title="Multiple referred from 5 places.">getFormatterProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/3384.html" title="Multiple defined in 2 places.">Formatter</a> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>) <em class="brace">{</em>
<a id="L1547" name="L1547"></a>1547         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1548" name="L1548"></a>1548         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1549" name="L1549"></a>1549             <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1550" name="L1550"></a>1550                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; clz = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>().<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L1551" name="L1551"></a>1551                 <strong class="reserved">return</strong> (<a href="../D/3384.html" title="Multiple defined in 2 places.">Formatter</a>) clz.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1552" name="L1552"></a>1552             <em class="brace">}</em>
<a id="L1553" name="L1553"></a>1553         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1554" name="L1554"></a>1554             <em class="comment">// We got one of a variety of exceptions in creating the</em>
<a id="L1555" name="L1555"></a>1555             <em class="comment">// class or creating an instance.</em>
<a id="L1556" name="L1556"></a>1556             <em class="comment">// Drop through.</em>
<a id="L1557" name="L1557"></a>1557         <em class="brace">}</em>
<a id="L1558" name="L1558"></a>1558         <em class="comment">// We got an exception.  Return the defaultValue.</em>
<a id="L1559" name="L1559"></a>1559         <strong class="reserved">return</strong> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>;
<a id="L1560" name="L1560"></a>1560     <em class="brace">}</em>
<a id="L1561" name="L1561"></a>1561 
<a id="L1562" name="L1562"></a>1562     <em class="comment">// Private method to load the global handlers.</em>
<a id="L1563" name="L1563"></a>1563     <em class="comment">// We do the real work lazily, when the global handlers</em>
<a id="L1564" name="L1564"></a>1564     <em class="comment">// are first used.</em>
<a id="L1565" name="L1565"></a>1565     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/20702.html" title="Multiple referred from 4 places.">initializeGlobalHandlers</a>() <em class="brace">{</em>
<a id="L1566" name="L1566"></a>1566         <strong class="reserved">if</strong> (initializedGlobalHandlers) <em class="brace">{</em>
<a id="L1567" name="L1567"></a>1567             <strong class="reserved">return</strong>;
<a id="L1568" name="L1568"></a>1568         <em class="brace">}</em>
<a id="L1569" name="L1569"></a>1569 
<a id="L1570" name="L1570"></a>1570         initializedGlobalHandlers = <strong class="reserved">true</strong>;
<a id="L1571" name="L1571"></a>1571 
<a id="L1572" name="L1572"></a>1572         <strong class="reserved">if</strong> (deathImminent) <em class="brace">{</em>
<a id="L1573" name="L1573"></a>1573             <em class="comment">// Aaargh...</em>
<a id="L1574" name="L1574"></a>1574             <em class="comment">// The VM is shutting down and our exit hook has been called.</em>
<a id="L1575" name="L1575"></a>1575             <em class="comment">// Avoid allocating global handlers.</em>
<a id="L1576" name="L1576"></a>1576             <strong class="reserved">return</strong>;
<a id="L1577" name="L1577"></a>1577         <em class="brace">}</em>
<a id="L1578" name="L1578"></a>1578         <a href="../S/1171.html#L955" title="Defined at 955 in src/java/util/logging/LogManager.java.">loadLoggerHandlers</a>(rootLogger, <strong class="reserved">null</strong>, "handlers");
<a id="L1579" name="L1579"></a>1579     <em class="brace">}</em>
<a id="L1580" name="L1580"></a>1580 
<a id="L1581" name="L1581"></a>1581     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> controlPermission = <strong class="reserved">new</strong> <a href="../S/1164.html#L55" title="Defined at 55 in src/java/util/logging/LoggingPermission.java.">LoggingPermission</a>("control", <strong class="reserved">null</strong>);
<a id="L1582" name="L1582"></a>1582 
<a id="L1583" name="L1583"></a>1583     <strong class="reserved">void</strong> <a href="../R/11295.html" title="Multiple referred from 248 places.">checkPermission</a>() <em class="brace">{</em>
<a id="L1584" name="L1584"></a>1584         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1585" name="L1585"></a>1585         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>)
<a id="L1586" name="L1586"></a>1586             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(controlPermission);
<a id="L1587" name="L1587"></a>1587     <em class="brace">}</em>
<a id="L1588" name="L1588"></a>1588 
<div class="comment">
      Check that the current context is trusted to modify the logging
      configuration.  This requires LoggingPermission("control").
      <p>
      If the check fails we throw a SecurityException, otherwise
      we return normally.
      @exception  SecurityException  if a security manager exists and if
                  the caller does not have LoggingPermission("control").</p></div>
<a id="L1599" name="L1599"></a>1599     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11068.html" title="Multiple referred from 112 places.">checkAccess</a>() <strong class="reserved">throws</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L1600" name="L1600"></a>1600         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>();
<a id="L1601" name="L1601"></a>1601     <em class="brace">}</em>
<a id="L1602" name="L1602"></a>1602 
<a id="L1603" name="L1603"></a>1603     <em class="comment">// Nested class to represent a node in our tree of named loggers.</em>
<a id="L1604" name="L1604"></a>1604     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/4735.html" title="Multiple referred from 16 places.">LogNode</a> <em class="brace">{</em>
<a id="L1605" name="L1605"></a>1605         <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a>&gt; <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>;
<a id="L1606" name="L1606"></a>1606         <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a> loggerRef;
<a id="L1607" name="L1607"></a>1607         <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1608" name="L1608"></a>1608         <strong class="reserved">final</strong> <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1609" name="L1609"></a>1609 
<a id="L1610" name="L1610"></a>1610         <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a>(LogNode <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1611" name="L1611"></a>1611             <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1612" name="L1612"></a>1612             <strong class="reserved">this</strong>.<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1613" name="L1613"></a>1613         <em class="brace">}</em>
<a id="L1614" name="L1614"></a>1614 
<a id="L1615" name="L1615"></a>1615         <em class="comment">// Recursive method to walk the tree below a node and set</em>
<a id="L1616" name="L1616"></a>1616         <em class="comment">// a new parent logger.</em>
<a id="L1617" name="L1617"></a>1617         <strong class="reserved">void</strong> <a href="../R/30429.html" title="Multiple referred from 2 places.">walkAndSetParent</a>(<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1618" name="L1618"></a>1618             <strong class="reserved">if</strong> (<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1619" name="L1619"></a>1619                 <strong class="reserved">return</strong>;
<a id="L1620" name="L1620"></a>1620             <em class="brace">}</em>
<a id="L1621" name="L1621"></a>1621             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a>&gt; <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a> = <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>().<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1622" name="L1622"></a>1622             <strong class="reserved">while</strong> (<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1623" name="L1623"></a>1623                 <a href="../S/1171.html#L1604" title="Defined at 1604 in src/java/util/logging/LogManager.java.">LogNode</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1624" name="L1624"></a>1624                 <a href="../S/1171.html#L1018" title="Defined at 1018 in src/java/util/logging/LogManager.java.">LoggerWeakRef</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.loggerRef;
<a id="L1625" name="L1625"></a>1625                 <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1626" name="L1626"></a>1626                 <strong class="reserved">if</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1627" name="L1627"></a>1627                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../S/1171.html#L1617" title="Defined at 1617 in src/java/util/logging/LogManager.java.">walkAndSetParent</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L1628" name="L1628"></a>1628                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1629" name="L1629"></a>1629                     <a href="../D/15085.html" title="Multiple defined in 2 places.">doSetParent</a>(<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L1630" name="L1630"></a>1630                 <em class="brace">}</em>
<a id="L1631" name="L1631"></a>1631             <em class="brace">}</em>
<a id="L1632" name="L1632"></a>1632         <em class="brace">}</em>
<a id="L1633" name="L1633"></a>1633     <em class="brace">}</em>
<a id="L1634" name="L1634"></a>1634 
<a id="L1635" name="L1635"></a>1635     <em class="comment">// We use a subclass of Logger for the root logger, so</em>
<a id="L1636" name="L1636"></a>1636     <em class="comment">// that we only instantiate the global handlers when they</em>
<a id="L1637" name="L1637"></a>1637     <em class="comment">// are first needed.</em>
<a id="L1638" name="L1638"></a>1638     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1171.html#L348" title="Referred from 348 in src/java/util/logging/LogManager.java.">RootLogger</a> <strong class="reserved">extends</strong> <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <em class="brace">{</em>
<a id="L1639" name="L1639"></a>1639         <strong class="reserved">private</strong> RootLogger() <em class="brace">{</em>
<a id="L1640" name="L1640"></a>1640             <em class="comment">// We do not call the protected Logger two args constructor here,</em>
<a id="L1641" name="L1641"></a>1641             <em class="comment">// to avoid calling LogManager.getLogManager() from within the</em>
<a id="L1642" name="L1642"></a>1642             <em class="comment">// RootLogger constructor.</em>
<a id="L1643" name="L1643"></a>1643             <strong class="reserved">super</strong>("", <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <a href="../S/1171.html#L145" title="Defined at 145 in src/java/util/logging/LogManager.java.">LogManager</a>.<strong class="reserved">this</strong>, <strong class="reserved">true</strong>);
<a id="L1644" name="L1644"></a>1644         <em class="brace">}</em>
<a id="L1645" name="L1645"></a>1645 
<a id="L1646" name="L1646"></a>1646         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1647" name="L1647"></a>1647         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/22674.html" title="Multiple referred from 906 places.">log</a>(<a href="../S/1169.html#L71" title="Defined at 71 in src/java/util/logging/LogRecord.java.">LogRecord</a> record) <em class="brace">{</em>
<a id="L1648" name="L1648"></a>1648             <em class="comment">// Make sure that the global handlers have been instantiated.</em>
<a id="L1649" name="L1649"></a>1649             <a href="../S/1171.html#L1565" title="Defined at 1565 in src/java/util/logging/LogManager.java.">initializeGlobalHandlers</a>();
<a id="L1650" name="L1650"></a>1650             <strong class="reserved">super</strong>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(record);
<a id="L1651" name="L1651"></a>1651         <em class="brace">}</em>
<a id="L1652" name="L1652"></a>1652 
<a id="L1653" name="L1653"></a>1653         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1654" name="L1654"></a>1654         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9759.html" title="Multiple referred from 4 places.">addHandler</a>(<a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a> h) <em class="brace">{</em>
<a id="L1655" name="L1655"></a>1655             <a href="../S/1171.html#L1565" title="Defined at 1565 in src/java/util/logging/LogManager.java.">initializeGlobalHandlers</a>();
<a id="L1656" name="L1656"></a>1656             <strong class="reserved">super</strong>.<a href="../D/10833.html" title="Multiple defined in 2 places.">addHandler</a>(h);
<a id="L1657" name="L1657"></a>1657         <em class="brace">}</em>
<a id="L1658" name="L1658"></a>1658 
<a id="L1659" name="L1659"></a>1659         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1660" name="L1660"></a>1660         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25976.html" title="Multiple referred from 2 places.">removeHandler</a>(<a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a> h) <em class="brace">{</em>
<a id="L1661" name="L1661"></a>1661             <a href="../S/1171.html#L1565" title="Defined at 1565 in src/java/util/logging/LogManager.java.">initializeGlobalHandlers</a>();
<a id="L1662" name="L1662"></a>1662             <strong class="reserved">super</strong>.<a href="../D/30809.html" title="Multiple defined in 2 places.">removeHandler</a>(h);
<a id="L1663" name="L1663"></a>1663         <em class="brace">}</em>
<a id="L1664" name="L1664"></a>1664 
<a id="L1665" name="L1665"></a>1665         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1666" name="L1666"></a>1666         <a href="../D/3727.html" title="Multiple defined in 33 places.">Handler</a>[] <a href="../R/9532.html" title="Multiple referred from 5 places.">accessCheckedHandlers</a>() <em class="brace">{</em>
<a id="L1667" name="L1667"></a>1667             <a href="../S/1171.html#L1565" title="Defined at 1565 in src/java/util/logging/LogManager.java.">initializeGlobalHandlers</a>();
<a id="L1668" name="L1668"></a>1668             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/10562.html" title="Multiple defined in 2 places.">accessCheckedHandlers</a>();
<a id="L1669" name="L1669"></a>1669         <em class="brace">}</em>
<a id="L1670" name="L1670"></a>1670     <em class="brace">}</em>
<a id="L1671" name="L1671"></a>1671 
<a id="L1672" name="L1672"></a>1672 
<a id="L1673" name="L1673"></a>1673     <em class="comment">// Private method to be called when the configuration has</em>
<a id="L1674" name="L1674"></a>1674     <em class="comment">// changed to apply any level settings to any pre-existing loggers.</em>
<a id="L1675" name="L1675"></a>1675     <strong class="reserved">synchronized</strong> <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1171.html#L1426" title="Referred from 1426 in src/java/util/logging/LogManager.java.">setLevelsOnExistingLoggers</a>() <em class="brace">{</em>
<a id="L1676" name="L1676"></a>1676         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;?&gt; enum_ = props.<a href="../S/1039.html#L1006" title="Defined at 1006 in src/java/util/Properties.java.">propertyNames</a>();
<a id="L1677" name="L1677"></a>1677         <strong class="reserved">while</strong> (enum_.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L1678" name="L1678"></a>1678             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)enum_.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L1679" name="L1679"></a>1679             <strong class="reserved">if</strong> (!<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>(".level")) <em class="brace">{</em>
<a id="L1680" name="L1680"></a>1680                 <em class="comment">// Not a level definition.</em>
<a id="L1681" name="L1681"></a>1681                 <strong class="reserved">continue</strong>;
<a id="L1682" name="L1682"></a>1682             <em class="brace">}</em>
<a id="L1683" name="L1683"></a>1683             <strong class="reserved">int</strong> <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a> = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 6;
<a id="L1684" name="L1684"></a>1684             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/26595.html" title="Multiple defined in 32 places.">ix</a>);
<a id="L1685" name="L1685"></a>1685             <a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a> level = <a href="../S/1171.html#L1512" title="Defined at 1512 in src/java/util/logging/LogManager.java.">getLevelProperty</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">null</strong>);
<a id="L1686" name="L1686"></a>1686             <strong class="reserved">if</strong> (level == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1687" name="L1687"></a>1687                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Bad level value for property: " + <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1688" name="L1688"></a>1688                 <strong class="reserved">continue</strong>;
<a id="L1689" name="L1689"></a>1689             <em class="brace">}</em>
<a id="L1690" name="L1690"></a>1690             <strong class="reserved">for</strong> (<a href="../S/1171.html#L624" title="Defined at 624 in src/java/util/logging/LogManager.java.">LoggerContext</a> cx : <a href="../D/13381.html" title="Multiple defined in 7 places.">contexts</a>()) <em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691                 <a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> l = cx.<a href="../S/1171.html#L689" title="Defined at 689 in src/java/util/logging/LogManager.java.">findLogger</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1692" name="L1692"></a>1692                 <strong class="reserved">if</strong> (l == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1693" name="L1693"></a>1693                     <strong class="reserved">continue</strong>;
<a id="L1694" name="L1694"></a>1694                 <em class="brace">}</em>
<a id="L1695" name="L1695"></a>1695                 l.<a href="../D/33080.html" title="Multiple defined in 6 places.">setLevel</a>(level);
<a id="L1696" name="L1696"></a>1696             <em class="brace">}</em>
<a id="L1697" name="L1697"></a>1697         <em class="brace">}</em>
<a id="L1698" name="L1698"></a>1698     <em class="brace">}</em>
<a id="L1699" name="L1699"></a>1699 
<a id="L1700" name="L1700"></a>1700     <em class="comment">// Management Support</em>
<a id="L1701" name="L1701"></a>1701     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1174.html#L61" title="Defined at 61 in src/java/util/logging/LoggingMXBean.java.">LoggingMXBean</a> loggingMXBean = <strong class="reserved">null</strong>;
<div class="comment">
      String representation of the
      {@link javax.management.ObjectName} for the management interface
      for the logging facility.
      @see java.lang.management.PlatformLoggingMXBean
      @see java.util.logging.LoggingMXBean
      @since 1.5</div>
<a id="L1712" name="L1712"></a>1712     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> LOGGING_MXBEAN_NAME
<a id="L1713" name="L1713"></a>1713         = "java.util.logging:type=Logging";
<a id="L1714" name="L1714"></a>1714 
<div class="comment">
      Returns <tt>LoggingMXBean</tt> for managing loggers.
      An alternative way to manage loggers is through the
      {@link java.lang.management.PlatformLoggingMXBean} interface
      that can be obtained by calling:
      <pre>          PlatformLoggingMXBean logging = {@link java.lang.management.ManagementFactory#getPlatformMXBean(Class)
              ManagementFactory.getPlatformMXBean}(PlatformLoggingMXBean.class);
      </pre>
      @return a <a href="../S/1174.html#L61" title="Defined at 61 in src/java/util/logging/LoggingMXBean.java.">LoggingMXBean</a> object.
      @see java.lang.management.PlatformLoggingMXBean
      @since 1.5</div>
<a id="L1730" name="L1730"></a>1730     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <a href="../S/1174.html#L61" title="Defined at 61 in src/java/util/logging/LoggingMXBean.java.">LoggingMXBean</a> <a href="../R/17474.html" title="Multiple referred from 4 places.">getLoggingMXBean</a>() <em class="brace">{</em>
<a id="L1731" name="L1731"></a>1731         <strong class="reserved">if</strong> (loggingMXBean == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1732" name="L1732"></a>1732             loggingMXBean =  <strong class="reserved">new</strong> <a href="../S/1181.html#L47" title="Defined at 47 in src/java/util/logging/Logging.java.">Logging</a>();
<a id="L1733" name="L1733"></a>1733         <em class="brace">}</em>
<a id="L1734" name="L1734"></a>1734         <strong class="reserved">return</strong> loggingMXBean;
<a id="L1735" name="L1735"></a>1735     <em class="brace">}</em>
<a id="L1736" name="L1736"></a>1736 
<div class="comment">
      A class that provides access to the java.beans.PropertyChangeListener
      and java.beans.PropertyChangeEvent without creating a static dependency
      on java.beans. This class can be removed once the addPropertyChangeListener
      and removePropertyChangeListener methods are removed.</div>
<a id="L1743" name="L1743"></a>1743     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/761.html" title="Multiple referred from 8 places.">Beans</a> <em class="brace">{</em>
<a id="L1744" name="L1744"></a>1744         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; propertyChangeListenerClass =
<a id="L1745" name="L1745"></a>1745             <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>("java.beans.PropertyChangeListener");
<a id="L1746" name="L1746"></a>1746 
<a id="L1747" name="L1747"></a>1747         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; propertyChangeEventClass =
<a id="L1748" name="L1748"></a>1748             <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>("java.beans.PropertyChangeEvent");
<a id="L1749" name="L1749"></a>1749 
<a id="L1750" name="L1750"></a>1750         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5605.html" title="Multiple defined in 4 places.">Method</a> propertyChangeMethod =
<a id="L1751" name="L1751"></a>1751             <a href="../D/20584.html" title="Multiple defined in 21 places.">getMethod</a>(propertyChangeListenerClass,
<a id="L1752" name="L1752"></a>1752                       "propertyChange",
<a id="L1753" name="L1753"></a>1753                       propertyChangeEventClass);
<a id="L1754" name="L1754"></a>1754 
<a id="L1755" name="L1755"></a>1755         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a>&lt;?&gt; propertyEventCtor =
<a id="L1756" name="L1756"></a>1756             <a href="../D/17932.html" title="Multiple defined in 2 places.">getConstructor</a>(propertyChangeEventClass,
<a id="L1757" name="L1757"></a>1757                            <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>.<strong class="reserved">class</strong>,
<a id="L1758" name="L1758"></a>1758                            <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>,
<a id="L1759" name="L1759"></a>1759                            <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>.<strong class="reserved">class</strong>,
<a id="L1760" name="L1760"></a>1760                            <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>.<strong class="reserved">class</strong>);
<a id="L1761" name="L1761"></a>1761 
<a id="L1762" name="L1762"></a>1762         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/15574.html" title="Multiple referred from 1044 places.">getClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1763" name="L1763"></a>1763             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1764" name="L1764"></a>1764                 <strong class="reserved">return</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">true</strong>, <a href="../D/839.html" title="Multiple defined in 2 places.">Beans</a>.<strong class="reserved">class</strong>.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>());
<a id="L1765" name="L1765"></a>1765             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L1766" name="L1766"></a>1766                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1767" name="L1767"></a>1767             <em class="brace">}</em>
<a id="L1768" name="L1768"></a>1768         <em class="brace">}</em>
<a id="L1769" name="L1769"></a>1769         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a>&lt;?&gt; <a href="../R/15767.html" title="Multiple referred from 42 places.">getConstructor</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;... types) <em class="brace">{</em>
<a id="L1770" name="L1770"></a>1770             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1771" name="L1771"></a>1771                 <strong class="reserved">return</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/1722.html#L2175" title="Defined at 2175 in src/java/lang/Class.java.">getDeclaredConstructor</a>(types);
<a id="L1772" name="L1772"></a>1772             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1776.html#L35" title="Defined at 35 in src/java/lang/NoSuchMethodException.java.">NoSuchMethodException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L1773" name="L1773"></a>1773                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1774" name="L1774"></a>1774             <em class="brace">}</em>
<a id="L1775" name="L1775"></a>1775         <em class="brace">}</em>
<a id="L1776" name="L1776"></a>1776 
<a id="L1777" name="L1777"></a>1777         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/5605.html" title="Multiple defined in 4 places.">Method</a> <a href="../R/17680.html" title="Multiple referred from 173 places.">getMethod</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;... types) <em class="brace">{</em>
<a id="L1778" name="L1778"></a>1778             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1779" name="L1779"></a>1779                 <strong class="reserved">return</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/20584.html" title="Multiple defined in 21 places.">getMethod</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, types);
<a id="L1780" name="L1780"></a>1780             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1776.html#L35" title="Defined at 35 in src/java/lang/NoSuchMethodException.java.">NoSuchMethodException</a> e) <em class="brace">{</em>
<a id="L1781" name="L1781"></a>1781                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(e);
<a id="L1782" name="L1782"></a>1782             <em class="brace">}</em>
<a id="L1783" name="L1783"></a>1783         <em class="brace">}</em>
<a id="L1784" name="L1784"></a>1784 
<div class="comment">
          Returns <code>true</code> if java.beans is present.</div>
<a id="L1788" name="L1788"></a>1788         <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/1171.html#L1437" title="Referred from 1437 in src/java/util/logging/LogManager.java.">isBeansPresent</a>() <em class="brace">{</em>
<a id="L1789" name="L1789"></a>1789             <strong class="reserved">return</strong> propertyChangeListenerClass != <strong class="reserved">null</strong> &amp;&amp;
<a id="L1790" name="L1790"></a>1790                    propertyChangeEventClass != <strong class="reserved">null</strong>;
<a id="L1791" name="L1791"></a>1791         <em class="brace">}</em>
<a id="L1792" name="L1792"></a>1792 
<div class="comment">
          Returns a new PropertyChangeEvent with the given source, property
          name, old and new values.</div>
<a id="L1797" name="L1797"></a>1797         <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/1171.html#L1438" title="Referred from 1438 in src/java/util/logging/LogManager.java.">newPropertyChangeEvent</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> prop,
<a id="L1798" name="L1798"></a>1798                                              <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldValue, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newValue)
<a id="L1799" name="L1799"></a>1799         <em class="brace">{</em>
<a id="L1800" name="L1800"></a>1800             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1801" name="L1801"></a>1801                 <strong class="reserved">return</strong> propertyEventCtor.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, prop, oldValue, newValue);
<a id="L1802" name="L1802"></a>1802             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1743.html#L46" title="Defined at 46 in src/java/lang/InstantiationException.java.">InstantiationException</a> | <a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L1803" name="L1803"></a>1803                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1804" name="L1804"></a>1804             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1671.html#L42" title="Defined at 42 in src/java/lang/reflect/InvocationTargetException.java.">InvocationTargetException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L1805" name="L1805"></a>1805                 <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L1806" name="L1806"></a>1806                 <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>)
<a id="L1807" name="L1807"></a>1807                     <strong class="reserved">throw</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>)cause;
<a id="L1808" name="L1808"></a>1808                 <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>)
<a id="L1809" name="L1809"></a>1809                     <strong class="reserved">throw</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>)cause;
<a id="L1810" name="L1810"></a>1810                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1811" name="L1811"></a>1811             <em class="brace">}</em>
<a id="L1812" name="L1812"></a>1812         <em class="brace">}</em>
<a id="L1813" name="L1813"></a>1813 
<div class="comment">
          Invokes the given PropertyChangeListener's propertyChange method
          with the given event.</div>
<a id="L1818" name="L1818"></a>1818         <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1171.html#L1443" title="Referred from 1443 in src/java/util/logging/LogManager.java.">invokePropertyChange</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> listener, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> ev) <em class="brace">{</em>
<a id="L1819" name="L1819"></a>1819             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1820" name="L1820"></a>1820                 propertyChangeMethod.<a href="../D/25050.html" title="Multiple defined in 52 places.">invoke</a>(listener, ev);
<a id="L1821" name="L1821"></a>1821             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L1822" name="L1822"></a>1822                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1823" name="L1823"></a>1823             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1671.html#L42" title="Defined at 42 in src/java/lang/reflect/InvocationTargetException.java.">InvocationTargetException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L1824" name="L1824"></a>1824                 <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L1825" name="L1825"></a>1825                 <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>)
<a id="L1826" name="L1826"></a>1826                     <strong class="reserved">throw</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>)cause;
<a id="L1827" name="L1827"></a>1827                 <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>)
<a id="L1828" name="L1828"></a>1828                     <strong class="reserved">throw</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>)cause;
<a id="L1829" name="L1829"></a>1829                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1830" name="L1830"></a>1830             <em class="brace">}</em>
<a id="L1831" name="L1831"></a>1831         <em class="brace">}</em>
<a id="L1832" name="L1832"></a>1832     <em class="brace">}</em>
<a id="L1833" name="L1833"></a>1833 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L225">[^]</a><a href="#L1818">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>