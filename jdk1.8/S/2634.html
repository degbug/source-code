<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/security/auth/kerberos/KerberosTicket.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L245">[^]</a><a href="#L769">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L245" title="Defined at 245.">init</a></li>
<li><a href="#L264" title="Defined at 264.">init</a></li>
<li><a href="#L335" title="Defined at 335.">getClient</a></li>
<li><a href="#L344" title="Defined at 344.">getServer</a></li>
<li><a href="#L353" title="Defined at 353.">getSessionKey</a></li>
<li><a href="#L368" title="Defined at 368.">getSessionKeyType</a></li>
<li><a href="#L379" title="Defined at 379.">isForwardable</a></li>
<li><a href="#L391" title="Defined at 391.">isForwarded</a></li>
<li><a href="#L400" title="Defined at 400.">isProxiable</a></li>
<li><a href="#L409" title="Defined at 409.">isProxy</a></li>
<li><a href="#L419" title="Defined at 419.">isPostdated</a></li>
<li><a href="#L430" title="Defined at 430.">isRenewable</a></li>
<li><a href="#L441" title="Defined at 441.">isInitial</a></li>
<li><a href="#L452" title="Defined at 452.">getFlags</a></li>
<li><a href="#L462" title="Defined at 462.">getAuthTime</a></li>
<li><a href="#L472" title="Defined at 472.">getStartTime</a></li>
<li><a href="#L481" title="Defined at 481.">getEndTime</a></li>
<li><a href="#L491" title="Defined at 491.">getRenewTill</a></li>
<li><a href="#L501" title="Defined at 501.">getClientAddresses</a></li>
<li><a href="#L510" title="Defined at 510.">getEncoded</a></li>
<li><a href="#L517" title="Defined at 517.">isCurrent</a></li>
<li><a href="#L540" title="Defined at 540.">refresh</a></li>
<li><a href="#L613" title="Defined at 613.">destroy</a></li>
<li><a href="#L632" title="Defined at 632.">isDestroyed</a></li>
<li><a href="#L636" title="Defined at 636.">toString</a></li>
<li><a href="#L673" title="Defined at 673.">hashCode</a></li>
<li><a href="#L716" title="Defined at 716.">equals</a></li>
<li><a href="#L769" title="Defined at 769.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.security.auth.kerberos;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Date;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.net.InetAddress;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.crypto.SecretKey;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.security.auth.Refreshable;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.security.auth.Destroyable;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.security.auth.RefreshFailedException;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> javax.security.auth.DestroyFailedException;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> sun.misc.HexDumpEncoder;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> sun.security.krb5.EncryptionKey;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> sun.security.krb5.Asn1Exception;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> sun.security.util.*;
<a id="L41" name="L41"></a>  41 
<div class="comment">
  This class encapsulates a Kerberos ticket and associated
  information as viewed from the client's point of view. It captures all
  information that the Key Distribution Center (KDC) sends to the client
  in the reply message KDC-REP defined in the Kerberos Protocol
  Specification (<a href="http://www.ietf.org/rfc/rfc4120.txt">RFC 4120</a>).
  <p>
  All Kerberos JAAS login modules that authenticate a user to a KDC should
  use this class. Where available, the login module might even read this
  information from a ticket cache in the operating system instead of
  directly communicating with the KDC. During the commit phase of the JAAS
  authentication process, the JAAS login module should instantiate this
  class and store the instance in the private credential set of a
  {@link javax.security.auth.Subject Subject}.</p><p>
  It might be necessary for the application to be granted a
  {@link javax.security.auth.PrivateCredentialPermission
  PrivateCredentialPermission} if it needs to access a KerberosTicket
  instance from a Subject. This permission is not needed when the
  application depends on the default JGSS Kerberos mechanism to access the
  KerberosTicket. In that case, however, the application will need an
  appropriate
  {@link javax.security.auth.kerberos.ServicePermission ServicePermission}.
  </p><p>
  Note that this class is applicable to both ticket granting tickets and
  other regular service tickets. A ticket granting ticket is just a
  special case of a more generalized service ticket.
  @see javax.security.auth.Subject
  @see javax.security.auth.PrivateCredentialPermission
  @see javax.security.auth.login.LoginContext
  @see org.ietf.jgss.GSSCredential
  @see org.ietf.jgss.GSSManager
  @author Mayank Upadhyay
  @since 1.4</p></div>
<a id="L79" name="L79"></a>  79 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/4343.html" title="Multiple referred from 4 places.">KerberosTicket</a> <strong class="reserved">implements</strong> <a href="../S/2648.html#L34" title="Defined at 34 in src/javax/security/auth/Destroyable.java.">Destroyable</a>, <a href="../S/2661.html#L37" title="Defined at 37 in src/javax/security/auth/Refreshable.java.">Refreshable</a>,
<a id="L80" name="L80"></a>  80          <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L81" name="L81"></a>  81 
<a id="L82" name="L82"></a>  82     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 7395334370157380539L;
<a id="L83" name="L83"></a>  83 
<a id="L84" name="L84"></a>  84     <em class="comment">// XXX Make these flag indices public</em>
<a id="L85" name="L85"></a>  85     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> FORWARDABLE_TICKET_FLAG = 1;
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> FORWARDED_TICKET_FLAG   = 2;
<a id="L87" name="L87"></a>  87     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PROXIABLE_TICKET_FLAG   = 3;
<a id="L88" name="L88"></a>  88     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PROXY_TICKET_FLAG       = 4;
<a id="L89" name="L89"></a>  89     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> POSTDATED_TICKET_FLAG   = 6;
<a id="L90" name="L90"></a>  90     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> RENEWABLE_TICKET_FLAG   = 8;
<a id="L91" name="L91"></a>  91     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> INITIAL_TICKET_FLAG     = 9;
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NUM_FLAGS = 32;
<a id="L94" name="L94"></a>  94 
<div class="comment">
      ASN.1 DER Encoding of the Ticket as defined in the
      Kerberos Protocol Specification RFC4120.
      @serial</div>
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] asn1Encoding;
<a id="L104" name="L104"></a> 104 
<div class="comment">
     <code>KeyImpl</code> is serialized by writing out the ASN1 Encoded bytes
      of the encryption key. The ASN1 encoding is defined in RFC4120 and as
      follows:
      <pre>      EncryptionKey   ::= SEQUENCE {
               keytype    [0] Int32 -- actually encryption type --,
               keyvalue   [1] OCTET STRING
      }
      </pre>
      @serial</div>
<a id="L118" name="L118"></a> 118 
<a id="L119" name="L119"></a> 119     <strong class="reserved">private</strong> <a href="../S/2632.html#L51" title="Defined at 51 in src/javax/security/auth/kerberos/KeyImpl.java.">KeyImpl</a> sessionKey;
<a id="L120" name="L120"></a> 120 
<div class="comment">
      Ticket Flags as defined in the Kerberos Protocol Specification RFC4120.
      @serial</div>
<a id="L127" name="L127"></a> 127 
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong>[] <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>;
<a id="L129" name="L129"></a> 129 
<div class="comment">
      Time of initial authentication
      @serial</div>
<a id="L136" name="L136"></a> 136 
<a id="L137" name="L137"></a> 137     <strong class="reserved">private</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> authTime;
<a id="L138" name="L138"></a> 138 
<div class="comment">
      Time after which the ticket is valid.
      @serial</div>
<a id="L144" name="L144"></a> 144     <strong class="reserved">private</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> startTime;
<a id="L145" name="L145"></a> 145 
<div class="comment">
      Time after which the ticket will not be honored. (its expiration time).
      @serial</div>
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153     <strong class="reserved">private</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> endTime;
<a id="L154" name="L154"></a> 154 
<div class="comment">
      For renewable Tickets it indicates the maximum endtime that may be
      included in a renewal. It can be thought of as the absolute expiration
      time for the ticket, including all renewals. This field may be null
      for tickets that are not renewable.
      @serial</div>
<a id="L164" name="L164"></a> 164 
<a id="L165" name="L165"></a> 165     <strong class="reserved">private</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> renewTill;
<a id="L166" name="L166"></a> 166 
<div class="comment">
      Client that owns the service ticket
      @serial</div>
<a id="L173" name="L173"></a> 173 
<a id="L174" name="L174"></a> 174     <strong class="reserved">private</strong> <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> client;
<a id="L175" name="L175"></a> 175 
<div class="comment">
      The service for which the ticket was issued.
      @serial</div>
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183     <strong class="reserved">private</strong> <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> server;
<a id="L184" name="L184"></a> 184 
<div class="comment">
      The addresses from where the ticket may be used by the client.
      This field may be null when the ticket is usable from any address.
      @serial</div>
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193 
<a id="L194" name="L194"></a> 194     <strong class="reserved">private</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] clientAddresses;
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> destroyed = <strong class="reserved">false</strong>;
<a id="L197" name="L197"></a> 197 
<div class="comment">
      Constructs a KerberosTicket using credentials information that a
      client either receives from a KDC or reads from a cache.
      @param asn1Encoding the ASN.1 encoding of the ticket as defined by
      the Kerberos protocol specification.
      @param client the client that owns this service
      ticket
      @param server the service that this ticket is for
      @param sessionKey the raw bytes for the session key that must be
      used to encrypt the authenticator that will be sent to the server
      @param keyType the key type for the session key as defined by the
      Kerberos protocol specification.
      @param flags the ticket flags. Each element in this array indicates
      the value for the corresponding bit in the ASN.1 BitString that
      represents the ticket flags. If the number of elements in this array
      is less than the number of flags used by the Kerberos protocol,
      then the missing flags will be filled in with false.
      @param authTime the time of initial authentication for the client
      @param startTime the time after which the ticket will be valid. This
      may be null in which case the value of authTime is treated as the
      startTime.
      @param endTime the time after which the ticket will no longer be
      valid
      @param renewTill an absolute expiration time for the ticket,
      including all renewal that might be possible. This field may be null
      for tickets that are not renewable.
      @param clientAddresses the addresses from where the ticket may be
      used by the client. This field may be null when the ticket is usable
      from any address.</div>
<a id="L229" name="L229"></a> 229     <strong class="reserved">public</strong> KerberosTicket(<strong class="reserved">byte</strong>[] asn1Encoding,
<a id="L230" name="L230"></a> 230                          <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> client,
<a id="L231" name="L231"></a> 231                          <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> server,
<a id="L232" name="L232"></a> 232                          <strong class="reserved">byte</strong>[] sessionKey,
<a id="L233" name="L233"></a> 233                          <strong class="reserved">int</strong> keyType,
<a id="L234" name="L234"></a> 234                          <strong class="reserved">boolean</strong>[] <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>,
<a id="L235" name="L235"></a> 235                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> authTime,
<a id="L236" name="L236"></a> 236                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> startTime,
<a id="L237" name="L237"></a> 237                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> endTime,
<a id="L238" name="L238"></a> 238                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> renewTill,
<a id="L239" name="L239"></a> 239                          <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] clientAddresses) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(asn1Encoding, client, server, sessionKey, keyType, <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>,
<a id="L242" name="L242"></a> 242             authTime, startTime, endTime, renewTill, clientAddresses);
<a id="L243" name="L243"></a> 243     <em class="brace">}</em>
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<strong class="reserved">byte</strong>[] asn1Encoding,
<a id="L246" name="L246"></a> 246                          <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> client,
<a id="L247" name="L247"></a> 247                          <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> server,
<a id="L248" name="L248"></a> 248                          <strong class="reserved">byte</strong>[] sessionKey,
<a id="L249" name="L249"></a> 249                          <strong class="reserved">int</strong> keyType,
<a id="L250" name="L250"></a> 250                          <strong class="reserved">boolean</strong>[] <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>,
<a id="L251" name="L251"></a> 251                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> authTime,
<a id="L252" name="L252"></a> 252                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> startTime,
<a id="L253" name="L253"></a> 253                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> endTime,
<a id="L254" name="L254"></a> 254                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> renewTill,
<a id="L255" name="L255"></a> 255                          <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] clientAddresses) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256         <strong class="reserved">if</strong> (sessionKey == <strong class="reserved">null</strong>)
<a id="L257" name="L257"></a> 257            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Session key for ticket"
<a id="L258" name="L258"></a> 258                                               + " cannot be null");
<a id="L259" name="L259"></a> 259         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(asn1Encoding, client, server,
<a id="L260" name="L260"></a> 260              <strong class="reserved">new</strong> <a href="../S/2632.html#L51" title="Defined at 51 in src/javax/security/auth/kerberos/KeyImpl.java.">KeyImpl</a>(sessionKey, keyType), <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>, authTime,
<a id="L261" name="L261"></a> 261              startTime, endTime, renewTill, clientAddresses);
<a id="L262" name="L262"></a> 262     <em class="brace">}</em>
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<strong class="reserved">byte</strong>[] asn1Encoding,
<a id="L265" name="L265"></a> 265                          <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> client,
<a id="L266" name="L266"></a> 266                          <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> server,
<a id="L267" name="L267"></a> 267                          <a href="../S/2632.html#L51" title="Defined at 51 in src/javax/security/auth/kerberos/KeyImpl.java.">KeyImpl</a> sessionKey,
<a id="L268" name="L268"></a> 268                          <strong class="reserved">boolean</strong>[] <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>,
<a id="L269" name="L269"></a> 269                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> authTime,
<a id="L270" name="L270"></a> 270                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> startTime,
<a id="L271" name="L271"></a> 271                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> endTime,
<a id="L272" name="L272"></a> 272                          <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> renewTill,
<a id="L273" name="L273"></a> 273                          <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] clientAddresses) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274         <strong class="reserved">if</strong> (asn1Encoding == <strong class="reserved">null</strong>)
<a id="L275" name="L275"></a> 275            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("ASN.1 encoding of ticket"
<a id="L276" name="L276"></a> 276                                               + " cannot be null");
<a id="L277" name="L277"></a> 277         <strong class="reserved">this</strong>.asn1Encoding = asn1Encoding.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L278" name="L278"></a> 278 
<a id="L279" name="L279"></a> 279         <strong class="reserved">if</strong> (client == <strong class="reserved">null</strong>)
<a id="L280" name="L280"></a> 280            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Client name in ticket"
<a id="L281" name="L281"></a> 281                                               + " cannot be null");
<a id="L282" name="L282"></a> 282         <strong class="reserved">this</strong>.client = client;
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284         <strong class="reserved">if</strong> (server == <strong class="reserved">null</strong>)
<a id="L285" name="L285"></a> 285            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Server name in ticket"
<a id="L286" name="L286"></a> 286                                               + " cannot be null");
<a id="L287" name="L287"></a> 287         <strong class="reserved">this</strong>.server = server;
<a id="L288" name="L288"></a> 288 
<a id="L289" name="L289"></a> 289         <em class="comment">// Caller needs to make sure `sessionKey` will not be null</em>
<a id="L290" name="L290"></a> 290         <strong class="reserved">this</strong>.sessionKey = sessionKey;
<a id="L291" name="L291"></a> 291 
<a id="L292" name="L292"></a> 292         <strong class="reserved">if</strong> (<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293            <strong class="reserved">if</strong> (<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= NUM_FLAGS)
<a id="L294" name="L294"></a> 294                 <strong class="reserved">this</strong>.<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a> = <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L295" name="L295"></a> 295            <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L296" name="L296"></a> 296                 <strong class="reserved">this</strong>.<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a> = <strong class="reserved">new</strong> <strong class="reserved">boolean</strong>[NUM_FLAGS];
<a id="L297" name="L297"></a> 297                 <em class="comment">// Fill in whatever we have</em>
<a id="L298" name="L298"></a> 298                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++)
<a id="L299" name="L299"></a> 299                     <strong class="reserved">this</strong>.<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[i] = <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[i];
<a id="L300" name="L300"></a> 300            <em class="brace">}</em>
<a id="L301" name="L301"></a> 301         <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L302" name="L302"></a> 302            <strong class="reserved">this</strong>.<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a> = <strong class="reserved">new</strong> <strong class="reserved">boolean</strong>[NUM_FLAGS];
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[RENEWABLE_TICKET_FLAG]) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305            <strong class="reserved">if</strong> (renewTill == <strong class="reserved">null</strong>)
<a id="L306" name="L306"></a> 306                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("The renewable period "
<a id="L307" name="L307"></a> 307                        + "end time cannot be null for renewable tickets.");
<a id="L308" name="L308"></a> 308 
<a id="L309" name="L309"></a> 309            <strong class="reserved">this</strong>.renewTill = <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(renewTill.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>());
<a id="L310" name="L310"></a> 310         <em class="brace">}</em>
<a id="L311" name="L311"></a> 311 
<a id="L312" name="L312"></a> 312         <strong class="reserved">if</strong> (authTime != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L313" name="L313"></a> 313             <strong class="reserved">this</strong>.authTime = <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(authTime.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>());
<a id="L314" name="L314"></a> 314         <em class="brace">}</em>
<a id="L315" name="L315"></a> 315         <strong class="reserved">if</strong> (startTime != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316             <strong class="reserved">this</strong>.startTime = <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(startTime.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>());
<a id="L317" name="L317"></a> 317         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L318" name="L318"></a> 318             <strong class="reserved">this</strong>.startTime = <strong class="reserved">this</strong>.authTime;
<a id="L319" name="L319"></a> 319         <em class="brace">}</em>
<a id="L320" name="L320"></a> 320 
<a id="L321" name="L321"></a> 321         <strong class="reserved">if</strong> (endTime == <strong class="reserved">null</strong>)
<a id="L322" name="L322"></a> 322            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("End time for ticket validity"
<a id="L323" name="L323"></a> 323                                               + " cannot be null");
<a id="L324" name="L324"></a> 324         <strong class="reserved">this</strong>.endTime = <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(endTime.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>());
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326         <strong class="reserved">if</strong> (clientAddresses != <strong class="reserved">null</strong>)
<a id="L327" name="L327"></a> 327            <strong class="reserved">this</strong>.clientAddresses = clientAddresses.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L328" name="L328"></a> 328     <em class="brace">}</em>
<a id="L329" name="L329"></a> 329 
<div class="comment">
      Returns the client principal associated with this ticket.
      @return the client principal.</div>
<a id="L335" name="L335"></a> 335     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> <a href="../R/15611.html" title="Multiple referred from 3 places.">getClient</a>() <em class="brace">{</em>
<a id="L336" name="L336"></a> 336         <strong class="reserved">return</strong> client;
<a id="L337" name="L337"></a> 337     <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<div class="comment">
      Returns the service principal associated with this ticket.
      @return the service principal.</div>
<a id="L344" name="L344"></a> 344     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a> <a href="../R/18975.html" title="Multiple referred from 10 places.">getServer</a>() <em class="brace">{</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">return</strong> server;
<a id="L346" name="L346"></a> 346     <em class="brace">}</em>
<a id="L347" name="L347"></a> 347 
<div class="comment">
      Returns the session key associated with this ticket.
      @return the session key.</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">public</strong> <strong class="reserved">final</strong> SecretKey <a href="../R/19001.html" title="Multiple referred from 3 places.">getSessionKey</a>() <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <strong class="reserved">if</strong> (destroyed)
<a id="L355" name="L355"></a> 355             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("This ticket is no longer valid");
<a id="L356" name="L356"></a> 356         <strong class="reserved">return</strong> sessionKey;
<a id="L357" name="L357"></a> 357     <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<div class="comment">
      Returns the key type of the session key associated with this
      ticket as defined by the Kerberos Protocol Specification.
      @return the key type of the session key associated with this
      ticket.
      @see #getSessionKey()</div>
<a id="L368" name="L368"></a> 368     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> getSessionKeyType() <em class="brace">{</em>
<a id="L369" name="L369"></a> 369         <strong class="reserved">if</strong> (destroyed)
<a id="L370" name="L370"></a> 370             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("This ticket is no longer valid");
<a id="L371" name="L371"></a> 371         <strong class="reserved">return</strong> sessionKey.<a href="../D/19957.html" title="Multiple defined in 2 places.">getKeyType</a>();
<a id="L372" name="L372"></a> 372     <em class="brace">}</em>
<a id="L373" name="L373"></a> 373 
<div class="comment">
      Determines if this ticket is forwardable.
      @return true if this ticket is forwardable, false if not.</div>
<a id="L379" name="L379"></a> 379     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isForwardable() <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         <strong class="reserved">return</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[FORWARDABLE_TICKET_FLAG];
<a id="L381" name="L381"></a> 381     <em class="brace">}</em>
<a id="L382" name="L382"></a> 382 
<div class="comment">
      Determines if this ticket had been forwarded or was issued based on
      authentication involving a forwarded ticket-granting ticket.
      @return true if this ticket had been forwarded or was issued based on
      authentication involving a forwarded ticket-granting ticket,
      false otherwise.</div>
<a id="L391" name="L391"></a> 391     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isForwarded() <em class="brace">{</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">return</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[FORWARDED_TICKET_FLAG];
<a id="L393" name="L393"></a> 393     <em class="brace">}</em>
<a id="L394" name="L394"></a> 394 
<div class="comment">
      Determines if this ticket is proxiable.
      @return true if this ticket is proxiable, false if not.</div>
<a id="L400" name="L400"></a> 400     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isProxiable() <em class="brace">{</em>
<a id="L401" name="L401"></a> 401         <strong class="reserved">return</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[PROXIABLE_TICKET_FLAG];
<a id="L402" name="L402"></a> 402     <em class="brace">}</em>
<a id="L403" name="L403"></a> 403 
<div class="comment">
      Determines is this ticket is a proxy-ticket.
      @return true if this ticket is a proxy-ticket, false if not.</div>
<a id="L409" name="L409"></a> 409     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21913.html" title="Multiple referred from 11 places.">isProxy</a>() <em class="brace">{</em>
<a id="L410" name="L410"></a> 410         <strong class="reserved">return</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[PROXY_TICKET_FLAG];
<a id="L411" name="L411"></a> 411     <em class="brace">}</em>
<a id="L412" name="L412"></a> 412 
<a id="L413" name="L413"></a> 413 
<div class="comment">
      Determines is this ticket is post-dated.
      @return true if this ticket is post-dated, false if not.</div>
<a id="L419" name="L419"></a> 419     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isPostdated() <em class="brace">{</em>
<a id="L420" name="L420"></a> 420         <strong class="reserved">return</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[POSTDATED_TICKET_FLAG];
<a id="L421" name="L421"></a> 421     <em class="brace">}</em>
<a id="L422" name="L422"></a> 422 
<div class="comment">
      Determines is this ticket is renewable. If so, the {@link #refresh()
      refresh} method can be called, assuming the validity period for
      renewing is not already over.
      @return true if this ticket is renewable, false if not.</div>
<a id="L430" name="L430"></a> 430     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21949.html" title="Multiple referred from 2 places.">isRenewable</a>() <em class="brace">{</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">return</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[RENEWABLE_TICKET_FLAG];
<a id="L432" name="L432"></a> 432     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<div class="comment">
      Determines if this ticket was issued using the Kerberos AS-Exchange
      protocol, and not issued based on some ticket-granting ticket.
      @return true if this ticket was issued using the Kerberos AS-Exchange
      protocol, false if not.</div>
<a id="L441" name="L441"></a> 441     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isInitial() <em class="brace">{</em>
<a id="L442" name="L442"></a> 442         <strong class="reserved">return</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[INITIAL_TICKET_FLAG];
<a id="L443" name="L443"></a> 443     <em class="brace">}</em>
<a id="L444" name="L444"></a> 444 
<div class="comment">
      Returns the flags associated with this ticket. Each element in the
      returned array indicates the value for the corresponding bit in the
      ASN.1 BitString that represents the ticket flags.
      @return the flags associated with this ticket.</div>
<a id="L452" name="L452"></a> 452     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong>[]  <a href="../R/16641.html" title="Multiple referred from 7 places.">getFlags</a>() <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <strong class="reserved">return</strong> (<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a> == <strong class="reserved">null</strong>? <strong class="reserved">null</strong>: <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>());
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Returns the time that the client was authenticated.
      @return the time that the client was authenticated
              or null if not set.</div>
<a id="L462" name="L462"></a> 462     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> <a href="../R/15180.html" title="Multiple referred from 3 places.">getAuthTime</a>() <em class="brace">{</em>
<a id="L463" name="L463"></a> 463         <strong class="reserved">return</strong> (authTime == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : (<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>)authTime.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L464" name="L464"></a> 464     <em class="brace">}</em>
<a id="L465" name="L465"></a> 465 
<div class="comment">
      Returns the start time for this ticket's validity period.
      @return the start time for this ticket's validity period
              or null if not set.</div>
<a id="L472" name="L472"></a> 472     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> <a href="../R/19175.html" title="Multiple referred from 3 places.">getStartTime</a>() <em class="brace">{</em>
<a id="L473" name="L473"></a> 473         <strong class="reserved">return</strong> (startTime == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : (<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>)startTime.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L474" name="L474"></a> 474     <em class="brace">}</em>
<a id="L475" name="L475"></a> 475 
<div class="comment">
      Returns the expiration time for this ticket's validity period.
      @return the expiration time for this ticket's validity period.</div>
<a id="L481" name="L481"></a> 481     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> <a href="../R/16373.html" title="Multiple referred from 4 places.">getEndTime</a>() <em class="brace">{</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">return</strong> (<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>) endTime.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L483" name="L483"></a> 483     <em class="brace">}</em>
<a id="L484" name="L484"></a> 484 
<div class="comment">
      Returns the latest expiration time for this ticket, including all
      renewals. This will return a null value for non-renewable tickets.
      @return the latest expiration time for this ticket.</div>
<a id="L491" name="L491"></a> 491     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> <a href="../R/18670.html" title="Multiple referred from 5 places.">getRenewTill</a>() <em class="brace">{</em>
<a id="L492" name="L492"></a> 492         <strong class="reserved">return</strong> (renewTill == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong>: (<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>)renewTill.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L493" name="L493"></a> 493     <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<div class="comment">
      Returns a list of addresses from where the ticket can be used.
      @return ths list of addresses or null, if the field was not
      provided.</div>
<a id="L501" name="L501"></a> 501     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net.<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/15612.html" title="Multiple referred from 2 places.">getClientAddresses</a>() <em class="brace">{</em>
<a id="L502" name="L502"></a> 502         <strong class="reserved">return</strong> (clientAddresses == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong>: clientAddresses.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L503" name="L503"></a> 503     <em class="brace">}</em>
<a id="L504" name="L504"></a> 504 
<div class="comment">
      Returns an ASN.1 encoding of the entire ticket.
      @return an ASN.1 encoding of the entire ticket.</div>
<a id="L510" name="L510"></a> 510     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">byte</strong>[] <a href="../R/16354.html" title="Multiple referred from 35 places.">getEncoded</a>() <em class="brace">{</em>
<a id="L511" name="L511"></a> 511         <strong class="reserved">if</strong> (destroyed)
<a id="L512" name="L512"></a> 512             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("This ticket is no longer valid");
<a id="L513" name="L513"></a> 513         <strong class="reserved">return</strong> asn1Encoding.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L514" name="L514"></a> 514     <em class="brace">}</em>
<a id="L515" name="L515"></a> 515 
<div class="comment">
     /** Determines if this ticket is still current.  */</div>
<a id="L517" name="L517"></a> 517     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/4497.html#L669" title="Referred from 669 in src/com/sun/security/auth/module/Krb5LoginModule.java.">isCurrent</a>() <em class="brace">{</em>
<a id="L518" name="L518"></a> 518         <strong class="reserved">return</strong> (<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>() &lt;= <a href="../S/2634.html#L481" title="Defined at 481 in src/javax/security/auth/kerberos/KerberosTicket.java.">getEndTime</a>().<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>());
<a id="L519" name="L519"></a> 519     <em class="brace">}</em>
<a id="L520" name="L520"></a> 520 
<div class="comment">
      Extends the validity period of this ticket. The ticket will contain
      a new session key if the refresh operation succeeds. The refresh
      operation will fail if the ticket is not renewable or the latest
      allowable renew time has passed. Any other error returned by the
      KDC will also cause this method to fail.
      Note: This method is not synchronized with the the accessor
      methods of this object. Hence callers need to be aware of multiple
      threads that might access this and try to renew it at the same
      time.
      @throws RefreshFailedException if the ticket is not renewable, or
      the latest allowable renew time has passed, or the KDC returns some
      error.
      @see #isRenewable()
      @see #getRenewTill()</div>
<a id="L540" name="L540"></a> 540     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25739.html" title="Multiple referred from 7 places.">refresh</a>() <strong class="reserved">throws</strong> <a href="../S/2640.html#L36" title="Defined at 36 in src/javax/security/auth/RefreshFailedException.java.">RefreshFailedException</a> <em class="brace">{</em>
<a id="L541" name="L541"></a> 541 
<a id="L542" name="L542"></a> 542         <strong class="reserved">if</strong> (destroyed)
<a id="L543" name="L543"></a> 543             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2640.html#L36" title="Defined at 36 in src/javax/security/auth/RefreshFailedException.java.">RefreshFailedException</a>("A destroyed ticket "
<a id="L544" name="L544"></a> 544                                              + "cannot be renewd.");
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546         <strong class="reserved">if</strong> (!<a href="../S/2634.html#L430" title="Defined at 430 in src/javax/security/auth/kerberos/KerberosTicket.java.">isRenewable</a>())
<a id="L547" name="L547"></a> 547             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2640.html#L36" title="Defined at 36 in src/javax/security/auth/RefreshFailedException.java.">RefreshFailedException</a>("This ticket is not renewable");
<a id="L548" name="L548"></a> 548 
<a id="L549" name="L549"></a> 549         <strong class="reserved">if</strong> (<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>() &gt; <a href="../S/2634.html#L491" title="Defined at 491 in src/javax/security/auth/kerberos/KerberosTicket.java.">getRenewTill</a>().<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>())
<a id="L550" name="L550"></a> 550             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2640.html#L36" title="Defined at 36 in src/javax/security/auth/RefreshFailedException.java.">RefreshFailedException</a>("This ticket is past "
<a id="L551" name="L551"></a> 551                                              + "its last renewal time.");
<a id="L552" name="L552"></a> 552         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> e = <strong class="reserved">null</strong>;
<a id="L553" name="L553"></a> 553         sun.security.krb5.Credentials krb5Creds = <strong class="reserved">null</strong>;
<a id="L554" name="L554"></a> 554 
<a id="L555" name="L555"></a> 555         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L556" name="L556"></a> 556             krb5Creds = <strong class="reserved">new</strong> sun.security.krb5.Credentials(asn1Encoding,
<a id="L557" name="L557"></a> 557                                                     client.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(),
<a id="L558" name="L558"></a> 558                                                     server.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(),
<a id="L559" name="L559"></a> 559                                                     sessionKey.<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>(),
<a id="L560" name="L560"></a> 560                                                     sessionKey.<a href="../D/19957.html" title="Multiple defined in 2 places.">getKeyType</a>(),
<a id="L561" name="L561"></a> 561                                                     <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>,
<a id="L562" name="L562"></a> 562                                                     authTime,
<a id="L563" name="L563"></a> 563                                                     startTime,
<a id="L564" name="L564"></a> 564                                                     endTime,
<a id="L565" name="L565"></a> 565                                                     renewTill,
<a id="L566" name="L566"></a> 566                                                     clientAddresses);
<a id="L567" name="L567"></a> 567             krb5Creds = krb5Creds.renew();
<a id="L568" name="L568"></a> 568         <em class="brace">}</em> <strong class="reserved">catch</strong> (sun.security.krb5.KrbException krbException) <em class="brace">{</em>
<a id="L569" name="L569"></a> 569             e = krbException;
<a id="L570" name="L570"></a> 570         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../D/25119.html" title="Multiple defined in 2 places.">ioException</a>) <em class="brace">{</em>
<a id="L571" name="L571"></a> 571             e = <a href="../D/25119.html" title="Multiple defined in 2 places.">ioException</a>;
<a id="L572" name="L572"></a> 572         <em class="brace">}</em>
<a id="L573" name="L573"></a> 573 
<a id="L574" name="L574"></a> 574         <strong class="reserved">if</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L575" name="L575"></a> 575             <a href="../S/2640.html#L36" title="Defined at 36 in src/javax/security/auth/RefreshFailedException.java.">RefreshFailedException</a> rfException
<a id="L576" name="L576"></a> 576                 = <strong class="reserved">new</strong> <a href="../S/2640.html#L36" title="Defined at 36 in src/javax/security/auth/RefreshFailedException.java.">RefreshFailedException</a>("Failed to renew Kerberos Ticket "
<a id="L577" name="L577"></a> 577                                              + "for client " + client
<a id="L578" name="L578"></a> 578                                              + " and server " + server
<a id="L579" name="L579"></a> 579                                              + " - " + e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L580" name="L580"></a> 580             rfException.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(e);
<a id="L581" name="L581"></a> 581             <strong class="reserved">throw</strong> rfException;
<a id="L582" name="L582"></a> 582         <em class="brace">}</em>
<a id="L583" name="L583"></a> 583 
<div class="comment">
          In case multiple threads try to refresh it at the same time.</div>
<a id="L587" name="L587"></a> 587         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L588" name="L588"></a> 588             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L589" name="L589"></a> 589                 <strong class="reserved">this</strong>.<a href="../D/14870.html" title="Multiple defined in 55 places.">destroy</a>();
<a id="L590" name="L590"></a> 590             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2662.html#L36" title="Defined at 36 in src/javax/security/auth/DestroyFailedException.java.">DestroyFailedException</a> dfException) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                 <em class="comment">// Squelch it since we don't care about the old ticket.</em>
<a id="L592" name="L592"></a> 592             <em class="brace">}</em>
<a id="L593" name="L593"></a> 593             <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(krb5Creds.<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>(),
<a id="L594" name="L594"></a> 594                  <strong class="reserved">new</strong> <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a>(krb5Creds.<a href="../S/2634.html#L335" title="Defined at 335 in src/javax/security/auth/kerberos/KerberosTicket.java.">getClient</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()),
<a id="L595" name="L595"></a> 595                  <strong class="reserved">new</strong> <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a>(krb5Creds.<a href="../D/22418.html" title="Multiple defined in 6 places.">getServer</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L596" name="L596"></a> 596                                         <a href="../S/2636.html#L41" title="Defined at 41 in src/javax/security/auth/kerberos/KerberosPrincipal.java.">KerberosPrincipal</a>.KRB_NT_SRV_INST),
<a id="L597" name="L597"></a> 597                  krb5Creds.<a href="../S/2634.html#L353" title="Defined at 353 in src/javax/security/auth/kerberos/KerberosTicket.java.">getSessionKey</a>().<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>(),
<a id="L598" name="L598"></a> 598                  krb5Creds.<a href="../S/2634.html#L353" title="Defined at 353 in src/javax/security/auth/kerberos/KerberosTicket.java.">getSessionKey</a>().getEType(),
<a id="L599" name="L599"></a> 599                  krb5Creds.<a href="../D/19132.html" title="Multiple defined in 7 places.">getFlags</a>(),
<a id="L600" name="L600"></a> 600                  krb5Creds.<a href="../S/2634.html#L462" title="Defined at 462 in src/javax/security/auth/kerberos/KerberosTicket.java.">getAuthTime</a>(),
<a id="L601" name="L601"></a> 601                  krb5Creds.<a href="../D/22722.html" title="Multiple defined in 2 places.">getStartTime</a>(),
<a id="L602" name="L602"></a> 602                  krb5Creds.<a href="../S/2634.html#L481" title="Defined at 481 in src/javax/security/auth/kerberos/KerberosTicket.java.">getEndTime</a>(),
<a id="L603" name="L603"></a> 603                  krb5Creds.<a href="../S/2634.html#L491" title="Defined at 491 in src/javax/security/auth/kerberos/KerberosTicket.java.">getRenewTill</a>(),
<a id="L604" name="L604"></a> 604                  krb5Creds.<a href="../S/2634.html#L501" title="Defined at 501 in src/javax/security/auth/kerberos/KerberosTicket.java.">getClientAddresses</a>());
<a id="L605" name="L605"></a> 605             destroyed = <strong class="reserved">false</strong>;
<a id="L606" name="L606"></a> 606         <em class="brace">}</em>
<a id="L607" name="L607"></a> 607     <em class="brace">}</em>
<a id="L608" name="L608"></a> 608 
<div class="comment">
      Destroys the ticket and destroys any sensitive information stored in
      it.</div>
<a id="L613" name="L613"></a> 613     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13259.html" title="Multiple referred from 100 places.">destroy</a>() <strong class="reserved">throws</strong> <a href="../S/2662.html#L36" title="Defined at 36 in src/javax/security/auth/DestroyFailedException.java.">DestroyFailedException</a> <em class="brace">{</em>
<a id="L614" name="L614"></a> 614         <strong class="reserved">if</strong> (!destroyed) <em class="brace">{</em>
<a id="L615" name="L615"></a> 615             <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/16028.html" title="Multiple defined in 25 places.">fill</a>(asn1Encoding, (<strong class="reserved">byte</strong>) 0);
<a id="L616" name="L616"></a> 616             client = <strong class="reserved">null</strong>;
<a id="L617" name="L617"></a> 617             server = <strong class="reserved">null</strong>;
<a id="L618" name="L618"></a> 618             sessionKey.<a href="../D/14870.html" title="Multiple defined in 55 places.">destroy</a>();
<a id="L619" name="L619"></a> 619             <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a> = <strong class="reserved">null</strong>;
<a id="L620" name="L620"></a> 620             authTime = <strong class="reserved">null</strong>;
<a id="L621" name="L621"></a> 621             startTime = <strong class="reserved">null</strong>;
<a id="L622" name="L622"></a> 622             endTime = <strong class="reserved">null</strong>;
<a id="L623" name="L623"></a> 623             renewTill = <strong class="reserved">null</strong>;
<a id="L624" name="L624"></a> 624             clientAddresses = <strong class="reserved">null</strong>;
<a id="L625" name="L625"></a> 625             destroyed = <strong class="reserved">true</strong>;
<a id="L626" name="L626"></a> 626         <em class="brace">}</em>
<a id="L627" name="L627"></a> 627     <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<div class="comment">
      Determines if this ticket has been destroyed.</div>
<a id="L632" name="L632"></a> 632     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21353.html" title="Multiple referred from 9 places.">isDestroyed</a>() <em class="brace">{</em>
<a id="L633" name="L633"></a> 633         <strong class="reserved">return</strong> destroyed;
<a id="L634" name="L634"></a> 634     <em class="brace">}</em>
<a id="L635" name="L635"></a> 635 
<a id="L636" name="L636"></a> 636     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L637" name="L637"></a> 637         <strong class="reserved">if</strong> (destroyed)
<a id="L638" name="L638"></a> 638             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("This ticket is no longer valid");
<a id="L639" name="L639"></a> 639         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> caddrBuf = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L640" name="L640"></a> 640         <strong class="reserved">if</strong> (clientAddresses != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L641" name="L641"></a> 641             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; clientAddresses.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L642" name="L642"></a> 642                 caddrBuf.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("clientAddresses[" + i + "] = " +
<a id="L643" name="L643"></a> 643                                  clientAddresses[i].<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L644" name="L644"></a> 644             <em class="brace">}</em>
<a id="L645" name="L645"></a> 645         <em class="brace">}</em>
<a id="L646" name="L646"></a> 646         <strong class="reserved">return</strong> ("Ticket (hex) = " + "\n" +
<a id="L647" name="L647"></a> 647                  (<strong class="reserved">new</strong> HexDumpEncoder()).encodeBuffer(asn1Encoding) + "\n" +
<a id="L648" name="L648"></a> 648                 "Client Principal = " + client.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\n" +
<a id="L649" name="L649"></a> 649                 "Server Principal = " + server.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\n" +
<a id="L650" name="L650"></a> 650                 "Session Key = " + sessionKey.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\n" +
<a id="L651" name="L651"></a> 651                 "Forwardable Ticket " + <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[FORWARDABLE_TICKET_FLAG] + "\n" +
<a id="L652" name="L652"></a> 652                 "Forwarded Ticket " + <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[FORWARDED_TICKET_FLAG] + "\n" +
<a id="L653" name="L653"></a> 653                 "Proxiable Ticket " + <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[PROXIABLE_TICKET_FLAG] + "\n" +
<a id="L654" name="L654"></a> 654                 "Proxy Ticket " + <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[PROXY_TICKET_FLAG] + "\n" +
<a id="L655" name="L655"></a> 655                 "Postdated Ticket " + <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[POSTDATED_TICKET_FLAG] + "\n" +
<a id="L656" name="L656"></a> 656                 "Renewable Ticket " + <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[RENEWABLE_TICKET_FLAG] + "\n" +
<a id="L657" name="L657"></a> 657                 "Initial Ticket " + <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>[RENEWABLE_TICKET_FLAG] + "\n" +
<a id="L658" name="L658"></a> 658                 "Auth Time = " + <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(authTime) + "\n" +
<a id="L659" name="L659"></a> 659                 "Start Time = " + <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(startTime) + "\n" +
<a id="L660" name="L660"></a> 660                 "End Time = " + endTime.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\n" +
<a id="L661" name="L661"></a> 661                 "Renew Till = " + <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(renewTill) + "\n" +
<a id="L662" name="L662"></a> 662                 "Client Addresses " +
<a id="L663" name="L663"></a> 663                 (clientAddresses == <strong class="reserved">null</strong> ? " Null " : caddrBuf.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() +
<a id="L664" name="L664"></a> 664                 "\n"));
<a id="L665" name="L665"></a> 665     <em class="brace">}</em>
<a id="L666" name="L666"></a> 666 
<div class="comment">
      Returns a hashcode for this KerberosTicket.
      @return a hashCode() for the <code>KerberosTicket</code>
      @since 1.6</div>
<a id="L673" name="L673"></a> 673     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L674" name="L674"></a> 674         <strong class="reserved">int</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = 17;
<a id="L675" name="L675"></a> 675         <strong class="reserved">if</strong> (<a href="../D/25434.html" title="Multiple defined in 7 places.">isDestroyed</a>()) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L677" name="L677"></a> 677         <em class="brace">}</em>
<a id="L678" name="L678"></a> 678         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>());
<a id="L679" name="L679"></a> 679         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + endTime.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L680" name="L680"></a> 680         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + client.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L681" name="L681"></a> 681         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + server.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L682" name="L682"></a> 682         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + sessionKey.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L683" name="L683"></a> 683 
<a id="L684" name="L684"></a> 684         <em class="comment">// authTime may be null</em>
<a id="L685" name="L685"></a> 685         <strong class="reserved">if</strong> (authTime != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L686" name="L686"></a> 686             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + authTime.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L687" name="L687"></a> 687         <em class="brace">}</em>
<a id="L688" name="L688"></a> 688 
<a id="L689" name="L689"></a> 689         <em class="comment">// startTime may be null</em>
<a id="L690" name="L690"></a> 690         <strong class="reserved">if</strong> (startTime != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L691" name="L691"></a> 691             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + startTime.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L692" name="L692"></a> 692         <em class="brace">}</em>
<a id="L693" name="L693"></a> 693 
<a id="L694" name="L694"></a> 694         <em class="comment">// renewTill may be null</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">if</strong> (renewTill != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + renewTill.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L697" name="L697"></a> 697         <em class="brace">}</em>
<a id="L698" name="L698"></a> 698 
<a id="L699" name="L699"></a> 699         <em class="comment">// clientAddress may be null, the array's hashCode is 0</em>
<a id="L700" name="L700"></a> 700         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(clientAddresses);
<a id="L701" name="L701"></a> 701         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> * 37 + <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>);
<a id="L702" name="L702"></a> 702     <em class="brace">}</em>
<a id="L703" name="L703"></a> 703 
<div class="comment">
      Compares the specified Object with this KerberosTicket for equality.
      Returns true if the given object is also a
      <code>KerberosTicket</code> and the two
      <code>KerberosTicket</code> instances are equivalent.
      @param other the Object to compare to
      @return true if the specified object is equal to this KerberosTicket,
      false otherwise. NOTE: Returns false if either of the KerberosTicket
      objects has been destroyed.
      @since 1.6</div>
<a id="L716" name="L716"></a> 716     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> other) <em class="brace">{</em>
<a id="L717" name="L717"></a> 717 
<a id="L718" name="L718"></a> 718         <strong class="reserved">if</strong> (other == <strong class="reserved">this</strong>)
<a id="L719" name="L719"></a> 719             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L720" name="L720"></a> 720 
<a id="L721" name="L721"></a> 721         <strong class="reserved">if</strong> (! (other <strong class="reserved">instanceof</strong> <a href="../S/2634.html#L79" title="Defined at 79 in src/javax/security/auth/kerberos/KerberosTicket.java.">KerberosTicket</a>)) <em class="brace">{</em>
<a id="L722" name="L722"></a> 722             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L723" name="L723"></a> 723         <em class="brace">}</em>
<a id="L724" name="L724"></a> 724 
<a id="L725" name="L725"></a> 725         <a href="../S/2634.html#L79" title="Defined at 79 in src/javax/security/auth/kerberos/KerberosTicket.java.">KerberosTicket</a> otherTicket = ((<a href="../S/2634.html#L79" title="Defined at 79 in src/javax/security/auth/kerberos/KerberosTicket.java.">KerberosTicket</a>) other);
<a id="L726" name="L726"></a> 726         <strong class="reserved">if</strong> (<a href="../D/25434.html" title="Multiple defined in 7 places.">isDestroyed</a>() || otherTicket.<a href="../D/25434.html" title="Multiple defined in 7 places.">isDestroyed</a>()) <em class="brace">{</em>
<a id="L727" name="L727"></a> 727             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L728" name="L728"></a> 728         <em class="brace">}</em>
<a id="L729" name="L729"></a> 729 
<a id="L730" name="L730"></a> 730         <strong class="reserved">if</strong> (!<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>(), otherTicket.<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>()) ||
<a id="L731" name="L731"></a> 731                 !endTime.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherTicket.<a href="../S/2634.html#L481" title="Defined at 481 in src/javax/security/auth/kerberos/KerberosTicket.java.">getEndTime</a>()) ||
<a id="L732" name="L732"></a> 732                 !server.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherTicket.<a href="../D/22418.html" title="Multiple defined in 6 places.">getServer</a>()) ||
<a id="L733" name="L733"></a> 733                 !client.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherTicket.<a href="../S/2634.html#L335" title="Defined at 335 in src/javax/security/auth/kerberos/KerberosTicket.java.">getClient</a>()) ||
<a id="L734" name="L734"></a> 734                 !sessionKey.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherTicket.<a href="../S/2634.html#L353" title="Defined at 353 in src/javax/security/auth/kerberos/KerberosTicket.java.">getSessionKey</a>()) ||
<a id="L735" name="L735"></a> 735                 !<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(clientAddresses, otherTicket.<a href="../S/2634.html#L501" title="Defined at 501 in src/javax/security/auth/kerberos/KerberosTicket.java.">getClientAddresses</a>()) ||
<a id="L736" name="L736"></a> 736                 !<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>, otherTicket.<a href="../D/19132.html" title="Multiple defined in 7 places.">getFlags</a>())) <em class="brace">{</em>
<a id="L737" name="L737"></a> 737             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L738" name="L738"></a> 738         <em class="brace">}</em>
<a id="L739" name="L739"></a> 739 
<a id="L740" name="L740"></a> 740         <em class="comment">// authTime may be null</em>
<a id="L741" name="L741"></a> 741         <strong class="reserved">if</strong> (authTime == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L742" name="L742"></a> 742             <strong class="reserved">if</strong> (otherTicket.<a href="../S/2634.html#L462" title="Defined at 462 in src/javax/security/auth/kerberos/KerberosTicket.java.">getAuthTime</a>() != <strong class="reserved">null</strong>)
<a id="L743" name="L743"></a> 743                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L744" name="L744"></a> 744         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L745" name="L745"></a> 745             <strong class="reserved">if</strong> (!authTime.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherTicket.<a href="../S/2634.html#L462" title="Defined at 462 in src/javax/security/auth/kerberos/KerberosTicket.java.">getAuthTime</a>()))
<a id="L746" name="L746"></a> 746                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<a id="L749" name="L749"></a> 749         <em class="comment">// startTime may be null</em>
<a id="L750" name="L750"></a> 750         <strong class="reserved">if</strong> (startTime == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L751" name="L751"></a> 751             <strong class="reserved">if</strong> (otherTicket.<a href="../D/22722.html" title="Multiple defined in 2 places.">getStartTime</a>() != <strong class="reserved">null</strong>)
<a id="L752" name="L752"></a> 752                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L753" name="L753"></a> 753         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L754" name="L754"></a> 754             <strong class="reserved">if</strong> (!startTime.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherTicket.<a href="../D/22722.html" title="Multiple defined in 2 places.">getStartTime</a>()))
<a id="L755" name="L755"></a> 755                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L756" name="L756"></a> 756         <em class="brace">}</em>
<a id="L757" name="L757"></a> 757 
<a id="L758" name="L758"></a> 758         <strong class="reserved">if</strong> (renewTill == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759             <strong class="reserved">if</strong> (otherTicket.<a href="../S/2634.html#L491" title="Defined at 491 in src/javax/security/auth/kerberos/KerberosTicket.java.">getRenewTill</a>() != <strong class="reserved">null</strong>)
<a id="L760" name="L760"></a> 760                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L761" name="L761"></a> 761         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L762" name="L762"></a> 762             <strong class="reserved">if</strong> (!renewTill.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherTicket.<a href="../S/2634.html#L491" title="Defined at 491 in src/javax/security/auth/kerberos/KerberosTicket.java.">getRenewTill</a>()))
<a id="L763" name="L763"></a> 763                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L764" name="L764"></a> 764         <em class="brace">}</em>
<a id="L765" name="L765"></a> 765 
<a id="L766" name="L766"></a> 766         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L767" name="L767"></a> 767     <em class="brace">}</em>
<a id="L768" name="L768"></a> 768 
<a id="L769" name="L769"></a> 769     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L770" name="L770"></a> 770         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L771" name="L771"></a> 771         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L772" name="L772"></a> 772         <strong class="reserved">if</strong> (sessionKey == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L773" name="L773"></a> 773            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Session key cannot be null");
<a id="L774" name="L774"></a> 774         <em class="brace">}</em>
<a id="L775" name="L775"></a> 775         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L776" name="L776"></a> 776             <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(asn1Encoding, client, server, sessionKey,
<a id="L777" name="L777"></a> 777                  <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>, authTime, startTime, endTime,
<a id="L778" name="L778"></a> 778                  renewTill, clientAddresses);
<a id="L779" name="L779"></a> 779         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> iae) <em class="brace">{</em>
<a id="L780" name="L780"></a> 780             <strong class="reserved">throw</strong> (<a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>)
<a id="L781" name="L781"></a> 781                 <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>(iae.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>()).<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(iae);
<a id="L782" name="L782"></a> 782         <em class="brace">}</em>
<a id="L783" name="L783"></a> 783     <em class="brace">}</em>
<a id="L784" name="L784"></a> 784 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L245">[^]</a><a href="#L769">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>