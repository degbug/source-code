<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L182">[^]</a><a href="#L1012">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L182" title="Defined at 182.">setSecureProcessing</a></li>
<li><a href="#L189" title="Defined at 189.">isSecureProcessing</a></li>
<li><a href="#L195" title="Defined at 195.">useServicesMechnism</a></li>
<li><a href="#L202" title="Defined at 202.">setServicesMechnism</a></li>
<li><a href="#L211" title="Defined at 211.">getFeature</a></li>
<li><a href="#L218" title="Defined at 218.">getProperty</a></li>
<li><a href="#L235" title="Defined at 235.">setProperty</a></li>
<li><a href="#L254" title="Defined at 254.">getParser</a></li>
<li><a href="#L261" title="Defined at 261.">setOutputType</a></li>
<li><a href="#L268" title="Defined at 268.">getOutputProperties</a></li>
<li><a href="#L275" title="Defined at 275.">init</a></li>
<li><a href="#L282" title="Defined at 282.">setExternalExtensionFunctions</a></li>
<li><a href="#L293" title="Defined at 293.">loadExternalFunction</a></li>
<li><a href="#L313" title="Defined at 313.">getExternalExtensionFunctions</a></li>
<li><a href="#L320" title="Defined at 320.">reset</a></li>
<li><a href="#L352" title="Defined at 352.">setSourceLoader</a></li>
<li><a href="#L362" title="Defined at 362.">setTemplateInlining</a></li>
<li><a href="#L368" title="Defined at 368.">getTemplateInlining</a></li>
<li><a href="#L381" title="Defined at 381.">setPIParameters</a></li>
<li><a href="#L389" title="Defined at 389.">compile</a></li>
<li><a href="#L408" title="Defined at 408.">compile</a></li>
<li><a href="#L428" title="Defined at 428.">compile</a></li>
<li><a href="#L440" title="Defined at 440.">compile</a></li>
<li><a href="#L519" title="Defined at 519.">compile</a></li>
<li><a href="#L553" title="Defined at 553.">getBytecodes</a></li>
<li><a href="#L569" title="Defined at 569.">compile</a></li>
<li><a href="#L584" title="Defined at 584.">compile</a></li>
<li><a href="#L592" title="Defined at 592.">setXMLReader</a></li>
<li><a href="#L599" title="Defined at 599.">getXMLReader</a></li>
<li><a href="#L607" title="Defined at 607.">getErrors</a></li>
<li><a href="#L615" title="Defined at 615.">getWarnings</a></li>
<li><a href="#L622" title="Defined at 622.">printErrors</a></li>
<li><a href="#L629" title="Defined at 629.">printWarnings</a></li>
<li><a href="#L637" title="Defined at 637.">setMultiDocument</a></li>
<li><a href="#L641" title="Defined at 641.">isMultiDocument</a></li>
<li><a href="#L649" title="Defined at 649.">setCallsNodeset</a></li>
<li><a href="#L654" title="Defined at 654.">callsNodeset</a></li>
<li><a href="#L658" title="Defined at 658.">setHasIdCall</a></li>
<li><a href="#L662" title="Defined at 662.">hasIdCall</a></li>
<li><a href="#L672" title="Defined at 672.">setClassName</a></li>
<li><a href="#L686" title="Defined at 686.">getClassName</a></li>
<li><a href="#L694" title="Defined at 694.">classFileName</a></li>
<li><a href="#L701" title="Defined at 701.">getOutputFile</a></li>
<li><a href="#L712" title="Defined at 712.">setDestDirectory</a></li>
<li><a href="#L727" title="Defined at 727.">setPackageName</a></li>
<li><a href="#L736" title="Defined at 736.">setJarFileName</a></li>
<li><a href="#L745" title="Defined at 745.">getJarFileName</a></li>
<li><a href="#L752" title="Defined at 752.">setStylesheet</a></li>
<li><a href="#L759" title="Defined at 759.">getStylesheet</a></li>
<li><a href="#L767" title="Defined at 767.">registerAttribute</a></li>
<li><a href="#L789" title="Defined at 789.">registerElement</a></li>
<li><a href="#L807" title="Defined at 807.">registerNamespacePrefix</a></li>
<li><a href="#L828" title="Defined at 828.">registerNamespace</a></li>
<li><a href="#L838" title="Defined at 838.">nextModeSerial</a></li>
<li><a href="#L842" title="Defined at 842.">nextStylesheetSerial</a></li>
<li><a href="#L846" title="Defined at 846.">nextStepPatternSerial</a></li>
<li><a href="#L850" title="Defined at 850.">getNumberFieldIndexes</a></li>
<li><a href="#L854" title="Defined at 854.">nextHelperClassSerial</a></li>
<li><a href="#L858" title="Defined at 858.">nextAttributeSetSerial</a></li>
<li><a href="#L862" title="Defined at 862.">getNamesIndex</a></li>
<li><a href="#L866" title="Defined at 866.">getNamespaceIndex</a></li>
<li><a href="#L874" title="Defined at 874.">getHelperClassName</a></li>
<li><a href="#L878" title="Defined at 878.">dumpClass</a></li>
<li><a href="#L928" title="Defined at 928.">entryName</a></li>
<li><a href="#L935" title="Defined at 935.">outputToJar</a></li>
<li><a href="#L973" title="Defined at 973.">setDebug</a></li>
<li><a href="#L980" title="Defined at 980.">debug</a></li>
<li><a href="#L993" title="Defined at 993.">getCharacterData</a></li>
<li><a href="#L1001" title="Defined at 1001.">getCharacterDataCount</a></li>
<li><a href="#L1012" title="Defined at 1012.">addCharacterData</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<div class="comment">
  $Id: XSLTC.java,v 1.2.4.1 2005/09/05 09:51:38 pvedula Exp $</div>
<a id="L23" name="L23"></a>  23 
<a id="L24" name="L24"></a>  24 <strong class="reserved">package</strong> com.sun.org.apache.xalan.internal.xsltc.compiler;
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> com.sun.org.apache.bcel.internal.classfile.JavaClass;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.XalanConstants;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.utils.FeatureManager;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.utils.FeatureManager.Feature;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.utils.SecuritySupport;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.utils.XMLSecurityManager;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.xsltc.compiler.util.ErrorMsg;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.xsltc.compiler.util.Util;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.dtm.DTM;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.io.BufferedOutputStream;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.io.ByteArrayOutputStream;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.io.File;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.io.FileOutputStream;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.io.IOException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.net.URL;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.Collections;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.Date;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.util.Map;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.util.Properties;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.util.Vector;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> java.util.jar.JarEntry;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> java.util.jar.JarOutputStream;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> java.util.jar.Manifest;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> javax.xml.XMLConstants;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> org.xml.sax.InputSource;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> org.xml.sax.XMLReader;
<a id="L58" name="L58"></a>  58 
<div class="comment">
  @author Jacek Ambroziak
  @author Santiago Pericas-Geertsen
  @author G. Todd Miller
  @author Morten Jorgensen
  @author John Howard (johnh@schemasoft.com)</div>
<a id="L66" name="L66"></a>  66 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/9229.html" title="Multiple referred from 36 places.">XSLTC</a> <em class="brace">{</em>
<a id="L67" name="L67"></a>  67 
<a id="L68" name="L68"></a>  68     <em class="comment">// A reference to the main stylesheet parser object.</em>
<a id="L69" name="L69"></a>  69     <strong class="reserved">private</strong> <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> _parser;
<a id="L70" name="L70"></a>  70 
<a id="L71" name="L71"></a>  71     <em class="comment">// A reference to an external XMLReader (SAX parser) passed to us</em>
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <a href="../S/724.html#L84" title="Defined at 84 in src/org/xml/sax/XMLReader.java.">XMLReader</a> _reader = <strong class="reserved">null</strong>;
<a id="L73" name="L73"></a>  73 
<a id="L74" name="L74"></a>  74     <em class="comment">// A reference to an external SourceLoader (for use with include/import)</em>
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <a href="../S/6170.html#L31" title="Defined at 31 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/SourceLoader.java.">SourceLoader</a> _loader = <strong class="reserved">null</strong>;
<a id="L76" name="L76"></a>  76 
<a id="L77" name="L77"></a>  77     <em class="comment">// A reference to the stylesheet being compiled.</em>
<a id="L78" name="L78"></a>  78     <strong class="reserved">private</strong> <a href="../S/6198.html#L68" title="Defined at 68 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Stylesheet.java.">Stylesheet</a> _stylesheet;
<a id="L79" name="L79"></a>  79 
<a id="L80" name="L80"></a>  80     <em class="comment">// Counters used by various classes to generate unique names.</em>
<a id="L81" name="L81"></a>  81     <em class="comment">// private int _variableSerial     = 1;</em>
<a id="L82" name="L82"></a>  82     <strong class="reserved">private</strong> <strong class="reserved">int</strong> _modeSerial         = 1;
<a id="L83" name="L83"></a>  83     <strong class="reserved">private</strong> <strong class="reserved">int</strong> _stylesheetSerial   = 1;
<a id="L84" name="L84"></a>  84     <strong class="reserved">private</strong> <strong class="reserved">int</strong> _stepPatternSerial  = 1;
<a id="L85" name="L85"></a>  85     <strong class="reserved">private</strong> <strong class="reserved">int</strong> _helperClassSerial  = 0;
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">int</strong> _attributeSetSerial = 0;
<a id="L87" name="L87"></a>  87 
<a id="L88" name="L88"></a>  88     <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] _numberFieldIndexes;
<a id="L89" name="L89"></a>  89 
<a id="L90" name="L90"></a>  90     <em class="comment">// Name index tables</em>
<a id="L91" name="L91"></a>  91     <strong class="reserved">private</strong> <strong class="reserved">int</strong>       _nextGType;  <em class="comment">// Next available element type</em>
<a id="L92" name="L92"></a>  92     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>    _namesIndex; <em class="comment">// Index of all registered QNames</em>
<a id="L93" name="L93"></a>  93     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> _elements;   <em class="comment">// Hashtable of all registered elements</em>
<a id="L94" name="L94"></a>  94     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> _attributes; <em class="comment">// Hashtable of all registered attributes</em>
<a id="L95" name="L95"></a>  95 
<a id="L96" name="L96"></a>  96     <em class="comment">// Namespace index tables</em>
<a id="L97" name="L97"></a>  97     <strong class="reserved">private</strong> <strong class="reserved">int</strong>       _nextNSType; <em class="comment">// Next available namespace type</em>
<a id="L98" name="L98"></a>  98     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>    _namespaceIndex; <em class="comment">// Index of all registered namespaces</em>
<a id="L99" name="L99"></a>  99     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> _namespaces; <em class="comment">// Hashtable of all registered namespaces</em>
<a id="L100" name="L100"></a> 100     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> _namespacePrefixes;<em class="comment">// Hashtable of all registered namespace prefixes</em>
<a id="L101" name="L101"></a> 101 
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     <em class="comment">// All literal text in the stylesheet</em>
<a id="L104" name="L104"></a> 104     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> m_characterData;
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106     <em class="comment">// These define the various methods for outputting the translet</em>
<a id="L107" name="L107"></a> 107     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> FILE_OUTPUT        = 0;
<a id="L108" name="L108"></a> 108     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> JAR_OUTPUT         = 1;
<a id="L109" name="L109"></a> 109     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> BYTEARRAY_OUTPUT   = 2;
<a id="L110" name="L110"></a> 110     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CLASSLOADER_OUTPUT = 3;
<a id="L111" name="L111"></a> 111     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> BYTEARRAY_AND_FILE_OUTPUT = 4;
<a id="L112" name="L112"></a> 112     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> BYTEARRAY_AND_JAR_OUTPUT  = 5;
<a id="L113" name="L113"></a> 113 
<a id="L114" name="L114"></a> 114 
<a id="L115" name="L115"></a> 115     <em class="comment">// Compiler options (passed from command line or XSLTC client)</em>
<a id="L116" name="L116"></a> 116     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> _debug = <strong class="reserved">false</strong>;      <em class="comment">// -x</em>
<a id="L117" name="L117"></a> 117     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  _jarFileName = <strong class="reserved">null</strong>; <em class="comment">// -j &lt;jar-file-name&gt;</em>
<a id="L118" name="L118"></a> 118     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  _className = <strong class="reserved">null</strong>;   <em class="comment">// -o &lt;class-name&gt;</em>
<a id="L119" name="L119"></a> 119     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  _packageName = <strong class="reserved">null</strong>; <em class="comment">// -p &lt;package-name&gt;</em>
<a id="L120" name="L120"></a> 120     <strong class="reserved">private</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>    _destDir = <strong class="reserved">null</strong>;     <em class="comment">// -d &lt;directory-name&gt;</em>
<a id="L121" name="L121"></a> 121     <strong class="reserved">private</strong> <strong class="reserved">int</strong>     _outputType = FILE_OUTPUT; <em class="comment">// by default</em>
<a id="L122" name="L122"></a> 122 
<a id="L123" name="L123"></a> 123     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>  _classes;
<a id="L124" name="L124"></a> 124     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>  _bcelClasses;
<a id="L125" name="L125"></a> 125     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> _callsNodeset = <strong class="reserved">false</strong>;
<a id="L126" name="L126"></a> 126     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> _multiDocument = <strong class="reserved">false</strong>;
<a id="L127" name="L127"></a> 127     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> _hasIdCall = <strong class="reserved">false</strong>;
<a id="L128" name="L128"></a> 128 
<div class="comment">
      Set to true if template inlining is requested. Template
      inlining used to be the default, but we have found that
      Hotspots does a better job with shorter methods, so the
      default is *not* to inline now.</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> _templateInlining = <strong class="reserved">false</strong>;
<a id="L136" name="L136"></a> 136 
<div class="comment">
      State of the secure processing feature.</div>
<a id="L140" name="L140"></a> 140     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> _isSecureProcessing = <strong class="reserved">false</strong>;
<a id="L141" name="L141"></a> 141 
<a id="L142" name="L142"></a> 142     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> _useServicesMechanism = <strong class="reserved">true</strong>;
<a id="L143" name="L143"></a> 143 
<div class="comment">
      protocols allowed for external references set by the stylesheet processing instruction, Import and Include element.</div>
<a id="L147" name="L147"></a> 147     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> _accessExternalStylesheet = <a href="../S/6256.html#L37" title="Defined at 37 in src/com/sun/org/apache/xalan/internal/XalanConstants.java.">XalanConstants</a>.EXTERNAL_ACCESS_DEFAULT;
<div class="comment">
      protocols allowed for external DTD references in source file and/or stylesheet.</div>
<a id="L151" name="L151"></a> 151     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> _accessExternalDTD = <a href="../S/6256.html#L37" title="Defined at 37 in src/com/sun/org/apache/xalan/internal/XalanConstants.java.">XalanConstants</a>.EXTERNAL_ACCESS_DEFAULT;
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153     <strong class="reserved">private</strong> <a href="../D/10000.html" title="Multiple defined in 2 places.">XMLSecurityManager</a> _xmlSecurityManager;
<a id="L154" name="L154"></a> 154 
<a id="L155" name="L155"></a> 155     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/6249.html#L35" title="Defined at 35 in src/com/sun/org/apache/xalan/internal/utils/FeatureManager.java.">FeatureManager</a> _featureManager;
<a id="L156" name="L156"></a> 156 
<div class="comment">
      Extension function class loader variables</div>
<a id="L160" name="L160"></a> 160 
<div class="comment">
     /* Class loader reference that will be used for external extension functions loading */</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">private</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> _extensionClassLoader;
<a id="L163" name="L163"></a> 163 
<div class="comment">
      HashMap with the loaded classes</div>
<a id="L167" name="L167"></a> 167     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&gt; _externalExtensionFunctions;
<a id="L168" name="L168"></a> 168 
<div class="comment">
      XSLTC compiler constructor</div>
<a id="L172" name="L172"></a> 172     <strong class="reserved">public</strong> XSLTC(<strong class="reserved">boolean</strong> <a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a>, <a href="../S/6249.html#L35" title="Defined at 35 in src/com/sun/org/apache/xalan/internal/utils/FeatureManager.java.">FeatureManager</a> featureManager) <em class="brace">{</em>
<a id="L173" name="L173"></a> 173         _parser = <strong class="reserved">new</strong> <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a>(<strong class="reserved">this</strong>, <a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a>);
<a id="L174" name="L174"></a> 174         _featureManager = featureManager;
<a id="L175" name="L175"></a> 175         _extensionClassLoader = <strong class="reserved">null</strong>;
<a id="L176" name="L176"></a> 176         _externalExtensionFunctions = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L177" name="L177"></a> 177     <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<div class="comment">
      Set the state of the secure processing feature.</div>
<a id="L182" name="L182"></a> 182     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28120.html" title="Multiple referred from 10 places.">setSecureProcessing</a>(<strong class="reserved">boolean</strong> flag) <em class="brace">{</em>
<a id="L183" name="L183"></a> 183         _isSecureProcessing = flag;
<a id="L184" name="L184"></a> 184     <em class="brace">}</em>
<a id="L185" name="L185"></a> 185 
<div class="comment">
      Return the state of the secure processing feature.</div>
<a id="L189" name="L189"></a> 189     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21998.html" title="Multiple referred from 25 places.">isSecureProcessing</a>() <em class="brace">{</em>
<a id="L190" name="L190"></a> 190         <strong class="reserved">return</strong> _isSecureProcessing;
<a id="L191" name="L191"></a> 191     <em class="brace">}</em>
<div class="comment">
      Return the state of the services mechanism feature.</div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/30024.html" title="Multiple referred from 7 places.">useServicesMechnism</a>() <em class="brace">{</em>
<a id="L196" name="L196"></a> 196         <strong class="reserved">return</strong> _useServicesMechanism;
<a id="L197" name="L197"></a> 197     <em class="brace">}</em>
<a id="L198" name="L198"></a> 198 
<div class="comment">
      Set the state of the services mechanism feature.</div>
<a id="L202" name="L202"></a> 202     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28168.html" title="Multiple referred from 3 places.">setServicesMechnism</a>(<strong class="reserved">boolean</strong> flag) <em class="brace">{</em>
<a id="L203" name="L203"></a> 203         _useServicesMechanism = flag;
<a id="L204" name="L204"></a> 204     <em class="brace">}</em>
<a id="L205" name="L205"></a> 205 
<div class="comment">
      Return the value of the specified feature
      @param name name of the feature
      @return true if the feature is enabled, false otherwise</div>
<a id="L211" name="L211"></a> 211     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/16538.html" title="Multiple referred from 145 places.">getFeature</a>(<a href="../S/6249.html#L50" title="Defined at 50 in src/com/sun/org/apache/xalan/internal/utils/FeatureManager.java.">Feature</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212         <strong class="reserved">return</strong> _featureManager.<a href="../D/25542.html" title="Multiple defined in 2 places.">isFeatureEnabled</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L213" name="L213"></a> 213     <em class="brace">}</em>
<a id="L214" name="L214"></a> 214 
<div class="comment">
      Return allowed protocols for accessing external stylesheet.</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/18510.html" title="Multiple referred from 728 places.">getProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3865.html#L43" title="Defined at 43 in src/javax/xml/XMLConstants.java.">XMLConstants</a>.<a href="../S/6254.html#L44" title="Defined at 44 in src/com/sun/org/apache/xalan/internal/utils/XMLSecurityPropertyManager.java.">ACCESS_EXTERNAL_STYLESHEET</a>)) <em class="brace">{</em>
<a id="L220" name="L220"></a> 220             <strong class="reserved">return</strong> _accessExternalStylesheet;
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3865.html#L43" title="Defined at 43 in src/javax/xml/XMLConstants.java.">XMLConstants</a>.<a href="../D/4.html" title="Multiple defined in 2 places.">ACCESS_EXTERNAL_DTD</a>)) <em class="brace">{</em>
<a id="L223" name="L223"></a> 223             <strong class="reserved">return</strong> _accessExternalDTD;
<a id="L224" name="L224"></a> 224         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/6256.html#L37" title="Defined at 37 in src/com/sun/org/apache/xalan/internal/XalanConstants.java.">XalanConstants</a>.SECURITY_MANAGER)) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225             <strong class="reserved">return</strong> _xmlSecurityManager;
<a id="L226" name="L226"></a> 226         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/6256.html#L37" title="Defined at 37 in src/com/sun/org/apache/xalan/internal/XalanConstants.java.">XalanConstants</a>.JDK_EXTENSION_CLASSLOADER)) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227             <strong class="reserved">return</strong> _extensionClassLoader;
<a id="L228" name="L228"></a> 228         <em class="brace">}</em>
<a id="L229" name="L229"></a> 229         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L230" name="L230"></a> 230     <em class="brace">}</em>
<a id="L231" name="L231"></a> 231 
<div class="comment">
      Set allowed protocols for accessing external stylesheet.</div>
<a id="L235" name="L235"></a> 235     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27976.html" title="Multiple referred from 343 places.">setProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3865.html#L43" title="Defined at 43 in src/javax/xml/XMLConstants.java.">XMLConstants</a>.<a href="../S/6254.html#L44" title="Defined at 44 in src/com/sun/org/apache/xalan/internal/utils/XMLSecurityPropertyManager.java.">ACCESS_EXTERNAL_STYLESHEET</a>)) <em class="brace">{</em>
<a id="L237" name="L237"></a> 237             _accessExternalStylesheet = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L238" name="L238"></a> 238         <em class="brace">}</em>
<a id="L239" name="L239"></a> 239         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3865.html#L43" title="Defined at 43 in src/javax/xml/XMLConstants.java.">XMLConstants</a>.<a href="../D/4.html" title="Multiple defined in 2 places.">ACCESS_EXTERNAL_DTD</a>)) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240             _accessExternalDTD = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L241" name="L241"></a> 241         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/6256.html#L37" title="Defined at 37 in src/com/sun/org/apache/xalan/internal/XalanConstants.java.">XalanConstants</a>.SECURITY_MANAGER)) <em class="brace">{</em>
<a id="L242" name="L242"></a> 242             _xmlSecurityManager = (<a href="../D/10000.html" title="Multiple defined in 2 places.">XMLSecurityManager</a>)<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L243" name="L243"></a> 243         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/6256.html#L37" title="Defined at 37 in src/com/sun/org/apache/xalan/internal/XalanConstants.java.">XalanConstants</a>.JDK_EXTENSION_CLASSLOADER)) <em class="brace">{</em>
<a id="L244" name="L244"></a> 244             _extensionClassLoader = (<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>) <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<div class="comment">
 Clear the external extension functions HashMap if extension class
               loader was changed </div>
<a id="L247" name="L247"></a> 247             _externalExtensionFunctions.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L248" name="L248"></a> 248         <em class="brace">}</em>
<a id="L249" name="L249"></a> 249     <em class="brace">}</em>
<a id="L250" name="L250"></a> 250 
<div class="comment">
      Only for user by the internal TrAX implementation.</div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">public</strong> <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> <a href="../R/18285.html" title="Multiple referred from 96 places.">getParser</a>() <em class="brace">{</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">return</strong> _parser;
<a id="L256" name="L256"></a> 256     <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
      Only for user by the internal TrAX implementation.</div>
<a id="L261" name="L261"></a> 261     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27883.html" title="Multiple referred from 7 places.">setOutputType</a>(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262         _outputType = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L263" name="L263"></a> 263     <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<div class="comment">
      Only for user by the internal TrAX implementation.</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">public</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> <a href="../R/18190.html" title="Multiple referred from 6 places.">getOutputProperties</a>() <em class="brace">{</em>
<a id="L269" name="L269"></a> 269         <strong class="reserved">return</strong> _parser.<a href="../D/21277.html" title="Multiple defined in 7 places.">getOutputProperties</a>();
<a id="L270" name="L270"></a> 270     <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<div class="comment">
      Initializes the compiler to compile a new stylesheet</div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>() <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L277" name="L277"></a> 277         _reader = <strong class="reserved">null</strong>;
<a id="L278" name="L278"></a> 278         _classes = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L279" name="L279"></a> 279         _bcelClasses = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<a id="L282" name="L282"></a> 282     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/6196.html#L300" title="Referred from 300 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">setExternalExtensionFunctions</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283         <strong class="reserved">if</strong> (_isSecureProcessing &amp;&amp; <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> != <strong class="reserved">null</strong> &amp;&amp; !_externalExtensionFunctions.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284             _externalExtensionFunctions.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>);
<a id="L285" name="L285"></a> 285         <em class="brace">}</em>
<a id="L286" name="L286"></a> 286     <em class="brace">}</em>
<a id="L287" name="L287"></a> 287 
<div class="comment">
      Function loads an external extension functions.
      The filtering of function types (external,internal) takes place in FunctionCall class</div>
<a id="L293" name="L293"></a> 293     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> <a href="../S/6222.html#L918" title="Referred from 918 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/FunctionCall.java.">loadExternalFunction</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> loaded = <strong class="reserved">null</strong>;
<a id="L295" name="L295"></a> 295         <em class="comment">//Check if the function is not loaded already</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">if</strong> (_externalExtensionFunctions.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297             loaded = _externalExtensionFunctions.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L298" name="L298"></a> 298         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (_extensionClassLoader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299             loaded = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">true</strong>, _extensionClassLoader);
<a id="L300" name="L300"></a> 300             <a href="../S/6196.html#L282" title="Defined at 282 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">setExternalExtensionFunctions</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, loaded);
<a id="L301" name="L301"></a> 301         <em class="brace">}</em>
<a id="L302" name="L302"></a> 302         <strong class="reserved">if</strong> (loaded == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L304" name="L304"></a> 304         <em class="brace">}</em>
<a id="L305" name="L305"></a> 305         <em class="comment">//Return loaded class</em>
<a id="L306" name="L306"></a> 306         <strong class="reserved">return</strong> (<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>) loaded;
<a id="L307" name="L307"></a> 307     <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<div class="comment">
      Returns unmodifiable view of HashMap with loaded external extension
      functions - will be needed for the TransformerImpl</div>
<a id="L313" name="L313"></a> 313     <strong class="reserved">public</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&gt; <a href="../S/6006.html#L928" title="Referred from 928 in src/com/sun/org/apache/xalan/internal/xsltc/trax/TransformerFactoryImpl.java.">getExternalExtensionFunctions</a>() <em class="brace">{</em>
<a id="L314" name="L314"></a> 314         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1432" title="Defined at 1432 in src/java/util/Collections.java.">unmodifiableMap</a>(_externalExtensionFunctions);
<a id="L315" name="L315"></a> 315     <em class="brace">}</em>
<a id="L316" name="L316"></a> 316 
<div class="comment">
      Initializes the compiler to produce a new translet</div>
<a id="L320" name="L320"></a> 320     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>() <em class="brace">{</em>
<a id="L321" name="L321"></a> 321         _nextGType      = <a href="../S/5924.html#L80" title="Defined at 80 in src/com/sun/org/apache/xml/internal/dtm/DTM.java.">DTM</a>.NTYPES;
<a id="L322" name="L322"></a> 322         _elements       = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L323" name="L323"></a> 323         _attributes     = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L324" name="L324"></a> 324         _namespaces     = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L325" name="L325"></a> 325         _namespaces.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("",<strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(_nextNSType));
<a id="L326" name="L326"></a> 326         _namesIndex     = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>(128);
<a id="L327" name="L327"></a> 327         _namespaceIndex = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>(32);
<a id="L328" name="L328"></a> 328         _namespacePrefixes = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L329" name="L329"></a> 329         _stylesheet     = <strong class="reserved">null</strong>;
<a id="L330" name="L330"></a> 330         _parser.<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>();
<a id="L331" name="L331"></a> 331         <em class="comment">//_variableSerial     = 1;</em>
<a id="L332" name="L332"></a> 332         _modeSerial         = 1;
<a id="L333" name="L333"></a> 333         _stylesheetSerial   = 1;
<a id="L334" name="L334"></a> 334         _stepPatternSerial  = 1;
<a id="L335" name="L335"></a> 335         _helperClassSerial  = 0;
<a id="L336" name="L336"></a> 336         _attributeSetSerial = 0;
<a id="L337" name="L337"></a> 337         _multiDocument      = <strong class="reserved">false</strong>;
<a id="L338" name="L338"></a> 338         _hasIdCall          = <strong class="reserved">false</strong>;
<a id="L339" name="L339"></a> 339         _numberFieldIndexes = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[] <em class="brace">{</em>
<a id="L340" name="L340"></a> 340             -1,         <em class="comment">// LEVEL_SINGLE</em>
<a id="L341" name="L341"></a> 341             -1,         <em class="comment">// LEVEL_MULTIPLE</em>
<a id="L342" name="L342"></a> 342             -1          <em class="comment">// LEVEL_ANY</em>
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>;
<a id="L344" name="L344"></a> 344         _externalExtensionFunctions.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L345" name="L345"></a> 345     <em class="brace">}</em>
<a id="L346" name="L346"></a> 346 
<div class="comment">
      Defines an external SourceLoader to provide the compiler with documents
      referenced in xsl:include/import
      @param loader The SourceLoader to use for include/import</div>
<a id="L352" name="L352"></a> 352     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28200.html" title="Multiple referred from 5 places.">setSourceLoader</a>(<a href="../S/6170.html#L31" title="Defined at 31 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/SourceLoader.java.">SourceLoader</a> loader) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353         _loader = loader;
<a id="L354" name="L354"></a> 354     <em class="brace">}</em>
<a id="L355" name="L355"></a> 355 
<div class="comment">
      Set a flag indicating if templates are to be inlined or not. The
      default is to do inlining, but this causes problems when the
      stylesheets have a large number of templates (e.g. branch targets
      exceeding 64K or a length of a method exceeding 64K).</div>
<a id="L362" name="L362"></a> 362     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28270.html" title="Multiple referred from 11 places.">setTemplateInlining</a>(<strong class="reserved">boolean</strong> templateInlining) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363         _templateInlining = templateInlining;
<a id="L364" name="L364"></a> 364     <em class="brace">}</em>
<div class="comment">
      Return the state of the template inlining feature.</div>
<a id="L368" name="L368"></a> 368     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/19415.html" title="Multiple referred from 3 places.">getTemplateInlining</a>() <em class="brace">{</em>
<a id="L369" name="L369"></a> 369         <strong class="reserved">return</strong> _templateInlining;
<a id="L370" name="L370"></a> 370     <em class="brace">}</em>
<a id="L371" name="L371"></a> 371 
<div class="comment">
      Set the parameters to use to locate the correct <!--?xml-stylesheet ...?-->
      processing instruction in the case where the input document to the
      compiler (and parser) is an XML document.
      @param media The media attribute to be matched. May be null, in which
      case the prefered templates will be used (i.e. alternate = no).
      @param title The value of the title attribute to match. May be null.
      @param charset The value of the charset attribute to match. May be null.</div>
<a id="L381" name="L381"></a> 381     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27891.html" title="Multiple referred from 2 places.">setPIParameters</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> media, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> title, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382         _parser.<a href="../D/33470.html" title="Multiple defined in 2 places.">setPIParameters</a>(media, title, <a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>);
<a id="L383" name="L383"></a> 383     <em class="brace">}</em>
<a id="L384" name="L384"></a> 384 
<div class="comment">
      Compiles an XSL stylesheet pointed to by a URL
      @param url An URL containing the input XSL stylesheet</div>
<a id="L389" name="L389"></a> 389     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11734.html" title="Multiple referred from 113 places.">compile</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L391" name="L391"></a> 391             <em class="comment">// Open input stream from URL and wrap inside InputSource</em>
<a id="L392" name="L392"></a> 392             <strong class="reserved">final</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a> = url.<a href="../S/768.html#L1037" title="Defined at 1037 in src/java/net/URL.java.">openStream</a>();
<a id="L393" name="L393"></a> 393             <strong class="reserved">final</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a> = <strong class="reserved">new</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L394" name="L394"></a> 394             <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(url.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L395" name="L395"></a> 395             <strong class="reserved">return</strong> <a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, _className);
<a id="L396" name="L396"></a> 396         <em class="brace">}</em>
<a id="L397" name="L397"></a> 397         <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L398" name="L398"></a> 398             _parser.<a href="../D/31088.html" title="Multiple defined in 17 places.">reportError</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.FATAL, <strong class="reserved">new</strong> <a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>(<a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>.JAXP_COMPILE_ERR, e));
<a id="L399" name="L399"></a> 399             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L400" name="L400"></a> 400         <em class="brace">}</em>
<a id="L401" name="L401"></a> 401     <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<div class="comment">
      Compiles an XSL stylesheet pointed to by a URL
      @param url An URL containing the input XSL stylesheet
      @param name The name to assign to the translet class</div>
<a id="L408" name="L408"></a> 408     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11734.html" title="Multiple referred from 113 places.">compile</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L410" name="L410"></a> 410             <em class="comment">// Open input stream from URL and wrap inside InputSource</em>
<a id="L411" name="L411"></a> 411             <strong class="reserved">final</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a> = url.<a href="../S/768.html#L1037" title="Defined at 1037 in src/java/net/URL.java.">openStream</a>();
<a id="L412" name="L412"></a> 412             <strong class="reserved">final</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a> = <strong class="reserved">new</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L413" name="L413"></a> 413             <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(url.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L414" name="L414"></a> 414             <strong class="reserved">return</strong> <a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L415" name="L415"></a> 415         <em class="brace">}</em>
<a id="L416" name="L416"></a> 416         <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417             _parser.<a href="../D/31088.html" title="Multiple defined in 17 places.">reportError</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.FATAL, <strong class="reserved">new</strong> <a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>(<a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>.JAXP_COMPILE_ERR, e));
<a id="L418" name="L418"></a> 418             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L419" name="L419"></a> 419         <em class="brace">}</em>
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<div class="comment">
      Compiles an XSL stylesheet passed in through an InputStream
      @param stream An InputStream that will pass in the stylesheet contents
      @param name The name of the translet class to generate
      @return 'true' if the compilation was successful</div>
<a id="L428" name="L428"></a> 428     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11734.html" title="Multiple referred from 113 places.">compile</a>(<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429         <strong class="reserved">final</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a> = <strong class="reserved">new</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L430" name="L430"></a> 430         <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>); <em class="comment">// We have nothing else!!!</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">return</strong> <a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L432" name="L432"></a> 432     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<div class="comment">
      Compiles an XSL stylesheet passed in through an InputStream
      @param input An InputSource that will pass in the stylesheet contents
      @param name The name of the translet class to generate - can be null
      @return 'true' if the compilation was successful</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11734.html" title="Multiple referred from 113 places.">compile</a>(<a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L442" name="L442"></a> 442             <em class="comment">// Reset globals in case we're called by compile(Vector v);</em>
<a id="L443" name="L443"></a> 443             <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L444" name="L444"></a> 444 
<a id="L445" name="L445"></a> 445             <em class="comment">// The systemId may not be set, so we'll have to check the URL</em>
<a id="L446" name="L446"></a> 446             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> = <strong class="reserved">null</strong>;
<a id="L447" name="L447"></a> 447             <strong class="reserved">if</strong> (<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448                 <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> = <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>();
<a id="L449" name="L449"></a> 449             <em class="brace">}</em>
<a id="L450" name="L450"></a> 450 
<a id="L451" name="L451"></a> 451             <em class="comment">// Set the translet class name if not already set</em>
<a id="L452" name="L452"></a> 452             <strong class="reserved">if</strong> (_className == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453                 <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L454" name="L454"></a> 454                     <a href="../D/32157.html" title="Multiple defined in 7 places.">setClassName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L455" name="L455"></a> 455                 <em class="brace">}</em>
<a id="L456" name="L456"></a> 456                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong> &amp;&amp; !<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457                     <a href="../D/32157.html" title="Multiple defined in 7 places.">setClassName</a>(<a href="../D/9440.html" title="Multiple defined in 6 places.">Util</a>.<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>));
<a id="L458" name="L458"></a> 458                 <em class="brace">}</em>
<a id="L459" name="L459"></a> 459 
<a id="L460" name="L460"></a> 460                 <em class="comment">// Ensure we have a non-empty class name at this point</em>
<a id="L461" name="L461"></a> 461                 <strong class="reserved">if</strong> (_className == <strong class="reserved">null</strong> || _className.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462                     <a href="../D/32157.html" title="Multiple defined in 7 places.">setClassName</a>("GregorSamsa"); <em class="comment">// default translet name</em>
<a id="L463" name="L463"></a> 463                 <em class="brace">}</em>
<a id="L464" name="L464"></a> 464             <em class="brace">}</em>
<a id="L465" name="L465"></a> 465 
<a id="L466" name="L466"></a> 466             <em class="comment">// Get the root node of the abstract syntax tree</em>
<a id="L467" name="L467"></a> 467             <a href="../S/6076.html#L64" title="Defined at 64 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/SyntaxTreeNode.java.">SyntaxTreeNode</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = <strong class="reserved">null</strong>;
<a id="L468" name="L468"></a> 468             <strong class="reserved">if</strong> (_reader == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = _parser.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>);
<a id="L470" name="L470"></a> 470             <em class="brace">}</em>
<a id="L471" name="L471"></a> 471             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L472" name="L472"></a> 472                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = _parser.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(_reader, <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>);
<a id="L473" name="L473"></a> 473             <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475             <em class="comment">// Compile the translet - this is where the work is done!</em>
<a id="L476" name="L476"></a> 476             <strong class="reserved">if</strong> ((!_parser.<a href="../S/6089.html#L1179" title="Defined at 1179 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Parser.java.">errorsFound</a>()) &amp;&amp; (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L477" name="L477"></a> 477                 <em class="comment">// Create a Stylesheet element from the root node</em>
<a id="L478" name="L478"></a> 478                 _stylesheet = _parser.<a href="../S/6089.html#L364" title="Defined at 364 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Parser.java.">makeStylesheet</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L479" name="L479"></a> 479                 _stylesheet.<a href="../D/33963.html" title="Multiple defined in 2 places.">setSourceLoader</a>(_loader);
<a id="L480" name="L480"></a> 480                 _stylesheet.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L481" name="L481"></a> 481                 _stylesheet.<a href="../S/6198.html#L402" title="Defined at 402 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Stylesheet.java.">setParentStylesheet</a>(<strong class="reserved">null</strong>);
<a id="L482" name="L482"></a> 482                 _stylesheet.<a href="../D/34089.html" title="Multiple defined in 2 places.">setTemplateInlining</a>(_templateInlining);
<a id="L483" name="L483"></a> 483                 _parser.<a href="../S/6089.html#L228" title="Defined at 228 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Parser.java.">setCurrentStylesheet</a>(_stylesheet);
<a id="L484" name="L484"></a> 484 
<a id="L485" name="L485"></a> 485                 <em class="comment">// Create AST under the Stylesheet element (parse &amp; type-check)</em>
<a id="L486" name="L486"></a> 486                 _parser.<a href="../S/6089.html#L395" title="Defined at 395 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Parser.java.">createAST</a>(_stylesheet);
<a id="L487" name="L487"></a> 487             <em class="brace">}</em>
<a id="L488" name="L488"></a> 488             <em class="comment">// Generate the bytecodes and output the translet class(es)</em>
<a id="L489" name="L489"></a> 489             <strong class="reserved">if</strong> ((!_parser.<a href="../S/6089.html#L1179" title="Defined at 1179 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Parser.java.">errorsFound</a>()) &amp;&amp; (_stylesheet != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490                 _stylesheet.<a href="../D/32088.html" title="Multiple defined in 3 places.">setCallsNodeset</a>(_callsNodeset);
<a id="L491" name="L491"></a> 491                 _stylesheet.<a href="../D/33298.html" title="Multiple defined in 3 places.">setMultiDocument</a>(_multiDocument);
<a id="L492" name="L492"></a> 492                 _stylesheet.<a href="../D/32832.html" title="Multiple defined in 3 places.">setHasIdCall</a>(_hasIdCall);
<a id="L493" name="L493"></a> 493 
<a id="L494" name="L494"></a> 494                 <em class="comment">// Class synchronization is needed for BCEL</em>
<a id="L495" name="L495"></a> 495                 <strong class="reserved">synchronized</strong> (<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()) <em class="brace">{</em>
<a id="L496" name="L496"></a> 496                     _stylesheet.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>();
<a id="L497" name="L497"></a> 497                 <em class="brace">}</em>
<a id="L498" name="L498"></a> 498             <em class="brace">}</em>
<a id="L499" name="L499"></a> 499         <em class="brace">}</em>
<a id="L500" name="L500"></a> 500         <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<div class="comment">
             /*if (_debug)*/</div> e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L502" name="L502"></a> 502             _parser.<a href="../D/31088.html" title="Multiple defined in 17 places.">reportError</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.FATAL, <strong class="reserved">new</strong> <a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>(<a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>.JAXP_COMPILE_ERR, e));
<a id="L503" name="L503"></a> 503         <em class="brace">}</em>
<a id="L504" name="L504"></a> 504         <strong class="reserved">catch</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a> e) <em class="brace">{</em>
<a id="L505" name="L505"></a> 505             <strong class="reserved">if</strong> (_debug) e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L506" name="L506"></a> 506             _parser.<a href="../D/31088.html" title="Multiple defined in 17 places.">reportError</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.FATAL, <strong class="reserved">new</strong> <a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>(<a href="../S/6100.html#L41" title="Defined at 41 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">ErrorMsg</a>.JAXP_COMPILE_ERR, e));
<a id="L507" name="L507"></a> 507         <em class="brace">}</em>
<a id="L508" name="L508"></a> 508         <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L509" name="L509"></a> 509             _reader = <strong class="reserved">null</strong>; <em class="comment">// reset this here to be sure it is not re-used</em>
<a id="L510" name="L510"></a> 510         <em class="brace">}</em>
<a id="L511" name="L511"></a> 511         <strong class="reserved">return</strong> !_parser.<a href="../S/6089.html#L1179" title="Defined at 1179 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Parser.java.">errorsFound</a>();
<a id="L512" name="L512"></a> 512     <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<div class="comment">
      Compiles a set of stylesheets pointed to by a Vector of URLs
      @param stylesheets A Vector containing URLs pointing to the stylesheets
      @return 'true' if the compilation was successful</div>
<a id="L519" name="L519"></a> 519     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11734.html" title="Multiple referred from 113 places.">compile</a>(<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> stylesheets) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520         <em class="comment">// Get the number of stylesheets (ie. URLs) in the vector</em>
<a id="L521" name="L521"></a> 521         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = stylesheets.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L522" name="L522"></a> 522 
<a id="L523" name="L523"></a> 523         <em class="comment">// Return straight away if the vector is empty</em>
<a id="L524" name="L524"></a> 524         <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 0) <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526         <em class="comment">// Special handling needed if the URL count is one, becuase the</em>
<a id="L527" name="L527"></a> 527         <em class="comment">// _className global must not be reset if it was set explicitly</em>
<a id="L528" name="L528"></a> 528         <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == 1) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529             <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> url = stylesheets.<a href="../D/16403.html" title="Multiple defined in 2 places.">firstElement</a>();
<a id="L530" name="L530"></a> 530             <strong class="reserved">if</strong> (url <strong class="reserved">instanceof</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>)
<a id="L531" name="L531"></a> 531                 <strong class="reserved">return</strong> <a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>((<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>)url);
<a id="L532" name="L532"></a> 532             <strong class="reserved">else</strong>
<a id="L533" name="L533"></a> 533                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L534" name="L534"></a> 534         <em class="brace">}</em>
<a id="L535" name="L535"></a> 535         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L536" name="L536"></a> 536             <em class="comment">// Traverse all elements in the vector and compile</em>
<a id="L537" name="L537"></a> 537             <strong class="reserved">final</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> urls = stylesheets.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L538" name="L538"></a> 538             <strong class="reserved">while</strong> (urls.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539                 _className = <strong class="reserved">null</strong>; <em class="comment">// reset, so that new name will be computed</em>
<a id="L540" name="L540"></a> 540                 <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> url = urls.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L541" name="L541"></a> 541                 <strong class="reserved">if</strong> (url <strong class="reserved">instanceof</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542                     <strong class="reserved">if</strong> (!<a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>((<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>)url)) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L543" name="L543"></a> 543                 <em class="brace">}</em>
<a id="L544" name="L544"></a> 544             <em class="brace">}</em>
<a id="L545" name="L545"></a> 545         <em class="brace">}</em>
<a id="L546" name="L546"></a> 546         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L547" name="L547"></a> 547     <em class="brace">}</em>
<a id="L548" name="L548"></a> 548 
<div class="comment">
      Returns an array of bytecode arrays generated by a compilation.
      @return JVM bytecodes that represent translet class definition</div>
<a id="L553" name="L553"></a> 553     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[][] <a href="../R/15384.html" title="Multiple referred from 3 places.">getBytecodes</a>() <em class="brace">{</em>
<a id="L554" name="L554"></a> 554         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = _classes.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L555" name="L555"></a> 555         <strong class="reserved">final</strong> <strong class="reserved">byte</strong>[][] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>][1];
<a id="L556" name="L556"></a> 556         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>; i++)
<a id="L557" name="L557"></a> 557             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i] = (<strong class="reserved">byte</strong>[])_classes.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L558" name="L558"></a> 558         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L559" name="L559"></a> 559     <em class="brace">}</em>
<a id="L560" name="L560"></a> 560 
<div class="comment">
      Compiles a stylesheet pointed to by a URL. The result is put in a
      set of byte arrays. One byte array for each generated class.
      @param name The name of the translet class to generate
      @param input An InputSource that will pass in the stylesheet contents
      @param outputType The output type
      @return JVM bytecodes that represent translet class definition</div>
<a id="L569" name="L569"></a> 569     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[][] <a href="../R/11734.html" title="Multiple referred from 113 places.">compile</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, <strong class="reserved">int</strong> outputType) <em class="brace">{</em>
<a id="L570" name="L570"></a> 570         _outputType = outputType;
<a id="L571" name="L571"></a> 571         <strong class="reserved">if</strong> (<a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>(<a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>))
<a id="L572" name="L572"></a> 572             <strong class="reserved">return</strong> <a href="../S/6196.html#L553" title="Defined at 553 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">getBytecodes</a>();
<a id="L573" name="L573"></a> 573         <strong class="reserved">else</strong>
<a id="L574" name="L574"></a> 574             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L575" name="L575"></a> 575     <em class="brace">}</em>
<a id="L576" name="L576"></a> 576 
<div class="comment">
      Compiles a stylesheet pointed to by a URL. The result is put in a
      set of byte arrays. One byte array for each generated class.
      @param name The name of the translet class to generate
      @param input An InputSource that will pass in the stylesheet contents
      @return JVM bytecodes that represent translet class definition</div>
<a id="L584" name="L584"></a> 584     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[][] <a href="../R/11734.html" title="Multiple referred from 113 places.">compile</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>) <em class="brace">{</em>
<a id="L585" name="L585"></a> 585         <strong class="reserved">return</strong> <a href="../D/13080.html" title="Multiple defined in 22 places.">compile</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/4116.html#L132" title="Defined at 132 in src/javax/xml/ws/Action.java.">input</a>, BYTEARRAY_OUTPUT);
<a id="L586" name="L586"></a> 586     <em class="brace">}</em>
<a id="L587" name="L587"></a> 587 
<div class="comment">
      Set the XMLReader to use for parsing the next input stylesheet
      @param reader XMLReader (SAX2 parser) to use</div>
<a id="L592" name="L592"></a> 592     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28430.html" title="Multiple referred from 10 places.">setXMLReader</a>(<a href="../S/724.html#L84" title="Defined at 84 in src/org/xml/sax/XMLReader.java.">XMLReader</a> <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a>) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593         _reader = <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a>;
<a id="L594" name="L594"></a> 594     <em class="brace">}</em>
<a id="L595" name="L595"></a> 595 
<div class="comment">
      Get the XMLReader to use for parsing the next input stylesheet</div>
<a id="L599" name="L599"></a> 599     <strong class="reserved">public</strong> <a href="../S/724.html#L84" title="Defined at 84 in src/org/xml/sax/XMLReader.java.">XMLReader</a> <a href="../R/19913.html" title="Multiple referred from 37 places.">getXMLReader</a>() <em class="brace">{</em>
<a id="L600" name="L600"></a> 600         <strong class="reserved">return</strong> _reader ;
<a id="L601" name="L601"></a> 601     <em class="brace">}</em>
<a id="L602" name="L602"></a> 602 
<div class="comment">
      Get a Vector containing all compile error messages
      @return A Vector containing all compile error messages</div>
<a id="L607" name="L607"></a> 607     <strong class="reserved">public</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/16440.html" title="Multiple referred from 4 places.">getErrors</a>() <em class="brace">{</em>
<a id="L608" name="L608"></a> 608         <strong class="reserved">return</strong> _parser.<a href="../D/18861.html" title="Multiple defined in 2 places.">getErrors</a>();
<a id="L609" name="L609"></a> 609     <em class="brace">}</em>
<a id="L610" name="L610"></a> 610 
<div class="comment">
      Get a Vector containing all compile warning messages
      @return A Vector containing all compile error messages</div>
<a id="L615" name="L615"></a> 615     <strong class="reserved">public</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/19843.html" title="Multiple referred from 2 places.">getWarnings</a>() <em class="brace">{</em>
<a id="L616" name="L616"></a> 616         <strong class="reserved">return</strong> _parser.<a href="../D/23659.html" title="Multiple defined in 5 places.">getWarnings</a>();
<a id="L617" name="L617"></a> 617     <em class="brace">}</em>
<a id="L618" name="L618"></a> 618 
<div class="comment">
      Print all compile error messages to standard output</div>
<a id="L622" name="L622"></a> 622     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25011.html" title="Multiple referred from 3 places.">printErrors</a>() <em class="brace">{</em>
<a id="L623" name="L623"></a> 623         _parser.<a href="../D/29659.html" title="Multiple defined in 2 places.">printErrors</a>();
<a id="L624" name="L624"></a> 624     <em class="brace">}</em>
<a id="L625" name="L625"></a> 625 
<div class="comment">
      Print all compile warning messages to standard output</div>
<a id="L629" name="L629"></a> 629     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25058.html" title="Multiple referred from 4 places.">printWarnings</a>() <em class="brace">{</em>
<a id="L630" name="L630"></a> 630         _parser.<a href="../D/29720.html" title="Multiple defined in 2 places.">printWarnings</a>();
<a id="L631" name="L631"></a> 631     <em class="brace">}</em>
<a id="L632" name="L632"></a> 632 
<div class="comment">
      This method is called by the XPathParser when it encounters a call
      to the document() function. Affects the DOM used by the translet.</div>
<a id="L637" name="L637"></a> 637     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27786.html" title="Multiple referred from 7 places.">setMultiDocument</a>(<strong class="reserved">boolean</strong> flag) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638         _multiDocument = flag;
<a id="L639" name="L639"></a> 639     <em class="brace">}</em>
<a id="L640" name="L640"></a> 640 
<a id="L641" name="L641"></a> 641     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21749.html" title="Multiple referred from 4 places.">isMultiDocument</a>() <em class="brace">{</em>
<a id="L642" name="L642"></a> 642         <strong class="reserved">return</strong> _multiDocument;
<a id="L643" name="L643"></a> 643     <em class="brace">}</em>
<a id="L644" name="L644"></a> 644 
<div class="comment">
      This method is called by the XPathParser when it encounters a call
      to the nodeset() extension function. Implies multi document.</div>
<a id="L649" name="L649"></a> 649     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27000.html" title="Multiple referred from 3 places.">setCallsNodeset</a>(<strong class="reserved">boolean</strong> flag) <em class="brace">{</em>
<a id="L650" name="L650"></a> 650         <strong class="reserved">if</strong> (flag) <a href="../D/33298.html" title="Multiple defined in 3 places.">setMultiDocument</a>(flag);
<a id="L651" name="L651"></a> 651         _callsNodeset = flag;
<a id="L652" name="L652"></a> 652     <em class="brace">}</em>
<a id="L653" name="L653"></a> 653 
<a id="L654" name="L654"></a> 654     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/10863.html" title="Multiple referred from 3 places.">callsNodeset</a>() <em class="brace">{</em>
<a id="L655" name="L655"></a> 655         <strong class="reserved">return</strong> _callsNodeset;
<a id="L656" name="L656"></a> 656     <em class="brace">}</em>
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27491.html" title="Multiple referred from 5 places.">setHasIdCall</a>(<strong class="reserved">boolean</strong> flag) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659         _hasIdCall = flag;
<a id="L660" name="L660"></a> 660     <em class="brace">}</em>
<a id="L661" name="L661"></a> 661 
<a id="L662" name="L662"></a> 662     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20205.html" title="Multiple referred from 9 places.">hasIdCall</a>() <em class="brace">{</em>
<a id="L663" name="L663"></a> 663         <strong class="reserved">return</strong> _hasIdCall;
<a id="L664" name="L664"></a> 664     <em class="brace">}</em>
<a id="L665" name="L665"></a> 665 
<div class="comment">
      Set the class name for the generated translet. This class name is
      overridden if multiple stylesheets are compiled in one go using the
      compile(Vector urls) method.
      @param className The name to assign to the translet class</div>
<a id="L672" name="L672"></a> 672     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27040.html" title="Multiple referred from 10 places.">setClassName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>) <em class="brace">{</em>
<a id="L673" name="L673"></a> 673         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> base  = <a href="../D/9440.html" title="Multiple defined in 6 places.">Util</a>.<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L674" name="L674"></a> 674         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> noext = <a href="../D/9440.html" title="Multiple defined in 6 places.">Util</a>.<a href="../D/28210.html" title="Multiple defined in 2 places.">noExtName</a>(base);
<a id="L675" name="L675"></a> 675         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>  = <a href="../D/9440.html" title="Multiple defined in 6 places.">Util</a>.<a href="../D/35424.html" title="Multiple defined in 3 places.">toJavaName</a>(noext);
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677         <strong class="reserved">if</strong> (_packageName == <strong class="reserved">null</strong>)
<a id="L678" name="L678"></a> 678             _className = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L679" name="L679"></a> 679         <strong class="reserved">else</strong>
<a id="L680" name="L680"></a> 680             _className = _packageName + '.' + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L681" name="L681"></a> 681     <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<div class="comment">
      Get the class name for the generated translet.</div>
<a id="L686" name="L686"></a> 686     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15596.html" title="Multiple referred from 186 places.">getClassName</a>() <em class="brace">{</em>
<a id="L687" name="L687"></a> 687         <strong class="reserved">return</strong> _className;
<a id="L688" name="L688"></a> 688     <em class="brace">}</em>
<a id="L689" name="L689"></a> 689 
<div class="comment">
      Convert for Java class name of local system file name.
      (Replace '.' with '/' on UNIX and replace '.' by '\' on Windows/DOS.)</div>
<a id="L694" name="L694"></a> 694     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/11456.html" title="Multiple referred from 2 places.">classFileName</a>(<strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>) <em class="brace">{</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">return</strong> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.', <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar) + ".class";
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<div class="comment">
      Generate an output File object to send the translet to</div>
<a id="L701" name="L701"></a> 701     <strong class="reserved">private</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../R/18185.html" title="Multiple referred from 3 places.">getOutputFile</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>) <em class="brace">{</em>
<a id="L702" name="L702"></a> 702         <strong class="reserved">if</strong> (_destDir != <strong class="reserved">null</strong>)
<a id="L703" name="L703"></a> 703             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(_destDir, <a href="../S/6196.html#L694" title="Defined at 694 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">classFileName</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>));
<a id="L704" name="L704"></a> 704         <strong class="reserved">else</strong>
<a id="L705" name="L705"></a> 705             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(<a href="../S/6196.html#L694" title="Defined at 694 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">classFileName</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>));
<a id="L706" name="L706"></a> 706     <em class="brace">}</em>
<a id="L707" name="L707"></a> 707 
<div class="comment">
      Set the destination directory for the translet.
      The current working directory will be used by default.</div>
<a id="L712" name="L712"></a> 712     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/27226.html" title="Multiple referred from 3 places.">setDestDirectory</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dstDirName) <em class="brace">{</em>
<a id="L713" name="L713"></a> 713         <strong class="reserved">final</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> dir = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(dstDirName);
<a id="L714" name="L714"></a> 714         <strong class="reserved">if</strong> (<a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/19049.html" title="Multiple defined in 5 places.">getFileExists</a>(dir) || dir.<a href="../S/1433.html#L1339" title="Defined at 1339 in src/java/io/File.java.">mkdirs</a>()) <em class="brace">{</em>
<a id="L715" name="L715"></a> 715             _destDir = dir;
<a id="L716" name="L716"></a> 716             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L717" name="L717"></a> 717         <em class="brace">}</em>
<a id="L718" name="L718"></a> 718         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L719" name="L719"></a> 719             _destDir = <strong class="reserved">null</strong>;
<a id="L720" name="L720"></a> 720             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L721" name="L721"></a> 721         <em class="brace">}</em>
<a id="L722" name="L722"></a> 722     <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<div class="comment">
      Set an optional package name for the translet and auxiliary classes</div>
<a id="L727" name="L727"></a> 727     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27893.html" title="Multiple referred from 2 places.">setPackageName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> packageName) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728         _packageName = packageName;
<a id="L729" name="L729"></a> 729         <strong class="reserved">if</strong> (_className != <strong class="reserved">null</strong>) <a href="../D/32157.html" title="Multiple defined in 7 places.">setClassName</a>(_className);
<a id="L730" name="L730"></a> 730     <em class="brace">}</em>
<a id="L731" name="L731"></a> 731 
<div class="comment">
      Set the name of an optional JAR-file to dump the translet and
      auxiliary classes to</div>
<a id="L736" name="L736"></a> 736     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27613.html" title="Multiple referred from 2 places.">setJarFileName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> jarFileName) <em class="brace">{</em>
<a id="L737" name="L737"></a> 737         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> JAR_EXT = ".jar";
<a id="L738" name="L738"></a> 738         <strong class="reserved">if</strong> (jarFileName.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>(JAR_EXT))
<a id="L739" name="L739"></a> 739             _jarFileName = jarFileName;
<a id="L740" name="L740"></a> 740         <strong class="reserved">else</strong>
<a id="L741" name="L741"></a> 741             _jarFileName = jarFileName + JAR_EXT;
<a id="L742" name="L742"></a> 742         _outputType = JAR_OUTPUT;
<a id="L743" name="L743"></a> 743     <em class="brace">}</em>
<a id="L744" name="L744"></a> 744 
<a id="L745" name="L745"></a> 745     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6019.html#L152" title="Referred from 152 in src/com/sun/org/apache/xalan/internal/xsltc/cmdline/Compile.java.">getJarFileName</a>() <em class="brace">{</em>
<a id="L746" name="L746"></a> 746         <strong class="reserved">return</strong> _jarFileName;
<a id="L747" name="L747"></a> 747     <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<div class="comment">
      Set the top-level stylesheet</div>
<a id="L752" name="L752"></a> 752     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28243.html" title="Multiple referred from 2 places.">setStylesheet</a>(<a href="../S/6198.html#L68" title="Defined at 68 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Stylesheet.java.">Stylesheet</a> stylesheet) <em class="brace">{</em>
<a id="L753" name="L753"></a> 753         <strong class="reserved">if</strong> (_stylesheet == <strong class="reserved">null</strong>) _stylesheet = stylesheet;
<a id="L754" name="L754"></a> 754     <em class="brace">}</em>
<a id="L755" name="L755"></a> 755 
<div class="comment">
      Returns the top-level stylesheet</div>
<a id="L759" name="L759"></a> 759     <strong class="reserved">public</strong> <a href="../S/6198.html#L68" title="Defined at 68 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Stylesheet.java.">Stylesheet</a> <a href="../R/19247.html" title="Multiple referred from 23 places.">getStylesheet</a>() <em class="brace">{</em>
<a id="L760" name="L760"></a> 760         <strong class="reserved">return</strong> _stylesheet;
<a id="L761" name="L761"></a> 761     <em class="brace">}</em>
<a id="L762" name="L762"></a> 762 
<div class="comment">
      Registers an attribute and gives it a type so that it can be mapped to
      DOM attribute types at run-time.</div>
<a id="L767" name="L767"></a> 767     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/25753.html" title="Multiple referred from 2 places.">registerAttribute</a>(<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L768" name="L768"></a> 768         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> code = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)_attributes.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L769" name="L769"></a> 769         <strong class="reserved">if</strong> (code == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L770" name="L770"></a> 770             code = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(_nextGType++);
<a id="L771" name="L771"></a> 771             _attributes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), code);
<a id="L772" name="L772"></a> 772             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20808.html" title="Multiple defined in 28 places.">getNamespace</a>();
<a id="L773" name="L773"></a> 773             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> local = "@"+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20208.html" title="Multiple defined in 4 places.">getLocalPart</a>();
<a id="L774" name="L774"></a> 774             <strong class="reserved">if</strong> ((uri != <strong class="reserved">null</strong>) &amp;&amp; (!uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")))
<a id="L775" name="L775"></a> 775                 _namesIndex.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(uri+":"+local);
<a id="L776" name="L776"></a> 776             <strong class="reserved">else</strong>
<a id="L777" name="L777"></a> 777                 _namesIndex.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(local);
<a id="L778" name="L778"></a> 778             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20208.html" title="Multiple defined in 4 places.">getLocalPart</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*")) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779                 <a href="../D/30568.html" title="Multiple defined in 2 places.">registerNamespace</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20808.html" title="Multiple defined in 28 places.">getNamespace</a>());
<a id="L780" name="L780"></a> 780             <em class="brace">}</em>
<a id="L781" name="L781"></a> 781         <em class="brace">}</em>
<a id="L782" name="L782"></a> 782         <strong class="reserved">return</strong> code.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L783" name="L783"></a> 783     <em class="brace">}</em>
<a id="L784" name="L784"></a> 784 
<div class="comment">
      Registers an element and gives it a type so that it can be mapped to
      DOM element types at run-time.</div>
<a id="L789" name="L789"></a> 789     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/25768.html" title="Multiple referred from 3 places.">registerElement</a>(<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L790" name="L790"></a> 790         <em class="comment">// Register element (full QName)</em>
<a id="L791" name="L791"></a> 791         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> code = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)_elements.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L792" name="L792"></a> 792         <strong class="reserved">if</strong> (code == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L793" name="L793"></a> 793             _elements.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), code = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(_nextGType++));
<a id="L794" name="L794"></a> 794             _namesIndex.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L795" name="L795"></a> 795         <em class="brace">}</em>
<a id="L796" name="L796"></a> 796         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20208.html" title="Multiple defined in 4 places.">getLocalPart</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*")) <em class="brace">{</em>
<a id="L797" name="L797"></a> 797             <a href="../D/30568.html" title="Multiple defined in 2 places.">registerNamespace</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20808.html" title="Multiple defined in 28 places.">getNamespace</a>());
<a id="L798" name="L798"></a> 798         <em class="brace">}</em>
<a id="L799" name="L799"></a> 799         <strong class="reserved">return</strong> code.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L800" name="L800"></a> 800     <em class="brace">}</em>
<a id="L801" name="L801"></a> 801 
<div class="comment">
       Registers a namespace prefix and gives it a type so that it can be mapped to
       DOM namespace types at run-time.</div>
<a id="L806" name="L806"></a> 806 
<a id="L807" name="L807"></a> 807     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/25792.html" title="Multiple referred from 2 places.">registerNamespacePrefix</a>(<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L808" name="L808"></a> 808 
<a id="L809" name="L809"></a> 809     <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> code = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)_namespacePrefixes.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L810" name="L810"></a> 810     <strong class="reserved">if</strong> (code == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L811" name="L811"></a> 811         code = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(_nextGType++);
<a id="L812" name="L812"></a> 812         _namespacePrefixes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), code);
<a id="L813" name="L813"></a> 813         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20808.html" title="Multiple defined in 28 places.">getNamespace</a>();
<a id="L814" name="L814"></a> 814         <strong class="reserved">if</strong> ((uri != <strong class="reserved">null</strong>) &amp;&amp; (!uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")))<em class="brace">{</em>
<a id="L815" name="L815"></a> 815             <em class="comment">// namespace::ext2:ped2 will be made empty in TypedNamespaceIterator</em>
<a id="L816" name="L816"></a> 816             _namesIndex.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>("?");
<a id="L817" name="L817"></a> 817         <em class="brace">}</em> <strong class="reserved">else</strong><em class="brace">{</em>
<a id="L818" name="L818"></a> 818            _namesIndex.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>("?"+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/20208.html" title="Multiple defined in 4 places.">getLocalPart</a>());
<a id="L819" name="L819"></a> 819         <em class="brace">}</em>
<a id="L820" name="L820"></a> 820     <em class="brace">}</em>
<a id="L821" name="L821"></a> 821     <strong class="reserved">return</strong> code.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L822" name="L822"></a> 822     <em class="brace">}</em>
<a id="L823" name="L823"></a> 823 
<div class="comment">
      Registers a namespace and gives it a type so that it can be mapped to
      DOM namespace types at run-time.</div>
<a id="L828" name="L828"></a> 828     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/25791.html" title="Multiple referred from 7 places.">registerNamespace</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>) <em class="brace">{</em>
<a id="L829" name="L829"></a> 829         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> code = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)_namespaces.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>);
<a id="L830" name="L830"></a> 830         <strong class="reserved">if</strong> (code == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831             code = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(_nextNSType++);
<a id="L832" name="L832"></a> 832             _namespaces.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>,code);
<a id="L833" name="L833"></a> 833             _namespaceIndex.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>);
<a id="L834" name="L834"></a> 834         <em class="brace">}</em>
<a id="L835" name="L835"></a> 835         <strong class="reserved">return</strong> code.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L836" name="L836"></a> 836     <em class="brace">}</em>
<a id="L837" name="L837"></a> 837 
<a id="L838" name="L838"></a> 838     <strong class="reserved">public</strong> <strong class="reserved">int</strong> nextModeSerial() <em class="brace">{</em>
<a id="L839" name="L839"></a> 839         <strong class="reserved">return</strong> _modeSerial++;
<a id="L840" name="L840"></a> 840     <em class="brace">}</em>
<a id="L841" name="L841"></a> 841 
<a id="L842" name="L842"></a> 842     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/6198.html#L446" title="Referred from 446 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Stylesheet.java.">nextStylesheetSerial</a>() <em class="brace">{</em>
<a id="L843" name="L843"></a> 843         <strong class="reserved">return</strong> _stylesheetSerial++;
<a id="L844" name="L844"></a> 844     <em class="brace">}</em>
<a id="L845" name="L845"></a> 845 
<a id="L846" name="L846"></a> 846     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/6081.html#L188" title="Referred from 188 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/StepPattern.java.">nextStepPatternSerial</a>() <em class="brace">{</em>
<a id="L847" name="L847"></a> 847         <strong class="reserved">return</strong> _stepPatternSerial++;
<a id="L848" name="L848"></a> 848     <em class="brace">}</em>
<a id="L849" name="L849"></a> 849 
<a id="L850" name="L850"></a> 850     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../S/6181.html#L236" title="Referred from 236 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Number.java.">getNumberFieldIndexes</a>() <em class="brace">{</em>
<a id="L851" name="L851"></a> 851         <strong class="reserved">return</strong> _numberFieldIndexes;
<a id="L852" name="L852"></a> 852     <em class="brace">}</em>
<a id="L853" name="L853"></a> 853 
<a id="L854" name="L854"></a> 854     <strong class="reserved">public</strong> <strong class="reserved">int</strong> nextHelperClassSerial() <em class="brace">{</em>
<a id="L855" name="L855"></a> 855         <strong class="reserved">return</strong> _helperClassSerial++;
<a id="L856" name="L856"></a> 856     <em class="brace">}</em>
<a id="L857" name="L857"></a> 857 
<a id="L858" name="L858"></a> 858     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/6231.html#L145" title="Referred from 145 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/AttributeSet.java.">nextAttributeSetSerial</a>() <em class="brace">{</em>
<a id="L859" name="L859"></a> 859         <strong class="reserved">return</strong> _attributeSetSerial++;
<a id="L860" name="L860"></a> 860     <em class="brace">}</em>
<a id="L861" name="L861"></a> 861 
<a id="L862" name="L862"></a> 862     <strong class="reserved">public</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/17845.html" title="Multiple referred from 6 places.">getNamesIndex</a>() <em class="brace">{</em>
<a id="L863" name="L863"></a> 863         <strong class="reserved">return</strong> _namesIndex;
<a id="L864" name="L864"></a> 864     <em class="brace">}</em>
<a id="L865" name="L865"></a> 865 
<a id="L866" name="L866"></a> 866     <strong class="reserved">public</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/17855.html" title="Multiple referred from 2 places.">getNamespaceIndex</a>() <em class="brace">{</em>
<a id="L867" name="L867"></a> 867         <strong class="reserved">return</strong> _namespaceIndex;
<a id="L868" name="L868"></a> 868     <em class="brace">}</em>
<a id="L869" name="L869"></a> 869 
<div class="comment">
      Returns a unique name for every helper class needed to
      execute a translet.</div>
<a id="L874" name="L874"></a> 874     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16881.html" title="Multiple referred from 5 places.">getHelperClassName</a>() <em class="brace">{</em>
<a id="L875" name="L875"></a> 875         <strong class="reserved">return</strong> <a href="../D/17698.html" title="Multiple defined in 41 places.">getClassName</a>() + '$' + _helperClassSerial++;
<a id="L876" name="L876"></a> 876     <em class="brace">}</em>
<a id="L877" name="L877"></a> 877 
<a id="L878" name="L878"></a> 878     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13597.html" title="Multiple referred from 7 places.">dumpClass</a>(<a href="../S/4594.html#L85" title="Defined at 85 in src/com/sun/org/apache/bcel/internal/classfile/JavaClass.java.">JavaClass</a> <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>) <em class="brace">{</em>
<a id="L879" name="L879"></a> 879 
<a id="L880" name="L880"></a> 880         <strong class="reserved">if</strong> (_outputType == FILE_OUTPUT ||
<a id="L881" name="L881"></a> 881             _outputType == BYTEARRAY_AND_FILE_OUTPUT)
<a id="L882" name="L882"></a> 882         <em class="brace">{</em>
<a id="L883" name="L883"></a> 883             <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> outFile = <a href="../S/6196.html#L701" title="Defined at 701 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">getOutputFile</a>(<a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/17698.html" title="Multiple defined in 41 places.">getClassName</a>());
<a id="L884" name="L884"></a> 884             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> parentDir = outFile.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L885" name="L885"></a> 885             <strong class="reserved">if</strong> (parentDir != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886                 <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> parentFile = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(parentDir);
<a id="L887" name="L887"></a> 887                 <strong class="reserved">if</strong> (!<a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/19049.html" title="Multiple defined in 5 places.">getFileExists</a>(parentFile))
<a id="L888" name="L888"></a> 888                     parentFile.<a href="../S/1433.html#L1339" title="Defined at 1339 in src/java/io/File.java.">mkdirs</a>();
<a id="L889" name="L889"></a> 889             <em class="brace">}</em>
<a id="L890" name="L890"></a> 890         <em class="brace">}</em>
<a id="L891" name="L891"></a> 891 
<a id="L892" name="L892"></a> 892         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L893" name="L893"></a> 893             <strong class="reserved">switch</strong> (_outputType) <em class="brace">{</em>
<a id="L894" name="L894"></a> 894             <strong class="reserved">case</strong> FILE_OUTPUT:
<a id="L895" name="L895"></a> 895                 <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/15245.html" title="Multiple defined in 64 places.">dump</a>(
<a id="L896" name="L896"></a> 896                     <strong class="reserved">new</strong> <a href="../S/1427.html#L38" title="Defined at 38 in src/java/io/BufferedOutputStream.java.">BufferedOutputStream</a>(
<a id="L897" name="L897"></a> 897                         <strong class="reserved">new</strong> <a href="../S/1382.html#L53" title="Defined at 53 in src/java/io/FileOutputStream.java.">FileOutputStream</a>(
<a id="L898" name="L898"></a> 898                             <a href="../S/6196.html#L701" title="Defined at 701 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">getOutputFile</a>(<a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/17698.html" title="Multiple defined in 41 places.">getClassName</a>()))));
<a id="L899" name="L899"></a> 899                 <strong class="reserved">break</strong>;
<a id="L900" name="L900"></a> 900             <strong class="reserved">case</strong> JAR_OUTPUT:
<a id="L901" name="L901"></a> 901                 _bcelClasses.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>);
<a id="L902" name="L902"></a> 902                 <strong class="reserved">break</strong>;
<a id="L903" name="L903"></a> 903             <strong class="reserved">case</strong> BYTEARRAY_OUTPUT:
<a id="L904" name="L904"></a> 904             <strong class="reserved">case</strong> BYTEARRAY_AND_FILE_OUTPUT:
<a id="L905" name="L905"></a> 905             <strong class="reserved">case</strong> BYTEARRAY_AND_JAR_OUTPUT:
<a id="L906" name="L906"></a> 906             <strong class="reserved">case</strong> CLASSLOADER_OUTPUT:
<a id="L907" name="L907"></a> 907                 <a href="../S/1448.html#L45" title="Defined at 45 in src/java/io/ByteArrayOutputStream.java.">ByteArrayOutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = <strong class="reserved">new</strong> <a href="../S/1448.html#L45" title="Defined at 45 in src/java/io/ByteArrayOutputStream.java.">ByteArrayOutputStream</a>(2048);
<a id="L908" name="L908"></a> 908                 <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/15245.html" title="Multiple defined in 64 places.">dump</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>);
<a id="L909" name="L909"></a> 909                 _classes.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/35362.html" title="Multiple defined in 10 places.">toByteArray</a>());
<a id="L910" name="L910"></a> 910 
<a id="L911" name="L911"></a> 911                 <strong class="reserved">if</strong> (_outputType == BYTEARRAY_AND_FILE_OUTPUT)
<a id="L912" name="L912"></a> 912                   <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/15245.html" title="Multiple defined in 64 places.">dump</a>(<strong class="reserved">new</strong> <a href="../S/1427.html#L38" title="Defined at 38 in src/java/io/BufferedOutputStream.java.">BufferedOutputStream</a>(
<a id="L913" name="L913"></a> 913                         <strong class="reserved">new</strong> <a href="../S/1382.html#L53" title="Defined at 53 in src/java/io/FileOutputStream.java.">FileOutputStream</a>(<a href="../S/6196.html#L701" title="Defined at 701 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/XSLTC.java.">getOutputFile</a>(<a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/17698.html" title="Multiple defined in 41 places.">getClassName</a>()))));
<a id="L914" name="L914"></a> 914                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (_outputType == BYTEARRAY_AND_JAR_OUTPUT)
<a id="L915" name="L915"></a> 915                   _bcelClasses.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>);
<a id="L916" name="L916"></a> 916 
<a id="L917" name="L917"></a> 917                 <strong class="reserved">break</strong>;
<a id="L918" name="L918"></a> 918             <em class="brace">}</em>
<a id="L919" name="L919"></a> 919         <em class="brace">}</em>
<a id="L920" name="L920"></a> 920         <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921             e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L922" name="L922"></a> 922         <em class="brace">}</em>
<a id="L923" name="L923"></a> 923     <em class="brace">}</em>
<a id="L924" name="L924"></a> 924 
<div class="comment">
      File separators are converted to forward slashes for ZIP files.</div>
<a id="L928" name="L928"></a> 928     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/13960.html" title="Multiple referred from 22 places.">entryName</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L929" name="L929"></a> 929         <strong class="reserved">return</strong> f.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>().<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar, '/');
<a id="L930" name="L930"></a> 930     <em class="brace">}</em>
<a id="L931" name="L931"></a> 931 
<div class="comment">
      Generate output JAR-file and packages</div>
<a id="L935" name="L935"></a> 935     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24062.html" title="Multiple referred from 2 places.">outputToJar</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L936" name="L936"></a> 936         <em class="comment">// create the manifest</em>
<a id="L937" name="L937"></a> 937         <strong class="reserved">final</strong> <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a> manifest = <strong class="reserved">new</strong> <a href="../D/5397.html" title="Multiple defined in 3 places.">Manifest</a>();
<a id="L938" name="L938"></a> 938         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.jar.<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a> atrs = manifest.<a href="../D/20346.html" title="Multiple defined in 2 places.">getMainAttributes</a>();
<a id="L939" name="L939"></a> 939         atrs.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.jar.<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a>.<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>.MANIFEST_VERSION,"1.2");
<a id="L940" name="L940"></a> 940 
<a id="L941" name="L941"></a> 941         <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = manifest.<a href="../D/18806.html" title="Multiple defined in 3 places.">getEntries</a>();
<a id="L942" name="L942"></a> 942         <em class="comment">// create manifest</em>
<a id="L943" name="L943"></a> 943         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a> = _bcelClasses.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L944" name="L944"></a> 944         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a> = (<strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>()).<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L945" name="L945"></a> 945         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.jar.<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a>.<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a> dateAttr =
<a id="L946" name="L946"></a> 946             <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.jar.<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a>.<a href="../D/5923.html" title="Multiple defined in 5 places.">Name</a>("Date");
<a id="L947" name="L947"></a> 947         <strong class="reserved">while</strong> (<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L948" name="L948"></a> 948             <strong class="reserved">final</strong> <a href="../S/4594.html#L85" title="Defined at 85 in src/com/sun/org/apache/bcel/internal/classfile/JavaClass.java.">JavaClass</a> <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> = (<a href="../S/4594.html#L85" title="Defined at 85 in src/com/sun/org/apache/bcel/internal/classfile/JavaClass.java.">JavaClass</a>)<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L949" name="L949"></a> 949             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/17698.html" title="Multiple defined in 41 places.">getClassName</a>().<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.','/');
<a id="L950" name="L950"></a> 950             <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.jar.<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.jar.<a href="../D/601.html" title="Multiple defined in 4 places.">Attributes</a>();
<a id="L951" name="L951"></a> 951             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(dateAttr, <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a>);
<a id="L952" name="L952"></a> 952             <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>+".class", <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L953" name="L953"></a> 953         <em class="brace">}</em>
<a id="L954" name="L954"></a> 954 
<a id="L955" name="L955"></a> 955         <strong class="reserved">final</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> jarFile = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(_destDir, _jarFileName);
<a id="L956" name="L956"></a> 956         <strong class="reserved">final</strong> <a href="../S/922.html#L45" title="Defined at 45 in src/java/util/jar/JarOutputStream.java.">JarOutputStream</a> jos =
<a id="L957" name="L957"></a> 957             <strong class="reserved">new</strong> <a href="../S/922.html#L45" title="Defined at 45 in src/java/util/jar/JarOutputStream.java.">JarOutputStream</a>(<strong class="reserved">new</strong> <a href="../S/1382.html#L53" title="Defined at 53 in src/java/io/FileOutputStream.java.">FileOutputStream</a>(jarFile), manifest);
<a id="L958" name="L958"></a> 958         <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a> = _bcelClasses.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L959" name="L959"></a> 959         <strong class="reserved">while</strong> (<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L960" name="L960"></a> 960             <strong class="reserved">final</strong> <a href="../S/4594.html#L85" title="Defined at 85 in src/com/sun/org/apache/bcel/internal/classfile/JavaClass.java.">JavaClass</a> <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> = (<a href="../S/4594.html#L85" title="Defined at 85 in src/com/sun/org/apache/bcel/internal/classfile/JavaClass.java.">JavaClass</a>)<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L961" name="L961"></a> 961             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/17698.html" title="Multiple defined in 41 places.">getClassName</a>().<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.','/');
<a id="L962" name="L962"></a> 962             jos.<a href="../D/30028.html" title="Multiple defined in 2 places.">putNextEntry</a>(<strong class="reserved">new</strong> <a href="../S/923.html#L37" title="Defined at 37 in src/java/util/jar/JarEntry.java.">JarEntry</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>+".class"));
<a id="L963" name="L963"></a> 963             <strong class="reserved">final</strong> <a href="../S/1448.html#L45" title="Defined at 45 in src/java/io/ByteArrayOutputStream.java.">ByteArrayOutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = <strong class="reserved">new</strong> <a href="../S/1448.html#L45" title="Defined at 45 in src/java/io/ByteArrayOutputStream.java.">ByteArrayOutputStream</a>(2048);
<a id="L964" name="L964"></a> 964             <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/15245.html" title="Multiple defined in 64 places.">dump</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>); <em class="comment">// dump() closes it's output stream</em>
<a id="L965" name="L965"></a> 965             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37187.html" title="Multiple defined in 12 places.">writeTo</a>(jos);
<a id="L966" name="L966"></a> 966         <em class="brace">}</em>
<a id="L967" name="L967"></a> 967         jos.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L968" name="L968"></a> 968     <em class="brace">}</em>
<a id="L969" name="L969"></a> 969 
<div class="comment">
      Turn debugging messages on/off</div>
<a id="L973" name="L973"></a> 973     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27173.html" title="Multiple referred from 5 places.">setDebug</a>(<strong class="reserved">boolean</strong> <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>) <em class="brace">{</em>
<a id="L974" name="L974"></a> 974         _debug = <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>;
<a id="L975" name="L975"></a> 975     <em class="brace">}</em>
<a id="L976" name="L976"></a> 976 
<div class="comment">
      Get current debugging message setting</div>
<a id="L980" name="L980"></a> 980     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/12914.html" title="Multiple referred from 1171 places.">debug</a>() <em class="brace">{</em>
<a id="L981" name="L981"></a> 981         <strong class="reserved">return</strong> _debug;
<a id="L982" name="L982"></a> 982     <em class="brace">}</em>
<a id="L983" name="L983"></a> 983 
<a id="L984" name="L984"></a> 984 
<div class="comment">
      Retrieve a string representation of the character data to be stored
      in the translet as a <code>char[]</code>.  There may be more than
      one such array required.
      @param index The index of the <code>char[]</code>.  Zero-based.
      @return String The character data to be stored in the corresponding
                    <code>char[]</code>.</div>
<a id="L993" name="L993"></a> 993     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15523.html" title="Multiple referred from 11 places.">getCharacterData</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L994" name="L994"></a> 994         <strong class="reserved">return</strong> ((<a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>) m_characterData.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)).<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L995" name="L995"></a> 995     <em class="brace">}</em>
<a id="L996" name="L996"></a> 996 
<div class="comment">
      Get the number of char[] arrays, thus far, that will be created to
      store literal text in the stylesheet.</div>
<a id="L1001" name="L1001"></a>1001     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15524.html" title="Multiple referred from 3 places.">getCharacterDataCount</a>() <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002         <strong class="reserved">return</strong> (m_characterData != <strong class="reserved">null</strong>) ? m_characterData.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() : 0;
<a id="L1003" name="L1003"></a>1003     <em class="brace">}</em>
<a id="L1004" name="L1004"></a>1004 
<div class="comment">
      Add literal text to char arrays that will be used to store character
      data in the stylesheet.
      @param newData String data to be added to char arrays.
                     Pre-condition:  <code>newData.length() ≤ 21845</code>
      @return int offset at which character data will be stored</div>
<a id="L1012" name="L1012"></a>1012     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/6086.html#L236" title="Referred from 236 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Text.java.">addCharacterData</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newData) <em class="brace">{</em>
<a id="L1013" name="L1013"></a>1013         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> currData;
<a id="L1014" name="L1014"></a>1014         <strong class="reserved">if</strong> (m_characterData == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1015" name="L1015"></a>1015             m_characterData = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L1016" name="L1016"></a>1016             currData = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L1017" name="L1017"></a>1017             m_characterData.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(currData);
<a id="L1018" name="L1018"></a>1018         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1019" name="L1019"></a>1019             currData = (<a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>) m_characterData
<a id="L1020" name="L1020"></a>1020                                            .<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(m_characterData.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()-1);
<a id="L1021" name="L1021"></a>1021         <em class="brace">}</em>
<a id="L1022" name="L1022"></a>1022 
<a id="L1023" name="L1023"></a>1023         <em class="comment">// Character data could take up to three-times as much space when</em>
<a id="L1024" name="L1024"></a>1024         <em class="comment">// written to the class file as UTF-8.  The maximum size for a</em>
<a id="L1025" name="L1025"></a>1025         <em class="comment">// constant is 65535/3.  If we exceed that,</em>
<a id="L1026" name="L1026"></a>1026         <em class="comment">// (We really should use some "bin packing".)</em>
<a id="L1027" name="L1027"></a>1027         <strong class="reserved">if</strong> (newData.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() + currData.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 21845) <em class="brace">{</em>
<a id="L1028" name="L1028"></a>1028             currData = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L1029" name="L1029"></a>1029             m_characterData.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(currData);
<a id="L1030" name="L1030"></a>1030         <em class="brace">}</em>
<a id="L1031" name="L1031"></a>1031 
<a id="L1032" name="L1032"></a>1032         <strong class="reserved">int</strong> newDataOffset = currData.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L1033" name="L1033"></a>1033         currData.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(newData);
<a id="L1034" name="L1034"></a>1034 
<a id="L1035" name="L1035"></a>1035         <strong class="reserved">return</strong> newDataOffset;
<a id="L1036" name="L1036"></a>1036     <em class="brace">}</em>
<a id="L1037" name="L1037"></a>1037 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L182">[^]</a><a href="#L1012">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>