<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/Random.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L108">[^]</a><a href="#L1224">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L108" title="Defined at 108.">seedUniquifier</a></li>
<li><a href="#L145" title="Defined at 145.">initialScramble</a></li>
<li><a href="#L168" title="Defined at 168.">setSeed</a></li>
<li><a href="#L198" title="Defined at 198.">next</a></li>
<li><a href="#L227" title="Defined at 227.">nextBytes</a></li>
<li><a href="#L244" title="Defined at 244.">internalNextLong</a></li>
<li><a href="#L275" title="Defined at 275.">internalNextInt</a></li>
<li><a href="#L301" title="Defined at 301.">internalNextDouble</a></li>
<li><a href="#L328" title="Defined at 328.">nextInt</a></li>
<li><a href="#L386" title="Defined at 386.">nextInt</a></li>
<li><a href="#L422" title="Defined at 422.">nextLong</a></li>
<li><a href="#L447" title="Defined at 447.">nextBoolean</a></li>
<li><a href="#L488" title="Defined at 488.">nextFloat</a></li>
<li><a href="#L531" title="Defined at 531.">nextDouble</a></li>
<li><a href="#L583" title="Defined at 583.">nextGaussian</a></li>
<li><a href="#L618" title="Defined at 618.">ints</a></li>
<li><a href="#L640" title="Defined at 640.">ints</a></li>
<li><a href="#L679" title="Defined at 679.">ints</a></li>
<li><a href="#L724" title="Defined at 724.">ints</a></li>
<li><a href="#L746" title="Defined at 746.">longs</a></li>
<li><a href="#L768" title="Defined at 768.">longs</a></li>
<li><a href="#L812" title="Defined at 812.">longs</a></li>
<li><a href="#L862" title="Defined at 862.">longs</a></li>
<li><a href="#L885" title="Defined at 885.">doubles</a></li>
<li><a href="#L908" title="Defined at 908.">doubles</a></li>
<li><a href="#L942" title="Defined at 942.">doubles</a></li>
<li><a href="#L981" title="Defined at 981.">doubles</a></li>
<li><a href="#L1010" title="Defined at 1010.">trySplit</a></li>
<li><a href="#L1016" title="Defined at 1016.">estimateSize</a></li>
<li><a href="#L1020" title="Defined at 1020.">characteristics</a></li>
<li><a href="#L1025" title="Defined at 1025.">tryAdvance</a></li>
<li><a href="#L1036" title="Defined at 1036.">forEachRemaining</a></li>
<li><a href="#L1065" title="Defined at 1065.">trySplit</a></li>
<li><a href="#L1071" title="Defined at 1071.">estimateSize</a></li>
<li><a href="#L1075" title="Defined at 1075.">characteristics</a></li>
<li><a href="#L1080" title="Defined at 1080.">tryAdvance</a></li>
<li><a href="#L1091" title="Defined at 1091.">forEachRemaining</a></li>
<li><a href="#L1121" title="Defined at 1121.">trySplit</a></li>
<li><a href="#L1127" title="Defined at 1127.">estimateSize</a></li>
<li><a href="#L1131" title="Defined at 1131.">characteristics</a></li>
<li><a href="#L1136" title="Defined at 1136.">tryAdvance</a></li>
<li><a href="#L1147" title="Defined at 1147.">forEachRemaining</a></li>
<li><a href="#L1181" title="Defined at 1181.">readObject</a></li>
<li><a href="#L1200" title="Defined at 1200.">writeObject</a></li>
<li><a href="#L1224" title="Defined at 1224.">resetSeed</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.io.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.concurrent.atomic.AtomicLong;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.function.DoubleConsumer;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.function.IntConsumer;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.function.LongConsumer;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.stream.DoubleStream;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.stream.IntStream;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.stream.LongStream;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.stream.StreamSupport;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> sun.misc.Unsafe;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  An instance of this class is used to generate a stream of
  pseudorandom numbers. The class uses a 48-bit seed, which is
  modified using a linear congruential formula. (See Donald Knuth,
  <i>The Art of Computer Programming, Volume 2</i>, Section 3.2.1.)
  <p>
  If two instances of <code>Random</code> are created with the same
  seed, and the same sequence of method calls is made for each, they
  will generate and return identical sequences of numbers. In order to
  guarantee this property, particular algorithms are specified for the
  class <code>Random</code>. Java implementations must use all the algorithms
  shown here for the class <code>Random</code>, for the sake of absolute
  portability of Java code. However, subclasses of class <code>Random</code>
  are permitted to use other algorithms, so long as they adhere to the
  general contracts for all the methods.
  </p><p>
  The algorithms implemented by class <code>Random</code> use a
  <code>protected</code> utility method that on each invocation can supply
  up to 32 pseudorandomly generated bits.
  </p><p>
  Many applications will find the method {@link Math#random} simpler to use.
  </p><p>Instances of <code>java.util.Random</code> are threadsafe.
  However, the concurrent use of the same <code>java.util.Random</code>
  instance across threads may encounter contention and consequent
  poor performance. Consider instead using
  {@link java.util.concurrent.ThreadLocalRandom} in multithreaded
  designs.
  </p><p>Instances of <code>java.util.Random</code> are not cryptographically
  secure.  Consider instead using {@link java.security.SecureRandom} to
  get a cryptographically secure pseudo-random number generator for use
  by security-sensitive applications.
  @author  Frank Yellin
  @since   1.0</p></div>
<a id="L76" name="L76"></a>  76 <strong class="reserved">public</strong>
<a id="L77" name="L77"></a>  77 <strong class="reserved">class</strong> <a href="../R/6461.html" title="Multiple referred from 34 places.">Random</a> <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<div class="comment">
     /** use serialVersionUID from JDK 1.1 for interoperability */</div>
<a id="L79" name="L79"></a>  79     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 3905348978240129619L;
<a id="L80" name="L80"></a>  80 
<div class="comment">
      The internal state associated with this pseudorandom number generator.
      (The specs for the methods in this class describe the ongoing
      computation of this value.)</div>
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1088.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicLong.java.">AtomicLong</a> seed;
<a id="L87" name="L87"></a>  87 
<a id="L88" name="L88"></a>  88     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> multiplier = 0x5DEECE66DL;
<a id="L89" name="L89"></a>  89     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> addend = 0xBL;
<a id="L90" name="L90"></a>  90     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = (1L &lt;&lt; 48) - 1;
<a id="L91" name="L91"></a>  91 
<a id="L92" name="L92"></a>  92     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">double</strong> DOUBLE_UNIT = 0x1.0p-53; <em class="comment">// 1.0 / (1L &lt;&lt; 53)</em>
<a id="L93" name="L93"></a>  93 
<a id="L94" name="L94"></a>  94     <em class="comment">// IllegalArgumentException messages</em>
<a id="L95" name="L95"></a>  95     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BadBound = "bound must be positive";
<a id="L96" name="L96"></a>  96     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BadRange = "bound must be greater than origin";
<a id="L97" name="L97"></a>  97     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BadSize  = "size must be non-negative";
<a id="L98" name="L98"></a>  98 
<div class="comment">
      Creates a new random number generator. This constructor sets
      the seed of the random number generator to a value very likely
      to be distinct from any other invocation of this constructor.</div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">public</strong> Random() <em class="brace">{</em>
<a id="L105" name="L105"></a> 105         <strong class="reserved">this</strong>(<a href="../S/1000.html#L108" title="Defined at 108 in src/java/util/Random.java.">seedUniquifier</a>() ^ <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L399" title="Defined at 399 in src/java/lang/System.java.">nanoTime</a>());
<a id="L106" name="L106"></a> 106     <em class="brace">}</em>
<a id="L107" name="L107"></a> 107 
<a id="L108" name="L108"></a> 108     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> <a href="../R/26708.html" title="Multiple referred from 4 places.">seedUniquifier</a>() <em class="brace">{</em>
<a id="L109" name="L109"></a> 109         <em class="comment">// L'Ecuyer, "Tables of Linear Congruential Generators of</em>
<a id="L110" name="L110"></a> 110         <em class="comment">// Different Sizes and Good Lattice Structure", 1999</em>
<a id="L111" name="L111"></a> 111         <strong class="reserved">for</strong> (;;) <em class="brace">{</em>
<a id="L112" name="L112"></a> 112             <strong class="reserved">long</strong> <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = <a href="../S/1000.html#L108" title="Defined at 108 in src/java/util/Random.java.">seedUniquifier</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L113" name="L113"></a> 113             <strong class="reserved">long</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> * 181783497276652981L;
<a id="L114" name="L114"></a> 114             <strong class="reserved">if</strong> (<a href="../S/1000.html#L108" title="Defined at 108 in src/java/util/Random.java.">seedUniquifier</a>.<a href="../D/13035.html" title="Multiple defined in 16 places.">compareAndSet</a>(<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>))
<a id="L115" name="L115"></a> 115                 <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L116" name="L116"></a> 116         <em class="brace">}</em>
<a id="L117" name="L117"></a> 117     <em class="brace">}</em>
<a id="L118" name="L118"></a> 118 
<a id="L119" name="L119"></a> 119     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1088.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicLong.java.">AtomicLong</a> <a href="../S/1000.html#L108" title="Defined at 108 in src/java/util/Random.java.">seedUniquifier</a>
<a id="L120" name="L120"></a> 120         = <strong class="reserved">new</strong> <a href="../S/1088.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicLong.java.">AtomicLong</a>(8682522807148012L);
<a id="L121" name="L121"></a> 121 
<div class="comment">
      Creates a new random number generator using a single <code>long</code> seed.
      The seed is the initial value of the internal state of the pseudorandom
      number generator which is maintained by method <a href="#L198" title="Defined at 198.">next</a>.
      <p>The invocation <code>new Random(seed)</code> is equivalent to:
       </p><pre> {@code
      Random rnd = new Random();
      rnd.setSeed(seed);}</pre>
      @param seed the initial seed
      @see   #setSeed(long)</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">public</strong> Random(<strong class="reserved">long</strong> seed) <em class="brace">{</em>
<a id="L136" name="L136"></a> 136         <strong class="reserved">if</strong> (<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() == <a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a>.<strong class="reserved">class</strong>)
<a id="L137" name="L137"></a> 137             <strong class="reserved">this</strong>.seed = <strong class="reserved">new</strong> <a href="../S/1088.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicLong.java.">AtomicLong</a>(<a href="../S/1000.html#L145" title="Defined at 145 in src/java/util/Random.java.">initialScramble</a>(seed));
<a id="L138" name="L138"></a> 138         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L139" name="L139"></a> 139             <em class="comment">// subclass might have overriden setSeed</em>
<a id="L140" name="L140"></a> 140             <strong class="reserved">this</strong>.seed = <strong class="reserved">new</strong> <a href="../S/1088.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicLong.java.">AtomicLong</a>();
<a id="L141" name="L141"></a> 141             <a href="../D/33840.html" title="Multiple defined in 4 places.">setSeed</a>(seed);
<a id="L142" name="L142"></a> 142         <em class="brace">}</em>
<a id="L143" name="L143"></a> 143     <em class="brace">}</em>
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> <a href="../R/20678.html" title="Multiple referred from 2 places.">initialScramble</a>(<strong class="reserved">long</strong> seed) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146         <strong class="reserved">return</strong> (seed ^ multiplier) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L147" name="L147"></a> 147     <em class="brace">}</em>
<a id="L148" name="L148"></a> 148 
<div class="comment">
      Sets the seed of this random number generator using a single
      <code>long</code> seed. The general contract of <code>setSeed</code> is
      that it alters the state of this random number generator object
      so as to be in exactly the same state as if it had just been
      created with the argument <code>seed</code> as a seed. The method
      <code>setSeed</code> is implemented by class <code>Random</code> by
      atomically updating the seed to
       <pre><code>(seed ^ 0x5DEECE66DL) &amp; ((1L &lt;&lt; 48) - 1)</code></pre>
      and clearing the <code>haveNextNextGaussian</code> flag used by {@link
      #nextGaussian}.
      <p>The implementation of <code>setSeed</code> by class <code>Random</code>
      happens to use only 48 bits of the given seed. In general, however,
      an overriding method may use all 64 bits of the <code>long</code>
      argument as a seed value.
      @param seed the initial seed</p></div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">synchronized</strong> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28123.html" title="Multiple referred from 4 places.">setSeed</a>(<strong class="reserved">long</strong> seed) <em class="brace">{</em>
<a id="L169" name="L169"></a> 169         <strong class="reserved">this</strong>.seed.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/1000.html#L145" title="Defined at 145 in src/java/util/Random.java.">initialScramble</a>(seed));
<a id="L170" name="L170"></a> 170         haveNextNextGaussian = <strong class="reserved">false</strong>;
<a id="L171" name="L171"></a> 171     <em class="brace">}</em>
<a id="L172" name="L172"></a> 172 
<div class="comment">
      Generates the next pseudorandom number. Subclasses should
      override this, as this is used by all other methods.
      <p>The general contract of <code>next</code> is that it returns an
      <code>int</code> value and if the argument <code>bits</code> is between
      <code>1</code> and <code>32</code> (inclusive), then that many low-order
      bits of the returned value will be (approximately) independently
      chosen bit values, each of which is (approximately) equally
      likely to be <code>0</code> or <code>1</code>. The method <code>next</code> is
      implemented by class <code>Random</code> by atomically updating the seed to
       </p><pre><code>(seed * 0x5DEECE66DL + 0xBL) &amp; ((1L &lt;&lt; 48) - 1)</code></pre>
      and returning
       <pre><code>(int)(seed &gt;&gt;&gt; (48 - bits))</code>.</pre>
      This is a linear congruential pseudorandom number generator, as
      defined by D. H. Lehmer and described by Donald E. Knuth in
      <i>The Art of Computer Programming,</i> Volume 3:
      <i>Seminumerical Algorithms</i>, section 3.2.1.
      @param  bits random bits
      @return the next pseudorandom value from this random number
              generator's sequence
      @since  1.1</div>
<a id="L198" name="L198"></a> 198     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>(<strong class="reserved">int</strong> bits) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199         <strong class="reserved">long</strong> oldseed, nextseed;
<a id="L200" name="L200"></a> 200         <a href="../S/1088.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicLong.java.">AtomicLong</a> seed = <strong class="reserved">this</strong>.seed;
<a id="L201" name="L201"></a> 201         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L202" name="L202"></a> 202             oldseed = seed.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L203" name="L203"></a> 203             nextseed = (oldseed * multiplier + addend) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L204" name="L204"></a> 204         <em class="brace">}</em> <strong class="reserved">while</strong> (!seed.<a href="../D/13035.html" title="Multiple defined in 16 places.">compareAndSet</a>(oldseed, nextseed));
<a id="L205" name="L205"></a> 205         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>)(nextseed &gt;&gt;&gt; (48 - bits));
<a id="L206" name="L206"></a> 206     <em class="brace">}</em>
<a id="L207" name="L207"></a> 207 
<div class="comment">
      Generates random bytes and places them into a user-supplied
      byte array.  The number of random bytes produced is equal to
      the length of the byte array.
      <p>The method <code>nextBytes</code> is implemented by class <code>Random</code>
      as if by:
       </p><pre> {@code
      public void nextBytes(byte[] bytes) {
        for (int i = 0; i &lt; bytes.length; )
          for (int rnd = nextInt(), n = Math.min(bytes.length - i, 4);
               n-- &gt; 0; rnd &gt;&gt;= 8)
            bytes[i++] = (byte)rnd;
      }}</pre>
      @param  bytes the byte array to fill with random bytes
      @throws NullPointerException if the byte array is null
      @since  1.1</div>
<a id="L227" name="L227"></a> 227     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23655.html" title="Multiple referred from 5 places.">nextBytes</a>(<strong class="reserved">byte</strong>[] bytes) <em class="brace">{</em>
<a id="L228" name="L228"></a> 228         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0, len = bytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i &lt; len; )
<a id="L229" name="L229"></a> 229             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> rnd = <a href="../D/28158.html" title="Multiple defined in 16 places.">nextInt</a>(),
<a id="L230" name="L230"></a> 230                      n = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(len - i, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../S/6754.html#L474" title="Defined at 474 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">SIZE</a>/<a href="../D/1038.html" title="Multiple defined in 2 places.">Byte</a>.<a href="../S/6754.html#L474" title="Defined at 474 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">SIZE</a>);
<a id="L231" name="L231"></a> 231                  n-- &gt; 0; rnd &gt;&gt;= <a href="../D/1038.html" title="Multiple defined in 2 places.">Byte</a>.<a href="../S/6754.html#L474" title="Defined at 474 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">SIZE</a>)
<a id="L232" name="L232"></a> 232                 bytes[i++] = (<strong class="reserved">byte</strong>)rnd;
<a id="L233" name="L233"></a> 233     <em class="brace">}</em>
<a id="L234" name="L234"></a> 234 
<div class="comment">
      The form of nextLong used by LongStream Spliterators.  If
      origin is greater than bound, acts as unbounded form of
      nextLong, else as bounded form.
      @param origin the least value, unless greater than bound
      @param bound the upper bound (exclusive), must not equal origin
      @return a pseudorandom value</div>
<a id="L244" name="L244"></a> 244     <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../R/20953.html" title="Multiple referred from 8 places.">internalNextLong</a>(<strong class="reserved">long</strong> origin, <strong class="reserved">long</strong> bound) <em class="brace">{</em>
<a id="L245" name="L245"></a> 245         <strong class="reserved">long</strong> r = <a href="../D/28165.html" title="Multiple defined in 11 places.">nextLong</a>();
<a id="L246" name="L246"></a> 246         <strong class="reserved">if</strong> (origin &lt; bound) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247             <strong class="reserved">long</strong> n = bound - origin, m = n - 1;
<a id="L248" name="L248"></a> 248             <strong class="reserved">if</strong> ((n &amp; m) == 0L)  <em class="comment">// power of two</em>
<a id="L249" name="L249"></a> 249                 r = (r &amp; m) + origin;
<a id="L250" name="L250"></a> 250             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (n &gt; 0L) <em class="brace">{</em>  <em class="comment">// reject over-represented candidates</em>
<a id="L251" name="L251"></a> 251                 <strong class="reserved">for</strong> (<strong class="reserved">long</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = r &gt;&gt;&gt; 1;            <em class="comment">// ensure nonnegative</em>
<a id="L252" name="L252"></a> 252                      <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> + m - (r = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> % n) &lt; 0L;    <em class="comment">// rejection check</em>
<a id="L253" name="L253"></a> 253                      <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../D/28165.html" title="Multiple defined in 11 places.">nextLong</a>() &gt;&gt;&gt; 1) <em class="comment">// retry</em>
<a id="L254" name="L254"></a> 254                     ;
<a id="L255" name="L255"></a> 255                 r += origin;
<a id="L256" name="L256"></a> 256             <em class="brace">}</em>
<a id="L257" name="L257"></a> 257             <strong class="reserved">else</strong> <em class="brace">{</em>              <em class="comment">// range not representable as long</em>
<a id="L258" name="L258"></a> 258                 <strong class="reserved">while</strong> (r &lt; origin || r &gt;= bound)
<a id="L259" name="L259"></a> 259                     r = <a href="../D/28165.html" title="Multiple defined in 11 places.">nextLong</a>();
<a id="L260" name="L260"></a> 260             <em class="brace">}</em>
<a id="L261" name="L261"></a> 261         <em class="brace">}</em>
<a id="L262" name="L262"></a> 262         <strong class="reserved">return</strong> r;
<a id="L263" name="L263"></a> 263     <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<div class="comment">
      The form of nextInt used by IntStream Spliterators.
      For the unbounded case: uses nextInt().
      For the bounded case with representable range: uses nextInt(int bound)
      For the bounded case with unrepresentable range: uses nextInt()
      @param origin the least value, unless greater than bound
      @param bound the upper bound (exclusive), must not equal origin
      @return a pseudorandom value</div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/20952.html" title="Multiple referred from 8 places.">internalNextInt</a>(<strong class="reserved">int</strong> origin, <strong class="reserved">int</strong> bound) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <strong class="reserved">if</strong> (origin &lt; bound) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277             <strong class="reserved">int</strong> n = bound - origin;
<a id="L278" name="L278"></a> 278             <strong class="reserved">if</strong> (n &gt; 0) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279                 <strong class="reserved">return</strong> <a href="../D/28158.html" title="Multiple defined in 16 places.">nextInt</a>(n) + origin;
<a id="L280" name="L280"></a> 280             <em class="brace">}</em>
<a id="L281" name="L281"></a> 281             <strong class="reserved">else</strong> <em class="brace">{</em>  <em class="comment">// range not representable as int</em>
<a id="L282" name="L282"></a> 282                 <strong class="reserved">int</strong> r;
<a id="L283" name="L283"></a> 283                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L284" name="L284"></a> 284                     r = <a href="../D/28158.html" title="Multiple defined in 16 places.">nextInt</a>();
<a id="L285" name="L285"></a> 285                 <em class="brace">}</em> <strong class="reserved">while</strong> (r &lt; origin || r &gt;= bound);
<a id="L286" name="L286"></a> 286                 <strong class="reserved">return</strong> r;
<a id="L287" name="L287"></a> 287             <em class="brace">}</em>
<a id="L288" name="L288"></a> 288         <em class="brace">}</em>
<a id="L289" name="L289"></a> 289         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L290" name="L290"></a> 290             <strong class="reserved">return</strong> <a href="../D/28158.html" title="Multiple defined in 16 places.">nextInt</a>();
<a id="L291" name="L291"></a> 291         <em class="brace">}</em>
<a id="L292" name="L292"></a> 292     <em class="brace">}</em>
<a id="L293" name="L293"></a> 293 
<div class="comment">
      The form of nextDouble used by DoubleStream Spliterators.
      @param origin the least value, unless greater than bound
      @param bound the upper bound (exclusive), must not equal origin
      @return a pseudorandom value</div>
<a id="L301" name="L301"></a> 301     <strong class="reserved">final</strong> <strong class="reserved">double</strong> <a href="../R/20951.html" title="Multiple referred from 8 places.">internalNextDouble</a>(<strong class="reserved">double</strong> origin, <strong class="reserved">double</strong> bound) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302         <strong class="reserved">double</strong> r = <a href="../D/28143.html" title="Multiple defined in 12 places.">nextDouble</a>();
<a id="L303" name="L303"></a> 303         <strong class="reserved">if</strong> (origin &lt; bound) <em class="brace">{</em>
<a id="L304" name="L304"></a> 304             r = r * (bound - origin) + origin;
<a id="L305" name="L305"></a> 305             <strong class="reserved">if</strong> (r &gt;= bound) <em class="comment">// correct for rounding</em>
<a id="L306" name="L306"></a> 306                 r = <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<a href="../S/1746.html#L945" title="Defined at 945 in src/java/lang/Double.java.">longBitsToDouble</a>(<a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<a href="../S/1746.html#L835" title="Defined at 835 in src/java/lang/Double.java.">doubleToLongBits</a>(bound) - 1);
<a id="L307" name="L307"></a> 307         <em class="brace">}</em>
<a id="L308" name="L308"></a> 308         <strong class="reserved">return</strong> r;
<a id="L309" name="L309"></a> 309     <em class="brace">}</em>
<a id="L310" name="L310"></a> 310 
<div class="comment">
      Returns the next pseudorandom, uniformly distributed <code>int</code>
      value from this random number generator's sequence. The general
      contract of <code>nextInt</code> is that one <code>int</code> value is
      pseudorandomly generated and returned. All 2<sup>32</sup> possible
      <code>int</code> values are produced with (approximately) equal probability.
      <p>The method <code>nextInt</code> is implemented by class <code>Random</code>
      as if by:
       </p><pre> {@code
      public int nextInt() {
        return next(32);
      }}</pre>
      @return the next pseudorandom, uniformly distributed <code>int</code>
              value from this random number generator's sequence</div>
<a id="L328" name="L328"></a> 328     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/23671.html" title="Multiple referred from 33 places.">nextInt</a>() <em class="brace">{</em>
<a id="L329" name="L329"></a> 329         <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(32);
<a id="L330" name="L330"></a> 330     <em class="brace">}</em>
<a id="L331" name="L331"></a> 331 
<div class="comment">
      Returns a pseudorandom, uniformly distributed <code>int</code> value
      between 0 (inclusive) and the specified value (exclusive), drawn from
      this random number generator's sequence.  The general contract of
      <code>nextInt</code> is that one <code>int</code> value in the specified range
      is pseudorandomly generated and returned.  All <code>bound</code> possible
      <code>int</code> values are produced with (approximately) equal
      probability.  The method <code>nextInt(int bound)</code> is implemented by
      class <code>Random</code> as if by:
       <pre> {@code
      public int nextInt(int bound) {
        if (bound &lt;= 0)
          throw new IllegalArgumentException("bound must be positive");
        if ((bound &amp; -bound) == bound)  // i.e., bound is a power of 2
          return (int)((bound * (long)next(31)) &gt;&gt; 31);
        int bits, val;
        do {
            bits = next(31);
            val = bits % bound;
        } while (bits - val + (bound-1) &lt; 0);
        return val;
      }}</pre>
      <p>The hedge "approximately" is used in the foregoing description only
      because the next method is only approximately an unbiased source of
      independently chosen bits.  If it were a perfect source of randomly
      chosen bits, then the algorithm shown would choose <code>int</code>
      values from the stated range with perfect uniformity.
      </p><p>
      The algorithm is slightly tricky.  It rejects values that would result
      in an uneven distribution (due to the fact that 2^31 is not divisible
      by n). The probability of a value being rejected depends on n.  The
      worst case is n=2^30+1, for which the probability of a reject is 1/2,
      and the expected number of iterations before the loop terminates is 2.
      </p><p>
      The algorithm treats the case where n is a power of two specially: it
      returns the correct number of high-order bits from the underlying
      pseudo-random number generator.  In the absence of special treatment,
      the correct number of <i>low-order</i> bits would be returned.  Linear
      congruential pseudo-random number generators such as the one
      implemented by this class are known to have short periods in the
      sequence of values of their low-order bits.  Thus, this special case
      greatly increases the length of the sequence of values returned by
      successive calls to this method if n is a small power of two.
      @param bound the upper bound (exclusive).  Must be positive.
      @return the next pseudorandom, uniformly distributed <code>int</code>
              value between zero (inclusive) and <code>bound</code> (exclusive)
              from this random number generator's sequence
      @throws IllegalArgumentException if bound is not positive
      @since 1.2</p></div>
<a id="L386" name="L386"></a> 386     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/23671.html" title="Multiple referred from 33 places.">nextInt</a>(<strong class="reserved">int</strong> bound) <em class="brace">{</em>
<a id="L387" name="L387"></a> 387         <strong class="reserved">if</strong> (bound &lt;= 0)
<a id="L388" name="L388"></a> 388             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadBound);
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390         <strong class="reserved">int</strong> r = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(31);
<a id="L391" name="L391"></a> 391         <strong class="reserved">int</strong> m = bound - 1;
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong> ((bound &amp; m) == 0)  <em class="comment">// i.e., bound is a power of 2</em>
<a id="L393" name="L393"></a> 393             r = (<strong class="reserved">int</strong>)((bound * (<strong class="reserved">long</strong>)r) &gt;&gt; 31);
<a id="L394" name="L394"></a> 394         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L395" name="L395"></a> 395             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = r;
<a id="L396" name="L396"></a> 396                  <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> - (r = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> % bound) + m &lt; 0;
<a id="L397" name="L397"></a> 397                  <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(31))
<a id="L398" name="L398"></a> 398                 ;
<a id="L399" name="L399"></a> 399         <em class="brace">}</em>
<a id="L400" name="L400"></a> 400         <strong class="reserved">return</strong> r;
<a id="L401" name="L401"></a> 401     <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<div class="comment">
      Returns the next pseudorandom, uniformly distributed <code>long</code>
      value from this random number generator's sequence. The general
      contract of <code>nextLong</code> is that one <code>long</code> value is
      pseudorandomly generated and returned.
      <p>The method <code>nextLong</code> is implemented by class <code>Random</code>
      as if by:
       </p><pre> {@code
      public long nextLong() {
        return ((long)next(32) &lt;&lt; 32) + next(32);
      }}</pre>
      Because class <code>Random</code> uses a seed with only 48 bits,
      this algorithm will not return all possible <code>long</code> values.
      @return the next pseudorandom, uniformly distributed <code>long</code>
              value from this random number generator's sequence</div>
<a id="L422" name="L422"></a> 422     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/23678.html" title="Multiple referred from 24 places.">nextLong</a>() <em class="brace">{</em>
<a id="L423" name="L423"></a> 423         <em class="comment">// it's okay that the bottom word remains signed.</em>
<a id="L424" name="L424"></a> 424         <strong class="reserved">return</strong> ((<strong class="reserved">long</strong>)(<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(32)) &lt;&lt; 32) + <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(32);
<a id="L425" name="L425"></a> 425     <em class="brace">}</em>
<a id="L426" name="L426"></a> 426 
<div class="comment">
      Returns the next pseudorandom, uniformly distributed
      <code>boolean</code> value from this random number generator's
      sequence. The general contract of <code>nextBoolean</code> is that one
      <code>boolean</code> value is pseudorandomly generated and returned.  The
      values <code>true</code> and <code>false</code> are produced with
      (approximately) equal probability.
      <p>The method <code>nextBoolean</code> is implemented by class <code>Random</code>
      as if by:
       </p><pre> {@code
      public boolean nextBoolean() {
        return next(1) != 0;
      }}</pre>
      @return the next pseudorandom, uniformly distributed
              <code>boolean</code> value from this random number generator's
              sequence
      @since 1.2</div>
<a id="L447" name="L447"></a> 447     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> nextBoolean() <em class="brace">{</em>
<a id="L448" name="L448"></a> 448         <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(1) != 0;
<a id="L449" name="L449"></a> 449     <em class="brace">}</em>
<a id="L450" name="L450"></a> 450 
<div class="comment">
      Returns the next pseudorandom, uniformly distributed <code>float</code>
      value between <code>0.0</code> and <code>1.0</code> from this random
      number generator's sequence.
      <p>The general contract of <code>nextFloat</code> is that one
      <code>float</code> value, chosen (approximately) uniformly from the
      range <code>0.0f</code> (inclusive) to <code>1.0f</code> (exclusive), is
      pseudorandomly generated and returned. All 2<sup>24</sup> possible
      <code>float</code> values of the form <i>m&nbsp;x&nbsp;</i>2<sup>-24</sup>,
      where <i>m</i> is a positive integer less than 2<sup>24</sup>, are
      produced with (approximately) equal probability.
      </p><p>The method <code>nextFloat</code> is implemented by class <code>Random</code>
      as if by:
       </p><pre> {@code
      public float nextFloat() {
        return next(24) / ((float)(1 &lt;&lt; 24));
      }}</pre>
      <p>The hedge "approximately" is used in the foregoing description only
      because the next method is only approximately an unbiased source of
      independently chosen bits. If it were a perfect source of randomly
      chosen bits, then the algorithm shown would choose <code>float</code>
      values from the stated range with perfect uniformity.</p><p>
      [In early versions of Java, the result was incorrectly calculated as:
       </p><pre> {@code
        return next(30) / ((float)(1 &lt;&lt; 30));}</pre>
      This might seem to be equivalent, if not better, but in fact it
      introduced a slight nonuniformity because of the bias in the rounding
      of floating-point numbers: it was slightly more likely that the
      low-order bit of the significand would be 0 than that it would be 1.]
      @return the next pseudorandom, uniformly distributed <code>float</code>
              value between <code>0.0</code> and <code>1.0</code> from this
              random number generator's sequence</div>
<a id="L488" name="L488"></a> 488     <strong class="reserved">public</strong> <strong class="reserved">float</strong> nextFloat() <em class="brace">{</em>
<a id="L489" name="L489"></a> 489         <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(24) / ((<strong class="reserved">float</strong>)(1 &lt;&lt; 24));
<a id="L490" name="L490"></a> 490     <em class="brace">}</em>
<a id="L491" name="L491"></a> 491 
<div class="comment">
      Returns the next pseudorandom, uniformly distributed
      <code>double</code> value between <code>0.0</code> and
      <code>1.0</code> from this random number generator's sequence.
      <p>The general contract of <code>nextDouble</code> is that one
      <code>double</code> value, chosen (approximately) uniformly from the
      range <code>0.0d</code> (inclusive) to <code>1.0d</code> (exclusive), is
      pseudorandomly generated and returned.
      </p><p>The method <code>nextDouble</code> is implemented by class <code>Random</code>
      as if by:
       </p><pre> {@code
      public double nextDouble() {
        return (((long)next(26) &lt;&lt; 27) + next(27))
          / (double)(1L &lt;&lt; 53);
      }}</pre>
      <p>The hedge "approximately" is used in the foregoing description only
      because the <code>next</code> method is only approximately an unbiased
      source of independently chosen bits. If it were a perfect source of
      randomly chosen bits, then the algorithm shown would choose
      <code>double</code> values from the stated range with perfect uniformity.
      </p><p>[In early versions of Java, the result was incorrectly calculated as:
       </p><pre> {@code
        return (((long)next(27) &lt;&lt; 27) + next(27))
          / (double)(1L &lt;&lt; 54);}</pre>
      This might seem to be equivalent, if not better, but in fact it
      introduced a large nonuniformity because of the bias in the rounding
      of floating-point numbers: it was three times as likely that the
      low-order bit of the significand would be 0 than that it would be 1!
      This nonuniformity probably doesn't matter much in practice, but we
      strive for perfection.]
      @return the next pseudorandom, uniformly distributed <code>double</code>
              value between <code>0.0</code> and <code>1.0</code> from this
              random number generator's sequence
      @see Math#random</div>
<a id="L531" name="L531"></a> 531     <strong class="reserved">public</strong> <strong class="reserved">double</strong> <a href="../R/23659.html" title="Multiple referred from 15 places.">nextDouble</a>() <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <strong class="reserved">return</strong> (((<strong class="reserved">long</strong>)(<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(26)) &lt;&lt; 27) + <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(27)) * DOUBLE_UNIT;
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<a id="L535" name="L535"></a> 535     <strong class="reserved">private</strong> <strong class="reserved">double</strong> nextNextGaussian;
<a id="L536" name="L536"></a> 536     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> haveNextNextGaussian = <strong class="reserved">false</strong>;
<a id="L537" name="L537"></a> 537 
<div class="comment">
      Returns the next pseudorandom, Gaussian ("normally") distributed
      <code>double</code> value with mean <code>0.0</code> and standard
      deviation <code>1.0</code> from this random number generator's sequence.
      <p>
      The general contract of <code>nextGaussian</code> is that one
      <code>double</code> value, chosen from (approximately) the usual
      normal distribution with mean <code>0.0</code> and standard deviation
      <code>1.0</code>, is pseudorandomly generated and returned.
      </p><p>The method <code>nextGaussian</code> is implemented by class
      <code>Random</code> as if by a threadsafe version of the following:
       </p><pre> {@code
      private double nextNextGaussian;
      private boolean haveNextNextGaussian = false;
      public double nextGaussian() {
        if (haveNextNextGaussian) {
          haveNextNextGaussian = false;
          return nextNextGaussian;
        } else {
          double v1, v2, s;
          do {
            v1 = 2 * nextDouble() - 1;   // between -1.0 and 1.0
            v2 = 2 * nextDouble() - 1;   // between -1.0 and 1.0
            s = v1 * v1 + v2 * v2;
          } while (s &gt;= 1 || s == 0);
          double multiplier = StrictMath.sqrt(-2 * StrictMath.log(s)/s);
          nextNextGaussian = v2 * multiplier;
          haveNextNextGaussian = true;
          return v1 * multiplier;
        }
      }}</pre>
      This uses the <i>polar method</i> of G. E. P. Box, M. E. Muller, and
      G. Marsaglia, as described by Donald E. Knuth in <i>The Art of
      Computer Programming</i>, Volume 3: <i>Seminumerical Algorithms</i>,
      section 3.4.1, subsection C, algorithm P. Note that it generates two
      independent values at the cost of only one call to <code>StrictMath.log</code>
      and one call to <code>StrictMath.sqrt</code>.
      @return the next pseudorandom, Gaussian ("normally") distributed
              <code>double</code> value with mean <code>0.0</code> and
              standard deviation <code>1.0</code> from this random number
              generator's sequence</div>
<a id="L583" name="L583"></a> 583     <strong class="reserved">synchronized</strong> <strong class="reserved">public</strong> <strong class="reserved">double</strong> nextGaussian() <em class="brace">{</em>
<a id="L584" name="L584"></a> 584         <em class="comment">// See Knuth, ACP, Section 3.4.1 Algorithm C.</em>
<a id="L585" name="L585"></a> 585         <strong class="reserved">if</strong> (haveNextNextGaussian) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586             haveNextNextGaussian = <strong class="reserved">false</strong>;
<a id="L587" name="L587"></a> 587             <strong class="reserved">return</strong> nextNextGaussian;
<a id="L588" name="L588"></a> 588         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L589" name="L589"></a> 589             <strong class="reserved">double</strong> v1, v2, s;
<a id="L590" name="L590"></a> 590             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                 v1 = 2 * <a href="../D/28143.html" title="Multiple defined in 12 places.">nextDouble</a>() - 1; <em class="comment">// between -1 and 1</em>
<a id="L592" name="L592"></a> 592                 v2 = 2 * <a href="../D/28143.html" title="Multiple defined in 12 places.">nextDouble</a>() - 1; <em class="comment">// between -1 and 1</em>
<a id="L593" name="L593"></a> 593                 s = v1 * v1 + v2 * v2;
<a id="L594" name="L594"></a> 594             <em class="brace">}</em> <strong class="reserved">while</strong> (s &gt;= 1 || s == 0);
<a id="L595" name="L595"></a> 595             <strong class="reserved">double</strong> multiplier = <a href="../S/1786.html#L80" title="Defined at 80 in src/java/lang/StrictMath.java.">StrictMath</a>.<a href="../D/34735.html" title="Multiple defined in 3 places.">sqrt</a>(-2 * <a href="../S/1786.html#L80" title="Defined at 80 in src/java/lang/StrictMath.java.">StrictMath</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(s)/s);
<a id="L596" name="L596"></a> 596             nextNextGaussian = v2 * multiplier;
<a id="L597" name="L597"></a> 597             haveNextNextGaussian = <strong class="reserved">true</strong>;
<a id="L598" name="L598"></a> 598             <strong class="reserved">return</strong> v1 * multiplier;
<a id="L599" name="L599"></a> 599         <em class="brace">}</em>
<a id="L600" name="L600"></a> 600     <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<a id="L602" name="L602"></a> 602     <em class="comment">// stream methods, coded in a way intended to better isolate for</em>
<a id="L603" name="L603"></a> 603     <em class="comment">// maintenance purposes the small differences across forms.</em>
<a id="L604" name="L604"></a> 604 
<div class="comment">
      Returns a stream producing the given <code>streamSize</code> number of
      pseudorandom <code>int</code> values.
      <p>A pseudorandom <code>int</code> value is generated as if it's the result of
      calling the method {@link #nextInt()}.
      @param streamSize the number of values to generate
      @return a stream of pseudorandom <code>int</code> values
      @throws IllegalArgumentException if <code>streamSize</code> is
              less than zero
      @since 1.8</p></div>
<a id="L618" name="L618"></a> 618     <strong class="reserved">public</strong> <a href="../S/894.html#L73" title="Defined at 73 in src/java/util/stream/IntStream.java.">IntStream</a> <a href="../R/20993.html" title="Multiple referred from 7 places.">ints</a>(<strong class="reserved">long</strong> streamSize) <em class="brace">{</em>
<a id="L619" name="L619"></a> 619         <strong class="reserved">if</strong> (streamSize &lt; 0L)
<a id="L620" name="L620"></a> 620             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadSize);
<a id="L621" name="L621"></a> 621         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/24892.html" title="Multiple defined in 2 places.">intStream</a>
<a id="L622" name="L622"></a> 622                 (<strong class="reserved">new</strong> <a href="../D/7099.html" title="Multiple defined in 3 places.">RandomIntsSpliterator</a>
<a id="L623" name="L623"></a> 623                          (<strong class="reserved">this</strong>, 0L, streamSize, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE, 0),
<a id="L624" name="L624"></a> 624                  <strong class="reserved">false</strong>);
<a id="L625" name="L625"></a> 625     <em class="brace">}</em>
<a id="L626" name="L626"></a> 626 
<div class="comment">
      Returns an effectively unlimited stream of pseudorandom <code>int</code>
      values.
      <p>A pseudorandom <code>int</code> value is generated as if it's the result of
      calling the method {@link #nextInt()}.
      @implNote This method is implemented to be equivalent to {@code
      ints(Long.MAX_VALUE)}.
      @return a stream of pseudorandom <code>int</code> values
      @since 1.8</p></div>
<a id="L640" name="L640"></a> 640     <strong class="reserved">public</strong> <a href="../S/894.html#L73" title="Defined at 73 in src/java/util/stream/IntStream.java.">IntStream</a> <a href="../R/20993.html" title="Multiple referred from 7 places.">ints</a>() <em class="brace">{</em>
<a id="L641" name="L641"></a> 641         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/24892.html" title="Multiple defined in 2 places.">intStream</a>
<a id="L642" name="L642"></a> 642                 (<strong class="reserved">new</strong> <a href="../D/7099.html" title="Multiple defined in 3 places.">RandomIntsSpliterator</a>
<a id="L643" name="L643"></a> 643                          (<strong class="reserved">this</strong>, 0L, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE, 0),
<a id="L644" name="L644"></a> 644                  <strong class="reserved">false</strong>);
<a id="L645" name="L645"></a> 645     <em class="brace">}</em>
<a id="L646" name="L646"></a> 646 
<div class="comment">
      Returns a stream producing the given <code>streamSize</code> number
      of pseudorandom <code>int</code> values, each conforming to the given
      origin (inclusive) and bound (exclusive).
      <p>A pseudorandom <code>int</code> value is generated as if it's the result of
      calling the following method with the origin and bound:
      </p><pre> {@code
      int nextInt(int origin, int bound) {
        int n = bound - origin;
        if (n &gt; 0) {
          return nextInt(n) + origin;
        }
        else {  // range not representable as int
          int r;
          do {
            r = nextInt();
          } while (r &lt; origin || r &gt;= bound);
          return r;
        }
      }}</pre>
      @param streamSize the number of values to generate
      @param randomNumberOrigin the origin (inclusive) of each random value
      @param randomNumberBound the bound (exclusive) of each random value
      @return a stream of pseudorandom <code>int</code> values,
              each with the given origin (inclusive) and bound (exclusive)
      @throws IllegalArgumentException if <code>streamSize</code> is
              less than zero, or <code>randomNumberOrigin</code>
              is greater than or equal to <code>randomNumberBound</code>
      @since 1.8</div>
<a id="L679" name="L679"></a> 679     <strong class="reserved">public</strong> <a href="../S/894.html#L73" title="Defined at 73 in src/java/util/stream/IntStream.java.">IntStream</a> <a href="../R/20993.html" title="Multiple referred from 7 places.">ints</a>(<strong class="reserved">long</strong> streamSize, <strong class="reserved">int</strong> randomNumberOrigin,
<a id="L680" name="L680"></a> 680                           <strong class="reserved">int</strong> randomNumberBound) <em class="brace">{</em>
<a id="L681" name="L681"></a> 681         <strong class="reserved">if</strong> (streamSize &lt; 0L)
<a id="L682" name="L682"></a> 682             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadSize);
<a id="L683" name="L683"></a> 683         <strong class="reserved">if</strong> (randomNumberOrigin &gt;= randomNumberBound)
<a id="L684" name="L684"></a> 684             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadRange);
<a id="L685" name="L685"></a> 685         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/24892.html" title="Multiple defined in 2 places.">intStream</a>
<a id="L686" name="L686"></a> 686                 (<strong class="reserved">new</strong> <a href="../D/7099.html" title="Multiple defined in 3 places.">RandomIntsSpliterator</a>
<a id="L687" name="L687"></a> 687                          (<strong class="reserved">this</strong>, 0L, streamSize, randomNumberOrigin, randomNumberBound),
<a id="L688" name="L688"></a> 688                  <strong class="reserved">false</strong>);
<a id="L689" name="L689"></a> 689     <em class="brace">}</em>
<a id="L690" name="L690"></a> 690 
<div class="comment">
      Returns an effectively unlimited stream of pseudorandom {@code
      int} values, each conforming to the given origin (inclusive) and bound
      (exclusive).
      <p>A pseudorandom <code>int</code> value is generated as if it's the result of
      calling the following method with the origin and bound:
      </p><pre> {@code
      int nextInt(int origin, int bound) {
        int n = bound - origin;
        if (n &gt; 0) {
          return nextInt(n) + origin;
        }
        else {  // range not representable as int
          int r;
          do {
            r = nextInt();
          } while (r &lt; origin || r &gt;= bound);
          return r;
        }
      }}</pre>
      @implNote This method is implemented to be equivalent to {@code
      ints(Long.MAX_VALUE, randomNumberOrigin, randomNumberBound)}.
      @param randomNumberOrigin the origin (inclusive) of each random value
      @param randomNumberBound the bound (exclusive) of each random value
      @return a stream of pseudorandom <code>int</code> values,
              each with the given origin (inclusive) and bound (exclusive)
      @throws IllegalArgumentException if <code>randomNumberOrigin</code>
              is greater than or equal to <code>randomNumberBound</code>
      @since 1.8</div>
<a id="L724" name="L724"></a> 724     <strong class="reserved">public</strong> <a href="../S/894.html#L73" title="Defined at 73 in src/java/util/stream/IntStream.java.">IntStream</a> <a href="../R/20993.html" title="Multiple referred from 7 places.">ints</a>(<strong class="reserved">int</strong> randomNumberOrigin, <strong class="reserved">int</strong> randomNumberBound) <em class="brace">{</em>
<a id="L725" name="L725"></a> 725         <strong class="reserved">if</strong> (randomNumberOrigin &gt;= randomNumberBound)
<a id="L726" name="L726"></a> 726             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadRange);
<a id="L727" name="L727"></a> 727         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/24892.html" title="Multiple defined in 2 places.">intStream</a>
<a id="L728" name="L728"></a> 728                 (<strong class="reserved">new</strong> <a href="../D/7099.html" title="Multiple defined in 3 places.">RandomIntsSpliterator</a>
<a id="L729" name="L729"></a> 729                          (<strong class="reserved">this</strong>, 0L, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, randomNumberOrigin, randomNumberBound),
<a id="L730" name="L730"></a> 730                  <strong class="reserved">false</strong>);
<a id="L731" name="L731"></a> 731     <em class="brace">}</em>
<a id="L732" name="L732"></a> 732 
<div class="comment">
      Returns a stream producing the given <code>streamSize</code> number of
      pseudorandom <code>long</code> values.
      <p>A pseudorandom <code>long</code> value is generated as if it's the result
      of calling the method {@link #nextLong()}.
      @param streamSize the number of values to generate
      @return a stream of pseudorandom <code>long</code> values
      @throws IllegalArgumentException if <code>streamSize</code> is
              less than zero
      @since 1.8</p></div>
<a id="L746" name="L746"></a> 746     <strong class="reserved">public</strong> <a href="../S/892.html#L78" title="Defined at 78 in src/java/util/stream/LongStream.java.">LongStream</a> <a href="../R/22718.html" title="Multiple referred from 8 places.">longs</a>(<strong class="reserved">long</strong> streamSize) <em class="brace">{</em>
<a id="L747" name="L747"></a> 747         <strong class="reserved">if</strong> (streamSize &lt; 0L)
<a id="L748" name="L748"></a> 748             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadSize);
<a id="L749" name="L749"></a> 749         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/27084.html" title="Multiple defined in 2 places.">longStream</a>
<a id="L750" name="L750"></a> 750                 (<strong class="reserved">new</strong> <a href="../D/7100.html" title="Multiple defined in 3 places.">RandomLongsSpliterator</a>
<a id="L751" name="L751"></a> 751                          (<strong class="reserved">this</strong>, 0L, streamSize, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, 0L),
<a id="L752" name="L752"></a> 752                  <strong class="reserved">false</strong>);
<a id="L753" name="L753"></a> 753     <em class="brace">}</em>
<a id="L754" name="L754"></a> 754 
<div class="comment">
      Returns an effectively unlimited stream of pseudorandom <code>long</code>
      values.
      <p>A pseudorandom <code>long</code> value is generated as if it's the result
      of calling the method {@link #nextLong()}.
      @implNote This method is implemented to be equivalent to {@code
      longs(Long.MAX_VALUE)}.
      @return a stream of pseudorandom <code>long</code> values
      @since 1.8</p></div>
<a id="L768" name="L768"></a> 768     <strong class="reserved">public</strong> <a href="../S/892.html#L78" title="Defined at 78 in src/java/util/stream/LongStream.java.">LongStream</a> <a href="../R/22718.html" title="Multiple referred from 8 places.">longs</a>() <em class="brace">{</em>
<a id="L769" name="L769"></a> 769         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/27084.html" title="Multiple defined in 2 places.">longStream</a>
<a id="L770" name="L770"></a> 770                 (<strong class="reserved">new</strong> <a href="../D/7100.html" title="Multiple defined in 3 places.">RandomLongsSpliterator</a>
<a id="L771" name="L771"></a> 771                          (<strong class="reserved">this</strong>, 0L, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, 0L),
<a id="L772" name="L772"></a> 772                  <strong class="reserved">false</strong>);
<a id="L773" name="L773"></a> 773     <em class="brace">}</em>
<a id="L774" name="L774"></a> 774 
<div class="comment">
      Returns a stream producing the given <code>streamSize</code> number of
      pseudorandom <code>long</code>, each conforming to the given origin
      (inclusive) and bound (exclusive).
      <p>A pseudorandom <code>long</code> value is generated as if it's the result
      of calling the following method with the origin and bound:
      </p><pre> {@code
      long nextLong(long origin, long bound) {
        long r = nextLong();
        long n = bound - origin, m = n - 1;
        if ((n &amp; m) == 0L)  // power of two
          r = (r &amp; m) + origin;
        else if (n &gt; 0L) {  // reject over-represented candidates
          for (long u = r &gt;&gt;&gt; 1;            // ensure nonnegative
               u + m - (r = u % n) &lt; 0L;    // rejection check
               u = nextLong() &gt;&gt;&gt; 1) // retry
              ;
          r += origin;
        }
        else {              // range not representable as long
          while (r &lt; origin || r &gt;= bound)
            r = nextLong();
        }
        return r;
      }}</pre>
      @param streamSize the number of values to generate
      @param randomNumberOrigin the origin (inclusive) of each random value
      @param randomNumberBound the bound (exclusive) of each random value
      @return a stream of pseudorandom <code>long</code> values,
              each with the given origin (inclusive) and bound (exclusive)
      @throws IllegalArgumentException if <code>streamSize</code> is
              less than zero, or <code>randomNumberOrigin</code>
              is greater than or equal to <code>randomNumberBound</code>
      @since 1.8</div>
<a id="L812" name="L812"></a> 812     <strong class="reserved">public</strong> <a href="../S/892.html#L78" title="Defined at 78 in src/java/util/stream/LongStream.java.">LongStream</a> <a href="../R/22718.html" title="Multiple referred from 8 places.">longs</a>(<strong class="reserved">long</strong> streamSize, <strong class="reserved">long</strong> randomNumberOrigin,
<a id="L813" name="L813"></a> 813                             <strong class="reserved">long</strong> randomNumberBound) <em class="brace">{</em>
<a id="L814" name="L814"></a> 814         <strong class="reserved">if</strong> (streamSize &lt; 0L)
<a id="L815" name="L815"></a> 815             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadSize);
<a id="L816" name="L816"></a> 816         <strong class="reserved">if</strong> (randomNumberOrigin &gt;= randomNumberBound)
<a id="L817" name="L817"></a> 817             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadRange);
<a id="L818" name="L818"></a> 818         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/27084.html" title="Multiple defined in 2 places.">longStream</a>
<a id="L819" name="L819"></a> 819                 (<strong class="reserved">new</strong> <a href="../D/7100.html" title="Multiple defined in 3 places.">RandomLongsSpliterator</a>
<a id="L820" name="L820"></a> 820                          (<strong class="reserved">this</strong>, 0L, streamSize, randomNumberOrigin, randomNumberBound),
<a id="L821" name="L821"></a> 821                  <strong class="reserved">false</strong>);
<a id="L822" name="L822"></a> 822     <em class="brace">}</em>
<a id="L823" name="L823"></a> 823 
<div class="comment">
      Returns an effectively unlimited stream of pseudorandom {@code
      long} values, each conforming to the given origin (inclusive) and bound
      (exclusive).
      <p>A pseudorandom <code>long</code> value is generated as if it's the result
      of calling the following method with the origin and bound:
      </p><pre> {@code
      long nextLong(long origin, long bound) {
        long r = nextLong();
        long n = bound - origin, m = n - 1;
        if ((n &amp; m) == 0L)  // power of two
          r = (r &amp; m) + origin;
        else if (n &gt; 0L) {  // reject over-represented candidates
          for (long u = r &gt;&gt;&gt; 1;            // ensure nonnegative
               u + m - (r = u % n) &lt; 0L;    // rejection check
               u = nextLong() &gt;&gt;&gt; 1) // retry
              ;
          r += origin;
        }
        else {              // range not representable as long
          while (r &lt; origin || r &gt;= bound)
            r = nextLong();
        }
        return r;
      }}</pre>
      @implNote This method is implemented to be equivalent to {@code
      longs(Long.MAX_VALUE, randomNumberOrigin, randomNumberBound)}.
      @param randomNumberOrigin the origin (inclusive) of each random value
      @param randomNumberBound the bound (exclusive) of each random value
      @return a stream of pseudorandom <code>long</code> values,
              each with the given origin (inclusive) and bound (exclusive)
      @throws IllegalArgumentException if <code>randomNumberOrigin</code>
              is greater than or equal to <code>randomNumberBound</code>
      @since 1.8</div>
<a id="L862" name="L862"></a> 862     <strong class="reserved">public</strong> <a href="../S/892.html#L78" title="Defined at 78 in src/java/util/stream/LongStream.java.">LongStream</a> <a href="../R/22718.html" title="Multiple referred from 8 places.">longs</a>(<strong class="reserved">long</strong> randomNumberOrigin, <strong class="reserved">long</strong> randomNumberBound) <em class="brace">{</em>
<a id="L863" name="L863"></a> 863         <strong class="reserved">if</strong> (randomNumberOrigin &gt;= randomNumberBound)
<a id="L864" name="L864"></a> 864             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadRange);
<a id="L865" name="L865"></a> 865         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/27084.html" title="Multiple defined in 2 places.">longStream</a>
<a id="L866" name="L866"></a> 866                 (<strong class="reserved">new</strong> <a href="../D/7100.html" title="Multiple defined in 3 places.">RandomLongsSpliterator</a>
<a id="L867" name="L867"></a> 867                          (<strong class="reserved">this</strong>, 0L, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, randomNumberOrigin, randomNumberBound),
<a id="L868" name="L868"></a> 868                  <strong class="reserved">false</strong>);
<a id="L869" name="L869"></a> 869     <em class="brace">}</em>
<a id="L870" name="L870"></a> 870 
<div class="comment">
      Returns a stream producing the given <code>streamSize</code> number of
      pseudorandom <code>double</code> values, each between zero
      (inclusive) and one (exclusive).
      <p>A pseudorandom <code>double</code> value is generated as if it's the result
      of calling the method {@link #nextDouble()}.
      @param streamSize the number of values to generate
      @return a stream of <code>double</code> values
      @throws IllegalArgumentException if <code>streamSize</code> is
              less than zero
      @since 1.8</p></div>
<a id="L885" name="L885"></a> 885     <strong class="reserved">public</strong> <a href="../S/907.html#L77" title="Defined at 77 in src/java/util/stream/DoubleStream.java.">DoubleStream</a> <a href="../R/13492.html" title="Multiple referred from 5 places.">doubles</a>(<strong class="reserved">long</strong> streamSize) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886         <strong class="reserved">if</strong> (streamSize &lt; 0L)
<a id="L887" name="L887"></a> 887             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadSize);
<a id="L888" name="L888"></a> 888         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/15131.html" title="Multiple defined in 2 places.">doubleStream</a>
<a id="L889" name="L889"></a> 889                 (<strong class="reserved">new</strong> <a href="../D/7098.html" title="Multiple defined in 3 places.">RandomDoublesSpliterator</a>
<a id="L890" name="L890"></a> 890                          (<strong class="reserved">this</strong>, 0L, streamSize, <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.MAX_VALUE, 0.0),
<a id="L891" name="L891"></a> 891                  <strong class="reserved">false</strong>);
<a id="L892" name="L892"></a> 892     <em class="brace">}</em>
<a id="L893" name="L893"></a> 893 
<div class="comment">
      Returns an effectively unlimited stream of pseudorandom {@code
      double} values, each between zero (inclusive) and one
      (exclusive).
      <p>A pseudorandom <code>double</code> value is generated as if it's the result
      of calling the method {@link #nextDouble()}.
      @implNote This method is implemented to be equivalent to {@code
      doubles(Long.MAX_VALUE)}.
      @return a stream of pseudorandom <code>double</code> values
      @since 1.8</p></div>
<a id="L908" name="L908"></a> 908     <strong class="reserved">public</strong> <a href="../S/907.html#L77" title="Defined at 77 in src/java/util/stream/DoubleStream.java.">DoubleStream</a> <a href="../R/13492.html" title="Multiple referred from 5 places.">doubles</a>() <em class="brace">{</em>
<a id="L909" name="L909"></a> 909         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/15131.html" title="Multiple defined in 2 places.">doubleStream</a>
<a id="L910" name="L910"></a> 910                 (<strong class="reserved">new</strong> <a href="../D/7098.html" title="Multiple defined in 3 places.">RandomDoublesSpliterator</a>
<a id="L911" name="L911"></a> 911                          (<strong class="reserved">this</strong>, 0L, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.MAX_VALUE, 0.0),
<a id="L912" name="L912"></a> 912                  <strong class="reserved">false</strong>);
<a id="L913" name="L913"></a> 913     <em class="brace">}</em>
<a id="L914" name="L914"></a> 914 
<div class="comment">
      Returns a stream producing the given <code>streamSize</code> number of
      pseudorandom <code>double</code> values, each conforming to the given origin
      (inclusive) and bound (exclusive).
      <p>A pseudorandom <code>double</code> value is generated as if it's the result
      of calling the following method with the origin and bound:
      </p><pre> {@code
      double nextDouble(double origin, double bound) {
        double r = nextDouble();
        r = r * (bound - origin) + origin;
        if (r &gt;= bound) // correct for rounding
          r = Math.nextDown(bound);
        return r;
      }}</pre>
      @param streamSize the number of values to generate
      @param randomNumberOrigin the origin (inclusive) of each random value
      @param randomNumberBound the bound (exclusive) of each random value
      @return a stream of pseudorandom <code>double</code> values,
              each with the given origin (inclusive) and bound (exclusive)
      @throws IllegalArgumentException if <code>streamSize</code> is
              less than zero
      @throws IllegalArgumentException if <code>randomNumberOrigin</code>
              is greater than or equal to <code>randomNumberBound</code>
      @since 1.8</div>
<a id="L942" name="L942"></a> 942     <strong class="reserved">public</strong> <a href="../S/907.html#L77" title="Defined at 77 in src/java/util/stream/DoubleStream.java.">DoubleStream</a> <a href="../R/13492.html" title="Multiple referred from 5 places.">doubles</a>(<strong class="reserved">long</strong> streamSize, <strong class="reserved">double</strong> randomNumberOrigin,
<a id="L943" name="L943"></a> 943                                 <strong class="reserved">double</strong> randomNumberBound) <em class="brace">{</em>
<a id="L944" name="L944"></a> 944         <strong class="reserved">if</strong> (streamSize &lt; 0L)
<a id="L945" name="L945"></a> 945             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadSize);
<a id="L946" name="L946"></a> 946         <strong class="reserved">if</strong> (!(randomNumberOrigin &lt; randomNumberBound))
<a id="L947" name="L947"></a> 947             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadRange);
<a id="L948" name="L948"></a> 948         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/15131.html" title="Multiple defined in 2 places.">doubleStream</a>
<a id="L949" name="L949"></a> 949                 (<strong class="reserved">new</strong> <a href="../D/7098.html" title="Multiple defined in 3 places.">RandomDoublesSpliterator</a>
<a id="L950" name="L950"></a> 950                          (<strong class="reserved">this</strong>, 0L, streamSize, randomNumberOrigin, randomNumberBound),
<a id="L951" name="L951"></a> 951                  <strong class="reserved">false</strong>);
<a id="L952" name="L952"></a> 952     <em class="brace">}</em>
<a id="L953" name="L953"></a> 953 
<div class="comment">
      Returns an effectively unlimited stream of pseudorandom {@code
      double} values, each conforming to the given origin (inclusive) and bound
      (exclusive).
      <p>A pseudorandom <code>double</code> value is generated as if it's the result
      of calling the following method with the origin and bound:
      </p><pre> {@code
      double nextDouble(double origin, double bound) {
        double r = nextDouble();
        r = r * (bound - origin) + origin;
        if (r &gt;= bound) // correct for rounding
          r = Math.nextDown(bound);
        return r;
      }}</pre>
      @implNote This method is implemented to be equivalent to {@code
      doubles(Long.MAX_VALUE, randomNumberOrigin, randomNumberBound)}.
      @param randomNumberOrigin the origin (inclusive) of each random value
      @param randomNumberBound the bound (exclusive) of each random value
      @return a stream of pseudorandom <code>double</code> values,
              each with the given origin (inclusive) and bound (exclusive)
      @throws IllegalArgumentException if <code>randomNumberOrigin</code>
              is greater than or equal to <code>randomNumberBound</code>
      @since 1.8</div>
<a id="L981" name="L981"></a> 981     <strong class="reserved">public</strong> <a href="../S/907.html#L77" title="Defined at 77 in src/java/util/stream/DoubleStream.java.">DoubleStream</a> <a href="../R/13492.html" title="Multiple referred from 5 places.">doubles</a>(<strong class="reserved">double</strong> randomNumberOrigin, <strong class="reserved">double</strong> randomNumberBound) <em class="brace">{</em>
<a id="L982" name="L982"></a> 982         <strong class="reserved">if</strong> (!(randomNumberOrigin &lt; randomNumberBound))
<a id="L983" name="L983"></a> 983             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(BadRange);
<a id="L984" name="L984"></a> 984         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/15131.html" title="Multiple defined in 2 places.">doubleStream</a>
<a id="L985" name="L985"></a> 985                 (<strong class="reserved">new</strong> <a href="../D/7098.html" title="Multiple defined in 3 places.">RandomDoublesSpliterator</a>
<a id="L986" name="L986"></a> 986                          (<strong class="reserved">this</strong>, 0L, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE, randomNumberOrigin, randomNumberBound),
<a id="L987" name="L987"></a> 987                  <strong class="reserved">false</strong>);
<a id="L988" name="L988"></a> 988     <em class="brace">}</em>
<a id="L989" name="L989"></a> 989 
<div class="comment">
      Spliterator for int streams.  We multiplex the four int
      versions into one class by treating a bound less than origin as
      unbounded, and also by treating "infinite" as equivalent to
      Long.MAX_VALUE. For splits, it uses the standard divide-by-two
      approach. The long and double versions of this class are
      identical except for types.</div>
<a id="L998" name="L998"></a> 998     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6466.html" title="Multiple referred from 18 places.">RandomIntsSpliterator</a> <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6355.html" title="Multiple defined in 22 places.">OfInt</a> <em class="brace">{</em>
<a id="L999" name="L999"></a> 999         <strong class="reserved">final</strong> <a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> rng;
<a id="L1000" name="L1000"></a>1000         <strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">final</strong> <strong class="reserved">long</strong> fence;
<a id="L1002" name="L1002"></a>1002         <strong class="reserved">final</strong> <strong class="reserved">int</strong> origin;
<a id="L1003" name="L1003"></a>1003         <strong class="reserved">final</strong> <strong class="reserved">int</strong> bound;
<a id="L1004" name="L1004"></a>1004         RandomIntsSpliterator(<a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> rng, <strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">long</strong> fence,
<a id="L1005" name="L1005"></a>1005                               <strong class="reserved">int</strong> origin, <strong class="reserved">int</strong> bound) <em class="brace">{</em>
<a id="L1006" name="L1006"></a>1006             <strong class="reserved">this</strong>.rng = rng; <strong class="reserved">this</strong>.<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>; <strong class="reserved">this</strong>.fence = fence;
<a id="L1007" name="L1007"></a>1007             <strong class="reserved">this</strong>.origin = origin; <strong class="reserved">this</strong>.bound = bound;
<a id="L1008" name="L1008"></a>1008         <em class="brace">}</em>
<a id="L1009" name="L1009"></a>1009 
<a id="L1010" name="L1010"></a>1010         <strong class="reserved">public</strong> <a href="../D/7099.html" title="Multiple defined in 3 places.">RandomIntsSpliterator</a> <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L1011" name="L1011"></a>1011             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, m = (i + fence) &gt;&gt;&gt; 1;
<a id="L1012" name="L1012"></a>1012             <strong class="reserved">return</strong> (m &lt;= i) ? <strong class="reserved">null</strong> :
<a id="L1013" name="L1013"></a>1013                    <strong class="reserved">new</strong> <a href="../D/7099.html" title="Multiple defined in 3 places.">RandomIntsSpliterator</a>(rng, i, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = m, origin, bound);
<a id="L1014" name="L1014"></a>1014         <em class="brace">}</em>
<a id="L1015" name="L1015"></a>1015 
<a id="L1016" name="L1016"></a>1016         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/14042.html" title="Multiple referred from 29 places.">estimateSize</a>() <em class="brace">{</em>
<a id="L1017" name="L1017"></a>1017             <strong class="reserved">return</strong> fence - <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1018" name="L1018"></a>1018         <em class="brace">}</em>
<a id="L1019" name="L1019"></a>1019 
<a id="L1020" name="L1020"></a>1020         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L1021" name="L1021"></a>1021             <strong class="reserved">return</strong> (<a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L296" title="Defined at 296 in src/java/util/stream/StreamOpFlag.java.">SIZED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.SUBSIZED |
<a id="L1022" name="L1022"></a>1022                     <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.NONNULL | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.IMMUTABLE);
<a id="L1023" name="L1023"></a>1023         <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024 
<a id="L1025" name="L1025"></a>1025         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a> consumer) <em class="brace">{</em>
<a id="L1026" name="L1026"></a>1026             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1027" name="L1027"></a>1027             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, f = fence;
<a id="L1028" name="L1028"></a>1028             <strong class="reserved">if</strong> (i &lt; f) <em class="brace">{</em>
<a id="L1029" name="L1029"></a>1029                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(rng.<a href="../D/24945.html" title="Multiple defined in 3 places.">internalNextInt</a>(origin, bound));
<a id="L1030" name="L1030"></a>1030                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = i + 1;
<a id="L1031" name="L1031"></a>1031                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1032" name="L1032"></a>1032             <em class="brace">}</em>
<a id="L1033" name="L1033"></a>1033             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1034" name="L1034"></a>1034         <em class="brace">}</em>
<a id="L1035" name="L1035"></a>1035 
<a id="L1036" name="L1036"></a>1036         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a> consumer) <em class="brace">{</em>
<a id="L1037" name="L1037"></a>1037             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1038" name="L1038"></a>1038             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, f = fence;
<a id="L1039" name="L1039"></a>1039             <strong class="reserved">if</strong> (i &lt; f) <em class="brace">{</em>
<a id="L1040" name="L1040"></a>1040                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = f;
<a id="L1041" name="L1041"></a>1041                 <a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> r = rng;
<a id="L1042" name="L1042"></a>1042                 <strong class="reserved">int</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = origin, b = bound;
<a id="L1043" name="L1043"></a>1043                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L1044" name="L1044"></a>1044                     consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(r.<a href="../D/24945.html" title="Multiple defined in 3 places.">internalNextInt</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>, b));
<a id="L1045" name="L1045"></a>1045                 <em class="brace">}</em> <strong class="reserved">while</strong> (++i &lt; f);
<a id="L1046" name="L1046"></a>1046             <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047         <em class="brace">}</em>
<a id="L1048" name="L1048"></a>1048     <em class="brace">}</em>
<a id="L1049" name="L1049"></a>1049 
<div class="comment">
      Spliterator for long streams.</div>
<a id="L1053" name="L1053"></a>1053     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6467.html" title="Multiple referred from 18 places.">RandomLongsSpliterator</a> <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6356.html" title="Multiple defined in 22 places.">OfLong</a> <em class="brace">{</em>
<a id="L1054" name="L1054"></a>1054         <strong class="reserved">final</strong> <a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> rng;
<a id="L1055" name="L1055"></a>1055         <strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1056" name="L1056"></a>1056         <strong class="reserved">final</strong> <strong class="reserved">long</strong> fence;
<a id="L1057" name="L1057"></a>1057         <strong class="reserved">final</strong> <strong class="reserved">long</strong> origin;
<a id="L1058" name="L1058"></a>1058         <strong class="reserved">final</strong> <strong class="reserved">long</strong> bound;
<a id="L1059" name="L1059"></a>1059         RandomLongsSpliterator(<a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> rng, <strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">long</strong> fence,
<a id="L1060" name="L1060"></a>1060                                <strong class="reserved">long</strong> origin, <strong class="reserved">long</strong> bound) <em class="brace">{</em>
<a id="L1061" name="L1061"></a>1061             <strong class="reserved">this</strong>.rng = rng; <strong class="reserved">this</strong>.<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>; <strong class="reserved">this</strong>.fence = fence;
<a id="L1062" name="L1062"></a>1062             <strong class="reserved">this</strong>.origin = origin; <strong class="reserved">this</strong>.bound = bound;
<a id="L1063" name="L1063"></a>1063         <em class="brace">}</em>
<a id="L1064" name="L1064"></a>1064 
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">public</strong> <a href="../D/7100.html" title="Multiple defined in 3 places.">RandomLongsSpliterator</a> <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, m = (i + fence) &gt;&gt;&gt; 1;
<a id="L1067" name="L1067"></a>1067             <strong class="reserved">return</strong> (m &lt;= i) ? <strong class="reserved">null</strong> :
<a id="L1068" name="L1068"></a>1068                    <strong class="reserved">new</strong> <a href="../D/7100.html" title="Multiple defined in 3 places.">RandomLongsSpliterator</a>(rng, i, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = m, origin, bound);
<a id="L1069" name="L1069"></a>1069         <em class="brace">}</em>
<a id="L1070" name="L1070"></a>1070 
<a id="L1071" name="L1071"></a>1071         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/14042.html" title="Multiple referred from 29 places.">estimateSize</a>() <em class="brace">{</em>
<a id="L1072" name="L1072"></a>1072             <strong class="reserved">return</strong> fence - <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1073" name="L1073"></a>1073         <em class="brace">}</em>
<a id="L1074" name="L1074"></a>1074 
<a id="L1075" name="L1075"></a>1075         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L1076" name="L1076"></a>1076             <strong class="reserved">return</strong> (<a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L296" title="Defined at 296 in src/java/util/stream/StreamOpFlag.java.">SIZED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.SUBSIZED |
<a id="L1077" name="L1077"></a>1077                     <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.NONNULL | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.IMMUTABLE);
<a id="L1078" name="L1078"></a>1078         <em class="brace">}</em>
<a id="L1079" name="L1079"></a>1079 
<a id="L1080" name="L1080"></a>1080         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a> consumer) <em class="brace">{</em>
<a id="L1081" name="L1081"></a>1081             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1082" name="L1082"></a>1082             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, f = fence;
<a id="L1083" name="L1083"></a>1083             <strong class="reserved">if</strong> (i &lt; f) <em class="brace">{</em>
<a id="L1084" name="L1084"></a>1084                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(rng.<a href="../D/24946.html" title="Multiple defined in 3 places.">internalNextLong</a>(origin, bound));
<a id="L1085" name="L1085"></a>1085                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = i + 1;
<a id="L1086" name="L1086"></a>1086                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1087" name="L1087"></a>1087             <em class="brace">}</em>
<a id="L1088" name="L1088"></a>1088             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1089" name="L1089"></a>1089         <em class="brace">}</em>
<a id="L1090" name="L1090"></a>1090 
<a id="L1091" name="L1091"></a>1091         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a> consumer) <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1093" name="L1093"></a>1093             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, f = fence;
<a id="L1094" name="L1094"></a>1094             <strong class="reserved">if</strong> (i &lt; f) <em class="brace">{</em>
<a id="L1095" name="L1095"></a>1095                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = f;
<a id="L1096" name="L1096"></a>1096                 <a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> r = rng;
<a id="L1097" name="L1097"></a>1097                 <strong class="reserved">long</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = origin, b = bound;
<a id="L1098" name="L1098"></a>1098                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L1099" name="L1099"></a>1099                     consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(r.<a href="../D/24946.html" title="Multiple defined in 3 places.">internalNextLong</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>, b));
<a id="L1100" name="L1100"></a>1100                 <em class="brace">}</em> <strong class="reserved">while</strong> (++i &lt; f);
<a id="L1101" name="L1101"></a>1101             <em class="brace">}</em>
<a id="L1102" name="L1102"></a>1102         <em class="brace">}</em>
<a id="L1103" name="L1103"></a>1103 
<a id="L1104" name="L1104"></a>1104     <em class="brace">}</em>
<a id="L1105" name="L1105"></a>1105 
<div class="comment">
      Spliterator for double streams.</div>
<a id="L1109" name="L1109"></a>1109     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6465.html" title="Multiple referred from 18 places.">RandomDoublesSpliterator</a> <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6354.html" title="Multiple defined in 22 places.">OfDouble</a> <em class="brace">{</em>
<a id="L1110" name="L1110"></a>1110         <strong class="reserved">final</strong> <a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> rng;
<a id="L1111" name="L1111"></a>1111         <strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1112" name="L1112"></a>1112         <strong class="reserved">final</strong> <strong class="reserved">long</strong> fence;
<a id="L1113" name="L1113"></a>1113         <strong class="reserved">final</strong> <strong class="reserved">double</strong> origin;
<a id="L1114" name="L1114"></a>1114         <strong class="reserved">final</strong> <strong class="reserved">double</strong> bound;
<a id="L1115" name="L1115"></a>1115         RandomDoublesSpliterator(<a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> rng, <strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">long</strong> fence,
<a id="L1116" name="L1116"></a>1116                                  <strong class="reserved">double</strong> origin, <strong class="reserved">double</strong> bound) <em class="brace">{</em>
<a id="L1117" name="L1117"></a>1117             <strong class="reserved">this</strong>.rng = rng; <strong class="reserved">this</strong>.<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>; <strong class="reserved">this</strong>.fence = fence;
<a id="L1118" name="L1118"></a>1118             <strong class="reserved">this</strong>.origin = origin; <strong class="reserved">this</strong>.bound = bound;
<a id="L1119" name="L1119"></a>1119         <em class="brace">}</em>
<a id="L1120" name="L1120"></a>1120 
<a id="L1121" name="L1121"></a>1121         <strong class="reserved">public</strong> <a href="../D/7098.html" title="Multiple defined in 3 places.">RandomDoublesSpliterator</a> <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L1122" name="L1122"></a>1122             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, m = (i + fence) &gt;&gt;&gt; 1;
<a id="L1123" name="L1123"></a>1123             <strong class="reserved">return</strong> (m &lt;= i) ? <strong class="reserved">null</strong> :
<a id="L1124" name="L1124"></a>1124                    <strong class="reserved">new</strong> <a href="../D/7098.html" title="Multiple defined in 3 places.">RandomDoublesSpliterator</a>(rng, i, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = m, origin, bound);
<a id="L1125" name="L1125"></a>1125         <em class="brace">}</em>
<a id="L1126" name="L1126"></a>1126 
<a id="L1127" name="L1127"></a>1127         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/14042.html" title="Multiple referred from 29 places.">estimateSize</a>() <em class="brace">{</em>
<a id="L1128" name="L1128"></a>1128             <strong class="reserved">return</strong> fence - <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1129" name="L1129"></a>1129         <em class="brace">}</em>
<a id="L1130" name="L1130"></a>1130 
<a id="L1131" name="L1131"></a>1131         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132             <strong class="reserved">return</strong> (<a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L296" title="Defined at 296 in src/java/util/stream/StreamOpFlag.java.">SIZED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.SUBSIZED |
<a id="L1133" name="L1133"></a>1133                     <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.NONNULL | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.IMMUTABLE);
<a id="L1134" name="L1134"></a>1134         <em class="brace">}</em>
<a id="L1135" name="L1135"></a>1135 
<a id="L1136" name="L1136"></a>1136         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a> consumer) <em class="brace">{</em>
<a id="L1137" name="L1137"></a>1137             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1138" name="L1138"></a>1138             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, f = fence;
<a id="L1139" name="L1139"></a>1139             <strong class="reserved">if</strong> (i &lt; f) <em class="brace">{</em>
<a id="L1140" name="L1140"></a>1140                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(rng.<a href="../D/24944.html" title="Multiple defined in 3 places.">internalNextDouble</a>(origin, bound));
<a id="L1141" name="L1141"></a>1141                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = i + 1;
<a id="L1142" name="L1142"></a>1142                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1143" name="L1143"></a>1143             <em class="brace">}</em>
<a id="L1144" name="L1144"></a>1144             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1145" name="L1145"></a>1145         <em class="brace">}</em>
<a id="L1146" name="L1146"></a>1146 
<a id="L1147" name="L1147"></a>1147         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a> consumer) <em class="brace">{</em>
<a id="L1148" name="L1148"></a>1148             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1149" name="L1149"></a>1149             <strong class="reserved">long</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, f = fence;
<a id="L1150" name="L1150"></a>1150             <strong class="reserved">if</strong> (i &lt; f) <em class="brace">{</em>
<a id="L1151" name="L1151"></a>1151                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = f;
<a id="L1152" name="L1152"></a>1152                 <a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a> r = rng;
<a id="L1153" name="L1153"></a>1153                 <strong class="reserved">double</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = origin, b = bound;
<a id="L1154" name="L1154"></a>1154                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155                     consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(r.<a href="../D/24944.html" title="Multiple defined in 3 places.">internalNextDouble</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>, b));
<a id="L1156" name="L1156"></a>1156                 <em class="brace">}</em> <strong class="reserved">while</strong> (++i &lt; f);
<a id="L1157" name="L1157"></a>1157             <em class="brace">}</em>
<a id="L1158" name="L1158"></a>1158         <em class="brace">}</em>
<a id="L1159" name="L1159"></a>1159     <em class="brace">}</em>
<a id="L1160" name="L1160"></a>1160 
<div class="comment">
      Serializable fields for Random.
      @serialField    seed long
                   seed for random computations
      @serialField    nextNextGaussian double
                   next Gaussian to be returned
      @serialField      haveNextNextGaussian boolean
                   nextNextGaussian is valid</div>
<a id="L1171" name="L1171"></a>1171     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>[] serialPersistentFields = <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("seed", <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.TYPE),
<a id="L1173" name="L1173"></a>1173         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("nextNextGaussian", <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.TYPE),
<a id="L1174" name="L1174"></a>1174         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("haveNextNextGaussian", <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TYPE)
<a id="L1175" name="L1175"></a>1175     <em class="brace">}</em>;
<a id="L1176" name="L1176"></a>1176 
<div class="comment">
      Reconstitute the <code>Random</code> instance from a stream (that is,
      deserialize it).</div>
<a id="L1181" name="L1181"></a>1181     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L1182" name="L1182"></a>1182         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L1183" name="L1183"></a>1183 
<a id="L1184" name="L1184"></a>1184         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L1185" name="L1185"></a>1185 
<a id="L1186" name="L1186"></a>1186         <em class="comment">// The seed is read in as {@code long} for</em>
<a id="L1187" name="L1187"></a>1187         <em class="comment">// historical reasons, but it is converted to an AtomicLong.</em>
<a id="L1188" name="L1188"></a>1188         <strong class="reserved">long</strong> seedVal = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("seed", -1L);
<a id="L1189" name="L1189"></a>1189         <strong class="reserved">if</strong> (seedVal &lt; 0)
<a id="L1190" name="L1190"></a>1190           <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1414.html#L35" title="Defined at 35 in src/java/io/StreamCorruptedException.java.">StreamCorruptedException</a>(
<a id="L1191" name="L1191"></a>1191                               "Random: invalid seed");
<a id="L1192" name="L1192"></a>1192         <a href="../S/1000.html#L1224" title="Defined at 1224 in src/java/util/Random.java.">resetSeed</a>(seedVal);
<a id="L1193" name="L1193"></a>1193         nextNextGaussian = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("nextNextGaussian", 0.0);
<a id="L1194" name="L1194"></a>1194         haveNextNextGaussian = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("haveNextNextGaussian", <strong class="reserved">false</strong>);
<a id="L1195" name="L1195"></a>1195     <em class="brace">}</em>
<a id="L1196" name="L1196"></a>1196 
<div class="comment">
      Save the <code>Random</code> instance to a stream.</div>
<a id="L1200" name="L1200"></a>1200     <strong class="reserved">synchronized</strong> <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L1201" name="L1201"></a>1201         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1202" name="L1202"></a>1202 
<a id="L1203" name="L1203"></a>1203         <em class="comment">// set the values of the Serializable fields</em>
<a id="L1204" name="L1204"></a>1204         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L1205" name="L1205"></a>1205 
<a id="L1206" name="L1206"></a>1206         <em class="comment">// The seed is serialized as a long for historical reasons.</em>
<a id="L1207" name="L1207"></a>1207         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("seed", seed.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>());
<a id="L1208" name="L1208"></a>1208         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("nextNextGaussian", nextNextGaussian);
<a id="L1209" name="L1209"></a>1209         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("haveNextNextGaussian", haveNextNextGaussian);
<a id="L1210" name="L1210"></a>1210 
<a id="L1211" name="L1211"></a>1211         <em class="comment">// save them</em>
<a id="L1212" name="L1212"></a>1212         s.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L1213" name="L1213"></a>1213     <em class="brace">}</em>
<a id="L1214" name="L1214"></a>1214 
<a id="L1215" name="L1215"></a>1215     <em class="comment">// Support for resetting seed while deserializing</em>
<a id="L1216" name="L1216"></a>1216     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> Unsafe <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a> = Unsafe.getUnsafe();
<a id="L1217" name="L1217"></a>1217     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> seedOffset;
<a id="L1218" name="L1218"></a>1218     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L1219" name="L1219"></a>1219         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1220" name="L1220"></a>1220             seedOffset = <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.<a href="../D/28395.html" title="Multiple defined in 5 places.">objectFieldOffset</a>
<a id="L1221" name="L1221"></a>1221                 (<a href="../S/1000.html#L77" title="Defined at 77 in src/java/util/Random.java.">Random</a>.<strong class="reserved">class</strong>.<a href="../S/1722.html#L2065" title="Defined at 2065 in src/java/lang/Class.java.">getDeclaredField</a>("seed"));
<a id="L1222" name="L1222"></a>1222         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em> <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>); <em class="brace">}</em>
<a id="L1223" name="L1223"></a>1223     <em class="brace">}</em>
<a id="L1224" name="L1224"></a>1224     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1000.html#L1192" title="Referred from 1192 in src/java/util/Random.java.">resetSeed</a>(<strong class="reserved">long</strong> seedVal) <em class="brace">{</em>
<a id="L1225" name="L1225"></a>1225         <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.putObjectVolatile(<strong class="reserved">this</strong>, seedOffset, <strong class="reserved">new</strong> <a href="../S/1088.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicLong.java.">AtomicLong</a>(seedVal));
<a id="L1226" name="L1226"></a>1226     <em class="brace">}</em>
<a id="L1227" name="L1227"></a>1227 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L108">[^]</a><a href="#L1224">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>