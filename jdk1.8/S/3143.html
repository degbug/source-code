<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/undo/UndoManager.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L158">[^]</a><a href="#L620">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L158" title="Defined at 158.">getLimit</a></li>
<li><a href="#L168" title="Defined at 168.">discardAllEdits</a></li>
<li><a href="#L183" title="Defined at 183.">trimForLimit</a></li>
<li><a href="#L236" title="Defined at 236.">trimEdits</a></li>
<li><a href="#L277" title="Defined at 277.">setLimit</a></li>
<li><a href="#L291" title="Defined at 291.">editToBeUndone</a></li>
<li><a href="#L310" title="Defined at 310.">editToBeRedone</a></li>
<li><a href="#L331" title="Defined at 331.">undoTo</a></li>
<li><a href="#L347" title="Defined at 347.">redoTo</a></li>
<li><a href="#L369" title="Defined at 369.">undoOrRedo</a></li>
<li><a href="#L385" title="Defined at 385.">canUndoOrRedo</a></li>
<li><a href="#L407" title="Defined at 407.">undo</a></li>
<li><a href="#L429" title="Defined at 429.">canUndo</a></li>
<li><a href="#L452" title="Defined at 452.">redo</a></li>
<li><a href="#L474" title="Defined at 474.">canRedo</a></li>
<li><a href="#L497" title="Defined at 497.">addEdit</a></li>
<li><a href="#L529" title="Defined at 529.">end</a></li>
<li><a href="#L544" title="Defined at 544.">getUndoOrRedoPresentationName</a></li>
<li><a href="#L565" title="Defined at 565.">getUndoPresentationName</a></li>
<li><a href="#L590" title="Defined at 590.">getRedoPresentationName</a></li>
<li><a href="#L610" title="Defined at 610.">undoableEditHappened</a></li>
<li><a href="#L620" title="Defined at 620.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35822.html" title="Multiple defined in 13 places.">undo</a>;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.swing.UIManager;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.*;
<a id="L31" name="L31"></a>  31 
<div class="comment">
  <code>UndoManager</code> manages a list of <code>UndoableEdits</code>,
  providing a way to undo or redo the appropriate edits.  There are
  two ways to add edits to an <code>UndoManager</code>.  Add the edit
  directly using the <code>addEdit</code> method, or add the
  <code>UndoManager</code> to a bean that supports
  <code>UndoableEditListener</code>.  The following examples creates
  an <code>UndoManager</code> and adds it as an
  <code>UndoableEditListener</code> to a <code>JTextField</code>:
  <pre>    UndoManager undoManager = new UndoManager();
    JTextField tf = ...;
    tf.getDocument().addUndoableEditListener(undoManager);
  </pre>
  <p>
  <code>UndoManager</code> maintains an ordered list of edits and the
  index of the next edit in that list. The index of the next edit is
  either the size of the current list of edits, or if
  <code>undo</code> has been invoked it corresponds to the index
  of the last significant edit that was undone. When
  <code>undo</code> is invoked all edits from the index of the next
  edit to the last significant edit are undone, in reverse order.
  For example, consider an <code>UndoManager</code> consisting of the
  following edits: <b>A</b> <i>b</i> <i>c</i> <b>D</b>.  Edits with a
  upper-case letter in bold are significant, those in lower-case
  and italicized are insignificant.
  </p><p>
  <a name="figure1"></a>
  </p><table border="0" summary="">
  <tbody><tr><td>
      <img src="doc-files/UndoManager-1.gif" alt="">
  </td></tr><tr><td align="center">Figure 1
  </td></tr></tbody></table>
  <p>
  As shown in <a href="#figure1">figure 1</a>, if <b>D</b> was just added, the
  index of the next edit will be 4. Invoking <code>undo</code>
  results in invoking <code>undo</code> on <b>D</b> and setting the
  index of the next edit to 3 (edit <i>c</i>), as shown in the following
  figure.
  </p><p>
  <a name="figure2"></a>
  </p><table border="0" summary="">
  <tbody><tr><td>
      <img src="doc-files/UndoManager-2.gif" alt="">
  </td></tr><tr><td align="center">Figure 2
  </td></tr></tbody></table>
  <p>
  The last significant edit is <b>A</b>, so that invoking
  <code>undo</code> again invokes <code>undo</code> on <i>c</i>,
  <i>b</i>, and <b>A</b>, in that order, setting the index of the
  next edit to 0, as shown in the following figure.
  </p><p>
  <a name="figure3"></a>
  </p><table border="0" summary="">
  <tbody><tr><td>
      <img src="doc-files/UndoManager-3.gif" alt="">
  </td></tr><tr><td align="center">Figure 3
  </td></tr></tbody></table>
  <p>
  Invoking <code>redo</code> results in invoking <code>redo</code> on
  all edits between the index of the next edit and the next
  significant edit (or the end of the list).  Continuing with the previous
  example if <code>redo</code> were invoked, <code>redo</code> would in
  turn be invoked on <b>A</b>, <i>b</i> and <i>c</i>.  In addition
  the index of the next edit is set to 3 (as shown in <a href="#figure2">figure 2</a>).
  </p><p>
  Adding an edit to an <code>UndoManager</code> results in
  removing all edits from the index of the next edit to the end of
  the list.  Continuing with the previous example, if a new edit,
  <i>e</i>, is added the edit <b>D</b> is removed from the list
  (after having <code>die</code> invoked on it).  If <i>c</i> is not
  incorporated by the next edit
  (<code><i>c</i>.addEdit(<i>e</i>)</code> returns true), or replaced
  by it (<code><i>e</i>.replaceEdit(<i>c</i>)</code> returns true),
  the new edit is added after <i>c</i>, as shown in the following
  figure.
  </p><p>
  <a name="figure4"></a>
  </p><table border="0" summary="">
  <tbody><tr><td>
      <img src="doc-files/UndoManager-4.gif" alt="">
  </td></tr><tr><td align="center">Figure 4
  </td></tr></tbody></table>
  <p>
  Once <code>end</code> has been invoked on an <code>UndoManager</code>
  the superclass behavior is used for all <code>UndoableEdit</code>
  methods.  Refer to <code>CompoundEdit</code> for more details on its
  behavior.
  </p><p>
  Unlike the rest of Swing, this class is thread safe.
  </p><p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases. The current serialization support is
  appropriate for short term storage or RMI between applications running
  the same version of Swing.  As of 1.4, support for long term storage
  of all JavaBeansâ„¢
  has been added to the <code>java.beans</code> package.
  Please see {@link java.beans.XMLEncoder}.
  @author Ray Ryan</p></div>
<a id="L135" name="L135"></a> 135 <strong class="reserved">public</strong> <strong class="reserved">class</strong> UndoManager <strong class="reserved">extends</strong> <a href="../S/3137.html#L35" title="Defined at 35 in src/javax/swing/undo/CompoundEdit.java.">CompoundEdit</a> <strong class="reserved">implements</strong> <a href="../S/3388.html#L37" title="Defined at 37 in src/javax/swing/event/UndoableEditListener.java.">UndoableEditListener</a> <em class="brace">{</em>
<a id="L136" name="L136"></a> 136     <strong class="reserved">int</strong> indexOfNextAdd;
<a id="L137" name="L137"></a> 137     <strong class="reserved">int</strong> <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>;
<a id="L138" name="L138"></a> 138 
<div class="comment">
      Creates a new <code>UndoManager</code>.</div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">public</strong> UndoManager() <em class="brace">{</em>
<a id="L143" name="L143"></a> 143         <strong class="reserved">super</strong>();
<a id="L144" name="L144"></a> 144         indexOfNextAdd = 0;
<a id="L145" name="L145"></a> 145         <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = 100;
<a id="L146" name="L146"></a> 146         edits.<a href="../D/15596.html" title="Multiple defined in 17 places.">ensureCapacity</a>(<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L147" name="L147"></a> 147     <em class="brace">}</em>
<a id="L148" name="L148"></a> 148 
<div class="comment">
      Returns the maximum number of edits this <code>UndoManager</code>
      holds. A value less than 0 indicates the number of edits is not
      limited.
      @return the maximum number of edits this <code>UndoManager</code> holds
      @see #addEdit
      @see #setLimit</div>
<a id="L158" name="L158"></a> 158     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">int</strong> <a href="../R/17352.html" title="Multiple referred from 10 places.">getLimit</a>() <em class="brace">{</em>
<a id="L159" name="L159"></a> 159         <strong class="reserved">return</strong> <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>;
<a id="L160" name="L160"></a> 160     <em class="brace">}</em>
<a id="L161" name="L161"></a> 161 
<div class="comment">
      Empties the undo manager sending each edit a <code>die</code> message
      in the process.
      @see AbstractUndoableEdit#die</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> discardAllEdits() <em class="brace">{</em>
<a id="L169" name="L169"></a> 169         <strong class="reserved">for</strong> (<a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> e : edits) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170             e.<a href="../D/14899.html" title="Multiple defined in 4 places.">die</a>();
<a id="L171" name="L171"></a> 171         <em class="brace">}</em>
<a id="L172" name="L172"></a> 172         edits = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a>&gt;();
<a id="L173" name="L173"></a> 173         indexOfNextAdd = 0;
<a id="L174" name="L174"></a> 174         <em class="comment">// PENDING(rjrjr) when vector grows a removeRange() method</em>
<a id="L175" name="L175"></a> 175         <em class="comment">// (expected in JDK 1.2), trimEdits() will be nice and</em>
<a id="L176" name="L176"></a> 176         <em class="comment">// efficient, and this method can call that instead.</em>
<a id="L177" name="L177"></a> 177     <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<div class="comment">
      Reduces the number of queued edits to a range of size limit,
      centered on the index of the next edit.</div>
<a id="L183" name="L183"></a> 183     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29529.html" title="Multiple referred from 2 places.">trimForLimit</a>() <em class="brace">{</em>
<a id="L184" name="L184"></a> 184         <strong class="reserved">if</strong> (<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> &gt;= 0) <em class="brace">{</em>
<a id="L185" name="L185"></a> 185             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L186" name="L186"></a> 186 <em class="comment">//          System.out.print("limit: " + limit +</em>
<a id="L187" name="L187"></a> 187 <em class="comment">//                           " size: " + size +</em>
<a id="L188" name="L188"></a> 188 <em class="comment">//                           " indexOfNextAdd: " + indexOfNextAdd +</em>
<a id="L189" name="L189"></a> 189 <em class="comment">//                           "\n");</em>
<a id="L190" name="L190"></a> 190 
<a id="L191" name="L191"></a> 191             <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt; <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) <em class="brace">{</em>
<a id="L192" name="L192"></a> 192                 <strong class="reserved">int</strong> halfLimit = <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>/2;
<a id="L193" name="L193"></a> 193                 <strong class="reserved">int</strong> keepFrom = indexOfNextAdd - 1 - halfLimit;
<a id="L194" name="L194"></a> 194                 <strong class="reserved">int</strong> keepTo   = indexOfNextAdd - 1 + halfLimit;
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196                 <em class="comment">// These are ints we're playing with, so dividing by two</em>
<a id="L197" name="L197"></a> 197                 <em class="comment">// rounds down for odd numbers, so make sure the limit was</em>
<a id="L198" name="L198"></a> 198                 <em class="comment">// honored properly. Note that the keep range is</em>
<a id="L199" name="L199"></a> 199                 <em class="comment">// inclusive.</em>
<a id="L200" name="L200"></a> 200 
<a id="L201" name="L201"></a> 201                 <strong class="reserved">if</strong> (keepTo - keepFrom + 1 &gt; <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202                     keepFrom++;
<a id="L203" name="L203"></a> 203                 <em class="brace">}</em>
<a id="L204" name="L204"></a> 204 
<a id="L205" name="L205"></a> 205                 <em class="comment">// The keep range is centered on indexOfNextAdd,</em>
<a id="L206" name="L206"></a> 206                 <em class="comment">// but odds are good that the actual edits Vector</em>
<a id="L207" name="L207"></a> 207                 <em class="comment">// isn't. Move the keep range to keep it legal.</em>
<a id="L208" name="L208"></a> 208 
<a id="L209" name="L209"></a> 209                 <strong class="reserved">if</strong> (keepFrom &lt; 0) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210                     keepTo -= keepFrom;
<a id="L211" name="L211"></a> 211                     keepFrom = 0;
<a id="L212" name="L212"></a> 212                 <em class="brace">}</em>
<a id="L213" name="L213"></a> 213                 <strong class="reserved">if</strong> (keepTo &gt;= <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214                     <strong class="reserved">int</strong> delta = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> - keepTo - 1;
<a id="L215" name="L215"></a> 215                     keepTo += delta;
<a id="L216" name="L216"></a> 216                     keepFrom += delta;
<a id="L217" name="L217"></a> 217                 <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219 <em class="comment">//              System.out.println("Keeping " + keepFrom + " " + keepTo);</em>
<a id="L220" name="L220"></a> 220                 <a href="../S/3143.html#L236" title="Defined at 236 in src/javax/swing/undo/UndoManager.java.">trimEdits</a>(keepTo+1, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>-1);
<a id="L221" name="L221"></a> 221                 <a href="../S/3143.html#L236" title="Defined at 236 in src/javax/swing/undo/UndoManager.java.">trimEdits</a>(0, keepFrom-1);
<a id="L222" name="L222"></a> 222             <em class="brace">}</em>
<a id="L223" name="L223"></a> 223         <em class="brace">}</em>
<a id="L224" name="L224"></a> 224     <em class="brace">}</em>
<a id="L225" name="L225"></a> 225 
<div class="comment">
      Removes edits in the specified range.
      All edits in the given range (inclusive, and in reverse order)
      will have <code>die</code> invoked on them and are removed from
      the list of edits. This has no effect if
      <code>from</code> &gt; <code>to</code>.
      @param from the minimum index to remove
      @param to the maximum index to remove</div>
<a id="L236" name="L236"></a> 236     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29528.html" title="Multiple referred from 4 places.">trimEdits</a>(<strong class="reserved">int</strong> <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>, <strong class="reserved">int</strong> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>) <em class="brace">{</em>
<a id="L237" name="L237"></a> 237         <strong class="reserved">if</strong> (<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a> &lt;= <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>) <em class="brace">{</em>
<a id="L238" name="L238"></a> 238 <em class="comment">//          System.out.println("Trimming " + from + " " + to + " with index " +</em>
<a id="L239" name="L239"></a> 239 <em class="comment">//                           indexOfNextAdd);</em>
<a id="L240" name="L240"></a> 240             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>; <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a> &lt;= i; i--) <em class="brace">{</em>
<a id="L241" name="L241"></a> 241                 <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> e = edits.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L242" name="L242"></a> 242 <em class="comment">//              System.out.println("JUM: Discarding " +</em>
<a id="L243" name="L243"></a> 243 <em class="comment">//                                 e.getUndoPresentationName());</em>
<a id="L244" name="L244"></a> 244                 e.<a href="../D/14899.html" title="Multiple defined in 4 places.">die</a>();
<a id="L245" name="L245"></a> 245                 <em class="comment">// PENDING(rjrjr) when Vector supports range deletion (JDK</em>
<a id="L246" name="L246"></a> 246                 <em class="comment">// 1.2) , we can optimize the next line considerably.</em>
<a id="L247" name="L247"></a> 247                 edits.<a href="../D/30775.html" title="Multiple defined in 12 places.">removeElementAt</a>(i);
<a id="L248" name="L248"></a> 248             <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250             <strong class="reserved">if</strong> (indexOfNextAdd &gt; <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251 <em class="comment">//              System.out.print("...right...");</em>
<a id="L252" name="L252"></a> 252                 indexOfNextAdd -= <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>-<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>+1;
<a id="L253" name="L253"></a> 253             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (indexOfNextAdd &gt;= <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254 <em class="comment">//              System.out.println("...mid...");</em>
<a id="L255" name="L255"></a> 255                 indexOfNextAdd = <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>;
<a id="L256" name="L256"></a> 256             <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<a id="L258" name="L258"></a> 258 <em class="comment">//          System.out.println("new index " + indexOfNextAdd);</em>
<a id="L259" name="L259"></a> 259         <em class="brace">}</em>
<a id="L260" name="L260"></a> 260     <em class="brace">}</em>
<a id="L261" name="L261"></a> 261 
<div class="comment">
      Sets the maximum number of edits this <code>UndoManager</code>
      holds. A value less than 0 indicates the number of edits is not
      limited. If edits need to be discarded to shrink the limit,
      <code>die</code> will be invoked on them in the reverse
      order they were added.  The default is 100.
      @param l the new limit
      @throws RuntimeException if this <code>UndoManager</code> is not in progress
                               (<code>end</code> has been invoked)
      @see #isInProgress
      @see #end
      @see #addEdit
      @see #getLimit</div>
<a id="L277" name="L277"></a> 277     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/27664.html" title="Multiple referred from 21 places.">setLimit</a>(<strong class="reserved">int</strong> l) <em class="brace">{</em>
<a id="L278" name="L278"></a> 278         <strong class="reserved">if</strong> (!<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Attempt to call UndoManager.setLimit() after UndoManager.end() has been called");
<a id="L279" name="L279"></a> 279         <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = l;
<a id="L280" name="L280"></a> 280         <a href="../S/3143.html#L183" title="Defined at 183 in src/javax/swing/undo/UndoManager.java.">trimForLimit</a>();
<a id="L281" name="L281"></a> 281     <em class="brace">}</em>
<a id="L282" name="L282"></a> 282 
<a id="L283" name="L283"></a> 283 
<div class="comment">
      Returns the the next significant edit to be undone if <code>undo</code>
      is invoked. This returns <code>null</code> if there are no edits
      to be undone.
      @return the next significant edit to be undone</div>
<a id="L291" name="L291"></a> 291     <strong class="reserved">protected</strong> <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../R/13624.html" title="Multiple referred from 3 places.">editToBeUndone</a>() <em class="brace">{</em>
<a id="L292" name="L292"></a> 292         <strong class="reserved">int</strong> i = indexOfNextAdd;
<a id="L293" name="L293"></a> 293         <strong class="reserved">while</strong> (i &gt; 0) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> = edits.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(--i);
<a id="L295" name="L295"></a> 295             <strong class="reserved">if</strong> (<a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>.<a href="../D/26242.html" title="Multiple defined in 4 places.">isSignificant</a>()) <em class="brace">{</em>
<a id="L296" name="L296"></a> 296                 <strong class="reserved">return</strong> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>;
<a id="L297" name="L297"></a> 297             <em class="brace">}</em>
<a id="L298" name="L298"></a> 298         <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L301" name="L301"></a> 301     <em class="brace">}</em>
<a id="L302" name="L302"></a> 302 
<div class="comment">
      Returns the the next significant edit to be redone if <code>redo</code>
      is invoked. This returns <code>null</code> if there are no edits
      to be redone.
      @return the next significant edit to be redone</div>
<a id="L310" name="L310"></a> 310     <strong class="reserved">protected</strong> <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../R/13623.html" title="Multiple referred from 3 places.">editToBeRedone</a>() <em class="brace">{</em>
<a id="L311" name="L311"></a> 311         <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L312" name="L312"></a> 312         <strong class="reserved">int</strong> i = indexOfNextAdd;
<a id="L313" name="L313"></a> 313 
<a id="L314" name="L314"></a> 314         <strong class="reserved">while</strong> (i &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> = edits.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i++);
<a id="L316" name="L316"></a> 316             <strong class="reserved">if</strong> (<a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>.<a href="../D/26242.html" title="Multiple defined in 4 places.">isSignificant</a>()) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317                 <strong class="reserved">return</strong> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>;
<a id="L318" name="L318"></a> 318             <em class="brace">}</em>
<a id="L319" name="L319"></a> 319         <em class="brace">}</em>
<a id="L320" name="L320"></a> 320 
<a id="L321" name="L321"></a> 321         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L322" name="L322"></a> 322     <em class="brace">}</em>
<a id="L323" name="L323"></a> 323 
<div class="comment">
      Undoes all changes from the index of the next edit to
      <code>edit</code>, updating the index of the next edit appropriately.
      @throws CannotUndoException if one of the edits throws
              <code>CannotUndoException</code></div>
<a id="L331" name="L331"></a> 331     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/3143.html#L413" title="Referred from 413 in src/javax/swing/undo/UndoManager.java.">undoTo</a>(<a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>) <strong class="reserved">throws</strong> <a href="../S/3140.html#L42" title="Defined at 42 in src/javax/swing/undo/CannotUndoException.java.">CannotUndoException</a> <em class="brace">{</em>
<a id="L332" name="L332"></a> 332         <strong class="reserved">boolean</strong> <a href="../D/15117.html" title="Multiple defined in 10 places.">done</a> = <strong class="reserved">false</strong>;
<a id="L333" name="L333"></a> 333         <strong class="reserved">while</strong> (!<a href="../D/15117.html" title="Multiple defined in 10 places.">done</a>) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = edits.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(--indexOfNextAdd);
<a id="L335" name="L335"></a> 335             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/35822.html" title="Multiple defined in 13 places.">undo</a>();
<a id="L336" name="L336"></a> 336             <a href="../D/15117.html" title="Multiple defined in 10 places.">done</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>;
<a id="L337" name="L337"></a> 337         <em class="brace">}</em>
<a id="L338" name="L338"></a> 338     <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<div class="comment">
      Redoes all changes from the index of the next edit to
      <code>edit</code>, updating the index of the next edit appropriately.
      @throws CannotRedoException if one of the edits throws
              <code>CannotRedoException</code></div>
<a id="L347" name="L347"></a> 347     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/3143.html#L458" title="Referred from 458 in src/javax/swing/undo/UndoManager.java.">redoTo</a>(<a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>) <strong class="reserved">throws</strong> <a href="../S/3138.html#L41" title="Defined at 41 in src/javax/swing/undo/CannotRedoException.java.">CannotRedoException</a> <em class="brace">{</em>
<a id="L348" name="L348"></a> 348         <strong class="reserved">boolean</strong> <a href="../D/15117.html" title="Multiple defined in 10 places.">done</a> = <strong class="reserved">false</strong>;
<a id="L349" name="L349"></a> 349         <strong class="reserved">while</strong> (!<a href="../D/15117.html" title="Multiple defined in 10 places.">done</a>) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = edits.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(indexOfNextAdd++);
<a id="L351" name="L351"></a> 351             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/30435.html" title="Multiple defined in 13 places.">redo</a>();
<a id="L352" name="L352"></a> 352             <a href="../D/15117.html" title="Multiple defined in 10 places.">done</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>;
<a id="L353" name="L353"></a> 353         <em class="brace">}</em>
<a id="L354" name="L354"></a> 354     <em class="brace">}</em>
<a id="L355" name="L355"></a> 355 
<div class="comment">
      Convenience method that invokes one of <code>undo</code> or
      <code>redo</code>. If any edits have been undone (the index of
      the next edit is less than the length of the edits list) this
      invokes <code>redo</code>, otherwise it invokes <code>undo</code>.
      @see #canUndoOrRedo
      @see #getUndoOrRedoPresentationName
      @throws CannotUndoException if one of the edits throws
              <code>CannotUndoException</code>
      @throws CannotRedoException if one of the edits throws
              <code>CannotRedoException</code></div>
<a id="L369" name="L369"></a> 369     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> undoOrRedo() <strong class="reserved">throws</strong> <a href="../S/3138.html#L41" title="Defined at 41 in src/javax/swing/undo/CannotRedoException.java.">CannotRedoException</a>,
<a id="L370" name="L370"></a> 370         <a href="../S/3140.html#L42" title="Defined at 42 in src/javax/swing/undo/CannotUndoException.java.">CannotUndoException</a> <em class="brace">{</em>
<a id="L371" name="L371"></a> 371         <strong class="reserved">if</strong> (indexOfNextAdd == edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()) <em class="brace">{</em>
<a id="L372" name="L372"></a> 372             <a href="../D/35822.html" title="Multiple defined in 13 places.">undo</a>();
<a id="L373" name="L373"></a> 373         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374             <a href="../D/30435.html" title="Multiple defined in 13 places.">redo</a>();
<a id="L375" name="L375"></a> 375         <em class="brace">}</em>
<a id="L376" name="L376"></a> 376     <em class="brace">}</em>
<a id="L377" name="L377"></a> 377 
<div class="comment">
      Returns true if it is possible to invoke <code>undo</code> or
      <code>redo</code>.
      @return true if invoking <code>canUndoOrRedo</code> is valid
      @see #undoOrRedo</div>
<a id="L385" name="L385"></a> 385     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> canUndoOrRedo() <em class="brace">{</em>
<a id="L386" name="L386"></a> 386         <strong class="reserved">if</strong> (indexOfNextAdd == edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()) <em class="brace">{</em>
<a id="L387" name="L387"></a> 387             <strong class="reserved">return</strong> <a href="../D/12179.html" title="Multiple defined in 4 places.">canUndo</a>();
<a id="L388" name="L388"></a> 388         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L389" name="L389"></a> 389             <strong class="reserved">return</strong> <a href="../D/12161.html" title="Multiple defined in 4 places.">canRedo</a>();
<a id="L390" name="L390"></a> 390         <em class="brace">}</em>
<a id="L391" name="L391"></a> 391     <em class="brace">}</em>
<a id="L392" name="L392"></a> 392 
<div class="comment">
      Undoes the appropriate edits.  If <code>end</code> has been
      invoked this calls through to the superclass, otherwise
      this invokes <code>undo</code> on all edits between the
      index of the next edit and the last significant edit, updating
      the index of the next edit appropriately.
      @throws CannotUndoException if one of the edits throws
              <code>CannotUndoException</code> or there are no edits
              to be undone
      @see CompoundEdit#end
      @see #canUndo
      @see #editToBeUndone</div>
<a id="L407" name="L407"></a> 407     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/29628.html" title="Multiple referred from 38 places.">undo</a>() <strong class="reserved">throws</strong> <a href="../S/3140.html#L42" title="Defined at 42 in src/javax/swing/undo/CannotUndoException.java.">CannotUndoException</a> <em class="brace">{</em>
<a id="L408" name="L408"></a> 408         <strong class="reserved">if</strong> (<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> = <a href="../S/3143.html#L291" title="Defined at 291 in src/javax/swing/undo/UndoManager.java.">editToBeUndone</a>();
<a id="L410" name="L410"></a> 410             <strong class="reserved">if</strong> (<a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3140.html#L42" title="Defined at 42 in src/javax/swing/undo/CannotUndoException.java.">CannotUndoException</a>();
<a id="L412" name="L412"></a> 412             <em class="brace">}</em>
<a id="L413" name="L413"></a> 413             <a href="../S/3143.html#L331" title="Defined at 331 in src/javax/swing/undo/UndoManager.java.">undoTo</a>(<a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>);
<a id="L414" name="L414"></a> 414         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L415" name="L415"></a> 415             <strong class="reserved">super</strong>.<a href="../D/35822.html" title="Multiple defined in 13 places.">undo</a>();
<a id="L416" name="L416"></a> 416         <em class="brace">}</em>
<a id="L417" name="L417"></a> 417     <em class="brace">}</em>
<a id="L418" name="L418"></a> 418 
<div class="comment">
      Returns true if edits may be undone.  If <code>end</code> has
      been invoked, this returns the value from super.  Otherwise
      this returns true if there are any edits to be undone
      (<code>editToBeUndone</code> returns non-<code>null</code>).
      @return true if there are edits to be undone
      @see CompoundEdit#canUndo
      @see #editToBeUndone</div>
<a id="L429" name="L429"></a> 429     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/10910.html" title="Multiple referred from 6 places.">canUndo</a>() <em class="brace">{</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">if</strong> (<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> = <a href="../S/3143.html#L291" title="Defined at 291 in src/javax/swing/undo/UndoManager.java.">editToBeUndone</a>();
<a id="L432" name="L432"></a> 432             <strong class="reserved">return</strong> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>.<a href="../D/12179.html" title="Multiple defined in 4 places.">canUndo</a>();
<a id="L433" name="L433"></a> 433         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/12179.html" title="Multiple defined in 4 places.">canUndo</a>();
<a id="L435" name="L435"></a> 435         <em class="brace">}</em>
<a id="L436" name="L436"></a> 436     <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<div class="comment">
      Redoes the appropriate edits.  If <code>end</code> has been
      invoked this calls through to the superclass.  Otherwise
      this invokes <code>redo</code> on all edits between the
      index of the next edit and the next significant edit, updating
      the index of the next edit appropriately.
      @throws CannotRedoException if one of the edits throws
              <code>CannotRedoException</code> or there are no edits
              to be redone
      @see CompoundEdit#end
      @see #canRedo
      @see #editToBeRedone</div>
<a id="L452" name="L452"></a> 452     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/25693.html" title="Multiple referred from 14 places.">redo</a>() <strong class="reserved">throws</strong> <a href="../S/3138.html#L41" title="Defined at 41 in src/javax/swing/undo/CannotRedoException.java.">CannotRedoException</a> <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <strong class="reserved">if</strong> (<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <em class="brace">{</em>
<a id="L454" name="L454"></a> 454             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> = <a href="../S/3143.html#L310" title="Defined at 310 in src/javax/swing/undo/UndoManager.java.">editToBeRedone</a>();
<a id="L455" name="L455"></a> 455             <strong class="reserved">if</strong> (<a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3138.html#L41" title="Defined at 41 in src/javax/swing/undo/CannotRedoException.java.">CannotRedoException</a>();
<a id="L457" name="L457"></a> 457             <em class="brace">}</em>
<a id="L458" name="L458"></a> 458             <a href="../S/3143.html#L347" title="Defined at 347 in src/javax/swing/undo/UndoManager.java.">redoTo</a>(<a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>);
<a id="L459" name="L459"></a> 459         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L460" name="L460"></a> 460             <strong class="reserved">super</strong>.<a href="../D/30435.html" title="Multiple defined in 13 places.">redo</a>();
<a id="L461" name="L461"></a> 461         <em class="brace">}</em>
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      Returns true if edits may be redone.  If <code>end</code> has
      been invoked, this returns the value from super.  Otherwise,
      this returns true if there are any edits to be redone
      (<code>editToBeRedone</code> returns non-<code>null</code>).
      @return true if there are edits to be redone
      @see CompoundEdit#canRedo
      @see #editToBeRedone</div>
<a id="L474" name="L474"></a> 474     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/10899.html" title="Multiple referred from 6 places.">canRedo</a>() <em class="brace">{</em>
<a id="L475" name="L475"></a> 475         <strong class="reserved">if</strong> (<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <em class="brace">{</em>
<a id="L476" name="L476"></a> 476             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> = <a href="../S/3143.html#L310" title="Defined at 310 in src/javax/swing/undo/UndoManager.java.">editToBeRedone</a>();
<a id="L477" name="L477"></a> 477             <strong class="reserved">return</strong> <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/15277.html" title="Multiple defined in 2 places.">edit</a>.<a href="../D/12161.html" title="Multiple defined in 4 places.">canRedo</a>();
<a id="L478" name="L478"></a> 478         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L479" name="L479"></a> 479             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/12161.html" title="Multiple defined in 4 places.">canRedo</a>();
<a id="L480" name="L480"></a> 480         <em class="brace">}</em>
<a id="L481" name="L481"></a> 481     <em class="brace">}</em>
<a id="L482" name="L482"></a> 482 
<div class="comment">
      Adds an <code>UndoableEdit</code> to this
      <code>UndoManager</code>, if it's possible.  This removes all
      edits from the index of the next edit to the end of the edits
      list.  If <code>end</code> has been invoked the edit is not added
      and <code>false</code> is returned.  If <code>end</code> hasn't
      been invoked this returns <code>true</code>.
      @param anEdit the edit to be added
      @return true if <code>anEdit</code> can be incorporated into this
                   edit
      @see CompoundEdit#end
      @see CompoundEdit#addEdit</div>
<a id="L497" name="L497"></a> 497     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/9706.html" title="Multiple referred from 31 places.">addEdit</a>(<a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> anEdit) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498         <strong class="reserved">boolean</strong> retVal;
<a id="L499" name="L499"></a> 499 
<a id="L500" name="L500"></a> 500         <em class="comment">// Trim from the indexOfNextAdd to the end, as we'll</em>
<a id="L501" name="L501"></a> 501         <em class="comment">// never reach these edits once the new one is added.</em>
<a id="L502" name="L502"></a> 502         <a href="../S/3143.html#L236" title="Defined at 236 in src/javax/swing/undo/UndoManager.java.">trimEdits</a>(indexOfNextAdd, edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()-1);
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504         retVal = <strong class="reserved">super</strong>.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(anEdit);
<a id="L505" name="L505"></a> 505         <strong class="reserved">if</strong> (<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506           retVal = <strong class="reserved">true</strong>;
<a id="L507" name="L507"></a> 507         <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<a id="L509" name="L509"></a> 509         <em class="comment">// Maybe super added this edit, maybe it didn't (perhaps</em>
<a id="L510" name="L510"></a> 510         <em class="comment">// an in progress compound edit took it instead. Or perhaps</em>
<a id="L511" name="L511"></a> 511         <em class="comment">// this UndoManager is no longer in progress). So make sure</em>
<a id="L512" name="L512"></a> 512         <em class="comment">// the indexOfNextAdd is pointed at the right place.</em>
<a id="L513" name="L513"></a> 513         indexOfNextAdd = edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L514" name="L514"></a> 514 
<a id="L515" name="L515"></a> 515         <em class="comment">// Enforce the limit</em>
<a id="L516" name="L516"></a> 516         <a href="../S/3143.html#L183" title="Defined at 183 in src/javax/swing/undo/UndoManager.java.">trimForLimit</a>();
<a id="L517" name="L517"></a> 517 
<a id="L518" name="L518"></a> 518         <strong class="reserved">return</strong> retVal;
<a id="L519" name="L519"></a> 519     <em class="brace">}</em>
<a id="L520" name="L520"></a> 520 
<a id="L521" name="L521"></a> 521 
<div class="comment">
      Turns this <code>UndoManager</code> into a normal
      <code>CompoundEdit</code>.  This removes all edits that have
      been undone.
      @see CompoundEdit#end</div>
<a id="L529" name="L529"></a> 529     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>() <em class="brace">{</em>
<a id="L530" name="L530"></a> 530         <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L531" name="L531"></a> 531         <strong class="reserved">this</strong>.<a href="../S/3143.html#L236" title="Defined at 236 in src/javax/swing/undo/UndoManager.java.">trimEdits</a>(indexOfNextAdd, edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()-1);
<a id="L532" name="L532"></a> 532     <em class="brace">}</em>
<a id="L533" name="L533"></a> 533 
<div class="comment">
      Convenience method that returns either
      <code>getUndoPresentationName</code> or
      <code>getRedoPresentationName</code>.  If the index of the next
      edit equals the size of the edits list,
      <code>getUndoPresentationName</code> is returned, otherwise
      <code>getRedoPresentationName</code> is returned.
      @return undo or redo name</div>
<a id="L544" name="L544"></a> 544     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getUndoOrRedoPresentationName() <em class="brace">{</em>
<a id="L545" name="L545"></a> 545         <strong class="reserved">if</strong> (indexOfNextAdd == edits.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546             <strong class="reserved">return</strong> <a href="../D/23404.html" title="Multiple defined in 5 places.">getUndoPresentationName</a>();
<a id="L547" name="L547"></a> 547         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L548" name="L548"></a> 548             <strong class="reserved">return</strong> <a href="../D/21907.html" title="Multiple defined in 5 places.">getRedoPresentationName</a>();
<a id="L549" name="L549"></a> 549         <em class="brace">}</em>
<a id="L550" name="L550"></a> 550     <em class="brace">}</em>
<a id="L551" name="L551"></a> 551 
<div class="comment">
      Returns a description of the undoable form of this edit.
      If <code>end</code> has been invoked this calls into super.
      Otherwise if there are edits to be undone, this returns
      the value from the next significant edit that will be undone.
      If there are no edits to be undone and <code>end</code> has not
      been invoked this returns the value from the <code>UIManager</code>
      property "AbstractUndoableEdit.undoText".
      @return a description of the undoable form of this edit
      @see     #undo
      @see     CompoundEdit#getUndoPresentationName</div>
<a id="L565" name="L565"></a> 565     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19674.html" title="Multiple referred from 5 places.">getUndoPresentationName</a>() <em class="brace">{</em>
<a id="L566" name="L566"></a> 566         <strong class="reserved">if</strong> (<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567             <strong class="reserved">if</strong> (<a href="../D/12179.html" title="Multiple defined in 4 places.">canUndo</a>()) <em class="brace">{</em>
<a id="L568" name="L568"></a> 568                 <strong class="reserved">return</strong> <a href="../S/3143.html#L291" title="Defined at 291 in src/javax/swing/undo/UndoManager.java.">editToBeUndone</a>().<a href="../D/23404.html" title="Multiple defined in 5 places.">getUndoPresentationName</a>();
<a id="L569" name="L569"></a> 569             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L570" name="L570"></a> 570                 <strong class="reserved">return</strong> <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("AbstractUndoableEdit.undoText");
<a id="L571" name="L571"></a> 571             <em class="brace">}</em>
<a id="L572" name="L572"></a> 572         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L573" name="L573"></a> 573             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/23404.html" title="Multiple defined in 5 places.">getUndoPresentationName</a>();
<a id="L574" name="L574"></a> 574         <em class="brace">}</em>
<a id="L575" name="L575"></a> 575     <em class="brace">}</em>
<a id="L576" name="L576"></a> 576 
<div class="comment">
      Returns a description of the redoable form of this edit.
      If <code>end</code> has been invoked this calls into super.
      Otherwise if there are edits to be redone, this returns
      the value from the next significant edit that will be redone.
      If there are no edits to be redone and <code>end</code> has not
      been invoked this returns the value from the <code>UIManager</code>
      property "AbstractUndoableEdit.redoText".
      @return a description of the redoable form of this edit
      @see     #redo
      @see     CompoundEdit#getRedoPresentationName</div>
<a id="L590" name="L590"></a> 590     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18633.html" title="Multiple referred from 5 places.">getRedoPresentationName</a>() <em class="brace">{</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">if</strong> (<a href="../S/6457.html#L281" title="Defined at 281 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">inProgress</a>) <em class="brace">{</em>
<a id="L592" name="L592"></a> 592             <strong class="reserved">if</strong> (<a href="../D/12161.html" title="Multiple defined in 4 places.">canRedo</a>()) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593                 <strong class="reserved">return</strong> <a href="../S/3143.html#L310" title="Defined at 310 in src/javax/swing/undo/UndoManager.java.">editToBeRedone</a>().<a href="../D/21907.html" title="Multiple defined in 5 places.">getRedoPresentationName</a>();
<a id="L594" name="L594"></a> 594             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L595" name="L595"></a> 595                 <strong class="reserved">return</strong> <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("AbstractUndoableEdit.redoText");
<a id="L596" name="L596"></a> 596             <em class="brace">}</em>
<a id="L597" name="L597"></a> 597         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L598" name="L598"></a> 598             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/21907.html" title="Multiple defined in 5 places.">getRedoPresentationName</a>();
<a id="L599" name="L599"></a> 599         <em class="brace">}</em>
<a id="L600" name="L600"></a> 600     <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<div class="comment">
      An <code>UndoableEditListener</code> method. This invokes
      <code>addEdit</code> with <code>e.getEdit()</code>.
      @param e the <code>UndoableEditEvent</code> the
             <code>UndoableEditEvent</code> will be added from
      @see #addEdit</div>
<a id="L610" name="L610"></a> 610     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29630.html" title="Multiple referred from 2 places.">undoableEditHappened</a>(<a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a> e) <em class="brace">{</em>
<a id="L611" name="L611"></a> 611         <a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(e.<a href="../S/3423.html#L64" title="Defined at 64 in src/javax/swing/event/UndoableEditEvent.java.">getEdit</a>());
<a id="L612" name="L612"></a> 612     <em class="brace">}</em>
<a id="L613" name="L613"></a> 613 
<div class="comment">
      Returns a string that displays and identifies this
      object's properties.
      @return a String representation of this object</div>
<a id="L620" name="L620"></a> 620     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L621" name="L621"></a> 621         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + " limit: " + <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> +
<a id="L622" name="L622"></a> 622             " indexOfNextAdd: " + indexOfNextAdd;
<a id="L623" name="L623"></a> 623     <em class="brace">}</em>
<a id="L624" name="L624"></a> 624 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L158">[^]</a><a href="#L620">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>