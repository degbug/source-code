<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/Locale.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L708">[^]</a><a href="#L3278">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L708" title="Defined at 708.">createConstant</a></li>
<li><a href="#L727" title="Defined at 727.">getInstance</a></li>
<li><a href="#L731" title="Defined at 731.">getInstance</a></li>
<li><a href="#L745" title="Defined at 745.">getInstance</a></li>
<li><a href="#L755" title="Defined at 755.">createObject</a></li>
<li><a href="#L778" title="Defined at 778.">equals</a></li>
<li><a href="#L796" title="Defined at 796.">hashCode</a></li>
<li><a href="#L813" title="Defined at 813.">getDefault</a></li>
<li><a href="#L834" title="Defined at 834.">getDefault</a></li>
<li><a href="#L861" title="Defined at 861.">initDefault</a></li>
<li><a href="#L891" title="Defined at 891.">initDefault</a></li>
<li><a href="#L932" title="Defined at 932.">setDefault</a></li>
<li><a href="#L966" title="Defined at 966.">setDefault</a></li>
<li><a href="#L998" title="Defined at 998.">getAvailableLocales</a></li>
<li><a href="#L1013" title="Defined at 1013.">getISOCountries</a></li>
<li><a href="#L1038" title="Defined at 1038.">getISOLanguages</a></li>
<li><a href="#L1047" title="Defined at 1047.">getISO2Table</a></li>
<li><a href="#L1075" title="Defined at 1075.">getLanguage</a></li>
<li><a href="#L1089" title="Defined at 1089.">getScript</a></li>
<li><a href="#L1101" title="Defined at 1101.">getCountry</a></li>
<li><a href="#L1111" title="Defined at 1111.">getVariant</a></li>
<li><a href="#L1122" title="Defined at 1122.">hasExtensions</a></li>
<li><a href="#L1135" title="Defined at 1135.">stripExtensions</a></li>
<li><a href="#L1154" title="Defined at 1154.">getExtension</a></li>
<li><a href="#L1170" title="Defined at 1170.">getExtensionKeys</a></li>
<li><a href="#L1185" title="Defined at 1185.">getUnicodeLocaleAttributes</a></li>
<li><a href="#L1206" title="Defined at 1206.">getUnicodeLocaleType</a></li>
<li><a href="#L1221" title="Defined at 1221.">getUnicodeLocaleKeys</a></li>
<li><a href="#L1233" title="Defined at 1233.">getBaseLocale</a></li>
<li><a href="#L1243" title="Defined at 1243.">getLocaleExtensions</a></li>
<li><a href="#L1290" title="Defined at 1290.">toString</a></li>
<li><a href="#L1390" title="Defined at 1390.">toLanguageTag</a></li>
<li><a href="#L1567" title="Defined at 1567.">forLanguageTag</a></li>
<li><a href="#L1594" title="Defined at 1594.">getISO3Language</a></li>
<li><a href="#L1621" title="Defined at 1621.">getISO3Country</a></li>
<li><a href="#L1630" title="Defined at 1630.">getISO3Code</a></li>
<li><a href="#L1669" title="Defined at 1669.">getDisplayLanguage</a></li>
<li><a href="#L1690" title="Defined at 1690.">getDisplayLanguage</a></li>
<li><a href="#L1704" title="Defined at 1704.">getDisplayScript</a></li>
<li><a href="#L1720" title="Defined at 1720.">getDisplayScript</a></li>
<li><a href="#L1742" title="Defined at 1742.">getDisplayCountry</a></li>
<li><a href="#L1763" title="Defined at 1763.">getDisplayCountry</a></li>
<li><a href="#L1767" title="Defined at 1767.">getDisplayString</a></li>
<li><a href="#L1797" title="Defined at 1797.">getDisplayVariant</a></li>
<li><a href="#L1810" title="Defined at 1810.">getDisplayVariant</a></li>
<li><a href="#L1844" title="Defined at 1844.">getDisplayName</a></li>
<li><a href="#L1870" title="Defined at 1870.">getDisplayName</a></li>
<li><a href="#L1959" title="Defined at 1959.">clone</a></li>
<li><a href="#L1975" title="Defined at 1975.">hashCode</a></li>
<li><a href="#L1997" title="Defined at 1997.">equals</a></li>
<li><a href="#L2033" title="Defined at 2033.">getDisplayVariantArray</a></li>
<li><a href="#L2059" title="Defined at 2059.">formatList</a></li>
<li><a href="#L2098" title="Defined at 2098.">composeList</a></li>
<li><a href="#L2116" title="Defined at 2116.">isUnicodeExtensionKey</a></li>
<li><a href="#L2155" title="Defined at 2155.">writeObject</a></li>
<li><a href="#L2174" title="Defined at 2174.">readObject</a></li>
<li><a href="#L2209" title="Defined at 2209.">readResolve</a></li>
<li><a href="#L2218" title="Defined at 2218.">convertOldISOCodes</a></li>
<li><a href="#L2233" title="Defined at 2233.">getCompatibilityExtensions</a></li>
<li><a href="#L2264" title="Defined at 2264.">getObject</a></li>
<li><a href="#L2304" title="Defined at 2304.">DISPLAY</a></li>
<li><a href="#L2313" title="Defined at 2313.">FORMAT</a></li>
<li><a href="#L2396" title="Defined at 2396.">setLocale</a></li>
<li><a href="#L2422" title="Defined at 2422.">setLanguageTag</a></li>
<li><a href="#L2445" title="Defined at 2445.">setLanguage</a></li>
<li><a href="#L2466" title="Defined at 2466.">setScript</a></li>
<li><a href="#L2491" title="Defined at 2491.">setRegion</a></li>
<li><a href="#L2518" title="Defined at 2518.">setVariant</a></li>
<li><a href="#L2550" title="Defined at 2550.">setExtension</a></li>
<li><a href="#L2580" title="Defined at 2580.">setUnicodeLocaleKeyword</a></li>
<li><a href="#L2601" title="Defined at 2601.">addUnicodeLocaleAttribute</a></li>
<li><a href="#L2624" title="Defined at 2624.">removeUnicodeLocaleAttribute</a></li>
<li><a href="#L2638" title="Defined at 2638.">clear</a></li>
<li><a href="#L2650" title="Defined at 2650.">clearExtensions</a></li>
<li><a href="#L2665" title="Defined at 2665.">build</a></li>
<li><a href="#L2920" title="Defined at 2920.">isSubtagIllFormed</a></li>
<li><a href="#L2949" title="Defined at 2949.">getRange</a></li>
<li><a href="#L2958" title="Defined at 2958.">getWeight</a></li>
<li><a href="#L3027" title="Defined at 3027.">parse</a></li>
<li><a href="#L3050" title="Defined at 3050.">parse</a></li>
<li><a href="#L3102" title="Defined at 3102.">mapEquivalents</a></li>
<li><a href="#L3114" title="Defined at 3114.">hashCode</a></li>
<li><a href="#L3137" title="Defined at 3137.">equals</a></li>
<li><a href="#L3170" title="Defined at 3170.">filter</a></li>
<li><a href="#L3193" title="Defined at 3193.">filter</a></li>
<li><a href="#L3217" title="Defined at 3217.">filterTags</a></li>
<li><a href="#L3240" title="Defined at 3240.">filterTags</a></li>
<li><a href="#L3259" title="Defined at 3259.">lookup</a></li>
<li><a href="#L3278" title="Defined at 3278.">lookupTag</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1996, 2014, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  (C) Copyright Taligent, Inc. 1996, 1997 - All Rights Reserved
  (C) Copyright IBM Corp. 1996 - 1998 - All Rights Reserved
  The original version of this source code and documentation
  is copyrighted and owned by Taligent, Inc., a wholly-owned
  subsidiary of IBM. These materials are provided under terms
  of a License Agreement between Taligent and Sun. This technology
  is protected by multiple US and International patents.
  This notice and attribution to Taligent may not be removed.
  Taligent is a registered trademark of Taligent, Inc.</div>
<a id="L40" name="L40"></a>  40 
<a id="L41" name="L41"></a>  41 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util;
<a id="L42" name="L42"></a>  42 
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.io.IOException;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.io.ObjectOutputStream;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.io.ObjectStreamField;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.text.MessageFormat;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.util.spi.LocaleNameProvider;
<a id="L51" name="L51"></a>  51 
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> sun.security.action.GetPropertyAction;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> sun.util.locale.BaseLocale;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> sun.util.locale.InternalLocaleBuilder;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> sun.util.locale.LanguageTag;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> sun.util.locale.LocaleExtensions;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> sun.util.locale.LocaleMatcher;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> sun.util.locale.LocaleObjectCache;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> sun.util.locale.LocaleSyntaxException;
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> sun.util.locale.LocaleUtils;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> sun.util.locale.ParseStatus;
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleProviderAdapter;
<a id="L63" name="L63"></a>  63 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleResources;
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleServiceProviderPool;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> sun.util.locale.provider.ResourceBundleBasedAdapter;
<a id="L66" name="L66"></a>  66 
<div class="comment">
  A <code>Locale</code> object represents a specific geographical, political,
  or cultural region. An operation that requires a <code>Locale</code> to perform
  its task is called <em>locale-sensitive</em> and uses the <code>Locale</code>
  to tailor information for the user. For example, displaying a number
  is a locale-sensitive operationâ€” the number should be formatted
  according to the customs and conventions of the user's native country,
  region, or culture.
  <p> The <code>Locale</code> class implements IETF BCP 47 which is composed of
  <a href="http://tools.ietf.org/html/rfc4647">RFC 4647 "Matching of Language
  Tags"</a> and <a href="http://tools.ietf.org/html/rfc5646">RFC 5646 "Tags
  for Identifying Languages"</a> with support for the LDML (UTS#35, "Unicode
  Locale Data Markup Language") BCP 47-compatible extensions for locale data
  exchange.
  </p><p> A <code>Locale</code> object logically consists of the fields
  described below.
  </p><dl>
    <dt><a name="def_language"><b>language</b></a></dt>
    <dd>ISO 639 alpha-2 or alpha-3 language code, or registered
    language subtags up to 8 alpha letters (for future enhancements).
    When a language has both an alpha-2 code and an alpha-3 code, the
    alpha-2 code must be used.  You can find a full list of valid
    language codes in the IANA Language Subtag Registry (search for
    "Type: language").  The language field is case insensitive, but
    <code>Locale</code> always canonicalizes to lower case.</dd>
    <dd>Well-formed language values have the form
    <code>[a-zA-Z]{2,8}</code>.  Note that this is not the the full
    BCP47 language production, since it excludes extlang.  They are
    not needed since modern three-letter language codes replace
    them.</dd>
    <dd>Example: "en" (English), "ja" (Japanese), "kok" (Konkani)</dd>
    <dt><a name="def_script"><b>script</b></a></dt>
    <dd>ISO 15924 alpha-4 script code.  You can find a full list of
    valid script codes in the IANA Language Subtag Registry (search
    for "Type: script").  The script field is case insensitive, but
    <code>Locale</code> always canonicalizes to title case (the first
    letter is upper case and the rest of the letters are lower
    case).</dd>
    <dd>Well-formed script values have the form
    <code>[a-zA-Z]{4}</code></dd>
    <dd>Example: "Latn" (Latin), "Cyrl" (Cyrillic)</dd>
    <dt><a name="def_region"><b>country (region)</b></a></dt>
    <dd>ISO 3166 alpha-2 country code or UN M.49 numeric-3 area code.
    You can find a full list of valid country and region codes in the
    IANA Language Subtag Registry (search for "Type: region").  The
    country (region) field is case insensitive, but
    <code>Locale</code> always canonicalizes to upper case.</dd>
    <dd>Well-formed country/region values have
    the form <code>[a-zA-Z]{2} | [0-9]{3}</code></dd>
    <dd>Example: "US" (United States), "FR" (France), "029"
    (Caribbean)</dd>
    <dt><a name="def_variant"><b>variant</b></a></dt>
    <dd>Any arbitrary value used to indicate a variation of a
    <code>Locale</code>.  Where there are two or more variant values
    each indicating its own semantics, these values should be ordered
    by importance, with most important first, separated by
    underscore('_').  The variant field is case sensitive.</dd>
    <dd>Note: IETF BCP 47 places syntactic restrictions on variant
    subtags.  Also BCP 47 subtags are strictly used to indicate
    additional variations that define a language or its dialects that
    are not covered by any combinations of language, script and
    region subtags.  You can find a full list of valid variant codes
    in the IANA Language Subtag Registry (search for "Type: variant").
    <p>However, the variant field in <code>Locale</code> has
    historically been used for any kind of variation, not just
    language variations.  For example, some supported variants
    available in Java SE Runtime Environments indicate alternative
    cultural behaviors such as calendar type or number script.  In
    BCP 47 this kind of information, which does not identify the
    language, is supported by extension subtags or private use
    subtags.</p></dd>
    <dd>Well-formed variant values have the form <code>SUBTAG
    (('_'|'-') SUBTAG)*</code> where <code>SUBTAG =
    [0-9][0-9a-zA-Z]{3} | [0-9a-zA-Z]{5,8}</code>. (Note: BCP 47 only
    uses hyphen ('-') as a delimiter, this is more lenient).</dd>
    <dd>Example: "polyton" (Polytonic Greek), "POSIX"</dd>
    <dt><a name="def_extensions"><b>extensions</b></a></dt>
    <dd>A map from single character keys to string values, indicating
    extensions apart from language identification.  The extensions in
    <code>Locale</code> implement the semantics and syntax of BCP 47
    extension subtags and private use subtags. The extensions are
    case insensitive, but <code>Locale</code> canonicalizes all
    extension keys and values to lower case. Note that extensions
    cannot have empty values.</dd>
    <dd>Well-formed keys are single characters from the set
    <code>[0-9a-zA-Z]</code>.  Well-formed values have the form
    <code>SUBTAG ('-' SUBTAG)*</code> where for the key 'x'
    <code>SUBTAG = [0-9a-zA-Z]{1,8}</code> and for other keys
    <code>SUBTAG = [0-9a-zA-Z]{2,8}</code> (that is, 'x' allows
    single-character subtags).</dd>
    <dd>Example: key="u"/value="ca-japanese" (Japanese Calendar),
    key="x"/value="java-1-7"</dd>
  </dl>
  <b>Note:</b> Although BCP 47 requires field values to be registered
  in the IANA Language Subtag Registry, the <code>Locale</code> class
  does not provide any validation features.  The <code>Builder</code>
  only checks if an individual field satisfies the syntactic
  requirement (is well-formed), but does not validate the value
  itself.  See <a href="../R/932.html" title="Multiple referred from 91 places.">Builder</a> for details.
  <h3><a name="def_locale_extension">Unicode locale/language extension</a></h3>
  <p>UTS#35, "Unicode Locale Data Markup Language" defines optional
  attributes and keywords to override or refine the default behavior
  associated with a locale.  A keyword is represented by a pair of
  key and type.  For example, "nu-thai" indicates that Thai local
  digits (value:"thai") should be used for formatting numbers
  (key:"nu").
  </p><p>The keywords are mapped to a BCP 47 extension value using the
  extension key 'u' ({@link #UNICODE_LOCALE_EXTENSION}).  The above
  example, "nu-thai", becomes the extension "u-nu-thai".code
  </p><p>Thus, when a <code>Locale</code> object contains Unicode locale
  attributes and keywords,
  <code>getExtension(UNICODE_LOCALE_EXTENSION)</code> will return a
  String representing this information, for example, "nu-thai".  The
  <code>Locale</code> class also provides {@link
  #getUnicodeLocaleAttributes}, <a href="#L1221" title="Defined at 1221.">getUnicodeLocaleKeys</a>, and
  <a href="#L1206" title="Defined at 1206.">getUnicodeLocaleType</a> which allow you to access Unicode
  locale attributes and key/type pairs directly.  When represented as
  a string, the Unicode Locale Extension lists attributes
  alphabetically, followed by key/type sequences with keys listed
  alphabetically (the order of subtags comprising a key's type is
  fixed when the type is defined)
  </p><p>A well-formed locale key has the form
  <code>[0-9a-zA-Z]{2}</code>.  A well-formed locale type has the
  form <code>"" | [0-9a-zA-Z]{3,8} ('-' [0-9a-zA-Z]{3,8})*</code> (it
  can be empty, or a series of subtags 3-8 alphanums in length).  A
  well-formed locale attribute has the form
  <code>[0-9a-zA-Z]{3,8}</code> (it is a single subtag with the same
  form as a locale type subtag).
  </p><p>The Unicode locale extension specifies optional behavior in
  locale-sensitive services.  Although the LDML specification defines
  various keys and values, actual locale-sensitive service
  implementations in a Java Runtime Environment might not support any
  particular Unicode locale attributes or key/type pairs.
  </p><h4>Creating a Locale</h4>
  <p>There are several different ways to create a <code>Locale</code>
  object.
  </p><h5>Builder</h5>
  <p>Using <a href="../R/932.html" title="Multiple referred from 91 places.">Builder</a> you can construct a <code>Locale</code> object
  that conforms to BCP 47 syntax.
  </p><h5>Constructors</h5>
  <p>The <code>Locale</code> class provides three constructors:
  </p><blockquote>
  <pre>      {@link #Locale(String language)}
      {@link #Locale(String language, String country)}
      {@link #Locale(String language, String country, String variant)}
  </pre>
  </blockquote>
  These constructors allow you to create a <code>Locale</code> object
  with language, country and variant, but you cannot specify
  script or extensions.
  <h5>Factory Methods</h5>
  <p>The method <a href="#L1567" title="Defined at 1567.">forLanguageTag</a> creates a <code>Locale</code>
  object for a well-formed BCP 47 language tag.
  </p><h5>Locale Constants</h5>
  <p>The <code>Locale</code> class provides a number of convenient constants
  that you can use to create <code>Locale</code> objects for commonly used
  locales. For example, the following creates a <code>Locale</code> object
  for the United States:
  </p><blockquote>
  <pre>      Locale.US
  </pre>
  </blockquote>
  <h4><a name="LocaleMatching">Locale Matching</a></h4>
  <p>If an application or a system is internationalized and provides localized
  resources for multiple locales, it sometimes needs to find one or more
  locales (or language tags) which meet each user's specific preferences. Note
  that a term "language tag" is used interchangeably with "locale" in this
  locale matching documentation.
  </p><p>In order to do matching a user's preferred locales to a set of language
  tags, <a href="http://tools.ietf.org/html/rfc4647">RFC 4647 Matching of
  Language Tags</a> defines two mechanisms: filtering and lookup.
  <em>Filtering</em> is used to get all matching locales, whereas
  <em>lookup</em> is to choose the best matching locale.
  Matching is done case-insensitively. These matching mechanisms are described
  in the following sections.
  </p><p>A user's preference is called a <em>Language Priority List</em> and is
  expressed as a list of language ranges. There are syntactically two types of
  language ranges: basic and extended. See
  {@link Locale.LanguageRange Locale.LanguageRange} for details.
  </p><h5>Filtering</h5>
  <p>The filtering operation returns all matching language tags. It is defined
  in RFC 4647 as follows:
  "In filtering, each language range represents the least specific language
  tag (that is, the language tag with fewest number of subtags) that is an
  acceptable match. All of the language tags in the matching set of tags will
  have an equal or greater number of subtags than the language range. Every
  non-wildcard subtag in the language range will appear in every one of the
  matching language tags."
  </p><p>There are two types of filtering: filtering for basic language ranges
  (called "basic filtering") and filtering for extended language ranges
  (called "extended filtering"). They may return different results by what
  kind of language ranges are included in the given Language Priority List.
  {@link Locale.FilteringMode} is a parameter to specify how filtering should
  be done.
  </p><h5>Lookup</h5>
  <p>The lookup operation returns the best matching language tags. It is
  defined in RFC 4647 as follows:
  "By contrast with filtering, each language range represents the most
  specific tag that is an acceptable match.  The first matching tag found,
  according to the user's priority, is considered the closest match and is the
  item returned."
  </p><p>For example, if a Language Priority List consists of two language ranges,
  <code>"zh-Hant-TW"</code> and <code>"en-US"</code>, in prioritized order, lookup
  method progressively searches the language tags below in order to find the
  best matching language tag.
  </p><blockquote>
  <pre>     1. zh-Hant-TW
     2. zh-Hant
     3. zh
     4. en-US
     5. en
  </pre>
  </blockquote>
  If there is a language tag which matches completely to a language range
  above, the language tag is returned.
  <p><code>"*"</code> is the special language range, and it is ignored in lookup.
  </p><p>If multiple language tags match as a result of the subtag <code>'*'</code>
  included in a language range, the first matching language tag returned by
  an {@link Iterator} over a <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a> of language tags is treated as
  the best matching one.
  </p><h4>Use of Locale</h4>
  <p>Once you've created a <code>Locale</code> you can query it for information
  about itself. Use <code>getCountry</code> to get the country (or region)
  code and <code>getLanguage</code> to get the language code.
  You can use <code>getDisplayCountry</code> to get the
  name of the country suitable for displaying to the user. Similarly,
  you can use <code>getDisplayLanguage</code> to get the name of
  the language suitable for displaying to the user. Interestingly,
  the <code>getDisplayXXX</code> methods are themselves locale-sensitive
  and have two versions: one that uses the default
  {@link Locale.Category#DISPLAY DISPLAY} locale and one
  that uses the locale specified as an argument.
  </p><p>The Java Platform provides a number of classes that perform locale-sensitive
  operations. For example, the <code>NumberFormat</code> class formats
  numbers, currency, and percentages in a locale-sensitive manner. Classes
  such as <code>NumberFormat</code> have several convenience methods
  for creating a default object of that type. For example, the
  <code>NumberFormat</code> class provides these three convenience methods
  for creating a default <code>NumberFormat</code> object:
  </p><blockquote>
  <pre>      NumberFormat.getInstance()
      NumberFormat.getCurrencyInstance()
      NumberFormat.getPercentInstance()
  </pre>
  </blockquote>
  Each of these methods has two variants; one with an explicit locale
  and one without; the latter uses the default
  {@link Locale.Category#FORMAT FORMAT} locale:
  <blockquote>
  <pre>      NumberFormat.getInstance(myLocale)
      NumberFormat.getCurrencyInstance(myLocale)
      NumberFormat.getPercentInstance(myLocale)
  </pre>
  </blockquote>
  A <code>Locale</code> is the mechanism for identifying the kind of object
  (<code>NumberFormat</code>) that you would like to get. The locale is
  <strong>just</strong> a mechanism for identifying objects,
  <strong>not</strong> a container for the objects themselves.
  <h4>Compatibility</h4>
  <p>In order to maintain compatibility with existing usage, Locale's
  constructors retain their behavior prior to the Java Runtime
  Environment version 1.7.  The same is largely true for the
  <code>toString</code> method. Thus Locale objects can continue to
  be used as they were. In particular, clients who parse the output
  of toString into language, country, and variant fields can continue
  to do so (although this is strongly discouraged), although the
  variant field will have additional information in it if script or
  extensions are present.
  </p><p>In addition, BCP 47 imposes syntax restrictions that are not
  imposed by Locale's constructors. This means that conversions
  between some Locales and BCP 47 language tags cannot be made without
  losing information. Thus <code>toLanguageTag</code> cannot
  represent the state of locales whose language, country, or variant
  do not conform to BCP 47.
  </p><p>Because of these issues, it is recommended that clients migrate
  away from constructing non-conforming locales and use the
  <code>forLanguageTag</code> and <code>Locale.Builder</code> APIs instead.
  Clients desiring a string representation of the complete locale can
  then always rely on <code>toLanguageTag</code> for this purpose.
  </p><h5><a name="special_cases_constructor">Special cases</a></h5>
  <p>For compatibility reasons, two
  non-conforming locales are treated as special cases.  These are
  <b><tt>ja_JP_JP</tt></b> and <b><tt>th_TH_TH</tt></b>. These are ill-formed
  in BCP 47 since the variants are too short. To ease migration to BCP 47,
  these are treated specially during construction.  These two cases (and only
  these) cause a constructor to generate an extension, all other values behave
  exactly as they did prior to Java 7.
  </p><p>Java has used <tt>ja_JP_JP</tt> to represent Japanese as used in
  Japan together with the Japanese Imperial calendar. This is now
  representable using a Unicode locale extension, by specifying the
  Unicode locale key <tt>ca</tt> (for "calendar") and type
  <tt>japanese</tt>. When the Locale constructor is called with the
  arguments "ja", "JP", "JP", the extension "u-ca-japanese" is
  automatically added.
  </p><p>Java has used <tt>th_TH_TH</tt> to represent Thai as used in
  Thailand together with Thai digits. This is also now representable using
  a Unicode locale extension, by specifying the Unicode locale key
  <tt>nu</tt> (for "number") and value <tt>thai</tt>. When the Locale
  constructor is called with the arguments "th", "TH", "TH", the
  extension "u-nu-thai" is automatically added.
  </p><h5>Serialization</h5>
  <p>During serialization, writeObject writes all fields to the output
  stream, including extensions.
  </p><p>During deserialization, readResolve adds extensions as described
  in <a href="#special_cases_constructor">Special Cases</a>, only
  for the two cases th_TH_TH and ja_JP_JP.
  </p><h5>Legacy language codes</h5>
  <p>Locale's constructor has always converted three language codes to
  their earlier, obsoleted forms: <tt>he</tt> maps to <tt>iw</tt>,
  <tt>yi</tt> maps to <tt>ji</tt>, and <tt>id</tt> maps to
  <tt>in</tt>.  This continues to be the case, in order to not break
  backwards compatibility.
  </p><p>The APIs added in 1.7 map between the old and new language codes,
  maintaining the old codes internal to Locale (so that
  <code>getLanguage</code> and <code>toString</code> reflect the old
  code), but using the new codes in the BCP 47 language tag APIs (so
  that <code>toLanguageTag</code> reflects the new one). This
  preserves the equivalence between Locales no matter which code or
  API is used to construct them. Java's default resource bundle
  lookup mechanism also implements this mapping, so that resources
  can be named using either convention, see {@link ResourceBundle.Control}.
  </p><h5>Three-letter language/country(region) codes</h5>
  <p>The Locale constructors have always specified that the language
  and the country param be two characters in length, although in
  practice they have accepted any length.  The specification has now
  been relaxed to allow language codes of two to eight characters and
  country (region) codes of two to three characters, and in
  particular, three-letter language codes and three-digit region
  codes as specified in the IANA Language Subtag Registry.  For
  compatibility, the implementation still does not impose a length
  constraint.
  @see Builder
  @see ResourceBundle
  @see java.text.Format
  @see java.text.NumberFormat
  @see java.text.Collator
  @author Mark Davis
  @since 1.1</p></div>
<a id="L484" name="L484"></a> 484 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/4695.html" title="Multiple referred from 1141 places.">Locale</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L485" name="L485"></a> 485 
<a id="L486" name="L486"></a> 486     <strong class="reserved">static</strong> <strong class="reserved">private</strong> <strong class="reserved">final</strong>  <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a> LOCALECACHE = <strong class="reserved">new</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>();
<a id="L487" name="L487"></a> 487 
<div class="comment">
 Useful constant for language.</div>
<a id="L490" name="L490"></a> 490     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> ENGLISH = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("en", "");
<a id="L491" name="L491"></a> 491 
<div class="comment">
 Useful constant for language.</div>
<a id="L494" name="L494"></a> 494     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> FRENCH = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("fr", "");
<a id="L495" name="L495"></a> 495 
<div class="comment">
 Useful constant for language.</div>
<a id="L498" name="L498"></a> 498     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> GERMAN = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("de", "");
<a id="L499" name="L499"></a> 499 
<div class="comment">
 Useful constant for language.</div>
<a id="L502" name="L502"></a> 502     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> ITALIAN = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("it", "");
<a id="L503" name="L503"></a> 503 
<div class="comment">
 Useful constant for language.</div>
<a id="L506" name="L506"></a> 506     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> JAPANESE = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("ja", "");
<a id="L507" name="L507"></a> 507 
<div class="comment">
 Useful constant for language.</div>
<a id="L510" name="L510"></a> 510     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> KOREAN = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("ko", "");
<a id="L511" name="L511"></a> 511 
<div class="comment">
 Useful constant for language.</div>
<a id="L514" name="L514"></a> 514     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> CHINESE = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("zh", "");
<a id="L515" name="L515"></a> 515 
<div class="comment">
 Useful constant for language.</div>
<a id="L518" name="L518"></a> 518     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> SIMPLIFIED_CHINESE = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("zh", "CN");
<a id="L519" name="L519"></a> 519 
<div class="comment">
 Useful constant for language.</div>
<a id="L522" name="L522"></a> 522     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> TRADITIONAL_CHINESE = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("zh", "TW");
<a id="L523" name="L523"></a> 523 
<div class="comment">
 Useful constant for country.</div>
<a id="L526" name="L526"></a> 526     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> FRANCE = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("fr", "FR");
<a id="L527" name="L527"></a> 527 
<div class="comment">
 Useful constant for country.</div>
<a id="L530" name="L530"></a> 530     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> GERMANY = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("de", "DE");
<a id="L531" name="L531"></a> 531 
<div class="comment">
 Useful constant for country.</div>
<a id="L534" name="L534"></a> 534     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> ITALY = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("it", "IT");
<a id="L535" name="L535"></a> 535 
<div class="comment">
 Useful constant for country.</div>
<a id="L538" name="L538"></a> 538     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> JAPAN = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("ja", "JP");
<a id="L539" name="L539"></a> 539 
<div class="comment">
 Useful constant for country.</div>
<a id="L542" name="L542"></a> 542     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> KOREA = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("ko", "KR");
<a id="L543" name="L543"></a> 543 
<div class="comment">
 Useful constant for country.</div>
<a id="L546" name="L546"></a> 546     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> CHINA = SIMPLIFIED_CHINESE;
<a id="L547" name="L547"></a> 547 
<div class="comment">
 Useful constant for country.</div>
<a id="L550" name="L550"></a> 550     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> PRC = SIMPLIFIED_CHINESE;
<a id="L551" name="L551"></a> 551 
<div class="comment">
 Useful constant for country.</div>
<a id="L554" name="L554"></a> 554     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> TAIWAN = TRADITIONAL_CHINESE;
<a id="L555" name="L555"></a> 555 
<div class="comment">
 Useful constant for country.</div>
<a id="L558" name="L558"></a> 558     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> UK = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("en", "GB");
<a id="L559" name="L559"></a> 559 
<div class="comment">
 Useful constant for country.</div>
<a id="L562" name="L562"></a> 562     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> US = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("en", "US");
<a id="L563" name="L563"></a> 563 
<div class="comment">
 Useful constant for country.</div>
<a id="L566" name="L566"></a> 566     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> CANADA = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("en", "CA");
<a id="L567" name="L567"></a> 567 
<div class="comment">
 Useful constant for country.</div>
<a id="L570" name="L570"></a> 570     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> CANADA_FRENCH = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("fr", "CA");
<a id="L571" name="L571"></a> 571 
<div class="comment">
      Useful constant for the root locale.  The root locale is the locale whose
      language, country, and variant are empty ("") strings.  This is regarded
      as the base locale of all locales, and is used as the language/country
      neutral locale for the locale sensitive operations.
      @since 1.6</div>
<a id="L580" name="L580"></a> 580     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> ROOT = <a href="../D/13721.html" title="Multiple defined in 5 places.">createConstant</a>("", "");
<a id="L581" name="L581"></a> 581 
<div class="comment">
      The key for the private use extension ('x').
      @see #getExtension(char)
      @see Builder#setExtension(char, String)
      @since 1.7</div>
<a id="L589" name="L589"></a> 589     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> PRIVATE_USE_EXTENSION = 'x';
<a id="L590" name="L590"></a> 590 
<div class="comment">
      The key for Unicode locale extension ('u').
      @see #getExtension(char)
      @see Builder#setExtension(char, String)
      @since 1.7</div>
<a id="L598" name="L598"></a> 598     <strong class="reserved">static</strong> <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> UNICODE_LOCALE_EXTENSION = 'u';
<a id="L599" name="L599"></a> 599 
<div class="comment">
 serialization ID</div>
<a id="L602" name="L602"></a> 602     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 9149081749638150636L;
<a id="L603" name="L603"></a> 603 
<div class="comment">
      Display types for retrieving localized names from the name providers.</div>
<a id="L607" name="L607"></a> 607     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DISPLAY_LANGUAGE = 0;
<a id="L608" name="L608"></a> 608     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DISPLAY_COUNTRY  = 1;
<a id="L609" name="L609"></a> 609     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DISPLAY_VARIANT  = 2;
<a id="L610" name="L610"></a> 610     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DISPLAY_SCRIPT   = 3;
<a id="L611" name="L611"></a> 611 
<div class="comment">
      Private constructor used by getInstance method</div>
<a id="L615" name="L615"></a> 615     <strong class="reserved">private</strong> Locale(BaseLocale baseLocale, LocaleExtensions extensions) <em class="brace">{</em>
<a id="L616" name="L616"></a> 616         <strong class="reserved">this</strong>.baseLocale = baseLocale;
<a id="L617" name="L617"></a> 617         <strong class="reserved">this</strong>.localeExtensions = extensions;
<a id="L618" name="L618"></a> 618     <em class="brace">}</em>
<a id="L619" name="L619"></a> 619 
<div class="comment">
      Construct a locale from language, country and variant.
      This constructor normalizes the language value to lowercase and
      the country value to uppercase.
      <p>
      <b>Note:</b>
      </p><ul><li>ISO 639 is not a stable standard; some of the language codes it defines
      (specifically "iw", "ji", and "in") have changed.  This constructor accepts both the
      old codes ("iw", "ji", and "in") and the new codes ("he", "yi", and "id"), but all other
      API on Locale will return only the OLD codes.
      </li><li>For backward compatibility reasons, this constructor does not make
      any syntactic checks on the input.
      </li><li>The two cases ("ja", "JP", "JP") and ("th", "TH", "TH") are handled specially,
      see <a href="#special_cases_constructor">Special Cases</a> for more information.
      </li></ul>
      @param language An ISO 639 alpha-2 or alpha-3 language code, or a language subtag
      up to 8 characters in length.  See the <code>Locale</code> class description about
      valid language values.
      @param country An ISO 3166 alpha-2 country code or a UN M.49 numeric-3 area code.
      See the <code>Locale</code> class description about valid country values.
      @param variant Any arbitrary value used to indicate a variation of a <code>Locale</code>.
      See the <code>Locale</code> class description for the details.
      @exception NullPointerException thrown if any argument is null.</div>
<a id="L646" name="L646"></a> 646     <strong class="reserved">public</strong> Locale(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>) <em class="brace">{</em>
<a id="L647" name="L647"></a> 647         <strong class="reserved">if</strong> (language== <strong class="reserved">null</strong> || country == <strong class="reserved">null</strong> || <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L648" name="L648"></a> 648             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L649" name="L649"></a> 649         <em class="brace">}</em>
<a id="L650" name="L650"></a> 650         baseLocale = BaseLocale.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/1034.html#L2218" title="Defined at 2218 in src/java/util/Locale.java.">convertOldISOCodes</a>(language), "", country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L651" name="L651"></a> 651         localeExtensions = <a href="../S/1034.html#L2233" title="Defined at 2233 in src/java/util/Locale.java.">getCompatibilityExtensions</a>(language, "", country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L652" name="L652"></a> 652     <em class="brace">}</em>
<a id="L653" name="L653"></a> 653 
<div class="comment">
      Construct a locale from language and country.
      This constructor normalizes the language value to lowercase and
      the country value to uppercase.
      <p>
      <b>Note:</b>
      </p><ul><li>ISO 639 is not a stable standard; some of the language codes it defines
      (specifically "iw", "ji", and "in") have changed.  This constructor accepts both the
      old codes ("iw", "ji", and "in") and the new codes ("he", "yi", and "id"), but all other
      API on Locale will return only the OLD codes.
      </li><li>For backward compatibility reasons, this constructor does not make
      any syntactic checks on the input.
      </li></ul>
      @param language An ISO 639 alpha-2 or alpha-3 language code, or a language subtag
      up to 8 characters in length.  See the <code>Locale</code> class description about
      valid language values.
      @param country An ISO 3166 alpha-2 country code or a UN M.49 numeric-3 area code.
      See the <code>Locale</code> class description about valid country values.
      @exception NullPointerException thrown if either argument is null.</div>
<a id="L676" name="L676"></a> 676     <strong class="reserved">public</strong> Locale(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country) <em class="brace">{</em>
<a id="L677" name="L677"></a> 677         <strong class="reserved">this</strong>(language, country, "");
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<div class="comment">
      Construct a locale from a language code.
      This constructor normalizes the language value to lowercase.
      <p>
      <b>Note:</b>
      </p><ul><li>ISO 639 is not a stable standard; some of the language codes it defines
      (specifically "iw", "ji", and "in") have changed.  This constructor accepts both the
      old codes ("iw", "ji", and "in") and the new codes ("he", "yi", and "id"), but all other
      API on Locale will return only the OLD codes.
      </li><li>For backward compatibility reasons, this constructor does not make
      any syntactic checks on the input.
      </li></ul>
      @param language An ISO 639 alpha-2 or alpha-3 language code, or a language subtag
      up to 8 characters in length.  See the <code>Locale</code> class description about
      valid language values.
      @exception NullPointerException thrown if argument is null.
      @since 1.4</div>
<a id="L700" name="L700"></a> 700     <strong class="reserved">public</strong> Locale(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language) <em class="brace">{</em>
<a id="L701" name="L701"></a> 701         <strong class="reserved">this</strong>(language, "", "");
<a id="L702" name="L702"></a> 702     <em class="brace">}</em>
<a id="L703" name="L703"></a> 703 
<div class="comment">
      This method must be called only for creating the Locale.*
      constants due to making shortcuts.</div>
<a id="L708" name="L708"></a> 708     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/12301.html" title="Multiple referred from 26 places.">createConstant</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lang, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709         BaseLocale base = BaseLocale.<a href="../D/13970.html" title="Multiple defined in 4 places.">createInstance</a>(lang, country);
<a id="L710" name="L710"></a> 710         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(base, <strong class="reserved">null</strong>);
<a id="L711" name="L711"></a> 711     <em class="brace">}</em>
<a id="L712" name="L712"></a> 712 
<div class="comment">
      Returns a <code>Locale</code> constructed from the given
      <code>language</code>, <code>country</code> and
      <code>variant</code>. If the same <code>Locale</code> instance
      is available in the cache, then that instance is
      returned. Otherwise, a new <code>Locale</code> instance is
      created and cached.
      @param language lowercase 2 to 8 language code.
      @param country uppercase two-letter ISO-3166 code and numric-3 UN M.49 area code.
      @param variant vendor and browser specific code. See class description.
      @return the <code>Locale</code> instance requested
      @exception NullPointerException if any argument is null.</div>
<a id="L727" name="L727"></a> 727     <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, "", country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>, <strong class="reserved">null</strong>);
<a id="L729" name="L729"></a> 729     <em class="brace">}</em>
<a id="L730" name="L730"></a> 730 
<a id="L731" name="L731"></a> 731     <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> script, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country,
<a id="L732" name="L732"></a> 732                                       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>, LocaleExtensions extensions) <em class="brace">{</em>
<a id="L733" name="L733"></a> 733         <strong class="reserved">if</strong> (language== <strong class="reserved">null</strong> || script == <strong class="reserved">null</strong> || country == <strong class="reserved">null</strong> || <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L734" name="L734"></a> 734             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L735" name="L735"></a> 735         <em class="brace">}</em>
<a id="L736" name="L736"></a> 736 
<a id="L737" name="L737"></a> 737         <strong class="reserved">if</strong> (extensions == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L738" name="L738"></a> 738             extensions = <a href="../S/1034.html#L2233" title="Defined at 2233 in src/java/util/Locale.java.">getCompatibilityExtensions</a>(language, script, country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L739" name="L739"></a> 739         <em class="brace">}</em>
<a id="L740" name="L740"></a> 740 
<a id="L741" name="L741"></a> 741         BaseLocale baseloc = BaseLocale.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, script, country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L742" name="L742"></a> 742         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(baseloc, extensions);
<a id="L743" name="L743"></a> 743     <em class="brace">}</em>
<a id="L744" name="L744"></a> 744 
<a id="L745" name="L745"></a> 745     <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(BaseLocale baseloc, LocaleExtensions extensions) <em class="brace">{</em>
<a id="L746" name="L746"></a> 746         <a href="../S/1034.html#L760" title="Defined at 760 in src/java/util/Locale.java.">LocaleKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <strong class="reserved">new</strong> <a href="../S/1034.html#L760" title="Defined at 760 in src/java/util/Locale.java.">LocaleKey</a>(baseloc, extensions);
<a id="L747" name="L747"></a> 747         <strong class="reserved">return</strong> LOCALECACHE.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L748" name="L748"></a> 748     <em class="brace">}</em>
<a id="L749" name="L749"></a> 749 
<a id="L750" name="L750"></a> 750     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1121.html" title="Multiple referred from 16 places.">Cache</a> <strong class="reserved">extends</strong> LocaleObjectCache&lt;<a href="../S/1034.html#L760" title="Defined at 760 in src/java/util/Locale.java.">LocaleKey</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; <em class="brace">{</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">private</strong> Cache() <em class="brace">{</em>
<a id="L752" name="L752"></a> 752         <em class="brace">}</em>
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L755" name="L755"></a> 755         <strong class="reserved">protected</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> createObject(<a href="../S/1034.html#L760" title="Defined at 760 in src/java/util/Locale.java.">LocaleKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L756" name="L756"></a> 756             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.base, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.exts);
<a id="L757" name="L757"></a> 757         <em class="brace">}</em>
<a id="L758" name="L758"></a> 758     <em class="brace">}</em>
<a id="L759" name="L759"></a> 759 
<a id="L760" name="L760"></a> 760     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/4697.html" title="Multiple referred from 5 places.">LocaleKey</a> <em class="brace">{</em>
<a id="L761" name="L761"></a> 761         <strong class="reserved">private</strong> <strong class="reserved">final</strong> BaseLocale base;
<a id="L762" name="L762"></a> 762         <strong class="reserved">private</strong> <strong class="reserved">final</strong> LocaleExtensions exts;
<a id="L763" name="L763"></a> 763         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>;
<a id="L764" name="L764"></a> 764 
<a id="L765" name="L765"></a> 765         <strong class="reserved">private</strong> LocaleKey(BaseLocale baseLocale, LocaleExtensions extensions) <em class="brace">{</em>
<a id="L766" name="L766"></a> 766             base = baseLocale;
<a id="L767" name="L767"></a> 767             exts = extensions;
<a id="L768" name="L768"></a> 768 
<a id="L769" name="L769"></a> 769             <em class="comment">// Calculate the hash value here because it's always used.</em>
<a id="L770" name="L770"></a> 770             <strong class="reserved">int</strong> h = base.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L771" name="L771"></a> 771             <strong class="reserved">if</strong> (exts != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L772" name="L772"></a> 772                 h ^= exts.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L773" name="L773"></a> 773             <em class="brace">}</em>
<a id="L774" name="L774"></a> 774             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = h;
<a id="L775" name="L775"></a> 775         <em class="brace">}</em>
<a id="L776" name="L776"></a> 776 
<a id="L777" name="L777"></a> 777         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L778" name="L778"></a> 778         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779             <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj) <em class="brace">{</em>
<a id="L780" name="L780"></a> 780                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L781" name="L781"></a> 781             <em class="brace">}</em>
<a id="L782" name="L782"></a> 782             <strong class="reserved">if</strong> (!(obj <strong class="reserved">instanceof</strong> <a href="../S/1034.html#L760" title="Defined at 760 in src/java/util/Locale.java.">LocaleKey</a>)) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L784" name="L784"></a> 784             <em class="brace">}</em>
<a id="L785" name="L785"></a> 785             <a href="../S/1034.html#L760" title="Defined at 760 in src/java/util/Locale.java.">LocaleKey</a> other = (<a href="../S/1034.html#L760" title="Defined at 760 in src/java/util/Locale.java.">LocaleKey</a>)obj;
<a id="L786" name="L786"></a> 786             <strong class="reserved">if</strong> (<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> != other.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> || !base.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(other.base)) <em class="brace">{</em>
<a id="L787" name="L787"></a> 787                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L788" name="L788"></a> 788             <em class="brace">}</em>
<a id="L789" name="L789"></a> 789             <strong class="reserved">if</strong> (exts == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L790" name="L790"></a> 790                 <strong class="reserved">return</strong> other.exts == <strong class="reserved">null</strong>;
<a id="L791" name="L791"></a> 791             <em class="brace">}</em>
<a id="L792" name="L792"></a> 792             <strong class="reserved">return</strong> exts.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(other.exts);
<a id="L793" name="L793"></a> 793         <em class="brace">}</em>
<a id="L794" name="L794"></a> 794 
<a id="L795" name="L795"></a> 795         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L796" name="L796"></a> 796         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L797" name="L797"></a> 797             <strong class="reserved">return</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>;
<a id="L798" name="L798"></a> 798         <em class="brace">}</em>
<a id="L799" name="L799"></a> 799     <em class="brace">}</em>
<a id="L800" name="L800"></a> 800 
<div class="comment">
      Gets the current value of the default locale for this instance
      of the Java Virtual Machine.
      <p>
      The Java Virtual Machine sets the default locale during startup
      based on the host environment. It is used by many locale-sensitive
      methods if no locale is explicitly specified.
      It can be changed using the
      {@link #setDefault(java.util.Locale) setDefault} method.
      @return the default locale for this instance of the Java Virtual Machine</p></div>
<a id="L813" name="L813"></a> 813     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/16003.html" title="Multiple referred from 142 places.">getDefault</a>() <em class="brace">{</em>
<a id="L814" name="L814"></a> 814         <em class="comment">// do not synchronize this method - see 4071298</em>
<a id="L815" name="L815"></a> 815         <strong class="reserved">return</strong> defaultLocale;
<a id="L816" name="L816"></a> 816     <em class="brace">}</em>
<a id="L817" name="L817"></a> 817 
<div class="comment">
      Gets the current value of the default locale for the specified Category
      for this instance of the Java Virtual Machine.
      <p>
      The Java Virtual Machine sets the default locale during startup based
      on the host environment. It is used by many locale-sensitive methods
      if no locale is explicitly specified. It can be changed using the
      setDefault(Locale.Category, Locale) method.
      @param category - the specified category to get the default locale
      @throws NullPointerException - if category is null
      @return the default locale for the specified Category for this instance
          of the Java Virtual Machine
      @see #setDefault(Locale.Category, Locale)
      @since 1.7</p></div>
<a id="L834" name="L834"></a> 834     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/16003.html" title="Multiple referred from 142 places.">getDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a> category) <em class="brace">{</em>
<a id="L835" name="L835"></a> 835         <em class="comment">// do not synchronize this method - see 4071298</em>
<a id="L836" name="L836"></a> 836         <strong class="reserved">switch</strong> (category) <em class="brace">{</em>
<a id="L837" name="L837"></a> 837         <strong class="reserved">case</strong> <a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>:
<a id="L838" name="L838"></a> 838             <strong class="reserved">if</strong> (defaultDisplayLocale == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L839" name="L839"></a> 839                 <strong class="reserved">synchronized</strong>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L840" name="L840"></a> 840                     <strong class="reserved">if</strong> (defaultDisplayLocale == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L841" name="L841"></a> 841                         defaultDisplayLocale = <a href="../D/24522.html" title="Multiple defined in 2 places.">initDefault</a>(category);
<a id="L842" name="L842"></a> 842                     <em class="brace">}</em>
<a id="L843" name="L843"></a> 843                 <em class="brace">}</em>
<a id="L844" name="L844"></a> 844             <em class="brace">}</em>
<a id="L845" name="L845"></a> 845             <strong class="reserved">return</strong> defaultDisplayLocale;
<a id="L846" name="L846"></a> 846         <strong class="reserved">case</strong> <a href="../S/1034.html#L2313" title="Defined at 2313 in src/java/util/Locale.java.">FORMAT</a>:
<a id="L847" name="L847"></a> 847             <strong class="reserved">if</strong> (defaultFormatLocale == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L848" name="L848"></a> 848                 <strong class="reserved">synchronized</strong>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L849" name="L849"></a> 849                     <strong class="reserved">if</strong> (defaultFormatLocale == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L850" name="L850"></a> 850                         defaultFormatLocale = <a href="../D/24522.html" title="Multiple defined in 2 places.">initDefault</a>(category);
<a id="L851" name="L851"></a> 851                     <em class="brace">}</em>
<a id="L852" name="L852"></a> 852                 <em class="brace">}</em>
<a id="L853" name="L853"></a> 853             <em class="brace">}</em>
<a id="L854" name="L854"></a> 854             <strong class="reserved">return</strong> defaultFormatLocale;
<a id="L855" name="L855"></a> 855         <strong class="reserved">default</strong>:
<a id="L856" name="L856"></a> 856             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <strong class="reserved">false</strong>: "Unknown Category";
<a id="L857" name="L857"></a> 857         <em class="brace">}</em>
<a id="L858" name="L858"></a> 858         <strong class="reserved">return</strong> <a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>();
<a id="L859" name="L859"></a> 859     <em class="brace">}</em>
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/20562.html" title="Multiple referred from 3 places.">initDefault</a>() <em class="brace">{</em>
<a id="L862" name="L862"></a> 862         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language, <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, script, country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>;
<a id="L863" name="L863"></a> 863         language = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L864" name="L864"></a> 864             <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("user.language", "en"));
<a id="L865" name="L865"></a> 865         <em class="comment">// for compatibility, check for old user.region property</em>
<a id="L866" name="L866"></a> 866         <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L867" name="L867"></a> 867             <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("user.region"));
<a id="L868" name="L868"></a> 868         <strong class="reserved">if</strong> (<a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L869" name="L869"></a> 869             <em class="comment">// region can be of form country, country_variant, or _variant</em>
<a id="L870" name="L870"></a> 870             <strong class="reserved">int</strong> i = <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('_');
<a id="L871" name="L871"></a> 871             <strong class="reserved">if</strong> (i &gt;= 0) <em class="brace">{</em>
<a id="L872" name="L872"></a> 872                 country = <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, i);
<a id="L873" name="L873"></a> 873                 <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(i + 1);
<a id="L874" name="L874"></a> 874             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L875" name="L875"></a> 875                 country = <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>;
<a id="L876" name="L876"></a> 876                 <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = "";
<a id="L877" name="L877"></a> 877             <em class="brace">}</em>
<a id="L878" name="L878"></a> 878             script = "";
<a id="L879" name="L879"></a> 879         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L880" name="L880"></a> 880             script = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L881" name="L881"></a> 881                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("user.script", ""));
<a id="L882" name="L882"></a> 882             country = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L883" name="L883"></a> 883                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("user.country", ""));
<a id="L884" name="L884"></a> 884             <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L885" name="L885"></a> 885                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("user.variant", ""));
<a id="L886" name="L886"></a> 886         <em class="brace">}</em>
<a id="L887" name="L887"></a> 887 
<a id="L888" name="L888"></a> 888         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, script, country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>, <strong class="reserved">null</strong>);
<a id="L889" name="L889"></a> 889     <em class="brace">}</em>
<a id="L890" name="L890"></a> 890 
<a id="L891" name="L891"></a> 891     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/20562.html" title="Multiple referred from 3 places.">initDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a> category) <em class="brace">{</em>
<a id="L892" name="L892"></a> 892         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(
<a id="L893" name="L893"></a> 893             <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L894" name="L894"></a> 894                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(category.languageKey, defaultLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>())),
<a id="L895" name="L895"></a> 895             <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L896" name="L896"></a> 896                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(category.scriptKey, defaultLocale.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>())),
<a id="L897" name="L897"></a> 897             <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L898" name="L898"></a> 898                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(category.countryKey, defaultLocale.<a href="../S/1034.html#L1101" title="Defined at 1101 in src/java/util/Locale.java.">getCountry</a>())),
<a id="L899" name="L899"></a> 899             <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L900" name="L900"></a> 900                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(category.variantKey, defaultLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>())),
<a id="L901" name="L901"></a> 901             <strong class="reserved">null</strong>);
<a id="L902" name="L902"></a> 902     <em class="brace">}</em>
<a id="L903" name="L903"></a> 903 
<div class="comment">
      Sets the default locale for this instance of the Java Virtual Machine.
      This does not affect the host locale.
      <p>
      If there is a security manager, its <code>checkPermission</code>
      method is called with a <code>PropertyPermission("user.language", "write")</code>
      permission before the default locale is changed.
      </p><p>
      The Java Virtual Machine sets the default locale during startup
      based on the host environment. It is used by many locale-sensitive
      methods if no locale is explicitly specified.
      </p><p>
      Since changing the default locale may affect many different areas
      of functionality, this method should only be used if the caller
      is prepared to reinitialize locale-sensitive code running
      within the same Java Virtual Machine.
      </p><p>
      By setting the default locale with this method, all of the default
      locales for each Category are also set to the specified default locale.
      @throws SecurityException
             if a security manager exists and its
             <code>checkPermission</code> method doesn't allow the operation.
      @throws NullPointerException if <code>newLocale</code> is null
      @param newLocale the new default locale
      @see SecurityManager#checkPermission
      @see java.util.PropertyPermission</p></div>
<a id="L932" name="L932"></a> 932     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/27182.html" title="Multiple referred from 13 places.">setDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> newLocale) <em class="brace">{</em>
<a id="L933" name="L933"></a> 933         <a href="../D/32376.html" title="Multiple defined in 18 places.">setDefault</a>(<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>, newLocale);
<a id="L934" name="L934"></a> 934         <a href="../D/32376.html" title="Multiple defined in 18 places.">setDefault</a>(<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2313" title="Defined at 2313 in src/java/util/Locale.java.">FORMAT</a>, newLocale);
<a id="L935" name="L935"></a> 935         defaultLocale = newLocale;
<a id="L936" name="L936"></a> 936     <em class="brace">}</em>
<a id="L937" name="L937"></a> 937 
<div class="comment">
      Sets the default locale for the specified Category for this instance
      of the Java Virtual Machine. This does not affect the host locale.
      <p>
      If there is a security manager, its checkPermission method is called
      with a PropertyPermission("user.language", "write") permission before
      the default locale is changed.
      </p><p>
      The Java Virtual Machine sets the default locale during startup based
      on the host environment. It is used by many locale-sensitive methods
      if no locale is explicitly specified.
      </p><p>
      Since changing the default locale may affect many different areas of
      functionality, this method should only be used if the caller is
      prepared to reinitialize locale-sensitive code running within the
      same Java Virtual Machine.
      </p><p>
      @param category - the specified category to set the default locale
      @param newLocale - the new default locale
      @throws SecurityException - if a security manager exists and its
          checkPermission method doesn't allow the operation.
      @throws NullPointerException - if category and/or newLocale is null
      @see SecurityManager#checkPermission(java.security.Permission)
      @see PropertyPermission
      @see #getDefault(Locale.Category)
      @since 1.7</p></div>
<a id="L966" name="L966"></a> 966     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/27182.html" title="Multiple referred from 13 places.">setDefault</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a> category,
<a id="L967" name="L967"></a> 967         <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> newLocale) <em class="brace">{</em>
<a id="L968" name="L968"></a> 968         <strong class="reserved">if</strong> (category == <strong class="reserved">null</strong>)
<a id="L969" name="L969"></a> 969             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Category cannot be NULL");
<a id="L970" name="L970"></a> 970         <strong class="reserved">if</strong> (newLocale == <strong class="reserved">null</strong>)
<a id="L971" name="L971"></a> 971             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Can't set default locale to NULL");
<a id="L972" name="L972"></a> 972 
<a id="L973" name="L973"></a> 973         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L974" name="L974"></a> 974         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/830.html#L91" title="Defined at 91 in src/java/util/PropertyPermission.java.">PropertyPermission</a>
<a id="L975" name="L975"></a> 975                         ("user.language", "write"));
<a id="L976" name="L976"></a> 976         <strong class="reserved">switch</strong> (category) <em class="brace">{</em>
<a id="L977" name="L977"></a> 977         <strong class="reserved">case</strong> <a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>:
<a id="L978" name="L978"></a> 978             defaultDisplayLocale = newLocale;
<a id="L979" name="L979"></a> 979             <strong class="reserved">break</strong>;
<a id="L980" name="L980"></a> 980         <strong class="reserved">case</strong> <a href="../S/1034.html#L2313" title="Defined at 2313 in src/java/util/Locale.java.">FORMAT</a>:
<a id="L981" name="L981"></a> 981             defaultFormatLocale = newLocale;
<a id="L982" name="L982"></a> 982             <strong class="reserved">break</strong>;
<a id="L983" name="L983"></a> 983         <strong class="reserved">default</strong>:
<a id="L984" name="L984"></a> 984             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <strong class="reserved">false</strong>: "Unknown Category";
<a id="L985" name="L985"></a> 985         <em class="brace">}</em>
<a id="L986" name="L986"></a> 986     <em class="brace">}</em>
<a id="L987" name="L987"></a> 987 
<div class="comment">
      Returns an array of all installed locales.
      The returned array represents the union of locales supported
      by the Java runtime environment and by installed
      {@link java.util.spi.LocaleServiceProvider LocaleServiceProvider}
      implementations.  It must contain at least a <code>Locale</code>
      instance equal to {@link java.util.Locale#US Locale.US}.
      @return An array of installed locales.</div>
<a id="L998" name="L998"></a> 998     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>[] <a href="../R/15199.html" title="Multiple referred from 12 places.">getAvailableLocales</a>() <em class="brace">{</em>
<a id="L999" name="L999"></a> 999         <strong class="reserved">return</strong> LocaleServiceProviderPool.getAllAvailableLocales();
<a id="L1000" name="L1000"></a>1000     <em class="brace">}</em>
<a id="L1001" name="L1001"></a>1001 
<div class="comment">
      Returns a list of all 2-letter country codes defined in ISO 3166.
      Can be used to create Locales.
      <p>
      <b>Note:</b> The <code>Locale</code> class also supports other codes for
      country (region), such as 3-letter numeric UN M.49 area codes.
      Therefore, the list returned by this method does not contain ALL valid
      codes that can be used to create Locales.
      @return An array of ISO 3166 two-letter country codes.</p></div>
<a id="L1013" name="L1013"></a>1013     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] getISOCountries() <em class="brace">{</em>
<a id="L1014" name="L1014"></a>1014         <strong class="reserved">if</strong> (isoCountries == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1015" name="L1015"></a>1015             isoCountries = <a href="../S/1034.html#L1047" title="Defined at 1047 in src/java/util/Locale.java.">getISO2Table</a>(<a href="../S/1132.html#L28" title="Defined at 28 in src/java/util/LocaleISOData.java.">LocaleISOData</a>.isoCountryTable);
<a id="L1016" name="L1016"></a>1016         <em class="brace">}</em>
<a id="L1017" name="L1017"></a>1017         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[isoCountries.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L1018" name="L1018"></a>1018         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(isoCountries, 0, <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, 0, isoCountries.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1019" name="L1019"></a>1019         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1020" name="L1020"></a>1020     <em class="brace">}</em>
<a id="L1021" name="L1021"></a>1021 
<div class="comment">
      Returns a list of all 2-letter language codes defined in ISO 639.
      Can be used to create Locales.
      <p>
      <b>Note:</b>
      </p><ul><li>ISO 639 is not a stable standardâ€” some languages' codes have changed.
      The list this function returns includes both the new and the old codes for the
      languages whose codes have changed.
      </li><li>The <code>Locale</code> class also supports language codes up to
      8 characters in length.  Therefore, the list returned by this method does
      not contain ALL valid codes that can be used to create Locales.
      </li></ul>
      @return Am array of ISO 639 two-letter language codes.</div>
<a id="L1038" name="L1038"></a>1038     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] getISOLanguages() <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039         <strong class="reserved">if</strong> (isoLanguages == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1040" name="L1040"></a>1040             isoLanguages = <a href="../S/1034.html#L1047" title="Defined at 1047 in src/java/util/Locale.java.">getISO2Table</a>(<a href="../S/1132.html#L28" title="Defined at 28 in src/java/util/LocaleISOData.java.">LocaleISOData</a>.isoLanguageTable);
<a id="L1041" name="L1041"></a>1041         <em class="brace">}</em>
<a id="L1042" name="L1042"></a>1042         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[isoLanguages.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L1043" name="L1043"></a>1043         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(isoLanguages, 0, <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, 0, isoLanguages.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1044" name="L1044"></a>1044         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1045" name="L1045"></a>1045     <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046 
<a id="L1047" name="L1047"></a>1047     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/16952.html" title="Multiple referred from 2 places.">getISO2Table</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> table) <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048         <strong class="reserved">int</strong> len = table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() / 5;
<a id="L1049" name="L1049"></a>1049         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] isoTable = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[len];
<a id="L1050" name="L1050"></a>1050         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0, j = 0; i &lt; len; i++, j += 5) <em class="brace">{</em>
<a id="L1051" name="L1051"></a>1051             isoTable[i] = table.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(j, j + 2);
<a id="L1052" name="L1052"></a>1052         <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053         <strong class="reserved">return</strong> isoTable;
<a id="L1054" name="L1054"></a>1054     <em class="brace">}</em>
<a id="L1055" name="L1055"></a>1055 
<div class="comment">
      Returns the language code of this Locale.
      <p><b>Note:</b> ISO 639 is not a stable standardâ€” some languages' codes have changed.
      Locale's constructor recognizes both the new and the old codes for the languages
      whose codes have changed, but this function always returns the old code.  If you
      want to check for a specific language whose code has changed, don't do
      </p><pre>      if (locale.getLanguage().equals("he")) // BAD!
         ...
      </pre>
      Instead, do
      <pre>      if (locale.getLanguage().equals(new Locale("he").getLanguage()))
         ...
      </pre>
      @return The language code, or the empty string if none is defined.
      @see #getDisplayLanguage</div>
<a id="L1075" name="L1075"></a>1075     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17268.html" title="Multiple referred from 37 places.">getLanguage</a>() <em class="brace">{</em>
<a id="L1076" name="L1076"></a>1076         <strong class="reserved">return</strong> baseLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>();
<a id="L1077" name="L1077"></a>1077     <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078 
<div class="comment">
      Returns the script for this locale, which should
      either be the empty string or an ISO 15924 4-letter script
      code. The first letter is uppercase and the rest are
      lowercase, for example, 'Latn', 'Cyrl'.
      @return The script code, or the empty string if none is defined.
      @see #getDisplayScript
      @since 1.7</div>
<a id="L1089" name="L1089"></a>1089     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18875.html" title="Multiple referred from 13 places.">getScript</a>() <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090         <strong class="reserved">return</strong> baseLocale.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>();
<a id="L1091" name="L1091"></a>1091     <em class="brace">}</em>
<a id="L1092" name="L1092"></a>1092 
<div class="comment">
      Returns the country/region code for this locale, which should
      either be the empty string, an uppercase ISO 3166 2-letter code,
      or a UN M.49 3-digit code.
      @return The country/region code, or the empty string if none is defined.
      @see #getDisplayCountry</div>
<a id="L1101" name="L1101"></a>1101     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15845.html" title="Multiple referred from 14 places.">getCountry</a>() <em class="brace">{</em>
<a id="L1102" name="L1102"></a>1102         <strong class="reserved">return</strong> baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>();
<a id="L1103" name="L1103"></a>1103     <em class="brace">}</em>
<a id="L1104" name="L1104"></a>1104 
<div class="comment">
      Returns the variant code for this locale.
      @return The variant code, or the empty string if none is defined.
      @see #getDisplayVariant</div>
<a id="L1111" name="L1111"></a>1111     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19781.html" title="Multiple referred from 18 places.">getVariant</a>() <em class="brace">{</em>
<a id="L1112" name="L1112"></a>1112         <strong class="reserved">return</strong> baseLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>();
<a id="L1113" name="L1113"></a>1113     <em class="brace">}</em>
<a id="L1114" name="L1114"></a>1114 
<div class="comment">
      Returns <code>true</code> if this <code>Locale</code> has any <a href="#def_extensions">
      extensions</a>.
      @return <code>true</code> if this <code>Locale</code> has any extensions
      @since 1.8</div>
<a id="L1122" name="L1122"></a>1122     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20197.html" title="Multiple referred from 7 places.">hasExtensions</a>() <em class="brace">{</em>
<a id="L1123" name="L1123"></a>1123         <strong class="reserved">return</strong> localeExtensions != <strong class="reserved">null</strong>;
<a id="L1124" name="L1124"></a>1124     <em class="brace">}</em>
<a id="L1125" name="L1125"></a>1125 
<div class="comment">
      Returns a copy of this <code>Locale</code> with no <a href="#def_extensions">
      extensions</a>. If this <code>Locale</code> has no extensions, this <code>Locale</code>
      is returned.
      @return a copy of this <code>Locale</code> with no extensions, or <code>this</code>
              if <code>this</code> has no extensions
      @since 1.8</div>
<a id="L1135" name="L1135"></a>1135     <strong class="reserved">public</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/28968.html" title="Multiple referred from 2 places.">stripExtensions</a>() <em class="brace">{</em>
<a id="L1136" name="L1136"></a>1136         <strong class="reserved">return</strong> <a href="../D/24093.html" title="Multiple defined in 2 places.">hasExtensions</a>() ? <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(baseLocale, <strong class="reserved">null</strong>) : <strong class="reserved">this</strong>;
<a id="L1137" name="L1137"></a>1137     <em class="brace">}</em>
<a id="L1138" name="L1138"></a>1138 
<div class="comment">
      Returns the extension (or private use) value associated with
      the specified key, or null if there is no extension
      associated with the key. To be well-formed, the key must be one
      of <code>[0-9A-Za-z]</code>. Keys are case-insensitive, so
      for example 'z' and 'Z' represent the same extension.
      @param key the extension key
      @return The extension, or null if this locale defines no
      extension for the specified key.
      @throws IllegalArgumentException if key is not well-formed
      @see #PRIVATE_USE_EXTENSION
      @see #UNICODE_LOCALE_EXTENSION
      @since 1.7</div>
<a id="L1154" name="L1154"></a>1154     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16506.html" title="Multiple referred from 2 places.">getExtension</a>(<strong class="reserved">char</strong> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155         <strong class="reserved">if</strong> (!LocaleExtensions.<a href="../S/858.html#L313" title="Defined at 313 in src/java/util/EnumMap.java.">isValidKey</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>)) <em class="brace">{</em>
<a id="L1156" name="L1156"></a>1156             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Ill-formed extension key: " + <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1157" name="L1157"></a>1157         <em class="brace">}</em>
<a id="L1158" name="L1158"></a>1158         <strong class="reserved">return</strong> <a href="../D/24093.html" title="Multiple defined in 2 places.">hasExtensions</a>() ? localeExtensions.<a href="../S/1308.html#L185" title="Defined at 185 in src/java/security/cert/X509Extension.java.">getExtensionValue</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) : <strong class="reserved">null</strong>;
<a id="L1159" name="L1159"></a>1159     <em class="brace">}</em>
<a id="L1160" name="L1160"></a>1160 
<div class="comment">
      Returns the set of extension keys associated with this locale, or the
      empty set if it has no extensions. The returned set is unmodifiable.
      The keys will all be lower-case.
      @return The set of extension keys, or the empty set if this locale has
      no extensions.
      @since 1.7</div>
<a id="L1170" name="L1170"></a>1170     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>&gt; getExtensionKeys() <em class="brace">{</em>
<a id="L1171" name="L1171"></a>1171         <strong class="reserved">if</strong> (!<a href="../D/24093.html" title="Multiple defined in 2 places.">hasExtensions</a>()) <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172             <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L1173" name="L1173"></a>1173         <em class="brace">}</em>
<a id="L1174" name="L1174"></a>1174         <strong class="reserved">return</strong> localeExtensions.<a href="../D/19965.html" title="Multiple defined in 6 places.">getKeys</a>();
<a id="L1175" name="L1175"></a>1175     <em class="brace">}</em>
<a id="L1176" name="L1176"></a>1176 
<div class="comment">
      Returns the set of unicode locale attributes associated with
      this locale, or the empty set if it has no attributes. The
      returned set is unmodifiable.
      @return The set of attributes.
      @since 1.7</div>
<a id="L1185" name="L1185"></a>1185     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/1034.html#L1189" title="Referred from 1189 in src/java/util/Locale.java.">getUnicodeLocaleAttributes</a>() <em class="brace">{</em>
<a id="L1186" name="L1186"></a>1186         <strong class="reserved">if</strong> (!<a href="../D/24093.html" title="Multiple defined in 2 places.">hasExtensions</a>()) <em class="brace">{</em>
<a id="L1187" name="L1187"></a>1187             <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L1188" name="L1188"></a>1188         <em class="brace">}</em>
<a id="L1189" name="L1189"></a>1189         <strong class="reserved">return</strong> localeExtensions.<a href="../S/1034.html#L1185" title="Defined at 1185 in src/java/util/Locale.java.">getUnicodeLocaleAttributes</a>();
<a id="L1190" name="L1190"></a>1190     <em class="brace">}</em>
<a id="L1191" name="L1191"></a>1191 
<div class="comment">
      Returns the Unicode locale type associated with the specified Unicode locale key
      for this locale. Returns the empty string for keys that are defined with no type.
      Returns null if the key is not defined. Keys are case-insensitive. The key must
      be two alphanumeric characters ([0-9a-zA-Z]), or an IllegalArgumentException is
      thrown.
      @param key the Unicode locale key
      @return The Unicode locale type associated with the key, or null if the
      locale does not define the key.
      @throws IllegalArgumentException if the key is not well-formed
      @throws NullPointerException if <code>key</code> is null
      @since 1.7</div>
<a id="L1206" name="L1206"></a>1206     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19677.html" title="Multiple referred from 4 places.">getUnicodeLocaleType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L1207" name="L1207"></a>1207         <strong class="reserved">if</strong> (!<a href="../S/1034.html#L2116" title="Defined at 2116 in src/java/util/Locale.java.">isUnicodeExtensionKey</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>)) <em class="brace">{</em>
<a id="L1208" name="L1208"></a>1208             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Ill-formed Unicode locale key: " + <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1209" name="L1209"></a>1209         <em class="brace">}</em>
<a id="L1210" name="L1210"></a>1210         <strong class="reserved">return</strong> <a href="../D/24093.html" title="Multiple defined in 2 places.">hasExtensions</a>() ? localeExtensions.<a href="../S/1034.html#L1206" title="Defined at 1206 in src/java/util/Locale.java.">getUnicodeLocaleType</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) : <strong class="reserved">null</strong>;
<a id="L1211" name="L1211"></a>1211     <em class="brace">}</em>
<a id="L1212" name="L1212"></a>1212 
<div class="comment">
      Returns the set of Unicode locale keys defined by this locale, or the empty set if
      this locale has none.  The returned set is immutable.  Keys are all lower case.
      @return The set of Unicode locale keys, or the empty set if this locale has
      no Unicode locale keywords.
      @since 1.7</div>
<a id="L1221" name="L1221"></a>1221     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/1034.html#L1225" title="Referred from 1225 in src/java/util/Locale.java.">getUnicodeLocaleKeys</a>() <em class="brace">{</em>
<a id="L1222" name="L1222"></a>1222         <strong class="reserved">if</strong> (localeExtensions == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1223" name="L1223"></a>1223             <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L1224" name="L1224"></a>1224         <em class="brace">}</em>
<a id="L1225" name="L1225"></a>1225         <strong class="reserved">return</strong> localeExtensions.<a href="../S/1034.html#L1221" title="Defined at 1221 in src/java/util/Locale.java.">getUnicodeLocaleKeys</a>();
<a id="L1226" name="L1226"></a>1226     <em class="brace">}</em>
<a id="L1227" name="L1227"></a>1227 
<div class="comment">
      Package locale method returning the Locale's BaseLocale,
      used by ResourceBundle
      @return base locale of this Locale</div>
<a id="L1233" name="L1233"></a>1233     BaseLocale <a href="../R/15225.html" title="Multiple referred from 3 places.">getBaseLocale</a>() <em class="brace">{</em>
<a id="L1234" name="L1234"></a>1234         <strong class="reserved">return</strong> baseLocale;
<a id="L1235" name="L1235"></a>1235     <em class="brace">}</em>
<a id="L1236" name="L1236"></a>1236 
<div class="comment">
      Package private method returning the Locale's LocaleExtensions,
      used by ResourceBundle.
      @return locale exnteions of this Locale,
              or <code>null</code> if no extensions are defined</div>
<a id="L1243" name="L1243"></a>1243      LocaleExtensions <a href="../R/17439.html" title="Multiple referred from 3 places.">getLocaleExtensions</a>() <em class="brace">{</em>
<a id="L1244" name="L1244"></a>1244          <strong class="reserved">return</strong> localeExtensions;
<a id="L1245" name="L1245"></a>1245      <em class="brace">}</em>
<a id="L1246" name="L1246"></a>1246 
<div class="comment">
      Returns a string representation of this <code>Locale</code>
      object, consisting of language, country, variant, script,
      and extensions as below:
      <blockquote>
      language + "_" + country + "_" + (variant + "_#" | "#") + script + "-" + extensions
      </blockquote>
      Language is always lower case, country is always upper case, script is always title
      case, and extensions are always lower case.  Extensions and private use subtags
      will be in canonical order as explained in <a href="#L1390" title="Defined at 1390.">toLanguageTag</a>.
      <p>When the locale has neither script nor extensions, the result is the same as in
      Java 6 and prior.
      </p><p>If both the language and country fields are missing, this function will return
      the empty string, even if the variant, script, or extensions field is present (you
      can't have a locale with just a variant, the variant must accompany a well-formed
      language or country code).
      </p><p>If script or extensions are present and variant is missing, no underscore is
      added before the "#".
      </p><p>This behavior is designed to support debugging and to be compatible with
      previous uses of <code>toString</code> that expected language, country, and variant
      fields only.  To represent a Locale as a String for interchange purposes, use
      <a href="#L1390" title="Defined at 1390.">toLanguageTag</a>.
      </p><p>Examples: </p><ul><li><tt>en</tt></li><li><tt>de_DE</tt></li><li><tt>_GB</tt></li><li><tt>en_US_WIN</tt></li><li><tt>de__POSIX</tt></li><li><tt>zh_CN_#Hans</tt></li><li><tt>zh_TW_#Hant-x-java</tt></li><li><tt>th_TH_TH_#u-nu-thai</tt></li></ul>
      @return A string representation of the Locale, for debugging.
      @see #getDisplayName
      @see #toLanguageTag</div>
<a id="L1289" name="L1289"></a>1289     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1290" name="L1290"></a>1290     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1291" name="L1291"></a>1291         <strong class="reserved">boolean</strong> l = (baseLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0);
<a id="L1292" name="L1292"></a>1292         <strong class="reserved">boolean</strong> s = (baseLocale.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0);
<a id="L1293" name="L1293"></a>1293         <strong class="reserved">boolean</strong> r = (baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0);
<a id="L1294" name="L1294"></a>1294         <strong class="reserved">boolean</strong> v = (baseLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0);
<a id="L1295" name="L1295"></a>1295         <strong class="reserved">boolean</strong> e = (localeExtensions != <strong class="reserved">null</strong> &amp;&amp; localeExtensions.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0);
<a id="L1296" name="L1296"></a>1296 
<a id="L1297" name="L1297"></a>1297         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(baseLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>());
<a id="L1298" name="L1298"></a>1298         <strong class="reserved">if</strong> (r || (l &amp;&amp; (v || s || e))) <em class="brace">{</em>
<a id="L1299" name="L1299"></a>1299             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_')
<a id="L1300" name="L1300"></a>1300                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>()); <em class="comment">// This may just append '_'</em>
<a id="L1301" name="L1301"></a>1301         <em class="brace">}</em>
<a id="L1302" name="L1302"></a>1302         <strong class="reserved">if</strong> (v &amp;&amp; (l || r)) <em class="brace">{</em>
<a id="L1303" name="L1303"></a>1303             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_')
<a id="L1304" name="L1304"></a>1304                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(baseLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>());
<a id="L1305" name="L1305"></a>1305         <em class="brace">}</em>
<a id="L1306" name="L1306"></a>1306 
<a id="L1307" name="L1307"></a>1307         <strong class="reserved">if</strong> (s &amp;&amp; (l || r)) <em class="brace">{</em>
<a id="L1308" name="L1308"></a>1308             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("_#")
<a id="L1309" name="L1309"></a>1309                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(baseLocale.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>());
<a id="L1310" name="L1310"></a>1310         <em class="brace">}</em>
<a id="L1311" name="L1311"></a>1311 
<a id="L1312" name="L1312"></a>1312         <strong class="reserved">if</strong> (e &amp;&amp; (l || r)) <em class="brace">{</em>
<a id="L1313" name="L1313"></a>1313             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_');
<a id="L1314" name="L1314"></a>1314             <strong class="reserved">if</strong> (!s) <em class="brace">{</em>
<a id="L1315" name="L1315"></a>1315                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('#');
<a id="L1316" name="L1316"></a>1316             <em class="brace">}</em>
<a id="L1317" name="L1317"></a>1317             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(localeExtensions.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>());
<a id="L1318" name="L1318"></a>1318         <em class="brace">}</em>
<a id="L1319" name="L1319"></a>1319 
<a id="L1320" name="L1320"></a>1320         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1321" name="L1321"></a>1321     <em class="brace">}</em>
<a id="L1322" name="L1322"></a>1322 
<div class="comment">
      Returns a well-formed IETF BCP 47 language tag representing
      this locale.
      <p>If this <code>Locale</code> has a language, country, or
      variant that does not satisfy the IETF BCP 47 language tag
      syntax requirements, this method handles these fields as
      described below:
      </p><p><b>Language:</b> If language is empty, or not <a href="#def_language">well-formed</a> (for example "a" or
      "e2"), it will be emitted as "und" (Undetermined).
      </p><p><b>Country:</b> If country is not <a href="#def_region">well-formed</a> (for example "12" or "USA"),
      it will be omitted.
      </p><p><b>Variant:</b> If variant <b>is</b> <a href="#def_variant">well-formed</a>, each sub-segment
      (delimited by '-' or '_') is emitted as a subtag.  Otherwise:
      </p><ul><li>if all sub-segments match <code>[0-9a-zA-Z]{1,8}</code>
      (for example "WIN" or "Oracle_JDK_Standard_Edition"), the first
      ill-formed sub-segment and all following will be appended to
      the private use subtag.  The first appended subtag will be
      "lvariant", followed by the sub-segments in order, separated by
      hyphen. For example, "x-lvariant-WIN",
      "Oracle-x-lvariant-JDK-Standard-Edition".
      </li><li>if any sub-segment does not match
      <code>[0-9a-zA-Z]{1,8}</code>, the variant will be truncated
      and the problematic sub-segment and all following sub-segments
      will be omitted.  If the remainder is non-empty, it will be
      emitted as a private use subtag as above (even if the remainder
      turns out to be well-formed).  For example,
      "Solaris_isjustthecoolestthing" is emitted as
      "x-lvariant-Solaris", not as "solaris".</li></ul>
      <p><b>Special Conversions:</b> Java supports some old locale
      representations, including deprecated ISO language codes,
      for compatibility. This method performs the following
      conversions:
      </p><ul><li>Deprecated ISO language codes "iw", "ji", and "in" are
      converted to "he", "yi", and "id", respectively.
      </li><li>A locale with language "no", country "NO", and variant
      "NY", representing Norwegian Nynorsk (Norway), is converted
      to a language tag "nn-NO".</li></ul>
      <p><b>Note:</b> Although the language tag created by this
      method is well-formed (satisfies the syntax requirements
      defined by the IETF BCP 47 specification), it is not
      necessarily a valid BCP 47 language tag.  For example,
      </p><pre>        new Locale("xx", "YY").toLanguageTag();</pre>
      will return "xx-YY", but the language subtag "xx" and the
      region subtag "YY" are invalid because they are not registered
      in the IANA Language Subtag Registry.
      @return a BCP47 language tag representing the locale
      @see #forLanguageTag(String)
      @since 1.7</div>
<a id="L1390" name="L1390"></a>1390     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> toLanguageTag() <em class="brace">{</em>
<a id="L1391" name="L1391"></a>1391         <strong class="reserved">if</strong> (languageTag != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1392" name="L1392"></a>1392             <strong class="reserved">return</strong> languageTag;
<a id="L1393" name="L1393"></a>1393         <em class="brace">}</em>
<a id="L1394" name="L1394"></a>1394 
<a id="L1395" name="L1395"></a>1395         LanguageTag tag = LanguageTag.parseLocale(baseLocale, localeExtensions);
<a id="L1396" name="L1396"></a>1396         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L1397" name="L1397"></a>1397 
<a id="L1398" name="L1398"></a>1398         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> subtag = tag.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>();
<a id="L1399" name="L1399"></a>1399         <strong class="reserved">if</strong> (subtag.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1400" name="L1400"></a>1400             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.canonicalizeLanguage(subtag));
<a id="L1401" name="L1401"></a>1401         <em class="brace">}</em>
<a id="L1402" name="L1402"></a>1402 
<a id="L1403" name="L1403"></a>1403         subtag = tag.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>();
<a id="L1404" name="L1404"></a>1404         <strong class="reserved">if</strong> (subtag.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1405" name="L1405"></a>1405             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.SEP);
<a id="L1406" name="L1406"></a>1406             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.canonicalizeScript(subtag));
<a id="L1407" name="L1407"></a>1407         <em class="brace">}</em>
<a id="L1408" name="L1408"></a>1408 
<a id="L1409" name="L1409"></a>1409         subtag = tag.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>();
<a id="L1410" name="L1410"></a>1410         <strong class="reserved">if</strong> (subtag.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1411" name="L1411"></a>1411             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.SEP);
<a id="L1412" name="L1412"></a>1412             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.canonicalizeRegion(subtag));
<a id="L1413" name="L1413"></a>1413         <em class="brace">}</em>
<a id="L1414" name="L1414"></a>1414 
<a id="L1415" name="L1415"></a>1415         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;subtags = tag.getVariants();
<a id="L1416" name="L1416"></a>1416         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s : subtags) <em class="brace">{</em>
<a id="L1417" name="L1417"></a>1417             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.SEP);
<a id="L1418" name="L1418"></a>1418             <em class="comment">// preserve casing</em>
<a id="L1419" name="L1419"></a>1419             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(s);
<a id="L1420" name="L1420"></a>1420         <em class="brace">}</em>
<a id="L1421" name="L1421"></a>1421 
<a id="L1422" name="L1422"></a>1422         subtags = tag.<a href="../D/18958.html" title="Multiple defined in 3 places.">getExtensions</a>();
<a id="L1423" name="L1423"></a>1423         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s : subtags) <em class="brace">{</em>
<a id="L1424" name="L1424"></a>1424             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.SEP);
<a id="L1425" name="L1425"></a>1425             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.canonicalizeExtension(s));
<a id="L1426" name="L1426"></a>1426         <em class="brace">}</em>
<a id="L1427" name="L1427"></a>1427 
<a id="L1428" name="L1428"></a>1428         subtag = tag.getPrivateuse();
<a id="L1429" name="L1429"></a>1429         <strong class="reserved">if</strong> (subtag.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1430" name="L1430"></a>1430             <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1431" name="L1431"></a>1431                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.SEP);
<a id="L1432" name="L1432"></a>1432             <em class="brace">}</em>
<a id="L1433" name="L1433"></a>1433             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.PRIVATEUSE).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(LanguageTag.SEP);
<a id="L1434" name="L1434"></a>1434             <em class="comment">// preserve casing</em>
<a id="L1435" name="L1435"></a>1435             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(subtag);
<a id="L1436" name="L1436"></a>1436         <em class="brace">}</em>
<a id="L1437" name="L1437"></a>1437 
<a id="L1438" name="L1438"></a>1438         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> langTag = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1439" name="L1439"></a>1439         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1440" name="L1440"></a>1440             <strong class="reserved">if</strong> (languageTag == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1441" name="L1441"></a>1441                 languageTag = langTag;
<a id="L1442" name="L1442"></a>1442             <em class="brace">}</em>
<a id="L1443" name="L1443"></a>1443         <em class="brace">}</em>
<a id="L1444" name="L1444"></a>1444         <strong class="reserved">return</strong> languageTag;
<a id="L1445" name="L1445"></a>1445     <em class="brace">}</em>
<a id="L1446" name="L1446"></a>1446 
<div class="comment">
      Returns a locale for the specified IETF BCP 47 language tag string.
      <p>If the specified language tag contains any ill-formed subtags,
      the first such subtag and all following subtags are ignored.  Compare
      to {@link Locale.Builder#setLanguageTag} which throws an exception
      in this case.
      </p><p>The following <b>conversions</b> are performed:</p><ul><li>The language code "und" is mapped to language "".
      </li><li>The language codes "he", "yi", and "id" are mapped to "iw",
      "ji", and "in" respectively. (This is the same canonicalization
      that's done in Locale's constructors.)
      </li><li>The portion of a private use subtag prefixed by "lvariant",
      if any, is removed and appended to the variant field in the
      result locale (without case normalization).  If it is then
      empty, the private use subtag is discarded:
      <pre>          Locale loc;
          loc = Locale.forLanguageTag("en-US-x-lvariant-POSIX");
          loc.getVariant(); // returns "POSIX"
          loc.getExtension('x'); // returns null
          loc = Locale.forLanguageTag("de-POSIX-x-URP-lvariant-Abc-Def");
          loc.getVariant(); // returns "POSIX_Abc_Def"
          loc.getExtension('x'); // returns "urp"
      </pre>
      </li><li>When the languageTag argument contains an extlang subtag,
      the first such subtag is used as the language, and the primary
      language subtag and other extlang subtags are ignored:
      <pre>          Locale.forLanguageTag("ar-aao").getLanguage(); // returns "aao"
          Locale.forLanguageTag("en-abc-def-us").toString(); // returns "abc_US"
      </pre>
      </li><li>Case is normalized except for variant tags, which are left
      unchanged.  Language is normalized to lower case, script to
      title case, country to upper case, and extensions to lower
      case.
      </li><li>If, after processing, the locale would exactly match either
      ja_JP_JP or th_TH_TH with no extensions, the appropriate
      extensions are added as though the constructor had been called:
      <pre>         Locale.forLanguageTag("ja-JP-x-lvariant-JP").toLanguageTag();
         // returns "ja-JP-u-ca-japanese-x-lvariant-JP"
         Locale.forLanguageTag("th-TH-x-lvariant-TH").toLanguageTag();
         // returns "th-TH-u-nu-thai-x-lvariant-TH"
      </pre></li></ul>
      <p>This implements the 'Language-Tag' production of BCP47, and
      so supports grandfathered (regular and irregular) as well as
      private use language tags.  Stand alone private use tags are
      represented as empty language and extension 'x-whatever',
      and grandfathered tags are converted to their canonical replacements
      where they exist.
      </p><p>Grandfathered tags with canonical replacements are as follows:
      </p><table summary="Grandfathered tags with canonical replacements">
      <tbody align="center">
      <tr><th>grandfathered tag</th><th>&nbsp;</th><th>modern replacement</th></tr>
      <tr><td>art-lojban</td><td>&nbsp;</td><td>jbo</td></tr>
      <tr><td>i-ami</td><td>&nbsp;</td><td>ami</td></tr>
      <tr><td>i-bnn</td><td>&nbsp;</td><td>bnn</td></tr>
      <tr><td>i-hak</td><td>&nbsp;</td><td>hak</td></tr>
      <tr><td>i-klingon</td><td>&nbsp;</td><td>tlh</td></tr>
      <tr><td>i-lux</td><td>&nbsp;</td><td>lb</td></tr>
      <tr><td>i-navajo</td><td>&nbsp;</td><td>nv</td></tr>
      <tr><td>i-pwn</td><td>&nbsp;</td><td>pwn</td></tr>
      <tr><td>i-tao</td><td>&nbsp;</td><td>tao</td></tr>
      <tr><td>i-tay</td><td>&nbsp;</td><td>tay</td></tr>
      <tr><td>i-tsu</td><td>&nbsp;</td><td>tsu</td></tr>
      <tr><td>no-bok</td><td>&nbsp;</td><td>nb</td></tr>
      <tr><td>no-nyn</td><td>&nbsp;</td><td>nn</td></tr>
      <tr><td>sgn-BE-FR</td><td>&nbsp;</td><td>sfb</td></tr>
      <tr><td>sgn-BE-NL</td><td>&nbsp;</td><td>vgt</td></tr>
      <tr><td>sgn-CH-DE</td><td>&nbsp;</td><td>sgg</td></tr>
      <tr><td>zh-guoyu</td><td>&nbsp;</td><td>cmn</td></tr>
      <tr><td>zh-hakka</td><td>&nbsp;</td><td>hak</td></tr>
      <tr><td>zh-min-nan</td><td>&nbsp;</td><td>nan</td></tr>
      <tr><td>zh-xiang</td><td>&nbsp;</td><td>hsn</td></tr>
      </tbody>
      </table>
      <p>Grandfathered tags with no modern replacement will be
      converted as follows:
      </p><table summary="Grandfathered tags with no modern replacement">
      <tbody align="center">
      <tr><th>grandfathered tag</th><th>&nbsp;</th><th>converts to</th></tr>
      <tr><td>cel-gaulish</td><td>&nbsp;</td><td>xtg-x-cel-gaulish</td></tr>
      <tr><td>en-GB-oed</td><td>&nbsp;</td><td>en-GB-x-oed</td></tr>
      <tr><td>i-default</td><td>&nbsp;</td><td>en-x-i-default</td></tr>
      <tr><td>i-enochian</td><td>&nbsp;</td><td>und-x-i-enochian</td></tr>
      <tr><td>i-mingo</td><td>&nbsp;</td><td>see-x-i-mingo</td></tr>
      <tr><td>zh-min</td><td>&nbsp;</td><td>nan-x-zh-min</td></tr>
      </tbody>
      </table>
      <p>For a list of all grandfathered tags, see the
      IANA Language Subtag Registry (search for "Type: grandfathered").
      </p><p><b>Note</b>: there is no guarantee that <code>toLanguageTag</code>
      and <code>forLanguageTag</code> will round-trip.
      @param languageTag the language tag
      @return The locale that best represents the language tag.
      @throws NullPointerException if <code>languageTag</code> is <code>null</code>
      @see #toLanguageTag()
      @see java.util.Locale.Builder#setLanguageTag(String)
      @since 1.7</p></div>
<a id="L1567" name="L1567"></a>1567     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../S/1507.html#L129" title="Referred from 129 in src/java/time/chrono/JapaneseChronology.java.">forLanguageTag</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> languageTag) <em class="brace">{</em>
<a id="L1568" name="L1568"></a>1568         LanguageTag tag = LanguageTag.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(languageTag, <strong class="reserved">null</strong>);
<a id="L1569" name="L1569"></a>1569         InternalLocaleBuilder bldr = <strong class="reserved">new</strong> InternalLocaleBuilder();
<a id="L1570" name="L1570"></a>1570         bldr.<a href="../S/1034.html#L2422" title="Defined at 2422 in src/java/util/Locale.java.">setLanguageTag</a>(tag);
<a id="L1571" name="L1571"></a>1571         BaseLocale base = bldr.<a href="../S/1034.html#L1233" title="Defined at 1233 in src/java/util/Locale.java.">getBaseLocale</a>();
<a id="L1572" name="L1572"></a>1572         LocaleExtensions exts = bldr.<a href="../S/1034.html#L1243" title="Defined at 1243 in src/java/util/Locale.java.">getLocaleExtensions</a>();
<a id="L1573" name="L1573"></a>1573         <strong class="reserved">if</strong> (exts == <strong class="reserved">null</strong> &amp;&amp; base.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1574" name="L1574"></a>1574             exts = <a href="../S/1034.html#L2233" title="Defined at 2233 in src/java/util/Locale.java.">getCompatibilityExtensions</a>(base.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>(), base.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>(),
<a id="L1575" name="L1575"></a>1575                                               base.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>(), base.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>());
<a id="L1576" name="L1576"></a>1576         <em class="brace">}</em>
<a id="L1577" name="L1577"></a>1577         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(base, exts);
<a id="L1578" name="L1578"></a>1578     <em class="brace">}</em>
<a id="L1579" name="L1579"></a>1579 
<div class="comment">
      Returns a three-letter abbreviation of this locale's language.
      If the language matches an ISO 639-1 two-letter code, the
      corresponding ISO 639-2/T three-letter lowercase code is
      returned.  The ISO 639-2 language codes can be found on-line,
      see "Codes for the Representation of Names of Languages Part 2:
      Alpha-3 Code".  If the locale specifies a three-letter
      language, the language is returned as is.  If the locale does
      not specify a language the empty string is returned.
      @return A three-letter abbreviation of this locale's language.
      @exception MissingResourceException Throws MissingResourceException if
      three-letter language abbreviation is not available for this locale.</div>
<a id="L1594" name="L1594"></a>1594     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getISO3Language() <strong class="reserved">throws</strong> <a href="../S/845.html#L51" title="Defined at 51 in src/java/util/MissingResourceException.java.">MissingResourceException</a> <em class="brace">{</em>
<a id="L1595" name="L1595"></a>1595         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lang = baseLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>();
<a id="L1596" name="L1596"></a>1596         <strong class="reserved">if</strong> (lang.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 3) <em class="brace">{</em>
<a id="L1597" name="L1597"></a>1597             <strong class="reserved">return</strong> lang;
<a id="L1598" name="L1598"></a>1598         <em class="brace">}</em>
<a id="L1599" name="L1599"></a>1599 
<a id="L1600" name="L1600"></a>1600         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language3 = <a href="../S/1034.html#L1630" title="Defined at 1630 in src/java/util/Locale.java.">getISO3Code</a>(lang, <a href="../S/1132.html#L28" title="Defined at 28 in src/java/util/LocaleISOData.java.">LocaleISOData</a>.isoLanguageTable);
<a id="L1601" name="L1601"></a>1601         <strong class="reserved">if</strong> (language3 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1602" name="L1602"></a>1602             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/845.html#L51" title="Defined at 51 in src/java/util/MissingResourceException.java.">MissingResourceException</a>("Couldn't find 3-letter language code for "
<a id="L1603" name="L1603"></a>1603                     + lang, "FormatData_" + <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), "ShortLanguage");
<a id="L1604" name="L1604"></a>1604         <em class="brace">}</em>
<a id="L1605" name="L1605"></a>1605         <strong class="reserved">return</strong> language3;
<a id="L1606" name="L1606"></a>1606     <em class="brace">}</em>
<a id="L1607" name="L1607"></a>1607 
<div class="comment">
      Returns a three-letter abbreviation for this locale's country.
      If the country matches an ISO 3166-1 alpha-2 code, the
      corresponding ISO 3166-1 alpha-3 uppercase code is returned.
      If the locale doesn't specify a country, this will be the empty
      string.
      <p>The ISO 3166-1 codes can be found on-line.
      @return A three-letter abbreviation of this locale's country.
      @exception MissingResourceException Throws MissingResourceException if the
      three-letter country abbreviation is not available for this locale.</p></div>
<a id="L1621" name="L1621"></a>1621     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getISO3Country() <strong class="reserved">throws</strong> <a href="../S/845.html#L51" title="Defined at 51 in src/java/util/MissingResourceException.java.">MissingResourceException</a> <em class="brace">{</em>
<a id="L1622" name="L1622"></a>1622         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country3 = <a href="../S/1034.html#L1630" title="Defined at 1630 in src/java/util/Locale.java.">getISO3Code</a>(baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>(), <a href="../S/1132.html#L28" title="Defined at 28 in src/java/util/LocaleISOData.java.">LocaleISOData</a>.isoCountryTable);
<a id="L1623" name="L1623"></a>1623         <strong class="reserved">if</strong> (country3 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1624" name="L1624"></a>1624             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/845.html#L51" title="Defined at 51 in src/java/util/MissingResourceException.java.">MissingResourceException</a>("Couldn't find 3-letter country code for "
<a id="L1625" name="L1625"></a>1625                     + baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>(), "FormatData_" + <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), "ShortCountry");
<a id="L1626" name="L1626"></a>1626         <em class="brace">}</em>
<a id="L1627" name="L1627"></a>1627         <strong class="reserved">return</strong> country3;
<a id="L1628" name="L1628"></a>1628     <em class="brace">}</em>
<a id="L1629" name="L1629"></a>1629 
<a id="L1630" name="L1630"></a>1630     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16953.html" title="Multiple referred from 2 places.">getISO3Code</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> iso2Code, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> table) <em class="brace">{</em>
<a id="L1631" name="L1631"></a>1631         <strong class="reserved">int</strong> codeLength = iso2Code.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L1632" name="L1632"></a>1632         <strong class="reserved">if</strong> (codeLength == 0) <em class="brace">{</em>
<a id="L1633" name="L1633"></a>1633             <strong class="reserved">return</strong> "";
<a id="L1634" name="L1634"></a>1634         <em class="brace">}</em>
<a id="L1635" name="L1635"></a>1635 
<a id="L1636" name="L1636"></a>1636         <strong class="reserved">int</strong> tableLength = table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L1637" name="L1637"></a>1637         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = tableLength;
<a id="L1638" name="L1638"></a>1638         <strong class="reserved">if</strong> (codeLength == 2) <em class="brace">{</em>
<a id="L1639" name="L1639"></a>1639             <strong class="reserved">char</strong> c1 = iso2Code.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L1640" name="L1640"></a>1640             <strong class="reserved">char</strong> c2 = iso2Code.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1);
<a id="L1641" name="L1641"></a>1641             <strong class="reserved">for</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; tableLength; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += 5) <em class="brace">{</em>
<a id="L1642" name="L1642"></a>1642                 <strong class="reserved">if</strong> (table.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) == c1
<a id="L1643" name="L1643"></a>1643                     &amp;&amp; table.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1) == c2) <em class="brace">{</em>
<a id="L1644" name="L1644"></a>1644                     <strong class="reserved">break</strong>;
<a id="L1645" name="L1645"></a>1645                 <em class="brace">}</em>
<a id="L1646" name="L1646"></a>1646             <em class="brace">}</em>
<a id="L1647" name="L1647"></a>1647         <em class="brace">}</em>
<a id="L1648" name="L1648"></a>1648         <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; tableLength ? table.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 5) : <strong class="reserved">null</strong>;
<a id="L1649" name="L1649"></a>1649     <em class="brace">}</em>
<a id="L1650" name="L1650"></a>1650 
<div class="comment">
      Returns a name for the locale's language that is appropriate for display to the
      user.
      If possible, the name returned will be localized for the default
      {@link Locale.Category#DISPLAY DISPLAY} locale.
      For example, if the locale is fr_FR and the default
      {@link Locale.Category#DISPLAY DISPLAY} locale
      is en_US, getDisplayLanguage() will return "French"; if the locale is en_US and
      the default {@link Locale.Category#DISPLAY DISPLAY} locale is fr_FR,
      getDisplayLanguage() will return "anglais".
      If the name returned cannot be localized for the default
      {@link Locale.Category#DISPLAY DISPLAY} locale,
      (say, we don't have a Japanese name for Croatian),
      this function falls back on the English name, and uses the ISO code as a last-resort
      value.  If the locale doesn't specify a language, this function returns the empty string.
      @return The name of the display language.</div>
<a id="L1669" name="L1669"></a>1669     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16187.html" title="Multiple referred from 3 places.">getDisplayLanguage</a>() <em class="brace">{</em>
<a id="L1670" name="L1670"></a>1670         <strong class="reserved">return</strong> <a href="../D/18517.html" title="Multiple defined in 3 places.">getDisplayLanguage</a>(<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>));
<a id="L1671" name="L1671"></a>1671     <em class="brace">}</em>
<a id="L1672" name="L1672"></a>1672 
<div class="comment">
      Returns a name for the locale's language that is appropriate for display to the
      user.
      If possible, the name returned will be localized according to inLocale.
      For example, if the locale is fr_FR and inLocale
      is en_US, getDisplayLanguage() will return "French"; if the locale is en_US and
      inLocale is fr_FR, getDisplayLanguage() will return "anglais".
      If the name returned cannot be localized according to inLocale,
      (say, we don't have a Japanese name for Croatian),
      this function falls back on the English name, and finally
      on the ISO code as a last-resort value.  If the locale doesn't specify a language,
      this function returns the empty string.
      @param inLocale The locale for which to retrieve the display language.
      @return The name of the display language appropriate to the given locale.
      @exception NullPointerException if <code>inLocale</code> is <code>null</code></div>
<a id="L1690" name="L1690"></a>1690     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16187.html" title="Multiple referred from 3 places.">getDisplayLanguage</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> inLocale) <em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691         <strong class="reserved">return</strong> <a href="../D/18527.html" title="Multiple defined in 2 places.">getDisplayString</a>(baseLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>(), inLocale, DISPLAY_LANGUAGE);
<a id="L1692" name="L1692"></a>1692     <em class="brace">}</em>
<a id="L1693" name="L1693"></a>1693 
<div class="comment">
      Returns a name for the the locale's script that is appropriate for display to
      the user. If possible, the name will be localized for the default
      {@link Locale.Category#DISPLAY DISPLAY} locale.  Returns
      the empty string if this locale doesn't specify a script code.
      @return the display name of the script code for the current default
          {@link Locale.Category#DISPLAY DISPLAY} locale
      @since 1.7</div>
<a id="L1704" name="L1704"></a>1704     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16194.html" title="Multiple referred from 3 places.">getDisplayScript</a>() <em class="brace">{</em>
<a id="L1705" name="L1705"></a>1705         <strong class="reserved">return</strong> <a href="../D/18525.html" title="Multiple defined in 3 places.">getDisplayScript</a>(<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>));
<a id="L1706" name="L1706"></a>1706     <em class="brace">}</em>
<a id="L1707" name="L1707"></a>1707 
<div class="comment">
      Returns a name for the locale's script that is appropriate
      for display to the user. If possible, the name will be
      localized for the given locale. Returns the empty string if
      this locale doesn't specify a script code.
      @param inLocale The locale for which to retrieve the display script.
      @return the display name of the script code for the current default
      {@link Locale.Category#DISPLAY DISPLAY} locale
      @throws NullPointerException if <code>inLocale</code> is <code>null</code>
      @since 1.7</div>
<a id="L1720" name="L1720"></a>1720     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16194.html" title="Multiple referred from 3 places.">getDisplayScript</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> inLocale) <em class="brace">{</em>
<a id="L1721" name="L1721"></a>1721         <strong class="reserved">return</strong> <a href="../D/18527.html" title="Multiple defined in 2 places.">getDisplayString</a>(baseLocale.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>(), inLocale, DISPLAY_SCRIPT);
<a id="L1722" name="L1722"></a>1722     <em class="brace">}</em>
<a id="L1723" name="L1723"></a>1723 
<div class="comment">
      Returns a name for the locale's country that is appropriate for display to the
      user.
      If possible, the name returned will be localized for the default
      {@link Locale.Category#DISPLAY DISPLAY} locale.
      For example, if the locale is fr_FR and the default
      {@link Locale.Category#DISPLAY DISPLAY} locale
      is en_US, getDisplayCountry() will return "France"; if the locale is en_US and
      the default {@link Locale.Category#DISPLAY DISPLAY} locale is fr_FR,
      getDisplayCountry() will return "Etats-Unis".
      If the name returned cannot be localized for the default
      {@link Locale.Category#DISPLAY DISPLAY} locale,
      (say, we don't have a Japanese name for Croatia),
      this function falls back on the English name, and uses the ISO code as a last-resort
      value.  If the locale doesn't specify a country, this function returns the empty string.
      @return The name of the country appropriate to the locale.</div>
<a id="L1742" name="L1742"></a>1742     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16185.html" title="Multiple referred from 3 places.">getDisplayCountry</a>() <em class="brace">{</em>
<a id="L1743" name="L1743"></a>1743         <strong class="reserved">return</strong> <a href="../D/18515.html" title="Multiple defined in 3 places.">getDisplayCountry</a>(<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>));
<a id="L1744" name="L1744"></a>1744     <em class="brace">}</em>
<a id="L1745" name="L1745"></a>1745 
<div class="comment">
      Returns a name for the locale's country that is appropriate for display to the
      user.
      If possible, the name returned will be localized according to inLocale.
      For example, if the locale is fr_FR and inLocale
      is en_US, getDisplayCountry() will return "France"; if the locale is en_US and
      inLocale is fr_FR, getDisplayCountry() will return "Etats-Unis".
      If the name returned cannot be localized according to inLocale.
      (say, we don't have a Japanese name for Croatia),
      this function falls back on the English name, and finally
      on the ISO code as a last-resort value.  If the locale doesn't specify a country,
      this function returns the empty string.
      @param inLocale The locale for which to retrieve the display country.
      @return The name of the country appropriate to the given locale.
      @exception NullPointerException if <code>inLocale</code> is <code>null</code></div>
<a id="L1763" name="L1763"></a>1763     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16185.html" title="Multiple referred from 3 places.">getDisplayCountry</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> inLocale) <em class="brace">{</em>
<a id="L1764" name="L1764"></a>1764         <strong class="reserved">return</strong> <a href="../D/18527.html" title="Multiple defined in 2 places.">getDisplayString</a>(baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>(), inLocale, DISPLAY_COUNTRY);
<a id="L1765" name="L1765"></a>1765     <em class="brace">}</em>
<a id="L1766" name="L1766"></a>1766 
<a id="L1767" name="L1767"></a>1767     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16196.html" title="Multiple referred from 5 places.">getDisplayString</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> code, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> inLocale, <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L1768" name="L1768"></a>1768         <strong class="reserved">if</strong> (code.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1769" name="L1769"></a>1769             <strong class="reserved">return</strong> "";
<a id="L1770" name="L1770"></a>1770         <em class="brace">}</em>
<a id="L1771" name="L1771"></a>1771 
<a id="L1772" name="L1772"></a>1772         <strong class="reserved">if</strong> (inLocale == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1773" name="L1773"></a>1773             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1774" name="L1774"></a>1774         <em class="brace">}</em>
<a id="L1775" name="L1775"></a>1775 
<a id="L1776" name="L1776"></a>1776         LocaleServiceProviderPool pool =
<a id="L1777" name="L1777"></a>1777             LocaleServiceProviderPool.<a href="../D/21526.html" title="Multiple defined in 2 places.">getPool</a>(<a href="../S/1032.html#L37" title="Defined at 37 in src/java/util/spi/LocaleNameProvider.java.">LocaleNameProvider</a>.<strong class="reserved">class</strong>);
<a id="L1778" name="L1778"></a>1778         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == DISPLAY_VARIANT ? "%%"+code : code);
<a id="L1779" name="L1779"></a>1779         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = pool.getLocalizedObject(
<a id="L1780" name="L1780"></a>1780                                 <a href="../S/1034.html#L2259" title="Defined at 2259 in src/java/util/Locale.java.">LocaleNameGetter</a>.INSTANCE,
<a id="L1781" name="L1781"></a>1781                                 inLocale, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, code);
<a id="L1782" name="L1782"></a>1782             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1783" name="L1783"></a>1783                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1784" name="L1784"></a>1784             <em class="brace">}</em>
<a id="L1785" name="L1785"></a>1785 
<a id="L1786" name="L1786"></a>1786         <strong class="reserved">return</strong> code;
<a id="L1787" name="L1787"></a>1787     <em class="brace">}</em>
<a id="L1788" name="L1788"></a>1788 
<div class="comment">
      Returns a name for the locale's variant code that is appropriate for display to the
      user.  If possible, the name will be localized for the default
      {@link Locale.Category#DISPLAY DISPLAY} locale.  If the locale
      doesn't specify a variant code, this function returns the empty string.
      @return The name of the display variant code appropriate to the locale.</div>
<a id="L1797" name="L1797"></a>1797     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16197.html" title="Multiple referred from 2 places.">getDisplayVariant</a>() <em class="brace">{</em>
<a id="L1798" name="L1798"></a>1798         <strong class="reserved">return</strong> <a href="../D/18528.html" title="Multiple defined in 3 places.">getDisplayVariant</a>(<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>));
<a id="L1799" name="L1799"></a>1799     <em class="brace">}</em>
<a id="L1800" name="L1800"></a>1800 
<div class="comment">
      Returns a name for the locale's variant code that is appropriate for display to the
      user.  If possible, the name will be localized for inLocale.  If the locale
      doesn't specify a variant code, this function returns the empty string.
      @param inLocale The locale for which to retrieve the display variant code.
      @return The name of the display variant code appropriate to the given locale.
      @exception NullPointerException if <code>inLocale</code> is <code>null</code></div>
<a id="L1810" name="L1810"></a>1810     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16197.html" title="Multiple referred from 2 places.">getDisplayVariant</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> inLocale) <em class="brace">{</em>
<a id="L1811" name="L1811"></a>1811         <strong class="reserved">if</strong> (baseLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)
<a id="L1812" name="L1812"></a>1812             <strong class="reserved">return</strong> "";
<a id="L1813" name="L1813"></a>1813 
<a id="L1814" name="L1814"></a>1814         LocaleResources lr = LocaleProviderAdapter.forJRE().getLocaleResources(inLocale);
<a id="L1815" name="L1815"></a>1815 
<a id="L1816" name="L1816"></a>1816         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> names[] = <a href="../S/1034.html#L2033" title="Defined at 2033 in src/java/util/Locale.java.">getDisplayVariantArray</a>(inLocale);
<a id="L1817" name="L1817"></a>1817 
<a id="L1818" name="L1818"></a>1818         <em class="comment">// Get the localized patterns for formatting a list, and use</em>
<a id="L1819" name="L1819"></a>1819         <em class="comment">// them to format the list.</em>
<a id="L1820" name="L1820"></a>1820         <strong class="reserved">return</strong> <a href="../S/1034.html#L2059" title="Defined at 2059 in src/java/util/Locale.java.">formatList</a>(names,
<a id="L1821" name="L1821"></a>1821                           lr.getLocaleName("ListPattern"),
<a id="L1822" name="L1822"></a>1822                           lr.getLocaleName("ListCompositionPattern"));
<a id="L1823" name="L1823"></a>1823     <em class="brace">}</em>
<a id="L1824" name="L1824"></a>1824 
<div class="comment">
      Returns a name for the locale that is appropriate for display to the
      user. This will be the values returned by getDisplayLanguage(),
      getDisplayScript(), getDisplayCountry(), and getDisplayVariant() assembled
      into a single string. The the non-empty values are used in order,
      with the second and subsequent names in parentheses.  For example:
      <blockquote>
      language (script, country, variant)<br>
      language (country)<br>
      language (variant)<br>
      script (country)<br>
      country<br>
      </blockquote>
      depending on which fields are specified in the locale.  If the
      language, script, country, and variant fields are all empty,
      this function returns the empty string.
      @return The name of the locale appropriate to display.</div>
<a id="L1844" name="L1844"></a>1844     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16189.html" title="Multiple referred from 20 places.">getDisplayName</a>() <em class="brace">{</em>
<a id="L1845" name="L1845"></a>1845         <strong class="reserved">return</strong> <a href="../D/18520.html" title="Multiple defined in 28 places.">getDisplayName</a>(<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(<a href="../D/1318.html" title="Multiple defined in 2 places.">Category</a>.<a href="../S/1034.html#L2304" title="Defined at 2304 in src/java/util/Locale.java.">DISPLAY</a>));
<a id="L1846" name="L1846"></a>1846     <em class="brace">}</em>
<a id="L1847" name="L1847"></a>1847 
<div class="comment">
      Returns a name for the locale that is appropriate for display
      to the user.  This will be the values returned by
      getDisplayLanguage(), getDisplayScript(),getDisplayCountry(),
      and getDisplayVariant() assembled into a single string.
      The non-empty values are used in order,
      with the second and subsequent names in parentheses.  For example:
      <blockquote>
      language (script, country, variant)<br>
      language (country)<br>
      language (variant)<br>
      script (country)<br>
      country<br>
      </blockquote>
      depending on which fields are specified in the locale.  If the
      language, script, country, and variant fields are all empty,
      this function returns the empty string.
      @param inLocale The locale for which to retrieve the display name.
      @return The name of the locale appropriate to display.
      @throws NullPointerException if <code>inLocale</code> is <code>null</code></div>
<a id="L1870" name="L1870"></a>1870     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16189.html" title="Multiple referred from 20 places.">getDisplayName</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> inLocale) <em class="brace">{</em>
<a id="L1871" name="L1871"></a>1871         LocaleResources lr =  LocaleProviderAdapter.forJRE().getLocaleResources(inLocale);
<a id="L1872" name="L1872"></a>1872 
<a id="L1873" name="L1873"></a>1873         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> languageName = <a href="../D/18517.html" title="Multiple defined in 3 places.">getDisplayLanguage</a>(inLocale);
<a id="L1874" name="L1874"></a>1874         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scriptName = <a href="../D/18525.html" title="Multiple defined in 3 places.">getDisplayScript</a>(inLocale);
<a id="L1875" name="L1875"></a>1875         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> countryName = <a href="../D/18515.html" title="Multiple defined in 3 places.">getDisplayCountry</a>(inLocale);
<a id="L1876" name="L1876"></a>1876         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] variantNames = <a href="../S/1034.html#L2033" title="Defined at 2033 in src/java/util/Locale.java.">getDisplayVariantArray</a>(inLocale);
<a id="L1877" name="L1877"></a>1877 
<a id="L1878" name="L1878"></a>1878         <em class="comment">// Get the localized patterns for formatting a display name.</em>
<a id="L1879" name="L1879"></a>1879         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> displayNamePattern = lr.getLocaleName("DisplayNamePattern");
<a id="L1880" name="L1880"></a>1880         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> listPattern = lr.getLocaleName("ListPattern");
<a id="L1881" name="L1881"></a>1881         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> listCompositionPattern = lr.getLocaleName("ListCompositionPattern");
<a id="L1882" name="L1882"></a>1882 
<a id="L1883" name="L1883"></a>1883         <em class="comment">// The display name consists of a main name, followed by qualifiers.</em>
<a id="L1884" name="L1884"></a>1884         <em class="comment">// Typically, the format is "MainName (Qualifier, Qualifier)" but this</em>
<a id="L1885" name="L1885"></a>1885         <em class="comment">// depends on what pattern is stored in the display locale.</em>
<a id="L1886" name="L1886"></a>1886         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>   mainName       = <strong class="reserved">null</strong>;
<a id="L1887" name="L1887"></a>1887         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] qualifierNames = <strong class="reserved">null</strong>;
<a id="L1888" name="L1888"></a>1888 
<a id="L1889" name="L1889"></a>1889         <em class="comment">// The main name is the language, or if there is no language, the script,</em>
<a id="L1890" name="L1890"></a>1890         <em class="comment">// then if no script, the country. If there is no language/script/country</em>
<a id="L1891" name="L1891"></a>1891         <em class="comment">// (an anomalous situation) then the display name is simply the variant's</em>
<a id="L1892" name="L1892"></a>1892         <em class="comment">// display name.</em>
<a id="L1893" name="L1893"></a>1893         <strong class="reserved">if</strong> (languageName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0 &amp;&amp; scriptName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0 &amp;&amp; countryName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1894" name="L1894"></a>1894             <strong class="reserved">if</strong> (variantNames.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L1895" name="L1895"></a>1895                 <strong class="reserved">return</strong> "";
<a id="L1896" name="L1896"></a>1896             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1897" name="L1897"></a>1897                 <strong class="reserved">return</strong> <a href="../S/1034.html#L2059" title="Defined at 2059 in src/java/util/Locale.java.">formatList</a>(variantNames, listPattern, listCompositionPattern);
<a id="L1898" name="L1898"></a>1898             <em class="brace">}</em>
<a id="L1899" name="L1899"></a>1899         <em class="brace">}</em>
<a id="L1900" name="L1900"></a>1900         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; names = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;(4);
<a id="L1901" name="L1901"></a>1901         <strong class="reserved">if</strong> (languageName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0) <em class="brace">{</em>
<a id="L1902" name="L1902"></a>1902             names.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(languageName);
<a id="L1903" name="L1903"></a>1903         <em class="brace">}</em>
<a id="L1904" name="L1904"></a>1904         <strong class="reserved">if</strong> (scriptName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0) <em class="brace">{</em>
<a id="L1905" name="L1905"></a>1905             names.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(scriptName);
<a id="L1906" name="L1906"></a>1906         <em class="brace">}</em>
<a id="L1907" name="L1907"></a>1907         <strong class="reserved">if</strong> (countryName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0) <em class="brace">{</em>
<a id="L1908" name="L1908"></a>1908             names.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(countryName);
<a id="L1909" name="L1909"></a>1909         <em class="brace">}</em>
<a id="L1910" name="L1910"></a>1910         <strong class="reserved">if</strong> (variantNames.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != 0) <em class="brace">{</em>
<a id="L1911" name="L1911"></a>1911             names.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>(variantNames));
<a id="L1912" name="L1912"></a>1912         <em class="brace">}</em>
<a id="L1913" name="L1913"></a>1913 
<a id="L1914" name="L1914"></a>1914         <em class="comment">// The first one in the main name</em>
<a id="L1915" name="L1915"></a>1915         mainName = names.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(0);
<a id="L1916" name="L1916"></a>1916 
<a id="L1917" name="L1917"></a>1917         <em class="comment">// Others are qualifiers</em>
<a id="L1918" name="L1918"></a>1918         <strong class="reserved">int</strong> numNames = names.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1919" name="L1919"></a>1919         qualifierNames = (numNames &gt; 1) ?
<a id="L1920" name="L1920"></a>1920                 names.<a href="../D/34984.html" title="Multiple defined in 17 places.">subList</a>(1, numNames).<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[numNames - 1]) : <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[0];
<a id="L1921" name="L1921"></a>1921 
<a id="L1922" name="L1922"></a>1922         <em class="comment">// Create an array whose first element is the number of remaining</em>
<a id="L1923" name="L1923"></a>1923         <em class="comment">// elements.  This serves as a selector into a ChoiceFormat pattern from</em>
<a id="L1924" name="L1924"></a>1924         <em class="comment">// the resource.  The second and third elements are the main name and</em>
<a id="L1925" name="L1925"></a>1925         <em class="comment">// the qualifier; if there are no qualifiers, the third element is</em>
<a id="L1926" name="L1926"></a>1926         <em class="comment">// unused by the format pattern.</em>
<a id="L1927" name="L1927"></a>1927         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] displayNames = <em class="brace">{</em>
<a id="L1928" name="L1928"></a>1928             <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(qualifierNames.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != 0 ? 2 : 1),
<a id="L1929" name="L1929"></a>1929             mainName,
<a id="L1930" name="L1930"></a>1930             <em class="comment">// We could also just call formatList() and have it handle the empty</em>
<a id="L1931" name="L1931"></a>1931             <em class="comment">// list case, but this is more efficient, and we want it to be</em>
<a id="L1932" name="L1932"></a>1932             <em class="comment">// efficient since all the language-only locales will not have any</em>
<a id="L1933" name="L1933"></a>1933             <em class="comment">// qualifiers.</em>
<a id="L1934" name="L1934"></a>1934             qualifierNames.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != 0 ? <a href="../S/1034.html#L2059" title="Defined at 2059 in src/java/util/Locale.java.">formatList</a>(qualifierNames, listPattern, listCompositionPattern) : <strong class="reserved">null</strong>
<a id="L1935" name="L1935"></a>1935         <em class="brace">}</em>;
<a id="L1936" name="L1936"></a>1936 
<a id="L1937" name="L1937"></a>1937         <strong class="reserved">if</strong> (displayNamePattern != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1938" name="L1938"></a>1938             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a>(displayNamePattern).<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(displayNames);
<a id="L1939" name="L1939"></a>1939         <em class="brace">}</em>
<a id="L1940" name="L1940"></a>1940         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1941" name="L1941"></a>1941             <em class="comment">// If we cannot get the message format pattern, then we use a simple</em>
<a id="L1942" name="L1942"></a>1942             <em class="comment">// hard-coded pattern.  This should not occur in practice unless the</em>
<a id="L1943" name="L1943"></a>1943             <em class="comment">// installation is missing some core files (FormatData etc.).</em>
<a id="L1944" name="L1944"></a>1944             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L1945" name="L1945"></a>1945             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)displayNames[1]);
<a id="L1946" name="L1946"></a>1946             <strong class="reserved">if</strong> (displayNames.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 2) <em class="brace">{</em>
<a id="L1947" name="L1947"></a>1947                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(" (");
<a id="L1948" name="L1948"></a>1948                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)displayNames[2]);
<a id="L1949" name="L1949"></a>1949                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(')');
<a id="L1950" name="L1950"></a>1950             <em class="brace">}</em>
<a id="L1951" name="L1951"></a>1951             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1952" name="L1952"></a>1952         <em class="brace">}</em>
<a id="L1953" name="L1953"></a>1953     <em class="brace">}</em>
<a id="L1954" name="L1954"></a>1954 
<div class="comment">
      Overrides Cloneable.</div>
<a id="L1958" name="L1958"></a>1958     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1959" name="L1959"></a>1959     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>()
<a id="L1960" name="L1960"></a>1960     <em class="brace">{</em>
<a id="L1961" name="L1961"></a>1961         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1962" name="L1962"></a>1962             <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> that = (<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>)<strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1963" name="L1963"></a>1963             <strong class="reserved">return</strong> that;
<a id="L1964" name="L1964"></a>1964         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L1965" name="L1965"></a>1965             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(e);
<a id="L1966" name="L1966"></a>1966         <em class="brace">}</em>
<a id="L1967" name="L1967"></a>1967     <em class="brace">}</em>
<a id="L1968" name="L1968"></a>1968 
<div class="comment">
      Override hashCode.
      Since Locales are often used in hashtables, caches the value
      for speed.</div>
<a id="L1974" name="L1974"></a>1974     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1975" name="L1975"></a>1975     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L1976" name="L1976"></a>1976         <strong class="reserved">int</strong> hc = hashCodeValue;
<a id="L1977" name="L1977"></a>1977         <strong class="reserved">if</strong> (hc == 0) <em class="brace">{</em>
<a id="L1978" name="L1978"></a>1978             hc = baseLocale.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L1979" name="L1979"></a>1979             <strong class="reserved">if</strong> (localeExtensions != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1980" name="L1980"></a>1980                 hc ^= localeExtensions.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L1981" name="L1981"></a>1981             <em class="brace">}</em>
<a id="L1982" name="L1982"></a>1982             hashCodeValue = hc;
<a id="L1983" name="L1983"></a>1983         <em class="brace">}</em>
<a id="L1984" name="L1984"></a>1984         <strong class="reserved">return</strong> hc;
<a id="L1985" name="L1985"></a>1985     <em class="brace">}</em>
<a id="L1986" name="L1986"></a>1986 
<a id="L1987" name="L1987"></a>1987     <em class="comment">// Overrides</em>
<a id="L1988" name="L1988"></a>1988 
<div class="comment">
      Returns true if this Locale is equal to another object.  A Locale is
      deemed equal to another Locale with identical language, script, country,
      variant and extensions, and unequal to all other objects.
      @return true if this Locale is equal to the specified object.</div>
<a id="L1996" name="L1996"></a>1996     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1997" name="L1997"></a>1997     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L1998" name="L1998"></a>1998         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj)                      <em class="comment">// quick check</em>
<a id="L1999" name="L1999"></a>1999             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2000" name="L2000"></a>2000         <strong class="reserved">if</strong> (!(obj <strong class="reserved">instanceof</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>))
<a id="L2001" name="L2001"></a>2001             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2002" name="L2002"></a>2002         BaseLocale otherBase = ((<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>)obj).baseLocale;
<a id="L2003" name="L2003"></a>2003         <strong class="reserved">if</strong> (!baseLocale.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherBase)) <em class="brace">{</em>
<a id="L2004" name="L2004"></a>2004             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2005" name="L2005"></a>2005         <em class="brace">}</em>
<a id="L2006" name="L2006"></a>2006         <strong class="reserved">if</strong> (localeExtensions == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2007" name="L2007"></a>2007             <strong class="reserved">return</strong> ((<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>)obj).localeExtensions == <strong class="reserved">null</strong>;
<a id="L2008" name="L2008"></a>2008         <em class="brace">}</em>
<a id="L2009" name="L2009"></a>2009         <strong class="reserved">return</strong> localeExtensions.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(((<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>)obj).localeExtensions);
<a id="L2010" name="L2010"></a>2010     <em class="brace">}</em>
<a id="L2011" name="L2011"></a>2011 
<a id="L2012" name="L2012"></a>2012     <em class="comment">// ================= privates =====================================</em>
<a id="L2013" name="L2013"></a>2013 
<a id="L2014" name="L2014"></a>2014     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> BaseLocale baseLocale;
<a id="L2015" name="L2015"></a>2015     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> LocaleExtensions localeExtensions;
<a id="L2016" name="L2016"></a>2016 
<div class="comment">
      Calculated hashcode</div>
<a id="L2020" name="L2020"></a>2020     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">volatile</strong> <strong class="reserved">int</strong> hashCodeValue = 0;
<a id="L2021" name="L2021"></a>2021 
<a id="L2022" name="L2022"></a>2022     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> defaultLocale = <a href="../D/24522.html" title="Multiple defined in 2 places.">initDefault</a>();
<a id="L2023" name="L2023"></a>2023     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> defaultDisplayLocale = <strong class="reserved">null</strong>;
<a id="L2024" name="L2024"></a>2024     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> defaultFormatLocale = <strong class="reserved">null</strong>;
<a id="L2025" name="L2025"></a>2025 
<a id="L2026" name="L2026"></a>2026     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">volatile</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> languageTag;
<a id="L2027" name="L2027"></a>2027 
<div class="comment">
      Return an array of the display names of the variant.
      @param bundle the ResourceBundle to use to get the display names
      @return an array of display names, possible of zero length.</div>
<a id="L2033" name="L2033"></a>2033     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/16198.html" title="Multiple referred from 2 places.">getDisplayVariantArray</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> inLocale) <em class="brace">{</em>
<a id="L2034" name="L2034"></a>2034         <em class="comment">// Split the variant name into tokens separated by '_'.</em>
<a id="L2035" name="L2035"></a>2035         <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a> tokenizer = <strong class="reserved">new</strong> <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a>(baseLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>(), "_");
<a id="L2036" name="L2036"></a>2036         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] names = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[tokenizer.<a href="../S/939.html#L419" title="Defined at 419 in src/java/util/StringTokenizer.java.">countTokens</a>()];
<a id="L2037" name="L2037"></a>2037 
<a id="L2038" name="L2038"></a>2038         <em class="comment">// For each variant token, lookup the display name.  If</em>
<a id="L2039" name="L2039"></a>2039         <em class="comment">// not found, use the variant name itself.</em>
<a id="L2040" name="L2040"></a>2040         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;names.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++i) <em class="brace">{</em>
<a id="L2041" name="L2041"></a>2041             names[i] = <a href="../D/18527.html" title="Multiple defined in 2 places.">getDisplayString</a>(tokenizer.<a href="../D/28195.html" title="Multiple defined in 10 places.">nextToken</a>(),
<a id="L2042" name="L2042"></a>2042                                 inLocale, DISPLAY_VARIANT);
<a id="L2043" name="L2043"></a>2043         <em class="brace">}</em>
<a id="L2044" name="L2044"></a>2044 
<a id="L2045" name="L2045"></a>2045         <strong class="reserved">return</strong> names;
<a id="L2046" name="L2046"></a>2046     <em class="brace">}</em>
<a id="L2047" name="L2047"></a>2047 
<div class="comment">
      Format a list using given pattern strings.
      If either of the patterns is null, then a the list is
      formatted by concatenation with the delimiter ','.
      @param stringList the list of strings to be formatted.
      @param listPattern should create a MessageFormat taking 0-3 arguments
      and formatting them into a list.
      @param listCompositionPattern should take 2 arguments
      and is used by composeList.
      @return a string representing the list.</div>
<a id="L2059" name="L2059"></a>2059     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14754.html" title="Multiple referred from 3 places.">formatList</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] stringList, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> listPattern, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> listCompositionPattern) <em class="brace">{</em>
<a id="L2060" name="L2060"></a>2060         <em class="comment">// If we have no list patterns, compose the list in a simple,</em>
<a id="L2061" name="L2061"></a>2061         <em class="comment">// non-localized way.</em>
<a id="L2062" name="L2062"></a>2062         <strong class="reserved">if</strong> (listPattern == <strong class="reserved">null</strong> || listCompositionPattern == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2063" name="L2063"></a>2063             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L2064" name="L2064"></a>2064             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; stringList.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++i) <em class="brace">{</em>
<a id="L2065" name="L2065"></a>2065                 <strong class="reserved">if</strong> (i &gt; 0) <em class="brace">{</em>
<a id="L2066" name="L2066"></a>2066                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(',');
<a id="L2067" name="L2067"></a>2067                 <em class="brace">}</em>
<a id="L2068" name="L2068"></a>2068                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(stringList[i]);
<a id="L2069" name="L2069"></a>2069             <em class="brace">}</em>
<a id="L2070" name="L2070"></a>2070             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2071" name="L2071"></a>2071         <em class="brace">}</em>
<a id="L2072" name="L2072"></a>2072 
<a id="L2073" name="L2073"></a>2073         <em class="comment">// Compose the list down to three elements if necessary</em>
<a id="L2074" name="L2074"></a>2074         <strong class="reserved">if</strong> (stringList.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 3) <em class="brace">{</em>
<a id="L2075" name="L2075"></a>2075             <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <strong class="reserved">new</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a>(listCompositionPattern);
<a id="L2076" name="L2076"></a>2076             stringList = <a href="../S/1034.html#L2098" title="Defined at 2098 in src/java/util/Locale.java.">composeList</a>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>, stringList);
<a id="L2077" name="L2077"></a>2077         <em class="brace">}</em>
<a id="L2078" name="L2078"></a>2078 
<a id="L2079" name="L2079"></a>2079         <em class="comment">// Rebuild the argument list with the list length as the first element</em>
<a id="L2080" name="L2080"></a>2080         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] args = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[stringList.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + 1];
<a id="L2081" name="L2081"></a>2081         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(stringList, 0, args, 1, stringList.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2082" name="L2082"></a>2082         args[0] = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(stringList.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2083" name="L2083"></a>2083 
<a id="L2084" name="L2084"></a>2084         <em class="comment">// Format it using the pattern in the resource</em>
<a id="L2085" name="L2085"></a>2085         <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <strong class="reserved">new</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a>(listPattern);
<a id="L2086" name="L2086"></a>2086         <strong class="reserved">return</strong> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(args);
<a id="L2087" name="L2087"></a>2087     <em class="brace">}</em>
<a id="L2088" name="L2088"></a>2088 
<div class="comment">
      Given a list of strings, return a list shortened to three elements.
      Shorten it by applying the given format to the first two elements
      recursively.
      @param format a format which takes two arguments
      @param list a list of strings
      @return if the list is three elements or shorter, the same list;
      otherwise, a new list of three elements.</div>
<a id="L2098" name="L2098"></a>2098     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/11799.html" title="Multiple referred from 2 places.">composeList</a>(<a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) <em class="brace">{</em>
<a id="L2099" name="L2099"></a>2099         <strong class="reserved">if</strong> (<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt;= 3) <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>;
<a id="L2100" name="L2100"></a>2100 
<a id="L2101" name="L2101"></a>2101         <em class="comment">// Use the given format to compose the first two elements into one</em>
<a id="L2102" name="L2102"></a>2102         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] listItems = <em class="brace">{</em> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>[0], <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>[1] <em class="brace">}</em>;
<a id="L2103" name="L2103"></a>2103         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newItem = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(listItems);
<a id="L2104" name="L2104"></a>2104 
<a id="L2105" name="L2105"></a>2105         <em class="comment">// Form a new list one element shorter</em>
<a id="L2106" name="L2106"></a>2106         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1];
<a id="L2107" name="L2107"></a>2107         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>, 2, <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>, 1, <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1);
<a id="L2108" name="L2108"></a>2108         <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>[0] = newItem;
<a id="L2109" name="L2109"></a>2109 
<a id="L2110" name="L2110"></a>2110         <em class="comment">// Recurse</em>
<a id="L2111" name="L2111"></a>2111         <strong class="reserved">return</strong> <a href="../S/1034.html#L2098" title="Defined at 2098 in src/java/util/Locale.java.">composeList</a>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>, <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>);
<a id="L2112" name="L2112"></a>2112     <em class="brace">}</em>
<a id="L2113" name="L2113"></a>2113 
<a id="L2114" name="L2114"></a>2114     <em class="comment">// Duplicate of sun.util.locale.UnicodeLocaleExtension.isKey in order to</em>
<a id="L2115" name="L2115"></a>2115     <em class="comment">// avoid its class loading.</em>
<a id="L2116" name="L2116"></a>2116     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/1034.html#L1207" title="Referred from 1207 in src/java/util/Locale.java.">isUnicodeExtensionKey</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <em class="brace">{</em>
<a id="L2117" name="L2117"></a>2117         <em class="comment">// 2alphanum</em>
<a id="L2118" name="L2118"></a>2118         <strong class="reserved">return</strong> (s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 2) &amp;&amp; LocaleUtils.isAlphaNumericString(s);
<a id="L2119" name="L2119"></a>2119     <em class="brace">}</em>
<a id="L2120" name="L2120"></a>2120 
<div class="comment">
      @serialField language    String
           language subtag in lower case. (See <a href="java/util/Locale.html#getLanguage()">getLanguage()</a>)
      @serialField country     String
           country subtag in upper case. (See <a href="java/util/Locale.html#getCountry()">getCountry()</a>)
      @serialField variant     String
           variant subtags separated by LOWLINE characters. (See <a href="java/util/Locale.html#getVariant()">getVariant()</a>)
      @serialField hashcode    int
           deprecated, for forward compatibility only
      @serialField script      String
           script subtag in title case (See <a href="java/util/Locale.html#getScript()">getScript()</a>)
      @serialField extensions  String
           canonical representation of extensions, that is,
           BCP47 extensions in alphabetical order followed by
           BCP47 private use subtags, all in lower case letters
           separated by HYPHEN-MINUS characters.
           (See <a href="java/util/Locale.html#getExtensionKeys()">getExtensionKeys()</a>,
           <a href="java/util/Locale.html#getExtension(char)">getExtension(char)</a>)</div>
<a id="L2140" name="L2140"></a>2140     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>[] serialPersistentFields = <em class="brace">{</em>
<a id="L2141" name="L2141"></a>2141         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("language", <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>),
<a id="L2142" name="L2142"></a>2142         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("country", <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>),
<a id="L2143" name="L2143"></a>2143         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("variant", <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>),
<a id="L2144" name="L2144"></a>2144         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("hashcode", <strong class="reserved">int</strong>.<strong class="reserved">class</strong>),
<a id="L2145" name="L2145"></a>2145         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("script", <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>),
<a id="L2146" name="L2146"></a>2146         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("extensions", <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>),
<a id="L2147" name="L2147"></a>2147     <em class="brace">}</em>;
<a id="L2148" name="L2148"></a>2148 
<div class="comment">
      Serializes this <code>Locale</code> to the specified <code>ObjectOutputStream</code>.
      @param out the <code>ObjectOutputStream</code> to write
      @throws IOException
      @since 1.7</div>
<a id="L2155" name="L2155"></a>2155     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2156" name="L2156"></a>2156         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L2157" name="L2157"></a>2157         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("language", baseLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>());
<a id="L2158" name="L2158"></a>2158         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("script", baseLocale.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>());
<a id="L2159" name="L2159"></a>2159         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("country", baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>());
<a id="L2160" name="L2160"></a>2160         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("variant", baseLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>());
<a id="L2161" name="L2161"></a>2161         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("extensions", localeExtensions == <strong class="reserved">null</strong> ? "" : localeExtensions.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>());
<a id="L2162" name="L2162"></a>2162         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("hashcode", -1); <em class="comment">// place holder just for backward support</em>
<a id="L2163" name="L2163"></a>2163         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L2164" name="L2164"></a>2164     <em class="brace">}</em>
<a id="L2165" name="L2165"></a>2165 
<div class="comment">
      Deserializes this <code>Locale</code>.
      @param in the <code>ObjectInputStream</code> to read
      @throws IOException
      @throws ClassNotFoundException
      @throws IllformedLocaleException
      @since 1.7</div>
<a id="L2174" name="L2174"></a>2174     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L2175" name="L2175"></a>2175         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L2176" name="L2176"></a>2176         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("language", "");
<a id="L2177" name="L2177"></a>2177         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> script = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("script", "");
<a id="L2178" name="L2178"></a>2178         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("country", "");
<a id="L2179" name="L2179"></a>2179         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("variant", "");
<a id="L2180" name="L2180"></a>2180         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> extStr = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("extensions", "");
<a id="L2181" name="L2181"></a>2181         baseLocale = BaseLocale.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../S/1034.html#L2218" title="Defined at 2218 in src/java/util/Locale.java.">convertOldISOCodes</a>(language), script, country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2182" name="L2182"></a>2182         <strong class="reserved">if</strong> (extStr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2183" name="L2183"></a>2183             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2184" name="L2184"></a>2184                 InternalLocaleBuilder bldr = <strong class="reserved">new</strong> InternalLocaleBuilder();
<a id="L2185" name="L2185"></a>2185                 bldr.setExtensions(extStr);
<a id="L2186" name="L2186"></a>2186                 localeExtensions = bldr.<a href="../S/1034.html#L1243" title="Defined at 1243 in src/java/util/Locale.java.">getLocaleExtensions</a>();
<a id="L2187" name="L2187"></a>2187             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2188" name="L2188"></a>2188                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L2189" name="L2189"></a>2189             <em class="brace">}</em>
<a id="L2190" name="L2190"></a>2190         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2191" name="L2191"></a>2191             localeExtensions = <strong class="reserved">null</strong>;
<a id="L2192" name="L2192"></a>2192         <em class="brace">}</em>
<a id="L2193" name="L2193"></a>2193     <em class="brace">}</em>
<a id="L2194" name="L2194"></a>2194 
<div class="comment">
      Returns a cached <code>Locale</code> instance equivalent to
      the deserialized <code>Locale</code>. When serialized
      language, country and variant fields read from the object data stream
      are exactly "ja", "JP", "JP" or "th", "TH", "TH" and script/extensions
      fields are empty, this method supplies <code>UNICODE_LOCALE_EXTENSION</code>
      "ca"/"japanese" (calendar type is "japanese") or "nu"/"thai" (number script
      type is "thai"). See <a href="Locale.html#special_cases_constructor">Special Cases</a>
      for more information.
      @return an instance of <code>Locale</code> equivalent to
      the deserialized <code>Locale</code>.
      @throws java.io.ObjectStreamException</div>
<a id="L2209" name="L2209"></a>2209     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6954.html#L419" title="Referred from 419 in src/com/sun/corba/se/impl/io/IIOPInputStream.java.">readResolve</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1384.html#L34" title="Defined at 34 in src/java/io/ObjectStreamException.java.">ObjectStreamException</a> <em class="brace">{</em>
<a id="L2210" name="L2210"></a>2210         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(baseLocale.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>(), baseLocale.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>(),
<a id="L2211" name="L2211"></a>2211                 baseLocale.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>(), baseLocale.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>(), localeExtensions);
<a id="L2212" name="L2212"></a>2212     <em class="brace">}</em>
<a id="L2213" name="L2213"></a>2213 
<a id="L2214" name="L2214"></a>2214     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] isoLanguages = <strong class="reserved">null</strong>;
<a id="L2215" name="L2215"></a>2215 
<a id="L2216" name="L2216"></a>2216     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] isoCountries = <strong class="reserved">null</strong>;
<a id="L2217" name="L2217"></a>2217 
<a id="L2218" name="L2218"></a>2218     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/12045.html" title="Multiple referred from 2 places.">convertOldISOCodes</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language) <em class="brace">{</em>
<a id="L2219" name="L2219"></a>2219         <em class="comment">// we accept both the old and the new ISO codes for the languages whose ISO</em>
<a id="L2220" name="L2220"></a>2220         <em class="comment">// codes have changed, but we always store the OLD code, for backward compatibility</em>
<a id="L2221" name="L2221"></a>2221         language = LocaleUtils.toLowerString(language).<a href="../S/1729.html#L3167" title="Defined at 3167 in src/java/lang/String.java.">intern</a>();
<a id="L2222" name="L2222"></a>2222         <strong class="reserved">if</strong> (language == "he") <em class="brace">{</em>
<a id="L2223" name="L2223"></a>2223             <strong class="reserved">return</strong> "iw";
<a id="L2224" name="L2224"></a>2224         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (language == "yi") <em class="brace">{</em>
<a id="L2225" name="L2225"></a>2225             <strong class="reserved">return</strong> "ji";
<a id="L2226" name="L2226"></a>2226         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (language == "id") <em class="brace">{</em>
<a id="L2227" name="L2227"></a>2227             <strong class="reserved">return</strong> "in";
<a id="L2228" name="L2228"></a>2228         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2229" name="L2229"></a>2229             <strong class="reserved">return</strong> language;
<a id="L2230" name="L2230"></a>2230         <em class="brace">}</em>
<a id="L2231" name="L2231"></a>2231     <em class="brace">}</em>
<a id="L2232" name="L2232"></a>2232 
<a id="L2233" name="L2233"></a>2233     <strong class="reserved">private</strong> <strong class="reserved">static</strong> LocaleExtensions <a href="../R/15706.html" title="Multiple referred from 4 places.">getCompatibilityExtensions</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language,
<a id="L2234" name="L2234"></a>2234                                                                <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> script,
<a id="L2235" name="L2235"></a>2235                                                                <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country,
<a id="L2236" name="L2236"></a>2236                                                                <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>) <em class="brace">{</em>
<a id="L2237" name="L2237"></a>2237         LocaleExtensions extensions = <strong class="reserved">null</strong>;
<a id="L2238" name="L2238"></a>2238         <em class="comment">// Special cases for backward compatibility support</em>
<a id="L2239" name="L2239"></a>2239         <strong class="reserved">if</strong> (LocaleUtils.caseIgnoreMatch(language, "ja")
<a id="L2240" name="L2240"></a>2240                 &amp;&amp; script.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0
<a id="L2241" name="L2241"></a>2241                 &amp;&amp; LocaleUtils.caseIgnoreMatch(country, "jp")
<a id="L2242" name="L2242"></a>2242                 &amp;&amp; "JP".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>)) <em class="brace">{</em>
<a id="L2243" name="L2243"></a>2243             <em class="comment">// ja_JP_JP -&gt; u-ca-japanese (calendar = japanese)</em>
<a id="L2244" name="L2244"></a>2244             extensions = LocaleExtensions.CALENDAR_JAPANESE;
<a id="L2245" name="L2245"></a>2245         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (LocaleUtils.caseIgnoreMatch(language, "th")
<a id="L2246" name="L2246"></a>2246                 &amp;&amp; script.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0
<a id="L2247" name="L2247"></a>2247                 &amp;&amp; LocaleUtils.caseIgnoreMatch(country, "th")
<a id="L2248" name="L2248"></a>2248                 &amp;&amp; "TH".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>)) <em class="brace">{</em>
<a id="L2249" name="L2249"></a>2249             <em class="comment">// th_TH_TH -&gt; u-nu-thai (numbersystem = thai)</em>
<a id="L2250" name="L2250"></a>2250             extensions = LocaleExtensions.NUMBER_THAI;
<a id="L2251" name="L2251"></a>2251         <em class="brace">}</em>
<a id="L2252" name="L2252"></a>2252         <strong class="reserved">return</strong> extensions;
<a id="L2253" name="L2253"></a>2253     <em class="brace">}</em>
<a id="L2254" name="L2254"></a>2254 
<div class="comment">
      Obtains a localized locale names from a LocaleNameProvider
      implementation.</div>
<a id="L2259" name="L2259"></a>2259     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/4698.html" title="Multiple referred from 2 places.">LocaleNameGetter</a>
<a id="L2260" name="L2260"></a>2260         <strong class="reserved">implements</strong> LocaleServiceProviderPool.LocalizedObjectGetter&lt;<a href="../S/1032.html#L37" title="Defined at 37 in src/java/util/spi/LocaleNameProvider.java.">LocaleNameProvider</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <em class="brace">{</em>
<a id="L2261" name="L2261"></a>2261         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1034.html#L2259" title="Defined at 2259 in src/java/util/Locale.java.">LocaleNameGetter</a> INSTANCE = <strong class="reserved">new</strong> <a href="../S/1034.html#L2259" title="Defined at 2259 in src/java/util/Locale.java.">LocaleNameGetter</a>();
<a id="L2262" name="L2262"></a>2262 
<a id="L2263" name="L2263"></a>2263         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2264" name="L2264"></a>2264         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18085.html" title="Multiple referred from 30 places.">getObject</a>(<a href="../S/1032.html#L37" title="Defined at 37 in src/java/util/spi/LocaleNameProvider.java.">LocaleNameProvider</a> localeNameProvider,
<a id="L2265" name="L2265"></a>2265                                 <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L2266" name="L2266"></a>2266                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L2267" name="L2267"></a>2267                                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>... <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>) <em class="brace">{</em>
<a id="L2268" name="L2268"></a>2268             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 2;
<a id="L2269" name="L2269"></a>2269             <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)<a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>[0];
<a id="L2270" name="L2270"></a>2270             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> code = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>[1];
<a id="L2271" name="L2271"></a>2271 
<a id="L2272" name="L2272"></a>2272             <strong class="reserved">switch</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2273" name="L2273"></a>2273             <strong class="reserved">case</strong> DISPLAY_LANGUAGE:
<a id="L2274" name="L2274"></a>2274                 <strong class="reserved">return</strong> localeNameProvider.<a href="../D/18517.html" title="Multiple defined in 3 places.">getDisplayLanguage</a>(code, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L2275" name="L2275"></a>2275             <strong class="reserved">case</strong> DISPLAY_COUNTRY:
<a id="L2276" name="L2276"></a>2276                 <strong class="reserved">return</strong> localeNameProvider.<a href="../D/18515.html" title="Multiple defined in 3 places.">getDisplayCountry</a>(code, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L2277" name="L2277"></a>2277             <strong class="reserved">case</strong> DISPLAY_VARIANT:
<a id="L2278" name="L2278"></a>2278                 <strong class="reserved">return</strong> localeNameProvider.<a href="../D/18528.html" title="Multiple defined in 3 places.">getDisplayVariant</a>(code, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L2279" name="L2279"></a>2279             <strong class="reserved">case</strong> DISPLAY_SCRIPT:
<a id="L2280" name="L2280"></a>2280                 <strong class="reserved">return</strong> localeNameProvider.<a href="../D/18525.html" title="Multiple defined in 3 places.">getDisplayScript</a>(code, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L2281" name="L2281"></a>2281             <strong class="reserved">default</strong>:
<a id="L2282" name="L2282"></a>2282                 <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <strong class="reserved">false</strong>; <em class="comment">// shouldn't happen</em>
<a id="L2283" name="L2283"></a>2283             <em class="brace">}</em>
<a id="L2284" name="L2284"></a>2284 
<a id="L2285" name="L2285"></a>2285             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2286" name="L2286"></a>2286         <em class="brace">}</em>
<a id="L2287" name="L2287"></a>2287     <em class="brace">}</em>
<a id="L2288" name="L2288"></a>2288 
<div class="comment">
      Enum for locale categories.  These locale categories are used to get/set
      the default locale for the specific functionality represented by the
      category.
      @see #getDefault(Locale.Category)
      @see #setDefault(Locale.Category, Locale)
      @since 1.7</div>
<a id="L2298" name="L2298"></a>2298     <strong class="reserved">public</strong> <strong class="reserved">enum</strong> <a href="../R/1200.html" title="Multiple referred from 57 places.">Category</a> <em class="brace">{</em>
<a id="L2299" name="L2299"></a>2299 
<div class="comment">
          Category used to represent the default locale for
          displaying user interfaces.</div>
<a id="L2304" name="L2304"></a>2304         <a href="../R/1861.html" title="Multiple referred from 14 places.">DISPLAY</a>("user.language.display",
<a id="L2305" name="L2305"></a>2305                 "user.script.display",
<a id="L2306" name="L2306"></a>2306                 "user.country.display",
<a id="L2307" name="L2307"></a>2307                 "user.variant.display"),
<a id="L2308" name="L2308"></a>2308 
<div class="comment">
          Category used to represent the default locale for
          formatting dates, numbers, and/or currencies.</div>
<a id="L2313" name="L2313"></a>2313         <a href="../R/2845.html" title="Multiple referred from 49 places.">FORMAT</a>("user.language.format",
<a id="L2314" name="L2314"></a>2314                "user.script.format",
<a id="L2315" name="L2315"></a>2315                "user.country.format",
<a id="L2316" name="L2316"></a>2316                "user.variant.format");
<a id="L2317" name="L2317"></a>2317 
<a id="L2318" name="L2318"></a>2318         Category(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> languageKey, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scriptKey, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> countryKey, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> variantKey) <em class="brace">{</em>
<a id="L2319" name="L2319"></a>2319             <strong class="reserved">this</strong>.languageKey = languageKey;
<a id="L2320" name="L2320"></a>2320             <strong class="reserved">this</strong>.scriptKey = scriptKey;
<a id="L2321" name="L2321"></a>2321             <strong class="reserved">this</strong>.countryKey = countryKey;
<a id="L2322" name="L2322"></a>2322             <strong class="reserved">this</strong>.variantKey = variantKey;
<a id="L2323" name="L2323"></a>2323         <em class="brace">}</em>
<a id="L2324" name="L2324"></a>2324 
<a id="L2325" name="L2325"></a>2325         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> languageKey;
<a id="L2326" name="L2326"></a>2326         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scriptKey;
<a id="L2327" name="L2327"></a>2327         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> countryKey;
<a id="L2328" name="L2328"></a>2328         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> variantKey;
<a id="L2329" name="L2329"></a>2329     <em class="brace">}</em>
<a id="L2330" name="L2330"></a>2330 
<div class="comment">
      <code>Builder</code> is used to build instances of <code>Locale</code>
      from values configured by the setters.  Unlike the <code>Locale</code>
      constructors, the <code>Builder</code> checks if a value configured by a
      setter satisfies the syntax requirements defined by the <code>Locale</code>
      class.  A <code>Locale</code> object created by a <code>Builder</code> is
      well-formed and can be transformed to a well-formed IETF BCP 47 language tag
      without losing information.
      <p><b>Note:</b> The <code>Locale</code> class does not provide any
      syntactic restrictions on variant, while BCP 47 requires each variant
      subtag to be 5 to 8 alphanumerics or a single numeric followed by 3
      alphanumerics.  The method <code>setVariant</code> throws
      <code>IllformedLocaleException</code> for a variant that does not satisfy
      this restriction. If it is necessary to support such a variant, use a
      Locale constructor.  However, keep in mind that a <code>Locale</code>
      object created this way might lose the variant information when
      transformed to a BCP 47 language tag.
      </p><p>The following example shows how to create a <code>Locale</code> object
      with the <code>Builder</code>.
      </p><blockquote>
      <pre>          Locale aLocale = new Builder().setLanguage("sr").setScript("Latn").setRegion("RS").build();
      </pre>
      </blockquote>
      <p>Builders can be reused; <code>clear()</code> resets all
      fields to their default values.
      @see Locale#forLanguageTag
      @since 1.7</p></div>
<a id="L2364" name="L2364"></a>2364     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/932.html" title="Multiple referred from 91 places.">Builder</a> <em class="brace">{</em>
<a id="L2365" name="L2365"></a>2365         <strong class="reserved">private</strong> <strong class="reserved">final</strong> InternalLocaleBuilder localeBuilder;
<a id="L2366" name="L2366"></a>2366 
<div class="comment">
          Constructs an empty Builder. The default value of all
          fields, extensions, and private use information is the
          empty string.</div>
<a id="L2372" name="L2372"></a>2372         <strong class="reserved">public</strong> Builder() <em class="brace">{</em>
<a id="L2373" name="L2373"></a>2373             localeBuilder = <strong class="reserved">new</strong> InternalLocaleBuilder();
<a id="L2374" name="L2374"></a>2374         <em class="brace">}</em>
<a id="L2375" name="L2375"></a>2375 
<div class="comment">
          Resets the <code>Builder</code> to match the provided
          <code>locale</code>.  Existing state is discarded.
          <p>All fields of the locale must be well-formed, see <a href="../R/4695.html" title="Multiple referred from 1141 places.">Locale</a>.
          </p><p>Locales with any ill-formed fields cause
          <code>IllformedLocaleException</code> to be thrown, except for the
          following three cases which are accepted for compatibility
          reasons:</p><ul><li>Locale("ja", "JP", "JP") is treated as "ja-JP-u-ca-japanese"
          </li><li>Locale("th", "TH", "TH") is treated as "th-TH-u-nu-thai"
          </li><li>Locale("no", "NO", "NY") is treated as "nn-NO"</li></ul>
          @param locale the locale
          @return This builder.
          @throws IllformedLocaleException if <code>locale</code> has
          any ill-formed fields.
          @throws NullPointerException if <code>locale</code> is null.</div>
<a id="L2396" name="L2396"></a>2396         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../R/27688.html" title="Multiple referred from 47 places.">setLocale</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L2397" name="L2397"></a>2397             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2398" name="L2398"></a>2398                 localeBuilder.<a href="../D/33132.html" title="Multiple defined in 36 places.">setLocale</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.baseLocale, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.localeExtensions);
<a id="L2399" name="L2399"></a>2399             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2400" name="L2400"></a>2400                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2401" name="L2401"></a>2401             <em class="brace">}</em>
<a id="L2402" name="L2402"></a>2402             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2403" name="L2403"></a>2403         <em class="brace">}</em>
<a id="L2404" name="L2404"></a>2404 
<div class="comment">
          Resets the Builder to match the provided IETF BCP 47
          language tag.  Discards the existing state.  Null and the
          empty string cause the builder to be reset, like {@link
          #clear}.  Grandfathered tags (see {@link
          Locale#forLanguageTag}) are converted to their canonical
          form before being processed.  Otherwise, the language tag
          must be well-formed (see <a href="../R/4695.html" title="Multiple referred from 1141 places.">Locale</a>) or an exception is
          thrown (unlike <code>Locale.forLanguageTag</code>, which
          just discards ill-formed and following portions of the
          tag).
          @param languageTag the language tag
          @return This builder.
          @throws IllformedLocaleException if <code>languageTag</code> is ill-formed
          @see Locale#forLanguageTag(String)</div>
<a id="L2422" name="L2422"></a>2422         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../R/27633.html" title="Multiple referred from 2 places.">setLanguageTag</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> languageTag) <em class="brace">{</em>
<a id="L2423" name="L2423"></a>2423             ParseStatus sts = <strong class="reserved">new</strong> ParseStatus();
<a id="L2424" name="L2424"></a>2424             LanguageTag tag = LanguageTag.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(languageTag, sts);
<a id="L2425" name="L2425"></a>2425             <strong class="reserved">if</strong> (sts.<a href="../D/25516.html" title="Multiple defined in 2 places.">isError</a>()) <em class="brace">{</em>
<a id="L2426" name="L2426"></a>2426                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(sts.<a href="../S/6100.html#L311" title="Defined at 311 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/ErrorMsg.java.">getErrorMessage</a>(), sts.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2427" name="L2427"></a>2427             <em class="brace">}</em>
<a id="L2428" name="L2428"></a>2428             localeBuilder.<a href="../S/1034.html#L2422" title="Defined at 2422 in src/java/util/Locale.java.">setLanguageTag</a>(tag);
<a id="L2429" name="L2429"></a>2429             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2430" name="L2430"></a>2430         <em class="brace">}</em>
<a id="L2431" name="L2431"></a>2431 
<div class="comment">
          Sets the language.  If <code>language</code> is the empty string or
          null, the language in this <code>Builder</code> is removed.  Otherwise,
          the language must be <a href="./Locale.html#def_language">well-formed</a>
          or an exception is thrown.
          <p>The typical language value is a two or three-letter language
          code as defined in ISO639.
          @param language the language
          @return This builder.
          @throws IllformedLocaleException if <code>language</code> is ill-formed</p></div>
<a id="L2445" name="L2445"></a>2445         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2447" title="Referred from 2447 in src/java/util/Locale.java.">setLanguage</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language) <em class="brace">{</em>
<a id="L2446" name="L2446"></a>2446             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2447" name="L2447"></a>2447                 localeBuilder.<a href="../S/1034.html#L2445" title="Defined at 2445 in src/java/util/Locale.java.">setLanguage</a>(language);
<a id="L2448" name="L2448"></a>2448             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2449" name="L2449"></a>2449                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2450" name="L2450"></a>2450             <em class="brace">}</em>
<a id="L2451" name="L2451"></a>2451             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2452" name="L2452"></a>2452         <em class="brace">}</em>
<a id="L2453" name="L2453"></a>2453 
<div class="comment">
          Sets the script. If <code>script</code> is null or the empty string,
          the script in this <code>Builder</code> is removed.
          Otherwise, the script must be <a href="./Locale.html#def_script">well-formed</a> or an
          exception is thrown.
          <p>The typical script value is a four-letter script code as defined by ISO 15924.
          @param script the script
          @return This builder.
          @throws IllformedLocaleException if <code>script</code> is ill-formed</p></div>
<a id="L2466" name="L2466"></a>2466         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2468" title="Referred from 2468 in src/java/util/Locale.java.">setScript</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> script) <em class="brace">{</em>
<a id="L2467" name="L2467"></a>2467             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2468" name="L2468"></a>2468                 localeBuilder.<a href="../S/1034.html#L2466" title="Defined at 2466 in src/java/util/Locale.java.">setScript</a>(script);
<a id="L2469" name="L2469"></a>2469             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2470" name="L2470"></a>2470                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2471" name="L2471"></a>2471             <em class="brace">}</em>
<a id="L2472" name="L2472"></a>2472             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2473" name="L2473"></a>2473         <em class="brace">}</em>
<a id="L2474" name="L2474"></a>2474 
<div class="comment">
          Sets the region.  If region is null or the empty string, the region
          in this <code>Builder</code> is removed.  Otherwise,
          the region must be <a href="./Locale.html#def_region">well-formed</a> or an
          exception is thrown.
          <p>The typical region value is a two-letter ISO 3166 code or a
          three-digit UN M.49 area code.
          </p><p>The country value in the <code>Locale</code> created by the
          <code>Builder</code> is always normalized to upper case.
          @param region the region
          @return This builder.
          @throws IllformedLocaleException if <code>region</code> is ill-formed</p></div>
<a id="L2491" name="L2491"></a>2491         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2493" title="Referred from 2493 in src/java/util/Locale.java.">setRegion</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>) <em class="brace">{</em>
<a id="L2492" name="L2492"></a>2492             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2493" name="L2493"></a>2493                 localeBuilder.<a href="../S/1034.html#L2491" title="Defined at 2491 in src/java/util/Locale.java.">setRegion</a>(<a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>);
<a id="L2494" name="L2494"></a>2494             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2495" name="L2495"></a>2495                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2496" name="L2496"></a>2496             <em class="brace">}</em>
<a id="L2497" name="L2497"></a>2497             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2498" name="L2498"></a>2498         <em class="brace">}</em>
<a id="L2499" name="L2499"></a>2499 
<div class="comment">
          Sets the variant.  If variant is null or the empty string, the
          variant in this <code>Builder</code> is removed.  Otherwise, it
          must consist of one or more <a href="./Locale.html#def_variant">well-formed</a>
          subtags, or an exception is thrown.
          <p><b>Note:</b> This method checks if <code>variant</code>
          satisfies the IETF BCP 47 variant subtag's syntax requirements,
          and normalizes the value to lowercase letters.  However,
          the <code>Locale</code> class does not impose any syntactic
          restriction on variant, and the variant value in
          <code>Locale</code> is case sensitive.  To set such a variant,
          use a Locale constructor.
          @param variant the variant
          @return This builder.
          @throws IllformedLocaleException if <code>variant</code> is ill-formed</p></div>
<a id="L2518" name="L2518"></a>2518         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2520" title="Referred from 2520 in src/java/util/Locale.java.">setVariant</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>) <em class="brace">{</em>
<a id="L2519" name="L2519"></a>2519             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2520" name="L2520"></a>2520                 localeBuilder.<a href="../S/1034.html#L2518" title="Defined at 2518 in src/java/util/Locale.java.">setVariant</a>(<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2521" name="L2521"></a>2521             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2522" name="L2522"></a>2522                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2523" name="L2523"></a>2523             <em class="brace">}</em>
<a id="L2524" name="L2524"></a>2524             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2525" name="L2525"></a>2525         <em class="brace">}</em>
<a id="L2526" name="L2526"></a>2526 
<div class="comment">
          Sets the extension for the given key. If the value is null or the
          empty string, the extension is removed.  Otherwise, the extension
          must be <a href="./Locale.html#def_extensions">well-formed</a> or an exception
          is thrown.
          <p><b>Note:</b> The key {@link Locale#UNICODE_LOCALE_EXTENSION
          UNICODE_LOCALE_EXTENSION} ('u') is used for the Unicode locale extension.
          Setting a value for this key replaces any existing Unicode locale key/type
          pairs with those defined in the extension.
          </p><p><b>Note:</b> The key {@link Locale#PRIVATE_USE_EXTENSION
          PRIVATE_USE_EXTENSION} ('x') is used for the private use code. To be
          well-formed, the value for this key needs only to have subtags of one to
          eight alphanumeric characters, not two to eight as in the general case.
          @param key the extension key
          @param value the extension value
          @return This builder.
          @throws IllformedLocaleException if <code>key</code> is illegal
          or <code>value</code> is ill-formed
          @see #setUnicodeLocaleKeyword(String, String)</p></div>
<a id="L2550" name="L2550"></a>2550         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2552" title="Referred from 2552 in src/java/util/Locale.java.">setExtension</a>(<strong class="reserved">char</strong> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2551" name="L2551"></a>2551             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2552" name="L2552"></a>2552                 localeBuilder.<a href="../S/1034.html#L2550" title="Defined at 2550 in src/java/util/Locale.java.">setExtension</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L2553" name="L2553"></a>2553             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2554" name="L2554"></a>2554                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2555" name="L2555"></a>2555             <em class="brace">}</em>
<a id="L2556" name="L2556"></a>2556             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2557" name="L2557"></a>2557         <em class="brace">}</em>
<a id="L2558" name="L2558"></a>2558 
<div class="comment">
          Sets the Unicode locale keyword type for the given key.  If the type
          is null, the Unicode keyword is removed.  Otherwise, the key must be
          non-null and both key and type must be <a href="./Locale.html#def_locale_extension">well-formed</a> or an exception
          is thrown.
          <p>Keys and types are converted to lower case.
          </p><p><b>Note</b>:Setting the 'u' extension via <a href="#L2550" title="Defined at 2550.">setExtension</a>
          replaces all Unicode locale keywords with those defined in the
          extension.
          @param key the Unicode locale key
          @param type the Unicode locale type
          @return This builder.
          @throws IllformedLocaleException if <code>key</code> or <code>type</code>
          is ill-formed
          @throws NullPointerException if <code>key</code> is null
          @see #setExtension(char, String)</p></div>
<a id="L2580" name="L2580"></a>2580         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2582" title="Referred from 2582 in src/java/util/Locale.java.">setUnicodeLocaleKeyword</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L2581" name="L2581"></a>2581             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2582" name="L2582"></a>2582                 localeBuilder.<a href="../S/1034.html#L2580" title="Defined at 2580 in src/java/util/Locale.java.">setUnicodeLocaleKeyword</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L2583" name="L2583"></a>2583             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2584" name="L2584"></a>2584                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2585" name="L2585"></a>2585             <em class="brace">}</em>
<a id="L2586" name="L2586"></a>2586             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2587" name="L2587"></a>2587         <em class="brace">}</em>
<a id="L2588" name="L2588"></a>2588 
<div class="comment">
          Adds a unicode locale attribute, if not already present, otherwise
          has no effect.  The attribute must not be null and must be <a href="./Locale.html#def_locale_extension">well-formed</a> or an exception
          is thrown.
          @param attribute the attribute
          @return This builder.
          @throws NullPointerException if <code>attribute</code> is null
          @throws IllformedLocaleException if <code>attribute</code> is ill-formed
          @see #setExtension(char, String)</div>
<a id="L2601" name="L2601"></a>2601         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2603" title="Referred from 2603 in src/java/util/Locale.java.">addUnicodeLocaleAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>) <em class="brace">{</em>
<a id="L2602" name="L2602"></a>2602             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2603" name="L2603"></a>2603                 localeBuilder.<a href="../S/1034.html#L2601" title="Defined at 2601 in src/java/util/Locale.java.">addUnicodeLocaleAttribute</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>);
<a id="L2604" name="L2604"></a>2604             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2605" name="L2605"></a>2605                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2606" name="L2606"></a>2606             <em class="brace">}</em>
<a id="L2607" name="L2607"></a>2607             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2608" name="L2608"></a>2608         <em class="brace">}</em>
<a id="L2609" name="L2609"></a>2609 
<div class="comment">
          Removes a unicode locale attribute, if present, otherwise has no
          effect.  The attribute must not be null and must be <a href="./Locale.html#def_locale_extension">well-formed</a> or an exception
          is thrown.
          <p>Attribute comparision for removal is case-insensitive.
          @param attribute the attribute
          @return This builder.
          @throws NullPointerException if <code>attribute</code> is null
          @throws IllformedLocaleException if <code>attribute</code> is ill-formed
          @see #setExtension(char, String)</p></div>
<a id="L2624" name="L2624"></a>2624         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2626" title="Referred from 2626 in src/java/util/Locale.java.">removeUnicodeLocaleAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>) <em class="brace">{</em>
<a id="L2625" name="L2625"></a>2625             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2626" name="L2626"></a>2626                 localeBuilder.<a href="../S/1034.html#L2624" title="Defined at 2624 in src/java/util/Locale.java.">removeUnicodeLocaleAttribute</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>);
<a id="L2627" name="L2627"></a>2627             <em class="brace">}</em> <strong class="reserved">catch</strong> (LocaleSyntaxException e) <em class="brace">{</em>
<a id="L2628" name="L2628"></a>2628                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/844.html#L42" title="Defined at 42 in src/java/util/IllformedLocaleException.java.">IllformedLocaleException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.<a href="../D/18850.html" title="Multiple defined in 9 places.">getErrorIndex</a>());
<a id="L2629" name="L2629"></a>2629             <em class="brace">}</em>
<a id="L2630" name="L2630"></a>2630             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2631" name="L2631"></a>2631         <em class="brace">}</em>
<a id="L2632" name="L2632"></a>2632 
<div class="comment">
          Resets the builder to its initial, empty state.
          @return This builder.</div>
<a id="L2638" name="L2638"></a>2638         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L2639" name="L2639"></a>2639             localeBuilder.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L2640" name="L2640"></a>2640             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2641" name="L2641"></a>2641         <em class="brace">}</em>
<a id="L2642" name="L2642"></a>2642 
<div class="comment">
          Resets the extensions to their initial, empty state.
          Language, script, region and variant are unchanged.
          @return This builder.
          @see #setExtension(char, String)</div>
<a id="L2650" name="L2650"></a>2650         <strong class="reserved">public</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../S/1034.html#L2651" title="Referred from 2651 in src/java/util/Locale.java.">clearExtensions</a>() <em class="brace">{</em>
<a id="L2651" name="L2651"></a>2651             localeBuilder.<a href="../S/1034.html#L2650" title="Defined at 2650 in src/java/util/Locale.java.">clearExtensions</a>();
<a id="L2652" name="L2652"></a>2652             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2653" name="L2653"></a>2653         <em class="brace">}</em>
<a id="L2654" name="L2654"></a>2654 
<div class="comment">
          Returns an instance of <code>Locale</code> created from the fields set
          on this builder.
          <p>This applies the conversions listed in {@link Locale#forLanguageTag}
          when constructing a Locale. (Grandfathered tags are handled in
          <a href="#L2422" title="Defined at 2422.">setLanguageTag</a>.)
          @return A Locale.</p></div>
<a id="L2665" name="L2665"></a>2665         <strong class="reserved">public</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/10684.html" title="Multiple referred from 11 places.">build</a>() <em class="brace">{</em>
<a id="L2666" name="L2666"></a>2666             BaseLocale baseloc = localeBuilder.<a href="../S/1034.html#L1233" title="Defined at 1233 in src/java/util/Locale.java.">getBaseLocale</a>();
<a id="L2667" name="L2667"></a>2667             LocaleExtensions extensions = localeBuilder.<a href="../S/1034.html#L1243" title="Defined at 1243 in src/java/util/Locale.java.">getLocaleExtensions</a>();
<a id="L2668" name="L2668"></a>2668             <strong class="reserved">if</strong> (extensions == <strong class="reserved">null</strong> &amp;&amp; baseloc.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2669" name="L2669"></a>2669                 extensions = <a href="../S/1034.html#L2233" title="Defined at 2233 in src/java/util/Locale.java.">getCompatibilityExtensions</a>(baseloc.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>(), baseloc.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>(),
<a id="L2670" name="L2670"></a>2670                         baseloc.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>(), baseloc.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>());
<a id="L2671" name="L2671"></a>2671             <em class="brace">}</em>
<a id="L2672" name="L2672"></a>2672             <strong class="reserved">return</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(baseloc, extensions);
<a id="L2673" name="L2673"></a>2673         <em class="brace">}</em>
<a id="L2674" name="L2674"></a>2674     <em class="brace">}</em>
<a id="L2675" name="L2675"></a>2675 
<div class="comment">
      This enum provides constants to select a filtering mode for locale
      matching. Refer to <a href="http://tools.ietf.org/html/rfc4647">RFC 4647
      Matching of Language Tags</a> for details.
      <p>As an example, think of two Language Priority Lists each of which
      includes only one language range and a set of following language tags:
      </p><pre>         de (German)
         de-DE (German, Germany)
         de-Deva (German, in Devanagari script)
         de-Deva-DE (German, in Devanagari script, Germany)
         de-DE-1996 (German, Germany, orthography of 1996)
         de-Latn-DE (German, in Latin script, Germany)
         de-Latn-DE-1996 (German, in Latin script, Germany, orthography of 1996)
      </pre>
      The filtering method will behave as follows:
      <table cellpadding="2" summary="Filtering method behavior">
      <tbody><tr>
      <th>Filtering Mode</th>
      <th>Language Priority List: <code>"de-DE"</code></th>
      <th>Language Priority List: <code>"de-*-DE"</code></th>
      </tr>
      <tr>
      <td valign="top">
      {@link FilteringMode#AUTOSELECT_FILTERING AUTOSELECT_FILTERING}
      </td>
      <td valign="top">
      Performs <em>basic</em> filtering and returns <code>"de-DE"</code> and
      <code>"de-DE-1996"</code>.
      </td>
      <td valign="top">
      Performs <em>extended</em> filtering and returns <code>"de-DE"</code>,
      <code>"de-Deva-DE"</code>, <code>"de-DE-1996"</code>, <code>"de-Latn-DE"</code>, and
      <code>"de-Latn-DE-1996"</code>.
      </td>
      </tr>
      <tr>
      <td valign="top">
      {@link FilteringMode#EXTENDED_FILTERING EXTENDED_FILTERING}
      </td>
      <td valign="top">
      Performs <em>extended</em> filtering and returns <code>"de-DE"</code>,
      <code>"de-Deva-DE"</code>, <code>"de-DE-1996"</code>, <code>"de-Latn-DE"</code>, and
      <code>"de-Latn-DE-1996"</code>.
      </td>
      <td valign="top">Same as above.</td>
      </tr>
      <tr>
      <td valign="top">
      {@link FilteringMode#IGNORE_EXTENDED_RANGES IGNORE_EXTENDED_RANGES}
      </td>
      <td valign="top">
      Performs <em>basic</em> filtering and returns <code>"de-DE"</code> and
      <code>"de-DE-1996"</code>.
      </td>
      <td valign="top">
      Performs <em>basic</em> filtering and returns <code>null</code> because
      nothing matches.
      </td>
      </tr>
      <tr>
      <td valign="top">
      {@link FilteringMode#MAP_EXTENDED_RANGES MAP_EXTENDED_RANGES}
      </td>
      <td valign="top">Same as above.</td>
      <td valign="top">
      Performs <em>basic</em> filtering and returns <code>"de-DE"</code> and
      <code>"de-DE-1996"</code> because <code>"de-*-DE"</code> is mapped to
      <code>"de-DE"</code>.
      </td>
      </tr>
      <tr>
      <td valign="top">
      {@link FilteringMode#REJECT_EXTENDED_RANGES REJECT_EXTENDED_RANGES}
      </td>
      <td valign="top">Same as above.</td>
      <td valign="top">
      Throws <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> because <code>"de-*-DE"</code> is
      not a valid basic language range.
      </td>
      </tr>
      </tbody></table>
      @see #filter(List, Collection, FilteringMode)
      @see #filterTags(List, Collection, FilteringMode)
      @since 1.8</div>
<a id="L2768" name="L2768"></a>2768     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">enum</strong> <a href="../R/2992.html" title="Multiple referred from 4 places.">FilteringMode</a> <em class="brace">{</em>
<div class="comment">
          Specifies automatic filtering mode based on the given Language
          Priority List consisting of language ranges. If all of the ranges
          are basic, basic filtering is selected. Otherwise, extended
          filtering is selected.</div>
<a id="L2775" name="L2775"></a>2775         AUTOSELECT_FILTERING,
<a id="L2776" name="L2776"></a>2776 
<div class="comment">
          Specifies extended filtering.</div>
<a id="L2780" name="L2780"></a>2780         EXTENDED_FILTERING,
<a id="L2781" name="L2781"></a>2781 
<div class="comment">
          Specifies basic filtering: Note that any extended language ranges
          included in the given Language Priority List are ignored.</div>
<a id="L2786" name="L2786"></a>2786         IGNORE_EXTENDED_RANGES,
<a id="L2787" name="L2787"></a>2787 
<div class="comment">
          Specifies basic filtering: If any extended language ranges are
          included in the given Language Priority List, they are mapped to the
          basic language range. Specifically, a language range starting with a
          subtag <code>"*"</code> is treated as a language range <code>"*"</code>. For
          example, <code>"*-US"</code> is treated as <code>"*"</code>. If <code>"*"</code> is
          not the first subtag, <code>"*"</code> and extra <code>"-"</code> are removed.
          For example, <code>"ja-*-JP"</code> is mapped to <code>"ja-JP"</code>.</div>
<a id="L2797" name="L2797"></a>2797         MAP_EXTENDED_RANGES,
<a id="L2798" name="L2798"></a>2798 
<div class="comment">
          Specifies basic filtering: If any extended language ranges are
          included in the given Language Priority List, the list is rejected
          and the filtering method throws <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>.</div>
<a id="L2804" name="L2804"></a>2804         REJECT_EXTENDED_RANGES
<a id="L2805" name="L2805"></a>2805     <em class="brace">}</em>;
<a id="L2806" name="L2806"></a>2806 
<div class="comment">
      This class expresses a <em>Language Range</em> defined in
      <a href="http://tools.ietf.org/html/rfc4647">RFC 4647 Matching of
      Language Tags</a>. A language range is an identifier which is used to
      select language tag(s) meeting specific requirements by using the
      mechanisms described in <a href="Locale.html#LocaleMatching">Locale
      Matching</a>. A list which represents a user's preferences and consists
      of language ranges is called a <em>Language Priority List</em>.
      <p>There are two types of language ranges: basic and extended. In RFC
      4647, the syntax of language ranges is expressed in
      <a href="http://tools.ietf.org/html/rfc4234">ABNF</a> as follows:
      </p><blockquote>
      <pre>          basic-language-range    = (1*8ALPHA *("-" 1*8alphanum)) / "*"
          extended-language-range = (1*8ALPHA / "*")
                                    *("-" (1*8alphanum / "*"))
          alphanum                = ALPHA / DIGIT
      </pre>
      </blockquote>
      For example, <code>"en"</code> (English), <code>"ja-JP"</code> (Japanese, Japan),
      <code>"*"</code> (special language range which matches any language tag) are
      basic language ranges, whereas <code>"*-CH"</code> (any languages,
      Switzerland), <code>"es-*"</code> (Spanish, any regions), and
      <code>"zh-Hant-*"</code> (Traditional Chinese, any regions) are extended
      language ranges.
      @see #filter
      @see #filterTags
      @see #lookup
      @see #lookupTag
      @since 1.8</div>
<a id="L2841" name="L2841"></a>2841     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/4515.html" title="Multiple referred from 12 places.">LanguageRange</a> <em class="brace">{</em>
<a id="L2842" name="L2842"></a>2842 
<div class="comment">
         A constant holding the maximum value of weight, 1.0, which indicates
         that the language range is a good fit for the user.</div>
<a id="L2847" name="L2847"></a>2847         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">double</strong> MAX_WEIGHT = 1.0;
<a id="L2848" name="L2848"></a>2848 
<div class="comment">
         A constant holding the minimum value of weight, 0.0, which indicates
         that the language range is not a good fit for the user.</div>
<a id="L2853" name="L2853"></a>2853         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">double</strong> MIN_WEIGHT = 0.0;
<a id="L2854" name="L2854"></a>2854 
<a id="L2855" name="L2855"></a>2855         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L2856" name="L2856"></a>2856         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">double</strong> weight;
<a id="L2857" name="L2857"></a>2857 
<a id="L2858" name="L2858"></a>2858         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">int</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = 0;
<a id="L2859" name="L2859"></a>2859 
<div class="comment">
          Constructs a <code>LanguageRange</code> using the given <code>range</code>.
          Note that no validation is done against the IANA Language Subtag
          Registry at time of construction.
          <p>This is equivalent to <code>LanguageRange(range, MAX_WEIGHT)</code>.
          @param range a language range
          @throws NullPointerException if the given <code>range</code> is
              <code>null</code></p></div>
<a id="L2871" name="L2871"></a>2871         <strong class="reserved">public</strong> LanguageRange(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>) <em class="brace">{</em>
<a id="L2872" name="L2872"></a>2872             <strong class="reserved">this</strong>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>, MAX_WEIGHT);
<a id="L2873" name="L2873"></a>2873         <em class="brace">}</em>
<a id="L2874" name="L2874"></a>2874 
<div class="comment">
          Constructs a <code>LanguageRange</code> using the given <code>range</code> and
          <code>weight</code>. Note that no validation is done against the IANA
          Language Subtag Registry at time of construction.
          @param range  a language range
          @param weight a weight value between <code>MIN_WEIGHT</code> and
              <code>MAX_WEIGHT</code>
          @throws NullPointerException if the given <code>range</code> is
              <code>null</code>
          @throws IllegalArgumentException if the given <code>weight</code> is less
              than <code>MIN_WEIGHT</code> or greater than <code>MAX_WEIGHT</code></div>
<a id="L2888" name="L2888"></a>2888         <strong class="reserved">public</strong> LanguageRange(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>, <strong class="reserved">double</strong> weight) <em class="brace">{</em>
<a id="L2889" name="L2889"></a>2889             <strong class="reserved">if</strong> (<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2890" name="L2890"></a>2890                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2891" name="L2891"></a>2891             <em class="brace">}</em>
<a id="L2892" name="L2892"></a>2892             <strong class="reserved">if</strong> (weight &lt; MIN_WEIGHT || weight &gt; MAX_WEIGHT) <em class="brace">{</em>
<a id="L2893" name="L2893"></a>2893                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("weight=" + weight);
<a id="L2894" name="L2894"></a>2894             <em class="brace">}</em>
<a id="L2895" name="L2895"></a>2895 
<a id="L2896" name="L2896"></a>2896             <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L2897" name="L2897"></a>2897 
<a id="L2898" name="L2898"></a>2898             <em class="comment">// Do syntax check.</em>
<a id="L2899" name="L2899"></a>2899             <strong class="reserved">boolean</strong> isIllFormed = <strong class="reserved">false</strong>;
<a id="L2900" name="L2900"></a>2900             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] subtags = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/34718.html" title="Multiple defined in 12 places.">split</a>("-");
<a id="L2901" name="L2901"></a>2901             <strong class="reserved">if</strong> (<a href="../S/1034.html#L2920" title="Defined at 2920 in src/java/util/Locale.java.">isSubtagIllFormed</a>(subtags[0], <strong class="reserved">true</strong>)
<a id="L2902" name="L2902"></a>2902                 || <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("-")) <em class="brace">{</em>
<a id="L2903" name="L2903"></a>2903                 isIllFormed = <strong class="reserved">true</strong>;
<a id="L2904" name="L2904"></a>2904             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2905" name="L2905"></a>2905                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt; subtags.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L2906" name="L2906"></a>2906                     <strong class="reserved">if</strong> (<a href="../S/1034.html#L2920" title="Defined at 2920 in src/java/util/Locale.java.">isSubtagIllFormed</a>(subtags[i], <strong class="reserved">false</strong>)) <em class="brace">{</em>
<a id="L2907" name="L2907"></a>2907                         isIllFormed = <strong class="reserved">true</strong>;
<a id="L2908" name="L2908"></a>2908                         <strong class="reserved">break</strong>;
<a id="L2909" name="L2909"></a>2909                     <em class="brace">}</em>
<a id="L2910" name="L2910"></a>2910                 <em class="brace">}</em>
<a id="L2911" name="L2911"></a>2911             <em class="brace">}</em>
<a id="L2912" name="L2912"></a>2912             <strong class="reserved">if</strong> (isIllFormed) <em class="brace">{</em>
<a id="L2913" name="L2913"></a>2913                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("range=" + <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>);
<a id="L2914" name="L2914"></a>2914             <em class="brace">}</em>
<a id="L2915" name="L2915"></a>2915 
<a id="L2916" name="L2916"></a>2916             <strong class="reserved">this</strong>.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L2917" name="L2917"></a>2917             <strong class="reserved">this</strong>.weight = weight;
<a id="L2918" name="L2918"></a>2918         <em class="brace">}</em>
<a id="L2919" name="L2919"></a>2919 
<a id="L2920" name="L2920"></a>2920         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/22074.html" title="Multiple referred from 2 places.">isSubtagIllFormed</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> subtag,
<a id="L2921" name="L2921"></a>2921                                                  <strong class="reserved">boolean</strong> isFirstSubtag) <em class="brace">{</em>
<a id="L2922" name="L2922"></a>2922             <strong class="reserved">if</strong> (subtag.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("") || subtag.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 8) <em class="brace">{</em>
<a id="L2923" name="L2923"></a>2923                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2924" name="L2924"></a>2924             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (subtag.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*")) <em class="brace">{</em>
<a id="L2925" name="L2925"></a>2925                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2926" name="L2926"></a>2926             <em class="brace">}</em>
<a id="L2927" name="L2927"></a>2927             <strong class="reserved">char</strong>[] charArray = subtag.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>();
<a id="L2928" name="L2928"></a>2928             <strong class="reserved">if</strong> (isFirstSubtag) <em class="brace">{</em> <em class="comment">// ALPHA</em>
<a id="L2929" name="L2929"></a>2929                 <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> : charArray) <em class="brace">{</em>
<a id="L2930" name="L2930"></a>2930                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt; 'a' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt; 'z') <em class="brace">{</em>
<a id="L2931" name="L2931"></a>2931                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2932" name="L2932"></a>2932                     <em class="brace">}</em>
<a id="L2933" name="L2933"></a>2933                 <em class="brace">}</em>
<a id="L2934" name="L2934"></a>2934             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// ALPHA / DIGIT</em>
<a id="L2935" name="L2935"></a>2935                 <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> : charArray) <em class="brace">{</em>
<a id="L2936" name="L2936"></a>2936                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt; '0' || (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt; '9' &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt; 'a') || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt; 'z') <em class="brace">{</em>
<a id="L2937" name="L2937"></a>2937                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2938" name="L2938"></a>2938                     <em class="brace">}</em>
<a id="L2939" name="L2939"></a>2939                 <em class="brace">}</em>
<a id="L2940" name="L2940"></a>2940             <em class="brace">}</em>
<a id="L2941" name="L2941"></a>2941             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2942" name="L2942"></a>2942         <em class="brace">}</em>
<a id="L2943" name="L2943"></a>2943 
<div class="comment">
          Returns the language range of this <code>LanguageRange</code>.
          @return the language range.</div>
<a id="L2949" name="L2949"></a>2949         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18593.html" title="Multiple referred from 27 places.">getRange</a>() <em class="brace">{</em>
<a id="L2950" name="L2950"></a>2950             <strong class="reserved">return</strong> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L2951" name="L2951"></a>2951         <em class="brace">}</em>
<a id="L2952" name="L2952"></a>2952 
<div class="comment">
          Returns the weight of this <code>LanguageRange</code>.
          @return the weight value.</div>
<a id="L2958" name="L2958"></a>2958         <strong class="reserved">public</strong> <strong class="reserved">double</strong> <a href="../R/19851.html" title="Multiple referred from 2 places.">getWeight</a>() <em class="brace">{</em>
<a id="L2959" name="L2959"></a>2959             <strong class="reserved">return</strong> weight;
<a id="L2960" name="L2960"></a>2960         <em class="brace">}</em>
<a id="L2961" name="L2961"></a>2961 
<div class="comment">
          Parses the given <code>ranges</code> to generate a Language Priority List.
          <p>This method performs a syntactic check for each language range in
          the given <code>ranges</code> but doesn't do validation using the IANA
          Language Subtag Registry.
          </p><p>The <code>ranges</code> to be given can take one of the following
          forms:
          </p><pre>            "Accept-Language: ja,en;q=0.4"  (weighted list with Accept-Language prefix)
            "ja,en;q=0.4"                   (weighted list)
            "ja,en"                         (prioritized list)
          </pre>
          In a weighted list, each language range is given a weight value.
          The weight value is identical to the "quality value" in
          <a href="http://tools.ietf.org/html/rfc2616">RFC 2616</a>, and it
          expresses how much the user prefers  the language. A weight value is
          specified after a corresponding language range followed by
          <code>";q="</code>, and the default weight value is <code>MAX_WEIGHT</code>
          when it is omitted.
          <p>Unlike a weighted list, language ranges in a prioritized list
          are sorted in the descending order based on its priority. The first
          language range has the highest priority and meets the user's
          preference most.
          </p><p>In either case, language ranges are sorted in descending order in
          the Language Priority List based on priority or weight. If a
          language range appears in the given <code>ranges</code> more than once,
          only the first one is included on the Language Priority List.
          </p><p>The returned list consists of language ranges from the given
          <code>ranges</code> and their equivalents found in the IANA Language
          Subtag Registry. For example, if the given <code>ranges</code> is
          <code>"Accept-Language: iw,en-us;q=0.7,en;q=0.3"</code>, the elements in
          the list to be returned are:
          </p><pre>           <b>Range</b>                                   <b>Weight</b>
             "iw" (older tag for Hebrew)             1.0
             "he" (new preferred code for Hebrew)    1.0
             "en-us" (English, United States)        0.7
             "en" (English)                          0.3
          </pre>
          Two language ranges, <code>"iw"</code> and <code>"he"</code>, have the same
          highest priority in the list. By adding <code>"he"</code> to the user's
          Language Priority List, locale-matching method can find Hebrew as a
          matching locale (or language tag) even if the application or system
          offers only <code>"he"</code> as a supported locale (or language tag).
          @param ranges a list of comma-separated language ranges or a list of
              language ranges in the form of the "Accept-Language" header
              defined in <a href="http://tools.ietf.org/html/rfc2616">RFC
              2616</a>
          @return a Language Priority List consisting of language ranges
              included in the given <code>ranges</code> and their equivalent
              language ranges if available. The list is modifiable.
          @throws NullPointerException if <code>ranges</code> is null
          @throws IllegalArgumentException if a language range or a weight
              found in the given <code>ranges</code> is ill-formed</div>
<a id="L3027" name="L3027"></a>3027         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ranges) <em class="brace">{</em>
<a id="L3028" name="L3028"></a>3028             <strong class="reserved">return</strong> LocaleMatcher.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(ranges);
<a id="L3029" name="L3029"></a>3029         <em class="brace">}</em>
<a id="L3030" name="L3030"></a>3030 
<div class="comment">
          Parses the given <code>ranges</code> to generate a Language Priority
          List, and then customizes the list using the given <code>map</code>.
          This method is equivalent to
          <code>mapEquivalents(parse(ranges), map)</code>.
          @param ranges a list of comma-separated language ranges or a list
              of language ranges in the form of the "Accept-Language" header
              defined in <a href="http://tools.ietf.org/html/rfc2616">RFC
              2616</a>
          @param map a map containing information to customize language ranges
          @return a Language Priority List with customization. The list is
              modifiable.
          @throws NullPointerException if <code>ranges</code> is null
          @throws IllegalArgumentException if a language range or a weight
              found in the given <code>ranges</code> is ill-formed
          @see #parse(String)
          @see #mapEquivalents</div>
<a id="L3050" name="L3050"></a>3050         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ranges,
<a id="L3051" name="L3051"></a>3051                                                 <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>) <em class="brace">{</em>
<a id="L3052" name="L3052"></a>3052             <strong class="reserved">return</strong> <a href="../S/1034.html#L3102" title="Defined at 3102 in src/java/util/Locale.java.">mapEquivalents</a>(<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(ranges), <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L3053" name="L3053"></a>3053         <em class="brace">}</em>
<a id="L3054" name="L3054"></a>3054 
<div class="comment">
          Generates a new customized Language Priority List using the given
          <code>priorityList</code> and <code>map</code>. If the given <code>map</code> is
          empty, this method returns a copy of the given <code>priorityList</code>.
          <p>In the map, a key represents a language range whereas a value is
          a list of equivalents of it. <code>'*'</code> cannot be used in the map.
          Each equivalent language range has the same weight value as its
          original language range.
          </p><pre>           An example of map:
             <b>Key</b>                            <b>Value</b>
               "zh" (Chinese)                 "zh",
                                              "zh-Hans"(Simplified Chinese)
               "zh-HK" (Chinese, Hong Kong)   "zh-HK"
               "zh-TW" (Chinese, Taiwan)      "zh-TW"
          </pre>
          The customization is performed after modification using the IANA
          Language Subtag Registry.
          <p>For example, if a user's Language Priority List consists of five
          language ranges (<code>"zh"</code>, <code>"zh-CN"</code>, <code>"en"</code>,
          <code>"zh-TW"</code>, and <code>"zh-HK"</code>), the newly generated Language
          Priority List which is customized using the above map example will
          consists of <code>"zh"</code>, <code>"zh-Hans"</code>, <code>"zh-CN"</code>,
          <code>"zh-Hans-CN"</code>, <code>"en"</code>, <code>"zh-TW"</code>, and
          <code>"zh-HK"</code>.
          </p><p><code>"zh-HK"</code> and <code>"zh-TW"</code> aren't converted to
          <code>"zh-Hans-HK"</code> nor <code>"zh-Hans-TW"</code> even if they are
          included in the Language Priority List. In this example, mapping
          is used to clearly distinguish Simplified Chinese and Traditional
          Chinese.
          </p><p>If the <code>"zh"</code>-to-<code>"zh"</code> mapping isn't included in the
          map, a simple replacement will be performed and the customized list
          won't include <code>"zh"</code> and <code>"zh-CN"</code>.
          @param priorityList user's Language Priority List
          @param map a map containing information to customize language ranges
          @return a new Language Priority List with customization. The list is
              modifiable.
          @throws NullPointerException if <code>priorityList</code> is <code>null</code>
          @see #parse(String, Map)</p></div>
<a id="L3102" name="L3102"></a>3102         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; <a href="../R/23048.html" title="Multiple referred from 2 places.">mapEquivalents</a>(
<a id="L3103" name="L3103"></a>3103                                               <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt;priorityList,
<a id="L3104" name="L3104"></a>3104                                               <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>) <em class="brace">{</em>
<a id="L3105" name="L3105"></a>3105             <strong class="reserved">return</strong> LocaleMatcher.<a href="../S/1034.html#L3102" title="Defined at 3102 in src/java/util/Locale.java.">mapEquivalents</a>(priorityList, <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L3106" name="L3106"></a>3106         <em class="brace">}</em>
<a id="L3107" name="L3107"></a>3107 
<div class="comment">
          Returns a hash code value for the object.
          @return  a hash code value for this object.</div>
<a id="L3113" name="L3113"></a>3113         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3114" name="L3114"></a>3114         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L3115" name="L3115"></a>3115             <strong class="reserved">if</strong> (<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> == 0) <em class="brace">{</em>
<a id="L3116" name="L3116"></a>3116                 <strong class="reserved">int</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = 17;
<a id="L3117" name="L3117"></a>3117                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = 37*<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> + <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L3118" name="L3118"></a>3118                 <strong class="reserved">long</strong> bitsWeight = <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.<a href="../S/1746.html#L835" title="Defined at 835 in src/java/lang/Double.java.">doubleToLongBits</a>(weight);
<a id="L3119" name="L3119"></a>3119                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = 37*<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> + (<strong class="reserved">int</strong>)(bitsWeight ^ (bitsWeight &gt;&gt;&gt; 32));
<a id="L3120" name="L3120"></a>3120                 <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L3121" name="L3121"></a>3121             <em class="brace">}</em>
<a id="L3122" name="L3122"></a>3122             <strong class="reserved">return</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>;
<a id="L3123" name="L3123"></a>3123         <em class="brace">}</em>
<a id="L3124" name="L3124"></a>3124 
<div class="comment">
          Compares this object to the specified object. The result is true if
          and only if the argument is not <code>null</code> and is a
          <code>LanguageRange</code> object that contains the same <code>range</code>
          and <code>weight</code> values as this object.
          @param obj the object to compare with
          @return  <code>true</code> if this object's <code>range</code> and
              <code>weight</code> are the same as the <code>obj</code>'s; <code>false</code>
              otherwise.</div>
<a id="L3136" name="L3136"></a>3136         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3137" name="L3137"></a>3137         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L3138" name="L3138"></a>3138             <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj) <em class="brace">{</em>
<a id="L3139" name="L3139"></a>3139                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3140" name="L3140"></a>3140             <em class="brace">}</em>
<a id="L3141" name="L3141"></a>3141             <strong class="reserved">if</strong> (!(obj <strong class="reserved">instanceof</strong> <a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>)) <em class="brace">{</em>
<a id="L3142" name="L3142"></a>3142                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3143" name="L3143"></a>3143             <em class="brace">}</em>
<a id="L3144" name="L3144"></a>3144             <a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a> other = (<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>)obj;
<a id="L3145" name="L3145"></a>3145             <strong class="reserved">return</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> == other.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>
<a id="L3146" name="L3146"></a>3146                    &amp;&amp; <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(other.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>)
<a id="L3147" name="L3147"></a>3147                    &amp;&amp; weight == other.weight;
<a id="L3148" name="L3148"></a>3148         <em class="brace">}</em>
<a id="L3149" name="L3149"></a>3149     <em class="brace">}</em>
<a id="L3150" name="L3150"></a>3150 
<div class="comment">
      Returns a list of matching <code>Locale</code> instances using the filtering
      mechanism defined in RFC 4647.
      @param priorityList user's Language Priority List in which each language
          tag is sorted in descending order based on priority or weight
      @param locales <code>Locale</code> instances used for matching
      @param mode filtering mode
      @return a list of <code>Locale</code> instances for matching language tags
          sorted in descending order based on priority or weight, or an empty
          list if nothing matches. The list is modifiable.
      @throws NullPointerException if <code>priorityList</code> or <code>locales</code>
          is <code>null</code>
      @throws IllegalArgumentException if one or more extended language ranges
          are included in the given list when
          {@link FilteringMode#REJECT_EXTENDED_RANGES} is specified
      @since 1.8</div>
<a id="L3170" name="L3170"></a>3170     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; <a href="../R/14321.html" title="Multiple referred from 472 places.">filter</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; priorityList,
<a id="L3171" name="L3171"></a>3171                                       <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; locales,
<a id="L3172" name="L3172"></a>3172                                       <a href="../S/1034.html#L2768" title="Defined at 2768 in src/java/util/Locale.java.">FilteringMode</a> mode) <em class="brace">{</em>
<a id="L3173" name="L3173"></a>3173         <strong class="reserved">return</strong> LocaleMatcher.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(priorityList, locales, mode);
<a id="L3174" name="L3174"></a>3174     <em class="brace">}</em>
<a id="L3175" name="L3175"></a>3175 
<div class="comment">
      Returns a list of matching <code>Locale</code> instances using the filtering
      mechanism defined in RFC 4647. This is equivalent to
      {@link #filter(List, Collection, FilteringMode)} when <code>mode</code> is
      {@link FilteringMode#AUTOSELECT_FILTERING}.
      @param priorityList user's Language Priority List in which each language
          tag is sorted in descending order based on priority or weight
      @param locales <code>Locale</code> instances used for matching
      @return a list of <code>Locale</code> instances for matching language tags
          sorted in descending order based on priority or weight, or an empty
          list if nothing matches. The list is modifiable.
      @throws NullPointerException if <code>priorityList</code> or <code>locales</code>
          is <code>null</code>
      @since 1.8</div>
<a id="L3193" name="L3193"></a>3193     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; <a href="../R/14321.html" title="Multiple referred from 472 places.">filter</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; priorityList,
<a id="L3194" name="L3194"></a>3194                                       <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; locales) <em class="brace">{</em>
<a id="L3195" name="L3195"></a>3195         <strong class="reserved">return</strong> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(priorityList, locales, <a href="../S/1034.html#L2768" title="Defined at 2768 in src/java/util/Locale.java.">FilteringMode</a>.AUTOSELECT_FILTERING);
<a id="L3196" name="L3196"></a>3196     <em class="brace">}</em>
<a id="L3197" name="L3197"></a>3197 
<div class="comment">
      Returns a list of matching languages tags using the basic filtering
      mechanism defined in RFC 4647.
      @param priorityList user's Language Priority List in which each language
          tag is sorted in descending order based on priority or weight
      @param tags language tags
      @param mode filtering mode
      @return a list of matching language tags sorted in descending order
          based on priority or weight, or an empty list if nothing matches.
          The list is modifiable.
      @throws NullPointerException if <code>priorityList</code> or <code>tags</code> is
          <code>null</code>
      @throws IllegalArgumentException if one or more extended language ranges
          are included in the given list when
          {@link FilteringMode#REJECT_EXTENDED_RANGES} is specified
      @since 1.8</div>
<a id="L3217" name="L3217"></a>3217     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/14336.html" title="Multiple referred from 2 places.">filterTags</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; priorityList,
<a id="L3218" name="L3218"></a>3218                                           <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/35204.html" title="Multiple defined in 2 places.">tags</a>,
<a id="L3219" name="L3219"></a>3219                                           <a href="../S/1034.html#L2768" title="Defined at 2768 in src/java/util/Locale.java.">FilteringMode</a> mode) <em class="brace">{</em>
<a id="L3220" name="L3220"></a>3220         <strong class="reserved">return</strong> LocaleMatcher.<a href="../D/16078.html" title="Multiple defined in 2 places.">filterTags</a>(priorityList, <a href="../D/35204.html" title="Multiple defined in 2 places.">tags</a>, mode);
<a id="L3221" name="L3221"></a>3221     <em class="brace">}</em>
<a id="L3222" name="L3222"></a>3222 
<div class="comment">
      Returns a list of matching languages tags using the basic filtering
      mechanism defined in RFC 4647. This is equivalent to
      {@link #filterTags(List, Collection, FilteringMode)} when <code>mode</code>
      is {@link FilteringMode#AUTOSELECT_FILTERING}.
      @param priorityList user's Language Priority List in which each language
          tag is sorted in descending order based on priority or weight
      @param tags language tags
      @return a list of matching language tags sorted in descending order
          based on priority or weight, or an empty list if nothing matches.
          The list is modifiable.
      @throws NullPointerException if <code>priorityList</code> or <code>tags</code> is
          <code>null</code>
      @since 1.8</div>
<a id="L3240" name="L3240"></a>3240     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/14336.html" title="Multiple referred from 2 places.">filterTags</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; priorityList,
<a id="L3241" name="L3241"></a>3241                                           <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/35204.html" title="Multiple defined in 2 places.">tags</a>) <em class="brace">{</em>
<a id="L3242" name="L3242"></a>3242         <strong class="reserved">return</strong> <a href="../D/16078.html" title="Multiple defined in 2 places.">filterTags</a>(priorityList, <a href="../D/35204.html" title="Multiple defined in 2 places.">tags</a>, <a href="../S/1034.html#L2768" title="Defined at 2768 in src/java/util/Locale.java.">FilteringMode</a>.AUTOSELECT_FILTERING);
<a id="L3243" name="L3243"></a>3243     <em class="brace">}</em>
<a id="L3244" name="L3244"></a>3244 
<div class="comment">
      Returns a <code>Locale</code> instance for the best-matching language
      tag using the lookup mechanism defined in RFC 4647.
      @param priorityList user's Language Priority List in which each language
          tag is sorted in descending order based on priority or weight
      @param locales <code>Locale</code> instances used for matching
      @return the best matching <code>Locale</code> instance chosen based on
          priority or weight, or <code>null</code> if nothing matches.
      @throws NullPointerException if <code>priorityList</code> or <code>tags</code> is
          <code>null</code>
      @since 1.8</div>
<a id="L3259" name="L3259"></a>3259     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/22724.html" title="Multiple referred from 149 places.">lookup</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; priorityList,
<a id="L3260" name="L3260"></a>3260                                 <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; locales) <em class="brace">{</em>
<a id="L3261" name="L3261"></a>3261         <strong class="reserved">return</strong> LocaleMatcher.<a href="../D/27095.html" title="Multiple defined in 22 places.">lookup</a>(priorityList, locales);
<a id="L3262" name="L3262"></a>3262     <em class="brace">}</em>
<a id="L3263" name="L3263"></a>3263 
<div class="comment">
      Returns the best-matching language tag using the lookup mechanism
      defined in RFC 4647.
      @param priorityList user's Language Priority List in which each language
          tag is sorted in descending order based on priority or weight
      @param tags language tangs used for matching
      @return the best matching language tag chosen based on priority or
          weight, or <code>null</code> if nothing matches.
      @throws NullPointerException if <code>priorityList</code> or <code>tags</code> is
          <code>null</code>
      @since 1.8</div>
<a id="L3278" name="L3278"></a>3278     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1034.html#L3280" title="Referred from 3280 in src/java/util/Locale.java.">lookupTag</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L2841" title="Defined at 2841 in src/java/util/Locale.java.">LanguageRange</a>&gt; priorityList,
<a id="L3279" name="L3279"></a>3279                                    <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/35204.html" title="Multiple defined in 2 places.">tags</a>) <em class="brace">{</em>
<a id="L3280" name="L3280"></a>3280         <strong class="reserved">return</strong> LocaleMatcher.<a href="../S/1034.html#L3278" title="Defined at 3278 in src/java/util/Locale.java.">lookupTag</a>(priorityList, <a href="../D/35204.html" title="Multiple defined in 2 places.">tags</a>);
<a id="L3281" name="L3281"></a>3281     <em class="brace">}</em>
<a id="L3282" name="L3282"></a>3282 
<a id="L3283" name="L3283"></a>3283 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L708">[^]</a><a href="#L3278">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>