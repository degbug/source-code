<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/rmi/server/RMIClassLoader.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L149">[^]</a><a href="#L667">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L149" title="Defined at 149.">loadClass</a></li>
<li><a href="#L183" title="Defined at 183.">loadClass</a></li>
<li><a href="#L216" title="Defined at 216.">loadClass</a></li>
<li><a href="#L260" title="Defined at 260.">loadClass</a></li>
<li><a href="#L307" title="Defined at 307.">loadProxyClass</a></li>
<li><a href="#L352" title="Defined at 352.">getClassLoader</a></li>
<li><a href="#L380" title="Defined at 380.">getClassAnnotation</a></li>
<li><a href="#L603" title="Defined at 603.">getDefaultProviderInstance</a></li>
<li><a href="#L623" title="Defined at 623.">getSecurityContext</a></li>
<li><a href="#L631" title="Defined at 631.">newDefaultProviderInstance</a></li>
<li><a href="#L667" title="Defined at 667.">initializeProvider</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1996, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.rmi.server;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.net.MalformedURLException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.net.URL;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.ServiceLoader;
<a id="L34" name="L34"></a>  34 
<div class="comment">
  <code>RMIClassLoader</code> comprises static methods to support
  dynamic class loading with RMI.  Included are methods for loading
  classes from a network location (one or more URLs) and obtaining
  the location from which an existing class should be loaded by
  remote parties.  These methods are used by the RMI runtime when
  marshalling and unmarshalling classes contained in the arguments
  and return values of remote method calls, and they also may be
  invoked directly by applications in order to mimic RMI's dynamic
  class loading behavior.
  <p>The implementation of the following static methods
  </p><ul><li>{@link #loadClass(URL,String)}
  </li><li>{@link #loadClass(String,String)}
  </li><li>{@link #loadClass(String,String,ClassLoader)}
  </li><li>{@link #loadProxyClass(String,String[],ClassLoader)}
  </li><li>{@link #getClassLoader(String)}
  </li><li>{@link #getClassAnnotation(Class)}
  </li></ul>
  is provided by an instance of {@link RMIClassLoaderSpi}, the
  service provider interface for those methods.  When one of the
  methods is invoked, its behavior is to delegate to a corresponding
  method on the service provider instance.  The details of how each
  method delegates to the provider instance is described in the
  documentation for each particular method.
  <p>The service provider instance is chosen as follows:
  </p><ul><li>If the system property
  <code>java.rmi.server.RMIClassLoaderSpi</code> is defined, then if
  its value equals the string <code>"default"</code>, the provider
  instance will be the value returned by an invocation of the {@link
  #getDefaultProviderInstance()} method, and for any other value, if
  a class named with the value of the property can be loaded by the
  system class loader (see {@link ClassLoader#getSystemClassLoader})
  and that class is assignable to {@link RMIClassLoaderSpi} and has a
  public no-argument constructor, then that constructor will be
  invoked to create the provider instance.  If the property is
  defined but any other of those conditions are not true, then an
  unspecified <code>Error</code> will be thrown to code that attempts
  to use <code>RMIClassLoader</code>, indicating the failure to
  obtain a provider instance.
  </li><li>If a resource named
  <code>META-INF/services/java.rmi.server.RMIClassLoaderSpi</code> is
  visible to the system class loader, then the contents of that
  resource are interpreted as a provider-configuration file, and the
  first class name specified in that file is used as the provider
  class name.  If a class with that name can be loaded by the system
  class loader and that class is assignable to {@link
  RMIClassLoaderSpi} and has a public no-argument constructor, then
  that constructor will be invoked to create the provider instance.
  If the resource is found but a provider cannot be instantiated as
  described, then an unspecified <code>Error</code> will be thrown to
  code that attempts to use <code>RMIClassLoader</code>, indicating
  the failure to obtain a provider instance.
  </li><li>Otherwise, the provider instance will be the value returned by
  an invocation of the {@link #getDefaultProviderInstance()} method.
  </li></ul>
  @author      Ann Wollrath
  @author      Peter Jones
  @author      Laird Dornin
  @see         RMIClassLoaderSpi
  @since       JDK1.1</div>
<a id="L110" name="L110"></a> 110 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/6416.html" title="Multiple referred from 13 places.">RMIClassLoader</a> <em class="brace">{</em>
<a id="L111" name="L111"></a> 111 
<div class="comment">
     /** "default" provider instance */</div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a> defaultProvider =
<a id="L114" name="L114"></a> 114         <a href="../S/2535.html#L631" title="Defined at 631 in src/java/rmi/server/RMIClassLoader.java.">newDefaultProviderInstance</a>();
<a id="L115" name="L115"></a> 115 
<div class="comment">
     /** provider instance */</div>
<a id="L117" name="L117"></a> 117     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> =
<a id="L118" name="L118"></a> 118         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L119" name="L119"></a> 119             <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a>&gt;() <em class="brace">{</em>
<a id="L120" name="L120"></a> 120                 <strong class="reserved">public</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <a href="../S/2535.html#L667" title="Defined at 667 in src/java/rmi/server/RMIClassLoader.java.">initializeProvider</a>(); <em class="brace">}</em>
<a id="L121" name="L121"></a> 121             <em class="brace">}</em>);
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Disallow anyone from creating one of these.</div>
<a id="L126" name="L126"></a> 126     <strong class="reserved">private</strong> RMIClassLoader() <em class="brace">{</em><em class="brace">}</em>
<a id="L127" name="L127"></a> 127 
<div class="comment">
      Loads the class with the specified <code>name</code>.
      <p>This method delegates to {@link #loadClass(String,String)},
      passing <code>null</code> as the first argument and
      <code>name</code> as the second argument.
      @param   name the name of the class to load
      @return  the <code>Class</code> object representing the loaded class
      @throws MalformedURLException if a provider-specific URL used
      to load classes is invalid
      @throws  ClassNotFoundException if a definition for the class
      could not be found at the codebase location
      @deprecated replaced by <code>loadClass(String,String)</code> method
      @see #loadClass(String,String)</p></div>
<a id="L148" name="L148"></a> 148     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L149" name="L149"></a> 149     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L150" name="L150"></a> 150         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L151" name="L151"></a> 151     <em class="brace">{</em>
<a id="L152" name="L152"></a> 152         <strong class="reserved">return</strong> <a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <strong class="reserved">null</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L153" name="L153"></a> 153     <em class="brace">}</em>
<a id="L154" name="L154"></a> 154 
<div class="comment">
      Loads a class from a codebase URL.
      If <code>codebase</code> is <code>null</code>, then this method
      will behave the same as {@link #loadClass(String,String)} with a
      <code>null</code> <code>codebase</code> and the given class name.
      <p>This method delegates to the
      {@link RMIClassLoaderSpi#loadClass(String,String,ClassLoader)}
      method of the provider instance, passing the result of invoking
      {@link URL#toString} on the given URL (or <code>null</code> if
      <code>codebase</code> is null) as the first argument,
      <code>name</code> as the second argument,
      and <code>null</code> as the third argument.
      @param   codebase the URL to load the class from, or <code>null</code>
      @param   name the name of the class to load
      @return  the <code>Class</code> object representing the loaded class
      @throws MalformedURLException if <code>codebase</code> is
      <code>null</code> and a provider-specific URL used
      to load classes is invalid
      @throws  ClassNotFoundException if a definition for the class
      could not be found at the specified URL</p></div>
<a id="L183" name="L183"></a> 183     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> codebase, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L184" name="L184"></a> 184         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L185" name="L185"></a> 185     <em class="brace">{</em>
<a id="L186" name="L186"></a> 186         <strong class="reserved">return</strong> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(
<a id="L187" name="L187"></a> 187             codebase != <strong class="reserved">null</strong> ? codebase.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : <strong class="reserved">null</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">null</strong>);
<a id="L188" name="L188"></a> 188     <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<div class="comment">
      Loads a class from a codebase URL path.
      <p>This method delegates to the
      {@link RMIClassLoaderSpi#loadClass(String,String,ClassLoader)}
      method of the provider instance, passing <code>codebase</code>
      as the first argument, <code>name</code> as the second argument,
      and <code>null</code> as the third argument.
      @param   codebase the list of URLs (separated by spaces) to load
      the class from, or <code>null</code>
      @param   name the name of the class to load
      @return  the <code>Class</code> object representing the loaded class
      @throws MalformedURLException if <code>codebase</code> is
      non-<code>null</code> and contains an invalid URL, or if
      <code>codebase</code> is <code>null</code> and a provider-specific
      URL used to load classes is invalid
      @throws  ClassNotFoundException if a definition for the class
      could not be found at the specified location
      @since   1.2</p></div>
<a id="L216" name="L216"></a> 216     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L217" name="L217"></a> 217         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L218" name="L218"></a> 218     <em class="brace">{</em>
<a id="L219" name="L219"></a> 219         <strong class="reserved">return</strong> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(codebase, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">null</strong>);
<a id="L220" name="L220"></a> 220     <em class="brace">}</em>
<a id="L221" name="L221"></a> 221 
<div class="comment">
      Loads a class from a codebase URL path, optionally using the
      supplied loader.
      This method should be used when the caller would like to make
      available to the provider implementation an additional contextual
      class loader to consider, such as the loader of a caller on the
      stack.  Typically, a provider implementation will attempt to
      resolve the named class using the given <code>defaultLoader</code>,
      if specified, before attempting to resolve the class from the
      codebase URL path.
      <p>This method delegates to the
      {@link RMIClassLoaderSpi#loadClass(String,String,ClassLoader)}
      method of the provider instance, passing <code>codebase</code>
      as the first argument, <code>name</code> as the second argument,
      and <code>defaultLoader</code> as the third argument.
      @param   codebase the list of URLs (separated by spaces) to load
      the class from, or <code>null</code>
      @param   name the name of the class to load
      @param   defaultLoader additional contextual class loader
      to use, or <code>null</code>
      @return  the <code>Class</code> object representing the loaded class
      @throws MalformedURLException if <code>codebase</code> is
      non-<code>null</code> and contains an invalid URL, or if
      <code>codebase</code> is <code>null</code> and a provider-specific
      URL used to load classes is invalid
      @throws  ClassNotFoundException if a definition for the class
      could not be found at the specified location
      @since   1.4</p></div>
<a id="L260" name="L260"></a> 260     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L261" name="L261"></a> 261                                      <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> defaultLoader)
<a id="L262" name="L262"></a> 262         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L263" name="L263"></a> 263     <em class="brace">{</em>
<a id="L264" name="L264"></a> 264         <strong class="reserved">return</strong> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(codebase, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, defaultLoader);
<a id="L265" name="L265"></a> 265     <em class="brace">}</em>
<a id="L266" name="L266"></a> 266 
<div class="comment">
      Loads a dynamic proxy class (see {@link java.lang.reflect.Proxy})
      that implements a set of interfaces with the given names
      from a codebase URL path.
      <p>The interfaces will be resolved similar to classes loaded via
      the {@link #loadClass(String,String)} method using the given
      <code>codebase</code>.
      </p><p>This method delegates to the
      {@link RMIClassLoaderSpi#loadProxyClass(String,String[],ClassLoader)}
      method of the provider instance, passing <code>codebase</code>
      as the first argument, <code>interfaces</code> as the second argument,
      and <code>defaultLoader</code> as the third argument.
      @param   codebase the list of URLs (space-separated) to load
      classes from, or <code>null</code>
      @param   interfaces the names of the interfaces for the proxy class
      to implement
      @param   defaultLoader additional contextual class loader
      to use, or <code>null</code>
      @return  a dynamic proxy class that implements the named interfaces
      @throws  MalformedURLException if <code>codebase</code> is
      non-<code>null</code> and contains an invalid URL, or
      if <code>codebase</code> is <code>null</code> and a provider-specific
      URL used to load classes is invalid
      @throws  ClassNotFoundException if a definition for one of
      the named interfaces could not be found at the specified location,
      or if creation of the dynamic proxy class failed (such as if
      {@link java.lang.reflect.Proxy#getProxyClass(ClassLoader,Class[])}
      would throw an <code>IllegalArgumentException</code> for the given
      interface list)
      @since   1.4</p></div>
<a id="L307" name="L307"></a> 307     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22617.html" title="Multiple referred from 3 places.">loadProxyClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/24908.html" title="Multiple defined in 2 places.">interfaces</a>,
<a id="L308" name="L308"></a> 308                                           <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> defaultLoader)
<a id="L309" name="L309"></a> 309         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>
<a id="L310" name="L310"></a> 310     <em class="brace">{</em>
<a id="L311" name="L311"></a> 311         <strong class="reserved">return</strong> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/26972.html" title="Multiple defined in 2 places.">loadProxyClass</a>(codebase, <a href="../D/24908.html" title="Multiple defined in 2 places.">interfaces</a>, defaultLoader);
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<div class="comment">
      Returns a class loader that loads classes from the given codebase
      URL path.
      <p>The class loader returned is the class loader that the
      {@link #loadClass(String,String)} method would use to load classes
      for the same <code>codebase</code> argument.
      </p><p>This method delegates to the
      {@link RMIClassLoaderSpi#getClassLoader(String)} method
      of the provider instance, passing <code>codebase</code> as the argument.
      </p><p>If there is a security manger, its <code>checkPermission</code>
      method will be invoked with a
      <code>RuntimePermission("getClassLoader")</code> permission;
      this could result in a <code>SecurityException</code>.
      The provider implementation of this method may also perform further
      security checks to verify that the calling context has permission to
      connect to all of the URLs in the codebase URL path.
      @param   codebase the list of URLs (space-separated) from which
      the returned class loader will load classes from, or <code>null</code>
      @return a class loader that loads classes from the given codebase URL
      path
      @throws  MalformedURLException if <code>codebase</code> is
      non-<code>null</code> and contains an invalid URL, or
      if <code>codebase</code> is <code>null</code> and a provider-specific
      URL used to identify the class loader is invalid
      @throws  SecurityException if there is a security manager and the
      invocation of its <code>checkPermission</code> method fails, or
      if the caller does not have permission to connect to all of the
      URLs in the codebase URL path
      @since   1.3</p></div>
<a id="L352" name="L352"></a> 352     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../R/15589.html" title="Multiple referred from 228 places.">getClassLoader</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase)
<a id="L353" name="L353"></a> 353         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>
<a id="L354" name="L354"></a> 354     <em class="brace">{</em>
<a id="L355" name="L355"></a> 355         <strong class="reserved">return</strong> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>(codebase);
<a id="L356" name="L356"></a> 356     <em class="brace">}</em>
<a id="L357" name="L357"></a> 357 
<div class="comment">
      Returns the annotation string (representing a location for
      the class definition) that RMI will use to annotate the class
      descriptor when marshalling objects of the given class.
      <p>This method delegates to the
      {@link RMIClassLoaderSpi#getClassAnnotation(Class)} method
      of the provider instance, passing <code>cl</code> as the argument.
      @param   cl the class to obtain the annotation for
      @return  a string to be used to annotate the given class when
      it gets marshalled, or <code>null</code>
      @throws  NullPointerException if <code>cl</code> is <code>null</code>
      @since   1.2</p></div>
<div class="comment">
      REMIND: Should we say that the returned class annotation will or
      should be a (space-separated) list of URLs?</div>
<a id="L380" name="L380"></a> 380     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15576.html" title="Multiple referred from 4 places.">getClassAnnotation</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; cl) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381         <strong class="reserved">return</strong> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/17677.html" title="Multiple defined in 2 places.">getClassAnnotation</a>(cl);
<a id="L382" name="L382"></a> 382     <em class="brace">}</em>
<a id="L383" name="L383"></a> 383 
<div class="comment">
      Returns the canonical instance of the default provider
      for the service provider interface {@link RMIClassLoaderSpi}.
      If the system property <code>java.rmi.server.RMIClassLoaderSpi</code>
      is not defined, then the <code>RMIClassLoader</code> static
      methods
      <ul><li>{@link #loadClass(URL,String)}
      </li><li>{@link #loadClass(String,String)}
      </li><li>{@link #loadClass(String,String,ClassLoader)}
      </li><li>{@link #loadProxyClass(String,String[],ClassLoader)}
      </li><li>{@link #getClassLoader(String)}
      </li><li>{@link #getClassAnnotation(Class)}
      </li></ul>
      will use the canonical instance of the default provider
      as the service provider instance.
      <p>If there is a security manager, its
      <code>checkPermission</code> method will be invoked with a
      <code>RuntimePermission("setFactory")</code> permission; this
      could result in a <code>SecurityException</code>.
      </p><p>The default service provider instance implements
      {@link RMIClassLoaderSpi} as follows:
      </p><blockquote>
      <p>The <b>{@link RMIClassLoaderSpi#getClassAnnotation(Class)
      getClassAnnotation}</b> method returns a <code>String</code>
      representing the codebase URL path that a remote party should
      use to download the definition for the specified class.  The
      format of the returned string is a path of URLs separated by
      spaces.
      The codebase string returned depends on the defining class
      loader of the specified class:
      </p><ul><li><p>If the class loader is the system class loader (see
      {@link ClassLoader#getSystemClassLoader}), a parent of the
      system class loader such as the loader used for installed
      extensions, or the bootstrap class loader (which may be
      represented by <code>null</code>), then the value of the
      <code>java.rmi.server.codebase</code> property (or possibly an
      earlier cached value) is returned, or
      <code>null</code> is returned if that property is not set.
      </p></li><li><p>Otherwise, if the class loader is an instance of
      <code>URLClassLoader</code>, then the returned string is a
      space-separated list of the external forms of the URLs returned
      by invoking the <code>getURLs</code> methods of the loader.  If
      the <code>URLClassLoader</code> was created by this provider to
      service an invocation of its <code>loadClass</code> or
      <code>loadProxyClass</code> methods, then no permissions are
      required to get the associated codebase string.  If it is an
      arbitrary other <code>URLClassLoader</code> instance, then if
      there is a security manager, its <code>checkPermission</code>
      method will be invoked once for each URL returned by the
      <code>getURLs</code> method, with the permission returned by
      invoking <code>openConnection().getPermission()</code> on each
      URL; if any of those invocations throws a
      <code>SecurityException</code> or an <code>IOException</code>,
      then the value of the <code>java.rmi.server.codebase</code>
      property (or possibly an earlier cached value) is returned, or
      <code>null</code> is returned if that property is not set.
      </p></li><li><p>Finally, if the class loader is not an instance of
      <code>URLClassLoader</code>, then the value of the
      <code>java.rmi.server.codebase</code> property (or possibly an
      earlier cached value) is returned, or
      <code>null</code> is returned if that property is not set.
      </p></li></ul>
      <p>For the implementations of the methods described below,
      which all take a <code>String</code> parameter named
      <code>codebase</code> that is a space-separated list of URLs,
      each invocation has an associated <i>codebase loader</i> that
      is identified using the <code>codebase</code> argument in
      conjunction with the current thread's context class loader (see
      {@link Thread#getContextClassLoader()}).  When there is a
      security manager, this provider maintains an internal table of
      class loader instances (which are at least instances of {@link
      java.net.URLClassLoader}) keyed by the pair of their parent
      class loader and their codebase URL path (an ordered list of
      URLs).  If the <code>codebase</code> argument is <code>null</code>,
      the codebase URL path is the value of the system property
      <code>java.rmi.server.codebase</code> or possibly an
      earlier cached value.  For a given codebase URL path passed as the
      <code>codebase</code> argument to an invocation of one of the
      below methods in a given context, the codebase loader is the
      loader in the table with the specified codebase URL path and
      the current thread's context class loader as its parent.  If no
      such loader exists, then one is created and added to the table.
      The table does not maintain strong references to its contained
      loaders, in order to allow them and their defined classes to be
      garbage collected when not otherwise reachable.  In order to
      prevent arbitrary untrusted code from being implicitly loaded
      into a virtual machine with no security manager, if there is no
      security manager set, the codebase loader is just the current
      thread's context class loader (the supplied codebase URL path
      is ignored, so remote class loading is disabled).
      </p><p>The <b>{@link RMIClassLoaderSpi#getClassLoader(String)
      getClassLoader}</b> method returns the codebase loader for the
      specified codebase URL path.  If there is a security manager,
      then if the calling context does not have permission to connect
      to all of the URLs in the codebase URL path, a
      <code>SecurityException</code> will be thrown.
      </p><p>The <b>{@link
      RMIClassLoaderSpi#loadClass(String,String,ClassLoader)
      loadClass}</b> method attempts to load the class with the
      specified name as follows:
      </p><blockquote>
      If the <code>defaultLoader</code> argument is
      non-<code>null</code>, it first attempts to load the class with the
      specified <code>name</code> using the
      <code>defaultLoader</code>, such as by evaluating
      <pre>          Class.forName(name, false, defaultLoader)
      </pre>
      If the class is successfully loaded from the
      <code>defaultLoader</code>, that class is returned.  If an
      exception other than <code>ClassNotFoundException</code> is
      thrown, that exception is thrown to the caller.
      <p>Next, the <code>loadClass</code> method attempts to load the
      class with the specified <code>name</code> using the codebase
      loader for the specified codebase URL path.
      If there is a security manager, then the calling context
      must have permission to connect to all of the URLs in the
      codebase URL path; otherwise, the current thread's context
      class loader will be used instead of the codebase loader.
      </p></blockquote>
      <p>The <b>{@link
      RMIClassLoaderSpi#loadProxyClass(String,String[],ClassLoader)
      loadProxyClass}</b> method attempts to return a dynamic proxy
      class with the named interface as follows:
      </p><blockquote>
      <p>If the <code>defaultLoader</code> argument is
      non-<code>null</code> and all of the named interfaces can be
      resolved through that loader, then,
      </p><ul><li>if all of the resolved interfaces are <code>public</code>,
      then it first attempts to obtain a dynamic proxy class (using
      {@link
      java.lang.reflect.Proxy#getProxyClass(ClassLoader,Class[])
      Proxy.getProxyClass}) for the resolved interfaces defined in
      the codebase loader; if that attempt throws an
      <code>IllegalArgumentException</code>, it then attempts to
      obtain a dynamic proxy class for the resolved interfaces
      defined in the <code>defaultLoader</code>.  If both attempts
      throw <code>IllegalArgumentException</code>, then this method
      throws a <code>ClassNotFoundException</code>.  If any other
      exception is thrown, that exception is thrown to the caller.
      </li><li>if all of the non-<code>public</code> resolved interfaces
      are defined in the same class loader, then it attempts to
      obtain a dynamic proxy class for the resolved interfaces
      defined in that loader.
      </li><li>otherwise, a <code>LinkageError</code> is thrown (because a
      class that implements all of the specified interfaces cannot be
      defined in any loader).
      </li></ul>
      <p>Otherwise, if all of the named interfaces can be resolved
      through the codebase loader, then,
      </p><ul><li>if all of the resolved interfaces are <code>public</code>,
      then it attempts to obtain a dynamic proxy class for the
      resolved interfaces in the codebase loader.  If the attempt
      throws an <code>IllegalArgumentException</code>, then this
      method throws a <code>ClassNotFoundException</code>.
      </li><li>if all of the non-<code>public</code> resolved interfaces
      are defined in the same class loader, then it attempts to
      obtain a dynamic proxy class for the resolved interfaces
      defined in that loader.
      </li><li>otherwise, a <code>LinkageError</code> is thrown (because a
      class that implements all of the specified interfaces cannot be
      defined in any loader).
      </li></ul>
      <p>Otherwise, a <code>ClassNotFoundException</code> is thrown
      for one of the named interfaces that could not be resolved.
      </p></blockquote>
      </blockquote>
      @return  the canonical instance of the default service provider
      @throws  SecurityException if there is a security manager and the
      invocation of its <code>checkPermission</code> method fails
      @since   1.4</div>
<a id="L603" name="L603"></a> 603     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a> getDefaultProviderInstance() <em class="brace">{</em>
<a id="L604" name="L604"></a> 604         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L605" name="L605"></a> 605         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L606" name="L606"></a> 606             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/1764.html#L349" title="Defined at 349 in src/java/lang/RuntimePermission.java.">RuntimePermission</a>("setFactory"));
<a id="L607" name="L607"></a> 607         <em class="brace">}</em>
<a id="L608" name="L608"></a> 608         <strong class="reserved">return</strong> defaultProvider;
<a id="L609" name="L609"></a> 609     <em class="brace">}</em>
<a id="L610" name="L610"></a> 610 
<div class="comment">
      Returns the security context of the given class loader.
      @param   loader a class loader from which to get the security context
      @return  the security context
      @deprecated no replacement.  As of the Java 2 platform v1.2, RMI no
      longer uses this method to obtain a class loader's security context.
      @see java.lang.SecurityManager#getSecurityContext()</div>
<a id="L622" name="L622"></a> 622     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L623" name="L623"></a> 623     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2535.html#L625" title="Referred from 625 in src/java/rmi/server/RMIClassLoader.java.">getSecurityContext</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader)
<a id="L624" name="L624"></a> 624     <em class="brace">{</em>
<a id="L625" name="L625"></a> 625         <strong class="reserved">return</strong> sun.rmi.server.<a href="../S/2541.html#L42" title="Defined at 42 in src/java/rmi/server/LoaderHandler.java.">LoaderHandler</a>.<a href="../D/22321.html" title="Multiple defined in 3 places.">getSecurityContext</a>(loader);
<a id="L626" name="L626"></a> 626     <em class="brace">}</em>
<a id="L627" name="L627"></a> 627 
<div class="comment">
      Creates an instance of the default provider class.</div>
<a id="L631" name="L631"></a> 631     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a> <a href="../S/2535.html#L114" title="Referred from 114 in src/java/rmi/server/RMIClassLoader.java.">newDefaultProviderInstance</a>() <em class="brace">{</em>
<a id="L632" name="L632"></a> 632         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a>() <em class="brace">{</em>
<a id="L633" name="L633"></a> 633             <strong class="reserved">public</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L634" name="L634"></a> 634                                       <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> defaultLoader)
<a id="L635" name="L635"></a> 635                 <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L636" name="L636"></a> 636             <em class="brace">{</em>
<a id="L637" name="L637"></a> 637                 <strong class="reserved">return</strong> sun.rmi.server.<a href="../S/2541.html#L42" title="Defined at 42 in src/java/rmi/server/LoaderHandler.java.">LoaderHandler</a>.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(
<a id="L638" name="L638"></a> 638                     codebase, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, defaultLoader);
<a id="L639" name="L639"></a> 639             <em class="brace">}</em>
<a id="L640" name="L640"></a> 640 
<a id="L641" name="L641"></a> 641             <strong class="reserved">public</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../D/26972.html" title="Multiple defined in 2 places.">loadProxyClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase,
<a id="L642" name="L642"></a> 642                                            <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/24908.html" title="Multiple defined in 2 places.">interfaces</a>,
<a id="L643" name="L643"></a> 643                                            <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> defaultLoader)
<a id="L644" name="L644"></a> 644                 <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L645" name="L645"></a> 645             <em class="brace">{</em>
<a id="L646" name="L646"></a> 646                 <strong class="reserved">return</strong> sun.rmi.server.<a href="../S/2541.html#L42" title="Defined at 42 in src/java/rmi/server/LoaderHandler.java.">LoaderHandler</a>.<a href="../D/26972.html" title="Multiple defined in 2 places.">loadProxyClass</a>(
<a id="L647" name="L647"></a> 647                     codebase, <a href="../D/24908.html" title="Multiple defined in 2 places.">interfaces</a>, defaultLoader);
<a id="L648" name="L648"></a> 648             <em class="brace">}</em>
<a id="L649" name="L649"></a> 649 
<a id="L650" name="L650"></a> 650             <strong class="reserved">public</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> codebase)
<a id="L651" name="L651"></a> 651                 <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>
<a id="L652" name="L652"></a> 652             <em class="brace">{</em>
<a id="L653" name="L653"></a> 653                 <strong class="reserved">return</strong> sun.rmi.server.<a href="../S/2541.html#L42" title="Defined at 42 in src/java/rmi/server/LoaderHandler.java.">LoaderHandler</a>.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>(codebase);
<a id="L654" name="L654"></a> 654             <em class="brace">}</em>
<a id="L655" name="L655"></a> 655 
<a id="L656" name="L656"></a> 656             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/17677.html" title="Multiple defined in 2 places.">getClassAnnotation</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; cl) <em class="brace">{</em>
<a id="L657" name="L657"></a> 657                 <strong class="reserved">return</strong> sun.rmi.server.<a href="../S/2541.html#L42" title="Defined at 42 in src/java/rmi/server/LoaderHandler.java.">LoaderHandler</a>.<a href="../D/17677.html" title="Multiple defined in 2 places.">getClassAnnotation</a>(cl);
<a id="L658" name="L658"></a> 658             <em class="brace">}</em>
<a id="L659" name="L659"></a> 659         <em class="brace">}</em>;
<a id="L660" name="L660"></a> 660     <em class="brace">}</em>
<a id="L661" name="L661"></a> 661 
<div class="comment">
      Chooses provider instance, following above documentation.
      This method assumes that it has been invoked in a privileged block.</div>
<a id="L667" name="L667"></a> 667     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a> <a href="../S/2535.html#L120" title="Referred from 120 in src/java/rmi/server/RMIClassLoader.java.">initializeProvider</a>() <em class="brace">{</em>
<div class="comment">
          First check for the system property being set:</div>
<a id="L671" name="L671"></a> 671         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> providerClassName =
<a id="L672" name="L672"></a> 672             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.rmi.server.RMIClassLoaderSpi");
<a id="L673" name="L673"></a> 673 
<a id="L674" name="L674"></a> 674         <strong class="reserved">if</strong> (providerClassName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675             <strong class="reserved">if</strong> (providerClassName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("default")) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676                 <strong class="reserved">return</strong> defaultProvider;
<a id="L677" name="L677"></a> 677             <em class="brace">}</em>
<a id="L678" name="L678"></a> 678 
<a id="L679" name="L679"></a> 679             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L680" name="L680"></a> 680                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a>&gt; providerClass =
<a id="L681" name="L681"></a> 681                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(providerClassName, <strong class="reserved">false</strong>,
<a id="L682" name="L682"></a> 682                                   <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>())
<a id="L683" name="L683"></a> 683                     .<a href="../S/1722.html#L3400" title="Defined at 3400 in src/java/lang/Class.java.">asSubclass</a>(<a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a>.<strong class="reserved">class</strong>);
<a id="L684" name="L684"></a> 684                 <strong class="reserved">return</strong> providerClass.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L685" name="L685"></a> 685 
<a id="L686" name="L686"></a> 686             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L687" name="L687"></a> 687                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1679.html#L42" title="Defined at 42 in src/java/lang/NoClassDefFoundError.java.">NoClassDefFoundError</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L688" name="L688"></a> 688             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a> e) <em class="brace">{</em>
<a id="L689" name="L689"></a> 689                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1639.html#L39" title="Defined at 39 in src/java/lang/IllegalAccessError.java.">IllegalAccessError</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L690" name="L690"></a> 690             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1743.html#L46" title="Defined at 46 in src/java/lang/InstantiationException.java.">InstantiationException</a> e) <em class="brace">{</em>
<a id="L691" name="L691"></a> 691                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1749.html#L42" title="Defined at 42 in src/java/lang/InstantiationError.java.">InstantiationError</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L692" name="L692"></a> 692             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> e) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693                 <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a> = <strong class="reserved">new</strong> <a href="../S/1739.html#L38" title="Defined at 38 in src/java/lang/LinkageError.java.">LinkageError</a>(
<a id="L694" name="L694"></a> 694                     "provider class not assignable to RMIClassLoaderSpi");
<a id="L695" name="L695"></a> 695                 <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(e);
<a id="L696" name="L696"></a> 696                 <strong class="reserved">throw</strong> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>;
<a id="L697" name="L697"></a> 697             <em class="brace">}</em>
<a id="L698" name="L698"></a> 698         <em class="brace">}</em>
<a id="L699" name="L699"></a> 699 
<div class="comment">
          Next look for a provider configuration file installed:</div>
<a id="L703" name="L703"></a> 703         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a>&gt; <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a> =
<a id="L704" name="L704"></a> 704             <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../S/2532.html#L62" title="Defined at 62 in src/java/rmi/server/RMIClassLoaderSpi.java.">RMIClassLoaderSpi</a>.<strong class="reserved">class</strong>,
<a id="L705" name="L705"></a> 705                                <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>()).<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L706" name="L706"></a> 706         <strong class="reserved">if</strong> (<a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L707" name="L707"></a> 707             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L708" name="L708"></a> 708                 <strong class="reserved">return</strong> <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L709" name="L709"></a> 709             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> e) <em class="brace">{</em>
<a id="L710" name="L710"></a> 710                 <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a> = <strong class="reserved">new</strong> <a href="../S/1739.html#L38" title="Defined at 38 in src/java/lang/LinkageError.java.">LinkageError</a>(
<a id="L711" name="L711"></a> 711                     "provider class not assignable to RMIClassLoaderSpi");
<a id="L712" name="L712"></a> 712                 <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(e);
<a id="L713" name="L713"></a> 713                 <strong class="reserved">throw</strong> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>;
<a id="L714" name="L714"></a> 714             <em class="brace">}</em>
<a id="L715" name="L715"></a> 715         <em class="brace">}</em>
<a id="L716" name="L716"></a> 716 
<div class="comment">
          Finally, return the canonical instance of the default provider.</div>
<a id="L720" name="L720"></a> 720         <strong class="reserved">return</strong> defaultProvider;
<a id="L721" name="L721"></a> 721     <em class="brace">}</em>
<a id="L722" name="L722"></a> 722 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L149">[^]</a><a href="#L667">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>