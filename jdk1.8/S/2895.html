<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/plaf/basic/BasicTextUI.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L120">[^]</a><a href="#L2629">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L120" title="Defined at 120.">createCaret</a></li>
<li><a href="#L132" title="Defined at 132.">createHighlighter</a></li>
<li><a href="#L144" title="Defined at 144.">getKeymapName</a></li>
<li><a href="#L170" title="Defined at 170.">createKeymap</a></li>
<li><a href="#L201" title="Defined at 201.">propertyChange</a></li>
<li><a href="#L215" title="Defined at 215.">updateBackground</a></li>
<li><a href="#L289" title="Defined at 289.">getPropertyPrefix</a></li>
<li><a href="#L302" title="Defined at 302.">installDefaults</a></li>
<li><a href="#L353" title="Defined at 353.">installDefaults2</a></li>
<li><a href="#L387" title="Defined at 387.">uninstallDefaults</a></li>
<li><a href="#L436" title="Defined at 436.">installListeners</a></li>
<li><a href="#L442" title="Defined at 442.">uninstallListeners</a></li>
<li><a href="#L445" title="Defined at 445.">installKeyboardActions</a></li>
<li><a href="#L467" title="Defined at 467.">getInputMap</a></li>
<li><a href="#L483" title="Defined at 483.">updateFocusAcceleratorBinding</a></li>
<li><a href="#L516" title="Defined at 516.">updateFocusTraversalKeys</a></li>
<li><a href="#L560" title="Defined at 560.">updateCursor</a></li>
<li><a href="#L572" title="Defined at 572.">getTransferHandler</a></li>
<li><a href="#L579" title="Defined at 579.">getActionMap</a></li>
<li><a href="#L620" title="Defined at 620.">createActionMap</a></li>
<li><a href="#L639" title="Defined at 639.">uninstallKeyboardActions</a></li>
<li><a href="#L654" title="Defined at 654.">paintBackground</a></li>
<li><a href="#L666" title="Defined at 666.">getComponent</a></li>
<li><a href="#L677" title="Defined at 677.">modelChanged</a></li>
<li><a href="#L692" title="Defined at 692.">setView</a></li>
<li><a href="#L719" title="Defined at 719.">paintSafely</a></li>
<li><a href="#L776" title="Defined at 776.">installUI</a></li>
<li><a href="#L827" title="Defined at 827.">uninstallUI</a></li>
<li><a href="#L859" title="Defined at 859.">update</a></li>
<li><a href="#L874" title="Defined at 874.">paint</a></li>
<li><a href="#L902" title="Defined at 902.">getPreferredSize</a></li>
<li><a href="#L937" title="Defined at 937.">getMinimumSize</a></li>
<li><a href="#L961" title="Defined at 961.">getMaximumSize</a></li>
<li><a href="#L994" title="Defined at 994.">getVisibleEditorRect</a></li>
<li><a href="#L1021" title="Defined at 1021.">modelToView</a></li>
<li><a href="#L1038" title="Defined at 1038.">modelToView</a></li>
<li><a href="#L1073" title="Defined at 1073.">viewToModel</a></li>
<li><a href="#L1090" title="Defined at 1090.">viewToModel</a></li>
<li><a href="#L1114" title="Defined at 1114.">getNextVisualPositionFrom</a></li>
<li><a href="#L1148" title="Defined at 1148.">damageRange</a></li>
<li><a href="#L1159" title="Defined at 1159.">damageRange</a></li>
<li><a href="#L1192" title="Defined at 1192.">getEditorKit</a></li>
<li><a href="#L1214" title="Defined at 1214.">getRootView</a></li>
<li><a href="#L1227" title="Defined at 1227.">getToolTipText</a></li>
<li><a href="#L1262" title="Defined at 1262.">create</a></li>
<li><a href="#L1278" title="Defined at 1278.">create</a></li>
<li><a href="#L1319" title="Defined at 1319.">setView</a></li>
<li><a href="#L1338" title="Defined at 1338.">getAttributes</a></li>
<li><a href="#L1351" title="Defined at 1351.">getPreferredSpan</a></li>
<li><a href="#L1367" title="Defined at 1367.">getMinimumSpan</a></li>
<li><a href="#L1383" title="Defined at 1383.">getMaximumSpan</a></li>
<li><a href="#L1405" title="Defined at 1405.">preferenceChanged</a></li>
<li><a href="#L1416" title="Defined at 1416.">getAlignment</a></li>
<li><a href="#L1429" title="Defined at 1429.">paint</a></li>
<li><a href="#L1443" title="Defined at 1443.">setParent</a></li>
<li><a href="#L1455" title="Defined at 1455.">getViewCount</a></li>
<li><a href="#L1465" title="Defined at 1465.">getView</a></li>
<li><a href="#L1479" title="Defined at 1479.">getViewIndex</a></li>
<li><a href="#L1495" title="Defined at 1495.">getChildAllocation</a></li>
<li><a href="#L1507" title="Defined at 1507.">modelToView</a></li>
<li><a href="#L1533" title="Defined at 1533.">modelToView</a></li>
<li><a href="#L1550" title="Defined at 1550.">viewToModel</a></li>
<li><a href="#L1580" title="Defined at 1580.">getNextVisualPositionFrom</a></li>
<li><a href="#L1608" title="Defined at 1608.">insertUpdate</a></li>
<li><a href="#L1622" title="Defined at 1622.">removeUpdate</a></li>
<li><a href="#L1636" title="Defined at 1636.">changedUpdate</a></li>
<li><a href="#L1647" title="Defined at 1647.">getDocument</a></li>
<li><a href="#L1656" title="Defined at 1656.">getStartOffset</a></li>
<li><a href="#L1668" title="Defined at 1668.">getEndOffset</a></li>
<li><a href="#L1680" title="Defined at 1680.">getElement</a></li>
<li><a href="#L1696" title="Defined at 1696.">breakView</a></li>
<li><a href="#L1707" title="Defined at 1707.">getResizeWeight</a></li>
<li><a href="#L1720" title="Defined at 1720.">setSize</a></li>
<li><a href="#L1734" title="Defined at 1734.">getContainer</a></li>
<li><a href="#L1751" title="Defined at 1751.">getViewFactory</a></li>
<li><a href="#L1780" title="Defined at 1780.">propertyChange</a></li>
<li><a href="#L1817" title="Defined at 1817.">dropIndexChanged</a></li>
<li><a href="#L1854" title="Defined at 1854.">insertUpdate</a></li>
<li><a href="#L1882" title="Defined at 1882.">removeUpdate</a></li>
<li><a href="#L1897" title="Defined at 1897.">changedUpdate</a></li>
<li><a href="#L1910" title="Defined at 1910.">addLayoutComponent</a></li>
<li><a href="#L1918" title="Defined at 1918.">removeLayoutComponent</a></li>
<li><a href="#L1932" title="Defined at 1932.">preferredLayoutSize</a></li>
<li><a href="#L1943" title="Defined at 1943.">minimumLayoutSize</a></li>
<li><a href="#L1961" title="Defined at 1961.">layoutContainer</a></li>
<li><a href="#L1994" title="Defined at 1994.">calculateViewPosition</a></li>
<li><a href="#L2013" title="Defined at 2013.">addLayoutComponent</a></li>
<li><a href="#L2028" title="Defined at 2028.">maximumLayoutSize</a></li>
<li><a href="#L2040" title="Defined at 2040.">getLayoutAlignmentX</a></li>
<li><a href="#L2051" title="Defined at 2051.">getLayoutAlignmentY</a></li>
<li><a href="#L2059" title="Defined at 2059.">invalidateLayout</a></li>
<li><a href="#L2085" title="Defined at 2085.">actionPerformed</a></li>
<li><a href="#L2088" title="Defined at 2088.">isEnabled</a></li>
<li><a href="#L2100" title="Defined at 2100.">actionPerformed</a></li>
<li><a href="#L2104" title="Defined at 2104.">isEnabled</a></li>
<li><a href="#L2109" title="Defined at 2109.">getDragListener</a></li>
<li><a href="#L2133" title="Defined at 2133.">dragStarting</a></li>
<li><a href="#L2137" title="Defined at 2137.">mousePressed</a></li>
<li><a href="#L2147" title="Defined at 2147.">mouseReleased</a></li>
<li><a href="#L2158" title="Defined at 2158.">mouseDragged</a></li>
<li><a href="#L2174" title="Defined at 2174.">isDragPossible</a></li>
<li><a href="#L2235" title="Defined at 2235.">getImportFlavor</a></li>
<li><a href="#L2287" title="Defined at 2287.">handleReaderImport</a></li>
<li><a href="#L2380" title="Defined at 2380.">getSourceActions</a></li>
<li><a href="#L2399" title="Defined at 2399.">createTransferable</a></li>
<li><a href="#L2416" title="Defined at 2416.">exportDone</a></li>
<li><a href="#L2427" title="Defined at 2427.">importData</a></li>
<li><a href="#L2460" title="Defined at 2460.">importData</a></li>
<li><a href="#L2537" title="Defined at 2537.">canImport</a></li>
<li><a href="#L2592" title="Defined at 2592.">removeText</a></li>
<li><a href="#L2608" title="Defined at 2608.">getRicherFlavors</a></li>
<li><a href="#L2629" title="Defined at 2629.">getRicherData</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.plaf.basic;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.util.*;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.event.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.datatransfer.*;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.awt.im.InputContext;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.beans.*;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.io.*;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.swing.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.swing.plaf.*;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> javax.swing.text.*;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> javax.swing.border.Border;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> javax.swing.plaf.UIResource;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> javax.swing.plaf.synth.SynthUI;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> sun.swing.DefaultLookup;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> sun.awt.AppContext;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> javax.swing.plaf.basic.DragRecognitionSupport.BeforeDrag;
<a id="L44" name="L44"></a>  44 
<div class="comment">
  <p>
  Basis of a text components look-and-feel.  This provides the
  basic editor view and controller services that may be useful
  when creating a look-and-feel for an extension of
  <code>JTextComponent</code>.
  </p><p>
  Most state is held in the associated <code>JTextComponent</code>
  as bound properties, and the UI installs default values for the
  various properties.  This default will install something for
  all of the properties.  Typically, a LAF implementation will
  do more however.  At a minimum, a LAF would generally install
  key bindings.
  </p><p>
  This class also provides some concurrency support if the
  <code>Document</code> associated with the JTextComponent is a subclass of
  <code>AbstractDocument</code>.  Access to the View (or View hierarchy) is
  serialized between any thread mutating the model and the Swing
  event thread (which is expected to render, do model/view coordinate
  translation, etc).  <em>Any access to the root view should first
  acquire a read-lock on the AbstractDocument and release that lock
  in a finally block.</em>
  </p><p>
  An important method to define is the <a href="#L289" title="Defined at 289.">getPropertyPrefix</a> method
  which is used as the basis of the keys used to fetch defaults
  from the UIManager.  The string should reflect the type of
  TextUI (eg. TextField, TextArea, etc) without the particular
  LAF part of the name (eg Metal, Motif, etc).
  </p><p>
  To build a view of the model, one of the following strategies
  can be employed.
  </p><ol>
  <li>
  One strategy is to simply redefine the
  ViewFactory interface in the UI.  By default, this UI itself acts
  as the factory for View implementations.  This is useful
  for simple factories.  To do this reimplement the
  <a href="#L1262" title="Defined at 1262.">create</a> method.
  </li><li>
  A common strategy for creating more complex types of documents
  is to have the EditorKit implementation return a factory.  Since
  the EditorKit ties all of the pieces necessary to maintain a type
  of document, the factory is typically an important part of that
  and should be produced by the EditorKit implementation.
  </li></ol>
  <p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases. The current serialization support is
  appropriate for short term storage or RMI between applications running
  the same version of Swing.  As of 1.4, support for long term storage
  of all JavaBeans™
  has been added to the <code>java.beans</code> package.
  Please see {@link java.beans.XMLEncoder}.
  @author Timothy Prinzing
  @author Shannon Hickey (drag and drop)</p></div>
<a id="L103" name="L103"></a> 103 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/733.html" title="Multiple referred from 9 places.">BasicTextUI</a> <strong class="reserved">extends</strong> <a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a> <strong class="reserved">implements</strong> <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> <em class="brace">{</em>
<a id="L104" name="L104"></a> 104 
<div class="comment">
      Creates a new UI.</div>
<a id="L108" name="L108"></a> 108     <strong class="reserved">public</strong> BasicTextUI() <em class="brace">{</em>
<a id="L109" name="L109"></a> 109         painted = <strong class="reserved">false</strong>;
<a id="L110" name="L110"></a> 110     <em class="brace">}</em>
<a id="L111" name="L111"></a> 111 
<div class="comment">
      Creates the object to use for a caret.  By default an
      instance of BasicCaret is created.  This method
      can be redefined to provide something else that implements
      the InputPosition interface or a subclass of JCaret.
      @return the caret object</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">protected</strong> <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> <a href="../R/12254.html" title="Multiple referred from 6 places.">createCaret</a>() <em class="brace">{</em>
<a id="L121" name="L121"></a> 121         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2895.html#L1282" title="Defined at 1282 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicCaret</a>();
<a id="L122" name="L122"></a> 122     <em class="brace">}</em>
<a id="L123" name="L123"></a> 123 
<div class="comment">
      Creates the object to use for adding highlights.  By default
      an instance of BasicHighlighter is created.  This method
      can be redefined to provide something else that implements
      the Highlighter interface or a subclass of DefaultHighlighter.
      @return the highlighter</div>
<a id="L132" name="L132"></a> 132     <strong class="reserved">protected</strong> <a href="../S/3239.html#L37" title="Defined at 37 in src/javax/swing/text/Highlighter.java.">Highlighter</a> <a href="../S/2895.html#L370" title="Referred from 370 in src/javax/swing/plaf/basic/BasicTextUI.java.">createHighlighter</a>() <em class="brace">{</em>
<a id="L133" name="L133"></a> 133         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2895.html#L1284" title="Defined at 1284 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicHighlighter</a>();
<a id="L134" name="L134"></a> 134     <em class="brace">}</em>
<a id="L135" name="L135"></a> 135 
<div class="comment">
      Fetches the name of the keymap that will be installed/used
      by default for this UI. This is implemented to create a
      name based upon the classname.  The name is the the name
      of the class with the package prefix removed.
      @return the name</div>
<a id="L144" name="L144"></a> 144     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2895.html#L171" title="Referred from 171 in src/javax/swing/plaf/basic/BasicTextUI.java.">getKeymapName</a>() <em class="brace">{</em>
<a id="L145" name="L145"></a> 145         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm = <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L146" name="L146"></a> 146         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = nm.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('.');
<a id="L147" name="L147"></a> 147         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0) <em class="brace">{</em>
<a id="L148" name="L148"></a> 148             nm = nm.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+1, nm.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L149" name="L149"></a> 149         <em class="brace">}</em>
<a id="L150" name="L150"></a> 150         <strong class="reserved">return</strong> nm;
<a id="L151" name="L151"></a> 151     <em class="brace">}</em>
<a id="L152" name="L152"></a> 152 
<div class="comment">
      Creates the keymap to use for the text component, and installs
      any necessary bindings into it.  By default, the keymap is
      shared between all instances of this type of TextUI. The
      keymap has the name defined by the getKeymapName method.  If the
      keymap is not found, then DEFAULT_KEYMAP from JTextComponent is used.
      <p>
      The set of bindings used to create the keymap is fetched
      from the UIManager using a key formed by combining the
      <a href="#L289" title="Defined at 289.">getPropertyPrefix</a> method
      and the string <code>.keyBindings</code>.  The type is expected
      to be <code>JTextComponent.KeyBinding[]</code>.
      @return the keymap
      @see #getKeymapName
      @see javax.swing.text.JTextComponent</p></div>
<a id="L170" name="L170"></a> 170     <strong class="reserved">protected</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../S/2895.html#L448" title="Referred from 448 in src/javax/swing/plaf/basic/BasicTextUI.java.">createKeymap</a>() <em class="brace">{</em>
<a id="L171" name="L171"></a> 171         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm = <a href="../S/2895.html#L144" title="Defined at 144 in src/javax/swing/plaf/basic/BasicTextUI.java.">getKeymapName</a>();
<a id="L172" name="L172"></a> 172         <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../D/19962.html" title="Multiple defined in 2 places.">getKeymap</a>(nm);
<a id="L173" name="L173"></a> 173         <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174             <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../D/19962.html" title="Multiple defined in 2 places.">getKeymap</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.DEFAULT_KEYMAP);
<a id="L175" name="L175"></a> 175             <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../S/3351.html#L1059" title="Defined at 1059 in src/javax/swing/text/JTextComponent.java.">addKeymap</a>(nm, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L176" name="L176"></a> 176             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../D/21739.html" title="Multiple defined in 26 places.">getPropertyPrefix</a>();
<a id="L177" name="L177"></a> 177             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = DefaultLookup.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <strong class="reserved">this</strong>,
<a id="L178" name="L178"></a> 178                 <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".keyBindings");
<a id="L179" name="L179"></a> 179             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../S/3351.html#L1119" title="Defined at 1119 in src/javax/swing/text/JTextComponent.java.">KeyBinding</a>[])) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180                 <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../S/3351.html#L1119" title="Defined at 1119 in src/javax/swing/text/JTextComponent.java.">KeyBinding</a>[] bindings = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../S/3351.html#L1119" title="Defined at 1119 in src/javax/swing/text/JTextComponent.java.">KeyBinding</a>[]) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L181" name="L181"></a> 181                 <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../S/3351.html#L1178" title="Defined at 1178 in src/javax/swing/text/JTextComponent.java.">loadKeymap</a>(<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>, bindings, <a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>().<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>());
<a id="L182" name="L182"></a> 182             <em class="brace">}</em>
<a id="L183" name="L183"></a> 183         <em class="brace">}</em>
<a id="L184" name="L184"></a> 184         <strong class="reserved">return</strong> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L185" name="L185"></a> 185     <em class="brace">}</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      This method gets called when a bound property is changed
      on the associated JTextComponent.  This is a hook
      which UI implementations may change to reflect how the
      UI displays bound properties of JTextComponent subclasses.
      This is implemented to do nothing (i.e. the response to
      properties in JTextComponent itself are handled prior
      to calling this method).
      This implementation updates the background of the text
      component if the editable and/or enabled state changes.
      @param evt the property change event</div>
<a id="L201" name="L201"></a> 201     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25223.html" title="Multiple referred from 58 places.">propertyChange</a>(<a href="../S/1790.html#L47" title="Defined at 47 in src/java/beans/PropertyChangeEvent.java.">PropertyChangeEvent</a> evt) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202         <strong class="reserved">if</strong> (evt.<a href="../D/21736.html" title="Multiple defined in 8 places.">getPropertyName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("editable") ||
<a id="L203" name="L203"></a> 203                 evt.<a href="../D/21736.html" title="Multiple defined in 8 places.">getPropertyName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("enabled")) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204 
<a id="L205" name="L205"></a> 205             <a href="../S/2895.html#L215" title="Defined at 215 in src/javax/swing/plaf/basic/BasicTextUI.java.">updateBackground</a>((<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)evt.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>());
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207     <em class="brace">}</em>
<a id="L208" name="L208"></a> 208 
<div class="comment">
      Updates the background of the text component based on whether the
      text component is editable and/or enabled.
      @param c the JTextComponent that needs its background color updated</div>
<a id="L215" name="L215"></a> 215     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/29812.html" title="Multiple referred from 2 places.">updateBackground</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216         <em class="comment">// This is a temporary workaround.</em>
<a id="L217" name="L217"></a> 217         <em class="comment">// This code does not correctly deal with Synth (Synth doesn't use</em>
<a id="L218" name="L218"></a> 218         <em class="comment">// properties like this), nor does it deal with the situation where</em>
<a id="L219" name="L219"></a> 219         <em class="comment">// the developer grabs the color from a JLabel and sets it as</em>
<a id="L220" name="L220"></a> 220         <em class="comment">// the background for a JTextArea in all look and feels. The problem</em>
<a id="L221" name="L221"></a> 221         <em class="comment">// scenario results if the Color obtained for the Label and TextArea</em>
<a id="L222" name="L222"></a> 222         <em class="comment">// is ==, which is the case for the windows look and feel.</em>
<a id="L223" name="L223"></a> 223         <em class="comment">// Until an appropriate solution is found, the code is being</em>
<a id="L224" name="L224"></a> 224         <em class="comment">// reverted to what it was before the original fix.</em>
<a id="L225" name="L225"></a> 225         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> <strong class="reserved">instanceof</strong> <a href="../S/2987.html#L36" title="Defined at 36 in src/javax/swing/plaf/synth/SynthUI.java.">SynthUI</a> || (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3376.html#L127" title="Defined at 127 in src/javax/swing/JTextArea.java.">JTextArea</a>)) <em class="brace">{</em>
<a id="L226" name="L226"></a> 226             <strong class="reserved">return</strong>;
<a id="L227" name="L227"></a> 227         <em class="brace">}</em>
<a id="L228" name="L228"></a> 228         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> background = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>();
<a id="L229" name="L229"></a> 229         <strong class="reserved">if</strong> (background <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L230" name="L230"></a> 230             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../D/21739.html" title="Multiple defined in 26 places.">getPropertyPrefix</a>();
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232             <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> disabledBG =
<a id="L233" name="L233"></a> 233                 DefaultLookup.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">this</strong>, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".disabledBackground", <strong class="reserved">null</strong>);
<a id="L234" name="L234"></a> 234             <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> inactiveBG =
<a id="L235" name="L235"></a> 235                 DefaultLookup.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">this</strong>, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".inactiveBackground", <strong class="reserved">null</strong>);
<a id="L236" name="L236"></a> 236             <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> bg =
<a id="L237" name="L237"></a> 237                 DefaultLookup.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">this</strong>, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".background", <strong class="reserved">null</strong>);
<a id="L238" name="L238"></a> 238 
<div class="comment">
 In an ideal situation, the following check would not be necessary
              and we would replace the color any time the previous color was a
              UIResouce. However, it turns out that there is existing code that
              uses the following inadvisable pattern to turn a text area into
              what appears to be a multi-line label:
              JLabel label = new JLabel();
              JTextArea area = new JTextArea();
              area.setBackground(label.getBackground());
              area.setEditable(false);
              JLabel's default background is a UIResource. As such, just
              checking for UIResource would have us always changing the
              background away from what the developer wanted.
              Therefore, for JTextArea/JEditorPane, we'll additionally check
              that the color we're about to replace matches one that was
              installed by us from the UIDefaults.</div>
<a id="L258" name="L258"></a> 258             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3376.html#L127" title="Defined at 127 in src/javax/swing/JTextArea.java.">JTextArea</a> || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a>)
<a id="L259" name="L259"></a> 259                     &amp;&amp; background != disabledBG
<a id="L260" name="L260"></a> 260                     &amp;&amp; background != inactiveBG
<a id="L261" name="L261"></a> 261                     &amp;&amp; background != bg) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262 
<a id="L263" name="L263"></a> 263                 <strong class="reserved">return</strong>;
<a id="L264" name="L264"></a> 264             <em class="brace">}</em>
<a id="L265" name="L265"></a> 265 
<a id="L266" name="L266"></a> 266             <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> newColor = <strong class="reserved">null</strong>;
<a id="L267" name="L267"></a> 267             <strong class="reserved">if</strong> (!<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268                 newColor = disabledBG;
<a id="L269" name="L269"></a> 269             <em class="brace">}</em>
<a id="L270" name="L270"></a> 270             <strong class="reserved">if</strong> (newColor == <strong class="reserved">null</strong> &amp;&amp; !<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>()) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271                 newColor = inactiveBG;
<a id="L272" name="L272"></a> 272             <em class="brace">}</em>
<a id="L273" name="L273"></a> 273             <strong class="reserved">if</strong> (newColor == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274                 newColor = bg;
<a id="L275" name="L275"></a> 275             <em class="brace">}</em>
<a id="L276" name="L276"></a> 276             <strong class="reserved">if</strong> (newColor != <strong class="reserved">null</strong> &amp;&amp; newColor != background) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31972.html" title="Multiple defined in 25 places.">setBackground</a>(newColor);
<a id="L278" name="L278"></a> 278             <em class="brace">}</em>
<a id="L279" name="L279"></a> 279         <em class="brace">}</em>
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<div class="comment">
      Gets the name used as a key to look up properties through the
      UIManager.  This is used as a prefix to all the standard
      text properties.
      @return the name</div>
<a id="L289" name="L289"></a> 289     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18522.html" title="Multiple referred from 56 places.">getPropertyPrefix</a>();
<a id="L290" name="L290"></a> 290 
<div class="comment">
      Initializes component properties, such as font, foreground,
      background, caret color, selection color, selected text color,
      disabled text color, and border color.  The font, foreground, and
      background properties are only set if their current value is either null
      or a UIResource, other properties are set if the current
      value is null.
      @see #uninstallDefaults
      @see #installUI</div>
<a id="L302" name="L302"></a> 302     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20846.html" title="Multiple referred from 80 places.">installDefaults</a>()
<a id="L303" name="L303"></a> 303     <em class="brace">{</em>
<a id="L304" name="L304"></a> 304         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../D/21739.html" title="Multiple defined in 26 places.">getPropertyPrefix</a>();
<a id="L305" name="L305"></a> 305         <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> f = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>();
<a id="L306" name="L306"></a> 306         <strong class="reserved">if</strong> ((f == <strong class="reserved">null</strong>) || (f <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/32750.html" title="Multiple defined in 25 places.">setFont</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".font"));
<a id="L308" name="L308"></a> 308         <em class="brace">}</em>
<a id="L309" name="L309"></a> 309 
<a id="L310" name="L310"></a> 310         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> bg = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>();
<a id="L311" name="L311"></a> 311         <strong class="reserved">if</strong> ((bg == <strong class="reserved">null</strong>) || (bg <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L312" name="L312"></a> 312             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/31972.html" title="Multiple defined in 25 places.">setBackground</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".background"));
<a id="L313" name="L313"></a> 313         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> fg = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/19200.html" title="Multiple defined in 21 places.">getForeground</a>();
<a id="L316" name="L316"></a> 316         <strong class="reserved">if</strong> ((fg == <strong class="reserved">null</strong>) || (fg <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/32762.html" title="Multiple defined in 16 places.">setForeground</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".foreground"));
<a id="L318" name="L318"></a> 318         <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<a id="L320" name="L320"></a> 320         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> color = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1198" title="Defined at 1198 in src/javax/swing/text/JTextComponent.java.">getCaretColor</a>();
<a id="L321" name="L321"></a> 321         <strong class="reserved">if</strong> ((color == <strong class="reserved">null</strong>) || (color <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1215" title="Defined at 1215 in src/javax/swing/text/JTextComponent.java.">setCaretColor</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".caretForeground"));
<a id="L323" name="L323"></a> 323         <em class="brace">}</em>
<a id="L324" name="L324"></a> 324 
<a id="L325" name="L325"></a> 325         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> s = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1227" title="Defined at 1227 in src/javax/swing/text/JTextComponent.java.">getSelectionColor</a>();
<a id="L326" name="L326"></a> 326         <strong class="reserved">if</strong> ((s == <strong class="reserved">null</strong>) || (s <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L327" name="L327"></a> 327             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1244" title="Defined at 1244 in src/javax/swing/text/JTextComponent.java.">setSelectionColor</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".selectionBackground"));
<a id="L328" name="L328"></a> 328         <em class="brace">}</em>
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> sfg = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1256" title="Defined at 1256 in src/javax/swing/text/JTextComponent.java.">getSelectedTextColor</a>();
<a id="L331" name="L331"></a> 331         <strong class="reserved">if</strong> ((sfg == <strong class="reserved">null</strong>) || (sfg <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1273" title="Defined at 1273 in src/javax/swing/text/JTextComponent.java.">setSelectedTextColor</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".selectionForeground"));
<a id="L333" name="L333"></a> 333         <em class="brace">}</em>
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> dfg = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18507.html" title="Multiple defined in 4 places.">getDisabledTextColor</a>();
<a id="L336" name="L336"></a> 336         <strong class="reserved">if</strong> ((dfg == <strong class="reserved">null</strong>) || (dfg <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L337" name="L337"></a> 337             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1301" title="Defined at 1301 in src/javax/swing/text/JTextComponent.java.">setDisabledTextColor</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17779.html" title="Multiple defined in 33 places.">getColor</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".inactiveForeground"));
<a id="L338" name="L338"></a> 338         <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340         <a href="../S/2703.html#L64" title="Defined at 64 in src/javax/swing/border/Border.java.">Border</a> b = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17297.html" title="Multiple defined in 14 places.">getBorder</a>();
<a id="L341" name="L341"></a> 341         <strong class="reserved">if</strong> ((b == <strong class="reserved">null</strong>) || (b <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/32014.html" title="Multiple defined in 15 places.">setBorder</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/17297.html" title="Multiple defined in 14 places.">getBorder</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".border"));
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345         <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> margin = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/20380.html" title="Multiple defined in 7 places.">getMargin</a>();
<a id="L346" name="L346"></a> 346         <strong class="reserved">if</strong> (margin == <strong class="reserved">null</strong> || margin <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/33177.html" title="Multiple defined in 6 places.">setMargin</a>(<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/19755.html" title="Multiple defined in 21 places.">getInsets</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".margin"));
<a id="L348" name="L348"></a> 348         <em class="brace">}</em>
<a id="L349" name="L349"></a> 349 
<a id="L350" name="L350"></a> 350         <a href="../S/2895.html#L560" title="Defined at 560 in src/javax/swing/plaf/basic/BasicTextUI.java.">updateCursor</a>();
<a id="L351" name="L351"></a> 351     <em class="brace">}</em>
<a id="L352" name="L352"></a> 352 
<a id="L353" name="L353"></a> 353     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20847.html" title="Multiple referred from 2 places.">installDefaults2</a>() <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/10945.html" title="Multiple defined in 2 places.">addMouseListener</a>(dragListener);
<a id="L355" name="L355"></a> 355         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/10946.html" title="Multiple defined in 2 places.">addMouseMotionListener</a>(dragListener);
<a id="L356" name="L356"></a> 356 
<a id="L357" name="L357"></a> 357         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../D/21739.html" title="Multiple defined in 26 places.">getPropertyPrefix</a>();
<a id="L358" name="L358"></a> 358 
<a id="L359" name="L359"></a> 359         <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> caret = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L360" name="L360"></a> 360         <strong class="reserved">if</strong> (caret == <strong class="reserved">null</strong> || caret <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361             caret = <a href="../D/13666.html" title="Multiple defined in 15 places.">createCaret</a>();
<a id="L362" name="L362"></a> 362             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L581" title="Defined at 581 in src/javax/swing/text/JTextComponent.java.">setCaret</a>(caret);
<a id="L363" name="L363"></a> 363 
<a id="L364" name="L364"></a> 364             <strong class="reserved">int</strong> rate = DefaultLookup.<a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>(<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>(), <strong class="reserved">this</strong>, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + ".caretBlinkRate", 500);
<a id="L365" name="L365"></a> 365             caret.<a href="../D/32003.html" title="Multiple defined in 2 places.">setBlinkRate</a>(rate);
<a id="L366" name="L366"></a> 366         <em class="brace">}</em>
<a id="L367" name="L367"></a> 367 
<a id="L368" name="L368"></a> 368         <a href="../S/3239.html#L37" title="Defined at 37 in src/javax/swing/text/Highlighter.java.">Highlighter</a> highlighter = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L600" title="Defined at 600 in src/javax/swing/text/JTextComponent.java.">getHighlighter</a>();
<a id="L369" name="L369"></a> 369         <strong class="reserved">if</strong> (highlighter == <strong class="reserved">null</strong> || highlighter <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L619" title="Defined at 619 in src/javax/swing/text/JTextComponent.java.">setHighlighter</a>(<a href="../S/2895.html#L132" title="Defined at 132 in src/javax/swing/plaf/basic/BasicTextUI.java.">createHighlighter</a>());
<a id="L371" name="L371"></a> 371         <em class="brace">}</em>
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373         <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a> th = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/23244.html" title="Multiple defined in 7 places.">getTransferHandler</a>();
<a id="L374" name="L374"></a> 374         <strong class="reserved">if</strong> (th == <strong class="reserved">null</strong> || th <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/34181.html" title="Multiple defined in 5 places.">setTransferHandler</a>(<a href="../D/23244.html" title="Multiple defined in 7 places.">getTransferHandler</a>());
<a id="L376" name="L376"></a> 376         <em class="brace">}</em>
<a id="L377" name="L377"></a> 377     <em class="brace">}</em>
<a id="L378" name="L378"></a> 378 
<div class="comment">
      Sets the component properties that have not been explicitly overridden
      to <code>null</code>.  A property is considered overridden if its current
      value is not a <code>UIResource</code>.
      @see #installDefaults
      @see #uninstallUI</div>
<a id="L387" name="L387"></a> 387     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29668.html" title="Multiple referred from 112 places.">uninstallDefaults</a>()
<a id="L388" name="L388"></a> 388     <em class="brace">{</em>
<a id="L389" name="L389"></a> 389         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/30883.html" title="Multiple defined in 2 places.">removeMouseListener</a>(dragListener);
<a id="L390" name="L390"></a> 390         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/30884.html" title="Multiple defined in 2 places.">removeMouseMotionListener</a>(dragListener);
<a id="L391" name="L391"></a> 391 
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1198" title="Defined at 1198 in src/javax/swing/text/JTextComponent.java.">getCaretColor</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1215" title="Defined at 1215 in src/javax/swing/text/JTextComponent.java.">setCaretColor</a>(<strong class="reserved">null</strong>);
<a id="L394" name="L394"></a> 394         <em class="brace">}</em>
<a id="L395" name="L395"></a> 395 
<a id="L396" name="L396"></a> 396         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1227" title="Defined at 1227 in src/javax/swing/text/JTextComponent.java.">getSelectionColor</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1244" title="Defined at 1244 in src/javax/swing/text/JTextComponent.java.">setSelectionColor</a>(<strong class="reserved">null</strong>);
<a id="L398" name="L398"></a> 398         <em class="brace">}</em>
<a id="L399" name="L399"></a> 399 
<a id="L400" name="L400"></a> 400         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18507.html" title="Multiple defined in 4 places.">getDisabledTextColor</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1301" title="Defined at 1301 in src/javax/swing/text/JTextComponent.java.">setDisabledTextColor</a>(<strong class="reserved">null</strong>);
<a id="L402" name="L402"></a> 402         <em class="brace">}</em>
<a id="L403" name="L403"></a> 403 
<a id="L404" name="L404"></a> 404         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1256" title="Defined at 1256 in src/javax/swing/text/JTextComponent.java.">getSelectedTextColor</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L405" name="L405"></a> 405             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1273" title="Defined at 1273 in src/javax/swing/text/JTextComponent.java.">setSelectedTextColor</a>(<strong class="reserved">null</strong>);
<a id="L406" name="L406"></a> 406         <em class="brace">}</em>
<a id="L407" name="L407"></a> 407 
<a id="L408" name="L408"></a> 408         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17297.html" title="Multiple defined in 14 places.">getBorder</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/32014.html" title="Multiple defined in 15 places.">setBorder</a>(<strong class="reserved">null</strong>);
<a id="L410" name="L410"></a> 410         <em class="brace">}</em>
<a id="L411" name="L411"></a> 411 
<a id="L412" name="L412"></a> 412         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/20380.html" title="Multiple defined in 7 places.">getMargin</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/33177.html" title="Multiple defined in 6 places.">setMargin</a>(<strong class="reserved">null</strong>);
<a id="L414" name="L414"></a> 414         <em class="brace">}</em>
<a id="L415" name="L415"></a> 415 
<a id="L416" name="L416"></a> 416         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L581" title="Defined at 581 in src/javax/swing/text/JTextComponent.java.">setCaret</a>(<strong class="reserved">null</strong>);
<a id="L418" name="L418"></a> 418         <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<a id="L420" name="L420"></a> 420         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L600" title="Defined at 600 in src/javax/swing/text/JTextComponent.java.">getHighlighter</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L421" name="L421"></a> 421             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L619" title="Defined at 619 in src/javax/swing/text/JTextComponent.java.">setHighlighter</a>(<strong class="reserved">null</strong>);
<a id="L422" name="L422"></a> 422         <em class="brace">}</em>
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/23244.html" title="Multiple defined in 7 places.">getTransferHandler</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/34181.html" title="Multiple defined in 5 places.">setTransferHandler</a>(<strong class="reserved">null</strong>);
<a id="L426" name="L426"></a> 426         <em class="brace">}</em>
<a id="L427" name="L427"></a> 427 
<a id="L428" name="L428"></a> 428         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18132.html" title="Multiple defined in 16 places.">getCursor</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/32319.html" title="Multiple defined in 18 places.">setCursor</a>(<strong class="reserved">null</strong>);
<a id="L430" name="L430"></a> 430         <em class="brace">}</em>
<a id="L431" name="L431"></a> 431     <em class="brace">}</em>
<a id="L432" name="L432"></a> 432 
<div class="comment">
      Installs listeners for the UI.</div>
<a id="L436" name="L436"></a> 436     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20860.html" title="Multiple referred from 76 places.">installListeners</a>() <em class="brace">{</em>
<a id="L437" name="L437"></a> 437     <em class="brace">}</em>
<a id="L438" name="L438"></a> 438 
<div class="comment">
      Uninstalls listeners for the UI.</div>
<a id="L442" name="L442"></a> 442     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29674.html" title="Multiple referred from 78 places.">uninstallListeners</a>() <em class="brace">{</em>
<a id="L443" name="L443"></a> 443     <em class="brace">}</em>
<a id="L444" name="L444"></a> 444 
<a id="L445" name="L445"></a> 445     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20856.html" title="Multiple referred from 56 places.">installKeyboardActions</a>() <em class="brace">{</em>
<a id="L446" name="L446"></a> 446         <em class="comment">// backward compatibility support... keymaps for the UI</em>
<a id="L447" name="L447"></a> 447         <em class="comment">// are now installed in the more friendly input map.</em>
<a id="L448" name="L448"></a> 448         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L644" title="Defined at 644 in src/javax/swing/text/JTextComponent.java.">setKeymap</a>(<a href="../S/2895.html#L170" title="Defined at 170 in src/javax/swing/plaf/basic/BasicTextUI.java.">createKeymap</a>());
<a id="L449" name="L449"></a> 449 
<a id="L450" name="L450"></a> 450         <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> km = <a href="../D/19735.html" title="Multiple defined in 23 places.">getInputMap</a>();
<a id="L451" name="L451"></a> 451         <strong class="reserved">if</strong> (km != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L452" name="L452"></a> 452             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1677" title="Defined at 1677 in src/javax/swing/SwingUtilities.java.">replaceUIInputMap</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>.WHEN_FOCUSED,
<a id="L453" name="L453"></a> 453                                              km);
<a id="L454" name="L454"></a> 454         <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<a id="L456" name="L456"></a> 456         <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <a href="../D/16787.html" title="Multiple defined in 9 places.">getActionMap</a>();
<a id="L457" name="L457"></a> 457         <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L458" name="L458"></a> 458             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1699" title="Defined at 1699 in src/javax/swing/SwingUtilities.java.">replaceUIActionMap</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L459" name="L459"></a> 459         <em class="brace">}</em>
<a id="L460" name="L460"></a> 460 
<a id="L461" name="L461"></a> 461         <a href="../S/2895.html#L483" title="Defined at 483 in src/javax/swing/plaf/basic/BasicTextUI.java.">updateFocusAcceleratorBinding</a>(<strong class="reserved">false</strong>);
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      Get the InputMap to use for the UI.</div>
<a id="L467" name="L467"></a> 467     <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> <a href="../R/17093.html" title="Multiple referred from 77 places.">getInputMap</a>() <em class="brace">{</em>
<a id="L468" name="L468"></a> 468         <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <strong class="reserved">new</strong> <a href="../S/2777.html#L38" title="Defined at 38 in src/javax/swing/plaf/InputMapUIResource.java.">InputMapUIResource</a>();
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470         <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> shared =
<a id="L471" name="L471"></a> 471             (<a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a>)DefaultLookup.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <strong class="reserved">this</strong>,
<a id="L472" name="L472"></a> 472             <a href="../D/21739.html" title="Multiple defined in 26 places.">getPropertyPrefix</a>() + ".focusInputMap");
<a id="L473" name="L473"></a> 473         <strong class="reserved">if</strong> (shared != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L474" name="L474"></a> 474             <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(shared);
<a id="L475" name="L475"></a> 475         <em class="brace">}</em>
<a id="L476" name="L476"></a> 476         <strong class="reserved">return</strong> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L477" name="L477"></a> 477     <em class="brace">}</em>
<a id="L478" name="L478"></a> 478 
<div class="comment">
      Invoked when the focus accelerator changes, this will update the
      key bindings as necessary.</div>
<a id="L483" name="L483"></a> 483     <strong class="reserved">void</strong> <a href="../R/29862.html" title="Multiple referred from 2 places.">updateFocusAcceleratorBinding</a>(<strong class="reserved">boolean</strong> <a href="../D/12315.html" title="Multiple defined in 4 places.">changed</a>) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484         <strong class="reserved">char</strong> accelerator = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L1547" title="Defined at 1547 in src/javax/swing/text/JTextComponent.java.">getFocusAccelerator</a>();
<a id="L485" name="L485"></a> 485 
<a id="L486" name="L486"></a> 486         <strong class="reserved">if</strong> (<a href="../D/12315.html" title="Multiple defined in 4 places.">changed</a> || accelerator != '\0') <em class="brace">{</em>
<a id="L487" name="L487"></a> 487             <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> km = <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1722" title="Defined at 1722 in src/javax/swing/SwingUtilities.java.">getUIInputMap</a>
<a id="L488" name="L488"></a> 488                         (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>.WHEN_IN_FOCUSED_WINDOW);
<a id="L489" name="L489"></a> 489 
<a id="L490" name="L490"></a> 490             <strong class="reserved">if</strong> (km == <strong class="reserved">null</strong> &amp;&amp; accelerator != '\0') <em class="brace">{</em>
<a id="L491" name="L491"></a> 491                 km = <strong class="reserved">new</strong> <a href="../S/3106.html#L39" title="Defined at 39 in src/javax/swing/plaf/ComponentInputMapUIResource.java.">ComponentInputMapUIResource</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>);
<a id="L492" name="L492"></a> 492                 <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1677" title="Defined at 1677 in src/javax/swing/SwingUtilities.java.">replaceUIInputMap</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>.
<a id="L493" name="L493"></a> 493                                                  WHEN_IN_FOCUSED_WINDOW, km);
<a id="L494" name="L494"></a> 494                 <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> am = <a href="../D/16787.html" title="Multiple defined in 9 places.">getActionMap</a>();
<a id="L495" name="L495"></a> 495                 <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1699" title="Defined at 1699 in src/javax/swing/SwingUtilities.java.">replaceUIActionMap</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, am);
<a id="L496" name="L496"></a> 496             <em class="brace">}</em>
<a id="L497" name="L497"></a> 497             <strong class="reserved">if</strong> (km != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498                 km.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L499" name="L499"></a> 499                 <strong class="reserved">if</strong> (accelerator != '\0') <em class="brace">{</em>
<a id="L500" name="L500"></a> 500                     km.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>.<a href="../D/19953.html" title="Multiple defined in 6 places.">getKeyStroke</a>(accelerator, <a href="../S/2891.html#L105" title="Defined at 105 in src/javax/swing/plaf/basic/BasicLookAndFeel.java.">BasicLookAndFeel</a>.<a href="../S/2891.html#L1917" title="Defined at 1917 in src/javax/swing/plaf/basic/BasicLookAndFeel.java.">getFocusAcceleratorKeyMask</a>()), "requestFocus");
<a id="L501" name="L501"></a> 501                 <em class="brace">}</em>
<a id="L502" name="L502"></a> 502             <em class="brace">}</em>
<a id="L503" name="L503"></a> 503         <em class="brace">}</em>
<a id="L504" name="L504"></a> 504     <em class="brace">}</em>
<a id="L505" name="L505"></a> 505 
<a id="L506" name="L506"></a> 506 
<div class="comment">
      Invoked when editable property is changed.
      removing 'TAB' and 'SHIFT-TAB' from traversalKeysSet in case
      editor is editable
      adding 'TAB' and 'SHIFT-TAB' to traversalKeysSet in case
      editor is non editable</div>
<a id="L515" name="L515"></a> 515 
<a id="L516" name="L516"></a> 516     <strong class="reserved">void</strong> <a href="../R/29863.html" title="Multiple referred from 3 places.">updateFocusTraversalKeys</a>() <em class="brace">{</em>
<div class="comment">
          Fix for 4514331 Non-editable JTextArea and similar
          should allow Tab to keyboard - accessibility</div>
<a id="L521" name="L521"></a> 521         <a href="../S/3357.html#L48" title="Defined at 48 in src/javax/swing/text/EditorKit.java.">EditorKit</a> editorKit = <a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>);
<a id="L522" name="L522"></a> 522         <strong class="reserved">if</strong> ( editorKit != <strong class="reserved">null</strong>
<a id="L523" name="L523"></a> 523              &amp;&amp; editorKit <strong class="reserved">instanceof</strong> <a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/2439.html#L67" title="Defined at 67 in src/java/awt/AWTKeyStroke.java.">AWTKeyStroke</a>&gt; storedForwardTraversalKeys = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.
<a id="L525" name="L525"></a> 525                 <a href="../D/19169.html" title="Multiple defined in 4 places.">getFocusTraversalKeys</a>(<a href="../S/2110.html#L107" title="Defined at 107 in src/java/awt/KeyboardFocusManager.java.">KeyboardFocusManager</a>.
<a id="L526" name="L526"></a> 526                                       FORWARD_TRAVERSAL_KEYS);
<a id="L527" name="L527"></a> 527             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/2439.html#L67" title="Defined at 67 in src/java/awt/AWTKeyStroke.java.">AWTKeyStroke</a>&gt; storedBackwardTraversalKeys = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.
<a id="L528" name="L528"></a> 528                 <a href="../D/19169.html" title="Multiple defined in 4 places.">getFocusTraversalKeys</a>(<a href="../S/2110.html#L107" title="Defined at 107 in src/java/awt/KeyboardFocusManager.java.">KeyboardFocusManager</a>.
<a id="L529" name="L529"></a> 529                                       BACKWARD_TRAVERSAL_KEYS);
<a id="L530" name="L530"></a> 530             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/2439.html#L67" title="Defined at 67 in src/java/awt/AWTKeyStroke.java.">AWTKeyStroke</a>&gt; forwardTraversalKeys =
<a id="L531" name="L531"></a> 531                 <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../S/2439.html#L67" title="Defined at 67 in src/java/awt/AWTKeyStroke.java.">AWTKeyStroke</a>&gt;(storedForwardTraversalKeys);
<a id="L532" name="L532"></a> 532             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/2439.html#L67" title="Defined at 67 in src/java/awt/AWTKeyStroke.java.">AWTKeyStroke</a>&gt; backwardTraversalKeys =
<a id="L533" name="L533"></a> 533                 <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../S/2439.html#L67" title="Defined at 67 in src/java/awt/AWTKeyStroke.java.">AWTKeyStroke</a>&gt;(storedBackwardTraversalKeys);
<a id="L534" name="L534"></a> 534             <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>()) <em class="brace">{</em>
<a id="L535" name="L535"></a> 535                 forwardTraversalKeys.
<a id="L536" name="L536"></a> 536                     <a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>.<a href="../D/19953.html" title="Multiple defined in 6 places.">getKeyStroke</a>(<a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>.VK_TAB, 0));
<a id="L537" name="L537"></a> 537                 backwardTraversalKeys.
<a id="L538" name="L538"></a> 538                     <a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>.<a href="../D/19953.html" title="Multiple defined in 6 places.">getKeyStroke</a>(<a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>.VK_TAB,
<a id="L539" name="L539"></a> 539                                                   <a href="../S/2412.html#L59" title="Defined at 59 in src/java/awt/event/InputEvent.java.">InputEvent</a>.SHIFT_MASK));
<a id="L540" name="L540"></a> 540             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L541" name="L541"></a> 541                 forwardTraversalKeys.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>.
<a id="L542" name="L542"></a> 542                                          <a href="../D/19953.html" title="Multiple defined in 6 places.">getKeyStroke</a>(<a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>.VK_TAB, 0));
<a id="L543" name="L543"></a> 543                 backwardTraversalKeys.
<a id="L544" name="L544"></a> 544                     <a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>.
<a id="L545" name="L545"></a> 545                         <a href="../D/19953.html" title="Multiple defined in 6 places.">getKeyStroke</a>(<a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>.VK_TAB, <a href="../S/2412.html#L59" title="Defined at 59 in src/java/awt/event/InputEvent.java.">InputEvent</a>.SHIFT_MASK));
<a id="L546" name="L546"></a> 546             <em class="brace">}</em>
<a id="L547" name="L547"></a> 547             <a href="../S/3220.html#L151" title="Defined at 151 in src/javax/swing/LookAndFeel.java.">LookAndFeel</a>.<a href="../S/3220.html#L270" title="Defined at 270 in src/javax/swing/LookAndFeel.java.">installProperty</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>,
<a id="L548" name="L548"></a> 548                                         "focusTraversalKeysForward",
<a id="L549" name="L549"></a> 549                                          forwardTraversalKeys);
<a id="L550" name="L550"></a> 550             <a href="../S/3220.html#L151" title="Defined at 151 in src/javax/swing/LookAndFeel.java.">LookAndFeel</a>.<a href="../S/3220.html#L270" title="Defined at 270 in src/javax/swing/LookAndFeel.java.">installProperty</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>,
<a id="L551" name="L551"></a> 551                                         "focusTraversalKeysBackward",
<a id="L552" name="L552"></a> 552                                          backwardTraversalKeys);
<a id="L553" name="L553"></a> 553         <em class="brace">}</em>
<a id="L554" name="L554"></a> 554 
<a id="L555" name="L555"></a> 555     <em class="brace">}</em>
<a id="L556" name="L556"></a> 556 
<div class="comment">
      As needed updates cursor for the target editor.</div>
<a id="L560" name="L560"></a> 560     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/29842.html" title="Multiple referred from 2 places.">updateCursor</a>() <em class="brace">{</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">if</strong> ((! <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/2177.html#L3188" title="Defined at 3188 in src/java/awt/Component.java.">isCursorSet</a>())
<a id="L562" name="L562"></a> 562                || <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18132.html" title="Multiple defined in 16 places.">getCursor</a>() <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L563" name="L563"></a> 563             <a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a> <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>()) ? textCursor : <strong class="reserved">null</strong>;
<a id="L564" name="L564"></a> 564             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/32319.html" title="Multiple defined in 18 places.">setCursor</a>(<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>);
<a id="L565" name="L565"></a> 565         <em class="brace">}</em>
<a id="L566" name="L566"></a> 566     <em class="brace">}</em>
<a id="L567" name="L567"></a> 567 
<div class="comment">
      Returns the <code>TransferHandler</code> that will be installed if
      their isn't one installed on the <code>JTextComponent</code>.</div>
<a id="L572" name="L572"></a> 572     <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a> <a href="../R/19567.html" title="Multiple referred from 31 places.">getTransferHandler</a>() <em class="brace">{</em>
<a id="L573" name="L573"></a> 573         <strong class="reserved">return</strong> defaultTransferHandler;
<a id="L574" name="L574"></a> 574     <em class="brace">}</em>
<a id="L575" name="L575"></a> 575 
<div class="comment">
      Fetch an action map to use.</div>
<a id="L579" name="L579"></a> 579     <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> <a href="../R/14954.html" title="Multiple referred from 35 places.">getActionMap</a>() <em class="brace">{</em>
<a id="L580" name="L580"></a> 580         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4549.html#L131" title="Defined at 131 in src/com/sun/org/apache/bcel/internal/util/InstructionFinder.java.">mapName</a> = <a href="../D/21739.html" title="Multiple defined in 26 places.">getPropertyPrefix</a>() + ".actionMap";
<a id="L581" name="L581"></a> 581         <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = (<a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a>)<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/4549.html#L131" title="Defined at 131 in src/com/sun/org/apache/bcel/internal/util/InstructionFinder.java.">mapName</a>);
<a id="L582" name="L582"></a> 582 
<a id="L583" name="L583"></a> 583         <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584             <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <a href="../D/13592.html" title="Multiple defined in 7 places.">createActionMap</a>();
<a id="L585" name="L585"></a> 585             <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586                 <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/20288.html" title="Multiple defined in 2 places.">getLookAndFeelDefaults</a>().<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/4549.html#L131" title="Defined at 131 in src/com/sun/org/apache/bcel/internal/util/InstructionFinder.java.">mapName</a>, <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L587" name="L587"></a> 587             <em class="brace">}</em>
<a id="L588" name="L588"></a> 588         <em class="brace">}</em>
<a id="L589" name="L589"></a> 589         <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> componentMap = <strong class="reserved">new</strong> <a href="../S/3112.html#L38" title="Defined at 38 in src/javax/swing/plaf/ActionMapUIResource.java.">ActionMapUIResource</a>();
<a id="L590" name="L590"></a> 590         componentMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("requestFocus", <strong class="reserved">new</strong> <a href="../S/2895.html#L2098" title="Defined at 2098 in src/javax/swing/plaf/basic/BasicTextUI.java.">FocusAction</a>());
<div class="comment">
          fix for bug 4515750
          JTextField &amp; non-editable JTextArea bind return key - default btn not accessible
          Wrap the return action so that it is only enabled when the
          component is editable. This allows the default button to be
          processed when the text component has focus and isn't editable.</div>
<a id="L600" name="L600"></a> 600         <strong class="reserved">if</strong> (<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>) <strong class="reserved">instanceof</strong> <a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>) <em class="brace">{</em>
<a id="L601" name="L601"></a> 601             <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>.insertBreakAction);
<a id="L603" name="L603"></a> 603                 <strong class="reserved">if</strong> (obj != <strong class="reserved">null</strong>
<a id="L604" name="L604"></a> 604                     &amp;&amp; obj <strong class="reserved">instanceof</strong> <a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>.<a href="../S/3360.html#L957" title="Defined at 957 in src/javax/swing/text/DefaultEditorKit.java.">InsertBreakAction</a>) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605                     <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> =  <strong class="reserved">new</strong> <a href="../S/2895.html#L2075" title="Defined at 2075 in src/javax/swing/plaf/basic/BasicTextUI.java.">TextActionWrapper</a>((<a href="../S/3253.html#L61" title="Defined at 61 in src/javax/swing/text/TextAction.java.">TextAction</a>)obj);
<a id="L606" name="L606"></a> 606                     componentMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME),<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>);
<a id="L607" name="L607"></a> 607                 <em class="brace">}</em>
<a id="L608" name="L608"></a> 608             <em class="brace">}</em>
<a id="L609" name="L609"></a> 609         <em class="brace">}</em>
<a id="L610" name="L610"></a> 610         <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L611" name="L611"></a> 611             componentMap.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L612" name="L612"></a> 612         <em class="brace">}</em>
<a id="L613" name="L613"></a> 613         <strong class="reserved">return</strong> componentMap;
<a id="L614" name="L614"></a> 614     <em class="brace">}</em>
<a id="L615" name="L615"></a> 615 
<div class="comment">
      Create a default action map.  This is basically the
      set of actions found exported by the component.</div>
<a id="L620" name="L620"></a> 620     <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> <a href="../R/12195.html" title="Multiple referred from 6 places.">createActionMap</a>() <em class="brace">{</em>
<a id="L621" name="L621"></a> 621         <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <strong class="reserved">new</strong> <a href="../S/3112.html#L38" title="Defined at 38 in src/javax/swing/plaf/ActionMapUIResource.java.">ActionMapUIResource</a>();
<a id="L622" name="L622"></a> 622         <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[] <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>();
<a id="L623" name="L623"></a> 623         <em class="comment">//System.out.println("building map for UI: " + getPropertyPrefix());</em>
<a id="L624" name="L624"></a> 624         <strong class="reserved">int</strong> n = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L625" name="L625"></a> 625         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>[i];
<a id="L627" name="L627"></a> 627             <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME), <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L628" name="L628"></a> 628             <em class="comment">//System.out.println("  " + a.getValue(Action.NAME));</em>
<a id="L629" name="L629"></a> 629         <em class="brace">}</em>
<a id="L630" name="L630"></a> 630         <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L591" title="Defined at 591 in src/javax/swing/TransferHandler.java.">getCutAction</a>().<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME),
<a id="L631" name="L631"></a> 631                 <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L591" title="Defined at 591 in src/javax/swing/TransferHandler.java.">getCutAction</a>());
<a id="L632" name="L632"></a> 632         <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L603" title="Defined at 603 in src/javax/swing/TransferHandler.java.">getCopyAction</a>().<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME),
<a id="L633" name="L633"></a> 633                 <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L603" title="Defined at 603 in src/javax/swing/TransferHandler.java.">getCopyAction</a>());
<a id="L634" name="L634"></a> 634         <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L615" title="Defined at 615 in src/javax/swing/TransferHandler.java.">getPasteAction</a>().<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME),
<a id="L635" name="L635"></a> 635                 <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L615" title="Defined at 615 in src/javax/swing/TransferHandler.java.">getPasteAction</a>());
<a id="L636" name="L636"></a> 636         <strong class="reserved">return</strong> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L637" name="L637"></a> 637     <em class="brace">}</em>
<a id="L638" name="L638"></a> 638 
<a id="L639" name="L639"></a> 639     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29671.html" title="Multiple referred from 49 places.">uninstallKeyboardActions</a>() <em class="brace">{</em>
<a id="L640" name="L640"></a> 640         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L644" title="Defined at 644 in src/javax/swing/text/JTextComponent.java.">setKeymap</a>(<strong class="reserved">null</strong>);
<a id="L641" name="L641"></a> 641         <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1677" title="Defined at 1677 in src/javax/swing/SwingUtilities.java.">replaceUIInputMap</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>.
<a id="L642" name="L642"></a> 642                                          WHEN_IN_FOCUSED_WINDOW, <strong class="reserved">null</strong>);
<a id="L643" name="L643"></a> 643         <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1699" title="Defined at 1699 in src/javax/swing/SwingUtilities.java.">replaceUIActionMap</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, <strong class="reserved">null</strong>);
<a id="L644" name="L644"></a> 644     <em class="brace">}</em>
<a id="L645" name="L645"></a> 645 
<div class="comment">
      Paints a background for the view.  This will only be
      called if isOpaque() on the associated component is
      true.  The default is to paint the background color
      of the component.
      @param g the graphics context</div>
<a id="L654" name="L654"></a> 654     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24103.html" title="Multiple referred from 107 places.">paintBackground</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655         g.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>());
<a id="L656" name="L656"></a> 656         g.<a href="../D/16053.html" title="Multiple defined in 2 places.">fillRect</a>(0, 0, <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(), <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>());
<a id="L657" name="L657"></a> 657     <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<div class="comment">
      Fetches the text component associated with this
      UI implementation.  This will be null until
      the ui has been installed.
      @return the editor component</div>
<a id="L666" name="L666"></a> 666     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../R/15711.html" title="Multiple referred from 414 places.">getComponent</a>() <em class="brace">{</em>
<a id="L667" name="L667"></a> 667         <strong class="reserved">return</strong> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>;
<a id="L668" name="L668"></a> 668     <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<div class="comment">
      Flags model changes.
      This is called whenever the model has changed.
      It is implemented to rebuild the view hierarchy
      to represent the default root element of the
      associated model.</div>
<a id="L677" name="L677"></a> 677     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/23330.html" title="Multiple referred from 18 places.">modelChanged</a>() <em class="brace">{</em>
<a id="L678" name="L678"></a> 678         <em class="comment">// create a view hierarchy</em>
<a id="L679" name="L679"></a> 679         <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f = rootView.<a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>();
<a id="L680" name="L680"></a> 680         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L681" name="L681"></a> 681         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = doc.<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L682" name="L682"></a> 682         <a href="../D/34294.html" title="Multiple defined in 5 places.">setView</a>(f.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(elem));
<a id="L683" name="L683"></a> 683     <em class="brace">}</em>
<a id="L684" name="L684"></a> 684 
<div class="comment">
      Sets the current root of the view hierarchy and calls invalidate().
      If there were any child components, they will be removed (i.e.
      there are assumed to have come from components embedded in views).
      @param v the root view</div>
<a id="L692" name="L692"></a> 692     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/28394.html" title="Multiple referred from 13 places.">setView</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693         rootView.<a href="../D/34294.html" title="Multiple defined in 5 places.">setView</a>(v);
<a id="L694" name="L694"></a> 694         painted = <strong class="reserved">false</strong>;
<a id="L695" name="L695"></a> 695         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/31406.html" title="Multiple defined in 9 places.">revalidate</a>();
<a id="L696" name="L696"></a> 696         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>();
<a id="L697" name="L697"></a> 697     <em class="brace">}</em>
<a id="L698" name="L698"></a> 698 
<div class="comment">
      Paints the interface safely with a guarantee that
      the model won't change from the view of this thread.
      This does the following things, rendering from
      back to front.
      <ol>
      <li>
      If the component is marked as opaque, the background
      is painted in the current background color of the
      component.
      </li><li>
      The highlights (if any) are painted.
      </li><li>
      The view hierarchy is painted.
      </li><li>
      The caret is painted.
      </li></ol>
      @param g the graphics context</div>
<a id="L719" name="L719"></a> 719     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/2895.html#L881" title="Referred from 881 in src/javax/swing/plaf/basic/BasicTextUI.java.">paintSafely</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g) <em class="brace">{</em>
<a id="L720" name="L720"></a> 720         painted = <strong class="reserved">true</strong>;
<a id="L721" name="L721"></a> 721         <a href="../S/3239.html#L37" title="Defined at 37 in src/javax/swing/text/Highlighter.java.">Highlighter</a> highlighter = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../S/3351.html#L600" title="Defined at 600 in src/javax/swing/text/JTextComponent.java.">getHighlighter</a>();
<a id="L722" name="L722"></a> 722         <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> caret = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L723" name="L723"></a> 723 
<a id="L724" name="L724"></a> 724         <em class="comment">// paint the background</em>
<a id="L725" name="L725"></a> 725         <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/25996.html" title="Multiple defined in 14 places.">isOpaque</a>()) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726             <a href="../D/28667.html" title="Multiple defined in 29 places.">paintBackground</a>(g);
<a id="L727" name="L727"></a> 727         <em class="brace">}</em>
<a id="L728" name="L728"></a> 728 
<a id="L729" name="L729"></a> 729         <em class="comment">// paint the highlights</em>
<a id="L730" name="L730"></a> 730         <strong class="reserved">if</strong> (highlighter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L731" name="L731"></a> 731             highlighter.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g);
<a id="L732" name="L732"></a> 732         <em class="brace">}</em>
<a id="L733" name="L733"></a> 733 
<a id="L734" name="L734"></a> 734         <em class="comment">// paint the view hierarchy</em>
<a id="L735" name="L735"></a> 735         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>();
<a id="L736" name="L736"></a> 736         <strong class="reserved">if</strong> (alloc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L737" name="L737"></a> 737             rootView.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, alloc);
<a id="L738" name="L738"></a> 738         <em class="brace">}</em>
<a id="L739" name="L739"></a> 739 
<a id="L740" name="L740"></a> 740         <em class="comment">// paint the caret</em>
<a id="L741" name="L741"></a> 741         <strong class="reserved">if</strong> (caret != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L742" name="L742"></a> 742             caret.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g);
<a id="L743" name="L743"></a> 743         <em class="brace">}</em>
<a id="L744" name="L744"></a> 744 
<a id="L745" name="L745"></a> 745         <strong class="reserved">if</strong> (dropCaret != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L746" name="L746"></a> 746             dropCaret.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g);
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748     <em class="brace">}</em>
<a id="L749" name="L749"></a> 749 
<a id="L750" name="L750"></a> 750     <em class="comment">// --- ComponentUI methods --------------------------------------------</em>
<a id="L751" name="L751"></a> 751 
<div class="comment">
      Installs the UI for a component.  This does the following
      things.
      <ol>
      <li>
      Sets the associated component to opaque if the opaque property
      has not already been set by the client program. This will cause the
      component's background color to be painted.
      </li><li>
      Installs the default caret and highlighter into the
      associated component. These properties are only set if their
      current value is either <code>null</code> or an instance of
      <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>.
      </li><li>
      Attaches to the editor and model.  If there is no
      model, a default one is created.
      </li><li>
      Creates the view factory and the view hierarchy used
      to represent the model.
      </li></ol>
      @param c the editor component
      @see ComponentUI#installUI</div>
<a id="L776" name="L776"></a> 776     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20881.html" title="Multiple referred from 103 places.">installUI</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L777" name="L777"></a> 777         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>) <em class="brace">{</em>
<a id="L778" name="L778"></a> 778             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>) <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L779" name="L779"></a> 779 
<a id="L780" name="L780"></a> 780             <em class="comment">// common case is background painted... this can</em>
<a id="L781" name="L781"></a> 781             <em class="comment">// easily be changed by subclasses or from outside</em>
<a id="L782" name="L782"></a> 782             <em class="comment">// of the component.</em>
<a id="L783" name="L783"></a> 783             <a href="../S/3220.html#L151" title="Defined at 151 in src/javax/swing/LookAndFeel.java.">LookAndFeel</a>.<a href="../S/3220.html#L270" title="Defined at 270 in src/javax/swing/LookAndFeel.java.">installProperty</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, "opaque", <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L784" name="L784"></a> 784             <a href="../S/3220.html#L151" title="Defined at 151 in src/javax/swing/LookAndFeel.java.">LookAndFeel</a>.<a href="../S/3220.html#L270" title="Defined at 270 in src/javax/swing/LookAndFeel.java.">installProperty</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>, "autoscrolls", <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L785" name="L785"></a> 785 
<a id="L786" name="L786"></a> 786             <em class="comment">// install defaults</em>
<a id="L787" name="L787"></a> 787             <a href="../D/24831.html" title="Multiple defined in 107 places.">installDefaults</a>();
<a id="L788" name="L788"></a> 788             <a href="../D/24832.html" title="Multiple defined in 2 places.">installDefaults2</a>();
<a id="L789" name="L789"></a> 789 
<a id="L790" name="L790"></a> 790             <em class="comment">// attach to the model and editor</em>
<a id="L791" name="L791"></a> 791             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/11015.html" title="Multiple defined in 48 places.">addPropertyChangeListener</a>(updateHandler);
<a id="L792" name="L792"></a> 792             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L793" name="L793"></a> 793             <strong class="reserved">if</strong> (doc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L794" name="L794"></a> 794                 <em class="comment">// no model, create a default one.  This will</em>
<a id="L795" name="L795"></a> 795                 <em class="comment">// fire a notification to the updateHandler</em>
<a id="L796" name="L796"></a> 796                 <em class="comment">// which takes care of the rest.</em>
<a id="L797" name="L797"></a> 797                 <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/32493.html" title="Multiple defined in 6 places.">setDocument</a>(<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>).<a href="../D/13765.html" title="Multiple defined in 5 places.">createDefaultDocument</a>());
<a id="L798" name="L798"></a> 798             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L799" name="L799"></a> 799                 doc.<a href="../D/10761.html" title="Multiple defined in 3 places.">addDocumentListener</a>(updateHandler);
<a id="L800" name="L800"></a> 800                 <a href="../S/2895.html#L677" title="Defined at 677 in src/javax/swing/plaf/basic/BasicTextUI.java.">modelChanged</a>();
<a id="L801" name="L801"></a> 801             <em class="brace">}</em>
<a id="L802" name="L802"></a> 802 
<a id="L803" name="L803"></a> 803             <em class="comment">// install keymap</em>
<a id="L804" name="L804"></a> 804             <a href="../D/24846.html" title="Multiple defined in 77 places.">installListeners</a>();
<a id="L805" name="L805"></a> 805             <a href="../D/24842.html" title="Multiple defined in 31 places.">installKeyboardActions</a>();
<a id="L806" name="L806"></a> 806 
<a id="L807" name="L807"></a> 807             <a href="../S/2175.html#L43" title="Defined at 43 in src/java/awt/LayoutManager.java.">LayoutManager</a> oldLayout = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/20030.html" title="Multiple defined in 2 places.">getLayout</a>();
<a id="L808" name="L808"></a> 808             <strong class="reserved">if</strong> ((oldLayout == <strong class="reserved">null</strong>) || (oldLayout <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>)) <em class="brace">{</em>
<a id="L809" name="L809"></a> 809                 <em class="comment">// by default, use default LayoutManger implementation that</em>
<a id="L810" name="L810"></a> 810                 <em class="comment">// will position the components associated with a View object.</em>
<a id="L811" name="L811"></a> 811                 <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/33061.html" title="Multiple defined in 12 places.">setLayout</a>(updateHandler);
<a id="L812" name="L812"></a> 812             <em class="brace">}</em>
<a id="L813" name="L813"></a> 813 
<a id="L814" name="L814"></a> 814             <a href="../S/2895.html#L215" title="Defined at 215 in src/javax/swing/plaf/basic/BasicTextUI.java.">updateBackground</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>);
<a id="L815" name="L815"></a> 815         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L816" name="L816"></a> 816             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("TextUI needs JTextComponent");
<a id="L817" name="L817"></a> 817         <em class="brace">}</em>
<a id="L818" name="L818"></a> 818     <em class="brace">}</em>
<a id="L819" name="L819"></a> 819 
<div class="comment">
      Deinstalls the UI for a component.  This removes the listeners,
      uninstalls the highlighter, removes views, and nulls out the keymap.
      @param c the editor component
      @see ComponentUI#uninstallUI</div>
<a id="L827" name="L827"></a> 827     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29679.html" title="Multiple referred from 58 places.">uninstallUI</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L828" name="L828"></a> 828         <em class="comment">// detach from the model</em>
<a id="L829" name="L829"></a> 829         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/30926.html" title="Multiple defined in 44 places.">removePropertyChangeListener</a>(updateHandler);
<a id="L830" name="L830"></a> 830         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/30761.html" title="Multiple defined in 3 places.">removeDocumentListener</a>(updateHandler);
<a id="L831" name="L831"></a> 831 
<a id="L832" name="L832"></a> 832         <em class="comment">// view part</em>
<a id="L833" name="L833"></a> 833         painted = <strong class="reserved">false</strong>;
<a id="L834" name="L834"></a> 834         <a href="../D/35867.html" title="Multiple defined in 87 places.">uninstallDefaults</a>();
<a id="L835" name="L835"></a> 835         rootView.<a href="../D/34294.html" title="Multiple defined in 5 places.">setView</a>(<strong class="reserved">null</strong>);
<a id="L836" name="L836"></a> 836         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/30685.html" title="Multiple defined in 45 places.">removeAll</a>();
<a id="L837" name="L837"></a> 837         <a href="../S/2175.html#L43" title="Defined at 43 in src/java/awt/LayoutManager.java.">LayoutManager</a> lm = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/20030.html" title="Multiple defined in 2 places.">getLayout</a>();
<a id="L838" name="L838"></a> 838         <strong class="reserved">if</strong> (lm <strong class="reserved">instanceof</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a>) <em class="brace">{</em>
<a id="L839" name="L839"></a> 839             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/33061.html" title="Multiple defined in 12 places.">setLayout</a>(<strong class="reserved">null</strong>);
<a id="L840" name="L840"></a> 840         <em class="brace">}</em>
<a id="L841" name="L841"></a> 841 
<a id="L842" name="L842"></a> 842         <em class="comment">// controller part</em>
<a id="L843" name="L843"></a> 843         <a href="../D/35870.html" title="Multiple defined in 26 places.">uninstallKeyboardActions</a>();
<a id="L844" name="L844"></a> 844         <a href="../D/35873.html" title="Multiple defined in 75 places.">uninstallListeners</a>();
<a id="L845" name="L845"></a> 845 
<a id="L846" name="L846"></a> 846         <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a> = <strong class="reserved">null</strong>;
<a id="L847" name="L847"></a> 847     <em class="brace">}</em>
<a id="L848" name="L848"></a> 848 
<div class="comment">
      Superclass paints background in an uncontrollable way
      (i.e. one might want an image tiled into the background).
      To prevent this from happening twice, this method is
      reimplemented to simply paint.
      <p>
      <em>NOTE:</em> NOTE: Superclass is also not thread-safe in its
      rendering of the background, although that is not an issue with the
      default rendering.</p></div>
<a id="L859" name="L859"></a> 859     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29799.html" title="Multiple referred from 234 places.">update</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L860" name="L860"></a> 860         <a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L861" name="L861"></a> 861     <em class="brace">}</em>
<a id="L862" name="L862"></a> 862 
<div class="comment">
      Paints the interface.  This is routed to the
      paintSafely method under the guarantee that
      the model won't change from the view of this thread
      while it's rendering (if the associated model is
      derived from AbstractDocument).  This enables the
      model to potentially be updated asynchronously.
      @param g the graphics context
      @param c the editor component</div>
<a id="L874" name="L874"></a> 874     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L875" name="L875"></a> 875         <strong class="reserved">if</strong> ((rootView.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() &gt; 0) &amp;&amp; (rootView.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(0) != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L876" name="L876"></a> 876             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L877" name="L877"></a> 877             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L878" name="L878"></a> 878                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L879" name="L879"></a> 879             <em class="brace">}</em>
<a id="L880" name="L880"></a> 880             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L881" name="L881"></a> 881                 <a href="../S/2895.html#L719" title="Defined at 719 in src/javax/swing/plaf/basic/BasicTextUI.java.">paintSafely</a>(g);
<a id="L882" name="L882"></a> 882             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L883" name="L883"></a> 883                 <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L884" name="L884"></a> 884                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L885" name="L885"></a> 885                 <em class="brace">}</em>
<a id="L886" name="L886"></a> 886             <em class="brace">}</em>
<a id="L887" name="L887"></a> 887         <em class="brace">}</em>
<a id="L888" name="L888"></a> 888     <em class="brace">}</em>
<a id="L889" name="L889"></a> 889 
<div class="comment">
      Gets the preferred size for the editor component.  If the component
      has been given a size prior to receiving this request, it will
      set the size of the view hierarchy to reflect the size of the component
      before requesting the preferred size of the view hierarchy.  This
      allows formatted views to format to the current component size before
      answering the request.  Other views don't care about currently formatted
      size and give the same answer either way.
      @param c the editor component
      @return the size</div>
<a id="L902" name="L902"></a> 902     <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/18410.html" title="Multiple referred from 356 places.">getPreferredSize</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L903" name="L903"></a> 903         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L904" name="L904"></a> 904         <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> i = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/19755.html" title="Multiple defined in 21 places.">getInsets</a>();
<a id="L905" name="L905"></a> 905         <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> d = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22527.html" title="Multiple defined in 76 places.">getSize</a>();
<a id="L906" name="L906"></a> 906 
<a id="L907" name="L907"></a> 907         <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L908" name="L908"></a> 908             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L909" name="L909"></a> 909         <em class="brace">}</em>
<a id="L910" name="L910"></a> 910         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L911" name="L911"></a> 911             <strong class="reserved">if</strong> ((d.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> &gt; (i.left + i.right)) &amp;&amp; (d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> &gt; (i.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> + i.bottom))) <em class="brace">{</em>
<a id="L912" name="L912"></a> 912                 rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(d.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> - i.left - i.right, d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> - i.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> - i.bottom);
<a id="L913" name="L913"></a> 913             <em class="brace">}</em>
<a id="L914" name="L914"></a> 914             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (d.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> == 0 &amp;&amp; d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> == 0) <em class="brace">{</em>
<a id="L915" name="L915"></a> 915                 <em class="comment">// Probably haven't been layed out yet, force some sort of</em>
<a id="L916" name="L916"></a> 916                 <em class="comment">// initial sizing.</em>
<a id="L917" name="L917"></a> 917                 rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L918" name="L918"></a> 918             <em class="brace">}</em>
<a id="L919" name="L919"></a> 919             d.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = (<strong class="reserved">int</strong>) <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>((<strong class="reserved">long</strong>) rootView.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS) +
<a id="L920" name="L920"></a> 920                                      (<strong class="reserved">long</strong>) i.left + (<strong class="reserved">long</strong>) i.right, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L921" name="L921"></a> 921             d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = (<strong class="reserved">int</strong>) <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>((<strong class="reserved">long</strong>) rootView.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS) +
<a id="L922" name="L922"></a> 922                                       (<strong class="reserved">long</strong>) i.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> + (<strong class="reserved">long</strong>) i.bottom, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L923" name="L923"></a> 923         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L924" name="L924"></a> 924             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L925" name="L925"></a> 925                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L926" name="L926"></a> 926             <em class="brace">}</em>
<a id="L927" name="L927"></a> 927         <em class="brace">}</em>
<a id="L928" name="L928"></a> 928         <strong class="reserved">return</strong> d;
<a id="L929" name="L929"></a> 929     <em class="brace">}</em>
<a id="L930" name="L930"></a> 930 
<div class="comment">
      Gets the minimum size for the editor component.
      @param c the editor component
      @return the size</div>
<a id="L937" name="L937"></a> 937     <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/17738.html" title="Multiple referred from 168 places.">getMinimumSize</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L938" name="L938"></a> 938         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L939" name="L939"></a> 939         <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> i = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/19755.html" title="Multiple defined in 21 places.">getInsets</a>();
<a id="L940" name="L940"></a> 940         <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> d = <strong class="reserved">new</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>();
<a id="L941" name="L941"></a> 941         <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L942" name="L942"></a> 942             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L943" name="L943"></a> 943         <em class="brace">}</em>
<a id="L944" name="L944"></a> 944         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L945" name="L945"></a> 945             d.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = (<strong class="reserved">int</strong>) rootView.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS) + i.left + i.right;
<a id="L946" name="L946"></a> 946             d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = (<strong class="reserved">int</strong>)  rootView.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS) + i.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> + i.bottom;
<a id="L947" name="L947"></a> 947         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L948" name="L948"></a> 948             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L949" name="L949"></a> 949                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L950" name="L950"></a> 950             <em class="brace">}</em>
<a id="L951" name="L951"></a> 951         <em class="brace">}</em>
<a id="L952" name="L952"></a> 952         <strong class="reserved">return</strong> d;
<a id="L953" name="L953"></a> 953     <em class="brace">}</em>
<a id="L954" name="L954"></a> 954 
<div class="comment">
      Gets the maximum size for the editor component.
      @param c the editor component
      @return the size</div>
<a id="L961" name="L961"></a> 961     <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/17621.html" title="Multiple referred from 119 places.">getMaximumSize</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L962" name="L962"></a> 962         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L963" name="L963"></a> 963         <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> i = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/19755.html" title="Multiple defined in 21 places.">getInsets</a>();
<a id="L964" name="L964"></a> 964         <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> d = <strong class="reserved">new</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>();
<a id="L965" name="L965"></a> 965         <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L966" name="L966"></a> 966             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L967" name="L967"></a> 967         <em class="brace">}</em>
<a id="L968" name="L968"></a> 968         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L969" name="L969"></a> 969             d.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = (<strong class="reserved">int</strong>) <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>((<strong class="reserved">long</strong>) rootView.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS) +
<a id="L970" name="L970"></a> 970                                      (<strong class="reserved">long</strong>) i.left + (<strong class="reserved">long</strong>) i.right, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L971" name="L971"></a> 971             d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = (<strong class="reserved">int</strong>) <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>((<strong class="reserved">long</strong>) rootView.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS) +
<a id="L972" name="L972"></a> 972                                       (<strong class="reserved">long</strong>) i.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> + (<strong class="reserved">long</strong>) i.bottom, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L973" name="L973"></a> 973         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L974" name="L974"></a> 974             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L975" name="L975"></a> 975                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L976" name="L976"></a> 976             <em class="brace">}</em>
<a id="L977" name="L977"></a> 977         <em class="brace">}</em>
<a id="L978" name="L978"></a> 978         <strong class="reserved">return</strong> d;
<a id="L979" name="L979"></a> 979     <em class="brace">}</em>
<a id="L980" name="L980"></a> 980 
<a id="L981" name="L981"></a> 981     <em class="comment">// ---- TextUI methods -------------------------------------------</em>
<a id="L982" name="L982"></a> 982 
<a id="L983" name="L983"></a> 983 
<div class="comment">
      Gets the allocation to give the root View.  Due
      to an unfortunate set of historical events this
      method is inappropriately named.  The Rectangle
      returned has nothing to do with visibility.
      The component must have a non-zero positive size for
      this translation to be computed.
      @return the bounding box for the root view</div>
<a id="L994" name="L994"></a> 994     <strong class="reserved">protected</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/19825.html" title="Multiple referred from 10 places.">getVisibleEditorRect</a>() <em class="brace">{</em>
<a id="L995" name="L995"></a> 995         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L996" name="L996"></a> 996         <strong class="reserved">if</strong> ((alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> &gt; 0) &amp;&amp; (alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> &gt; 0)) <em class="brace">{</em>
<a id="L997" name="L997"></a> 997             alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = alloc.y = 0;
<a id="L998" name="L998"></a> 998             <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a> = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/19755.html" title="Multiple defined in 21 places.">getInsets</a>();
<a id="L999" name="L999"></a> 999             alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.left;
<a id="L1000" name="L1000"></a>1000             alloc.y += <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>;
<a id="L1001" name="L1001"></a>1001             alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> -= <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.left + <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.right;
<a id="L1002" name="L1002"></a>1002             alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> -= <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> + <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.bottom;
<a id="L1003" name="L1003"></a>1003             <strong class="reserved">return</strong> alloc;
<a id="L1004" name="L1004"></a>1004         <em class="brace">}</em>
<a id="L1005" name="L1005"></a>1005         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1006" name="L1006"></a>1006     <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007 
<div class="comment">
      Converts the given location in the model to a place in
      the view coordinate system.
      The component must have a non-zero positive size for
      this translation to be computed.
      @param tc the text component for which this UI is installed
      @param pos the local location in the model to translate &gt;= 0
      @return the coordinates as a rectangle, null if the model is not painted
      @exception BadLocationException  if the given position does not
        represent a valid location in the associated document
      @see TextUI#modelToView</div>
<a id="L1021" name="L1021"></a>1021     <strong class="reserved">public</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> tc, <strong class="reserved">int</strong> pos) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022         <strong class="reserved">return</strong> <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(tc, pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward);
<a id="L1023" name="L1023"></a>1023     <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024 
<div class="comment">
      Converts the given location in the model to a place in
      the view coordinate system.
      The component must have a non-zero positive size for
      this translation to be computed.
      @param tc the text component for which this UI is installed
      @param pos the local location in the model to translate &gt;= 0
      @return the coordinates as a rectangle, null if the model is not painted
      @exception BadLocationException  if the given position does not
        represent a valid location in the associated document
      @see TextUI#modelToView</div>
<a id="L1038" name="L1038"></a>1038     <strong class="reserved">public</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> tc, <strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> bias) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1040" name="L1040"></a>1040         <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L1042" name="L1042"></a>1042         <em class="brace">}</em>
<a id="L1043" name="L1043"></a>1043         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1044" name="L1044"></a>1044             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>();
<a id="L1045" name="L1045"></a>1045             <strong class="reserved">if</strong> (alloc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046                 rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1047" name="L1047"></a>1047                 <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> s = rootView.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos, alloc, bias);
<a id="L1048" name="L1048"></a>1048                 <strong class="reserved">if</strong> (s != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1049" name="L1049"></a>1049                   <strong class="reserved">return</strong> s.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L1050" name="L1050"></a>1050                 <em class="brace">}</em>
<a id="L1051" name="L1051"></a>1051             <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1053" name="L1053"></a>1053             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1054" name="L1054"></a>1054                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L1055" name="L1055"></a>1055             <em class="brace">}</em>
<a id="L1056" name="L1056"></a>1056         <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1058" name="L1058"></a>1058     <em class="brace">}</em>
<a id="L1059" name="L1059"></a>1059 
<div class="comment">
      Converts the given place in the view coordinate system
      to the nearest representative location in the model.
      The component must have a non-zero positive size for
      this translation to be computed.
      @param tc the text component for which this UI is installed
      @param pt the location in the view to translate.  This
       should be in the same coordinate system as the mouse events.
      @return the offset from the start of the document &gt;= 0,
        -1 if not painted
      @see TextUI#viewToModel</div>
<a id="L1073" name="L1073"></a>1073     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/30138.html" title="Multiple referred from 99 places.">viewToModel</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> tc, <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> pt) <em class="brace">{</em>
<a id="L1074" name="L1074"></a>1074         <strong class="reserved">return</strong> <a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(tc, pt, discardBias);
<a id="L1075" name="L1075"></a>1075     <em class="brace">}</em>
<a id="L1076" name="L1076"></a>1076 
<div class="comment">
      Converts the given place in the view coordinate system
      to the nearest representative location in the model.
      The component must have a non-zero positive size for
      this translation to be computed.
      @param tc the text component for which this UI is installed
      @param pt the location in the view to translate.  This
       should be in the same coordinate system as the mouse events.
      @return the offset from the start of the document &gt;= 0,
        -1 if the component doesn't yet have a positive size.
      @see TextUI#viewToModel</div>
<a id="L1090" name="L1090"></a>1090     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/30138.html" title="Multiple referred from 99 places.">viewToModel</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> tc, <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> pt,
<a id="L1091" name="L1091"></a>1091                            <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasReturn) <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092         <strong class="reserved">int</strong> offs = -1;
<a id="L1093" name="L1093"></a>1093         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1094" name="L1094"></a>1094         <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1095" name="L1095"></a>1095             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L1096" name="L1096"></a>1096         <em class="brace">}</em>
<a id="L1097" name="L1097"></a>1097         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>();
<a id="L1099" name="L1099"></a>1099             <strong class="reserved">if</strong> (alloc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1100" name="L1100"></a>1100                 rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1101" name="L1101"></a>1101                 offs = rootView.<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(pt.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, pt.y, alloc, biasReturn);
<a id="L1102" name="L1102"></a>1102             <em class="brace">}</em>
<a id="L1103" name="L1103"></a>1103         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1104" name="L1104"></a>1104             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1105" name="L1105"></a>1105                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L1106" name="L1106"></a>1106             <em class="brace">}</em>
<a id="L1107" name="L1107"></a>1107         <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108         <strong class="reserved">return</strong> offs;
<a id="L1109" name="L1109"></a>1109     <em class="brace">}</em>
<a id="L1110" name="L1110"></a>1110 
<div class="comment">
      {@inheritDoc}</div>
<a id="L1114" name="L1114"></a>1114     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17962.html" title="Multiple referred from 24 places.">getNextVisualPositionFrom</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> t, <strong class="reserved">int</strong> pos,
<a id="L1115" name="L1115"></a>1115                     <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b, <strong class="reserved">int</strong> direction, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet)
<a id="L1116" name="L1116"></a>1116                     <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a><em class="brace">{</em>
<a id="L1117" name="L1117"></a>1117         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1118" name="L1118"></a>1118         <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1119" name="L1119"></a>1119             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L1120" name="L1120"></a>1120         <em class="brace">}</em>
<a id="L1121" name="L1121"></a>1121         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1122" name="L1122"></a>1122             <strong class="reserved">if</strong> (painted) <em class="brace">{</em>
<a id="L1123" name="L1123"></a>1123                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>();
<a id="L1124" name="L1124"></a>1124                 <strong class="reserved">if</strong> (alloc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1125" name="L1125"></a>1125                     rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1126" name="L1126"></a>1126                 <em class="brace">}</em>
<a id="L1127" name="L1127"></a>1127                 <strong class="reserved">return</strong> rootView.<a href="../D/20952.html" title="Multiple defined in 14 places.">getNextVisualPositionFrom</a>(pos, b, alloc, direction,
<a id="L1128" name="L1128"></a>1128                                                           biasRet);
<a id="L1129" name="L1129"></a>1129             <em class="brace">}</em>
<a id="L1130" name="L1130"></a>1130         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1131" name="L1131"></a>1131             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L1133" name="L1133"></a>1133             <em class="brace">}</em>
<a id="L1134" name="L1134"></a>1134         <em class="brace">}</em>
<a id="L1135" name="L1135"></a>1135         <strong class="reserved">return</strong> -1;
<a id="L1136" name="L1136"></a>1136     <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137 
<div class="comment">
      Causes the portion of the view responsible for the
      given part of the model to be repainted.  Does nothing if
      the view is not currently painted.
      @param tc the text component for which this UI is installed
      @param p0 the beginning of the range &gt;= 0
      @param p1 the end of the range &gt;= p0
      @see TextUI#damageRange</div>
<a id="L1148" name="L1148"></a>1148     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12892.html" title="Multiple referred from 5 places.">damageRange</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> tc, <strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1) <em class="brace">{</em>
<a id="L1149" name="L1149"></a>1149         <a href="../D/14454.html" title="Multiple defined in 7 places.">damageRange</a>(tc, p0, p1, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward);
<a id="L1150" name="L1150"></a>1150     <em class="brace">}</em>
<a id="L1151" name="L1151"></a>1151 
<div class="comment">
      Causes the portion of the view responsible for the
      given part of the model to be repainted.
      @param p0 the beginning of the range &gt;= 0
      @param p1 the end of the range &gt;= p0</div>
<a id="L1159" name="L1159"></a>1159     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12892.html" title="Multiple referred from 5 places.">damageRange</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> t, <strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1,
<a id="L1160" name="L1160"></a>1160                             <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> p0Bias, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> p1Bias) <em class="brace">{</em>
<a id="L1161" name="L1161"></a>1161         <strong class="reserved">if</strong> (painted) <em class="brace">{</em>
<a id="L1162" name="L1162"></a>1162             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>();
<a id="L1163" name="L1163"></a>1163             <strong class="reserved">if</strong> (alloc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1164" name="L1164"></a>1164                 <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = t.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1165" name="L1165"></a>1165                 <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1166" name="L1166"></a>1166                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L1167" name="L1167"></a>1167                 <em class="brace">}</em>
<a id="L1168" name="L1168"></a>1168                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1169" name="L1169"></a>1169                     rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1170" name="L1170"></a>1170                     <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> toDamage = rootView.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p0, p0Bias,
<a id="L1171" name="L1171"></a>1171                             p1, p1Bias, alloc);
<a id="L1172" name="L1172"></a>1172                     <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> rect = (toDamage <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ?
<a id="L1173" name="L1173"></a>1173                             (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)toDamage : toDamage.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L1174" name="L1174"></a>1174                     <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>(rect.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, rect.y, rect.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, rect.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1175" name="L1175"></a>1175                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1176" name="L1176"></a>1176                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1177" name="L1177"></a>1177                     <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178                         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L1179" name="L1179"></a>1179                     <em class="brace">}</em>
<a id="L1180" name="L1180"></a>1180                 <em class="brace">}</em>
<a id="L1181" name="L1181"></a>1181             <em class="brace">}</em>
<a id="L1182" name="L1182"></a>1182         <em class="brace">}</em>
<a id="L1183" name="L1183"></a>1183     <em class="brace">}</em>
<a id="L1184" name="L1184"></a>1184 
<div class="comment">
      Fetches the EditorKit for the UI.
      @param tc the text component for which this UI is installed
      @return the editor capabilities
      @see TextUI#getEditorKit</div>
<a id="L1192" name="L1192"></a>1192     <strong class="reserved">public</strong> <a href="../S/3357.html#L48" title="Defined at 48 in src/javax/swing/text/EditorKit.java.">EditorKit</a> <a href="../R/16295.html" title="Multiple referred from 27 places.">getEditorKit</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> tc) <em class="brace">{</em>
<a id="L1193" name="L1193"></a>1193         <strong class="reserved">return</strong> defaultKit;
<a id="L1194" name="L1194"></a>1194     <em class="brace">}</em>
<a id="L1195" name="L1195"></a>1195 
<div class="comment">
      Fetches a View with the allocation of the associated
      text component (i.e. the root of the hierarchy) that
      can be traversed to determine how the model is being
      represented spatially.
      <p>
      <font color="red"><b>NOTE:</b>The View hierarchy can
      be traversed from the root view, and other things
      can be done as well.  Things done in this way cannot
      be protected like simple method calls through the TextUI.
      Therefore, proper operation in the presence of concurrency
      must be arranged by any logic that calls this method!
      </font>
      @param tc the text component for which this UI is installed
      @return the view
      @see TextUI#getRootView</p></div>
<a id="L1214" name="L1214"></a>1214     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/18778.html" title="Multiple referred from 11 places.">getRootView</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> tc) <em class="brace">{</em>
<a id="L1215" name="L1215"></a>1215         <strong class="reserved">return</strong> rootView;
<a id="L1216" name="L1216"></a>1216     <em class="brace">}</em>
<a id="L1217" name="L1217"></a>1217 
<a id="L1218" name="L1218"></a>1218 
<div class="comment">
      Returns the string to be used as the tooltip at the passed in location.
      This forwards the method onto the root View.
      @see javax.swing.text.JTextComponent#getToolTipText
      @see javax.swing.text.View#getToolTipText
      @since 1.4</div>
<a id="L1227" name="L1227"></a>1227     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19537.html" title="Multiple referred from 37 places.">getToolTipText</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> t, <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> pt) <em class="brace">{</em>
<a id="L1228" name="L1228"></a>1228         <strong class="reserved">if</strong> (!painted) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1230" name="L1230"></a>1230         <em class="brace">}</em>
<a id="L1231" name="L1231"></a>1231         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1232" name="L1232"></a>1232         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> tt = <strong class="reserved">null</strong>;
<a id="L1233" name="L1233"></a>1233         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>();
<a id="L1234" name="L1234"></a>1234 
<a id="L1235" name="L1235"></a>1235         <strong class="reserved">if</strong> (alloc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1236" name="L1236"></a>1236             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1237" name="L1237"></a>1237                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L1238" name="L1238"></a>1238             <em class="brace">}</em>
<a id="L1239" name="L1239"></a>1239             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1240" name="L1240"></a>1240                 tt = rootView.<a href="../D/23198.html" title="Multiple defined in 18 places.">getToolTipText</a>(pt.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, pt.y, alloc);
<a id="L1241" name="L1241"></a>1241             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1242" name="L1242"></a>1242                 <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1243" name="L1243"></a>1243                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L1244" name="L1244"></a>1244                 <em class="brace">}</em>
<a id="L1245" name="L1245"></a>1245             <em class="brace">}</em>
<a id="L1246" name="L1246"></a>1246         <em class="brace">}</em>
<a id="L1247" name="L1247"></a>1247         <strong class="reserved">return</strong> tt;
<a id="L1248" name="L1248"></a>1248     <em class="brace">}</em>
<a id="L1249" name="L1249"></a>1249 
<a id="L1250" name="L1250"></a>1250     <em class="comment">// --- ViewFactory methods ------------------------------</em>
<a id="L1251" name="L1251"></a>1251 
<div class="comment">
      Creates a view for an element.
      If a subclass wishes to directly implement the factory
      producing the view(s), it should reimplement this
      method.  By default it simply returns null indicating
      it is unable to represent the element.
      @param elem the element
      @return the view</div>
<a id="L1262" name="L1262"></a>1262     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/12190.html" title="Multiple referred from 234 places.">create</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L1263" name="L1263"></a>1263         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1264" name="L1264"></a>1264     <em class="brace">}</em>
<a id="L1265" name="L1265"></a>1265 
<div class="comment">
      Creates a view for an element.
      If a subclass wishes to directly implement the factory
      producing the view(s), it should reimplement this
      method.  By default it simply returns null indicating
      it is unable to represent the part of the element.
      @param elem the element
      @param p0 the starting offset &gt;= 0
      @param p1 the ending offset &gt;= p0
      @return the view</div>
<a id="L1278" name="L1278"></a>1278     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/12190.html" title="Multiple referred from 234 places.">create</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1) <em class="brace">{</em>
<a id="L1279" name="L1279"></a>1279         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1280" name="L1280"></a>1280     <em class="brace">}</em>
<a id="L1281" name="L1281"></a>1281 
<a id="L1282" name="L1282"></a>1282     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/668.html" title="Multiple referred from 2 places.">BasicCaret</a> <strong class="reserved">extends</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a> <strong class="reserved">implements</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a> <em class="brace">{</em><em class="brace">}</em>
<a id="L1283" name="L1283"></a>1283 
<a id="L1284" name="L1284"></a>1284     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/2895.html#L133" title="Referred from 133 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicHighlighter</a> <strong class="reserved">extends</strong> <a href="../S/3339.html#L39" title="Defined at 39 in src/javax/swing/text/DefaultHighlighter.java.">DefaultHighlighter</a> <strong class="reserved">implements</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a> <em class="brace">{</em><em class="brace">}</em>
<a id="L1285" name="L1285"></a>1285 
<a id="L1286" name="L1286"></a>1286     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/2895.html#L1296" title="Referred from 1296 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicCursor</a> <strong class="reserved">extends</strong> <a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a> <strong class="reserved">implements</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a> <em class="brace">{</em>
<a id="L1287" name="L1287"></a>1287         BasicCursor(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L1288" name="L1288"></a>1288             <strong class="reserved">super</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1289" name="L1289"></a>1289         <em class="brace">}</em>
<a id="L1290" name="L1290"></a>1290 
<a id="L1291" name="L1291"></a>1291         BasicCursor(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1292" name="L1292"></a>1292             <strong class="reserved">super</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1293" name="L1293"></a>1293         <em class="brace">}</em>
<a id="L1294" name="L1294"></a>1294     <em class="brace">}</em>
<a id="L1295" name="L1295"></a>1295 
<a id="L1296" name="L1296"></a>1296     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/2895.html#L1286" title="Defined at 1286 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicCursor</a> textCursor = <strong class="reserved">new</strong> <a href="../S/2895.html#L1286" title="Defined at 1286 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicCursor</a>(<a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a>.TEXT_CURSOR);
<a id="L1297" name="L1297"></a>1297     <em class="comment">// ----- member variables ---------------------------------------</em>
<a id="L1298" name="L1298"></a>1298 
<a id="L1299" name="L1299"></a>1299     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3357.html#L48" title="Defined at 48 in src/javax/swing/text/EditorKit.java.">EditorKit</a> defaultKit = <strong class="reserved">new</strong> <a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>();
<a id="L1300" name="L1300"></a>1300     <strong class="reserved">transient</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>;
<a id="L1301" name="L1301"></a>1301     <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> painted;
<a id="L1302" name="L1302"></a>1302     <strong class="reserved">transient</strong> <a href="../S/2895.html#L1313" title="Defined at 1313 in src/javax/swing/plaf/basic/BasicTextUI.java.">RootView</a> rootView = <strong class="reserved">new</strong> <a href="../S/2895.html#L1313" title="Defined at 1313 in src/javax/swing/plaf/basic/BasicTextUI.java.">RootView</a>();
<a id="L1303" name="L1303"></a>1303     <strong class="reserved">transient</strong> <a href="../S/2895.html#L1772" title="Defined at 1772 in src/javax/swing/plaf/basic/BasicTextUI.java.">UpdateHandler</a> updateHandler = <strong class="reserved">new</strong> <a href="../S/2895.html#L1772" title="Defined at 1772 in src/javax/swing/plaf/basic/BasicTextUI.java.">UpdateHandler</a>();
<a id="L1304" name="L1304"></a>1304     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a> defaultTransferHandler = <strong class="reserved">new</strong> <a href="../S/2895.html#L2195" title="Defined at 2195 in src/javax/swing/plaf/basic/BasicTextUI.java.">TextTransferHandler</a>();
<a id="L1305" name="L1305"></a>1305     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a> dragListener = <a href="../S/2895.html#L2109" title="Defined at 2109 in src/javax/swing/plaf/basic/BasicTextUI.java.">getDragListener</a>();
<a id="L1306" name="L1306"></a>1306     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] discardBias = <strong class="reserved">new</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[1];
<a id="L1307" name="L1307"></a>1307     <strong class="reserved">private</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a> dropCaret;
<a id="L1308" name="L1308"></a>1308 
<div class="comment">
      Root view that acts as a gateway between the component
      and the View hierarchy.</div>
<a id="L1313" name="L1313"></a>1313     <strong class="reserved">class</strong> <a href="../S/2895.html#L1302" title="Referred from 1302 in src/javax/swing/plaf/basic/BasicTextUI.java.">RootView</a> <strong class="reserved">extends</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <em class="brace">{</em>
<a id="L1314" name="L1314"></a>1314 
<a id="L1315" name="L1315"></a>1315         RootView() <em class="brace">{</em>
<a id="L1316" name="L1316"></a>1316             <strong class="reserved">super</strong>(<strong class="reserved">null</strong>);
<a id="L1317" name="L1317"></a>1317         <em class="brace">}</em>
<a id="L1318" name="L1318"></a>1318 
<a id="L1319" name="L1319"></a>1319         <strong class="reserved">void</strong> <a href="../R/28394.html" title="Multiple referred from 13 places.">setView</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L1320" name="L1320"></a>1320             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> oldView = view;
<a id="L1321" name="L1321"></a>1321             view = <strong class="reserved">null</strong>;
<a id="L1322" name="L1322"></a>1322             <strong class="reserved">if</strong> (oldView != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1323" name="L1323"></a>1323                 <em class="comment">// get rid of back reference so that the old</em>
<a id="L1324" name="L1324"></a>1324                 <em class="comment">// hierarchy can be garbage collected.</em>
<a id="L1325" name="L1325"></a>1325                 oldView.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<strong class="reserved">null</strong>);
<a id="L1326" name="L1326"></a>1326             <em class="brace">}</em>
<a id="L1327" name="L1327"></a>1327             <strong class="reserved">if</strong> (v != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1328" name="L1328"></a>1328                 v.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<strong class="reserved">this</strong>);
<a id="L1329" name="L1329"></a>1329             <em class="brace">}</em>
<a id="L1330" name="L1330"></a>1330             view = v;
<a id="L1331" name="L1331"></a>1331         <em class="brace">}</em>
<a id="L1332" name="L1332"></a>1332 
<div class="comment">
          Fetches the attributes to use when rendering.  At the root
          level there are no attributes.  If an attribute is resolved
          up the view hierarchy this is the end of the line.</div>
<a id="L1338" name="L1338"></a>1338         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L1339" name="L1339"></a>1339             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1340" name="L1340"></a>1340         <em class="brace">}</em>
<a id="L1341" name="L1341"></a>1341 
<div class="comment">
          Determines the preferred span for this view along an axis.
          @param axis may be either X_AXIS or Y_AXIS
          @return the span the view would like to be rendered into.
                  Typically the view is told to render into the span
                  that is returned, although there is no guarantee.
                  The parent may choose to resize or break the view.</div>
<a id="L1351" name="L1351"></a>1351         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/18413.html" title="Multiple referred from 96 places.">getPreferredSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1352" name="L1352"></a>1352             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1353" name="L1353"></a>1353                 <strong class="reserved">return</strong> view.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(axis);
<a id="L1354" name="L1354"></a>1354             <em class="brace">}</em>
<a id="L1355" name="L1355"></a>1355             <strong class="reserved">return</strong> 10;
<a id="L1356" name="L1356"></a>1356         <em class="brace">}</em>
<a id="L1357" name="L1357"></a>1357 
<div class="comment">
          Determines the minimum span for this view along an axis.
          @param axis may be either X_AXIS or Y_AXIS
          @return the span the view would like to be rendered into.
                  Typically the view is told to render into the span
                  that is returned, although there is no guarantee.
                  The parent may choose to resize or break the view.</div>
<a id="L1367" name="L1367"></a>1367         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17741.html" title="Multiple referred from 44 places.">getMinimumSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1368" name="L1368"></a>1368             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1369" name="L1369"></a>1369                 <strong class="reserved">return</strong> view.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis);
<a id="L1370" name="L1370"></a>1370             <em class="brace">}</em>
<a id="L1371" name="L1371"></a>1371             <strong class="reserved">return</strong> 10;
<a id="L1372" name="L1372"></a>1372         <em class="brace">}</em>
<a id="L1373" name="L1373"></a>1373 
<div class="comment">
          Determines the maximum span for this view along an axis.
          @param axis may be either X_AXIS or Y_AXIS
          @return the span the view would like to be rendered into.
                  Typically the view is told to render into the span
                  that is returned, although there is no guarantee.
                  The parent may choose to resize or break the view.</div>
<a id="L1383" name="L1383"></a>1383         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17622.html" title="Multiple referred from 43 places.">getMaximumSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1384" name="L1384"></a>1384             <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L1385" name="L1385"></a>1385         <em class="brace">}</em>
<a id="L1386" name="L1386"></a>1386 
<div class="comment">
          Specifies that a preference has changed.
          Child views can call this on the parent to indicate that
          the preference has changed.  The root view routes this to
          invalidate on the hosting component.
          <p>
          This can be called on a different thread from the
          event dispatching thread and is basically unsafe to
          propagate into the component.  To make this safe,
          the operation is transferred over to the event dispatching
          thread for completion.  It is a design goal that all view
          methods be safe to call without concern for concurrency,
          and this behavior helps make that true.
          @param child the child view
          @param width true if the width preference has changed
          @param height true if the height preference has changed</p></div>
<a id="L1405" name="L1405"></a>1405         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24913.html" title="Multiple referred from 34 places.">preferenceChanged</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> child, <strong class="reserved">boolean</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">boolean</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1406" name="L1406"></a>1406             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/31406.html" title="Multiple defined in 9 places.">revalidate</a>();
<a id="L1407" name="L1407"></a>1407         <em class="brace">}</em>
<a id="L1408" name="L1408"></a>1408 
<div class="comment">
          Determines the desired alignment for this view along an axis.
          @param axis may be either X_AXIS or Y_AXIS
          @return the desired alignment, where 0.0 indicates the origin
              and 1.0 the full span away from the origin</div>
<a id="L1416" name="L1416"></a>1416         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/15009.html" title="Multiple referred from 36 places.">getAlignment</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1417" name="L1417"></a>1417             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1418" name="L1418"></a>1418                 <strong class="reserved">return</strong> view.<a href="../D/16863.html" title="Multiple defined in 22 places.">getAlignment</a>(axis);
<a id="L1419" name="L1419"></a>1419             <em class="brace">}</em>
<a id="L1420" name="L1420"></a>1420             <strong class="reserved">return</strong> 0;
<a id="L1421" name="L1421"></a>1421         <em class="brace">}</em>
<a id="L1422" name="L1422"></a>1422 
<div class="comment">
          Renders the view.
          @param g the graphics context
          @param allocation the region to render into</div>
<a id="L1429" name="L1429"></a>1429         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> allocation) <em class="brace">{</em>
<a id="L1430" name="L1430"></a>1430             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1431" name="L1431"></a>1431                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (allocation <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ?
<a id="L1432" name="L1432"></a>1432                           (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)allocation : allocation.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L1433" name="L1433"></a>1433                 <a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1434" name="L1434"></a>1434                 view.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, allocation);
<a id="L1435" name="L1435"></a>1435             <em class="brace">}</em>
<a id="L1436" name="L1436"></a>1436         <em class="brace">}</em>
<a id="L1437" name="L1437"></a>1437 
<div class="comment">
          Sets the view parent.
          @param parent the parent view</div>
<a id="L1443" name="L1443"></a>1443         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27912.html" title="Multiple referred from 145 places.">setParent</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1444" name="L1444"></a>1444             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Can't set parent on root view");
<a id="L1445" name="L1445"></a>1445         <em class="brace">}</em>
<a id="L1446" name="L1446"></a>1446 
<div class="comment">
          Returns the number of views in this view.  Since
          this view simply wraps the root of the view hierarchy
          it has exactly one child.
          @return the number of views
          @see #getView</div>
<a id="L1455" name="L1455"></a>1455         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19805.html" title="Multiple referred from 108 places.">getViewCount</a>() <em class="brace">{</em>
<a id="L1456" name="L1456"></a>1456             <strong class="reserved">return</strong> 1;
<a id="L1457" name="L1457"></a>1457         <em class="brace">}</em>
<a id="L1458" name="L1458"></a>1458 
<div class="comment">
          Gets the n-th view in this container.
          @param n the number of the view to get
          @return the view</div>
<a id="L1465" name="L1465"></a>1465         <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19801.html" title="Multiple referred from 186 places.">getView</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L1466" name="L1466"></a>1466             <strong class="reserved">return</strong> view;
<a id="L1467" name="L1467"></a>1467         <em class="brace">}</em>
<a id="L1468" name="L1468"></a>1468 
<div class="comment">
          Returns the child view index representing the given position in
          the model.  This is implemented to return the index of the only
          child.
          @param pos the position &gt;= 0
          @return  index of the view representing the given position, or
            -1 if no view represents that position
          @since 1.3</div>
<a id="L1479" name="L1479"></a>1479         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19807.html" title="Multiple referred from 22 places.">getViewIndex</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b) <em class="brace">{</em>
<a id="L1480" name="L1480"></a>1480             <strong class="reserved">return</strong> 0;
<a id="L1481" name="L1481"></a>1481         <em class="brace">}</em>
<a id="L1482" name="L1482"></a>1482 
<div class="comment">
          Fetches the allocation for the given child view.
          This enables finding out where various views
          are located, without assuming the views store
          their location.  This returns the given allocation
          since this view simply acts as a gateway between
          the view hierarchy and the associated component.
          @param index the index of the child
          @param a  the allocation to this view.
          @return the allocation to the child</div>
<a id="L1495" name="L1495"></a>1495         <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/15537.html" title="Multiple referred from 23 places.">getChildAllocation</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1496" name="L1496"></a>1496             <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L1497" name="L1497"></a>1497         <em class="brace">}</em>
<a id="L1498" name="L1498"></a>1498 
<div class="comment">
          Provides a mapping from the document model coordinate space
          to the coordinate space of the view mapped to it.
          @param pos the position to convert
          @param a the allocated region to render into
          @return the bounding box of the given position</div>
<a id="L1507" name="L1507"></a>1507         <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> pos, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1508" name="L1508"></a>1508             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1509" name="L1509"></a>1509                 <strong class="reserved">return</strong> view.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b);
<a id="L1510" name="L1510"></a>1510             <em class="brace">}</em>
<a id="L1511" name="L1511"></a>1511             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1512" name="L1512"></a>1512         <em class="brace">}</em>
<a id="L1513" name="L1513"></a>1513 
<div class="comment">
          Provides a mapping from the document model coordinate space
          to the coordinate space of the view mapped to it.
          @param p0 the position to convert &gt;= 0
          @param b0 the bias toward the previous character or the
           next character represented by p0, in case the
           position is a boundary of two views.
          @param p1 the position to convert &gt;= 0
          @param b1 the bias toward the previous character or the
           next character represented by p1, in case the
           position is a boundary of two views.
          @param a the allocated region to render into
          @return the bounding box of the given position is returned
          @exception BadLocationException  if the given position does
            not represent a valid location in the associated document
          @exception IllegalArgumentException for an invalid bias argument
          @see View#viewToModel</div>
<a id="L1533" name="L1533"></a>1533         <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> p0, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b0, <strong class="reserved">int</strong> p1, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b1, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1534" name="L1534"></a>1534             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1535" name="L1535"></a>1535                 <strong class="reserved">return</strong> view.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p0, b0, p1, b1, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1536" name="L1536"></a>1536             <em class="brace">}</em>
<a id="L1537" name="L1537"></a>1537             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1538" name="L1538"></a>1538         <em class="brace">}</em>
<a id="L1539" name="L1539"></a>1539 
<div class="comment">
          Provides a mapping from the view coordinate space to the logical
          coordinate space of the model.
          @param x x coordinate of the view location to convert
          @param y y coordinate of the view location to convert
          @param a the allocated region to render into
          @return the location within the model that best represents the
             given point in the view</div>
<a id="L1550" name="L1550"></a>1550         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/30138.html" title="Multiple referred from 99 places.">viewToModel</a>(<strong class="reserved">float</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">float</strong> y, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] bias) <em class="brace">{</em>
<a id="L1551" name="L1551"></a>1551             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1552" name="L1552"></a>1552                 <strong class="reserved">int</strong> retValue = view.<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, bias);
<a id="L1553" name="L1553"></a>1553                 <strong class="reserved">return</strong> retValue;
<a id="L1554" name="L1554"></a>1554             <em class="brace">}</em>
<a id="L1555" name="L1555"></a>1555             <strong class="reserved">return</strong> -1;
<a id="L1556" name="L1556"></a>1556         <em class="brace">}</em>
<a id="L1557" name="L1557"></a>1557 
<div class="comment">
          Provides a way to determine the next visually represented model
          location that one might place a caret.  Some views may not be visible,
          they might not be in the same order found in the model, or they just
          might not allow access to some of the locations in the model.
          This method enables specifying a position to convert
          within the range of &gt;=0.  If the value is -1, a position
          will be calculated automatically.  If the value &lt; -1,
          the <code>BadLocationException</code> will be thrown.
          @param pos the position to convert &gt;= 0
          @param a the allocated region to render into
          @param direction the direction from the current position that can
           be thought of as the arrow keys typically found on a keyboard.
           This may be SwingConstants.WEST, SwingConstants.EAST,
           SwingConstants.NORTH, or SwingConstants.SOUTH.
          @return the location within the model that best represents the next
           location visual position.
          @exception BadLocationException the given position is not a valid
                                          position within the document
          @exception IllegalArgumentException for an invalid direction</div>
<a id="L1580" name="L1580"></a>1580         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17962.html" title="Multiple referred from 24 places.">getNextVisualPositionFrom</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>,
<a id="L1581" name="L1581"></a>1581                                              <strong class="reserved">int</strong> direction,
<a id="L1582" name="L1582"></a>1582                                              <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet)
<a id="L1583" name="L1583"></a>1583             <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1584" name="L1584"></a>1584             <strong class="reserved">if</strong> (pos &lt; -1) <em class="brace">{</em>
<a id="L1585" name="L1585"></a>1585                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("invalid position", pos);
<a id="L1586" name="L1586"></a>1586             <em class="brace">}</em>
<a id="L1587" name="L1587"></a>1587             <strong class="reserved">if</strong>( view != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1588" name="L1588"></a>1588                 <strong class="reserved">int</strong> nextPos = view.<a href="../D/20952.html" title="Multiple defined in 14 places.">getNextVisualPositionFrom</a>(pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>,
<a id="L1589" name="L1589"></a>1589                                                      direction, biasRet);
<a id="L1590" name="L1590"></a>1590                 <strong class="reserved">if</strong>(nextPos != -1) <em class="brace">{</em>
<a id="L1591" name="L1591"></a>1591                     pos = nextPos;
<a id="L1592" name="L1592"></a>1592                 <em class="brace">}</em>
<a id="L1593" name="L1593"></a>1593                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1594" name="L1594"></a>1594                     biasRet[0] = b;
<a id="L1595" name="L1595"></a>1595                 <em class="brace">}</em>
<a id="L1596" name="L1596"></a>1596             <em class="brace">}</em>
<a id="L1597" name="L1597"></a>1597             <strong class="reserved">return</strong> pos;
<a id="L1598" name="L1598"></a>1598         <em class="brace">}</em>
<a id="L1599" name="L1599"></a>1599 
<div class="comment">
          Gives notification that something was inserted into the document
          in a location that this view is responsible for.
          @param e the change information from the associated document
          @param a the current allocation of the view
          @param f the factory to use to rebuild if the view has children</div>
<a id="L1608" name="L1608"></a>1608         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L1609" name="L1609"></a>1609             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1610" name="L1610"></a>1610                 view.<a href="../D/24781.html" title="Multiple defined in 28 places.">insertUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L1611" name="L1611"></a>1611             <em class="brace">}</em>
<a id="L1612" name="L1612"></a>1612         <em class="brace">}</em>
<a id="L1613" name="L1613"></a>1613 
<div class="comment">
          Gives notification that something was removed from the document
          in a location that this view is responsible for.
          @param e the change information from the associated document
          @param a the current allocation of the view
          @param f the factory to use to rebuild if the view has children</div>
<a id="L1622" name="L1622"></a>1622         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26095.html" title="Multiple referred from 20 places.">removeUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L1623" name="L1623"></a>1623             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1624" name="L1624"></a>1624                 view.<a href="../D/30986.html" title="Multiple defined in 27 places.">removeUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L1625" name="L1625"></a>1625             <em class="brace">}</em>
<a id="L1626" name="L1626"></a>1626         <em class="brace">}</em>
<a id="L1627" name="L1627"></a>1627 
<div class="comment">
          Gives notification from the document that attributes were changed
          in a location that this view is responsible for.
          @param e the change information from the associated document
          @param a the current allocation of the view
          @param f the factory to use to rebuild if the view has children</div>
<a id="L1636" name="L1636"></a>1636         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L1637" name="L1637"></a>1637             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1638" name="L1638"></a>1638                 view.<a href="../D/12316.html" title="Multiple defined in 27 places.">changedUpdate</a>(e, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L1639" name="L1639"></a>1639             <em class="brace">}</em>
<a id="L1640" name="L1640"></a>1640         <em class="brace">}</em>
<a id="L1641" name="L1641"></a>1641 
<div class="comment">
          Returns the document model underlying the view.
          @return the model</div>
<a id="L1647" name="L1647"></a>1647         <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L1648" name="L1648"></a>1648             <strong class="reserved">return</strong> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1649" name="L1649"></a>1649         <em class="brace">}</em>
<a id="L1650" name="L1650"></a>1650 
<div class="comment">
          Returns the starting offset into the model for this view.
          @return the starting offset</div>
<a id="L1656" name="L1656"></a>1656         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>() <em class="brace">{</em>
<a id="L1657" name="L1657"></a>1657             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1658" name="L1658"></a>1658                 <strong class="reserved">return</strong> view.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1659" name="L1659"></a>1659             <em class="brace">}</em>
<a id="L1660" name="L1660"></a>1660             <strong class="reserved">return</strong> <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1661" name="L1661"></a>1661         <em class="brace">}</em>
<a id="L1662" name="L1662"></a>1662 
<div class="comment">
          Returns the ending offset into the model for this view.
          @return the ending offset</div>
<a id="L1668" name="L1668"></a>1668         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>() <em class="brace">{</em>
<a id="L1669" name="L1669"></a>1669             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1670" name="L1670"></a>1670                 <strong class="reserved">return</strong> view.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1671" name="L1671"></a>1671             <em class="brace">}</em>
<a id="L1672" name="L1672"></a>1672             <strong class="reserved">return</strong> <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1673" name="L1673"></a>1673         <em class="brace">}</em>
<a id="L1674" name="L1674"></a>1674 
<div class="comment">
          Gets the element that this view is mapped to.
          @return the view</div>
<a id="L1680" name="L1680"></a>1680         <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>() <em class="brace">{</em>
<a id="L1681" name="L1681"></a>1681             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1682" name="L1682"></a>1682                 <strong class="reserved">return</strong> view.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L1683" name="L1683"></a>1683             <em class="brace">}</em>
<a id="L1684" name="L1684"></a>1684             <strong class="reserved">return</strong> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L1685" name="L1685"></a>1685         <em class="brace">}</em>
<a id="L1686" name="L1686"></a>1686 
<div class="comment">
          Breaks this view on the given axis at the given length.
          @param axis may be either X_AXIS or Y_AXIS
          @param len specifies where a break is desired in the span
          @param the current allocation of the view
          @return the fragment of the view that represents the given span
            if the view can be broken, otherwise null</div>
<a id="L1696" name="L1696"></a>1696         <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/10671.html" title="Multiple referred from 4 places.">breakView</a>(<strong class="reserved">int</strong> axis, <strong class="reserved">float</strong> len, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1697" name="L1697"></a>1697             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("Can't break root view");
<a id="L1698" name="L1698"></a>1698         <em class="brace">}</em>
<a id="L1699" name="L1699"></a>1699 
<div class="comment">
          Determines the resizability of the view along the
          given axis.  A value of 0 or less is not resizable.
          @param axis may be either X_AXIS or Y_AXIS
          @return the weight</div>
<a id="L1707" name="L1707"></a>1707         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18700.html" title="Multiple referred from 6 places.">getResizeWeight</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1708" name="L1708"></a>1708             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1709" name="L1709"></a>1709                 <strong class="reserved">return</strong> view.<a href="../D/22028.html" title="Multiple defined in 11 places.">getResizeWeight</a>(axis);
<a id="L1710" name="L1710"></a>1710             <em class="brace">}</em>
<a id="L1711" name="L1711"></a>1711             <strong class="reserved">return</strong> 0;
<a id="L1712" name="L1712"></a>1712         <em class="brace">}</em>
<a id="L1713" name="L1713"></a>1713 
<div class="comment">
          Sets the view size.
          @param width the width
          @param height the height</div>
<a id="L1720" name="L1720"></a>1720         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28186.html" title="Multiple referred from 157 places.">setSize</a>(<strong class="reserved">float</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">float</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1721" name="L1721"></a>1721             <strong class="reserved">if</strong> (view != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1722" name="L1722"></a>1722                 view.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1723" name="L1723"></a>1723             <em class="brace">}</em>
<a id="L1724" name="L1724"></a>1724         <em class="brace">}</em>
<a id="L1725" name="L1725"></a>1725 
<div class="comment">
          Fetches the container hosting the view.  This is useful for
          things like scheduling a repaint, finding out the host
          components font, etc.  The default implementation
          of this is to forward the query to the parent view.
          @return the container</div>
<a id="L1734" name="L1734"></a>1734         <strong class="reserved">public</strong> <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../R/15777.html" title="Multiple referred from 157 places.">getContainer</a>() <em class="brace">{</em>
<a id="L1735" name="L1735"></a>1735             <strong class="reserved">return</strong> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>;
<a id="L1736" name="L1736"></a>1736         <em class="brace">}</em>
<a id="L1737" name="L1737"></a>1737 
<div class="comment">
          Fetches the factory to be used for building the
          various view fragments that make up the view that
          represents the model.  This is what determines
          how the model will be represented.  This is implemented
          to fetch the factory provided by the associated
          EditorKit unless that is null, in which case this
          simply returns the BasicTextUI itself which allows
          subclasses to implement a simple factory directly without
          creating extra objects.
          @return the factory</div>
<a id="L1751" name="L1751"></a>1751         <strong class="reserved">public</strong> <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> <a href="../R/19806.html" title="Multiple referred from 11 places.">getViewFactory</a>() <em class="brace">{</em>
<a id="L1752" name="L1752"></a>1752             <a href="../S/3357.html#L48" title="Defined at 48 in src/javax/swing/text/EditorKit.java.">EditorKit</a> kit = <a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>);
<a id="L1753" name="L1753"></a>1753             <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f = kit.<a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>();
<a id="L1754" name="L1754"></a>1754             <strong class="reserved">if</strong> (f != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1755" name="L1755"></a>1755                 <strong class="reserved">return</strong> f;
<a id="L1756" name="L1756"></a>1756             <em class="brace">}</em>
<a id="L1757" name="L1757"></a>1757             <strong class="reserved">return</strong> <a href="../S/2895.html#L103" title="Defined at 103 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicTextUI</a>.<strong class="reserved">this</strong>;
<a id="L1758" name="L1758"></a>1758         <em class="brace">}</em>
<a id="L1759" name="L1759"></a>1759 
<a id="L1760" name="L1760"></a>1760         <strong class="reserved">private</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> view;
<a id="L1761" name="L1761"></a>1761 
<a id="L1762" name="L1762"></a>1762     <em class="brace">}</em>
<a id="L1763" name="L1763"></a>1763 
<div class="comment">
      Handles updates from various places.  If the model is changed,
      this class unregisters as a listener to the old model and
      registers with the new model.  If the document model changes,
      the change is forwarded to the root view.  If the focus
      accelerator changes, a new keystroke is registered to request
      focus.</div>
<a id="L1772" name="L1772"></a>1772     <strong class="reserved">class</strong> <a href="../S/2895.html#L1303" title="Referred from 1303 in src/javax/swing/plaf/basic/BasicTextUI.java.">UpdateHandler</a> <strong class="reserved">implements</strong> <a href="../S/1801.html#L34" title="Defined at 34 in src/java/beans/PropertyChangeListener.java.">PropertyChangeListener</a>, <a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>, <a href="../S/2100.html#L45" title="Defined at 45 in src/java/awt/LayoutManager2.java.">LayoutManager2</a>, <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a> <em class="brace">{</em>
<a id="L1773" name="L1773"></a>1773 
<a id="L1774" name="L1774"></a>1774         <em class="comment">// --- PropertyChangeListener methods -----------------------</em>
<a id="L1775" name="L1775"></a>1775 
<div class="comment">
          This method gets called when a bound property is changed.
          We are looking for document changes on the editor.</div>
<a id="L1780" name="L1780"></a>1780         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25223.html" title="Multiple referred from 58 places.">propertyChange</a>(<a href="../S/1790.html#L47" title="Defined at 47 in src/java/beans/PropertyChangeEvent.java.">PropertyChangeEvent</a> evt) <em class="brace">{</em>
<a id="L1781" name="L1781"></a>1781             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldValue = evt.<a href="../D/21192.html" title="Multiple defined in 2 places.">getOldValue</a>();
<a id="L1782" name="L1782"></a>1782             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newValue = evt.<a href="../D/20884.html" title="Multiple defined in 5 places.">getNewValue</a>();
<a id="L1783" name="L1783"></a>1783             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a> = evt.<a href="../D/21736.html" title="Multiple defined in 8 places.">getPropertyName</a>();
<a id="L1784" name="L1784"></a>1784             <strong class="reserved">if</strong> ((oldValue <strong class="reserved">instanceof</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>) || (newValue <strong class="reserved">instanceof</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>)) <em class="brace">{</em>
<a id="L1785" name="L1785"></a>1785                 <strong class="reserved">if</strong> (oldValue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1786" name="L1786"></a>1786                     ((<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>)oldValue).<a href="../D/30761.html" title="Multiple defined in 3 places.">removeDocumentListener</a>(<strong class="reserved">this</strong>);
<a id="L1787" name="L1787"></a>1787                     i18nView = <strong class="reserved">false</strong>;
<a id="L1788" name="L1788"></a>1788                 <em class="brace">}</em>
<a id="L1789" name="L1789"></a>1789                 <strong class="reserved">if</strong> (newValue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1790" name="L1790"></a>1790                     ((<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>)newValue).<a href="../D/10761.html" title="Multiple defined in 3 places.">addDocumentListener</a>(<strong class="reserved">this</strong>);
<a id="L1791" name="L1791"></a>1791                     <strong class="reserved">if</strong> ("document" == <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>) <em class="brace">{</em>
<a id="L1792" name="L1792"></a>1792                         <a href="../D/34294.html" title="Multiple defined in 5 places.">setView</a>(<strong class="reserved">null</strong>);
<a id="L1793" name="L1793"></a>1793                         <a href="../S/2895.html#L103" title="Defined at 103 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicTextUI</a>.<strong class="reserved">this</strong>.<a href="../D/29899.html" title="Multiple defined in 133 places.">propertyChange</a>(evt);
<a id="L1794" name="L1794"></a>1794                         <a href="../S/2895.html#L677" title="Defined at 677 in src/javax/swing/plaf/basic/BasicTextUI.java.">modelChanged</a>();
<a id="L1795" name="L1795"></a>1795                         <strong class="reserved">return</strong>;
<a id="L1796" name="L1796"></a>1796                     <em class="brace">}</em>
<a id="L1797" name="L1797"></a>1797                 <em class="brace">}</em>
<a id="L1798" name="L1798"></a>1798                 <a href="../S/2895.html#L677" title="Defined at 677 in src/javax/swing/plaf/basic/BasicTextUI.java.">modelChanged</a>();
<a id="L1799" name="L1799"></a>1799             <em class="brace">}</em>
<a id="L1800" name="L1800"></a>1800             <strong class="reserved">if</strong> ("focusAccelerator" == <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>) <em class="brace">{</em>
<a id="L1801" name="L1801"></a>1801                 <a href="../S/2895.html#L483" title="Defined at 483 in src/javax/swing/plaf/basic/BasicTextUI.java.">updateFocusAcceleratorBinding</a>(<strong class="reserved">true</strong>);
<a id="L1802" name="L1802"></a>1802             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("componentOrientation" == <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>) <em class="brace">{</em>
<a id="L1803" name="L1803"></a>1803                 <em class="comment">// Changes in ComponentOrientation require the views to be</em>
<a id="L1804" name="L1804"></a>1804                 <em class="comment">// rebuilt.</em>
<a id="L1805" name="L1805"></a>1805                 <a href="../S/2895.html#L677" title="Defined at 677 in src/javax/swing/plaf/basic/BasicTextUI.java.">modelChanged</a>();
<a id="L1806" name="L1806"></a>1806             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("font" == <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>) <em class="brace">{</em>
<a id="L1807" name="L1807"></a>1807                 <a href="../S/2895.html#L677" title="Defined at 677 in src/javax/swing/plaf/basic/BasicTextUI.java.">modelChanged</a>();
<a id="L1808" name="L1808"></a>1808             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("dropLocation" == <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>) <em class="brace">{</em>
<a id="L1809" name="L1809"></a>1809                 <a href="../S/2895.html#L1817" title="Defined at 1817 in src/javax/swing/plaf/basic/BasicTextUI.java.">dropIndexChanged</a>();
<a id="L1810" name="L1810"></a>1810             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("editable" == <a href="../S/6298.html#L1524" title="Defined at 1524 in src/com/sun/jmx/mbeanserver/DefaultMXBeanMappingFactory.java.">propertyName</a>) <em class="brace">{</em>
<a id="L1811" name="L1811"></a>1811                 <a href="../S/2895.html#L560" title="Defined at 560 in src/javax/swing/plaf/basic/BasicTextUI.java.">updateCursor</a>();
<a id="L1812" name="L1812"></a>1812                 <a href="../S/2895.html#L677" title="Defined at 677 in src/javax/swing/plaf/basic/BasicTextUI.java.">modelChanged</a>();
<a id="L1813" name="L1813"></a>1813             <em class="brace">}</em>
<a id="L1814" name="L1814"></a>1814             <a href="../S/2895.html#L103" title="Defined at 103 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicTextUI</a>.<strong class="reserved">this</strong>.<a href="../D/29899.html" title="Multiple defined in 133 places.">propertyChange</a>(evt);
<a id="L1815" name="L1815"></a>1815         <em class="brace">}</em>
<a id="L1816" name="L1816"></a>1816 
<a id="L1817" name="L1817"></a>1817         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/2895.html#L1809" title="Referred from 1809 in src/javax/swing/plaf/basic/BasicTextUI.java.">dropIndexChanged</a>() <em class="brace">{</em>
<a id="L1818" name="L1818"></a>1818             <strong class="reserved">if</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18618.html" title="Multiple defined in 4 places.">getDropMode</a>() == <a href="../S/2738.html#L38" title="Defined at 38 in src/javax/swing/DropMode.java.">DropMode</a>.USE_SELECTION) <em class="brace">{</em>
<a id="L1819" name="L1819"></a>1819                 <strong class="reserved">return</strong>;
<a id="L1820" name="L1820"></a>1820             <em class="brace">}</em>
<a id="L1821" name="L1821"></a>1821 
<a id="L1822" name="L1822"></a>1822             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> dropLocation = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18617.html" title="Multiple defined in 5 places.">getDropLocation</a>();
<a id="L1823" name="L1823"></a>1823 
<a id="L1824" name="L1824"></a>1824             <strong class="reserved">if</strong> (dropLocation == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1825" name="L1825"></a>1825                 <strong class="reserved">if</strong> (dropCaret != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1826" name="L1826"></a>1826                     dropCaret.<a href="../D/14783.html" title="Multiple defined in 7 places.">deinstall</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>);
<a id="L1827" name="L1827"></a>1827                     <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>(dropCaret);
<a id="L1828" name="L1828"></a>1828                     dropCaret = <strong class="reserved">null</strong>;
<a id="L1829" name="L1829"></a>1829                 <em class="brace">}</em>
<a id="L1830" name="L1830"></a>1830             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1831" name="L1831"></a>1831                 <strong class="reserved">if</strong> (dropCaret == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1832" name="L1832"></a>1832                     dropCaret = <strong class="reserved">new</strong> <a href="../S/2895.html#L1282" title="Defined at 1282 in src/javax/swing/plaf/basic/BasicTextUI.java.">BasicCaret</a>();
<a id="L1833" name="L1833"></a>1833                     dropCaret.<a href="../D/24817.html" title="Multiple defined in 32 places.">install</a>(<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>);
<a id="L1834" name="L1834"></a>1834                     dropCaret.<a href="../D/34303.html" title="Multiple defined in 23 places.">setVisible</a>(<strong class="reserved">true</strong>);
<a id="L1835" name="L1835"></a>1835                 <em class="brace">}</em>
<a id="L1836" name="L1836"></a>1836 
<a id="L1837" name="L1837"></a>1837                 dropCaret.<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(dropLocation.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>(),
<a id="L1838" name="L1838"></a>1838                                  dropLocation.<a href="../S/3351.html#L3844" title="Defined at 3844 in src/javax/swing/text/JTextComponent.java.">getBias</a>());
<a id="L1839" name="L1839"></a>1839             <em class="brace">}</em>
<a id="L1840" name="L1840"></a>1840         <em class="brace">}</em>
<a id="L1841" name="L1841"></a>1841 
<a id="L1842" name="L1842"></a>1842         <em class="comment">// --- DocumentListener methods -----------------------</em>
<a id="L1843" name="L1843"></a>1843 
<div class="comment">
          The insert notification.  Gets sent to the root of the view structure
          that represents the portion of the model being represented by the
          editor.  The factory is added as an argument to the update so that
          the views can update themselves in a dynamic (not hardcoded) way.
          @param e  The change notification from the currently associated
           document.
          @see DocumentListener#insertUpdate</div>
<a id="L1854" name="L1854"></a>1854         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L1855" name="L1855"></a>1855             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = e.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1856" name="L1856"></a>1856             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = doc.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("i18n");
<a id="L1857" name="L1857"></a>1857             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) <em class="brace">{</em>
<a id="L1858" name="L1858"></a>1858                 <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> i18nFlag = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L1859" name="L1859"></a>1859                 <strong class="reserved">if</strong> (i18nFlag.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>() != i18nView) <em class="brace">{</em>
<a id="L1860" name="L1860"></a>1860                     <em class="comment">// i18n flag changed, rebuild the view</em>
<a id="L1861" name="L1861"></a>1861                     i18nView = i18nFlag.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L1862" name="L1862"></a>1862                     <a href="../S/2895.html#L677" title="Defined at 677 in src/javax/swing/plaf/basic/BasicTextUI.java.">modelChanged</a>();
<a id="L1863" name="L1863"></a>1863                     <strong class="reserved">return</strong>;
<a id="L1864" name="L1864"></a>1864                 <em class="brace">}</em>
<a id="L1865" name="L1865"></a>1865             <em class="brace">}</em>
<a id="L1866" name="L1866"></a>1866 
<a id="L1867" name="L1867"></a>1867             <em class="comment">// normal insert update</em>
<a id="L1868" name="L1868"></a>1868             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (painted) ? <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>() : <strong class="reserved">null</strong>;
<a id="L1869" name="L1869"></a>1869             rootView.<a href="../D/24781.html" title="Multiple defined in 28 places.">insertUpdate</a>(e, alloc, rootView.<a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>());
<a id="L1870" name="L1870"></a>1870         <em class="brace">}</em>
<a id="L1871" name="L1871"></a>1871 
<div class="comment">
          The remove notification.  Gets sent to the root of the view structure
          that represents the portion of the model being represented by the
          editor.  The factory is added as an argument to the update so that
          the views can update themselves in a dynamic (not hardcoded) way.
          @param e  The change notification from the currently associated
           document.
          @see DocumentListener#removeUpdate</div>
<a id="L1882" name="L1882"></a>1882         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26095.html" title="Multiple referred from 20 places.">removeUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L1883" name="L1883"></a>1883             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (painted) ? <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>() : <strong class="reserved">null</strong>;
<a id="L1884" name="L1884"></a>1884             rootView.<a href="../D/30986.html" title="Multiple defined in 27 places.">removeUpdate</a>(e, alloc, rootView.<a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>());
<a id="L1885" name="L1885"></a>1885         <em class="brace">}</em>
<a id="L1886" name="L1886"></a>1886 
<div class="comment">
          The change notification.  Gets sent to the root of the view structure
          that represents the portion of the model being represented by the
          editor.  The factory is added as an argument to the update so that
          the views can update themselves in a dynamic (not hardcoded) way.
          @param e  The change notification from the currently associated
           document.
          @see DocumentListener#changedUpdate(DocumentEvent)</div>
<a id="L1897" name="L1897"></a>1897         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L1898" name="L1898"></a>1898             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (painted) ? <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>() : <strong class="reserved">null</strong>;
<a id="L1899" name="L1899"></a>1899             rootView.<a href="../D/12316.html" title="Multiple defined in 27 places.">changedUpdate</a>(e, alloc, rootView.<a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>());
<a id="L1900" name="L1900"></a>1900         <em class="brace">}</em>
<a id="L1901" name="L1901"></a>1901 
<a id="L1902" name="L1902"></a>1902         <em class="comment">// --- LayoutManager2 methods --------------------------------</em>
<a id="L1903" name="L1903"></a>1903 
<div class="comment">
          Adds the specified component with the specified name to
          the layout.
          @param name the component name
          @param comp the component to be added</div>
<a id="L1910" name="L1910"></a>1910         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9820.html" title="Multiple referred from 13 places.">addLayoutComponent</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> comp) <em class="brace">{</em>
<a id="L1911" name="L1911"></a>1911             <em class="comment">// not supported</em>
<a id="L1912" name="L1912"></a>1912         <em class="brace">}</em>
<a id="L1913" name="L1913"></a>1913 
<div class="comment">
          Removes the specified component from the layout.
          @param comp the component to be removed</div>
<a id="L1918" name="L1918"></a>1918         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26000.html" title="Multiple referred from 6 places.">removeLayoutComponent</a>(<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> comp) <em class="brace">{</em>
<a id="L1919" name="L1919"></a>1919             <strong class="reserved">if</strong> (constraints != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1920" name="L1920"></a>1920                 <em class="comment">// remove the constraint record</em>
<a id="L1921" name="L1921"></a>1921                 constraints.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(comp);
<a id="L1922" name="L1922"></a>1922             <em class="brace">}</em>
<a id="L1923" name="L1923"></a>1923         <em class="brace">}</em>
<a id="L1924" name="L1924"></a>1924 
<div class="comment">
          Calculates the preferred size dimensions for the specified
          panel given the components in the specified parent container.
          @param parent the component to be laid out
          @see #minimumLayoutSize</div>
<a id="L1932" name="L1932"></a>1932         <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/24914.html" title="Multiple referred from 21 places.">preferredLayoutSize</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1933" name="L1933"></a>1933             <em class="comment">// should not be called (JComponent uses UI instead)</em>
<a id="L1934" name="L1934"></a>1934             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1935" name="L1935"></a>1935         <em class="brace">}</em>
<a id="L1936" name="L1936"></a>1936 
<div class="comment">
          Calculates the minimum size dimensions for the specified
          panel given the components in the specified parent container.
          @param parent the component to be laid out
          @see #preferredLayoutSize</div>
<a id="L1943" name="L1943"></a>1943         <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/23295.html" title="Multiple referred from 19 places.">minimumLayoutSize</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1944" name="L1944"></a>1944             <em class="comment">// should not be called (JComponent uses UI instead)</em>
<a id="L1945" name="L1945"></a>1945             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1946" name="L1946"></a>1946         <em class="brace">}</em>
<a id="L1947" name="L1947"></a>1947 
<div class="comment">
          Lays out the container in the specified panel.  This is
          implemented to position all components that were added
          with a View object as a constraint.  The current allocation
          of the associated View is used as the location of the
          component.
          <p>
          A read-lock is acquired on the document to prevent the
          view tree from being modified while the layout process
          is active.
          @param parent the component which needs to be laid out</p></div>
<a id="L1961" name="L1961"></a>1961         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/22438.html" title="Multiple referred from 13 places.">layoutContainer</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1962" name="L1962"></a>1962             <strong class="reserved">if</strong> ((constraints != <strong class="reserved">null</strong>) &amp;&amp; (! constraints.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>())) <em class="brace">{</em>
<a id="L1963" name="L1963"></a>1963                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/2895.html#L994" title="Defined at 994 in src/javax/swing/plaf/basic/BasicTextUI.java.">getVisibleEditorRect</a>();
<a id="L1964" name="L1964"></a>1964                 <strong class="reserved">if</strong> (alloc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1965" name="L1965"></a>1965                     <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1966" name="L1966"></a>1966                     <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1967" name="L1967"></a>1967                         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L1968" name="L1968"></a>1968                     <em class="brace">}</em>
<a id="L1969" name="L1969"></a>1969                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1970" name="L1970"></a>1970                         rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1971" name="L1971"></a>1971                         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; components = constraints.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L1972" name="L1972"></a>1972                         <strong class="reserved">while</strong> (components.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L1973" name="L1973"></a>1973                             <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> comp = components.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L1974" name="L1974"></a>1974                             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = (<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>) constraints.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(comp);
<a id="L1975" name="L1975"></a>1975                             <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> ca = <a href="../S/2895.html#L1994" title="Defined at 1994 in src/javax/swing/plaf/basic/BasicTextUI.java.">calculateViewPosition</a>(alloc, v);
<a id="L1976" name="L1976"></a>1976                             <strong class="reserved">if</strong> (ca != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1977" name="L1977"></a>1977                                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> compAlloc = (ca <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ?
<a id="L1978" name="L1978"></a>1978                                     (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ca : ca.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L1979" name="L1979"></a>1979                                 comp.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(compAlloc);
<a id="L1980" name="L1980"></a>1980                             <em class="brace">}</em>
<a id="L1981" name="L1981"></a>1981                         <em class="brace">}</em>
<a id="L1982" name="L1982"></a>1982                     <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1983" name="L1983"></a>1983                         <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1984" name="L1984"></a>1984                             ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L1985" name="L1985"></a>1985                         <em class="brace">}</em>
<a id="L1986" name="L1986"></a>1986                     <em class="brace">}</em>
<a id="L1987" name="L1987"></a>1987                 <em class="brace">}</em>
<a id="L1988" name="L1988"></a>1988             <em class="brace">}</em>
<a id="L1989" name="L1989"></a>1989         <em class="brace">}</em>
<a id="L1990" name="L1990"></a>1990 
<div class="comment">
          Find the Shape representing the given view.</div>
<a id="L1994" name="L1994"></a>1994         <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../S/2895.html#L1975" title="Referred from 1975 in src/javax/swing/plaf/basic/BasicTextUI.java.">calculateViewPosition</a>(<a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> alloc, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v) <em class="brace">{</em>
<a id="L1995" name="L1995"></a>1995             <strong class="reserved">int</strong> pos = v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1996" name="L1996"></a>1996             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> child = <strong class="reserved">null</strong>;
<a id="L1997" name="L1997"></a>1997             <strong class="reserved">for</strong> (<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = rootView; (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != v); <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = child) <em class="brace">{</em>
<a id="L1998" name="L1998"></a>1998                 <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/23603.html" title="Multiple defined in 6 places.">getViewIndex</a>(pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward);
<a id="L1999" name="L1999"></a>1999                 alloc = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, alloc);
<a id="L2000" name="L2000"></a>2000                 child = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L2001" name="L2001"></a>2001             <em class="brace">}</em>
<a id="L2002" name="L2002"></a>2002             <strong class="reserved">return</strong> (child != <strong class="reserved">null</strong>) ? alloc : <strong class="reserved">null</strong>;
<a id="L2003" name="L2003"></a>2003         <em class="brace">}</em>
<a id="L2004" name="L2004"></a>2004 
<div class="comment">
          Adds the specified component to the layout, using the specified
          constraint object.  We only store those components that were added
          with a constraint that is of type View.
          @param comp the component to be added
          @param constraint  where/how the component is added to the layout.</div>
<a id="L2013" name="L2013"></a>2013         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9820.html" title="Multiple referred from 13 places.">addLayoutComponent</a>(<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> comp, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> constraint) <em class="brace">{</em>
<a id="L2014" name="L2014"></a>2014             <strong class="reserved">if</strong> (constraint <strong class="reserved">instanceof</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>) <em class="brace">{</em>
<a id="L2015" name="L2015"></a>2015                 <strong class="reserved">if</strong> (constraints == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2016" name="L2016"></a>2016                     constraints = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(7);
<a id="L2017" name="L2017"></a>2017                 <em class="brace">}</em>
<a id="L2018" name="L2018"></a>2018                 constraints.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(comp, constraint);
<a id="L2019" name="L2019"></a>2019             <em class="brace">}</em>
<a id="L2020" name="L2020"></a>2020         <em class="brace">}</em>
<a id="L2021" name="L2021"></a>2021 
<div class="comment">
          Returns the maximum size of this component.
          @see java.awt.Component#getMinimumSize()
          @see java.awt.Component#getPreferredSize()
          @see LayoutManager</div>
<a id="L2028" name="L2028"></a>2028         <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/23179.html" title="Multiple referred from 3 places.">maximumLayoutSize</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>) <em class="brace">{</em>
<a id="L2029" name="L2029"></a>2029             <em class="comment">// should not be called (JComponent uses UI instead)</em>
<a id="L2030" name="L2030"></a>2030             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2031" name="L2031"></a>2031         <em class="brace">}</em>
<a id="L2032" name="L2032"></a>2032 
<div class="comment">
          Returns the alignment along the x axis.  This specifies how
          the component would like to be aligned relative to other
          components.  The value should be a number between 0 and 1
          where 0 represents alignment along the origin, 1 is aligned
          the furthest away from the origin, 0.5 is centered, etc.</div>
<a id="L2040" name="L2040"></a>2040         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17300.html" title="Multiple referred from 2 places.">getLayoutAlignmentX</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>) <em class="brace">{</em>
<a id="L2041" name="L2041"></a>2041             <strong class="reserved">return</strong> 0.5f;
<a id="L2042" name="L2042"></a>2042         <em class="brace">}</em>
<a id="L2043" name="L2043"></a>2043 
<div class="comment">
          Returns the alignment along the y axis.  This specifies how
          the component would like to be aligned relative to other
          components.  The value should be a number between 0 and 1
          where 0 represents alignment along the origin, 1 is aligned
          the furthest away from the origin, 0.5 is centered, etc.</div>
<a id="L2051" name="L2051"></a>2051         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17301.html" title="Multiple referred from 2 places.">getLayoutAlignmentY</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>) <em class="brace">{</em>
<a id="L2052" name="L2052"></a>2052             <strong class="reserved">return</strong> 0.5f;
<a id="L2053" name="L2053"></a>2053         <em class="brace">}</em>
<a id="L2054" name="L2054"></a>2054 
<div class="comment">
          Invalidates the layout, indicating that if the layout manager
          has cached information it should be discarded.</div>
<a id="L2059" name="L2059"></a>2059         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/21036.html" title="Multiple referred from 9 places.">invalidateLayout</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>) <em class="brace">{</em>
<a id="L2060" name="L2060"></a>2060         <em class="brace">}</em>
<a id="L2061" name="L2061"></a>2061 
<div class="comment">
          The "layout constraints" for the LayoutManager2 implementation.
          These are View objects for those components that are represented
          by a View in the View tree.</div>
<a id="L2067" name="L2067"></a>2067         <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; constraints;
<a id="L2068" name="L2068"></a>2068 
<a id="L2069" name="L2069"></a>2069         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> i18nView = <strong class="reserved">false</strong>;
<a id="L2070" name="L2070"></a>2070     <em class="brace">}</em>
<a id="L2071" name="L2071"></a>2071 
<div class="comment">
      Wrapper for text actions to return isEnabled false in case editor is non editable</div>
<a id="L2075" name="L2075"></a>2075     <strong class="reserved">class</strong> <a href="../S/2895.html#L605" title="Referred from 605 in src/javax/swing/plaf/basic/BasicTextUI.java.">TextActionWrapper</a> <strong class="reserved">extends</strong> <a href="../S/3253.html#L61" title="Defined at 61 in src/javax/swing/text/TextAction.java.">TextAction</a> <em class="brace">{</em>
<a id="L2076" name="L2076"></a>2076         <strong class="reserved">public</strong> TextActionWrapper(<a href="../S/3253.html#L61" title="Defined at 61 in src/javax/swing/text/TextAction.java.">TextAction</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L2077" name="L2077"></a>2077             <strong class="reserved">super</strong>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME));
<a id="L2078" name="L2078"></a>2078             <strong class="reserved">this</strong>.<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>;
<a id="L2079" name="L2079"></a>2079         <em class="brace">}</em>
<div class="comment">
          The operation to perform when this action is triggered.
          @param e the action event</div>
<a id="L2085" name="L2085"></a>2085         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9558.html" title="Multiple referred from 49 places.">actionPerformed</a>(<a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> e) <em class="brace">{</em>
<a id="L2086" name="L2086"></a>2086             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10592.html" title="Multiple defined in 159 places.">actionPerformed</a>(e);
<a id="L2087" name="L2087"></a>2087         <em class="brace">}</em>
<a id="L2088" name="L2088"></a>2088         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21407.html" title="Multiple referred from 341 places.">isEnabled</a>() <em class="brace">{</em>
<a id="L2089" name="L2089"></a>2089             <strong class="reserved">return</strong> (<a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a> == <strong class="reserved">null</strong> || <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>()) ? <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>() : <strong class="reserved">false</strong>;
<a id="L2090" name="L2090"></a>2090         <em class="brace">}</em>
<a id="L2091" name="L2091"></a>2091         <a href="../S/3253.html#L61" title="Defined at 61 in src/javax/swing/text/TextAction.java.">TextAction</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = <strong class="reserved">null</strong>;
<a id="L2092" name="L2092"></a>2092     <em class="brace">}</em>
<a id="L2093" name="L2093"></a>2093 
<a id="L2094" name="L2094"></a>2094 
<div class="comment">
      Registered in the ActionMap.</div>
<a id="L2098" name="L2098"></a>2098     <strong class="reserved">class</strong> <a href="../R/3034.html" title="Multiple referred from 2 places.">FocusAction</a> <strong class="reserved">extends</strong> <a href="../S/3224.html#L59" title="Defined at 59 in src/javax/swing/AbstractAction.java.">AbstractAction</a> <em class="brace">{</em>
<a id="L2099" name="L2099"></a>2099 
<a id="L2100" name="L2100"></a>2100         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9558.html" title="Multiple referred from 49 places.">actionPerformed</a>(<a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> e) <em class="brace">{</em>
<a id="L2101" name="L2101"></a>2101             <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/31123.html" title="Multiple defined in 22 places.">requestFocus</a>();
<a id="L2102" name="L2102"></a>2102         <em class="brace">}</em>
<a id="L2103" name="L2103"></a>2103 
<a id="L2104" name="L2104"></a>2104         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21407.html" title="Multiple referred from 341 places.">isEnabled</a>() <em class="brace">{</em>
<a id="L2105" name="L2105"></a>2105             <strong class="reserved">return</strong> <a href="../D/15284.html" title="Multiple defined in 2 places.">editor</a>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>();
<a id="L2106" name="L2106"></a>2106         <em class="brace">}</em>
<a id="L2107" name="L2107"></a>2107     <em class="brace">}</em>
<a id="L2108" name="L2108"></a>2108 
<a id="L2109" name="L2109"></a>2109     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a> <a href="../S/2895.html#L1305" title="Referred from 1305 in src/javax/swing/plaf/basic/BasicTextUI.java.">getDragListener</a>() <em class="brace">{</em>
<a id="L2110" name="L2110"></a>2110         <strong class="reserved">synchronized</strong>(<a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L2111" name="L2111"></a>2111             <a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a> listener =
<a id="L2112" name="L2112"></a>2112                 (<a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a>)AppContext.getAppContext().
<a id="L2113" name="L2113"></a>2113                     <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a>.<strong class="reserved">class</strong>);
<a id="L2114" name="L2114"></a>2114 
<a id="L2115" name="L2115"></a>2115             <strong class="reserved">if</strong> (listener == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2116" name="L2116"></a>2116                 listener = <strong class="reserved">new</strong> <a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a>();
<a id="L2117" name="L2117"></a>2117                 AppContext.getAppContext().<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/2895.html#L2128" title="Defined at 2128 in src/javax/swing/plaf/basic/BasicTextUI.java.">DragListener</a>.<strong class="reserved">class</strong>, listener);
<a id="L2118" name="L2118"></a>2118             <em class="brace">}</em>
<a id="L2119" name="L2119"></a>2119 
<a id="L2120" name="L2120"></a>2120             <strong class="reserved">return</strong> listener;
<a id="L2121" name="L2121"></a>2121         <em class="brace">}</em>
<a id="L2122" name="L2122"></a>2122     <em class="brace">}</em>
<a id="L2123" name="L2123"></a>2123 
<div class="comment">
      Listens for mouse events for the purposes of detecting drag gestures.
      BasicTextUI will maintain one of these per AppContext.</div>
<a id="L2128" name="L2128"></a>2128     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/2417.html" title="Multiple referred from 8 places.">DragListener</a> <strong class="reserved">extends</strong> <a href="../S/3404.html#L40" title="Defined at 40 in src/javax/swing/event/MouseInputAdapter.java.">MouseInputAdapter</a>
<a id="L2129" name="L2129"></a>2129                               <strong class="reserved">implements</strong> <a href="../S/2911.html#L52" title="Defined at 52 in src/javax/swing/plaf/basic/DragRecognitionSupport.java.">BeforeDrag</a> <em class="brace">{</em>
<a id="L2130" name="L2130"></a>2130 
<a id="L2131" name="L2131"></a>2131         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> dragStarted;
<a id="L2132" name="L2132"></a>2132 
<a id="L2133" name="L2133"></a>2133         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2911.html#L172" title="Referred from 172 in src/javax/swing/plaf/basic/DragRecognitionSupport.java.">dragStarting</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> me) <em class="brace">{</em>
<a id="L2134" name="L2134"></a>2134             dragStarted = <strong class="reserved">true</strong>;
<a id="L2135" name="L2135"></a>2135         <em class="brace">}</em>
<a id="L2136" name="L2136"></a>2136 
<a id="L2137" name="L2137"></a>2137         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23363.html" title="Multiple referred from 30 places.">mousePressed</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L2138" name="L2138"></a>2138             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L2139" name="L2139"></a>2139             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18589.html" title="Multiple defined in 6 places.">getDragEnabled</a>()) <em class="brace">{</em>
<a id="L2140" name="L2140"></a>2140                 dragStarted = <strong class="reserved">false</strong>;
<a id="L2141" name="L2141"></a>2141                 <strong class="reserved">if</strong> (<a href="../S/2895.html#L2174" title="Defined at 2174 in src/javax/swing/plaf/basic/BasicTextUI.java.">isDragPossible</a>(e) &amp;&amp; <a href="../S/2911.html#L43" title="Defined at 43 in src/javax/swing/plaf/basic/DragRecognitionSupport.java.">DragRecognitionSupport</a>.<a href="../D/27792.html" title="Multiple defined in 56 places.">mousePressed</a>(e)) <em class="brace">{</em>
<a id="L2142" name="L2142"></a>2142                     e.<a href="../D/13298.html" title="Multiple defined in 4 places.">consume</a>();
<a id="L2143" name="L2143"></a>2143                 <em class="brace">}</em>
<a id="L2144" name="L2144"></a>2144             <em class="brace">}</em>
<a id="L2145" name="L2145"></a>2145         <em class="brace">}</em>
<a id="L2146" name="L2146"></a>2146 
<a id="L2147" name="L2147"></a>2147         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23367.html" title="Multiple referred from 25 places.">mouseReleased</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L2148" name="L2148"></a>2148             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L2149" name="L2149"></a>2149             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18589.html" title="Multiple defined in 6 places.">getDragEnabled</a>()) <em class="brace">{</em>
<a id="L2150" name="L2150"></a>2150                 <strong class="reserved">if</strong> (dragStarted) <em class="brace">{</em>
<a id="L2151" name="L2151"></a>2151                     e.<a href="../D/13298.html" title="Multiple defined in 4 places.">consume</a>();
<a id="L2152" name="L2152"></a>2152                 <em class="brace">}</em>
<a id="L2153" name="L2153"></a>2153 
<a id="L2154" name="L2154"></a>2154                 <a href="../S/2911.html#L43" title="Defined at 43 in src/javax/swing/plaf/basic/DragRecognitionSupport.java.">DragRecognitionSupport</a>.<a href="../D/27796.html" title="Multiple defined in 50 places.">mouseReleased</a>(e);
<a id="L2155" name="L2155"></a>2155             <em class="brace">}</em>
<a id="L2156" name="L2156"></a>2156         <em class="brace">}</em>
<a id="L2157" name="L2157"></a>2157 
<a id="L2158" name="L2158"></a>2158         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23354.html" title="Multiple referred from 20 places.">mouseDragged</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L2159" name="L2159"></a>2159             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L2160" name="L2160"></a>2160             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18589.html" title="Multiple defined in 6 places.">getDragEnabled</a>()) <em class="brace">{</em>
<a id="L2161" name="L2161"></a>2161                 <strong class="reserved">if</strong> (dragStarted || <a href="../S/2911.html#L43" title="Defined at 43 in src/javax/swing/plaf/basic/DragRecognitionSupport.java.">DragRecognitionSupport</a>.<a href="../D/27783.html" title="Multiple defined in 44 places.">mouseDragged</a>(e, <strong class="reserved">this</strong>)) <em class="brace">{</em>
<a id="L2162" name="L2162"></a>2162                     e.<a href="../D/13298.html" title="Multiple defined in 4 places.">consume</a>();
<a id="L2163" name="L2163"></a>2163                 <em class="brace">}</em>
<a id="L2164" name="L2164"></a>2164             <em class="brace">}</em>
<a id="L2165" name="L2165"></a>2165         <em class="brace">}</em>
<a id="L2166" name="L2166"></a>2166 
<div class="comment">
          Determines if the following are true:
          <ul><li>the component is enabled
          </li><li>the press event is located over a selection
          </li></ul></div>
<a id="L2174" name="L2174"></a>2174         <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/2895.html#L2141" title="Referred from 2141 in src/javax/swing/plaf/basic/BasicTextUI.java.">isDragPossible</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L2175" name="L2175"></a>2175             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)e.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L2176" name="L2176"></a>2176             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) <em class="brace">{</em>
<a id="L2177" name="L2177"></a>2177                 <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> caret = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L2178" name="L2178"></a>2178                 <strong class="reserved">int</strong> dot = caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L2179" name="L2179"></a>2179                 <strong class="reserved">int</strong> <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a> = caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>();
<a id="L2180" name="L2180"></a>2180                 <strong class="reserved">if</strong> (dot != <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a>) <em class="brace">{</em>
<a id="L2181" name="L2181"></a>2181                     <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> p = <strong class="reserved">new</strong> <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a>(e.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(), e.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>());
<a id="L2182" name="L2182"></a>2182                     <strong class="reserved">int</strong> pos = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(p);
<a id="L2183" name="L2183"></a>2183 
<a id="L2184" name="L2184"></a>2184                     <strong class="reserved">int</strong> p0 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(dot, <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a>);
<a id="L2185" name="L2185"></a>2185                     <strong class="reserved">int</strong> p1 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(dot, <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a>);
<a id="L2186" name="L2186"></a>2186                     <strong class="reserved">if</strong> ((pos &gt;= p0) &amp;&amp; (pos &lt; p1)) <em class="brace">{</em>
<a id="L2187" name="L2187"></a>2187                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2188" name="L2188"></a>2188                     <em class="brace">}</em>
<a id="L2189" name="L2189"></a>2189                 <em class="brace">}</em>
<a id="L2190" name="L2190"></a>2190             <em class="brace">}</em>
<a id="L2191" name="L2191"></a>2191             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2192" name="L2192"></a>2192         <em class="brace">}</em>
<a id="L2193" name="L2193"></a>2193     <em class="brace">}</em>
<a id="L2194" name="L2194"></a>2194 
<a id="L2195" name="L2195"></a>2195     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/2895.html#L1304" title="Referred from 1304 in src/javax/swing/plaf/basic/BasicTextUI.java.">TextTransferHandler</a> <strong class="reserved">extends</strong> <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a> <strong class="reserved">implements</strong> <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a> <em class="brace">{</em>
<a id="L2196" name="L2196"></a>2196 
<a id="L2197" name="L2197"></a>2197         <strong class="reserved">private</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> exportComp;
<a id="L2198" name="L2198"></a>2198         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> shouldRemove;
<a id="L2199" name="L2199"></a>2199         <strong class="reserved">private</strong> <strong class="reserved">int</strong> p0;
<a id="L2200" name="L2200"></a>2200         <strong class="reserved">private</strong> <strong class="reserved">int</strong> p1;
<a id="L2201" name="L2201"></a>2201 
<div class="comment">
          Whether or not this is a drop using
          <code>DropMode.INSERT</code>.</div>
<a id="L2206" name="L2206"></a>2206         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> modeBetween = <strong class="reserved">false</strong>;
<a id="L2207" name="L2207"></a>2207 
<div class="comment">
          Whether or not this is a drop.</div>
<a id="L2211" name="L2211"></a>2211         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/3192.html#L318" title="Defined at 318 in src/javax/swing/TransferHandler.java.">isDrop</a> = <strong class="reserved">false</strong>;
<a id="L2212" name="L2212"></a>2212 
<div class="comment">
          The drop action.</div>
<a id="L2216" name="L2216"></a>2216         <strong class="reserved">private</strong> <strong class="reserved">int</strong> dropAction = MOVE;
<a id="L2217" name="L2217"></a>2217 
<div class="comment">
          The drop bias.</div>
<a id="L2221" name="L2221"></a>2221         <strong class="reserved">private</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> dropBias;
<a id="L2222" name="L2222"></a>2222 
<div class="comment">
          Try to find a flavor that can be used to import a Transferable.
          The set of usable flavors are tried in the following order:
          <ol>
              <li>First, an attempt is made to find a flavor matching the content type
                  of the EditorKit for the component.
              </li><li>Second, an attempt to find a text/plain flavor is made.
              </li><li>Third, an attempt to find a flavor representing a String reference
                  in the same VM is made.
              </li><li>Lastly, DataFlavor.stringFlavor is searched for.
          </li></ol></div>
<a id="L2235" name="L2235"></a>2235         <strong class="reserved">protected</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> <a href="../R/17011.html" title="Multiple referred from 2 places.">getImportFlavor</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[] flavors, <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L2236" name="L2236"></a>2236             <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> plainFlavor = <strong class="reserved">null</strong>;
<a id="L2237" name="L2237"></a>2237             <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> refFlavor = <strong class="reserved">null</strong>;
<a id="L2238" name="L2238"></a>2238             <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> stringFlavor = <strong class="reserved">null</strong>;
<a id="L2239" name="L2239"></a>2239 
<a id="L2240" name="L2240"></a>2240             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a>) <em class="brace">{</em>
<a id="L2241" name="L2241"></a>2241                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; flavors.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L2242" name="L2242"></a>2242                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mime = flavors[i].<a href="../D/20626.html" title="Multiple defined in 9 places.">getMimeType</a>();
<a id="L2243" name="L2243"></a>2243                     <strong class="reserved">if</strong> (mime.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(((<a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>).<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>().<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>())) <em class="brace">{</em>
<a id="L2244" name="L2244"></a>2244                         <strong class="reserved">return</strong> flavors[i];
<a id="L2245" name="L2245"></a>2245                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (plainFlavor == <strong class="reserved">null</strong> &amp;&amp; mime.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("text/plain")) <em class="brace">{</em>
<a id="L2246" name="L2246"></a>2246                         plainFlavor = flavors[i];
<a id="L2247" name="L2247"></a>2247                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (refFlavor == <strong class="reserved">null</strong> &amp;&amp; mime.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("application/x-java-jvm-local-objectref")
<a id="L2248" name="L2248"></a>2248                                                  &amp;&amp; flavors[i].<a href="../S/2287.html#L905" title="Defined at 905 in src/java/awt/datatransfer/DataFlavor.java.">getRepresentationClass</a>() == <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L2249" name="L2249"></a>2249                         refFlavor = flavors[i];
<a id="L2250" name="L2250"></a>2250                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (stringFlavor == <strong class="reserved">null</strong> &amp;&amp; flavors[i].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>.stringFlavor)) <em class="brace">{</em>
<a id="L2251" name="L2251"></a>2251                         stringFlavor = flavors[i];
<a id="L2252" name="L2252"></a>2252                     <em class="brace">}</em>
<a id="L2253" name="L2253"></a>2253                 <em class="brace">}</em>
<a id="L2254" name="L2254"></a>2254                 <strong class="reserved">if</strong> (plainFlavor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2255" name="L2255"></a>2255                     <strong class="reserved">return</strong> plainFlavor;
<a id="L2256" name="L2256"></a>2256                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (refFlavor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2257" name="L2257"></a>2257                     <strong class="reserved">return</strong> refFlavor;
<a id="L2258" name="L2258"></a>2258                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (stringFlavor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2259" name="L2259"></a>2259                     <strong class="reserved">return</strong> stringFlavor;
<a id="L2260" name="L2260"></a>2260                 <em class="brace">}</em>
<a id="L2261" name="L2261"></a>2261                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2262" name="L2262"></a>2262             <em class="brace">}</em>
<a id="L2263" name="L2263"></a>2263 
<a id="L2264" name="L2264"></a>2264 
<a id="L2265" name="L2265"></a>2265             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; flavors.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L2266" name="L2266"></a>2266                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mime = flavors[i].<a href="../D/20626.html" title="Multiple defined in 9 places.">getMimeType</a>();
<a id="L2267" name="L2267"></a>2267                 <strong class="reserved">if</strong> (mime.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("text/plain")) <em class="brace">{</em>
<a id="L2268" name="L2268"></a>2268                     <strong class="reserved">return</strong> flavors[i];
<a id="L2269" name="L2269"></a>2269                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (refFlavor == <strong class="reserved">null</strong> &amp;&amp; mime.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("application/x-java-jvm-local-objectref")
<a id="L2270" name="L2270"></a>2270                                              &amp;&amp; flavors[i].<a href="../S/2287.html#L905" title="Defined at 905 in src/java/awt/datatransfer/DataFlavor.java.">getRepresentationClass</a>() == <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L2271" name="L2271"></a>2271                     refFlavor = flavors[i];
<a id="L2272" name="L2272"></a>2272                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (stringFlavor == <strong class="reserved">null</strong> &amp;&amp; flavors[i].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>.stringFlavor)) <em class="brace">{</em>
<a id="L2273" name="L2273"></a>2273                     stringFlavor = flavors[i];
<a id="L2274" name="L2274"></a>2274                 <em class="brace">}</em>
<a id="L2275" name="L2275"></a>2275             <em class="brace">}</em>
<a id="L2276" name="L2276"></a>2276             <strong class="reserved">if</strong> (refFlavor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2277" name="L2277"></a>2277                 <strong class="reserved">return</strong> refFlavor;
<a id="L2278" name="L2278"></a>2278             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (stringFlavor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2279" name="L2279"></a>2279                 <strong class="reserved">return</strong> stringFlavor;
<a id="L2280" name="L2280"></a>2280             <em class="brace">}</em>
<a id="L2281" name="L2281"></a>2281             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2282" name="L2282"></a>2282         <em class="brace">}</em>
<a id="L2283" name="L2283"></a>2283 
<div class="comment">
          Import the given stream data into the text component.</div>
<a id="L2287" name="L2287"></a>2287         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/2895.html#L2502" title="Referred from 2502 in src/javax/swing/plaf/basic/BasicTextUI.java.">handleReaderImport</a>(<a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>, <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">boolean</strong> useRead)
<a id="L2288" name="L2288"></a>2288                                                <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2289" name="L2289"></a>2289             <strong class="reserved">if</strong> (useRead) <em class="brace">{</em>
<a id="L2290" name="L2290"></a>2290                 <strong class="reserved">int</strong> startPosition = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>();
<a id="L2291" name="L2291"></a>2291                 <strong class="reserved">int</strong> endPosition = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22371.html" title="Multiple defined in 11 places.">getSelectionEnd</a>();
<a id="L2292" name="L2292"></a>2292                 <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = endPosition - startPosition;
<a id="L2293" name="L2293"></a>2293                 <a href="../S/3357.html#L48" title="Defined at 48 in src/javax/swing/text/EditorKit.java.">EditorKit</a> kit = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L2294" name="L2294"></a>2294                 <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L2295" name="L2295"></a>2295                 <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L2296" name="L2296"></a>2296                     doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(startPosition, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2297" name="L2297"></a>2297                 <em class="brace">}</em>
<a id="L2298" name="L2298"></a>2298                 kit.<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>, doc, startPosition);
<a id="L2299" name="L2299"></a>2299             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2300" name="L2300"></a>2300                 <strong class="reserved">char</strong>[] buff = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[1024];
<a id="L2301" name="L2301"></a>2301                 <strong class="reserved">int</strong> nch;
<a id="L2302" name="L2302"></a>2302                 <strong class="reserved">boolean</strong> lastWasCR = <strong class="reserved">false</strong>;
<a id="L2303" name="L2303"></a>2303                 <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>;
<a id="L2304" name="L2304"></a>2304                 <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> sbuff = <strong class="reserved">null</strong>;
<a id="L2305" name="L2305"></a>2305 
<a id="L2306" name="L2306"></a>2306                 <em class="comment">// Read in a block at a time, mapping \r\n to \n, as well as single</em>
<a id="L2307" name="L2307"></a>2307                 <em class="comment">// \r to \n.</em>
<a id="L2308" name="L2308"></a>2308                 <strong class="reserved">while</strong> ((nch = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(buff, 0, buff.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)) != -1) <em class="brace">{</em>
<a id="L2309" name="L2309"></a>2309                     <strong class="reserved">if</strong> (sbuff == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2310" name="L2310"></a>2310                         sbuff = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(nch);
<a id="L2311" name="L2311"></a>2311                     <em class="brace">}</em>
<a id="L2312" name="L2312"></a>2312                     <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = 0;
<a id="L2313" name="L2313"></a>2313                     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> counter = 0; counter &lt; nch; counter++) <em class="brace">{</em>
<a id="L2314" name="L2314"></a>2314                         <strong class="reserved">switch</strong>(buff[counter]) <em class="brace">{</em>
<a id="L2315" name="L2315"></a>2315                         <strong class="reserved">case</strong> '\r':
<a id="L2316" name="L2316"></a>2316                             <strong class="reserved">if</strong> (lastWasCR) <em class="brace">{</em>
<a id="L2317" name="L2317"></a>2317                                 <strong class="reserved">if</strong> (counter == 0) <em class="brace">{</em>
<a id="L2318" name="L2318"></a>2318                                     sbuff.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('\n');
<a id="L2319" name="L2319"></a>2319                                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2320" name="L2320"></a>2320                                     buff[counter - 1] = '\n';
<a id="L2321" name="L2321"></a>2321                                 <em class="brace">}</em>
<a id="L2322" name="L2322"></a>2322                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2323" name="L2323"></a>2323                                 lastWasCR = <strong class="reserved">true</strong>;
<a id="L2324" name="L2324"></a>2324                             <em class="brace">}</em>
<a id="L2325" name="L2325"></a>2325                             <strong class="reserved">break</strong>;
<a id="L2326" name="L2326"></a>2326                         <strong class="reserved">case</strong> '\n':
<a id="L2327" name="L2327"></a>2327                             <strong class="reserved">if</strong> (lastWasCR) <em class="brace">{</em>
<a id="L2328" name="L2328"></a>2328                                 <strong class="reserved">if</strong> (counter &gt; (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> + 1)) <em class="brace">{</em>
<a id="L2329" name="L2329"></a>2329                                     sbuff.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(buff, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>, counter - <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> - 1);
<a id="L2330" name="L2330"></a>2330                                 <em class="brace">}</em>
<a id="L2331" name="L2331"></a>2331                                 <em class="comment">// else nothing to do, can skip \r, next write will</em>
<a id="L2332" name="L2332"></a>2332                                 <em class="comment">// write \n</em>
<a id="L2333" name="L2333"></a>2333                                 lastWasCR = <strong class="reserved">false</strong>;
<a id="L2334" name="L2334"></a>2334                                 <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = counter;
<a id="L2335" name="L2335"></a>2335                             <em class="brace">}</em>
<a id="L2336" name="L2336"></a>2336                             <strong class="reserved">break</strong>;
<a id="L2337" name="L2337"></a>2337                         <strong class="reserved">default</strong>:
<a id="L2338" name="L2338"></a>2338                             <strong class="reserved">if</strong> (lastWasCR) <em class="brace">{</em>
<a id="L2339" name="L2339"></a>2339                                 <strong class="reserved">if</strong> (counter == 0) <em class="brace">{</em>
<a id="L2340" name="L2340"></a>2340                                     sbuff.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('\n');
<a id="L2341" name="L2341"></a>2341                                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2342" name="L2342"></a>2342                                     buff[counter - 1] = '\n';
<a id="L2343" name="L2343"></a>2343                                 <em class="brace">}</em>
<a id="L2344" name="L2344"></a>2344                                 lastWasCR = <strong class="reserved">false</strong>;
<a id="L2345" name="L2345"></a>2345                             <em class="brace">}</em>
<a id="L2346" name="L2346"></a>2346                             <strong class="reserved">break</strong>;
<a id="L2347" name="L2347"></a>2347                         <em class="brace">}</em>
<a id="L2348" name="L2348"></a>2348                     <em class="brace">}</em>
<a id="L2349" name="L2349"></a>2349                     <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> &lt; nch) <em class="brace">{</em>
<a id="L2350" name="L2350"></a>2350                         <strong class="reserved">if</strong> (lastWasCR) <em class="brace">{</em>
<a id="L2351" name="L2351"></a>2351                             <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> &lt; (nch - 1)) <em class="brace">{</em>
<a id="L2352" name="L2352"></a>2352                                 sbuff.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(buff, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>, nch - <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> - 1);
<a id="L2353" name="L2353"></a>2353                             <em class="brace">}</em>
<a id="L2354" name="L2354"></a>2354                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2355" name="L2355"></a>2355                             sbuff.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(buff, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>, nch - <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>);
<a id="L2356" name="L2356"></a>2356                         <em class="brace">}</em>
<a id="L2357" name="L2357"></a>2357                     <em class="brace">}</em>
<a id="L2358" name="L2358"></a>2358                 <em class="brace">}</em>
<a id="L2359" name="L2359"></a>2359                 <strong class="reserved">if</strong> (lastWasCR) <em class="brace">{</em>
<a id="L2360" name="L2360"></a>2360                     sbuff.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('\n');
<a id="L2361" name="L2361"></a>2361                 <em class="brace">}</em>
<a id="L2362" name="L2362"></a>2362                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31064.html" title="Multiple defined in 4 places.">replaceSelection</a>(sbuff != <strong class="reserved">null</strong> ? sbuff.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : "");
<a id="L2363" name="L2363"></a>2363             <em class="brace">}</em>
<a id="L2364" name="L2364"></a>2364         <em class="brace">}</em>
<a id="L2365" name="L2365"></a>2365 
<a id="L2366" name="L2366"></a>2366         <em class="comment">// --- TransferHandler methods ------------------------------------</em>
<a id="L2367" name="L2367"></a>2367 
<div class="comment">
          This is the type of transfer actions supported by the source.  Some models are
          not mutable, so a transfer operation of COPY only should
          be advertised in that case.
          @param c  The component holding the data to be transfered.  This
           argument is provided to enable sharing of TransferHandlers by
           multiple components.
          @return  This is implemented to return NONE if the component is a JPasswordField
           since exporting data via user gestures is not allowed.  If the text component is
           editable, COPY_OR_MOVE is returned, otherwise just COPY is allowed.</div>
<a id="L2380" name="L2380"></a>2380         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19087.html" title="Multiple referred from 12 places.">getSourceActions</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L2381" name="L2381"></a>2381             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/2755.html#L77" title="Defined at 77 in src/javax/swing/JPasswordField.java.">JPasswordField</a> &amp;&amp;
<a id="L2382" name="L2382"></a>2382                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/3152.html#L4020" title="Defined at 4020 in src/javax/swing/JComponent.java.">getClientProperty</a>("JPasswordField.cutCopyAllowed") !=
<a id="L2383" name="L2383"></a>2383                 <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE) <em class="brace">{</em>
<a id="L2384" name="L2384"></a>2384                 <strong class="reserved">return</strong> <a href="../D/5884.html" title="Multiple defined in 2 places.">NONE</a>;
<a id="L2385" name="L2385"></a>2385             <em class="brace">}</em>
<a id="L2386" name="L2386"></a>2386 
<a id="L2387" name="L2387"></a>2387             <strong class="reserved">return</strong> ((<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>).<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>() ? COPY_OR_MOVE : COPY;
<a id="L2388" name="L2388"></a>2388         <em class="brace">}</em>
<a id="L2389" name="L2389"></a>2389 
<div class="comment">
          Create a Transferable to use as the source for a data transfer.
          @param comp  The component holding the data to be transfered.  This
           argument is provided to enable sharing of TransferHandlers by
           multiple components.
          @return  The representation of the data to be transfered.</div>
<a id="L2399" name="L2399"></a>2399         <strong class="reserved">protected</strong> <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a> <a href="../R/12739.html" title="Multiple referred from 2 places.">createTransferable</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> comp) <em class="brace">{</em>
<a id="L2400" name="L2400"></a>2400             exportComp = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)comp;
<a id="L2401" name="L2401"></a>2401             shouldRemove = <strong class="reserved">true</strong>;
<a id="L2402" name="L2402"></a>2402             p0 = exportComp.<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>();
<a id="L2403" name="L2403"></a>2403             p1 = exportComp.<a href="../D/22371.html" title="Multiple defined in 11 places.">getSelectionEnd</a>();
<a id="L2404" name="L2404"></a>2404             <strong class="reserved">return</strong> (p0 != p1) ? (<strong class="reserved">new</strong> <a href="../S/2895.html#L2554" title="Defined at 2554 in src/javax/swing/plaf/basic/BasicTextUI.java.">TextTransferable</a>(exportComp, p0, p1)) : <strong class="reserved">null</strong>;
<a id="L2405" name="L2405"></a>2405         <em class="brace">}</em>
<a id="L2406" name="L2406"></a>2406 
<div class="comment">
          This method is called after data has been exported.  This method should remove
          the data that was transfered if the action was MOVE.
          @param source The component that was the source of the data.
          @param data   The data that was transferred or possibly null
                        if the action is <code>NONE</code>.
          @param action The actual action that was performed.</div>
<a id="L2416" name="L2416"></a>2416         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14161.html" title="Multiple referred from 7 places.">exportDone</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">int</strong> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L2417" name="L2417"></a>2417             <em class="comment">// only remove the text if shouldRemove has not been set to</em>
<a id="L2418" name="L2418"></a>2418             <em class="comment">// false by importData and only if the action is a move</em>
<a id="L2419" name="L2419"></a>2419             <strong class="reserved">if</strong> (shouldRemove &amp;&amp; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == MOVE) <em class="brace">{</em>
<a id="L2420" name="L2420"></a>2420                 <a href="../S/2895.html#L2554" title="Defined at 2554 in src/javax/swing/plaf/basic/BasicTextUI.java.">TextTransferable</a> t = (<a href="../S/2895.html#L2554" title="Defined at 2554 in src/javax/swing/plaf/basic/BasicTextUI.java.">TextTransferable</a>)<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>;
<a id="L2421" name="L2421"></a>2421                 t.<a href="../S/2895.html#L2592" title="Defined at 2592 in src/javax/swing/plaf/basic/BasicTextUI.java.">removeText</a>();
<a id="L2422" name="L2422"></a>2422             <em class="brace">}</em>
<a id="L2423" name="L2423"></a>2423 
<a id="L2424" name="L2424"></a>2424             exportComp = <strong class="reserved">null</strong>;
<a id="L2425" name="L2425"></a>2425         <em class="brace">}</em>
<a id="L2426" name="L2426"></a>2426 
<a id="L2427" name="L2427"></a>2427         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20442.html" title="Multiple referred from 5 places.">importData</a>(<a href="../S/3192.html#L213" title="Defined at 213 in src/javax/swing/TransferHandler.java.">TransferSupport</a> support) <em class="brace">{</em>
<a id="L2428" name="L2428"></a>2428             <a href="../S/3192.html#L318" title="Defined at 318 in src/javax/swing/TransferHandler.java.">isDrop</a> = support.<a href="../S/3192.html#L318" title="Defined at 318 in src/javax/swing/TransferHandler.java.">isDrop</a>();
<a id="L2429" name="L2429"></a>2429 
<a id="L2430" name="L2430"></a>2430             <strong class="reserved">if</strong> (<a href="../S/3192.html#L318" title="Defined at 318 in src/javax/swing/TransferHandler.java.">isDrop</a>) <em class="brace">{</em>
<a id="L2431" name="L2431"></a>2431                 modeBetween =
<a id="L2432" name="L2432"></a>2432                     ((<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)support.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>()).<a href="../D/18618.html" title="Multiple defined in 4 places.">getDropMode</a>() == <a href="../S/2738.html#L38" title="Defined at 38 in src/javax/swing/DropMode.java.">DropMode</a>.INSERT;
<a id="L2433" name="L2433"></a>2433 
<a id="L2434" name="L2434"></a>2434                 dropBias = ((<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a>)support.<a href="../D/18617.html" title="Multiple defined in 5 places.">getDropLocation</a>()).<a href="../S/3351.html#L3844" title="Defined at 3844 in src/javax/swing/text/JTextComponent.java.">getBias</a>();
<a id="L2435" name="L2435"></a>2435 
<a id="L2436" name="L2436"></a>2436                 dropAction = support.<a href="../D/18615.html" title="Multiple defined in 5 places.">getDropAction</a>();
<a id="L2437" name="L2437"></a>2437             <em class="brace">}</em>
<a id="L2438" name="L2438"></a>2438 
<a id="L2439" name="L2439"></a>2439             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2440" name="L2440"></a>2440                 <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/24388.html" title="Multiple defined in 5 places.">importData</a>(support);
<a id="L2441" name="L2441"></a>2441             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2442" name="L2442"></a>2442                 <a href="../S/3192.html#L318" title="Defined at 318 in src/javax/swing/TransferHandler.java.">isDrop</a> = <strong class="reserved">false</strong>;
<a id="L2443" name="L2443"></a>2443                 modeBetween = <strong class="reserved">false</strong>;
<a id="L2444" name="L2444"></a>2444                 dropBias = <strong class="reserved">null</strong>;
<a id="L2445" name="L2445"></a>2445                 dropAction = MOVE;
<a id="L2446" name="L2446"></a>2446             <em class="brace">}</em>
<a id="L2447" name="L2447"></a>2447         <em class="brace">}</em>
<a id="L2448" name="L2448"></a>2448 
<div class="comment">
          This method causes a transfer to a component from a clipboard or a
          DND drop operation.  The Transferable represents the data to be
          imported into the component.
          @param comp  The component to receive the transfer.  This
           argument is provided to enable sharing of TransferHandlers by
           multiple components.
          @param t     The data to import
          @return  true if the data was inserted into the component, false otherwise.</div>
<a id="L2460" name="L2460"></a>2460         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20442.html" title="Multiple referred from 5 places.">importData</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> comp, <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a> t) <em class="brace">{</em>
<a id="L2461" name="L2461"></a>2461             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)comp;
<a id="L2462" name="L2462"></a>2462 
<a id="L2463" name="L2463"></a>2463             <strong class="reserved">int</strong> pos = modeBetween
<a id="L2464" name="L2464"></a>2464                       ? <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18617.html" title="Multiple defined in 5 places.">getDropLocation</a>().<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>() : <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17501.html" title="Multiple defined in 11 places.">getCaretPosition</a>();
<a id="L2465" name="L2465"></a>2465 
<a id="L2466" name="L2466"></a>2466             <em class="comment">// if we are importing to the same component that we exported from</em>
<a id="L2467" name="L2467"></a>2467             <em class="comment">// then don't actually do anything if the drop location is inside</em>
<a id="L2468" name="L2468"></a>2468             <em class="comment">// the drag location and set shouldRemove to false so that exportDone</em>
<a id="L2469" name="L2469"></a>2469             <em class="comment">// knows not to remove any data</em>
<a id="L2470" name="L2470"></a>2470             <strong class="reserved">if</strong> (dropAction == MOVE &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == exportComp &amp;&amp; pos &gt;= p0 &amp;&amp; pos &lt;= p1) <em class="brace">{</em>
<a id="L2471" name="L2471"></a>2471                 shouldRemove = <strong class="reserved">false</strong>;
<a id="L2472" name="L2472"></a>2472                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2473" name="L2473"></a>2473             <em class="brace">}</em>
<a id="L2474" name="L2474"></a>2474 
<a id="L2475" name="L2475"></a>2475             <strong class="reserved">boolean</strong> imported = <strong class="reserved">false</strong>;
<a id="L2476" name="L2476"></a>2476             <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> importFlavor = <a href="../S/2895.html#L2235" title="Defined at 2235 in src/javax/swing/plaf/basic/BasicTextUI.java.">getImportFlavor</a>(t.<a href="../D/23243.html" title="Multiple defined in 6 places.">getTransferDataFlavors</a>(), <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L2477" name="L2477"></a>2477             <strong class="reserved">if</strong> (importFlavor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2478" name="L2478"></a>2478                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2479" name="L2479"></a>2479                     <strong class="reserved">boolean</strong> useRead = <strong class="reserved">false</strong>;
<a id="L2480" name="L2480"></a>2480                     <strong class="reserved">if</strong> (comp <strong class="reserved">instanceof</strong> <a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a>) <em class="brace">{</em>
<a id="L2481" name="L2481"></a>2481                         <a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a> ep = (<a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a>)comp;
<a id="L2482" name="L2482"></a>2482                         <strong class="reserved">if</strong> (!ep.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>().<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("text/plain") &amp;&amp;
<a id="L2483" name="L2483"></a>2483                                 importFlavor.<a href="../D/20626.html" title="Multiple defined in 9 places.">getMimeType</a>().<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(ep.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>())) <em class="brace">{</em>
<a id="L2484" name="L2484"></a>2484                             useRead = <strong class="reserved">true</strong>;
<a id="L2485" name="L2485"></a>2485                         <em class="brace">}</em>
<a id="L2486" name="L2486"></a>2486                     <em class="brace">}</em>
<a id="L2487" name="L2487"></a>2487                     <a href="../S/2355.html#L76" title="Defined at 76 in src/java/awt/im/InputContext.java.">InputContext</a> ic = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/19730.html" title="Multiple defined in 2 places.">getInputContext</a>();
<a id="L2488" name="L2488"></a>2488                     <strong class="reserved">if</strong> (ic != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2489" name="L2489"></a>2489                         ic.<a href="../D/15438.html" title="Multiple defined in 2 places.">endComposition</a>();
<a id="L2490" name="L2490"></a>2490                     <em class="brace">}</em>
<a id="L2491" name="L2491"></a>2491                     <a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a> r = importFlavor.<a href="../D/21878.html" title="Multiple defined in 3 places.">getReaderForText</a>(t);
<a id="L2492" name="L2492"></a>2492 
<a id="L2493" name="L2493"></a>2493                     <strong class="reserved">if</strong> (modeBetween) <em class="brace">{</em>
<a id="L2494" name="L2494"></a>2494                         <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> caret = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L2495" name="L2495"></a>2495                         <strong class="reserved">if</strong> (caret <strong class="reserved">instanceof</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>) <em class="brace">{</em>
<a id="L2496" name="L2496"></a>2496                             ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(pos, dropBias);
<a id="L2497" name="L2497"></a>2497                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2498" name="L2498"></a>2498                             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/32097.html" title="Multiple defined in 3 places.">setCaretPosition</a>(pos);
<a id="L2499" name="L2499"></a>2499                         <em class="brace">}</em>
<a id="L2500" name="L2500"></a>2500                     <em class="brace">}</em>
<a id="L2501" name="L2501"></a>2501 
<a id="L2502" name="L2502"></a>2502                     <a href="../S/2895.html#L2287" title="Defined at 2287 in src/javax/swing/plaf/basic/BasicTextUI.java.">handleReaderImport</a>(r, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, useRead);
<a id="L2503" name="L2503"></a>2503 
<a id="L2504" name="L2504"></a>2504                     <strong class="reserved">if</strong> (<a href="../S/3192.html#L318" title="Defined at 318 in src/javax/swing/TransferHandler.java.">isDrop</a>) <em class="brace">{</em>
<a id="L2505" name="L2505"></a>2505                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31123.html" title="Multiple defined in 22 places.">requestFocus</a>();
<a id="L2506" name="L2506"></a>2506                         <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> caret = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L2507" name="L2507"></a>2507                         <strong class="reserved">if</strong> (caret <strong class="reserved">instanceof</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>) <em class="brace">{</em>
<a id="L2508" name="L2508"></a>2508                             <strong class="reserved">int</strong> newPos = caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L2509" name="L2509"></a>2509                             <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> newBias = ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../S/3356.html#L1190" title="Defined at 1190 in src/javax/swing/text/DefaultCaret.java.">getDotBias</a>();
<a id="L2510" name="L2510"></a>2510 
<a id="L2511" name="L2511"></a>2511                             ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(pos, dropBias);
<a id="L2512" name="L2512"></a>2512                             ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../D/27808.html" title="Multiple defined in 8 places.">moveDot</a>(newPos, newBias);
<a id="L2513" name="L2513"></a>2513                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2514" name="L2514"></a>2514                             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31672.html" title="Multiple defined in 17 places.">select</a>(pos, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17501.html" title="Multiple defined in 11 places.">getCaretPosition</a>());
<a id="L2515" name="L2515"></a>2515                         <em class="brace">}</em>
<a id="L2516" name="L2516"></a>2516                     <em class="brace">}</em>
<a id="L2517" name="L2517"></a>2517 
<a id="L2518" name="L2518"></a>2518                     imported = <strong class="reserved">true</strong>;
<a id="L2519" name="L2519"></a>2519                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2293.html#L34" title="Defined at 34 in src/java/awt/datatransfer/UnsupportedFlavorException.java.">UnsupportedFlavorException</a> ufe) <em class="brace">{</em>
<a id="L2520" name="L2520"></a>2520                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L2521" name="L2521"></a>2521                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L2522" name="L2522"></a>2522                 <em class="brace">}</em>
<a id="L2523" name="L2523"></a>2523             <em class="brace">}</em>
<a id="L2524" name="L2524"></a>2524             <strong class="reserved">return</strong> imported;
<a id="L2525" name="L2525"></a>2525         <em class="brace">}</em>
<a id="L2526" name="L2526"></a>2526 
<div class="comment">
          This method indicates if a component would accept an import of the given
          set of data flavors prior to actually attempting to import it.
          @param comp  The component to receive the transfer.  This
           argument is provided to enable sharing of TransferHandlers by
           multiple components.
          @param flavors  The data formats available
          @return  true if the data can be inserted into the component, false otherwise.</div>
<a id="L2537" name="L2537"></a>2537         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/10885.html" title="Multiple referred from 7 places.">canImport</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> comp, <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[] flavors) <em class="brace">{</em>
<a id="L2538" name="L2538"></a>2538             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)comp;
<a id="L2539" name="L2539"></a>2539             <strong class="reserved">if</strong> (!(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>() &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>())) <em class="brace">{</em>
<a id="L2540" name="L2540"></a>2540                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2541" name="L2541"></a>2541             <em class="brace">}</em>
<a id="L2542" name="L2542"></a>2542             <strong class="reserved">return</strong> (<a href="../S/2895.html#L2235" title="Defined at 2235 in src/javax/swing/plaf/basic/BasicTextUI.java.">getImportFlavor</a>(flavors, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) != <strong class="reserved">null</strong>);
<a id="L2543" name="L2543"></a>2543         <em class="brace">}</em>
<a id="L2544" name="L2544"></a>2544 
<div class="comment">
          A possible implementation of the Transferable interface
          for text components.  For a JEditorPane with a rich set
          of EditorKit implementations, conversions could be made
          giving a wider set of formats.  This is implemented to
          offer up only the active content type and text/plain
          (if that is not the active format) since that can be
          extracted from other formats.</div>
<a id="L2554" name="L2554"></a>2554         <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/8117.html" title="Multiple referred from 2 places.">TextTransferable</a> <strong class="reserved">extends</strong> <a href="../S/2871.html#L39" title="Defined at 39 in src/javax/swing/plaf/basic/BasicTransferable.java.">BasicTransferable</a> <em class="brace">{</em>
<a id="L2555" name="L2555"></a>2555 
<a id="L2556" name="L2556"></a>2556             TextTransferable(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L2557" name="L2557"></a>2557                 <strong class="reserved">super</strong>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>);
<a id="L2558" name="L2558"></a>2558 
<a id="L2559" name="L2559"></a>2559                 <strong class="reserved">this</strong>.<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L2560" name="L2560"></a>2560 
<a id="L2561" name="L2561"></a>2561                 <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L2562" name="L2562"></a>2562 
<a id="L2563" name="L2563"></a>2563                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2564" name="L2564"></a>2564                     p0 = doc.<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L2565" name="L2565"></a>2565                     p1 = doc.<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L2566" name="L2566"></a>2566 
<a id="L2567" name="L2567"></a>2567                     plainData = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22360.html" title="Multiple defined in 12 places.">getSelectedText</a>();
<a id="L2568" name="L2568"></a>2568 
<a id="L2569" name="L2569"></a>2569                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a>) <em class="brace">{</em>
<a id="L2570" name="L2570"></a>2570                         <a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a> ep = (<a href="../S/3132.html#L192" title="Defined at 192 in src/javax/swing/JEditorPane.java.">JEditorPane</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L2571" name="L2571"></a>2571 
<a id="L2572" name="L2572"></a>2572                         mimeType = ep.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>();
<a id="L2573" name="L2573"></a>2573 
<a id="L2574" name="L2574"></a>2574                         <strong class="reserved">if</strong> (mimeType.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("text/plain")) <em class="brace">{</em>
<a id="L2575" name="L2575"></a>2575                             <strong class="reserved">return</strong>;
<a id="L2576" name="L2576"></a>2576                         <em class="brace">}</em>
<a id="L2577" name="L2577"></a>2577 
<a id="L2578" name="L2578"></a>2578                         <a href="../S/1435.html#L41" title="Defined at 41 in src/java/io/StringWriter.java.">StringWriter</a> sw = <strong class="reserved">new</strong> <a href="../S/1435.html#L41" title="Defined at 41 in src/java/io/StringWriter.java.">StringWriter</a>(p1.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() - p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2579" name="L2579"></a>2579                         ep.<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>().<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(sw, doc, p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(), p1.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() - p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2580" name="L2580"></a>2580 
<a id="L2581" name="L2581"></a>2581                         <strong class="reserved">if</strong> (mimeType.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("text/html")) <em class="brace">{</em>
<a id="L2582" name="L2582"></a>2582                             htmlData = sw.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2583" name="L2583"></a>2583                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2584" name="L2584"></a>2584                             richText = sw.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2585" name="L2585"></a>2585                         <em class="brace">}</em>
<a id="L2586" name="L2586"></a>2586                     <em class="brace">}</em>
<a id="L2587" name="L2587"></a>2587                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L2588" name="L2588"></a>2588                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L2589" name="L2589"></a>2589                 <em class="brace">}</em>
<a id="L2590" name="L2590"></a>2590             <em class="brace">}</em>
<a id="L2591" name="L2591"></a>2591 
<a id="L2592" name="L2592"></a>2592             <strong class="reserved">void</strong> <a href="../S/2895.html#L2421" title="Referred from 2421 in src/javax/swing/plaf/basic/BasicTextUI.java.">removeText</a>() <em class="brace">{</em>
<a id="L2593" name="L2593"></a>2593                 <strong class="reserved">if</strong> ((p0 != <strong class="reserved">null</strong>) &amp;&amp; (p1 != <strong class="reserved">null</strong>) &amp;&amp; (p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() != p1.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>())) <em class="brace">{</em>
<a id="L2594" name="L2594"></a>2594                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2595" name="L2595"></a>2595                         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L2596" name="L2596"></a>2596                         doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(), p1.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() - p0.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2597" name="L2597"></a>2597                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L2598" name="L2598"></a>2598                     <em class="brace">}</em>
<a id="L2599" name="L2599"></a>2599                 <em class="brace">}</em>
<a id="L2600" name="L2600"></a>2600             <em class="brace">}</em>
<a id="L2601" name="L2601"></a>2601 
<a id="L2602" name="L2602"></a>2602             <em class="comment">// ---- EditorKit other than plain or HTML text -----------------------</em>
<a id="L2603" name="L2603"></a>2603 
<div class="comment">
              If the EditorKit is not for text/plain or text/html, that format
              is supported through the "richer flavors" part of BasicTransferable.</div>
<a id="L2608" name="L2608"></a>2608             <strong class="reserved">protected</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[] <a href="../R/18737.html" title="Multiple referred from 3 places.">getRicherFlavors</a>() <em class="brace">{</em>
<a id="L2609" name="L2609"></a>2609                 <strong class="reserved">if</strong> (richText == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2610" name="L2610"></a>2610                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2611" name="L2611"></a>2611                 <em class="brace">}</em>
<a id="L2612" name="L2612"></a>2612 
<a id="L2613" name="L2613"></a>2613                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2614" name="L2614"></a>2614                     <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[] flavors = <strong class="reserved">new</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[3];
<a id="L2615" name="L2615"></a>2615                     flavors[0] = <strong class="reserved">new</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>(mimeType + ";class=java.lang.String");
<a id="L2616" name="L2616"></a>2616                     flavors[1] = <strong class="reserved">new</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>(mimeType + ";class=java.io.Reader");
<a id="L2617" name="L2617"></a>2617                     flavors[2] = <strong class="reserved">new</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>(mimeType + ";class=java.io.InputStream;charset=unicode");
<a id="L2618" name="L2618"></a>2618                     <strong class="reserved">return</strong> flavors;
<a id="L2619" name="L2619"></a>2619                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> cle) <em class="brace">{</em>
<a id="L2620" name="L2620"></a>2620                     <em class="comment">// fall through to unsupported (should not happen)</em>
<a id="L2621" name="L2621"></a>2621                 <em class="brace">}</em>
<a id="L2622" name="L2622"></a>2622 
<a id="L2623" name="L2623"></a>2623                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2624" name="L2624"></a>2624             <em class="brace">}</em>
<a id="L2625" name="L2625"></a>2625 
<div class="comment">
              The only richer format supported is the file list flavor</div>
<a id="L2629" name="L2629"></a>2629             <strong class="reserved">protected</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/2871.html#L141" title="Referred from 141 in src/javax/swing/plaf/basic/BasicTransferable.java.">getRicherData</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> flavor) <strong class="reserved">throws</strong> <a href="../S/2293.html#L34" title="Defined at 34 in src/java/awt/datatransfer/UnsupportedFlavorException.java.">UnsupportedFlavorException</a> <em class="brace">{</em>
<a id="L2630" name="L2630"></a>2630                 <strong class="reserved">if</strong> (richText == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2631" name="L2631"></a>2631                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2632" name="L2632"></a>2632                 <em class="brace">}</em>
<a id="L2633" name="L2633"></a>2633 
<a id="L2634" name="L2634"></a>2634                 <strong class="reserved">if</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(flavor.<a href="../S/2287.html#L905" title="Defined at 905 in src/java/awt/datatransfer/DataFlavor.java.">getRepresentationClass</a>())) <em class="brace">{</em>
<a id="L2635" name="L2635"></a>2635                     <strong class="reserved">return</strong> richText;
<a id="L2636" name="L2636"></a>2636                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a>.<strong class="reserved">class</strong>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(flavor.<a href="../S/2287.html#L905" title="Defined at 905 in src/java/awt/datatransfer/DataFlavor.java.">getRepresentationClass</a>())) <em class="brace">{</em>
<a id="L2637" name="L2637"></a>2637                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1417.html#L36" title="Defined at 36 in src/java/io/StringReader.java.">StringReader</a>(richText);
<a id="L2638" name="L2638"></a>2638                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a>.<strong class="reserved">class</strong>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(flavor.<a href="../S/2287.html#L905" title="Defined at 905 in src/java/awt/datatransfer/DataFlavor.java.">getRepresentationClass</a>())) <em class="brace">{</em>
<a id="L2639" name="L2639"></a>2639                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1390.html#L47" title="Defined at 47 in src/java/io/StringBufferInputStream.java.">StringBufferInputStream</a>(richText);
<a id="L2640" name="L2640"></a>2640                 <em class="brace">}</em>
<a id="L2641" name="L2641"></a>2641                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2293.html#L34" title="Defined at 34 in src/java/awt/datatransfer/UnsupportedFlavorException.java.">UnsupportedFlavorException</a>(flavor);
<a id="L2642" name="L2642"></a>2642             <em class="brace">}</em>
<a id="L2643" name="L2643"></a>2643 
<a id="L2644" name="L2644"></a>2644             <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> p0;
<a id="L2645" name="L2645"></a>2645             <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> p1;
<a id="L2646" name="L2646"></a>2646             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mimeType;
<a id="L2647" name="L2647"></a>2647             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> richText;
<a id="L2648" name="L2648"></a>2648             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L2649" name="L2649"></a>2649         <em class="brace">}</em>
<a id="L2650" name="L2650"></a>2650 
<a id="L2651" name="L2651"></a>2651     <em class="brace">}</em>
<a id="L2652" name="L2652"></a>2652 
<a id="L2653" name="L2653"></a>2653 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L120">[^]</a><a href="#L2629">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>