<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/io/WinNTFileSystem.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L52">[^]</a><a href="#L643">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L52" title="Defined at 52.">isSlash</a></li>
<li><a href="#L56" title="Defined at 56.">isLetter</a></li>
<li><a href="#L60" title="Defined at 60.">slashify</a></li>
<li><a href="#L68" title="Defined at 68.">getSeparator</a></li>
<li><a href="#L73" title="Defined at 73.">getPathSeparator</a></li>
<li><a href="#L81" title="Defined at 81.">normalize</a></li>
<li><a href="#L102" title="Defined at 102.">normalize</a></li>
<li><a href="#L175" title="Defined at 175.">normalizePrefix</a></li>
<li><a href="#L207" title="Defined at 207.">prefixLength</a></li>
<li><a href="#L226" title="Defined at 226.">resolve</a></li>
<li><a href="#L271" title="Defined at 271.">getDefaultParent</a></li>
<li><a href="#L276" title="Defined at 276.">fromURIPath</a></li>
<li><a href="#L294" title="Defined at 294.">isAbsolute</a></li>
<li><a href="#L301" title="Defined at 301.">resolve</a></li>
<li><a href="#L343" title="Defined at 343.">getUserPath</a></li>
<li><a href="#L349" title="Defined at 349.">getDrive</a></li>
<li><a href="#L356" title="Defined at 356.">driveIndex</a></li>
<li><a href="#L362" title="Defined at 362.">getDriveDirectory</a></li>
<li><a href="#L364" title="Defined at 364.">getDriveDirectory</a></li>
<li><a href="#L384" title="Defined at 384.">canonicalize</a></li>
<li><a href="#L445" title="Defined at 445.">canonicalize0</a></li>
<li><a href="#L448" title="Defined at 448.">canonicalizeWithPrefix</a></li>
<li><a href="#L458" title="Defined at 458.">canonicalizeWithPrefix0</a></li>
<li><a href="#L469" title="Defined at 469.">parentOrNull</a></li>
<li><a href="#L521" title="Defined at 521.">getBooleanAttributes</a></li>
<li><a href="#L524" title="Defined at 524.">checkAccess</a></li>
<li><a href="#L527" title="Defined at 527.">getLastModifiedTime</a></li>
<li><a href="#L530" title="Defined at 530.">getLength</a></li>
<li><a href="#L533" title="Defined at 533.">setPermission</a></li>
<li><a href="#L539" title="Defined at 539.">createFileExclusively</a></li>
<li><a href="#L543" title="Defined at 543.">list</a></li>
<li><a href="#L546" title="Defined at 546.">createDirectory</a></li>
<li><a href="#L549" title="Defined at 549.">setLastModifiedTime</a></li>
<li><a href="#L552" title="Defined at 552.">setReadOnly</a></li>
<li><a href="#L555" title="Defined at 555.">delete</a></li>
<li><a href="#L566" title="Defined at 566.">delete0</a></li>
<li><a href="#L569" title="Defined at 569.">rename</a></li>
<li><a href="#L580" title="Defined at 580.">rename0</a></li>
<li><a href="#L585" title="Defined at 585.">listRoots</a></li>
<li><a href="#L606" title="Defined at 606.">listRoots0</a></li>
<li><a href="#L608" title="Defined at 608.">access</a></li>
<li><a href="#L621" title="Defined at 621.">getSpace</a></li>
<li><a href="#L628" title="Defined at 628.">getSpace0</a></li>
<li><a href="#L633" title="Defined at 633.">compare</a></li>
<li><a href="#L638" title="Defined at 638.">hashCode</a></li>
<li><a href="#L643" title="Defined at 643.">initIDs</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2001, 2012, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Locale;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> sun.security.action.GetPropertyAction;
<a id="L31" name="L31"></a>  31 
<div class="comment">
  Unicode-aware FileSystem for Windows NT/2000.
  @author Konstantin Kladko
  @since 1.4</div>
<a id="L38" name="L38"></a>  38 <strong class="reserved">class</strong> <a href="../S/1385.html#L38" title="Referred from 38 in src/java/io/DefaultFileSystem.java.">WinNTFileSystem</a> <strong class="reserved">extends</strong> <a href="../D/3214.html" title="Multiple defined in 2 places.">FileSystem</a> <em class="brace">{</em>
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> slash;
<a id="L41" name="L41"></a>  41     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> altSlash;
<a id="L42" name="L42"></a>  42     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong> semicolon;
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44     <strong class="reserved">public</strong> WinNTFileSystem() <em class="brace">{</em>
<a id="L45" name="L45"></a>  45         slash = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L46" name="L46"></a>  46             <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("file.separator")).<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L47" name="L47"></a>  47         semicolon = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L48" name="L48"></a>  48             <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("path.separator")).<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L49" name="L49"></a>  49         altSlash = (<strong class="reserved">this</strong>.slash == '\\') ? '/' : '\\';
<a id="L50" name="L50"></a>  50     <em class="brace">}</em>
<a id="L51" name="L51"></a>  51 
<a id="L52" name="L52"></a>  52     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/22031.html" title="Multiple referred from 6 places.">isSlash</a>(<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L53" name="L53"></a>  53         <strong class="reserved">return</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\\') || (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '/');
<a id="L54" name="L54"></a>  54     <em class="brace">}</em>
<a id="L55" name="L55"></a>  55 
<a id="L56" name="L56"></a>  56     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/21658.html" title="Multiple referred from 24 places.">isLetter</a>(<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L57" name="L57"></a>  57         <strong class="reserved">return</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 'a') &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'z')) || ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 'A') &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'Z'));
<a id="L58" name="L58"></a>  58     <em class="brace">}</em>
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/28673.html" title="Multiple referred from 6 places.">slashify</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> p) <em class="brace">{</em>
<a id="L61" name="L61"></a>  61         <strong class="reserved">if</strong> ((p.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) &amp;&amp; (p.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) != slash)) <strong class="reserved">return</strong> slash + p;
<a id="L62" name="L62"></a>  62         <strong class="reserved">else</strong> <strong class="reserved">return</strong> p;
<a id="L63" name="L63"></a>  63     <em class="brace">}</em>
<a id="L64" name="L64"></a>  64 
<div class="comment">
     /* -- Normalization and construction -- */</div>
<a id="L66" name="L66"></a>  66 
<a id="L67" name="L67"></a>  67     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L68" name="L68"></a>  68     <strong class="reserved">public</strong> <strong class="reserved">char</strong> <a href="../S/1433.html#L215" title="Referred from 215 in src/java/io/File.java.">getSeparator</a>() <em class="brace">{</em>
<a id="L69" name="L69"></a>  69         <strong class="reserved">return</strong> slash;
<a id="L70" name="L70"></a>  70     <em class="brace">}</em>
<a id="L71" name="L71"></a>  71 
<a id="L72" name="L72"></a>  72     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L73" name="L73"></a>  73     <strong class="reserved">public</strong> <strong class="reserved">char</strong> <a href="../S/1433.html#L234" title="Referred from 234 in src/java/io/File.java.">getPathSeparator</a>() <em class="brace">{</em>
<a id="L74" name="L74"></a>  74         <strong class="reserved">return</strong> semicolon;
<a id="L75" name="L75"></a>  75     <em class="brace">}</em>
<a id="L76" name="L76"></a>  76 
<div class="comment">
 Check that the given pathname is normal.  If not, invoke the real
       normalizer on the part of the pathname that requires normalization.
       This way we iterate through the whole pathname string only once. </div>
<a id="L80" name="L80"></a>  80     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L81" name="L81"></a>  81     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/23781.html" title="Multiple referred from 143 places.">normalize</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path) <em class="brace">{</em>
<a id="L82" name="L82"></a>  82         <strong class="reserved">int</strong> n = path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L83" name="L83"></a>  83         <strong class="reserved">char</strong> slash = <strong class="reserved">this</strong>.slash;
<a id="L84" name="L84"></a>  84         <strong class="reserved">char</strong> altSlash = <strong class="reserved">this</strong>.altSlash;
<a id="L85" name="L85"></a>  85         <strong class="reserved">char</strong> prev = 0;
<a id="L86" name="L86"></a>  86         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L87" name="L87"></a>  87             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L88" name="L88"></a>  88             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == altSlash)
<a id="L89" name="L89"></a>  89                 <strong class="reserved">return</strong> <a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>(path, n, (prev == slash) ? i - 1 : i);
<a id="L90" name="L90"></a>  90             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == slash) &amp;&amp; (prev == slash) &amp;&amp; (i &gt; 1))
<a id="L91" name="L91"></a>  91                 <strong class="reserved">return</strong> <a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>(path, n, i - 1);
<a id="L92" name="L92"></a>  92             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ':') &amp;&amp; (i &gt; 1))
<a id="L93" name="L93"></a>  93                 <strong class="reserved">return</strong> <a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>(path, n, 0);
<a id="L94" name="L94"></a>  94             prev = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L95" name="L95"></a>  95         <em class="brace">}</em>
<a id="L96" name="L96"></a>  96         <strong class="reserved">if</strong> (prev == slash) <strong class="reserved">return</strong> <a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>(path, n, n - 1);
<a id="L97" name="L97"></a>  97         <strong class="reserved">return</strong> path;
<a id="L98" name="L98"></a>  98     <em class="brace">}</em>
<a id="L99" name="L99"></a>  99 
<div class="comment">
 Normalize the given pathname, whose length is len, starting at the given
       offset; everything before this offset is already normal. </div>
<a id="L102" name="L102"></a> 102     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/23781.html" title="Multiple referred from 143 places.">normalize</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path, <strong class="reserved">int</strong> len, <strong class="reserved">int</strong> off) <em class="brace">{</em>
<a id="L103" name="L103"></a> 103         <strong class="reserved">if</strong> (len == 0) <strong class="reserved">return</strong> path;
<a id="L104" name="L104"></a> 104         <div class="comment">
) off = 0;   /* Avoid fencepost cases with UNC pathnames */</div>
<a id="L105" name="L105"></a> 105         <strong class="reserved">int</strong> src;
<a id="L106" name="L106"></a> 106         <strong class="reserved">char</strong> slash = <strong class="reserved">this</strong>.slash;
<a id="L107" name="L107"></a> 107         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> sb = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(len);
<a id="L108" name="L108"></a> 108 
<a id="L109" name="L109"></a> 109         <strong class="reserved">if</strong> (off == 0) <em class="brace">{</em>
<div class="comment">
             /* Complete normalization, including prefix */</div>
<a id="L111" name="L111"></a> 111             src = <a href="../S/1421.html#L175" title="Defined at 175 in src/java/io/WinNTFileSystem.java.">normalizePrefix</a>(path, len, sb);
<a id="L112" name="L112"></a> 112         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<div class="comment">
             /* Partial normalization */</div>
<a id="L114" name="L114"></a> 114             src = off;
<a id="L115" name="L115"></a> 115             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, off));
<a id="L116" name="L116"></a> 116         <em class="brace">}</em>
<a id="L117" name="L117"></a> 117 
<div class="comment">
 Remove redundant slashes from the remainder of the path, forcing all
           slashes into the preferred slash </div>
<a id="L120" name="L120"></a> 120         <strong class="reserved">while</strong> (src &lt; len) <em class="brace">{</em>
<a id="L121" name="L121"></a> 121             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(src++);
<a id="L122" name="L122"></a> 122             <strong class="reserved">if</strong> (<a href="../S/1421.html#L52" title="Defined at 52 in src/java/io/WinNTFileSystem.java.">isSlash</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L123" name="L123"></a> 123                 <strong class="reserved">while</strong> ((src &lt; len) &amp;&amp; <a href="../S/1421.html#L52" title="Defined at 52 in src/java/io/WinNTFileSystem.java.">isSlash</a>(path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(src))) src++;
<a id="L124" name="L124"></a> 124                 <strong class="reserved">if</strong> (src == len) <em class="brace">{</em>
<div class="comment">
                     /* Check for trailing separator */</div>
<a id="L126" name="L126"></a> 126                     <strong class="reserved">int</strong> sn = sb.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L127" name="L127"></a> 127                     <strong class="reserved">if</strong> ((sn == 2) &amp;&amp; (sb.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1) == ':')) <em class="brace">{</em>
<div class="comment">
                         /* "z:\\" */</div>
<a id="L129" name="L129"></a> 129                         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(slash);
<a id="L130" name="L130"></a> 130                         <strong class="reserved">break</strong>;
<a id="L131" name="L131"></a> 131                     <em class="brace">}</em>
<a id="L132" name="L132"></a> 132                     <strong class="reserved">if</strong> (sn == 0) <em class="brace">{</em>
<div class="comment">
                         /* "\\" */</div>
<a id="L134" name="L134"></a> 134                         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(slash);
<a id="L135" name="L135"></a> 135                         <strong class="reserved">break</strong>;
<a id="L136" name="L136"></a> 136                     <em class="brace">}</em>
<a id="L137" name="L137"></a> 137                     <strong class="reserved">if</strong> ((sn == 1) &amp;&amp; (<a href="../S/1421.html#L52" title="Defined at 52 in src/java/io/WinNTFileSystem.java.">isSlash</a>(sb.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0)))) <em class="brace">{</em>
<div class="comment">
 "\\\\" is not collapsed to "\\" because "\\\\" marks
                           the beginning of a UNC pathname.  Even though it is
                           not, by itself, a valid UNC pathname, we leave it as
                           is in order to be consistent with the win32 APIs,
                           which treat this case as an invalid UNC pathname
                           rather than as an alias for the root directory of
                           the current drive. </div>
<a id="L145" name="L145"></a> 145                         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(slash);
<a id="L146" name="L146"></a> 146                         <strong class="reserved">break</strong>;
<a id="L147" name="L147"></a> 147                     <em class="brace">}</em>
<div class="comment">
 Path does not denote a root directory, so do not append
                       trailing slash </div>
<a id="L150" name="L150"></a> 150                     <strong class="reserved">break</strong>;
<a id="L151" name="L151"></a> 151                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L152" name="L152"></a> 152                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(slash);
<a id="L153" name="L153"></a> 153                 <em class="brace">}</em>
<a id="L154" name="L154"></a> 154             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L155" name="L155"></a> 155                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L156" name="L156"></a> 156             <em class="brace">}</em>
<a id="L157" name="L157"></a> 157         <em class="brace">}</em>
<a id="L158" name="L158"></a> 158 
<a id="L159" name="L159"></a> 159         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rv = sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L160" name="L160"></a> 160         <strong class="reserved">return</strong> rv;
<a id="L161" name="L161"></a> 161     <em class="brace">}</em>
<a id="L162" name="L162"></a> 162 
<div class="comment">
 A normal Win32 pathname contains no duplicate slashes, except possibly
       for a UNC prefix, and does not end with a slash.  It may be the empty
       string.  Normalized Win32 pathnames have the convenient property that
       the length of the prefix almost uniquely identifies the type of the path
       and whether it is absolute or relative:
           0  relative to both drive and directory
           1  drive-relative (begins with '\\')
           2  absolute UNC (if first char is '\\'),
                else directory-relative (has form "z:foo")
           3  absolute local pathname (begins with "z:\\")</div>
<a id="L175" name="L175"></a> 175     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/1421.html#L111" title="Referred from 111 in src/java/io/WinNTFileSystem.java.">normalizePrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path, <strong class="reserved">int</strong> len, <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> sb) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176         <strong class="reserved">int</strong> src = 0;
<a id="L177" name="L177"></a> 177         <strong class="reserved">while</strong> ((src &lt; len) &amp;&amp; <a href="../S/1421.html#L52" title="Defined at 52 in src/java/io/WinNTFileSystem.java.">isSlash</a>(path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(src))) src++;
<a id="L178" name="L178"></a> 178         <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L179" name="L179"></a> 179         <strong class="reserved">if</strong> ((len - src &gt;= 2)
<a id="L180" name="L180"></a> 180             &amp;&amp; <a href="../D/25794.html" title="Multiple defined in 3 places.">isLetter</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(src))
<a id="L181" name="L181"></a> 181             &amp;&amp; path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(src + 1) == ':') <em class="brace">{</em>
<div class="comment">
 Remove leading slashes if followed by drive specifier.
               This hack is necessary to support file URLs containing drive
               specifiers (e.g., "file://c:/path").  As a side effect,
               "/c:/path" can be used as an alternative to "c:/path". </div>
<a id="L186" name="L186"></a> 186             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L187" name="L187"></a> 187             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':');
<a id="L188" name="L188"></a> 188             src += 2;
<a id="L189" name="L189"></a> 189         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L190" name="L190"></a> 190             src = 0;
<a id="L191" name="L191"></a> 191             <strong class="reserved">if</strong> ((len &gt;= 2)
<a id="L192" name="L192"></a> 192                 &amp;&amp; <a href="../S/1421.html#L52" title="Defined at 52 in src/java/io/WinNTFileSystem.java.">isSlash</a>(path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0))
<a id="L193" name="L193"></a> 193                 &amp;&amp; <a href="../S/1421.html#L52" title="Defined at 52 in src/java/io/WinNTFileSystem.java.">isSlash</a>(path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1))) <em class="brace">{</em>
<div class="comment">
 UNC pathname: Retain first slash; leave src pointed at
                   second slash so that further slashes will be collapsed
                   into the second slash.  The result will be a pathname
                   beginning with "\\\\" followed (most likely) by a host
                   name. </div>
<a id="L199" name="L199"></a> 199                 src = 1;
<a id="L200" name="L200"></a> 200                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(slash);
<a id="L201" name="L201"></a> 201             <em class="brace">}</em>
<a id="L202" name="L202"></a> 202         <em class="brace">}</em>
<a id="L203" name="L203"></a> 203         <strong class="reserved">return</strong> src;
<a id="L204" name="L204"></a> 204     <em class="brace">}</em>
<a id="L205" name="L205"></a> 205 
<a id="L206" name="L206"></a> 206     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L207" name="L207"></a> 207     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24920.html" title="Multiple referred from 34 places.">prefixLength</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <strong class="reserved">char</strong> slash = <strong class="reserved">this</strong>.slash;
<a id="L209" name="L209"></a> 209         <strong class="reserved">int</strong> n = path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L210" name="L210"></a> 210         <strong class="reserved">if</strong> (n == 0) <strong class="reserved">return</strong> 0;
<a id="L211" name="L211"></a> 211         <strong class="reserved">char</strong> c0 = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L212" name="L212"></a> 212         <strong class="reserved">char</strong> c1 = (n &gt; 1) ? path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1) : 0;
<a id="L213" name="L213"></a> 213         <strong class="reserved">if</strong> (c0 == slash) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214             <strong class="reserved">if</strong> (c1 == slash) <div class="comment">
;  /* Absolute UNC pathname "\\\\foo" */</div>
<a id="L215" name="L215"></a> 215             <div class="comment">
;                   /* Drive-relative "\\foo" */</div>
<a id="L216" name="L216"></a> 216         <em class="brace">}</em>
<a id="L217" name="L217"></a> 217         <strong class="reserved">if</strong> (<a href="../D/25794.html" title="Multiple defined in 3 places.">isLetter</a>(c0) &amp;&amp; (c1 == ':')) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218             <strong class="reserved">if</strong> ((n &gt; 2) &amp;&amp; (path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) == slash))
<a id="L219" name="L219"></a> 219                 <div class="comment">
;               /* Absolute local pathname "z:\\foo" */</div>
<a id="L220" name="L220"></a> 220             <div class="comment">
;                   /* Directory-relative "z:foo" */</div>
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222         <div class="comment">
;                       /* Completely relative */</div>
<a id="L223" name="L223"></a> 223     <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L226" name="L226"></a> 226     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26316.html" title="Multiple referred from 78 places.">resolve</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> child) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         <strong class="reserved">int</strong> pn = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L228" name="L228"></a> 228         <strong class="reserved">if</strong> (pn == 0) <strong class="reserved">return</strong> child;
<a id="L229" name="L229"></a> 229         <strong class="reserved">int</strong> cn = child.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L230" name="L230"></a> 230         <strong class="reserved">if</strong> (cn == 0) <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = child;
<a id="L233" name="L233"></a> 233         <strong class="reserved">int</strong> childStart = 0;
<a id="L234" name="L234"></a> 234         <strong class="reserved">int</strong> parentEnd = pn;
<a id="L235" name="L235"></a> 235 
<a id="L236" name="L236"></a> 236         <strong class="reserved">if</strong> ((cn &gt; 1) &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == slash)) <em class="brace">{</em>
<a id="L237" name="L237"></a> 237             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1) == slash) <em class="brace">{</em>
<div class="comment">
                 /* Drop prefix when child is a UNC pathname */</div>
<a id="L239" name="L239"></a> 239                 childStart = 2;
<a id="L240" name="L240"></a> 240             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<div class="comment">
                 /* Drop prefix when child is drive-relative */</div>
<a id="L242" name="L242"></a> 242                 childStart = 1;
<a id="L243" name="L243"></a> 243 
<a id="L244" name="L244"></a> 244             <em class="brace">}</em>
<a id="L245" name="L245"></a> 245             <strong class="reserved">if</strong> (cn == childStart) <em class="brace">{</em> <em class="comment">// Child is double slash</em>
<a id="L246" name="L246"></a> 246                 <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pn - 1) == slash)
<a id="L247" name="L247"></a> 247                     <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, pn - 1);
<a id="L248" name="L248"></a> 248                 <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L249" name="L249"></a> 249             <em class="brace">}</em>
<a id="L250" name="L250"></a> 250         <em class="brace">}</em>
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(pn - 1) == slash)
<a id="L253" name="L253"></a> 253             parentEnd--;
<a id="L254" name="L254"></a> 254 
<a id="L255" name="L255"></a> 255         <strong class="reserved">int</strong> strlen = parentEnd + cn - childStart;
<a id="L256" name="L256"></a> 256         <strong class="reserved">char</strong>[] theChars = <strong class="reserved">null</strong>;
<a id="L257" name="L257"></a> 257         <strong class="reserved">if</strong> (child.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(childStart) == slash) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258             theChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[strlen];
<a id="L259" name="L259"></a> 259             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0, parentEnd, theChars, 0);
<a id="L260" name="L260"></a> 260             child.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(childStart, cn, theChars, parentEnd);
<a id="L261" name="L261"></a> 261         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L262" name="L262"></a> 262             theChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[strlen + 1];
<a id="L263" name="L263"></a> 263             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0, parentEnd, theChars, 0);
<a id="L264" name="L264"></a> 264             theChars[parentEnd] = slash;
<a id="L265" name="L265"></a> 265             child.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(childStart, cn, theChars, parentEnd + 1);
<a id="L266" name="L266"></a> 266         <em class="brace">}</em>
<a id="L267" name="L267"></a> 267         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(theChars);
<a id="L268" name="L268"></a> 268     <em class="brace">}</em>
<a id="L269" name="L269"></a> 269 
<a id="L270" name="L270"></a> 270     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L271" name="L271"></a> 271     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16056.html" title="Multiple referred from 2 places.">getDefaultParent</a>() <em class="brace">{</em>
<a id="L272" name="L272"></a> 272         <strong class="reserved">return</strong> ("" + slash);
<a id="L273" name="L273"></a> 273     <em class="brace">}</em>
<a id="L274" name="L274"></a> 274 
<a id="L275" name="L275"></a> 275     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L276" name="L276"></a> 276     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1433.html#L433" title="Referred from 433 in src/java/io/File.java.">fromURIPath</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> p = path;
<a id="L278" name="L278"></a> 278         <strong class="reserved">if</strong> ((p.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 2) &amp;&amp; (p.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) == ':')) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279             <em class="comment">// "/c:/foo" --&gt; "c:/foo"</em>
<a id="L280" name="L280"></a> 280             p = p.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L281" name="L281"></a> 281             <em class="comment">// "c:/foo/" --&gt; "c:/foo", but "c:/" --&gt; "c:/"</em>
<a id="L282" name="L282"></a> 282             <strong class="reserved">if</strong> ((p.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 3) &amp;&amp; p.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("/"))
<a id="L283" name="L283"></a> 283                 p = p.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, p.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L284" name="L284"></a> 284         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((p.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 1) &amp;&amp; p.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("/")) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285             <em class="comment">// "/foo/" --&gt; "/foo"</em>
<a id="L286" name="L286"></a> 286             p = p.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, p.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L287" name="L287"></a> 287         <em class="brace">}</em>
<a id="L288" name="L288"></a> 288         <strong class="reserved">return</strong> p;
<a id="L289" name="L289"></a> 289     <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<div class="comment">
     /* -- Path operations -- */</div>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L294" name="L294"></a> 294     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21122.html" title="Multiple referred from 26 places.">isAbsolute</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295         <strong class="reserved">int</strong> pl = f.<a href="../S/1433.html#L203" title="Defined at 203 in src/java/io/File.java.">getPrefixLength</a>();
<a id="L296" name="L296"></a> 296         <strong class="reserved">return</strong> (((pl == 2) &amp;&amp; (f.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>().<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == slash))
<a id="L297" name="L297"></a> 297                 || (pl == 3));
<a id="L298" name="L298"></a> 298     <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L301" name="L301"></a> 301     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26316.html" title="Multiple referred from 78 places.">resolve</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = f.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>();
<a id="L303" name="L303"></a> 303         <strong class="reserved">int</strong> pl = f.<a href="../S/1433.html#L203" title="Defined at 203 in src/java/io/File.java.">getPrefixLength</a>();
<a id="L304" name="L304"></a> 304         <strong class="reserved">if</strong> ((pl == 2) &amp;&amp; (path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == slash))
<a id="L305" name="L305"></a> 305             <div class="comment">
/* UNC */</div>
<a id="L306" name="L306"></a> 306         <strong class="reserved">if</strong> (pl == 3)
<a id="L307" name="L307"></a> 307             <div class="comment">
/* Absolute local */</div>
<a id="L308" name="L308"></a> 308         <strong class="reserved">if</strong> (pl == 0)
<a id="L309" name="L309"></a> 309             <strong class="reserved">return</strong> <a href="../S/1421.html#L343" title="Defined at 343 in src/java/io/WinNTFileSystem.java.">getUserPath</a>() + <div class="comment">
/* Completely relative */</div>
<a id="L310" name="L310"></a> 310         <strong class="reserved">if</strong> (pl == 1) <div class="comment">
/* Drive-relative */</div>
<a id="L311" name="L311"></a> 311             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> up = <a href="../S/1421.html#L343" title="Defined at 343 in src/java/io/WinNTFileSystem.java.">getUserPath</a>();
<a id="L312" name="L312"></a> 312             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ud = <a href="../S/1421.html#L349" title="Defined at 349 in src/java/io/WinNTFileSystem.java.">getDrive</a>(up);
<a id="L313" name="L313"></a> 313             <strong class="reserved">if</strong> (ud != <strong class="reserved">null</strong>) <strong class="reserved">return</strong> ud + path;
<a id="L314" name="L314"></a> 314             <div class="comment">
/* User dir is a UNC path */</div>
<a id="L315" name="L315"></a> 315         <em class="brace">}</em>
<a id="L316" name="L316"></a> 316         <strong class="reserved">if</strong> (pl == 2) <div class="comment">
/* Directory-relative */</div>
<a id="L317" name="L317"></a> 317             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> up = <a href="../S/1421.html#L343" title="Defined at 343 in src/java/io/WinNTFileSystem.java.">getUserPath</a>();
<a id="L318" name="L318"></a> 318             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ud = <a href="../S/1421.html#L349" title="Defined at 349 in src/java/io/WinNTFileSystem.java.">getDrive</a>(up);
<a id="L319" name="L319"></a> 319             <strong class="reserved">if</strong> ((ud != <strong class="reserved">null</strong>) &amp;&amp; path.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(ud))
<a id="L320" name="L320"></a> 320                 <strong class="reserved">return</strong> up + <a href="../D/34631.html" title="Multiple defined in 2 places.">slashify</a>(path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(2));
<a id="L321" name="L321"></a> 321             <strong class="reserved">char</strong> drive = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L322" name="L322"></a> 322             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dir = <a href="../D/18608.html" title="Multiple defined in 2 places.">getDriveDirectory</a>(drive);
<a id="L323" name="L323"></a> 323             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> np;
<a id="L324" name="L324"></a> 324             <strong class="reserved">if</strong> (dir != <strong class="reserved">null</strong>) <em class="brace">{</em>
<div class="comment">
 When resolving a directory-relative path that refers to a
                   drive other than the current drive, insist that the caller
                   have read permission on the result </div>
<a id="L328" name="L328"></a> 328                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> p = drive + (':' + dir + <a href="../D/34631.html" title="Multiple defined in 2 places.">slashify</a>(path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(2)));
<a id="L329" name="L329"></a> 329                 <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L330" name="L330"></a> 330                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L331" name="L331"></a> 331                     <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) security.<a href="../D/12614.html" title="Multiple defined in 5 places.">checkRead</a>(p);
<a id="L332" name="L332"></a> 332                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<div class="comment">
                     /* Don't disclose the drive's directory in the exception */</div>
<a id="L334" name="L334"></a> 334                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>("Cannot resolve path " + path);
<a id="L335" name="L335"></a> 335                 <em class="brace">}</em>
<a id="L336" name="L336"></a> 336                 <strong class="reserved">return</strong> p;
<a id="L337" name="L337"></a> 337             <em class="brace">}</em>
<a id="L338" name="L338"></a> 338             <strong class="reserved">return</strong> drive + ":" + <a href="../D/34631.html" title="Multiple defined in 2 places.">slashify</a>(path.<div class="comment">
)); /* fake it */</div>
<a id="L339" name="L339"></a> 339         <em class="brace">}</em>
<a id="L340" name="L340"></a> 340         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>("Unresolvable path: " + path);
<a id="L341" name="L341"></a> 341     <em class="brace">}</em>
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19726.html" title="Multiple referred from 3 places.">getUserPath</a>() <em class="brace">{</em>
<div class="comment">
 For both compatibility and security,
           we must look this up every time </div>
<a id="L346" name="L346"></a> 346         <strong class="reserved">return</strong> <a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("user.dir"));
<a id="L347" name="L347"></a> 347     <em class="brace">}</em>
<a id="L348" name="L348"></a> 348 
<a id="L349" name="L349"></a> 349     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16262.html" title="Multiple referred from 2 places.">getDrive</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <strong class="reserved">int</strong> pl = <a href="../D/29549.html" title="Multiple defined in 3 places.">prefixLength</a>(path);
<a id="L351" name="L351"></a> 351         <strong class="reserved">return</strong> (pl == 3) ? path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, 2) : <strong class="reserved">null</strong>;
<a id="L352" name="L352"></a> 352     <em class="brace">}</em>
<a id="L353" name="L353"></a> 353 
<a id="L354" name="L354"></a> 354     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] driveDirCache = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[26];
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/1421.html#L365" title="Referred from 365 in src/java/io/WinNTFileSystem.java.">driveIndex</a>(<strong class="reserved">char</strong> d) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357         <strong class="reserved">if</strong> ((d &gt;= 'a') &amp;&amp; (d &lt;= 'z')) <strong class="reserved">return</strong> d - 'a';
<a id="L358" name="L358"></a> 358         <strong class="reserved">if</strong> ((d &gt;= 'A') &amp;&amp; (d &lt;= 'Z')) <strong class="reserved">return</strong> d - 'A';
<a id="L359" name="L359"></a> 359         <strong class="reserved">return</strong> -1;
<a id="L360" name="L360"></a> 360     <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16263.html" title="Multiple referred from 2 places.">getDriveDirectory</a>(<strong class="reserved">int</strong> drive);
<a id="L363" name="L363"></a> 363 
<a id="L364" name="L364"></a> 364     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16263.html" title="Multiple referred from 2 places.">getDriveDirectory</a>(<strong class="reserved">char</strong> drive) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365         <strong class="reserved">int</strong> i = <a href="../S/1421.html#L356" title="Defined at 356 in src/java/io/WinNTFileSystem.java.">driveIndex</a>(drive);
<a id="L366" name="L366"></a> 366         <strong class="reserved">if</strong> (i &lt; 0) <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L367" name="L367"></a> 367         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = driveDirCache[i];
<a id="L368" name="L368"></a> 368         <strong class="reserved">if</strong> (s != <strong class="reserved">null</strong>) <strong class="reserved">return</strong> s;
<a id="L369" name="L369"></a> 369         s = <a href="../D/18608.html" title="Multiple defined in 2 places.">getDriveDirectory</a>(i + 1);
<a id="L370" name="L370"></a> 370         driveDirCache[i] = s;
<a id="L371" name="L371"></a> 371         <strong class="reserved">return</strong> s;
<a id="L372" name="L372"></a> 372     <em class="brace">}</em>
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374     <em class="comment">// Caches for canonicalization results to improve startup performance.</em>
<a id="L375" name="L375"></a> 375     <em class="comment">// The first cache handles repeated canonicalizations of the same path</em>
<a id="L376" name="L376"></a> 376     <em class="comment">// name. The prefix cache handles repeated canonicalizations within the</em>
<a id="L377" name="L377"></a> 377     <em class="comment">// same directory, and must not create results differing from the true</em>
<a id="L378" name="L378"></a> 378     <em class="comment">// canonicalization algorithm in canonicalize_md.c. For this reason the</em>
<a id="L379" name="L379"></a> 379     <em class="comment">// prefix cache is conservative and is not used for complex path names.</em>
<a id="L380" name="L380"></a> 380     <strong class="reserved">private</strong> <a href="../S/1444.html#L36" title="Defined at 36 in src/java/io/ExpiringCache.java.">ExpiringCache</a> <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>       = <strong class="reserved">new</strong> <a href="../S/1444.html#L36" title="Defined at 36 in src/java/io/ExpiringCache.java.">ExpiringCache</a>();
<a id="L381" name="L381"></a> 381     <strong class="reserved">private</strong> <a href="../S/1444.html#L36" title="Defined at 36 in src/java/io/ExpiringCache.java.">ExpiringCache</a> prefixCache = <strong class="reserved">new</strong> <a href="../S/1444.html#L36" title="Defined at 36 in src/java/io/ExpiringCache.java.">ExpiringCache</a>();
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L384" name="L384"></a> 384     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/10955.html" title="Multiple referred from 6 places.">canonicalize</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L385" name="L385"></a> 385         <em class="comment">// If path is a drive letter only then skip canonicalization</em>
<a id="L386" name="L386"></a> 386         <strong class="reserved">int</strong> len = path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L387" name="L387"></a> 387         <strong class="reserved">if</strong> ((len == 2) &amp;&amp;
<a id="L388" name="L388"></a> 388             (<a href="../D/25794.html" title="Multiple defined in 3 places.">isLetter</a>(path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0))) &amp;&amp;
<a id="L389" name="L389"></a> 389             (path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1) == ':')) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L391" name="L391"></a> 391             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 'A') &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'Z'))
<a id="L392" name="L392"></a> 392                 <strong class="reserved">return</strong> path;
<a id="L393" name="L393"></a> 393             <strong class="reserved">return</strong> "" + ((<strong class="reserved">char</strong>) (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>-32)) + ':';
<a id="L394" name="L394"></a> 394         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((len == 3) &amp;&amp;
<a id="L395" name="L395"></a> 395                    (<a href="../D/25794.html" title="Multiple defined in 3 places.">isLetter</a>(path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0))) &amp;&amp;
<a id="L396" name="L396"></a> 396                    (path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(1) == ':') &amp;&amp;
<a id="L397" name="L397"></a> 397                    (path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) == '\\')) <em class="brace">{</em>
<a id="L398" name="L398"></a> 398             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0);
<a id="L399" name="L399"></a> 399             <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 'A') &amp;&amp; (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'Z'))
<a id="L400" name="L400"></a> 400                 <strong class="reserved">return</strong> path;
<a id="L401" name="L401"></a> 401             <strong class="reserved">return</strong> "" + ((<strong class="reserved">char</strong>) (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>-32)) + ':' + '\\';
<a id="L402" name="L402"></a> 402         <em class="brace">}</em>
<a id="L403" name="L403"></a> 403         <strong class="reserved">if</strong> (!useCanonCaches) <em class="brace">{</em>
<a id="L404" name="L404"></a> 404             <strong class="reserved">return</strong> <a href="../S/1421.html#L445" title="Defined at 445 in src/java/io/WinNTFileSystem.java.">canonicalize0</a>(path);
<a id="L405" name="L405"></a> 405         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L406" name="L406"></a> 406             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> res = <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(path);
<a id="L407" name="L407"></a> 407             <strong class="reserved">if</strong> (res == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L408" name="L408"></a> 408                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dir = <strong class="reserved">null</strong>;
<a id="L409" name="L409"></a> 409                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resDir = <strong class="reserved">null</strong>;
<a id="L410" name="L410"></a> 410                 <strong class="reserved">if</strong> (useCanonPrefixCache) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                     dir = <a href="../S/1421.html#L469" title="Defined at 469 in src/java/io/WinNTFileSystem.java.">parentOrNull</a>(path);
<a id="L412" name="L412"></a> 412                     <strong class="reserved">if</strong> (dir != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                         resDir = prefixCache.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(dir);
<a id="L414" name="L414"></a> 414                         <strong class="reserved">if</strong> (resDir != <strong class="reserved">null</strong>) <em class="brace">{</em>
<div class="comment">
                              Hit only in prefix cache; full path is canonical,
                              but we need to get the canonical name of the file
                              in this directory to get the appropriate
                              capitalization</div>
<a id="L421" name="L421"></a> 421                             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filename = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1 + dir.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L422" name="L422"></a> 422                             res = <a href="../S/1421.html#L448" title="Defined at 448 in src/java/io/WinNTFileSystem.java.">canonicalizeWithPrefix</a>(resDir, filename);
<a id="L423" name="L423"></a> 423                             <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(dir + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar + filename, res);
<a id="L424" name="L424"></a> 424                         <em class="brace">}</em>
<a id="L425" name="L425"></a> 425                     <em class="brace">}</em>
<a id="L426" name="L426"></a> 426                 <em class="brace">}</em>
<a id="L427" name="L427"></a> 427                 <strong class="reserved">if</strong> (res == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L428" name="L428"></a> 428                     res = <a href="../S/1421.html#L445" title="Defined at 445 in src/java/io/WinNTFileSystem.java.">canonicalize0</a>(path);
<a id="L429" name="L429"></a> 429                     <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(path, res);
<a id="L430" name="L430"></a> 430                     <strong class="reserved">if</strong> (useCanonPrefixCache &amp;&amp; dir != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431                         resDir = <a href="../S/1421.html#L469" title="Defined at 469 in src/java/io/WinNTFileSystem.java.">parentOrNull</a>(res);
<a id="L432" name="L432"></a> 432                         <strong class="reserved">if</strong> (resDir != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433                             <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(res);
<a id="L434" name="L434"></a> 434                             <strong class="reserved">if</strong> (f.<a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a>() &amp;&amp; !f.<a href="../D/25444.html" title="Multiple defined in 5 places.">isDirectory</a>()) <em class="brace">{</em>
<a id="L435" name="L435"></a> 435                                 prefixCache.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(dir, resDir);
<a id="L436" name="L436"></a> 436                             <em class="brace">}</em>
<a id="L437" name="L437"></a> 437                         <em class="brace">}</em>
<a id="L438" name="L438"></a> 438                     <em class="brace">}</em>
<a id="L439" name="L439"></a> 439                 <em class="brace">}</em>
<a id="L440" name="L440"></a> 440             <em class="brace">}</em>
<a id="L441" name="L441"></a> 441             <strong class="reserved">return</strong> res;
<a id="L442" name="L442"></a> 442         <em class="brace">}</em>
<a id="L443" name="L443"></a> 443     <em class="brace">}</em>
<a id="L444" name="L444"></a> 444 
<a id="L445" name="L445"></a> 445     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/10956.html" title="Multiple referred from 2 places.">canonicalize0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path)
<a id="L446" name="L446"></a> 446             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>;
<a id="L447" name="L447"></a> 447 
<a id="L448" name="L448"></a> 448     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1421.html#L422" title="Referred from 422 in src/java/io/WinNTFileSystem.java.">canonicalizeWithPrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canonicalPrefix,
<a id="L449" name="L449"></a> 449             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filename) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L450" name="L450"></a> 450     <em class="brace">{</em>
<a id="L451" name="L451"></a> 451         <strong class="reserved">return</strong> <a href="../S/1421.html#L458" title="Defined at 458 in src/java/io/WinNTFileSystem.java.">canonicalizeWithPrefix0</a>(canonicalPrefix,
<a id="L452" name="L452"></a> 452                 canonicalPrefix + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar + filename);
<a id="L453" name="L453"></a> 453     <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<a id="L455" name="L455"></a> 455     <em class="comment">// Run the canonicalization operation assuming that the prefix</em>
<a id="L456" name="L456"></a> 456     <em class="comment">// (everything up to the last filename) is canonical; just gets</em>
<a id="L457" name="L457"></a> 457     <em class="comment">// the canonical name of the last element of the path</em>
<a id="L458" name="L458"></a> 458     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1421.html#L451" title="Referred from 451 in src/java/io/WinNTFileSystem.java.">canonicalizeWithPrefix0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canonicalPrefix,
<a id="L459" name="L459"></a> 459             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pathWithCanonicalPrefix)
<a id="L460" name="L460"></a> 460             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>;
<a id="L461" name="L461"></a> 461 
<a id="L462" name="L462"></a> 462     <em class="comment">// Best-effort attempt to get parent of this path; used for</em>
<a id="L463" name="L463"></a> 463     <em class="comment">// optimization of filename canonicalization. This must return null for</em>
<a id="L464" name="L464"></a> 464     <em class="comment">// any cases where the code in canonicalize_md.c would throw an</em>
<a id="L465" name="L465"></a> 465     <em class="comment">// exception or otherwise deal with non-simple pathnames like handling</em>
<a id="L466" name="L466"></a> 466     <em class="comment">// of "." and "..". It may conservatively return null in other</em>
<a id="L467" name="L467"></a> 467     <em class="comment">// situations as well. Returning null will cause the underlying</em>
<a id="L468" name="L468"></a> 468     <em class="comment">// (expensive) canonicalization routine to be called.</em>
<a id="L469" name="L469"></a> 469     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/24488.html" title="Multiple referred from 2 places.">parentOrNull</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470         <strong class="reserved">if</strong> (path == <strong class="reserved">null</strong>) <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L471" name="L471"></a> 471         <strong class="reserved">char</strong> sep = <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.separatorChar;
<a id="L472" name="L472"></a> 472         <strong class="reserved">char</strong> altSep = '/';
<a id="L473" name="L473"></a> 473         <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1;
<a id="L474" name="L474"></a> 474         <strong class="reserved">int</strong> idx = <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>;
<a id="L475" name="L475"></a> 475         <strong class="reserved">int</strong> adjacentDots = 0;
<a id="L476" name="L476"></a> 476         <strong class="reserved">int</strong> nonDotCount = 0;
<a id="L477" name="L477"></a> 477         <strong class="reserved">while</strong> (idx &gt; 0) <em class="brace">{</em>
<a id="L478" name="L478"></a> 478             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx);
<a id="L479" name="L479"></a> 479             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '.') <em class="brace">{</em>
<a id="L480" name="L480"></a> 480                 <strong class="reserved">if</strong> (++adjacentDots &gt;= 2) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481                     <em class="comment">// Punt on pathnames containing . and ..</em>
<a id="L482" name="L482"></a> 482                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L483" name="L483"></a> 483                 <em class="brace">}</em>
<a id="L484" name="L484"></a> 484                 <strong class="reserved">if</strong> (nonDotCount == 0) <em class="brace">{</em>
<a id="L485" name="L485"></a> 485                     <em class="comment">// Punt on pathnames ending in a .</em>
<a id="L486" name="L486"></a> 486                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L487" name="L487"></a> 487                 <em class="brace">}</em>
<a id="L488" name="L488"></a> 488             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == sep) <em class="brace">{</em>
<a id="L489" name="L489"></a> 489                 <strong class="reserved">if</strong> (adjacentDots == 1 &amp;&amp; nonDotCount == 0) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490                     <em class="comment">// Punt on pathnames containing . and ..</em>
<a id="L491" name="L491"></a> 491                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L492" name="L492"></a> 492                 <em class="brace">}</em>
<a id="L493" name="L493"></a> 493                 <strong class="reserved">if</strong> (idx == 0 ||
<a id="L494" name="L494"></a> 494                     idx &gt;= <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> - 1 ||
<a id="L495" name="L495"></a> 495                     path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx - 1) == sep ||
<a id="L496" name="L496"></a> 496                     path.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx - 1) == altSep) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497                     <em class="comment">// Punt on pathnames containing adjacent slashes</em>
<a id="L498" name="L498"></a> 498                     <em class="comment">// toward the end</em>
<a id="L499" name="L499"></a> 499                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L500" name="L500"></a> 500                 <em class="brace">}</em>
<a id="L501" name="L501"></a> 501                 <strong class="reserved">return</strong> path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, idx);
<a id="L502" name="L502"></a> 502             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == altSep) <em class="brace">{</em>
<a id="L503" name="L503"></a> 503                 <em class="comment">// Punt on pathnames containing both backward and</em>
<a id="L504" name="L504"></a> 504                 <em class="comment">// forward slashes</em>
<a id="L505" name="L505"></a> 505                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L506" name="L506"></a> 506             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '*' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '?') <em class="brace">{</em>
<a id="L507" name="L507"></a> 507                 <em class="comment">// Punt on pathnames containing wildcards</em>
<a id="L508" name="L508"></a> 508                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L509" name="L509"></a> 509             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L510" name="L510"></a> 510                 ++nonDotCount;
<a id="L511" name="L511"></a> 511                 adjacentDots = 0;
<a id="L512" name="L512"></a> 512             <em class="brace">}</em>
<a id="L513" name="L513"></a> 513             --idx;
<a id="L514" name="L514"></a> 514         <em class="brace">}</em>
<a id="L515" name="L515"></a> 515         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<div class="comment">
     /* -- Attribute accessors -- */</div>
<a id="L519" name="L519"></a> 519 
<a id="L520" name="L520"></a> 520     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L521" name="L521"></a> 521     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../R/15298.html" title="Multiple referred from 5 places.">getBooleanAttributes</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f);
<a id="L522" name="L522"></a> 522 
<a id="L523" name="L523"></a> 523     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L524" name="L524"></a> 524     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../R/11068.html" title="Multiple referred from 112 places.">checkAccess</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f, <strong class="reserved">int</strong> <a href="../S/1421.html#L608" title="Defined at 608 in src/java/io/WinNTFileSystem.java.">access</a>);
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L527" name="L527"></a> 527     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../S/1433.html#L943" title="Referred from 943 in src/java/io/File.java.">getLastModifiedTime</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f);
<a id="L528" name="L528"></a> 528 
<a id="L529" name="L529"></a> 529     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L530" name="L530"></a> 530     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../R/17335.html" title="Multiple referred from 644 places.">getLength</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f);
<a id="L531" name="L531"></a> 531 
<a id="L532" name="L532"></a> 532     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L533" name="L533"></a> 533     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../R/27927.html" title="Multiple referred from 3 places.">setPermission</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f, <strong class="reserved">int</strong> <a href="../S/1421.html#L608" title="Defined at 608 in src/java/io/WinNTFileSystem.java.">access</a>, <strong class="reserved">boolean</strong> <a href="../D/15371.html" title="Multiple defined in 6 places.">enable</a>,
<a id="L534" name="L534"></a> 534             <strong class="reserved">boolean</strong> owneronly);
<a id="L535" name="L535"></a> 535 
<div class="comment">
     /* -- File operations -- */</div>
<a id="L537" name="L537"></a> 537 
<a id="L538" name="L538"></a> 538     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L539" name="L539"></a> 539     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../R/12432.html" title="Multiple referred from 2 places.">createFileExclusively</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path)
<a id="L540" name="L540"></a> 540             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>;
<a id="L541" name="L541"></a> 541 
<a id="L542" name="L542"></a> 542     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L543" name="L543"></a> 543     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/22527.html" title="Multiple referred from 1488 places.">list</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f);
<a id="L544" name="L544"></a> 544 
<a id="L545" name="L545"></a> 545     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L546" name="L546"></a> 546     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../R/12374.html" title="Multiple referred from 10 places.">createDirectory</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f);
<a id="L547" name="L547"></a> 547 
<a id="L548" name="L548"></a> 548     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L549" name="L549"></a> 549     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../S/1433.html#L1435" title="Referred from 1435 in src/java/io/File.java.">setLastModifiedTime</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f, <strong class="reserved">long</strong> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>);
<a id="L550" name="L550"></a> 550 
<a id="L551" name="L551"></a> 551     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L552" name="L552"></a> 552     <strong class="reserved">public</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../R/28000.html" title="Multiple referred from 34 places.">setReadOnly</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f);
<a id="L553" name="L553"></a> 553 
<a id="L554" name="L554"></a> 554     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L555" name="L555"></a> 555     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13204.html" title="Multiple referred from 51 places.">delete</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f) <em class="brace">{</em>
<a id="L556" name="L556"></a> 556         <em class="comment">// Keep canonicalization caches in sync after file deletion</em>
<a id="L557" name="L557"></a> 557         <em class="comment">// and renaming operations. Could be more clever than this</em>
<a id="L558" name="L558"></a> 558         <em class="comment">// (i.e., only remove/update affected entries) but probably</em>
<a id="L559" name="L559"></a> 559         <em class="comment">// not worth it since these entries expire after 30 seconds</em>
<a id="L560" name="L560"></a> 560         <em class="comment">// anyway.</em>
<a id="L561" name="L561"></a> 561         <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L562" name="L562"></a> 562         prefixCache.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L563" name="L563"></a> 563         <strong class="reserved">return</strong> <a href="../S/1421.html#L566" title="Defined at 566 in src/java/io/WinNTFileSystem.java.">delete0</a>(f);
<a id="L564" name="L564"></a> 564     <em class="brace">}</em>
<a id="L565" name="L565"></a> 565 
<a id="L566" name="L566"></a> 566     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../S/1421.html#L563" title="Referred from 563 in src/java/io/WinNTFileSystem.java.">delete0</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f);
<a id="L567" name="L567"></a> 567 
<a id="L568" name="L568"></a> 568     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L569" name="L569"></a> 569     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26109.html" title="Multiple referred from 9 places.">rename</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f1, <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f2) <em class="brace">{</em>
<a id="L570" name="L570"></a> 570         <em class="comment">// Keep canonicalization caches in sync after file deletion</em>
<a id="L571" name="L571"></a> 571         <em class="comment">// and renaming operations. Could be more clever than this</em>
<a id="L572" name="L572"></a> 572         <em class="comment">// (i.e., only remove/update affected entries) but probably</em>
<a id="L573" name="L573"></a> 573         <em class="comment">// not worth it since these entries expire after 30 seconds</em>
<a id="L574" name="L574"></a> 574         <em class="comment">// anyway.</em>
<a id="L575" name="L575"></a> 575         <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L576" name="L576"></a> 576         prefixCache.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L577" name="L577"></a> 577         <strong class="reserved">return</strong> <a href="../S/1421.html#L580" title="Defined at 580 in src/java/io/WinNTFileSystem.java.">rename0</a>(f1, f2);
<a id="L578" name="L578"></a> 578     <em class="brace">}</em>
<a id="L579" name="L579"></a> 579 
<a id="L580" name="L580"></a> 580     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../S/1421.html#L577" title="Referred from 577 in src/java/io/WinNTFileSystem.java.">rename0</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f1, <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f2);
<a id="L581" name="L581"></a> 581 
<div class="comment">
     /* -- Filesystem interface -- */</div>
<a id="L583" name="L583"></a> 583 
<a id="L584" name="L584"></a> 584     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L585" name="L585"></a> 585     <strong class="reserved">public</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>[] <a href="../S/1433.html#L1776" title="Referred from 1776 in src/java/io/File.java.">listRoots</a>() <em class="brace">{</em>
<a id="L586" name="L586"></a> 586         <strong class="reserved">int</strong> ds = <a href="../S/1421.html#L606" title="Defined at 606 in src/java/io/WinNTFileSystem.java.">listRoots0</a>();
<a id="L587" name="L587"></a> 587         <strong class="reserved">int</strong> n = 0;
<a id="L588" name="L588"></a> 588         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 26; i++) <em class="brace">{</em>
<a id="L589" name="L589"></a> 589             <strong class="reserved">if</strong> (((ds &gt;&gt; i) &amp; 1) != 0) <em class="brace">{</em>
<a id="L590" name="L590"></a> 590                 <strong class="reserved">if</strong> (!<a href="../S/1421.html#L608" title="Defined at 608 in src/java/io/WinNTFileSystem.java.">access</a>((<strong class="reserved">char</strong>)('A' + i) + ":" + slash))
<a id="L591" name="L591"></a> 591                     ds &amp;= ~(1 &lt;&lt; i);
<a id="L592" name="L592"></a> 592                 <strong class="reserved">else</strong>
<a id="L593" name="L593"></a> 593                     n++;
<a id="L594" name="L594"></a> 594             <em class="brace">}</em>
<a id="L595" name="L595"></a> 595         <em class="brace">}</em>
<a id="L596" name="L596"></a> 596         <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>[] fs = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>[n];
<a id="L597" name="L597"></a> 597         <strong class="reserved">int</strong> j = 0;
<a id="L598" name="L598"></a> 598         <strong class="reserved">char</strong> slash = <strong class="reserved">this</strong>.slash;
<a id="L599" name="L599"></a> 599         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 26; i++) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600             <strong class="reserved">if</strong> (((ds &gt;&gt; i) &amp; 1) != 0)
<a id="L601" name="L601"></a> 601                 fs[j++] = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>((<strong class="reserved">char</strong>)('A' + i) + ":" + slash);
<a id="L602" name="L602"></a> 602         <em class="brace">}</em>
<a id="L603" name="L603"></a> 603         <strong class="reserved">return</strong> fs;
<a id="L604" name="L604"></a> 604     <em class="brace">}</em>
<a id="L605" name="L605"></a> 605 
<a id="L606" name="L606"></a> 606     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../S/1421.html#L586" title="Referred from 586 in src/java/io/WinNTFileSystem.java.">listRoots0</a>();
<a id="L607" name="L607"></a> 607 
<a id="L608" name="L608"></a> 608     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/9531.html" title="Multiple referred from 89 places.">access</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L610" name="L610"></a> 610             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L611" name="L611"></a> 611             <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) security.<a href="../D/12614.html" title="Multiple defined in 5 places.">checkRead</a>(path);
<a id="L612" name="L612"></a> 612             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L613" name="L613"></a> 613         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L614" name="L614"></a> 614             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L615" name="L615"></a> 615         <em class="brace">}</em>
<a id="L616" name="L616"></a> 616     <em class="brace">}</em>
<a id="L617" name="L617"></a> 617 
<div class="comment">
     /* -- Disk usage -- */</div>
<a id="L619" name="L619"></a> 619 
<a id="L620" name="L620"></a> 620     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L621" name="L621"></a> 621     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/19113.html" title="Multiple referred from 3 places.">getSpace</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f, <strong class="reserved">int</strong> t) <em class="brace">{</em>
<a id="L622" name="L622"></a> 622         <strong class="reserved">if</strong> (f.<a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a>()) <em class="brace">{</em>
<a id="L623" name="L623"></a> 623             <strong class="reserved">return</strong> <a href="../S/1421.html#L628" title="Defined at 628 in src/java/io/WinNTFileSystem.java.">getSpace0</a>(f, t);
<a id="L624" name="L624"></a> 624         <em class="brace">}</em>
<a id="L625" name="L625"></a> 625         <strong class="reserved">return</strong> 0;
<a id="L626" name="L626"></a> 626     <em class="brace">}</em>
<a id="L627" name="L627"></a> 627 
<a id="L628" name="L628"></a> 628     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../S/1421.html#L623" title="Referred from 623 in src/java/io/WinNTFileSystem.java.">getSpace0</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f, <strong class="reserved">int</strong> t);
<a id="L629" name="L629"></a> 629 
<div class="comment">
     /* -- Basic infrastructure -- */</div>
<a id="L631" name="L631"></a> 631 
<a id="L632" name="L632"></a> 632     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L633" name="L633"></a> 633     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11691.html" title="Multiple referred from 208 places.">compare</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f1, <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f2) <em class="brace">{</em>
<a id="L634" name="L634"></a> 634         <strong class="reserved">return</strong> f1.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>().<a href="../D/13070.html" title="Multiple defined in 5 places.">compareToIgnoreCase</a>(f2.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>());
<a id="L635" name="L635"></a> 635     <em class="brace">}</em>
<a id="L636" name="L636"></a> 636 
<a id="L637" name="L637"></a> 637     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L638" name="L638"></a> 638     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> f) <em class="brace">{</em>
<div class="comment">
         /* Could make this more efficient: String.hashCodeIgnoreCase */</div>
<a id="L640" name="L640"></a> 640         <strong class="reserved">return</strong> f.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>().<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ENGLISH).<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() ^ 1234321;
<a id="L641" name="L641"></a> 641     <em class="brace">}</em>
<a id="L642" name="L642"></a> 642 
<a id="L643" name="L643"></a> 643     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/20590.html" title="Multiple referred from 52 places.">initIDs</a>();
<a id="L644" name="L644"></a> 644 
<a id="L645" name="L645"></a> 645     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L646" name="L646"></a> 646         <a href="../D/24550.html" title="Multiple defined in 53 places.">initIDs</a>();
<a id="L647" name="L647"></a> 647     <em class="brace">}</em>
<a id="L648" name="L648"></a> 648 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L52">[^]</a><a href="#L643">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>