<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/zip/Deflater.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L199">[^]</a><a href="#L567">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L199" title="Defined at 199.">setInput</a></li>
<li><a href="#L219" title="Defined at 219.">setInput</a></li>
<li><a href="#L235" title="Defined at 235.">setDictionary</a></li>
<li><a href="#L258" title="Defined at 258.">setDictionary</a></li>
<li><a href="#L274" title="Defined at 274.">setStrategy</a></li>
<li><a href="#L302" title="Defined at 302.">setLevel</a></li>
<li><a href="#L320" title="Defined at 320.">needsInput</a></li>
<li><a href="#L328" title="Defined at 328.">finish</a></li>
<li><a href="#L340" title="Defined at 340.">finished</a></li>
<li><a href="#L363" title="Defined at 363.">deflate</a></li>
<li><a href="#L382" title="Defined at 382.">deflate</a></li>
<li><a href="#L430" title="Defined at 430.">deflate</a></li>
<li><a href="#L455" title="Defined at 455.">getAdler</a></li>
<li><a href="#L471" title="Defined at 471.">getTotalIn</a></li>
<li><a href="#L481" title="Defined at 481.">getBytesRead</a></li>
<li><a href="#L497" title="Defined at 497.">getTotalOut</a></li>
<li><a href="#L507" title="Defined at 507.">getBytesWritten</a></li>
<li><a href="#L518" title="Defined at 518.">reset</a></li>
<li><a href="#L536" title="Defined at 536.">end</a></li>
<li><a href="#L550" title="Defined at 550.">finalize</a></li>
<li><a href="#L554" title="Defined at 554.">ensureOpen</a></li>
<li><a href="#L560" title="Defined at 560.">initIDs</a></li>
<li><a href="#L561" title="Defined at 561.">init</a></li>
<li><a href="#L562" title="Defined at 562.">setDictionary</a></li>
<li><a href="#L563" title="Defined at 563.">deflateBytes</a></li>
<li><a href="#L565" title="Defined at 565.">getAdler</a></li>
<li><a href="#L566" title="Defined at 566.">reset</a></li>
<li><a href="#L567" title="Defined at 567.">end</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1996, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.zip;
<a id="L27" name="L27"></a>  27 
<div class="comment">
  This class provides support for general purpose compression using the
  popular ZLIB compression library. The ZLIB compression library was
  initially developed as part of the PNG graphics standard and is not
  protected by patents. It is fully described in the specifications at
  the <a href="package-summary.html#package_description">java.util.zip
  package description</a>.
  <p>The following code fragment demonstrates a trivial compression
  and decompression of a string using <tt>Deflater</tt> and
  <tt>Inflater</tt>.
  </p><blockquote><pre>  try {
      // Encode a String into bytes
      String inputString = "blahblahblah";
      byte[] input = inputString.getBytes("UTF-8");
      // Compress the bytes
      byte[] output = new byte[100];
      Deflater compresser = new Deflater();
      compresser.setInput(input);
      compresser.finish();
      int compressedDataLength = compresser.deflate(output);
      compresser.end();
      // Decompress the bytes
      Inflater decompresser = new Inflater();
      decompresser.setInput(output, 0, compressedDataLength);
      byte[] result = new byte[100];
      int resultLength = decompresser.inflate(result);
      decompresser.end();
      // Decode the bytes into a String
      String outputString = new String(result, 0, resultLength, "UTF-8");
  } catch(java.io.UnsupportedEncodingException ex) {
      // handle
  } catch (java.util.zip.DataFormatException ex) {
      // handle
  }
  </pre></blockquote>
  @see         Inflater
  @author      David Connelly</div>
<a id="L73" name="L73"></a>  73 <strong class="reserved">public</strong>
<a id="L74" name="L74"></a>  74 <strong class="reserved">class</strong> <a href="../R/2169.html" title="Multiple referred from 16 places.">Deflater</a> <em class="brace">{</em>
<a id="L75" name="L75"></a>  75 
<a id="L76" name="L76"></a>  76     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1002.html#L32" title="Defined at 32 in src/java/util/zip/ZStreamRef.java.">ZStreamRef</a> zsRef;
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[0];
<a id="L78" name="L78"></a>  78     <strong class="reserved">private</strong> <strong class="reserved">int</strong> off, len;
<a id="L79" name="L79"></a>  79     <strong class="reserved">private</strong> <strong class="reserved">int</strong> level, strategy;
<a id="L80" name="L80"></a>  80     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../D/33506.html" title="Multiple defined in 3 places.">setParams</a>;
<a id="L81" name="L81"></a>  81     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../D/16280.html" title="Multiple defined in 8 places.">finish</a>, <a href="../D/16298.html" title="Multiple defined in 3 places.">finished</a>;
<a id="L82" name="L82"></a>  82     <strong class="reserved">private</strong> <strong class="reserved">long</strong> bytesRead;
<a id="L83" name="L83"></a>  83     <strong class="reserved">private</strong> <strong class="reserved">long</strong> bytesWritten;
<a id="L84" name="L84"></a>  84 
<div class="comment">
      Compression method for the deflate algorithm (the only one currently
      supported).</div>
<a id="L89" name="L89"></a>  89     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../S/12.html#L145" title="Defined at 145 in src/launcher/manifest_info.h.">DEFLATED</a> = 8;
<a id="L90" name="L90"></a>  90 
<div class="comment">
      Compression level for no compression.</div>
<a id="L94" name="L94"></a>  94     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NO_COMPRESSION = 0;
<a id="L95" name="L95"></a>  95 
<div class="comment">
      Compression level for fastest compression.</div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> BEST_SPEED = 1;
<a id="L100" name="L100"></a> 100 
<div class="comment">
      Compression level for best compression.</div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> BEST_COMPRESSION = 9;
<a id="L105" name="L105"></a> 105 
<div class="comment">
      Default compression level.</div>
<a id="L109" name="L109"></a> 109     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DEFAULT_COMPRESSION = -1;
<a id="L110" name="L110"></a> 110 
<div class="comment">
      Compression strategy best used for data consisting mostly of small
      values with a somewhat random distribution. Forces more Huffman coding
      and less string matching.</div>
<a id="L116" name="L116"></a> 116     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> FILTERED = 1;
<a id="L117" name="L117"></a> 117 
<div class="comment">
      Compression strategy for Huffman coding only.</div>
<a id="L121" name="L121"></a> 121     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> HUFFMAN_ONLY = 2;
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Default compression strategy.</div>
<a id="L126" name="L126"></a> 126     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DEFAULT_STRATEGY = 0;
<a id="L127" name="L127"></a> 127 
<div class="comment">
      Compression flush mode used to achieve best compression result.
      @see Deflater#deflate(byte[], int, int, int)
      @since 1.7</div>
<a id="L134" name="L134"></a> 134     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NO_FLUSH = 0;
<a id="L135" name="L135"></a> 135 
<div class="comment">
      Compression flush mode used to flush out all pending output; may
      degrade compression for some compression algorithms.
      @see Deflater#deflate(byte[], int, int, int)
      @since 1.7</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SYNC_FLUSH = 2;
<a id="L144" name="L144"></a> 144 
<div class="comment">
      Compression flush mode used to flush out all pending output and
      reset the deflater. Using this mode too often can seriously degrade
      compression.
      @see Deflater#deflate(byte[], int, int, int)
      @since 1.7</div>
<a id="L153" name="L153"></a> 153     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> FULL_FLUSH = 3;
<a id="L154" name="L154"></a> 154 
<a id="L155" name="L155"></a> 155     <strong class="reserved">static</strong> <em class="brace">{</em>
<div class="comment">
         /* Zip library is loaded from System.initializeSystemClass */</div>
<a id="L157" name="L157"></a> 157         <a href="../D/24550.html" title="Multiple defined in 53 places.">initIDs</a>();
<a id="L158" name="L158"></a> 158     <em class="brace">}</em>
<a id="L159" name="L159"></a> 159 
<div class="comment">
      Creates a new compressor using the specified compression level.
      If 'nowrap' is true then the ZLIB header and checksum fields will
      not be used in order to support the compression format used in
      both GZIP and PKZIP.
      @param level the compression level (0-9)
      @param nowrap if true then use GZIP compatible compression</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">public</strong> Deflater(<strong class="reserved">int</strong> level, <strong class="reserved">boolean</strong> nowrap) <em class="brace">{</em>
<a id="L169" name="L169"></a> 169         <strong class="reserved">this</strong>.level = level;
<a id="L170" name="L170"></a> 170         <strong class="reserved">this</strong>.strategy = DEFAULT_STRATEGY;
<a id="L171" name="L171"></a> 171         <strong class="reserved">this</strong>.zsRef = <strong class="reserved">new</strong> <a href="../S/1002.html#L32" title="Defined at 32 in src/java/util/zip/ZStreamRef.java.">ZStreamRef</a>(<a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(level, DEFAULT_STRATEGY, nowrap));
<a id="L172" name="L172"></a> 172     <em class="brace">}</em>
<a id="L173" name="L173"></a> 173 
<div class="comment">
      Creates a new compressor using the specified compression level.
      Compressed data will be generated in ZLIB format.
      @param level the compression level (0-9)</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">public</strong> Deflater(<strong class="reserved">int</strong> level) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180         <strong class="reserved">this</strong>(level, <strong class="reserved">false</strong>);
<a id="L181" name="L181"></a> 181     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<div class="comment">
      Creates a new compressor with the default compression level.
      Compressed data will be generated in ZLIB format.</div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">public</strong> Deflater() <em class="brace">{</em>
<a id="L188" name="L188"></a> 188         <strong class="reserved">this</strong>(DEFAULT_COMPRESSION, <strong class="reserved">false</strong>);
<a id="L189" name="L189"></a> 189     <em class="brace">}</em>
<a id="L190" name="L190"></a> 190 
<div class="comment">
      Sets input data for compression. This should be called whenever
      needsInput() returns true indicating that more input data is required.
      @param b the input data bytes
      @param off the start offset of the data
      @param len the length of the data
      @see Deflater#needsInput</div>
<a id="L199" name="L199"></a> 199     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27573.html" title="Multiple referred from 20 places.">setInput</a>(<strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L200" name="L200"></a> 200         <strong class="reserved">if</strong> (b== <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L201" name="L201"></a> 201             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L202" name="L202"></a> 202         <em class="brace">}</em>
<a id="L203" name="L203"></a> 203         <strong class="reserved">if</strong> (off &lt; 0 || len &lt; 0 || off &gt; b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - len) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>();
<a id="L205" name="L205"></a> 205         <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L207" name="L207"></a> 207             <strong class="reserved">this</strong>.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = b;
<a id="L208" name="L208"></a> 208             <strong class="reserved">this</strong>.off = off;
<a id="L209" name="L209"></a> 209             <strong class="reserved">this</strong>.len = len;
<a id="L210" name="L210"></a> 210         <em class="brace">}</em>
<a id="L211" name="L211"></a> 211     <em class="brace">}</em>
<a id="L212" name="L212"></a> 212 
<div class="comment">
      Sets input data for compression. This should be called whenever
      needsInput() returns true indicating that more input data is required.
      @param b the input data bytes
      @see Deflater#needsInput</div>
<a id="L219" name="L219"></a> 219     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27573.html" title="Multiple referred from 20 places.">setInput</a>(<strong class="reserved">byte</strong>[] b) <em class="brace">{</em>
<a id="L220" name="L220"></a> 220         <a href="../D/32954.html" title="Multiple defined in 12 places.">setInput</a>(b, 0, b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L221" name="L221"></a> 221     <em class="brace">}</em>
<a id="L222" name="L222"></a> 222 
<div class="comment">
      Sets preset dictionary for compression. A preset dictionary is used
      when the history buffer can be predetermined. When the data is later
      uncompressed with Inflater.inflate(), Inflater.getAdler() can be called
      in order to get the Adler-32 value of the dictionary required for
      decompression.
      @param b the dictionary data bytes
      @param off the start offset of the data
      @param len the length of the data
      @see Inflater#inflate
      @see Inflater#getAdler</div>
<a id="L235" name="L235"></a> 235     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27233.html" title="Multiple referred from 4 places.">setDictionary</a>(<strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236         <strong class="reserved">if</strong> (b == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L237" name="L237"></a> 237             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L238" name="L238"></a> 238         <em class="brace">}</em>
<a id="L239" name="L239"></a> 239         <strong class="reserved">if</strong> (off &lt; 0 || len &lt; 0 || off &gt; b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - len) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>();
<a id="L241" name="L241"></a> 241         <em class="brace">}</em>
<a id="L242" name="L242"></a> 242         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L244" name="L244"></a> 244             <a href="../D/32453.html" title="Multiple defined in 6 places.">setDictionary</a>(zsRef.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>(), b, off, len);
<a id="L245" name="L245"></a> 245         <em class="brace">}</em>
<a id="L246" name="L246"></a> 246     <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<div class="comment">
      Sets preset dictionary for compression. A preset dictionary is used
      when the history buffer can be predetermined. When the data is later
      uncompressed with Inflater.inflate(), Inflater.getAdler() can be called
      in order to get the Adler-32 value of the dictionary required for
      decompression.
      @param b the dictionary data bytes
      @see Inflater#inflate
      @see Inflater#getAdler</div>
<a id="L258" name="L258"></a> 258     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27233.html" title="Multiple referred from 4 places.">setDictionary</a>(<strong class="reserved">byte</strong>[] b) <em class="brace">{</em>
<a id="L259" name="L259"></a> 259         <a href="../D/32453.html" title="Multiple defined in 6 places.">setDictionary</a>(b, 0, b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L260" name="L260"></a> 260     <em class="brace">}</em>
<a id="L261" name="L261"></a> 261 
<div class="comment">
      Sets the compression strategy to the specified value.
      <p> If the compression strategy is changed, the next invocation
      of <code>deflate</code> will compress the input available so far with
      the old strategy (and may be flushed); the new strategy will take
      effect only after that invocation.
      @param strategy the new compression strategy
      @exception IllegalArgumentException if the compression strategy is
                                          invalid</p></div>
<a id="L274" name="L274"></a> 274     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setStrategy(<strong class="reserved">int</strong> strategy) <em class="brace">{</em>
<a id="L275" name="L275"></a> 275         <strong class="reserved">switch</strong> (strategy) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276           <strong class="reserved">case</strong> DEFAULT_STRATEGY:
<a id="L277" name="L277"></a> 277           <strong class="reserved">case</strong> FILTERED:
<a id="L278" name="L278"></a> 278           <strong class="reserved">case</strong> HUFFMAN_ONLY:
<a id="L279" name="L279"></a> 279             <strong class="reserved">break</strong>;
<a id="L280" name="L280"></a> 280           <strong class="reserved">default</strong>:
<a id="L281" name="L281"></a> 281             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L282" name="L282"></a> 282         <em class="brace">}</em>
<a id="L283" name="L283"></a> 283         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.strategy != strategy) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285                 <strong class="reserved">this</strong>.strategy = strategy;
<a id="L286" name="L286"></a> 286                 <a href="../D/33506.html" title="Multiple defined in 3 places.">setParams</a> = <strong class="reserved">true</strong>;
<a id="L287" name="L287"></a> 287             <em class="brace">}</em>
<a id="L288" name="L288"></a> 288         <em class="brace">}</em>
<a id="L289" name="L289"></a> 289     <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<div class="comment">
      Sets the compression level to the specified value.
      <p> If the compression level is changed, the next invocation
      of <code>deflate</code> will compress the input available so far
      with the old level (and may be flushed); the new level will
      take effect only after that invocation.
      @param level the new compression level (0-9)
      @exception IllegalArgumentException if the compression level is invalid</p></div>
<a id="L302" name="L302"></a> 302     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27659.html" title="Multiple referred from 21 places.">setLevel</a>(<strong class="reserved">int</strong> level) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303         <strong class="reserved">if</strong> ((level &lt; 0 || level &gt; 9) &amp;&amp; level != DEFAULT_COMPRESSION) <em class="brace">{</em>
<a id="L304" name="L304"></a> 304             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid compression level");
<a id="L305" name="L305"></a> 305         <em class="brace">}</em>
<a id="L306" name="L306"></a> 306         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.level != level) <em class="brace">{</em>
<a id="L308" name="L308"></a> 308                 <strong class="reserved">this</strong>.level = level;
<a id="L309" name="L309"></a> 309                 <a href="../D/33506.html" title="Multiple defined in 3 places.">setParams</a> = <strong class="reserved">true</strong>;
<a id="L310" name="L310"></a> 310             <em class="brace">}</em>
<a id="L311" name="L311"></a> 311         <em class="brace">}</em>
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<div class="comment">
      Returns true if the input data buffer is empty and setInput()
      should be called in order to provide more input.
      @return true if the input data buffer is empty and setInput()
      should be called in order to provide more input</div>
<a id="L320" name="L320"></a> 320     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/23502.html" title="Multiple referred from 6 places.">needsInput</a>() <em class="brace">{</em>
<a id="L321" name="L321"></a> 321         <strong class="reserved">return</strong> len &lt;= 0;
<a id="L322" name="L322"></a> 322     <em class="brace">}</em>
<a id="L323" name="L323"></a> 323 
<div class="comment">
      When called, indicates that compression should end with the current
      contents of the input buffer.</div>
<a id="L328" name="L328"></a> 328     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14519.html" title="Multiple referred from 38 places.">finish</a>() <em class="brace">{</em>
<a id="L329" name="L329"></a> 329         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L330" name="L330"></a> 330             <a href="../D/16280.html" title="Multiple defined in 8 places.">finish</a> = <strong class="reserved">true</strong>;
<a id="L331" name="L331"></a> 331         <em class="brace">}</em>
<a id="L332" name="L332"></a> 332     <em class="brace">}</em>
<a id="L333" name="L333"></a> 333 
<div class="comment">
      Returns true if the end of the compressed data output stream has
      been reached.
      @return true if the end of the compressed data output stream has
      been reached</div>
<a id="L340" name="L340"></a> 340     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/14536.html" title="Multiple referred from 48 places.">finished</a>() <em class="brace">{</em>
<a id="L341" name="L341"></a> 341         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342             <strong class="reserved">return</strong> <a href="../D/16298.html" title="Multiple defined in 3 places.">finished</a>;
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344     <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<div class="comment">
      Compresses the input data and fills specified buffer with compressed
      data. Returns actual number of bytes of compressed data. A return value
      of 0 indicates that {@link #needsInput() needsInput} should be called
      in order to determine if more input data is required.
      <p>This method uses {@link #NO_FLUSH} as its compression flush mode.
      An invocation of this method of the form <code>deflater.deflate(b, off, len)</code>
      yields the same result as the invocation of
      <code>deflater.deflate(b, off, len, Deflater.NO_FLUSH)</code>.
      @param b the buffer for the compressed data
      @param off the start offset of the data
      @param len the maximum number of bytes of compressed data
      @return the actual number of bytes of compressed data written to the
              output buffer</p></div>
<a id="L363" name="L363"></a> 363     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/13190.html" title="Multiple referred from 14 places.">deflate</a>(<strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364         <strong class="reserved">return</strong> <a href="../D/14779.html" title="Multiple defined in 6 places.">deflate</a>(b, off, len, NO_FLUSH);
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<div class="comment">
      Compresses the input data and fills specified buffer with compressed
      data. Returns actual number of bytes of compressed data. A return value
      of 0 indicates that {@link #needsInput() needsInput} should be called
      in order to determine if more input data is required.
      <p>This method uses {@link #NO_FLUSH} as its compression flush mode.
      An invocation of this method of the form <code>deflater.deflate(b)</code>
      yields the same result as the invocation of
      <code>deflater.deflate(b, 0, b.length, Deflater.NO_FLUSH)</code>.
      @param b the buffer for the compressed data
      @return the actual number of bytes of compressed data written to the
              output buffer</p></div>
<a id="L382" name="L382"></a> 382     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/13190.html" title="Multiple referred from 14 places.">deflate</a>(<strong class="reserved">byte</strong>[] b) <em class="brace">{</em>
<a id="L383" name="L383"></a> 383         <strong class="reserved">return</strong> <a href="../D/14779.html" title="Multiple defined in 6 places.">deflate</a>(b, 0, b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, NO_FLUSH);
<a id="L384" name="L384"></a> 384     <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<div class="comment">
      Compresses the input data and fills the specified buffer with compressed
      data. Returns actual number of bytes of data compressed.
      <p>Compression flush mode is one of the following three modes:
      </p><ul><li>{@link #NO_FLUSH}: allows the deflater to decide how much data
      to accumulate, before producing output, in order to achieve the best
      compression (should be used in normal use scenario). A return value
      of 0 in this flush mode indicates that {@link #needsInput()} should
      be called in order to determine if more input data is required.
      </li><li>{@link #SYNC_FLUSH}: all pending output in the deflater is flushed,
      to the specified output buffer, so that an inflater that works on
      compressed data can get all input data available so far (In particular
      the {@link #needsInput()} returns <code>true</code> after this invocation
      if enough output space is provided). Flushing with {@link #SYNC_FLUSH}
      may degrade compression for some compression algorithms and so it
      should be used only when necessary.
      </li><li>{@link #FULL_FLUSH}: all pending output is flushed out as with
      {@link #SYNC_FLUSH}. The compression state is reset so that the inflater
      that works on the compressed output data can restart from this point
      if previous compressed data has been damaged or if random access is
      desired. Using {@link #FULL_FLUSH} too often can seriously degrade
      compression.
      </li></ul>
      <p>In the case of {@link #FULL_FLUSH} or {@link #SYNC_FLUSH}, if
      the return value is <code>len</code>, the space available in output
      buffer <code>b</code>, this method should be invoked again with the same
      <code>flush</code> parameter and more output space.
      @param b the buffer for the compressed data
      @param off the start offset of the data
      @param len the maximum number of bytes of compressed data
      @param flush the compression flush mode
      @return the actual number of bytes of compressed data written to
              the output buffer
      @throws IllegalArgumentException if the flush mode is invalid
      @since 1.7</p></div>
<a id="L430" name="L430"></a> 430     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/13190.html" title="Multiple referred from 14 places.">deflate</a>(<strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len, <strong class="reserved">int</strong> <a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">if</strong> (b == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L433" name="L433"></a> 433         <em class="brace">}</em>
<a id="L434" name="L434"></a> 434         <strong class="reserved">if</strong> (off &lt; 0 || len &lt; 0 || off &gt; b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - len) <em class="brace">{</em>
<a id="L435" name="L435"></a> 435             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>();
<a id="L436" name="L436"></a> 436         <em class="brace">}</em>
<a id="L437" name="L437"></a> 437         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L439" name="L439"></a> 439             <strong class="reserved">if</strong> (<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a> == NO_FLUSH || <a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a> == SYNC_FLUSH ||
<a id="L440" name="L440"></a> 440                 <a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a> == FULL_FLUSH) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441                 <strong class="reserved">int</strong> thisLen = <strong class="reserved">this</strong>.len;
<a id="L442" name="L442"></a> 442                 <strong class="reserved">int</strong> n = <a href="../S/1011.html#L563" title="Defined at 563 in src/java/util/zip/Deflater.java.">deflateBytes</a>(zsRef.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>(), b, off, len, <a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>);
<a id="L443" name="L443"></a> 443                 bytesWritten += n;
<a id="L444" name="L444"></a> 444                 bytesRead += (thisLen - <strong class="reserved">this</strong>.len);
<a id="L445" name="L445"></a> 445                 <strong class="reserved">return</strong> n;
<a id="L446" name="L446"></a> 446             <em class="brace">}</em>
<a id="L447" name="L447"></a> 447             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L448" name="L448"></a> 448         <em class="brace">}</em>
<a id="L449" name="L449"></a> 449     <em class="brace">}</em>
<a id="L450" name="L450"></a> 450 
<div class="comment">
      Returns the ADLER-32 value of the uncompressed data.
      @return the ADLER-32 value of the uncompressed data</div>
<a id="L455" name="L455"></a> 455     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/14994.html" title="Multiple referred from 2 places.">getAdler</a>() <em class="brace">{</em>
<a id="L456" name="L456"></a> 456         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L458" name="L458"></a> 458             <strong class="reserved">return</strong> <a href="../D/16839.html" title="Multiple defined in 4 places.">getAdler</a>(zsRef.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>());
<a id="L459" name="L459"></a> 459         <em class="brace">}</em>
<a id="L460" name="L460"></a> 460     <em class="brace">}</em>
<a id="L461" name="L461"></a> 461 
<div class="comment">
      Returns the total number of uncompressed bytes input so far.
      <p>Since the number of bytes may be greater than
      Integer.MAX_VALUE, the {@link #getBytesRead()} method is now
      the preferred means of obtaining this information.</p>
      @return the total number of uncompressed bytes input so far</div>
<a id="L471" name="L471"></a> 471     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/1022.html#L202" title="Referred from 202 in src/java/util/zip/GZIPOutputStream.java.">getTotalIn</a>() <em class="brace">{</em>
<a id="L472" name="L472"></a> 472         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>) <a href="../D/17422.html" title="Multiple defined in 2 places.">getBytesRead</a>();
<a id="L473" name="L473"></a> 473     <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<div class="comment">
      Returns the total number of uncompressed bytes input so far.
      @return the total (non-negative) number of uncompressed bytes input so far
      @since 1.5</div>
<a id="L481" name="L481"></a> 481     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/15392.html" title="Multiple referred from 8 places.">getBytesRead</a>() <em class="brace">{</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L484" name="L484"></a> 484             <strong class="reserved">return</strong> bytesRead;
<a id="L485" name="L485"></a> 485         <em class="brace">}</em>
<a id="L486" name="L486"></a> 486     <em class="brace">}</em>
<a id="L487" name="L487"></a> 487 
<div class="comment">
      Returns the total number of compressed bytes output so far.
      <p>Since the number of bytes may be greater than
      Integer.MAX_VALUE, the {@link #getBytesWritten()} method is now
      the preferred means of obtaining this information.</p>
      @return the total number of compressed bytes output so far</div>
<a id="L497" name="L497"></a> 497     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getTotalOut() <em class="brace">{</em>
<a id="L498" name="L498"></a> 498         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>) <a href="../D/17424.html" title="Multiple defined in 2 places.">getBytesWritten</a>();
<a id="L499" name="L499"></a> 499     <em class="brace">}</em>
<a id="L500" name="L500"></a> 500 
<div class="comment">
      Returns the total number of compressed bytes output so far.
      @return the total (non-negative) number of compressed bytes output so far
      @since 1.5</div>
<a id="L507" name="L507"></a> 507     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/15394.html" title="Multiple referred from 10 places.">getBytesWritten</a>() <em class="brace">{</em>
<a id="L508" name="L508"></a> 508         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L510" name="L510"></a> 510             <strong class="reserved">return</strong> bytesWritten;
<a id="L511" name="L511"></a> 511         <em class="brace">}</em>
<a id="L512" name="L512"></a> 512     <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<div class="comment">
      Resets deflater so that a new set of input data can be processed.
      Keeps current compression level and strategy settings.</div>
<a id="L518" name="L518"></a> 518     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>() <em class="brace">{</em>
<a id="L519" name="L519"></a> 519         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L521" name="L521"></a> 521             <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>(zsRef.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>());
<a id="L522" name="L522"></a> 522             <a href="../D/16280.html" title="Multiple defined in 8 places.">finish</a> = <strong class="reserved">false</strong>;
<a id="L523" name="L523"></a> 523             <a href="../D/16298.html" title="Multiple defined in 3 places.">finished</a> = <strong class="reserved">false</strong>;
<a id="L524" name="L524"></a> 524             off = len = 0;
<a id="L525" name="L525"></a> 525             bytesRead = bytesWritten = 0;
<a id="L526" name="L526"></a> 526         <em class="brace">}</em>
<a id="L527" name="L527"></a> 527     <em class="brace">}</em>
<a id="L528" name="L528"></a> 528 
<div class="comment">
      Closes the compressor and discards any unprocessed input.
      This method should be called when the compressor is no longer
      being used, but will also be called automatically by the
      finalize() method. Once this method is called, the behavior
      of the Deflater object is undefined.</div>
<a id="L536" name="L536"></a> 536     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>() <em class="brace">{</em>
<a id="L537" name="L537"></a> 537         <strong class="reserved">synchronized</strong> (zsRef) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538             <strong class="reserved">long</strong> addr = zsRef.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>();
<a id="L539" name="L539"></a> 539             zsRef.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L540" name="L540"></a> 540             <strong class="reserved">if</strong> (addr != 0) <em class="brace">{</em>
<a id="L541" name="L541"></a> 541                 <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(addr);
<a id="L542" name="L542"></a> 542                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">null</strong>;
<a id="L543" name="L543"></a> 543             <em class="brace">}</em>
<a id="L544" name="L544"></a> 544         <em class="brace">}</em>
<a id="L545" name="L545"></a> 545     <em class="brace">}</em>
<a id="L546" name="L546"></a> 546 
<div class="comment">
      Closes the compressor when garbage is collected.</div>
<a id="L550" name="L550"></a> 550     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14337.html" title="Multiple referred from 5 places.">finalize</a>() <em class="brace">{</em>
<a id="L551" name="L551"></a> 551         <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L552" name="L552"></a> 552     <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<a id="L554" name="L554"></a> 554     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13930.html" title="Multiple referred from 102 places.">ensureOpen</a>() <em class="brace">{</em>
<a id="L555" name="L555"></a> 555         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L1488" title="Defined at 1488 in src/java/lang/Thread.java.">holdsLock</a>(zsRef);
<a id="L556" name="L556"></a> 556         <strong class="reserved">if</strong> (zsRef.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>() == 0)
<a id="L557" name="L557"></a> 557             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Deflater has been closed");
<a id="L558" name="L558"></a> 558     <em class="brace">}</em>
<a id="L559" name="L559"></a> 559 
<a id="L560" name="L560"></a> 560     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/20590.html" title="Multiple referred from 52 places.">initIDs</a>();
<a id="L561" name="L561"></a> 561     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<strong class="reserved">int</strong> level, <strong class="reserved">int</strong> strategy, <strong class="reserved">boolean</strong> nowrap);
<a id="L562" name="L562"></a> 562     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/27233.html" title="Multiple referred from 4 places.">setDictionary</a>(<strong class="reserved">long</strong> addr, <strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len);
<a id="L563" name="L563"></a> 563     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../S/1011.html#L442" title="Referred from 442 in src/java/util/zip/Deflater.java.">deflateBytes</a>(<strong class="reserved">long</strong> addr, <strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len,
<a id="L564" name="L564"></a> 564                                     <strong class="reserved">int</strong> <a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>);
<a id="L565" name="L565"></a> 565     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/14994.html" title="Multiple referred from 2 places.">getAdler</a>(<strong class="reserved">long</strong> addr);
<a id="L566" name="L566"></a> 566     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>(<strong class="reserved">long</strong> addr);
<a id="L567" name="L567"></a> 567     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<strong class="reserved">long</strong> addr);
<a id="L568" name="L568"></a> 568 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L199">[^]</a><a href="#L567">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>