<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/ArrayDeque.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L126">[^]</a><a href="#L979">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L126" title="Defined at 126.">allocateElements</a></li>
<li><a href="#L149" title="Defined at 149.">doubleCapacity</a></li>
<li><a href="#L172" title="Defined at 172.">copyElements</a></li>
<li><a href="#L226" title="Defined at 226.">addFirst</a></li>
<li><a href="#L242" title="Defined at 242.">addLast</a></li>
<li><a href="#L257" title="Defined at 257.">offerFirst</a></li>
<li><a href="#L269" title="Defined at 269.">offerLast</a></li>
<li><a href="#L277" title="Defined at 277.">removeFirst</a></li>
<li><a href="#L287" title="Defined at 287.">removeLast</a></li>
<li><a href="#L294" title="Defined at 294.">pollFirst</a></li>
<li><a href="#L306" title="Defined at 306.">pollLast</a></li>
<li><a href="#L320" title="Defined at 320.">getFirst</a></li>
<li><a href="#L331" title="Defined at 331.">getLast</a></li>
<li><a href="#L339" title="Defined at 339.">SuppressWarnings</a></li>
<li><a href="#L340" title="Defined at 340.">peekFirst</a></li>
<li><a href="#L345" title="Defined at 345.">SuppressWarnings</a></li>
<li><a href="#L346" title="Defined at 346.">peekLast</a></li>
<li><a href="#L362" title="Defined at 362.">removeFirstOccurrence</a></li>
<li><a href="#L390" title="Defined at 390.">removeLastOccurrence</a></li>
<li><a href="#L417" title="Defined at 417.">add</a></li>
<li><a href="#L431" title="Defined at 431.">offer</a></li>
<li><a href="#L446" title="Defined at 446.">remove</a></li>
<li><a href="#L460" title="Defined at 460.">poll</a></li>
<li><a href="#L474" title="Defined at 474.">element</a></li>
<li><a href="#L487" title="Defined at 487.">peek</a></li>
<li><a href="#L502" title="Defined at 502.">push</a></li>
<li><a href="#L516" title="Defined at 516.">pop</a></li>
<li><a href="#L520" title="Defined at 520.">checkInvariants</a></li>
<li><a href="#L538" title="Defined at 538.">delete</a></li>
<li><a href="#L584" title="Defined at 584.">size</a></li>
<li><a href="#L593" title="Defined at 593.">isEmpty</a></li>
<li><a href="#L605" title="Defined at 605.">iterator</a></li>
<li><a href="#L609" title="Defined at 609.">descendingIterator</a></li>
<li><a href="#L631" title="Defined at 631.">hasNext</a></li>
<li><a href="#L635" title="Defined at 635.">next</a></li>
<li><a href="#L649" title="Defined at 649.">remove</a></li>
<li><a href="#L659" title="Defined at 659.">forEachRemaining</a></li>
<li><a href="#L684" title="Defined at 684.">hasNext</a></li>
<li><a href="#L688" title="Defined at 688.">next</a></li>
<li><a href="#L700" title="Defined at 700.">remove</a></li>
<li><a href="#L719" title="Defined at 719.">contains</a></li>
<li><a href="#L746" title="Defined at 746.">remove</a></li>
<li><a href="#L754" title="Defined at 754.">clear</a></li>
<li><a href="#L781" title="Defined at 781.">toArray</a></li>
<li><a href="#L821" title="Defined at 821.">SuppressWarnings</a></li>
<li><a href="#L822" title="Defined at 822.">toArray</a></li>
<li><a href="#L840" title="Defined at 840.">clone</a></li>
<li><a href="#L860" title="Defined at 860.">writeObject</a></li>
<li><a href="#L876" title="Defined at 876.">readObject</a></li>
<li><a href="#L904" title="Defined at 904.">spliterator</a></li>
<li><a href="#L920" title="Defined at 920.">getFence</a></li>
<li><a href="#L929" title="Defined at 929.">trySplit</a></li>
<li><a href="#L940" title="Defined at 940.">forEachRemaining</a></li>
<li><a href="#L955" title="Defined at 955.">tryAdvance</a></li>
<li><a href="#L971" title="Defined at 971.">estimateSize</a></li>
<li><a href="#L979" title="Defined at 979.">characteristics</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L24" name="L24"></a>  24 
<div class="comment">
  Written by Josh Bloch of Google Inc. and released to the public domain,
  as explained at http://creativecommons.org/publicdomain/zero/1.0/.</div>
<a id="L34" name="L34"></a>  34 
<a id="L35" name="L35"></a>  35 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.function.Consumer;
<a id="L39" name="L39"></a>  39 
<div class="comment">
  Resizable-array implementation of the {@link Deque} interface.  Array
  deques have no capacity restrictions; they grow as necessary to support
  usage.  They are not thread-safe; in the absence of external
  synchronization, they do not support concurrent access by multiple threads.
  Null elements are prohibited.  This class is likely to be faster than
  {@link Stack} when used as a stack, and faster than {@link LinkedList}
  when used as a queue.
  <p>Most <code>ArrayDeque</code> operations run in amortized constant time.
  Exceptions include {@link #remove(Object) remove}, {@link
  #removeFirstOccurrence removeFirstOccurrence}, {@link #removeLastOccurrence
  removeLastOccurrence}, {@link #contains contains}, {@link #iterator
  iterator.remove()}, and the bulk operations, all of which run in linear
  time.
  </p><p>The iterators returned by this class's <code>iterator</code> method are
  <i>fail-fast</i>: If the deque is modified at any time after the iterator
  is created, in any way except through the iterator's own <code>remove</code>
  method, the iterator will generally throw a {@link
  ConcurrentModificationException}.  Thus, in the face of concurrent
  modification, the iterator fails quickly and cleanly, rather than risking
  arbitrary, non-deterministic behavior at an undetermined time in the
  future.
  </p><p>Note that the fail-fast behavior of an iterator cannot be guaranteed
  as it is, generally speaking, impossible to make any hard guarantees in the
  presence of unsynchronized concurrent modification.  Fail-fast iterators
  throw <code>ConcurrentModificationException</code> on a best-effort basis.
  Therefore, it would be wrong to write a program that depended on this
  exception for its correctness: <i>the fail-fast behavior of iterators
  should be used only to detect bugs.</i>
  </p><p>This class and its iterator implement all of the
  <em>optional</em> methods of the {@link Collection} and {@link
  Iterator} interfaces.
  </p><p>This class is a member of the
  <a href="{@docRoot}/../technotes/guides/collections/index.html">
  Java Collections Framework</a>.
  @author  Josh Bloch and Doug Lea
  @since   1.6
  @param <e> the type of elements held in this collection</e></p></div>
<a id="L85" name="L85"></a>  85 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/447.html" title="Multiple referred from 12 places.">ArrayDeque</a>&lt;E&gt; <strong class="reserved">extends</strong> <a href="../S/995.html#L61" title="Defined at 61 in src/java/util/AbstractCollection.java.">AbstractCollection</a>&lt;E&gt;
<a id="L86" name="L86"></a>  86                            <strong class="reserved">implements</strong> <a href="../S/1133.html#L193" title="Defined at 193 in src/java/util/Deque.java.">Deque</a>&lt;E&gt;, <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>
<a id="L87" name="L87"></a>  87 <em class="brace">{</em>
<div class="comment">
      The array in which the elements of the deque are stored.
      The capacity of the deque is the length of this array, which is
      always a power of two. The array is never allowed to become
      full, except transiently within an addX method where it is
      resized (see doubleCapacity) immediately upon becoming full,
      thus avoiding head and tail wrapping around to equal each
      other.  We also guarantee that all array cells not holding
      deque elements are always null.</div>
<a id="L98" name="L98"></a>  98     <strong class="reserved">transient</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>; <em class="comment">// non-private to simplify nested class access</em>
<a id="L99" name="L99"></a>  99 
<div class="comment">
      The index of the element at the head of the deque (which is the
      element that would be removed by remove() or pop()); or an
      arbitrary number equal to tail if the deque is empty.</div>
<a id="L105" name="L105"></a> 105     <strong class="reserved">transient</strong> <strong class="reserved">int</strong> head;
<a id="L106" name="L106"></a> 106 
<div class="comment">
      The index at which the next element would be added to the tail
      of the deque (via addLast(E), add(E), or push(E)).</div>
<a id="L111" name="L111"></a> 111     <strong class="reserved">transient</strong> <strong class="reserved">int</strong> tail;
<a id="L112" name="L112"></a> 112 
<div class="comment">
      The minimum capacity that we'll use for a newly created deque.
      Must be a power of 2.</div>
<a id="L117" name="L117"></a> 117     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MIN_INITIAL_CAPACITY = 8;
<a id="L118" name="L118"></a> 118 
<a id="L119" name="L119"></a> 119     <em class="comment">// ******  Array allocation and resizing utilities ******</em>
<a id="L120" name="L120"></a> 120 
<div class="comment">
      Allocates empty array to hold the given number of elements.
      @param numElements  the number of elements to hold</div>
<a id="L126" name="L126"></a> 126     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/10141.html" title="Multiple referred from 3 places.">allocateElements</a>(<strong class="reserved">int</strong> numElements) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127         <strong class="reserved">int</strong> initialCapacity = MIN_INITIAL_CAPACITY;
<a id="L128" name="L128"></a> 128         <em class="comment">// Find the best power of two to hold elements.</em>
<a id="L129" name="L129"></a> 129         <em class="comment">// Tests "&lt;=" because arrays aren't kept full.</em>
<a id="L130" name="L130"></a> 130         <strong class="reserved">if</strong> (numElements &gt;= initialCapacity) <em class="brace">{</em>
<a id="L131" name="L131"></a> 131             initialCapacity = numElements;
<a id="L132" name="L132"></a> 132             initialCapacity |= (initialCapacity &gt;&gt;&gt;  1);
<a id="L133" name="L133"></a> 133             initialCapacity |= (initialCapacity &gt;&gt;&gt;  2);
<a id="L134" name="L134"></a> 134             initialCapacity |= (initialCapacity &gt;&gt;&gt;  4);
<a id="L135" name="L135"></a> 135             initialCapacity |= (initialCapacity &gt;&gt;&gt;  8);
<a id="L136" name="L136"></a> 136             initialCapacity |= (initialCapacity &gt;&gt;&gt; 16);
<a id="L137" name="L137"></a> 137             initialCapacity++;
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139             <strong class="reserved">if</strong> (initialCapacity &lt; 0)   <em class="comment">// Too many elements, must back off</em>
<a id="L140" name="L140"></a> 140                 initialCapacity &gt;&gt;&gt;= 1;<em class="comment">// Good luck allocating 2 ^ 30 elements</em>
<a id="L141" name="L141"></a> 141         <em class="brace">}</em>
<a id="L142" name="L142"></a> 142         <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[initialCapacity];
<a id="L143" name="L143"></a> 143     <em class="brace">}</em>
<a id="L144" name="L144"></a> 144 
<div class="comment">
      Doubles the capacity of this deque.  Call only when full, i.e.,
      when head and tail have wrapped around to become equal.</div>
<a id="L149" name="L149"></a> 149     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13486.html" title="Multiple referred from 2 places.">doubleCapacity</a>() <em class="brace">{</em>
<a id="L150" name="L150"></a> 150         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> head == tail;
<a id="L151" name="L151"></a> 151         <strong class="reserved">int</strong> p = head;
<a id="L152" name="L152"></a> 152         <strong class="reserved">int</strong> n = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L153" name="L153"></a> 153         <strong class="reserved">int</strong> r = n - p; <em class="comment">// number of elements to the right of p</em>
<a id="L154" name="L154"></a> 154         <strong class="reserved">int</strong> newCapacity = n &lt;&lt; 1;
<a id="L155" name="L155"></a> 155         <strong class="reserved">if</strong> (newCapacity &lt; 0)
<a id="L156" name="L156"></a> 156             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("Sorry, deque too big");
<a id="L157" name="L157"></a> 157         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[newCapacity];
<a id="L158" name="L158"></a> 158         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, p, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, 0, r);
<a id="L159" name="L159"></a> 159         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, 0, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, r, p);
<a id="L160" name="L160"></a> 160         <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L161" name="L161"></a> 161         head = 0;
<a id="L162" name="L162"></a> 162         tail = n;
<a id="L163" name="L163"></a> 163     <em class="brace">}</em>
<a id="L164" name="L164"></a> 164 
<div class="comment">
      Copies the elements from our element array into the specified array,
      in order (from first to last element in the deque).  It is assumed
      that the array is large enough to hold all elements in the deque.
      @return its argument</div>
<a id="L172" name="L172"></a> 172     <strong class="reserved">private</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[] <a href="../R/12100.html" title="Multiple referred from 2 places.">copyElements</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L173" name="L173"></a> 173         <strong class="reserved">if</strong> (head &lt; tail) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, head, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, 0, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L175" name="L175"></a> 175         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (head &gt; tail) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176             <strong class="reserved">int</strong> headPortionLen = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - head;
<a id="L177" name="L177"></a> 177             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, head, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, 0, headPortionLen);
<a id="L178" name="L178"></a> 178             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, 0, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, headPortionLen, tail);
<a id="L179" name="L179"></a> 179         <em class="brace">}</em>
<a id="L180" name="L180"></a> 180         <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L181" name="L181"></a> 181     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<div class="comment">
      Constructs an empty array deque with an initial capacity
      sufficient to hold 16 elements.</div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">public</strong> ArrayDeque() <em class="brace">{</em>
<a id="L188" name="L188"></a> 188         <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[16];
<a id="L189" name="L189"></a> 189     <em class="brace">}</em>
<a id="L190" name="L190"></a> 190 
<div class="comment">
      Constructs an empty array deque with an initial capacity
      sufficient to hold the specified number of elements.
      @param numElements  lower bound on initial capacity of the deque</div>
<a id="L197" name="L197"></a> 197     <strong class="reserved">public</strong> ArrayDeque(<strong class="reserved">int</strong> numElements) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198         <a href="../S/996.html#L126" title="Defined at 126 in src/java/util/ArrayDeque.java.">allocateElements</a>(numElements);
<a id="L199" name="L199"></a> 199     <em class="brace">}</em>
<a id="L200" name="L200"></a> 200 
<div class="comment">
      Constructs a deque containing the elements of the specified
      collection, in the order they are returned by the collection's
      iterator.  (The first element returned by the collection's
      iterator becomes the first element, or <i>front</i> of the
      deque.)
      @param c the collection whose elements are to be placed into the deque
      @throws NullPointerException if the specified collection is null</div>
<a id="L211" name="L211"></a> 211     <strong class="reserved">public</strong> ArrayDeque(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;? <strong class="reserved">extends</strong> E&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212         <a href="../S/996.html#L126" title="Defined at 126 in src/java/util/ArrayDeque.java.">allocateElements</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L213" name="L213"></a> 213         <a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L214" name="L214"></a> 214     <em class="brace">}</em>
<a id="L215" name="L215"></a> 215 
<a id="L216" name="L216"></a> 216     <em class="comment">// The main insertion and extraction methods are addFirst,</em>
<a id="L217" name="L217"></a> 217     <em class="comment">// addLast, pollFirst, pollLast. The other methods are defined in</em>
<a id="L218" name="L218"></a> 218     <em class="comment">// terms of these.</em>
<a id="L219" name="L219"></a> 219 
<div class="comment">
      Inserts the specified element at the front of this deque.
      @param e the element to add
      @throws NullPointerException if the specified element is null</div>
<a id="L226" name="L226"></a> 226     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9734.html" title="Multiple referred from 11 places.">addFirst</a>(E e) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong>)
<a id="L228" name="L228"></a> 228             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L229" name="L229"></a> 229         <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[head = (head - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1)] = e;
<a id="L230" name="L230"></a> 230         <strong class="reserved">if</strong> (head == tail)
<a id="L231" name="L231"></a> 231             <a href="../S/996.html#L149" title="Defined at 149 in src/java/util/ArrayDeque.java.">doubleCapacity</a>();
<a id="L232" name="L232"></a> 232     <em class="brace">}</em>
<a id="L233" name="L233"></a> 233 
<div class="comment">
      Inserts the specified element at the end of this deque.
      <p>This method is equivalent to {@link #add}.
      @param e the element to add
      @throws NullPointerException if the specified element is null</p></div>
<a id="L242" name="L242"></a> 242     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9819.html" title="Multiple referred from 19 places.">addLast</a>(E e) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243         <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong>)
<a id="L244" name="L244"></a> 244             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L245" name="L245"></a> 245         <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[tail] = e;
<a id="L246" name="L246"></a> 246         <strong class="reserved">if</strong> ( (tail = (tail + 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1)) == head)
<a id="L247" name="L247"></a> 247             <a href="../S/996.html#L149" title="Defined at 149 in src/java/util/ArrayDeque.java.">doubleCapacity</a>();
<a id="L248" name="L248"></a> 248     <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<div class="comment">
      Inserts the specified element at the front of this deque.
      @param e the element to add
      @return <code>true</code> (as specified by {@link Deque#offerFirst})
      @throws NullPointerException if the specified element is null</div>
<a id="L257" name="L257"></a> 257     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/23933.html" title="Multiple referred from 2 places.">offerFirst</a>(E e) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258         <a href="../D/10807.html" title="Multiple defined in 6 places.">addFirst</a>(e);
<a id="L259" name="L259"></a> 259         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L260" name="L260"></a> 260     <em class="brace">}</em>
<a id="L261" name="L261"></a> 261 
<div class="comment">
      Inserts the specified element at the end of this deque.
      @param e the element to add
      @return <code>true</code> (as specified by {@link Deque#offerLast})
      @throws NullPointerException if the specified element is null</div>
<a id="L269" name="L269"></a> 269     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/23934.html" title="Multiple referred from 6 places.">offerLast</a>(E e) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270         <a href="../D/10901.html" title="Multiple defined in 6 places.">addLast</a>(e);
<a id="L271" name="L271"></a> 271         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L272" name="L272"></a> 272     <em class="brace">}</em>
<a id="L273" name="L273"></a> 273 
<div class="comment">
      @throws NoSuchElementException {@inheritDoc}</div>
<a id="L277" name="L277"></a> 277     <strong class="reserved">public</strong> E <a href="../R/25964.html" title="Multiple referred from 31 places.">removeFirst</a>() <em class="brace">{</em>
<a id="L278" name="L278"></a> 278         E <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/29407.html" title="Multiple defined in 15 places.">pollFirst</a>();
<a id="L279" name="L279"></a> 279         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> == <strong class="reserved">null</strong>)
<a id="L280" name="L280"></a> 280             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L281" name="L281"></a> 281         <strong class="reserved">return</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L282" name="L282"></a> 282     <em class="brace">}</em>
<a id="L283" name="L283"></a> 283 
<div class="comment">
      @throws NoSuchElementException {@inheritDoc}</div>
<a id="L287" name="L287"></a> 287     <strong class="reserved">public</strong> E <a href="../S/2110.html#L3013" title="Referred from 3013 in src/java/awt/KeyboardFocusManager.java.">removeLast</a>() <em class="brace">{</em>
<a id="L288" name="L288"></a> 288         E <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/29409.html" title="Multiple defined in 15 places.">pollLast</a>();
<a id="L289" name="L289"></a> 289         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> == <strong class="reserved">null</strong>)
<a id="L290" name="L290"></a> 290             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L291" name="L291"></a> 291         <strong class="reserved">return</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L292" name="L292"></a> 292     <em class="brace">}</em>
<a id="L293" name="L293"></a> 293 
<a id="L294" name="L294"></a> 294     <strong class="reserved">public</strong> E <a href="../R/24799.html" title="Multiple referred from 12 places.">pollFirst</a>() <em class="brace">{</em>
<a id="L295" name="L295"></a> 295         <strong class="reserved">int</strong> h = head;
<a id="L296" name="L296"></a> 296         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L297" name="L297"></a> 297         E <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[h];
<a id="L298" name="L298"></a> 298         <em class="comment">// Element is null if deque empty</em>
<a id="L299" name="L299"></a> 299         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>)
<a id="L300" name="L300"></a> 300             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L301" name="L301"></a> 301         <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[h] = <strong class="reserved">null</strong>;     <em class="comment">// Must null out slot</em>
<a id="L302" name="L302"></a> 302         head = (h + 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L303" name="L303"></a> 303         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L304" name="L304"></a> 304     <em class="brace">}</em>
<a id="L305" name="L305"></a> 305 
<a id="L306" name="L306"></a> 306     <strong class="reserved">public</strong> E <a href="../R/24801.html" title="Multiple referred from 5 places.">pollLast</a>() <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <strong class="reserved">int</strong> t = (tail - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L308" name="L308"></a> 308         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L309" name="L309"></a> 309         E <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[t];
<a id="L310" name="L310"></a> 310         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>)
<a id="L311" name="L311"></a> 311             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L312" name="L312"></a> 312         <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[t] = <strong class="reserved">null</strong>;
<a id="L313" name="L313"></a> 313         tail = t;
<a id="L314" name="L314"></a> 314         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L315" name="L315"></a> 315     <em class="brace">}</em>
<a id="L316" name="L316"></a> 316 
<div class="comment">
      @throws NoSuchElementException {@inheritDoc}</div>
<a id="L320" name="L320"></a> 320     <strong class="reserved">public</strong> E <a href="../R/16600.html" title="Multiple referred from 24 places.">getFirst</a>() <em class="brace">{</em>
<a id="L321" name="L321"></a> 321         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L322" name="L322"></a> 322         E <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[head];
<a id="L323" name="L323"></a> 323         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>)
<a id="L324" name="L324"></a> 324             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L325" name="L325"></a> 325         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L326" name="L326"></a> 326     <em class="brace">}</em>
<a id="L327" name="L327"></a> 327 
<div class="comment">
      @throws NoSuchElementException {@inheritDoc}</div>
<a id="L331" name="L331"></a> 331     <strong class="reserved">public</strong> E <a href="../R/17269.html" title="Multiple referred from 11 places.">getLast</a>() <em class="brace">{</em>
<a id="L332" name="L332"></a> 332         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L333" name="L333"></a> 333         E <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[(tail - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1)];
<a id="L334" name="L334"></a> 334         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>)
<a id="L335" name="L335"></a> 335             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L336" name="L336"></a> 336         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L337" name="L337"></a> 337     <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<a id="L339" name="L339"></a> 339     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L340" name="L340"></a> 340     <strong class="reserved">public</strong> E <a href="../R/24696.html" title="Multiple referred from 7 places.">peekFirst</a>() <em class="brace">{</em>
<a id="L341" name="L341"></a> 341         <em class="comment">// elements[head] is null if deque empty</em>
<a id="L342" name="L342"></a> 342         <strong class="reserved">return</strong> (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[head];
<a id="L343" name="L343"></a> 343     <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L346" name="L346"></a> 346     <strong class="reserved">public</strong> E <a href="../R/24698.html" title="Multiple referred from 2 places.">peekLast</a>() <em class="brace">{</em>
<a id="L347" name="L347"></a> 347         <strong class="reserved">return</strong> (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[(tail - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1)];
<a id="L348" name="L348"></a> 348     <em class="brace">}</em>
<a id="L349" name="L349"></a> 349 
<div class="comment">
      Removes the first occurrence of the specified element in this
      deque (when traversing the deque from head to tail).
      If the deque does not contain the element, it is unchanged.
      More formally, removes the first element <code>e</code> such that
      <code>o.equals(e)</code> (if such an element exists).
      Returns <code>true</code> if this deque contained the specified element
      (or equivalently, if this deque changed as a result of the call).
      @param o element to be removed from this deque, if present
      @return <code>true</code> if the deque contained the specified element</div>
<a id="L362" name="L362"></a> 362     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/25965.html" title="Multiple referred from 3 places.">removeFirstOccurrence</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>)
<a id="L364" name="L364"></a> 364             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L365" name="L365"></a> 365         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L366" name="L366"></a> 366         <strong class="reserved">int</strong> i = head;
<a id="L367" name="L367"></a> 367         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L368" name="L368"></a> 368         <strong class="reserved">while</strong> ( (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[i]) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L369" name="L369"></a> 369             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>)) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370                 <a href="../D/14793.html" title="Multiple defined in 25 places.">delete</a>(i);
<a id="L371" name="L371"></a> 371                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L372" name="L372"></a> 372             <em class="brace">}</em>
<a id="L373" name="L373"></a> 373             i = (i + 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L374" name="L374"></a> 374         <em class="brace">}</em>
<a id="L375" name="L375"></a> 375         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L376" name="L376"></a> 376     <em class="brace">}</em>
<a id="L377" name="L377"></a> 377 
<div class="comment">
      Removes the last occurrence of the specified element in this
      deque (when traversing the deque from head to tail).
      If the deque does not contain the element, it is unchanged.
      More formally, removes the last element <code>e</code> such that
      <code>o.equals(e)</code> (if such an element exists).
      Returns <code>true</code> if this deque contained the specified element
      (or equivalently, if this deque changed as a result of the call).
      @param o element to be removed from this deque, if present
      @return <code>true</code> if the deque contained the specified element</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> removeLastOccurrence(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>)
<a id="L392" name="L392"></a> 392             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L393" name="L393"></a> 393         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L394" name="L394"></a> 394         <strong class="reserved">int</strong> i = (tail - 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L395" name="L395"></a> 395         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L396" name="L396"></a> 396         <strong class="reserved">while</strong> ( (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[i]) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>)) <em class="brace">{</em>
<a id="L398" name="L398"></a> 398                 <a href="../D/14793.html" title="Multiple defined in 25 places.">delete</a>(i);
<a id="L399" name="L399"></a> 399                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L400" name="L400"></a> 400             <em class="brace">}</em>
<a id="L401" name="L401"></a> 401             i = (i - 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L402" name="L402"></a> 402         <em class="brace">}</em>
<a id="L403" name="L403"></a> 403         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L404" name="L404"></a> 404     <em class="brace">}</em>
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406     <em class="comment">// *** Queue methods ***</em>
<a id="L407" name="L407"></a> 407 
<div class="comment">
      Inserts the specified element at the end of this deque.
      <p>This method is equivalent to {@link #addLast}.
      @param e the element to add
      @return <code>true</code> (as specified by {@link Collection#add})
      @throws NullPointerException if the specified element is null</p></div>
<a id="L417" name="L417"></a> 417     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(E e) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418         <a href="../D/10901.html" title="Multiple defined in 6 places.">addLast</a>(e);
<a id="L419" name="L419"></a> 419         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<div class="comment">
      Inserts the specified element at the end of this deque.
      <p>This method is equivalent to {@link #offerLast}.
      @param e the element to add
      @return <code>true</code> (as specified by {@link Queue#offer})
      @throws NullPointerException if the specified element is null</p></div>
<a id="L431" name="L431"></a> 431     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/23932.html" title="Multiple referred from 17 places.">offer</a>(E e) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432         <strong class="reserved">return</strong> <a href="../D/28471.html" title="Multiple defined in 8 places.">offerLast</a>(e);
<a id="L433" name="L433"></a> 433     <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<div class="comment">
      Retrieves and removes the head of the queue represented by this deque.
      This method differs from {@link #poll poll} only in that it throws an
      exception if this deque is empty.
      <p>This method is equivalent to {@link #removeFirst}.
      @return the head of the queue represented by this deque
      @throws NoSuchElementException {@inheritDoc}</p></div>
<a id="L446" name="L446"></a> 446     <strong class="reserved">public</strong> E <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>() <em class="brace">{</em>
<a id="L447" name="L447"></a> 447         <strong class="reserved">return</strong> <a href="../D/30795.html" title="Multiple defined in 5 places.">removeFirst</a>();
<a id="L448" name="L448"></a> 448     <em class="brace">}</em>
<a id="L449" name="L449"></a> 449 
<div class="comment">
      Retrieves and removes the head of the queue represented by this deque
      (in other words, the first element of this deque), or returns
      <code>null</code> if this deque is empty.
      <p>This method is equivalent to {@link #pollFirst}.
      @return the head of the queue represented by this deque, or
              <code>null</code> if this deque is empty</p></div>
<a id="L460" name="L460"></a> 460     <strong class="reserved">public</strong> E <a href="../R/24795.html" title="Multiple referred from 51 places.">poll</a>() <em class="brace">{</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">return</strong> <a href="../D/29407.html" title="Multiple defined in 15 places.">pollFirst</a>();
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      Retrieves, but does not remove, the head of the queue represented by
      this deque.  This method differs from {@link #peek peek} only in
      that it throws an exception if this deque is empty.
      <p>This method is equivalent to {@link #getFirst}.
      @return the head of the queue represented by this deque
      @throws NoSuchElementException {@inheritDoc}</p></div>
<a id="L474" name="L474"></a> 474     <strong class="reserved">public</strong> E <a href="../R/13628.html" title="Multiple referred from 1794 places.">element</a>() <em class="brace">{</em>
<a id="L475" name="L475"></a> 475         <strong class="reserved">return</strong> <a href="../D/19082.html" title="Multiple defined in 8 places.">getFirst</a>();
<a id="L476" name="L476"></a> 476     <em class="brace">}</em>
<a id="L477" name="L477"></a> 477 
<div class="comment">
      Retrieves, but does not remove, the head of the queue represented by
      this deque, or returns <code>null</code> if this deque is empty.
      <p>This method is equivalent to {@link #peekFirst}.
      @return the head of the queue represented by this deque, or
              <code>null</code> if this deque is empty</p></div>
<a id="L487" name="L487"></a> 487     <strong class="reserved">public</strong> E <a href="../R/24689.html" title="Multiple referred from 168 places.">peek</a>() <em class="brace">{</em>
<a id="L488" name="L488"></a> 488         <strong class="reserved">return</strong> <a href="../D/29294.html" title="Multiple defined in 5 places.">peekFirst</a>();
<a id="L489" name="L489"></a> 489     <em class="brace">}</em>
<a id="L490" name="L490"></a> 490 
<a id="L491" name="L491"></a> 491     <em class="comment">// *** Stack methods ***</em>
<a id="L492" name="L492"></a> 492 
<div class="comment">
      Pushes an element onto the stack represented by this deque.  In other
      words, inserts the element at the front of this deque.
      <p>This method is equivalent to {@link #addFirst}.
      @param e the element to push
      @throws NullPointerException if the specified element is null</p></div>
<a id="L502" name="L502"></a> 502     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25256.html" title="Multiple referred from 281 places.">push</a>(E e) <em class="brace">{</em>
<a id="L503" name="L503"></a> 503         <a href="../D/10807.html" title="Multiple defined in 6 places.">addFirst</a>(e);
<a id="L504" name="L504"></a> 504     <em class="brace">}</em>
<a id="L505" name="L505"></a> 505 
<div class="comment">
      Pops an element from the stack represented by this deque.  In other
      words, removes and returns the first element of this deque.
      <p>This method is equivalent to {@link #removeFirst()}.
      @return the element at the front of this deque (which is the top
              of the stack represented by this deque)
      @throws NoSuchElementException {@inheritDoc}</p></div>
<a id="L516" name="L516"></a> 516     <strong class="reserved">public</strong> E <a href="../R/24804.html" title="Multiple referred from 176 places.">pop</a>() <em class="brace">{</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">return</strong> <a href="../D/30795.html" title="Multiple defined in 5 places.">removeFirst</a>();
<a id="L518" name="L518"></a> 518     <em class="brace">}</em>
<a id="L519" name="L519"></a> 519 
<a id="L520" name="L520"></a> 520     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11209.html" title="Multiple referred from 35 places.">checkInvariants</a>() <em class="brace">{</em>
<a id="L521" name="L521"></a> 521         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[tail] == <strong class="reserved">null</strong>;
<a id="L522" name="L522"></a> 522         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> head == tail ? <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[head] == <strong class="reserved">null</strong> :
<a id="L523" name="L523"></a> 523             (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[head] != <strong class="reserved">null</strong> &amp;&amp;
<a id="L524" name="L524"></a> 524              <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[(tail - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1)] != <strong class="reserved">null</strong>);
<a id="L525" name="L525"></a> 525         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[(head - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1)] == <strong class="reserved">null</strong>;
<a id="L526" name="L526"></a> 526     <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<div class="comment">
      Removes the element at the specified position in the elements array,
      adjusting head and tail as necessary.  This can result in motion of
      elements backwards or forwards in the array.
      <p>This method is called delete rather than remove to emphasize
      that its semantics differ from those of {@link List#remove(int)}.
      @return true if elements moved backwards</p></div>
<a id="L538" name="L538"></a> 538     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/13204.html" title="Multiple referred from 51 places.">delete</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L540" name="L540"></a> 540         <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <strong class="reserved">this</strong>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>;
<a id="L541" name="L541"></a> 541         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L542" name="L542"></a> 542         <strong class="reserved">final</strong> <strong class="reserved">int</strong> h = head;
<a id="L543" name="L543"></a> 543         <strong class="reserved">final</strong> <strong class="reserved">int</strong> t = tail;
<a id="L544" name="L544"></a> 544         <strong class="reserved">final</strong> <strong class="reserved">int</strong> front = (i - h) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L545" name="L545"></a> 545         <strong class="reserved">final</strong> <strong class="reserved">int</strong> back  = (t - i) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L546" name="L546"></a> 546 
<a id="L547" name="L547"></a> 547         <em class="comment">// Invariant: head &lt;= i &lt; tail mod circularity</em>
<a id="L548" name="L548"></a> 548         <strong class="reserved">if</strong> (front &gt;= ((t - h) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>))
<a id="L549" name="L549"></a> 549             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L550" name="L550"></a> 550 
<a id="L551" name="L551"></a> 551         <em class="comment">// Optimize for least element motion</em>
<a id="L552" name="L552"></a> 552         <strong class="reserved">if</strong> (front &lt; back) <em class="brace">{</em>
<a id="L553" name="L553"></a> 553             <strong class="reserved">if</strong> (h &lt;= i) <em class="brace">{</em>
<a id="L554" name="L554"></a> 554                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, h, <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, h + 1, front);
<a id="L555" name="L555"></a> 555             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// Wrap around</em>
<a id="L556" name="L556"></a> 556                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, 0, <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, 1, i);
<a id="L557" name="L557"></a> 557                 <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[0] = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>];
<a id="L558" name="L558"></a> 558                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, h, <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, h + 1, <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> - h);
<a id="L559" name="L559"></a> 559             <em class="brace">}</em>
<a id="L560" name="L560"></a> 560             <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[h] = <strong class="reserved">null</strong>;
<a id="L561" name="L561"></a> 561             head = (h + 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L562" name="L562"></a> 562             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L563" name="L563"></a> 563         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L564" name="L564"></a> 564             <strong class="reserved">if</strong> (i &lt; t) <em class="brace">{</em> <em class="comment">// Copy the null tail as well</em>
<a id="L565" name="L565"></a> 565                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, i + 1, <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, i, back);
<a id="L566" name="L566"></a> 566                 tail = t - 1;
<a id="L567" name="L567"></a> 567             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// Wrap around</em>
<a id="L568" name="L568"></a> 568                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, i + 1, <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, i, <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> - i);
<a id="L569" name="L569"></a> 569                 <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>] = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[0];
<a id="L570" name="L570"></a> 570                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, 1, <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, 0, t);
<a id="L571" name="L571"></a> 571                 tail = (t - 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L572" name="L572"></a> 572             <em class="brace">}</em>
<a id="L573" name="L573"></a> 573             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L574" name="L574"></a> 574         <em class="brace">}</em>
<a id="L575" name="L575"></a> 575     <em class="brace">}</em>
<a id="L576" name="L576"></a> 576 
<a id="L577" name="L577"></a> 577     <em class="comment">// *** Collection Methods ***</em>
<a id="L578" name="L578"></a> 578 
<div class="comment">
      Returns the number of elements in this deque.
      @return the number of elements in this deque</div>
<a id="L584" name="L584"></a> 584     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L585" name="L585"></a> 585         <strong class="reserved">return</strong> (tail - head) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L586" name="L586"></a> 586     <em class="brace">}</em>
<a id="L587" name="L587"></a> 587 
<div class="comment">
      Returns <code>true</code> if this deque contains no elements.
      @return <code>true</code> if this deque contains no elements</div>
<a id="L593" name="L593"></a> 593     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>() <em class="brace">{</em>
<a id="L594" name="L594"></a> 594         <strong class="reserved">return</strong> head == tail;
<a id="L595" name="L595"></a> 595     <em class="brace">}</em>
<a id="L596" name="L596"></a> 596 
<div class="comment">
      Returns an iterator over the elements in this deque.  The elements
      will be ordered from first (head) to last (tail).  This is the same
      order that elements would be dequeued (via successive calls to
      {@link #remove} or popped (via successive calls to {@link #pop}).
      @return an iterator over the elements in this deque</div>
<a id="L605" name="L605"></a> 605     <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L606" name="L606"></a> 606         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/996.html#L613" title="Defined at 613 in src/java/util/ArrayDeque.java.">DeqIterator</a>();
<a id="L607" name="L607"></a> 607     <em class="brace">}</em>
<a id="L608" name="L608"></a> 608 
<a id="L609" name="L609"></a> 609     <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; descendingIterator() <em class="brace">{</em>
<a id="L610" name="L610"></a> 610         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/2396.html" title="Multiple defined in 2 places.">DescendingIterator</a>();
<a id="L611" name="L611"></a> 611     <em class="brace">}</em>
<a id="L612" name="L612"></a> 612 
<a id="L613" name="L613"></a> 613     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../S/996.html#L606" title="Referred from 606 in src/java/util/ArrayDeque.java.">DeqIterator</a> <strong class="reserved">implements</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; <em class="brace">{</em>
<div class="comment">
          Index of element to be returned by subsequent call to next.</div>
<a id="L617" name="L617"></a> 617         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = head;
<a id="L618" name="L618"></a> 618 
<div class="comment">
          Tail recorded at construction (also in remove), to stop
          iterator and also to check for comodification.</div>
<a id="L623" name="L623"></a> 623         <strong class="reserved">private</strong> <strong class="reserved">int</strong> fence = tail;
<a id="L624" name="L624"></a> 624 
<div class="comment">
          Index of element returned by most recent call to next.
          Reset to -1 if element is deleted by a call to remove.</div>
<a id="L629" name="L629"></a> 629         <strong class="reserved">private</strong> <strong class="reserved">int</strong> lastRet = -1;
<a id="L630" name="L630"></a> 630 
<a id="L631" name="L631"></a> 631         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20233.html" title="Multiple referred from 653 places.">hasNext</a>() <em class="brace">{</em>
<a id="L632" name="L632"></a> 632             <strong class="reserved">return</strong> <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> != fence;
<a id="L633" name="L633"></a> 633         <em class="brace">}</em>
<a id="L634" name="L634"></a> 634 
<a id="L635" name="L635"></a> 635         <strong class="reserved">public</strong> E <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L636" name="L636"></a> 636             <strong class="reserved">if</strong> (<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> == fence)
<a id="L637" name="L637"></a> 637                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L638" name="L638"></a> 638             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L639" name="L639"></a> 639             E <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>];
<a id="L640" name="L640"></a> 640             <em class="comment">// This check doesn't catch all possible comodifications,</em>
<a id="L641" name="L641"></a> 641             <em class="comment">// but does catch the ones that corrupt traversal</em>
<a id="L642" name="L642"></a> 642             <strong class="reserved">if</strong> (tail != fence || <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>)
<a id="L643" name="L643"></a> 643                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L644" name="L644"></a> 644             lastRet = <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>;
<a id="L645" name="L645"></a> 645             <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = (<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> + 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L646" name="L646"></a> 646             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L647" name="L647"></a> 647         <em class="brace">}</em>
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>() <em class="brace">{</em>
<a id="L650" name="L650"></a> 650             <strong class="reserved">if</strong> (lastRet &lt; 0)
<a id="L651" name="L651"></a> 651                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>();
<a id="L652" name="L652"></a> 652             <strong class="reserved">if</strong> (<a href="../D/14793.html" title="Multiple defined in 25 places.">delete</a>(lastRet)) <em class="brace">{</em> <em class="comment">// if left-shifted, undo increment in next()</em>
<a id="L653" name="L653"></a> 653                 <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = (<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L654" name="L654"></a> 654                 fence = tail;
<a id="L655" name="L655"></a> 655             <em class="brace">}</em>
<a id="L656" name="L656"></a> 656             lastRet = -1;
<a id="L657" name="L657"></a> 657         <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> E&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L660" name="L660"></a> 660             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>);
<a id="L661" name="L661"></a> 661             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>;
<a id="L662" name="L662"></a> 662             <strong class="reserved">int</strong> m = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1, f = fence, i = <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>;
<a id="L663" name="L663"></a> 663             <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = f;
<a id="L664" name="L664"></a> 664             <strong class="reserved">while</strong> (i != f) <em class="brace">{</em>
<a id="L665" name="L665"></a> 665                 @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked") E e = (E)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i];
<a id="L666" name="L666"></a> 666                 i = (i + 1) &amp; m;
<a id="L667" name="L667"></a> 667                 <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong>)
<a id="L668" name="L668"></a> 668                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L669" name="L669"></a> 669                 <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(e);
<a id="L670" name="L670"></a> 670             <em class="brace">}</em>
<a id="L671" name="L671"></a> 671         <em class="brace">}</em>
<a id="L672" name="L672"></a> 672     <em class="brace">}</em>
<a id="L673" name="L673"></a> 673 
<a id="L674" name="L674"></a> 674     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2205.html" title="Multiple referred from 2 places.">DescendingIterator</a> <strong class="reserved">implements</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; <em class="brace">{</em>
<div class="comment">
          This class is nearly a mirror-image of DeqIterator, using
          tail instead of head for initial cursor, and head instead of
          tail for fence.</div>
<a id="L680" name="L680"></a> 680         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = tail;
<a id="L681" name="L681"></a> 681         <strong class="reserved">private</strong> <strong class="reserved">int</strong> fence = head;
<a id="L682" name="L682"></a> 682         <strong class="reserved">private</strong> <strong class="reserved">int</strong> lastRet = -1;
<a id="L683" name="L683"></a> 683 
<a id="L684" name="L684"></a> 684         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20233.html" title="Multiple referred from 653 places.">hasNext</a>() <em class="brace">{</em>
<a id="L685" name="L685"></a> 685             <strong class="reserved">return</strong> <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> != fence;
<a id="L686" name="L686"></a> 686         <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<a id="L688" name="L688"></a> 688         <strong class="reserved">public</strong> E <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L689" name="L689"></a> 689             <strong class="reserved">if</strong> (<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> == fence)
<a id="L690" name="L690"></a> 690                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L691" name="L691"></a> 691             <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = (<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> - 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L692" name="L692"></a> 692             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L693" name="L693"></a> 693             E <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (E) <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>];
<a id="L694" name="L694"></a> 694             <strong class="reserved">if</strong> (head != fence || <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>)
<a id="L695" name="L695"></a> 695                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L696" name="L696"></a> 696             lastRet = <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>;
<a id="L697" name="L697"></a> 697             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L698" name="L698"></a> 698         <em class="brace">}</em>
<a id="L699" name="L699"></a> 699 
<a id="L700" name="L700"></a> 700         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>() <em class="brace">{</em>
<a id="L701" name="L701"></a> 701             <strong class="reserved">if</strong> (lastRet &lt; 0)
<a id="L702" name="L702"></a> 702                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>();
<a id="L703" name="L703"></a> 703             <strong class="reserved">if</strong> (!<a href="../D/14793.html" title="Multiple defined in 25 places.">delete</a>(lastRet)) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704                 <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = (<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> + 1) &amp; (<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L705" name="L705"></a> 705                 fence = head;
<a id="L706" name="L706"></a> 706             <em class="brace">}</em>
<a id="L707" name="L707"></a> 707             lastRet = -1;
<a id="L708" name="L708"></a> 708         <em class="brace">}</em>
<a id="L709" name="L709"></a> 709     <em class="brace">}</em>
<a id="L710" name="L710"></a> 710 
<div class="comment">
      Returns <code>true</code> if this deque contains the specified element.
      More formally, returns <code>true</code> if and only if this deque contains
      at least one element <code>e</code> such that <code>o.equals(e)</code>.
      @param o object to be checked for containment in this deque
      @return <code>true</code> if this deque contains the specified element</div>
<a id="L719" name="L719"></a> 719     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11949.html" title="Multiple referred from 682 places.">contains</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L720" name="L720"></a> 720         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>)
<a id="L721" name="L721"></a> 721             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L722" name="L722"></a> 722         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L723" name="L723"></a> 723         <strong class="reserved">int</strong> i = head;
<a id="L724" name="L724"></a> 724         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L725" name="L725"></a> 725         <strong class="reserved">while</strong> ( (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[i]) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>))
<a id="L727" name="L727"></a> 727                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L728" name="L728"></a> 728             i = (i + 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L729" name="L729"></a> 729         <em class="brace">}</em>
<a id="L730" name="L730"></a> 730         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L731" name="L731"></a> 731     <em class="brace">}</em>
<a id="L732" name="L732"></a> 732 
<div class="comment">
      Removes a single instance of the specified element from this deque.
      If the deque does not contain the element, it is unchanged.
      More formally, removes the first element <code>e</code> such that
      <code>o.equals(e)</code> (if such an element exists).
      Returns <code>true</code> if this deque contained the specified element
      (or equivalently, if this deque changed as a result of the call).
      <p>This method is equivalent to {@link #removeFirstOccurrence(Object)}.
      @param o element to be removed from this deque, if present
      @return <code>true</code> if this deque contained the specified element</p></div>
<a id="L746" name="L746"></a> 746     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L747" name="L747"></a> 747         <strong class="reserved">return</strong> <a href="../D/30796.html" title="Multiple defined in 6 places.">removeFirstOccurrence</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L748" name="L748"></a> 748     <em class="brace">}</em>
<a id="L749" name="L749"></a> 749 
<div class="comment">
      Removes all of the elements from this deque.
      The deque will be empty after this call returns.</div>
<a id="L754" name="L754"></a> 754     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L755" name="L755"></a> 755         <strong class="reserved">int</strong> h = head;
<a id="L756" name="L756"></a> 756         <strong class="reserved">int</strong> t = tail;
<a id="L757" name="L757"></a> 757         <strong class="reserved">if</strong> (h != t) <em class="brace">{</em> <em class="comment">// clear all cells</em>
<a id="L758" name="L758"></a> 758             head = tail = 0;
<a id="L759" name="L759"></a> 759             <strong class="reserved">int</strong> i = h;
<a id="L760" name="L760"></a> 760             <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L761" name="L761"></a> 761             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L762" name="L762"></a> 762                 <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[i] = <strong class="reserved">null</strong>;
<a id="L763" name="L763"></a> 763                 i = (i + 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L764" name="L764"></a> 764             <em class="brace">}</em> <strong class="reserved">while</strong> (i != t);
<a id="L765" name="L765"></a> 765         <em class="brace">}</em>
<a id="L766" name="L766"></a> 766     <em class="brace">}</em>
<a id="L767" name="L767"></a> 767 
<div class="comment">
      Returns an array containing all of the elements in this deque
      in proper sequence (from first to last element).
      <p>The returned array will be "safe" in that no references to it are
      maintained by this deque.  (In other words, this method must allocate
      a new array).  The caller is thus free to modify the returned array.
      </p><p>This method acts as bridge between array-based and collection-based
      APIs.
      @return an array containing all of the elements in this deque</p></div>
<a id="L781" name="L781"></a> 781     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../R/29213.html" title="Multiple referred from 289 places.">toArray</a>() <em class="brace">{</em>
<a id="L782" name="L782"></a> 782         <strong class="reserved">return</strong> <a href="../S/996.html#L172" title="Defined at 172 in src/java/util/ArrayDeque.java.">copyElements</a>(<strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L783" name="L783"></a> 783     <em class="brace">}</em>
<a id="L784" name="L784"></a> 784 
<div class="comment">
      Returns an array containing all of the elements in this deque in
      proper sequence (from first to last element); the runtime type of the
      returned array is that of the specified array.  If the deque fits in
      the specified array, it is returned therein.  Otherwise, a new array
      is allocated with the runtime type of the specified array and the
      size of this deque.
      <p>If this deque fits in the specified array with room to spare
      (i.e., the array has more elements than this deque), the element in
      the array immediately following the end of the deque is set to
      <code>null</code>.
      </p><p>Like the {@link #toArray()} method, this method acts as bridge between
      array-based and collection-based APIs.  Further, this method allows
      precise control over the runtime type of the output array, and may,
      under certain circumstances, be used to save allocation costs.
      </p><p>Suppose <code>x</code> is a deque known to contain only strings.
      The following code can be used to dump the deque into a newly
      allocated array of <code>String</code>:
       </p><pre> <code>String[] y = x.toArray(new String[0]);</code></pre>
      Note that <code>toArray(new Object[0])</code> is identical in function to
      <code>toArray()</code>.
      @param a the array into which the elements of the deque are to
               be stored, if it is big enough; otherwise, a new array of the
               same runtime type is allocated for this purpose
      @return an array containing all of the elements in this deque
      @throws ArrayStoreException if the runtime type of the specified array
              is not a supertype of the runtime type of every element in
              this deque
      @throws NullPointerException if the specified array is null</div>
<a id="L821" name="L821"></a> 821     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L822" name="L822"></a> 822     <strong class="reserved">public</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[] <a href="../R/29213.html" title="Multiple referred from 289 places.">toArray</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L823" name="L823"></a> 823         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L824" name="L824"></a> 824         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)
<a id="L825" name="L825"></a> 825             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = (<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[])<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.reflect.<a href="../D/487.html" title="Multiple defined in 2 places.">Array</a>.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(
<a id="L826" name="L826"></a> 826                     <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/17880.html" title="Multiple defined in 2 places.">getComponentType</a>(), <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L827" name="L827"></a> 827         <a href="../S/996.html#L172" title="Defined at 172 in src/java/util/ArrayDeque.java.">copyElements</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L828" name="L828"></a> 828         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)
<a id="L829" name="L829"></a> 829             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>] = <strong class="reserved">null</strong>;
<a id="L830" name="L830"></a> 830         <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L831" name="L831"></a> 831     <em class="brace">}</em>
<a id="L832" name="L832"></a> 832 
<a id="L833" name="L833"></a> 833     <em class="comment">// *** Object methods ***</em>
<a id="L834" name="L834"></a> 834 
<div class="comment">
      Returns a copy of this deque.
      @return a copy of this deque</div>
<a id="L840" name="L840"></a> 840     <strong class="reserved">public</strong> <a href="../S/996.html#L85" title="Defined at 85 in src/java/util/ArrayDeque.java.">ArrayDeque</a>&lt;E&gt; <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L841" name="L841"></a> 841         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L842" name="L842"></a> 842             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L843" name="L843"></a> 843             <a href="../S/996.html#L85" title="Defined at 85 in src/java/util/ArrayDeque.java.">ArrayDeque</a>&lt;E&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (<a href="../S/996.html#L85" title="Defined at 85 in src/java/util/ArrayDeque.java.">ArrayDeque</a>&lt;E&gt;) <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L844" name="L844"></a> 844             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>, <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L845" name="L845"></a> 845             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L846" name="L846"></a> 846         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L847" name="L847"></a> 847             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>();
<a id="L848" name="L848"></a> 848         <em class="brace">}</em>
<a id="L849" name="L849"></a> 849     <em class="brace">}</em>
<a id="L850" name="L850"></a> 850 
<a id="L851" name="L851"></a> 851     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 2340985798034038923L;
<a id="L852" name="L852"></a> 852 
<div class="comment">
      Saves this deque to a stream (that is, serializes it).
      @serialData The current size (<code>int</code>) of the deque,
      followed by all of its elements (each an object reference) in
      first-to-last order.</div>
<a id="L860" name="L860"></a> 860     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L861" name="L861"></a> 861             <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L862" name="L862"></a> 862         s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L863" name="L863"></a> 863 
<a id="L864" name="L864"></a> 864         <em class="comment">// Write out size</em>
<a id="L865" name="L865"></a> 865         s.<a href="../D/37085.html" title="Multiple defined in 12 places.">writeInt</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L866" name="L866"></a> 866 
<a id="L867" name="L867"></a> 867         <em class="comment">// Write out elements in order.</em>
<a id="L868" name="L868"></a> 868         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1;
<a id="L869" name="L869"></a> 869         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = head; i != tail; i = (i + 1) &amp; <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>)
<a id="L870" name="L870"></a> 870             s.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[i]);
<a id="L871" name="L871"></a> 871     <em class="brace">}</em>
<a id="L872" name="L872"></a> 872 
<div class="comment">
      Reconstitutes this deque from a stream (that is, deserializes it).</div>
<a id="L876" name="L876"></a> 876     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L877" name="L877"></a> 877             <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L878" name="L878"></a> 878         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L879" name="L879"></a> 879 
<a id="L880" name="L880"></a> 880         <em class="comment">// Read in size and allocate array</em>
<a id="L881" name="L881"></a> 881         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = s.<a href="../D/30206.html" title="Multiple defined in 10 places.">readInt</a>();
<a id="L882" name="L882"></a> 882         <a href="../S/996.html#L126" title="Defined at 126 in src/java/util/ArrayDeque.java.">allocateElements</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L883" name="L883"></a> 883         head = 0;
<a id="L884" name="L884"></a> 884         tail = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L885" name="L885"></a> 885 
<a id="L886" name="L886"></a> 886         <em class="comment">// Read in all elements in the proper order.</em>
<a id="L887" name="L887"></a> 887         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++)
<a id="L888" name="L888"></a> 888             <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>[i] = s.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L889" name="L889"></a> 889     <em class="brace">}</em>
<a id="L890" name="L890"></a> 890 
<div class="comment">
      Creates a <em><a href="Spliterator.html#binding">late-binding</a></em>
      and <em>fail-fast</em> {@link Spliterator} over the elements in this
      deque.
      <p>The <code>Spliterator</code> reports {@link Spliterator#SIZED},
      {@link Spliterator#SUBSIZED}, {@link Spliterator#ORDERED}, and
      {@link Spliterator#NONNULL}.  Overriding implementations should document
      the reporting of additional characteristic values.
      @return a <code>Spliterator</code> over the elements in this deque
      @since 1.8</p></div>
<a id="L904" name="L904"></a> 904     <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;E&gt; <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L905" name="L905"></a> 905         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/996.html#L908" title="Defined at 908 in src/java/util/ArrayDeque.java.">DeqSpliterator</a>&lt;E&gt;(<strong class="reserved">this</strong>, -1, -1);
<a id="L906" name="L906"></a> 906     <em class="brace">}</em>
<a id="L907" name="L907"></a> 907 
<a id="L908" name="L908"></a> 908     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2195.html" title="Multiple referred from 3 places.">DeqSpliterator</a>&lt;E&gt; <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;E&gt; <em class="brace">{</em>
<a id="L909" name="L909"></a> 909         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/996.html#L85" title="Defined at 85 in src/java/util/ArrayDeque.java.">ArrayDeque</a>&lt;E&gt; deq;
<a id="L910" name="L910"></a> 910         <strong class="reserved">private</strong> <strong class="reserved">int</strong> fence;  <em class="comment">// -1 until first use</em>
<a id="L911" name="L911"></a> 911         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;  <em class="comment">// current index, modified on traverse/split</em>
<a id="L912" name="L912"></a> 912 
<div class="comment">
         /** Creates new spliterator covering the given array and range */</div>
<a id="L914" name="L914"></a> 914         DeqSpliterator(<a href="../S/996.html#L85" title="Defined at 85 in src/java/util/ArrayDeque.java.">ArrayDeque</a>&lt;E&gt; deq, <strong class="reserved">int</strong> origin, <strong class="reserved">int</strong> fence) <em class="brace">{</em>
<a id="L915" name="L915"></a> 915             <strong class="reserved">this</strong>.deq = deq;
<a id="L916" name="L916"></a> 916             <strong class="reserved">this</strong>.<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = origin;
<a id="L917" name="L917"></a> 917             <strong class="reserved">this</strong>.fence = fence;
<a id="L918" name="L918"></a> 918         <em class="brace">}</em>
<a id="L919" name="L919"></a> 919 
<a id="L920" name="L920"></a> 920         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/16544.html" title="Multiple referred from 40 places.">getFence</a>() <em class="brace">{</em> <em class="comment">// force initialization</em>
<a id="L921" name="L921"></a> 921             <strong class="reserved">int</strong> t;
<a id="L922" name="L922"></a> 922             <strong class="reserved">if</strong> ((t = fence) &lt; 0) <em class="brace">{</em>
<a id="L923" name="L923"></a> 923                 t = fence = deq.tail;
<a id="L924" name="L924"></a> 924                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = deq.head;
<a id="L925" name="L925"></a> 925             <em class="brace">}</em>
<a id="L926" name="L926"></a> 926             <strong class="reserved">return</strong> t;
<a id="L927" name="L927"></a> 927         <em class="brace">}</em>
<a id="L928" name="L928"></a> 928 
<a id="L929" name="L929"></a> 929         <strong class="reserved">public</strong> <a href="../S/996.html#L908" title="Defined at 908 in src/java/util/ArrayDeque.java.">DeqSpliterator</a>&lt;E&gt; <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L930" name="L930"></a> 930             <strong class="reserved">int</strong> t = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>(), h = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, n = deq.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L931" name="L931"></a> 931             <strong class="reserved">if</strong> (h != t &amp;&amp; ((h + 1) &amp; (n - 1)) != t) <em class="brace">{</em>
<a id="L932" name="L932"></a> 932                 <strong class="reserved">if</strong> (h &gt; t)
<a id="L933" name="L933"></a> 933                     t += n;
<a id="L934" name="L934"></a> 934                 <strong class="reserved">int</strong> m = ((h + t) &gt;&gt;&gt; 1) &amp; (n - 1);
<a id="L935" name="L935"></a> 935                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/996.html#L908" title="Defined at 908 in src/java/util/ArrayDeque.java.">DeqSpliterator</a>&lt;&gt;(deq, h, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = m);
<a id="L936" name="L936"></a> 936             <em class="brace">}</em>
<a id="L937" name="L937"></a> 937             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L938" name="L938"></a> 938         <em class="brace">}</em>
<a id="L939" name="L939"></a> 939 
<a id="L940" name="L940"></a> 940         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> E&gt; consumer) <em class="brace">{</em>
<a id="L941" name="L941"></a> 941             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>)
<a id="L942" name="L942"></a> 942                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L943" name="L943"></a> 943             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = deq.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>;
<a id="L944" name="L944"></a> 944             <strong class="reserved">int</strong> m = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1, f = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>(), i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L945" name="L945"></a> 945             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = f;
<a id="L946" name="L946"></a> 946             <strong class="reserved">while</strong> (i != f) <em class="brace">{</em>
<a id="L947" name="L947"></a> 947                 @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked") E e = (E)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i];
<a id="L948" name="L948"></a> 948                 i = (i + 1) &amp; m;
<a id="L949" name="L949"></a> 949                 <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong>)
<a id="L950" name="L950"></a> 950                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L951" name="L951"></a> 951                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(e);
<a id="L952" name="L952"></a> 952             <em class="brace">}</em>
<a id="L953" name="L953"></a> 953         <em class="brace">}</em>
<a id="L954" name="L954"></a> 954 
<a id="L955" name="L955"></a> 955         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> E&gt; consumer) <em class="brace">{</em>
<a id="L956" name="L956"></a> 956             <strong class="reserved">if</strong> (consumer == <strong class="reserved">null</strong>)
<a id="L957" name="L957"></a> 957                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L958" name="L958"></a> 958             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = deq.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>;
<a id="L959" name="L959"></a> 959             <strong class="reserved">int</strong> m = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1, f = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>(), i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L960" name="L960"></a> 960             <strong class="reserved">if</strong> (i != fence) <em class="brace">{</em>
<a id="L961" name="L961"></a> 961                 @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked") E e = (E)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>[i];
<a id="L962" name="L962"></a> 962                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = (i + 1) &amp; m;
<a id="L963" name="L963"></a> 963                 <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong>)
<a id="L964" name="L964"></a> 964                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L965" name="L965"></a> 965                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(e);
<a id="L966" name="L966"></a> 966                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L967" name="L967"></a> 967             <em class="brace">}</em>
<a id="L968" name="L968"></a> 968             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L969" name="L969"></a> 969         <em class="brace">}</em>
<a id="L970" name="L970"></a> 970 
<a id="L971" name="L971"></a> 971         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/14042.html" title="Multiple referred from 29 places.">estimateSize</a>() <em class="brace">{</em>
<a id="L972" name="L972"></a> 972             <strong class="reserved">int</strong> n = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>() - <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L973" name="L973"></a> 973             <strong class="reserved">if</strong> (n &lt; 0)
<a id="L974" name="L974"></a> 974                 n += deq.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L975" name="L975"></a> 975             <strong class="reserved">return</strong> (<strong class="reserved">long</strong>) n;
<a id="L976" name="L976"></a> 976         <em class="brace">}</em>
<a id="L977" name="L977"></a> 977 
<a id="L978" name="L978"></a> 978         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L979" name="L979"></a> 979         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L980" name="L980"></a> 980             <strong class="reserved">return</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L281" title="Defined at 281 in src/java/util/stream/StreamOpFlag.java.">ORDERED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L296" title="Defined at 296 in src/java/util/stream/StreamOpFlag.java.">SIZED</a> |
<a id="L981" name="L981"></a> 981                 <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.NONNULL | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.SUBSIZED;
<a id="L982" name="L982"></a> 982         <em class="brace">}</em>
<a id="L983" name="L983"></a> 983     <em class="brace">}</em>
<a id="L984" name="L984"></a> 984 
<a id="L985" name="L985"></a> 985 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L126">[^]</a><a href="#L979">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>