<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/image/AffineTransformOp.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L172">[^]</a><a href="#L556">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L172" title="Defined at 172.">getInterpolationType</a></li>
<li><a href="#L211" title="Defined at 211.">filter</a></li>
<li><a href="#L338" title="Defined at 338.">filter</a></li>
<li><a href="#L374" title="Defined at 374.">getBounds2D</a></li>
<li><a href="#L389" title="Defined at 389.">getBounds2D</a></li>
<li><a href="#L436" title="Defined at 436.">createCompatibleDestImage</a></li>
<li><a href="#L489" title="Defined at 489.">createCompatibleDestRaster</a></li>
<li><a href="#L510" title="Defined at 510.">getPoint2D</a></li>
<li><a href="#L519" title="Defined at 519.">getTransform</a></li>
<li><a href="#L528" title="Defined at 528.">getRenderingHints</a></li>
<li><a href="#L556" title="Defined at 556.">validateTransform</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.image;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.geom.AffineTransform;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.geom.NoninvertibleTransformException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.geom.Rectangle2D;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.awt.geom.Point2D;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.awt.AlphaComposite;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.awt.GraphicsEnvironment;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.awt.Rectangle;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.awt.RenderingHints;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.awt.Transparency;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.lang.annotation.Native;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> sun.awt.image.ImagingLib;
<a id="L39" name="L39"></a>  39 
<div class="comment">
  This class uses an affine transform to perform a linear mapping from
  2D coordinates in the source image or <code>Raster</code> to 2D coordinates
  in the destination image or <code>Raster</code>.
  The type of interpolation that is used is specified through a constructor,
  either by a <code>RenderingHints</code> object or by one of the integer
  interpolation types defined in this class.
  <p>
  If a <code>RenderingHints</code> object is specified in the constructor, the
  interpolation hint and the rendering quality hint are used to set
  the interpolation type for this operation.  The color rendering hint
  and the dithering hint can be used when color conversion is required.
  </p><p>
  Note that the following constraints have to be met:
  </p><ul><li>The source and destination must be different.
  </li><li>For <code>Raster</code> objects, the number of bands in the source must
  be equal to the number of bands in the destination.
  </li></ul>
  @see AffineTransform
  @see BufferedImageFilter
  @see java.awt.RenderingHints#KEY_INTERPOLATION
  @see java.awt.RenderingHints#KEY_RENDERING
  @see java.awt.RenderingHints#KEY_COLOR_RENDERING
  @see java.awt.RenderingHints#KEY_DITHERING</div>
<a id="L66" name="L66"></a>  66 <strong class="reserved">public</strong> <strong class="reserved">class</strong> AffineTransformOp <strong class="reserved">implements</strong> <a href="../S/2237.html#L61" title="Defined at 61 in src/java/awt/image/BufferedImageOp.java.">BufferedImageOp</a>, <a href="../S/2234.html#L52" title="Defined at 52 in src/java/awt/image/RasterOp.java.">RasterOp</a> <em class="brace">{</em>
<a id="L67" name="L67"></a>  67     <strong class="reserved">private</strong> <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform;
<a id="L68" name="L68"></a>  68     <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> hints;
<a id="L69" name="L69"></a>  69 
<div class="comment">
      Nearest-neighbor interpolation type.</div>
<a id="L73" name="L73"></a>  73     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_NEAREST_NEIGHBOR = 1;
<a id="L74" name="L74"></a>  74 
<div class="comment">
      Bilinear interpolation type.</div>
<a id="L78" name="L78"></a>  78     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_BILINEAR = 2;
<a id="L79" name="L79"></a>  79 
<div class="comment">
      Bicubic interpolation type.</div>
<a id="L83" name="L83"></a>  83     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_BICUBIC = 3;
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85     <strong class="reserved">int</strong> interpolationType = TYPE_NEAREST_NEIGHBOR;
<a id="L86" name="L86"></a>  86 
<div class="comment">
      Constructs an <code>AffineTransformOp</code> given an affine transform.
      The interpolation type is determined from the
      <code>RenderingHints</code> object.  If the interpolation hint is
      defined, it will be used. Otherwise, if the rendering quality hint is
      defined, the interpolation type is determined from its value.  If no
      hints are specified (<code>hints</code> is null),
      the interpolation type is {@link #TYPE_NEAREST_NEIGHBOR
      TYPE_NEAREST_NEIGHBOR}.
      @param xform The <code>AffineTransform</code> to use for the
      operation.
      @param hints The <code>RenderingHints</code> object used to specify
      the interpolation type for the operation.
      @throws ImagingOpException if the transform is non-invertible.
      @see java.awt.RenderingHints#KEY_INTERPOLATION
      @see java.awt.RenderingHints#KEY_RENDERING</div>
<a id="L107" name="L107"></a> 107     <strong class="reserved">public</strong> AffineTransformOp(<a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform, <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> hints)<em class="brace">{</em>
<a id="L108" name="L108"></a> 108         <a href="../S/2245.html#L556" title="Defined at 556 in src/java/awt/image/AffineTransformOp.java.">validateTransform</a>(xform);
<a id="L109" name="L109"></a> 109         <strong class="reserved">this</strong>.xform = (<a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a>) xform.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L110" name="L110"></a> 110         <strong class="reserved">this</strong>.hints = hints;
<a id="L111" name="L111"></a> 111 
<a id="L112" name="L112"></a> 112         <strong class="reserved">if</strong> (hints != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L113" name="L113"></a> 113             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = hints.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(hints.KEY_INTERPOLATION);
<a id="L114" name="L114"></a> 114             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L115" name="L115"></a> 115                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = hints.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(hints.KEY_RENDERING);
<a id="L116" name="L116"></a> 116                 <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == hints.VALUE_RENDER_SPEED) <em class="brace">{</em>
<a id="L117" name="L117"></a> 117                     interpolationType = TYPE_NEAREST_NEIGHBOR;
<a id="L118" name="L118"></a> 118                 <em class="brace">}</em>
<a id="L119" name="L119"></a> 119                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == hints.VALUE_RENDER_QUALITY) <em class="brace">{</em>
<a id="L120" name="L120"></a> 120                     interpolationType = TYPE_BILINEAR;
<a id="L121" name="L121"></a> 121                 <em class="brace">}</em>
<a id="L122" name="L122"></a> 122             <em class="brace">}</em>
<a id="L123" name="L123"></a> 123             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == hints.VALUE_INTERPOLATION_NEAREST_NEIGHBOR) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124                 interpolationType = TYPE_NEAREST_NEIGHBOR;
<a id="L125" name="L125"></a> 125             <em class="brace">}</em>
<a id="L126" name="L126"></a> 126             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == hints.VALUE_INTERPOLATION_BILINEAR) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127                 interpolationType = TYPE_BILINEAR;
<a id="L128" name="L128"></a> 128             <em class="brace">}</em>
<a id="L129" name="L129"></a> 129             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == hints.VALUE_INTERPOLATION_BICUBIC) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130                 interpolationType = TYPE_BICUBIC;
<a id="L131" name="L131"></a> 131             <em class="brace">}</em>
<a id="L132" name="L132"></a> 132         <em class="brace">}</em>
<a id="L133" name="L133"></a> 133         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L134" name="L134"></a> 134             interpolationType = TYPE_NEAREST_NEIGHBOR;
<a id="L135" name="L135"></a> 135         <em class="brace">}</em>
<a id="L136" name="L136"></a> 136     <em class="brace">}</em>
<a id="L137" name="L137"></a> 137 
<div class="comment">
      Constructs an <code>AffineTransformOp</code> given an affine transform
      and the interpolation type.
      @param xform The <code>AffineTransform</code> to use for the operation.
      @param interpolationType One of the integer
      interpolation type constants defined by this class:
      {@link #TYPE_NEAREST_NEIGHBOR TYPE_NEAREST_NEIGHBOR},
      {@link #TYPE_BILINEAR TYPE_BILINEAR},
      {@link #TYPE_BICUBIC TYPE_BICUBIC}.
      @throws ImagingOpException if the transform is non-invertible.</div>
<a id="L150" name="L150"></a> 150     <strong class="reserved">public</strong> AffineTransformOp(<a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform, <strong class="reserved">int</strong> interpolationType) <em class="brace">{</em>
<a id="L151" name="L151"></a> 151         <a href="../S/2245.html#L556" title="Defined at 556 in src/java/awt/image/AffineTransformOp.java.">validateTransform</a>(xform);
<a id="L152" name="L152"></a> 152         <strong class="reserved">this</strong>.xform = (<a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a>)xform.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L153" name="L153"></a> 153         <strong class="reserved">switch</strong>(interpolationType) <em class="brace">{</em>
<a id="L154" name="L154"></a> 154             <strong class="reserved">case</strong> TYPE_NEAREST_NEIGHBOR:
<a id="L155" name="L155"></a> 155             <strong class="reserved">case</strong> TYPE_BILINEAR:
<a id="L156" name="L156"></a> 156             <strong class="reserved">case</strong> TYPE_BICUBIC:
<a id="L157" name="L157"></a> 157                 <strong class="reserved">break</strong>;
<a id="L158" name="L158"></a> 158         <strong class="reserved">default</strong>:
<a id="L159" name="L159"></a> 159             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Unknown interpolation type: "+
<a id="L160" name="L160"></a> 160                                                interpolationType);
<a id="L161" name="L161"></a> 161         <em class="brace">}</em>
<a id="L162" name="L162"></a> 162         <strong class="reserved">this</strong>.interpolationType = interpolationType;
<a id="L163" name="L163"></a> 163     <em class="brace">}</em>
<a id="L164" name="L164"></a> 164 
<div class="comment">
      Returns the interpolation type used by this op.
      @return the interpolation type.
      @see #TYPE_NEAREST_NEIGHBOR
      @see #TYPE_BILINEAR
      @see #TYPE_BICUBIC</div>
<a id="L172" name="L172"></a> 172     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> getInterpolationType() <em class="brace">{</em>
<a id="L173" name="L173"></a> 173         <strong class="reserved">return</strong> interpolationType;
<a id="L174" name="L174"></a> 174     <em class="brace">}</em>
<a id="L175" name="L175"></a> 175 
<div class="comment">
      Transforms the source <code>BufferedImage</code> and stores the results
      in the destination <code>BufferedImage</code>.
      If the color models for the two images do not match, a color
      conversion into the destination color model is performed.
      If the destination image is null,
      a <code>BufferedImage</code> is created with the source
      <code>ColorModel</code>.
      <p>
      The coordinates of the rectangle returned by
      <code>getBounds2D(BufferedImage)</code>
      are not necessarily the same as the coordinates of the
      <code>BufferedImage</code> returned by this method.  If the
      upper-left corner coordinates of the rectangle are
      negative then this part of the rectangle is not drawn.  If the
      upper-left corner coordinates of the  rectangle are positive
      then the filtered image is drawn at that position in the
      destination <code>BufferedImage</code>.
      </p><p>
      An <code>IllegalArgumentException</code> is thrown if the source is
      the same as the destination.
      @param src The <code>BufferedImage</code> to transform.
      @param dst The <code>BufferedImage</code> in which to store the results
      of the transformation.
      @return The filtered <code>BufferedImage</code>.
      @throws IllegalArgumentException if <code>src</code> and
              <code>dst</code> are the same
      @throws ImagingOpException if the image cannot be transformed
              because of a data-processing error that might be
              caused by an invalid image format, tile format, or
              image-processing operation, or any other unsupported
              operation.</p></div>
<a id="L211" name="L211"></a> 211     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> <a href="../R/14321.html" title="Multiple referred from 472 places.">filter</a>(<a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> src, <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> dst) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213         <strong class="reserved">if</strong> (src == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("src image is null");
<a id="L215" name="L215"></a> 215         <em class="brace">}</em>
<a id="L216" name="L216"></a> 216         <strong class="reserved">if</strong> (src == dst) <em class="brace">{</em>
<a id="L217" name="L217"></a> 217             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("src image cannot be the "+
<a id="L218" name="L218"></a> 218                                                "same as the dst image");
<a id="L219" name="L219"></a> 219         <em class="brace">}</em>
<a id="L220" name="L220"></a> 220 
<a id="L221" name="L221"></a> 221         <strong class="reserved">boolean</strong> needToConvert = <strong class="reserved">false</strong>;
<a id="L222" name="L222"></a> 222         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> srcCM = src.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>();
<a id="L223" name="L223"></a> 223         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> dstCM;
<a id="L224" name="L224"></a> 224         <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> origDst = dst;
<a id="L225" name="L225"></a> 225 
<a id="L226" name="L226"></a> 226         <strong class="reserved">if</strong> (dst == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227             dst = <a href="../D/13704.html" title="Multiple defined in 7 places.">createCompatibleDestImage</a>(src, <strong class="reserved">null</strong>);
<a id="L228" name="L228"></a> 228             dstCM = srcCM;
<a id="L229" name="L229"></a> 229             origDst = dst;
<a id="L230" name="L230"></a> 230         <em class="brace">}</em>
<a id="L231" name="L231"></a> 231         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L232" name="L232"></a> 232             dstCM = dst.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>();
<a id="L233" name="L233"></a> 233             <strong class="reserved">if</strong> (srcCM.<a href="../D/17792.html" title="Multiple defined in 3 places.">getColorSpace</a>().<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() !=
<a id="L234" name="L234"></a> 234                 dstCM.<a href="../D/17792.html" title="Multiple defined in 3 places.">getColorSpace</a>().<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>())
<a id="L235" name="L235"></a> 235             <em class="brace">{</em>
<a id="L236" name="L236"></a> 236                 <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = xform.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L237" name="L237"></a> 237                 <strong class="reserved">boolean</strong> needTrans = ((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>&amp;
<a id="L238" name="L238"></a> 238                                       (xform.TYPE_MASK_ROTATION|
<a id="L239" name="L239"></a> 239                                        xform.TYPE_GENERAL_TRANSFORM))
<a id="L240" name="L240"></a> 240                                      != 0);
<a id="L241" name="L241"></a> 241                 <strong class="reserved">if</strong> (! needTrans &amp;&amp; <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != xform.TYPE_TRANSLATION &amp;&amp; <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != xform.TYPE_IDENTITY)
<a id="L242" name="L242"></a> 242                 <em class="brace">{</em>
<a id="L243" name="L243"></a> 243                     <strong class="reserved">double</strong>[] mtx = <strong class="reserved">new</strong> <strong class="reserved">double</strong>[4];
<a id="L244" name="L244"></a> 244                     xform.<a href="../D/20416.html" title="Multiple defined in 4 places.">getMatrix</a>(mtx);
<a id="L245" name="L245"></a> 245                     <em class="comment">// Check out the matrix.  A non-integral scale will force ARGB</em>
<a id="L246" name="L246"></a> 246                     <em class="comment">// since the edge conditions can't be guaranteed.</em>
<a id="L247" name="L247"></a> 247                     needTrans = (mtx[0] != (<strong class="reserved">int</strong>)mtx[0] || mtx[3] != (<strong class="reserved">int</strong>)mtx[3]);
<a id="L248" name="L248"></a> 248                 <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250                 <strong class="reserved">if</strong> (needTrans &amp;&amp;
<a id="L251" name="L251"></a> 251                     srcCM.<a href="../D/23273.html" title="Multiple defined in 9 places.">getTransparency</a>() == <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.OPAQUE)
<a id="L252" name="L252"></a> 252                 <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                     <em class="comment">// Need to convert first</em>
<a id="L254" name="L254"></a> 254                     <a href="../S/2278.html#L71" title="Defined at 71 in src/java/awt/image/ColorConvertOp.java.">ColorConvertOp</a> ccop = <strong class="reserved">new</strong> <a href="../S/2278.html#L71" title="Defined at 71 in src/java/awt/image/ColorConvertOp.java.">ColorConvertOp</a>(hints);
<a id="L255" name="L255"></a> 255                     <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> tmpSrc = <strong class="reserved">null</strong>;
<a id="L256" name="L256"></a> 256                     <strong class="reserved">int</strong> sw = src.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L257" name="L257"></a> 257                     <strong class="reserved">int</strong> sh = src.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L258" name="L258"></a> 258                     <strong class="reserved">if</strong> (dstCM.<a href="../D/23273.html" title="Multiple defined in 9 places.">getTransparency</a>() == <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.OPAQUE) <em class="brace">{</em>
<a id="L259" name="L259"></a> 259                         tmpSrc = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(sw, sh,
<a id="L260" name="L260"></a> 260                                                   <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>.TYPE_INT_ARGB);
<a id="L261" name="L261"></a> 261                     <em class="brace">}</em>
<a id="L262" name="L262"></a> 262                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L263" name="L263"></a> 263                         <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> r =
<a id="L264" name="L264"></a> 264                             dstCM.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(sw, sh);
<a id="L265" name="L265"></a> 265                         tmpSrc = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(dstCM, r,
<a id="L266" name="L266"></a> 266                                                   dstCM.<a href="../D/25179.html" title="Multiple defined in 2 places.">isAlphaPremultiplied</a>(),
<a id="L267" name="L267"></a> 267                                                   <strong class="reserved">null</strong>);
<a id="L268" name="L268"></a> 268                     <em class="brace">}</em>
<a id="L269" name="L269"></a> 269                     src = ccop.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(src, tmpSrc);
<a id="L270" name="L270"></a> 270                 <em class="brace">}</em>
<a id="L271" name="L271"></a> 271                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L272" name="L272"></a> 272                     needToConvert = <strong class="reserved">true</strong>;
<a id="L273" name="L273"></a> 273                     dst = <a href="../D/13704.html" title="Multiple defined in 7 places.">createCompatibleDestImage</a>(src, <strong class="reserved">null</strong>);
<a id="L274" name="L274"></a> 274                 <em class="brace">}</em>
<a id="L275" name="L275"></a> 275             <em class="brace">}</em>
<a id="L276" name="L276"></a> 276 
<a id="L277" name="L277"></a> 277         <em class="brace">}</em>
<a id="L278" name="L278"></a> 278 
<a id="L279" name="L279"></a> 279         <strong class="reserved">if</strong> (interpolationType != TYPE_NEAREST_NEIGHBOR &amp;&amp;
<a id="L280" name="L280"></a> 280             dst.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>() <strong class="reserved">instanceof</strong> <a href="../S/2242.html#L125" title="Defined at 125 in src/java/awt/image/IndexColorModel.java.">IndexColorModel</a>) <em class="brace">{</em>
<a id="L281" name="L281"></a> 281             dst = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(dst.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(), dst.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(),
<a id="L282" name="L282"></a> 282                                     <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>.TYPE_INT_ARGB);
<a id="L283" name="L283"></a> 283         <em class="brace">}</em>
<a id="L284" name="L284"></a> 284         <strong class="reserved">if</strong> (ImagingLib.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(<strong class="reserved">this</strong>, src, dst) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2228.html#L34" title="Defined at 34 in src/java/awt/image/ImagingOpException.java.">ImagingOpException</a> ("Unable to transform src image");
<a id="L286" name="L286"></a> 286         <em class="brace">}</em>
<a id="L287" name="L287"></a> 287 
<a id="L288" name="L288"></a> 288         <strong class="reserved">if</strong> (needToConvert) <em class="brace">{</em>
<a id="L289" name="L289"></a> 289             <a href="../S/2278.html#L71" title="Defined at 71 in src/java/awt/image/ColorConvertOp.java.">ColorConvertOp</a> ccop = <strong class="reserved">new</strong> <a href="../S/2278.html#L71" title="Defined at 71 in src/java/awt/image/ColorConvertOp.java.">ColorConvertOp</a>(hints);
<a id="L290" name="L290"></a> 290             ccop.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(dst, origDst);
<a id="L291" name="L291"></a> 291         <em class="brace">}</em>
<a id="L292" name="L292"></a> 292         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (origDst != dst) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293             <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.<a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a> g = origDst.<a href="../D/13920.html" title="Multiple defined in 4 places.">createGraphics</a>();
<a id="L294" name="L294"></a> 294             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L295" name="L295"></a> 295                 g.<a href="../S/2098.html#L859" title="Defined at 859 in src/java/awt/Graphics2D.java.">setComposite</a>(<a href="../S/2356.html#L346" title="Defined at 346 in src/java/awt/AlphaComposite.java.">AlphaComposite</a>.Src);
<a id="L296" name="L296"></a> 296                 g.<a href="../D/15196.html" title="Multiple defined in 16 places.">drawImage</a>(dst, 0, 0, <strong class="reserved">null</strong>);
<a id="L297" name="L297"></a> 297             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L298" name="L298"></a> 298                 g.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L299" name="L299"></a> 299             <em class="brace">}</em>
<a id="L300" name="L300"></a> 300         <em class="brace">}</em>
<a id="L301" name="L301"></a> 301 
<a id="L302" name="L302"></a> 302         <strong class="reserved">return</strong> origDst;
<a id="L303" name="L303"></a> 303     <em class="brace">}</em>
<a id="L304" name="L304"></a> 304 
<div class="comment">
      Transforms the source <code>Raster</code> and stores the results in
      the destination <code>Raster</code>.  This operation performs the
      transform band by band.
      <p>
      If the destination <code>Raster</code> is null, a new
      <code>Raster</code> is created.
      An <code>IllegalArgumentException</code> may be thrown if the source is
      the same as the destination or if the number of bands in
      the source is not equal to the number of bands in the
      destination.
      </p><p>
      The coordinates of the rectangle returned by
      <code>getBounds2D(Raster)</code>
      are not necessarily the same as the coordinates of the
      <code>WritableRaster</code> returned by this method.  If the
      upper-left corner coordinates of rectangle are negative then
      this part of the rectangle is not drawn.  If the coordinates
      of the rectangle are positive then the filtered image is drawn at
      that position in the destination <code>Raster</code>.
      </p><p>
      @param src The <code>Raster</code> to transform.
      @param dst The <code>Raster</code> in which to store the results of the
      transformation.
      @return The transformed <code>Raster</code>.
      @throws ImagingOpException if the raster cannot be transformed
              because of a data-processing error that might be
              caused by an invalid image format, tile format, or
              image-processing operation, or any other unsupported
              operation.</p></div>
<a id="L338" name="L338"></a> 338     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/14321.html" title="Multiple referred from 472 places.">filter</a>(<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> src, <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> dst) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339         <strong class="reserved">if</strong> (src == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L340" name="L340"></a> 340             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("src image is null");
<a id="L341" name="L341"></a> 341         <em class="brace">}</em>
<a id="L342" name="L342"></a> 342         <strong class="reserved">if</strong> (dst == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343             dst = <a href="../D/13705.html" title="Multiple defined in 7 places.">createCompatibleDestRaster</a>(src);
<a id="L344" name="L344"></a> 344         <em class="brace">}</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">if</strong> (src == dst) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("src image cannot be the "+
<a id="L347" name="L347"></a> 347                                                "same as the dst image");
<a id="L348" name="L348"></a> 348         <em class="brace">}</em>
<a id="L349" name="L349"></a> 349         <strong class="reserved">if</strong> (src.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>() != dst.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>()) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of src bands ("+
<a id="L351" name="L351"></a> 351                                                src.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>()+
<a id="L352" name="L352"></a> 352                                                ") does not match number of "+
<a id="L353" name="L353"></a> 353                                                " dst bands ("+
<a id="L354" name="L354"></a> 354                                                dst.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>()+")");
<a id="L355" name="L355"></a> 355         <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<a id="L357" name="L357"></a> 357         <strong class="reserved">if</strong> (ImagingLib.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(<strong class="reserved">this</strong>, src, dst) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2228.html#L34" title="Defined at 34 in src/java/awt/image/ImagingOpException.java.">ImagingOpException</a> ("Unable to transform src image");
<a id="L359" name="L359"></a> 359         <em class="brace">}</em>
<a id="L360" name="L360"></a> 360         <strong class="reserved">return</strong> dst;
<a id="L361" name="L361"></a> 361     <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<div class="comment">
      Returns the bounding box of the transformed destination.  The
      rectangle returned is the actual bounding box of the
      transformed points.  The coordinates of the upper-left corner
      of the returned rectangle might not be (0,&nbsp;0).
      @param src The <code>BufferedImage</code> to be transformed.
      @return The <code>Rectangle2D</code> representing the destination's
      bounding box.</div>
<a id="L374" name="L374"></a> 374     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> <a href="../R/15323.html" title="Multiple referred from 370 places.">getBounds2D</a> (<a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> src) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375         <strong class="reserved">return</strong> <a href="../D/17336.html" title="Multiple defined in 36 places.">getBounds2D</a>(src.<a href="../D/21845.html" title="Multiple defined in 8 places.">getRaster</a>());
<a id="L376" name="L376"></a> 376     <em class="brace">}</em>
<a id="L377" name="L377"></a> 377 
<div class="comment">
      Returns the bounding box of the transformed destination.  The
      rectangle returned will be the actual bounding box of the
      transformed points.  The coordinates of the upper-left corner
      of the returned rectangle might not be (0,&nbsp;0).
      @param src The <code>Raster</code> to be transformed.
      @return The <code>Rectangle2D</code> representing the destination's
      bounding box.</div>
<a id="L389" name="L389"></a> 389     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> <a href="../R/15323.html" title="Multiple referred from 370 places.">getBounds2D</a> (<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> src) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390         <strong class="reserved">int</strong> w = src.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L391" name="L391"></a> 391         <strong class="reserved">int</strong> h = src.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L392" name="L392"></a> 392 
<a id="L393" name="L393"></a> 393         <em class="comment">// Get the bounding box of the src and transform the corners</em>
<a id="L394" name="L394"></a> 394         <strong class="reserved">float</strong>[] pts = <em class="brace">{</em>0, 0, w, 0, w, h, 0, h<em class="brace">}</em>;
<a id="L395" name="L395"></a> 395         xform.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a>(pts, 0, pts, 0, 4);
<a id="L396" name="L396"></a> 396 
<a id="L397" name="L397"></a> 397         <em class="comment">// Get the min, max of the dst</em>
<a id="L398" name="L398"></a> 398         <strong class="reserved">float</strong> fmaxX = pts[0];
<a id="L399" name="L399"></a> 399         <strong class="reserved">float</strong> fmaxY = pts[1];
<a id="L400" name="L400"></a> 400         <strong class="reserved">float</strong> fminX = pts[0];
<a id="L401" name="L401"></a> 401         <strong class="reserved">float</strong> fminY = pts[1];
<a id="L402" name="L402"></a> 402         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=2; i &lt; 8; i+=2) <em class="brace">{</em>
<a id="L403" name="L403"></a> 403             <strong class="reserved">if</strong> (pts[i] &gt; fmaxX) <em class="brace">{</em>
<a id="L404" name="L404"></a> 404                 fmaxX = pts[i];
<a id="L405" name="L405"></a> 405             <em class="brace">}</em>
<a id="L406" name="L406"></a> 406             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (pts[i] &lt; fminX) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407                 fminX = pts[i];
<a id="L408" name="L408"></a> 408             <em class="brace">}</em>
<a id="L409" name="L409"></a> 409             <strong class="reserved">if</strong> (pts[i+1] &gt; fmaxY) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410                 fmaxY = pts[i+1];
<a id="L411" name="L411"></a> 411             <em class="brace">}</em>
<a id="L412" name="L412"></a> 412             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (pts[i+1] &lt; fminY) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                 fminY = pts[i+1];
<a id="L414" name="L414"></a> 414             <em class="brace">}</em>
<a id="L415" name="L415"></a> 415         <em class="brace">}</em>
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a>.<a href="../D/3293.html" title="Multiple defined in 10 places.">Float</a>(fminX, fminY, fmaxX-fminX, fmaxY-fminY);
<a id="L418" name="L418"></a> 418     <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<div class="comment">
      Creates a zeroed destination image with the correct size and number of
      bands.  A <code>RasterFormatException</code> may be thrown if the
      transformed width or height is equal to 0.
      <p>
      If <code>destCM</code> is null,
      an appropriate <code>ColorModel</code> is used; this
      <code>ColorModel</code> may have
      an alpha channel even if the source <code>ColorModel</code> is opaque.
      @param src  The <code>BufferedImage</code> to be transformed.
      @param destCM  <code>ColorModel</code> of the destination.  If null,
      an appropriate <code>ColorModel</code> is used.
      @return The zeroed destination image.</p></div>
<a id="L436" name="L436"></a> 436     <strong class="reserved">public</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> <a href="../R/12285.html" title="Multiple referred from 12 places.">createCompatibleDestImage</a> (<a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> src,
<a id="L437" name="L437"></a> 437                                                     <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> destCM) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438         <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> image;
<a id="L439" name="L439"></a> 439         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r = <a href="../D/17336.html" title="Multiple defined in 36 places.">getBounds2D</a>(src).<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441         <em class="comment">// If r.x (or r.y) is &lt; 0, then we want to only create an image</em>
<a id="L442" name="L442"></a> 442         <em class="comment">// that is in the positive range.</em>
<a id="L443" name="L443"></a> 443         <em class="comment">// If r.x (or r.y) is &gt; 0, then we need to create an image that</em>
<a id="L444" name="L444"></a> 444         <em class="comment">// includes the translation.</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">int</strong> w = r.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + r.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L446" name="L446"></a> 446         <strong class="reserved">int</strong> h = r.y + r.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L447" name="L447"></a> 447         <strong class="reserved">if</strong> (w &lt;= 0) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2231.html#L33" title="Defined at 33 in src/java/awt/image/RasterFormatException.java.">RasterFormatException</a>("Transformed width ("+w+
<a id="L449" name="L449"></a> 449                                             ") is less than or equal to 0.");
<a id="L450" name="L450"></a> 450         <em class="brace">}</em>
<a id="L451" name="L451"></a> 451         <strong class="reserved">if</strong> (h &lt;= 0) <em class="brace">{</em>
<a id="L452" name="L452"></a> 452             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2231.html#L33" title="Defined at 33 in src/java/awt/image/RasterFormatException.java.">RasterFormatException</a>("Transformed height ("+h+
<a id="L453" name="L453"></a> 453                                             ") is less than or equal to 0.");
<a id="L454" name="L454"></a> 454         <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<a id="L456" name="L456"></a> 456         <strong class="reserved">if</strong> (destCM == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457             <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm = src.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>();
<a id="L458" name="L458"></a> 458             <strong class="reserved">if</strong> (interpolationType != TYPE_NEAREST_NEIGHBOR &amp;&amp;
<a id="L459" name="L459"></a> 459                 (cm <strong class="reserved">instanceof</strong> <a href="../S/2242.html#L125" title="Defined at 125 in src/java/awt/image/IndexColorModel.java.">IndexColorModel</a> ||
<a id="L460" name="L460"></a> 460                  cm.<a href="../D/23273.html" title="Multiple defined in 9 places.">getTransparency</a>() == <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.OPAQUE))
<a id="L461" name="L461"></a> 461             <em class="brace">{</em>
<a id="L462" name="L462"></a> 462                 image = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(w, h,
<a id="L463" name="L463"></a> 463                                           <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>.TYPE_INT_ARGB);
<a id="L464" name="L464"></a> 464             <em class="brace">}</em>
<a id="L465" name="L465"></a> 465             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L466" name="L466"></a> 466                 image = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(cm,
<a id="L467" name="L467"></a> 467                           src.<a href="../D/21845.html" title="Multiple defined in 8 places.">getRaster</a>().<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(w,h),
<a id="L468" name="L468"></a> 468                           cm.<a href="../D/25179.html" title="Multiple defined in 2 places.">isAlphaPremultiplied</a>(), <strong class="reserved">null</strong>);
<a id="L469" name="L469"></a> 469             <em class="brace">}</em>
<a id="L470" name="L470"></a> 470         <em class="brace">}</em>
<a id="L471" name="L471"></a> 471         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L472" name="L472"></a> 472             image = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(destCM,
<a id="L473" name="L473"></a> 473                                     destCM.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(w,h),
<a id="L474" name="L474"></a> 474                                     destCM.<a href="../D/25179.html" title="Multiple defined in 2 places.">isAlphaPremultiplied</a>(), <strong class="reserved">null</strong>);
<a id="L475" name="L475"></a> 475         <em class="brace">}</em>
<a id="L476" name="L476"></a> 476 
<a id="L477" name="L477"></a> 477         <strong class="reserved">return</strong> image;
<a id="L478" name="L478"></a> 478     <em class="brace">}</em>
<a id="L479" name="L479"></a> 479 
<div class="comment">
      Creates a zeroed destination <code>Raster</code> with the correct size
      and number of bands.  A <code>RasterFormatException</code> may be thrown
      if the transformed width or height is equal to 0.
      @param src The <code>Raster</code> to be transformed.
      @return The zeroed destination <code>Raster</code>.</div>
<a id="L489" name="L489"></a> 489     <strong class="reserved">public</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/12286.html" title="Multiple referred from 7 places.">createCompatibleDestRaster</a> (<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> src) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490         <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> r = <a href="../D/17336.html" title="Multiple defined in 36 places.">getBounds2D</a>(src);
<a id="L491" name="L491"></a> 491 
<a id="L492" name="L492"></a> 492         <strong class="reserved">return</strong> src.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>((<strong class="reserved">int</strong>)r.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(),
<a id="L493" name="L493"></a> 493                                                   (<strong class="reserved">int</strong>)r.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>(),
<a id="L494" name="L494"></a> 494                                                   (<strong class="reserved">int</strong>)r.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(),
<a id="L495" name="L495"></a> 495                                                   (<strong class="reserved">int</strong>)r.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>());
<a id="L496" name="L496"></a> 496     <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<div class="comment">
      Returns the location of the corresponding destination point given a
      point in the source.  If <code>dstPt</code> is specified, it
      is used to hold the return value.
      @param srcPt The <code>Point2D</code> that represents the source
                   point.
      @param dstPt The <code>Point2D</code> in which to store the result.
      @return The <code>Point2D</code> in the destination that corresponds to
      the specified point in the source.</div>
<a id="L510" name="L510"></a> 510     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2319.html#L42" title="Defined at 42 in src/java/awt/geom/Point2D.java.">Point2D</a> getPoint2D (<a href="../S/2319.html#L42" title="Defined at 42 in src/java/awt/geom/Point2D.java.">Point2D</a> srcPt, <a href="../S/2319.html#L42" title="Defined at 42 in src/java/awt/geom/Point2D.java.">Point2D</a> dstPt) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511         <strong class="reserved">return</strong> xform.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a> (srcPt, dstPt);
<a id="L512" name="L512"></a> 512     <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<div class="comment">
      Returns the affine transform used by this transform operation.
      @return The <code>AffineTransform</code> associated with this op.</div>
<a id="L519" name="L519"></a> 519     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> <a href="../R/19570.html" title="Multiple referred from 11 places.">getTransform</a>() <em class="brace">{</em>
<a id="L520" name="L520"></a> 520         <strong class="reserved">return</strong> (<a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a>) xform.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L521" name="L521"></a> 521     <em class="brace">}</em>
<a id="L522" name="L522"></a> 522 
<div class="comment">
      Returns the rendering hints used by this transform operation.
      @return The <code>RenderingHints</code> object associated with this op.</div>
<a id="L528" name="L528"></a> 528     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> getRenderingHints() <em class="brace">{</em>
<a id="L529" name="L529"></a> 529         <strong class="reserved">if</strong> (hints == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L530" name="L530"></a> 530             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>;
<a id="L531" name="L531"></a> 531             <strong class="reserved">switch</strong>(interpolationType) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532             <strong class="reserved">case</strong> TYPE_NEAREST_NEIGHBOR:
<a id="L533" name="L533"></a> 533                 <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.VALUE_INTERPOLATION_NEAREST_NEIGHBOR;
<a id="L534" name="L534"></a> 534                 <strong class="reserved">break</strong>;
<a id="L535" name="L535"></a> 535             <strong class="reserved">case</strong> TYPE_BILINEAR:
<a id="L536" name="L536"></a> 536                 <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.VALUE_INTERPOLATION_BILINEAR;
<a id="L537" name="L537"></a> 537                 <strong class="reserved">break</strong>;
<a id="L538" name="L538"></a> 538             <strong class="reserved">case</strong> TYPE_BICUBIC:
<a id="L539" name="L539"></a> 539                 <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.VALUE_INTERPOLATION_BICUBIC;
<a id="L540" name="L540"></a> 540                 <strong class="reserved">break</strong>;
<a id="L541" name="L541"></a> 541             <strong class="reserved">default</strong>:
<a id="L542" name="L542"></a> 542                 <em class="comment">// Should never get here</em>
<a id="L543" name="L543"></a> 543                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>("Unknown interpolation type "+
<a id="L544" name="L544"></a> 544                                          interpolationType);
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546             <em class="brace">}</em>
<a id="L547" name="L547"></a> 547             hints = <strong class="reserved">new</strong> <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>(<a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a>.KEY_INTERPOLATION, <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L548" name="L548"></a> 548         <em class="brace">}</em>
<a id="L549" name="L549"></a> 549 
<a id="L550" name="L550"></a> 550         <strong class="reserved">return</strong> hints;
<a id="L551" name="L551"></a> 551     <em class="brace">}</em>
<a id="L552" name="L552"></a> 552 
<a id="L553" name="L553"></a> 553     <em class="comment">// We need to be able to invert the transform if we want to</em>
<a id="L554" name="L554"></a> 554     <em class="comment">// transform the image.  If the determinant of the matrix is 0,</em>
<a id="L555" name="L555"></a> 555     <em class="comment">// then we can't invert the transform.</em>
<a id="L556" name="L556"></a> 556     <strong class="reserved">void</strong> <a href="../R/30081.html" title="Multiple referred from 2 places.">validateTransform</a>(<a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> xform) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557         <strong class="reserved">if</strong> (<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(xform.<a href="../S/2328.html#L1042" title="Defined at 1042 in src/java/awt/geom/AffineTransform.java.">getDeterminant</a>()) &lt;= <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>.MIN_VALUE) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2228.html#L34" title="Defined at 34 in src/java/awt/image/ImagingOpException.java.">ImagingOpException</a>("Unable to invert transform "+xform);
<a id="L559" name="L559"></a> 559         <em class="brace">}</em>
<a id="L560" name="L560"></a> 560     <em class="brace">}</em>
<a id="L561" name="L561"></a> 561 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L172">[^]</a><a href="#L556">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>