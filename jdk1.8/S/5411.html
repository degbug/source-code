<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L170">[^]</a><a href="#L601">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L170" title="Defined at 170.">validate</a></li>
<li><a href="#L220" title="Defined at 220.">isEntityDeclared</a></li>
<li><a href="#L224" title="Defined at 224.">isEntityUnparsed</a></li>
<li><a href="#L239" title="Defined at 239.">validate</a></li>
<li><a href="#L268" title="Defined at 268.">beginNode</a></li>
<li><a href="#L337" title="Defined at 337.">finishNode</a></li>
<li><a href="#L353" title="Defined at 353.">setupEntityMap</a></li>
<li><a href="#L367" title="Defined at 367.">setupDOMResultHandler</a></li>
<li><a href="#L400" title="Defined at 400.">fillQName</a></li>
<li><a href="#L427" title="Defined at 427.">processAttributes</a></li>
<li><a href="#L455" title="Defined at 455.">sendCharactersToValidator</a></li>
<li><a href="#L473" title="Defined at 473.">getCurrentElement</a></li>
<li><a href="#L506" title="Defined at 506.">pushContext</a></li>
<li><a href="#L510" title="Defined at 510.">popContext</a></li>
<li><a href="#L514" title="Defined at 514.">declarePrefix</a></li>
<li><a href="#L518" title="Defined at 518.">getURI</a></li>
<li><a href="#L533" title="Defined at 533.">getPrefix</a></li>
<li><a href="#L537" title="Defined at 537.">getDeclaredPrefixCount</a></li>
<li><a href="#L541" title="Defined at 541.">getDeclaredPrefixAt</a></li>
<li><a href="#L545" title="Defined at 545.">getAllPrefixes</a></li>
<li><a href="#L549" title="Defined at 549.">reset</a></li>
<li><a href="#L554" title="Defined at 554.">fillNamespaceContext</a></li>
<li><a href="#L588" title="Defined at 588.">declarePrefix0</a></li>
<li><a href="#L601" title="Defined at 601.">getURI0</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.jaxp.validation;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.io.IOException;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> javax.xml.parsers.DocumentBuilder;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> javax.xml.parsers.DocumentBuilderFactory;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.xml.parsers.ParserConfigurationException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.xml.transform.Result;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> javax.xml.transform.Source;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> javax.xml.transform.dom.DOMResult;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.xml.transform.dom.DOMSource;
<a id="L33" name="L33"></a>  33 
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.Constants;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.XMLErrorReporter;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.validation.EntityState;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.validation.ValidationManager;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.util.SimpleLocator;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.NamespaceSupport;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.SymbolTable;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLAttributesImpl;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLSymbols;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.NamespaceContext;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.QName;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XMLString;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XNIException;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.parser.XMLParseException;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> org.w3c.dom.CDATASection;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> org.w3c.dom.Comment;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> org.w3c.dom.DocumentType;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> org.w3c.dom.Entity;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> org.w3c.dom.NamedNodeMap;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> org.w3c.dom.ProcessingInstruction;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> org.w3c.dom.Text;
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L61" name="L61"></a>  61 
<div class="comment">
  <p>A validator helper for <code>DOMSource</code>s.</p>
  @author Michael Glavassevich, IBM
  @version $Id: DOMValidatorHelper.java,v 1.9 2010-11-01 04:40:08 joehw Exp $</div>
<a id="L68" name="L68"></a>  68 <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1922.html" title="Multiple referred from 4 places.">DOMValidatorHelper</a> <strong class="reserved">implements</strong> <a href="../S/5420.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/jaxp/validation/ValidatorHelper.java.">ValidatorHelper</a>, <a href="../S/5238.html#L33" title="Defined at 33 in src/com/sun/org/apache/xerces/internal/impl/validation/EntityState.java.">EntityState</a> <em class="brace">{</em>
<a id="L69" name="L69"></a>  69 
<a id="L70" name="L70"></a>  70     <em class="comment">//</em>
<a id="L71" name="L71"></a>  71     <em class="comment">// Constants</em>
<a id="L72" name="L72"></a>  72     <em class="comment">//</em>
<a id="L73" name="L73"></a>  73 
<div class="comment">
     /** Chunk size (1024). */</div>
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CHUNK_SIZE = (1 &lt;&lt; 10);
<a id="L76" name="L76"></a>  76 
<div class="comment">
     /** Chunk mask (CHUNK_SIZE - 1). */</div>
<a id="L78" name="L78"></a>  78     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CHUNK_MASK = CHUNK_SIZE - 1;
<a id="L79" name="L79"></a>  79 
<a id="L80" name="L80"></a>  80     <em class="comment">// property identifiers</em>
<a id="L81" name="L81"></a>  81 
<div class="comment">
     /** Property identifier: error reporter. */</div>
<a id="L83" name="L83"></a>  83     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ERROR_REPORTER =
<a id="L84" name="L84"></a>  84         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ERROR_REPORTER_PROPERTY;
<a id="L85" name="L85"></a>  85 
<div class="comment">
     /** Property identifier: namespace context. */</div>
<a id="L87" name="L87"></a>  87     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> NAMESPACE_CONTEXT =
<a id="L88" name="L88"></a>  88         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.NAMESPACE_CONTEXT_PROPERTY;
<a id="L89" name="L89"></a>  89 
<div class="comment">
     /** Property identifier: XML Schema validator. */</div>
<a id="L91" name="L91"></a>  91     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SCHEMA_VALIDATOR =
<a id="L92" name="L92"></a>  92         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SCHEMA_VALIDATOR_PROPERTY;
<a id="L93" name="L93"></a>  93 
<div class="comment">
     /** Property identifier: symbol table. */</div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SYMBOL_TABLE =
<a id="L96" name="L96"></a>  96         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SYMBOL_TABLE_PROPERTY;
<a id="L97" name="L97"></a>  97 
<div class="comment">
     /** Property identifier: validation manager. */</div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> VALIDATION_MANAGER =
<a id="L100" name="L100"></a> 100         <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.VALIDATION_MANAGER_PROPERTY;
<a id="L101" name="L101"></a> 101 
<a id="L102" name="L102"></a> 102     <em class="comment">//</em>
<a id="L103" name="L103"></a> 103     <em class="comment">// Data</em>
<a id="L104" name="L104"></a> 104     <em class="comment">//</em>
<a id="L105" name="L105"></a> 105 
<div class="comment">
     /** Error reporter. */</div>
<a id="L107" name="L107"></a> 107     <strong class="reserved">private</strong> <a href="../S/5041.html#L116" title="Defined at 116 in src/com/sun/org/apache/xerces/internal/impl/XMLErrorReporter.java.">XMLErrorReporter</a> fErrorReporter;
<a id="L108" name="L108"></a> 108 
<div class="comment">
     /** The namespace context of this document: stores namespaces in scope. **/</div>
<a id="L110" name="L110"></a> 110     <strong class="reserved">private</strong> <a href="../D/5978.html" title="Multiple defined in 2 places.">NamespaceSupport</a> fNamespaceContext;
<a id="L111" name="L111"></a> 111 
<div class="comment">
     /** The namespace context of the DOMSource, includes context from ancestor nodes. **/</div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">private</strong> <a href="../D/2077.html" title="Multiple defined in 2 places.">DOMNamespaceContext</a> fDOMNamespaceContext = <strong class="reserved">new</strong> <a href="../D/2077.html" title="Multiple defined in 2 places.">DOMNamespaceContext</a>();
<a id="L114" name="L114"></a> 114 
<div class="comment">
     /** Schema validator. **/</div>
<a id="L116" name="L116"></a> 116     <strong class="reserved">private</strong> <a href="../S/5108.html#L112" title="Defined at 112 in src/com/sun/org/apache/xerces/internal/impl/xs/XMLSchemaValidator.java.">XMLSchemaValidator</a> fSchemaValidator;
<a id="L117" name="L117"></a> 117 
<div class="comment">
     /** Symbol table **/</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">private</strong> <a href="../D/8572.html" title="Multiple defined in 2 places.">SymbolTable</a> fSymbolTable;
<a id="L120" name="L120"></a> 120 
<div class="comment">
     /** Validation manager. **/</div>
<a id="L122" name="L122"></a> 122     <strong class="reserved">private</strong> <a href="../S/5240.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/impl/validation/ValidationManager.java.">ValidationManager</a> fValidationManager;
<a id="L123" name="L123"></a> 123 
<div class="comment">
     /** Component manager. **/</div>
<a id="L125" name="L125"></a> 125     <strong class="reserved">private</strong> <a href="../S/5415.html#L60" title="Defined at 60 in src/com/sun/org/apache/xerces/internal/jaxp/validation/XMLSchemaValidatorComponentManager.java.">XMLSchemaValidatorComponentManager</a> fComponentManager;
<a id="L126" name="L126"></a> 126 
<div class="comment">
     /** Simple Locator. **/</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/5055.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/impl/xs/util/SimpleLocator.java.">SimpleLocator</a> fXMLLocator = <strong class="reserved">new</strong> <a href="../S/5055.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/impl/xs/util/SimpleLocator.java.">SimpleLocator</a>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, -1, -1, -1);
<a id="L129" name="L129"></a> 129 
<div class="comment">
     /** DOM document handler. **/</div>
<a id="L131" name="L131"></a> 131     <strong class="reserved">private</strong> <a href="../S/5423.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMDocumentHandler.java.">DOMDocumentHandler</a> fDOMValidatorHandler;
<a id="L132" name="L132"></a> 132 
<div class="comment">
     /** DOM result augmentor. **/</div>
<a id="L134" name="L134"></a> 134     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/5409.html#L61" title="Defined at 61 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMResultAugmentor.java.">DOMResultAugmentor</a> fDOMResultAugmentor = <strong class="reserved">new</strong> <a href="../S/5409.html#L61" title="Defined at 61 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMResultAugmentor.java.">DOMResultAugmentor</a>(<strong class="reserved">this</strong>);
<a id="L135" name="L135"></a> 135 
<div class="comment">
     /** DOM result builder. **/</div>
<a id="L137" name="L137"></a> 137     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/5424.html#L71" title="Defined at 71 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMResultBuilder.java.">DOMResultBuilder</a> fDOMResultBuilder = <strong class="reserved">new</strong> <a href="../S/5424.html#L71" title="Defined at 71 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMResultBuilder.java.">DOMResultBuilder</a>();
<a id="L138" name="L138"></a> 138 
<div class="comment">
     /** Map for tracking unparsed entities. **/</div>
<a id="L140" name="L140"></a> 140     <strong class="reserved">private</strong> <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> fEntities = <strong class="reserved">null</strong>;
<a id="L141" name="L141"></a> 141 
<div class="comment">
     /** Array for holding character data. **/</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">private</strong> <strong class="reserved">char</strong> [] fCharBuffer = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[CHUNK_SIZE];
<a id="L144" name="L144"></a> 144 
<div class="comment">
     /** Root node. **/</div>
<a id="L146" name="L146"></a> 146     <strong class="reserved">private</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> fRoot;
<a id="L147" name="L147"></a> 147 
<div class="comment">
     /** Current element. **/</div>
<a id="L149" name="L149"></a> 149     <strong class="reserved">private</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> fCurrentElement;
<a id="L150" name="L150"></a> 150 
<div class="comment">
     /** Fields for start element, end element and characters. **/</div>
<a id="L152" name="L152"></a> 152     <strong class="reserved">final</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> fElementQName = <strong class="reserved">new</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>();
<a id="L153" name="L153"></a> 153     <strong class="reserved">final</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> fAttributeQName = <strong class="reserved">new</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>();
<a id="L154" name="L154"></a> 154     <strong class="reserved">final</strong> <a href="../S/5286.html#L88" title="Defined at 88 in src/com/sun/org/apache/xerces/internal/util/XMLAttributesImpl.java.">XMLAttributesImpl</a> fAttributes = <strong class="reserved">new</strong> <a href="../S/5286.html#L88" title="Defined at 88 in src/com/sun/org/apache/xerces/internal/util/XMLAttributesImpl.java.">XMLAttributesImpl</a>();
<a id="L155" name="L155"></a> 155     <strong class="reserved">final</strong> <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> fTempString = <strong class="reserved">new</strong> <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a>();
<a id="L156" name="L156"></a> 156 
<a id="L157" name="L157"></a> 157     <strong class="reserved">public</strong> DOMValidatorHelper(<a href="../S/5415.html#L60" title="Defined at 60 in src/com/sun/org/apache/xerces/internal/jaxp/validation/XMLSchemaValidatorComponentManager.java.">XMLSchemaValidatorComponentManager</a> componentManager) <em class="brace">{</em>
<a id="L158" name="L158"></a> 158         fComponentManager = componentManager;
<a id="L159" name="L159"></a> 159         fErrorReporter = (<a href="../S/5041.html#L116" title="Defined at 116 in src/com/sun/org/apache/xerces/internal/impl/XMLErrorReporter.java.">XMLErrorReporter</a>) fComponentManager.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(ERROR_REPORTER);
<a id="L160" name="L160"></a> 160         fNamespaceContext = (<a href="../D/5978.html" title="Multiple defined in 2 places.">NamespaceSupport</a>) fComponentManager.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(NAMESPACE_CONTEXT);
<a id="L161" name="L161"></a> 161         fSchemaValidator = (<a href="../S/5108.html#L112" title="Defined at 112 in src/com/sun/org/apache/xerces/internal/impl/xs/XMLSchemaValidator.java.">XMLSchemaValidator</a>) fComponentManager.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(SCHEMA_VALIDATOR);
<a id="L162" name="L162"></a> 162         fSymbolTable = (<a href="../D/8572.html" title="Multiple defined in 2 places.">SymbolTable</a>) fComponentManager.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(SYMBOL_TABLE);
<a id="L163" name="L163"></a> 163         fValidationManager = (<a href="../S/5240.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/impl/validation/ValidationManager.java.">ValidationManager</a>) fComponentManager.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(VALIDATION_MANAGER);
<a id="L164" name="L164"></a> 164     <em class="brace">}</em>
<a id="L165" name="L165"></a> 165 
<div class="comment">
      ValidatorHelper methods</div>
<a id="L169" name="L169"></a> 169 
<a id="L170" name="L170"></a> 170     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30051.html" title="Multiple referred from 135 places.">validate</a>(<a href="../S/4049.html#L32" title="Defined at 32 in src/javax/xml/transform/Source.java.">Source</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../D/7352.html" title="Multiple defined in 5 places.">Result</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>)
<a id="L171" name="L171"></a> 171         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L172" name="L172"></a> 172         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> <strong class="reserved">instanceof</strong> <a href="../S/4047.html#L39" title="Defined at 39 in src/javax/xml/transform/dom/DOMResult.java.">DOMResult</a> || <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L173" name="L173"></a> 173             <strong class="reserved">final</strong> <a href="../S/4046.html#L44" title="Defined at 44 in src/javax/xml/transform/dom/DOMSource.java.">DOMSource</a> domSource = (<a href="../S/4046.html#L44" title="Defined at 44 in src/javax/xml/transform/dom/DOMSource.java.">DOMSource</a>) <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L174" name="L174"></a> 174             <strong class="reserved">final</strong> <a href="../S/4047.html#L39" title="Defined at 39 in src/javax/xml/transform/dom/DOMResult.java.">DOMResult</a> domResult = (<a href="../S/4047.html#L39" title="Defined at 39 in src/javax/xml/transform/dom/DOMResult.java.">DOMResult</a>) <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L175" name="L175"></a> 175             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = domSource.<a href="../D/20970.html" title="Multiple defined in 26 places.">getNode</a>();
<a id="L176" name="L176"></a> 176             fRoot = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L177" name="L177"></a> 177             <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178                 fComponentManager.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L179" name="L179"></a> 179                 fValidationManager.<a href="../D/32604.html" title="Multiple defined in 2 places.">setEntityState</a>(<strong class="reserved">this</strong>);
<a id="L180" name="L180"></a> 180                 fDOMNamespaceContext.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L181" name="L181"></a> 181                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> = domSource.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>();
<a id="L182" name="L182"></a> 182                 fXMLLocator.<a href="../D/33118.html" title="Multiple defined in 4 places.">setLiteralSystemId</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L183" name="L183"></a> 183                 fXMLLocator.<a href="../D/32658.html" title="Multiple defined in 4 places.">setExpandedSystemId</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L184" name="L184"></a> 184                 fErrorReporter.<a href="../D/32500.html" title="Multiple defined in 33 places.">setDocumentLocator</a>(fXMLLocator);
<a id="L185" name="L185"></a> 185                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L186" name="L186"></a> 186                     <em class="comment">// regardless of what type of node this is, fire start and end document events</em>
<a id="L187" name="L187"></a> 187                     <a href="../S/5411.html#L353" title="Defined at 353 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">setupEntityMap</a>((<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE) ? (<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> : <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>());
<a id="L188" name="L188"></a> 188                     <a href="../S/5411.html#L367" title="Defined at 367 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">setupDOMResultHandler</a>(domSource, domResult);
<a id="L189" name="L189"></a> 189                     fSchemaValidator.<a href="../D/34768.html" title="Multiple defined in 61 places.">startDocument</a>(fXMLLocator, <strong class="reserved">null</strong>, fDOMNamespaceContext, <strong class="reserved">null</strong>);
<a id="L190" name="L190"></a> 190                     <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L191" name="L191"></a> 191                     fSchemaValidator.<a href="../D/15443.html" title="Multiple defined in 65 places.">endDocument</a>(<strong class="reserved">null</strong>);
<a id="L192" name="L192"></a> 192                 <em class="brace">}</em>
<a id="L193" name="L193"></a> 193                 <strong class="reserved">catch</strong> (<a href="../D/9978.html" title="Multiple defined in 2 places.">XMLParseException</a> e) <em class="brace">{</em>
<a id="L194" name="L194"></a> 194                     <strong class="reserved">throw</strong> <a href="../D/9440.html" title="Multiple defined in 6 places.">Util</a>.<a href="../S/5408.html#L68" title="Defined at 68 in src/com/sun/org/apache/xerces/internal/jaxp/validation/Util.java.">toSAXParseException</a>(e);
<a id="L195" name="L195"></a> 195                 <em class="brace">}</em>
<a id="L196" name="L196"></a> 196                 <strong class="reserved">catch</strong> (<a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> e) <em class="brace">{</em>
<a id="L197" name="L197"></a> 197                     <strong class="reserved">throw</strong> <a href="../D/9440.html" title="Multiple defined in 6 places.">Util</a>.<a href="../D/35480.html" title="Multiple defined in 2 places.">toSAXException</a>(e);
<a id="L198" name="L198"></a> 198                 <em class="brace">}</em>
<a id="L199" name="L199"></a> 199                 <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L200" name="L200"></a> 200                     <em class="comment">// Release references to application objects</em>
<a id="L201" name="L201"></a> 201                     fRoot = <strong class="reserved">null</strong>;
<a id="L202" name="L202"></a> 202                     <em class="comment">//fCurrentElement = null; -- keep the reference to support current-element-node property</em>
<a id="L203" name="L203"></a> 203                     fEntities = <strong class="reserved">null</strong>;
<a id="L204" name="L204"></a> 204                     <strong class="reserved">if</strong> (fDOMValidatorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L205" name="L205"></a> 205                         fDOMValidatorHandler.<a href="../D/32333.html" title="Multiple defined in 3 places.">setDOMResult</a>(<strong class="reserved">null</strong>);
<a id="L206" name="L206"></a> 206                     <em class="brace">}</em>
<a id="L207" name="L207"></a> 207                 <em class="brace">}</em>
<a id="L208" name="L208"></a> 208             <em class="brace">}</em>
<a id="L209" name="L209"></a> 209             <strong class="reserved">return</strong>;
<a id="L210" name="L210"></a> 210         <em class="brace">}</em>
<a id="L211" name="L211"></a> 211         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../S/5405.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/jaxp/validation/JAXPValidationMessageFormatter.java.">JAXPValidationMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(fComponentManager.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>(),
<a id="L212" name="L212"></a> 212                 "SourceResultMismatch",
<a id="L213" name="L213"></a> 213                 <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [] <em class="brace">{</em><a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(), <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>));
<a id="L214" name="L214"></a> 214     <em class="brace">}</em>
<a id="L215" name="L215"></a> 215 
<div class="comment">
      EntityState methods</div>
<a id="L219" name="L219"></a> 219 
<a id="L220" name="L220"></a> 220     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21415.html" title="Multiple referred from 4 places.">isEntityDeclared</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L221" name="L221"></a> 221         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L222" name="L222"></a> 222     <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21416.html" title="Multiple referred from 6 places.">isEntityUnparsed</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225         <strong class="reserved">if</strong> (fEntities != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L226" name="L226"></a> 226             <a href="../D/2913.html" title="Multiple defined in 2 places.">Entity</a> entity = (<a href="../D/2913.html" title="Multiple defined in 2 places.">Entity</a>) fEntities.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L227" name="L227"></a> 227             <strong class="reserved">if</strong> (entity != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L228" name="L228"></a> 228                 <strong class="reserved">return</strong> (entity.<a href="../D/21022.html" title="Multiple defined in 3 places.">getNotationName</a>() != <strong class="reserved">null</strong>);
<a id="L229" name="L229"></a> 229             <em class="brace">}</em>
<a id="L230" name="L230"></a> 230         <em class="brace">}</em>
<a id="L231" name="L231"></a> 231         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L232" name="L232"></a> 232     <em class="brace">}</em>
<a id="L233" name="L233"></a> 233 
<div class="comment">
      Other methods</div>
<a id="L237" name="L237"></a> 237 
<div class="comment">
     /** Traverse the DOM and fire events to the schema validator. */</div>
<a id="L239" name="L239"></a> 239     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30051.html" title="Multiple referred from 135 places.">validate</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240         <strong class="reserved">final</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L241" name="L241"></a> 241         <em class="comment">// Performs a non-recursive traversal of the DOM. This</em>
<a id="L242" name="L242"></a> 242         <em class="comment">// will avoid a stack overflow for DOMs with high depth.</em>
<a id="L243" name="L243"></a> 243         <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L244" name="L244"></a> 244             <a href="../S/5411.html#L268" title="Defined at 268 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">beginNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L245" name="L245"></a> 245             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L246" name="L246"></a> 246             <strong class="reserved">while</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247                 <a href="../S/5411.html#L337" title="Defined at 337 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">finishNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L248" name="L248"></a> 248                 <strong class="reserved">if</strong> (<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> == <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L249" name="L249"></a> 249                     <strong class="reserved">break</strong>;
<a id="L250" name="L250"></a> 250                 <em class="brace">}</em>
<a id="L251" name="L251"></a> 251                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L252" name="L252"></a> 252                 <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L254" name="L254"></a> 254                     <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> == <strong class="reserved">null</strong> || <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> == <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255                         <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256                             <a href="../S/5411.html#L337" title="Defined at 337 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">finishNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L257" name="L257"></a> 257                         <em class="brace">}</em>
<a id="L258" name="L258"></a> 258                         <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <strong class="reserved">null</strong>;
<a id="L259" name="L259"></a> 259                         <strong class="reserved">break</strong>;
<a id="L260" name="L260"></a> 260                     <em class="brace">}</em>
<a id="L261" name="L261"></a> 261                 <em class="brace">}</em>
<a id="L262" name="L262"></a> 262             <em class="brace">}</em>
<a id="L263" name="L263"></a> 263             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L264" name="L264"></a> 264         <em class="brace">}</em>
<a id="L265" name="L265"></a> 265     <em class="brace">}</em>
<a id="L266" name="L266"></a> 266 
<div class="comment">
     /** Do processing for the start of a node. */</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5411.html#L244" title="Referred from 244 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">beginNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269         <strong class="reserved">switch</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE:
<a id="L271" name="L271"></a> 271                 fCurrentElement = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L272" name="L272"></a> 272                 <em class="comment">// push namespace context</em>
<a id="L273" name="L273"></a> 273                 fNamespaceContext.<a href="../D/29939.html" title="Multiple defined in 10 places.">pushContext</a>();
<a id="L274" name="L274"></a> 274                 <em class="comment">// start element</em>
<a id="L275" name="L275"></a> 275                 <a href="../D/16051.html" title="Multiple defined in 5 places.">fillQName</a>(fElementQName, <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L276" name="L276"></a> 276                 <a href="../D/29758.html" title="Multiple defined in 5 places.">processAttributes</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>());
<a id="L277" name="L277"></a> 277                 fSchemaValidator.<a href="../D/34781.html" title="Multiple defined in 105 places.">startElement</a>(fElementQName, fAttributes, <strong class="reserved">null</strong>);
<a id="L278" name="L278"></a> 278                 <strong class="reserved">break</strong>;
<a id="L279" name="L279"></a> 279             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE:
<a id="L280" name="L280"></a> 280                 <strong class="reserved">if</strong> (fDOMValidatorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L281" name="L281"></a> 281                     fDOMValidatorHandler.<a href="../D/32893.html" title="Multiple defined in 3 places.">setIgnoringCharacters</a>(<strong class="reserved">true</strong>);
<a id="L282" name="L282"></a> 282                     <a href="../S/5411.html#L455" title="Defined at 455 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">sendCharactersToValidator</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L283" name="L283"></a> 283                     fDOMValidatorHandler.<a href="../D/32893.html" title="Multiple defined in 3 places.">setIgnoringCharacters</a>(<strong class="reserved">false</strong>);
<a id="L284" name="L284"></a> 284                     fDOMValidatorHandler.<a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L285" name="L285"></a> 285                 <em class="brace">}</em>
<a id="L286" name="L286"></a> 286                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L287" name="L287"></a> 287                     <a href="../S/5411.html#L455" title="Defined at 455 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">sendCharactersToValidator</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L288" name="L288"></a> 288                 <em class="brace">}</em>
<a id="L289" name="L289"></a> 289                 <strong class="reserved">break</strong>;
<a id="L290" name="L290"></a> 290             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.CDATA_SECTION_NODE:
<a id="L291" name="L291"></a> 291                 <strong class="reserved">if</strong> (fDOMValidatorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L292" name="L292"></a> 292                     fDOMValidatorHandler.<a href="../D/32893.html" title="Multiple defined in 3 places.">setIgnoringCharacters</a>(<strong class="reserved">true</strong>);
<a id="L293" name="L293"></a> 293                     fSchemaValidator.<a href="../D/34760.html" title="Multiple defined in 37 places.">startCDATA</a>(<strong class="reserved">null</strong>);
<a id="L294" name="L294"></a> 294                     <a href="../S/5411.html#L455" title="Defined at 455 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">sendCharactersToValidator</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L295" name="L295"></a> 295                     fSchemaValidator.<a href="../D/15437.html" title="Multiple defined in 40 places.">endCDATA</a>(<strong class="reserved">null</strong>);
<a id="L296" name="L296"></a> 296                     fDOMValidatorHandler.<a href="../D/32893.html" title="Multiple defined in 3 places.">setIgnoringCharacters</a>(<strong class="reserved">false</strong>);
<a id="L297" name="L297"></a> 297                     fDOMValidatorHandler.<a href="../D/12284.html" title="Multiple defined in 7 places.">cdata</a>((<a href="../S/129.html#L82" title="Defined at 82 in src/org/w3c/dom/CDATASection.java.">CDATASection</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L298" name="L298"></a> 298                 <em class="brace">}</em>
<a id="L299" name="L299"></a> 299                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L300" name="L300"></a> 300                     fSchemaValidator.<a href="../D/34760.html" title="Multiple defined in 37 places.">startCDATA</a>(<strong class="reserved">null</strong>);
<a id="L301" name="L301"></a> 301                     <a href="../S/5411.html#L455" title="Defined at 455 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">sendCharactersToValidator</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L302" name="L302"></a> 302                     fSchemaValidator.<a href="../D/15437.html" title="Multiple defined in 40 places.">endCDATA</a>(<strong class="reserved">null</strong>);
<a id="L303" name="L303"></a> 303                 <em class="brace">}</em>
<a id="L304" name="L304"></a> 304                 <strong class="reserved">break</strong>;
<a id="L305" name="L305"></a> 305             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.PROCESSING_INSTRUCTION_NODE:
<div class="comment">
                  The validator does nothing with processing instructions so bypass it.
                  Send the ProcessingInstruction node directly to the result builder.</div>
<a id="L310" name="L310"></a> 310                 <strong class="reserved">if</strong> (fDOMValidatorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L311" name="L311"></a> 311                     fDOMValidatorHandler.<a href="../D/29876.html" title="Multiple defined in 72 places.">processingInstruction</a>((<a href="../D/6899.html" title="Multiple defined in 3 places.">ProcessingInstruction</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L312" name="L312"></a> 312                 <em class="brace">}</em>
<a id="L313" name="L313"></a> 313                 <strong class="reserved">break</strong>;
<a id="L314" name="L314"></a> 314             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.COMMENT_NODE:
<div class="comment">
                  The validator does nothing with comments so bypass it.
                  Send the Comment node directly to the result builder.</div>
<a id="L319" name="L319"></a> 319                 <strong class="reserved">if</strong> (fDOMValidatorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                     fDOMValidatorHandler.<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>((<a href="../D/1672.html" title="Multiple defined in 3 places.">Comment</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L321" name="L321"></a> 321                 <em class="brace">}</em>
<a id="L322" name="L322"></a> 322                 <strong class="reserved">break</strong>;
<a id="L323" name="L323"></a> 323             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE:
<div class="comment">
                  Send the DocumentType node directly to the result builder.</div>
<a id="L327" name="L327"></a> 327                 <strong class="reserved">if</strong> (fDOMValidatorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L328" name="L328"></a> 328                     fDOMValidatorHandler.<a href="../D/15103.html" title="Multiple defined in 21 places.">doctypeDecl</a>((<a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L329" name="L329"></a> 329                 <em class="brace">}</em>
<a id="L330" name="L330"></a> 330                 <strong class="reserved">break</strong>;
<a id="L331" name="L331"></a> 331             <strong class="reserved">default</strong>: <em class="comment">// Ignore other node types.</em>
<a id="L332" name="L332"></a> 332                 <strong class="reserved">break</strong>;
<a id="L333" name="L333"></a> 333         <em class="brace">}</em>
<a id="L334" name="L334"></a> 334     <em class="brace">}</em>
<a id="L335" name="L335"></a> 335 
<div class="comment">
     /** Do processing for the end of a node. */</div>
<a id="L337" name="L337"></a> 337     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/14527.html" title="Multiple referred from 2 places.">finishNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338         <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339             fCurrentElement = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L340" name="L340"></a> 340             <em class="comment">// end element</em>
<a id="L341" name="L341"></a> 341             <a href="../D/16051.html" title="Multiple defined in 5 places.">fillQName</a>(fElementQName, <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L342" name="L342"></a> 342             fSchemaValidator.<a href="../D/15448.html" title="Multiple defined in 90 places.">endElement</a>(fElementQName, <strong class="reserved">null</strong>);
<a id="L343" name="L343"></a> 343             <em class="comment">// pop namespace context</em>
<a id="L344" name="L344"></a> 344             fNamespaceContext.<a href="../D/29421.html" title="Multiple defined in 9 places.">popContext</a>();
<a id="L345" name="L345"></a> 345         <em class="brace">}</em>
<a id="L346" name="L346"></a> 346     <em class="brace">}</em>
<a id="L347" name="L347"></a> 347 
<div class="comment">
      Extracts NamedNodeMap of entities. We need this to validate
      elements and attributes of type xs:ENTITY, xs:ENTITIES or
      types dervied from them.</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5411.html#L187" title="Referred from 187 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">setupEntityMap</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355             <a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> docType = doc.<a href="../D/18550.html" title="Multiple defined in 5 places.">getDoctype</a>();
<a id="L356" name="L356"></a> 356             <strong class="reserved">if</strong> (docType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357                 fEntities = docType.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a>();
<a id="L358" name="L358"></a> 358                 <strong class="reserved">return</strong>;
<a id="L359" name="L359"></a> 359             <em class="brace">}</em>
<a id="L360" name="L360"></a> 360         <em class="brace">}</em>
<a id="L361" name="L361"></a> 361         fEntities = <strong class="reserved">null</strong>;
<a id="L362" name="L362"></a> 362     <em class="brace">}</em>
<a id="L363" name="L363"></a> 363 
<div class="comment">
      Sets up handler for <code>DOMResult</code>.</div>
<a id="L367" name="L367"></a> 367     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5411.html#L188" title="Referred from 188 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">setupDOMResultHandler</a>(<a href="../S/4046.html#L44" title="Defined at 44 in src/javax/xml/transform/dom/DOMSource.java.">DOMSource</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../S/4047.html#L39" title="Defined at 39 in src/javax/xml/transform/dom/DOMResult.java.">DOMResult</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> <em class="brace">{</em>
<a id="L368" name="L368"></a> 368         <em class="comment">// If there's no DOMResult, unset the validator handler</em>
<a id="L369" name="L369"></a> 369         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370             fDOMValidatorHandler = <strong class="reserved">null</strong>;
<a id="L371" name="L371"></a> 371             fSchemaValidator.<a href="../D/32498.html" title="Multiple defined in 21 places.">setDocumentHandler</a>(<strong class="reserved">null</strong>);
<a id="L372" name="L372"></a> 372             <strong class="reserved">return</strong>;
<a id="L373" name="L373"></a> 373         <em class="brace">}</em>
<a id="L374" name="L374"></a> 374         <strong class="reserved">final</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> nodeResult = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/20970.html" title="Multiple defined in 26 places.">getNode</a>();
<a id="L375" name="L375"></a> 375         <em class="comment">// If the source node and result node are the same use the DOMResultAugmentor.</em>
<a id="L376" name="L376"></a> 376         <em class="comment">// Otherwise use the DOMResultBuilder.</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20970.html" title="Multiple defined in 26 places.">getNode</a>() == nodeResult) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             fDOMValidatorHandler = fDOMResultAugmentor;
<a id="L379" name="L379"></a> 379             fDOMResultAugmentor.<a href="../D/32333.html" title="Multiple defined in 3 places.">setDOMResult</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>);
<a id="L380" name="L380"></a> 380             fSchemaValidator.<a href="../D/32498.html" title="Multiple defined in 21 places.">setDocumentHandler</a>(fDOMResultAugmentor);
<a id="L381" name="L381"></a> 381             <strong class="reserved">return</strong>;
<a id="L382" name="L382"></a> 382         <em class="brace">}</em>
<a id="L383" name="L383"></a> 383         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/20970.html" title="Multiple defined in 26 places.">getNode</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L384" name="L384"></a> 384             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L385" name="L385"></a> 385                 <a href="../S/3849.html#L41" title="Defined at 41 in src/javax/xml/parsers/DocumentBuilderFactory.java.">DocumentBuilderFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = fComponentManager.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ORACLE_FEATURE_SERVICE_MECHANISM) ?
<a id="L386" name="L386"></a> 386                                     <a href="../S/3849.html#L41" title="Defined at 41 in src/javax/xml/parsers/DocumentBuilderFactory.java.">DocumentBuilderFactory</a>.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>() : <strong class="reserved">new</strong> <a href="../S/5389.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl.java.">DocumentBuilderFactoryImpl</a>();
<a id="L387" name="L387"></a> 387                 <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/33323.html" title="Multiple defined in 3 places.">setNamespaceAware</a>(<strong class="reserved">true</strong>);
<a id="L388" name="L388"></a> 388                 <a href="../S/3846.html#L62" title="Defined at 62 in src/javax/xml/parsers/DocumentBuilder.java.">DocumentBuilder</a> <a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../D/27987.html" title="Multiple defined in 2 places.">newDocumentBuilder</a>();
<a id="L389" name="L389"></a> 389                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/33362.html" title="Multiple defined in 7 places.">setNode</a>(<a href="../D/11979.html" title="Multiple defined in 6 places.">builder</a>.<a href="../D/27986.html" title="Multiple defined in 3 places.">newDocument</a>());
<a id="L390" name="L390"></a> 390             <em class="brace">}</em>
<a id="L391" name="L391"></a> 391             <strong class="reserved">catch</strong> (<a href="../S/3851.html#L34" title="Defined at 34 in src/javax/xml/parsers/ParserConfigurationException.java.">ParserConfigurationException</a> e) <em class="brace">{</em>
<a id="L392" name="L392"></a> 392                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>(e);
<a id="L393" name="L393"></a> 393             <em class="brace">}</em>
<a id="L394" name="L394"></a> 394         <em class="brace">}</em>
<a id="L395" name="L395"></a> 395         fDOMValidatorHandler = fDOMResultBuilder;
<a id="L396" name="L396"></a> 396         fDOMResultBuilder.<a href="../D/32333.html" title="Multiple defined in 3 places.">setDOMResult</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>);
<a id="L397" name="L397"></a> 397         fSchemaValidator.<a href="../D/32498.html" title="Multiple defined in 21 places.">setDocumentHandler</a>(fDOMResultBuilder);
<a id="L398" name="L398"></a> 398     <em class="brace">}</em>
<a id="L399" name="L399"></a> 399 
<a id="L400" name="L400"></a> 400     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/14311.html" title="Multiple referred from 17 places.">fillQName</a>(<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> toFill, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21592.html" title="Multiple defined in 61 places.">getPrefix</a>();
<a id="L402" name="L402"></a> 402         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>();
<a id="L403" name="L403"></a> 403         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rawName = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>();
<a id="L404" name="L404"></a> 404         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>();
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406         toFill.uri = (<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>) : <strong class="reserved">null</strong>;
<a id="L407" name="L407"></a> 407         toFill.rawname = (rawName != <strong class="reserved">null</strong>) ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(rawName) : <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING;
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409         <em class="comment">// Is this a DOM level1 document?</em>
<a id="L410" name="L410"></a> 410         <strong class="reserved">if</strong> (<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411             <strong class="reserved">int</strong> k = rawName.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L412" name="L412"></a> 412             <strong class="reserved">if</strong> (k &gt; 0) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                 toFill.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(rawName.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, k));
<a id="L414" name="L414"></a> 414                 toFill.localpart = fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(rawName.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(k + 1));
<a id="L415" name="L415"></a> 415             <em class="brace">}</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L417" name="L417"></a> 417                 toFill.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING;
<a id="L418" name="L418"></a> 418                 toFill.localpart = toFill.rawname;
<a id="L419" name="L419"></a> 419             <em class="brace">}</em>
<a id="L420" name="L420"></a> 420         <em class="brace">}</em>
<a id="L421" name="L421"></a> 421         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L422" name="L422"></a> 422             toFill.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> != <strong class="reserved">null</strong>) ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) : <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING;
<a id="L423" name="L423"></a> 423             toFill.localpart = (<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> != <strong class="reserved">null</strong>) ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>) : <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING;
<a id="L424" name="L424"></a> 424         <em class="brace">}</em>
<a id="L425" name="L425"></a> 425     <em class="brace">}</em>
<a id="L426" name="L426"></a> 426 
<a id="L427" name="L427"></a> 427     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25091.html" title="Multiple referred from 11 places.">processAttributes</a>(<a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> attrMap) <em class="brace">{</em>
<a id="L428" name="L428"></a> 428         <strong class="reserved">final</strong> <strong class="reserved">int</strong> attrCount = attrMap.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L429" name="L429"></a> 429         fAttributes.<a href="../D/30687.html" title="Multiple defined in 4 places.">removeAllAttributes</a>();
<a id="L430" name="L430"></a> 430         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; attrCount; ++i) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>) attrMap.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L432" name="L432"></a> 432             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L433" name="L433"></a> 433             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING;
<a id="L435" name="L435"></a> 435             <em class="brace">}</em>
<a id="L436" name="L436"></a> 436             <a href="../D/16051.html" title="Multiple defined in 5 places.">fillQName</a>(fAttributeQName, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L437" name="L437"></a> 437             <em class="comment">// REVISIT: Assuming all attributes are of type CDATA. The actual type may not matter. -- mrglavas</em>
<a id="L438" name="L438"></a> 438             fAttributes.<a href="../S/5286.html#L767" title="Defined at 767 in src/com/sun/org/apache/xerces/internal/util/XMLAttributesImpl.java.">addAttributeNS</a>(fAttributeQName, <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.fCDATASymbol, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L439" name="L439"></a> 439             fAttributes.<a href="../D/33986.html" title="Multiple defined in 5 places.">setSpecified</a>(i, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/22666.html" title="Multiple defined in 7 places.">getSpecified</a>());
<a id="L440" name="L440"></a> 440             <em class="comment">// REVISIT: Should we be looking at non-namespace attributes</em>
<a id="L441" name="L441"></a> 441             <em class="comment">// for additional mappings? Should we detect illegal namespace</em>
<a id="L442" name="L442"></a> 442             <em class="comment">// declarations and exclude them from the context? -- mrglavas</em>
<a id="L443" name="L443"></a> 443             <strong class="reserved">if</strong> (fAttributeQName.uri == <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XMLNS_URI) <em class="brace">{</em>
<a id="L444" name="L444"></a> 444                 <em class="comment">// process namespace attribute</em>
<a id="L445" name="L445"></a> 445                 <strong class="reserved">if</strong> (fAttributeQName.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.PREFIX_XMLNS) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                     fNamespaceContext.<a href="../D/14512.html" title="Multiple defined in 8 places.">declarePrefix</a>(fAttributeQName.localpart, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0 ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) : <strong class="reserved">null</strong>);
<a id="L447" name="L447"></a> 447                 <em class="brace">}</em>
<a id="L448" name="L448"></a> 448                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L449" name="L449"></a> 449                     fNamespaceContext.<a href="../D/14512.html" title="Multiple defined in 8 places.">declarePrefix</a>(<a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0 ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) : <strong class="reserved">null</strong>);
<a id="L450" name="L450"></a> 450                 <em class="brace">}</em>
<a id="L451" name="L451"></a> 451             <em class="brace">}</em>
<a id="L452" name="L452"></a> 452         <em class="brace">}</em>
<a id="L453" name="L453"></a> 453     <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<a id="L455" name="L455"></a> 455     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26764.html" title="Multiple referred from 4 places.">sendCharactersToValidator</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456         <strong class="reserved">if</strong> (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457             <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L458" name="L458"></a> 458             <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a> = <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &amp; CHUNK_MASK;
<a id="L459" name="L459"></a> 459             <strong class="reserved">if</strong> (<a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a> &gt; 0) <em class="brace">{</em>
<a id="L460" name="L460"></a> 460                 <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0, <a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a>, fCharBuffer, 0);
<a id="L461" name="L461"></a> 461                 fTempString.<a href="../D/34272.html" title="Multiple defined in 29 places.">setValues</a>(fCharBuffer, 0, <a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a>);
<a id="L462" name="L462"></a> 462                 fSchemaValidator.<a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(fTempString, <strong class="reserved">null</strong>);
<a id="L463" name="L463"></a> 463             <em class="brace">}</em>
<a id="L464" name="L464"></a> 464             <strong class="reserved">int</strong> i = <a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a>;
<a id="L465" name="L465"></a> 465             <strong class="reserved">while</strong> (i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L466" name="L466"></a> 466                 <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(i, i += CHUNK_SIZE, fCharBuffer, 0);
<a id="L467" name="L467"></a> 467                 fTempString.<a href="../D/34272.html" title="Multiple defined in 29 places.">setValues</a>(fCharBuffer, 0, CHUNK_SIZE);
<a id="L468" name="L468"></a> 468                 fSchemaValidator.<a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(fTempString, <strong class="reserved">null</strong>);
<a id="L469" name="L469"></a> 469             <em class="brace">}</em>
<a id="L470" name="L470"></a> 470         <em class="brace">}</em>
<a id="L471" name="L471"></a> 471     <em class="brace">}</em>
<a id="L472" name="L472"></a> 472 
<a id="L473" name="L473"></a> 473     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/15879.html" title="Multiple referred from 4 places.">getCurrentElement</a>() <em class="brace">{</em>
<a id="L474" name="L474"></a> 474         <strong class="reserved">return</strong> fCurrentElement;
<a id="L475" name="L475"></a> 475     <em class="brace">}</em>
<a id="L476" name="L476"></a> 476 
<div class="comment">
      NamespaceContext for the DOMSource, includes context for ancestor nodes.</div>
<a id="L480" name="L480"></a> 480     <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1904.html" title="Multiple referred from 3 places.">DOMNamespaceContext</a> <strong class="reserved">implements</strong> <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a> <em class="brace">{</em>
<a id="L481" name="L481"></a> 481 
<a id="L482" name="L482"></a> 482         <em class="comment">//</em>
<a id="L483" name="L483"></a> 483         <em class="comment">// Data</em>
<a id="L484" name="L484"></a> 484         <em class="comment">//</em>
<a id="L485" name="L485"></a> 485 
<div class="comment">
          Namespace binding information. This array is composed of a
          series of tuples containing the namespace binding information:
          &lt;prefix, uri&gt;.</div>
<a id="L491" name="L491"></a> 491         <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] fNamespace = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[16 * 2];
<a id="L492" name="L492"></a> 492 
<div class="comment">
         /** The size of the namespace information array. */</div>
<a id="L494" name="L494"></a> 494         <strong class="reserved">protected</strong> <strong class="reserved">int</strong> fNamespaceSize = 0;
<a id="L495" name="L495"></a> 495 
<div class="comment">
          Flag indicating whether the namespace context
          has been from the root node's ancestors.</div>
<a id="L500" name="L500"></a> 500         <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fDOMContextBuilt = <strong class="reserved">false</strong>;
<a id="L501" name="L501"></a> 501 
<a id="L502" name="L502"></a> 502         <em class="comment">//</em>
<a id="L503" name="L503"></a> 503         <em class="comment">// Methods</em>
<a id="L504" name="L504"></a> 504         <em class="comment">//</em>
<a id="L505" name="L505"></a> 505 
<a id="L506" name="L506"></a> 506         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25262.html" title="Multiple referred from 29 places.">pushContext</a>() <em class="brace">{</em>
<a id="L507" name="L507"></a> 507             fNamespaceContext.<a href="../D/29939.html" title="Multiple defined in 10 places.">pushContext</a>();
<a id="L508" name="L508"></a> 508         <em class="brace">}</em>
<a id="L509" name="L509"></a> 509 
<a id="L510" name="L510"></a> 510         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24809.html" title="Multiple referred from 23 places.">popContext</a>() <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             fNamespaceContext.<a href="../D/29421.html" title="Multiple defined in 9 places.">popContext</a>();
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<a id="L514" name="L514"></a> 514         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/12937.html" title="Multiple referred from 42 places.">declarePrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515             <strong class="reserved">return</strong> fNamespaceContext.<a href="../D/14512.html" title="Multiple defined in 8 places.">declarePrefix</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, uri);
<a id="L516" name="L516"></a> 516         <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<a id="L518" name="L518"></a> 518         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19651.html" title="Multiple referred from 112 places.">getURI</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri = fNamespaceContext.<a href="../D/23369.html" title="Multiple defined in 43 places.">getURI</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L520" name="L520"></a> 520             <strong class="reserved">if</strong> (uri == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521                 <strong class="reserved">if</strong> (!fDOMContextBuilt) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522                     <a href="../S/5411.html#L554" title="Defined at 554 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">fillNamespaceContext</a>();
<a id="L523" name="L523"></a> 523                     fDOMContextBuilt = <strong class="reserved">true</strong>;
<a id="L524" name="L524"></a> 524                 <em class="brace">}</em>
<a id="L525" name="L525"></a> 525                 <strong class="reserved">if</strong> (fNamespaceSize &gt; 0 &amp;&amp;
<a id="L526" name="L526"></a> 526                     !fNamespaceContext.<a href="../S/5299.html#L361" title="Defined at 361 in src/com/sun/org/apache/xerces/internal/util/NamespaceSupport.java.">containsPrefix</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>)) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                     uri = <a href="../S/5411.html#L601" title="Defined at 601 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">getURI0</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L528" name="L528"></a> 528                 <em class="brace">}</em>
<a id="L529" name="L529"></a> 529             <em class="brace">}</em>
<a id="L530" name="L530"></a> 530             <strong class="reserved">return</strong> uri;
<a id="L531" name="L531"></a> 531         <em class="brace">}</em>
<a id="L532" name="L532"></a> 532 
<a id="L533" name="L533"></a> 533         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18418.html" title="Multiple referred from 112 places.">getPrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L534" name="L534"></a> 534             <strong class="reserved">return</strong> fNamespaceContext.<a href="../D/21592.html" title="Multiple defined in 61 places.">getPrefix</a>(uri);
<a id="L535" name="L535"></a> 535         <em class="brace">}</em>
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15991.html" title="Multiple referred from 8 places.">getDeclaredPrefixCount</a>() <em class="brace">{</em>
<a id="L538" name="L538"></a> 538             <strong class="reserved">return</strong> fNamespaceContext.<a href="../D/18259.html" title="Multiple defined in 4 places.">getDeclaredPrefixCount</a>();
<a id="L539" name="L539"></a> 539         <em class="brace">}</em>
<a id="L540" name="L540"></a> 540 
<a id="L541" name="L541"></a> 541         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15990.html" title="Multiple referred from 8 places.">getDeclaredPrefixAt</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542             <strong class="reserved">return</strong> fNamespaceContext.<a href="../D/18258.html" title="Multiple defined in 4 places.">getDeclaredPrefixAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L543" name="L543"></a> 543         <em class="brace">}</em>
<a id="L544" name="L544"></a> 544 
<a id="L545" name="L545"></a> 545         <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../R/15023.html" title="Multiple referred from 4 places.">getAllPrefixes</a>() <em class="brace">{</em>
<a id="L546" name="L546"></a> 546             <strong class="reserved">return</strong> fNamespaceContext.<a href="../D/16887.html" title="Multiple defined in 5 places.">getAllPrefixes</a>();
<a id="L547" name="L547"></a> 547         <em class="brace">}</em>
<a id="L548" name="L548"></a> 548 
<a id="L549" name="L549"></a> 549         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>() <em class="brace">{</em>
<a id="L550" name="L550"></a> 550             fDOMContextBuilt = <strong class="reserved">false</strong>;
<a id="L551" name="L551"></a> 551             fNamespaceSize = 0;
<a id="L552" name="L552"></a> 552         <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<a id="L554" name="L554"></a> 554         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5411.html#L522" title="Referred from 522 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">fillNamespaceContext</a>() <em class="brace">{</em>
<a id="L555" name="L555"></a> 555             <strong class="reserved">if</strong> (fRoot != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L556" name="L556"></a> 556                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> currentNode = fRoot.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L557" name="L557"></a> 557                 <strong class="reserved">while</strong> (currentNode != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558                     <strong class="reserved">if</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE == currentNode.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()) <em class="brace">{</em>
<a id="L559" name="L559"></a> 559                         <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = currentNode.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L560" name="L560"></a> 560                         <strong class="reserved">final</strong> <strong class="reserved">int</strong> attrCount = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L561" name="L561"></a> 561                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; attrCount; ++i) <em class="brace">{</em>
<a id="L562" name="L562"></a> 562                             <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>) <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L563" name="L563"></a> 563                             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L564" name="L564"></a> 564                             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565                                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING;
<a id="L566" name="L566"></a> 566                             <em class="brace">}</em>
<a id="L567" name="L567"></a> 567                             <a href="../D/16051.html" title="Multiple defined in 5 places.">fillQName</a>(fAttributeQName, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L568" name="L568"></a> 568                             <em class="comment">// REVISIT: Should we be looking at non-namespace attributes</em>
<a id="L569" name="L569"></a> 569                             <em class="comment">// for additional mappings? Should we detect illegal namespace</em>
<a id="L570" name="L570"></a> 570                             <em class="comment">// declarations and exclude them from the context? -- mrglavas</em>
<a id="L571" name="L571"></a> 571                             <strong class="reserved">if</strong> (fAttributeQName.uri == <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XMLNS_URI) <em class="brace">{</em>
<a id="L572" name="L572"></a> 572                                 <em class="comment">// process namespace attribute</em>
<a id="L573" name="L573"></a> 573                                 <strong class="reserved">if</strong> (fAttributeQName.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.PREFIX_XMLNS) <em class="brace">{</em>
<a id="L574" name="L574"></a> 574                                     <a href="../S/5411.html#L588" title="Defined at 588 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">declarePrefix0</a>(fAttributeQName.localpart, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0 ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) : <strong class="reserved">null</strong>);
<a id="L575" name="L575"></a> 575                                 <em class="brace">}</em>
<a id="L576" name="L576"></a> 576                                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L577" name="L577"></a> 577                                     <a href="../S/5411.html#L588" title="Defined at 588 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">declarePrefix0</a>(<a href="../S/5315.html#L28" title="Defined at 28 in src/com/sun/org/apache/xerces/internal/util/XMLSymbols.java.">XMLSymbols</a>.EMPTY_STRING, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0 ? fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) : <strong class="reserved">null</strong>);
<a id="L578" name="L578"></a> 578                                 <em class="brace">}</em>
<a id="L579" name="L579"></a> 579                             <em class="brace">}</em>
<a id="L580" name="L580"></a> 580                         <em class="brace">}</em>
<a id="L581" name="L581"></a> 581 
<a id="L582" name="L582"></a> 582                     <em class="brace">}</em>
<a id="L583" name="L583"></a> 583                     currentNode = currentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L584" name="L584"></a> 584                 <em class="brace">}</em>
<a id="L585" name="L585"></a> 585             <em class="brace">}</em>
<a id="L586" name="L586"></a> 586         <em class="brace">}</em>
<a id="L587" name="L587"></a> 587 
<a id="L588" name="L588"></a> 588         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/12938.html" title="Multiple referred from 2 places.">declarePrefix0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L589" name="L589"></a> 589             <em class="comment">// resize array, if needed</em>
<a id="L590" name="L590"></a> 590             <strong class="reserved">if</strong> (fNamespaceSize == fNamespace.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] namespacearray = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[fNamespaceSize * 2];
<a id="L592" name="L592"></a> 592                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(fNamespace, 0, namespacearray, 0, fNamespaceSize);
<a id="L593" name="L593"></a> 593                 fNamespace = namespacearray;
<a id="L594" name="L594"></a> 594             <em class="brace">}</em>
<a id="L595" name="L595"></a> 595 
<a id="L596" name="L596"></a> 596             <em class="comment">// bind prefix to uri in current context</em>
<a id="L597" name="L597"></a> 597             fNamespace[fNamespaceSize++] = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L598" name="L598"></a> 598             fNamespace[fNamespaceSize++] = uri;
<a id="L599" name="L599"></a> 599         <em class="brace">}</em>
<a id="L600" name="L600"></a> 600 
<a id="L601" name="L601"></a> 601         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/5411.html#L527" title="Referred from 527 in src/com/sun/org/apache/xerces/internal/jaxp/validation/DOMValidatorHelper.java.">getURI0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602             <em class="comment">// find prefix in the DOM context</em>
<a id="L603" name="L603"></a> 603             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; fNamespaceSize; i += 2) <em class="brace">{</em>
<a id="L604" name="L604"></a> 604                 <strong class="reserved">if</strong> (fNamespace[i] == <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605                     <strong class="reserved">return</strong> fNamespace[i + 1];
<a id="L606" name="L606"></a> 606                 <em class="brace">}</em>
<a id="L607" name="L607"></a> 607             <em class="brace">}</em>
<a id="L608" name="L608"></a> 608             <em class="comment">// prefix not found</em>
<a id="L609" name="L609"></a> 609             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L610" name="L610"></a> 610         <em class="brace">}</em>
<a id="L611" name="L611"></a> 611     <em class="brace">}</em>
<a id="L612" name="L612"></a> 612 
<a id="L613" name="L613"></a> 613 <em class="brace">}</em> <em class="comment">// DOMValidatorHelper</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L170">[^]</a><a href="#L601">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>