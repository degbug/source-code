<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L170">[^]</a><a href="#L2652">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L170" title="Defined at 170.">fillInStackTrace</a></li>
<li><a href="#L320" title="Defined at 320.">getDocumentClassName</a></li>
<li><a href="#L338" title="Defined at 338.">setDocumentClassName</a></li>
<li><a href="#L379" title="Defined at 379.">getDocument</a></li>
<li><a href="#L386" title="Defined at 386.">dropDocumentReferences</a></li>
<li><a href="#L406" title="Defined at 406.">reset</a></li>
<li><a href="#L462" title="Defined at 462.">setLocale</a></li>
<li><a href="#L488" title="Defined at 488.">startGeneralEntity</a></li>
<li><a href="#L578" title="Defined at 578.">textDecl</a></li>
<li><a href="#L604" title="Defined at 604.">comment</a></li>
<li><a href="#L677" title="Defined at 677.">processingInstruction</a></li>
<li><a href="#L758" title="Defined at 758.">startDocument</a></li>
<li><a href="#L861" title="Defined at 861.">xmlDecl</a></li>
<li><a href="#L894" title="Defined at 894.">doctypeDecl</a></li>
<li><a href="#L924" title="Defined at 924.">startElement</a></li>
<li><a href="#L1135" title="Defined at 1135.">emptyElement</a></li>
<li><a href="#L1151" title="Defined at 1151.">characters</a></li>
<li><a href="#L1250" title="Defined at 1250.">ignorableWhitespace</a></li>
<li><a href="#L1288" title="Defined at 1288.">endElement</a></li>
<li><a href="#L1401" title="Defined at 1401.">startCDATA</a></li>
<li><a href="#L1420" title="Defined at 1420.">endCDATA</a></li>
<li><a href="#L1474" title="Defined at 1474.">endDocument</a></li>
<li><a href="#L1512" title="Defined at 1512.">endGeneralEntity</a></li>
<li><a href="#L1690" title="Defined at 1690.">handleBaseURI</a></li>
<li><a href="#L1740" title="Defined at 1740.">handleBaseURI</a></li>
<li><a href="#L1796" title="Defined at 1796.">startDTD</a></li>
<li><a href="#L1823" title="Defined at 1823.">endDTD</a></li>
<li><a href="#L1858" title="Defined at 1858.">startConditional</a></li>
<li><a href="#L1869" title="Defined at 1869.">endConditional</a></li>
<li><a href="#L1881" title="Defined at 1881.">startExternalSubset</a></li>
<li><a href="#L1902" title="Defined at 1902.">endExternalSubset</a></li>
<li><a href="#L1923" title="Defined at 1923.">internalEntityDecl</a></li>
<li><a href="#L2007" title="Defined at 2007.">externalEntityDecl</a></li>
<li><a href="#L2103" title="Defined at 2103.">startParameterEntity</a></li>
<li><a href="#L2133" title="Defined at 2133.">endParameterEntity</a></li>
<li><a href="#L2153" title="Defined at 2153.">unparsedEntityDecl</a></li>
<li><a href="#L2241" title="Defined at 2241.">notationDecl</a></li>
<li><a href="#L2314" title="Defined at 2314.">ignoredCharacters</a></li>
<li><a href="#L2328" title="Defined at 2328.">elementDecl</a></li>
<li><a href="#L2367" title="Defined at 2367.">attributeDecl</a></li>
<li><a href="#L2521" title="Defined at 2521.">startAttlist</a></li>
<li><a href="#L2533" title="Defined at 2533.">endAttlist</a></li>
<li><a href="#L2539" title="Defined at 2539.">createElementNode</a></li>
<li><a href="#L2562" title="Defined at 2562.">createAttrNode</a></li>
<li><a href="#L2598" title="Defined at 2598.">setCharacterData</a></li>
<li><a href="#L2652" title="Defined at 2652.">abort</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001-2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.parsers;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.util.Locale;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.util.Stack;
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.AttrImpl;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DOMErrorImpl;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DOMMessageFormatter;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DeferredDocumentImpl;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DocumentImpl;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DocumentTypeImpl;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.ElementDefinitionImpl;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.ElementImpl;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.ElementNSImpl;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.EntityImpl;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.EntityReferenceImpl;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.NodeImpl;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.NotationImpl;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.PSVIAttrNSImpl;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.PSVIDocumentImpl;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.PSVIElementNSImpl;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.TextImpl;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.Constants;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.XSSimpleType;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.DOMErrorHandlerWrapper;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.Augmentations;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.NamespaceContext;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.QName;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XMLAttributes;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XMLLocator;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XMLResourceIdentifier;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XMLString;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XNIException;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.parser.XMLParserConfiguration;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.AttributePSVI;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.ElementPSVI;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSTypeDefinition;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.utils.ObjectFactory;
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> org.w3c.dom.CDATASection;
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> org.w3c.dom.Comment;
<a id="L63" name="L63"></a>  63 <strong class="reserved">import</strong> org.w3c.dom.DOMError;
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> org.w3c.dom.DocumentType;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> org.w3c.dom.EntityReference;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> org.w3c.dom.NamedNodeMap;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> org.w3c.dom.NodeList;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> org.w3c.dom.ProcessingInstruction;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> org.w3c.dom.Text;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> org.w3c.dom.ls.LSParserFilter;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> org.w3c.dom.traversal.NodeFilter;
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L76" name="L76"></a>  76 
<div class="comment">
  This is the base class of all DOM parsers. It implements the XNI
  callback methods to create the DOM tree. After a successful parse of
  an XML document, the DOM Document object can be queried using the
  <code>getDocument</code> method. The actual pipeline is defined in
  parser configuration.
  @author Arnaud Le Hors, IBM
  @author Andy Clark, IBM
  @author Elena Litani, IBM
  @version $Id: AbstractDOMParser.java,v 1.10 2010-11-01 04:40:09 joehw Exp $</div>
<a id="L90" name="L90"></a>  90 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/77.html" title="Multiple referred from 2 places.">AbstractDOMParser</a> <strong class="reserved">extends</strong> <a href="../S/5269.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/parsers/AbstractXMLDocumentParser.java.">AbstractXMLDocumentParser</a> <em class="brace">{</em>
<a id="L91" name="L91"></a>  91 
<a id="L92" name="L92"></a>  92     <em class="comment">//</em>
<a id="L93" name="L93"></a>  93     <em class="comment">// Constants</em>
<a id="L94" name="L94"></a>  94     <em class="comment">//</em>
<a id="L95" name="L95"></a>  95 
<a id="L96" name="L96"></a>  96     <em class="comment">// feature ids</em>
<a id="L97" name="L97"></a>  97 
<div class="comment">
     /** Feature id: namespace. */</div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> NAMESPACES =
<a id="L100" name="L100"></a> 100     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SAX_FEATURE_PREFIX+<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.NAMESPACES_FEATURE;
<a id="L101" name="L101"></a> 101 
<div class="comment">
     /** Feature id: create entity ref nodes. */</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> CREATE_ENTITY_REF_NODES =
<a id="L104" name="L104"></a> 104     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_FEATURE_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.CREATE_ENTITY_REF_NODES_FEATURE;
<a id="L105" name="L105"></a> 105 
<div class="comment">
     /** Feature id: include comments. */</div>
<a id="L107" name="L107"></a> 107     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> INCLUDE_COMMENTS_FEATURE =
<a id="L108" name="L108"></a> 108     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_FEATURE_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.INCLUDE_COMMENTS_FEATURE;
<a id="L109" name="L109"></a> 109 
<div class="comment">
     /** Feature id: create cdata nodes. */</div>
<a id="L111" name="L111"></a> 111     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> CREATE_CDATA_NODES_FEATURE =
<a id="L112" name="L112"></a> 112     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_FEATURE_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.CREATE_CDATA_NODES_FEATURE;
<a id="L113" name="L113"></a> 113 
<div class="comment">
     /** Feature id: include ignorable whitespace. */</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> INCLUDE_IGNORABLE_WHITESPACE =
<a id="L116" name="L116"></a> 116     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_FEATURE_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.INCLUDE_IGNORABLE_WHITESPACE;
<a id="L117" name="L117"></a> 117 
<div class="comment">
     /** Feature id: defer node expansion. */</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> DEFER_NODE_EXPANSION =
<a id="L120" name="L120"></a> 120     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_FEATURE_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.DEFER_NODE_EXPANSION_FEATURE;
<a id="L121" name="L121"></a> 121 
<a id="L122" name="L122"></a> 122 
<div class="comment">
     /** Recognized features. */</div>
<a id="L124" name="L124"></a> 124     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] RECOGNIZED_FEATURES = <em class="brace">{</em>
<a id="L125" name="L125"></a> 125         NAMESPACES,
<a id="L126" name="L126"></a> 126         CREATE_ENTITY_REF_NODES,
<a id="L127" name="L127"></a> 127         INCLUDE_COMMENTS_FEATURE,
<a id="L128" name="L128"></a> 128         CREATE_CDATA_NODES_FEATURE,
<a id="L129" name="L129"></a> 129         INCLUDE_IGNORABLE_WHITESPACE,
<a id="L130" name="L130"></a> 130         DEFER_NODE_EXPANSION
<a id="L131" name="L131"></a> 131     <em class="brace">}</em>;
<a id="L132" name="L132"></a> 132 
<a id="L133" name="L133"></a> 133     <em class="comment">// property ids</em>
<a id="L134" name="L134"></a> 134 
<div class="comment">
     /** Property id: document class name. */</div>
<a id="L136" name="L136"></a> 136     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> DOCUMENT_CLASS_NAME =
<a id="L137" name="L137"></a> 137     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.DOCUMENT_CLASS_NAME_PROPERTY;
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  CURRENT_ELEMENT_NODE=
<a id="L140" name="L140"></a> 140     <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.XERCES_PROPERTY_PREFIX + <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.CURRENT_ELEMENT_NODE_PROPERTY;
<a id="L141" name="L141"></a> 141 
<a id="L142" name="L142"></a> 142     <em class="comment">// protected static final String GRAMMAR_POOL =</em>
<a id="L143" name="L143"></a> 143     <em class="comment">// Constants.XERCES_PROPERTY_PREFIX + Constants.XMLGRAMMAR_POOL_PROPERTY;</em>
<a id="L144" name="L144"></a> 144 
<div class="comment">
     /** Recognized properties. */</div>
<a id="L146" name="L146"></a> 146     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] RECOGNIZED_PROPERTIES = <em class="brace">{</em>
<a id="L147" name="L147"></a> 147         DOCUMENT_CLASS_NAME,
<a id="L148" name="L148"></a> 148         CURRENT_ELEMENT_NODE,
<a id="L149" name="L149"></a> 149     <em class="brace">}</em>;
<a id="L150" name="L150"></a> 150 
<a id="L151" name="L151"></a> 151     <em class="comment">// other</em>
<a id="L152" name="L152"></a> 152 
<div class="comment">
     /** Default document class name. */</div>
<a id="L154" name="L154"></a> 154     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> DEFAULT_DOCUMENT_CLASS_NAME =
<a id="L155" name="L155"></a> 155     "com.sun.org.apache.xerces.internal.dom.DocumentImpl";
<a id="L156" name="L156"></a> 156 
<a id="L157" name="L157"></a> 157     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> CORE_DOCUMENT_CLASS_NAME =
<a id="L158" name="L158"></a> 158     "com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl";
<a id="L159" name="L159"></a> 159 
<a id="L160" name="L160"></a> 160     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> PSVI_DOCUMENT_CLASS_NAME =
<a id="L161" name="L161"></a> 161     "com.sun.org.apache.xerces.internal.dom.PSVIDocumentImpl";
<a id="L162" name="L162"></a> 162 
<div class="comment">
      If the user stops the process, this exception will be thrown.</div>
<a id="L166" name="L166"></a> 166     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/60.html" title="Multiple referred from 55 places.">Abort</a> <strong class="reserved">extends</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> <em class="brace">{</em>
<a id="L167" name="L167"></a> 167         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 1687848994976808490L;
<a id="L168" name="L168"></a> 168         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a> INSTANCE = <strong class="reserved">new</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>();
<a id="L169" name="L169"></a> 169         <strong class="reserved">private</strong> Abort() <em class="brace">{</em><em class="brace">}</em>
<a id="L170" name="L170"></a> 170         <strong class="reserved">public</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/14304.html" title="Multiple referred from 29 places.">fillInStackTrace</a>() <em class="brace">{</em>
<a id="L171" name="L171"></a> 171             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L172" name="L172"></a> 172         <em class="brace">}</em>
<a id="L173" name="L173"></a> 173     <em class="brace">}</em>
<a id="L174" name="L174"></a> 174 
<a id="L175" name="L175"></a> 175     <em class="comment">// debugging</em>
<a id="L176" name="L176"></a> 176 
<a id="L177" name="L177"></a> 177     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> DEBUG_EVENTS = <strong class="reserved">false</strong>;
<a id="L178" name="L178"></a> 178     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> DEBUG_BASEURI = <strong class="reserved">false</strong>;
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180     <em class="comment">//</em>
<a id="L181" name="L181"></a> 181     <em class="comment">// Data</em>
<a id="L182" name="L182"></a> 182     <em class="comment">//</em>
<a id="L183" name="L183"></a> 183 
<div class="comment">
     /** DOM L3 error handler */</div>
<a id="L185" name="L185"></a> 185     <strong class="reserved">protected</strong> <a href="../S/5293.html#L53" title="Defined at 53 in src/com/sun/org/apache/xerces/internal/util/DOMErrorHandlerWrapper.java.">DOMErrorHandlerWrapper</a> fErrorHandler = <strong class="reserved">null</strong>;
<a id="L186" name="L186"></a> 186 
<div class="comment">
     /** True if inside DTD. */</div>
<a id="L188" name="L188"></a> 188     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fInDTD;
<a id="L189" name="L189"></a> 189 
<a id="L190" name="L190"></a> 190     <em class="comment">// features</em>
<a id="L191" name="L191"></a> 191 
<div class="comment">
     /** Create entity reference nodes. */</div>
<a id="L193" name="L193"></a> 193     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fCreateEntityRefNodes;
<a id="L194" name="L194"></a> 194 
<div class="comment">
     /** Include ignorable whitespace. */</div>
<a id="L196" name="L196"></a> 196     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fIncludeIgnorableWhitespace;
<a id="L197" name="L197"></a> 197 
<div class="comment">
     /** Include Comments. */</div>
<a id="L199" name="L199"></a> 199     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fIncludeComments;
<a id="L200" name="L200"></a> 200 
<div class="comment">
     /** Create cdata nodes. */</div>
<a id="L202" name="L202"></a> 202     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fCreateCDATANodes;
<a id="L203" name="L203"></a> 203 
<a id="L204" name="L204"></a> 204     <em class="comment">// dom information</em>
<a id="L205" name="L205"></a> 205 
<div class="comment">
     /** The document. */</div>
<a id="L207" name="L207"></a> 207     <strong class="reserved">protected</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> fDocument;
<a id="L208" name="L208"></a> 208 
<div class="comment">
     /** The default Xerces document implementation, if used. */</div>
<a id="L210" name="L210"></a> 210     <strong class="reserved">protected</strong> <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> fDocumentImpl;
<a id="L211" name="L211"></a> 211 
<div class="comment">
     /** Whether to store PSVI information in DOM tree. */</div>
<a id="L213" name="L213"></a> 213     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fStorePSVI;
<a id="L214" name="L214"></a> 214 
<div class="comment">
     /** The document class name to use. */</div>
<a id="L216" name="L216"></a> 216     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  fDocumentClassName;
<a id="L217" name="L217"></a> 217 
<div class="comment">
     /** The document type node. */</div>
<a id="L219" name="L219"></a> 219     <strong class="reserved">protected</strong> <a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> fDocumentType;
<a id="L220" name="L220"></a> 220 
<div class="comment">
     /** Current node. */</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">protected</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> fCurrentNode;
<a id="L223" name="L223"></a> 223     <strong class="reserved">protected</strong> <a href="../S/129.html#L82" title="Defined at 82 in src/org/w3c/dom/CDATASection.java.">CDATASection</a> fCurrentCDATASection;
<a id="L224" name="L224"></a> 224     <strong class="reserved">protected</strong> <a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a> fCurrentEntityDecl;
<a id="L225" name="L225"></a> 225     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> fDeferredEntityDecl;
<a id="L226" name="L226"></a> 226 
<div class="comment">
     /** Character buffer */</div>
<a id="L228" name="L228"></a> 228     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> fStringBuilder = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> (50);
<a id="L229" name="L229"></a> 229 
<a id="L230" name="L230"></a> 230     <em class="comment">// internal subset</em>
<a id="L231" name="L231"></a> 231 
<div class="comment">
     /** Internal subset buffer. */</div>
<a id="L233" name="L233"></a> 233     <strong class="reserved">protected</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> fInternalSubset;
<a id="L234" name="L234"></a> 234 
<a id="L235" name="L235"></a> 235     <em class="comment">// deferred expansion data</em>
<a id="L236" name="L236"></a> 236 
<a id="L237" name="L237"></a> 237     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong>              fDeferNodeExpansion;
<a id="L238" name="L238"></a> 238     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong>              fNamespaceAware;
<a id="L239" name="L239"></a> 239     <strong class="reserved">protected</strong> <a href="../S/5427.html#L46" title="Defined at 46 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">DeferredDocumentImpl</a> fDeferredDocumentImpl;
<a id="L240" name="L240"></a> 240     <strong class="reserved">protected</strong> <strong class="reserved">int</strong>                  fDocumentIndex;
<a id="L241" name="L241"></a> 241     <strong class="reserved">protected</strong> <strong class="reserved">int</strong>                  fDocumentTypeIndex;
<a id="L242" name="L242"></a> 242     <strong class="reserved">protected</strong> <strong class="reserved">int</strong>                  fCurrentNodeIndex;
<a id="L243" name="L243"></a> 243     <strong class="reserved">protected</strong> <strong class="reserved">int</strong>                  fCurrentCDATASectionIndex;
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245     <em class="comment">// state</em>
<a id="L246" name="L246"></a> 246 
<div class="comment">
     /** True if inside DTD external subset. */</div>
<a id="L248" name="L248"></a> 248     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fInDTDExternalSubset;
<a id="L249" name="L249"></a> 249 
<div class="comment">
     /** Root element node. */</div>
<a id="L251" name="L251"></a> 251     <strong class="reserved">protected</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> fRoot;
<a id="L252" name="L252"></a> 252 
<div class="comment">
     /** True if inside CDATA section. */</div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fInCDATASection;
<a id="L255" name="L255"></a> 255 
<div class="comment">
     /** True if saw the first chunk of characters*/</div>
<a id="L257" name="L257"></a> 257     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fFirstChunk = <strong class="reserved">false</strong>;
<a id="L258" name="L258"></a> 258 
<a id="L259" name="L259"></a> 259 
<div class="comment">
 LSParserFilter: specifies that element with given QNAME and all its children
     * must be rejected </div>
<a id="L262" name="L262"></a> 262     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fFilterReject = <strong class="reserved">false</strong>;
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264     <em class="comment">// data</em>
<a id="L265" name="L265"></a> 265 
<div class="comment">
     /** Base uri stack*/</div>
<a id="L267" name="L267"></a> 267     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a> fBaseURIStack = <strong class="reserved">new</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a> ();
<a id="L268" name="L268"></a> 268 
<div class="comment">
     /** LSParserFilter: tracks the element depth within a rejected subtree. */</div>
<a id="L270" name="L270"></a> 270     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> fRejectedElementDepth = 0;
<a id="L271" name="L271"></a> 271 
<div class="comment">
     /** LSParserFilter: store depth of skipped elements */</div>
<a id="L273" name="L273"></a> 273     <strong class="reserved">protected</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a> fSkippedElemStack = <strong class="reserved">null</strong>;
<a id="L274" name="L274"></a> 274 
<div class="comment">
     /** LSParserFilter: true if inside entity reference */</div>
<a id="L276" name="L276"></a> 276     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fInEntityRef = <strong class="reserved">false</strong>;
<a id="L277" name="L277"></a> 277 
<div class="comment">
     /** Attribute QName. */</div>
<a id="L279" name="L279"></a> 279     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> fAttrQName = <strong class="reserved">new</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>();
<a id="L280" name="L280"></a> 280 
<div class="comment">
     /** Document locator. */</div>
<a id="L282" name="L282"></a> 282     <strong class="reserved">private</strong> <a href="../S/5517.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/xni/XMLLocator.java.">XMLLocator</a> fLocator;
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284     <em class="comment">// handlers</em>
<a id="L285" name="L285"></a> 285 
<a id="L286" name="L286"></a> 286     <strong class="reserved">protected</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a> fDOMFilter = <strong class="reserved">null</strong>;
<a id="L287" name="L287"></a> 287 
<a id="L288" name="L288"></a> 288     <em class="comment">//</em>
<a id="L289" name="L289"></a> 289     <em class="comment">// Constructors</em>
<a id="L290" name="L290"></a> 290     <em class="comment">//</em>
<a id="L291" name="L291"></a> 291 
<div class="comment">
     /** Default constructor. */</div>
<a id="L293" name="L293"></a> 293     <strong class="reserved">protected</strong> AbstractDOMParser (<a href="../S/5498.html#L79" title="Defined at 79 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLParserConfiguration.java.">XMLParserConfiguration</a> <a href="../D/13217.html" title="Multiple defined in 5 places.">config</a>) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295         <strong class="reserved">super</strong> (<a href="../D/13217.html" title="Multiple defined in 5 places.">config</a>);
<a id="L296" name="L296"></a> 296 
<a id="L297" name="L297"></a> 297 
<a id="L298" name="L298"></a> 298         <em class="comment">// add recognized features</em>
<a id="L299" name="L299"></a> 299         fConfiguration.<a href="../D/11026.html" title="Multiple defined in 2 places.">addRecognizedFeatures</a> (RECOGNIZED_FEATURES);
<a id="L300" name="L300"></a> 300 
<a id="L301" name="L301"></a> 301         <em class="comment">// set default values</em>
<a id="L302" name="L302"></a> 302         fConfiguration.<a href="../D/32684.html" title="Multiple defined in 62 places.">setFeature</a> (CREATE_ENTITY_REF_NODES, <strong class="reserved">true</strong>);
<a id="L303" name="L303"></a> 303         fConfiguration.<a href="../D/32684.html" title="Multiple defined in 62 places.">setFeature</a> (INCLUDE_IGNORABLE_WHITESPACE, <strong class="reserved">true</strong>);
<a id="L304" name="L304"></a> 304         fConfiguration.<a href="../D/32684.html" title="Multiple defined in 62 places.">setFeature</a> (DEFER_NODE_EXPANSION, <strong class="reserved">true</strong>);
<a id="L305" name="L305"></a> 305         fConfiguration.<a href="../D/32684.html" title="Multiple defined in 62 places.">setFeature</a> (INCLUDE_COMMENTS_FEATURE, <strong class="reserved">true</strong>);
<a id="L306" name="L306"></a> 306         fConfiguration.<a href="../D/32684.html" title="Multiple defined in 62 places.">setFeature</a> (CREATE_CDATA_NODES_FEATURE, <strong class="reserved">true</strong>);
<a id="L307" name="L307"></a> 307 
<a id="L308" name="L308"></a> 308         <em class="comment">// add recognized properties</em>
<a id="L309" name="L309"></a> 309         fConfiguration.<a href="../D/11028.html" title="Multiple defined in 2 places.">addRecognizedProperties</a> (RECOGNIZED_PROPERTIES);
<a id="L310" name="L310"></a> 310 
<a id="L311" name="L311"></a> 311         <em class="comment">// set default values</em>
<a id="L312" name="L312"></a> 312         fConfiguration.<a href="../D/33622.html" title="Multiple defined in 81 places.">setProperty</a> (DOCUMENT_CLASS_NAME,
<a id="L313" name="L313"></a> 313         DEFAULT_DOCUMENT_CLASS_NAME);
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315     <em class="brace">}</em> <em class="comment">// &lt;init&gt;(XMLParserConfiguration)</em>
<a id="L316" name="L316"></a> 316 
<div class="comment">
      This method retrieves the name of current document class.</div>
<a id="L320" name="L320"></a> 320     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getDocumentClassName () <em class="brace">{</em>
<a id="L321" name="L321"></a> 321         <strong class="reserved">return</strong> fDocumentClassName;
<a id="L322" name="L322"></a> 322     <em class="brace">}</em>
<a id="L323" name="L323"></a> 323 
<div class="comment">
      This method allows the programmer to decide which document
      factory to use when constructing the DOM tree. However, doing
      so will lose the functionality of the default factory. Also,
      a document class other than the default will lose the ability
      to defer node expansion on the DOM tree produced.
      @param documentClassName The fully qualified class name of the
                           document factory to use when constructing
                           the DOM tree.
      @see #getDocumentClassName
      @see #DEFAULT_DOCUMENT_CLASS_NAME</div>
<a id="L338" name="L338"></a> 338     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/5273.html#L427" title="Referred from 427 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setDocumentClassName</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> documentClassName) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340         <em class="comment">// normalize class name</em>
<a id="L341" name="L341"></a> 341         <strong class="reserved">if</strong> (documentClassName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342             documentClassName = DEFAULT_DOCUMENT_CLASS_NAME;
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345         <strong class="reserved">if</strong> (!documentClassName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(DEFAULT_DOCUMENT_CLASS_NAME) &amp;&amp;
<a id="L346" name="L346"></a> 346             !documentClassName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(PSVI_DOCUMENT_CLASS_NAME)) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347             <em class="comment">// verify that this class exists and is of the right type</em>
<a id="L348" name="L348"></a> 348             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L349" name="L349"></a> 349                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> _class = <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>.<a href="../D/16218.html" title="Multiple defined in 4 places.">findProviderClass</a> (documentClassName, <strong class="reserved">true</strong>);
<a id="L350" name="L350"></a> 350                 <em class="comment">//if (!_class.isAssignableFrom(Document.class)) {</em>
<a id="L351" name="L351"></a> 351                 <strong class="reserved">if</strong> (!<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>.<strong class="reserved">class</strong>.<a href="../D/25213.html" title="Multiple defined in 7 places.">isAssignableFrom</a> (_class)) <em class="brace">{</em>
<a id="L352" name="L352"></a> 352                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> (
<a id="L353" name="L353"></a> 353                         <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L354" name="L354"></a> 354                         <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L355" name="L355"></a> 355                         "InvalidDocumentClassName", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [] <em class="brace">{</em>documentClassName<em class="brace">}</em>));
<a id="L356" name="L356"></a> 356                 <em class="brace">}</em>
<a id="L357" name="L357"></a> 357             <em class="brace">}</em>
<a id="L358" name="L358"></a> 358             <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> (
<a id="L360" name="L360"></a> 360                     <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L361" name="L361"></a> 361                     <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L362" name="L362"></a> 362                     "MissingDocumentClassName", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [] <em class="brace">{</em>documentClassName<em class="brace">}</em>));
<a id="L363" name="L363"></a> 363             <em class="brace">}</em>
<a id="L364" name="L364"></a> 364         <em class="brace">}</em>
<a id="L365" name="L365"></a> 365 
<a id="L366" name="L366"></a> 366         <em class="comment">// set document class name</em>
<a id="L367" name="L367"></a> 367         fDocumentClassName = documentClassName;
<a id="L368" name="L368"></a> 368         <strong class="reserved">if</strong> (!documentClassName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (DEFAULT_DOCUMENT_CLASS_NAME)) <em class="brace">{</em>
<a id="L369" name="L369"></a> 369             fDeferNodeExpansion = <strong class="reserved">false</strong>;
<a id="L370" name="L370"></a> 370         <em class="brace">}</em>
<a id="L371" name="L371"></a> 371 
<a id="L372" name="L372"></a> 372     <em class="brace">}</em> <em class="comment">// setDocumentClassName(String)</em>
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374     <em class="comment">//</em>
<a id="L375" name="L375"></a> 375     <em class="comment">// Public methods</em>
<a id="L376" name="L376"></a> 376     <em class="comment">//</em>
<a id="L377" name="L377"></a> 377 
<div class="comment">
     /** Returns the DOM document object. */</div>
<a id="L379" name="L379"></a> 379     <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a> () <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         <strong class="reserved">return</strong> fDocument;
<a id="L381" name="L381"></a> 381     <em class="brace">}</em> <em class="comment">// getDocument():Document</em>
<a id="L382" name="L382"></a> 382 
<div class="comment">
      Drops all references to the last DOM which was built by this parser.</div>
<a id="L386" name="L386"></a> 386     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/13588.html" title="Multiple referred from 4 places.">dropDocumentReferences</a>() <em class="brace">{</em>
<a id="L387" name="L387"></a> 387         fDocument = <strong class="reserved">null</strong>;
<a id="L388" name="L388"></a> 388         fDocumentImpl = <strong class="reserved">null</strong>;
<a id="L389" name="L389"></a> 389         fDeferredDocumentImpl = <strong class="reserved">null</strong>;
<a id="L390" name="L390"></a> 390         fDocumentType = <strong class="reserved">null</strong>;
<a id="L391" name="L391"></a> 391         fCurrentNode = <strong class="reserved">null</strong>;
<a id="L392" name="L392"></a> 392         fCurrentCDATASection = <strong class="reserved">null</strong>;
<a id="L393" name="L393"></a> 393         fCurrentEntityDecl = <strong class="reserved">null</strong>;
<a id="L394" name="L394"></a> 394         fRoot = <strong class="reserved">null</strong>;
<a id="L395" name="L395"></a> 395     <em class="brace">}</em> <em class="comment">// dropDocumentReferences()</em>
<a id="L396" name="L396"></a> 396 
<a id="L397" name="L397"></a> 397     <em class="comment">//</em>
<a id="L398" name="L398"></a> 398     <em class="comment">// XMLDocumentParser methods</em>
<a id="L399" name="L399"></a> 399     <em class="comment">//</em>
<a id="L400" name="L400"></a> 400 
<div class="comment">
      Resets the parser state.
      @throws SAXException Thrown on initialization error.</div>
<a id="L406" name="L406"></a> 406     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a> () <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L407" name="L407"></a> 407         <strong class="reserved">super</strong>.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a> ();
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409 
<a id="L410" name="L410"></a> 410         <em class="comment">// get feature state</em>
<a id="L411" name="L411"></a> 411         fCreateEntityRefNodes =
<a id="L412" name="L412"></a> 412         fConfiguration.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a> (CREATE_ENTITY_REF_NODES);
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414         fIncludeIgnorableWhitespace =
<a id="L415" name="L415"></a> 415         fConfiguration.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a> (INCLUDE_IGNORABLE_WHITESPACE);
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417         fDeferNodeExpansion =
<a id="L418" name="L418"></a> 418         fConfiguration.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a> (DEFER_NODE_EXPANSION);
<a id="L419" name="L419"></a> 419 
<a id="L420" name="L420"></a> 420         fNamespaceAware = fConfiguration.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a> (NAMESPACES);
<a id="L421" name="L421"></a> 421 
<a id="L422" name="L422"></a> 422         fIncludeComments = fConfiguration.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a> (INCLUDE_COMMENTS_FEATURE);
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424         fCreateCDATANodes = fConfiguration.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a> (CREATE_CDATA_NODES_FEATURE);
<a id="L425" name="L425"></a> 425 
<a id="L426" name="L426"></a> 426         <em class="comment">// get property</em>
<a id="L427" name="L427"></a> 427         <a href="../S/5273.html#L338" title="Defined at 338 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setDocumentClassName</a> ((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)
<a id="L428" name="L428"></a> 428         fConfiguration.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a> (DOCUMENT_CLASS_NAME));
<a id="L429" name="L429"></a> 429 
<a id="L430" name="L430"></a> 430         <em class="comment">// reset dom information</em>
<a id="L431" name="L431"></a> 431         fDocument = <strong class="reserved">null</strong>;
<a id="L432" name="L432"></a> 432         fDocumentImpl = <strong class="reserved">null</strong>;
<a id="L433" name="L433"></a> 433         fStorePSVI = <strong class="reserved">false</strong>;
<a id="L434" name="L434"></a> 434         fDocumentType = <strong class="reserved">null</strong>;
<a id="L435" name="L435"></a> 435         fDocumentTypeIndex = -1;
<a id="L436" name="L436"></a> 436         fDeferredDocumentImpl = <strong class="reserved">null</strong>;
<a id="L437" name="L437"></a> 437         fCurrentNode = <strong class="reserved">null</strong>;
<a id="L438" name="L438"></a> 438 
<a id="L439" name="L439"></a> 439         <em class="comment">// reset string buffer</em>
<a id="L440" name="L440"></a> 440         fStringBuilder.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a> (0);
<a id="L441" name="L441"></a> 441 
<a id="L442" name="L442"></a> 442         <em class="comment">// reset state information</em>
<a id="L443" name="L443"></a> 443         fRoot = <strong class="reserved">null</strong>;
<a id="L444" name="L444"></a> 444         fInDTD = <strong class="reserved">false</strong>;
<a id="L445" name="L445"></a> 445         fInDTDExternalSubset = <strong class="reserved">false</strong>;
<a id="L446" name="L446"></a> 446         fInCDATASection = <strong class="reserved">false</strong>;
<a id="L447" name="L447"></a> 447         fFirstChunk = <strong class="reserved">false</strong>;
<a id="L448" name="L448"></a> 448         fCurrentCDATASection = <strong class="reserved">null</strong>;
<a id="L449" name="L449"></a> 449         fCurrentCDATASectionIndex = -1;
<a id="L450" name="L450"></a> 450 
<a id="L451" name="L451"></a> 451         fBaseURIStack.<a href="../D/30689.html" title="Multiple defined in 14 places.">removeAllElements</a> ();
<a id="L452" name="L452"></a> 452 
<a id="L453" name="L453"></a> 453 
<a id="L454" name="L454"></a> 454     <em class="brace">}</em> <em class="comment">// reset()</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Set the locale to use for messages.
      @param locale The locale object to use for localization of messages.</div>
<a id="L462" name="L462"></a> 462     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27688.html" title="Multiple referred from 47 places.">setLocale</a> (<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L463" name="L463"></a> 463         fConfiguration.<a href="../D/33132.html" title="Multiple defined in 36 places.">setLocale</a> (<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465     <em class="brace">}</em> <em class="comment">// setLocale(Locale)</em>
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467     <em class="comment">//</em>
<a id="L468" name="L468"></a> 468     <em class="comment">// XMLDocumentHandler methods</em>
<a id="L469" name="L469"></a> 469     <em class="comment">//</em>
<a id="L470" name="L470"></a> 470 
<div class="comment">
      This method notifies the start of a general entity.
      <p>
      <strong>Note:</strong> This method is not called for entity references
      appearing as part of attribute values.
      @param name     The name of the general entity.
      @param identifier The resource identifier.
      @param encoding The auto-detected IANA encoding name of the entity
                      stream. This value will be null in those situations
                      where the entity encoding is not auto-detected (e.g.
                      internal entities or a document entity that is
                      parsed from a java.io.Reader).
      @param augs     Additional information that may include infoset augmentations
      @exception XNIException Thrown by handler to signal an error.</p></div>
<a id="L488" name="L488"></a> 488     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28820.html" title="Multiple referred from 13 places.">startGeneralEntity</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L489" name="L489"></a> 489     <a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> identifier,
<a id="L490" name="L490"></a> 490     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L491" name="L491"></a> 491     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;startGeneralEntity ("+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>+")");
<a id="L494" name="L494"></a> 494             <strong class="reserved">if</strong> (DEBUG_BASEURI) <em class="brace">{</em>
<a id="L495" name="L495"></a> 495                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   expandedSystemId( **baseURI): "+identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L496" name="L496"></a> 496                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   baseURI:"+ identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L497" name="L497"></a> 497             <em class="brace">}</em>
<a id="L498" name="L498"></a> 498         <em class="brace">}</em>
<a id="L499" name="L499"></a> 499 
<a id="L500" name="L500"></a> 500         <em class="comment">// Always create entity reference nodes to be able to recreate</em>
<a id="L501" name="L501"></a> 501         <em class="comment">// entity as a part of doctype</em>
<a id="L502" name="L502"></a> 502         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L503" name="L503"></a> 503             <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504                 <strong class="reserved">return</strong>;
<a id="L505" name="L505"></a> 505             <em class="brace">}</em>
<a id="L506" name="L506"></a> 506             <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">true</strong>);
<a id="L507" name="L507"></a> 507             <a href="../D/2917.html" title="Multiple defined in 2 places.">EntityReference</a> er = fDocument.<a href="../D/13861.html" title="Multiple defined in 6 places.">createEntityReference</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L508" name="L508"></a> 508             <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509                 <em class="comment">// REVISIT: baseURI/actualEncoding</em>
<a id="L510" name="L510"></a> 510                 <em class="comment">//         remove dependency on our implementation when DOM L3 is REC</em>
<a id="L511" name="L511"></a> 511                 <em class="comment">//</em>
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513                 <a href="../S/5430.html#L85" title="Defined at 85 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">EntityReferenceImpl</a> erImpl =(<a href="../S/5430.html#L85" title="Defined at 85 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">EntityReferenceImpl</a>)er;
<a id="L514" name="L514"></a> 514 
<a id="L515" name="L515"></a> 515                 <em class="comment">// set base uri</em>
<a id="L516" name="L516"></a> 516                 erImpl.<a href="../D/31988.html" title="Multiple defined in 7 places.">setBaseURI</a> (identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L517" name="L517"></a> 517                 <strong class="reserved">if</strong> (fDocumentType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518                     <em class="comment">// set actual encoding</em>
<a id="L519" name="L519"></a> 519                     <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> entities = fDocumentType.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a> ();
<a id="L520" name="L520"></a> 520                     fCurrentEntityDecl = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>) entities.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L521" name="L521"></a> 521                     <strong class="reserved">if</strong> (fCurrentEntityDecl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522                         fCurrentEntityDecl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L523" name="L523"></a> 523                     <em class="brace">}</em>
<a id="L524" name="L524"></a> 524 
<a id="L525" name="L525"></a> 525                 <em class="brace">}</em>
<a id="L526" name="L526"></a> 526                 <em class="comment">// we don't need synchronization now, because entity ref will be</em>
<a id="L527" name="L527"></a> 527                 <em class="comment">// expanded anyway. Synch only needed when user creates entityRef node</em>
<a id="L528" name="L528"></a> 528                 erImpl.<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a> (<strong class="reserved">false</strong>);
<a id="L529" name="L529"></a> 529             <em class="brace">}</em>
<a id="L530" name="L530"></a> 530             fInEntityRef = <strong class="reserved">true</strong>;
<a id="L531" name="L531"></a> 531             fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (er);
<a id="L532" name="L532"></a> 532             fCurrentNode = er;
<a id="L533" name="L533"></a> 533         <em class="brace">}</em>
<a id="L534" name="L534"></a> 534         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L535" name="L535"></a> 535 
<a id="L536" name="L536"></a> 536             <strong class="reserved">int</strong> er =
<a id="L537" name="L537"></a> 537             fDeferredDocumentImpl.<a href="../S/5427.html#L354" title="Defined at 354 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredEntityReference</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L538" name="L538"></a> 538             <strong class="reserved">if</strong> (fDocumentTypeIndex != -1) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539                 <em class="comment">// find corresponding Entity decl</em>
<a id="L540" name="L540"></a> 540                 <strong class="reserved">int</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fDocumentTypeIndex, <strong class="reserved">false</strong>);
<a id="L541" name="L541"></a> 541                 <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != -1) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542                     <strong class="reserved">short</strong> nodeType = fDeferredDocumentImpl.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L543" name="L543"></a> 543                     <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_NODE) <em class="brace">{</em>
<a id="L544" name="L544"></a> 544                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a> =
<a id="L545" name="L545"></a> 545                         fDeferredDocumentImpl.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L546" name="L546"></a> 546                         <strong class="reserved">if</strong> (<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547                             fDeferredEntityDecl = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L548" name="L548"></a> 548                             fDeferredDocumentImpl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L549" name="L549"></a> 549                             <strong class="reserved">break</strong>;
<a id="L550" name="L550"></a> 550                         <em class="brace">}</em>
<a id="L551" name="L551"></a> 551                     <em class="brace">}</em>
<a id="L552" name="L552"></a> 552                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L553" name="L553"></a> 553                 <em class="brace">}</em>
<a id="L554" name="L554"></a> 554             <em class="brace">}</em>
<a id="L555" name="L555"></a> 555             fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, er);
<a id="L556" name="L556"></a> 556             fCurrentNodeIndex = er;
<a id="L557" name="L557"></a> 557         <em class="brace">}</em>
<a id="L558" name="L558"></a> 558 
<a id="L559" name="L559"></a> 559     <em class="brace">}</em> <em class="comment">// startGeneralEntity(String,XMLResourceIdentifier, Augmentations)</em>
<a id="L560" name="L560"></a> 560 
<div class="comment">
      Notifies of the presence of a TextDecl line in an entity. If present,
      this method will be called immediately following the startEntity call.
      <p>
      <strong>Note:</strong> This method will never be called for the
      document entity; it is only called for external general entities
      referenced in document content.
      </p><p>
      <strong>Note:</strong> This method is not called for entity references
      appearing as part of attribute values.
      @param version  The XML version, or null if not specified.
      @param encoding The IANA encoding name of the entity.
      @param augs       Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</p></div>
<a id="L578" name="L578"></a> 578     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29152.html" title="Multiple referred from 20 places.">textDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L579" name="L579"></a> 579         <strong class="reserved">if</strong> (fInDTD)<em class="brace">{</em>
<a id="L580" name="L580"></a> 580             <strong class="reserved">return</strong>;
<a id="L581" name="L581"></a> 581         <em class="brace">}</em>
<a id="L582" name="L582"></a> 582         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L583" name="L583"></a> 583             <strong class="reserved">if</strong> (fCurrentEntityDecl != <strong class="reserved">null</strong> &amp;&amp; !fFilterReject) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584                 fCurrentEntityDecl.<a href="../D/34365.html" title="Multiple defined in 4 places.">setXmlEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L585" name="L585"></a> 585                 <strong class="reserved">if</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> != <strong class="reserved">null</strong>)
<a id="L586" name="L586"></a> 586                     fCurrentEntityDecl.<a href="../D/34367.html" title="Multiple defined in 6 places.">setXmlVersion</a> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>);
<a id="L587" name="L587"></a> 587             <em class="brace">}</em>
<a id="L588" name="L588"></a> 588         <em class="brace">}</em>
<a id="L589" name="L589"></a> 589         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L590" name="L590"></a> 590             <strong class="reserved">if</strong> (fDeferredEntityDecl !=-1) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                 fDeferredDocumentImpl.<a href="../S/5427.html#L314" title="Defined at 314 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">setEntityInfo</a> (fDeferredEntityDecl, <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>, <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L592" name="L592"></a> 592             <em class="brace">}</em>
<a id="L593" name="L593"></a> 593         <em class="brace">}</em>
<a id="L594" name="L594"></a> 594     <em class="brace">}</em> <em class="comment">// textDecl(String,String)</em>
<a id="L595" name="L595"></a> 595 
<div class="comment">
      A comment.
      @param text The text in the comment.
      @param augs       Additional information that may include infoset augmentations
      @throws XNIException Thrown by application to signal an error.</div>
<a id="L604" name="L604"></a> 604     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11671.html" title="Multiple referred from 126 places.">comment</a> (<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L605" name="L605"></a> 605         <strong class="reserved">if</strong> (fInDTD) <em class="brace">{</em>
<a id="L606" name="L606"></a> 606             <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;!--");
<a id="L608" name="L608"></a> 608                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609                     fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.ch, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L610" name="L610"></a> 610                 <em class="brace">}</em>
<a id="L611" name="L611"></a> 611                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("--&gt;");
<a id="L612" name="L612"></a> 612             <em class="brace">}</em>
<a id="L613" name="L613"></a> 613             <strong class="reserved">return</strong>;
<a id="L614" name="L614"></a> 614         <em class="brace">}</em>
<a id="L615" name="L615"></a> 615         <strong class="reserved">if</strong> (!fIncludeComments || fFilterReject) <em class="brace">{</em>
<a id="L616" name="L616"></a> 616             <strong class="reserved">return</strong>;
<a id="L617" name="L617"></a> 617         <em class="brace">}</em>
<a id="L618" name="L618"></a> 618         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L619" name="L619"></a> 619             <a href="../D/1672.html" title="Multiple defined in 3 places.">Comment</a> <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a> = fDocument.<a href="../D/13703.html" title="Multiple defined in 6 places.">createComment</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L620" name="L620"></a> 620 
<a id="L621" name="L621"></a> 621             <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">false</strong>);
<a id="L622" name="L622"></a> 622             fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>);
<a id="L623" name="L623"></a> 623             <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp; !fInEntityRef &amp;&amp;
<a id="L624" name="L624"></a> 624             (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a> () &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_COMMENT)!= 0) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625                 <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a> (<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>);
<a id="L626" name="L626"></a> 626                 <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L627" name="L627"></a> 627                     <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_INTERRUPT:<em class="brace">{</em>
<a id="L628" name="L628"></a> 628                         <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L629" name="L629"></a> 629                     <em class="brace">}</em>
<a id="L630" name="L630"></a> 630                     <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_REJECT:<em class="brace">{</em>
<a id="L631" name="L631"></a> 631                         <em class="comment">// REVISIT: the constant FILTER_REJECT should be changed when new</em>
<a id="L632" name="L632"></a> 632                         <em class="comment">// DOM LS specs gets published</em>
<a id="L633" name="L633"></a> 633 
<a id="L634" name="L634"></a> 634                         <em class="comment">// fall through to SKIP since comment has no children.</em>
<a id="L635" name="L635"></a> 635                     <em class="brace">}</em>
<a id="L636" name="L636"></a> 636                     <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L637" name="L637"></a> 637                         <em class="comment">// REVISIT: the constant FILTER_SKIP should be changed when new</em>
<a id="L638" name="L638"></a> 638                         <em class="comment">// DOM LS specs gets published</em>
<a id="L639" name="L639"></a> 639                         fCurrentNode.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>);
<a id="L640" name="L640"></a> 640                         <em class="comment">// make sure we don't loose chars if next event is characters()</em>
<a id="L641" name="L641"></a> 641                         fFirstChunk = <strong class="reserved">true</strong>;
<a id="L642" name="L642"></a> 642                         <strong class="reserved">return</strong>;
<a id="L643" name="L643"></a> 643                     <em class="brace">}</em>
<a id="L644" name="L644"></a> 644 
<a id="L645" name="L645"></a> 645                     <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L646" name="L646"></a> 646                         <em class="comment">// accept node</em>
<a id="L647" name="L647"></a> 647                     <em class="brace">}</em>
<a id="L648" name="L648"></a> 648                 <em class="brace">}</em>
<a id="L649" name="L649"></a> 649             <em class="brace">}</em>
<a id="L650" name="L650"></a> 650 
<a id="L651" name="L651"></a> 651         <em class="brace">}</em>
<a id="L652" name="L652"></a> 652         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L653" name="L653"></a> 653             <strong class="reserved">int</strong> <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a> =
<a id="L654" name="L654"></a> 654             fDeferredDocumentImpl.<a href="../S/5427.html#L594" title="Defined at 594 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredComment</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L655" name="L655"></a> 655             fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>);
<a id="L656" name="L656"></a> 656         <em class="brace">}</em>
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658     <em class="brace">}</em> <em class="comment">// comment(XMLString)</em>
<a id="L659" name="L659"></a> 659 
<div class="comment">
      A processing instruction. Processing instructions consist of a
      target name and, optionally, text data. The data is only meaningful
      to the application.
      <p>
      Typically, a processing instruction's data will contain a series
      of pseudo-attributes. These pseudo-attributes follow the form of
      element attributes but are <strong>not</strong> parsed or presented
      to the application as anything other than text. The application is
      responsible for parsing the data.
      @param target The target.
      @param data   The data or null if none specified.
      @param augs       Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</p></div>
<a id="L677" name="L677"></a> 677     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25204.html" title="Multiple referred from 66 places.">processingInstruction</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L678" name="L678"></a> 678     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L679" name="L679"></a> 679 
<a id="L680" name="L680"></a> 680         <strong class="reserved">if</strong> (fInDTD) <em class="brace">{</em>
<a id="L681" name="L681"></a> 681             <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;?");
<a id="L683" name="L683"></a> 683                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>);
<a id="L684" name="L684"></a> 684                 <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L685" name="L685"></a> 685                     fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.ch, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L686" name="L686"></a> 686                 <em class="brace">}</em>
<a id="L687" name="L687"></a> 687                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("?&gt;");
<a id="L688" name="L688"></a> 688             <em class="brace">}</em>
<a id="L689" name="L689"></a> 689             <strong class="reserved">return</strong>;
<a id="L690" name="L690"></a> 690         <em class="brace">}</em>
<a id="L691" name="L691"></a> 691 
<a id="L692" name="L692"></a> 692         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;processingInstruction ("+<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>+")");
<a id="L694" name="L694"></a> 694         <em class="brace">}</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696             <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L697" name="L697"></a> 697                 <strong class="reserved">return</strong>;
<a id="L698" name="L698"></a> 698             <em class="brace">}</em>
<a id="L699" name="L699"></a> 699             <a href="../D/6899.html" title="Multiple defined in 3 places.">ProcessingInstruction</a> pi =
<a id="L700" name="L700"></a> 700             fDocument.<a href="../D/14127.html" title="Multiple defined in 6 places.">createProcessingInstruction</a> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L701" name="L701"></a> 701 
<a id="L702" name="L702"></a> 702 
<a id="L703" name="L703"></a> 703             <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">false</strong>);
<a id="L704" name="L704"></a> 704             fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (pi);
<a id="L705" name="L705"></a> 705             <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp; !fInEntityRef &amp;&amp;
<a id="L706" name="L706"></a> 706             (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a> () &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_PROCESSING_INSTRUCTION)!= 0) <em class="brace">{</em>
<a id="L707" name="L707"></a> 707                 <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a> (pi);
<a id="L708" name="L708"></a> 708                 <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709                     <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_INTERRUPT:<em class="brace">{</em>
<a id="L710" name="L710"></a> 710                         <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L711" name="L711"></a> 711                     <em class="brace">}</em>
<a id="L712" name="L712"></a> 712                     <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_REJECT:<em class="brace">{</em>
<a id="L713" name="L713"></a> 713                         <em class="comment">// fall through to SKIP since PI has no children.</em>
<a id="L714" name="L714"></a> 714                     <em class="brace">}</em>
<a id="L715" name="L715"></a> 715                     <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L716" name="L716"></a> 716                         fCurrentNode.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (pi);
<a id="L717" name="L717"></a> 717                         <em class="comment">// fFirstChunk must be set to true so that data</em>
<a id="L718" name="L718"></a> 718                         <em class="comment">// won't be lost in the case where the child before PI is</em>
<a id="L719" name="L719"></a> 719                         <em class="comment">// a text node and the next event is characters.</em>
<a id="L720" name="L720"></a> 720                         fFirstChunk = <strong class="reserved">true</strong>;
<a id="L721" name="L721"></a> 721                         <strong class="reserved">return</strong>;
<a id="L722" name="L722"></a> 722                     <em class="brace">}</em>
<a id="L723" name="L723"></a> 723                     <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L724" name="L724"></a> 724                     <em class="brace">}</em>
<a id="L725" name="L725"></a> 725                 <em class="brace">}</em>
<a id="L726" name="L726"></a> 726             <em class="brace">}</em>
<a id="L727" name="L727"></a> 727         <em class="brace">}</em>
<a id="L728" name="L728"></a> 728         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L729" name="L729"></a> 729             <strong class="reserved">int</strong> pi = fDeferredDocumentImpl.
<a id="L730" name="L730"></a> 730             <a href="../S/5427.html#L580" title="Defined at 580 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredProcessingInstruction</a> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L731" name="L731"></a> 731             fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, pi);
<a id="L732" name="L732"></a> 732         <em class="brace">}</em>
<a id="L733" name="L733"></a> 733 
<a id="L734" name="L734"></a> 734     <em class="brace">}</em> <em class="comment">// processingInstruction(String,XMLString)</em>
<a id="L735" name="L735"></a> 735 
<div class="comment">
      The start of the document.
      @param locator The system identifier of the entity if the entity
                      is external, null otherwise.
      @param encoding The auto-detected IANA encoding name of the entity
                      stream. This value will be null in those situations
                      where the entity encoding is not auto-detected (e.g.
                      internal entities or a document entity that is
                      parsed from a java.io.Reader).
      @param namespaceContext
                      The namespace context in effect at the
                      start of this document.
                      This object represents the current context.
                      Implementors of this class are responsible
                      for copying the namespace bindings from the
                      the current context (and its parent contexts)
                      if that information is important.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L758" name="L758"></a> 758     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28800.html" title="Multiple referred from 67 places.">startDocument</a> (<a href="../S/5517.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/xni/XMLLocator.java.">XMLLocator</a> locator, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>,
<a id="L759" name="L759"></a> 759     <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a> namespaceContext, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L760" name="L760"></a> 760     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L761" name="L761"></a> 761 
<a id="L762" name="L762"></a> 762         fLocator = locator;
<a id="L763" name="L763"></a> 763         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L764" name="L764"></a> 764             <strong class="reserved">if</strong> (fDocumentClassName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (DEFAULT_DOCUMENT_CLASS_NAME)) <em class="brace">{</em>
<a id="L765" name="L765"></a> 765                 fDocument = <strong class="reserved">new</strong> <a href="../S/5446.html#L82" title="Defined at 82 in src/com/sun/org/apache/xerces/internal/dom/DocumentImpl.java.">DocumentImpl</a> ();
<a id="L766" name="L766"></a> 766                 fDocumentImpl = (<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a>)fDocument;
<a id="L767" name="L767"></a> 767                 <em class="comment">// REVISIT: when DOM Level 3 is REC rely on Document.support</em>
<a id="L768" name="L768"></a> 768                 <em class="comment">//          instead of specific class</em>
<a id="L769" name="L769"></a> 769                 <em class="comment">// set DOM error checking off</em>
<a id="L770" name="L770"></a> 770                 fDocumentImpl.<a href="../D/34020.html" title="Multiple defined in 5 places.">setStrictErrorChecking</a> (<strong class="reserved">false</strong>);
<a id="L771" name="L771"></a> 771                 <em class="comment">// set actual encoding</em>
<a id="L772" name="L772"></a> 772                 fDocumentImpl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L773" name="L773"></a> 773                 <em class="comment">// set documentURI</em>
<a id="L774" name="L774"></a> 774                 fDocumentImpl.<a href="../D/32503.html" title="Multiple defined in 8 places.">setDocumentURI</a> (locator.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L775" name="L775"></a> 775             <em class="brace">}</em>
<a id="L776" name="L776"></a> 776             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (fDocumentClassName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (PSVI_DOCUMENT_CLASS_NAME)) <em class="brace">{</em>
<a id="L777" name="L777"></a> 777                 fDocument = <strong class="reserved">new</strong> <a href="../S/5488.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/PSVIDocumentImpl.java.">PSVIDocumentImpl</a>();
<a id="L778" name="L778"></a> 778                 fDocumentImpl = (<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a>)fDocument;
<a id="L779" name="L779"></a> 779                 fStorePSVI = <strong class="reserved">true</strong>;
<a id="L780" name="L780"></a> 780                 <em class="comment">// REVISIT: when DOM Level 3 is REC rely on Document.support</em>
<a id="L781" name="L781"></a> 781                 <em class="comment">//          instead of specific class</em>
<a id="L782" name="L782"></a> 782                 <em class="comment">// set DOM error checking off</em>
<a id="L783" name="L783"></a> 783                 fDocumentImpl.<a href="../D/34020.html" title="Multiple defined in 5 places.">setStrictErrorChecking</a> (<strong class="reserved">false</strong>);
<a id="L784" name="L784"></a> 784                 <em class="comment">// set actual encoding</em>
<a id="L785" name="L785"></a> 785                 fDocumentImpl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L786" name="L786"></a> 786                 <em class="comment">// set documentURI</em>
<a id="L787" name="L787"></a> 787                 fDocumentImpl.<a href="../D/32503.html" title="Multiple defined in 8 places.">setDocumentURI</a> (locator.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L788" name="L788"></a> 788             <em class="brace">}</em>
<a id="L789" name="L789"></a> 789             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L790" name="L790"></a> 790                 <em class="comment">// use specified document class</em>
<a id="L791" name="L791"></a> 791                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L792" name="L792"></a> 792                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> documentClass = <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>.<a href="../D/16218.html" title="Multiple defined in 4 places.">findProviderClass</a> (fDocumentClassName, <strong class="reserved">true</strong>);
<a id="L793" name="L793"></a> 793                     fDocument = (<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>)documentClass.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a> ();
<a id="L794" name="L794"></a> 794 
<a id="L795" name="L795"></a> 795                     <em class="comment">// if subclass of our own class that's cool too</em>
<a id="L796" name="L796"></a> 796                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> defaultDocClass =
<a id="L797" name="L797"></a> 797                     <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>.<a href="../D/16218.html" title="Multiple defined in 4 places.">findProviderClass</a> (CORE_DOCUMENT_CLASS_NAME, <strong class="reserved">true</strong>);
<a id="L798" name="L798"></a> 798                     <strong class="reserved">if</strong> (defaultDocClass.<a href="../D/25213.html" title="Multiple defined in 7 places.">isAssignableFrom</a> (documentClass)) <em class="brace">{</em>
<a id="L799" name="L799"></a> 799                         fDocumentImpl = (<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a>)fDocument;
<a id="L800" name="L800"></a> 800 
<a id="L801" name="L801"></a> 801                         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> psviDocClass = <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>.<a href="../D/16218.html" title="Multiple defined in 4 places.">findProviderClass</a> (PSVI_DOCUMENT_CLASS_NAME, <strong class="reserved">true</strong>);
<a id="L802" name="L802"></a> 802                         <strong class="reserved">if</strong> (psviDocClass.<a href="../D/25213.html" title="Multiple defined in 7 places.">isAssignableFrom</a> (documentClass)) <em class="brace">{</em>
<a id="L803" name="L803"></a> 803                             fStorePSVI = <strong class="reserved">true</strong>;
<a id="L804" name="L804"></a> 804                         <em class="brace">}</em>
<a id="L805" name="L805"></a> 805 
<a id="L806" name="L806"></a> 806                         <em class="comment">// REVISIT: when DOM Level 3 is REC rely on</em>
<a id="L807" name="L807"></a> 807                         <em class="comment">//          Document.support instead of specific class</em>
<a id="L808" name="L808"></a> 808                         <em class="comment">// set DOM error checking off</em>
<a id="L809" name="L809"></a> 809                         fDocumentImpl.<a href="../D/34020.html" title="Multiple defined in 5 places.">setStrictErrorChecking</a> (<strong class="reserved">false</strong>);
<a id="L810" name="L810"></a> 810                         <em class="comment">// set actual encoding</em>
<a id="L811" name="L811"></a> 811                         fDocumentImpl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L812" name="L812"></a> 812                         <em class="comment">// set documentURI</em>
<a id="L813" name="L813"></a> 813                         <strong class="reserved">if</strong> (locator != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L814" name="L814"></a> 814                             fDocumentImpl.<a href="../D/32503.html" title="Multiple defined in 8 places.">setDocumentURI</a> (locator.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L815" name="L815"></a> 815                         <em class="brace">}</em>
<a id="L816" name="L816"></a> 816                     <em class="brace">}</em>
<a id="L817" name="L817"></a> 817                 <em class="brace">}</em>
<a id="L818" name="L818"></a> 818                 <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L819" name="L819"></a> 819                     <em class="comment">// won't happen we already checked that earlier</em>
<a id="L820" name="L820"></a> 820                 <em class="brace">}</em>
<a id="L821" name="L821"></a> 821                 <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L822" name="L822"></a> 822                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> (
<a id="L823" name="L823"></a> 823                         <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L824" name="L824"></a> 824                         <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L825" name="L825"></a> 825                         "CannotCreateDocumentClass",
<a id="L826" name="L826"></a> 826                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [] <em class="brace">{</em>fDocumentClassName<em class="brace">}</em>));
<a id="L827" name="L827"></a> 827                 <em class="brace">}</em>
<a id="L828" name="L828"></a> 828             <em class="brace">}</em>
<a id="L829" name="L829"></a> 829             fCurrentNode = fDocument;
<a id="L830" name="L830"></a> 830         <em class="brace">}</em>
<a id="L831" name="L831"></a> 831         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L832" name="L832"></a> 832             fDeferredDocumentImpl = <strong class="reserved">new</strong> <a href="../S/5427.html#L46" title="Defined at 46 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">DeferredDocumentImpl</a> (fNamespaceAware);
<a id="L833" name="L833"></a> 833             fDocument = fDeferredDocumentImpl;
<a id="L834" name="L834"></a> 834             fDocumentIndex = fDeferredDocumentImpl.<a href="../S/5427.html#L197" title="Defined at 197 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredDocument</a> ();
<a id="L835" name="L835"></a> 835             <em class="comment">// REVISIT: strict error checking is not implemented in deferred dom.</em>
<a id="L836" name="L836"></a> 836             <em class="comment">//          Document.support instead of specific class</em>
<a id="L837" name="L837"></a> 837 
<a id="L838" name="L838"></a> 838             <em class="comment">// set actual encoding</em>
<a id="L839" name="L839"></a> 839             fDeferredDocumentImpl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L840" name="L840"></a> 840             <em class="comment">// set documentURI</em>
<a id="L841" name="L841"></a> 841             fDeferredDocumentImpl.<a href="../D/32503.html" title="Multiple defined in 8 places.">setDocumentURI</a> (locator.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L842" name="L842"></a> 842             fCurrentNodeIndex = fDocumentIndex;
<a id="L843" name="L843"></a> 843 
<a id="L844" name="L844"></a> 844         <em class="brace">}</em>
<a id="L845" name="L845"></a> 845 
<a id="L846" name="L846"></a> 846     <em class="brace">}</em> <em class="comment">// startDocument(String,String)</em>
<a id="L847" name="L847"></a> 847 
<div class="comment">
      Notifies of the presence of an XMLDecl line in the document. If
      present, this method will be called immediately following the
      startDocument call.
      @param version    The XML version.
      @param encoding   The IANA encoding name of the document, or null if
                        not specified.
      @param standalone The standalone value, or null if not specified.
      @param augs       Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L861" name="L861"></a> 861     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30835.html" title="Multiple referred from 12 places.">xmlDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> standalone,
<a id="L862" name="L862"></a> 862     <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L863" name="L863"></a> 863     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L864" name="L864"></a> 864         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L865" name="L865"></a> 865             <em class="comment">// REVISIT: when DOM Level 3 is REC rely on Document.support</em>
<a id="L866" name="L866"></a> 866             <em class="comment">//          instead of specific class</em>
<a id="L867" name="L867"></a> 867             <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L868" name="L868"></a> 868                 <strong class="reserved">if</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> != <strong class="reserved">null</strong>)
<a id="L869" name="L869"></a> 869                     fDocumentImpl.<a href="../D/34367.html" title="Multiple defined in 6 places.">setXmlVersion</a> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>);
<a id="L870" name="L870"></a> 870                 fDocumentImpl.<a href="../D/34365.html" title="Multiple defined in 4 places.">setXmlEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L871" name="L871"></a> 871                 fDocumentImpl.<a href="../D/34366.html" title="Multiple defined in 5 places.">setXmlStandalone</a> ("yes".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (standalone));
<a id="L872" name="L872"></a> 872             <em class="brace">}</em>
<a id="L873" name="L873"></a> 873         <em class="brace">}</em>
<a id="L874" name="L874"></a> 874         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L875" name="L875"></a> 875             <strong class="reserved">if</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> != <strong class="reserved">null</strong>)
<a id="L876" name="L876"></a> 876                 fDeferredDocumentImpl.<a href="../D/34367.html" title="Multiple defined in 6 places.">setXmlVersion</a> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>);
<a id="L877" name="L877"></a> 877             fDeferredDocumentImpl.<a href="../D/34365.html" title="Multiple defined in 4 places.">setXmlEncoding</a> (<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L878" name="L878"></a> 878             fDeferredDocumentImpl.<a href="../D/34366.html" title="Multiple defined in 5 places.">setXmlStandalone</a> ("yes".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (standalone));
<a id="L879" name="L879"></a> 879         <em class="brace">}</em>
<a id="L880" name="L880"></a> 880     <em class="brace">}</em> <em class="comment">// xmlDecl(String,String,String)</em>
<a id="L881" name="L881"></a> 881 
<div class="comment">
      Notifies of the presence of the DOCTYPE line in the document.
      @param rootElement The name of the root element.
      @param publicId    The public identifier if an external DTD or null
                         if the external DTD is specified using SYSTEM.
      @param systemId    The system identifier if an external DTD, null
                         otherwise.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L894" name="L894"></a> 894     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13462.html" title="Multiple referred from 14 places.">doctypeDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rootElement,
<a id="L895" name="L895"></a> 895     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L896" name="L896"></a> 896     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L897" name="L897"></a> 897 
<a id="L898" name="L898"></a> 898         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L899" name="L899"></a> 899             <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L900" name="L900"></a> 900                 fDocumentType = fDocumentImpl.<a href="../D/13815.html" title="Multiple defined in 5 places.">createDocumentType</a> (
<a id="L901" name="L901"></a> 901                 rootElement, <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L902" name="L902"></a> 902                 fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fDocumentType);
<a id="L903" name="L903"></a> 903             <em class="brace">}</em>
<a id="L904" name="L904"></a> 904         <em class="brace">}</em>
<a id="L905" name="L905"></a> 905         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L906" name="L906"></a> 906             fDocumentTypeIndex = fDeferredDocumentImpl.
<a id="L907" name="L907"></a> 907             <a href="../S/5427.html#L203" title="Defined at 203 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredDocumentType</a> (rootElement, <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L908" name="L908"></a> 908             fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, fDocumentTypeIndex);
<a id="L909" name="L909"></a> 909         <em class="brace">}</em>
<a id="L910" name="L910"></a> 910 
<a id="L911" name="L911"></a> 911     <em class="brace">}</em> <em class="comment">// doctypeDecl(String,String,String)</em>
<a id="L912" name="L912"></a> 912 
<div class="comment">
      The start of an element. If the document specifies the start element
      by using an empty tag, then the startElement method will immediately
      be followed by the endElement method, with no intervening methods.
      @param element    The name of the element.
      @param attributes The element attributes.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L924" name="L924"></a> 924     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28813.html" title="Multiple referred from 116 places.">startElement</a> (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../S/5520.html#L79" title="Defined at 79 in src/com/sun/org/apache/xerces/internal/xni/XMLAttributes.java.">XMLAttributes</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L925" name="L925"></a> 925     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L926" name="L926"></a> 926         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L927" name="L927"></a> 927             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;startElement ("+<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.rawname+")");
<a id="L928" name="L928"></a> 928         <em class="brace">}</em>
<a id="L929" name="L929"></a> 929         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L930" name="L930"></a> 930             <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L931" name="L931"></a> 931                 ++fRejectedElementDepth;
<a id="L932" name="L932"></a> 932                 <strong class="reserved">return</strong>;
<a id="L933" name="L933"></a> 933             <em class="brace">}</em>
<a id="L934" name="L934"></a> 934             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el = <a href="../S/5273.html#L2539" title="Defined at 2539 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">createElementNode</a> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L935" name="L935"></a> 935             <strong class="reserved">int</strong> attrCount = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a> ();
<a id="L936" name="L936"></a> 936             <strong class="reserved">boolean</strong> seenSchemaDefault = <strong class="reserved">false</strong>;
<a id="L937" name="L937"></a> 937             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; attrCount; i++) <em class="brace">{</em>
<a id="L938" name="L938"></a> 938                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a> (i, fAttrQName);
<a id="L939" name="L939"></a> 939                 <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../S/5273.html#L2562" title="Defined at 2562 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">createAttrNode</a> (fAttrQName);
<a id="L940" name="L940"></a> 940 
<a id="L941" name="L941"></a> 941                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a> (i);
<a id="L942" name="L942"></a> 942 
<a id="L943" name="L943"></a> 943                 <a href="../S/5376.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/AttributePSVI.java.">AttributePSVI</a> attrPSVI =(<a href="../S/5376.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/AttributePSVI.java.">AttributePSVI</a>) <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17122.html" title="Multiple defined in 9 places.">getAugmentations</a> (i).<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ATTRIBUTE_PSVI);
<a id="L944" name="L944"></a> 944                 <strong class="reserved">if</strong> (fStorePSVI &amp;&amp; attrPSVI != <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L945" name="L945"></a> 945                     ((<a href="../S/5455.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/dom/PSVIAttrNSImpl.java.">PSVIAttrNSImpl</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>).<a href="../D/33473.html" title="Multiple defined in 2 places.">setPSVI</a> (attrPSVI);
<a id="L946" name="L946"></a> 946                 <em class="brace">}</em>
<a id="L947" name="L947"></a> 947 
<a id="L948" name="L948"></a> 948                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a> (attrValue);
<a id="L949" name="L949"></a> 949                 <strong class="reserved">boolean</strong> specified = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a>(i);
<a id="L950" name="L950"></a> 950                 <em class="comment">// Take special care of schema defaulted attributes. Calling the</em>
<a id="L951" name="L951"></a> 951                 <em class="comment">// non-namespace aware setAttributeNode() method could overwrite</em>
<a id="L952" name="L952"></a> 952                 <em class="comment">// another attribute with the same local name.</em>
<a id="L953" name="L953"></a> 953                 <strong class="reserved">if</strong> (!specified &amp;&amp; (seenSchemaDefault || (fAttrQName.uri != <strong class="reserved">null</strong> &amp;&amp;
<a id="L954" name="L954"></a> 954                     fAttrQName.uri != <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XMLNS_URI &amp;&amp; fAttrQName.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <strong class="reserved">null</strong>))) <em class="brace">{</em>
<a id="L955" name="L955"></a> 955                     el.<a href="../D/31946.html" title="Multiple defined in 6 places.">setAttributeNodeNS</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L956" name="L956"></a> 956                     seenSchemaDefault = <strong class="reserved">true</strong>;
<a id="L957" name="L957"></a> 957                 <em class="brace">}</em>
<a id="L958" name="L958"></a> 958                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L959" name="L959"></a> 959                     el.<a href="../D/31945.html" title="Multiple defined in 7 places.">setAttributeNode</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L960" name="L960"></a> 960                 <em class="brace">}</em>
<a id="L961" name="L961"></a> 961                 <em class="comment">// NOTE: The specified value MUST be set after you set</em>
<a id="L962" name="L962"></a> 962                 <em class="comment">//       the node value because that turns the "specified"</em>
<a id="L963" name="L963"></a> 963                 <em class="comment">//       flag to "true" which may overwrite a "false"</em>
<a id="L964" name="L964"></a> 964                 <em class="comment">//       value from the attribute list. -Ac</em>
<a id="L965" name="L965"></a> 965                 <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L966" name="L966"></a> 966                     <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> attrImpl = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>;
<a id="L967" name="L967"></a> 967                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L968" name="L968"></a> 968                     <strong class="reserved">boolean</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <strong class="reserved">false</strong>;
<a id="L969" name="L969"></a> 969 
<a id="L970" name="L970"></a> 970                     <em class="comment">// REVISIT: currently it is possible that someone turns off</em>
<a id="L971" name="L971"></a> 971                     <em class="comment">// namespaces and turns on xml schema validation</em>
<a id="L972" name="L972"></a> 972                     <em class="comment">// To avoid classcast exception in AttrImpl check for namespaces</em>
<a id="L973" name="L973"></a> 973                     <em class="comment">// however the correct solution should probably disallow setting</em>
<a id="L974" name="L974"></a> 974                     <em class="comment">// namespaces to false when schema processing is turned on.</em>
<a id="L975" name="L975"></a> 975                     <strong class="reserved">if</strong> (attrPSVI != <strong class="reserved">null</strong> &amp;&amp; fNamespaceAware) <em class="brace">{</em>
<a id="L976" name="L976"></a> 976                         <em class="comment">// XML Schema</em>
<a id="L977" name="L977"></a> 977                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = attrPSVI.<a href="../D/20528.html" title="Multiple defined in 5 places.">getMemberTypeDefinition</a> ();
<a id="L978" name="L978"></a> 978                         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L979" name="L979"></a> 979                             <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = attrPSVI.<a href="../D/23323.html" title="Multiple defined in 14 places.">getTypeDefinition</a> ();
<a id="L980" name="L980"></a> 980                             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981                                 <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = ((<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>) <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>).<a href="../D/25667.html" title="Multiple defined in 3 places.">isIDType</a> ();
<a id="L982" name="L982"></a> 982                                 attrImpl.<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L983" name="L983"></a> 983                             <em class="brace">}</em>
<a id="L984" name="L984"></a> 984                         <em class="brace">}</em>
<a id="L985" name="L985"></a> 985                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L986" name="L986"></a> 986                             <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = ((<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>) <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>).<a href="../D/25667.html" title="Multiple defined in 3 places.">isIDType</a> ();
<a id="L987" name="L987"></a> 987                             attrImpl.<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L988" name="L988"></a> 988                         <em class="brace">}</em>
<a id="L989" name="L989"></a> 989                     <em class="brace">}</em>
<a id="L990" name="L990"></a> 990                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L991" name="L991"></a> 991                         <em class="comment">// DTD</em>
<a id="L992" name="L992"></a> 992                         <strong class="reserved">boolean</strong> <a href="../D/25405.html" title="Multiple defined in 12 places.">isDeclared</a> = <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17122.html" title="Multiple defined in 9 places.">getAugmentations</a> (i).<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ATTRIBUTE_DECLARED));
<a id="L993" name="L993"></a> 993                         <em class="comment">// For DOM Level 3 TypeInfo, the type name must</em>
<a id="L994" name="L994"></a> 994                         <em class="comment">// be null if this attribute has not been declared</em>
<a id="L995" name="L995"></a> 995                         <em class="comment">// in the DTD.</em>
<a id="L996" name="L996"></a> 996                         <strong class="reserved">if</strong> (<a href="../D/25405.html" title="Multiple defined in 12 places.">isDeclared</a>) <em class="brace">{</em>
<a id="L997" name="L997"></a> 997                             <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a> (i);
<a id="L998" name="L998"></a> 998                             <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = "ID".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L999" name="L999"></a> 999                         <em class="brace">}</em>
<a id="L1000" name="L1000"></a>1000                         attrImpl.<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1001" name="L1001"></a>1001                     <em class="brace">}</em>
<a id="L1002" name="L1002"></a>1002 
<a id="L1003" name="L1003"></a>1003                     <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L1004" name="L1004"></a>1004                         ((<a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a>) el).<a href="../D/32887.html" title="Multiple defined in 7 places.">setIdAttributeNode</a> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <strong class="reserved">true</strong>);
<a id="L1005" name="L1005"></a>1005                     <em class="brace">}</em>
<a id="L1006" name="L1006"></a>1006 
<a id="L1007" name="L1007"></a>1007                     attrImpl.<a href="../D/33986.html" title="Multiple defined in 5 places.">setSpecified</a> (specified);
<a id="L1008" name="L1008"></a>1008                     <em class="comment">// REVISIT: Handle entities in attribute value.</em>
<a id="L1009" name="L1009"></a>1009                 <em class="brace">}</em>
<a id="L1010" name="L1010"></a>1010             <em class="brace">}</em>
<a id="L1011" name="L1011"></a>1011             <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">false</strong>);
<a id="L1012" name="L1012"></a>1012 
<a id="L1013" name="L1013"></a>1013             <strong class="reserved">if</strong> (augs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1014" name="L1014"></a>1014                 <a href="../S/5379.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/ElementPSVI.java.">ElementPSVI</a> elementPSVI = (<a href="../S/5379.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/ElementPSVI.java.">ElementPSVI</a>)augs.<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ELEMENT_PSVI);
<a id="L1015" name="L1015"></a>1015                 <strong class="reserved">if</strong> (elementPSVI != <strong class="reserved">null</strong> &amp;&amp; fNamespaceAware) <em class="brace">{</em>
<a id="L1016" name="L1016"></a>1016                     <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = elementPSVI.<a href="../D/20528.html" title="Multiple defined in 5 places.">getMemberTypeDefinition</a> ();
<a id="L1017" name="L1017"></a>1017                     <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = elementPSVI.<a href="../D/23323.html" title="Multiple defined in 14 places.">getTypeDefinition</a> ();
<a id="L1019" name="L1019"></a>1019                     <em class="brace">}</em>
<a id="L1020" name="L1020"></a>1020                     ((<a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a>)el).<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1021" name="L1021"></a>1021                 <em class="brace">}</em>
<a id="L1022" name="L1022"></a>1022             <em class="brace">}</em>
<a id="L1023" name="L1023"></a>1023 
<a id="L1024" name="L1024"></a>1024 
<a id="L1025" name="L1025"></a>1025             <em class="comment">// filter nodes</em>
<a id="L1026" name="L1026"></a>1026             <strong class="reserved">if</strong> (fDOMFilter != <strong class="reserved">null</strong> &amp;&amp; !fInEntityRef) <em class="brace">{</em>
<a id="L1027" name="L1027"></a>1027                 <strong class="reserved">if</strong> (fRoot == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1028" name="L1028"></a>1028                     <em class="comment">// fill value of the root element</em>
<a id="L1029" name="L1029"></a>1029                     fRoot = el;
<a id="L1030" name="L1030"></a>1030                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031                     <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/34781.html" title="Multiple defined in 105 places.">startElement</a>(el);
<a id="L1032" name="L1032"></a>1032                     <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_INTERRUPT :
<a id="L1034" name="L1034"></a>1034                             <em class="brace">{</em>
<a id="L1035" name="L1035"></a>1035                                 <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L1036" name="L1036"></a>1036                             <em class="brace">}</em>
<a id="L1037" name="L1037"></a>1037                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_REJECT :
<a id="L1038" name="L1038"></a>1038                             <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039                                 fFilterReject = <strong class="reserved">true</strong>;
<a id="L1040" name="L1040"></a>1040                                 fRejectedElementDepth = 0;
<a id="L1041" name="L1041"></a>1041                                 <strong class="reserved">return</strong>;
<a id="L1042" name="L1042"></a>1042                             <em class="brace">}</em>
<a id="L1043" name="L1043"></a>1043                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_SKIP :
<a id="L1044" name="L1044"></a>1044                             <em class="brace">{</em>
<a id="L1045" name="L1045"></a>1045                                 <em class="comment">// make sure that if any char data is available</em>
<a id="L1046" name="L1046"></a>1046                                 <em class="comment">// the fFirstChunk is true, so that if the next event</em>
<a id="L1047" name="L1047"></a>1047                                 <em class="comment">// is characters(), and the last node is text, we will copy</em>
<a id="L1048" name="L1048"></a>1048                                 <em class="comment">// the value already in the text node to fStringBuffer</em>
<a id="L1049" name="L1049"></a>1049                                 <em class="comment">// (not to lose it).</em>
<a id="L1050" name="L1050"></a>1050                                 fFirstChunk = <strong class="reserved">true</strong>;
<a id="L1051" name="L1051"></a>1051                                 fSkippedElemStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L1052" name="L1052"></a>1052                                 <strong class="reserved">return</strong>;
<a id="L1053" name="L1053"></a>1053                             <em class="brace">}</em>
<a id="L1054" name="L1054"></a>1054                         <strong class="reserved">default</strong> :
<a id="L1055" name="L1055"></a>1055                             <em class="brace">{</em>
<a id="L1056" name="L1056"></a>1056                                 <strong class="reserved">if</strong> (!fSkippedElemStack.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L1057" name="L1057"></a>1057                                     fSkippedElemStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE);
<a id="L1058" name="L1058"></a>1058                                 <em class="brace">}</em>
<a id="L1059" name="L1059"></a>1059                             <em class="brace">}</em>
<a id="L1060" name="L1060"></a>1060                     <em class="brace">}</em>
<a id="L1061" name="L1061"></a>1061                 <em class="brace">}</em>
<a id="L1062" name="L1062"></a>1062             <em class="brace">}</em>
<a id="L1063" name="L1063"></a>1063             fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (el);
<a id="L1064" name="L1064"></a>1064             fCurrentNode = el;
<a id="L1065" name="L1065"></a>1065         <em class="brace">}</em>
<a id="L1066" name="L1066"></a>1066         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1067" name="L1067"></a>1067             <strong class="reserved">int</strong> el = fDeferredDocumentImpl.<a href="../D/13789.html" title="Multiple defined in 3 places.">createDeferredElement</a> (fNamespaceAware ?
<a id="L1068" name="L1068"></a>1068                     <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.uri : <strong class="reserved">null</strong>, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.rawname);
<a id="L1069" name="L1069"></a>1069             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L1070" name="L1070"></a>1070             <strong class="reserved">int</strong> attrCount = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a> ();
<a id="L1071" name="L1071"></a>1071             <em class="comment">// Need to loop in reverse order so that the attributes</em>
<a id="L1072" name="L1072"></a>1072             <em class="comment">// are processed in document order when the DOM is expanded.</em>
<a id="L1073" name="L1073"></a>1073             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = attrCount - 1; i &gt;= 0; --i) <em class="brace">{</em>
<a id="L1074" name="L1074"></a>1074 
<a id="L1075" name="L1075"></a>1075                 <em class="comment">// set type information</em>
<a id="L1076" name="L1076"></a>1076                 <a href="../S/5376.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/AttributePSVI.java.">AttributePSVI</a> attrPSVI = (<a href="../S/5376.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/AttributePSVI.java.">AttributePSVI</a>)<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17122.html" title="Multiple defined in 9 places.">getAugmentations</a> (i).<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ATTRIBUTE_PSVI);
<a id="L1077" name="L1077"></a>1077                 <strong class="reserved">boolean</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <strong class="reserved">false</strong>;
<a id="L1078" name="L1078"></a>1078 
<a id="L1079" name="L1079"></a>1079                 <em class="comment">// REVISIT: currently it is possible that someone turns off</em>
<a id="L1080" name="L1080"></a>1080                 <em class="comment">// namespaces and turns on xml schema validation</em>
<a id="L1081" name="L1081"></a>1081                 <em class="comment">// To avoid classcast exception in AttrImpl check for namespaces</em>
<a id="L1082" name="L1082"></a>1082                 <em class="comment">// however the correct solution should probably disallow setting</em>
<a id="L1083" name="L1083"></a>1083                 <em class="comment">// namespaces to false when schema processing is turned on.</em>
<a id="L1084" name="L1084"></a>1084                 <strong class="reserved">if</strong> (attrPSVI != <strong class="reserved">null</strong> &amp;&amp; fNamespaceAware) <em class="brace">{</em>
<a id="L1085" name="L1085"></a>1085                     <em class="comment">// XML Schema</em>
<a id="L1086" name="L1086"></a>1086                     <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = attrPSVI.<a href="../D/20528.html" title="Multiple defined in 5 places.">getMemberTypeDefinition</a> ();
<a id="L1087" name="L1087"></a>1087                     <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1088" name="L1088"></a>1088                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = attrPSVI.<a href="../D/23323.html" title="Multiple defined in 14 places.">getTypeDefinition</a> ();
<a id="L1089" name="L1089"></a>1089                         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090                             <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = ((<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>) <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>).<a href="../D/25667.html" title="Multiple defined in 3 places.">isIDType</a> ();
<a id="L1091" name="L1091"></a>1091                         <em class="brace">}</em>
<a id="L1092" name="L1092"></a>1092                     <em class="brace">}</em>
<a id="L1093" name="L1093"></a>1093                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094                         <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = ((<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>) <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>).<a href="../D/25667.html" title="Multiple defined in 3 places.">isIDType</a> ();
<a id="L1095" name="L1095"></a>1095                     <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096                 <em class="brace">}</em>
<a id="L1097" name="L1097"></a>1097                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098                     <em class="comment">// DTD</em>
<a id="L1099" name="L1099"></a>1099                     <strong class="reserved">boolean</strong> <a href="../D/25405.html" title="Multiple defined in 12 places.">isDeclared</a> = <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/17122.html" title="Multiple defined in 9 places.">getAugmentations</a> (i).<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ATTRIBUTE_DECLARED));
<a id="L1100" name="L1100"></a>1100                     <em class="comment">// For DOM Level 3 TypeInfo, the type name must</em>
<a id="L1101" name="L1101"></a>1101                     <em class="comment">// be null if this attribute has not been declared</em>
<a id="L1102" name="L1102"></a>1102                     <em class="comment">// in the DTD.</em>
<a id="L1103" name="L1103"></a>1103                     <strong class="reserved">if</strong> (<a href="../D/25405.html" title="Multiple defined in 12 places.">isDeclared</a>) <em class="brace">{</em>
<a id="L1104" name="L1104"></a>1104                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a> (i);
<a id="L1105" name="L1105"></a>1105                         <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = "ID".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1106" name="L1106"></a>1106                     <em class="brace">}</em>
<a id="L1107" name="L1107"></a>1107                 <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108 
<a id="L1109" name="L1109"></a>1109                 <em class="comment">// create attribute</em>
<a id="L1110" name="L1110"></a>1110                 fDeferredDocumentImpl.<a href="../D/32422.html" title="Multiple defined in 2 places.">setDeferredAttribute</a> (
<a id="L1111" name="L1111"></a>1111                 el,
<a id="L1112" name="L1112"></a>1112                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/21788.html" title="Multiple defined in 20 places.">getQName</a> (i),
<a id="L1113" name="L1113"></a>1113                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/23369.html" title="Multiple defined in 43 places.">getURI</a> (i),
<a id="L1114" name="L1114"></a>1114                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a> (i),
<a id="L1115" name="L1115"></a>1115                 <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a> (i),
<a id="L1116" name="L1116"></a>1116                 <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>,
<a id="L1117" name="L1117"></a>1117                 <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1118" name="L1118"></a>1118             <em class="brace">}</em>
<a id="L1119" name="L1119"></a>1119 
<a id="L1120" name="L1120"></a>1120             fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, el);
<a id="L1121" name="L1121"></a>1121             fCurrentNodeIndex = el;
<a id="L1122" name="L1122"></a>1122         <em class="brace">}</em>
<a id="L1123" name="L1123"></a>1123     <em class="brace">}</em> <em class="comment">// startElement(QName,XMLAttributes)</em>
<a id="L1124" name="L1124"></a>1124 
<a id="L1125" name="L1125"></a>1125 
<div class="comment">
      An empty element.
      @param element    The name of the element.
      @param attributes The element attributes.
      @param augs   Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1135" name="L1135"></a>1135     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13687.html" title="Multiple referred from 19 places.">emptyElement</a> (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../S/5520.html#L79" title="Defined at 79 in src/com/sun/org/apache/xerces/internal/xni/XMLAttributes.java.">XMLAttributes</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L1136" name="L1136"></a>1136     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1137" name="L1137"></a>1137 
<a id="L1138" name="L1138"></a>1138         <a href="../D/34781.html" title="Multiple defined in 105 places.">startElement</a> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, augs);
<a id="L1139" name="L1139"></a>1139         <a href="../D/15448.html" title="Multiple defined in 90 places.">endElement</a> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, augs);
<a id="L1140" name="L1140"></a>1140 
<a id="L1141" name="L1141"></a>1141     <em class="brace">}</em> <em class="comment">// emptyElement(QName,XMLAttributes)</em>
<a id="L1142" name="L1142"></a>1142 
<div class="comment">
      Character content.
      @param text The content.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1151" name="L1151"></a>1151     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11056.html" title="Multiple referred from 150 places.">characters</a> (<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1152" name="L1152"></a>1152 
<a id="L1153" name="L1153"></a>1153         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L1154" name="L1154"></a>1154             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;characters(): "+<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L1155" name="L1155"></a>1155         <em class="brace">}</em>
<a id="L1156" name="L1156"></a>1156 
<a id="L1157" name="L1157"></a>1157         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1158" name="L1158"></a>1158 
<a id="L1159" name="L1159"></a>1159             <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L1160" name="L1160"></a>1160                 <strong class="reserved">return</strong>;
<a id="L1161" name="L1161"></a>1161             <em class="brace">}</em>
<a id="L1162" name="L1162"></a>1162             <strong class="reserved">if</strong> (fInCDATASection &amp;&amp; fCreateCDATANodes) <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163                 <strong class="reserved">if</strong> (fCurrentCDATASection == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1164" name="L1164"></a>1164                     fCurrentCDATASection =
<a id="L1165" name="L1165"></a>1165                     fDocument.<a href="../D/13657.html" title="Multiple defined in 5 places.">createCDATASection</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L1166" name="L1166"></a>1166                     fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentCDATASection);
<a id="L1167" name="L1167"></a>1167                     fCurrentNode = fCurrentCDATASection;
<a id="L1168" name="L1168"></a>1168                 <em class="brace">}</em>
<a id="L1169" name="L1169"></a>1169                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1170" name="L1170"></a>1170                     fCurrentCDATASection.<a href="../D/11372.html" title="Multiple defined in 5 places.">appendData</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L1171" name="L1171"></a>1171                 <em class="brace">}</em>
<a id="L1172" name="L1172"></a>1172             <em class="brace">}</em>
<a id="L1173" name="L1173"></a>1173             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (!fInDTD) <em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174                 <em class="comment">// if type is union (XML Schema) it is possible that we receive</em>
<a id="L1175" name="L1175"></a>1175                 <em class="comment">// character call with empty data</em>
<a id="L1176" name="L1176"></a>1176                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L1177" name="L1177"></a>1177                     <strong class="reserved">return</strong>;
<a id="L1178" name="L1178"></a>1178                 <em class="brace">}</em>
<a id="L1179" name="L1179"></a>1179 
<a id="L1180" name="L1180"></a>1180                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = fCurrentNode.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> ();
<a id="L1181" name="L1181"></a>1181                 <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong> &amp;&amp; child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> () == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L1182" name="L1182"></a>1182                     <em class="comment">// collect all the data into the string buffer.</em>
<a id="L1183" name="L1183"></a>1183                     <strong class="reserved">if</strong> (fFirstChunk) <em class="brace">{</em>
<a id="L1184" name="L1184"></a>1184                         <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1185" name="L1185"></a>1185                             fStringBuilder.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (((<a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a>)child).<a href="../S/5452.html#L659" title="Defined at 659 in src/com/sun/org/apache/xerces/internal/dom/TextImpl.java.">removeData</a> ());
<a id="L1186" name="L1186"></a>1186                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1187" name="L1187"></a>1187                             fStringBuilder.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)child).<a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a> ());
<a id="L1188" name="L1188"></a>1188                             ((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)child).<a href="../D/33367.html" title="Multiple defined in 12 places.">setNodeValue</a> (<strong class="reserved">null</strong>);
<a id="L1189" name="L1189"></a>1189                         <em class="brace">}</em>
<a id="L1190" name="L1190"></a>1190                         fFirstChunk = <strong class="reserved">false</strong>;
<a id="L1191" name="L1191"></a>1191                     <em class="brace">}</em>
<a id="L1192" name="L1192"></a>1192                     <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L1193" name="L1193"></a>1193                         fStringBuilder.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.ch, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1194" name="L1194"></a>1194                     <em class="brace">}</em>
<a id="L1195" name="L1195"></a>1195                 <em class="brace">}</em>
<a id="L1196" name="L1196"></a>1196                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1197" name="L1197"></a>1197                     fFirstChunk = <strong class="reserved">true</strong>;
<a id="L1198" name="L1198"></a>1198                     <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> textNode = fDocument.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L1199" name="L1199"></a>1199                     fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (textNode);
<a id="L1200" name="L1200"></a>1200                 <em class="brace">}</em>
<a id="L1201" name="L1201"></a>1201 
<a id="L1202" name="L1202"></a>1202             <em class="brace">}</em>
<a id="L1203" name="L1203"></a>1203         <em class="brace">}</em>
<a id="L1204" name="L1204"></a>1204         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1205" name="L1205"></a>1205             <em class="comment">// The Text and CDATASection normalization is taken care of within</em>
<a id="L1206" name="L1206"></a>1206             <em class="comment">// the DOM in the deferred case.</em>
<a id="L1207" name="L1207"></a>1207             <strong class="reserved">if</strong> (fInCDATASection &amp;&amp; fCreateCDATANodes) <em class="brace">{</em>
<a id="L1208" name="L1208"></a>1208                 <strong class="reserved">if</strong> (fCurrentCDATASectionIndex == -1) <em class="brace">{</em>
<a id="L1209" name="L1209"></a>1209                     <strong class="reserved">int</strong> cs = fDeferredDocumentImpl.
<a id="L1210" name="L1210"></a>1210                     <a href="../S/5427.html#L566" title="Defined at 566 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredCDATASection</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L1211" name="L1211"></a>1211 
<a id="L1212" name="L1212"></a>1212                     fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, cs);
<a id="L1213" name="L1213"></a>1213                     fCurrentCDATASectionIndex = cs;
<a id="L1214" name="L1214"></a>1214                     fCurrentNodeIndex = cs;
<a id="L1215" name="L1215"></a>1215                 <em class="brace">}</em>
<a id="L1216" name="L1216"></a>1216                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1217" name="L1217"></a>1217                     <strong class="reserved">int</strong> txt = fDeferredDocumentImpl.
<a id="L1218" name="L1218"></a>1218                     <a href="../S/5427.html#L549" title="Defined at 549 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredTextNode</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> (), <strong class="reserved">false</strong>);
<a id="L1219" name="L1219"></a>1219                     fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, txt);
<a id="L1220" name="L1220"></a>1220                 <em class="brace">}</em>
<a id="L1221" name="L1221"></a>1221             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (!fInDTD) <em class="brace">{</em>
<a id="L1222" name="L1222"></a>1222                 <em class="comment">// if type is union (XML Schema) it is possible that we receive</em>
<a id="L1223" name="L1223"></a>1223                 <em class="comment">// character call with empty data</em>
<a id="L1224" name="L1224"></a>1224                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L1225" name="L1225"></a>1225                     <strong class="reserved">return</strong>;
<a id="L1226" name="L1226"></a>1226                 <em class="brace">}</em>
<a id="L1227" name="L1227"></a>1227 
<a id="L1228" name="L1228"></a>1228                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ();
<a id="L1229" name="L1229"></a>1229                 <strong class="reserved">int</strong> txt = fDeferredDocumentImpl.
<a id="L1230" name="L1230"></a>1230                 <a href="../S/5427.html#L549" title="Defined at 549 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredTextNode</a> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">false</strong>);
<a id="L1231" name="L1231"></a>1231                 fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, txt);
<a id="L1232" name="L1232"></a>1232 
<a id="L1233" name="L1233"></a>1233             <em class="brace">}</em>
<a id="L1234" name="L1234"></a>1234         <em class="brace">}</em>
<a id="L1235" name="L1235"></a>1235     <em class="brace">}</em> <em class="comment">// characters(XMLString)</em>
<a id="L1236" name="L1236"></a>1236 
<div class="comment">
      Ignorable whitespace. For this method to be called, the document
      source must have some way of determining that the text containing
      only whitespace characters should be considered ignorable. For
      example, the validator can determine if a length of whitespace
      characters in the document are ignorable based on the element
      content model.
      @param text The ignorable whitespace.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1250" name="L1250"></a>1250     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20375.html" title="Multiple referred from 42 places.">ignorableWhitespace</a> (<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1251" name="L1251"></a>1251 
<a id="L1252" name="L1252"></a>1252         <strong class="reserved">if</strong> (!fIncludeIgnorableWhitespace || fFilterReject) <em class="brace">{</em>
<a id="L1253" name="L1253"></a>1253             <strong class="reserved">return</strong>;
<a id="L1254" name="L1254"></a>1254         <em class="brace">}</em>
<a id="L1255" name="L1255"></a>1255         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1256" name="L1256"></a>1256             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = fCurrentNode.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> ();
<a id="L1257" name="L1257"></a>1257             <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong> &amp;&amp; child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> () == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L1258" name="L1258"></a>1258                 <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> textNode = (<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)child;
<a id="L1259" name="L1259"></a>1259                 textNode.<a href="../D/11372.html" title="Multiple defined in 5 places.">appendData</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L1260" name="L1260"></a>1260             <em class="brace">}</em>
<a id="L1261" name="L1261"></a>1261             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1262" name="L1262"></a>1262                 <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> textNode = fDocument.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L1263" name="L1263"></a>1263                 <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1264" name="L1264"></a>1264                     <a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a> textNodeImpl = (<a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a>)textNode;
<a id="L1265" name="L1265"></a>1265                     textNodeImpl.<a href="../S/5452.html#L107" title="Defined at 107 in src/com/sun/org/apache/xerces/internal/dom/TextImpl.java.">setIgnorableWhitespace</a> (<strong class="reserved">true</strong>);
<a id="L1266" name="L1266"></a>1266                 <em class="brace">}</em>
<a id="L1267" name="L1267"></a>1267                 fCurrentNode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (textNode);
<a id="L1268" name="L1268"></a>1268             <em class="brace">}</em>
<a id="L1269" name="L1269"></a>1269         <em class="brace">}</em>
<a id="L1270" name="L1270"></a>1270         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1271" name="L1271"></a>1271             <em class="comment">// The Text normalization is taken care of within the DOM in the</em>
<a id="L1272" name="L1272"></a>1272             <em class="comment">// deferred case.</em>
<a id="L1273" name="L1273"></a>1273             <strong class="reserved">int</strong> txt = fDeferredDocumentImpl.
<a id="L1274" name="L1274"></a>1274             <a href="../S/5427.html#L549" title="Defined at 549 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredTextNode</a> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> (), <strong class="reserved">true</strong>);
<a id="L1275" name="L1275"></a>1275             fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fCurrentNodeIndex, txt);
<a id="L1276" name="L1276"></a>1276         <em class="brace">}</em>
<a id="L1277" name="L1277"></a>1277 
<a id="L1278" name="L1278"></a>1278     <em class="brace">}</em> <em class="comment">// ignorableWhitespace(XMLString)</em>
<a id="L1279" name="L1279"></a>1279 
<div class="comment">
      The end of an element.
      @param element The name of the element.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1288" name="L1288"></a>1288     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13766.html" title="Multiple referred from 95 places.">endElement</a> (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1289" name="L1289"></a>1289         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L1290" name="L1290"></a>1290             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;endElement ("+<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.rawname+")");
<a id="L1291" name="L1291"></a>1291         <em class="brace">}</em>
<a id="L1292" name="L1292"></a>1292         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1293" name="L1293"></a>1293 
<a id="L1294" name="L1294"></a>1294             <em class="comment">// REVISIT: Should this happen after we call the filter?</em>
<a id="L1295" name="L1295"></a>1295             <strong class="reserved">if</strong> (augs != <strong class="reserved">null</strong> &amp;&amp; fDocumentImpl != <strong class="reserved">null</strong> &amp;&amp; (fNamespaceAware || fStorePSVI)) <em class="brace">{</em>
<a id="L1296" name="L1296"></a>1296                 <a href="../S/5379.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/ElementPSVI.java.">ElementPSVI</a> elementPSVI = (<a href="../S/5379.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/ElementPSVI.java.">ElementPSVI</a>) augs.<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ELEMENT_PSVI);
<a id="L1297" name="L1297"></a>1297                 <strong class="reserved">if</strong> (elementPSVI != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1298" name="L1298"></a>1298                     <em class="comment">// Updating TypeInfo. If the declared type is a union the</em>
<a id="L1299" name="L1299"></a>1299                     <em class="comment">// [member type definition] will only be available at the</em>
<a id="L1300" name="L1300"></a>1300                     <em class="comment">// end of an element.</em>
<a id="L1301" name="L1301"></a>1301                     <strong class="reserved">if</strong> (fNamespaceAware) <em class="brace">{</em>
<a id="L1302" name="L1302"></a>1302                         <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = elementPSVI.<a href="../D/20528.html" title="Multiple defined in 5 places.">getMemberTypeDefinition</a>();
<a id="L1303" name="L1303"></a>1303                         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304                             <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = elementPSVI.<a href="../D/23323.html" title="Multiple defined in 14 places.">getTypeDefinition</a>();
<a id="L1305" name="L1305"></a>1305                         <em class="brace">}</em>
<a id="L1306" name="L1306"></a>1306                         ((<a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a>)fCurrentNode).<a href="../D/34196.html" title="Multiple defined in 29 places.">setType</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1307" name="L1307"></a>1307                     <em class="brace">}</em>
<a id="L1308" name="L1308"></a>1308                     <strong class="reserved">if</strong> (fStorePSVI) <em class="brace">{</em>
<a id="L1309" name="L1309"></a>1309                         ((<a href="../S/5458.html#L40" title="Defined at 40 in src/com/sun/org/apache/xerces/internal/dom/PSVIElementNSImpl.java.">PSVIElementNSImpl</a>)fCurrentNode).<a href="../D/33473.html" title="Multiple defined in 2 places.">setPSVI</a> (elementPSVI);
<a id="L1310" name="L1310"></a>1310                     <em class="brace">}</em>
<a id="L1311" name="L1311"></a>1311                 <em class="brace">}</em>
<a id="L1312" name="L1312"></a>1312             <em class="brace">}</em>
<a id="L1313" name="L1313"></a>1313 
<a id="L1314" name="L1314"></a>1314             <strong class="reserved">if</strong> (fDOMFilter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1315" name="L1315"></a>1315                 <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L1316" name="L1316"></a>1316                     <strong class="reserved">if</strong> (fRejectedElementDepth-- == 0) <em class="brace">{</em>
<a id="L1317" name="L1317"></a>1317                         fFilterReject = <strong class="reserved">false</strong>;
<a id="L1318" name="L1318"></a>1318                     <em class="brace">}</em>
<a id="L1319" name="L1319"></a>1319                     <strong class="reserved">return</strong>;
<a id="L1320" name="L1320"></a>1320                 <em class="brace">}</em>
<a id="L1321" name="L1321"></a>1321                 <strong class="reserved">if</strong> (!fSkippedElemStack.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L1322" name="L1322"></a>1322                     <strong class="reserved">if</strong> (fSkippedElemStack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>() == <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE) <em class="brace">{</em>
<a id="L1323" name="L1323"></a>1323                         <strong class="reserved">return</strong>;
<a id="L1324" name="L1324"></a>1324                     <em class="brace">}</em>
<a id="L1325" name="L1325"></a>1325                 <em class="brace">}</em>
<a id="L1326" name="L1326"></a>1326                 <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">false</strong>);
<a id="L1327" name="L1327"></a>1327                 <strong class="reserved">if</strong> ((fCurrentNode != fRoot) &amp;&amp; !fInEntityRef &amp;&amp; (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a> () &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_ELEMENT)!=0) <em class="brace">{</em>
<a id="L1328" name="L1328"></a>1328                     <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a> (fCurrentNode);
<a id="L1329" name="L1329"></a>1329                     <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1330" name="L1330"></a>1330                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_INTERRUPT:<em class="brace">{</em>
<a id="L1331" name="L1331"></a>1331                             <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L1332" name="L1332"></a>1332                         <em class="brace">}</em>
<a id="L1333" name="L1333"></a>1333                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_REJECT:<em class="brace">{</em>
<a id="L1334" name="L1334"></a>1334                             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1335" name="L1335"></a>1335                             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (fCurrentNode);
<a id="L1336" name="L1336"></a>1336                             fCurrentNode = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1337" name="L1337"></a>1337                             <strong class="reserved">return</strong>;
<a id="L1338" name="L1338"></a>1338                         <em class="brace">}</em>
<a id="L1339" name="L1339"></a>1339                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1340" name="L1340"></a>1340                             <em class="comment">// make sure that if any char data is available</em>
<a id="L1341" name="L1341"></a>1341                             <em class="comment">// the fFirstChunk is true, so that if the next event</em>
<a id="L1342" name="L1342"></a>1342                             <em class="comment">// is characters(), and the last node is text, we will copy</em>
<a id="L1343" name="L1343"></a>1343                             <em class="comment">// the value already in the text node to fStringBuffer</em>
<a id="L1344" name="L1344"></a>1344                             <em class="comment">// (not to lose it).</em>
<a id="L1345" name="L1345"></a>1345                             fFirstChunk = <strong class="reserved">true</strong>;
<a id="L1346" name="L1346"></a>1346 
<a id="L1347" name="L1347"></a>1347                             <em class="comment">// replace children</em>
<a id="L1348" name="L1348"></a>1348                             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1349" name="L1349"></a>1349                             <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> ls = fCurrentNode.<a href="../D/17640.html" title="Multiple defined in 11 places.">getChildNodes</a> ();
<a id="L1350" name="L1350"></a>1350                             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = ls.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a> ();
<a id="L1351" name="L1351"></a>1351 
<a id="L1352" name="L1352"></a>1352                             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0;i&lt;<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;i++) <em class="brace">{</em>
<a id="L1353" name="L1353"></a>1353                                 <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (ls.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> (0));
<a id="L1354" name="L1354"></a>1354                             <em class="brace">}</em>
<a id="L1355" name="L1355"></a>1355                             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (fCurrentNode);
<a id="L1356" name="L1356"></a>1356                             fCurrentNode = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1357" name="L1357"></a>1357 
<a id="L1358" name="L1358"></a>1358                             <strong class="reserved">return</strong>;
<a id="L1359" name="L1359"></a>1359                         <em class="brace">}</em>
<a id="L1360" name="L1360"></a>1360 
<a id="L1361" name="L1361"></a>1361                         <strong class="reserved">default</strong>: <em class="brace">{</em> <em class="brace">}</em>
<a id="L1362" name="L1362"></a>1362                     <em class="brace">}</em>
<a id="L1363" name="L1363"></a>1363                 <em class="brace">}</em>
<a id="L1364" name="L1364"></a>1364                 fCurrentNode = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1365" name="L1365"></a>1365 
<a id="L1366" name="L1366"></a>1366             <em class="brace">}</em> <em class="comment">// end-if DOMFilter</em>
<a id="L1367" name="L1367"></a>1367             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1368" name="L1368"></a>1368                 <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">false</strong>);
<a id="L1369" name="L1369"></a>1369                 fCurrentNode = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1370" name="L1370"></a>1370             <em class="brace">}</em>
<a id="L1371" name="L1371"></a>1371 
<a id="L1372" name="L1372"></a>1372         <em class="brace">}</em>
<a id="L1373" name="L1373"></a>1373         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1374" name="L1374"></a>1374             <strong class="reserved">if</strong> (augs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1375" name="L1375"></a>1375                 <a href="../S/5379.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/ElementPSVI.java.">ElementPSVI</a> elementPSVI = (<a href="../S/5379.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/ElementPSVI.java.">ElementPSVI</a>) augs.<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ELEMENT_PSVI);
<a id="L1376" name="L1376"></a>1376                 <strong class="reserved">if</strong> (elementPSVI != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1377" name="L1377"></a>1377                     <em class="comment">// Setting TypeInfo. If the declared type is a union the</em>
<a id="L1378" name="L1378"></a>1378                     <em class="comment">// [member type definition] will only be available at the</em>
<a id="L1379" name="L1379"></a>1379                     <em class="comment">// end of an element.</em>
<a id="L1380" name="L1380"></a>1380                     <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = elementPSVI.<a href="../D/20528.html" title="Multiple defined in 5 places.">getMemberTypeDefinition</a>();
<a id="L1381" name="L1381"></a>1381                     <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1382" name="L1382"></a>1382                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = elementPSVI.<a href="../D/23323.html" title="Multiple defined in 14 places.">getTypeDefinition</a>();
<a id="L1383" name="L1383"></a>1383                     <em class="brace">}</em>
<a id="L1384" name="L1384"></a>1384                     fDeferredDocumentImpl.<a href="../S/5427.html#L326" title="Defined at 326 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">setTypeInfo</a>(fCurrentNodeIndex, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1385" name="L1385"></a>1385                 <em class="brace">}</em>
<a id="L1386" name="L1386"></a>1386             <em class="brace">}</em>
<a id="L1387" name="L1387"></a>1387             fCurrentNodeIndex =
<a id="L1388" name="L1388"></a>1388                 fDeferredDocumentImpl.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> (fCurrentNodeIndex, <strong class="reserved">false</strong>);
<a id="L1389" name="L1389"></a>1389         <em class="brace">}</em>
<a id="L1390" name="L1390"></a>1390 
<a id="L1391" name="L1391"></a>1391 
<a id="L1392" name="L1392"></a>1392     <em class="brace">}</em> <em class="comment">// endElement(QName)</em>
<a id="L1393" name="L1393"></a>1393 
<a id="L1394" name="L1394"></a>1394 
<div class="comment">
      The start of a CDATA section.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1401" name="L1401"></a>1401     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28793.html" title="Multiple referred from 30 places.">startCDATA</a> (<a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1402" name="L1402"></a>1402 
<a id="L1403" name="L1403"></a>1403         fInCDATASection = <strong class="reserved">true</strong>;
<a id="L1404" name="L1404"></a>1404         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1405" name="L1405"></a>1405             <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L1406" name="L1406"></a>1406                 <strong class="reserved">return</strong>;
<a id="L1407" name="L1407"></a>1407             <em class="brace">}</em>
<a id="L1408" name="L1408"></a>1408             <strong class="reserved">if</strong> (fCreateCDATANodes) <em class="brace">{</em>
<a id="L1409" name="L1409"></a>1409                 <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">false</strong>);
<a id="L1410" name="L1410"></a>1410             <em class="brace">}</em>
<a id="L1411" name="L1411"></a>1411         <em class="brace">}</em>
<a id="L1412" name="L1412"></a>1412     <em class="brace">}</em> <em class="comment">// startCDATA()</em>
<a id="L1413" name="L1413"></a>1413 
<div class="comment">
      The end of a CDATA section.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1420" name="L1420"></a>1420     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13755.html" title="Multiple referred from 33 places.">endCDATA</a> (<a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1421" name="L1421"></a>1421 
<a id="L1422" name="L1422"></a>1422         fInCDATASection = <strong class="reserved">false</strong>;
<a id="L1423" name="L1423"></a>1423         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1424" name="L1424"></a>1424 
<a id="L1425" name="L1425"></a>1425             <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L1426" name="L1426"></a>1426                 <strong class="reserved">return</strong>;
<a id="L1427" name="L1427"></a>1427             <em class="brace">}</em>
<a id="L1428" name="L1428"></a>1428 
<a id="L1429" name="L1429"></a>1429             <strong class="reserved">if</strong> (fCurrentCDATASection !=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1430" name="L1430"></a>1430 
<a id="L1431" name="L1431"></a>1431                 <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp; !fInEntityRef &amp;&amp;
<a id="L1432" name="L1432"></a>1432                 (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a> () &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_CDATA_SECTION)!= 0) <em class="brace">{</em>
<a id="L1433" name="L1433"></a>1433                     <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a> (fCurrentCDATASection);
<a id="L1434" name="L1434"></a>1434                     <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1435" name="L1435"></a>1435                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_INTERRUPT:<em class="brace">{</em>
<a id="L1436" name="L1436"></a>1436                             <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L1437" name="L1437"></a>1437                         <em class="brace">}</em>
<a id="L1438" name="L1438"></a>1438                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_REJECT:<em class="brace">{</em>
<a id="L1439" name="L1439"></a>1439                             <em class="comment">// fall through to SKIP since CDATA section has no children.</em>
<a id="L1440" name="L1440"></a>1440                         <em class="brace">}</em>
<a id="L1441" name="L1441"></a>1441                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1442" name="L1442"></a>1442                             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1443" name="L1443"></a>1443                             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (fCurrentCDATASection);
<a id="L1444" name="L1444"></a>1444                             fCurrentNode = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1445" name="L1445"></a>1445                             <strong class="reserved">return</strong>;
<a id="L1446" name="L1446"></a>1446                         <em class="brace">}</em>
<a id="L1447" name="L1447"></a>1447 
<a id="L1448" name="L1448"></a>1448                         <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L1449" name="L1449"></a>1449                             <em class="comment">// accept node</em>
<a id="L1450" name="L1450"></a>1450                         <em class="brace">}</em>
<a id="L1451" name="L1451"></a>1451                     <em class="brace">}</em>
<a id="L1452" name="L1452"></a>1452                 <em class="brace">}</em>
<a id="L1453" name="L1453"></a>1453 
<a id="L1454" name="L1454"></a>1454                 fCurrentNode = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1455" name="L1455"></a>1455                 fCurrentCDATASection = <strong class="reserved">null</strong>;
<a id="L1456" name="L1456"></a>1456             <em class="brace">}</em>
<a id="L1457" name="L1457"></a>1457         <em class="brace">}</em>
<a id="L1458" name="L1458"></a>1458         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1459" name="L1459"></a>1459             <strong class="reserved">if</strong> (fCurrentCDATASectionIndex !=-1) <em class="brace">{</em>
<a id="L1460" name="L1460"></a>1460                 fCurrentNodeIndex =
<a id="L1461" name="L1461"></a>1461                 fDeferredDocumentImpl.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> (fCurrentNodeIndex, <strong class="reserved">false</strong>);
<a id="L1462" name="L1462"></a>1462                 fCurrentCDATASectionIndex = -1;
<a id="L1463" name="L1463"></a>1463             <em class="brace">}</em>
<a id="L1464" name="L1464"></a>1464         <em class="brace">}</em>
<a id="L1465" name="L1465"></a>1465 
<a id="L1466" name="L1466"></a>1466     <em class="brace">}</em> <em class="comment">// endCDATA()</em>
<a id="L1467" name="L1467"></a>1467 
<div class="comment">
      The end of the document.
      @param augs     Additional information that may include infoset augmentations
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1474" name="L1474"></a>1474     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13761.html" title="Multiple referred from 58 places.">endDocument</a> (<a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1475" name="L1475"></a>1475 
<a id="L1476" name="L1476"></a>1476         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1477" name="L1477"></a>1477             <em class="comment">// REVISIT: when DOM Level 3 is REC rely on Document.support</em>
<a id="L1478" name="L1478"></a>1478             <em class="comment">//          instead of specific class</em>
<a id="L1479" name="L1479"></a>1479             <em class="comment">// set the actual encoding and set DOM error checking back on</em>
<a id="L1480" name="L1480"></a>1480             <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1481" name="L1481"></a>1481                 <strong class="reserved">if</strong> (fLocator != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1482" name="L1482"></a>1482                     <strong class="reserved">if</strong> (fLocator.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>() != <strong class="reserved">null</strong>)
<a id="L1483" name="L1483"></a>1483                         fDocumentImpl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (fLocator.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>());
<a id="L1484" name="L1484"></a>1484                 <em class="brace">}</em>
<a id="L1485" name="L1485"></a>1485                 fDocumentImpl.<a href="../D/34020.html" title="Multiple defined in 5 places.">setStrictErrorChecking</a> (<strong class="reserved">true</strong>);
<a id="L1486" name="L1486"></a>1486             <em class="brace">}</em>
<a id="L1487" name="L1487"></a>1487             fCurrentNode = <strong class="reserved">null</strong>;
<a id="L1488" name="L1488"></a>1488         <em class="brace">}</em>
<a id="L1489" name="L1489"></a>1489         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1490" name="L1490"></a>1490             <em class="comment">// set the actual encoding</em>
<a id="L1491" name="L1491"></a>1491             <strong class="reserved">if</strong> (fLocator != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1492" name="L1492"></a>1492                 <strong class="reserved">if</strong> (fLocator.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>() != <strong class="reserved">null</strong>)
<a id="L1493" name="L1493"></a>1493                     fDeferredDocumentImpl.<a href="../D/32955.html" title="Multiple defined in 4 places.">setInputEncoding</a> (fLocator.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>());
<a id="L1494" name="L1494"></a>1494             <em class="brace">}</em>
<a id="L1495" name="L1495"></a>1495             fCurrentNodeIndex = -1;
<a id="L1496" name="L1496"></a>1496         <em class="brace">}</em>
<a id="L1497" name="L1497"></a>1497 
<a id="L1498" name="L1498"></a>1498     <em class="brace">}</em> <em class="comment">// endDocument()</em>
<a id="L1499" name="L1499"></a>1499 
<div class="comment">
      This method notifies the end of a general entity.
      <p>
      <strong>Note:</strong> This method is not called for entity references
      appearing as part of attribute values.
      @param name   The name of the entity.
      @param augs   Additional information that may include infoset augmentations
      @exception XNIException
                        Thrown by handler to signal an error.</p></div>
<a id="L1512" name="L1512"></a>1512     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13772.html" title="Multiple referred from 13 places.">endGeneralEntity</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1513" name="L1513"></a>1513         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L1514" name="L1514"></a>1514             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;endGeneralEntity: ("+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>+")");
<a id="L1515" name="L1515"></a>1515         <em class="brace">}</em>
<a id="L1516" name="L1516"></a>1516         <strong class="reserved">if</strong> (!fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1517" name="L1517"></a>1517 
<a id="L1518" name="L1518"></a>1518             <strong class="reserved">if</strong> (fFilterReject) <em class="brace">{</em>
<a id="L1519" name="L1519"></a>1519                 <strong class="reserved">return</strong>;
<a id="L1520" name="L1520"></a>1520             <em class="brace">}</em>
<a id="L1521" name="L1521"></a>1521             <a href="../S/5273.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">setCharacterData</a> (<strong class="reserved">true</strong>);
<a id="L1522" name="L1522"></a>1522 
<a id="L1523" name="L1523"></a>1523             <strong class="reserved">if</strong> (fDocumentType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1524" name="L1524"></a>1524                 <em class="comment">// get current entity declaration</em>
<a id="L1525" name="L1525"></a>1525                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> entities = fDocumentType.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a> ();
<a id="L1526" name="L1526"></a>1526                 fCurrentEntityDecl = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>) entities.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1527" name="L1527"></a>1527                 <strong class="reserved">if</strong> (fCurrentEntityDecl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1528" name="L1528"></a>1528                     <strong class="reserved">if</strong> (fCurrentEntityDecl != <strong class="reserved">null</strong> &amp;&amp; fCurrentEntityDecl.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a> () == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1529" name="L1529"></a>1529                         fCurrentEntityDecl.<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a> (<strong class="reserved">false</strong>, <strong class="reserved">true</strong>);
<a id="L1530" name="L1530"></a>1530                         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = fCurrentNode.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a> ();
<a id="L1531" name="L1531"></a>1531                         <strong class="reserved">while</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1532" name="L1532"></a>1532                             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = child.<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a> (<strong class="reserved">true</strong>);
<a id="L1533" name="L1533"></a>1533                             fCurrentEntityDecl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (<a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>);
<a id="L1534" name="L1534"></a>1534                             child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a> ();
<a id="L1535" name="L1535"></a>1535                         <em class="brace">}</em>
<a id="L1536" name="L1536"></a>1536                         fCurrentEntityDecl.<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a> (<strong class="reserved">true</strong>, <strong class="reserved">true</strong>);
<a id="L1537" name="L1537"></a>1537 
<a id="L1538" name="L1538"></a>1538                         <em class="comment">//entities.setNamedItem(fCurrentEntityDecl);</em>
<a id="L1539" name="L1539"></a>1539                     <em class="brace">}</em>
<a id="L1540" name="L1540"></a>1540                     fCurrentEntityDecl = <strong class="reserved">null</strong>;
<a id="L1541" name="L1541"></a>1541                 <em class="brace">}</em>
<a id="L1542" name="L1542"></a>1542 
<a id="L1543" name="L1543"></a>1543             <em class="brace">}</em>
<a id="L1544" name="L1544"></a>1544             fInEntityRef = <strong class="reserved">false</strong>;
<a id="L1545" name="L1545"></a>1545             <strong class="reserved">boolean</strong> removeEntityRef = <strong class="reserved">false</strong>;
<a id="L1546" name="L1546"></a>1546             <strong class="reserved">if</strong> (fCreateEntityRefNodes) <em class="brace">{</em>
<a id="L1547" name="L1547"></a>1547                 <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1548" name="L1548"></a>1548                     <em class="comment">// Make entity ref node read only</em>
<a id="L1549" name="L1549"></a>1549                     ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)fCurrentNode).<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a> (<strong class="reserved">true</strong>, <strong class="reserved">true</strong>);
<a id="L1550" name="L1550"></a>1550                 <em class="brace">}</em>
<a id="L1551" name="L1551"></a>1551 
<a id="L1552" name="L1552"></a>1552                 <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L1553" name="L1553"></a>1553                 (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a> () &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_ENTITY_REFERENCE)!= 0) <em class="brace">{</em>
<a id="L1554" name="L1554"></a>1554                     <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a> (fCurrentNode);
<a id="L1555" name="L1555"></a>1555                     <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1556" name="L1556"></a>1556                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_INTERRUPT:<em class="brace">{</em>
<a id="L1557" name="L1557"></a>1557                             <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L1558" name="L1558"></a>1558                         <em class="brace">}</em>
<a id="L1559" name="L1559"></a>1559                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_REJECT:<em class="brace">{</em>
<a id="L1560" name="L1560"></a>1560                             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1561" name="L1561"></a>1561                             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (fCurrentNode);
<a id="L1562" name="L1562"></a>1562                             fCurrentNode = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1563" name="L1563"></a>1563                             <strong class="reserved">return</strong>;
<a id="L1564" name="L1564"></a>1564 
<a id="L1565" name="L1565"></a>1565                         <em class="brace">}</em>
<a id="L1566" name="L1566"></a>1566                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1567" name="L1567"></a>1567                             <em class="comment">// make sure we don't loose chars if next event is characters()</em>
<a id="L1568" name="L1568"></a>1568                             fFirstChunk = <strong class="reserved">true</strong>;
<a id="L1569" name="L1569"></a>1569                             removeEntityRef = <strong class="reserved">true</strong>;
<a id="L1570" name="L1570"></a>1570                             <strong class="reserved">break</strong>;
<a id="L1571" name="L1571"></a>1571                         <em class="brace">}</em>
<a id="L1572" name="L1572"></a>1572 
<a id="L1573" name="L1573"></a>1573                         <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L1574" name="L1574"></a>1574                             fCurrentNode = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1575" name="L1575"></a>1575                         <em class="brace">}</em>
<a id="L1576" name="L1576"></a>1576                     <em class="brace">}</em>
<a id="L1577" name="L1577"></a>1577                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1578" name="L1578"></a>1578                     fCurrentNode = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1579" name="L1579"></a>1579                 <em class="brace">}</em>
<a id="L1580" name="L1580"></a>1580             <em class="brace">}</em>
<a id="L1581" name="L1581"></a>1581 
<a id="L1582" name="L1582"></a>1582             <strong class="reserved">if</strong> (!fCreateEntityRefNodes || removeEntityRef) <em class="brace">{</em>
<a id="L1583" name="L1583"></a>1583                 <em class="comment">// move entity reference children to the list of</em>
<a id="L1584" name="L1584"></a>1584                 <em class="comment">// siblings of its parent and remove entity reference</em>
<a id="L1585" name="L1585"></a>1585                 <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> = fCurrentNode.<a href="../D/17640.html" title="Multiple defined in 11 places.">getChildNodes</a> ();
<a id="L1586" name="L1586"></a>1586                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = fCurrentNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> ();
<a id="L1587" name="L1587"></a>1587                 <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a> ();
<a id="L1588" name="L1588"></a>1588                 <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L1589" name="L1589"></a>1589 
<a id="L1590" name="L1590"></a>1590                     <em class="comment">// get previous sibling of the entity reference</em>
<a id="L1591" name="L1591"></a>1591                     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = fCurrentNode.<a href="../D/21622.html" title="Multiple defined in 19 places.">getPreviousSibling</a> ();
<a id="L1592" name="L1592"></a>1592                     <em class="comment">// normalize text nodes</em>
<a id="L1593" name="L1593"></a>1593                     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> (0);
<a id="L1594" name="L1594"></a>1594                     <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> () == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE &amp;&amp;
<a id="L1595" name="L1595"></a>1595                     child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> () == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L1596" name="L1596"></a>1596                         ((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/11372.html" title="Multiple defined in 5 places.">appendData</a> (child.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a> ());
<a id="L1597" name="L1597"></a>1597                         fCurrentNode.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (child);
<a id="L1598" name="L1598"></a>1598 
<a id="L1599" name="L1599"></a>1599                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1600" name="L1600"></a>1600                         <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a> (child, fCurrentNode);
<a id="L1601" name="L1601"></a>1601                         <a href="../D/23949.html" title="Multiple defined in 2 places.">handleBaseURI</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1602" name="L1602"></a>1602                     <em class="brace">}</em>
<a id="L1603" name="L1603"></a>1603 
<a id="L1604" name="L1604"></a>1604                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=1;i &lt;<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;i++) <em class="brace">{</em>
<a id="L1605" name="L1605"></a>1605                         <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a> (<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> (0), fCurrentNode);
<a id="L1606" name="L1606"></a>1606                         <a href="../D/23949.html" title="Multiple defined in 2 places.">handleBaseURI</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1607" name="L1607"></a>1607                     <em class="brace">}</em>
<a id="L1608" name="L1608"></a>1608                 <em class="brace">}</em> <em class="comment">// length &gt; 0</em>
<a id="L1609" name="L1609"></a>1609                 <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (fCurrentNode);
<a id="L1610" name="L1610"></a>1610                 fCurrentNode = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1611" name="L1611"></a>1611             <em class="brace">}</em>
<a id="L1612" name="L1612"></a>1612         <em class="brace">}</em>
<a id="L1613" name="L1613"></a>1613         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1614" name="L1614"></a>1614 
<a id="L1615" name="L1615"></a>1615             <strong class="reserved">if</strong> (fDocumentTypeIndex != -1) <em class="brace">{</em>
<a id="L1616" name="L1616"></a>1616                 <em class="comment">// find corresponding Entity decl</em>
<a id="L1617" name="L1617"></a>1617                 <strong class="reserved">int</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fDocumentTypeIndex, <strong class="reserved">false</strong>);
<a id="L1618" name="L1618"></a>1618                 <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != -1) <em class="brace">{</em>
<a id="L1619" name="L1619"></a>1619                     <strong class="reserved">short</strong> nodeType = fDeferredDocumentImpl.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L1620" name="L1620"></a>1620                     <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_NODE) <em class="brace">{</em>
<a id="L1621" name="L1621"></a>1621                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a> =
<a id="L1622" name="L1622"></a>1622                         fDeferredDocumentImpl.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L1623" name="L1623"></a>1623                         <strong class="reserved">if</strong> (<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L1624" name="L1624"></a>1624                             fDeferredEntityDecl = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1625" name="L1625"></a>1625                             <strong class="reserved">break</strong>;
<a id="L1626" name="L1626"></a>1626                         <em class="brace">}</em>
<a id="L1627" name="L1627"></a>1627                     <em class="brace">}</em>
<a id="L1628" name="L1628"></a>1628                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L1629" name="L1629"></a>1629                 <em class="brace">}</em>
<a id="L1630" name="L1630"></a>1630             <em class="brace">}</em>
<a id="L1631" name="L1631"></a>1631 
<a id="L1632" name="L1632"></a>1632             <strong class="reserved">if</strong> (fDeferredEntityDecl != -1 &amp;&amp;
<a id="L1633" name="L1633"></a>1633             fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fDeferredEntityDecl, <strong class="reserved">false</strong>) == -1) <em class="brace">{</em>
<a id="L1634" name="L1634"></a>1634                 <em class="comment">// entity definition exists and it does not have any children</em>
<a id="L1635" name="L1635"></a>1635                 <strong class="reserved">int</strong> <a href="../S/1738.html#L356" title="Defined at 356 in src/java/lang/ThreadLocal.java.">prevIndex</a> = -1;
<a id="L1636" name="L1636"></a>1636                 <strong class="reserved">int</strong> childIndex = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fCurrentNodeIndex, <strong class="reserved">false</strong>);
<a id="L1637" name="L1637"></a>1637                 <strong class="reserved">while</strong> (childIndex != -1) <em class="brace">{</em>
<a id="L1638" name="L1638"></a>1638                     <strong class="reserved">int</strong> cloneIndex = fDeferredDocumentImpl.<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a> (childIndex, <strong class="reserved">true</strong>);
<a id="L1639" name="L1639"></a>1639                     fDeferredDocumentImpl.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a> (fDeferredEntityDecl, cloneIndex, <a href="../S/1738.html#L356" title="Defined at 356 in src/java/lang/ThreadLocal.java.">prevIndex</a>);
<a id="L1640" name="L1640"></a>1640                     <a href="../S/1738.html#L356" title="Defined at 356 in src/java/lang/ThreadLocal.java.">prevIndex</a> = cloneIndex;
<a id="L1641" name="L1641"></a>1641                     childIndex = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (childIndex, <strong class="reserved">false</strong>);
<a id="L1642" name="L1642"></a>1642                 <em class="brace">}</em>
<a id="L1643" name="L1643"></a>1643             <em class="brace">}</em>
<a id="L1644" name="L1644"></a>1644             <strong class="reserved">if</strong> (fCreateEntityRefNodes) <em class="brace">{</em>
<a id="L1645" name="L1645"></a>1645                 fCurrentNodeIndex =
<a id="L1646" name="L1646"></a>1646                 fDeferredDocumentImpl.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> (fCurrentNodeIndex,
<a id="L1647" name="L1647"></a>1647                 <strong class="reserved">false</strong>);
<a id="L1648" name="L1648"></a>1648             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">//!fCreateEntityRefNodes</em>
<a id="L1649" name="L1649"></a>1649                 <em class="comment">// move children of entity ref before the entity ref.</em>
<a id="L1650" name="L1650"></a>1650                 <em class="comment">// remove entity ref.</em>
<a id="L1651" name="L1651"></a>1651 
<a id="L1652" name="L1652"></a>1652                 <em class="comment">// holds a child of entity ref</em>
<a id="L1653" name="L1653"></a>1653                 <strong class="reserved">int</strong> childIndex = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fCurrentNodeIndex, <strong class="reserved">false</strong>);
<a id="L1654" name="L1654"></a>1654                 <strong class="reserved">int</strong> parentIndex =
<a id="L1655" name="L1655"></a>1655                 fDeferredDocumentImpl.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a> (fCurrentNodeIndex,
<a id="L1656" name="L1656"></a>1656                 <strong class="reserved">false</strong>);
<a id="L1657" name="L1657"></a>1657 
<a id="L1658" name="L1658"></a>1658                 <strong class="reserved">int</strong> <a href="../S/1738.html#L356" title="Defined at 356 in src/java/lang/ThreadLocal.java.">prevIndex</a> = fCurrentNodeIndex;
<a id="L1659" name="L1659"></a>1659                 <strong class="reserved">int</strong> <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a> = childIndex;
<a id="L1660" name="L1660"></a>1660                 <strong class="reserved">int</strong> sibling = -1;
<a id="L1661" name="L1661"></a>1661                 <strong class="reserved">while</strong> (childIndex != -1) <em class="brace">{</em>
<a id="L1662" name="L1662"></a>1662                     <a href="../D/23949.html" title="Multiple defined in 2 places.">handleBaseURI</a> (childIndex);
<a id="L1663" name="L1663"></a>1663                     sibling = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (childIndex, <strong class="reserved">false</strong>);
<a id="L1664" name="L1664"></a>1664                     fDeferredDocumentImpl.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a> (parentIndex, childIndex, <a href="../S/1738.html#L356" title="Defined at 356 in src/java/lang/ThreadLocal.java.">prevIndex</a>);
<a id="L1665" name="L1665"></a>1665                     <a href="../S/1738.html#L356" title="Defined at 356 in src/java/lang/ThreadLocal.java.">prevIndex</a> = childIndex;
<a id="L1666" name="L1666"></a>1666                     childIndex = sibling;
<a id="L1667" name="L1667"></a>1667                 <em class="brace">}</em>
<a id="L1668" name="L1668"></a>1668                 <strong class="reserved">if</strong>(<a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a> != -1)
<a id="L1669" name="L1669"></a>1669                     fDeferredDocumentImpl.<a href="../S/5427.html#L778" title="Defined at 778 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">setAsLastChild</a> (parentIndex, <a href="../D/26741.html" title="Multiple defined in 7 places.">lastChild</a>);
<a id="L1670" name="L1670"></a>1670                 <strong class="reserved">else</strong><em class="brace">{</em>
<a id="L1671" name="L1671"></a>1671                     sibling = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (<a href="../S/1738.html#L356" title="Defined at 356 in src/java/lang/ThreadLocal.java.">prevIndex</a>, <strong class="reserved">false</strong>);
<a id="L1672" name="L1672"></a>1672                     fDeferredDocumentImpl.<a href="../S/5427.html#L778" title="Defined at 778 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">setAsLastChild</a> (parentIndex, sibling);
<a id="L1673" name="L1673"></a>1673                 <em class="brace">}</em>
<a id="L1674" name="L1674"></a>1674                 fCurrentNodeIndex = parentIndex;
<a id="L1675" name="L1675"></a>1675             <em class="brace">}</em>
<a id="L1676" name="L1676"></a>1676             fDeferredEntityDecl = -1;
<a id="L1677" name="L1677"></a>1677         <em class="brace">}</em>
<a id="L1678" name="L1678"></a>1678 
<a id="L1679" name="L1679"></a>1679 
<a id="L1680" name="L1680"></a>1680     <em class="brace">}</em> <em class="comment">// endGeneralEntity(String, Augmentations)</em>
<a id="L1681" name="L1681"></a>1681 
<a id="L1682" name="L1682"></a>1682 
<div class="comment">
      Record baseURI information for the Element (by adding xml:base attribute)
      or for the ProcessingInstruction (by setting a baseURI field)
      Non deferred DOM.
      @param node</div>
<a id="L1690" name="L1690"></a>1690     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/20065.html" title="Multiple referred from 3 places.">handleBaseURI</a> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)<em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691         <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1692" name="L1692"></a>1692             <em class="comment">// REVISIT: remove dependency on our implementation when</em>
<a id="L1693" name="L1693"></a>1693             <em class="comment">//          DOM L3 becomes REC</em>
<a id="L1694" name="L1694"></a>1694 
<a id="L1695" name="L1695"></a>1695             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI = <strong class="reserved">null</strong>;
<a id="L1696" name="L1696"></a>1696             <strong class="reserved">short</strong> nodeType = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> ();
<a id="L1697" name="L1697"></a>1697 
<a id="L1698" name="L1698"></a>1698             <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L1699" name="L1699"></a>1699                 <em class="comment">// if an element already has xml:base attribute</em>
<a id="L1700" name="L1700"></a>1700                 <em class="comment">// do nothing</em>
<a id="L1701" name="L1701"></a>1701                 <strong class="reserved">if</strong> (fNamespaceAware) <em class="brace">{</em>
<a id="L1702" name="L1702"></a>1702                     <strong class="reserved">if</strong> (((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/17095.html" title="Multiple defined in 7 places.">getAttributeNodeNS</a> ("http://www.w3.org/XML/1998/namespace","base")!=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1703" name="L1703"></a>1703                         <strong class="reserved">return</strong>;
<a id="L1704" name="L1704"></a>1704                     <em class="brace">}</em>
<a id="L1705" name="L1705"></a>1705                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/17094.html" title="Multiple defined in 20 places.">getAttributeNode</a> ("xml:base") != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1706" name="L1706"></a>1706                     <strong class="reserved">return</strong>;
<a id="L1707" name="L1707"></a>1707                 <em class="brace">}</em>
<a id="L1708" name="L1708"></a>1708                 <em class="comment">// retrive the baseURI from the entity reference</em>
<a id="L1709" name="L1709"></a>1709                 baseURI = ((<a href="../S/5430.html#L85" title="Defined at 85 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">EntityReferenceImpl</a>)fCurrentNode).<a href="../D/17205.html" title="Multiple defined in 22 places.">getBaseURI</a> ();
<a id="L1710" name="L1710"></a>1710                 <strong class="reserved">if</strong> (baseURI !=<strong class="reserved">null</strong> &amp;&amp; !baseURI.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (fDocumentImpl.<a href="../D/18573.html" title="Multiple defined in 14 places.">getDocumentURI</a> ())) <em class="brace">{</em>
<a id="L1711" name="L1711"></a>1711                     <strong class="reserved">if</strong> (fNamespaceAware) <em class="brace">{</em>
<a id="L1712" name="L1712"></a>1712                         ((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a> ("http://www.w3.org/XML/1998/namespace", "xml:base", baseURI);
<a id="L1713" name="L1713"></a>1713                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1714" name="L1714"></a>1714                         ((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/31941.html" title="Multiple defined in 34 places.">setAttribute</a> ("xml:base", baseURI);
<a id="L1715" name="L1715"></a>1715                     <em class="brace">}</em>
<a id="L1716" name="L1716"></a>1716                 <em class="brace">}</em>
<a id="L1717" name="L1717"></a>1717             <em class="brace">}</em>
<a id="L1718" name="L1718"></a>1718             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.PROCESSING_INSTRUCTION_NODE) <em class="brace">{</em>
<a id="L1719" name="L1719"></a>1719 
<a id="L1720" name="L1720"></a>1720                 baseURI = ((<a href="../S/5430.html#L85" title="Defined at 85 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">EntityReferenceImpl</a>)fCurrentNode).<a href="../D/17205.html" title="Multiple defined in 22 places.">getBaseURI</a> ();
<a id="L1721" name="L1721"></a>1721                 <strong class="reserved">if</strong> (baseURI !=<strong class="reserved">null</strong> &amp;&amp; fErrorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1722" name="L1722"></a>1722                     <a href="../S/5426.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/dom/DOMErrorImpl.java.">DOMErrorImpl</a> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a> = <strong class="reserved">new</strong> <a href="../S/5426.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/dom/DOMErrorImpl.java.">DOMErrorImpl</a> ();
<a id="L1723" name="L1723"></a>1723                     <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.fType = "pi-base-uri-not-preserved";
<a id="L1724" name="L1724"></a>1724                     <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.fRelatedData = baseURI;
<a id="L1725" name="L1725"></a>1725                     <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.fSeverity = <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_WARNING;
<a id="L1726" name="L1726"></a>1726                     fErrorHandler.<a href="../D/18849.html" title="Multiple defined in 37 places.">getErrorHandler</a> ().<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a> (<a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>);
<a id="L1727" name="L1727"></a>1727                 <em class="brace">}</em>
<a id="L1728" name="L1728"></a>1728             <em class="brace">}</em>
<a id="L1729" name="L1729"></a>1729         <em class="brace">}</em>
<a id="L1730" name="L1730"></a>1730     <em class="brace">}</em>
<a id="L1731" name="L1731"></a>1731 
<div class="comment">
      Record baseURI information for the Element (by adding xml:base attribute)
      or for the ProcessingInstruction (by setting a baseURI field)
      Deferred DOM.
      @param node</div>
<a id="L1740" name="L1740"></a>1740     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/20065.html" title="Multiple referred from 3 places.">handleBaseURI</a> (<strong class="reserved">int</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)<em class="brace">{</em>
<a id="L1741" name="L1741"></a>1741         <strong class="reserved">short</strong> nodeType = fDeferredDocumentImpl.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L1742" name="L1742"></a>1742 
<a id="L1743" name="L1743"></a>1743         <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L1744" name="L1744"></a>1744             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI = fDeferredDocumentImpl.<a href="../D/20994.html" title="Multiple defined in 2 places.">getNodeValueString</a> (fCurrentNodeIndex, <strong class="reserved">false</strong>);
<a id="L1745" name="L1745"></a>1745             <strong class="reserved">if</strong> (baseURI == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1746" name="L1746"></a>1746                 baseURI = fDeferredDocumentImpl.<a href="../S/5427.html#L304" title="Defined at 304 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">getDeferredEntityBaseURI</a> (fDeferredEntityDecl);
<a id="L1747" name="L1747"></a>1747             <em class="brace">}</em>
<a id="L1748" name="L1748"></a>1748             <strong class="reserved">if</strong> (baseURI !=<strong class="reserved">null</strong> &amp;&amp; !baseURI.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (fDeferredDocumentImpl.<a href="../D/18573.html" title="Multiple defined in 14 places.">getDocumentURI</a> ())) <em class="brace">{</em>
<a id="L1749" name="L1749"></a>1749                 fDeferredDocumentImpl.<a href="../D/32422.html" title="Multiple defined in 2 places.">setDeferredAttribute</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,
<a id="L1750" name="L1750"></a>1750                 "xml:base",
<a id="L1751" name="L1751"></a>1751                 "http://www.w3.org/XML/1998/namespace",
<a id="L1752" name="L1752"></a>1752                 baseURI,
<a id="L1753" name="L1753"></a>1753                 <strong class="reserved">true</strong>);
<a id="L1754" name="L1754"></a>1754             <em class="brace">}</em>
<a id="L1755" name="L1755"></a>1755         <em class="brace">}</em>
<a id="L1756" name="L1756"></a>1756         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.PROCESSING_INSTRUCTION_NODE) <em class="brace">{</em>
<a id="L1757" name="L1757"></a>1757 
<a id="L1758" name="L1758"></a>1758 
<a id="L1759" name="L1759"></a>1759             <em class="comment">// retrieve baseURI from the entity reference</em>
<a id="L1760" name="L1760"></a>1760             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI = fDeferredDocumentImpl.<a href="../D/20994.html" title="Multiple defined in 2 places.">getNodeValueString</a> (fCurrentNodeIndex, <strong class="reserved">false</strong>);
<a id="L1761" name="L1761"></a>1761 
<a id="L1762" name="L1762"></a>1762             <strong class="reserved">if</strong> (baseURI == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1763" name="L1763"></a>1763                 <em class="comment">// try baseURI of the entity declaration</em>
<a id="L1764" name="L1764"></a>1764                 baseURI = fDeferredDocumentImpl.<a href="../S/5427.html#L304" title="Defined at 304 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">getDeferredEntityBaseURI</a> (fDeferredEntityDecl);
<a id="L1765" name="L1765"></a>1765             <em class="brace">}</em>
<a id="L1766" name="L1766"></a>1766 
<a id="L1767" name="L1767"></a>1767             <strong class="reserved">if</strong> (baseURI != <strong class="reserved">null</strong> &amp;&amp; fErrorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1768" name="L1768"></a>1768                 <a href="../S/5426.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/dom/DOMErrorImpl.java.">DOMErrorImpl</a> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a> = <strong class="reserved">new</strong> <a href="../S/5426.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/dom/DOMErrorImpl.java.">DOMErrorImpl</a> ();
<a id="L1769" name="L1769"></a>1769                 <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.fType = "pi-base-uri-not-preserved";
<a id="L1770" name="L1770"></a>1770                 <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.fRelatedData = baseURI;
<a id="L1771" name="L1771"></a>1771                 <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>.fSeverity = <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_WARNING;
<a id="L1772" name="L1772"></a>1772                 fErrorHandler.<a href="../D/18849.html" title="Multiple defined in 37 places.">getErrorHandler</a> ().<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a> (<a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>);
<a id="L1773" name="L1773"></a>1773             <em class="brace">}</em>
<a id="L1774" name="L1774"></a>1774         <em class="brace">}</em>
<a id="L1775" name="L1775"></a>1775     <em class="brace">}</em>
<a id="L1776" name="L1776"></a>1776 
<a id="L1777" name="L1777"></a>1777 
<a id="L1778" name="L1778"></a>1778     <em class="comment">//</em>
<a id="L1779" name="L1779"></a>1779     <em class="comment">// XMLDTDHandler methods</em>
<a id="L1780" name="L1780"></a>1780     <em class="comment">//</em>
<a id="L1781" name="L1781"></a>1781 
<div class="comment">
      The start of the DTD.
      @param locator  The document locator, or null if the document
                      location cannot be reported during the parsing of
                      the document DTD. However, it is <em>strongly</em>
                      recommended that a locator be supplied that can
                      at least report the base system identifier of the
                      DTD.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1796" name="L1796"></a>1796     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28798.html" title="Multiple referred from 16 places.">startDTD</a> (<a href="../S/5517.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/xni/XMLLocator.java.">XMLLocator</a> locator, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1797" name="L1797"></a>1797         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L1798" name="L1798"></a>1798             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;startDTD");
<a id="L1799" name="L1799"></a>1799             <strong class="reserved">if</strong> (DEBUG_BASEURI) <em class="brace">{</em>
<a id="L1800" name="L1800"></a>1800                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   expandedSystemId: "+locator.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L1801" name="L1801"></a>1801                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   baseURI:"+ locator.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L1802" name="L1802"></a>1802             <em class="brace">}</em>
<a id="L1803" name="L1803"></a>1803         <em class="brace">}</em>
<a id="L1804" name="L1804"></a>1804 
<a id="L1805" name="L1805"></a>1805         fInDTD = <strong class="reserved">true</strong>;
<a id="L1806" name="L1806"></a>1806         <strong class="reserved">if</strong> (locator != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1807" name="L1807"></a>1807             fBaseURIStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a> (locator.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L1808" name="L1808"></a>1808         <em class="brace">}</em>
<a id="L1809" name="L1809"></a>1809         <strong class="reserved">if</strong> (fDeferNodeExpansion || fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1810" name="L1810"></a>1810             fInternalSubset = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> (1024);
<a id="L1811" name="L1811"></a>1811         <em class="brace">}</em>
<a id="L1812" name="L1812"></a>1812     <em class="brace">}</em> <em class="comment">// startDTD(XMLLocator)</em>
<a id="L1813" name="L1813"></a>1813 
<a id="L1814" name="L1814"></a>1814 
<div class="comment">
      The end of the DTD.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1823" name="L1823"></a>1823     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13759.html" title="Multiple referred from 17 places.">endDTD</a> (<a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1824" name="L1824"></a>1824         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L1825" name="L1825"></a>1825             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;endDTD()");
<a id="L1826" name="L1826"></a>1826         <em class="brace">}</em>
<a id="L1827" name="L1827"></a>1827         fInDTD = <strong class="reserved">false</strong>;
<a id="L1828" name="L1828"></a>1828         <strong class="reserved">if</strong> (!fBaseURIStack.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a> ()) <em class="brace">{</em>
<a id="L1829" name="L1829"></a>1829             fBaseURIStack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a> ();
<a id="L1830" name="L1830"></a>1830         <em class="brace">}</em>
<a id="L1831" name="L1831"></a>1831         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> internalSubset = fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; fInternalSubset.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> () &gt; 0
<a id="L1832" name="L1832"></a>1832         ? fInternalSubset.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> () : <strong class="reserved">null</strong>;
<a id="L1833" name="L1833"></a>1833         <strong class="reserved">if</strong> (fDeferNodeExpansion) <em class="brace">{</em>
<a id="L1834" name="L1834"></a>1834             <strong class="reserved">if</strong> (internalSubset != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1835" name="L1835"></a>1835                 fDeferredDocumentImpl.<a href="../D/32984.html" title="Multiple defined in 2 places.">setInternalSubset</a> (fDocumentTypeIndex, internalSubset);
<a id="L1836" name="L1836"></a>1836             <em class="brace">}</em>
<a id="L1837" name="L1837"></a>1837         <em class="brace">}</em>
<a id="L1838" name="L1838"></a>1838         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1839" name="L1839"></a>1839             <strong class="reserved">if</strong> (internalSubset != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1840" name="L1840"></a>1840                 ((<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>)fDocumentType).<a href="../D/32984.html" title="Multiple defined in 2 places.">setInternalSubset</a> (internalSubset);
<a id="L1841" name="L1841"></a>1841             <em class="brace">}</em>
<a id="L1842" name="L1842"></a>1842         <em class="brace">}</em>
<a id="L1843" name="L1843"></a>1843     <em class="brace">}</em> <em class="comment">// endDTD()</em>
<a id="L1844" name="L1844"></a>1844 
<div class="comment">
      The start of a conditional section.
      @param type The type of the conditional section. This value will
                  either be CONDITIONAL_INCLUDE or CONDITIONAL_IGNORE.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.
      @see #CONDITIONAL_INCLUDE
      @see #CONDITIONAL_IGNORE</div>
<a id="L1858" name="L1858"></a>1858     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28796.html" title="Multiple referred from 6 places.">startConditional</a> (<strong class="reserved">short</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a>  <em class="brace">{</em>
<a id="L1859" name="L1859"></a>1859     <em class="brace">}</em> <em class="comment">// startConditional(short)</em>
<a id="L1860" name="L1860"></a>1860 
<div class="comment">
      The end of a conditional section.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1869" name="L1869"></a>1869     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13757.html" title="Multiple referred from 6 places.">endConditional</a> (<a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1870" name="L1870"></a>1870     <em class="brace">}</em> <em class="comment">// endConditional()</em>
<a id="L1871" name="L1871"></a>1871 
<a id="L1872" name="L1872"></a>1872 
<div class="comment">
      The start of the DTD external subset.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1881" name="L1881"></a>1881     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28818.html" title="Multiple referred from 7 places.">startExternalSubset</a> (<a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> identifier,
<a id="L1882" name="L1882"></a>1882     <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1883" name="L1883"></a>1883         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L1884" name="L1884"></a>1884             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;startExternalSubset");
<a id="L1885" name="L1885"></a>1885             <strong class="reserved">if</strong> (DEBUG_BASEURI) <em class="brace">{</em>
<a id="L1886" name="L1886"></a>1886                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   expandedSystemId: "+identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L1887" name="L1887"></a>1887                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   baseURI:"+ identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L1888" name="L1888"></a>1888             <em class="brace">}</em>
<a id="L1889" name="L1889"></a>1889         <em class="brace">}</em>
<a id="L1890" name="L1890"></a>1890         fBaseURIStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a> (identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L1891" name="L1891"></a>1891         fInDTDExternalSubset = <strong class="reserved">true</strong>;
<a id="L1892" name="L1892"></a>1892     <em class="brace">}</em> <em class="comment">// startExternalSubset(Augmentations)</em>
<a id="L1893" name="L1893"></a>1893 
<div class="comment">
      The end of the DTD external subset.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1902" name="L1902"></a>1902     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13770.html" title="Multiple referred from 7 places.">endExternalSubset</a> (<a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1903" name="L1903"></a>1903         fInDTDExternalSubset = <strong class="reserved">false</strong>;
<a id="L1904" name="L1904"></a>1904         fBaseURIStack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a> ();
<a id="L1905" name="L1905"></a>1905     <em class="brace">}</em> <em class="comment">// endExternalSubset(Augmentations)</em>
<a id="L1906" name="L1906"></a>1906 
<div class="comment">
      An internal entity declaration.
      @param name The name of the entity. Parameter entity names start with
                  '%', whereas the name of a general entity is just the
                  entity name.
      @param text The value of the entity.
      @param nonNormalizedText The non-normalized value of the entity. This
                  value contains the same sequence of characters that was in
                  the internal entity declaration, without any entity
                  references expanded.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L1923" name="L1923"></a>1923     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20928.html" title="Multiple referred from 8 places.">internalEntityDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>,
<a id="L1924" name="L1924"></a>1924     <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> nonNormalizedText,
<a id="L1925" name="L1925"></a>1925     <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L1926" name="L1926"></a>1926 
<a id="L1927" name="L1927"></a>1927         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L1928" name="L1928"></a>1928             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;internalEntityDecl: "+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1929" name="L1929"></a>1929             <strong class="reserved">if</strong> (DEBUG_BASEURI) <em class="brace">{</em>
<a id="L1930" name="L1930"></a>1930                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   baseURI:"+ (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)fBaseURIStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a> ());
<a id="L1931" name="L1931"></a>1931             <em class="brace">}</em>
<a id="L1932" name="L1932"></a>1932         <em class="brace">}</em>
<a id="L1933" name="L1933"></a>1933         <em class="comment">// internal subset string</em>
<a id="L1934" name="L1934"></a>1934         <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L1935" name="L1935"></a>1935             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;!ENTITY ");
<a id="L1936" name="L1936"></a>1936             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a> ("%")) <em class="brace">{</em>
<a id="L1937" name="L1937"></a>1937                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("% ");
<a id="L1938" name="L1938"></a>1938                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a> (1));
<a id="L1939" name="L1939"></a>1939             <em class="brace">}</em>
<a id="L1940" name="L1940"></a>1940             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1941" name="L1941"></a>1941                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1942" name="L1942"></a>1942             <em class="brace">}</em>
<a id="L1943" name="L1943"></a>1943             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ');
<a id="L1944" name="L1944"></a>1944             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = nonNormalizedText.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ();
<a id="L1945" name="L1945"></a>1945             <strong class="reserved">boolean</strong> singleQuote = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a> ('\'') == -1;
<a id="L1946" name="L1946"></a>1946             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (singleQuote ? '\'' : '"');
<a id="L1947" name="L1947"></a>1947             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1948" name="L1948"></a>1948             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (singleQuote ? '\'' : '"');
<a id="L1949" name="L1949"></a>1949             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&gt;\n");
<a id="L1950" name="L1950"></a>1950         <em class="brace">}</em>
<a id="L1951" name="L1951"></a>1951 
<a id="L1952" name="L1952"></a>1952         <em class="comment">// NOTE: We only know how to create these nodes for the Xerces</em>
<a id="L1953" name="L1953"></a>1953         <em class="comment">//       DOM implementation because DOM Level 2 does not specify</em>
<a id="L1954" name="L1954"></a>1954         <em class="comment">//       that functionality. -Ac</em>
<a id="L1955" name="L1955"></a>1955 
<a id="L1956" name="L1956"></a>1956         <em class="comment">// create full node</em>
<a id="L1957" name="L1957"></a>1957         <em class="comment">// don't add parameter entities!</em>
<a id="L1958" name="L1958"></a>1958         <strong class="reserved">if</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a> ("%"))
<a id="L1959" name="L1959"></a>1959             <strong class="reserved">return</strong>;
<a id="L1960" name="L1960"></a>1960         <strong class="reserved">if</strong> (fDocumentType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1961" name="L1961"></a>1961             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> entities = fDocumentType.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a> ();
<a id="L1962" name="L1962"></a>1962             <a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a> entity = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>)entities.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1963" name="L1963"></a>1963             <strong class="reserved">if</strong> (entity == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1964" name="L1964"></a>1964                 entity = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>)fDocumentImpl.<a href="../S/5445.html#L1398" title="Defined at 1398 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">createEntity</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1965" name="L1965"></a>1965                 entity.<a href="../D/31988.html" title="Multiple defined in 7 places.">setBaseURI</a> ((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)fBaseURIStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a> ());
<a id="L1966" name="L1966"></a>1966                 entities.<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a> (entity);
<a id="L1967" name="L1967"></a>1967             <em class="brace">}</em>
<a id="L1968" name="L1968"></a>1968         <em class="brace">}</em>
<a id="L1969" name="L1969"></a>1969 
<a id="L1970" name="L1970"></a>1970         <em class="comment">// create deferred node</em>
<a id="L1971" name="L1971"></a>1971         <strong class="reserved">if</strong> (fDocumentTypeIndex != -1) <em class="brace">{</em>
<a id="L1972" name="L1972"></a>1972             <strong class="reserved">boolean</strong> found = <strong class="reserved">false</strong>;
<a id="L1973" name="L1973"></a>1973             <strong class="reserved">int</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fDocumentTypeIndex, <strong class="reserved">false</strong>);
<a id="L1974" name="L1974"></a>1974             <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != -1) <em class="brace">{</em>
<a id="L1975" name="L1975"></a>1975                 <strong class="reserved">short</strong> nodeType = fDeferredDocumentImpl.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L1976" name="L1976"></a>1976                 <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_NODE) <em class="brace">{</em>
<a id="L1977" name="L1977"></a>1977                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a> = fDeferredDocumentImpl.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L1978" name="L1978"></a>1978                     <strong class="reserved">if</strong> (<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L1979" name="L1979"></a>1979                         found = <strong class="reserved">true</strong>;
<a id="L1980" name="L1980"></a>1980                         <strong class="reserved">break</strong>;
<a id="L1981" name="L1981"></a>1981                     <em class="brace">}</em>
<a id="L1982" name="L1982"></a>1982                 <em class="brace">}</em>
<a id="L1983" name="L1983"></a>1983                 <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">false</strong>);
<a id="L1984" name="L1984"></a>1984             <em class="brace">}</em>
<a id="L1985" name="L1985"></a>1985             <strong class="reserved">if</strong> (!found) <em class="brace">{</em>
<a id="L1986" name="L1986"></a>1986                 <strong class="reserved">int</strong> entityIndex =
<a id="L1987" name="L1987"></a>1987                 fDeferredDocumentImpl.<a href="../S/5427.html#L263" title="Defined at 263 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredEntity</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)fBaseURIStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a> ());
<a id="L1988" name="L1988"></a>1988                 fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fDocumentTypeIndex, entityIndex);
<a id="L1989" name="L1989"></a>1989             <em class="brace">}</em>
<a id="L1990" name="L1990"></a>1990         <em class="brace">}</em>
<a id="L1991" name="L1991"></a>1991 
<a id="L1992" name="L1992"></a>1992     <em class="brace">}</em> <em class="comment">// internalEntityDecl(String,XMLString,XMLString)</em>
<a id="L1993" name="L1993"></a>1993 
<div class="comment">
      An external entity declaration.
      @param name     The name of the entity. Parameter entity names start
                      with '%', whereas the name of a general entity is just
                      the entity name.
      @param identifier    An object containing all location information
                           pertinent to this notation.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2007" name="L2007"></a>2007     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14189.html" title="Multiple referred from 8 places.">externalEntityDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> identifier,
<a id="L2008" name="L2008"></a>2008     <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2009" name="L2009"></a>2009 
<a id="L2010" name="L2010"></a>2010 
<a id="L2011" name="L2011"></a>2011         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L2012" name="L2012"></a>2012             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;externalEntityDecl: "+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2013" name="L2013"></a>2013             <strong class="reserved">if</strong> (DEBUG_BASEURI) <em class="brace">{</em>
<a id="L2014" name="L2014"></a>2014                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   expandedSystemId:"+ identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L2015" name="L2015"></a>2015                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   baseURI:"+ identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2016" name="L2016"></a>2016             <em class="brace">}</em>
<a id="L2017" name="L2017"></a>2017         <em class="brace">}</em>
<a id="L2018" name="L2018"></a>2018         <em class="comment">// internal subset string</em>
<a id="L2019" name="L2019"></a>2019         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> = identifier.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a> ();
<a id="L2020" name="L2020"></a>2020         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> literalSystemId = identifier.<a href="../D/20177.html" title="Multiple defined in 10 places.">getLiteralSystemId</a> ();
<a id="L2021" name="L2021"></a>2021         <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L2022" name="L2022"></a>2022             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;!ENTITY ");
<a id="L2023" name="L2023"></a>2023             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a> ("%")) <em class="brace">{</em>
<a id="L2024" name="L2024"></a>2024                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("% ");
<a id="L2025" name="L2025"></a>2025                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a> (1));
<a id="L2026" name="L2026"></a>2026             <em class="brace">}</em>
<a id="L2027" name="L2027"></a>2027             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2028" name="L2028"></a>2028                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2029" name="L2029"></a>2029             <em class="brace">}</em>
<a id="L2030" name="L2030"></a>2030             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ');
<a id="L2031" name="L2031"></a>2031             <strong class="reserved">if</strong> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2032" name="L2032"></a>2032                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("PUBLIC '");
<a id="L2033" name="L2033"></a>2033                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L2034" name="L2034"></a>2034                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("' '");
<a id="L2035" name="L2035"></a>2035             <em class="brace">}</em>
<a id="L2036" name="L2036"></a>2036             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2037" name="L2037"></a>2037                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("SYSTEM '");
<a id="L2038" name="L2038"></a>2038             <em class="brace">}</em>
<a id="L2039" name="L2039"></a>2039             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (literalSystemId);
<a id="L2040" name="L2040"></a>2040             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("'&gt;\n");
<a id="L2041" name="L2041"></a>2041         <em class="brace">}</em>
<a id="L2042" name="L2042"></a>2042 
<a id="L2043" name="L2043"></a>2043         <em class="comment">// NOTE: We only know how to create these nodes for the Xerces</em>
<a id="L2044" name="L2044"></a>2044         <em class="comment">//       DOM implementation because DOM Level 2 does not specify</em>
<a id="L2045" name="L2045"></a>2045         <em class="comment">//       that functionality. -Ac</em>
<a id="L2046" name="L2046"></a>2046 
<a id="L2047" name="L2047"></a>2047         <em class="comment">// create full node</em>
<a id="L2048" name="L2048"></a>2048         <em class="comment">// don't add parameter entities!</em>
<a id="L2049" name="L2049"></a>2049         <strong class="reserved">if</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a> ("%"))
<a id="L2050" name="L2050"></a>2050             <strong class="reserved">return</strong>;
<a id="L2051" name="L2051"></a>2051         <strong class="reserved">if</strong> (fDocumentType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2052" name="L2052"></a>2052             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> entities = fDocumentType.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a> ();
<a id="L2053" name="L2053"></a>2053             <a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a> entity = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>)entities.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2054" name="L2054"></a>2054             <strong class="reserved">if</strong> (entity == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2055" name="L2055"></a>2055                 entity = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>)fDocumentImpl.<a href="../S/5445.html#L1398" title="Defined at 1398 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">createEntity</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2056" name="L2056"></a>2056                 entity.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L2057" name="L2057"></a>2057                 entity.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a> (literalSystemId);
<a id="L2058" name="L2058"></a>2058                 entity.<a href="../D/31988.html" title="Multiple defined in 7 places.">setBaseURI</a> (identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2059" name="L2059"></a>2059                 entities.<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a> (entity);
<a id="L2060" name="L2060"></a>2060             <em class="brace">}</em>
<a id="L2061" name="L2061"></a>2061         <em class="brace">}</em>
<a id="L2062" name="L2062"></a>2062 
<a id="L2063" name="L2063"></a>2063         <em class="comment">// create deferred node</em>
<a id="L2064" name="L2064"></a>2064         <strong class="reserved">if</strong> (fDocumentTypeIndex != -1) <em class="brace">{</em>
<a id="L2065" name="L2065"></a>2065             <strong class="reserved">boolean</strong> found = <strong class="reserved">false</strong>;
<a id="L2066" name="L2066"></a>2066             <strong class="reserved">int</strong> nodeIndex = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fDocumentTypeIndex, <strong class="reserved">false</strong>);
<a id="L2067" name="L2067"></a>2067             <strong class="reserved">while</strong> (nodeIndex != -1) <em class="brace">{</em>
<a id="L2068" name="L2068"></a>2068                 <strong class="reserved">short</strong> nodeType = fDeferredDocumentImpl.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2069" name="L2069"></a>2069                 <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_NODE) <em class="brace">{</em>
<a id="L2070" name="L2070"></a>2070                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a> = fDeferredDocumentImpl.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2071" name="L2071"></a>2071                     <strong class="reserved">if</strong> (<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L2072" name="L2072"></a>2072                         found = <strong class="reserved">true</strong>;
<a id="L2073" name="L2073"></a>2073                         <strong class="reserved">break</strong>;
<a id="L2074" name="L2074"></a>2074                     <em class="brace">}</em>
<a id="L2075" name="L2075"></a>2075                 <em class="brace">}</em>
<a id="L2076" name="L2076"></a>2076                 nodeIndex = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2077" name="L2077"></a>2077             <em class="brace">}</em>
<a id="L2078" name="L2078"></a>2078             <strong class="reserved">if</strong> (!found) <em class="brace">{</em>
<a id="L2079" name="L2079"></a>2079                 <strong class="reserved">int</strong> entityIndex = fDeferredDocumentImpl.<a href="../S/5427.html#L263" title="Defined at 263 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredEntity</a> (
<a id="L2080" name="L2080"></a>2080                 <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, literalSystemId, <strong class="reserved">null</strong>, identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2081" name="L2081"></a>2081                 fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fDocumentTypeIndex, entityIndex);
<a id="L2082" name="L2082"></a>2082             <em class="brace">}</em>
<a id="L2083" name="L2083"></a>2083         <em class="brace">}</em>
<a id="L2084" name="L2084"></a>2084 
<a id="L2085" name="L2085"></a>2085     <em class="brace">}</em> <em class="comment">// externalEntityDecl(String,XMLResourceIdentifier, Augmentations)</em>
<a id="L2086" name="L2086"></a>2086 
<a id="L2087" name="L2087"></a>2087 
<div class="comment">
      This method notifies of the start of a parameter entity. The parameter
      entity name start with a '%' character.
      @param name     The name of the parameter entity.
      @param identifier The resource identifier.
      @param encoding The auto-detected IANA encoding name of the entity
                      stream. This value will be null in those situations
                      where the entity encoding is not auto-detected (e.g.
                      internal parameter entities).
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2103" name="L2103"></a>2103     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28843.html" title="Multiple referred from 6 places.">startParameterEntity</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L2104" name="L2104"></a>2104     <a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> identifier,
<a id="L2105" name="L2105"></a>2105     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>,
<a id="L2106" name="L2106"></a>2106     <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2107" name="L2107"></a>2107         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L2108" name="L2108"></a>2108             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;startParameterEntity: "+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2109" name="L2109"></a>2109             <strong class="reserved">if</strong> (DEBUG_BASEURI) <em class="brace">{</em>
<a id="L2110" name="L2110"></a>2110                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   expandedSystemId: "+identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L2111" name="L2111"></a>2111                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   baseURI:"+ identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2112" name="L2112"></a>2112             <em class="brace">}</em>
<a id="L2113" name="L2113"></a>2113         <em class="brace">}</em>
<a id="L2114" name="L2114"></a>2114         <strong class="reserved">if</strong> (augs != <strong class="reserved">null</strong> &amp;&amp; fInternalSubset != <strong class="reserved">null</strong> &amp;&amp;
<a id="L2115" name="L2115"></a>2115             !fInDTDExternalSubset &amp;&amp;
<a id="L2116" name="L2116"></a>2116             <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(augs.<a href="../D/19851.html" title="Multiple defined in 13 places.">getItem</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.ENTITY_SKIPPED))) <em class="brace">{</em>
<a id="L2117" name="L2117"></a>2117             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(";\n");
<a id="L2118" name="L2118"></a>2118         <em class="brace">}</em>
<a id="L2119" name="L2119"></a>2119         fBaseURIStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a> (identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L2120" name="L2120"></a>2120     <em class="brace">}</em>
<a id="L2121" name="L2121"></a>2121 
<a id="L2122" name="L2122"></a>2122 
<div class="comment">
      This method notifies the end of a parameter entity. Parameter entity
      names begin with a '%' character.
      @param name The name of the parameter entity.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2133" name="L2133"></a>2133     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13785.html" title="Multiple referred from 6 places.">endParameterEntity</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2134" name="L2134"></a>2134 
<a id="L2135" name="L2135"></a>2135         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L2136" name="L2136"></a>2136             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;endParameterEntity: "+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2137" name="L2137"></a>2137         <em class="brace">}</em>
<a id="L2138" name="L2138"></a>2138         fBaseURIStack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a> ();
<a id="L2139" name="L2139"></a>2139     <em class="brace">}</em>
<a id="L2140" name="L2140"></a>2140 
<div class="comment">
      An unparsed entity declaration.
      @param name     The name of the entity.
      @param identifier    An object containing all location information
                           pertinent to this entity.
      @param notation The name of the notation.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2153" name="L2153"></a>2153     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29743.html" title="Multiple referred from 14 places.">unparsedEntityDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> identifier,
<a id="L2154" name="L2154"></a>2154     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> notation, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L2155" name="L2155"></a>2155     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2156" name="L2156"></a>2156 
<a id="L2157" name="L2157"></a>2157         <strong class="reserved">if</strong> (DEBUG_EVENTS) <em class="brace">{</em>
<a id="L2158" name="L2158"></a>2158             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("==&gt;unparsedEntityDecl: "+<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2159" name="L2159"></a>2159             <strong class="reserved">if</strong> (DEBUG_BASEURI) <em class="brace">{</em>
<a id="L2160" name="L2160"></a>2160                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   expandedSystemId:"+ identifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a> ());
<a id="L2161" name="L2161"></a>2161                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a> ("   baseURI:"+ identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2162" name="L2162"></a>2162             <em class="brace">}</em>
<a id="L2163" name="L2163"></a>2163         <em class="brace">}</em>
<a id="L2164" name="L2164"></a>2164         <em class="comment">// internal subset string</em>
<a id="L2165" name="L2165"></a>2165         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> = identifier.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a> ();
<a id="L2166" name="L2166"></a>2166         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> literalSystemId = identifier.<a href="../D/20177.html" title="Multiple defined in 10 places.">getLiteralSystemId</a> ();
<a id="L2167" name="L2167"></a>2167         <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L2168" name="L2168"></a>2168             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;!ENTITY ");
<a id="L2169" name="L2169"></a>2169             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2170" name="L2170"></a>2170             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ');
<a id="L2171" name="L2171"></a>2171             <strong class="reserved">if</strong> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2172" name="L2172"></a>2172                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("PUBLIC '");
<a id="L2173" name="L2173"></a>2173                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L2174" name="L2174"></a>2174                 <strong class="reserved">if</strong> (literalSystemId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2175" name="L2175"></a>2175                     fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("' '");
<a id="L2176" name="L2176"></a>2176                     fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (literalSystemId);
<a id="L2177" name="L2177"></a>2177                 <em class="brace">}</em>
<a id="L2178" name="L2178"></a>2178             <em class="brace">}</em>
<a id="L2179" name="L2179"></a>2179             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2180" name="L2180"></a>2180                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("SYSTEM '");
<a id="L2181" name="L2181"></a>2181                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (literalSystemId);
<a id="L2182" name="L2182"></a>2182             <em class="brace">}</em>
<a id="L2183" name="L2183"></a>2183             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("' NDATA ");
<a id="L2184" name="L2184"></a>2184             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (notation);
<a id="L2185" name="L2185"></a>2185             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&gt;\n");
<a id="L2186" name="L2186"></a>2186         <em class="brace">}</em>
<a id="L2187" name="L2187"></a>2187 
<a id="L2188" name="L2188"></a>2188         <em class="comment">// NOTE: We only know how to create these nodes for the Xerces</em>
<a id="L2189" name="L2189"></a>2189         <em class="comment">//       DOM implementation because DOM Level 2 does not specify</em>
<a id="L2190" name="L2190"></a>2190         <em class="comment">//       that functionality. -Ac</em>
<a id="L2191" name="L2191"></a>2191 
<a id="L2192" name="L2192"></a>2192         <em class="comment">// create full node</em>
<a id="L2193" name="L2193"></a>2193         <strong class="reserved">if</strong> (fDocumentType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2194" name="L2194"></a>2194             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> entities = fDocumentType.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a> ();
<a id="L2195" name="L2195"></a>2195             <a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a> entity = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>)entities.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2196" name="L2196"></a>2196             <strong class="reserved">if</strong> (entity == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2197" name="L2197"></a>2197                 entity = (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>)fDocumentImpl.<a href="../S/5445.html#L1398" title="Defined at 1398 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">createEntity</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2198" name="L2198"></a>2198                 entity.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L2199" name="L2199"></a>2199                 entity.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a> (literalSystemId);
<a id="L2200" name="L2200"></a>2200                 entity.<a href="../S/5487.html#L331" title="Defined at 331 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">setNotationName</a> (notation);
<a id="L2201" name="L2201"></a>2201                 entity.<a href="../D/31988.html" title="Multiple defined in 7 places.">setBaseURI</a> (identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2202" name="L2202"></a>2202                 entities.<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a> (entity);
<a id="L2203" name="L2203"></a>2203             <em class="brace">}</em>
<a id="L2204" name="L2204"></a>2204         <em class="brace">}</em>
<a id="L2205" name="L2205"></a>2205 
<a id="L2206" name="L2206"></a>2206         <em class="comment">// create deferred node</em>
<a id="L2207" name="L2207"></a>2207         <strong class="reserved">if</strong> (fDocumentTypeIndex != -1) <em class="brace">{</em>
<a id="L2208" name="L2208"></a>2208             <strong class="reserved">boolean</strong> found = <strong class="reserved">false</strong>;
<a id="L2209" name="L2209"></a>2209             <strong class="reserved">int</strong> nodeIndex = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fDocumentTypeIndex, <strong class="reserved">false</strong>);
<a id="L2210" name="L2210"></a>2210             <strong class="reserved">while</strong> (nodeIndex != -1) <em class="brace">{</em>
<a id="L2211" name="L2211"></a>2211                 <strong class="reserved">short</strong> nodeType = fDeferredDocumentImpl.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2212" name="L2212"></a>2212                 <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_NODE) <em class="brace">{</em>
<a id="L2213" name="L2213"></a>2213                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a> = fDeferredDocumentImpl.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2214" name="L2214"></a>2214                     <strong class="reserved">if</strong> (<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L2215" name="L2215"></a>2215                         found = <strong class="reserved">true</strong>;
<a id="L2216" name="L2216"></a>2216                         <strong class="reserved">break</strong>;
<a id="L2217" name="L2217"></a>2217                     <em class="brace">}</em>
<a id="L2218" name="L2218"></a>2218                 <em class="brace">}</em>
<a id="L2219" name="L2219"></a>2219                 nodeIndex = fDeferredDocumentImpl.<a href="../D/21885.html" title="Multiple defined in 2 places.">getRealPrevSibling</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2220" name="L2220"></a>2220             <em class="brace">}</em>
<a id="L2221" name="L2221"></a>2221             <strong class="reserved">if</strong> (!found) <em class="brace">{</em>
<a id="L2222" name="L2222"></a>2222                 <strong class="reserved">int</strong> entityIndex = fDeferredDocumentImpl.<a href="../S/5427.html#L263" title="Defined at 263 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredEntity</a> (
<a id="L2223" name="L2223"></a>2223                 <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, literalSystemId, notation, identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2224" name="L2224"></a>2224                 fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fDocumentTypeIndex, entityIndex);
<a id="L2225" name="L2225"></a>2225             <em class="brace">}</em>
<a id="L2226" name="L2226"></a>2226         <em class="brace">}</em>
<a id="L2227" name="L2227"></a>2227 
<a id="L2228" name="L2228"></a>2228     <em class="brace">}</em> <em class="comment">// unparsedEntityDecl(String,XMLResourceIdentifier, String, Augmentations)</em>
<a id="L2229" name="L2229"></a>2229 
<div class="comment">
      A notation declaration
      @param name     The name of the notation.
      @param identifier    An object containing all location information
                           pertinent to this notation.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2241" name="L2241"></a>2241     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23809.html" title="Multiple referred from 25 places.">notationDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> identifier,
<a id="L2242" name="L2242"></a>2242     <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2243" name="L2243"></a>2243 
<a id="L2244" name="L2244"></a>2244         <em class="comment">// internal subset string</em>
<a id="L2245" name="L2245"></a>2245         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> = identifier.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a> ();
<a id="L2246" name="L2246"></a>2246         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> literalSystemId = identifier.<a href="../D/20177.html" title="Multiple defined in 10 places.">getLiteralSystemId</a> ();
<a id="L2247" name="L2247"></a>2247         <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L2248" name="L2248"></a>2248             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;!NOTATION ");
<a id="L2249" name="L2249"></a>2249             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2250" name="L2250"></a>2250             <strong class="reserved">if</strong> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2251" name="L2251"></a>2251                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (" PUBLIC '");
<a id="L2252" name="L2252"></a>2252                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L2253" name="L2253"></a>2253                 <strong class="reserved">if</strong> (literalSystemId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2254" name="L2254"></a>2254                     fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("' '");
<a id="L2255" name="L2255"></a>2255                     fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (literalSystemId);
<a id="L2256" name="L2256"></a>2256                 <em class="brace">}</em>
<a id="L2257" name="L2257"></a>2257             <em class="brace">}</em>
<a id="L2258" name="L2258"></a>2258             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2259" name="L2259"></a>2259                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (" SYSTEM '");
<a id="L2260" name="L2260"></a>2260                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (literalSystemId);
<a id="L2261" name="L2261"></a>2261             <em class="brace">}</em>
<a id="L2262" name="L2262"></a>2262             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("'&gt;\n");
<a id="L2263" name="L2263"></a>2263         <em class="brace">}</em>
<a id="L2264" name="L2264"></a>2264 
<a id="L2265" name="L2265"></a>2265         <em class="comment">// NOTE: We only know how to create these nodes for the Xerces</em>
<a id="L2266" name="L2266"></a>2266         <em class="comment">//       DOM implementation because DOM Level 2 does not specify</em>
<a id="L2267" name="L2267"></a>2267         <em class="comment">//       that functionality. -Ac</em>
<a id="L2268" name="L2268"></a>2268 
<a id="L2269" name="L2269"></a>2269         <em class="comment">// create full node</em>
<a id="L2270" name="L2270"></a>2270         <strong class="reserved">if</strong> (fDocumentImpl !=<strong class="reserved">null</strong> &amp;&amp; fDocumentType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2271" name="L2271"></a>2271             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> notations = fDocumentType.<a href="../D/21023.html" title="Multiple defined in 3 places.">getNotations</a> ();
<a id="L2272" name="L2272"></a>2272             <strong class="reserved">if</strong> (notations.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2273" name="L2273"></a>2273                 <a href="../S/5453.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/dom/NotationImpl.java.">NotationImpl</a> notation = (<a href="../S/5453.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/dom/NotationImpl.java.">NotationImpl</a>)fDocumentImpl.<a href="../S/5445.html#L1422" title="Defined at 1422 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">createNotation</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2274" name="L2274"></a>2274                 notation.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L2275" name="L2275"></a>2275                 notation.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a> (literalSystemId);
<a id="L2276" name="L2276"></a>2276                 notation.<a href="../D/31988.html" title="Multiple defined in 7 places.">setBaseURI</a> (identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2277" name="L2277"></a>2277                 notations.<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a> (notation);
<a id="L2278" name="L2278"></a>2278             <em class="brace">}</em>
<a id="L2279" name="L2279"></a>2279         <em class="brace">}</em>
<a id="L2280" name="L2280"></a>2280 
<a id="L2281" name="L2281"></a>2281         <em class="comment">// create deferred node</em>
<a id="L2282" name="L2282"></a>2282         <strong class="reserved">if</strong> (fDocumentTypeIndex != -1) <em class="brace">{</em>
<a id="L2283" name="L2283"></a>2283             <strong class="reserved">boolean</strong> found = <strong class="reserved">false</strong>;
<a id="L2284" name="L2284"></a>2284             <strong class="reserved">int</strong> nodeIndex = fDeferredDocumentImpl.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> (fDocumentTypeIndex, <strong class="reserved">false</strong>);
<a id="L2285" name="L2285"></a>2285             <strong class="reserved">while</strong> (nodeIndex != -1) <em class="brace">{</em>
<a id="L2286" name="L2286"></a>2286                 <strong class="reserved">short</strong> nodeType = fDeferredDocumentImpl.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2287" name="L2287"></a>2287                 <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.NOTATION_NODE) <em class="brace">{</em>
<a id="L2288" name="L2288"></a>2288                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a> = fDeferredDocumentImpl.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2289" name="L2289"></a>2289                     <strong class="reserved">if</strong> (<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L2290" name="L2290"></a>2290                         found = <strong class="reserved">true</strong>;
<a id="L2291" name="L2291"></a>2291                         <strong class="reserved">break</strong>;
<a id="L2292" name="L2292"></a>2292                     <em class="brace">}</em>
<a id="L2293" name="L2293"></a>2293                 <em class="brace">}</em>
<a id="L2294" name="L2294"></a>2294                 nodeIndex = fDeferredDocumentImpl.<a href="../D/21610.html" title="Multiple defined in 2 places.">getPrevSibling</a> (nodeIndex, <strong class="reserved">false</strong>);
<a id="L2295" name="L2295"></a>2295             <em class="brace">}</em>
<a id="L2296" name="L2296"></a>2296             <strong class="reserved">if</strong> (!found) <em class="brace">{</em>
<a id="L2297" name="L2297"></a>2297                 <strong class="reserved">int</strong> notationIndex = fDeferredDocumentImpl.<a href="../S/5427.html#L234" title="Defined at 234 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredNotation</a> (
<a id="L2298" name="L2298"></a>2298                 <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, literalSystemId, identifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a> ());
<a id="L2299" name="L2299"></a>2299                 fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fDocumentTypeIndex, notationIndex);
<a id="L2300" name="L2300"></a>2300             <em class="brace">}</em>
<a id="L2301" name="L2301"></a>2301         <em class="brace">}</em>
<a id="L2302" name="L2302"></a>2302 
<a id="L2303" name="L2303"></a>2303     <em class="brace">}</em> <em class="comment">// notationDecl(String,XMLResourceIdentifier, Augmentations)</em>
<a id="L2304" name="L2304"></a>2304 
<div class="comment">
      Characters within an IGNORE conditional section.
      @param text The ignored text.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2314" name="L2314"></a>2314     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20380.html" title="Multiple referred from 5 places.">ignoredCharacters</a> (<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2315" name="L2315"></a>2315     <em class="brace">}</em> <em class="comment">// ignoredCharacters(XMLString, Augmentations)</em>
<a id="L2316" name="L2316"></a>2316 
<a id="L2317" name="L2317"></a>2317 
<div class="comment">
      An element declaration.
      @param name         The name of the element.
      @param contentModel The element content model.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2328" name="L2328"></a>2328     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13637.html" title="Multiple referred from 56 places.">elementDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3310.html#L109" title="Defined at 109 in src/javax/swing/text/html/parser/TagStack.java.">contentModel</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs)
<a id="L2329" name="L2329"></a>2329     <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2330" name="L2330"></a>2330 
<a id="L2331" name="L2331"></a>2331         <em class="comment">// internal subset string</em>
<a id="L2332" name="L2332"></a>2332         <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L2333" name="L2333"></a>2333             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;!ELEMENT ");
<a id="L2334" name="L2334"></a>2334             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L2335" name="L2335"></a>2335             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ');
<a id="L2336" name="L2336"></a>2336             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../S/3310.html#L109" title="Defined at 109 in src/javax/swing/text/html/parser/TagStack.java.">contentModel</a>);
<a id="L2337" name="L2337"></a>2337             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&gt;\n");
<a id="L2338" name="L2338"></a>2338         <em class="brace">}</em>
<a id="L2339" name="L2339"></a>2339 
<a id="L2340" name="L2340"></a>2340     <em class="brace">}</em> <em class="comment">// elementDecl(String,String)</em>
<a id="L2341" name="L2341"></a>2341 
<div class="comment">
      An attribute declaration.
      @param elementName   The name of the element that this attribute
                           is associated with.
      @param attributeName The name of the attribute.
      @param type          The attribute type. This value will be one of
                           the following: "CDATA", "ENTITY", "ENTITIES",
                           "ENUMERATION", "ID", "IDREF", "IDREFS",
                           "NMTOKEN", "NMTOKENS", or "NOTATION".
      @param enumeration   If the type has the value "ENUMERATION" or
                           "NOTATION", this array holds the allowed attribute
                           values; otherwise, this array is null.
      @param defaultType   The attribute default type. This value will be
                           one of the following: "#FIXED", "#IMPLIED",
                           "#REQUIRED", or null.
      @param defaultValue  The attribute default value, or null if no
                           default value is specified.
      @param nonNormalizedDefaultValue  The attribute default value with no normalization
                           performed, or null if no default value is specified.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2367" name="L2367"></a>2367     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10404.html" title="Multiple referred from 33 places.">attributeDecl</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attributeName,
<a id="L2368" name="L2368"></a>2368     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../S/1147.html#L5207" title="Defined at 5207 in src/java/util/Collections.java.">enumeration</a>,
<a id="L2369" name="L2369"></a>2369     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> defaultType, <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>,
<a id="L2370" name="L2370"></a>2370     <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> nonNormalizedDefaultValue, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2371" name="L2371"></a>2371 
<a id="L2372" name="L2372"></a>2372         <em class="comment">// internal subset string</em>
<a id="L2373" name="L2373"></a>2373         <strong class="reserved">if</strong> (fInternalSubset != <strong class="reserved">null</strong> &amp;&amp; !fInDTDExternalSubset) <em class="brace">{</em>
<a id="L2374" name="L2374"></a>2374             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&lt;!ATTLIST ");
<a id="L2375" name="L2375"></a>2375             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L2376" name="L2376"></a>2376             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ');
<a id="L2377" name="L2377"></a>2377             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (attributeName);
<a id="L2378" name="L2378"></a>2378             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ');
<a id="L2379" name="L2379"></a>2379             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> ("ENUMERATION")) <em class="brace">{</em>
<a id="L2380" name="L2380"></a>2380                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ('(');
<a id="L2381" name="L2381"></a>2381                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/1147.html#L5207" title="Defined at 5207 in src/java/util/Collections.java.">enumeration</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L2382" name="L2382"></a>2382                     <strong class="reserved">if</strong> (i &gt; 0) <em class="brace">{</em>
<a id="L2383" name="L2383"></a>2383                         fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ('|');
<a id="L2384" name="L2384"></a>2384                     <em class="brace">}</em>
<a id="L2385" name="L2385"></a>2385                     fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../S/1147.html#L5207" title="Defined at 5207 in src/java/util/Collections.java.">enumeration</a>[i]);
<a id="L2386" name="L2386"></a>2386                 <em class="brace">}</em>
<a id="L2387" name="L2387"></a>2387                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (')');
<a id="L2388" name="L2388"></a>2388             <em class="brace">}</em>
<a id="L2389" name="L2389"></a>2389             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2390" name="L2390"></a>2390                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L2391" name="L2391"></a>2391             <em class="brace">}</em>
<a id="L2392" name="L2392"></a>2392             <strong class="reserved">if</strong> (defaultType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2393" name="L2393"></a>2393                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (' ');
<a id="L2394" name="L2394"></a>2394                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (defaultType);
<a id="L2395" name="L2395"></a>2395             <em class="brace">}</em>
<a id="L2396" name="L2396"></a>2396             <strong class="reserved">if</strong> (<a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2397" name="L2397"></a>2397                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (" '");
<a id="L2398" name="L2398"></a>2398                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L2399" name="L2399"></a>2399                     <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>.ch[<a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + i];
<a id="L2400" name="L2400"></a>2400                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\'') <em class="brace">{</em>
<a id="L2401" name="L2401"></a>2401                         fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&amp;apos;");
<a id="L2402" name="L2402"></a>2402                     <em class="brace">}</em>
<a id="L2403" name="L2403"></a>2403                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2404" name="L2404"></a>2404                         fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L2405" name="L2405"></a>2405                     <em class="brace">}</em>
<a id="L2406" name="L2406"></a>2406                 <em class="brace">}</em>
<a id="L2407" name="L2407"></a>2407                 fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ('\'');
<a id="L2408" name="L2408"></a>2408             <em class="brace">}</em>
<a id="L2409" name="L2409"></a>2409             fInternalSubset.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a> ("&gt;\n");
<a id="L2410" name="L2410"></a>2410         <em class="brace">}</em>
<a id="L2411" name="L2411"></a>2411         <em class="comment">// REVISIT: This code applies to the support of domx/grammar-access</em>
<a id="L2412" name="L2412"></a>2412         <em class="comment">// feature in Xerces 1</em>
<a id="L2413" name="L2413"></a>2413 
<a id="L2414" name="L2414"></a>2414         <em class="comment">// deferred expansion</em>
<a id="L2415" name="L2415"></a>2415         <strong class="reserved">if</strong> (fDeferredDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2416" name="L2416"></a>2416 
<a id="L2417" name="L2417"></a>2417             <em class="comment">// get the default value</em>
<a id="L2418" name="L2418"></a>2418             <strong class="reserved">if</strong> (<a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2419" name="L2419"></a>2419 
<a id="L2420" name="L2420"></a>2420                 <em class="comment">// get element definition</em>
<a id="L2421" name="L2421"></a>2421                 <strong class="reserved">int</strong> elementDefIndex  = fDeferredDocumentImpl.<a href="../S/5427.html#L902" title="Defined at 902 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">lookupElementDefinition</a> (<a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L2422" name="L2422"></a>2422 
<a id="L2423" name="L2423"></a>2423                 <em class="comment">// create element definition if not already there</em>
<a id="L2424" name="L2424"></a>2424                 <strong class="reserved">if</strong> (elementDefIndex == -1) <em class="brace">{</em>
<a id="L2425" name="L2425"></a>2425                     elementDefIndex = fDeferredDocumentImpl.<a href="../S/5427.html#L535" title="Defined at 535 in src/com/sun/org/apache/xerces/internal/dom/DeferredDocumentImpl.java.">createDeferredElementDefinition</a> (<a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L2426" name="L2426"></a>2426                     fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (fDocumentTypeIndex, elementDefIndex);
<a id="L2427" name="L2427"></a>2427                 <em class="brace">}</em>
<a id="L2428" name="L2428"></a>2428                 <em class="comment">// add default attribute</em>
<a id="L2429" name="L2429"></a>2429                 <strong class="reserved">boolean</strong> nsEnabled = fNamespaceAware;
<a id="L2430" name="L2430"></a>2430                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <strong class="reserved">null</strong>;
<a id="L2431" name="L2431"></a>2431                 <strong class="reserved">if</strong> (nsEnabled) <em class="brace">{</em>
<a id="L2432" name="L2432"></a>2432                     <em class="comment">// DOM Level 2 wants all namespace declaration attributes</em>
<a id="L2433" name="L2433"></a>2433                     <em class="comment">// to be bound to "http://www.w3.org/2000/xmlns/"</em>
<a id="L2434" name="L2434"></a>2434                     <em class="comment">// So as long as the XML parser doesn't do it, it needs to</em>
<a id="L2435" name="L2435"></a>2435                     <em class="comment">// done here.</em>
<a id="L2436" name="L2436"></a>2436                     <strong class="reserved">if</strong> (attributeName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("xmlns:") ||
<a id="L2437" name="L2437"></a>2437                         attributeName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xmlns")) <em class="brace">{</em>
<a id="L2438" name="L2438"></a>2438                         <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XMLNS_URI;
<a id="L2439" name="L2439"></a>2439                     <em class="brace">}</em>
<a id="L2440" name="L2440"></a>2440                     <strong class="reserved">else</strong> <strong class="reserved">if</strong> (attributeName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("xml:")) <em class="brace">{</em>
<a id="L2441" name="L2441"></a>2441                         <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XML_URI;
<a id="L2442" name="L2442"></a>2442                     <em class="brace">}</em>
<a id="L2443" name="L2443"></a>2443                 <em class="brace">}</em>
<a id="L2444" name="L2444"></a>2444                 <strong class="reserved">int</strong> attrIndex = fDeferredDocumentImpl.<a href="../D/13784.html" title="Multiple defined in 2 places.">createDeferredAttribute</a> (
<a id="L2445" name="L2445"></a>2445                         attributeName, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), <strong class="reserved">false</strong>);
<a id="L2446" name="L2446"></a>2446                 <strong class="reserved">if</strong> ("ID".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)) <em class="brace">{</em>
<a id="L2447" name="L2447"></a>2447                     fDeferredDocumentImpl.<a href="../D/32885.html" title="Multiple defined in 10 places.">setIdAttribute</a> (attrIndex);
<a id="L2448" name="L2448"></a>2448                 <em class="brace">}</em>
<a id="L2449" name="L2449"></a>2449                 <em class="comment">// REVISIT: set ID type correctly</em>
<a id="L2450" name="L2450"></a>2450                 fDeferredDocumentImpl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a> (elementDefIndex, attrIndex);
<a id="L2451" name="L2451"></a>2451             <em class="brace">}</em>
<a id="L2452" name="L2452"></a>2452 
<a id="L2453" name="L2453"></a>2453         <em class="brace">}</em> <em class="comment">// if deferred</em>
<a id="L2454" name="L2454"></a>2454 
<a id="L2455" name="L2455"></a>2455         <em class="comment">// full expansion</em>
<a id="L2456" name="L2456"></a>2456         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2457" name="L2457"></a>2457 
<a id="L2458" name="L2458"></a>2458             <em class="comment">// get the default value</em>
<a id="L2459" name="L2459"></a>2459             <strong class="reserved">if</strong> (<a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2460" name="L2460"></a>2460 
<a id="L2461" name="L2461"></a>2461                 <em class="comment">// get element definition node</em>
<a id="L2462" name="L2462"></a>2462                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = ((<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>)fDocumentType).<a href="../D/18709.html" title="Multiple defined in 9 places.">getElements</a> ();
<a id="L2463" name="L2463"></a>2463                 <a href="../S/5433.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/ElementDefinitionImpl.java.">ElementDefinitionImpl</a> elementDef = (<a href="../S/5433.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/ElementDefinitionImpl.java.">ElementDefinitionImpl</a>)<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a> (<a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L2464" name="L2464"></a>2464                 <strong class="reserved">if</strong> (elementDef == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2465" name="L2465"></a>2465                     elementDef = fDocumentImpl.<a href="../S/5445.html#L1437" title="Defined at 1437 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">createElementDefinition</a> (<a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L2466" name="L2466"></a>2466                     ((<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>)fDocumentType).<a href="../D/18709.html" title="Multiple defined in 9 places.">getElements</a> ().<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a> (elementDef);
<a id="L2467" name="L2467"></a>2467                 <em class="brace">}</em>
<a id="L2468" name="L2468"></a>2468 
<a id="L2469" name="L2469"></a>2469                 <em class="comment">// REVISIT: Check for uniqueness of element name? -Ac</em>
<a id="L2470" name="L2470"></a>2470 
<a id="L2471" name="L2471"></a>2471                 <em class="comment">// create attribute and set properties</em>
<a id="L2472" name="L2472"></a>2472                 <strong class="reserved">boolean</strong> nsEnabled = fNamespaceAware;
<a id="L2473" name="L2473"></a>2473                 <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>;
<a id="L2474" name="L2474"></a>2474                 <strong class="reserved">if</strong> (nsEnabled) <em class="brace">{</em>
<a id="L2475" name="L2475"></a>2475                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <strong class="reserved">null</strong>;
<a id="L2476" name="L2476"></a>2476                     <em class="comment">// DOM Level 2 wants all namespace declaration attributes</em>
<a id="L2477" name="L2477"></a>2477                     <em class="comment">// to be bound to "http://www.w3.org/2000/xmlns/"</em>
<a id="L2478" name="L2478"></a>2478                     <em class="comment">// So as long as the XML parser doesn't do it, it needs to</em>
<a id="L2479" name="L2479"></a>2479                     <em class="comment">// done here.</em>
<a id="L2480" name="L2480"></a>2480                     <strong class="reserved">if</strong> (attributeName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("xmlns:") ||
<a id="L2481" name="L2481"></a>2481                         attributeName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xmlns")) <em class="brace">{</em>
<a id="L2482" name="L2482"></a>2482                         <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XMLNS_URI;
<a id="L2483" name="L2483"></a>2483                     <em class="brace">}</em>
<a id="L2484" name="L2484"></a>2484                     <strong class="reserved">else</strong> <strong class="reserved">if</strong> (attributeName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("xml:")) <em class="brace">{</em>
<a id="L2485" name="L2485"></a>2485                         <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XML_URI;
<a id="L2486" name="L2486"></a>2486                     <em class="brace">}</em>
<a id="L2487" name="L2487"></a>2487                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>)fDocumentImpl.<a href="../D/13620.html" title="Multiple defined in 8 places.">createAttributeNS</a> (<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>,
<a id="L2488" name="L2488"></a>2488                     attributeName);
<a id="L2489" name="L2489"></a>2489                 <em class="brace">}</em>
<a id="L2490" name="L2490"></a>2490                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2491" name="L2491"></a>2491                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>)fDocumentImpl.<a href="../D/13618.html" title="Multiple defined in 9 places.">createAttribute</a> (attributeName);
<a id="L2492" name="L2492"></a>2492                 <em class="brace">}</em>
<a id="L2493" name="L2493"></a>2493                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a> (<a href="../D/14750.html" title="Multiple defined in 8 places.">defaultValue</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L2494" name="L2494"></a>2494                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/33986.html" title="Multiple defined in 5 places.">setSpecified</a> (<strong class="reserved">false</strong>);
<a id="L2495" name="L2495"></a>2495                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/32885.html" title="Multiple defined in 10 places.">setIdAttribute</a> ("ID".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>));
<a id="L2496" name="L2496"></a>2496 
<a id="L2497" name="L2497"></a>2497                 <em class="comment">// add default attribute to element definition</em>
<a id="L2498" name="L2498"></a>2498                 <strong class="reserved">if</strong> (nsEnabled)<em class="brace">{</em>
<a id="L2499" name="L2499"></a>2499                     elementDef.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a> ().<a href="../D/33320.html" title="Multiple defined in 6 places.">setNamedItemNS</a> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L2500" name="L2500"></a>2500                 <em class="brace">}</em>
<a id="L2501" name="L2501"></a>2501                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2502" name="L2502"></a>2502                     elementDef.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a> ().<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L2503" name="L2503"></a>2503                 <em class="brace">}</em>
<a id="L2504" name="L2504"></a>2504             <em class="brace">}</em>
<a id="L2505" name="L2505"></a>2505 
<a id="L2506" name="L2506"></a>2506         <em class="brace">}</em> <em class="comment">// if NOT defer-node-expansion</em>
<a id="L2507" name="L2507"></a>2507 
<a id="L2508" name="L2508"></a>2508     <em class="brace">}</em> <em class="comment">// attributeDecl(String,String,String,String[],String,XMLString, XMLString, Augmentations)</em>
<a id="L2509" name="L2509"></a>2509 
<a id="L2510" name="L2510"></a>2510 
<div class="comment">
      The start of an attribute list.
      @param elementName The name of the element that this attribute
                         list is associated with.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2521" name="L2521"></a>2521     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28788.html" title="Multiple referred from 5 places.">startAttlist</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>, <a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2522" name="L2522"></a>2522     <em class="brace">}</em> <em class="comment">// startAttlist(String)</em>
<a id="L2523" name="L2523"></a>2523 
<a id="L2524" name="L2524"></a>2524 
<div class="comment">
      The end of an attribute list.
      @param augs Additional information that may include infoset
                           augmentations.
      @throws XNIException Thrown by handler to signal an error.</div>
<a id="L2533" name="L2533"></a>2533     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13753.html" title="Multiple referred from 6 places.">endAttlist</a> (<a href="../S/5490.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/Augmentations.java.">Augmentations</a> augs) <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L2534" name="L2534"></a>2534     <em class="brace">}</em> <em class="comment">// endAttlist()</em>
<a id="L2535" name="L2535"></a>2535 
<a id="L2536" name="L2536"></a>2536 
<a id="L2537" name="L2537"></a>2537     <em class="comment">// method to create an element node.</em>
<a id="L2538" name="L2538"></a>2538     <em class="comment">// subclasses can override this method to create element nodes in other ways.</em>
<a id="L2539" name="L2539"></a>2539     <strong class="reserved">protected</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5273.html#L934" title="Referred from 934 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">createElementNode</a> (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L2540" name="L2540"></a>2540         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el = <strong class="reserved">null</strong>;
<a id="L2541" name="L2541"></a>2541 
<a id="L2542" name="L2542"></a>2542         <strong class="reserved">if</strong> (fNamespaceAware) <em class="brace">{</em>
<a id="L2543" name="L2543"></a>2543             <em class="comment">// if we are using xerces DOM implementation, call our</em>
<a id="L2544" name="L2544"></a>2544             <em class="comment">// own constructor to reuse the strings we have here.</em>
<a id="L2545" name="L2545"></a>2545             <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2546" name="L2546"></a>2546                 el = fDocumentImpl.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.uri, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.rawname,
<a id="L2547" name="L2547"></a>2547                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.localpart);
<a id="L2548" name="L2548"></a>2548             <em class="brace">}</em>
<a id="L2549" name="L2549"></a>2549             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2550" name="L2550"></a>2550                 el = fDocument.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.uri, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.rawname);
<a id="L2551" name="L2551"></a>2551             <em class="brace">}</em>
<a id="L2552" name="L2552"></a>2552         <em class="brace">}</em>
<a id="L2553" name="L2553"></a>2553         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2554" name="L2554"></a>2554             el = fDocument.<a href="../D/13831.html" title="Multiple defined in 10 places.">createElement</a> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.rawname);
<a id="L2555" name="L2555"></a>2555         <em class="brace">}</em>
<a id="L2556" name="L2556"></a>2556 
<a id="L2557" name="L2557"></a>2557         <strong class="reserved">return</strong> el;
<a id="L2558" name="L2558"></a>2558     <em class="brace">}</em>
<a id="L2559" name="L2559"></a>2559 
<a id="L2560" name="L2560"></a>2560     <em class="comment">// method to create an attribute node.</em>
<a id="L2561" name="L2561"></a>2561     <em class="comment">// subclasses can override this method to create attribute nodes in other ways.</em>
<a id="L2562" name="L2562"></a>2562     <strong class="reserved">protected</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../S/5273.html#L939" title="Referred from 939 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">createAttrNode</a> (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> attrQName) <em class="brace">{</em>
<a id="L2563" name="L2563"></a>2563         <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <strong class="reserved">null</strong>;
<a id="L2564" name="L2564"></a>2564 
<a id="L2565" name="L2565"></a>2565         <strong class="reserved">if</strong> (fNamespaceAware) <em class="brace">{</em>
<a id="L2566" name="L2566"></a>2566             <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2567" name="L2567"></a>2567                 <em class="comment">// if we are using xerces DOM implementation, call our</em>
<a id="L2568" name="L2568"></a>2568                 <em class="comment">// own constructor to reuse the strings we have here.</em>
<a id="L2569" name="L2569"></a>2569                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = fDocumentImpl.<a href="../D/13620.html" title="Multiple defined in 8 places.">createAttributeNS</a> (attrQName.uri,
<a id="L2570" name="L2570"></a>2570                 attrQName.rawname,
<a id="L2571" name="L2571"></a>2571                 attrQName.localpart);
<a id="L2572" name="L2572"></a>2572             <em class="brace">}</em>
<a id="L2573" name="L2573"></a>2573             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2574" name="L2574"></a>2574                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = fDocument.<a href="../D/13620.html" title="Multiple defined in 8 places.">createAttributeNS</a> (attrQName.uri,
<a id="L2575" name="L2575"></a>2575                 attrQName.rawname);
<a id="L2576" name="L2576"></a>2576             <em class="brace">}</em>
<a id="L2577" name="L2577"></a>2577         <em class="brace">}</em>
<a id="L2578" name="L2578"></a>2578         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2579" name="L2579"></a>2579             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = fDocument.<a href="../D/13618.html" title="Multiple defined in 9 places.">createAttribute</a> (attrQName.rawname);
<a id="L2580" name="L2580"></a>2580         <em class="brace">}</em>
<a id="L2581" name="L2581"></a>2581 
<a id="L2582" name="L2582"></a>2582         <strong class="reserved">return</strong> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>;
<a id="L2583" name="L2583"></a>2583     <em class="brace">}</em>
<a id="L2584" name="L2584"></a>2584 
<div class="comment">
      When the first characters() call is received, the data is stored in
      a new Text node. If right after the first characters() we receive another chunk of data,
      the data from the Text node, following the new characters are appended
      to the fStringBuffer and the text node data is set to empty.
      This function is called when the state is changed and the
      data must be appended to the current node.
      Note: if DOMFilter is set, you must make sure that if Node is skipped,
      or removed fFistChunk must be set to true, otherwise some data can be lost.</div>
<a id="L2598" name="L2598"></a>2598     <strong class="reserved">protected</strong> <strong class="reserved">void</strong>  <a href="../R/27026.html" title="Multiple referred from 8 places.">setCharacterData</a> (<strong class="reserved">boolean</strong> sawChars)<em class="brace">{</em>
<a id="L2599" name="L2599"></a>2599 
<a id="L2600" name="L2600"></a>2600         <em class="comment">// handle character data</em>
<a id="L2601" name="L2601"></a>2601         fFirstChunk = sawChars;
<a id="L2602" name="L2602"></a>2602 
<a id="L2603" name="L2603"></a>2603 
<a id="L2604" name="L2604"></a>2604         <em class="comment">// if we have data in the buffer we must have created</em>
<a id="L2605" name="L2605"></a>2605         <em class="comment">// a text node already.</em>
<a id="L2606" name="L2606"></a>2606 
<a id="L2607" name="L2607"></a>2607         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = fCurrentNode.<a href="../D/19993.html" title="Multiple defined in 20 places.">getLastChild</a> ();
<a id="L2608" name="L2608"></a>2608         <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2609" name="L2609"></a>2609             <strong class="reserved">if</strong> (fStringBuilder.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> () &gt; 0) <em class="brace">{</em>
<a id="L2610" name="L2610"></a>2610                 <em class="comment">// REVISIT: should this check be performed?</em>
<a id="L2611" name="L2611"></a>2611                 <strong class="reserved">if</strong> (child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> () == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L2612" name="L2612"></a>2612                     <strong class="reserved">if</strong> (fDocumentImpl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2613" name="L2613"></a>2613                         ((<a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a>)child).<a href="../D/31043.html" title="Multiple defined in 6 places.">replaceData</a> (fStringBuilder.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L2614" name="L2614"></a>2614                     <em class="brace">}</em>
<a id="L2615" name="L2615"></a>2615                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2616" name="L2616"></a>2616                         ((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)child).<a href="../D/32348.html" title="Multiple defined in 14 places.">setData</a> (fStringBuilder.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> ());
<a id="L2617" name="L2617"></a>2617                     <em class="brace">}</em>
<a id="L2618" name="L2618"></a>2618                 <em class="brace">}</em>
<a id="L2619" name="L2619"></a>2619                 <em class="comment">// reset string buffer</em>
<a id="L2620" name="L2620"></a>2620                 fStringBuilder.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a> (0);
<a id="L2621" name="L2621"></a>2621             <em class="brace">}</em>
<a id="L2622" name="L2622"></a>2622 
<a id="L2623" name="L2623"></a>2623             <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp; !fInEntityRef) <em class="brace">{</em>
<a id="L2624" name="L2624"></a>2624                 <strong class="reserved">if</strong> ( (child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a> () == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE ) &amp;&amp;
<a id="L2625" name="L2625"></a>2625                 ((fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a> () &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_TEXT)!= 0) ) <em class="brace">{</em>
<a id="L2626" name="L2626"></a>2626                     <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a> (child);
<a id="L2627" name="L2627"></a>2627                     <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L2628" name="L2628"></a>2628                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_INTERRUPT:<em class="brace">{</em>
<a id="L2629" name="L2629"></a>2629                             <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L2630" name="L2630"></a>2630                         <em class="brace">}</em>
<a id="L2631" name="L2631"></a>2631                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_REJECT:<em class="brace">{</em>
<a id="L2632" name="L2632"></a>2632                             <em class="comment">// fall through to SKIP since Comment has no children.</em>
<a id="L2633" name="L2633"></a>2633                         <em class="brace">}</em>
<a id="L2634" name="L2634"></a>2634                         <strong class="reserved">case</strong> <a href="../S/139.html#L77" title="Defined at 77 in src/org/w3c/dom/ls/LSParserFilter.java.">LSParserFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L2635" name="L2635"></a>2635                             fCurrentNode.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a> (child);
<a id="L2636" name="L2636"></a>2636                             <strong class="reserved">return</strong>;
<a id="L2637" name="L2637"></a>2637                         <em class="brace">}</em>
<a id="L2638" name="L2638"></a>2638                         <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L2639" name="L2639"></a>2639                             <em class="comment">// accept node -- do nothing</em>
<a id="L2640" name="L2640"></a>2640                         <em class="brace">}</em>
<a id="L2641" name="L2641"></a>2641                     <em class="brace">}</em>
<a id="L2642" name="L2642"></a>2642                 <em class="brace">}</em>
<a id="L2643" name="L2643"></a>2643             <em class="brace">}</em>   <em class="comment">// end-if fDOMFilter !=null</em>
<a id="L2644" name="L2644"></a>2644 
<a id="L2645" name="L2645"></a>2645         <em class="brace">}</em> <em class="comment">// end-if child !=null</em>
<a id="L2646" name="L2646"></a>2646     <em class="brace">}</em>
<a id="L2647" name="L2647"></a>2647 
<a id="L2648" name="L2648"></a>2648 
<div class="comment">
      @see org.w3c.dom.ls.LSParser#abort()</div>
<a id="L2652" name="L2652"></a>2652     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9495.html" title="Multiple referred from 10 places.">abort</a> () <em class="brace">{</em>
<a id="L2653" name="L2653"></a>2653         <strong class="reserved">throw</strong> <a href="../S/5273.html#L166" title="Defined at 166 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">Abort</a>.INSTANCE;
<a id="L2654" name="L2654"></a>2654     <em class="brace">}</em>
<a id="L2655" name="L2655"></a>2655 
<a id="L2656" name="L2656"></a>2656 
<a id="L2657" name="L2657"></a>2657 <em class="brace">}</em> <em class="comment">// class AbstractDOMParser</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L170">[^]</a><a href="#L2652">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>