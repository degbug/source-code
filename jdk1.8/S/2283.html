<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/image/RescaleOp.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L145">[^]</a><a href="#L663">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L145" title="Defined at 145.">getScaleFactors</a></li>
<li><a href="#L163" title="Defined at 163.">getOffsets</a></li>
<li><a href="#L179" title="Defined at 179.">getNumFactors</a></li>
<li><a href="#L191" title="Defined at 191.">createByteLut</a></li>
<li><a href="#L226" title="Defined at 226.">createShortLut</a></li>
<li><a href="#L261" title="Defined at 261.">canUseLookup</a></li>
<li><a href="#L326" title="Defined at 326.">filter</a></li>
<li><a href="#L463" title="Defined at 463.">filter</a></li>
<li><a href="#L588" title="Defined at 588.">getBounds2D</a></li>
<li><a href="#L599" title="Defined at 599.">getBounds2D</a></li>
<li><a href="#L611" title="Defined at 611.">createCompatibleDestImage</a></li>
<li><a href="#L638" title="Defined at 638.">createCompatibleDestRaster</a></li>
<li><a href="#L651" title="Defined at 651.">getPoint2D</a></li>
<li><a href="#L663" title="Defined at 663.">getRenderingHints</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2000, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.image;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.color.ColorSpace;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.geom.Rectangle2D;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.Rectangle;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.awt.geom.Point2D;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.awt.RenderingHints;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> sun.awt.image.ImagingLib;
<a id="L34" name="L34"></a>  34 
<div class="comment">
  This class performs a pixel-by-pixel rescaling of the data in the
  source image by multiplying the sample values for each pixel by a scale
  factor and then adding an offset. The scaled sample values are clipped
  to the minimum/maximum representable in the destination image.
  <p>
  The pseudo code for the rescaling operation is as follows:
  </p><pre> for each pixel from Source object {
     for each band/component of the pixel {
         dstElement = (srcElement*scaleFactor) + offset
     }
 }
  </pre>
  <p>
  For Rasters, rescaling operates on bands.  The number of
  sets of scaling constants may be one, in which case the same constants
  are applied to all bands, or it must equal the number of Source
  Raster bands.
  </p><p>
  For BufferedImages, rescaling operates on color and alpha components.
  The number of sets of scaling constants may be one, in which case the
  same constants are applied to all color (but not alpha) components.
  Otherwise, the  number of sets of scaling constants may
  equal the number of Source color components, in which case no
  rescaling of the alpha component (if present) is performed.
  If neither of these cases apply, the number of sets of scaling constants
  must equal the number of Source color components plus alpha components,
  in which case all color and alpha components are rescaled.
  </p><p>
  BufferedImage sources with premultiplied alpha data are treated in the same
  manner as non-premultiplied images for purposes of rescaling.  That is,
  the rescaling is done per band on the raw data of the BufferedImage source
  without regard to whether the data is premultiplied.  If a color conversion
  is required to the destination ColorModel, the premultiplied state of
  both source and destination will be taken into account for this step.
  </p><p>
  Images with an IndexColorModel cannot be rescaled.
  </p><p>
  If a RenderingHints object is specified in the constructor, the
  color rendering hint and the dithering hint may be used when color
  conversion is required.
  </p><p>
  Note that in-place operation is allowed (i.e. the source and destination can
  be the same object).
  @see java.awt.RenderingHints#KEY_COLOR_RENDERING
  @see java.awt.RenderingHints#KEY_DITHERING</p></div>
<a id="L83" name="L83"></a>  83 <strong class="reserved">public</strong> <strong class="reserved">class</strong> RescaleOp <strong class="reserved">implements</strong> <a href="../S/2237.html#L61" title="Defined at 61 in src/java/awt/image/BufferedImageOp.java.">BufferedImageOp</a>, <a href="../S/2234.html#L52" title="Defined at 52 in src/java/awt/image/RasterOp.java.">RasterOp</a> <em class="brace">{</em>
<a id="L84" name="L84"></a>  84     <strong class="reserved">float</strong>[] scaleFactors;
<a id="L85" name="L85"></a>  85     <strong class="reserved">float</strong>[] offsets;
<a id="L86" name="L86"></a>  86     <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = 0;
<a id="L87" name="L87"></a>  87     <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> hints;
<a id="L88" name="L88"></a>  88 
<a id="L89" name="L89"></a>  89     <strong class="reserved">private</strong> <strong class="reserved">int</strong> srcNbits;
<a id="L90" name="L90"></a>  90     <strong class="reserved">private</strong> <strong class="reserved">int</strong> dstNbits;
<a id="L91" name="L91"></a>  91 
<a id="L92" name="L92"></a>  92 
<div class="comment">
      Constructs a new RescaleOp with the desired scale factors
      and offsets.  The length of the scaleFactor and offset arrays
      must meet the restrictions stated in the class comments above.
      The RenderingHints argument may be null.
      @param scaleFactors the specified scale factors
      @param offsets the specified offsets
      @param hints the specified <code>RenderingHints</code>, or
             <code>null</code></div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">public</strong> RescaleOp (<strong class="reserved">float</strong>[] scaleFactors, <strong class="reserved">float</strong>[] offsets,
<a id="L104" name="L104"></a> 104                       <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> hints) <em class="brace">{</em>
<a id="L105" name="L105"></a> 105         <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = scaleFactors.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L106" name="L106"></a> 106         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; offsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = offsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L107" name="L107"></a> 107 
<a id="L108" name="L108"></a> 108         <strong class="reserved">this</strong>.scaleFactors = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L109" name="L109"></a> 109         <strong class="reserved">this</strong>.offsets      = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L110" name="L110"></a> 110         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L111" name="L111"></a> 111             <strong class="reserved">this</strong>.scaleFactors[i] = scaleFactors[i];
<a id="L112" name="L112"></a> 112             <strong class="reserved">this</strong>.offsets[i]      = offsets[i];
<a id="L113" name="L113"></a> 113         <em class="brace">}</em>
<a id="L114" name="L114"></a> 114         <strong class="reserved">this</strong>.hints = hints;
<a id="L115" name="L115"></a> 115     <em class="brace">}</em>
<a id="L116" name="L116"></a> 116 
<div class="comment">
      Constructs a new RescaleOp with the desired scale factor
      and offset.  The scaleFactor and offset will be applied to
      all bands in a source Raster and to all color (but not alpha)
      components in a BufferedImage.
      The RenderingHints argument may be null.
      @param scaleFactor the specified scale factor
      @param offset the specified offset
      @param hints the specified <code>RenderingHints</code>, or
             <code>null</code></div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">public</strong> RescaleOp (<strong class="reserved">float</strong> scaleFactor, <strong class="reserved">float</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> hints) <em class="brace">{</em>
<a id="L129" name="L129"></a> 129         <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = 1;
<a id="L130" name="L130"></a> 130         <strong class="reserved">this</strong>.scaleFactors = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[1];
<a id="L131" name="L131"></a> 131         <strong class="reserved">this</strong>.offsets      = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[1];
<a id="L132" name="L132"></a> 132         <strong class="reserved">this</strong>.scaleFactors[0] = scaleFactor;
<a id="L133" name="L133"></a> 133         <strong class="reserved">this</strong>.offsets[0]       = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L134" name="L134"></a> 134         <strong class="reserved">this</strong>.hints = hints;
<a id="L135" name="L135"></a> 135     <em class="brace">}</em>
<a id="L136" name="L136"></a> 136 
<div class="comment">
      Returns the scale factors in the given array. The array is also
      returned for convenience.  If scaleFactors is null, a new array
      will be allocated.
      @param scaleFactors the array to contain the scale factors of
             this <code>RescaleOp</code>
      @return the scale factors of this <code>RescaleOp</code>.</div>
<a id="L145" name="L145"></a> 145     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">float</strong>[] getScaleFactors (<strong class="reserved">float</strong> scaleFactors[]) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146         <strong class="reserved">if</strong> (scaleFactors == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L147" name="L147"></a> 147             <strong class="reserved">return</strong> (<strong class="reserved">float</strong>[]) <strong class="reserved">this</strong>.scaleFactors.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L148" name="L148"></a> 148         <em class="brace">}</em>
<a id="L149" name="L149"></a> 149         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a> (<strong class="reserved">this</strong>.scaleFactors, 0, scaleFactors, 0,
<a id="L150" name="L150"></a> 150                           <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<strong class="reserved">this</strong>.scaleFactors.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L151" name="L151"></a> 151                                    scaleFactors.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L152" name="L152"></a> 152         <strong class="reserved">return</strong> scaleFactors;
<a id="L153" name="L153"></a> 153     <em class="brace">}</em>
<a id="L154" name="L154"></a> 154 
<div class="comment">
      Returns the offsets in the given array. The array is also returned
      for convenience.  If offsets is null, a new array
      will be allocated.
      @param offsets the array to contain the offsets of
             this <code>RescaleOp</code>
      @return the offsets of this <code>RescaleOp</code>.</div>
<a id="L163" name="L163"></a> 163     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">float</strong>[] <a href="../R/18119.html" title="Multiple referred from 6 places.">getOffsets</a>(<strong class="reserved">float</strong> offsets[]) <em class="brace">{</em>
<a id="L164" name="L164"></a> 164         <strong class="reserved">if</strong> (offsets == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L165" name="L165"></a> 165             <strong class="reserved">return</strong> (<strong class="reserved">float</strong>[]) <strong class="reserved">this</strong>.offsets.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L166" name="L166"></a> 166         <em class="brace">}</em>
<a id="L167" name="L167"></a> 167 
<a id="L168" name="L168"></a> 168         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a> (<strong class="reserved">this</strong>.offsets, 0, offsets, 0,
<a id="L169" name="L169"></a> 169                           <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<strong class="reserved">this</strong>.offsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, offsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L170" name="L170"></a> 170         <strong class="reserved">return</strong> offsets;
<a id="L171" name="L171"></a> 171     <em class="brace">}</em>
<a id="L172" name="L172"></a> 172 
<div class="comment">
      Returns the number of scaling factors and offsets used in this
      RescaleOp.
      @return the number of scaling factors and offsets of this
              <code>RescaleOp</code>.</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> getNumFactors() <em class="brace">{</em>
<a id="L180" name="L180"></a> 180         <strong class="reserved">return</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L181" name="L181"></a> 181     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183 
<div class="comment">
      Creates a ByteLookupTable to implement the rescale.
      The table may have either a SHORT or BYTE input.
      @param nElems    Number of elements the table is to have.
                       This will generally be 256 for byte and
                       65536 for short.</div>
<a id="L191" name="L191"></a> 191     <strong class="reserved">private</strong> <a href="../S/2274.html#L43" title="Defined at 43 in src/java/awt/image/ByteLookupTable.java.">ByteLookupTable</a> <a href="../S/2283.html#L512" title="Referred from 512 in src/java/awt/image/RescaleOp.java.">createByteLut</a>(<strong class="reserved">float</strong> <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>[],
<a id="L192" name="L192"></a> 192                                           <strong class="reserved">float</strong> off[],
<a id="L193" name="L193"></a> 193                                           <strong class="reserved">int</strong>   nBands,
<a id="L194" name="L194"></a> 194                                           <strong class="reserved">int</strong>   nElems) <em class="brace">{</em>
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196         <strong class="reserved">byte</strong>[][]        lutData = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>][nElems];
<a id="L197" name="L197"></a> 197 
<a id="L198" name="L198"></a> 198         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> band=0; band&lt;<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; band++) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199             <strong class="reserved">float</strong>  bandScale   = <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>[band];
<a id="L200" name="L200"></a> 200             <strong class="reserved">float</strong>  bandOff     = off[band];
<a id="L201" name="L201"></a> 201             <strong class="reserved">byte</strong>[] bandLutData = lutData[band];
<a id="L202" name="L202"></a> 202             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;nElems; i++) <em class="brace">{</em>
<a id="L203" name="L203"></a> 203                 <strong class="reserved">int</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = (<strong class="reserved">int</strong>)(i*bandScale + bandOff);
<a id="L204" name="L204"></a> 204                 <strong class="reserved">if</strong> ((<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> &amp; 0xffffff00) != 0) <em class="brace">{</em>
<a id="L205" name="L205"></a> 205                     <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> &lt; 0) <em class="brace">{</em>
<a id="L206" name="L206"></a> 206                         <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = 0;
<a id="L207" name="L207"></a> 207                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L208" name="L208"></a> 208                         <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = 255;
<a id="L209" name="L209"></a> 209                     <em class="brace">}</em>
<a id="L210" name="L210"></a> 210                 <em class="brace">}</em>
<a id="L211" name="L211"></a> 211                 bandLutData[i] = (<strong class="reserved">byte</strong>)<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>;
<a id="L212" name="L212"></a> 212             <em class="brace">}</em>
<a id="L213" name="L213"></a> 213 
<a id="L214" name="L214"></a> 214         <em class="brace">}</em>
<a id="L215" name="L215"></a> 215 
<a id="L216" name="L216"></a> 216         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2274.html#L43" title="Defined at 43 in src/java/awt/image/ByteLookupTable.java.">ByteLookupTable</a>(0, lutData);
<a id="L217" name="L217"></a> 217     <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<div class="comment">
      Creates a ShortLookupTable to implement the rescale.
      The table may have either a SHORT or BYTE input.
      @param nElems    Number of elements the table is to have.
                       This will generally be 256 for byte and
                       65536 for short.</div>
<a id="L226" name="L226"></a> 226     <strong class="reserved">private</strong> <a href="../S/2240.html#L43" title="Defined at 43 in src/java/awt/image/ShortLookupTable.java.">ShortLookupTable</a> <a href="../S/2283.html#L517" title="Referred from 517 in src/java/awt/image/RescaleOp.java.">createShortLut</a>(<strong class="reserved">float</strong> <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>[],
<a id="L227" name="L227"></a> 227                                             <strong class="reserved">float</strong> off[],
<a id="L228" name="L228"></a> 228                                             <strong class="reserved">int</strong>   nBands,
<a id="L229" name="L229"></a> 229                                             <strong class="reserved">int</strong>   nElems) <em class="brace">{</em>
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231         <strong class="reserved">short</strong>[][]        lutData = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>][nElems];
<a id="L232" name="L232"></a> 232 
<a id="L233" name="L233"></a> 233         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> band=0; band&lt;<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; band++) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234             <strong class="reserved">float</strong>   bandScale   = <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>[band];
<a id="L235" name="L235"></a> 235             <strong class="reserved">float</strong>   bandOff     = off[band];
<a id="L236" name="L236"></a> 236             <strong class="reserved">short</strong>[] bandLutData = lutData[band];
<a id="L237" name="L237"></a> 237             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;nElems; i++) <em class="brace">{</em>
<a id="L238" name="L238"></a> 238                 <strong class="reserved">int</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = (<strong class="reserved">int</strong>)(i*bandScale + bandOff);
<a id="L239" name="L239"></a> 239                 <strong class="reserved">if</strong> ((<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> &amp; 0xffff0000) != 0) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240                     <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> &lt; 0) <em class="brace">{</em>
<a id="L241" name="L241"></a> 241                         <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = 0;
<a id="L242" name="L242"></a> 242                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L243" name="L243"></a> 243                         <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = 65535;
<a id="L244" name="L244"></a> 244                     <em class="brace">}</em>
<a id="L245" name="L245"></a> 245                 <em class="brace">}</em>
<a id="L246" name="L246"></a> 246                 bandLutData[i] = (<strong class="reserved">short</strong>)<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>;
<a id="L247" name="L247"></a> 247             <em class="brace">}</em>
<a id="L248" name="L248"></a> 248         <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2240.html#L43" title="Defined at 43 in src/java/awt/image/ShortLookupTable.java.">ShortLookupTable</a>(0, lutData);
<a id="L251" name="L251"></a> 251     <em class="brace">}</em>
<a id="L252" name="L252"></a> 252 
<a id="L253" name="L253"></a> 253 
<div class="comment">
      Determines if the rescale can be performed as a lookup.
      The dst must be a byte or short type.
      The src must be less than 16 bits.
      All source band sizes must be the same and all dst band sizes
      must be the same.</div>
<a id="L261" name="L261"></a> 261     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/2283.html#L507" title="Referred from 507 in src/java/awt/image/RescaleOp.java.">canUseLookup</a>(<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> src, <a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> dst) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262 
<a id="L263" name="L263"></a> 263         <em class="comment">//</em>
<a id="L264" name="L264"></a> 264         <em class="comment">// Check that the src datatype is either a BYTE or SHORT</em>
<a id="L265" name="L265"></a> 265         <em class="comment">//</em>
<a id="L266" name="L266"></a> 266         <strong class="reserved">int</strong> datatype = src.<a href="../S/2238.html#L1429" title="Defined at 1429 in src/java/awt/image/Raster.java.">getDataBuffer</a>().<a href="../D/18205.html" title="Multiple defined in 4 places.">getDataType</a>();
<a id="L267" name="L267"></a> 267         <strong class="reserved">if</strong>(datatype != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE &amp;&amp;
<a id="L268" name="L268"></a> 268            datatype != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L270" name="L270"></a> 270         <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272         <em class="comment">//</em>
<a id="L273" name="L273"></a> 273         <em class="comment">// Check dst sample sizes. All must be 8 or 16 bits.</em>
<a id="L274" name="L274"></a> 274         <em class="comment">//</em>
<a id="L275" name="L275"></a> 275         <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> dstSM = dst.<a href="../D/22223.html" title="Multiple defined in 5 places.">getSampleModel</a>();
<a id="L276" name="L276"></a> 276         dstNbits = dstSM.<a href="../D/22227.html" title="Multiple defined in 8 places.">getSampleSize</a>(0);
<a id="L277" name="L277"></a> 277 
<a id="L278" name="L278"></a> 278         <strong class="reserved">if</strong> (!(dstNbits == 8 || dstNbits == 16)) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L280" name="L280"></a> 280         <em class="brace">}</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=1; i&lt;src.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>(); i++) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282             <strong class="reserved">int</strong> bandSize = dstSM.<a href="../D/22227.html" title="Multiple defined in 8 places.">getSampleSize</a>(i);
<a id="L283" name="L283"></a> 283             <strong class="reserved">if</strong> (bandSize != dstNbits) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L285" name="L285"></a> 285             <em class="brace">}</em>
<a id="L286" name="L286"></a> 286         <em class="brace">}</em>
<a id="L287" name="L287"></a> 287 
<a id="L288" name="L288"></a> 288         <em class="comment">//</em>
<a id="L289" name="L289"></a> 289         <em class="comment">// Check src sample sizes. All must be the same size</em>
<a id="L290" name="L290"></a> 290         <em class="comment">//</em>
<a id="L291" name="L291"></a> 291         <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> srcSM = src.<a href="../D/22223.html" title="Multiple defined in 5 places.">getSampleModel</a>();
<a id="L292" name="L292"></a> 292         srcNbits = srcSM.<a href="../D/22227.html" title="Multiple defined in 8 places.">getSampleSize</a>(0);
<a id="L293" name="L293"></a> 293         <strong class="reserved">if</strong> (srcNbits &gt; 16) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=1; i&lt;src.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>(); i++) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297             <strong class="reserved">int</strong> bandSize = srcSM.<a href="../D/22227.html" title="Multiple defined in 8 places.">getSampleSize</a>(i);
<a id="L298" name="L298"></a> 298             <strong class="reserved">if</strong> (bandSize != srcNbits) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L300" name="L300"></a> 300             <em class="brace">}</em>
<a id="L301" name="L301"></a> 301         <em class="brace">}</em>
<a id="L302" name="L302"></a> 302 
<a id="L303" name="L303"></a> 303         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L304" name="L304"></a> 304     <em class="brace">}</em>
<a id="L305" name="L305"></a> 305 
<div class="comment">
      Rescales the source BufferedImage.
      If the color model in the source image is not the same as that
      in the destination image, the pixels will be converted
      in the destination.  If the destination image is null,
      a BufferedImage will be created with the source ColorModel.
      An IllegalArgumentException may be thrown if the number of
      scaling factors/offsets in this object does not meet the
      restrictions stated in the class comments above, or if the
      source image has an IndexColorModel.
      @param src the <code>BufferedImage</code> to be filtered
      @param dst the destination for the filtering operation
                 or <code>null</code>
      @return the filtered <code>BufferedImage</code>.
      @throws IllegalArgumentException if the <code>ColorModel</code>
              of <code>src</code> is an <code>IndexColorModel</code>,
              or if the number of scaling factors and offsets in this
              <code>RescaleOp</code> do not meet the requirements
              stated in the class comments.</div>
<a id="L326" name="L326"></a> 326     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> <a href="../R/14321.html" title="Multiple referred from 472 places.">filter</a> (<a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> src, <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> dst) <em class="brace">{</em>
<a id="L327" name="L327"></a> 327         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> srcCM = src.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>();
<a id="L328" name="L328"></a> 328         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> dstCM;
<a id="L329" name="L329"></a> 329         <strong class="reserved">int</strong> numBands = srcCM.<a href="../S/2256.html#L519" title="Defined at 519 in src/java/awt/image/ColorModel.java.">getNumColorComponents</a>();
<a id="L330" name="L330"></a> 330 
<a id="L331" name="L331"></a> 331 
<a id="L332" name="L332"></a> 332         <strong class="reserved">if</strong> (srcCM <strong class="reserved">instanceof</strong> <a href="../S/2242.html#L125" title="Defined at 125 in src/java/awt/image/IndexColorModel.java.">IndexColorModel</a>) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333             <strong class="reserved">throw</strong> <strong class="reserved">new</strong>
<a id="L334" name="L334"></a> 334                 <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Rescaling cannot be "+
<a id="L335" name="L335"></a> 335                                          "performed on an indexed image");
<a id="L336" name="L336"></a> 336         <em class="brace">}</em>
<a id="L337" name="L337"></a> 337         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != 1 &amp;&amp; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != numBands &amp;&amp;
<a id="L338" name="L338"></a> 338             <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != srcCM.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>())
<a id="L339" name="L339"></a> 339         <em class="brace">{</em>
<a id="L340" name="L340"></a> 340             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of scaling constants "+
<a id="L341" name="L341"></a> 341                                                "does not equal the number of"+
<a id="L342" name="L342"></a> 342                                                " of color or color/alpha "+
<a id="L343" name="L343"></a> 343                                                " components");
<a id="L344" name="L344"></a> 344         <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<a id="L346" name="L346"></a> 346         <strong class="reserved">boolean</strong> needToConvert = <strong class="reserved">false</strong>;
<a id="L347" name="L347"></a> 347 
<a id="L348" name="L348"></a> 348         <em class="comment">// Include alpha</em>
<a id="L349" name="L349"></a> 349         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; numBands &amp;&amp; srcCM.<a href="../S/2256.html#L406" title="Defined at 406 in src/java/awt/image/ColorModel.java.">hasAlpha</a>()) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350             <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = numBands+1;
<a id="L351" name="L351"></a> 351         <em class="brace">}</em>
<a id="L352" name="L352"></a> 352 
<a id="L353" name="L353"></a> 353         <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = src.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L354" name="L354"></a> 354         <strong class="reserved">int</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = src.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356         <strong class="reserved">if</strong> (dst == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357             dst = <a href="../D/13704.html" title="Multiple defined in 7 places.">createCompatibleDestImage</a>(src, <strong class="reserved">null</strong>);
<a id="L358" name="L358"></a> 358             dstCM = srcCM;
<a id="L359" name="L359"></a> 359         <em class="brace">}</em>
<a id="L360" name="L360"></a> 360         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L361" name="L361"></a> 361             <strong class="reserved">if</strong> (<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> != dst.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>()) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong>
<a id="L363" name="L363"></a> 363                     <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Src width ("+<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>+
<a id="L364" name="L364"></a> 364                                              ") not equal to dst width ("+
<a id="L365" name="L365"></a> 365                                              dst.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>()+")");
<a id="L366" name="L366"></a> 366             <em class="brace">}</em>
<a id="L367" name="L367"></a> 367             <strong class="reserved">if</strong> (<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> != dst.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>()) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong>
<a id="L369" name="L369"></a> 369                     <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Src height ("+<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>+
<a id="L370" name="L370"></a> 370                                              ") not equal to dst height ("+
<a id="L371" name="L371"></a> 371                                              dst.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>()+")");
<a id="L372" name="L372"></a> 372             <em class="brace">}</em>
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374             dstCM = dst.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>();
<a id="L375" name="L375"></a> 375             <strong class="reserved">if</strong>(srcCM.<a href="../D/17792.html" title="Multiple defined in 3 places.">getColorSpace</a>().<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() !=
<a id="L376" name="L376"></a> 376                dstCM.<a href="../D/17792.html" title="Multiple defined in 3 places.">getColorSpace</a>().<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>()) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377                 needToConvert = <strong class="reserved">true</strong>;
<a id="L378" name="L378"></a> 378                 dst = <a href="../D/13704.html" title="Multiple defined in 7 places.">createCompatibleDestImage</a>(src, <strong class="reserved">null</strong>);
<a id="L379" name="L379"></a> 379             <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<a id="L381" name="L381"></a> 381         <em class="brace">}</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> origDst = dst;
<a id="L384" name="L384"></a> 384 
<a id="L385" name="L385"></a> 385         <em class="comment">//</em>
<a id="L386" name="L386"></a> 386         <em class="comment">// Try to use a native BI rescale operation first</em>
<a id="L387" name="L387"></a> 387         <em class="comment">//</em>
<a id="L388" name="L388"></a> 388         <strong class="reserved">if</strong> (ImagingLib.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(<strong class="reserved">this</strong>, src, dst) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L389" name="L389"></a> 389             <em class="comment">//</em>
<a id="L390" name="L390"></a> 390             <em class="comment">// Native BI rescale failed - convert to rasters</em>
<a id="L391" name="L391"></a> 391             <em class="comment">//</em>
<a id="L392" name="L392"></a> 392             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> srcRaster = src.<a href="../D/21845.html" title="Multiple defined in 8 places.">getRaster</a>();
<a id="L393" name="L393"></a> 393             <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> dstRaster = dst.<a href="../D/21845.html" title="Multiple defined in 8 places.">getRaster</a>();
<a id="L394" name="L394"></a> 394 
<a id="L395" name="L395"></a> 395             <strong class="reserved">if</strong> (srcCM.<a href="../S/2256.html#L406" title="Defined at 406 in src/java/awt/image/ColorModel.java.">hasAlpha</a>()) <em class="brace">{</em>
<a id="L396" name="L396"></a> 396                 <strong class="reserved">if</strong> (numBands-1 == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 1) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                     <strong class="reserved">int</strong> minx = srcRaster.<a href="../D/20651.html" title="Multiple defined in 6 places.">getMinX</a>();
<a id="L398" name="L398"></a> 398                     <strong class="reserved">int</strong> miny = srcRaster.<a href="../D/20652.html" title="Multiple defined in 6 places.">getMinY</a>();
<a id="L399" name="L399"></a> 399                     <strong class="reserved">int</strong>[] bands = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numBands-1];
<a id="L400" name="L400"></a> 400                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; numBands-1; i++) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401                         bands[i] = i;
<a id="L402" name="L402"></a> 402                     <em class="brace">}</em>
<a id="L403" name="L403"></a> 403                     srcRaster =
<a id="L404" name="L404"></a> 404                         srcRaster.<a href="../S/2280.html#L217" title="Defined at 217 in src/java/awt/image/WritableRaster.java.">createWritableChild</a>(minx, miny,
<a id="L405" name="L405"></a> 405                                                       srcRaster.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(),
<a id="L406" name="L406"></a> 406                                                       srcRaster.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(),
<a id="L407" name="L407"></a> 407                                                       minx, miny,
<a id="L408" name="L408"></a> 408                                                       bands);
<a id="L409" name="L409"></a> 409                 <em class="brace">}</em>
<a id="L410" name="L410"></a> 410             <em class="brace">}</em>
<a id="L411" name="L411"></a> 411             <strong class="reserved">if</strong> (dstCM.<a href="../S/2256.html#L406" title="Defined at 406 in src/java/awt/image/ColorModel.java.">hasAlpha</a>()) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412                 <strong class="reserved">int</strong> dstNumBands = dstRaster.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>();
<a id="L413" name="L413"></a> 413                 <strong class="reserved">if</strong> (dstNumBands-1 == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 1) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414                     <strong class="reserved">int</strong> minx = dstRaster.<a href="../D/20651.html" title="Multiple defined in 6 places.">getMinX</a>();
<a id="L415" name="L415"></a> 415                     <strong class="reserved">int</strong> miny = dstRaster.<a href="../D/20652.html" title="Multiple defined in 6 places.">getMinY</a>();
<a id="L416" name="L416"></a> 416                     <strong class="reserved">int</strong>[] bands = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numBands-1];
<a id="L417" name="L417"></a> 417                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; numBands-1; i++) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418                         bands[i] = i;
<a id="L419" name="L419"></a> 419                     <em class="brace">}</em>
<a id="L420" name="L420"></a> 420                     dstRaster =
<a id="L421" name="L421"></a> 421                         dstRaster.<a href="../S/2280.html#L217" title="Defined at 217 in src/java/awt/image/WritableRaster.java.">createWritableChild</a>(minx, miny,
<a id="L422" name="L422"></a> 422                                                       dstRaster.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(),
<a id="L423" name="L423"></a> 423                                                       dstRaster.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(),
<a id="L424" name="L424"></a> 424                                                       minx, miny,
<a id="L425" name="L425"></a> 425                                                       bands);
<a id="L426" name="L426"></a> 426                 <em class="brace">}</em>
<a id="L427" name="L427"></a> 427             <em class="brace">}</em>
<a id="L428" name="L428"></a> 428 
<a id="L429" name="L429"></a> 429             <em class="comment">//</em>
<a id="L430" name="L430"></a> 430             <em class="comment">// Call the raster filter method</em>
<a id="L431" name="L431"></a> 431             <em class="comment">//</em>
<a id="L432" name="L432"></a> 432             <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(srcRaster, dstRaster);
<a id="L433" name="L433"></a> 433 
<a id="L434" name="L434"></a> 434         <em class="brace">}</em>
<a id="L435" name="L435"></a> 435 
<a id="L436" name="L436"></a> 436         <strong class="reserved">if</strong> (needToConvert) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437             <em class="comment">// ColorModels are not the same</em>
<a id="L438" name="L438"></a> 438             <a href="../S/2278.html#L71" title="Defined at 71 in src/java/awt/image/ColorConvertOp.java.">ColorConvertOp</a> ccop = <strong class="reserved">new</strong> <a href="../S/2278.html#L71" title="Defined at 71 in src/java/awt/image/ColorConvertOp.java.">ColorConvertOp</a>(hints);
<a id="L439" name="L439"></a> 439             ccop.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(dst, origDst);
<a id="L440" name="L440"></a> 440         <em class="brace">}</em>
<a id="L441" name="L441"></a> 441 
<a id="L442" name="L442"></a> 442         <strong class="reserved">return</strong> origDst;
<a id="L443" name="L443"></a> 443     <em class="brace">}</em>
<a id="L444" name="L444"></a> 444 
<div class="comment">
      Rescales the pixel data in the source Raster.
      If the destination Raster is null, a new Raster will be created.
      The source and destination must have the same number of bands.
      Otherwise, an IllegalArgumentException is thrown.
      Note that the number of scaling factors/offsets in this object must
      meet the restrictions stated in the class comments above.
      Otherwise, an IllegalArgumentException is thrown.
      @param src the <code>Raster</code> to be filtered
      @param dst the destination for the filtering operation
                 or <code>null</code>
      @return the filtered <code>WritableRaster</code>.
      @throws IllegalArgumentException if <code>src</code> and
              <code>dst</code> do not have the same number of bands,
              or if the number of scaling factors and offsets in this
              <code>RescaleOp</code> do not meet the requirements
              stated in the class comments.</div>
<a id="L463" name="L463"></a> 463     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/14321.html" title="Multiple referred from 472 places.">filter</a> (<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> src, <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> dst)  <em class="brace">{</em>
<a id="L464" name="L464"></a> 464         <strong class="reserved">int</strong> numBands = src.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>();
<a id="L465" name="L465"></a> 465         <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>  = src.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L466" name="L466"></a> 466         <strong class="reserved">int</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = src.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L467" name="L467"></a> 467         <strong class="reserved">int</strong>[] srcPix = <strong class="reserved">null</strong>;
<a id="L468" name="L468"></a> 468         <strong class="reserved">int</strong> <a href="../D/34874.html" title="Multiple defined in 3 places.">step</a> = 0;
<a id="L469" name="L469"></a> 469         <strong class="reserved">int</strong> tidx = 0;
<a id="L470" name="L470"></a> 470 
<a id="L471" name="L471"></a> 471         <em class="comment">// Create a new destination Raster, if needed</em>
<a id="L472" name="L472"></a> 472         <strong class="reserved">if</strong> (dst == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L473" name="L473"></a> 473             dst = <a href="../D/13705.html" title="Multiple defined in 7 places.">createCompatibleDestRaster</a>(src);
<a id="L474" name="L474"></a> 474         <em class="brace">}</em>
<a id="L475" name="L475"></a> 475         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> != dst.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() || <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> != dst.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>()) <em class="brace">{</em>
<a id="L476" name="L476"></a> 476             <strong class="reserved">throw</strong> <strong class="reserved">new</strong>
<a id="L477" name="L477"></a> 477                <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Width or height of Rasters do not "+
<a id="L478" name="L478"></a> 478                                         "match");
<a id="L479" name="L479"></a> 479         <em class="brace">}</em>
<a id="L480" name="L480"></a> 480         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (numBands != dst.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>()) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481             <em class="comment">// Make sure that the number of bands are equal</em>
<a id="L482" name="L482"></a> 482             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of bands in src "
<a id="L483" name="L483"></a> 483                             + numBands
<a id="L484" name="L484"></a> 484                             + " does not equal number of bands in dest "
<a id="L485" name="L485"></a> 485                             + dst.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>());
<a id="L486" name="L486"></a> 486         <em class="brace">}</em>
<a id="L487" name="L487"></a> 487         <em class="comment">// Make sure that the arrays match</em>
<a id="L488" name="L488"></a> 488         <em class="comment">// Make sure that the low/high/constant arrays match</em>
<a id="L489" name="L489"></a> 489         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != 1 &amp;&amp; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != src.<a href="../D/21054.html" title="Multiple defined in 3 places.">getNumBands</a>()) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Number of scaling constants "+
<a id="L491" name="L491"></a> 491                                                "does not equal the number of"+
<a id="L492" name="L492"></a> 492                                                " of bands in the src raster");
<a id="L493" name="L493"></a> 493         <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495 
<a id="L496" name="L496"></a> 496         <em class="comment">//</em>
<a id="L497" name="L497"></a> 497         <em class="comment">// Try for a native raster rescale first</em>
<a id="L498" name="L498"></a> 498         <em class="comment">//</em>
<a id="L499" name="L499"></a> 499         <strong class="reserved">if</strong> (ImagingLib.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(<strong class="reserved">this</strong>, src, dst) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500             <strong class="reserved">return</strong> dst;
<a id="L501" name="L501"></a> 501         <em class="brace">}</em>
<a id="L502" name="L502"></a> 502 
<a id="L503" name="L503"></a> 503         <em class="comment">//</em>
<a id="L504" name="L504"></a> 504         <em class="comment">// Native raster rescale failed.</em>
<a id="L505" name="L505"></a> 505         <em class="comment">// Try to see if a lookup operation can be used</em>
<a id="L506" name="L506"></a> 506         <em class="comment">//</em>
<a id="L507" name="L507"></a> 507         <strong class="reserved">if</strong> (<a href="../S/2283.html#L261" title="Defined at 261 in src/java/awt/image/RescaleOp.java.">canUseLookup</a>(src, dst)) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508             <strong class="reserved">int</strong> srcNgray = (1 &lt;&lt; srcNbits);
<a id="L509" name="L509"></a> 509             <strong class="reserved">int</strong> dstNgray = (1 &lt;&lt; dstNbits);
<a id="L510" name="L510"></a> 510 
<a id="L511" name="L511"></a> 511             <strong class="reserved">if</strong> (dstNgray == 256) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512                 <a href="../S/2274.html#L43" title="Defined at 43 in src/java/awt/image/ByteLookupTable.java.">ByteLookupTable</a> lut = <a href="../S/2283.html#L191" title="Defined at 191 in src/java/awt/image/RescaleOp.java.">createByteLut</a>(scaleFactors, offsets,
<a id="L513" name="L513"></a> 513                                                     numBands, srcNgray);
<a id="L514" name="L514"></a> 514                 <a href="../S/2233.html#L77" title="Defined at 77 in src/java/awt/image/LookupOp.java.">LookupOp</a> <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a> = <strong class="reserved">new</strong> <a href="../S/2233.html#L77" title="Defined at 77 in src/java/awt/image/LookupOp.java.">LookupOp</a>(lut, hints);
<a id="L515" name="L515"></a> 515                 <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(src, dst);
<a id="L516" name="L516"></a> 516             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L517" name="L517"></a> 517                 <a href="../S/2240.html#L43" title="Defined at 43 in src/java/awt/image/ShortLookupTable.java.">ShortLookupTable</a> lut = <a href="../S/2283.html#L226" title="Defined at 226 in src/java/awt/image/RescaleOp.java.">createShortLut</a>(scaleFactors, offsets,
<a id="L518" name="L518"></a> 518                                                       numBands, srcNgray);
<a id="L519" name="L519"></a> 519                 <a href="../S/2233.html#L77" title="Defined at 77 in src/java/awt/image/LookupOp.java.">LookupOp</a> <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a> = <strong class="reserved">new</strong> <a href="../S/2233.html#L77" title="Defined at 77 in src/java/awt/image/LookupOp.java.">LookupOp</a>(lut, hints);
<a id="L520" name="L520"></a> 520                 <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>.<a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>(src, dst);
<a id="L521" name="L521"></a> 521             <em class="brace">}</em>
<a id="L522" name="L522"></a> 522         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L523" name="L523"></a> 523             <em class="comment">//</em>
<a id="L524" name="L524"></a> 524             <em class="comment">// Fall back to the slow code</em>
<a id="L525" name="L525"></a> 525             <em class="comment">//</em>
<a id="L526" name="L526"></a> 526             <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 1) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                 <a href="../D/34874.html" title="Multiple defined in 3 places.">step</a> = 1;
<a id="L528" name="L528"></a> 528             <em class="brace">}</em>
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530             <strong class="reserved">int</strong> sminX = src.<a href="../D/20651.html" title="Multiple defined in 6 places.">getMinX</a>();
<a id="L531" name="L531"></a> 531             <strong class="reserved">int</strong> sY = src.<a href="../D/20652.html" title="Multiple defined in 6 places.">getMinY</a>();
<a id="L532" name="L532"></a> 532             <strong class="reserved">int</strong> dminX = dst.<a href="../D/20651.html" title="Multiple defined in 6 places.">getMinX</a>();
<a id="L533" name="L533"></a> 533             <strong class="reserved">int</strong> dY = dst.<a href="../D/20652.html" title="Multiple defined in 6 places.">getMinY</a>();
<a id="L534" name="L534"></a> 534             <strong class="reserved">int</strong> sX;
<a id="L535" name="L535"></a> 535             <strong class="reserved">int</strong> dX;
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537             <em class="comment">//</em>
<a id="L538" name="L538"></a> 538             <em class="comment">//  Determine bits per band to determine maxval for clamps.</em>
<a id="L539" name="L539"></a> 539             <em class="comment">//  The min is assumed to be zero.</em>
<a id="L540" name="L540"></a> 540             <em class="comment">//  REMIND: This must change if we ever support signed data types.</em>
<a id="L541" name="L541"></a> 541             <em class="comment">//</em>
<a id="L542" name="L542"></a> 542             <strong class="reserved">int</strong> nbits;
<a id="L543" name="L543"></a> 543             <strong class="reserved">int</strong> dstMax[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numBands];
<a id="L544" name="L544"></a> 544             <strong class="reserved">int</strong> dstMask[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numBands];
<a id="L545" name="L545"></a> 545             <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> dstSM = dst.<a href="../D/22223.html" title="Multiple defined in 5 places.">getSampleModel</a>();
<a id="L546" name="L546"></a> 546             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> z=0; z&lt;numBands; z++) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547                 nbits = dstSM.<a href="../D/22227.html" title="Multiple defined in 8 places.">getSampleSize</a>(z);
<a id="L548" name="L548"></a> 548                 dstMax[z] = (1 &lt;&lt; nbits) - 1;
<a id="L549" name="L549"></a> 549                 dstMask[z] = ~(dstMax[z]);
<a id="L550" name="L550"></a> 550             <em class="brace">}</em>
<a id="L551" name="L551"></a> 551 
<a id="L552" name="L552"></a> 552             <strong class="reserved">int</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>;
<a id="L553" name="L553"></a> 553             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> y=0; y &lt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>; y++, sY++, dY++) <em class="brace">{</em>
<a id="L554" name="L554"></a> 554                 dX = dminX;
<a id="L555" name="L555"></a> 555                 sX = sminX;
<a id="L556" name="L556"></a> 556                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = 0; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>++, sX++, dX++) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557                     <em class="comment">// Get data for all bands at this x,y position</em>
<a id="L558" name="L558"></a> 558                     srcPix = src.<a href="../D/21491.html" title="Multiple defined in 10 places.">getPixel</a>(sX, sY, srcPix);
<a id="L559" name="L559"></a> 559                     tidx = 0;
<a id="L560" name="L560"></a> 560                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> z=0; z&lt;numBands; z++, tidx += <a href="../D/34874.html" title="Multiple defined in 3 places.">step</a>) <em class="brace">{</em>
<a id="L561" name="L561"></a> 561                         <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = (<strong class="reserved">int</strong>)(srcPix[z]*scaleFactors[tidx]
<a id="L562" name="L562"></a> 562                                           + offsets[tidx]);
<a id="L563" name="L563"></a> 563                         <em class="comment">// Clamp</em>
<a id="L564" name="L564"></a> 564                         <strong class="reserved">if</strong> ((<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> &amp; dstMask[z]) != 0) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565                             <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> &lt; 0) <em class="brace">{</em>
<a id="L566" name="L566"></a> 566                                 <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = 0;
<a id="L567" name="L567"></a> 567                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L568" name="L568"></a> 568                                 <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> = dstMax[z];
<a id="L569" name="L569"></a> 569                             <em class="brace">}</em>
<a id="L570" name="L570"></a> 570                         <em class="brace">}</em>
<a id="L571" name="L571"></a> 571                         srcPix[z] = <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>;
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573                     <em class="brace">}</em>
<a id="L574" name="L574"></a> 574 
<a id="L575" name="L575"></a> 575                     <em class="comment">// Put it back for all bands</em>
<a id="L576" name="L576"></a> 576                     dst.<a href="../D/33548.html" title="Multiple defined in 10 places.">setPixel</a>(dX, dY, srcPix);
<a id="L577" name="L577"></a> 577                 <em class="brace">}</em>
<a id="L578" name="L578"></a> 578             <em class="brace">}</em>
<a id="L579" name="L579"></a> 579         <em class="brace">}</em>
<a id="L580" name="L580"></a> 580         <strong class="reserved">return</strong> dst;
<a id="L581" name="L581"></a> 581     <em class="brace">}</em>
<a id="L582" name="L582"></a> 582 
<div class="comment">
      Returns the bounding box of the rescaled destination image.  Since
      this is not a geometric operation, the bounding box does not
      change.</div>
<a id="L588" name="L588"></a> 588     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> <a href="../R/15323.html" title="Multiple referred from 370 places.">getBounds2D</a> (<a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> src) <em class="brace">{</em>
<a id="L589" name="L589"></a> 589          <strong class="reserved">return</strong> <a href="../D/17336.html" title="Multiple defined in 36 places.">getBounds2D</a>(src.<a href="../D/21845.html" title="Multiple defined in 8 places.">getRaster</a>());
<a id="L590" name="L590"></a> 590     <em class="brace">}</em>
<a id="L591" name="L591"></a> 591 
<div class="comment">
      Returns the bounding box of the rescaled destination Raster.  Since
      this is not a geometric operation, the bounding box does not
      change.
      @param src the rescaled destination <code>Raster</code>
      @return the bounds of the specified <code>Raster</code>.</div>
<a id="L599" name="L599"></a> 599     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> <a href="../R/15323.html" title="Multiple referred from 370 places.">getBounds2D</a> (<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> src) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600         <strong class="reserved">return</strong> src.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L601" name="L601"></a> 601     <em class="brace">}</em>
<a id="L602" name="L602"></a> 602 
<div class="comment">
      Creates a zeroed destination image with the correct size and number of
      bands.
      @param src       Source image for the filter operation.
      @param destCM    ColorModel of the destination.  If null, the
                       ColorModel of the source will be used.
      @return the zeroed-destination image.</div>
<a id="L611" name="L611"></a> 611     <strong class="reserved">public</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> <a href="../R/12285.html" title="Multiple referred from 12 places.">createCompatibleDestImage</a> (<a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> src,
<a id="L612" name="L612"></a> 612                                                     <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> destCM) <em class="brace">{</em>
<a id="L613" name="L613"></a> 613         <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> image;
<a id="L614" name="L614"></a> 614         <strong class="reserved">if</strong> (destCM == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L615" name="L615"></a> 615             <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a> cm = src.<a href="../D/17790.html" title="Multiple defined in 14 places.">getColorModel</a>();
<a id="L616" name="L616"></a> 616             image = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a>(cm,
<a id="L617" name="L617"></a> 617                                       src.<a href="../D/21845.html" title="Multiple defined in 8 places.">getRaster</a>().<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(),
<a id="L618" name="L618"></a> 618                                       cm.<a href="../D/25179.html" title="Multiple defined in 2 places.">isAlphaPremultiplied</a>(),
<a id="L619" name="L619"></a> 619                                       <strong class="reserved">null</strong>);
<a id="L620" name="L620"></a> 620         <em class="brace">}</em>
<a id="L621" name="L621"></a> 621         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L622" name="L622"></a> 622             <strong class="reserved">int</strong> w = src.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L623" name="L623"></a> 623             <strong class="reserved">int</strong> h = src.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L624" name="L624"></a> 624             image = <strong class="reserved">new</strong> <a href="../S/2258.html#L68" title="Defined at 68 in src/java/awt/image/BufferedImage.java.">BufferedImage</a> (destCM,
<a id="L625" name="L625"></a> 625                                    destCM.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(w, h),
<a id="L626" name="L626"></a> 626                                    destCM.<a href="../D/25179.html" title="Multiple defined in 2 places.">isAlphaPremultiplied</a>(), <strong class="reserved">null</strong>);
<a id="L627" name="L627"></a> 627         <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629         <strong class="reserved">return</strong> image;
<a id="L630" name="L630"></a> 630     <em class="brace">}</em>
<a id="L631" name="L631"></a> 631 
<div class="comment">
      Creates a zeroed-destination <code>Raster</code> with the correct
      size and number of bands, given this source.
      @param src       the source <code>Raster</code>
      @return the zeroed-destination <code>Raster</code>.</div>
<a id="L638" name="L638"></a> 638     <strong class="reserved">public</strong> <a href="../S/2280.html#L49" title="Defined at 49 in src/java/awt/image/WritableRaster.java.">WritableRaster</a> <a href="../R/12286.html" title="Multiple referred from 7 places.">createCompatibleDestRaster</a> (<a href="../S/2238.html#L126" title="Defined at 126 in src/java/awt/image/Raster.java.">Raster</a> src) <em class="brace">{</em>
<a id="L639" name="L639"></a> 639         <strong class="reserved">return</strong> src.<a href="../D/13710.html" title="Multiple defined in 8 places.">createCompatibleWritableRaster</a>(src.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(), src.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>());
<a id="L640" name="L640"></a> 640     <em class="brace">}</em>
<a id="L641" name="L641"></a> 641 
<div class="comment">
      Returns the location of the destination point given a
      point in the source.  If dstPt is non-null, it will
      be used to hold the return value.  Since this is not a geometric
      operation, the srcPt will equal the dstPt.
      @param srcPt a point in the source image
      @param dstPt the destination point or <code>null</code>
      @return the location of the destination point.</div>
<a id="L651" name="L651"></a> 651     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2319.html#L42" title="Defined at 42 in src/java/awt/geom/Point2D.java.">Point2D</a> getPoint2D (<a href="../S/2319.html#L42" title="Defined at 42 in src/java/awt/geom/Point2D.java.">Point2D</a> srcPt, <a href="../S/2319.html#L42" title="Defined at 42 in src/java/awt/geom/Point2D.java.">Point2D</a> dstPt) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652         <strong class="reserved">if</strong> (dstPt == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L653" name="L653"></a> 653             dstPt = <strong class="reserved">new</strong> <a href="../S/2319.html#L42" title="Defined at 42 in src/java/awt/geom/Point2D.java.">Point2D</a>.<a href="../D/3293.html" title="Multiple defined in 10 places.">Float</a>();
<a id="L654" name="L654"></a> 654         <em class="brace">}</em>
<a id="L655" name="L655"></a> 655         dstPt.<a href="../D/33134.html" title="Multiple defined in 29 places.">setLocation</a>(srcPt.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(), srcPt.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>());
<a id="L656" name="L656"></a> 656         <strong class="reserved">return</strong> dstPt;
<a id="L657" name="L657"></a> 657     <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<div class="comment">
      Returns the rendering hints for this op.
      @return the rendering hints of this <code>RescaleOp</code>.</div>
<a id="L663" name="L663"></a> 663     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2116.html#L82" title="Defined at 82 in src/java/awt/RenderingHints.java.">RenderingHints</a> getRenderingHints() <em class="brace">{</em>
<a id="L664" name="L664"></a> 664         <strong class="reserved">return</strong> hints;
<a id="L665" name="L665"></a> 665     <em class="brace">}</em>
<a id="L666" name="L666"></a> 666 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L145">[^]</a><a href="#L663">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>