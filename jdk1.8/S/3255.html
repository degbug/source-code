<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/ParagraphView.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L95">[^]</a><a href="#L1179">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L95" title="Defined at 95.">setJustification</a></li>
<li><a href="#L104" title="Defined at 104.">setLineSpacing</a></li>
<li><a href="#L113" title="Defined at 113.">setFirstLineIndent</a></li>
<li><a href="#L120" title="Defined at 120.">setPropertiesFromAttributes</a></li>
<li><a href="#L156" title="Defined at 156.">getLayoutViewCount</a></li>
<li><a href="#L173" title="Defined at 173.">getLayoutView</a></li>
<li><a href="#L192" title="Defined at 192.">getNextNorthSouthVisualPositionFrom</a></li>
<li><a href="#L264" title="Defined at 264.">getClosestPositionTo</a></li>
<li><a href="#L335" title="Defined at 335.">flipEastAndWestAtEnds</a></li>
<li><a href="#L352" title="Defined at 352.">getFlowSpan</a></li>
<li><a href="#L371" title="Defined at 371.">getFlowStart</a></li>
<li><a href="#L387" title="Defined at 387.">createRow</a></li>
<li><a href="#L418" title="Defined at 418.">nextTabStop</a></li>
<li><a href="#L478" title="Defined at 478.">getTabSet</a></li>
<li><a href="#L496" title="Defined at 496.">getPartialSize</a></li>
<li><a href="#L535" title="Defined at 535.">findOffsetToCharactersInString</a></li>
<li><a href="#L562" title="Defined at 562.">getTabBase</a></li>
<li><a href="#L577" title="Defined at 577.">paint</a></li>
<li><a href="#L617" title="Defined at 617.">getAlignment</a></li>
<li><a href="#L653" title="Defined at 653.">breakView</a></li>
<li><a href="#L683" title="Defined at 683.">getBreakWeight</a></li>
<li><a href="#L715" title="Defined at 715.">calculateMinorAxisRequirements</a></li>
<li><a href="#L750" title="Defined at 750.">findEdgeSpan</a></li>
<li><a href="#L782" title="Defined at 782.">changedUpdate</a></li>
<li><a href="#L840" title="Defined at 840.">loadChildren</a></li>
<li><a href="#L848" title="Defined at 848.">getAttributes</a></li>
<li><a href="#L853" title="Defined at 853.">getAlignment</a></li>
<li><a href="#L890" title="Defined at 890.">modelToView</a></li>
<li><a href="#L912" title="Defined at 912.">getStartOffset</a></li>
<li><a href="#L922" title="Defined at 922.">getEndOffset</a></li>
<li><a href="#L952" title="Defined at 952.">layoutMinorAxis</a></li>
<li><a href="#L956" title="Defined at 956.">calculateMinorAxisRequirements</a></li>
<li><a href="#L962" title="Defined at 962.">isLastRow</a></li>
<li><a href="#L968" title="Defined at 968.">isBrokenRow</a></li>
<li><a href="#L981" title="Defined at 981.">isJustifiableDocument</a></li>
<li><a href="#L993" title="Defined at 993.">isJustifyEnabled</a></li>
<li><a href="#L1012" title="Defined at 1012.">calculateMajorAxisRequirements</a></li>
<li><a href="#L1024" title="Defined at 1024.">layoutMajorAxis</a></li>
<li><a href="#L1129" title="Defined at 1129.">getMaximumSpan</a></li>
<li><a href="#L1148" title="Defined at 1148.">getViewIndexAtPosition</a></li>
<li><a href="#L1168" title="Defined at 1168.">getLeftInset</a></li>
<li><a href="#L1179" title="Defined at 1179.">getBottomInset</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.font.TextAttribute;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> javax.swing.SizeRequirements;
<a id="L32" name="L32"></a>  32 
<div class="comment">
  View of a simple line-wrapping paragraph that supports
  multiple fonts, colors, components, icons, etc.  It is
  basically a vertical box with a margin around it.  The
  contents of the box are a bunch of rows which are special
  horizontal boxes.  This view creates a collection of
  views that represent the child elements of the paragraph
  element.  Each of these views are placed into a row
  directly if they will fit, otherwise the <code>breakView</code>
  method is called to try and carve the view into pieces
  that fit.
  @author  Timothy Prinzing
  @author  Scott Violet
  @author  Igor Kushnirskiy
  @see     View</div>
<a id="L50" name="L50"></a>  50 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/6001.html" title="Multiple referred from 15 places.">ParagraphView</a> <strong class="reserved">extends</strong> <a href="../S/3273.html#L52" title="Defined at 52 in src/javax/swing/text/FlowView.java.">FlowView</a> <strong class="reserved">implements</strong> <a href="../S/3341.html#L34" title="Defined at 34 in src/javax/swing/text/TabExpander.java.">TabExpander</a> <em class="brace">{</em>
<a id="L51" name="L51"></a>  51 
<div class="comment">
      Constructs a <code>ParagraphView</code> for the given element.
      @param elem the element that this view is responsible for</div>
<a id="L57" name="L57"></a>  57     <strong class="reserved">public</strong> ParagraphView(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L58" name="L58"></a>  58         <strong class="reserved">super</strong>(elem, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS);
<a id="L59" name="L59"></a>  59         <a href="../D/33621.html" title="Multiple defined in 12 places.">setPropertiesFromAttributes</a>();
<a id="L60" name="L60"></a>  60         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = elem.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L61" name="L61"></a>  61         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> i18nFlag = doc.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.I18NProperty);
<a id="L62" name="L62"></a>  62         <strong class="reserved">if</strong> ((i18nFlag != <strong class="reserved">null</strong>) &amp;&amp; i18nFlag.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE)) <em class="brace">{</em>
<a id="L63" name="L63"></a>  63             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L64" name="L64"></a>  64                 <strong class="reserved">if</strong> (i18nStrategy == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L65" name="L65"></a>  65                     <em class="comment">// the classname should probably come from a property file.</em>
<a id="L66" name="L66"></a>  66                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> classname = "javax.swing.text.TextLayoutStrategy";
<a id="L67" name="L67"></a>  67                     <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader = <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L68" name="L68"></a>  68                     <strong class="reserved">if</strong> (loader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L69" name="L69"></a>  69                         i18nStrategy = loader.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(classname);
<a id="L70" name="L70"></a>  70                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L71" name="L71"></a>  71                         i18nStrategy = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(classname);
<a id="L72" name="L72"></a>  72                     <em class="brace">}</em>
<a id="L73" name="L73"></a>  73                 <em class="brace">}</em>
<a id="L74" name="L74"></a>  74                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = i18nStrategy.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L75" name="L75"></a>  75                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../S/3273.html#L335" title="Defined at 335 in src/javax/swing/text/FlowView.java.">FlowStrategy</a>) <em class="brace">{</em>
<a id="L76" name="L76"></a>  76                     strategy = (<a href="../S/3273.html#L335" title="Defined at 335 in src/javax/swing/text/FlowView.java.">FlowStrategy</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L77" name="L77"></a>  77                 <em class="brace">}</em>
<a id="L78" name="L78"></a>  78             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> e) <em class="brace">{</em>
<a id="L79" name="L79"></a>  79                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3266.html#L34" title="Defined at 34 in src/javax/swing/text/StateInvariantError.java.">StateInvariantError</a>("ParagraphView: Can't create i18n strategy: "
<a id="L80" name="L80"></a>  80                                               + e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L81" name="L81"></a>  81             <em class="brace">}</em>
<a id="L82" name="L82"></a>  82         <em class="brace">}</em>
<a id="L83" name="L83"></a>  83     <em class="brace">}</em>
<a id="L84" name="L84"></a>  84 
<div class="comment">
      Sets the type of justification.
      @param j one of the following values:
      <ul><li><code>StyleConstants.ALIGN_LEFT</code>
      </li><li><code>StyleConstants.ALIGN_CENTER</code>
      </li><li><code>StyleConstants.ALIGN_RIGHT</code>
      </li></ul></div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27615.html" title="Multiple referred from 9 places.">setJustification</a>(<strong class="reserved">int</strong> j) <em class="brace">{</em>
<a id="L96" name="L96"></a>  96         justification = j;
<a id="L97" name="L97"></a>  97     <em class="brace">}</em>
<a id="L98" name="L98"></a>  98 
<div class="comment">
      Sets the line spacing.
      @param ls the value is a factor of the line hight</div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27672.html" title="Multiple referred from 2 places.">setLineSpacing</a>(<strong class="reserved">float</strong> ls) <em class="brace">{</em>
<a id="L105" name="L105"></a> 105         lineSpacing = ls;
<a id="L106" name="L106"></a> 106     <em class="brace">}</em>
<a id="L107" name="L107"></a> 107 
<div class="comment">
      Sets the indent on the first line.
      @param fi the value in points</div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27411.html" title="Multiple referred from 2 places.">setFirstLineIndent</a>(<strong class="reserved">float</strong> fi) <em class="brace">{</em>
<a id="L114" name="L114"></a> 114         firstLineIndent = (<strong class="reserved">int</strong>) fi;
<a id="L115" name="L115"></a> 115     <em class="brace">}</em>
<a id="L116" name="L116"></a> 116 
<div class="comment">
      Set the cached properties from the attributes.</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27975.html" title="Multiple referred from 16 places.">setPropertiesFromAttributes</a>() <em class="brace">{</em>
<a id="L121" name="L121"></a> 121         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L122" name="L122"></a> 122         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L123" name="L123"></a> 123             <a href="../S/3349.html#L637" title="Defined at 637 in src/javax/swing/text/CompositeView.java.">setParagraphInsets</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L124" name="L124"></a> 124             <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3122.html#L297" title="Defined at 297 in src/javax/swing/GroupLayout.java.">Alignment</a>);
<a id="L125" name="L125"></a> 125             <strong class="reserved">int</strong> alignment;
<a id="L126" name="L126"></a> 126             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127                 <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L128" name="L128"></a> 128                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = doc.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION);
<a id="L129" name="L129"></a> 129                 <strong class="reserved">if</strong> ((<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) &amp;&amp; <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_RTL)) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130                     alignment = <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_RIGHT;
<a id="L131" name="L131"></a> 131                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L132" name="L132"></a> 132                     alignment = <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_LEFT;
<a id="L133" name="L133"></a> 133                 <em class="brace">}</em>
<a id="L134" name="L134"></a> 134             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L135" name="L135"></a> 135                 alignment = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L136" name="L136"></a> 136             <em class="brace">}</em>
<a id="L137" name="L137"></a> 137             <a href="../D/33017.html" title="Multiple defined in 2 places.">setJustification</a>(alignment);
<a id="L138" name="L138"></a> 138             <a href="../D/33096.html" title="Multiple defined in 2 places.">setLineSpacing</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L669" title="Defined at 669 in src/javax/swing/text/StyleConstants.java.">getLineSpacing</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>));
<a id="L139" name="L139"></a> 139             <a href="../D/32712.html" title="Multiple defined in 2 places.">setFirstLineIndent</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L597" title="Defined at 597 in src/javax/swing/text/StyleConstants.java.">getFirstLineIndent</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>));
<a id="L140" name="L140"></a> 140         <em class="brace">}</em>
<a id="L141" name="L141"></a> 141     <em class="brace">}</em>
<a id="L142" name="L142"></a> 142 
<div class="comment">
      Returns the number of views that this view is
      responsible for.
      The child views of the paragraph are rows which
      have been used to arrange pieces of the <code>View</code>s
      that represent the child elements.  This is the number
      of views that have been tiled in two dimensions,
      and should be equivalent to the number of child elements
      to the element this view is responsible for.
      @return the number of views that this <code>ParagraphView</code>
               is responsible for</div>
<a id="L156" name="L156"></a> 156     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17310.html" title="Multiple referred from 2 places.">getLayoutViewCount</a>() <em class="brace">{</em>
<a id="L157" name="L157"></a> 157         <strong class="reserved">return</strong> layoutPool.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L158" name="L158"></a> 158     <em class="brace">}</em>
<a id="L159" name="L159"></a> 159 
<div class="comment">
      Returns the view at a given <code>index</code>.
      The child views of the paragraph are rows which
      have been used to arrange pieces of the <code>Views</code>
      that represent the child elements.  This methods returns
      the view responsible for the child element index
      (prior to breaking).  These are the Views that were
      produced from a factory (to represent the child
      elements) and used for layout.
      @param index the <code>index</code> of the desired view
      @return the view at <code>index</code></div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">protected</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/17309.html" title="Multiple referred from 3 places.">getLayoutView</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174         <strong class="reserved">return</strong> layoutPool.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L175" name="L175"></a> 175     <em class="brace">}</em>
<a id="L176" name="L176"></a> 176 
<div class="comment">
      Returns the next visual position for the cursor, in
      either the east or west direction.
      Overridden from <code>CompositeView</code>.
      @param pos position into the model
      @param b either <code>Position.Bias.Forward</code> or
               <code>Position.Bias.Backward</code>
      @param a the allocated region to render into
      @param direction either <code>SwingConstants.NORTH</code>
               or <code>SwingConstants.SOUTH</code>
      @param biasRet an array containing the bias that were checked
       in this method
      @return the location in the model that represents the
       next location visual position</div>
<a id="L192" name="L192"></a> 192     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17937.html" title="Multiple referred from 2 places.">getNextNorthSouthVisualPositionFrom</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b,
<a id="L193" name="L193"></a> 193                                                       <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> direction,
<a id="L194" name="L194"></a> 194                                                       <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet)
<a id="L195" name="L195"></a> 195                                                 <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L196" name="L196"></a> 196         <strong class="reserved">int</strong> vIndex;
<a id="L197" name="L197"></a> 197         <strong class="reserved">if</strong>(pos == -1) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198             vIndex = (direction == NORTH) ?
<a id="L199" name="L199"></a> 199                      <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() - 1 : 0;
<a id="L200" name="L200"></a> 200         <em class="brace">}</em>
<a id="L201" name="L201"></a> 201         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L202" name="L202"></a> 202             <strong class="reserved">if</strong>(b == <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward &amp;&amp; pos &gt; 0) <em class="brace">{</em>
<a id="L203" name="L203"></a> 203                 vIndex = <a href="../D/23605.html" title="Multiple defined in 8 places.">getViewIndexAtPosition</a>(pos - 1);
<a id="L204" name="L204"></a> 204             <em class="brace">}</em>
<a id="L205" name="L205"></a> 205             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L206" name="L206"></a> 206                 vIndex = <a href="../D/23605.html" title="Multiple defined in 8 places.">getViewIndexAtPosition</a>(pos);
<a id="L207" name="L207"></a> 207             <em class="brace">}</em>
<a id="L208" name="L208"></a> 208             <strong class="reserved">if</strong>(direction == NORTH) <em class="brace">{</em>
<a id="L209" name="L209"></a> 209                 <strong class="reserved">if</strong>(vIndex == 0) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210                     <strong class="reserved">return</strong> -1;
<a id="L211" name="L211"></a> 211                 <em class="brace">}</em>
<a id="L212" name="L212"></a> 212                 vIndex--;
<a id="L213" name="L213"></a> 213             <em class="brace">}</em>
<a id="L214" name="L214"></a> 214             <strong class="reserved">else</strong> <strong class="reserved">if</strong>(++vIndex &gt;= <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>()) <em class="brace">{</em>
<a id="L215" name="L215"></a> 215                 <strong class="reserved">return</strong> -1;
<a id="L216" name="L216"></a> 216             <em class="brace">}</em>
<a id="L217" name="L217"></a> 217         <em class="brace">}</em>
<a id="L218" name="L218"></a> 218         <em class="comment">// vIndex gives index of row to look in.</em>
<a id="L219" name="L219"></a> 219         <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)<a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>();
<a id="L220" name="L220"></a> 220         <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L221" name="L221"></a> 221         <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> magicPoint;
<a id="L222" name="L222"></a> 222         magicPoint = (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>) ? <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/20343.html" title="Multiple defined in 2 places.">getMagicCaretPosition</a>() : <strong class="reserved">null</strong>;
<a id="L223" name="L223"></a> 223         <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L224" name="L224"></a> 224         <strong class="reserved">if</strong>(magicPoint == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225             <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> posBounds;
<a id="L226" name="L226"></a> 226             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L227" name="L227"></a> 227                 posBounds = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, pos, b);
<a id="L228" name="L228"></a> 228             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> exc) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229                 posBounds = <strong class="reserved">null</strong>;
<a id="L230" name="L230"></a> 230             <em class="brace">}</em>
<a id="L231" name="L231"></a> 231             <strong class="reserved">if</strong>(posBounds == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L232" name="L232"></a> 232                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = 0;
<a id="L233" name="L233"></a> 233             <em class="brace">}</em>
<a id="L234" name="L234"></a> 234             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L235" name="L235"></a> 235                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = posBounds.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>().<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L236" name="L236"></a> 236             <em class="brace">}</em>
<a id="L237" name="L237"></a> 237         <em class="brace">}</em>
<a id="L238" name="L238"></a> 238         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L239" name="L239"></a> 239             <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = magicPoint.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L240" name="L240"></a> 240         <em class="brace">}</em>
<a id="L241" name="L241"></a> 241         <strong class="reserved">return</strong> <a href="../S/3255.html#L264" title="Defined at 264 in src/javax/swing/text/ParagraphView.java.">getClosestPositionTo</a>(pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, direction, biasRet, vIndex, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L242" name="L242"></a> 242     <em class="brace">}</em>
<a id="L243" name="L243"></a> 243 
<div class="comment">
      Returns the closest model position to <code>x</code>.
      <code>rowIndex</code> gives the index of the view that corresponds
      that should be looked in.
      @param pos  position into the model
      @param a the allocated region to render into
      @param direction one of the following values:
      <ul><li><code>SwingConstants.NORTH</code>
      </li><li><code>SwingConstants.SOUTH</code>
      </li></ul>
      @param biasRet an array containing the bias that were checked
       in this method
      @param rowIndex the index of the view
      @param x the x coordinate of interest
      @return the closest model position to <code>x</code></div>
<a id="L261" name="L261"></a> 261     <em class="comment">// NOTE: This will not properly work if ParagraphView contains</em>
<a id="L262" name="L262"></a> 262     <em class="comment">// other ParagraphViews. It won't raise, but this does not message</em>
<a id="L263" name="L263"></a> 263     <em class="comment">// the children views with getNextVisualPositionFrom.</em>
<a id="L264" name="L264"></a> 264     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../S/3255.html#L241" title="Referred from 241 in src/javax/swing/text/ParagraphView.java.">getClosestPositionTo</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>,
<a id="L265" name="L265"></a> 265                                        <strong class="reserved">int</strong> direction, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet,
<a id="L266" name="L266"></a> 266                                        <strong class="reserved">int</strong> rowIndex, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>)
<a id="L267" name="L267"></a> 267               <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L268" name="L268"></a> 268         <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)<a href="../D/17946.html" title="Multiple defined in 9 places.">getContainer</a>();
<a id="L269" name="L269"></a> 269         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L270" name="L270"></a> 270         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> row = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(rowIndex);
<a id="L271" name="L271"></a> 271         <strong class="reserved">int</strong> <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> = -1;
<a id="L272" name="L272"></a> 272         <em class="comment">// This could be made better to check backward positions too.</em>
<a id="L273" name="L273"></a> 273         biasRet[0] = <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward;
<a id="L274" name="L274"></a> 274         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> vc = 0, numViews = row.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>(); vc &lt; numViews; vc++) <em class="brace">{</em>
<a id="L275" name="L275"></a> 275             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = row.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(vc);
<a id="L276" name="L276"></a> 276             <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L277" name="L277"></a> 277             <strong class="reserved">boolean</strong> ltr = <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>(doc, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + 1);
<a id="L278" name="L278"></a> 278             <strong class="reserved">if</strong>(ltr) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279                 <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L280" name="L280"></a> 280                 <strong class="reserved">for</strong>(<strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>(); <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>++) <em class="brace">{</em>
<a id="L281" name="L281"></a> 281                     <strong class="reserved">float</strong> xx = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>).<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>().<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L282" name="L282"></a> 282                     <strong class="reserved">if</strong>(xx &gt;= <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283                         <strong class="reserved">while</strong> (++<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp;
<a id="L284" name="L284"></a> 284                                <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>).<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>().<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> == xx) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285                         <em class="brace">}</em>
<a id="L286" name="L286"></a> 286                         <strong class="reserved">return</strong> --<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>;
<a id="L287" name="L287"></a> 287                     <em class="brace">}</em>
<a id="L288" name="L288"></a> 288                 <em class="brace">}</em>
<a id="L289" name="L289"></a> 289                 <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>--;
<a id="L290" name="L290"></a> 290             <em class="brace">}</em>
<a id="L291" name="L291"></a> 291             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L292" name="L292"></a> 292                 <strong class="reserved">for</strong>(<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> = v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - 1; <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> &gt;= <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L293" name="L293"></a> 293                     <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>--) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294                     <strong class="reserved">float</strong> xx = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>).<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>().<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L295" name="L295"></a> 295                     <strong class="reserved">if</strong>(xx &gt;= <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L296" name="L296"></a> 296                         <strong class="reserved">while</strong> (--<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> &gt;= <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &amp;&amp;
<a id="L297" name="L297"></a> 297                                <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>).<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>().<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> == xx) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298                         <em class="brace">}</em>
<a id="L299" name="L299"></a> 299                         <strong class="reserved">return</strong> ++<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>;
<a id="L300" name="L300"></a> 300                     <em class="brace">}</em>
<a id="L301" name="L301"></a> 301                 <em class="brace">}</em>
<a id="L302" name="L302"></a> 302                 <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>++;
<a id="L303" name="L303"></a> 303             <em class="brace">}</em>
<a id="L304" name="L304"></a> 304         <em class="brace">}</em>
<a id="L305" name="L305"></a> 305         <strong class="reserved">if</strong>(<a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a> == -1) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306             <strong class="reserved">return</strong> <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L307" name="L307"></a> 307         <em class="brace">}</em>
<a id="L308" name="L308"></a> 308         <strong class="reserved">return</strong> <a href="../S/5151.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/dtd/models/CMNode.java.">lastPos</a>;
<a id="L309" name="L309"></a> 309     <em class="brace">}</em>
<a id="L310" name="L310"></a> 310 
<div class="comment">
      Determines in which direction the next view lays.
      Consider the <code>View</code> at index n.
      Typically the <code>View</code>s are layed out
      from left to right, so that the <code>View</code>
      to the EAST will be at index n + 1, and the
      <code>View</code> to the WEST will be at index n - 1.
      In certain situations, such as with bidirectional text,
      it is possible that the <code>View</code> to EAST is not
      at index n + 1, but rather at index n - 1,
      or that the <code>View</code> to the WEST is not at
      index n - 1, but index n + 1.  In this case this method
      would return true, indicating the <code>View</code>s are
      layed out in descending order.
      <p>
      This will return true if the text is layed out right
      to left at position, otherwise false.
      @param position position into the model
      @param bias either <code>Position.Bias.Forward</code> or
               <code>Position.Bias.Backward</code>
      @return true if the text is layed out right to left at
              position, otherwise false.</p></div>
<a id="L335" name="L335"></a> 335     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/14683.html" title="Multiple referred from 2 places.">flipEastAndWestAtEnds</a>(<strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>,
<a id="L336" name="L336"></a> 336                                             <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> bias) <em class="brace">{</em>
<a id="L337" name="L337"></a> 337         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L338" name="L338"></a> 338         <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> = <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L339" name="L339"></a> 339         <strong class="reserved">return</strong> !<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>(doc, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> + 1);
<a id="L340" name="L340"></a> 340     <em class="brace">}</em>
<a id="L341" name="L341"></a> 341 
<a id="L342" name="L342"></a> 342     <em class="comment">// --- FlowView methods ---------------------------------------------</em>
<a id="L343" name="L343"></a> 343 
<div class="comment">
      Fetches the constraining span to flow against for
      the given child index.
      @param index the index of the view being queried
      @return the constraining span for the given view at
       <code>index</code>
      @since 1.3</div>
<a id="L352" name="L352"></a> 352     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16656.html" title="Multiple referred from 3 places.">getFlowSpan</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> child = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L354" name="L354"></a> 354         <strong class="reserved">int</strong> <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = 0;
<a id="L355" name="L355"></a> 355         <strong class="reserved">if</strong> (child <strong class="reserved">instanceof</strong> <a href="../D/7402.html" title="Multiple defined in 2 places.">Row</a>) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356             <a href="../D/7402.html" title="Multiple defined in 2 places.">Row</a> row = (<a href="../D/7402.html" title="Multiple defined in 2 places.">Row</a>) child;
<a id="L357" name="L357"></a> 357             <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = row.<a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>() + row.<a href="../D/22102.html" title="Multiple defined in 2 places.">getRightInset</a>();
<a id="L358" name="L358"></a> 358         <em class="brace">}</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">return</strong> (layoutSpan == <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE) ? layoutSpan
<a id="L360" name="L360"></a> 360                                                  : (layoutSpan - <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a>);
<a id="L361" name="L361"></a> 361     <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<div class="comment">
      Fetches the location along the flow axis that the
      flow span will start at.
      @param index the index of the view being queried
      @return the location for the given view at
       <code>index</code>
      @since 1.3</div>
<a id="L371" name="L371"></a> 371     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/3273.html#L506" title="Referred from 506 in src/javax/swing/text/FlowView.java.">getFlowStart</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L372" name="L372"></a> 372         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> child = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L373" name="L373"></a> 373         <strong class="reserved">int</strong> <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = 0;
<a id="L374" name="L374"></a> 374         <strong class="reserved">if</strong> (child <strong class="reserved">instanceof</strong> <a href="../D/7402.html" title="Multiple defined in 2 places.">Row</a>) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375             <a href="../D/7402.html" title="Multiple defined in 2 places.">Row</a> row = (<a href="../D/7402.html" title="Multiple defined in 2 places.">Row</a>) child;
<a id="L376" name="L376"></a> 376             <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a> = row.<a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>();
<a id="L377" name="L377"></a> 377         <em class="brace">}</em>
<a id="L378" name="L378"></a> 378         <strong class="reserved">return</strong> tabBase + <a href="../D/11206.html" title="Multiple defined in 2 places.">adjust</a>;
<a id="L379" name="L379"></a> 379     <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<div class="comment">
      Create a <code>View</code> that should be used to hold a
      a row's worth of children in a flow.
      @return the new <code>View</code>
      @since 1.3</div>
<a id="L387" name="L387"></a> 387     <strong class="reserved">protected</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../S/3273.html#L472" title="Referred from 472 in src/javax/swing/text/FlowView.java.">createRow</a>() <em class="brace">{</em>
<a id="L388" name="L388"></a> 388         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/7402.html" title="Multiple defined in 2 places.">Row</a>(<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>());
<a id="L389" name="L389"></a> 389     <em class="brace">}</em>
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391     <em class="comment">// --- TabExpander methods ------------------------------------------</em>
<a id="L392" name="L392"></a> 392 
<div class="comment">
      Returns the next tab stop position given a reference position.
      This view implements the tab coordinate system, and calls
      <code>getTabbedSpan</code> on the logical children in the process
      of layout to determine the desired span of the children.  The
      logical children can delegate their tab expansion upward to
      the paragraph which knows how to expand tabs.
      <code>LabelView</code> is an example of a view that delegates
      its tab expansion needs upward to the paragraph.
      <p>
      This is implemented to try and locate a <code>TabSet</code>
      in the paragraph element's attribute set.  If one can be
      found, its settings will be used, otherwise a default expansion
      will be provided.  The base location for for tab expansion
      is the left inset from the paragraphs most recent allocation
      (which is what the layout of the children is based upon).
      @param x the X reference position
      @param tabOffset the position within the text stream
        that the tab occurred at &gt;= 0
      @return the trailing end of the tab expansion &gt;= 0
      @see TabSet
      @see TabStop
      @see LabelView</p></div>
<a id="L418" name="L418"></a> 418     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/23698.html" title="Multiple referred from 4 places.">nextTabStop</a>(<strong class="reserved">float</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> tabOffset) <em class="brace">{</em>
<a id="L419" name="L419"></a> 419         <em class="comment">// If the text isn't left justified, offset by 10 pixels!</em>
<a id="L420" name="L420"></a> 420         <strong class="reserved">if</strong>(justification != <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_LEFT)
<a id="L421" name="L421"></a> 421             <strong class="reserved">return</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + 10.0f;
<a id="L422" name="L422"></a> 422         <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= tabBase;
<a id="L423" name="L423"></a> 423         <a href="../S/3254.html#L46" title="Defined at 46 in src/javax/swing/text/TabSet.java.">TabSet</a> tabs = <a href="../D/22966.html" title="Multiple defined in 2 places.">getTabSet</a>();
<a id="L424" name="L424"></a> 424         <strong class="reserved">if</strong>(tabs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425             <em class="comment">// a tab every 72 pixels.</em>
<a id="L426" name="L426"></a> 426             <strong class="reserved">return</strong> (<strong class="reserved">float</strong>)(tabBase + (((<strong class="reserved">int</strong>)<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> / 72 + 1) * 72));
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428         <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a> tab = tabs.<a href="../S/3254.html#L98" title="Defined at 98 in src/javax/swing/text/TabSet.java.">getTabAfter</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + .01f);
<a id="L429" name="L429"></a> 429         <strong class="reserved">if</strong>(tab == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430             <em class="comment">// no tab, do a default of 5 pixels.</em>
<a id="L431" name="L431"></a> 431             <em class="comment">// Should this cause a wrapping of the line?</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">return</strong> tabBase + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + 5.0f;
<a id="L433" name="L433"></a> 433         <em class="brace">}</em>
<a id="L434" name="L434"></a> 434         <strong class="reserved">int</strong> alignment = tab.<a href="../D/16863.html" title="Multiple defined in 22 places.">getAlignment</a>();
<a id="L435" name="L435"></a> 435         <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L436" name="L436"></a> 436         <strong class="reserved">switch</strong>(alignment) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437         <strong class="reserved">default</strong>:
<a id="L438" name="L438"></a> 438         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_LEFT:
<a id="L439" name="L439"></a> 439             <em class="comment">// Simple case, left tab.</em>
<a id="L440" name="L440"></a> 440             <strong class="reserved">return</strong> tabBase + tab.<a href="../D/21546.html" title="Multiple defined in 41 places.">getPosition</a>();
<a id="L441" name="L441"></a> 441         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_BAR:
<a id="L442" name="L442"></a> 442             <em class="comment">// PENDING: what does this mean?</em>
<a id="L443" name="L443"></a> 443             <strong class="reserved">return</strong> tabBase + tab.<a href="../D/21546.html" title="Multiple defined in 41 places.">getPosition</a>();
<a id="L444" name="L444"></a> 444         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_RIGHT:
<a id="L445" name="L445"></a> 445         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_CENTER:
<a id="L446" name="L446"></a> 446             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/3255.html#L535" title="Defined at 535 in src/javax/swing/text/ParagraphView.java.">findOffsetToCharactersInString</a>(tabChars,
<a id="L447" name="L447"></a> 447                                                     tabOffset + 1);
<a id="L448" name="L448"></a> 448             <strong class="reserved">break</strong>;
<a id="L449" name="L449"></a> 449         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_DECIMAL:
<a id="L450" name="L450"></a> 450             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/3255.html#L535" title="Defined at 535 in src/javax/swing/text/ParagraphView.java.">findOffsetToCharactersInString</a>(tabDecimalChars,
<a id="L451" name="L451"></a> 451                                                     tabOffset + 1);
<a id="L452" name="L452"></a> 452             <strong class="reserved">break</strong>;
<a id="L453" name="L453"></a> 453         <em class="brace">}</em>
<a id="L454" name="L454"></a> 454         <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> == -1) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L456" name="L456"></a> 456         <em class="brace">}</em>
<a id="L457" name="L457"></a> 457         <strong class="reserved">float</strong> charsSize = <a href="../S/3255.html#L496" title="Defined at 496 in src/javax/swing/text/ParagraphView.java.">getPartialSize</a>(tabOffset + 1, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L458" name="L458"></a> 458         <strong class="reserved">switch</strong>(alignment) <em class="brace">{</em>
<a id="L459" name="L459"></a> 459         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_RIGHT:
<a id="L460" name="L460"></a> 460         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_DECIMAL:
<a id="L461" name="L461"></a> 461             <em class="comment">// right and decimal are treated the same way, the new</em>
<a id="L462" name="L462"></a> 462             <em class="comment">// position will be the location of the tab less the</em>
<a id="L463" name="L463"></a> 463             <em class="comment">// partialSize.</em>
<a id="L464" name="L464"></a> 464             <strong class="reserved">return</strong> tabBase + <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, tab.<a href="../D/21546.html" title="Multiple defined in 41 places.">getPosition</a>() - charsSize);
<a id="L465" name="L465"></a> 465         <strong class="reserved">case</strong> <a href="../S/3325.html#L45" title="Defined at 45 in src/javax/swing/text/TabStop.java.">TabStop</a>.ALIGN_CENTER:
<a id="L466" name="L466"></a> 466             <em class="comment">// Similar to right, but half the partialSize.</em>
<a id="L467" name="L467"></a> 467             <strong class="reserved">return</strong> tabBase + <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, tab.<a href="../D/21546.html" title="Multiple defined in 41 places.">getPosition</a>() - charsSize / 2.0f);
<a id="L468" name="L468"></a> 468         <em class="brace">}</em>
<a id="L469" name="L469"></a> 469         <em class="comment">// will never get here!</em>
<a id="L470" name="L470"></a> 470         <strong class="reserved">return</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L471" name="L471"></a> 471     <em class="brace">}</em>
<a id="L472" name="L472"></a> 472 
<div class="comment">
      Gets the <code>Tabset</code> to be used in calculating tabs.
      @return the <code>TabSet</code></div>
<a id="L478" name="L478"></a> 478     <strong class="reserved">protected</strong> <a href="../S/3254.html#L46" title="Defined at 46 in src/javax/swing/text/TabSet.java.">TabSet</a> <a href="../R/19364.html" title="Multiple referred from 3 places.">getTabSet</a>() <em class="brace">{</em>
<a id="L479" name="L479"></a> 479         <strong class="reserved">return</strong> <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../D/22966.html" title="Multiple defined in 2 places.">getTabSet</a>(<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>());
<a id="L480" name="L480"></a> 480     <em class="brace">}</em>
<a id="L481" name="L481"></a> 481 
<div class="comment">
      Returns the size used by the views between
      <code>startOffset</code> and <code>endOffset</code>.
      This uses <code>getPartialView</code> to calculate the
      size if the child view implements the
      <code>TabableView</code> interface. If a
      size is needed and a <code>View</code> does not implement
      the <code>TabableView</code> interface,
      the <code>preferredSpan</code> will be used.
      @param startOffset the starting document offset &gt;= 0
      @param endOffset the ending document offset &gt;= startOffset
      @return the size &gt;= 0</div>
<a id="L496" name="L496"></a> 496     <strong class="reserved">protected</strong> <strong class="reserved">float</strong> <a href="../S/3255.html#L457" title="Referred from 457 in src/javax/swing/text/ParagraphView.java.">getPartialSize</a>(<strong class="reserved">int</strong> startOffset, <strong class="reserved">int</strong> endOffset) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497         <strong class="reserved">float</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = 0.0f;
<a id="L498" name="L498"></a> 498         <strong class="reserved">int</strong> viewIndex;
<a id="L499" name="L499"></a> 499         <strong class="reserved">int</strong> numViews = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L500" name="L500"></a> 500         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> view;
<a id="L501" name="L501"></a> 501         <strong class="reserved">int</strong> viewEnd;
<a id="L502" name="L502"></a> 502         <strong class="reserved">int</strong> tempEnd;
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504         <em class="comment">// Have to search layoutPool!</em>
<a id="L505" name="L505"></a> 505         <em class="comment">// PENDING: when ParagraphView supports breaking location</em>
<a id="L506" name="L506"></a> 506         <em class="comment">// into layoutPool will have to change!</em>
<a id="L507" name="L507"></a> 507         viewIndex = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(startOffset);
<a id="L508" name="L508"></a> 508         numViews = layoutPool.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L509" name="L509"></a> 509         <strong class="reserved">while</strong>(startOffset &lt; endOffset &amp;&amp; viewIndex &lt; numViews) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510             view = layoutPool.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(viewIndex++);
<a id="L511" name="L511"></a> 511             viewEnd = view.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L512" name="L512"></a> 512             tempEnd = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(endOffset, viewEnd);
<a id="L513" name="L513"></a> 513             <strong class="reserved">if</strong>(view <strong class="reserved">instanceof</strong> <a href="../S/3250.html#L37" title="Defined at 37 in src/javax/swing/text/TabableView.java.">TabableView</a>)
<a id="L514" name="L514"></a> 514                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> += ((<a href="../S/3250.html#L37" title="Defined at 37 in src/javax/swing/text/TabableView.java.">TabableView</a>)view).<a href="../D/21422.html" title="Multiple defined in 2 places.">getPartialSpan</a>(startOffset, tempEnd);
<a id="L515" name="L515"></a> 515             <strong class="reserved">else</strong> <strong class="reserved">if</strong>(startOffset == view.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &amp;&amp;
<a id="L516" name="L516"></a> 516                     tempEnd == view.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>())
<a id="L517" name="L517"></a> 517                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> += view.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS);
<a id="L518" name="L518"></a> 518             <strong class="reserved">else</strong>
<a id="L519" name="L519"></a> 519                 <em class="comment">// PENDING: should we handle this better?</em>
<a id="L520" name="L520"></a> 520                 <strong class="reserved">return</strong> 0.0f;
<a id="L521" name="L521"></a> 521             startOffset = viewEnd;
<a id="L522" name="L522"></a> 522         <em class="brace">}</em>
<a id="L523" name="L523"></a> 523         <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L524" name="L524"></a> 524     <em class="brace">}</em>
<a id="L525" name="L525"></a> 525 
<div class="comment">
      Finds the next character in the document with a character in
      <code>string</code>, starting at offset <code>start</code>. If
      there are no characters found, -1 will be returned.
      @param string the string of characters
      @param start where to start in the model &gt;= 0
      @return the document offset, or -1 if no characters found</div>
<a id="L535" name="L535"></a> 535     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/14451.html" title="Multiple referred from 2 places.">findOffsetToCharactersInString</a>(<strong class="reserved">char</strong>[] <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>,
<a id="L536" name="L536"></a> 536                                                  <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537         <strong class="reserved">int</strong> stringLength = <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L538" name="L538"></a> 538         <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L539" name="L539"></a> 539         <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> seg = <strong class="reserved">new</strong> <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a>();
<a id="L540" name="L540"></a> 540         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L541" name="L541"></a> 541             <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, seg);
<a id="L542" name="L542"></a> 542         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543             <strong class="reserved">return</strong> -1;
<a id="L544" name="L544"></a> 544         <em class="brace">}</em>
<a id="L545" name="L545"></a> 545         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> counter = seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, maxCounter = seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L546" name="L546"></a> 546             counter &lt; maxCounter; counter++) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547             <strong class="reserved">char</strong> currentChar = seg.<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[counter];
<a id="L548" name="L548"></a> 548             <strong class="reserved">for</strong>(<strong class="reserved">int</strong> subCounter = 0; subCounter &lt; stringLength;
<a id="L549" name="L549"></a> 549                 subCounter++) <em class="brace">{</em>
<a id="L550" name="L550"></a> 550                 <strong class="reserved">if</strong>(currentChar == <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>[subCounter])
<a id="L551" name="L551"></a> 551                     <strong class="reserved">return</strong> counter - seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L552" name="L552"></a> 552             <em class="brace">}</em>
<a id="L553" name="L553"></a> 553         <em class="brace">}</em>
<a id="L554" name="L554"></a> 554         <em class="comment">// No match.</em>
<a id="L555" name="L555"></a> 555         <strong class="reserved">return</strong> -1;
<a id="L556" name="L556"></a> 556     <em class="brace">}</em>
<a id="L557" name="L557"></a> 557 
<div class="comment">
      Returns where the tabs are calculated from.
      @return where tabs are calculated from</div>
<a id="L562" name="L562"></a> 562     <strong class="reserved">protected</strong> <strong class="reserved">float</strong> <a href="../S/3277.html#L174" title="Referred from 174 in src/javax/swing/text/html/LineView.java.">getTabBase</a>() <em class="brace">{</em>
<a id="L563" name="L563"></a> 563         <strong class="reserved">return</strong> (<strong class="reserved">float</strong>)tabBase;
<a id="L564" name="L564"></a> 564     <em class="brace">}</em>
<a id="L565" name="L565"></a> 565 
<a id="L566" name="L566"></a> 566     <em class="comment">// ---- View methods ----------------------------------------------------</em>
<a id="L567" name="L567"></a> 567 
<div class="comment">
      Renders using the given rendering surface and area on that
      surface.  This is implemented to delegate to the superclass
      after stashing the base coordinate for tab calculations.
      @param g the rendering surface to use
      @param a the allocated region to render into
      @see View#paint</div>
<a id="L577" name="L577"></a> 577     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L578" name="L578"></a> 578         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ? (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> : <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L579" name="L579"></a> 579         tabBase = alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + <a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>();
<a id="L580" name="L580"></a> 580         <strong class="reserved">super</strong>.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L581" name="L581"></a> 581 
<a id="L582" name="L582"></a> 582         <em class="comment">// line with the negative firstLineIndent value needs</em>
<a id="L583" name="L583"></a> 583         <em class="comment">// special handling</em>
<a id="L584" name="L584"></a> 584         <strong class="reserved">if</strong> (firstLineIndent &lt; 0) <em class="brace">{</em>
<a id="L585" name="L585"></a> 585             <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> sh = <a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(0, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L586" name="L586"></a> 586             <strong class="reserved">if</strong> ((sh != <strong class="reserved">null</strong>) &amp;&amp;  sh.<a href="../D/24982.html" title="Multiple defined in 23 places.">intersects</a>(alloc)) <em class="brace">{</em>
<a id="L587" name="L587"></a> 587                 <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + <a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>() + firstLineIndent;
<a id="L588" name="L588"></a> 588                 <strong class="reserved">int</strong> y = alloc.y + <a href="../D/23206.html" title="Multiple defined in 2 places.">getTopInset</a>();
<a id="L589" name="L589"></a> 589 
<a id="L590" name="L590"></a> 590                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a> = g.<a href="../D/17730.html" title="Multiple defined in 3 places.">getClipBounds</a>();
<a id="L591" name="L591"></a> 591                 tempRect.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + <a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(X_AXIS, 0);
<a id="L592" name="L592"></a> 592                 tempRect.y = y + <a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(Y_AXIS, 0);
<a id="L593" name="L593"></a> 593                 tempRect.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = <a href="../D/22646.html" title="Multiple defined in 8 places.">getSpan</a>(X_AXIS, 0) - firstLineIndent;
<a id="L594" name="L594"></a> 594                 tempRect.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../D/22646.html" title="Multiple defined in 8 places.">getSpan</a>(Y_AXIS, 0);
<a id="L595" name="L595"></a> 595                 <strong class="reserved">if</strong> (tempRect.<a href="../D/24982.html" title="Multiple defined in 23 places.">intersects</a>(<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>)) <em class="brace">{</em>
<a id="L596" name="L596"></a> 596                     tempRect.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = tempRect.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> - firstLineIndent;
<a id="L597" name="L597"></a> 597                     <a href="../D/28759.html" title="Multiple defined in 2 places.">paintChild</a>(g, tempRect, 0);
<a id="L598" name="L598"></a> 598                 <em class="brace">}</em>
<a id="L599" name="L599"></a> 599             <em class="brace">}</em>
<a id="L600" name="L600"></a> 600         <em class="brace">}</em>
<a id="L601" name="L601"></a> 601     <em class="brace">}</em>
<a id="L602" name="L602"></a> 602 
<div class="comment">
      Determines the desired alignment for this view along an
      axis.  This is implemented to give the alignment to the
      center of the first row along the y axis, and the default
      along the x axis.
      @param axis may be either <code>View.X_AXIS</code> or
        <code>View.Y_AXIS</code>
      @return the desired alignment.  This should be a value
        between 0.0 and 1.0 inclusive, where 0 indicates alignment at the
        origin and 1.0 indicates alignment to the full span
        away from the origin.  An alignment of 0.5 would be the
        center of the view.</div>
<a id="L617" name="L617"></a> 617     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/15009.html" title="Multiple referred from 36 places.">getAlignment</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L618" name="L618"></a> 618         <strong class="reserved">switch</strong> (axis) <em class="brace">{</em>
<a id="L619" name="L619"></a> 619         <strong class="reserved">case</strong> Y_AXIS:
<a id="L620" name="L620"></a> 620             <strong class="reserved">float</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = 0.5f;
<a id="L621" name="L621"></a> 621             <strong class="reserved">if</strong> (<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() != 0) <em class="brace">{</em>
<a id="L622" name="L622"></a> 622                 <strong class="reserved">int</strong> paragraphSpan = (<strong class="reserved">int</strong>) <a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS);
<a id="L623" name="L623"></a> 623                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(0);
<a id="L624" name="L624"></a> 624                 <strong class="reserved">int</strong> rowSpan = (<strong class="reserved">int</strong>) v.<a href="../D/21585.html" title="Multiple defined in 27 places.">getPreferredSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS);
<a id="L625" name="L625"></a> 625                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = (paragraphSpan != 0) ? ((<strong class="reserved">float</strong>)(rowSpan / 2)) / paragraphSpan : 0;
<a id="L626" name="L626"></a> 626             <em class="brace">}</em>
<a id="L627" name="L627"></a> 627             <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L628" name="L628"></a> 628         <strong class="reserved">case</strong> X_AXIS:
<a id="L629" name="L629"></a> 629             <strong class="reserved">return</strong> 0.5f;
<a id="L630" name="L630"></a> 630         <strong class="reserved">default</strong>:
<a id="L631" name="L631"></a> 631             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid axis: " + axis);
<a id="L632" name="L632"></a> 632         <em class="brace">}</em>
<a id="L633" name="L633"></a> 633     <em class="brace">}</em>
<a id="L634" name="L634"></a> 634 
<div class="comment">
      Breaks this view on the given axis at the given length.
      <p>
      <code>ParagraphView</code> instances are breakable
      along the <code>Y_AXIS</code> only, and only if
      <code>len</code> is after the first line.
      @param axis may be either <code>View.X_AXIS</code>
       or <code>View.Y_AXIS</code>
      @param len specifies where a potential break is desired
       along the given axis &gt;= 0
      @param a the current allocation of the view
      @return the fragment of the view that represents the
       given span, if the view can be broken; if the view
       doesn't support breaking behavior, the view itself is
       returned
      @see View#breakView</p></div>
<a id="L653" name="L653"></a> 653     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/10671.html" title="Multiple referred from 4 places.">breakView</a>(<strong class="reserved">int</strong> axis, <strong class="reserved">float</strong> len, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L654" name="L654"></a> 654         <strong class="reserved">if</strong>(axis == <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655             <strong class="reserved">if</strong>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L657" name="L657"></a> 657                 <a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L658" name="L658"></a> 658             <em class="brace">}</em>
<a id="L659" name="L659"></a> 659             <em class="comment">// Determine what row to break on.</em>
<a id="L660" name="L660"></a> 660 
<a id="L661" name="L661"></a> 661             <em class="comment">// PENDING(prinz) add break support</em>
<a id="L662" name="L662"></a> 662             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L663" name="L663"></a> 663         <em class="brace">}</em>
<a id="L664" name="L664"></a> 664         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L665" name="L665"></a> 665     <em class="brace">}</em>
<a id="L666" name="L666"></a> 666 
<div class="comment">
      Gets the break weight for a given location.
      <p>
      <code>ParagraphView</code> instances are breakable
      along the <code>Y_AXIS</code> only, and only if
      <code>len</code> is after the first row.  If the length
      is less than one row, a value of <code>BadBreakWeight</code>
      is returned.
      @param axis may be either <code>View.X_AXIS</code>
       or <code>View.Y_AXIS</code>
      @param len specifies where a potential break is desired &gt;= 0
      @return a value indicating the attractiveness of breaking here;
       either <code>GoodBreakWeight</code> or <code>BadBreakWeight</code>
      @see View#getBreakWeight</p></div>
<a id="L683" name="L683"></a> 683     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15335.html" title="Multiple referred from 10 places.">getBreakWeight</a>(<strong class="reserved">int</strong> axis, <strong class="reserved">float</strong> len) <em class="brace">{</em>
<a id="L684" name="L684"></a> 684         <strong class="reserved">if</strong>(axis == <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.Y_AXIS) <em class="brace">{</em>
<a id="L685" name="L685"></a> 685             <em class="comment">// PENDING(prinz) make this return a reasonable value</em>
<a id="L686" name="L686"></a> 686             <em class="comment">// when paragraph breaking support is re-implemented.</em>
<a id="L687" name="L687"></a> 687             <em class="comment">// If less than one row, bad weight value should be</em>
<a id="L688" name="L688"></a> 688             <em class="comment">// returned.</em>
<a id="L689" name="L689"></a> 689             <em class="comment">//return GoodBreakWeight;</em>
<a id="L690" name="L690"></a> 690             <strong class="reserved">return</strong> BadBreakWeight;
<a id="L691" name="L691"></a> 691         <em class="brace">}</em>
<a id="L692" name="L692"></a> 692         <strong class="reserved">return</strong> BadBreakWeight;
<a id="L693" name="L693"></a> 693     <em class="brace">}</em>
<a id="L694" name="L694"></a> 694 
<div class="comment">
      Calculate the needs for the paragraph along the minor axis.
      <p>This uses size requirements of the superclass, modified to take into
      account the non-breakable areas at the adjacent views edges.  The minimal
      size requirements for such views should be no less than the sum of all
      adjacent fragments.</p>
      <p>If the <code>axis</code> parameter is neither <code>View.X_AXIS</code> nor
      <code>View.Y_AXIS</code>, <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> is thrown.  If the
      <code>r</code> parameter is <code>null,</code> a new <code>SizeRequirements</code>
      object is created, otherwise the supplied <code>SizeRequirements</code>
      object is returned.</p>
      @param axis  the minor axis
      @param r     the input <code>SizeRequirements</code> object
      @return      the new or adjusted <code>SizeRequirements</code> object
      @throws IllegalArgumentException  if the <code>axis</code> parameter is invalid</div>
<a id="L714" name="L714"></a> 714     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L715" name="L715"></a> 715     <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10822.html" title="Multiple referred from 8 places.">calculateMinorAxisRequirements</a>(<strong class="reserved">int</strong> axis,
<a id="L716" name="L716"></a> 716                                                         <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L717" name="L717"></a> 717         r = <strong class="reserved">super</strong>.<a href="../D/12077.html" title="Multiple defined in 12 places.">calculateMinorAxisRequirements</a>(axis, r);
<a id="L718" name="L718"></a> 718 
<a id="L719" name="L719"></a> 719         <strong class="reserved">float</strong> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = 0;
<a id="L720" name="L720"></a> 720         <strong class="reserved">float</strong> glue = 0;
<a id="L721" name="L721"></a> 721         <strong class="reserved">int</strong> n = <a href="../S/3255.html#L156" title="Defined at 156 in src/javax/swing/text/ParagraphView.java.">getLayoutViewCount</a>();
<a id="L722" name="L722"></a> 722         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L723" name="L723"></a> 723             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../S/3255.html#L173" title="Defined at 173 in src/javax/swing/text/ParagraphView.java.">getLayoutView</a>(i);
<a id="L724" name="L724"></a> 724             <strong class="reserved">float</strong> span = v.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis);
<a id="L725" name="L725"></a> 725             <strong class="reserved">if</strong> (v.<a href="../D/17349.html" title="Multiple defined in 6 places.">getBreakWeight</a>(axis, 0, v.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(axis)) &gt; <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.BadBreakWeight) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726                 <em class="comment">// find the longest non-breakable fragments at the view edges</em>
<a id="L727" name="L727"></a> 727                 <strong class="reserved">int</strong> p0 = v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L728" name="L728"></a> 728                 <strong class="reserved">int</strong> p1 = v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L729" name="L729"></a> 729                 <strong class="reserved">float</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = <a href="../S/3255.html#L750" title="Defined at 750 in src/javax/swing/text/ParagraphView.java.">findEdgeSpan</a>(v, axis, p0, p0, p1);
<a id="L730" name="L730"></a> 730                 <strong class="reserved">float</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../S/3255.html#L750" title="Defined at 750 in src/javax/swing/text/ParagraphView.java.">findEdgeSpan</a>(v, axis, p1, p0, p1);
<a id="L731" name="L731"></a> 731                 glue += <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L732" name="L732"></a> 732                 <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>, <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(span, glue));
<a id="L733" name="L733"></a> 733                 glue = <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>;
<a id="L734" name="L734"></a> 734             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L735" name="L735"></a> 735                 <em class="comment">// non-breakable view</em>
<a id="L736" name="L736"></a> 736                 glue += span;
<a id="L737" name="L737"></a> 737                 <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>, glue);
<a id="L738" name="L738"></a> 738             <em class="brace">}</em>
<a id="L739" name="L739"></a> 739         <em class="brace">}</em>
<a id="L740" name="L740"></a> 740         r.minimum = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(r.minimum, (<strong class="reserved">int</strong>) <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>);
<a id="L741" name="L741"></a> 741         r.preferred = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(r.minimum, r.preferred);
<a id="L742" name="L742"></a> 742         r.maximum = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(r.preferred, r.maximum);
<a id="L743" name="L743"></a> 743 
<a id="L744" name="L744"></a> 744         <strong class="reserved">return</strong> r;
<a id="L745" name="L745"></a> 745     <em class="brace">}</em>
<a id="L746" name="L746"></a> 746 
<div class="comment">
      Binary search for the longest non-breakable fragment at the view edge.</div>
<a id="L750" name="L750"></a> 750     <strong class="reserved">private</strong> <strong class="reserved">float</strong> <a href="../R/14375.html" title="Multiple referred from 3 places.">findEdgeSpan</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v, <strong class="reserved">int</strong> axis, <strong class="reserved">int</strong> fp, <strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1) <em class="brace">{</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">int</strong> len = p1 - p0;
<a id="L752" name="L752"></a> 752         <strong class="reserved">if</strong> (len &lt;= 1) <em class="brace">{</em>
<a id="L753" name="L753"></a> 753             <em class="comment">// further fragmentation is not possible</em>
<a id="L754" name="L754"></a> 754             <strong class="reserved">return</strong> v.<a href="../D/20667.html" title="Multiple defined in 20 places.">getMinimumSpan</a>(axis);
<a id="L755" name="L755"></a> 755         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L756" name="L756"></a> 756             <strong class="reserved">int</strong> mid = p0 + len / 2;
<a id="L757" name="L757"></a> 757             <strong class="reserved">boolean</strong> startEdge = mid &gt; fp;
<a id="L758" name="L758"></a> 758             <em class="comment">// initial view is breakable hence must support fragmentation</em>
<a id="L759" name="L759"></a> 759             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> f = startEdge ?
<a id="L760" name="L760"></a> 760                 v.<a href="../D/13897.html" title="Multiple defined in 2 places.">createFragment</a>(fp, mid) : v.<a href="../D/13897.html" title="Multiple defined in 2 places.">createFragment</a>(mid, fp);
<a id="L761" name="L761"></a> 761             <strong class="reserved">boolean</strong> breakable = f.<a href="../D/17349.html" title="Multiple defined in 6 places.">getBreakWeight</a>(
<a id="L762" name="L762"></a> 762                     axis, 0, f.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(axis)) &gt; <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.BadBreakWeight;
<a id="L763" name="L763"></a> 763             <strong class="reserved">if</strong> (breakable == startEdge) <em class="brace">{</em>
<a id="L764" name="L764"></a> 764                 p1 = mid;
<a id="L765" name="L765"></a> 765             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L766" name="L766"></a> 766                 p0 = mid;
<a id="L767" name="L767"></a> 767             <em class="brace">}</em>
<a id="L768" name="L768"></a> 768             <strong class="reserved">return</strong> <a href="../S/3255.html#L750" title="Defined at 750 in src/javax/swing/text/ParagraphView.java.">findEdgeSpan</a>(f, axis, fp, p0, p1);
<a id="L769" name="L769"></a> 769         <em class="brace">}</em>
<a id="L770" name="L770"></a> 770     <em class="brace">}</em>
<a id="L771" name="L771"></a> 771 
<div class="comment">
      Gives notification from the document that attributes were changed
      in a location that this view is responsible for.
      @param changes the change information from the
       associated document
      @param a the current allocation of the view
      @param f the factory to use to rebuild if the view has children
      @see View#changedUpdate</div>
<a id="L782" name="L782"></a> 782     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783         <em class="comment">// update any property settings stored, and layout should be</em>
<a id="L784" name="L784"></a> 784         <em class="comment">// recomputed</em>
<a id="L785" name="L785"></a> 785         <a href="../D/33621.html" title="Multiple defined in 12 places.">setPropertiesFromAttributes</a>();
<a id="L786" name="L786"></a> 786         <a href="../S/3355.html#L127" title="Defined at 127 in src/javax/swing/text/BoxView.java.">layoutChanged</a>(X_AXIS);
<a id="L787" name="L787"></a> 787         <a href="../S/3355.html#L127" title="Defined at 127 in src/javax/swing/text/BoxView.java.">layoutChanged</a>(Y_AXIS);
<a id="L788" name="L788"></a> 788         <strong class="reserved">super</strong>.<a href="../D/12316.html" title="Multiple defined in 27 places.">changedUpdate</a>(<a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, f);
<a id="L789" name="L789"></a> 789     <em class="brace">}</em>
<a id="L790" name="L790"></a> 790 
<a id="L791" name="L791"></a> 791 
<a id="L792" name="L792"></a> 792     <em class="comment">// --- variables -----------------------------------------------</em>
<a id="L793" name="L793"></a> 793 
<a id="L794" name="L794"></a> 794     <strong class="reserved">private</strong> <strong class="reserved">int</strong> justification;
<a id="L795" name="L795"></a> 795     <strong class="reserved">private</strong> <strong class="reserved">float</strong> lineSpacing;
<div class="comment">
     /** Indentation for the first line, from the left inset. */</div>
<a id="L797" name="L797"></a> 797     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> firstLineIndent = 0;
<a id="L798" name="L798"></a> 798 
<div class="comment">
      Used by the TabExpander functionality to determine
      where to base the tab calculations.  This is basically
      the location of the left side of the paragraph.</div>
<a id="L804" name="L804"></a> 804     <strong class="reserved">private</strong> <strong class="reserved">int</strong> tabBase;
<a id="L805" name="L805"></a> 805 
<div class="comment">
      Used to create an i18n-based layout strategy</div>
<a id="L809" name="L809"></a> 809     <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> i18nStrategy;
<a id="L810" name="L810"></a> 810 
<div class="comment">
     /** Used for searching for a tab. */</div>
<a id="L812" name="L812"></a> 812     <strong class="reserved">static</strong> <strong class="reserved">char</strong>[] tabChars;
<div class="comment">
     /** Used for searching for a tab or decimal character. */</div>
<a id="L814" name="L814"></a> 814     <strong class="reserved">static</strong> <strong class="reserved">char</strong>[] tabDecimalChars;
<a id="L815" name="L815"></a> 815 
<a id="L816" name="L816"></a> 816     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L817" name="L817"></a> 817         tabChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[1];
<a id="L818" name="L818"></a> 818         tabChars[0] = '\t';
<a id="L819" name="L819"></a> 819         tabDecimalChars = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[2];
<a id="L820" name="L820"></a> 820         tabDecimalChars[0] = '\t';
<a id="L821" name="L821"></a> 821         tabDecimalChars[1] = '.';
<a id="L822" name="L822"></a> 822     <em class="brace">}</em>
<a id="L823" name="L823"></a> 823 
<div class="comment">
      Internally created view that has the purpose of holding
      the views that represent the children of the paragraph
      that have been arranged in rows.</div>
<a id="L829" name="L829"></a> 829     <strong class="reserved">class</strong> <a href="../R/6750.html" title="Multiple referred from 40 places.">Row</a> <strong class="reserved">extends</strong> <a href="../S/3355.html#L61" title="Defined at 61 in src/javax/swing/text/BoxView.java.">BoxView</a> <em class="brace">{</em>
<a id="L830" name="L830"></a> 830 
<a id="L831" name="L831"></a> 831         Row(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L832" name="L832"></a> 832             <strong class="reserved">super</strong>(elem, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS);
<a id="L833" name="L833"></a> 833         <em class="brace">}</em>
<a id="L834" name="L834"></a> 834 
<div class="comment">
          This is reimplemented to do nothing since the
          paragraph fills in the row with its needed
          children.</div>
<a id="L840" name="L840"></a> 840         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22554.html" title="Multiple referred from 11 places.">loadChildren</a>(<a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L841" name="L841"></a> 841         <em class="brace">}</em>
<a id="L842" name="L842"></a> 842 
<div class="comment">
          Fetches the attributes to use when rendering.  This view
          isn't directly responsible for an element so it returns
          the outer classes attributes.</div>
<a id="L848" name="L848"></a> 848         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L849" name="L849"></a> 849             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> p = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L850" name="L850"></a> 850             <strong class="reserved">return</strong> (p != <strong class="reserved">null</strong>) ? p.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>() : <strong class="reserved">null</strong>;
<a id="L851" name="L851"></a> 851         <em class="brace">}</em>
<a id="L852" name="L852"></a> 852 
<a id="L853" name="L853"></a> 853         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/15009.html" title="Multiple referred from 36 places.">getAlignment</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L854" name="L854"></a> 854             <strong class="reserved">if</strong> (axis == <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS) <em class="brace">{</em>
<a id="L855" name="L855"></a> 855                 <strong class="reserved">switch</strong> (justification) <em class="brace">{</em>
<a id="L856" name="L856"></a> 856                 <strong class="reserved">case</strong> <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_LEFT:
<a id="L857" name="L857"></a> 857                     <strong class="reserved">return</strong> 0;
<a id="L858" name="L858"></a> 858                 <strong class="reserved">case</strong> <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_RIGHT:
<a id="L859" name="L859"></a> 859                     <strong class="reserved">return</strong> 1;
<a id="L860" name="L860"></a> 860                 <strong class="reserved">case</strong> <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_CENTER:
<a id="L861" name="L861"></a> 861                     <strong class="reserved">return</strong> 0.5f;
<a id="L862" name="L862"></a> 862                 <strong class="reserved">case</strong> <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_JUSTIFIED:
<a id="L863" name="L863"></a> 863                     <strong class="reserved">float</strong> rv = 0.5f;
<a id="L864" name="L864"></a> 864                     <em class="comment">//if we can justifiy the content always align to</em>
<a id="L865" name="L865"></a> 865                     <em class="comment">//the left.</em>
<a id="L866" name="L866"></a> 866                     <strong class="reserved">if</strong> (<a href="../S/3255.html#L981" title="Defined at 981 in src/javax/swing/text/ParagraphView.java.">isJustifiableDocument</a>()) <em class="brace">{</em>
<a id="L867" name="L867"></a> 867                         rv = 0f;
<a id="L868" name="L868"></a> 868                     <em class="brace">}</em>
<a id="L869" name="L869"></a> 869                     <strong class="reserved">return</strong> rv;
<a id="L870" name="L870"></a> 870                 <em class="brace">}</em>
<a id="L871" name="L871"></a> 871             <em class="brace">}</em>
<a id="L872" name="L872"></a> 872             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/16863.html" title="Multiple defined in 22 places.">getAlignment</a>(axis);
<a id="L873" name="L873"></a> 873         <em class="brace">}</em>
<a id="L874" name="L874"></a> 874 
<div class="comment">
          Provides a mapping from the document model coordinate space
          to the coordinate space of the view mapped to it.  This is
          implemented to let the superclass find the position along
          the major axis and the allocation of the row is used
          along the minor axis, so that even though the children
          are different heights they all get the same caret height.
          @param pos the position to convert
          @param a the allocated region to render into
          @return the bounding box of the given position
          @exception BadLocationException  if the given position does not represent a
            valid location in the associated document
          @see View#modelToView</div>
<a id="L890" name="L890"></a> 890         <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> pos, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L891" name="L891"></a> 891             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L892" name="L892"></a> 892             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23599.html" title="Multiple defined in 5 places.">getViewAtPosition</a>(pos, r);
<a id="L893" name="L893"></a> 893             <strong class="reserved">if</strong> ((v != <strong class="reserved">null</strong>) &amp;&amp; (!v.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>().<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>())) <em class="brace">{</em>
<a id="L894" name="L894"></a> 894                 <em class="comment">// Don't adjust the height if the view represents a branch.</em>
<a id="L895" name="L895"></a> 895                 <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b);
<a id="L896" name="L896"></a> 896             <em class="brace">}</em>
<a id="L897" name="L897"></a> 897             r = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L898" name="L898"></a> 898             <strong class="reserved">int</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = r.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L899" name="L899"></a> 899             <strong class="reserved">int</strong> y = r.y;
<a id="L900" name="L900"></a> 900             <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> loc = <strong class="reserved">super</strong>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, b);
<a id="L901" name="L901"></a> 901             r = loc.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L902" name="L902"></a> 902             r.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L903" name="L903"></a> 903             r.y = y;
<a id="L904" name="L904"></a> 904             <strong class="reserved">return</strong> r;
<a id="L905" name="L905"></a> 905         <em class="brace">}</em>
<a id="L906" name="L906"></a> 906 
<div class="comment">
          Range represented by a row in the paragraph is only
          a subset of the total range of the paragraph element.
          @see View#getRange</div>
<a id="L912" name="L912"></a> 912         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>() <em class="brace">{</em>
<a id="L913" name="L913"></a> 913             <strong class="reserved">int</strong> offs = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L914" name="L914"></a> 914             <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L915" name="L915"></a> 915             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L916" name="L916"></a> 916                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L917" name="L917"></a> 917                 offs = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(offs, v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>());
<a id="L918" name="L918"></a> 918             <em class="brace">}</em>
<a id="L919" name="L919"></a> 919             <strong class="reserved">return</strong> offs;
<a id="L920" name="L920"></a> 920         <em class="brace">}</em>
<a id="L921" name="L921"></a> 921 
<a id="L922" name="L922"></a> 922         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>() <em class="brace">{</em>
<a id="L923" name="L923"></a> 923             <strong class="reserved">int</strong> offs = 0;
<a id="L924" name="L924"></a> 924             <strong class="reserved">int</strong> n = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L925" name="L925"></a> 925             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L926" name="L926"></a> 926                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L927" name="L927"></a> 927                 offs = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(offs, v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>());
<a id="L928" name="L928"></a> 928             <em class="brace">}</em>
<a id="L929" name="L929"></a> 929             <strong class="reserved">return</strong> offs;
<a id="L930" name="L930"></a> 930         <em class="brace">}</em>
<a id="L931" name="L931"></a> 931 
<div class="comment">
          Perform layout for the minor axis of the box (i.e. the
          axis orthogonal to the axis that it represents).  The results
          of the layout should be placed in the given arrays which represent
          the allocations to the children along the minor axis.
          <p>
          This is implemented to do a baseline layout of the children
          by calling BoxView.baselineLayout.
          @param targetSpan the total span given to the view, which
           would be used to layout the children.
          @param axis the axis being layed out.
          @param offsets the offsets from the origin of the view for
           each of the child views.  This is a return value and is
           filled in by the implementation of this method.
          @param spans the span of each child view.  This is a return
           value and is filled in by the implementation of this method.
          @return the offset and span for each child view in the
           offsets and spans parameters</p></div>
<a id="L952" name="L952"></a> 952         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22444.html" title="Multiple referred from 6 places.">layoutMinorAxis</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong> axis, <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L953" name="L953"></a> 953             <a href="../D/11781.html" title="Multiple defined in 2 places.">baselineLayout</a>(targetSpan, axis, offsets, spans);
<a id="L954" name="L954"></a> 954         <em class="brace">}</em>
<a id="L955" name="L955"></a> 955 
<a id="L956" name="L956"></a> 956         <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10822.html" title="Multiple referred from 8 places.">calculateMinorAxisRequirements</a>(<strong class="reserved">int</strong> axis,
<a id="L957" name="L957"></a> 957                                                                   <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L958" name="L958"></a> 958             <strong class="reserved">return</strong> <a href="../S/3355.html#L1006" title="Defined at 1006 in src/javax/swing/text/BoxView.java.">baselineRequirements</a>(axis, r);
<a id="L959" name="L959"></a> 959         <em class="brace">}</em>
<a id="L960" name="L960"></a> 960 
<a id="L961" name="L961"></a> 961 
<a id="L962" name="L962"></a> 962         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/3255.html#L1000" title="Referred from 1000 in src/javax/swing/text/ParagraphView.java.">isLastRow</a>() <em class="brace">{</em>
<a id="L963" name="L963"></a> 963             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L964" name="L964"></a> 964             <strong class="reserved">return</strong> ((<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>()) == <strong class="reserved">null</strong>
<a id="L965" name="L965"></a> 965                     || <strong class="reserved">this</strong> == <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() - 1));
<a id="L966" name="L966"></a> 966         <em class="brace">}</em>
<a id="L967" name="L967"></a> 967 
<a id="L968" name="L968"></a> 968         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/3255.html#L1003" title="Referred from 1003 in src/javax/swing/text/ParagraphView.java.">isBrokenRow</a>() <em class="brace">{</em>
<a id="L969" name="L969"></a> 969             <strong class="reserved">boolean</strong> rv = <strong class="reserved">false</strong>;
<a id="L970" name="L970"></a> 970             <strong class="reserved">int</strong> viewsCount = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L971" name="L971"></a> 971             <strong class="reserved">if</strong> (viewsCount &gt; 0) <em class="brace">{</em>
<a id="L972" name="L972"></a> 972                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> lastView = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(viewsCount - 1);
<a id="L973" name="L973"></a> 973                 <strong class="reserved">if</strong> (lastView.<a href="../D/17349.html" title="Multiple defined in 6 places.">getBreakWeight</a>(X_AXIS, 0, 0) &gt;=
<a id="L974" name="L974"></a> 974                       ForcedBreakWeight) <em class="brace">{</em>
<a id="L975" name="L975"></a> 975                     rv = <strong class="reserved">true</strong>;
<a id="L976" name="L976"></a> 976                 <em class="brace">}</em>
<a id="L977" name="L977"></a> 977             <em class="brace">}</em>
<a id="L978" name="L978"></a> 978             <strong class="reserved">return</strong> rv;
<a id="L979" name="L979"></a> 979         <em class="brace">}</em>
<a id="L980" name="L980"></a> 980 
<a id="L981" name="L981"></a> 981         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/21625.html" title="Multiple referred from 2 places.">isJustifiableDocument</a>() <em class="brace">{</em>
<a id="L982" name="L982"></a> 982             <strong class="reserved">return</strong> (! <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(
<a id="L983" name="L983"></a> 983                           <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.I18NProperty)));
<a id="L984" name="L984"></a> 984         <em class="brace">}</em>
<a id="L985" name="L985"></a> 985 
<div class="comment">
          Whether we need to justify this <code>Row</code>.
          At this time (jdk1.6) we support justification on for non
          18n text.
          @return <code>true</code> if this <code>Row</code> should be justified.</div>
<a id="L993" name="L993"></a> 993         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/21626.html" title="Multiple referred from 3 places.">isJustifyEnabled</a>() <em class="brace">{</em>
<a id="L994" name="L994"></a> 994             <strong class="reserved">boolean</strong> ret = (justification == <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ALIGN_JUSTIFIED);
<a id="L995" name="L995"></a> 995 
<a id="L996" name="L996"></a> 996             <em class="comment">//no justification for i18n documents</em>
<a id="L997" name="L997"></a> 997             ret = ret &amp;&amp; <a href="../S/3255.html#L981" title="Defined at 981 in src/javax/swing/text/ParagraphView.java.">isJustifiableDocument</a>();
<a id="L998" name="L998"></a> 998 
<a id="L999" name="L999"></a> 999             <em class="comment">//no justification for the last row</em>
<a id="L1000" name="L1000"></a>1000             ret = ret &amp;&amp; ! <a href="../S/3255.html#L962" title="Defined at 962 in src/javax/swing/text/ParagraphView.java.">isLastRow</a>();
<a id="L1001" name="L1001"></a>1001 
<a id="L1002" name="L1002"></a>1002             <em class="comment">//no justification for the broken rows</em>
<a id="L1003" name="L1003"></a>1003             ret = ret &amp;&amp; ! <a href="../S/3255.html#L968" title="Defined at 968 in src/javax/swing/text/ParagraphView.java.">isBrokenRow</a>();
<a id="L1004" name="L1004"></a>1004 
<a id="L1005" name="L1005"></a>1005             <strong class="reserved">return</strong> ret;
<a id="L1006" name="L1006"></a>1006         <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007 
<a id="L1008" name="L1008"></a>1008 
<a id="L1009" name="L1009"></a>1009         <em class="comment">//Calls super method after setting spaceAddon to 0.</em>
<a id="L1010" name="L1010"></a>1010         <em class="comment">//Justification should not affect MajorAxisRequirements</em>
<a id="L1011" name="L1011"></a>1011         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1012" name="L1012"></a>1012         <strong class="reserved">protected</strong> <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> <a href="../R/10814.html" title="Multiple referred from 6 places.">calculateMajorAxisRequirements</a>(<strong class="reserved">int</strong> axis,
<a id="L1013" name="L1013"></a>1013                 <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> r) <em class="brace">{</em>
<a id="L1014" name="L1014"></a>1014             <strong class="reserved">int</strong> oldJustficationData[] = justificationData;
<a id="L1015" name="L1015"></a>1015             justificationData = <strong class="reserved">null</strong>;
<a id="L1016" name="L1016"></a>1016             <a href="../S/3121.html#L96" title="Defined at 96 in src/javax/swing/SizeRequirements.java.">SizeRequirements</a> ret = <strong class="reserved">super</strong>.<a href="../D/12069.html" title="Multiple defined in 7 places.">calculateMajorAxisRequirements</a>(axis, r);
<a id="L1017" name="L1017"></a>1017             <strong class="reserved">if</strong> (<a href="../S/3255.html#L993" title="Defined at 993 in src/javax/swing/text/ParagraphView.java.">isJustifyEnabled</a>()) <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018                 justificationData = oldJustficationData;
<a id="L1019" name="L1019"></a>1019             <em class="brace">}</em>
<a id="L1020" name="L1020"></a>1020             <strong class="reserved">return</strong> ret;
<a id="L1021" name="L1021"></a>1021         <em class="brace">}</em>
<a id="L1022" name="L1022"></a>1022 
<a id="L1023" name="L1023"></a>1023         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1024" name="L1024"></a>1024         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22442.html" title="Multiple referred from 4 places.">layoutMajorAxis</a>(<strong class="reserved">int</strong> targetSpan, <strong class="reserved">int</strong> axis,
<a id="L1025" name="L1025"></a>1025                                        <strong class="reserved">int</strong>[] offsets, <strong class="reserved">int</strong>[] spans) <em class="brace">{</em>
<a id="L1026" name="L1026"></a>1026             <strong class="reserved">int</strong> oldJustficationData[] = justificationData;
<a id="L1027" name="L1027"></a>1027             justificationData = <strong class="reserved">null</strong>;
<a id="L1028" name="L1028"></a>1028             <strong class="reserved">super</strong>.<a href="../D/26778.html" title="Multiple defined in 7 places.">layoutMajorAxis</a>(targetSpan, axis, offsets, spans);
<a id="L1029" name="L1029"></a>1029             <strong class="reserved">if</strong> (! <a href="../S/3255.html#L993" title="Defined at 993 in src/javax/swing/text/ParagraphView.java.">isJustifyEnabled</a>()) <em class="brace">{</em>
<a id="L1030" name="L1030"></a>1030                 <strong class="reserved">return</strong>;
<a id="L1031" name="L1031"></a>1031             <em class="brace">}</em>
<a id="L1032" name="L1032"></a>1032 
<a id="L1033" name="L1033"></a>1033             <strong class="reserved">int</strong> currentSpan = 0;
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> span : spans) <em class="brace">{</em>
<a id="L1035" name="L1035"></a>1035                 currentSpan += span;
<a id="L1036" name="L1036"></a>1036             <em class="brace">}</em>
<a id="L1037" name="L1037"></a>1037             <strong class="reserved">if</strong> (currentSpan == targetSpan) <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038                 <em class="comment">//no need to justify</em>
<a id="L1039" name="L1039"></a>1039                 <strong class="reserved">return</strong>;
<a id="L1040" name="L1040"></a>1040             <em class="brace">}</em>
<a id="L1041" name="L1041"></a>1041 
<a id="L1042" name="L1042"></a>1042             <em class="comment">// we justify text by enlarging spaces by the {@code spaceAddon}.</em>
<a id="L1043" name="L1043"></a>1043             <em class="comment">// justification is started to the right of the rightmost TAB.</em>
<a id="L1044" name="L1044"></a>1044             <em class="comment">// leading and trailing spaces are not extendable.</em>
<a id="L1045" name="L1045"></a>1045             <em class="comment">//</em>
<a id="L1046" name="L1046"></a>1046             <em class="comment">// GlyphPainter1 uses</em>
<a id="L1047" name="L1047"></a>1047             <em class="comment">// justificationData</em>
<a id="L1048" name="L1048"></a>1048             <em class="comment">// for all painting and measurement.</em>
<a id="L1049" name="L1049"></a>1049 
<a id="L1050" name="L1050"></a>1050             <strong class="reserved">int</strong> extendableSpaces = 0;
<a id="L1051" name="L1051"></a>1051             <strong class="reserved">int</strong> startJustifiableContent = -1;
<a id="L1052" name="L1052"></a>1052             <strong class="reserved">int</strong> endJustifiableContent = -1;
<a id="L1053" name="L1053"></a>1053             <strong class="reserved">int</strong> lastLeadingSpaces = 0;
<a id="L1054" name="L1054"></a>1054 
<a id="L1055" name="L1055"></a>1055             <strong class="reserved">int</strong> rowStartOffset = <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1056" name="L1056"></a>1056             <strong class="reserved">int</strong> rowEndOffset = <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1057" name="L1057"></a>1057             <strong class="reserved">int</strong> spaceMap[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[rowEndOffset - rowStartOffset];
<a id="L1058" name="L1058"></a>1058             <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/16028.html" title="Multiple defined in 25 places.">fill</a>(spaceMap, 0);
<a id="L1059" name="L1059"></a>1059             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() - 1; i &gt;= 0 ; i--) <em class="brace">{</em>
<a id="L1060" name="L1060"></a>1060                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> view = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(i);
<a id="L1061" name="L1061"></a>1061                 <strong class="reserved">if</strong> (view <strong class="reserved">instanceof</strong> <a href="../S/3275.html#L65" title="Defined at 65 in src/javax/swing/text/GlyphView.java.">GlyphView</a>) <em class="brace">{</em>
<a id="L1062" name="L1062"></a>1062                     <a href="../S/3275.html#L65" title="Defined at 65 in src/javax/swing/text/GlyphView.java.">GlyphView</a>.<a href="../S/3275.html#L985" title="Defined at 985 in src/javax/swing/text/GlyphView.java.">JustificationInfo</a> justificationInfo =
<a id="L1063" name="L1063"></a>1063                         ((<a href="../S/3275.html#L65" title="Defined at 65 in src/javax/swing/text/GlyphView.java.">GlyphView</a>) view).<a href="../D/19909.html" title="Multiple defined in 2 places.">getJustificationInfo</a>(rowStartOffset);
<a id="L1064" name="L1064"></a>1064                     <strong class="reserved">final</strong> <strong class="reserved">int</strong> viewStartOffset = view.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1065" name="L1065"></a>1065                     <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = viewStartOffset - rowStartOffset;
<a id="L1066" name="L1066"></a>1066                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; justificationInfo.spaceMap.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); j++) <em class="brace">{</em>
<a id="L1067" name="L1067"></a>1067                         <strong class="reserved">if</strong> (justificationInfo.spaceMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(j)) <em class="brace">{</em>
<a id="L1068" name="L1068"></a>1068                             spaceMap[j + <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>] = 1;
<a id="L1069" name="L1069"></a>1069                         <em class="brace">}</em>
<a id="L1070" name="L1070"></a>1070                     <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071                     <strong class="reserved">if</strong> (startJustifiableContent &gt; 0) <em class="brace">{</em>
<a id="L1072" name="L1072"></a>1072                         <strong class="reserved">if</strong> (justificationInfo.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &gt;= 0) <em class="brace">{</em>
<a id="L1073" name="L1073"></a>1073                             extendableSpaces += justificationInfo.trailingSpaces;
<a id="L1074" name="L1074"></a>1074                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075                             lastLeadingSpaces += justificationInfo.trailingSpaces;
<a id="L1076" name="L1076"></a>1076                         <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077                     <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078                     <strong class="reserved">if</strong> (justificationInfo.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &gt;= 0) <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079                         startJustifiableContent =
<a id="L1080" name="L1080"></a>1080                             justificationInfo.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + viewStartOffset;
<a id="L1081" name="L1081"></a>1081                         extendableSpaces += lastLeadingSpaces;
<a id="L1082" name="L1082"></a>1082                     <em class="brace">}</em>
<a id="L1083" name="L1083"></a>1083                     <strong class="reserved">if</strong> (justificationInfo.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &gt;= 0
<a id="L1084" name="L1084"></a>1084                           &amp;&amp; endJustifiableContent &lt; 0) <em class="brace">{</em>
<a id="L1085" name="L1085"></a>1085                         endJustifiableContent =
<a id="L1086" name="L1086"></a>1086                             justificationInfo.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> + viewStartOffset;
<a id="L1087" name="L1087"></a>1087                     <em class="brace">}</em>
<a id="L1088" name="L1088"></a>1088                     extendableSpaces += justificationInfo.contentSpaces;
<a id="L1089" name="L1089"></a>1089                     lastLeadingSpaces = justificationInfo.leadingSpaces;
<a id="L1090" name="L1090"></a>1090                     <strong class="reserved">if</strong> (justificationInfo.hasTab) <em class="brace">{</em>
<a id="L1091" name="L1091"></a>1091                         <strong class="reserved">break</strong>;
<a id="L1092" name="L1092"></a>1092                     <em class="brace">}</em>
<a id="L1093" name="L1093"></a>1093                 <em class="brace">}</em>
<a id="L1094" name="L1094"></a>1094             <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095             <strong class="reserved">if</strong> (extendableSpaces &lt;= 0) <em class="brace">{</em>
<a id="L1096" name="L1096"></a>1096                 <em class="comment">//there is nothing we can do to justify</em>
<a id="L1097" name="L1097"></a>1097                 <strong class="reserved">return</strong>;
<a id="L1098" name="L1098"></a>1098             <em class="brace">}</em>
<a id="L1099" name="L1099"></a>1099             <strong class="reserved">int</strong> adjustment = (targetSpan - currentSpan);
<a id="L1100" name="L1100"></a>1100             <strong class="reserved">int</strong> spaceAddon = (extendableSpaces &gt; 0)
<a id="L1101" name="L1101"></a>1101                 ?  adjustment / extendableSpaces
<a id="L1102" name="L1102"></a>1102                 : 0;
<a id="L1103" name="L1103"></a>1103             <strong class="reserved">int</strong> spaceAddonLeftoverEnd = -1;
<a id="L1104" name="L1104"></a>1104             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = startJustifiableContent - rowStartOffset,
<a id="L1105" name="L1105"></a>1105                      leftover = adjustment - spaceAddon * extendableSpaces;
<a id="L1106" name="L1106"></a>1106                      leftover &gt; 0;
<a id="L1107" name="L1107"></a>1107                      leftover -= spaceMap[i],
<a id="L1108" name="L1108"></a>1108                      i++) <em class="brace">{</em>
<a id="L1109" name="L1109"></a>1109                 spaceAddonLeftoverEnd = i;
<a id="L1110" name="L1110"></a>1110             <em class="brace">}</em>
<a id="L1111" name="L1111"></a>1111             <strong class="reserved">if</strong> (spaceAddon &gt; 0 || spaceAddonLeftoverEnd &gt;= 0) <em class="brace">{</em>
<a id="L1112" name="L1112"></a>1112                 justificationData = (oldJustficationData != <strong class="reserved">null</strong>)
<a id="L1113" name="L1113"></a>1113                     ? oldJustficationData
<a id="L1114" name="L1114"></a>1114                     : <strong class="reserved">new</strong> <strong class="reserved">int</strong>[END_JUSTIFIABLE + 1];
<a id="L1115" name="L1115"></a>1115                 justificationData[SPACE_ADDON] = spaceAddon;
<a id="L1116" name="L1116"></a>1116                 justificationData[SPACE_ADDON_LEFTOVER_END] =
<a id="L1117" name="L1117"></a>1117                     spaceAddonLeftoverEnd;
<a id="L1118" name="L1118"></a>1118                 justificationData[START_JUSTIFIABLE] =
<a id="L1119" name="L1119"></a>1119                     startJustifiableContent - rowStartOffset;
<a id="L1120" name="L1120"></a>1120                 justificationData[END_JUSTIFIABLE] =
<a id="L1121" name="L1121"></a>1121                     endJustifiableContent - rowStartOffset;
<a id="L1122" name="L1122"></a>1122                 <strong class="reserved">super</strong>.<a href="../D/26778.html" title="Multiple defined in 7 places.">layoutMajorAxis</a>(targetSpan, axis, offsets, spans);
<a id="L1123" name="L1123"></a>1123             <em class="brace">}</em>
<a id="L1124" name="L1124"></a>1124         <em class="brace">}</em>
<a id="L1125" name="L1125"></a>1125 
<a id="L1126" name="L1126"></a>1126         <em class="comment">//for justified row we assume the maximum horizontal span</em>
<a id="L1127" name="L1127"></a>1127         <em class="comment">//is MAX_VALUE.</em>
<a id="L1128" name="L1128"></a>1128         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1129" name="L1129"></a>1129         <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17622.html" title="Multiple referred from 43 places.">getMaximumSpan</a>(<strong class="reserved">int</strong> axis) <em class="brace">{</em>
<a id="L1130" name="L1130"></a>1130             <strong class="reserved">float</strong> ret;
<a id="L1131" name="L1131"></a>1131             <strong class="reserved">if</strong> (<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>.X_AXIS == axis
<a id="L1132" name="L1132"></a>1132                   &amp;&amp; <a href="../S/3255.html#L993" title="Defined at 993 in src/javax/swing/text/ParagraphView.java.">isJustifyEnabled</a>()) <em class="brace">{</em>
<a id="L1133" name="L1133"></a>1133                 ret = <a href="../D/3293.html" title="Multiple defined in 10 places.">Float</a>.MAX_VALUE;
<a id="L1134" name="L1134"></a>1134             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1135" name="L1135"></a>1135               ret = <strong class="reserved">super</strong>.<a href="../D/20504.html" title="Multiple defined in 19 places.">getMaximumSpan</a>(axis);
<a id="L1136" name="L1136"></a>1136             <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137             <strong class="reserved">return</strong> ret;
<a id="L1138" name="L1138"></a>1138         <em class="brace">}</em>
<a id="L1139" name="L1139"></a>1139 
<div class="comment">
          Fetches the child view index representing the given position in
          the model.
          @param pos the position &gt;= 0
          @return  index of the view representing the given position, or
            -1 if no view represents that position</div>
<a id="L1148" name="L1148"></a>1148         <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/19809.html" title="Multiple referred from 10 places.">getViewIndexAtPosition</a>(<strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L1149" name="L1149"></a>1149             <em class="comment">// This is expensive, but are views are not necessarily layed</em>
<a id="L1150" name="L1150"></a>1150             <em class="comment">// out in model order.</em>
<a id="L1151" name="L1151"></a>1151             <strong class="reserved">if</strong>(pos &lt; <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() || pos &gt;= <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>())
<a id="L1152" name="L1152"></a>1152                 <strong class="reserved">return</strong> -1;
<a id="L1153" name="L1153"></a>1153             <strong class="reserved">for</strong>(<strong class="reserved">int</strong> counter = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>() - 1; counter &gt;= 0; counter--) <em class="brace">{</em>
<a id="L1154" name="L1154"></a>1154                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(counter);
<a id="L1155" name="L1155"></a>1155                 <strong class="reserved">if</strong>(pos &gt;= v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &amp;&amp;
<a id="L1156" name="L1156"></a>1156                    pos &lt; v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L1157" name="L1157"></a>1157                     <strong class="reserved">return</strong> counter;
<a id="L1158" name="L1158"></a>1158                 <em class="brace">}</em>
<a id="L1159" name="L1159"></a>1159             <em class="brace">}</em>
<a id="L1160" name="L1160"></a>1160             <strong class="reserved">return</strong> -1;
<a id="L1161" name="L1161"></a>1161         <em class="brace">}</em>
<a id="L1162" name="L1162"></a>1162 
<div class="comment">
          Gets the left inset.
          @return the inset</div>
<a id="L1168" name="L1168"></a>1168         <strong class="reserved">protected</strong> <strong class="reserved">short</strong> <a href="../R/17330.html" title="Multiple referred from 23 places.">getLeftInset</a>() <em class="brace">{</em>
<a id="L1169" name="L1169"></a>1169             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> parentView;
<a id="L1170" name="L1170"></a>1170             <strong class="reserved">int</strong> adjustment = 0;
<a id="L1171" name="L1171"></a>1171             <strong class="reserved">if</strong> ((parentView = <a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em> <em class="comment">//use firstLineIdent for the first row</em>
<a id="L1172" name="L1172"></a>1172                 <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == parentView.<a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(0)) <em class="brace">{</em>
<a id="L1173" name="L1173"></a>1173                     adjustment = firstLineIndent;
<a id="L1174" name="L1174"></a>1174                 <em class="brace">}</em>
<a id="L1175" name="L1175"></a>1175             <em class="brace">}</em>
<a id="L1176" name="L1176"></a>1176             <strong class="reserved">return</strong> (<strong class="reserved">short</strong>)(<strong class="reserved">super</strong>.<a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>() + adjustment);
<a id="L1177" name="L1177"></a>1177         <em class="brace">}</em>
<a id="L1178" name="L1178"></a>1178 
<a id="L1179" name="L1179"></a>1179         <strong class="reserved">protected</strong> <strong class="reserved">short</strong> <a href="../R/15313.html" title="Multiple referred from 14 places.">getBottomInset</a>() <em class="brace">{</em>
<a id="L1180" name="L1180"></a>1180             <strong class="reserved">return</strong> (<strong class="reserved">short</strong>)(<strong class="reserved">super</strong>.<a href="../D/17326.html" title="Multiple defined in 3 places.">getBottomInset</a>() +
<a id="L1181" name="L1181"></a>1181                            ((minorRequest != <strong class="reserved">null</strong>) ? minorRequest.preferred : 0) *
<a id="L1182" name="L1182"></a>1182                            lineSpacing);
<a id="L1183" name="L1183"></a>1183         <em class="brace">}</em>
<a id="L1184" name="L1184"></a>1184 
<a id="L1185" name="L1185"></a>1185         <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> SPACE_ADDON = 0;
<a id="L1186" name="L1186"></a>1186         <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> SPACE_ADDON_LEFTOVER_END = 1;
<a id="L1187" name="L1187"></a>1187         <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> START_JUSTIFIABLE = 2;
<a id="L1188" name="L1188"></a>1188         <em class="comment">//this should be the last index in justificationData</em>
<a id="L1189" name="L1189"></a>1189         <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> END_JUSTIFIABLE = 3;
<a id="L1190" name="L1190"></a>1190 
<a id="L1191" name="L1191"></a>1191         <strong class="reserved">int</strong> justificationData[] = <strong class="reserved">null</strong>;
<a id="L1192" name="L1192"></a>1192     <em class="brace">}</em>
<a id="L1193" name="L1193"></a>1193 
<a id="L1194" name="L1194"></a>1194 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L95">[^]</a><a href="#L1179">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>