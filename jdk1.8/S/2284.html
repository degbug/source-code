<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/image/DataBuffer.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L120">[^]</a><a href="#L495">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L120" title="Defined at 120.">getDataTypeSize</a></li>
<li><a href="#L288" title="Defined at 288.">getDataType</a></li>
<li><a href="#L295" title="Defined at 295.">getSize</a></li>
<li><a href="#L302" title="Defined at 302.">getOffset</a></li>
<li><a href="#L309" title="Defined at 309.">getOffsets</a></li>
<li><a href="#L316" title="Defined at 316.">getNumBanks</a></li>
<li><a href="#L328" title="Defined at 328.">getElem</a></li>
<li><a href="#L342" title="Defined at 342.">getElem</a></li>
<li><a href="#L353" title="Defined at 353.">setElem</a></li>
<li><a href="#L367" title="Defined at 367.">setElem</a></li>
<li><a href="#L380" title="Defined at 380.">getElemFloat</a></li>
<li><a href="#L397" title="Defined at 397.">getElemFloat</a></li>
<li><a href="#L412" title="Defined at 412.">setElemFloat</a></li>
<li><a href="#L428" title="Defined at 428.">setElemFloat</a></li>
<li><a href="#L444" title="Defined at 444.">getElemDouble</a></li>
<li><a href="#L460" title="Defined at 460.">getElemDouble</a></li>
<li><a href="#L475" title="Defined at 475.">setElemDouble</a></li>
<li><a href="#L491" title="Defined at 491.">setElemDouble</a></li>
<li><a href="#L495" title="Defined at 495.">toIntArray</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
 ****************************************************************
 *****************************************************************
 *****************************************************************
 ** COPYRIGHT (c) Eastman Kodak Company, 1997
 ** As  an unpublished  work pursuant to Title 17 of the United
 ** States Code.  All rights reserved.
 *****************************************************************
 *****************************************************************
 *****************************************************************</div>
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.image;
<a id="L37" name="L37"></a>  37 
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> sun.java2d.StateTrackable.State;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> static sun.java2d.StateTrackable.State.*;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> sun.java2d.StateTrackableDelegate;
<a id="L41" name="L41"></a>  41 
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> sun.awt.image.SunWritableRaster;
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.lang.annotation.Native;
<a id="L45" name="L45"></a>  45 
<div class="comment">
  This class exists to wrap one or more data arrays.  Each data array in
  the DataBuffer is referred to as a bank.  Accessor methods for getting
  and setting elements of the DataBuffer's banks exist with and without
  a bank specifier.  The methods without a bank specifier use the default 0th
  bank.  The DataBuffer can optionally take an offset per bank, so that
  data in an existing array can be used even if the interesting data
  doesn't start at array location zero.  Getting or setting the 0th
  element of a bank, uses the (0+offset)th element of the array.  The
  size field specifies how much of the data array is available for
  use.  Size + offset for a given bank should never be greater
  than the length of the associated data array.  The data type of
  a data buffer indicates the type of the data array(s) and may also
  indicate additional semantics, e.g. storing unsigned 8-bit data
  in elements of a byte array.  The data type may be TYPE_UNDEFINED
  or one of the types defined below.  Other types may be added in
  the future.  Generally, an object of class DataBuffer will be cast down
  to one of its data type specific subclasses to access data type specific
  methods for improved performance.  Currently, the Java 2D(tm) API
  image classes use TYPE_BYTE, TYPE_USHORT, TYPE_INT, TYPE_SHORT,
  TYPE_FLOAT, and TYPE_DOUBLE DataBuffers to store image data.
  @see java.awt.image.Raster
  @see java.awt.image.SampleModel</div>
<a id="L70" name="L70"></a>  70 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/1988.html" title="Multiple referred from 540 places.">DataBuffer</a> <em class="brace">{</em>
<a id="L71" name="L71"></a>  71 
<div class="comment">
     /** Tag for unsigned byte data. */</div>
<a id="L73" name="L73"></a>  73     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_BYTE  = 0;
<a id="L74" name="L74"></a>  74 
<div class="comment">
     /** Tag for unsigned short data. */</div>
<a id="L76" name="L76"></a>  76     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_USHORT = 1;
<a id="L77" name="L77"></a>  77 
<div class="comment">
     /** Tag for signed short data.  Placeholder for future use. */</div>
<a id="L79" name="L79"></a>  79     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_SHORT = 2;
<a id="L80" name="L80"></a>  80 
<div class="comment">
     /** Tag for int data. */</div>
<a id="L82" name="L82"></a>  82     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_INT   = 3;
<a id="L83" name="L83"></a>  83 
<div class="comment">
     /** Tag for float data.  Placeholder for future use. */</div>
<a id="L85" name="L85"></a>  85     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_FLOAT  = 4;
<a id="L86" name="L86"></a>  86 
<div class="comment">
     /** Tag for double data.  Placeholder for future use. */</div>
<a id="L88" name="L88"></a>  88     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_DOUBLE  = 5;
<a id="L89" name="L89"></a>  89 
<div class="comment">
     /** Tag for undefined data. */</div>
<a id="L91" name="L91"></a>  91     @<a href="../S/1712.html#L42" title="Defined at 42 in src/java/lang/annotation/Native.java.">Native</a> <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TYPE_UNDEFINED = 32;
<a id="L92" name="L92"></a>  92 
<div class="comment">
     /** The data type of this DataBuffer. */</div>
<a id="L94" name="L94"></a>  94     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> dataType;
<a id="L95" name="L95"></a>  95 
<div class="comment">
     /** The number of banks in this DataBuffer. */</div>
<a id="L97" name="L97"></a>  97     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> banks;
<a id="L98" name="L98"></a>  98 
<div class="comment">
     /** Offset into default (first) bank from which to get the first element. */</div>
<a id="L100" name="L100"></a> 100     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L101" name="L101"></a> 101 
<div class="comment">
     /** Usable size of all banks. */</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L104" name="L104"></a> 104 
<div class="comment">
     /** Offsets into all banks. */</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> offsets[];
<a id="L107" name="L107"></a> 107 
<div class="comment">
     /* The current StateTrackable state. */</div>
<a id="L109" name="L109"></a> 109     StateTrackableDelegate theTrackable;
<a id="L110" name="L110"></a> 110 
<div class="comment">
     /** Size of the data types indexed by DataType tags defined above. */</div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> dataTypeSize[] = <em class="brace">{</em>8,16,16,32,32,64<em class="brace">}</em>;
<a id="L113" name="L113"></a> 113 
<div class="comment">
 Returns the size (in bits) of the data type, given a datatype tag.
       @param type the value of one of the defined datatype tags
       @return the size of the data type
       @throws IllegalArgumentException if <code>type</code> is less than
               zero or greater than {@link #TYPE_DOUBLE}</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/15954.html" title="Multiple referred from 17 places.">getDataTypeSize</a>(<strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L121" name="L121"></a> 121         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> &lt; TYPE_BYTE || <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> &gt; TYPE_DOUBLE) <em class="brace">{</em>
<a id="L122" name="L122"></a> 122             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Unknown data type "+<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L123" name="L123"></a> 123         <em class="brace">}</em>
<a id="L124" name="L124"></a> 124         <strong class="reserved">return</strong> dataTypeSize[<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>];
<a id="L125" name="L125"></a> 125     <em class="brace">}</em>
<a id="L126" name="L126"></a> 126 
<div class="comment">
       Constructs a DataBuffer containing one bank of the specified
       data type and size.
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks</div>
<a id="L134" name="L134"></a> 134     <strong class="reserved">protected</strong> DataBuffer(<strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L135" name="L135"></a> 135         <strong class="reserved">this</strong>(UNTRACKABLE, dataType, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L136" name="L136"></a> 136     <em class="brace">}</em>
<a id="L137" name="L137"></a> 137 
<div class="comment">
       Constructs a DataBuffer containing one bank of the specified
       data type and size with the indicated initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.
       @param initialState the initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> state of the data
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks
       @since 1.7</div>
<a id="L147" name="L147"></a> 147     DataBuffer(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> initialState,
<a id="L148" name="L148"></a> 148                <strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)
<a id="L149" name="L149"></a> 149     <em class="brace">{</em>
<a id="L150" name="L150"></a> 150         <strong class="reserved">this</strong>.theTrackable = StateTrackableDelegate.<a href="../D/13970.html" title="Multiple defined in 4 places.">createInstance</a>(initialState);
<a id="L151" name="L151"></a> 151         <strong class="reserved">this</strong>.dataType = dataType;
<a id="L152" name="L152"></a> 152         <strong class="reserved">this</strong>.banks = 1;
<a id="L153" name="L153"></a> 153         <strong class="reserved">this</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L154" name="L154"></a> 154         <strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = 0;
<a id="L155" name="L155"></a> 155         <strong class="reserved">this</strong>.offsets = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[1];  <em class="comment">// init to 0 by new</em>
<a id="L156" name="L156"></a> 156     <em class="brace">}</em>
<a id="L157" name="L157"></a> 157 
<div class="comment">
       Constructs a DataBuffer containing the specified number of
       banks.  Each bank has the specified size and an offset of 0.
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks
       @param numBanks the number of banks in this
              <code>DataBuffer</code></div>
<a id="L167" name="L167"></a> 167     <strong class="reserved">protected</strong> DataBuffer(<strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> numBanks) <em class="brace">{</em>
<a id="L168" name="L168"></a> 168         <strong class="reserved">this</strong>(UNTRACKABLE, dataType, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, numBanks);
<a id="L169" name="L169"></a> 169     <em class="brace">}</em>
<a id="L170" name="L170"></a> 170 
<div class="comment">
       Constructs a DataBuffer containing the specified number of
       banks with the indicated initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.
       Each bank has the specified size and an offset of 0.
       @param initialState the initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> state of the data
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks
       @param numBanks the number of banks in this
              <code>DataBuffer</code>
       @since 1.7</div>
<a id="L183" name="L183"></a> 183     DataBuffer(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> initialState,
<a id="L184" name="L184"></a> 184                <strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> numBanks)
<a id="L185" name="L185"></a> 185     <em class="brace">{</em>
<a id="L186" name="L186"></a> 186         <strong class="reserved">this</strong>.theTrackable = StateTrackableDelegate.<a href="../D/13970.html" title="Multiple defined in 4 places.">createInstance</a>(initialState);
<a id="L187" name="L187"></a> 187         <strong class="reserved">this</strong>.dataType = dataType;
<a id="L188" name="L188"></a> 188         <strong class="reserved">this</strong>.banks = numBanks;
<a id="L189" name="L189"></a> 189         <strong class="reserved">this</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L190" name="L190"></a> 190         <strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = 0;
<a id="L191" name="L191"></a> 191         <strong class="reserved">this</strong>.offsets = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[banks]; <em class="comment">// init to 0 by new</em>
<a id="L192" name="L192"></a> 192     <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<div class="comment">
       Constructs a DataBuffer that contains the specified number
       of banks.  Each bank has the specified datatype, size and offset.
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks
       @param numBanks the number of banks in this
              <code>DataBuffer</code>
       @param offset the offset for each bank</div>
<a id="L204" name="L204"></a> 204     <strong class="reserved">protected</strong> DataBuffer(<strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> numBanks, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L205" name="L205"></a> 205         <strong class="reserved">this</strong>(UNTRACKABLE, dataType, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, numBanks, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L206" name="L206"></a> 206     <em class="brace">}</em>
<a id="L207" name="L207"></a> 207 
<div class="comment">
       Constructs a DataBuffer that contains the specified number
       of banks with the indicated initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.
       Each bank has the specified datatype, size and offset.
       @param initialState the initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> state of the data
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks
       @param numBanks the number of banks in this
              <code>DataBuffer</code>
       @param offset the offset for each bank
       @since 1.7</div>
<a id="L221" name="L221"></a> 221     DataBuffer(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> initialState,
<a id="L222" name="L222"></a> 222                <strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> numBanks, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>)
<a id="L223" name="L223"></a> 223     <em class="brace">{</em>
<a id="L224" name="L224"></a> 224         <strong class="reserved">this</strong>.theTrackable = StateTrackableDelegate.<a href="../D/13970.html" title="Multiple defined in 4 places.">createInstance</a>(initialState);
<a id="L225" name="L225"></a> 225         <strong class="reserved">this</strong>.dataType = dataType;
<a id="L226" name="L226"></a> 226         <strong class="reserved">this</strong>.banks = numBanks;
<a id="L227" name="L227"></a> 227         <strong class="reserved">this</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L228" name="L228"></a> 228         <strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L229" name="L229"></a> 229         <strong class="reserved">this</strong>.offsets = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numBanks];
<a id="L230" name="L230"></a> 230         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; numBanks; i++) <em class="brace">{</em>
<a id="L231" name="L231"></a> 231             <strong class="reserved">this</strong>.offsets[i] = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L232" name="L232"></a> 232         <em class="brace">}</em>
<a id="L233" name="L233"></a> 233     <em class="brace">}</em>
<a id="L234" name="L234"></a> 234 
<div class="comment">
       Constructs a DataBuffer which contains the specified number
       of banks.  Each bank has the specified datatype and size.  The
       offset for each bank is specified by its respective entry in
       the offsets array.
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks
       @param numBanks the number of banks in this
              <code>DataBuffer</code>
       @param offsets an array containing an offset for each bank.
       @throws ArrayIndexOutOfBoundsException if <code>numBanks</code>
               does not equal the length of <code>offsets</code></div>
<a id="L249" name="L249"></a> 249     <strong class="reserved">protected</strong> DataBuffer(<strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> numBanks, <strong class="reserved">int</strong> offsets[]) <em class="brace">{</em>
<a id="L250" name="L250"></a> 250         <strong class="reserved">this</strong>(UNTRACKABLE, dataType, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, numBanks, offsets);
<a id="L251" name="L251"></a> 251     <em class="brace">}</em>
<a id="L252" name="L252"></a> 252 
<div class="comment">
       Constructs a DataBuffer which contains the specified number
       of banks with the indicated initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a>.
       Each bank has the specified datatype and size.  The
       offset for each bank is specified by its respective entry in
       the offsets array.
       @param initialState the initial <a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> state of the data
       @param dataType the data type of this <code>DataBuffer</code>
       @param size the size of the banks
       @param numBanks the number of banks in this
              <code>DataBuffer</code>
       @param offsets an array containing an offset for each bank.
       @throws ArrayIndexOutOfBoundsException if <code>numBanks</code>
               does not equal the length of <code>offsets</code>
       @since 1.7</div>
<a id="L270" name="L270"></a> 270     DataBuffer(<a href="../D/8356.html" title="Multiple defined in 12 places.">State</a> initialState,
<a id="L271" name="L271"></a> 271                <strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>, <strong class="reserved">int</strong> numBanks, <strong class="reserved">int</strong> offsets[])
<a id="L272" name="L272"></a> 272     <em class="brace">{</em>
<a id="L273" name="L273"></a> 273         <strong class="reserved">if</strong> (numBanks != offsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>("Number of banks" +
<a id="L275" name="L275"></a> 275                  " does not match number of bank offsets");
<a id="L276" name="L276"></a> 276         <em class="brace">}</em>
<a id="L277" name="L277"></a> 277         <strong class="reserved">this</strong>.theTrackable = StateTrackableDelegate.<a href="../D/13970.html" title="Multiple defined in 4 places.">createInstance</a>(initialState);
<a id="L278" name="L278"></a> 278         <strong class="reserved">this</strong>.dataType = dataType;
<a id="L279" name="L279"></a> 279         <strong class="reserved">this</strong>.banks = numBanks;
<a id="L280" name="L280"></a> 280         <strong class="reserved">this</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L281" name="L281"></a> 281         <strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = offsets[0];
<a id="L282" name="L282"></a> 282         <strong class="reserved">this</strong>.offsets = (<strong class="reserved">int</strong>[])offsets.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L283" name="L283"></a> 283     <em class="brace">}</em>
<a id="L284" name="L284"></a> 284 
<div class="comment">
  Returns the data type of this DataBuffer.
        @return the data type of this <code>DataBuffer</code>.</div>
<a id="L288" name="L288"></a> 288     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15953.html" title="Multiple referred from 29 places.">getDataType</a>() <em class="brace">{</em>
<a id="L289" name="L289"></a> 289         <strong class="reserved">return</strong> dataType;
<a id="L290" name="L290"></a> 290     <em class="brace">}</em>
<a id="L291" name="L291"></a> 291 
<div class="comment">
  Returns the size (in array elements) of all banks.
        @return the size of all banks.</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19054.html" title="Multiple referred from 291 places.">getSize</a>() <em class="brace">{</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L297" name="L297"></a> 297     <em class="brace">}</em>
<a id="L298" name="L298"></a> 298 
<div class="comment">
 Returns the offset of the default bank in array elements.
       @return the offset of the default bank.</div>
<a id="L302" name="L302"></a> 302     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>() <em class="brace">{</em>
<a id="L303" name="L303"></a> 303         <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L304" name="L304"></a> 304     <em class="brace">}</em>
<a id="L305" name="L305"></a> 305 
<div class="comment">
 Returns the offsets (in array elements) of all the banks.
       @return the offsets of all banks.</div>
<a id="L309" name="L309"></a> 309     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/18119.html" title="Multiple referred from 6 places.">getOffsets</a>() <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>[])offsets.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L311" name="L311"></a> 311     <em class="brace">}</em>
<a id="L312" name="L312"></a> 312 
<div class="comment">
 Returns the number of banks in this DataBuffer.
       @return the number of banks.</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18033.html" title="Multiple referred from 2 places.">getNumBanks</a>() <em class="brace">{</em>
<a id="L317" name="L317"></a> 317         <strong class="reserved">return</strong> banks;
<a id="L318" name="L318"></a> 318     <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<div class="comment">
      Returns the requested data array element from the first (default) bank
      as an integer.
      @param i the index of the requested data array element
      @return the data array element at the specified index.
      @see #setElem(int, int)
      @see #setElem(int, int, int)</div>
<a id="L328" name="L328"></a> 328     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16305.html" title="Multiple referred from 38 places.">getElem</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L329" name="L329"></a> 329         <strong class="reserved">return</strong> <a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(0,i);
<a id="L330" name="L330"></a> 330     <em class="brace">}</em>
<a id="L331" name="L331"></a> 331 
<div class="comment">
      Returns the requested data array element from the specified bank
      as an integer.
      @param bank the specified bank
      @param i the index of the requested data array element
      @return the data array element at the specified index from the
              specified bank at the specified index.
      @see #setElem(int, int)
      @see #setElem(int, int, int)</div>
<a id="L342" name="L342"></a> 342     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/16305.html" title="Multiple referred from 38 places.">getElem</a>(<strong class="reserved">int</strong> bank, <strong class="reserved">int</strong> i);
<a id="L343" name="L343"></a> 343 
<div class="comment">
      Sets the requested data array element in the first (default) bank
      from the given integer.
      @param i the specified index into the data array
      @param val the data to set the element at the specified index in
      the data array
      @see #getElem(int)
      @see #getElem(int, int)</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">public</strong> <strong class="reserved">void</strong>  <a href="../R/27308.html" title="Multiple referred from 31 places.">setElem</a>(<strong class="reserved">int</strong> i, <strong class="reserved">int</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(0,i,<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L355" name="L355"></a> 355     <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Sets the requested data array element in the specified bank
      from the given integer.
      @param bank the specified bank
      @param i the specified index into the data array
      @param val  the data to set the element in the specified bank
      at the specified index in the data array
      @see #getElem(int)
      @see #getElem(int, int)</div>
<a id="L367" name="L367"></a> 367     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/27308.html" title="Multiple referred from 31 places.">setElem</a>(<strong class="reserved">int</strong> bank, <strong class="reserved">int</strong> i, <strong class="reserved">int</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L368" name="L368"></a> 368 
<div class="comment">
      Returns the requested data array element from the first (default) bank
      as a float.  The implementation in this class is to cast getElem(i)
      to a float.  Subclasses may override this method if another
      implementation is needed.
      @param i the index of the requested data array element
      @return a float value representing the data array element at the
       specified index.
      @see #setElemFloat(int, float)
      @see #setElemFloat(int, int, float)</div>
<a id="L380" name="L380"></a> 380     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/16309.html" title="Multiple referred from 4 places.">getElemFloat</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381         <strong class="reserved">return</strong> (<strong class="reserved">float</strong>)<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(i);
<a id="L382" name="L382"></a> 382     <em class="brace">}</em>
<a id="L383" name="L383"></a> 383 
<div class="comment">
      Returns the requested data array element from the specified bank
      as a float.  The implementation in this class is to cast
      {@link #getElem(int, int)}
      to a float.  Subclasses can override this method if another
      implementation is needed.
      @param bank the specified bank
      @param i the index of the requested data array element
      @return a float value representing the data array element from the
      specified bank at the specified index.
      @see #setElemFloat(int, float)
      @see #setElemFloat(int, int, float)</div>
<a id="L397" name="L397"></a> 397     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/16309.html" title="Multiple referred from 4 places.">getElemFloat</a>(<strong class="reserved">int</strong> bank, <strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L398" name="L398"></a> 398         <strong class="reserved">return</strong> (<strong class="reserved">float</strong>)<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(bank,i);
<a id="L399" name="L399"></a> 399     <em class="brace">}</em>
<a id="L400" name="L400"></a> 400 
<div class="comment">
      Sets the requested data array element in the first (default) bank
      from the given float.  The implementation in this class is to cast
      val to an int and call {@link #setElem(int, int)}.  Subclasses
      can override this method if another implementation is needed.
      @param i the specified index
      @param val the value to set the element at the specified index in
      the data array
      @see #getElemFloat(int)
      @see #getElemFloat(int, int)</div>
<a id="L412" name="L412"></a> 412     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27310.html" title="Multiple referred from 4 places.">setElemFloat</a>(<strong class="reserved">int</strong> i, <strong class="reserved">float</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413         <a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(i,(<strong class="reserved">int</strong>)<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L414" name="L414"></a> 414     <em class="brace">}</em>
<a id="L415" name="L415"></a> 415 
<div class="comment">
      Sets the requested data array element in the specified bank
      from the given float.  The implementation in this class is to cast
      val to an int and call {@link #setElem(int, int)}.  Subclasses can
      override this method if another implementation is needed.
      @param bank the specified bank
      @param i the specified index
      @param val the value to set the element in the specified bank at
      the specified index in the data array
      @see #getElemFloat(int)
      @see #getElemFloat(int, int)</div>
<a id="L428" name="L428"></a> 428     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27310.html" title="Multiple referred from 4 places.">setElemFloat</a>(<strong class="reserved">int</strong> bank, <strong class="reserved">int</strong> i, <strong class="reserved">float</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429         <a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(bank,i,(<strong class="reserved">int</strong>)<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L430" name="L430"></a> 430     <em class="brace">}</em>
<a id="L431" name="L431"></a> 431 
<div class="comment">
      Returns the requested data array element from the first (default) bank
      as a double.  The implementation in this class is to cast
      {@link #getElem(int)}
      to a double.  Subclasses can override this method if another
      implementation is needed.
      @param i the specified index
      @return a double value representing the element at the specified
      index in the data array.
      @see #setElemDouble(int, double)
      @see #setElemDouble(int, int, double)</div>
<a id="L444" name="L444"></a> 444     <strong class="reserved">public</strong> <strong class="reserved">double</strong> <a href="../R/16308.html" title="Multiple referred from 4 places.">getElemDouble</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">return</strong> (<strong class="reserved">double</strong>)<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(i);
<a id="L446" name="L446"></a> 446     <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<div class="comment">
      Returns the requested data array element from the specified bank as
      a double.  The implementation in this class is to cast getElem(bank, i)
      to a double.  Subclasses may override this method if another
      implementation is needed.
      @param bank the specified bank
      @param i the specified index
      @return a double value representing the element from the specified
      bank at the specified index in the data array.
      @see #setElemDouble(int, double)
      @see #setElemDouble(int, int, double)</div>
<a id="L460" name="L460"></a> 460     <strong class="reserved">public</strong> <strong class="reserved">double</strong> <a href="../R/16308.html" title="Multiple referred from 4 places.">getElemDouble</a>(<strong class="reserved">int</strong> bank, <strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">return</strong> (<strong class="reserved">double</strong>)<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(bank,i);
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      Sets the requested data array element in the first (default) bank
      from the given double.  The implementation in this class is to cast
      val to an int and call {@link #setElem(int, int)}.  Subclasses can
      override this method if another implementation is needed.
      @param i the specified index
      @param val the value to set the element at the specified index
      in the data array
      @see #getElemDouble(int)
      @see #getElemDouble(int, int)</div>
<a id="L475" name="L475"></a> 475     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27309.html" title="Multiple referred from 4 places.">setElemDouble</a>(<strong class="reserved">int</strong> i, <strong class="reserved">double</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>) <em class="brace">{</em>
<a id="L476" name="L476"></a> 476         <a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(i,(<strong class="reserved">int</strong>)<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L477" name="L477"></a> 477     <em class="brace">}</em>
<a id="L478" name="L478"></a> 478 
<div class="comment">
      Sets the requested data array element in the specified bank
      from the given double.  The implementation in this class is to cast
      val to an int and call {@link #setElem(int, int)}.  Subclasses can
      override this method if another implementation is needed.
      @param bank the specified bank
      @param i the specified index
      @param val the value to set the element in the specified bank
      at the specified index of the data array
      @see #getElemDouble(int)
      @see #getElemDouble(int, int)</div>
<a id="L491" name="L491"></a> 491     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27309.html" title="Multiple referred from 4 places.">setElemDouble</a>(<strong class="reserved">int</strong> bank, <strong class="reserved">int</strong> i, <strong class="reserved">double</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>) <em class="brace">{</em>
<a id="L492" name="L492"></a> 492         <a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(bank,i,(<strong class="reserved">int</strong>)<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>);
<a id="L493" name="L493"></a> 493     <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495     <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] <a href="../R/29272.html" title="Multiple referred from 3 places.">toIntArray</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L496" name="L496"></a> 496         <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <strong class="reserved">int</strong>[]) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497             <strong class="reserved">return</strong> (<strong class="reserved">int</strong>[])obj;
<a id="L498" name="L498"></a> 498         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L499" name="L499"></a> 499             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L500" name="L500"></a> 500         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <strong class="reserved">short</strong>[]) <em class="brace">{</em>
<a id="L501" name="L501"></a> 501             <strong class="reserved">short</strong> sdata[] = (<strong class="reserved">short</strong>[])obj;
<a id="L502" name="L502"></a> 502             <strong class="reserved">int</strong> idata[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[sdata.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L503" name="L503"></a> 503             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; sdata.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504                 idata[i] = (<strong class="reserved">int</strong>)sdata[i] &amp; 0xffff;
<a id="L505" name="L505"></a> 505             <em class="brace">}</em>
<a id="L506" name="L506"></a> 506             <strong class="reserved">return</strong> idata;
<a id="L507" name="L507"></a> 507         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <strong class="reserved">byte</strong>[]) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508             <strong class="reserved">byte</strong> bdata[] = (<strong class="reserved">byte</strong>[])obj;
<a id="L509" name="L509"></a> 509             <strong class="reserved">int</strong> idata[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[bdata.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L510" name="L510"></a> 510             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; bdata.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511                 idata[i] = 0xff &amp; (<strong class="reserved">int</strong>)bdata[i];
<a id="L512" name="L512"></a> 512             <em class="brace">}</em>
<a id="L513" name="L513"></a> 513             <strong class="reserved">return</strong> idata;
<a id="L514" name="L514"></a> 514         <em class="brace">}</em>
<a id="L515" name="L515"></a> 515         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<a id="L518" name="L518"></a> 518     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L519" name="L519"></a> 519         SunWritableRaster.setDataStealer(<strong class="reserved">new</strong> SunWritableRaster.DataStealer() <em class="brace">{</em>
<a id="L520" name="L520"></a> 520             <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] <a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>(<a href="../S/2266.html#L60" title="Defined at 60 in src/java/awt/image/DataBufferByte.java.">DataBufferByte</a> dbb, <strong class="reserved">int</strong> bank) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521                 <strong class="reserved">return</strong> dbb.bankdata[bank];
<a id="L522" name="L522"></a> 522             <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<a id="L524" name="L524"></a> 524             <strong class="reserved">public</strong> <strong class="reserved">short</strong>[] <a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>(<a href="../S/2259.html#L60" title="Defined at 60 in src/java/awt/image/DataBufferUShort.java.">DataBufferUShort</a> dbus, <strong class="reserved">int</strong> bank) <em class="brace">{</em>
<a id="L525" name="L525"></a> 525                 <strong class="reserved">return</strong> dbus.bankdata[bank];
<a id="L526" name="L526"></a> 526             <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<a id="L528" name="L528"></a> 528             <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>(<a href="../S/2243.html#L59" title="Defined at 59 in src/java/awt/image/DataBufferInt.java.">DataBufferInt</a> dbi, <strong class="reserved">int</strong> bank) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529                 <strong class="reserved">return</strong> dbi.bankdata[bank];
<a id="L530" name="L530"></a> 530             <em class="brace">}</em>
<a id="L531" name="L531"></a> 531 
<a id="L532" name="L532"></a> 532             <strong class="reserved">public</strong> StateTrackableDelegate getTrackable(<a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> db) <em class="brace">{</em>
<a id="L533" name="L533"></a> 533                 <strong class="reserved">return</strong> db.theTrackable;
<a id="L534" name="L534"></a> 534             <em class="brace">}</em>
<a id="L535" name="L535"></a> 535 
<a id="L536" name="L536"></a> 536             <strong class="reserved">public</strong> <strong class="reserved">void</strong> setTrackable(<a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> db,
<a id="L537" name="L537"></a> 537                                      StateTrackableDelegate trackable)
<a id="L538" name="L538"></a> 538             <em class="brace">{</em>
<a id="L539" name="L539"></a> 539                 db.theTrackable = trackable;
<a id="L540" name="L540"></a> 540             <em class="brace">}</em>
<a id="L541" name="L541"></a> 541         <em class="brace">}</em>);
<a id="L542" name="L542"></a> 542     <em class="brace">}</em>
<a id="L543" name="L543"></a> 543 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L120">[^]</a><a href="#L495">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>