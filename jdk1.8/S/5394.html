<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L196">[^]</a><a href="#L2017">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L196" title="Defined at 196.">getSign</a></li>
<li><a href="#L207" title="Defined at 207.">calcSignum</a></li>
<li><a href="#L290" title="Defined at 290.">testNonNegative</a></li>
<li><a href="#L305" title="Defined at 305.">testNonNegative</a></li>
<li><a href="#L352" title="Defined at 352.">wrap</a></li>
<li><a href="#L545" title="Defined at 545.">isDigit</a></li>
<li><a href="#L556" title="Defined at 556.">isDigitOrPeriod</a></li>
<li><a href="#L570" title="Defined at 570.">parsePiece</a></li>
<li><a href="#L597" title="Defined at 597.">organizeParts</a></li>
<li><a href="#L639" title="Defined at 639.">parseBigInteger</a></li>
<li><a href="#L666" title="Defined at 666.">parseBigDecimal</a></li>
<li><a href="#L723" title="Defined at 723.">compare</a></li>
<li><a href="#L911" title="Defined at 911.">compareDates</a></li>
<li><a href="#L960" title="Defined at 960.">compareResults</a></li>
<li><a href="#L976" title="Defined at 976.">hashCode</a></li>
<li><a href="#L1002" title="Defined at 1002.">toString</a></li>
<li><a href="#L1045" title="Defined at 1045.">toString</a></li>
<li><a href="#L1087" title="Defined at 1087.">isSet</a></li>
<li><a href="#L1152" title="Defined at 1152.">getField</a></li>
<li><a href="#L1219" title="Defined at 1219.">getYears</a></li>
<li><a href="#L1232" title="Defined at 1232.">getMonths</a></li>
<li><a href="#L1245" title="Defined at 1245.">getDays</a></li>
<li><a href="#L1259" title="Defined at 1259.">getHours</a></li>
<li><a href="#L1273" title="Defined at 1273.">getMinutes</a></li>
<li><a href="#L1288" title="Defined at 1288.">getSeconds</a></li>
<li><a href="#L1301" title="Defined at 1301.">getInt</a></li>
<li><a href="#L1340" title="Defined at 1340.">getTimeInMillis</a></li>
<li><a href="#L1378" title="Defined at 1378.">getTimeInMillis</a></li>
<li><a href="#L1439" title="Defined at 1439.">normalizeWith</a></li>
<li><a href="#L1479" title="Defined at 1479.">multiply</a></li>
<li><a href="#L1530" title="Defined at 1530.">multiply</a></li>
<li><a href="#L1580" title="Defined at 1580.">getFieldAsBigDecimal</a></li>
<li><a href="#L1605" title="Defined at 1605.">toBigInteger</a></li>
<li><a href="#L1677" title="Defined at 1677.">add</a></li>
<li><a href="#L1726" title="Defined at 1726.">alignSigns</a></li>
<li><a href="#L1767" title="Defined at 1767.">sanitize</a></li>
<li><a href="#L1785" title="Defined at 1785.">sanitize</a></li>
<li><a href="#L1844" title="Defined at 1844.">subtract</a></li>
<li><a href="#L1860" title="Defined at 1860.">negate</a></li>
<li><a href="#L1878" title="Defined at 1878.">signum</a></li>
<li><a href="#L1922" title="Defined at 1922.">addTo</a></li>
<li><a href="#L1959" title="Defined at 1959.">addTo</a></li>
<li><a href="#L1982" title="Defined at 1982.">writeReplace</a></li>
<li><a href="#L1998" title="Defined at 1998.">readResolve</a></li>
<li><a href="#L2017" title="Defined at 2017.">getCalendarTimeInMillis</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.jaxp.datatype;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.io.IOException;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.io.ObjectStreamException;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.math.BigDecimal;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.math.BigInteger;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.Calendar;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Date;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.GregorianCalendar;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.TimeZone;
<a id="L32" name="L32"></a>  32 
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.xml.datatype.DatatypeConstants;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.xml.datatype.Duration;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.xml.datatype.XMLGregorianCalendar;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.DatatypeMessageFormatter;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  <p>Immutable representation of a time span as defined in
  the W3C XML Schema 1.0 specification.</p>
  <p>A Duration object represents a period of Gregorian time,
  which consists of six fields (years, months, days, hours,
  minutes, and seconds) plus a sign (+/-) field.</p>
  <p>The first five fields have non-negative (&gt;=0) integers or null
  (which represents that the field is not set),
  and the seconds field has a non-negative decimal or null.
  A negative sign indicates a negative duration.</p>
  <p>This class provides a number of methods that make it easy
  to use for the duration datatype of XML Schema 1.0 with
  the errata.</p>
  <h2>Order relationship</h2>
  <p>Duration objects only have partial order, where two values A and B
  maybe either:</p>
  <ol>
   <li>A&lt;B (A is shorter than B)
   </li><li>A&gt;B (A is longer than B)
   </li><li>A==B   (A and B are of the same duration)
   </li><li>A&lt;&gt;B (Comparison between A and B is indeterminate)
  </li></ol>
  <p>For example, 30 days cannot be meaningfully compared to one month.
  The {@link #compare(Duration)} method implements this
  relationship.</p>
  <p>See the {@link #isLongerThan(Duration)} method for details about
  the order relationship among <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> objects.</p>
  <h2>Operations over Duration</h2>
  <p>This class provides a set of basic arithmetic operations, such
  as addition, subtraction and multiplication.
  Because durations don't have total order, an operation could
  fail for some combinations of operations. For example, you cannot
  subtract 15 days from 1 month. See the javadoc of those methods
  for detailed conditions where this could happen.</p>
  <p>Also, division of a duration by a number is not provided because
  the <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> class can only deal with finite precision
  decimal numbers. For example, one cannot represent 1 sec divided by 3.</p>
  <p>However, you could substitute a division by 3 with multiplying
  by numbers such as 0.3 or 0.333.</p>
  <h2>Range of allowed values</h2>
  <p>
  Because some operations of <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> rely on <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>
  even though <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> can hold very large or very small values,
  some of the methods may not work correctly on such <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>s.
  The impacted methods document their dependency on <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.
  @author <a href="mailto:Kohsuke.Kawaguchi@Sun.com">Kohsuke Kawaguchi</a>
  @author <a href="mailto:Joseph.Fialli@Sun.com">Joseph Fialli</a>
  @version $Revision: 1.8 $, $Date: 2010/05/19 23:20:06 $
  @see XMLGregorianCalendar#add(Duration)</p></div>
<a id="L105" name="L105"></a> 105 <strong class="reserved">class</strong> <a href="../R/2462.html" title="Multiple referred from 13 places.">DurationImpl</a>
<a id="L106" name="L106"></a> 106         <strong class="reserved">extends</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>
<a id="L107" name="L107"></a> 107         <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L108" name="L108"></a> 108 
<div class="comment">
      <p>Number of Fields.</p></div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> FIELD_NUM = 6;
<a id="L113" name="L113"></a> 113 
<div class="comment">
      <p>Internal array of value Fields.</p></div>
<a id="L117" name="L117"></a> 117         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>[] FIELDS = <strong class="reserved">new</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>[]<em class="brace">{</em>
<a id="L118" name="L118"></a> 118                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>,
<a id="L119" name="L119"></a> 119                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>,
<a id="L120" name="L120"></a> 120                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>,
<a id="L121" name="L121"></a> 121                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>,
<a id="L122" name="L122"></a> 122                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>,
<a id="L123" name="L123"></a> 123                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>
<a id="L124" name="L124"></a> 124                 <em class="brace">}</em>;
<a id="L125" name="L125"></a> 125 
<div class="comment">
                  <p>Internal array of value Field ids.</p></div>
<a id="L129" name="L129"></a> 129                 <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong>[] FIELD_IDS = <em class="brace">{</em>
<a id="L130" name="L130"></a> 130                                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>(),
<a id="L131" name="L131"></a> 131                                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>(),
<a id="L132" name="L132"></a> 132                                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>(),
<a id="L133" name="L133"></a> 133                                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>(),
<a id="L134" name="L134"></a> 134                                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>(),
<a id="L135" name="L135"></a> 135                                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>()
<a id="L136" name="L136"></a> 136                         <em class="brace">}</em>;
<a id="L137" name="L137"></a> 137 
<div class="comment">
      TimeZone for GMT.</div>
<a id="L141" name="L141"></a> 141     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a> GMT = <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a>.<a href="../D/23152.html" title="Multiple defined in 10 places.">getTimeZone</a>("GMT");
<a id="L142" name="L142"></a> 142 
<div class="comment">
          <p>BigDecimal value of 0.</p></div>
<a id="L146" name="L146"></a> 146         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> ZERO = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) 0);
<a id="L147" name="L147"></a> 147 
<div class="comment">
      <p>Indicates the sign. -1, 0 or 1 if the duration is negative,
      zero, or positive.</p></div>
<a id="L152" name="L152"></a> 152     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>;
<a id="L153" name="L153"></a> 153 
<div class="comment">
      <p>Years of this <code>Duration</code>.</p></div>
<div class="comment">
      These were final since Duration is immutable. But new subclasses need
      to be able to set after conversion. It won't break the immutable nature
      of them since there's no other way to set new values to them</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">protected</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> years;
<a id="L163" name="L163"></a> 163 
<div class="comment">
      <p>Months of this <code>Duration</code>.</p></div>
<a id="L167" name="L167"></a> 167     <strong class="reserved">protected</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> months;
<a id="L168" name="L168"></a> 168 
<div class="comment">
      <p>Days of this <code>Duration</code>.</p></div>
<a id="L172" name="L172"></a> 172     <strong class="reserved">protected</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> days;
<a id="L173" name="L173"></a> 173 
<div class="comment">
      <p>Hours of this <code>Duration</code>.</p></div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">protected</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> hours;
<a id="L178" name="L178"></a> 178 
<div class="comment">
      <p>Minutes of this <code>Duration</code>.</p></div>
<a id="L182" name="L182"></a> 182     <strong class="reserved">protected</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> minutes;
<a id="L183" name="L183"></a> 183 
<div class="comment">
      <p>Seconds of this <code>Duration</code>.</p></div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">protected</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> seconds;
<a id="L188" name="L188"></a> 188 
<div class="comment">
          Returns the sign of this duration in -1,0, or 1.
          @return
               -1 if this duration is negative, 0 if the duration is zero,
               and 1 if the duration is postive.</div>
<a id="L196" name="L196"></a> 196         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19036.html" title="Multiple referred from 21 places.">getSign</a>() <em class="brace">{</em>
<a id="L197" name="L197"></a> 197 
<a id="L198" name="L198"></a> 198                 <strong class="reserved">return</strong> <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>;
<a id="L199" name="L199"></a> 199         <em class="brace">}</em>
<a id="L200" name="L200"></a> 200 
<div class="comment">
          TODO: Javadoc
          @param isPositive Sign.
          @return 1 if positive, else -1.</div>
<a id="L207" name="L207"></a> 207     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/10780.html" title="Multiple referred from 3 places.">calcSignum</a>(<strong class="reserved">boolean</strong> isPositive) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <strong class="reserved">if</strong> ((years == <strong class="reserved">null</strong> || years.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0)
<a id="L209" name="L209"></a> 209             &amp;&amp; (months == <strong class="reserved">null</strong> || months.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0)
<a id="L210" name="L210"></a> 210             &amp;&amp; (days == <strong class="reserved">null</strong> || days.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0)
<a id="L211" name="L211"></a> 211             &amp;&amp; (hours == <strong class="reserved">null</strong> || hours.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0)
<a id="L212" name="L212"></a> 212             &amp;&amp; (minutes == <strong class="reserved">null</strong> || minutes.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0)
<a id="L213" name="L213"></a> 213             &amp;&amp; (seconds == <strong class="reserved">null</strong> || seconds.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0)) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214             <strong class="reserved">return</strong> 0;
<a id="L215" name="L215"></a> 215             <em class="brace">}</em>
<a id="L216" name="L216"></a> 216 
<a id="L217" name="L217"></a> 217             <strong class="reserved">if</strong> (isPositive) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218                 <strong class="reserved">return</strong> 1;
<a id="L219" name="L219"></a> 219             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L220" name="L220"></a> 220                 <strong class="reserved">return</strong> -1;
<a id="L221" name="L221"></a> 221             <em class="brace">}</em>
<a id="L222" name="L222"></a> 222 
<a id="L223" name="L223"></a> 223     <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<div class="comment">
      <p>Constructs a new Duration object by specifying each field individually.</p>
      <p>All the parameters are optional as long as at least one field is present.
      If specified, parameters have to be zero or positive.</p>
      @param isPositive Set to <code>false</code> to create a negative duration. When the length
        of the duration is zero, this parameter will be ignored.
      @param years of this <code>Duration</code>
      @param months of this <code>Duration</code>
      @param days of this <code>Duration</code>
      @param hours of this <code>Duration</code>
      @param minutes of this <code>Duration</code>
      @param seconds of this <code>Duration</code>
      @throws IllegalArgumentException
         If years, months, days, hours, minutes and
         seconds parameters are all <code>null</code>. Or if any
         of those parameters are negative.</div>
<a id="L245" name="L245"></a> 245     <strong class="reserved">protected</strong> DurationImpl(
<a id="L246" name="L246"></a> 246         <strong class="reserved">boolean</strong> isPositive,
<a id="L247" name="L247"></a> 247         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> years,
<a id="L248" name="L248"></a> 248         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> months,
<a id="L249" name="L249"></a> 249         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> days,
<a id="L250" name="L250"></a> 250         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> hours,
<a id="L251" name="L251"></a> 251         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> minutes,
<a id="L252" name="L252"></a> 252         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> seconds) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254         <strong class="reserved">this</strong>.years = years;
<a id="L255" name="L255"></a> 255         <strong class="reserved">this</strong>.months = months;
<a id="L256" name="L256"></a> 256         <strong class="reserved">this</strong>.days = days;
<a id="L257" name="L257"></a> 257         <strong class="reserved">this</strong>.hours = hours;
<a id="L258" name="L258"></a> 258         <strong class="reserved">this</strong>.minutes = minutes;
<a id="L259" name="L259"></a> 259         <strong class="reserved">this</strong>.seconds = seconds;
<a id="L260" name="L260"></a> 260 
<a id="L261" name="L261"></a> 261         <strong class="reserved">this</strong>.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> = <a href="../S/5394.html#L207" title="Defined at 207 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">calcSignum</a>(isPositive);
<a id="L262" name="L262"></a> 262 
<a id="L263" name="L263"></a> 263         <em class="comment">// sanity check</em>
<a id="L264" name="L264"></a> 264         <strong class="reserved">if</strong> (years == <strong class="reserved">null</strong>
<a id="L265" name="L265"></a> 265             &amp;&amp; months == <strong class="reserved">null</strong>
<a id="L266" name="L266"></a> 266             &amp;&amp; days == <strong class="reserved">null</strong>
<a id="L267" name="L267"></a> 267             &amp;&amp; hours == <strong class="reserved">null</strong>
<a id="L268" name="L268"></a> 268             &amp;&amp; minutes == <strong class="reserved">null</strong>
<a id="L269" name="L269"></a> 269             &amp;&amp; seconds == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L271" name="L271"></a> 271             <em class="comment">//"all the fields are null"</em>
<a id="L272" name="L272"></a> 272             <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "AllFieldsNull", <strong class="reserved">null</strong>)
<a id="L273" name="L273"></a> 273             );
<a id="L274" name="L274"></a> 274         <em class="brace">}</em>
<a id="L275" name="L275"></a> 275         <a href="../D/35250.html" title="Multiple defined in 2 places.">testNonNegative</a>(years, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>);
<a id="L276" name="L276"></a> 276         <a href="../D/35250.html" title="Multiple defined in 2 places.">testNonNegative</a>(months, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>);
<a id="L277" name="L277"></a> 277         <a href="../D/35250.html" title="Multiple defined in 2 places.">testNonNegative</a>(days, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L278" name="L278"></a> 278         <a href="../D/35250.html" title="Multiple defined in 2 places.">testNonNegative</a>(hours, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>);
<a id="L279" name="L279"></a> 279         <a href="../D/35250.html" title="Multiple defined in 2 places.">testNonNegative</a>(minutes, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>);
<a id="L280" name="L280"></a> 280         <a href="../D/35250.html" title="Multiple defined in 2 places.">testNonNegative</a>(seconds, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>);
<a id="L281" name="L281"></a> 281     <em class="brace">}</em>
<a id="L282" name="L282"></a> 282 
<div class="comment">
      <p>Makes sure that the given number is non-negative. If it is not,
      throw <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>.</p>
      @param n Number to test.
      @param f Field to test.</div>
<a id="L290" name="L290"></a> 290     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/29145.html" title="Multiple referred from 6 places.">testNonNegative</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> n, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> f) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291         <strong class="reserved">if</strong> (n != <strong class="reserved">null</strong> &amp;&amp; n.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() &lt; 0) <em class="brace">{</em>
<a id="L292" name="L292"></a> 292             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L293" name="L293"></a> 293                 <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "NegativeField", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>f.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L294" name="L294"></a> 294             );
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296     <em class="brace">}</em>
<a id="L297" name="L297"></a> 297 
<div class="comment">
      <p>Makes sure that the given number is non-negative. If it is not,
      throw <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>.</p>
      @param n Number to test.
      @param f Field to test.</div>
<a id="L305" name="L305"></a> 305     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/29145.html" title="Multiple referred from 6 places.">testNonNegative</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> n, <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> f) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306         <strong class="reserved">if</strong> (n != <strong class="reserved">null</strong> &amp;&amp; n.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() &lt; 0) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307 
<a id="L308" name="L308"></a> 308             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L309" name="L309"></a> 309                 <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "NegativeField", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>f.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L310" name="L310"></a> 310             );
<a id="L311" name="L311"></a> 311         <em class="brace">}</em>
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<div class="comment">
      <p>Constructs a new Duration object by specifying each field
      individually.</p>
      <p>This method is functionally equivalent to
      invoking another constructor by wrapping
      all non-zero parameters into <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> and <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.
      Zero value of int parameter is equivalent of null value of
      the corresponding field.</p>
      @see #DurationImpl(boolean, BigInteger, BigInteger, BigInteger, BigInteger,
        BigInteger, BigDecimal)</div>
<a id="L327" name="L327"></a> 327     <strong class="reserved">protected</strong> DurationImpl(
<a id="L328" name="L328"></a> 328         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> isPositive,
<a id="L329" name="L329"></a> 329         <strong class="reserved">final</strong> <strong class="reserved">int</strong> years,
<a id="L330" name="L330"></a> 330         <strong class="reserved">final</strong> <strong class="reserved">int</strong> months,
<a id="L331" name="L331"></a> 331         <strong class="reserved">final</strong> <strong class="reserved">int</strong> days,
<a id="L332" name="L332"></a> 332         <strong class="reserved">final</strong> <strong class="reserved">int</strong> hours,
<a id="L333" name="L333"></a> 333         <strong class="reserved">final</strong> <strong class="reserved">int</strong> minutes,
<a id="L334" name="L334"></a> 334         <strong class="reserved">final</strong> <strong class="reserved">int</strong> seconds) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335         <strong class="reserved">this</strong>(
<a id="L336" name="L336"></a> 336             isPositive,
<a id="L337" name="L337"></a> 337             <a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(years),
<a id="L338" name="L338"></a> 338             <a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(months),
<a id="L339" name="L339"></a> 339             <a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(days),
<a id="L340" name="L340"></a> 340             <a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(hours),
<a id="L341" name="L341"></a> 341             <a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(minutes),
<a id="L342" name="L342"></a> 342             seconds != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ? <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(seconds)) : <strong class="reserved">null</strong>);
<a id="L343" name="L343"></a> 343     <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<div class="comment">
          TODO: Javadoc
          @param i int to convert to BigInteger.
          @return BigInteger representation of int.</div>
<a id="L352" name="L352"></a> 352     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../R/30535.html" title="Multiple referred from 76 places.">wrap</a>(<strong class="reserved">final</strong> <strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353 
<a id="L354" name="L354"></a> 354         <em class="comment">// field may not be set</em>
<a id="L355" name="L355"></a> 355         <strong class="reserved">if</strong> (i == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L357" name="L357"></a> 357         <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<a id="L359" name="L359"></a> 359         <em class="comment">// int -&gt; BigInteger</em>
<a id="L360" name="L360"></a> 360         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(i));
<a id="L361" name="L361"></a> 361     <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<div class="comment">
      <p>Constructs a new Duration object by specifying the duration
      in milliseconds.</p>
      @param durationInMilliSeconds
           The length of the duration in milliseconds.</div>
<a id="L370" name="L370"></a> 370     <strong class="reserved">protected</strong> DurationImpl(<strong class="reserved">final</strong> <strong class="reserved">long</strong> durationInMilliSeconds) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371 
<a id="L372" name="L372"></a> 372         <strong class="reserved">long</strong> l = durationInMilliSeconds;
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374         <strong class="reserved">if</strong> (l &gt; 0) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375             <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> = 1;
<a id="L376" name="L376"></a> 376         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (l &lt; 0) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377             <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> = -1;
<a id="L378" name="L378"></a> 378             <strong class="reserved">if</strong> (l == 0x8000000000000000L) <em class="brace">{</em>
<a id="L379" name="L379"></a> 379                 <em class="comment">// negating 0x8000000000000000L causes an overflow</em>
<a id="L380" name="L380"></a> 380                 l++;
<a id="L381" name="L381"></a> 381             <em class="brace">}</em>
<a id="L382" name="L382"></a> 382             l *= -1;
<a id="L383" name="L383"></a> 383         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L384" name="L384"></a> 384             <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> = 0;
<a id="L385" name="L385"></a> 385         <em class="brace">}</em>
<a id="L386" name="L386"></a> 386 
<a id="L387" name="L387"></a> 387         <em class="comment">// let GregorianCalendar do the heavy lifting</em>
<a id="L388" name="L388"></a> 388         <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> gregorianCalendar = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>(GMT);
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390         <em class="comment">// duration is the offset from the Epoch</em>
<a id="L391" name="L391"></a> 391         gregorianCalendar.<a href="../S/866.html#L1794" title="Defined at 1794 in src/java/util/Calendar.java.">setTimeInMillis</a>(l);
<a id="L392" name="L392"></a> 392 
<a id="L393" name="L393"></a> 393         <em class="comment">// now find out how much each field has changed</em>
<a id="L394" name="L394"></a> 394         <strong class="reserved">long</strong> int2long = 0L;
<a id="L395" name="L395"></a> 395 
<a id="L396" name="L396"></a> 396         <em class="comment">// years</em>
<a id="L397" name="L397"></a> 397         int2long = gregorianCalendar.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>) - 1970;
<a id="L398" name="L398"></a> 398         <strong class="reserved">this</strong>.years = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(int2long);
<a id="L399" name="L399"></a> 399 
<a id="L400" name="L400"></a> 400         <em class="comment">// months</em>
<a id="L401" name="L401"></a> 401         int2long = gregorianCalendar.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MONTH);
<a id="L402" name="L402"></a> 402         <strong class="reserved">this</strong>.months = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(int2long);
<a id="L403" name="L403"></a> 403 
<a id="L404" name="L404"></a> 404         <em class="comment">// days</em>
<a id="L405" name="L405"></a> 405         int2long = gregorianCalendar.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>) - 1;
<a id="L406" name="L406"></a> 406         <strong class="reserved">this</strong>.days = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(int2long);
<a id="L407" name="L407"></a> 407 
<a id="L408" name="L408"></a> 408         <em class="comment">// hours</em>
<a id="L409" name="L409"></a> 409         int2long = gregorianCalendar.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>);
<a id="L410" name="L410"></a> 410         <strong class="reserved">this</strong>.hours = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(int2long);
<a id="L411" name="L411"></a> 411 
<a id="L412" name="L412"></a> 412         <em class="comment">// minutes</em>
<a id="L413" name="L413"></a> 413         int2long = gregorianCalendar.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MINUTE);
<a id="L414" name="L414"></a> 414         <strong class="reserved">this</strong>.minutes = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(int2long);
<a id="L415" name="L415"></a> 415 
<a id="L416" name="L416"></a> 416         <em class="comment">// seconds &amp; milliseconds</em>
<a id="L417" name="L417"></a> 417         int2long = (gregorianCalendar.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.SECOND) * 1000)
<a id="L418" name="L418"></a> 418                     + gregorianCalendar.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MILLISECOND);
<a id="L419" name="L419"></a> 419         <strong class="reserved">this</strong>.seconds = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(int2long, 3);
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<div class="comment">
      Constructs a new Duration object by
      parsing its string representation
      "PnYnMnDTnHnMnS" as defined in XML Schema 1.0 section 3.2.6.1.
      <p>
      The string representation may not have any leading
      and trailing whitespaces.
      </p><p>
      For example, this method parses strings like
      "P1D" (1 day), "-PT100S" (-100 sec.), "P1DT12H" (1 days and 12 hours).
      </p><p>
      The parsing is done field by field so that
      the following holds for any lexically correct string x:
      </p><pre>      new Duration(x).toString().equals(x)
      </pre>
      Returns a non-null valid duration object that holds the value
      indicated by the lexicalRepresentation parameter.
      @param lexicalRepresentation
           Lexical representation of a duration.
      @throws IllegalArgumentException
           If the given string does not conform to the aforementioned
           specification.
      @throws NullPointerException
           If the given string is null.</div>
<a id="L453" name="L453"></a> 453     <strong class="reserved">protected</strong> DurationImpl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lexicalRepresentation)
<a id="L454" name="L454"></a> 454         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L455" name="L455"></a> 455         <em class="comment">// only if I could use the JDK1.4 regular expression ....</em>
<a id="L456" name="L456"></a> 456 
<a id="L457" name="L457"></a> 457         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = lexicalRepresentation;
<a id="L458" name="L458"></a> 458         <strong class="reserved">boolean</strong> positive;
<a id="L459" name="L459"></a> 459         <strong class="reserved">int</strong>[] idx = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[1];
<a id="L460" name="L460"></a> 460         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L461" name="L461"></a> 461         <strong class="reserved">boolean</strong> timeRequired = <strong class="reserved">false</strong>;
<a id="L462" name="L462"></a> 462 
<a id="L463" name="L463"></a> 463         <strong class="reserved">if</strong> (lexicalRepresentation == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L465" name="L465"></a> 465         <em class="brace">}</em>
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467         idx[0] = 0;
<a id="L468" name="L468"></a> 468         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != idx[0] &amp;&amp; s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx[0]) == '-') <em class="brace">{</em>
<a id="L469" name="L469"></a> 469             idx[0]++;
<a id="L470" name="L470"></a> 470             positive = <strong class="reserved">false</strong>;
<a id="L471" name="L471"></a> 471         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L472" name="L472"></a> 472             positive = <strong class="reserved">true</strong>;
<a id="L473" name="L473"></a> 473         <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != idx[0] &amp;&amp; s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx[0]++) != 'P') <em class="brace">{</em>
<a id="L476" name="L476"></a> 476             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(s); <em class="comment">//,idx[0]-1);</em>
<a id="L477" name="L477"></a> 477         <em class="brace">}</em>
<a id="L478" name="L478"></a> 478 
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480         <em class="comment">// phase 1: chop the string into chunks</em>
<a id="L481" name="L481"></a> 481         <em class="comment">// (where a chunk is '&lt;number&gt;&lt;a symbol&gt;'</em>
<a id="L482" name="L482"></a> 482         <em class="comment">//--------------------------------------</em>
<a id="L483" name="L483"></a> 483         <strong class="reserved">int</strong> dateLen = 0;
<a id="L484" name="L484"></a> 484         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] dateParts = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[3];
<a id="L485" name="L485"></a> 485         <strong class="reserved">int</strong>[] datePartsIndex = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[3];
<a id="L486" name="L486"></a> 486         <strong class="reserved">while</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != idx[0]
<a id="L487" name="L487"></a> 487             &amp;&amp; <a href="../D/25439.html" title="Multiple defined in 11 places.">isDigit</a>(s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx[0]))
<a id="L488" name="L488"></a> 488             &amp;&amp; dateLen &lt; 3) <em class="brace">{</em>
<a id="L489" name="L489"></a> 489             datePartsIndex[dateLen] = idx[0];
<a id="L490" name="L490"></a> 490             dateParts[dateLen++] = <a href="../S/5394.html#L570" title="Defined at 570 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">parsePiece</a>(s, idx);
<a id="L491" name="L491"></a> 491         <em class="brace">}</em>
<a id="L492" name="L492"></a> 492 
<a id="L493" name="L493"></a> 493         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != idx[0]) <em class="brace">{</em>
<a id="L494" name="L494"></a> 494             <strong class="reserved">if</strong> (s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx[0]++) == 'T') <em class="brace">{</em>
<a id="L495" name="L495"></a> 495                 timeRequired = <strong class="reserved">true</strong>;
<a id="L496" name="L496"></a> 496             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L497" name="L497"></a> 497                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(s); <em class="comment">// ,idx[0]-1);</em>
<a id="L498" name="L498"></a> 498             <em class="brace">}</em>
<a id="L499" name="L499"></a> 499         <em class="brace">}</em>
<a id="L500" name="L500"></a> 500 
<a id="L501" name="L501"></a> 501         <strong class="reserved">int</strong> timeLen = 0;
<a id="L502" name="L502"></a> 502         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] timeParts = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[3];
<a id="L503" name="L503"></a> 503         <strong class="reserved">int</strong>[] timePartsIndex = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[3];
<a id="L504" name="L504"></a> 504         <strong class="reserved">while</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != idx[0]
<a id="L505" name="L505"></a> 505             &amp;&amp; <a href="../S/5394.html#L556" title="Defined at 556 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">isDigitOrPeriod</a>(s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx[0]))
<a id="L506" name="L506"></a> 506             &amp;&amp; timeLen &lt; 3) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507             timePartsIndex[timeLen] = idx[0];
<a id="L508" name="L508"></a> 508             timeParts[timeLen++] = <a href="../S/5394.html#L570" title="Defined at 570 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">parsePiece</a>(s, idx);
<a id="L509" name="L509"></a> 509         <em class="brace">}</em>
<a id="L510" name="L510"></a> 510 
<a id="L511" name="L511"></a> 511         <strong class="reserved">if</strong> (timeRequired &amp;&amp; timeLen == 0) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(s); <em class="comment">// ,idx[0]);</em>
<a id="L513" name="L513"></a> 513         <em class="brace">}</em>
<a id="L514" name="L514"></a> 514 
<a id="L515" name="L515"></a> 515         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != idx[0]) <em class="brace">{</em>
<a id="L516" name="L516"></a> 516             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(s); <em class="comment">// ,idx[0]);</em>
<a id="L517" name="L517"></a> 517         <em class="brace">}</em>
<a id="L518" name="L518"></a> 518         <strong class="reserved">if</strong> (dateLen == 0 &amp;&amp; timeLen == 0) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(s); <em class="comment">// ,idx[0]);</em>
<a id="L520" name="L520"></a> 520         <em class="brace">}</em>
<a id="L521" name="L521"></a> 521 
<a id="L522" name="L522"></a> 522         <em class="comment">// phase 2: check the ordering of chunks</em>
<a id="L523" name="L523"></a> 523         <em class="comment">//--------------------------------------</em>
<a id="L524" name="L524"></a> 524         <a href="../S/5394.html#L597" title="Defined at 597 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">organizeParts</a>(s, dateParts, datePartsIndex, dateLen, "YMD");
<a id="L525" name="L525"></a> 525         <a href="../S/5394.html#L597" title="Defined at 597 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">organizeParts</a>(s, timeParts, timePartsIndex, timeLen, "HMS");
<a id="L526" name="L526"></a> 526 
<a id="L527" name="L527"></a> 527         <em class="comment">// parse into numbers</em>
<a id="L528" name="L528"></a> 528         years = <a href="../S/5394.html#L639" title="Defined at 639 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">parseBigInteger</a>(s, dateParts[0], datePartsIndex[0]);
<a id="L529" name="L529"></a> 529         months = <a href="../S/5394.html#L639" title="Defined at 639 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">parseBigInteger</a>(s, dateParts[1], datePartsIndex[1]);
<a id="L530" name="L530"></a> 530         days = <a href="../S/5394.html#L639" title="Defined at 639 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">parseBigInteger</a>(s, dateParts[2], datePartsIndex[2]);
<a id="L531" name="L531"></a> 531         hours = <a href="../S/5394.html#L639" title="Defined at 639 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">parseBigInteger</a>(s, timeParts[0], timePartsIndex[0]);
<a id="L532" name="L532"></a> 532         minutes = <a href="../S/5394.html#L639" title="Defined at 639 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">parseBigInteger</a>(s, timeParts[1], timePartsIndex[1]);
<a id="L533" name="L533"></a> 533         seconds = <a href="../D/29095.html" title="Multiple defined in 2 places.">parseBigDecimal</a>(s, timeParts[2], timePartsIndex[2]);
<a id="L534" name="L534"></a> 534         <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> = <a href="../S/5394.html#L207" title="Defined at 207 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">calcSignum</a>(positive);
<a id="L535" name="L535"></a> 535     <em class="brace">}</em>
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537 
<div class="comment">
      TODO: Javadoc
      @param ch char to test.
      @return true if ch is a digit, else false.</div>
<a id="L545" name="L545"></a> 545     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21358.html" title="Multiple referred from 79 places.">isDigit</a>(<strong class="reserved">char</strong> ch) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546         <strong class="reserved">return</strong> '0' &lt;= ch &amp;&amp; ch &lt;= '9';
<a id="L547" name="L547"></a> 547     <em class="brace">}</em>
<a id="L548" name="L548"></a> 548 
<div class="comment">
      TODO: Javadoc
      @param ch to test.
      @return true if ch is a digit or a period, else false.</div>
<a id="L556" name="L556"></a> 556     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21359.html" title="Multiple referred from 2 places.">isDigitOrPeriod</a>(<strong class="reserved">char</strong> ch) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557         <strong class="reserved">return</strong> <a href="../D/25439.html" title="Multiple defined in 11 places.">isDigit</a>(ch) || ch == '.';
<a id="L558" name="L558"></a> 558     <em class="brace">}</em>
<a id="L559" name="L559"></a> 559 
<div class="comment">
      TODO: Javadoc
      @param whole String to parse.
      @param idx TODO: ???
      @return Result of parsing.
      @throws IllegalArgumentException If whole cannot be parsed.</div>
<a id="L570" name="L570"></a> 570     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/24594.html" title="Multiple referred from 2 places.">parsePiece</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> whole, <strong class="reserved">int</strong>[] idx)
<a id="L571" name="L571"></a> 571         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L572" name="L572"></a> 572         <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = idx[0];
<a id="L573" name="L573"></a> 573         <strong class="reserved">while</strong> (idx[0] &lt; whole.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()
<a id="L574" name="L574"></a> 574             &amp;&amp; <a href="../S/5394.html#L556" title="Defined at 556 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">isDigitOrPeriod</a>(whole.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(idx[0]))) <em class="brace">{</em>
<a id="L575" name="L575"></a> 575             idx[0]++;
<a id="L576" name="L576"></a> 576             <em class="brace">}</em>
<a id="L577" name="L577"></a> 577         <strong class="reserved">if</strong> (idx[0] == whole.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L578" name="L578"></a> 578             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(whole); <em class="comment">// ,idx[0]);</em>
<a id="L579" name="L579"></a> 579         <em class="brace">}</em>
<a id="L580" name="L580"></a> 580 
<a id="L581" name="L581"></a> 581         idx[0]++;
<a id="L582" name="L582"></a> 582 
<a id="L583" name="L583"></a> 583         <strong class="reserved">return</strong> whole.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, idx[0]);
<a id="L584" name="L584"></a> 584     <em class="brace">}</em>
<a id="L585" name="L585"></a> 585 
<div class="comment">
      TODO: Javadoc.
      @param whole TODO: ???
      @param parts TODO: ???
      @param partsIndex TODO: ???
      @param len TODO: ???
      @param tokens TODO: ???
      @throws IllegalArgumentException TODO: ???</div>
<a id="L597" name="L597"></a> 597     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/24033.html" title="Multiple referred from 2 places.">organizeParts</a>(
<a id="L598" name="L598"></a> 598         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> whole,
<a id="L599" name="L599"></a> 599         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] parts,
<a id="L600" name="L600"></a> 600         <strong class="reserved">int</strong>[] partsIndex,
<a id="L601" name="L601"></a> 601         <strong class="reserved">int</strong> len,
<a id="L602" name="L602"></a> 602         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> tokens)
<a id="L603" name="L603"></a> 603         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L604" name="L604"></a> 604 
<a id="L605" name="L605"></a> 605         <strong class="reserved">int</strong> idx = tokens.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L606" name="L606"></a> 606         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = len - 1; i &gt;= 0; i--) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607             <strong class="reserved">int</strong> nidx =
<a id="L608" name="L608"></a> 608                 tokens.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(
<a id="L609" name="L609"></a> 609                     parts[i].<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(parts[i].<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1),
<a id="L610" name="L610"></a> 610                     idx - 1);
<a id="L611" name="L611"></a> 611             <strong class="reserved">if</strong> (nidx == -1) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(whole);
<a id="L613" name="L613"></a> 613                 <em class="comment">// ,partsIndex[i]+parts[i].length()-1);</em>
<a id="L614" name="L614"></a> 614             <em class="brace">}</em>
<a id="L615" name="L615"></a> 615 
<a id="L616" name="L616"></a> 616             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = nidx + 1; j &lt; idx; j++) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617                 parts[j] = <strong class="reserved">null</strong>;
<a id="L618" name="L618"></a> 618             <em class="brace">}</em>
<a id="L619" name="L619"></a> 619             idx = nidx;
<a id="L620" name="L620"></a> 620             parts[idx] = parts[i];
<a id="L621" name="L621"></a> 621             partsIndex[idx] = partsIndex[i];
<a id="L622" name="L622"></a> 622         <em class="brace">}</em>
<a id="L623" name="L623"></a> 623         <strong class="reserved">for</strong> (idx--; idx &gt;= 0; idx--) <em class="brace">{</em>
<a id="L624" name="L624"></a> 624             parts[idx] = <strong class="reserved">null</strong>;
<a id="L625" name="L625"></a> 625         <em class="brace">}</em>
<a id="L626" name="L626"></a> 626     <em class="brace">}</em>
<a id="L627" name="L627"></a> 627 
<div class="comment">
      TODO: Javadoc
      @param whole TODO: ???.
      @param part TODO: ???.
      @param index TODO: ???.
      @return TODO: ???.
      @throws IllegalArgumentException TODO: ???.</div>
<a id="L639" name="L639"></a> 639     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../R/24512.html" title="Multiple referred from 5 places.">parseBigInteger</a>(
<a id="L640" name="L640"></a> 640         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> whole,
<a id="L641" name="L641"></a> 641         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> part,
<a id="L642" name="L642"></a> 642         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)
<a id="L643" name="L643"></a> 643         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L644" name="L644"></a> 644         <strong class="reserved">if</strong> (part == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L646" name="L646"></a> 646         <em class="brace">}</em>
<a id="L647" name="L647"></a> 647         part = part.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, part.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L648" name="L648"></a> 648         <em class="comment">//        try {</em>
<a id="L649" name="L649"></a> 649         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>(part);
<a id="L650" name="L650"></a> 650         <em class="comment">//        } catch( NumberFormatException e ) {</em>
<a id="L651" name="L651"></a> 651         <em class="comment">//            throw new ParseException( whole, index );</em>
<a id="L652" name="L652"></a> 652         <em class="comment">//        }</em>
<a id="L653" name="L653"></a> 653     <em class="brace">}</em>
<a id="L654" name="L654"></a> 654 
<div class="comment">
      TODO: Javadoc.
      @param whole TODO: ???.
      @param part TODO: ???.
      @param index TODO: ???.
      @return TODO: ???.
      @throws IllegalArgumentException TODO: ???.</div>
<a id="L666" name="L666"></a> 666     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../R/24511.html" title="Multiple referred from 6 places.">parseBigDecimal</a>(
<a id="L667" name="L667"></a> 667         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> whole,
<a id="L668" name="L668"></a> 668         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> part,
<a id="L669" name="L669"></a> 669         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)
<a id="L670" name="L670"></a> 670         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L671" name="L671"></a> 671         <strong class="reserved">if</strong> (part == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L672" name="L672"></a> 672             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L673" name="L673"></a> 673         <em class="brace">}</em>
<a id="L674" name="L674"></a> 674         part = part.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, part.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L675" name="L675"></a> 675         <em class="comment">// NumberFormatException is IllegalArgumentException</em>
<a id="L676" name="L676"></a> 676         <em class="comment">//        try {</em>
<a id="L677" name="L677"></a> 677         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(part);
<a id="L678" name="L678"></a> 678         <em class="comment">//        } catch( NumberFormatException e ) {</em>
<a id="L679" name="L679"></a> 679         <em class="comment">//            throw new ParseException( whole, index );</em>
<a id="L680" name="L680"></a> 680         <em class="comment">//        }</em>
<a id="L681" name="L681"></a> 681     <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<div class="comment">
      <p>Four constants defined for the comparison of durations.</p></div>
<a id="L686" name="L686"></a> 686     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>[] TEST_POINTS = <strong class="reserved">new</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>[] <em class="brace">{</em>
<a id="L687" name="L687"></a> 687         <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>("1696-09-01T00:00:00Z"),
<a id="L688" name="L688"></a> 688         <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>("1697-02-01T00:00:00Z"),
<a id="L689" name="L689"></a> 689         <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>("1903-03-01T00:00:00Z"),
<a id="L690" name="L690"></a> 690         <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>("1903-07-01T00:00:00Z")
<a id="L691" name="L691"></a> 691     <em class="brace">}</em>;
<a id="L692" name="L692"></a> 692 
<div class="comment">
          <p>Partial order relation comparison with this <code>Duration</code> instance.</p>
          <p>Comparison result must be in accordance with
          <a href="http://www.w3.org/TR/xmlschema-2/#duration-order">W3C XML Schema 1.0 Part 2, Section 3.2.7.6.2,
          <i>Order relation on duration</i></a>.</p>
          <p>Return:</p>
          <ul><li>{@link DatatypeConstants#LESSER} if this <code>Duration</code> is shorter than <code>duration</code> parameter</li><li>{@link DatatypeConstants#EQUAL} if this <code>Duration</code> is equal to <code>duration</code> parameter</li><li>{@link DatatypeConstants#GREATER} if this <code>Duration</code> is longer than <code>duration</code> parameter</li><li>{@link DatatypeConstants#INDETERMINATE} if a conclusive partial order relation cannot be determined</li>
          </ul>
          @param duration to compare
          @return the relationship between <code>this</code> <code>Duration</code>and <code>duration</code> parameter as
            {@link DatatypeConstants#LESSER}, {@link DatatypeConstants#EQUAL}, {@link DatatypeConstants#GREATER}
            or {@link DatatypeConstants#INDETERMINATE}.
          @throws UnsupportedOperationException If the underlying implementation
            cannot reasonably process the request, e.g. W3C XML Schema allows for
            arbitrarily large/small/precise values, the request may be beyond the
            implementations capability.
          @throws NullPointerException if <code>duration</code> is <code>null</code>.
          @see #isShorterThan(Duration)
          @see #isLongerThan(Duration)</div>
<a id="L723" name="L723"></a> 723     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11691.html" title="Multiple referred from 208 places.">compare</a>(<a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> rhs) <em class="brace">{</em>
<a id="L724" name="L724"></a> 724 
<a id="L725" name="L725"></a> 725         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> maxintAsBigInteger = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L726" name="L726"></a> 726         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> minintAsBigInteger = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE);
<a id="L727" name="L727"></a> 727 
<a id="L728" name="L728"></a> 728         <em class="comment">// check for fields that are too large in this Duration</em>
<a id="L729" name="L729"></a> 729         <strong class="reserved">if</strong> (years != <strong class="reserved">null</strong> &amp;&amp; years.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L730" name="L730"></a> 730             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L731" name="L731"></a> 731                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L732" name="L732"></a> 732                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), years.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L733" name="L733"></a> 733                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L734" name="L734"></a> 734                                                 <em class="comment">//+ " years too large to be supported by this implementation "</em>
<a id="L735" name="L735"></a> 735                                                 <em class="comment">//+ years.toString()</em>
<a id="L736" name="L736"></a> 736                                         );
<a id="L737" name="L737"></a> 737         <em class="brace">}</em>
<a id="L738" name="L738"></a> 738         <strong class="reserved">if</strong> (months != <strong class="reserved">null</strong> &amp;&amp; months.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L740" name="L740"></a> 740                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L741" name="L741"></a> 741                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), months.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L742" name="L742"></a> 742 
<a id="L743" name="L743"></a> 743                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L744" name="L744"></a> 744                                                 <em class="comment">//+ " months too large to be supported by this implementation "</em>
<a id="L745" name="L745"></a> 745                                                 <em class="comment">//+ months.toString()</em>
<a id="L746" name="L746"></a> 746                                         );
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748         <strong class="reserved">if</strong> (days != <strong class="reserved">null</strong> &amp;&amp; days.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L749" name="L749"></a> 749                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L750" name="L750"></a> 750                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L751" name="L751"></a> 751                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), days.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L752" name="L752"></a> 752 
<a id="L753" name="L753"></a> 753                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L754" name="L754"></a> 754                                                 <em class="comment">//+ " days too large to be supported by this implementation "</em>
<a id="L755" name="L755"></a> 755                                                 <em class="comment">//+ days.toString()</em>
<a id="L756" name="L756"></a> 756                                         );
<a id="L757" name="L757"></a> 757         <em class="brace">}</em>
<a id="L758" name="L758"></a> 758         <strong class="reserved">if</strong> (hours != <strong class="reserved">null</strong> &amp;&amp; hours.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L760" name="L760"></a> 760                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L761" name="L761"></a> 761                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), hours.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L762" name="L762"></a> 762 
<a id="L763" name="L763"></a> 763                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L764" name="L764"></a> 764                                                 <em class="comment">//+ " hours too large to be supported by this implementation "</em>
<a id="L765" name="L765"></a> 765                                                 <em class="comment">//+ hours.toString()</em>
<a id="L766" name="L766"></a> 766                                         );
<a id="L767" name="L767"></a> 767         <em class="brace">}</em>
<a id="L768" name="L768"></a> 768         <strong class="reserved">if</strong> (minutes != <strong class="reserved">null</strong> &amp;&amp; minutes.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L769" name="L769"></a> 769                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L770" name="L770"></a> 770                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L771" name="L771"></a> 771                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), minutes.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L772" name="L772"></a> 772 
<a id="L773" name="L773"></a> 773                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L774" name="L774"></a> 774                                                 <em class="comment">//+ " minutes too large to be supported by this implementation "</em>
<a id="L775" name="L775"></a> 775                                                 <em class="comment">//+ minutes.toString()</em>
<a id="L776" name="L776"></a> 776                                         );
<a id="L777" name="L777"></a> 777         <em class="brace">}</em>
<a id="L778" name="L778"></a> 778         <strong class="reserved">if</strong> (seconds != <strong class="reserved">null</strong> &amp;&amp; seconds.<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>().<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L780" name="L780"></a> 780                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L781" name="L781"></a> 781                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), seconds.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L782" name="L782"></a> 782 
<a id="L783" name="L783"></a> 783                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L784" name="L784"></a> 784                                                 <em class="comment">//+ " seconds too large to be supported by this implementation "</em>
<a id="L785" name="L785"></a> 785                                                 <em class="comment">//+ seconds.toString()</em>
<a id="L786" name="L786"></a> 786                                         );
<a id="L787" name="L787"></a> 787         <em class="brace">}</em>
<a id="L788" name="L788"></a> 788 
<a id="L789" name="L789"></a> 789         <em class="comment">// check for fields that are too large in rhs Duration</em>
<a id="L790" name="L790"></a> 790         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> rhsYears = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>);
<a id="L791" name="L791"></a> 791         <strong class="reserved">if</strong> (rhsYears != <strong class="reserved">null</strong> &amp;&amp; rhsYears.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L793" name="L793"></a> 793                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L794" name="L794"></a> 794                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), rhsYears.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L795" name="L795"></a> 795 
<a id="L796" name="L796"></a> 796                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L797" name="L797"></a> 797                                                 <em class="comment">//+ " years too large to be supported by this implementation "</em>
<a id="L798" name="L798"></a> 798                                                 <em class="comment">//+ rhsYears.toString()</em>
<a id="L799" name="L799"></a> 799                                         );
<a id="L800" name="L800"></a> 800         <em class="brace">}</em>
<a id="L801" name="L801"></a> 801         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> rhsMonths = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>);
<a id="L802" name="L802"></a> 802         <strong class="reserved">if</strong> (rhsMonths != <strong class="reserved">null</strong> &amp;&amp; rhsMonths.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L803" name="L803"></a> 803                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L804" name="L804"></a> 804                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L805" name="L805"></a> 805                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), rhsMonths.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L806" name="L806"></a> 806 
<a id="L807" name="L807"></a> 807                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L808" name="L808"></a> 808                                                 <em class="comment">//+ " months too large to be supported by this implementation "</em>
<a id="L809" name="L809"></a> 809                                                 <em class="comment">//+ rhsMonths.toString()</em>
<a id="L810" name="L810"></a> 810                                         );
<a id="L811" name="L811"></a> 811         <em class="brace">}</em>
<a id="L812" name="L812"></a> 812         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> rhsDays = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L813" name="L813"></a> 813         <strong class="reserved">if</strong> (rhsDays != <strong class="reserved">null</strong> &amp;&amp; rhsDays.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L814" name="L814"></a> 814                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L815" name="L815"></a> 815                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L816" name="L816"></a> 816                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), rhsDays.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L817" name="L817"></a> 817 
<a id="L818" name="L818"></a> 818                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L819" name="L819"></a> 819                                                 <em class="comment">//+ " days too large to be supported by this implementation "</em>
<a id="L820" name="L820"></a> 820                                                 <em class="comment">//+ rhsDays.toString()</em>
<a id="L821" name="L821"></a> 821                                         );
<a id="L822" name="L822"></a> 822         <em class="brace">}</em>
<a id="L823" name="L823"></a> 823         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> rhsHours = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>);
<a id="L824" name="L824"></a> 824         <strong class="reserved">if</strong> (rhsHours != <strong class="reserved">null</strong> &amp;&amp; rhsHours.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L825" name="L825"></a> 825                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L826" name="L826"></a> 826                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L827" name="L827"></a> 827                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), rhsHours.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L828" name="L828"></a> 828 
<a id="L829" name="L829"></a> 829                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L830" name="L830"></a> 830                                                 <em class="comment">//+ " hours too large to be supported by this implementation "</em>
<a id="L831" name="L831"></a> 831                                                 <em class="comment">//+ rhsHours.toString()</em>
<a id="L832" name="L832"></a> 832                                         );
<a id="L833" name="L833"></a> 833         <em class="brace">}</em>
<a id="L834" name="L834"></a> 834         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> rhsMinutes = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>);
<a id="L835" name="L835"></a> 835         <strong class="reserved">if</strong> (rhsMinutes != <strong class="reserved">null</strong> &amp;&amp; rhsMinutes.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L836" name="L836"></a> 836                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L837" name="L837"></a> 837                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L838" name="L838"></a> 838                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), rhsMinutes.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L839" name="L839"></a> 839 
<a id="L840" name="L840"></a> 840                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L841" name="L841"></a> 841                                                 <em class="comment">//+ " minutes too large to be supported by this implementation "</em>
<a id="L842" name="L842"></a> 842                                                 <em class="comment">//+ rhsMinutes.toString()</em>
<a id="L843" name="L843"></a> 843                                         );
<a id="L844" name="L844"></a> 844         <em class="brace">}</em>
<a id="L845" name="L845"></a> 845         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> rhsSecondsAsBigDecimal = (<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>);
<a id="L846" name="L846"></a> 846         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> rhsSeconds = <strong class="reserved">null</strong>;
<a id="L847" name="L847"></a> 847         <strong class="reserved">if</strong> ( rhsSecondsAsBigDecimal != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L848" name="L848"></a> 848                 rhsSeconds =  rhsSecondsAsBigDecimal.<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>();
<a id="L849" name="L849"></a> 849         <em class="brace">}</em>
<a id="L850" name="L850"></a> 850         <strong class="reserved">if</strong> (rhsSeconds != <strong class="reserved">null</strong> &amp;&amp; rhsSeconds.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxintAsBigInteger) == 1) <em class="brace">{</em>
<a id="L851" name="L851"></a> 851                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>(
<a id="L852" name="L852"></a> 852                         <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "TooLarge",
<a id="L853" name="L853"></a> 853                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "#compare(Duration duration)" + <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), rhsSeconds.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L854" name="L854"></a> 854 
<a id="L855" name="L855"></a> 855                                         <em class="comment">//this.getClass().getName() + "#compare(Duration duration)"</em>
<a id="L856" name="L856"></a> 856                                                 <em class="comment">//+ " seconds too large to be supported by this implementation "</em>
<a id="L857" name="L857"></a> 857                                                 <em class="comment">//+ rhsSeconds.toString()</em>
<a id="L858" name="L858"></a> 858                                         );
<a id="L859" name="L859"></a> 859         <em class="brace">}</em>
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861         <em class="comment">// turn this Duration into a GregorianCalendar</em>
<a id="L862" name="L862"></a> 862         <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> lhsCalendar = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>(
<a id="L863" name="L863"></a> 863                         1970,
<a id="L864" name="L864"></a> 864                                 1,
<a id="L865" name="L865"></a> 865                                 1,
<a id="L866" name="L866"></a> 866                                 0,
<a id="L867" name="L867"></a> 867                                 0,
<a id="L868" name="L868"></a> 868                                 0);
<a id="L869" name="L869"></a> 869                 lhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/23810.html" title="Multiple defined in 5 places.">getYears</a>() * <a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L870" name="L870"></a> 870                 lhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.MONTH, <a href="../D/20732.html" title="Multiple defined in 6 places.">getMonths</a>() * <a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L871" name="L871"></a> 871                 lhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>, <a href="../D/18228.html" title="Multiple defined in 5 places.">getDays</a>() * <a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L872" name="L872"></a> 872                 lhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>, <a href="../D/19498.html" title="Multiple defined in 6 places.">getHours</a>() * <a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L873" name="L873"></a> 873                 lhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.MINUTE, <a href="../D/20682.html" title="Multiple defined in 6 places.">getMinutes</a>() * <a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L874" name="L874"></a> 874                 lhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.SECOND, <a href="../D/22313.html" title="Multiple defined in 8 places.">getSeconds</a>() * <a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L875" name="L875"></a> 875 
<a id="L876" name="L876"></a> 876                 <em class="comment">// turn compare Duration into a GregorianCalendar</em>
<a id="L877" name="L877"></a> 877         <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> rhsCalendar = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>(
<a id="L878" name="L878"></a> 878                                 1970,
<a id="L879" name="L879"></a> 879                                 1,
<a id="L880" name="L880"></a> 880                                 1,
<a id="L881" name="L881"></a> 881                                 0,
<a id="L882" name="L882"></a> 882                                 0,
<a id="L883" name="L883"></a> 883                                 0);
<a id="L884" name="L884"></a> 884                 rhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, rhs.<a href="../D/23810.html" title="Multiple defined in 5 places.">getYears</a>() * rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L885" name="L885"></a> 885                 rhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.MONTH, rhs.<a href="../D/20732.html" title="Multiple defined in 6 places.">getMonths</a>() * rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L886" name="L886"></a> 886                 rhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>, rhs.<a href="../D/18228.html" title="Multiple defined in 5 places.">getDays</a>() * rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L887" name="L887"></a> 887                 rhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>, rhs.<a href="../D/19498.html" title="Multiple defined in 6 places.">getHours</a>() * rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L888" name="L888"></a> 888                 rhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.MINUTE, rhs.<a href="../D/20682.html" title="Multiple defined in 6 places.">getMinutes</a>() * rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L889" name="L889"></a> 889                 rhsCalendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.SECOND, rhs.<a href="../D/22313.html" title="Multiple defined in 8 places.">getSeconds</a>() * rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>());
<a id="L890" name="L890"></a> 890 
<a id="L891" name="L891"></a> 891 
<a id="L892" name="L892"></a> 892                 <strong class="reserved">if</strong> (lhsCalendar.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(rhsCalendar)) <em class="brace">{</em>
<a id="L893" name="L893"></a> 893                         <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL;
<a id="L894" name="L894"></a> 894                 <em class="brace">}</em>
<a id="L895" name="L895"></a> 895 
<a id="L896" name="L896"></a> 896                 <strong class="reserved">return</strong> <a href="../D/13049.html" title="Multiple defined in 3 places.">compareDates</a>(<strong class="reserved">this</strong>, rhs);
<a id="L897" name="L897"></a> 897     <em class="brace">}</em>
<a id="L898" name="L898"></a> 898 
<div class="comment">
      Compares 2 given durations. (refer to W3C Schema Datatypes "3.2.6 duration")
      @param duration1  Unnormalized duration
      @param duration2  Unnormalized duration
      @return INDETERMINATE if the order relationship between date1 and date2 is indeterminate.
      EQUAL if the order relation between date1 and date2 is EQUAL.
      If the strict parameter is true, return LESS_THAN if date1 is less than date2 and
      return GREATER_THAN if date1 is greater than date2.
      If the strict parameter is false, return LESS_THAN if date1 is less than OR equal to date2 and
      return GREATER_THAN if date1 is greater than OR equal to date2</div>
<a id="L911" name="L911"></a> 911     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/11707.html" title="Multiple referred from 3 places.">compareDates</a>(<a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> duration1, <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> duration2) <em class="brace">{</em>
<a id="L912" name="L912"></a> 912 
<a id="L913" name="L913"></a> 913         <strong class="reserved">int</strong> resultA = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L914" name="L914"></a> 914         <strong class="reserved">int</strong> resultB = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L915" name="L915"></a> 915 
<a id="L916" name="L916"></a> 916         <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> tempA = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[0].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L917" name="L917"></a> 917         <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> tempB = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[0].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L918" name="L918"></a> 918 
<a id="L919" name="L919"></a> 919         <em class="comment">//long comparison algorithm is required</em>
<a id="L920" name="L920"></a> 920         tempA.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration1);
<a id="L921" name="L921"></a> 921         tempB.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration2);
<a id="L922" name="L922"></a> 922         resultA =  tempA.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(tempB);
<a id="L923" name="L923"></a> 923         <strong class="reserved">if</strong> ( resultA == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE ) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L925" name="L925"></a> 925         <em class="brace">}</em>
<a id="L926" name="L926"></a> 926 
<a id="L927" name="L927"></a> 927         tempA = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[1].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L928" name="L928"></a> 928         tempB = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[1].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L929" name="L929"></a> 929 
<a id="L930" name="L930"></a> 930         tempA.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration1);
<a id="L931" name="L931"></a> 931         tempB.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration2);
<a id="L932" name="L932"></a> 932         resultB = tempA.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(tempB);
<a id="L933" name="L933"></a> 933         resultA = <a href="../D/13064.html" title="Multiple defined in 2 places.">compareResults</a>(resultA, resultB);
<a id="L934" name="L934"></a> 934         <strong class="reserved">if</strong> (resultA == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE) <em class="brace">{</em>
<a id="L935" name="L935"></a> 935             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L936" name="L936"></a> 936         <em class="brace">}</em>
<a id="L937" name="L937"></a> 937 
<a id="L938" name="L938"></a> 938         tempA = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[2].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L939" name="L939"></a> 939         tempB = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[2].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L940" name="L940"></a> 940 
<a id="L941" name="L941"></a> 941         tempA.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration1);
<a id="L942" name="L942"></a> 942         tempB.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration2);
<a id="L943" name="L943"></a> 943         resultB = tempA.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(tempB);
<a id="L944" name="L944"></a> 944         resultA = <a href="../D/13064.html" title="Multiple defined in 2 places.">compareResults</a>(resultA, resultB);
<a id="L945" name="L945"></a> 945         <strong class="reserved">if</strong> (resultA == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE) <em class="brace">{</em>
<a id="L946" name="L946"></a> 946             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L947" name="L947"></a> 947         <em class="brace">}</em>
<a id="L948" name="L948"></a> 948 
<a id="L949" name="L949"></a> 949         tempA = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[3].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L950" name="L950"></a> 950         tempB = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)TEST_POINTS[3].<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L951" name="L951"></a> 951 
<a id="L952" name="L952"></a> 952         tempA.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration1);
<a id="L953" name="L953"></a> 953         tempB.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(duration2);
<a id="L954" name="L954"></a> 954         resultB = tempA.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(tempB);
<a id="L955" name="L955"></a> 955         resultA = <a href="../D/13064.html" title="Multiple defined in 2 places.">compareResults</a>(resultA, resultB);
<a id="L956" name="L956"></a> 956 
<a id="L957" name="L957"></a> 957         <strong class="reserved">return</strong> resultA;
<a id="L958" name="L958"></a> 958     <em class="brace">}</em>
<a id="L959" name="L959"></a> 959 
<a id="L960" name="L960"></a> 960     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/11720.html" title="Multiple referred from 6 places.">compareResults</a>(<strong class="reserved">int</strong> resultA, <strong class="reserved">int</strong> resultB)<em class="brace">{</em>
<a id="L961" name="L961"></a> 961 
<a id="L962" name="L962"></a> 962       <strong class="reserved">if</strong> ( resultB == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE ) <em class="brace">{</em>
<a id="L963" name="L963"></a> 963             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L964" name="L964"></a> 964         <em class="brace">}</em>
<a id="L965" name="L965"></a> 965         <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( resultA!=resultB) <em class="brace">{</em>
<a id="L966" name="L966"></a> 966             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L967" name="L967"></a> 967         <em class="brace">}</em>
<a id="L968" name="L968"></a> 968         <strong class="reserved">return</strong> resultA;
<a id="L969" name="L969"></a> 969     <em class="brace">}</em>
<a id="L970" name="L970"></a> 970 
<div class="comment">
      Returns a hash code consistent with the definition of the equals method.
      @see Object#hashCode()</div>
<a id="L976" name="L976"></a> 976     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L977" name="L977"></a> 977         <em class="comment">// component wise hash is not correct because 1day = 24hours</em>
<a id="L978" name="L978"></a> 978         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = TEST_POINTS[0].<a href="../D/35407.html" title="Multiple defined in 4 places.">toGregorianCalendar</a>();
<a id="L979" name="L979"></a> 979         <strong class="reserved">this</strong>.<a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(cal);
<a id="L980" name="L980"></a> 980         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>) <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(cal);
<a id="L981" name="L981"></a> 981     <em class="brace">}</em>
<a id="L982" name="L982"></a> 982 
<div class="comment">
      Returns a string representation of this duration object.
      <p>
      The result is formatter according to the XML Schema 1.0
      spec and can be always parsed back later into the
      equivalent duration object by
      the {@link #DurationImpl(String)} constructor.
      </p><p>
      Formally, the following holds for any <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>
      object x.
      </p><pre>      new Duration(x.toString()).equals(x)
      </pre>
      @return
           Always return a non-null valid String object.</div>
<a id="L1002" name="L1002"></a>1002     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1003" name="L1003"></a>1003         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L1004" name="L1004"></a>1004         <strong class="reserved">if</strong> (<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> &lt; 0) <em class="brace">{</em>
<a id="L1005" name="L1005"></a>1005             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('-');
<a id="L1006" name="L1006"></a>1006         <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('P');
<a id="L1008" name="L1008"></a>1008 
<a id="L1009" name="L1009"></a>1009         <strong class="reserved">if</strong> (years != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1010" name="L1010"></a>1010             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(years + "Y");
<a id="L1011" name="L1011"></a>1011         <em class="brace">}</em>
<a id="L1012" name="L1012"></a>1012         <strong class="reserved">if</strong> (months != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1013" name="L1013"></a>1013             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(months + "M");
<a id="L1014" name="L1014"></a>1014         <em class="brace">}</em>
<a id="L1015" name="L1015"></a>1015         <strong class="reserved">if</strong> (days != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1016" name="L1016"></a>1016             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(days + "D");
<a id="L1017" name="L1017"></a>1017         <em class="brace">}</em>
<a id="L1018" name="L1018"></a>1018 
<a id="L1019" name="L1019"></a>1019         <strong class="reserved">if</strong> (hours != <strong class="reserved">null</strong> || minutes != <strong class="reserved">null</strong> || seconds != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('T');
<a id="L1021" name="L1021"></a>1021             <strong class="reserved">if</strong> (hours != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(hours + "H");
<a id="L1023" name="L1023"></a>1023             <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024             <strong class="reserved">if</strong> (minutes != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1025" name="L1025"></a>1025                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(minutes + "M");
<a id="L1026" name="L1026"></a>1026             <em class="brace">}</em>
<a id="L1027" name="L1027"></a>1027             <strong class="reserved">if</strong> (seconds != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1028" name="L1028"></a>1028                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(seconds) + "S");
<a id="L1029" name="L1029"></a>1029             <em class="brace">}</em>
<a id="L1030" name="L1030"></a>1030         <em class="brace">}</em>
<a id="L1031" name="L1031"></a>1031 
<a id="L1032" name="L1032"></a>1032         <strong class="reserved">return</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1033" name="L1033"></a>1033     <em class="brace">}</em>
<a id="L1034" name="L1034"></a>1034 
<div class="comment">
      <p>Turns <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> to a string representation.</p>
      <p>Due to a behavior change in the {@link BigDecimal#toString()}
      method in JDK1.5, this had to be implemented here.</p>
      @param bd <code>BigDecimal</code> to format as a <code>String</code>
      @return  <code>String</code> representation of <code>BigDecimal</code></div>
<a id="L1045" name="L1045"></a>1045     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> bd) <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> intString = bd.<a href="../S/1464.html#L2255" title="Defined at 2255 in src/java/math/BigDecimal.java.">unscaledValue</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1047" name="L1047"></a>1047         <strong class="reserved">int</strong> <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a> = bd.<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>();
<a id="L1048" name="L1048"></a>1048 
<a id="L1049" name="L1049"></a>1049         <strong class="reserved">if</strong> (<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a> == 0) <em class="brace">{</em>
<a id="L1050" name="L1050"></a>1050             <strong class="reserved">return</strong> intString;
<a id="L1051" name="L1051"></a>1051         <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052 
<div class="comment">
         /* Insert decimal point */</div>
<a id="L1054" name="L1054"></a>1054         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>;
<a id="L1055" name="L1055"></a>1055         <strong class="reserved">int</strong> insertionPoint = intString.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>;
<a id="L1056" name="L1056"></a>1056         <strong class="reserved">if</strong> (insertionPoint == 0) <div class="comment">
/* Point goes right before intVal */</div>
<a id="L1057" name="L1057"></a>1057             <strong class="reserved">return</strong> "0." + intString;
<a id="L1058" name="L1058"></a>1058         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (insertionPoint &gt; 0) <div class="comment">
/* Point goes inside intVal */</div>
<a id="L1059" name="L1059"></a>1059             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(intString);
<a id="L1060" name="L1060"></a>1060             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(insertionPoint, '.');
<a id="L1061" name="L1061"></a>1061         <em class="brace">}</em> <strong class="reserved">else</strong> <div class="comment">
/* We must insert zeros between point and intVal */</div>
<a id="L1062" name="L1062"></a>1062             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(3 - insertionPoint + intString.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L1063" name="L1063"></a>1063             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("0.");
<a id="L1064" name="L1064"></a>1064             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; -insertionPoint; i++) <em class="brace">{</em>
<a id="L1065" name="L1065"></a>1065                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('0');
<a id="L1066" name="L1066"></a>1066             <em class="brace">}</em>
<a id="L1067" name="L1067"></a>1067             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(intString);
<a id="L1068" name="L1068"></a>1068         <em class="brace">}</em>
<a id="L1069" name="L1069"></a>1069         <strong class="reserved">return</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1070" name="L1070"></a>1070     <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071 
<div class="comment">
      Checks if a field is set.
      A field of a duration object may or may not be present.
      This method can be used to test if a field is present.
      @param field
           one of the six Field constants (YEARS,MONTHS,DAYS,HOURS,
           MINUTES, or SECONDS.)
      @return
           true if the field is present. false if not.
      @throws NullPointerException
           If the field parameter is null.</div>
<a id="L1087" name="L1087"></a>1087     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22010.html" title="Multiple referred from 131 places.">isSet</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> field) <em class="brace">{</em>
<a id="L1088" name="L1088"></a>1088 
<a id="L1089" name="L1089"></a>1089         <strong class="reserved">if</strong> (field == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a> = "javax.xml.datatype.Duration" + "#isSet(DatatypeConstants.Field field)" ;
<a id="L1091" name="L1091"></a>1091                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(
<a id="L1092" name="L1092"></a>1092                 <em class="comment">//"cannot be called with field == null"</em>
<a id="L1093" name="L1093"></a>1093                 <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "FieldCannotBeNull", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a><em class="brace">}</em>)
<a id="L1094" name="L1094"></a>1094                 );
<a id="L1095" name="L1095"></a>1095         <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096 
<a id="L1097" name="L1097"></a>1097         <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098                         <strong class="reserved">return</strong> years != <strong class="reserved">null</strong>;
<a id="L1099" name="L1099"></a>1099         <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100 
<a id="L1101" name="L1101"></a>1101                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>) <em class="brace">{</em>
<a id="L1102" name="L1102"></a>1102                         <strong class="reserved">return</strong> months != <strong class="reserved">null</strong>;
<a id="L1103" name="L1103"></a>1103                 <em class="brace">}</em>
<a id="L1104" name="L1104"></a>1104 
<a id="L1105" name="L1105"></a>1105                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>) <em class="brace">{</em>
<a id="L1106" name="L1106"></a>1106                         <strong class="reserved">return</strong> days != <strong class="reserved">null</strong>;
<a id="L1107" name="L1107"></a>1107                 <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108 
<a id="L1109" name="L1109"></a>1109                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>) <em class="brace">{</em>
<a id="L1110" name="L1110"></a>1110                         <strong class="reserved">return</strong> hours != <strong class="reserved">null</strong>;
<a id="L1111" name="L1111"></a>1111                 <em class="brace">}</em>
<a id="L1112" name="L1112"></a>1112 
<a id="L1113" name="L1113"></a>1113                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>) <em class="brace">{</em>
<a id="L1114" name="L1114"></a>1114                         <strong class="reserved">return</strong> minutes != <strong class="reserved">null</strong>;
<a id="L1115" name="L1115"></a>1115                 <em class="brace">}</em>
<a id="L1116" name="L1116"></a>1116 
<a id="L1117" name="L1117"></a>1117                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>) <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118                         <strong class="reserved">return</strong> seconds != <strong class="reserved">null</strong>;
<a id="L1119" name="L1119"></a>1119                 <em class="brace">}</em>
<a id="L1120" name="L1120"></a>1120         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a> = "javax.xml.datatype.Duration" + "#isSet(DatatypeConstants.Field field)";
<a id="L1121" name="L1121"></a>1121 
<a id="L1122" name="L1122"></a>1122         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L1123" name="L1123"></a>1123             <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>,"UnknownField", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a>, field.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L1124" name="L1124"></a>1124                 );
<a id="L1125" name="L1125"></a>1125 
<a id="L1126" name="L1126"></a>1126     <em class="brace">}</em>
<a id="L1127" name="L1127"></a>1127 
<div class="comment">
      Gets the value of a field.
      Fields of a duration object may contain arbitrary large value.
      Therefore this method is designed to return a <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> object.
      In case of YEARS, MONTHS, DAYS, HOURS, and MINUTES, the returned
      number will be a non-negative integer. In case of seconds,
      the returned number may be a non-negative decimal value.
      @param field
           one of the six Field constants (YEARS,MONTHS,DAYS,HOURS,
           MINUTES, or SECONDS.)
      @return
           If the specified field is present, this method returns
           a non-null non-negative <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> object that
           represents its value. If it is not present, return null.
           For YEARS, MONTHS, DAYS, HOURS, and MINUTES, this method
           returns a <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> object. For SECONDS, this
           method returns a <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.
      @throws NullPointerException
           If the field parameter is null.</div>
<a id="L1152" name="L1152"></a>1152     <strong class="reserved">public</strong> <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> <a href="../R/16547.html" title="Multiple referred from 107 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> field) <em class="brace">{</em>
<a id="L1153" name="L1153"></a>1153 
<a id="L1154" name="L1154"></a>1154                 <strong class="reserved">if</strong> (field == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a> = "javax.xml.datatype.Duration" + "#isSet(DatatypeConstants.Field field) " ;
<a id="L1156" name="L1156"></a>1156 
<a id="L1157" name="L1157"></a>1157                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(
<a id="L1158" name="L1158"></a>1158                 <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>,"FieldCannotBeNull", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a><em class="brace">}</em>)
<a id="L1159" name="L1159"></a>1159                 );
<a id="L1160" name="L1160"></a>1160                 <em class="brace">}</em>
<a id="L1161" name="L1161"></a>1161 
<a id="L1162" name="L1162"></a>1162                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163                         <strong class="reserved">return</strong> years;
<a id="L1164" name="L1164"></a>1164                 <em class="brace">}</em>
<a id="L1165" name="L1165"></a>1165 
<a id="L1166" name="L1166"></a>1166                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>) <em class="brace">{</em>
<a id="L1167" name="L1167"></a>1167                         <strong class="reserved">return</strong> months;
<a id="L1168" name="L1168"></a>1168                 <em class="brace">}</em>
<a id="L1169" name="L1169"></a>1169 
<a id="L1170" name="L1170"></a>1170                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>) <em class="brace">{</em>
<a id="L1171" name="L1171"></a>1171                         <strong class="reserved">return</strong> days;
<a id="L1172" name="L1172"></a>1172                 <em class="brace">}</em>
<a id="L1173" name="L1173"></a>1173 
<a id="L1174" name="L1174"></a>1174                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>) <em class="brace">{</em>
<a id="L1175" name="L1175"></a>1175                         <strong class="reserved">return</strong> hours;
<a id="L1176" name="L1176"></a>1176                 <em class="brace">}</em>
<a id="L1177" name="L1177"></a>1177 
<a id="L1178" name="L1178"></a>1178                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>) <em class="brace">{</em>
<a id="L1179" name="L1179"></a>1179                         <strong class="reserved">return</strong> minutes;
<a id="L1180" name="L1180"></a>1180                 <em class="brace">}</em>
<a id="L1181" name="L1181"></a>1181 
<a id="L1182" name="L1182"></a>1182                 <strong class="reserved">if</strong> (field == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>) <em class="brace">{</em>
<a id="L1183" name="L1183"></a>1183                         <strong class="reserved">return</strong> seconds;
<a id="L1184" name="L1184"></a>1184                 <em class="brace">}</em>
<div class="comment">
                throw new IllegalArgumentException(
                        "javax.xml.datatype.Duration"
                        + "#(getSet(DatatypeConstants.Field field) called with an unknown field: "
                        + field.toString()
                );</div>
<a id="L1192" name="L1192"></a>1192         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a> = "javax.xml.datatype.Duration" + "#(getSet(DatatypeConstants.Field field)";
<a id="L1193" name="L1193"></a>1193 
<a id="L1194" name="L1194"></a>1194         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L1195" name="L1195"></a>1195             <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>,"UnknownField", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/6276.html#L204" title="Defined at 204 in src/com/sun/jmx/mbeanserver/ConvertingMethod.java.">methodName</a>, field.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>)
<a id="L1196" name="L1196"></a>1196                 );
<a id="L1197" name="L1197"></a>1197 
<a id="L1198" name="L1198"></a>1198     <em class="brace">}</em>
<a id="L1199" name="L1199"></a>1199 
<div class="comment">
      Obtains the value of the YEARS field as an integer value,
      or 0 if not present.
      <p>
      This method is a convenience method around the
      {@link #getField(DatatypeConstants.Field)} method.
      </p><p>
      Note that since this method returns <tt>int</tt>, this
      method will return an incorrect value for <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>s
      with the year field that goes beyond the range of <tt>int</tt>.
      Use <code>getField(YEARS)</code> to avoid possible loss of precision.</p>
      @return
           If the YEARS field is present, return
           its value as an integer by using the {@link Number#intValue()}
           method. If the YEARS field is not present, return 0.</div>
<a id="L1219" name="L1219"></a>1219     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19953.html" title="Multiple referred from 11 places.">getYears</a>() <em class="brace">{</em>
<a id="L1220" name="L1220"></a>1220         <strong class="reserved">return</strong> <a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>);
<a id="L1221" name="L1221"></a>1221     <em class="brace">}</em>
<a id="L1222" name="L1222"></a>1222 
<div class="comment">
      Obtains the value of the MONTHS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the MONTHS field.
      @return Months of this <code>Duration</code>.</div>
<a id="L1232" name="L1232"></a>1232     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17794.html" title="Multiple referred from 17 places.">getMonths</a>() <em class="brace">{</em>
<a id="L1233" name="L1233"></a>1233         <strong class="reserved">return</strong> <a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>);
<a id="L1234" name="L1234"></a>1234     <em class="brace">}</em>
<a id="L1235" name="L1235"></a>1235 
<div class="comment">
      Obtains the value of the DAYS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the DAYS field.
      @return Days of this <code>Duration</code>.</div>
<a id="L1245" name="L1245"></a>1245     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15965.html" title="Multiple referred from 13 places.">getDays</a>() <em class="brace">{</em>
<a id="L1246" name="L1246"></a>1246         <strong class="reserved">return</strong> <a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L1247" name="L1247"></a>1247     <em class="brace">}</em>
<a id="L1248" name="L1248"></a>1248 
<div class="comment">
      Obtains the value of the HOURS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the HOURS field.
      @return Hours of this <code>Duration</code>.</div>
<a id="L1259" name="L1259"></a>1259     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16918.html" title="Multiple referred from 19 places.">getHours</a>() <em class="brace">{</em>
<a id="L1260" name="L1260"></a>1260         <strong class="reserved">return</strong> <a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>);
<a id="L1261" name="L1261"></a>1261     <em class="brace">}</em>
<a id="L1262" name="L1262"></a>1262 
<div class="comment">
      Obtains the value of the MINUTES field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the MINUTES field.
      @return Minutes of this <code>Duration</code>.</div>
<a id="L1273" name="L1273"></a>1273     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17754.html" title="Multiple referred from 17 places.">getMinutes</a>() <em class="brace">{</em>
<a id="L1274" name="L1274"></a>1274         <strong class="reserved">return</strong> <a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>);
<a id="L1275" name="L1275"></a>1275     <em class="brace">}</em>
<a id="L1276" name="L1276"></a>1276 
<div class="comment">
      Obtains the value of the SECONDS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the SECONDS field.
      @return seconds in the integer value. The fraction of seconds
        will be discarded (for example, if the actual value is 2.5,
        this method returns 2)</div>
<a id="L1288" name="L1288"></a>1288     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18892.html" title="Multiple referred from 23 places.">getSeconds</a>() <em class="brace">{</em>
<a id="L1289" name="L1289"></a>1289         <strong class="reserved">return</strong> <a href="../D/19781.html" title="Multiple defined in 33 places.">getInt</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>);
<a id="L1290" name="L1290"></a>1290     <em class="brace">}</em>
<a id="L1291" name="L1291"></a>1291 
<div class="comment">
      <p>Return the requested field value as an int.</p>
      <p>If field is not set, i.e. == null, 0 is returned.</p>
      @param field To get value for.
      @return int value of field or 0 if field is not set.</div>
<a id="L1301" name="L1301"></a>1301     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/17126.html" title="Multiple referred from 178 places.">getInt</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> field) <em class="brace">{</em>
<a id="L1302" name="L1302"></a>1302         <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> n = <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(field);
<a id="L1303" name="L1303"></a>1303         <strong class="reserved">if</strong> (n == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304             <strong class="reserved">return</strong> 0;
<a id="L1305" name="L1305"></a>1305         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1306" name="L1306"></a>1306             <strong class="reserved">return</strong> n.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1307" name="L1307"></a>1307         <em class="brace">}</em>
<a id="L1308" name="L1308"></a>1308     <em class="brace">}</em>
<a id="L1309" name="L1309"></a>1309 
<div class="comment">
      <p>Returns the length of the duration in milli-seconds.</p>
      <p>If the seconds field carries more digits than milli-second order,
      those will be simply discarded (or in other words, rounded to zero.)
      For example, for any Calendar value <code>x<code>,</code></code></p><code><code>
      <pre>      <code>new Duration("PT10.00099S").getTimeInMills(x) == 10000</code>.
      <code>new Duration("-PT10.00099S").getTimeInMills(x) == -10000</code>.
      </pre>
      <p>
      Note that this method uses the {@link #addTo(Calendar)} method,
      which may work incorectly with <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> objects with
      very large values in its fields. See the {@link #addTo(Calendar)}
      method for details.
      @param startInstant
           The length of a month/year varies. The <code>startInstant</code> is
           used to disambiguate this variance. Specifically, this method
           returns the difference between <code>startInstant</code> and
           <code>startInstant+duration</code>
      @return milliseconds between <code>startInstant</code> and
        <code>startInstant</code> plus this <code>Duration</code>
      @throws NullPointerException if <code>startInstant</code> parameter
      is null.</p></code></code></div>
<a id="L1340" name="L1340"></a>1340     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/19495.html" title="Multiple referred from 11 places.">getTimeInMillis</a>(<strong class="reserved">final</strong> <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> startInstant) <em class="brace">{</em>
<a id="L1341" name="L1341"></a>1341         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = (<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>) startInstant.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1342" name="L1342"></a>1342         <a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(cal);
<a id="L1343" name="L1343"></a>1343         <strong class="reserved">return</strong> <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(cal)
<a id="L1344" name="L1344"></a>1344                     - <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(startInstant);
<a id="L1345" name="L1345"></a>1345     <em class="brace">}</em>
<a id="L1346" name="L1346"></a>1346 
<div class="comment">
      <p>Returns the length of the duration in milli-seconds.</p>
      <p>If the seconds field carries more digits than milli-second order,
      those will be simply discarded (or in other words, rounded to zero.)
      For example, for any <code>Date</code> value <code>x<code>,</code></code></p><code><code>
      <pre>      <code>new Duration("PT10.00099S").getTimeInMills(x) == 10000</code>.
      <code>new Duration("-PT10.00099S").getTimeInMills(x) == -10000</code>.
      </pre>
      <p>
      Note that this method uses the {@link #addTo(Date)} method,
      which may work incorectly with <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> objects with
      very large values in its fields. See the {@link #addTo(Date)}
      method for details.
      @param startInstant
           The length of a month/year varies. The <code>startInstant</code> is
           used to disambiguate this variance. Specifically, this method
           returns the difference between <code>startInstant</code> and
           <code>startInstant+duration</code>.
      @throws NullPointerException
           If the startInstant parameter is null.
      @return milliseconds between <code>startInstant</code> and
        <code>startInstant</code> plus this <code>Duration</code>
      @see #getTimeInMillis(Calendar)</p></code></code></div>
<a id="L1378" name="L1378"></a>1378     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/19495.html" title="Multiple referred from 11 places.">getTimeInMillis</a>(<strong class="reserved">final</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> startInstant) <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>();
<a id="L1380" name="L1380"></a>1380         cal.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(startInstant);
<a id="L1381" name="L1381"></a>1381         <strong class="reserved">this</strong>.<a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(cal);
<a id="L1382" name="L1382"></a>1382         <strong class="reserved">return</strong> <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(cal) - startInstant.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>();
<a id="L1383" name="L1383"></a>1383     <em class="brace">}</em>
<a id="L1384" name="L1384"></a>1384 
<a id="L1385" name="L1385"></a>1385 <em class="comment">//    /**</em>
<a id="L1386" name="L1386"></a>1386 <em class="comment">//     * Returns an equivalent but "normalized" duration value.</em>
<a id="L1387" name="L1387"></a>1387 <em class="comment">//     *</em>
<a id="L1388" name="L1388"></a>1388 <em class="comment">//     * Intuitively, the normalization moves YEARS into</em>
<a id="L1389" name="L1389"></a>1389 <em class="comment">//     * MONTHS (by x12) and moves DAYS, HOURS, and MINUTES fields</em>
<a id="L1390" name="L1390"></a>1390 <em class="comment">//     * into SECONDS (by x86400, x3600, and x60 respectively.)</em>
<a id="L1391" name="L1391"></a>1391 <em class="comment">//     *</em>
<a id="L1392" name="L1392"></a>1392 <em class="comment">//     *</em>
<a id="L1393" name="L1393"></a>1393 <em class="comment">//     * Formally, this method satisfies the following conditions:</em>
<a id="L1394" name="L1394"></a>1394 <em class="comment">//     * &lt;ul&gt;</em>
<a id="L1395" name="L1395"></a>1395 <em class="comment">//     *  &lt;li&gt;x.normalize().equals(x)</em>
<a id="L1396" name="L1396"></a>1396 <em class="comment">//     *  &lt;li&gt;!x.normalize().isSet(Duration.YEARS)</em>
<a id="L1397" name="L1397"></a>1397 <em class="comment">//     *  &lt;li&gt;!x.normalize().isSet(Duration.DAYS)</em>
<a id="L1398" name="L1398"></a>1398 <em class="comment">//     *  &lt;li&gt;!x.normalize().isSet(Duration.HOURS)</em>
<a id="L1399" name="L1399"></a>1399 <em class="comment">//     *  &lt;li&gt;!x.normalize().isSet(Duration.MINUTES)</em>
<a id="L1400" name="L1400"></a>1400 <em class="comment">//     * &lt;/ul&gt;</em>
<a id="L1401" name="L1401"></a>1401 <em class="comment">//     *</em>
<a id="L1402" name="L1402"></a>1402 <em class="comment">//     * @return</em>
<a id="L1403" name="L1403"></a>1403 <em class="comment">//     *      always return a non-null valid value.</em>
<a id="L1404" name="L1404"></a>1404 <em class="comment">//     */</em>
<a id="L1405" name="L1405"></a>1405 <em class="comment">//    public Duration normalize() {</em>
<a id="L1406" name="L1406"></a>1406 <em class="comment">//        return null;</em>
<a id="L1407" name="L1407"></a>1407 <em class="comment">//    }</em>
<a id="L1408" name="L1408"></a>1408 
<div class="comment">
      <p>Converts the years and months fields into the days field
      by using a specific time instant as the reference point.</p>
      <p>For example, duration of one month normalizes to 31 days
      given the start time instance "July 8th 2003, 17:40:32".</p>
      <p>Formally, the computation is done as follows:</p>
      <ol>
       <li>The given Calendar object is cloned.
       </li><li>The years, months and days fields will be added to
           the <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> object
           by using the {@link Calendar#add(int,int)} method.
       </li><li>The difference between two Calendars are computed in terms of days.
       </li><li>The computed days, along with the hours, minutes and seconds
           fields of this duration object is used to construct a new
           Duration object.
      </li></ol>
      <p>Note that since the Calendar class uses <code>int</code> to
      hold the value of year and month, this method may produce
      an unexpected result if this duration object holds
      a very large value in the years or months fields.</p>
      @param startTimeInstant <code>Calendar</code> reference point.
      @return <code>Duration</code> of years and months of this <code>Duration</code> as days.
      @throws NullPointerException If the startTimeInstant parameter is null.</div>
<a id="L1439" name="L1439"></a>1439     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> normalizeWith(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> startTimeInstant) <em class="brace">{</em>
<a id="L1440" name="L1440"></a>1440 
<a id="L1441" name="L1441"></a>1441         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>) startTimeInstant.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1442" name="L1442"></a>1442 
<a id="L1443" name="L1443"></a>1443         <em class="comment">// using int may cause overflow, but</em>
<a id="L1444" name="L1444"></a>1444         <em class="comment">// Calendar internally treats value as int anyways.</em>
<a id="L1445" name="L1445"></a>1445         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/23810.html" title="Multiple defined in 5 places.">getYears</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1446" name="L1446"></a>1446         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MONTH, <a href="../D/20732.html" title="Multiple defined in 6 places.">getMonths</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1447" name="L1447"></a>1447         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>, <a href="../D/18228.html" title="Multiple defined in 5 places.">getDays</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1448" name="L1448"></a>1448 
<a id="L1449" name="L1449"></a>1449         <em class="comment">// obtain the difference in terms of days</em>
<a id="L1450" name="L1450"></a>1450         <strong class="reserved">long</strong> diff = <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) - <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(startTimeInstant);
<a id="L1451" name="L1451"></a>1451         <strong class="reserved">int</strong> days = (<strong class="reserved">int</strong>) (diff / (1000L * 60L * 60L * 24L));
<a id="L1452" name="L1452"></a>1452 
<a id="L1453" name="L1453"></a>1453         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>(
<a id="L1454" name="L1454"></a>1454             days &gt;= 0,
<a id="L1455" name="L1455"></a>1455             <strong class="reserved">null</strong>,
<a id="L1456" name="L1456"></a>1456             <strong class="reserved">null</strong>,
<a id="L1457" name="L1457"></a>1457             <a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(days)),
<a id="L1458" name="L1458"></a>1458             (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>),
<a id="L1459" name="L1459"></a>1459             (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>),
<a id="L1460" name="L1460"></a>1460             (<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>));
<a id="L1461" name="L1461"></a>1461     <em class="brace">}</em>
<a id="L1462" name="L1462"></a>1462 
<div class="comment">
      <p>Computes a new duration whose value is <code>factor</code> times
      longer than the value of this duration.</p>
      <p>This method is provided for the convenience.
      It is functionally equivalent to the following code:</p>
      <pre>      multiply(new BigDecimal(String.valueOf(factor)))
      </pre>
      @param factor Factor times longer of new <code>Duration</code> to create.
      @return New <code>Duration</code> that is <code>factor</code>times longer than this <code>Duration</code>.
      @see #multiply(BigDecimal)</div>
<a id="L1479" name="L1479"></a>1479     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/23405.html" title="Multiple referred from 61 places.">multiply</a>(<strong class="reserved">int</strong> factor) <em class="brace">{</em>
<a id="L1480" name="L1480"></a>1480         <strong class="reserved">return</strong> <a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(factor));
<a id="L1481" name="L1481"></a>1481     <em class="brace">}</em>
<a id="L1482" name="L1482"></a>1482 
<div class="comment">
      Computes a new duration whose value is <code>factor</code> times
      longer than the value of this duration.
      <p>
      For example,
      </p><pre>      "P1M" (1 month) * "12" = "P12M" (12 months)
      "PT1M" (1 min) * "0.3" = "PT18S" (18 seconds)
      "P1M" (1 month) * "1.5" = IllegalStateException
      </pre>
      <p>
      Since the <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> class is immutable, this method
      doesn't change the value of this object. It simply computes
      a new Duration object and returns it.
      </p><p>
      The operation will be performed field by field with the precision
      of <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>. Since all the fields except seconds are
      restricted to hold integers,
      any fraction produced by the computation will be
      carried down toward the next lower unit. For example,
      if you multiply "P1D" (1 day) with "0.5", then it will be 0.5 day,
      which will be carried down to "PT12H" (12 hours).
      When fractions of month cannot be meaningfully carried down
      to days, or year to months, this will cause an
      <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> to be thrown.
      For example if you multiple one month by 0.5.</p>
      <p>
      To avoid <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>, use
      the {@link #normalizeWith(Calendar)} method to remove the years
      and months fields.
      @param factor to multiply by
      @return
           returns a non-null valid <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> object
      @throws IllegalStateException if operation produces fraction in
      the months field.
      @throws NullPointerException if the <code>factor</code> parameter is
      <code>null</code>.</p></div>
<a id="L1530" name="L1530"></a>1530     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/23405.html" title="Multiple referred from 61 places.">multiply</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> factor) <em class="brace">{</em>
<a id="L1531" name="L1531"></a>1531         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> carry = ZERO;
<a id="L1532" name="L1532"></a>1532         <strong class="reserved">int</strong> factorSign = factor.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>();
<a id="L1533" name="L1533"></a>1533         factor = factor.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>();
<a id="L1534" name="L1534"></a>1534 
<a id="L1535" name="L1535"></a>1535         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>[] <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>[6];
<a id="L1536" name="L1536"></a>1536 
<a id="L1537" name="L1537"></a>1537         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 5; i++) <em class="brace">{</em>
<a id="L1538" name="L1538"></a>1538             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> bd = <a href="../S/5394.html#L1580" title="Defined at 1580 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">getFieldAsBigDecimal</a>(FIELDS[i]);
<a id="L1539" name="L1539"></a>1539             bd = bd.<a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(factor).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(carry);
<a id="L1540" name="L1540"></a>1540 
<a id="L1541" name="L1541"></a>1541             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i] = bd.<a href="../D/33804.html" title="Multiple defined in 5 places.">setScale</a>(0, <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_DOWN);
<a id="L1542" name="L1542"></a>1542 
<a id="L1543" name="L1543"></a>1543             bd = bd.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i]);
<a id="L1544" name="L1544"></a>1544             <strong class="reserved">if</strong> (i == 1) <em class="brace">{</em>
<a id="L1545" name="L1545"></a>1545                 <strong class="reserved">if</strong> (bd.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() != 0) <em class="brace">{</em>
<a id="L1546" name="L1546"></a>1546                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(); <em class="comment">// illegal carry-down</em>
<a id="L1547" name="L1547"></a>1547                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1548" name="L1548"></a>1548                     carry = ZERO;
<a id="L1549" name="L1549"></a>1549                 <em class="brace">}</em>
<a id="L1550" name="L1550"></a>1550             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1551" name="L1551"></a>1551                 carry = bd.<a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(FACTORS[i]);
<a id="L1552" name="L1552"></a>1552             <em class="brace">}</em>
<a id="L1553" name="L1553"></a>1553         <em class="brace">}</em>
<a id="L1554" name="L1554"></a>1554 
<a id="L1555" name="L1555"></a>1555         <strong class="reserved">if</strong> (seconds != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1556" name="L1556"></a>1556             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[5] = seconds.<a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(factor).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(carry);
<a id="L1557" name="L1557"></a>1557         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1558" name="L1558"></a>1558             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[5] = carry;
<a id="L1559" name="L1559"></a>1559         <em class="brace">}</em>
<a id="L1560" name="L1560"></a>1560 
<a id="L1561" name="L1561"></a>1561         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>(
<a id="L1562" name="L1562"></a>1562             <strong class="reserved">this</strong>.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> * factorSign &gt;= 0,
<a id="L1563" name="L1563"></a>1563             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[0], <strong class="reserved">null</strong> == years),
<a id="L1564" name="L1564"></a>1564             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[1], <strong class="reserved">null</strong> == months),
<a id="L1565" name="L1565"></a>1565             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[2], <strong class="reserved">null</strong> == days),
<a id="L1566" name="L1566"></a>1566             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[3], <strong class="reserved">null</strong> == hours),
<a id="L1567" name="L1567"></a>1567             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[4], <strong class="reserved">null</strong> == minutes),
<a id="L1568" name="L1568"></a>1568             (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[5].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0 &amp;&amp; seconds == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[5]);
<a id="L1569" name="L1569"></a>1569     <em class="brace">}</em>
<a id="L1570" name="L1570"></a>1570 
<div class="comment">
      <p>Gets the value of the field as a <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.</p>
      <p>If the field is unset, return 0.</p>
      @param f Field to get value for.
      @return  non-null valid <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.</div>
<a id="L1580" name="L1580"></a>1580     <strong class="reserved">private</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../S/5394.html#L1538" title="Referred from 1538 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">getFieldAsBigDecimal</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> f) <em class="brace">{</em>
<a id="L1581" name="L1581"></a>1581         <strong class="reserved">if</strong> (f == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>) <em class="brace">{</em>
<a id="L1582" name="L1582"></a>1582             <strong class="reserved">if</strong> (seconds != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1583" name="L1583"></a>1583                 <strong class="reserved">return</strong> seconds;
<a id="L1584" name="L1584"></a>1584             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1585" name="L1585"></a>1585                 <strong class="reserved">return</strong> ZERO;
<a id="L1586" name="L1586"></a>1586             <em class="brace">}</em>
<a id="L1587" name="L1587"></a>1587         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1588" name="L1588"></a>1588             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> bi = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(f);
<a id="L1589" name="L1589"></a>1589             <strong class="reserved">if</strong> (bi == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1590" name="L1590"></a>1590                 <strong class="reserved">return</strong> ZERO;
<a id="L1591" name="L1591"></a>1591             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1592" name="L1592"></a>1592                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(bi);
<a id="L1593" name="L1593"></a>1593             <em class="brace">}</em>
<a id="L1594" name="L1594"></a>1594         <em class="brace">}</em>
<a id="L1595" name="L1595"></a>1595     <em class="brace">}</em>
<a id="L1596" name="L1596"></a>1596 
<div class="comment">
      <p>BigInteger value of BigDecimal value.</p>
      @param value Value to convert.
      @param canBeNull Can returned value be null?
      @return BigInteger value of BigDecimal, possibly null.</div>
<a id="L1605" name="L1605"></a>1605     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../R/29219.html" title="Multiple referred from 40 places.">toBigInteger</a>(
<a id="L1606" name="L1606"></a>1606         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L1607" name="L1607"></a>1607         <strong class="reserved">boolean</strong> canBeNull) <em class="brace">{</em>
<a id="L1608" name="L1608"></a>1608         <strong class="reserved">if</strong> (canBeNull &amp;&amp; <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0) <em class="brace">{</em>
<a id="L1609" name="L1609"></a>1609             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1610" name="L1610"></a>1610         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1611" name="L1611"></a>1611             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../S/1464.html#L2255" title="Defined at 2255 in src/java/math/BigDecimal.java.">unscaledValue</a>();
<a id="L1612" name="L1612"></a>1612         <em class="brace">}</em>
<a id="L1613" name="L1613"></a>1613     <em class="brace">}</em>
<a id="L1614" name="L1614"></a>1614 
<div class="comment">
      1 unit of FIELDS[i] is equivalent to <code>FACTORS[i]</code> unit of
      FIELDS[i+1].</div>
<a id="L1619" name="L1619"></a>1619     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>[] FACTORS = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>[]<em class="brace">{</em>
<a id="L1620" name="L1620"></a>1620         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(12),
<a id="L1621" name="L1621"></a><div class="comment">
         /*undefined*/</div>,
<a id="L1622" name="L1622"></a>1622         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(24),
<a id="L1623" name="L1623"></a>1623         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(60),
<a id="L1624" name="L1624"></a>1624         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(60)
<a id="L1625" name="L1625"></a>1625     <em class="brace">}</em>;
<a id="L1626" name="L1626"></a>1626 
<div class="comment">
      <p>Computes a new duration whose value is <code>this+rhs</code>.</p>
      <p>For example,</p>
      <pre>      "1 day" + "-3 days" = "-2 days"
      "1 year" + "1 day" = "1 year and 1 day"
      "-(1 hour,50 minutes)" + "-20 minutes" = "-(1 hours,70 minutes)"
      "15 hours" + "-3 days" = "-(2 days,9 hours)"
      "1 year" + "-1 day" = IllegalStateException
      </pre>
      <p>Since there's no way to meaningfully subtract 1 day from 1 month,
      there are cases where the operation fails in
      <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>.</p>
      <p>
      Formally, the computation is defined as follows.</p>
      <p>
      Firstly, we can assume that two <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>s to be added
      are both positive without losing generality (i.e.,
      <code>(-X)+Y=Y-X</code>, <code>X+(-Y)=X-Y</code>,
      <code>(-X)+(-Y)=-(X+Y)</code>)
      </p><p>
      Addition of two positive <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>s are simply defined as
      field by field addition where missing fields are treated as 0.
      </p><p>
      A field of the resulting <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> will be unset if and
      only if respective fields of two input <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>s are unset.
      </p><p>
      Note that <code>lhs.add(rhs)</code> will be always successful if
      <code>lhs.signum()*rhs.signum()!=-1</code> or both of them are
      normalized.</p>
      @param rhs <code>Duration</code> to add to this <code>Duration</code>
      @return
           non-null valid Duration object.
      @throws NullPointerException
           If the rhs parameter is null.
      @throws IllegalStateException
           If two durations cannot be meaningfully added. For
           example, adding negative one day to one month causes
           this exception.
      @see #subtract(Duration)</div>
<a id="L1677" name="L1677"></a>1677     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<strong class="reserved">final</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> rhs) <em class="brace">{</em>
<a id="L1678" name="L1678"></a>1678         <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> lhs = <strong class="reserved">this</strong>;
<a id="L1679" name="L1679"></a>1679         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>[] <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>[6];
<a id="L1680" name="L1680"></a>1680 
<a id="L1681" name="L1681"></a>1681         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[0] = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>),
<a id="L1682" name="L1682"></a>1682                 lhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>),  rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()));
<a id="L1683" name="L1683"></a>1683         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[1] = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>),
<a id="L1684" name="L1684"></a>1684                 lhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>), rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()));
<a id="L1685" name="L1685"></a>1685         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[2] = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>),
<a id="L1686" name="L1686"></a>1686                 lhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>),   rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()));
<a id="L1687" name="L1687"></a>1687         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[3] = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>),
<a id="L1688" name="L1688"></a>1688                 lhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>),  rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()));
<a id="L1689" name="L1689"></a>1689         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[4] = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>),
<a id="L1690" name="L1690"></a>1690                 lhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>), rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()));
<a id="L1691" name="L1691"></a>1691         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[5] = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>) lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>),
<a id="L1692" name="L1692"></a>1692                 lhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>) rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>), rhs.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>()));
<a id="L1693" name="L1693"></a>1693 
<a id="L1694" name="L1694"></a>1694         <em class="comment">// align sign</em>
<a id="L1695" name="L1695"></a>1695         <a href="../S/5394.html#L1726" title="Defined at 1726 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">alignSigns</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, 0, 2); <em class="comment">// Y,M</em>
<a id="L1696" name="L1696"></a>1696         <a href="../S/5394.html#L1726" title="Defined at 1726 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">alignSigns</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, 2, 6); <em class="comment">// D,h,m,s</em>
<a id="L1697" name="L1697"></a>1697 
<a id="L1698" name="L1698"></a>1698         <em class="comment">// make sure that the sign bit is consistent across all 6 fields.</em>
<a id="L1699" name="L1699"></a>1699         <strong class="reserved">int</strong> s = 0;
<a id="L1700" name="L1700"></a>1700         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 6; i++) <em class="brace">{</em>
<a id="L1701" name="L1701"></a>1701             <strong class="reserved">if</strong> (s * <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() &lt; 0) <em class="brace">{</em>
<a id="L1702" name="L1702"></a>1702                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>();
<a id="L1703" name="L1703"></a>1703             <em class="brace">}</em>
<a id="L1704" name="L1704"></a>1704             <strong class="reserved">if</strong> (s == 0) <em class="brace">{</em>
<a id="L1705" name="L1705"></a>1705                 s = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>();
<a id="L1706" name="L1706"></a>1706             <em class="brace">}</em>
<a id="L1707" name="L1707"></a>1707         <em class="brace">}</em>
<a id="L1708" name="L1708"></a>1708 
<a id="L1709" name="L1709"></a>1709         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>(
<a id="L1710" name="L1710"></a>1710             s &gt;= 0,
<a id="L1711" name="L1711"></a>1711             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[0], s),
<a id="L1712" name="L1712"></a>1712                 lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) == <strong class="reserved">null</strong> &amp;&amp; rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) == <strong class="reserved">null</strong>),
<a id="L1713" name="L1713"></a>1713             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[1], s),
<a id="L1714" name="L1714"></a>1714                 lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>) == <strong class="reserved">null</strong> &amp;&amp; rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>) == <strong class="reserved">null</strong>),
<a id="L1715" name="L1715"></a>1715             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[2], s),
<a id="L1716" name="L1716"></a>1716                 lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>) == <strong class="reserved">null</strong> &amp;&amp; rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>) == <strong class="reserved">null</strong>),
<a id="L1717" name="L1717"></a>1717             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[3], s),
<a id="L1718" name="L1718"></a>1718                 lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>) == <strong class="reserved">null</strong> &amp;&amp; rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>) == <strong class="reserved">null</strong>),
<a id="L1719" name="L1719"></a>1719             <a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>(<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[4], s),
<a id="L1720" name="L1720"></a>1720                 lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>) == <strong class="reserved">null</strong> &amp;&amp; rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>) == <strong class="reserved">null</strong>),
<a id="L1721" name="L1721"></a>1721              (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[5].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == 0
<a id="L1722" name="L1722"></a>1722              &amp;&amp; lhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>) == <strong class="reserved">null</strong>
<a id="L1723" name="L1723"></a>1723              &amp;&amp; rhs.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>) == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[5], s));
<a id="L1724" name="L1724"></a>1724     <em class="brace">}</em>
<a id="L1725" name="L1725"></a>1725 
<a id="L1726" name="L1726"></a>1726     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/10129.html" title="Multiple referred from 2 places.">alignSigns</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>[] <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L1727" name="L1727"></a>1727         <em class="comment">// align sign</em>
<a id="L1728" name="L1728"></a>1728         <strong class="reserved">boolean</strong> touched;
<a id="L1729" name="L1729"></a>1729 
<a id="L1730" name="L1730"></a>1730         <strong class="reserved">do</strong> <em class="brace">{</em> <em class="comment">// repeat until all the sign bits become consistent</em>
<a id="L1731" name="L1731"></a>1731             touched = <strong class="reserved">false</strong>;
<a id="L1732" name="L1732"></a>1732             <strong class="reserved">int</strong> s = 0; <em class="comment">// sign of the left fields</em>
<a id="L1733" name="L1733"></a>1733 
<a id="L1734" name="L1734"></a>1734             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>; i &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; i++) <em class="brace">{</em>
<a id="L1735" name="L1735"></a>1735                 <strong class="reserved">if</strong> (s * <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() &lt; 0) <em class="brace">{</em>
<a id="L1736" name="L1736"></a>1736                     <em class="comment">// this field has different sign than its left field.</em>
<a id="L1737" name="L1737"></a>1737                     touched = <strong class="reserved">true</strong>;
<a id="L1738" name="L1738"></a>1738 
<a id="L1739" name="L1739"></a>1739                     <em class="comment">// compute the number of unit that needs to be borrowed.</em>
<a id="L1740" name="L1740"></a>1740                     <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> borrow =
<a id="L1741" name="L1741"></a>1741                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>().<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(
<a id="L1742" name="L1742"></a>1742                             FACTORS[i - 1],
<a id="L1743" name="L1743"></a>1743                             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_UP);
<a id="L1744" name="L1744"></a>1744                     <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() &gt; 0) <em class="brace">{</em>
<a id="L1745" name="L1745"></a>1745                         borrow = borrow.<a href="../D/27947.html" title="Multiple defined in 27 places.">negate</a>();
<a id="L1746" name="L1746"></a>1746                     <em class="brace">}</em>
<a id="L1747" name="L1747"></a>1747 
<a id="L1748" name="L1748"></a>1748                     <em class="comment">// update values</em>
<a id="L1749" name="L1749"></a>1749                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i - 1] = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i - 1].<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(borrow);
<a id="L1750" name="L1750"></a>1750                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i] = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(borrow.<a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(FACTORS[i - 1]));
<a id="L1751" name="L1751"></a>1751                 <em class="brace">}</em>
<a id="L1752" name="L1752"></a>1752                 <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() != 0) <em class="brace">{</em>
<a id="L1753" name="L1753"></a>1753                     s = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i].<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>();
<a id="L1754" name="L1754"></a>1754                 <em class="brace">}</em>
<a id="L1755" name="L1755"></a>1755             <em class="brace">}</em>
<a id="L1756" name="L1756"></a>1756         <em class="brace">}</em> <strong class="reserved">while</strong> (touched);
<a id="L1757" name="L1757"></a>1757     <em class="brace">}</em>
<a id="L1758" name="L1758"></a>1758 
<div class="comment">
      Compute <code>value*signum</code> where value==null is treated as
      value==0.
      @param value Value to sanitize.
      @param signum 0 to sanitize to 0, &gt; 0 to sanitize to <code>value</code>, &lt; 0 to sanitize to negative <code>value</code>.
      @return non-null <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.</div>
<a id="L1767" name="L1767"></a>1767     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../R/26585.html" title="Multiple referred from 24 places.">sanitize</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>) <em class="brace">{</em>
<a id="L1768" name="L1768"></a>1768         <strong class="reserved">if</strong> (<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> == 0 || <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1769" name="L1769"></a>1769             <strong class="reserved">return</strong> ZERO;
<a id="L1770" name="L1770"></a>1770         <em class="brace">}</em>
<a id="L1771" name="L1771"></a>1771         <strong class="reserved">if</strong> (<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> &gt; 0) <em class="brace">{</em>
<a id="L1772" name="L1772"></a>1772             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1773" name="L1773"></a>1773         <em class="brace">}</em>
<a id="L1774" name="L1774"></a>1774         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/27947.html" title="Multiple defined in 27 places.">negate</a>());
<a id="L1775" name="L1775"></a>1775     <em class="brace">}</em>
<a id="L1776" name="L1776"></a>1776 
<div class="comment">
      <p>Compute <code>value*signum</code> where <code>value==null</code> is treated as <code>value==0</code></p>.
      @param value Value to sanitize.
      @param signum 0 to sanitize to 0, &gt; 0 to sanitize to <code>value</code>, &lt; 0 to sanitize to negative <code>value</code>.
      @return non-null <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.</div>
<a id="L1785" name="L1785"></a>1785     <strong class="reserved">static</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../R/26585.html" title="Multiple referred from 24 places.">sanitize</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>) <em class="brace">{</em>
<a id="L1786" name="L1786"></a>1786         <strong class="reserved">if</strong> (<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> == 0 || <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1787" name="L1787"></a>1787             <strong class="reserved">return</strong> ZERO;
<a id="L1788" name="L1788"></a>1788         <em class="brace">}</em>
<a id="L1789" name="L1789"></a>1789         <strong class="reserved">if</strong> (<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> &gt; 0) <em class="brace">{</em>
<a id="L1790" name="L1790"></a>1790             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1791" name="L1791"></a>1791         <em class="brace">}</em>
<a id="L1792" name="L1792"></a>1792         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/27947.html" title="Multiple defined in 27 places.">negate</a>();
<a id="L1793" name="L1793"></a>1793     <em class="brace">}</em>
<a id="L1794" name="L1794"></a>1794 
<div class="comment">
      <p>Computes a new duration whose value is <code>this-rhs</code>.</p>
      <p>For example:</p>
      <pre>      "1 day" - "-3 days" = "4 days"
      "1 year" - "1 day" = IllegalStateException
      "-(1 hour,50 minutes)" - "-20 minutes" = "-(1hours,30 minutes)"
      "15 hours" - "-3 days" = "3 days and 15 hours"
      "1 year" - "-1 day" = "1 year and 1 day"
      </pre>
      <p>Since there's no way to meaningfully subtract 1 day from 1 month,
      there are cases where the operation fails in <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>.</p>
      <p>Formally the computation is defined as follows.
      First, we can assume that two <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>s are both positive
      without losing generality.  (i.e.,
      <code>(-X)-Y=-(X+Y)</code>, <code>X-(-Y)=X+Y</code>,
      <code>(-X)-(-Y)=-(X-Y)</code>)</p>
      <p>Then two durations are subtracted field by field.
      If the sign of any non-zero field <tt>F</tt> is different from
      the sign of the most significant field,
      1 (if <tt>F</tt> is negative) or -1 (otherwise)
      will be borrowed from the next bigger unit of <tt>F</tt>.</p>
      <p>This process is repeated until all the non-zero fields have
      the same sign.</p>
      <p>If a borrow occurs in the days field (in other words, if
      the computation needs to borrow 1 or -1 month to compensate
      days), then the computation fails by throwing an
      <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>.</p>
      @param rhs <code>Duration</code> to substract from this <code>Duration</code>.
      @return New <code>Duration</code> created from subtracting <code>rhs</code> from this <code>Duration</code>.
      @throws IllegalStateException
           If two durations cannot be meaningfully subtracted. For
           example, subtracting one day from one month causes
           this exception.
      @throws NullPointerException
           If the rhs parameter is null.
      @see #add(Duration)</div>
<a id="L1844" name="L1844"></a>1844     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/29021.html" title="Multiple referred from 64 places.">subtract</a>(<strong class="reserved">final</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> rhs) <em class="brace">{</em>
<a id="L1845" name="L1845"></a>1845         <strong class="reserved">return</strong> <a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(rhs.<a href="../D/27947.html" title="Multiple defined in 27 places.">negate</a>());
<a id="L1846" name="L1846"></a>1846     <em class="brace">}</em>
<a id="L1847" name="L1847"></a>1847 
<div class="comment">
      Returns a new <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> object whose
      value is <code>-this</code>.
      <p>
      Since the <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> class is immutable, this method
      doesn't change the value of this object. It simply computes
      a new Duration object and returns it.
      @return
           always return a non-null valid <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> object.</p></div>
<a id="L1860" name="L1860"></a>1860     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/23510.html" title="Multiple referred from 53 places.">negate</a>() <em class="brace">{</em>
<a id="L1861" name="L1861"></a>1861         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>(
<a id="L1862" name="L1862"></a>1862             <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> &lt;= 0,
<a id="L1863" name="L1863"></a>1863             years,
<a id="L1864" name="L1864"></a>1864             months,
<a id="L1865" name="L1865"></a>1865             days,
<a id="L1866" name="L1866"></a>1866             hours,
<a id="L1867" name="L1867"></a>1867             minutes,
<a id="L1868" name="L1868"></a>1868             seconds);
<a id="L1869" name="L1869"></a>1869     <em class="brace">}</em>
<a id="L1870" name="L1870"></a>1870 
<div class="comment">
      Returns the sign of this duration in -1,0, or 1.
      @return
           -1 if this duration is negative, 0 if the duration is zero,
           and 1 if the duration is postive.</div>
<a id="L1878" name="L1878"></a>1878     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28621.html" title="Multiple referred from 227 places.">signum</a>() <em class="brace">{</em>
<a id="L1879" name="L1879"></a>1879         <strong class="reserved">return</strong> <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>;
<a id="L1880" name="L1880"></a>1880     <em class="brace">}</em>
<a id="L1881" name="L1881"></a>1881 
<a id="L1882" name="L1882"></a>1882 
<div class="comment">
      Adds this duration to a <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> object.
      <p>
      Calls {@link java.util.Calendar#add(int,int)} in the
      order of YEARS, MONTHS, DAYS, HOURS, MINUTES, SECONDS, and MILLISECONDS
      if those fields are present. Because the <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> class
      uses int to hold values, there are cases where this method
      won't work correctly (for example if values of fields
      exceed the range of int.)
      </p>
      <p>
      Also, since this duration class is a Gregorian duration, this
      method will not work correctly if the given <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>
      object is based on some other calendar systems.
      </p>
      <p>
      Any fractional parts of this <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> object
      beyond milliseconds will be simply ignored. For example, if
      this duration is "P1.23456S", then 1 is added to SECONDS,
      234 is added to MILLISECONDS, and the rest will be unused.
      </p>
      <p>
      Note that because {@link Calendar#add(int, int)} is using
      <tt>int</tt>, <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> with values beyond the
      range of <tt>int</tt> in its fields
      will cause overflow/underflow to the given <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.
      {@link XMLGregorianCalendar#add(Duration)} provides the same
      basic operation as this method while avoiding
      the overflow/underflow issues.
      @param calendar
           A calendar object whose value will be modified.
      @throws NullPointerException
           if the calendar parameter is null.</p></div>
<a id="L1922" name="L1922"></a>1922     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9993.html" title="Multiple referred from 32 places.">addTo</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> calendar) <em class="brace">{</em>
<a id="L1923" name="L1923"></a>1923         calendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/23810.html" title="Multiple defined in 5 places.">getYears</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1924" name="L1924"></a>1924         calendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MONTH, <a href="../D/20732.html" title="Multiple defined in 6 places.">getMonths</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1925" name="L1925"></a>1925         calendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>, <a href="../D/18228.html" title="Multiple defined in 5 places.">getDays</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1926" name="L1926"></a>1926         calendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.HOUR, <a href="../D/19498.html" title="Multiple defined in 6 places.">getHours</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1927" name="L1927"></a>1927         calendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MINUTE, <a href="../D/20682.html" title="Multiple defined in 6 places.">getMinutes</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1928" name="L1928"></a>1928         calendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.SECOND, <a href="../D/22313.html" title="Multiple defined in 8 places.">getSeconds</a>() * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1929" name="L1929"></a>1929 
<a id="L1930" name="L1930"></a>1930         <strong class="reserved">if</strong> (seconds != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1931" name="L1931"></a>1931             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fraction =
<a id="L1932" name="L1932"></a>1932                 seconds.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(seconds.<a href="../D/33804.html" title="Multiple defined in 5 places.">setScale</a>(0, <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_DOWN));
<a id="L1933" name="L1933"></a>1933             <strong class="reserved">int</strong> millisec = fraction.<a href="../S/1464.html#L2554" title="Defined at 2554 in src/java/math/BigDecimal.java.">movePointRight</a>(3).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1934" name="L1934"></a>1934             calendar.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MILLISECOND, millisec * <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L1935" name="L1935"></a>1935         <em class="brace">}</em>
<a id="L1936" name="L1936"></a>1936     <em class="brace">}</em>
<a id="L1937" name="L1937"></a>1937 
<div class="comment">
      Adds this duration to a <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> object.
      <p>
      The given date is first converted into
      a {@link java.util.GregorianCalendar}, then the duration
      is added exactly like the {@link #addTo(Calendar)} method.
      </p><p>
      The updated time instant is then converted back into a
      <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> object and used to update the given <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> object.
      </p><p>
      This somewhat redundant computation is necessary to unambiguously
      determine the duration of months and years.
      @param date
           A date object whose value will be modified.
      @throws NullPointerException
           if the date parameter is null.</p></div>
<a id="L1959" name="L1959"></a>1959     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9993.html" title="Multiple referred from 32 places.">addTo</a>(<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>) <em class="brace">{</em>
<a id="L1960" name="L1960"></a>1960         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>();
<a id="L1961" name="L1961"></a>1961         cal.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>); <em class="comment">// this will throw NPE if date==null</em>
<a id="L1962" name="L1962"></a>1962         <strong class="reserved">this</strong>.<a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(cal);
<a id="L1963" name="L1963"></a>1963         <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(<a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(cal));
<a id="L1964" name="L1964"></a>1964     <em class="brace">}</em>
<a id="L1965" name="L1965"></a>1965 
<div class="comment">
      <p>Stream Unique Identifier.</p>
      <p>TODO: Serialization should use the XML string representation as
      the serialization format to ensure future compatibility.</p></div>
<a id="L1972" name="L1972"></a>1972     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 1L;
<a id="L1973" name="L1973"></a>1973 
<div class="comment">
      Writes <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> as a lexical representation
      for maximum future compatibility.
      @return
           An object that encapsulates the string
           returned by <code>this.toString()</code>.</div>
<a id="L1982" name="L1982"></a>1982     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/30703.html" title="Multiple referred from 7 places.">writeReplace</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1983" name="L1983"></a>1983         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5394.html#L1991" title="Defined at 1991 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationStream</a>(<strong class="reserved">this</strong>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L1984" name="L1984"></a>1984     <em class="brace">}</em>
<a id="L1985" name="L1985"></a>1985 
<div class="comment">
      Representation of <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> in the object stream.
      @author Kohsuke Kawaguchi (kohsuke.kawaguchi@sun.com)</div>
<a id="L1991" name="L1991"></a>1991     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/5394.html#L1983" title="Referred from 1983 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationStream</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L1992" name="L1992"></a>1992         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lexical;
<a id="L1993" name="L1993"></a>1993 
<a id="L1994" name="L1994"></a>1994         <strong class="reserved">private</strong> DurationStream(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> _lexical) <em class="brace">{</em>
<a id="L1995" name="L1995"></a>1995             <strong class="reserved">this</strong>.lexical = _lexical;
<a id="L1996" name="L1996"></a>1996         <em class="brace">}</em>
<a id="L1997" name="L1997"></a>1997 
<a id="L1998" name="L1998"></a>1998         <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6954.html#L419" title="Referred from 419 in src/com/sun/corba/se/impl/io/IIOPInputStream.java.">readResolve</a>() <strong class="reserved">throws</strong> <a href="../S/1384.html#L34" title="Defined at 34 in src/java/io/ObjectStreamException.java.">ObjectStreamException</a> <em class="brace">{</em>
<a id="L1999" name="L1999"></a>1999             <em class="comment">//            try {</em>
<a id="L2000" name="L2000"></a>2000             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>(lexical);
<a id="L2001" name="L2001"></a>2001             <em class="comment">//            } catch( ParseException e ) {</em>
<a id="L2002" name="L2002"></a>2002             <em class="comment">//                throw new StreamCorruptedException("unable to parse "+lexical+" as duration");</em>
<a id="L2003" name="L2003"></a>2003             <em class="comment">//            }</em>
<a id="L2004" name="L2004"></a>2004         <em class="brace">}</em>
<a id="L2005" name="L2005"></a>2005 
<a id="L2006" name="L2006"></a>2006         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 1L;
<a id="L2007" name="L2007"></a>2007     <em class="brace">}</em>
<a id="L2008" name="L2008"></a>2008 
<div class="comment">
      Calls the {@link Calendar#getTimeInMillis} method.
      Prior to JDK1.4, this method was protected and therefore
      cannot be invoked directly.
      In future, this should be replaced by
      <code>cal.getTimeInMillis()</code></div>
<a id="L2017" name="L2017"></a>2017     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> <a href="../R/15425.html" title="Multiple referred from 10 places.">getCalendarTimeInMillis</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal) <em class="brace">{</em>
<a id="L2018" name="L2018"></a>2018         <strong class="reserved">return</strong> cal.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>().<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>();
<a id="L2019" name="L2019"></a>2019     <em class="brace">}</em>
<a id="L2020" name="L2020"></a>2020 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L196">[^]</a><a href="#L2017">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>