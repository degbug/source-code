<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L130">[^]</a><a href="#L575">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L130" title="Defined at 130.">getCatalogList</a></li>
<li><a href="#L144" title="Defined at 144.">setCatalogList</a></li>
<li><a href="#L153" title="Defined at 153.">clear</a></li>
<li><a href="#L167" title="Defined at 167.">getPreferPublic</a></li>
<li><a href="#L179" title="Defined at 179.">setPreferPublic</a></li>
<li><a href="#L196" title="Defined at 196.">getUseLiteralSystemId</a></li>
<li><a href="#L220" title="Defined at 220.">setUseLiteralSystemId</a></li>
<li><a href="#L237" title="Defined at 237.">resolveEntity</a></li>
<li><a href="#L271" title="Defined at 271.">resolveEntity</a></li>
<li><a href="#L312" title="Defined at 312.">getExternalSubset</a></li>
<li><a href="#L333" title="Defined at 333.">resolveResource</a></li>
<li><a href="#L392" title="Defined at 392.">resolveEntity</a></li>
<li><a href="#L415" title="Defined at 415.">resolveIdentifier</a></li>
<li><a href="#L464" title="Defined at 464.">resolveSystem</a></li>
<li><a href="#L490" title="Defined at 490.">resolvePublic</a></li>
<li><a href="#L519" title="Defined at 519.">resolveURI</a></li>
<li><a href="#L536" title="Defined at 536.">init</a></li>
<li><a href="#L556" title="Defined at 556.">parseCatalogs</a></li>
<li><a href="#L575" title="Defined at 575.">attachReaderToCatalog</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2004,2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.util;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.io.IOException;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> org.xml.sax.InputSource;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> org.xml.sax.ext.EntityResolver2;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> org.w3c.dom.ls.LSInput;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> org.w3c.dom.ls.LSResourceResolver;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.xml.parsers.SAXParserFactory;
<a id="L33" name="L33"></a>  33 
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DOMInputImpl;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XNIException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XMLResourceIdentifier;
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.parser.XMLEntityResolver;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.parser.XMLInputSource;
<a id="L42" name="L42"></a>  42 
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.Catalog;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.CatalogManager;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.readers.OASISXMLCatalogReader;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.readers.SAXCatalogReader;
<a id="L47" name="L47"></a>  47 
<div class="comment">
  <p>The catalog resolver handles the resolution of external
  identifiers and URI references through XML catalogs. This
  component supports XML catalogs defined by the
  <a href="http://www.oasis-open.org/committees/entity/spec.html">
  OASIS XML Catalogs Specification</a>. It encapsulates the
  <a href="http://xml.apache.org/commons/">XML Commons</a> resolver.
  An instance of this class may be registered on the parser
  as a SAX entity resolver, as a DOM LSResourceResolver or
  as an XNI entity resolver by setting the property
  (http://apache.org/xml/properties/internal/entity-resolver).</p>
  <p>It is intended that this class may be used standalone to perform
  catalog resolution outside of a parsing context. It may be shared
  between several parsers and the application.</p>
  @author Michael Glavassevich, IBM</div>
<a id="L67" name="L67"></a>  67 <strong class="reserved">public</strong> <strong class="reserved">class</strong> XMLCatalogResolver
<a id="L68" name="L68"></a>  68     <strong class="reserved">implements</strong> <a href="../S/5504.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLEntityResolver.java.">XMLEntityResolver</a>, <a href="../S/717.html#L86" title="Defined at 86 in src/org/xml/sax/ext/EntityResolver2.java.">EntityResolver2</a>, <a href="../S/135.html#L67" title="Defined at 67 in src/org/w3c/dom/ls/LSResourceResolver.java.">LSResourceResolver</a> <em class="brace">{</em>
<a id="L69" name="L69"></a>  69 
<div class="comment">
     /** Internal catalog manager for Apache catalogs. **/</div>
<a id="L71" name="L71"></a>  71     <strong class="reserved">private</strong> <a href="../S/5933.html#L126" title="Defined at 126 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">CatalogManager</a> fResolverCatalogManager = <strong class="reserved">null</strong>;
<a id="L72" name="L72"></a>  72 
<div class="comment">
     /** Internal catalog structure. **/</div>
<a id="L74" name="L74"></a>  74     <strong class="reserved">private</strong> <a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a> fCatalog = <strong class="reserved">null</strong>;
<a id="L75" name="L75"></a>  75 
<div class="comment">
     /** An array of catalog URIs. **/</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> [] fCatalogsList = <strong class="reserved">null</strong>;
<a id="L78" name="L78"></a>  78 
<div class="comment">
      Indicates whether the list of catalogs has
      changed since it was processed.</div>
<a id="L83" name="L83"></a>  83     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> fCatalogsChanged = <strong class="reserved">true</strong>;
<a id="L84" name="L84"></a>  84 
<div class="comment">
     /** Application specified prefer public setting. **/</div>
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> fPreferPublic = <strong class="reserved">true</strong>;
<a id="L87" name="L87"></a>  87 
<div class="comment">
      Indicates whether the application desires that
      the parser or some other component performing catalog
      resolution should use the literal system identifier
      instead of the expanded system identifier.</div>
<a id="L94" name="L94"></a>  94     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> fUseLiteralSystemId = <strong class="reserved">true</strong>;
<a id="L95" name="L95"></a>  95 
<div class="comment">
      <p>Constructs a catalog resolver with a default configuration.</p></div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">public</strong> XMLCatalogResolver () <em class="brace">{</em>
<a id="L100" name="L100"></a> 100         <strong class="reserved">this</strong>(<strong class="reserved">null</strong>, <strong class="reserved">true</strong>);
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>
<a id="L102" name="L102"></a> 102 
<div class="comment">
      <p>Constructs a catalog resolver with the given
      list of entry files.</p>
      @param catalogs an ordered array list of absolute URIs</div>
<a id="L109" name="L109"></a> 109     <strong class="reserved">public</strong> XMLCatalogResolver (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> [] catalogs) <em class="brace">{</em>
<a id="L110" name="L110"></a> 110         <strong class="reserved">this</strong>(catalogs, <strong class="reserved">true</strong>);
<a id="L111" name="L111"></a> 111     <em class="brace">}</em>
<a id="L112" name="L112"></a> 112 
<div class="comment">
      <p>Constructs a catalog resolver with the given
      list of entry files and the preference for whether
      system or public matches are preferred.</p>
      @param catalogs an ordered array list of absolute URIs
      @param preferPublic the prefer public setting</div>
<a id="L121" name="L121"></a> 121     <strong class="reserved">public</strong> XMLCatalogResolver (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> [] catalogs, <strong class="reserved">boolean</strong> <a href="../S/5933.html#L604" title="Defined at 604 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">preferPublic</a>) <em class="brace">{</em>
<a id="L122" name="L122"></a> 122         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(catalogs, <a href="../S/5933.html#L604" title="Defined at 604 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">preferPublic</a>);
<a id="L123" name="L123"></a> 123     <em class="brace">}</em>
<a id="L124" name="L124"></a> 124 
<div class="comment">
      <p>Returns the initial list of catalog entry files.</p>
      @return the initial list of catalog entry files</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> [] getCatalogList () <em class="brace">{</em>
<a id="L131" name="L131"></a> 131         <strong class="reserved">return</strong> (fCatalogsList != <strong class="reserved">null</strong>)
<a id="L132" name="L132"></a> 132             ? (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]) fCatalogsList.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() : <strong class="reserved">null</strong>;
<a id="L133" name="L133"></a> 133     <em class="brace">}</em>
<a id="L134" name="L134"></a> 134 
<div class="comment">
      <p>Sets the initial list of catalog entry files.
      If there were any catalog mappings cached from
      the previous list they will be replaced by catalog
      mappings from the new list the next time the catalog
      is queried.</p>
      @param catalogs an ordered array list of absolute URIs</div>
<a id="L144" name="L144"></a> 144     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setCatalogList (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> [] catalogs) <em class="brace">{</em>
<a id="L145" name="L145"></a> 145         fCatalogsChanged = <strong class="reserved">true</strong>;
<a id="L146" name="L146"></a> 146         fCatalogsList = (catalogs != <strong class="reserved">null</strong>)
<a id="L147" name="L147"></a> 147             ? (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]) catalogs.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() : <strong class="reserved">null</strong>;
<a id="L148" name="L148"></a> 148     <em class="brace">}</em>
<a id="L149" name="L149"></a> 149 
<div class="comment">
      <p>Forces the cache of catalog mappings to be cleared.</p></div>
<a id="L153" name="L153"></a> 153     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a> () <em class="brace">{</em>
<a id="L154" name="L154"></a> 154         fCatalog = <strong class="reserved">null</strong>;
<a id="L155" name="L155"></a> 155     <em class="brace">}</em>
<a id="L156" name="L156"></a> 156 
<div class="comment">
      <p>Returns the preference for whether system or public
      matches are preferred. This is used in the absence
      of any occurence of the <code>prefer</code> attribute
      on the <code>catalog</code> entry of a catalog. If this
      property has not yet been explicitly set its value is
      <code>true</code>.</p>
      @return the prefer public setting</div>
<a id="L167" name="L167"></a> 167     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/18398.html" title="Multiple referred from 4 places.">getPreferPublic</a> () <em class="brace">{</em>
<a id="L168" name="L168"></a> 168         <strong class="reserved">return</strong> fPreferPublic;
<a id="L169" name="L169"></a> 169     <em class="brace">}</em>
<a id="L170" name="L170"></a> 170 
<div class="comment">
      <p>Sets the preference for whether system or public
      matches are preferred. This is used in the absence
      of any occurence of the <code>prefer</code> attribute
      on the <code>catalog</code> entry of a catalog.</p>
      @param preferPublic the prefer public setting</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/27948.html" title="Multiple referred from 2 places.">setPreferPublic</a> (<strong class="reserved">boolean</strong> <a href="../S/5933.html#L604" title="Defined at 604 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">preferPublic</a>) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180         fPreferPublic = <a href="../S/5933.html#L604" title="Defined at 604 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">preferPublic</a>;
<a id="L181" name="L181"></a> 181         fResolverCatalogManager.<a href="../D/33577.html" title="Multiple defined in 2 places.">setPreferPublic</a>(<a href="../S/5933.html#L604" title="Defined at 604 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">preferPublic</a>);
<a id="L182" name="L182"></a> 182     <em class="brace">}</em>
<a id="L183" name="L183"></a> 183 
<div class="comment">
      <p>Returns the preference for whether the literal system
      identifier should be used when resolving system
      identifiers when both it and the expanded system
      identifier are available. If this property has not yet
      been explicitly set its value is <code>true</code>.</p>
      @return the preference for using literal system identifers
      for catalog resolution
      @see #setUseLiteralSystemId</div>
<a id="L196" name="L196"></a> 196     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/19712.html" title="Multiple referred from 3 places.">getUseLiteralSystemId</a> () <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         <strong class="reserved">return</strong> fUseLiteralSystemId;
<a id="L198" name="L198"></a> 198     <em class="brace">}</em>
<a id="L199" name="L199"></a> 199 
<div class="comment">
      <p>Sets the preference for whether the literal system
      identifier should be used when resolving system
      identifiers when both it and the expanded system
      identifier are available.</p>
      <p>The literal system identifier is the URI as it was
      provided before absolutization. It may be embedded within
      an entity. It may be provided externally or it may be the
      result of redirection. For example, redirection may
      have come from the protocol level through HTTP or from
      an application's entity resolver.</p>
      <p>The expanded system identifier is an absolute URI
      which is the result of resolving the literal system
      identifier against a base URI.</p>
      @param useLiteralSystemId the preference for using
      literal system identifers for catalog resolution</div>
<a id="L220" name="L220"></a> 220     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> setUseLiteralSystemId (<strong class="reserved">boolean</strong> useLiteralSystemId) <em class="brace">{</em>
<a id="L221" name="L221"></a> 221         fUseLiteralSystemId = useLiteralSystemId;
<a id="L222" name="L222"></a> 222     <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<div class="comment">
      <p>Resolves an external entity. If the entity cannot be
      resolved, this method should return <code>null</code>. This
      method returns an input source if an entry was found in the
      catalog for the given external identifier. It should be
      overrided if other behaviour is required.</p>
      @param publicId the public identifier, or <code>null</code> if none was supplied
      @param systemId the system identifier
      @throws SAXException any SAX exception, possibly wrapping another exception
      @throws IOException thrown if some i/o error occurs</div>
<a id="L237" name="L237"></a> 237     <strong class="reserved">public</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../R/26336.html" title="Multiple referred from 17 places.">resolveEntity</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L238" name="L238"></a> 238          <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L239" name="L239"></a> 239 
<a id="L240" name="L240"></a> 240         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolvedId = <strong class="reserved">null</strong>;
<a id="L241" name="L241"></a> 241         <strong class="reserved">if</strong> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L242" name="L242"></a> 242             resolvedId = <a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L243" name="L243"></a> 243         <em class="brace">}</em>
<a id="L244" name="L244"></a> 244         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L245" name="L245"></a> 245             resolvedId = <a href="../D/31308.html" title="Multiple defined in 3 places.">resolveSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L246" name="L246"></a> 246         <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<a id="L248" name="L248"></a> 248         <strong class="reserved">if</strong> (resolvedId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L249" name="L249"></a> 249             <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = <strong class="reserved">new</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a>(resolvedId);
<a id="L250" name="L250"></a> 250             <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L251" name="L251"></a> 251             <strong class="reserved">return</strong> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L252" name="L252"></a> 252         <em class="brace">}</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L254" name="L254"></a> 254     <em class="brace">}</em>
<a id="L255" name="L255"></a> 255 
<div class="comment">
       <p>Resolves an external entity. If the entity cannot be
       resolved, this method should return <code>null</code>. This
       method returns an input source if an entry was found in the
       catalog for the given external identifier. It should be
       overrided if other behaviour is required.</p>
       @param name the identifier of the external entity
       @param publicId the public identifier, or <code>null</code> if none was supplied
       @param baseURI the URI with respect to which relative systemIDs are interpreted.
       @param systemId the system identifier
       @throws SAXException any SAX exception, possibly wrapping another exception
       @throws IOException thrown if some i/o error occurs</div>
<a id="L271" name="L271"></a> 271      <strong class="reserved">public</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../R/26336.html" title="Multiple referred from 17 places.">resolveEntity</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L272" name="L272"></a> 272          <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L273" name="L273"></a> 273 
<a id="L274" name="L274"></a> 274          <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolvedId = <strong class="reserved">null</strong>;
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276          <strong class="reserved">if</strong> (!<a href="../S/5325.html#L196" title="Defined at 196 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">getUseLiteralSystemId</a>() &amp;&amp; baseURI != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277              <em class="comment">// Attempt to resolve the system identifier against the base URI.</em>
<a id="L278" name="L278"></a> 278              <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L279" name="L279"></a> 279                  <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> uri = <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(<strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(baseURI), <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L280" name="L280"></a> 280                  <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> = uri.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L281" name="L281"></a> 281              <em class="brace">}</em>
<a id="L282" name="L282"></a> 282              <em class="comment">// Ignore the exception. Fallback to the literal system identifier.</em>
<a id="L283" name="L283"></a> 283              <strong class="reserved">catch</strong> (<a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>.<a href="../D/5390.html" title="Multiple defined in 3 places.">MalformedURIException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em><em class="brace">}</em>
<a id="L284" name="L284"></a> 284          <em class="brace">}</em>
<a id="L285" name="L285"></a> 285 
<a id="L286" name="L286"></a> 286          <strong class="reserved">if</strong> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287              resolvedId = <a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L288" name="L288"></a> 288          <em class="brace">}</em>
<a id="L289" name="L289"></a> 289          <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L290" name="L290"></a> 290              resolvedId = <a href="../D/31308.html" title="Multiple defined in 3 places.">resolveSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L291" name="L291"></a> 291          <em class="brace">}</em>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293          <strong class="reserved">if</strong> (resolvedId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294              <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = <strong class="reserved">new</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a>(resolvedId);
<a id="L295" name="L295"></a> 295              <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>);
<a id="L296" name="L296"></a> 296              <strong class="reserved">return</strong> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L297" name="L297"></a> 297          <em class="brace">}</em>
<a id="L298" name="L298"></a> 298          <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L299" name="L299"></a> 299     <em class="brace">}</em>
<a id="L300" name="L300"></a> 300 
<div class="comment">
       <p>Locates an external subset for documents which do not explicitly
       provide one. This method always returns <code>null</code>. It
       should be overrided if other behaviour is required.</p>
       @param name the identifier of the document root element
       @param baseURI the document's base URI
       @throws SAXException any SAX exception, possibly wrapping another exception
       @throws IOException thrown if some i/o error occurs</div>
<a id="L312" name="L312"></a> 312      <strong class="reserved">public</strong> <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../R/16516.html" title="Multiple referred from 3 places.">getExternalSubset</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI)
<a id="L313" name="L313"></a> 313          <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L314" name="L314"></a> 314          <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L315" name="L315"></a> 315      <em class="brace">}</em>
<a id="L316" name="L316"></a> 316 
<div class="comment">
      <p>Resolves a resource using the catalog. This method interprets that
      the namespace URI corresponds to uri entries in the catalog.
      Where both a namespace and an external identifier exist, the namespace
      takes precedence.</p>
      @param type the type of the resource being resolved
      @param namespaceURI the namespace of the resource being resolved,
      or <code>null</code> if none was supplied
      @param publicId the public identifier of the resource being resolved,
      or <code>null</code> if none was supplied
      @param systemId the system identifier of the resource being resolved,
      or <code>null</code> if none was supplied
      @param baseURI the absolute base URI of the resource being parsed,
      or <code>null</code> if there is no base URI</div>
<a id="L333" name="L333"></a> 333     <strong class="reserved">public</strong> <a href="../S/136.html#L86" title="Defined at 86 in src/org/w3c/dom/ls/LSInput.java.">LSInput</a> <a href="../R/26380.html" title="Multiple referred from 4 places.">resolveResource</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>,
<a id="L334" name="L334"></a> 334         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseURI) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335 
<a id="L336" name="L336"></a> 336         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolvedId = <strong class="reserved">null</strong>;
<a id="L337" name="L337"></a> 337 
<a id="L338" name="L338"></a> 338         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L339" name="L339"></a> 339             <em class="comment">// The namespace is useful for resolving namespace aware</em>
<a id="L340" name="L340"></a> 340             <em class="comment">// grammars such as XML schema. Let it take precedence over</em>
<a id="L341" name="L341"></a> 341             <em class="comment">// the external identifier if one exists.</em>
<a id="L342" name="L342"></a> 342             <strong class="reserved">if</strong> (<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343                 resolvedId = <a href="../D/31316.html" title="Multiple defined in 4 places.">resolveURI</a>(<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>);
<a id="L344" name="L344"></a> 344             <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<a id="L346" name="L346"></a> 346             <strong class="reserved">if</strong> (!<a href="../S/5325.html#L196" title="Defined at 196 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">getUseLiteralSystemId</a>() &amp;&amp; baseURI != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347                 <em class="comment">// Attempt to resolve the system identifier against the base URI.</em>
<a id="L348" name="L348"></a> 348                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L349" name="L349"></a> 349                     <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a> uri = <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(<strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(baseURI), <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L350" name="L350"></a> 350                     <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> = uri.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L351" name="L351"></a> 351                 <em class="brace">}</em>
<a id="L352" name="L352"></a> 352                 <em class="comment">// Ignore the exception. Fallback to the literal system identifier.</em>
<a id="L353" name="L353"></a> 353                 <strong class="reserved">catch</strong> (<a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>.<a href="../D/5390.html" title="Multiple defined in 3 places.">MalformedURIException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em><em class="brace">}</em>
<a id="L354" name="L354"></a> 354             <em class="brace">}</em>
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356             <em class="comment">// Resolve against an external identifier if one exists. This</em>
<a id="L357" name="L357"></a> 357             <em class="comment">// is useful for resolving DTD external subsets and other</em>
<a id="L358" name="L358"></a> 358             <em class="comment">// external entities. For XML schemas if there was no namespace</em>
<a id="L359" name="L359"></a> 359             <em class="comment">// mapping we might be able to resolve a system identifier</em>
<a id="L360" name="L360"></a> 360             <em class="comment">// specified as a location hint.</em>
<a id="L361" name="L361"></a> 361             <strong class="reserved">if</strong> (resolvedId == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362                 <strong class="reserved">if</strong> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363                     resolvedId = <a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L364" name="L364"></a> 364                 <em class="brace">}</em>
<a id="L365" name="L365"></a> 365                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366                     resolvedId = <a href="../D/31308.html" title="Multiple defined in 3 places.">resolveSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L367" name="L367"></a> 367                 <em class="brace">}</em>
<a id="L368" name="L368"></a> 368             <em class="brace">}</em>
<a id="L369" name="L369"></a> 369         <em class="brace">}</em>
<a id="L370" name="L370"></a> 370         <em class="comment">// Ignore IOException. It cannot be thrown from this method.</em>
<a id="L371" name="L371"></a> 371         <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em><em class="brace">}</em>
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373         <strong class="reserved">if</strong> (resolvedId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L374" name="L374"></a> 374             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5465.html#L63" title="Defined at 63 in src/com/sun/org/apache/xerces/internal/dom/DOMInputImpl.java.">DOMInputImpl</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, resolvedId, baseURI);
<a id="L375" name="L375"></a> 375         <em class="brace">}</em>
<a id="L376" name="L376"></a> 376         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L377" name="L377"></a> 377     <em class="brace">}</em>
<a id="L378" name="L378"></a> 378 
<a id="L379" name="L379"></a> 379 
<div class="comment">
      <p>Resolves an external entity. If the entity cannot be
      resolved, this method should return <code>null</code>. This
      method only calls <code>resolveIdentifier</code> and returns
      an input source if an entry was found in the catalog. It
      should be overrided if other behaviour is required.</p>
      @param resourceIdentifier location of the XML resource to resolve
      @throws XNIException thrown on general error
      @throws IOException thrown if some i/o error occurs</div>
<a id="L392" name="L392"></a> 392     <strong class="reserved">public</strong> <a href="../S/5494.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLInputSource.java.">XMLInputSource</a> <a href="../R/26336.html" title="Multiple referred from 17 places.">resolveEntity</a>(<a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> resourceIdentifier)
<a id="L393" name="L393"></a> 393         <strong class="reserved">throws</strong> <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L394" name="L394"></a> 394 
<a id="L395" name="L395"></a> 395         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolvedId = <a href="../S/5325.html#L415" title="Defined at 415 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">resolveIdentifier</a>(resourceIdentifier);
<a id="L396" name="L396"></a> 396         <strong class="reserved">if</strong> (resolvedId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5494.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/xni/parser/XMLInputSource.java.">XMLInputSource</a>(resourceIdentifier.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>(),
<a id="L398" name="L398"></a> 398                                       resolvedId,
<a id="L399" name="L399"></a> 399                                       resourceIdentifier.<a href="../D/17201.html" title="Multiple defined in 10 places.">getBaseSystemId</a>());
<a id="L400" name="L400"></a> 400         <em class="brace">}</em>
<a id="L401" name="L401"></a> 401         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L402" name="L402"></a> 402     <em class="brace">}</em>
<a id="L403" name="L403"></a> 403 
<div class="comment">
      <p>Resolves an identifier using the catalog. This method interprets that
      the namespace of the identifier corresponds to uri entries in the catalog.
      Where both a namespace and an external identifier exist, the namespace
      takes precedence.</p>
      @param resourceIdentifier the identifier to resolve
      @throws XNIException thrown on general error
      @throws IOException thrown if some i/o error occurs</div>
<a id="L415" name="L415"></a> 415     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/5325.html#L395" title="Referred from 395 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">resolveIdentifier</a>(<a href="../S/5523.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xni/XMLResourceIdentifier.java.">XMLResourceIdentifier</a> resourceIdentifier)
<a id="L416" name="L416"></a> 416         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L417" name="L417"></a> 417 
<a id="L418" name="L418"></a> 418         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolvedId = <strong class="reserved">null</strong>;
<a id="L419" name="L419"></a> 419 
<a id="L420" name="L420"></a> 420         <em class="comment">// The namespace is useful for resolving namespace aware</em>
<a id="L421" name="L421"></a> 421         <em class="comment">// grammars such as XML schema. Let it take precedence over</em>
<a id="L422" name="L422"></a> 422         <em class="comment">// the external identifier if one exists.</em>
<a id="L423" name="L423"></a> 423         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a> = resourceIdentifier.<a href="../D/20808.html" title="Multiple defined in 28 places.">getNamespace</a>();
<a id="L424" name="L424"></a> 424         <strong class="reserved">if</strong> (<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425             resolvedId = <a href="../D/31316.html" title="Multiple defined in 4 places.">resolveURI</a>(<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>);
<a id="L426" name="L426"></a> 426         <em class="brace">}</em>
<a id="L427" name="L427"></a> 427 
<a id="L428" name="L428"></a> 428         <em class="comment">// Resolve against an external identifier if one exists. This</em>
<a id="L429" name="L429"></a> 429         <em class="comment">// is useful for resolving DTD external subsets and other</em>
<a id="L430" name="L430"></a> 430         <em class="comment">// external entities. For XML schemas if there was no namespace</em>
<a id="L431" name="L431"></a> 431         <em class="comment">// mapping we might be able to resolve a system identifier</em>
<a id="L432" name="L432"></a> 432         <em class="comment">// specified as a location hint.</em>
<a id="L433" name="L433"></a> 433         <strong class="reserved">if</strong> (resolvedId == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> = resourceIdentifier.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>();
<a id="L435" name="L435"></a> 435             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> = <a href="../S/5325.html#L196" title="Defined at 196 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">getUseLiteralSystemId</a>()
<a id="L436" name="L436"></a> 436                 ? resourceIdentifier.<a href="../D/20177.html" title="Multiple defined in 10 places.">getLiteralSystemId</a>()
<a id="L437" name="L437"></a> 437                 : resourceIdentifier.<a href="../D/18928.html" title="Multiple defined in 10 places.">getExpandedSystemId</a>();
<a id="L438" name="L438"></a> 438             <strong class="reserved">if</strong> (<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                 resolvedId = <a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L440" name="L440"></a> 440             <em class="brace">}</em>
<a id="L441" name="L441"></a> 441             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L442" name="L442"></a> 442                 resolvedId = <a href="../D/31308.html" title="Multiple defined in 3 places.">resolveSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L443" name="L443"></a> 443             <em class="brace">}</em>
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">return</strong> resolvedId;
<a id="L446" name="L446"></a> 446     <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<div class="comment">
      <p>Returns the URI mapping in the catalog for the given
      external identifier or <code>null</code> if no mapping
      exists. If the system identifier is an URN in the
      <code>publicid</code> namespace it is converted into
      a public identifier by URN "unwrapping" as specified
      in the XML Catalogs specification.</p>
      @param systemId the system identifier to locate in the catalog
      @return the mapped URI or <code>null</code> if no mapping
      was found in the catalog
      @throws IOException if an i/o error occurred while reading
      the catalog</div>
<a id="L464" name="L464"></a> 464     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26385.html" title="Multiple referred from 10 places.">resolveSystem</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L465" name="L465"></a> 465         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467         <strong class="reserved">if</strong> (fCatalogsChanged) <em class="brace">{</em>
<a id="L468" name="L468"></a> 468             <a href="../S/5325.html#L556" title="Defined at 556 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">parseCatalogs</a>();
<a id="L469" name="L469"></a> 469             fCatalogsChanged = <strong class="reserved">false</strong>;
<a id="L470" name="L470"></a> 470         <em class="brace">}</em>
<a id="L471" name="L471"></a> 471         <strong class="reserved">return</strong> (fCatalog != <strong class="reserved">null</strong>)
<a id="L472" name="L472"></a> 472             ? fCatalog.<a href="../D/31308.html" title="Multiple defined in 3 places.">resolveSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) : <strong class="reserved">null</strong>;
<a id="L473" name="L473"></a> 473     <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<div class="comment">
      <p>Returns the URI mapping in the catalog for the given
      external identifier or <code>null</code> if no mapping
      exists. Public identifiers are normalized before
      comparison.</p>
      @param publicId the public identifier to locate in the catalog
      @param systemId the system identifier to locate in the catalog
      @return the mapped URI or <code>null</code> if no mapping
      was found in the catalog
      @throws IOException if an i/o error occurred while reading
      the catalog</div>
<a id="L490" name="L490"></a> 490     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26377.html" title="Multiple referred from 13 places.">resolvePublic</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L491" name="L491"></a> 491         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L492" name="L492"></a> 492 
<a id="L493" name="L493"></a> 493         <strong class="reserved">if</strong> (fCatalogsChanged) <em class="brace">{</em>
<a id="L494" name="L494"></a> 494             <a href="../S/5325.html#L556" title="Defined at 556 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">parseCatalogs</a>();
<a id="L495" name="L495"></a> 495             fCatalogsChanged = <strong class="reserved">false</strong>;
<a id="L496" name="L496"></a> 496         <em class="brace">}</em>
<a id="L497" name="L497"></a> 497         <strong class="reserved">return</strong> (fCatalog != <strong class="reserved">null</strong>)
<a id="L498" name="L498"></a> 498             ? fCatalog.<a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) : <strong class="reserved">null</strong>;
<a id="L499" name="L499"></a> 499     <em class="brace">}</em>
<a id="L500" name="L500"></a> 500 
<div class="comment">
      <p>Returns the URI mapping in the catalog for the given URI
      reference or <code>null</code> if no mapping exists.
      URI comparison is case sensitive. If the URI reference
      is an URN in the <code>publicid</code> namespace
      it is converted into a public identifier by URN "unwrapping"
      as specified in the XML Catalogs specification and then
      resolution is performed following the semantics of
      external identifier resolution.</p>
      @param uri the URI to locate in the catalog
      @return the mapped URI or <code>null</code> if no mapping
      was found in the catalog
      @throws IOException if an i/o error occurred while reading
      the catalog</div>
<a id="L519" name="L519"></a> 519     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26392.html" title="Multiple referred from 8 places.">resolveURI</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri)
<a id="L520" name="L520"></a> 520         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L521" name="L521"></a> 521 
<a id="L522" name="L522"></a> 522         <strong class="reserved">if</strong> (fCatalogsChanged) <em class="brace">{</em>
<a id="L523" name="L523"></a> 523             <a href="../S/5325.html#L556" title="Defined at 556 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">parseCatalogs</a>();
<a id="L524" name="L524"></a> 524             fCatalogsChanged = <strong class="reserved">false</strong>;
<a id="L525" name="L525"></a> 525         <em class="brace">}</em>
<a id="L526" name="L526"></a> 526         <strong class="reserved">return</strong> (fCatalog != <strong class="reserved">null</strong>)
<a id="L527" name="L527"></a> 527             ? fCatalog.<a href="../D/31316.html" title="Multiple defined in 4 places.">resolveURI</a>(uri) : <strong class="reserved">null</strong>;
<a id="L528" name="L528"></a> 528     <em class="brace">}</em>
<a id="L529" name="L529"></a> 529 
<div class="comment">
      Initialization. Create a CatalogManager and set all
      the properties upfront. This prevents JVM wide system properties
      or a property file somewhere in the environment from affecting
      the behaviour of this catalog resolver.</div>
<a id="L536" name="L536"></a> 536     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> [] catalogs, <strong class="reserved">boolean</strong> <a href="../S/5933.html#L604" title="Defined at 604 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">preferPublic</a>) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537         fCatalogsList = (catalogs != <strong class="reserved">null</strong>) ? (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]) catalogs.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() : <strong class="reserved">null</strong>;
<a id="L538" name="L538"></a> 538         fPreferPublic = <a href="../S/5933.html#L604" title="Defined at 604 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">preferPublic</a>;
<a id="L539" name="L539"></a> 539         fResolverCatalogManager = <strong class="reserved">new</strong> <a href="../S/5933.html#L126" title="Defined at 126 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">CatalogManager</a>();
<a id="L540" name="L540"></a> 540         fResolverCatalogManager.<a href="../S/5933.html#L787" title="Defined at 787 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setAllowOasisXMLCatalogPI</a>(<strong class="reserved">false</strong>);
<a id="L541" name="L541"></a> 541         fResolverCatalogManager.<a href="../S/5933.html#L834" title="Defined at 834 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setCatalogClassName</a>("com.sun.org.apache.xml.internal.resolver.Catalog");
<a id="L542" name="L542"></a> 542         fResolverCatalogManager.<a href="../S/5933.html#L532" title="Defined at 532 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setCatalogFiles</a>("");
<a id="L543" name="L543"></a> 543         fResolverCatalogManager.<a href="../S/5933.html#L313" title="Defined at 313 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setIgnoreMissingProperties</a>(<strong class="reserved">true</strong>);
<a id="L544" name="L544"></a> 544         fResolverCatalogManager.<a href="../D/33577.html" title="Multiple defined in 2 places.">setPreferPublic</a>(fPreferPublic);
<a id="L545" name="L545"></a> 545         fResolverCatalogManager.<a href="../S/5933.html#L455" title="Defined at 455 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setRelativeCatalogs</a>(<strong class="reserved">false</strong>);
<a id="L546" name="L546"></a> 546         fResolverCatalogManager.<a href="../S/5933.html#L653" title="Defined at 653 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setUseStaticCatalog</a>(<strong class="reserved">false</strong>);
<a id="L547" name="L547"></a> 547         fResolverCatalogManager.<a href="../S/5933.html#L387" title="Defined at 387 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setVerbosity</a>(0);
<a id="L548" name="L548"></a> 548     <em class="brace">}</em>
<a id="L549" name="L549"></a> 549 
<div class="comment">
      Instruct the <code>Catalog</code> to parse each of the
      catalogs in the list. Only the first catalog will actually be
      parsed immediately. The others will be queued and read if
      they are needed later.</div>
<a id="L556" name="L556"></a> 556     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/24521.html" title="Multiple referred from 3 places.">parseCatalogs</a> () <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L557" name="L557"></a> 557         <strong class="reserved">if</strong> (fCatalogsList != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558             fCatalog = <strong class="reserved">new</strong> <a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a>(fResolverCatalogManager);
<a id="L559" name="L559"></a> 559             <a href="../S/5325.html#L575" title="Defined at 575 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">attachReaderToCatalog</a>(fCatalog);
<a id="L560" name="L560"></a> 560             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; fCatalogsList.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++i) <em class="brace">{</em>
<a id="L561" name="L561"></a> 561                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> catalog = fCatalogsList[i];
<a id="L562" name="L562"></a> 562                 <strong class="reserved">if</strong> (catalog != <strong class="reserved">null</strong> &amp;&amp; catalog.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L563" name="L563"></a> 563                     fCatalog.<a href="../D/29102.html" title="Multiple defined in 3 places.">parseCatalog</a>(catalog);
<a id="L564" name="L564"></a> 564                 <em class="brace">}</em>
<a id="L565" name="L565"></a> 565             <em class="brace">}</em>
<a id="L566" name="L566"></a> 566         <em class="brace">}</em>
<a id="L567" name="L567"></a> 567         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L568" name="L568"></a> 568             fCatalog = <strong class="reserved">null</strong>;
<a id="L569" name="L569"></a> 569         <em class="brace">}</em>
<a id="L570" name="L570"></a> 570     <em class="brace">}</em>
<a id="L571" name="L571"></a> 571 
<div class="comment">
      Attaches the reader to the catalog.</div>
<a id="L575" name="L575"></a> 575     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5325.html#L559" title="Referred from 559 in src/com/sun/org/apache/xerces/internal/util/XMLCatalogResolver.java.">attachReaderToCatalog</a> (<a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a> catalog) <em class="brace">{</em>
<a id="L576" name="L576"></a> 576 
<a id="L577" name="L577"></a> 577         <a href="../S/3844.html#L43" title="Defined at 43 in src/javax/xml/parsers/SAXParserFactory.java.">SAXParserFactory</a> spf = <strong class="reserved">new</strong> <a href="../S/5399.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/jaxp/SAXParserFactoryImpl.java.">SAXParserFactoryImpl</a>();
<a id="L578" name="L578"></a> 578         spf.<a href="../D/33323.html" title="Multiple defined in 3 places.">setNamespaceAware</a>(<strong class="reserved">true</strong>);
<a id="L579" name="L579"></a> 579         spf.<a href="../D/34262.html" title="Multiple defined in 5 places.">setValidating</a>(<strong class="reserved">false</strong>);
<a id="L580" name="L580"></a> 580 
<a id="L581" name="L581"></a> 581         <a href="../S/5939.html#L79" title="Defined at 79 in src/com/sun/org/apache/xml/internal/resolver/readers/SAXCatalogReader.java.">SAXCatalogReader</a> saxReader = <strong class="reserved">new</strong> <a href="../S/5939.html#L79" title="Defined at 79 in src/com/sun/org/apache/xml/internal/resolver/readers/SAXCatalogReader.java.">SAXCatalogReader</a>(spf);
<a id="L582" name="L582"></a> 582         saxReader.<a href="../D/32106.html" title="Multiple defined in 2 places.">setCatalogParser</a>(<a href="../S/5938.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/resolver/readers/OASISXMLCatalogReader.java.">OASISXMLCatalogReader</a>.namespaceName, "catalog",
<a id="L583" name="L583"></a> 583             "com.sun.org.apache.xml.internal.resolver.readers.OASISXMLCatalogReader");
<a id="L584" name="L584"></a> 584         catalog.<a href="../S/5932.html#L444" title="Defined at 444 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">addReader</a>("application/xml", saxReader);
<a id="L585" name="L585"></a> 585     <em class="brace">}</em>
<a id="L586" name="L586"></a> 586 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L130">[^]</a><a href="#L575">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>