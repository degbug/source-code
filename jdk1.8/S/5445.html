<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L301">[^]</a><a href="#L2763">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L301" title="Defined at 301.">getOwnerDocument</a></li>
<li><a href="#L306" title="Defined at 306.">getNodeType</a></li>
<li><a href="#L311" title="Defined at 311.">getNodeName</a></li>
<li><a href="#L324" title="Defined at 324.">cloneNode</a></li>
<li><a href="#L338" title="Defined at 338.">cloneNode</a></li>
<li><a href="#L387" title="Defined at 387.">insertBefore</a></li>
<li><a href="#L425" title="Defined at 425.">removeChild</a></li>
<li><a href="#L449" title="Defined at 449.">replaceChild</a></li>
<li><a href="#L485" title="Defined at 485.">getTextContent</a></li>
<li><a href="#L493" title="Defined at 493.">setTextContent</a></li>
<li><a href="#L501" title="Defined at 501.">getFeature</a></li>
<li><a href="#L559" title="Defined at 559.">createAttribute</a></li>
<li><a href="#L583" title="Defined at 583.">createCDATASection</a></li>
<li><a href="#L593" title="Defined at 593.">createComment</a></li>
<li><a href="#L601" title="Defined at 601.">createDocumentFragment</a></li>
<li><a href="#L617" title="Defined at 617.">createElement</a></li>
<li><a href="#L638" title="Defined at 638.">createEntityReference</a></li>
<li><a href="#L662" title="Defined at 662.">createProcessingInstruction</a></li>
<li><a href="#L680" title="Defined at 680.">createTextNode</a></li>
<li><a href="#L691" title="Defined at 691.">getDoctype</a></li>
<li><a href="#L708" title="Defined at 708.">getDocumentElement</a></li>
<li><a href="#L724" title="Defined at 724.">getElementsByTagName</a></li>
<li><a href="#L734" title="Defined at 734.">getImplementation</a></li>
<li><a href="#L765" title="Defined at 765.">setErrorChecking</a></li>
<li><a href="#L772" title="Defined at 772.">setStrictErrorChecking</a></li>
<li><a href="#L779" title="Defined at 779.">getErrorChecking</a></li>
<li><a href="#L786" title="Defined at 786.">getStrictErrorChecking</a></li>
<li><a href="#L800" title="Defined at 800.">getInputEncoding</a></li>
<li><a href="#L813" title="Defined at 813.">setInputEncoding</a></li>
<li><a href="#L824" title="Defined at 824.">setXmlEncoding</a></li>
<li><a href="#L833" title="Defined at 833.">setEncoding</a></li>
<li><a href="#L841" title="Defined at 841.">getXmlEncoding</a></li>
<li><a href="#L850" title="Defined at 850.">getEncoding</a></li>
<li><a href="#L859" title="Defined at 859.">setXmlVersion</a></li>
<li><a href="#L891" title="Defined at 891.">setVersion</a></li>
<li><a href="#L900" title="Defined at 900.">getXmlVersion</a></li>
<li><a href="#L909" title="Defined at 909.">getVersion</a></li>
<li><a href="#L923" title="Defined at 923.">setXmlStandalone</a></li>
<li><a href="#L933" title="Defined at 933.">setStandalone</a></li>
<li><a href="#L942" title="Defined at 942.">getXmlStandalone</a></li>
<li><a href="#L951" title="Defined at 951.">getStandalone</a></li>
<li><a href="#L963" title="Defined at 963.">getDocumentURI</a></li>
<li><a href="#L972" title="Defined at 972.">renameNode</a></li>
<li><a href="#L1138" title="Defined at 1138.">normalizeDocument</a></li>
<li><a href="#L1173" title="Defined at 1173.">getDomConfig</a></li>
<li><a href="#L1189" title="Defined at 1189.">getBaseURI</a></li>
<li><a href="#L1205" title="Defined at 1205.">setDocumentURI</a></li>
<li><a href="#L1227" title="Defined at 1227.">getAsync</a></li>
<li><a href="#L1245" title="Defined at 1245.">setAsync</a></li>
<li><a href="#L1258" title="Defined at 1258.">abort</a></li>
<li><a href="#L1297" title="Defined at 1297.">load</a></li>
<li><a href="#L1309" title="Defined at 1309.">loadXML</a></li>
<li><a href="#L1331" title="Defined at 1331.">saveXML</a></li>
<li><a href="#L1350" title="Defined at 1350.">setMutationEvents</a></li>
<li><a href="#L1357" title="Defined at 1357.">getMutationEvents</a></li>
<li><a href="#L1377" title="Defined at 1377.">createDocumentType</a></li>
<li><a href="#L1398" title="Defined at 1398.">createEntity</a></li>
<li><a href="#L1422" title="Defined at 1422.">createNotation</a></li>
<li><a href="#L1437" title="Defined at 1437.">createElementDefinition</a></li>
<li><a href="#L1453" title="Defined at 1453.">getNodeNumber</a></li>
<li><a href="#L1467" title="Defined at 1467.">getNodeNumber</a></li>
<li><a href="#L1500" title="Defined at 1500.">importNode</a></li>
<li><a href="#L1517" title="Defined at 1517.">importNode</a></li>
<li><a href="#L1764" title="Defined at 1764.">adoptNode</a></li>
<li><a href="#L1908" title="Defined at 1908.">undeferChildren</a></li>
<li><a href="#L1963" title="Defined at 1963.">getElementById</a></li>
<li><a href="#L1970" title="Defined at 1970.">clearIdentifiers</a></li>
<li><a href="#L1985" title="Defined at 1985.">putIdentifier</a></li>
<li><a href="#L2011" title="Defined at 2011.">getIdentifier</a></li>
<li><a href="#L2041" title="Defined at 2041.">removeIdentifier</a></li>
<li><a href="#L2056" title="Defined at 2056.">getIdentifiers</a></li>
<li><a href="#L2097" title="Defined at 2097.">createElementNS</a></li>
<li><a href="#L2116" title="Defined at 2116.">createElementNS</a></li>
<li><a href="#L2140" title="Defined at 2140.">createAttributeNS</a></li>
<li><a href="#L2160" title="Defined at 2160.">createAttributeNS</a></li>
<li><a href="#L2182" title="Defined at 2182.">getElementsByTagNameNS</a></li>
<li><a href="#L2192" title="Defined at 2192.">clone</a></li>
<li><a href="#L2209" title="Defined at 2209.">isXMLName</a></li>
<li><a href="#L2228" title="Defined at 2228.">isValidQName</a></li>
<li><a href="#L2253" title="Defined at 2253.">isKidOK</a></li>
<li><a href="#L2264" title="Defined at 2264.">changed</a></li>
<li><a href="#L2271" title="Defined at 2271.">changes</a></li>
<li><a href="#L2280" title="Defined at 2280.">getNodeListCache</a></li>
<li><a href="#L2302" title="Defined at 2302.">freeNodeListCache</a></li>
<li><a href="#L2325" title="Defined at 2325.">setUserData</a></li>
<li><a href="#L2374" title="Defined at 2374.">getUserData</a></li>
<li><a href="#L2390" title="Defined at 2390.">getUserDataRecord</a></li>
<li><a href="#L2406" title="Defined at 2406.">removeUserDataTable</a></li>
<li><a href="#L2418" title="Defined at 2418.">setUserDataTable</a></li>
<li><a href="#L2432" title="Defined at 2432.">callUserDataHandlers</a></li>
<li><a href="#L2453" title="Defined at 2453.">callUserDataHandlers</a></li>
<li><a href="#L2503" title="Defined at 2503.">checkNamespaceWF</a></li>
<li><a href="#L2521" title="Defined at 2521.">checkDOMNSErr</a></li>
<li><a href="#L2563" title="Defined at 2563.">checkQName</a></li>
<li><a href="#L2594" title="Defined at 2594.">isXML11Version</a></li>
<li><a href="#L2598" title="Defined at 2598.">isNormalizeDocRequired</a></li>
<li><a href="#L2606" title="Defined at 2606.">isXMLVersionChanged</a></li>
<li><a href="#L2616" title="Defined at 2616.">setUserData</a></li>
<li><a href="#L2624" title="Defined at 2624.">getUserData</a></li>
<li><a href="#L2631" title="Defined at 2631.">addEventListener</a></li>
<li><a href="#L2637" title="Defined at 2637.">removeEventListener</a></li>
<li><a href="#L2643" title="Defined at 2643.">copyEventListeners</a></li>
<li><a href="#L2647" title="Defined at 2647.">dispatchEvent</a></li>
<li><a href="#L2658" title="Defined at 2658.">replacedText</a></li>
<li><a href="#L2665" title="Defined at 2665.">deletedText</a></li>
<li><a href="#L2672" title="Defined at 2672.">insertedText</a></li>
<li><a href="#L2678" title="Defined at 2678.">modifyingCharacterData</a></li>
<li><a href="#L2684" title="Defined at 2684.">modifiedCharacterData</a></li>
<li><a href="#L2690" title="Defined at 2690.">insertingNode</a></li>
<li><a href="#L2696" title="Defined at 2696.">insertedNode</a></li>
<li><a href="#L2702" title="Defined at 2702.">removingNode</a></li>
<li><a href="#L2708" title="Defined at 2708.">removedNode</a></li>
<li><a href="#L2714" title="Defined at 2714.">replacingNode</a></li>
<li><a href="#L2720" title="Defined at 2720.">replacedNode</a></li>
<li><a href="#L2726" title="Defined at 2726.">replacingData</a></li>
<li><a href="#L2732" title="Defined at 2732.">replacedCharacterData</a></li>
<li><a href="#L2739" title="Defined at 2739.">modifiedAttrValue</a></li>
<li><a href="#L2745" title="Defined at 2745.">setAttrNode</a></li>
<li><a href="#L2751" title="Defined at 2751.">removedAttrNode</a></li>
<li><a href="#L2757" title="Defined at 2757.">renamedAttrNode</a></li>
<li><a href="#L2763" title="Defined at 2763.">renamedElement</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2002,2004,2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.dom;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.lang.reflect.Constructor;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.URI;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.Constants;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> org.w3c.dom.DOMConfiguration;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> org.w3c.dom.UserDataHandler;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLChar;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XML11Char;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.NamespaceContext;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.utils.ObjectFactory;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.utils.SecuritySupport;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> org.w3c.dom.CDATASection;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> org.w3c.dom.Comment;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> org.w3c.dom.DOMException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> org.w3c.dom.DOMImplementation;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> org.w3c.dom.DocumentFragment;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> org.w3c.dom.DocumentType;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> org.w3c.dom.Entity;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> org.w3c.dom.EntityReference;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> org.w3c.dom.NamedNodeMap;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> org.w3c.dom.NodeList;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> org.w3c.dom.Notation;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> org.w3c.dom.ProcessingInstruction;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> org.w3c.dom.Text;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> org.w3c.dom.events.Event;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> org.w3c.dom.events.EventListener;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> org.w3c.dom.ls.DOMImplementationLS;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> org.w3c.dom.ls.LSSerializer;
<a id="L57" name="L57"></a>  57 
<div class="comment">
  The Document interface represents the entire HTML or XML document.
  Conceptually, it is the root of the document tree, and provides the
  primary access to the document's data.
  <p>
  Since elements, text nodes, comments, processing instructions,
  etc. cannot exist outside the context of a Document, the Document
  interface also contains the factory methods needed to create these
  objects. The Node objects created have a ownerDocument attribute
  which associates them with the Document within whose context they
  were created.
  </p><p>
  The CoreDocumentImpl class only implements the DOM Core. Additional modules
  are supported by the more complete DocumentImpl subclass.
  </p><p>
  <b>Note:</b> When any node in the document is serialized, the
  entire document is serialized along with it.
  @xerces.internal
  @author Arnaud  Le Hors, IBM
  @author Joe Kesselman, IBM
  @author Andy Clark, IBM
  @author Ralf Pfeiffer, IBM
  @version $Id: CoreDocumentImpl.java,v 1.9 2010-11-01 04:39:37 joehw Exp $
  @since  PR-DOM-Level-1-19980818.</p></div>
<a id="L85" name="L85"></a>  85 
<a id="L86" name="L86"></a>  86 
<a id="L87" name="L87"></a>  87 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/1784.html" title="Multiple referred from 94 places.">CoreDocumentImpl</a>
<a id="L88" name="L88"></a>  88 <strong class="reserved">extends</strong> <a href="../S/5474.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">ParentNode</a> <strong class="reserved">implements</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>  <em class="brace">{</em>
<a id="L89" name="L89"></a>  89 
<div class="comment">
TODO::
          1. Change XML11Char method names similar to XMLChar. That will prevent lot
          of dirty version checking code.
          2. IMO during cloneNode qname/isXMLName check should not be made.</div>
<a id="L96" name="L96"></a>  96     <em class="comment">//</em>
<a id="L97" name="L97"></a>  97     <em class="comment">// Constants</em>
<a id="L98" name="L98"></a>  98     <em class="comment">//</em>
<a id="L99" name="L99"></a>  99 
<div class="comment">
     /** Serialization version. */</div>
<a id="L101" name="L101"></a> 101     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 0;
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     <em class="comment">//</em>
<a id="L104" name="L104"></a> 104     <em class="comment">// Data</em>
<a id="L105" name="L105"></a> 105     <em class="comment">//</em>
<a id="L106" name="L106"></a> 106 
<a id="L107" name="L107"></a> 107     <em class="comment">// document information</em>
<a id="L108" name="L108"></a> 108 
<div class="comment">
     /** Document type. */</div>
<a id="L110" name="L110"></a> 110     <strong class="reserved">protected</strong> <a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a> docType;
<a id="L111" name="L111"></a> 111 
<div class="comment">
     /** Document element. */</div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">protected</strong> <a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a> docElement;
<a id="L114" name="L114"></a> 114 
<div class="comment">
     /** NodeListCache free list */</div>
<a id="L116" name="L116"></a> 116     <strong class="reserved">transient</strong> <a href="../S/5472.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/dom/NodeListCache.java.">NodeListCache</a> fFreeNLCache;
<a id="L117" name="L117"></a> 117 
<div class="comment">
     /**Experimental DOM Level 3 feature: Document encoding */</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>;
<a id="L120" name="L120"></a> 120 
<div class="comment">
     /**Experimental DOM Level 3 feature: Document actualEncoding */</div>
<a id="L122" name="L122"></a> 122     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> actualEncoding;
<a id="L123" name="L123"></a> 123 
<div class="comment">
     /**Experimental DOM Level 3 feature: Document version */</div>
<a id="L125" name="L125"></a> 125     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>;
<a id="L126" name="L126"></a> 126 
<div class="comment">
     /**Experimental DOM Level 3 feature: Document standalone */</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> standalone;
<a id="L129" name="L129"></a> 129 
<div class="comment">
     /**Experimental DOM Level 3 feature: documentURI */</div>
<a id="L131" name="L131"></a> 131     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fDocumentURI;
<a id="L132" name="L132"></a> 132 
<a id="L133" name="L133"></a> 133         <em class="comment">//Revisit :: change to a better data structure.</em>
<div class="comment">
     /** Table for user data attached to this document nodes. */</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">protected</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> userData;
<a id="L136" name="L136"></a> 136 
<a id="L137" name="L137"></a> 137 
<div class="comment">
     /** Identifiers. */</div>
<a id="L139" name="L139"></a> 139     <strong class="reserved">protected</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> identifiers;
<a id="L140" name="L140"></a> 140 
<a id="L141" name="L141"></a> 141     <em class="comment">// DOM Level 3: normalizeDocument</em>
<a id="L142" name="L142"></a> 142     <strong class="reserved">transient</strong> <a href="../S/5428.html#L99" title="Defined at 99 in src/com/sun/org/apache/xerces/internal/dom/DOMNormalizer.java.">DOMNormalizer</a> domNormalizer = <strong class="reserved">null</strong>;
<a id="L143" name="L143"></a> 143     <strong class="reserved">transient</strong> <a href="../S/5485.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/dom/DOMConfigurationImpl.java.">DOMConfigurationImpl</a> fConfiguration = <strong class="reserved">null</strong>;
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145     <em class="comment">// support of XPath API</em>
<a id="L146" name="L146"></a> 146     <strong class="reserved">transient</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> fXPathEvaluator = <strong class="reserved">null</strong>;
<a id="L147" name="L147"></a> 147 
<div class="comment">
     /** Table for quick check of child insertion. */</div>
<a id="L149" name="L149"></a> 149     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong>[] kidOK;
<a id="L150" name="L150"></a> 150 
<div class="comment">
      Number of alterations made to this document since its creation.
      Serves as a "dirty bit" so that live objects such as NodeList can
      recognize when an alteration has been made and discard its cached
      state information.
      <p>
      Any method that alters the tree structure MUST cause or be
      accompanied by a call to changed(), to inform it that any outstanding
      NodeLists may have to be updated.
      </p><p>
      (Required because NodeList is simultaneously "live" and integer-
      indexed -- a bad decision in the DOM's design.)
      </p><p>
      Note that changes which do not affect the tree's structure -- changing
      the node's name, for example -- do _not_ have to call changed().
      </p><p>
      Alternative implementation would be to use a cryptographic
      Digest value rather than a count. This would have the advantage that
      "harmless" changes (those producing equal() trees) would not force
      NodeList to resynchronize. Disadvantage is that it's slightly more prone
      to "false negatives", though that's the difference between "wildly
      unlikely" and "absurdly unlikely". IF we start maintaining digests,
      we should consider taking advantage of them.
      Note: This used to be done a node basis, so that we knew what
      subtree changed. But since only DeepNodeList really use this today,
      the gain appears to be really small compared to the cost of having
      an int on every (parent) node plus having to walk up the tree all the
      way to the root to mark the branch as changed everytime a node is
      changed.
      So we now have a single counter global to the document. It means that
      some objects may flush their cache more often than necessary, but this
      makes nodes smaller and only the document needs to be marked as changed.</p></div>
<a id="L185" name="L185"></a> 185     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a> = 0;
<a id="L186" name="L186"></a> 186 
<a id="L187" name="L187"></a> 187     <em class="comment">// experimental</em>
<a id="L188" name="L188"></a> 188 
<div class="comment">
     /** Allow grammar access. */</div>
<a id="L190" name="L190"></a> 190     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> allowGrammarAccess;
<a id="L191" name="L191"></a> 191 
<div class="comment">
     /** Bypass error checking. */</div>
<a id="L193" name="L193"></a> 193     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> errorChecking = <strong class="reserved">true</strong>;
<div class="comment">
     /** Ancestor checking */</div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> ancestorChecking = <strong class="reserved">true</strong>;
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197     <em class="comment">//Did version change at any point when the document was created ?</em>
<a id="L198" name="L198"></a> 198     <em class="comment">//this field helps us to optimize when normalizingDocument.</em>
<a id="L199" name="L199"></a> 199     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> xmlVersionChanged = <strong class="reserved">false</strong> ;
<a id="L200" name="L200"></a> 200 
<div class="comment">
 The following are required for compareDocumentPosition</div>
<a id="L203" name="L203"></a> 203     <em class="comment">// Document number.   Documents are ordered across the implementation using</em>
<a id="L204" name="L204"></a> 204     <em class="comment">// positive integer values.  Documents are assigned numbers on demand.</em>
<a id="L205" name="L205"></a> 205     <strong class="reserved">private</strong> <strong class="reserved">int</strong> documentNumber=0;
<a id="L206" name="L206"></a> 206     <em class="comment">// Node counter and table.  Used to assign numbers to nodes for this</em>
<a id="L207" name="L207"></a> 207     <em class="comment">// document.  Node number values are negative integers.  Nodes are</em>
<a id="L208" name="L208"></a> 208     <em class="comment">// assigned numbers on demand.</em>
<a id="L209" name="L209"></a> 209     <strong class="reserved">private</strong> <strong class="reserved">int</strong> nodeCounter = 0;
<a id="L210" name="L210"></a> 210     <strong class="reserved">private</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> nodeTable;
<a id="L211" name="L211"></a> 211     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> xml11Version = <strong class="reserved">false</strong>; <em class="comment">//by default 1.0</em>
<a id="L212" name="L212"></a> 212     <em class="comment">//</em>
<a id="L213" name="L213"></a> 213     <em class="comment">// Static initialization</em>
<a id="L214" name="L214"></a> 214     <em class="comment">//</em>
<a id="L215" name="L215"></a> 215 
<a id="L216" name="L216"></a> 216     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L217" name="L217"></a> 217 
<a id="L218" name="L218"></a> 218         kidOK = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[13];
<a id="L219" name="L219"></a> 219 
<a id="L220" name="L220"></a> 220         kidOK[DOCUMENT_NODE] =
<a id="L221" name="L221"></a> 221         1 &lt;&lt; ELEMENT_NODE | 1 &lt;&lt; PROCESSING_INSTRUCTION_NODE |
<a id="L222" name="L222"></a> 222         1 &lt;&lt; COMMENT_NODE | 1 &lt;&lt; DOCUMENT_TYPE_NODE;
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224         kidOK[DOCUMENT_FRAGMENT_NODE] =
<a id="L225" name="L225"></a> 225         kidOK[ENTITY_NODE] =
<a id="L226" name="L226"></a> 226         kidOK[ENTITY_REFERENCE_NODE] =
<a id="L227" name="L227"></a> 227         kidOK[ELEMENT_NODE] =
<a id="L228" name="L228"></a> 228         1 &lt;&lt; ELEMENT_NODE | 1 &lt;&lt; PROCESSING_INSTRUCTION_NODE |
<a id="L229" name="L229"></a> 229         1 &lt;&lt; COMMENT_NODE | 1 &lt;&lt; TEXT_NODE |
<a id="L230" name="L230"></a> 230         1 &lt;&lt; CDATA_SECTION_NODE | 1 &lt;&lt; ENTITY_REFERENCE_NODE ;
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232 
<a id="L233" name="L233"></a> 233         kidOK[ATTRIBUTE_NODE] =
<a id="L234" name="L234"></a> 234         1 &lt;&lt; TEXT_NODE | 1 &lt;&lt; ENTITY_REFERENCE_NODE;
<a id="L235" name="L235"></a> 235 
<a id="L236" name="L236"></a> 236         kidOK[DOCUMENT_TYPE_NODE] =
<a id="L237" name="L237"></a> 237         kidOK[PROCESSING_INSTRUCTION_NODE] =
<a id="L238" name="L238"></a> 238         kidOK[COMMENT_NODE] =
<a id="L239" name="L239"></a> 239         kidOK[TEXT_NODE] =
<a id="L240" name="L240"></a> 240         kidOK[CDATA_SECTION_NODE] =
<a id="L241" name="L241"></a> 241         kidOK[NOTATION_NODE] =
<a id="L242" name="L242"></a> 242         0;
<a id="L243" name="L243"></a> 243 
<a id="L244" name="L244"></a> 244     <em class="brace">}</em> <em class="comment">// static</em>
<a id="L245" name="L245"></a> 245 
<a id="L246" name="L246"></a> 246     <em class="comment">//</em>
<a id="L247" name="L247"></a> 247     <em class="comment">// Constructors</em>
<a id="L248" name="L248"></a> 248     <em class="comment">//</em>
<a id="L249" name="L249"></a> 249 
<div class="comment">
      NON-DOM: Actually creating a Document is outside the DOM's spec,
      since it has to operate in terms of a particular implementation.</div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">public</strong> CoreDocumentImpl() <em class="brace">{</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">this</strong>(<strong class="reserved">false</strong>);
<a id="L256" name="L256"></a> 256     <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
     /** Constructor. */</div>
<a id="L259" name="L259"></a> 259     <strong class="reserved">public</strong> CoreDocumentImpl(<strong class="reserved">boolean</strong> grammarAccess) <em class="brace">{</em>
<a id="L260" name="L260"></a> 260         <strong class="reserved">super</strong>(<strong class="reserved">null</strong>);
<a id="L261" name="L261"></a> 261         <a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <strong class="reserved">this</strong>;
<a id="L262" name="L262"></a> 262         allowGrammarAccess = grammarAccess;
<a id="L263" name="L263"></a> 263         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> systemProp = <a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SUN_DOM_PROPERTY_PREFIX+<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SUN_DOM_ANCESTOR_CHECCK);
<a id="L264" name="L264"></a> 264         <strong class="reserved">if</strong> (systemProp != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265             <strong class="reserved">if</strong> (systemProp.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("false")) <em class="brace">{</em>
<a id="L266" name="L266"></a> 266                 ancestorChecking = <strong class="reserved">false</strong>;
<a id="L267" name="L267"></a> 267             <em class="brace">}</em>
<a id="L268" name="L268"></a> 268         <em class="brace">}</em>
<a id="L269" name="L269"></a> 269     <em class="brace">}</em>
<a id="L270" name="L270"></a> 270 
<div class="comment">
      For DOM2 support.
      The createDocument factory method is in DOMImplementation.</div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">public</strong> CoreDocumentImpl(<a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> doctype) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <strong class="reserved">this</strong>(doctype, <strong class="reserved">false</strong>);
<a id="L277" name="L277"></a> 277     <em class="brace">}</em>
<a id="L278" name="L278"></a> 278 
<div class="comment">
     /** For DOM2 support. */</div>
<a id="L280" name="L280"></a> 280     <strong class="reserved">public</strong> CoreDocumentImpl(<a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> doctype, <strong class="reserved">boolean</strong> grammarAccess) <em class="brace">{</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">this</strong>(grammarAccess);
<a id="L282" name="L282"></a> 282         <strong class="reserved">if</strong> (doctype != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283             <a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a> doctypeImpl;
<a id="L284" name="L284"></a> 284             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L285" name="L285"></a> 285                 doctypeImpl = (<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>) doctype;
<a id="L286" name="L286"></a> 286             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> e) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "WRONG_DOCUMENT_ERR", <strong class="reserved">null</strong>);
<a id="L288" name="L288"></a> 288                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.WRONG_DOCUMENT_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L289" name="L289"></a> 289             <em class="brace">}</em>
<a id="L290" name="L290"></a> 290             doctypeImpl.<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <strong class="reserved">this</strong>;
<a id="L291" name="L291"></a> 291             <a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(doctype);
<a id="L292" name="L292"></a> 292         <em class="brace">}</em>
<a id="L293" name="L293"></a> 293     <em class="brace">}</em>
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295     <em class="comment">//</em>
<a id="L296" name="L296"></a> 296     <em class="comment">// Node methods</em>
<a id="L297" name="L297"></a> 297     <em class="comment">//</em>
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299     <em class="comment">// even though ownerDocument refers to this in this implementation</em>
<a id="L300" name="L300"></a> 300     <em class="comment">// the DOM Level 2 spec says it must be null, so make it appear so</em>
<a id="L301" name="L301"></a> 301     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/18201.html" title="Multiple referred from 121 places.">getOwnerDocument</a>() <em class="brace">{</em>
<a id="L302" name="L302"></a> 302         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L303" name="L303"></a> 303     <em class="brace">}</em>
<a id="L304" name="L304"></a> 304 
<div class="comment">
     /** Returns the node type. */</div>
<a id="L306" name="L306"></a> 306     <strong class="reserved">public</strong> <strong class="reserved">short</strong> <a href="../R/17989.html" title="Multiple referred from 431 places.">getNodeType</a>() <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <strong class="reserved">return</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE;
<a id="L308" name="L308"></a> 308     <em class="brace">}</em>
<a id="L309" name="L309"></a> 309 
<div class="comment">
     /** Returns the node name. */</div>
<a id="L311" name="L311"></a> 311     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17984.html" title="Multiple referred from 297 places.">getNodeName</a>() <em class="brace">{</em>
<a id="L312" name="L312"></a> 312         <strong class="reserved">return</strong> "#document";
<a id="L313" name="L313"></a> 313     <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<div class="comment">
      Deep-clone a document, including fixing ownerDoc for the cloned
      children. Note that this requires bypassing the WRONG_DOCUMENT_ERR
      protection. I've chosen to implement it by calling importNode
      which is DOM Level 2.
      @return org.w3c.dom.Node
      @param deep boolean, iff true replicate children</div>
<a id="L324" name="L324"></a> 324     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/11574.html" title="Multiple referred from 32 places.">cloneNode</a>(<strong class="reserved">boolean</strong> deep) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> newdoc = <strong class="reserved">new</strong> <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a>();
<a id="L327" name="L327"></a> 327         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(<strong class="reserved">this</strong>, newdoc, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_CLONED);
<a id="L328" name="L328"></a> 328         <a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(newdoc, deep);
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330         <strong class="reserved">return</strong> newdoc;
<a id="L331" name="L331"></a> 331 
<a id="L332" name="L332"></a> 332     <em class="brace">}</em> <em class="comment">// cloneNode(boolean):Node</em>
<a id="L333" name="L333"></a> 333 
<a id="L334" name="L334"></a> 334 
<div class="comment">
      internal method to share code with subclass
     *</div>
<a id="L338" name="L338"></a> 338     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/11574.html" title="Multiple referred from 32 places.">cloneNode</a>(<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> newdoc, <strong class="reserved">boolean</strong> deep) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340         <em class="comment">// clone the children by importing them</em>
<a id="L341" name="L341"></a> 341         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345         <strong class="reserved">if</strong> (deep) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> reversedIdentifiers = <strong class="reserved">null</strong>;
<a id="L347" name="L347"></a> 347 
<a id="L348" name="L348"></a> 348             <strong class="reserved">if</strong> (identifiers != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L349" name="L349"></a> 349                 <em class="comment">// Build a reverse mapping from element to identifier.</em>
<a id="L350" name="L350"></a> 350                 reversedIdentifiers = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L351" name="L351"></a> 351                 <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> elementIds = identifiers.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L352" name="L352"></a> 352                 <strong class="reserved">while</strong> (elementIds.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> elementId = elementIds.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L354" name="L354"></a> 354                     reversedIdentifiers.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(identifiers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(elementId),
<a id="L355" name="L355"></a> 355                     elementId);
<a id="L356" name="L356"></a> 356                 <em class="brace">}</em>
<a id="L357" name="L357"></a> 357             <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<a id="L359" name="L359"></a> 359             <em class="comment">// Copy children into new document.</em>
<a id="L360" name="L360"></a> 360             <strong class="reserved">for</strong> (<a href="../S/5468.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/dom/ChildNode.java.">ChildNode</a> kid = <a href="../D/16394.html" title="Multiple defined in 2 places.">firstChild</a>; kid != <strong class="reserved">null</strong>;
<a id="L361" name="L361"></a> 361             kid = kid.<a href="../D/28184.html" title="Multiple defined in 2 places.">nextSibling</a>) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362                 newdoc.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(newdoc.<a href="../D/24390.html" title="Multiple defined in 6 places.">importNode</a>(kid, <strong class="reserved">true</strong>, <strong class="reserved">true</strong>,
<a id="L363" name="L363"></a> 363                 reversedIdentifiers));
<a id="L364" name="L364"></a> 364             <em class="brace">}</em>
<a id="L365" name="L365"></a> 365         <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<a id="L367" name="L367"></a> 367         <em class="comment">// experimental</em>
<a id="L368" name="L368"></a> 368         newdoc.allowGrammarAccess = allowGrammarAccess;
<a id="L369" name="L369"></a> 369         newdoc.errorChecking = errorChecking;
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371     <em class="brace">}</em> <em class="comment">// cloneNode(CoreDocumentImpl,boolean):void</em>
<a id="L372" name="L372"></a> 372 
<div class="comment">
      Since a Document may contain at most one top-level Element child,
      and at most one DocumentType declaraction, we need to subclass our
      add-children methods to implement this constraint.
      Since appendChild() is implemented as insertBefore(,null),
      altering the latter fixes both.
      <p>
      While I'm doing so, I've taken advantage of the opportunity to
      cache documentElement and docType so we don't have to
      search for them.
      REVISIT: According to the spec it is not allowed to alter neither the
      document element nor the document type in any way</p></div>
<a id="L387" name="L387"></a> 387     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20761.html" title="Multiple referred from 37 places.">insertBefore</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> refChild)
<a id="L388" name="L388"></a> 388     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390         <em class="comment">// Only one such child permitted</em>
<a id="L391" name="L391"></a> 391         <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = newChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>();
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong> (errorChecking) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <strong class="reserved">if</strong>((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE &amp;&amp; docElement != <strong class="reserved">null</strong>) ||
<a id="L394" name="L394"></a> 394             (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE &amp;&amp; docType != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>);
<a id="L396" name="L396"></a> 396                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L397" name="L397"></a> 397             <em class="brace">}</em>
<a id="L398" name="L398"></a> 398         <em class="brace">}</em>
<a id="L399" name="L399"></a> 399         <em class="comment">// Adopt orphan doctypes</em>
<a id="L400" name="L400"></a> 400         <strong class="reserved">if</strong> (newChild.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>() == <strong class="reserved">null</strong> &amp;&amp;
<a id="L401" name="L401"></a> 401         newChild <strong class="reserved">instanceof</strong> <a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>) <em class="brace">{</em>
<a id="L402" name="L402"></a> 402             ((<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>) newChild).<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <strong class="reserved">this</strong>;
<a id="L403" name="L403"></a> 403         <em class="brace">}</em>
<a id="L404" name="L404"></a> 404         <strong class="reserved">super</strong>.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(newChild,refChild);
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406         <em class="comment">// If insert succeeded, cache the kid appropriately</em>
<a id="L407" name="L407"></a> 407         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L408" name="L408"></a> 408             docElement = (<a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a>)newChild;
<a id="L409" name="L409"></a> 409         <em class="brace">}</em>
<a id="L410" name="L410"></a> 410         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411             docType = (<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>)newChild;
<a id="L412" name="L412"></a> 412         <em class="brace">}</em>
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414         <strong class="reserved">return</strong> newChild;
<a id="L415" name="L415"></a> 415 
<a id="L416" name="L416"></a> 416     <em class="brace">}</em> <em class="comment">// insertBefore(Node,Node):Node</em>
<a id="L417" name="L417"></a> 417 
<div class="comment">
      Since insertBefore caches the docElement (and, currently, docType),
      removeChild has to know how to undo the cache
      REVISIT: According to the spec it is not allowed to alter neither the
      document element nor the document type in any way</div>
<a id="L425" name="L425"></a> 425     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/25920.html" title="Multiple referred from 47 places.">removeChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild) <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L426" name="L426"></a> 426 
<a id="L427" name="L427"></a> 427         <strong class="reserved">super</strong>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(oldChild);
<a id="L428" name="L428"></a> 428 
<a id="L429" name="L429"></a> 429         <em class="comment">// If remove succeeded, un-cache the kid appropriately</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = oldChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>();
<a id="L431" name="L431"></a> 431         <strong class="reserved">if</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432             docElement = <strong class="reserved">null</strong>;
<a id="L433" name="L433"></a> 433         <em class="brace">}</em>
<a id="L434" name="L434"></a> 434         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE) <em class="brace">{</em>
<a id="L435" name="L435"></a> 435             docType = <strong class="reserved">null</strong>;
<a id="L436" name="L436"></a> 436         <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<a id="L438" name="L438"></a> 438         <strong class="reserved">return</strong> oldChild;
<a id="L439" name="L439"></a> 439 
<a id="L440" name="L440"></a> 440     <em class="brace">}</em>   <em class="comment">// removeChild(Node):Node</em>
<a id="L441" name="L441"></a> 441 
<div class="comment">
      Since we cache the docElement (and, currently, docType),
      replaceChild has to update the cache
      REVISIT: According to the spec it is not allowed to alter neither the
      document element nor the document type in any way</div>
<a id="L449" name="L449"></a> 449     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/26144.html" title="Multiple referred from 5 places.">replaceChild</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newChild, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> oldChild)
<a id="L450" name="L450"></a> 450     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L451" name="L451"></a> 451 
<a id="L452" name="L452"></a> 452         <em class="comment">// Adopt orphan doctypes</em>
<a id="L453" name="L453"></a> 453         <strong class="reserved">if</strong> (newChild.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>() == <strong class="reserved">null</strong> &amp;&amp;
<a id="L454" name="L454"></a> 454         newChild <strong class="reserved">instanceof</strong> <a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             ((<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>) newChild).<a href="../D/28637.html" title="Multiple defined in 2 places.">ownerDocument</a> = <strong class="reserved">this</strong>;
<a id="L456" name="L456"></a> 456         <em class="brace">}</em>
<a id="L457" name="L457"></a> 457 
<a id="L458" name="L458"></a> 458         <strong class="reserved">if</strong> (errorChecking &amp;&amp;((docType != <strong class="reserved">null</strong> &amp;&amp;
<a id="L459" name="L459"></a> 459             oldChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE &amp;&amp;
<a id="L460" name="L460"></a> 460             newChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE)
<a id="L461" name="L461"></a> 461             || (docElement != <strong class="reserved">null</strong> &amp;&amp;
<a id="L462" name="L462"></a> 462             oldChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE &amp;&amp;
<a id="L463" name="L463"></a> 463             newChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE))) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(
<a id="L466" name="L466"></a> 466                 <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.HIERARCHY_REQUEST_ERR,
<a id="L467" name="L467"></a> 467                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "HIERARCHY_REQUEST_ERR", <strong class="reserved">null</strong>));
<a id="L468" name="L468"></a> 468         <em class="brace">}</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">super</strong>.<a href="../D/31039.html" title="Multiple defined in 11 places.">replaceChild</a>(newChild, oldChild);
<a id="L470" name="L470"></a> 470 
<a id="L471" name="L471"></a> 471         <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = oldChild.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>();
<a id="L472" name="L472"></a> 472         <strong class="reserved">if</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L473" name="L473"></a> 473             docElement = (<a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a>)newChild;
<a id="L474" name="L474"></a> 474         <em class="brace">}</em>
<a id="L475" name="L475"></a> 475         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE) <em class="brace">{</em>
<a id="L476" name="L476"></a> 476             docType = (<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>)newChild;
<a id="L477" name="L477"></a> 477         <em class="brace">}</em>
<a id="L478" name="L478"></a> 478         <strong class="reserved">return</strong> oldChild;
<a id="L479" name="L479"></a> 479     <em class="brace">}</em>   <em class="comment">// replaceChild(Node,Node):Node</em>
<a id="L480" name="L480"></a> 480 
<div class="comment">
      Get Node text content
      @since DOM Level 3</div>
<a id="L485" name="L485"></a> 485     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19428.html" title="Multiple referred from 6 places.">getTextContent</a>() <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L486" name="L486"></a> 486         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L487" name="L487"></a> 487     <em class="brace">}</em>
<a id="L488" name="L488"></a> 488 
<div class="comment">
      Set Node text content
      @since DOM Level 3</div>
<a id="L493" name="L493"></a> 493     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28274.html" title="Multiple referred from 2 places.">setTextContent</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> textContent)
<a id="L494" name="L494"></a> 494     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L495" name="L495"></a> 495         <em class="comment">// no-op</em>
<a id="L496" name="L496"></a> 496     <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<div class="comment">
      @since DOM Level 3</div>
<a id="L501" name="L501"></a> 501     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/16538.html" title="Multiple referred from 145 places.">getFeature</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> feature, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502 
<a id="L503" name="L503"></a> 503         <strong class="reserved">boolean</strong> anyVersion = <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> == <strong class="reserved">null</strong> || <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0;
<a id="L504" name="L504"></a> 504 
<a id="L505" name="L505"></a> 505         <em class="comment">// if a plus sign "+" is prepended to any feature name, implementations</em>
<a id="L506" name="L506"></a> 506         <em class="comment">// are considered in which the specified feature may not be directly</em>
<a id="L507" name="L507"></a> 507         <em class="comment">// castable DOMImplementation.getFeature(feature, version). Without a</em>
<a id="L508" name="L508"></a> 508         <em class="comment">// plus, only features whose interfaces are directly castable are</em>
<a id="L509" name="L509"></a> 509         <em class="comment">// considered.</em>
<a id="L510" name="L510"></a> 510         <strong class="reserved">if</strong> ((feature.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("+XPath"))
<a id="L511" name="L511"></a> 511             &amp;&amp; (anyVersion || <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("3.0"))) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513             <em class="comment">// If an XPathEvaluator was created previously</em>
<a id="L514" name="L514"></a> 514             <em class="comment">// return it otherwise create a new one.</em>
<a id="L515" name="L515"></a> 515             <strong class="reserved">if</strong> (fXPathEvaluator != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L516" name="L516"></a> 516                 <strong class="reserved">return</strong> fXPathEvaluator;
<a id="L517" name="L517"></a> 517             <em class="brace">}</em>
<a id="L518" name="L518"></a> 518 
<a id="L519" name="L519"></a> 519             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L520" name="L520"></a> 520                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> xpathClass = <a href="../D/6287.html" title="Multiple defined in 3 places.">ObjectFactory</a>.<a href="../D/16218.html" title="Multiple defined in 4 places.">findProviderClass</a> (
<a id="L521" name="L521"></a> 521                         "com.sun.org.apache.xpath.internal.domapi.XPathEvaluatorImpl", <strong class="reserved">true</strong>);
<a id="L522" name="L522"></a> 522                 <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a> xpathClassConstr =
<a id="L523" name="L523"></a> 523                     xpathClass.<a href="../D/17932.html" title="Multiple defined in 2 places.">getConstructor</a>(<strong class="reserved">new</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>[] <em class="brace">{</em> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>.<strong class="reserved">class</strong> <em class="brace">}</em>);
<a id="L524" name="L524"></a> 524 
<a id="L525" name="L525"></a> 525                 <em class="comment">// Check if the DOM XPath implementation implements</em>
<a id="L526" name="L526"></a> 526                 <em class="comment">// the interface org.w3c.dom.XPathEvaluator</em>
<a id="L527" name="L527"></a> 527                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> <a href="../D/24908.html" title="Multiple defined in 2 places.">interfaces</a>[] = xpathClass.<a href="../D/19802.html" title="Multiple defined in 13 places.">getInterfaces</a>();
<a id="L528" name="L528"></a> 528                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/24908.html" title="Multiple defined in 2 places.">interfaces</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529                     <strong class="reserved">if</strong> (<a href="../D/24908.html" title="Multiple defined in 2 places.">interfaces</a>[i].<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(
<a id="L530" name="L530"></a> 530                     "org.w3c.dom.xpath.XPathEvaluator")) <em class="brace">{</em>
<a id="L531" name="L531"></a> 531                         fXPathEvaluator = xpathClassConstr.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(<strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <strong class="reserved">this</strong> <em class="brace">}</em>);
<a id="L532" name="L532"></a> 532                         <strong class="reserved">return</strong> fXPathEvaluator;
<a id="L533" name="L533"></a> 533                     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534                 <em class="brace">}</em>
<a id="L535" name="L535"></a> 535                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L536" name="L536"></a> 536             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L538" name="L538"></a> 538             <em class="brace">}</em>
<a id="L539" name="L539"></a> 539         <em class="brace">}</em>
<a id="L540" name="L540"></a> 540         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/19006.html" title="Multiple defined in 56 places.">getFeature</a>(feature, <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>);
<a id="L541" name="L541"></a> 541     <em class="brace">}</em>
<a id="L542" name="L542"></a> 542 
<a id="L543" name="L543"></a> 543     <em class="comment">//</em>
<a id="L544" name="L544"></a> 544     <em class="comment">// Document methods</em>
<a id="L545" name="L545"></a> 545     <em class="comment">//</em>
<a id="L546" name="L546"></a> 546 
<a id="L547" name="L547"></a> 547     <em class="comment">// factory methods</em>
<a id="L548" name="L548"></a> 548 
<div class="comment">
      Factory method; creates an Attribute having this Document as its
      OwnerDoc.
      @param name The name of the attribute. Note that the attribute's value is
      _not_ established at the factory; remember to set it!
      @throws DOMException(INVALID_NAME_ERR)
      if the attribute name is not acceptable.</div>
<a id="L559" name="L559"></a> 559     <strong class="reserved">public</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../R/12216.html" title="Multiple referred from 8 places.">createAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L560" name="L560"></a> 560         <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L561" name="L561"></a> 561 
<a id="L562" name="L562"></a> 562         <strong class="reserved">if</strong> (errorChecking &amp;&amp; !<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,xml11Version)) <em class="brace">{</em>
<a id="L563" name="L563"></a> 563             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L564" name="L564"></a> 564                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L565" name="L565"></a> 565                     <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L566" name="L566"></a> 566                     "INVALID_CHARACTER_ERR",
<a id="L567" name="L567"></a> 567                     <strong class="reserved">null</strong>);
<a id="L568" name="L568"></a> 568             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L569" name="L569"></a> 569         <em class="brace">}</em>
<a id="L570" name="L570"></a> 570         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>(<strong class="reserved">this</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L571" name="L571"></a> 571 
<a id="L572" name="L572"></a> 572     <em class="brace">}</em> <em class="comment">// createAttribute(String):Attr</em>
<a id="L573" name="L573"></a> 573 
<div class="comment">
      Factory method; creates a CDATASection having this Document as
      its OwnerDoc.
      @param data The initial contents of the CDATA
      @throws DOMException(NOT_SUPPORTED_ERR) for HTML documents. (HTML
      not yet implemented.)</div>
<a id="L583" name="L583"></a> 583     <strong class="reserved">public</strong> <a href="../S/129.html#L82" title="Defined at 82 in src/org/w3c/dom/CDATASection.java.">CDATASection</a> <a href="../R/12248.html" title="Multiple referred from 6 places.">createCDATASection</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>)
<a id="L584" name="L584"></a> 584     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L585" name="L585"></a> 585         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5473.html#L52" title="Defined at 52 in src/com/sun/org/apache/xerces/internal/dom/CDATASectionImpl.java.">CDATASectionImpl</a>(<strong class="reserved">this</strong>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L586" name="L586"></a> 586     <em class="brace">}</em>
<a id="L587" name="L587"></a> 587 
<div class="comment">
      Factory method; creates a Comment having this Document as its
      OwnerDoc.
     * @param data The initial contents of the Comment. </div>
<a id="L593" name="L593"></a> 593     <strong class="reserved">public</strong> <a href="../D/1672.html" title="Multiple defined in 3 places.">Comment</a> <a href="../R/12284.html" title="Multiple referred from 7 places.">createComment</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L594" name="L594"></a> 594         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5441.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/dom/CommentImpl.java.">CommentImpl</a>(<strong class="reserved">this</strong>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L595" name="L595"></a> 595     <em class="brace">}</em>
<a id="L596" name="L596"></a> 596 
<div class="comment">
      Factory method; creates a DocumentFragment having this Document
      as its OwnerDoc.</div>
<a id="L601" name="L601"></a> 601     <strong class="reserved">public</strong> <a href="../S/157.html#L81" title="Defined at 81 in src/org/w3c/dom/DocumentFragment.java.">DocumentFragment</a> <a href="../R/12382.html" title="Multiple referred from 13 places.">createDocumentFragment</a>() <em class="brace">{</em>
<a id="L602" name="L602"></a> 602         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5481.html#L68" title="Defined at 68 in src/com/sun/org/apache/xerces/internal/dom/DocumentFragmentImpl.java.">DocumentFragmentImpl</a>(<strong class="reserved">this</strong>);
<a id="L603" name="L603"></a> 603     <em class="brace">}</em>
<a id="L604" name="L604"></a> 604 
<div class="comment">
      Factory method; creates an Element having this Document
      as its OwnerDoc.
      @param tagName The name of the element type to instantiate. For
      XML, this is case-sensitive. For HTML, the tagName parameter may
      be provided in any case, but it must be mapped to the canonical
      uppercase form by the DOM implementation.
      @throws DOMException(INVALID_NAME_ERR) if the tag name is not
      acceptable.</div>
<a id="L617" name="L617"></a> 617     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12397.html" title="Multiple referred from 29 places.">createElement</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> tagName)
<a id="L618" name="L618"></a> 618     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L619" name="L619"></a> 619 
<a id="L620" name="L620"></a> 620         <strong class="reserved">if</strong> (errorChecking &amp;&amp; !<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(tagName,xml11Version)) <em class="brace">{</em>
<a id="L621" name="L621"></a> 621             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INVALID_CHARACTER_ERR", <strong class="reserved">null</strong>);
<a id="L622" name="L622"></a> 622             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L623" name="L623"></a> 623         <em class="brace">}</em>
<a id="L624" name="L624"></a> 624         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a>(<strong class="reserved">this</strong>, tagName);
<a id="L625" name="L625"></a> 625 
<a id="L626" name="L626"></a> 626     <em class="brace">}</em> <em class="comment">// createElement(String):Element</em>
<a id="L627" name="L627"></a> 627 
<div class="comment">
      Factory method; creates an EntityReference having this Document
      as its OwnerDoc.
      @param name The name of the Entity we wish to refer to
      @throws DOMException(NOT_SUPPORTED_ERR) for HTML documents, where
      nonstandard entities are not permitted. (HTML not yet
      implemented.)</div>
<a id="L638" name="L638"></a> 638     <strong class="reserved">public</strong> <a href="../D/2917.html" title="Multiple defined in 2 places.">EntityReference</a> <a href="../R/12422.html" title="Multiple referred from 4 places.">createEntityReference</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L639" name="L639"></a> 639     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L640" name="L640"></a> 640 
<a id="L641" name="L641"></a> 641         <strong class="reserved">if</strong> (errorChecking &amp;&amp; !<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,xml11Version)) <em class="brace">{</em>
<a id="L642" name="L642"></a> 642             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INVALID_CHARACTER_ERR", <strong class="reserved">null</strong>);
<a id="L643" name="L643"></a> 643             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L644" name="L644"></a> 644         <em class="brace">}</em>
<a id="L645" name="L645"></a> 645         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5430.html#L85" title="Defined at 85 in src/com/sun/org/apache/xerces/internal/dom/EntityReferenceImpl.java.">EntityReferenceImpl</a>(<strong class="reserved">this</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L646" name="L646"></a> 646 
<a id="L647" name="L647"></a> 647     <em class="brace">}</em> <em class="comment">// createEntityReference(String):EntityReference</em>
<a id="L648" name="L648"></a> 648 
<div class="comment">
      Factory method; creates a ProcessingInstruction having this Document
      as its OwnerDoc.
      @param target The target "processor channel"
      @param data Parameter string to be passed to the target.
      @throws DOMException(INVALID_NAME_ERR) if the target name is not
      acceptable.
      @throws DOMException(NOT_SUPPORTED_ERR) for HTML documents. (HTML
      not yet implemented.)</div>
<a id="L662" name="L662"></a> 662     <strong class="reserved">public</strong> <a href="../D/6899.html" title="Multiple defined in 3 places.">ProcessingInstruction</a> <a href="../R/12634.html" title="Multiple referred from 8 places.">createProcessingInstruction</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>,
<a id="L663" name="L663"></a> 663     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>)
<a id="L664" name="L664"></a> 664     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L665" name="L665"></a> 665 
<a id="L666" name="L666"></a> 666         <strong class="reserved">if</strong> (errorChecking &amp;&amp; !<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>,xml11Version)) <em class="brace">{</em>
<a id="L667" name="L667"></a> 667             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INVALID_CHARACTER_ERR", <strong class="reserved">null</strong>);
<a id="L668" name="L668"></a> 668             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L669" name="L669"></a> 669         <em class="brace">}</em>
<a id="L670" name="L670"></a> 670         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5489.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/dom/ProcessingInstructionImpl.java.">ProcessingInstructionImpl</a>(<strong class="reserved">this</strong>, <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L671" name="L671"></a> 671 
<a id="L672" name="L672"></a> 672     <em class="brace">}</em> <em class="comment">// createProcessingInstruction(String,String):ProcessingInstruction</em>
<a id="L673" name="L673"></a> 673 
<div class="comment">
      Factory method; creates a Text node having this Document as its
      OwnerDoc.
      @param data The initial contents of the Text.</div>
<a id="L680" name="L680"></a> 680     <strong class="reserved">public</strong> <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> <a href="../R/12726.html" title="Multiple referred from 59 places.">createTextNode</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L681" name="L681"></a> 681         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8917.html" title="Multiple defined in 2 places.">TextImpl</a>(<strong class="reserved">this</strong>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L682" name="L682"></a> 682     <em class="brace">}</em>
<a id="L683" name="L683"></a> 683 
<a id="L684" name="L684"></a> 684     <em class="comment">// other document methods</em>
<a id="L685" name="L685"></a> 685 
<div class="comment">
      For XML, this provides access to the Document Type Definition.
      For HTML documents, and XML documents which don't specify a DTD,
      it will be null.</div>
<a id="L691" name="L691"></a> 691     <strong class="reserved">public</strong> <a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> <a href="../R/16211.html" title="Multiple referred from 16 places.">getDoctype</a>() <em class="brace">{</em>
<a id="L692" name="L692"></a> 692         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L693" name="L693"></a> 693             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L694" name="L694"></a> 694         <em class="brace">}</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">return</strong> docType;
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<a id="L698" name="L698"></a> 698 
<div class="comment">
      Convenience method, allowing direct access to the child node
      which is considered the root of the actual document content. For
      HTML, where it is legal to have more than one Element at the top
      level of the document, we pick the one with the tagName
      "HTML". For XML there should be only one top-level
      (HTML not yet supported.)</div>
<a id="L708" name="L708"></a> 708     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16218.html" title="Multiple referred from 34 places.">getDocumentElement</a>() <em class="brace">{</em>
<a id="L709" name="L709"></a> 709         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L710" name="L710"></a> 710             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L711" name="L711"></a> 711         <em class="brace">}</em>
<a id="L712" name="L712"></a> 712         <strong class="reserved">return</strong> docElement;
<a id="L713" name="L713"></a> 713     <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<div class="comment">
      Return a <em>live</em> collection of all descendent Elements (not just
      immediate children) having the specified tag name.
      @param tagname The type of Element we want to gather. "*" will be
      taken as a wildcard, meaning "all elements in the document."
      @see DeepNodeListImpl</div>
<a id="L724" name="L724"></a> 724     <strong class="reserved">public</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../R/16337.html" title="Multiple referred from 8 places.">getElementsByTagName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> tagname) <em class="brace">{</em>
<a id="L725" name="L725"></a> 725         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5480.html#L76" title="Defined at 76 in src/com/sun/org/apache/xerces/internal/dom/DeepNodeListImpl.java.">DeepNodeListImpl</a>(<strong class="reserved">this</strong>,tagname);
<a id="L726" name="L726"></a> 726     <em class="brace">}</em>
<a id="L727" name="L727"></a> 727 
<div class="comment">
      Retrieve information describing the abilities of this particular
      DOM implementation. Intended to support applications that may be
      using DOMs retrieved from several different sources, potentially
      with different underlying representations.</div>
<a id="L734" name="L734"></a> 734     <strong class="reserved">public</strong> <a href="../S/119.html#L50" title="Defined at 50 in src/org/w3c/dom/DOMImplementation.java.">DOMImplementation</a> <a href="../R/17003.html" title="Multiple referred from 8 places.">getImplementation</a>() <em class="brace">{</em>
<a id="L735" name="L735"></a> 735         <em class="comment">// Currently implemented as a singleton, since it's hardcoded</em>
<a id="L736" name="L736"></a> 736         <em class="comment">// information anyway.</em>
<a id="L737" name="L737"></a> 737         <strong class="reserved">return</strong> <a href="../S/5467.html#L58" title="Defined at 58 in src/com/sun/org/apache/xerces/internal/dom/CoreDOMImplementationImpl.java.">CoreDOMImplementationImpl</a>.<a href="../D/18159.html" title="Multiple defined in 12 places.">getDOMImplementation</a>();
<a id="L738" name="L738"></a> 738     <em class="brace">}</em>
<a id="L739" name="L739"></a> 739 
<a id="L740" name="L740"></a> 740     <em class="comment">//</em>
<a id="L741" name="L741"></a> 741     <em class="comment">// Public methods</em>
<a id="L742" name="L742"></a> 742     <em class="comment">//</em>
<a id="L743" name="L743"></a> 743 
<a id="L744" name="L744"></a> 744     <em class="comment">// properties</em>
<a id="L745" name="L745"></a> 745 
<div class="comment">
      Sets whether the DOM implementation performs error checking
      upon operations. Turning off error checking only affects
      the following DOM checks:
      <ul><li>Checking strings to make sure that all characters are
          legal XML characters
      </li><li>Hierarchy checking such as allowed children, checks for
          cycles, etc.
      </li></ul>
      <p>
      Turning off error checking does <em>not</em> turn off the
      following checks:
      </p><ul><li>Read only checks
      </li><li>Checks related to DOM events
      </li></ul></div>
<a id="L764" name="L764"></a> 764 
<a id="L765" name="L765"></a> 765     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setErrorChecking(<strong class="reserved">boolean</strong> <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>) <em class="brace">{</em>
<a id="L766" name="L766"></a> 766         errorChecking = <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>;
<a id="L767" name="L767"></a> 767     <em class="brace">}</em>
<a id="L768" name="L768"></a> 768 
<div class="comment">
      DOM Level 3 WD - Experimental.</div>
<a id="L772" name="L772"></a> 772     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28232.html" title="Multiple referred from 4 places.">setStrictErrorChecking</a>(<strong class="reserved">boolean</strong> <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>) <em class="brace">{</em>
<a id="L773" name="L773"></a> 773         errorChecking = <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>;
<a id="L774" name="L774"></a> 774     <em class="brace">}</em>
<a id="L775" name="L775"></a> 775 
<div class="comment">
      Returns true if the DOM implementation performs error checking.</div>
<a id="L779" name="L779"></a> 779     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getErrorChecking() <em class="brace">{</em>
<a id="L780" name="L780"></a> 780         <strong class="reserved">return</strong> errorChecking;
<a id="L781" name="L781"></a> 781     <em class="brace">}</em>
<a id="L782" name="L782"></a> 782 
<div class="comment">
      DOM Level 3 WD - Experimental.</div>
<a id="L786" name="L786"></a> 786     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getStrictErrorChecking() <em class="brace">{</em>
<a id="L787" name="L787"></a> 787         <strong class="reserved">return</strong> errorChecking;
<a id="L788" name="L788"></a> 788     <em class="brace">}</em>
<a id="L789" name="L789"></a> 789 
<a id="L790" name="L790"></a> 790 
<div class="comment">
      DOM Level 3 CR - Experimental. (Was getActualEncoding)
      An attribute specifying the encoding used for this document
      at the time of the parsing. This is <code>null</code> when
      it is not known, such as when the <code>Document</code> was
      created in memory.
      @since DOM Level 3</div>
<a id="L800" name="L800"></a> 800     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getInputEncoding() <em class="brace">{</em>
<a id="L801" name="L801"></a> 801         <strong class="reserved">return</strong> actualEncoding;
<a id="L802" name="L802"></a> 802     <em class="brace">}</em>
<a id="L803" name="L803"></a> 803 
<div class="comment">
      DOM Internal
      (Was a DOM L3 Core WD public interface method setActualEncoding )
      An attribute specifying the actual encoding of this document. This is
      <code>null</code> otherwise.
      <br> This attribute represents the property [character encoding scheme]
      defined in .</div>
<a id="L813" name="L813"></a> 813     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27574.html" title="Multiple referred from 8 places.">setInputEncoding</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L814" name="L814"></a> 814         actualEncoding = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L815" name="L815"></a> 815     <em class="brace">}</em>
<a id="L816" name="L816"></a> 816 
<div class="comment">
      DOM Internal
      (Was a DOM L3 Core WD public interface method setXMLEncoding )
      An attribute specifying, as part of the XML declaration,
      the encoding of this document. This is null when unspecified.</div>
<a id="L824" name="L824"></a> 824     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28438.html" title="Multiple referred from 4 places.">setXmlEncoding</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L825" name="L825"></a> 825         <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L826" name="L826"></a> 826     <em class="brace">}</em>
<a id="L827" name="L827"></a> 827 
<div class="comment">
      @deprecated This method is internal and only exists for
      compatibility with older applications. New applications
      should never call this method.</div>
<a id="L833" name="L833"></a> 833     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27319.html" title="Multiple referred from 47 places.">setEncoding</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L834" name="L834"></a> 834         <a href="../D/34365.html" title="Multiple defined in 4 places.">setXmlEncoding</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L835" name="L835"></a> 835     <em class="brace">}</em>
<a id="L836" name="L836"></a> 836 
<div class="comment">
      DOM Level 3 WD - Experimental.
      The encoding of this document (part of XML Declaration)</div>
<a id="L841" name="L841"></a> 841     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19936.html" title="Multiple referred from 2 places.">getXmlEncoding</a>() <em class="brace">{</em>
<a id="L842" name="L842"></a> 842         <strong class="reserved">return</strong> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>;
<a id="L843" name="L843"></a> 843     <em class="brace">}</em>
<a id="L844" name="L844"></a> 844 
<div class="comment">
      @deprecated This method is internal and only exists for
      compatibility with older applications. New applications
      should never call this method.</div>
<a id="L850" name="L850"></a> 850     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16356.html" title="Multiple referred from 82 places.">getEncoding</a>() <em class="brace">{</em>
<a id="L851" name="L851"></a> 851         <strong class="reserved">return</strong> <a href="../D/23791.html" title="Multiple defined in 7 places.">getXmlEncoding</a>();
<a id="L852" name="L852"></a> 852     <em class="brace">}</em>
<a id="L853" name="L853"></a> 853 
<div class="comment">
      DOM Level 3 CR - Experimental.
      version - An attribute specifying, as part of the XML declaration,
      the version number of this document.</div>
<a id="L859" name="L859"></a> 859     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28440.html" title="Multiple referred from 5 places.">setXmlVersion</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L860" name="L860"></a> 860         <strong class="reserved">if</strong>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("1.0") || <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("1.1"))<em class="brace">{</em>
<a id="L861" name="L861"></a> 861             <em class="comment">//we need to change the flag value only --</em>
<a id="L862" name="L862"></a> 862             <em class="comment">// when the version set is different than already set.</em>
<a id="L863" name="L863"></a> 863             <strong class="reserved">if</strong>(!<a href="../D/23793.html" title="Multiple defined in 7 places.">getXmlVersion</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>))<em class="brace">{</em>
<a id="L864" name="L864"></a> 864                 xmlVersionChanged = <strong class="reserved">true</strong> ;
<a id="L865" name="L865"></a> 865                 <em class="comment">//change the normalization value back to false</em>
<a id="L866" name="L866"></a> 866                 <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">false</strong>);
<a id="L867" name="L867"></a> 867                 <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L868" name="L868"></a> 868             <em class="brace">}</em>
<a id="L869" name="L869"></a> 869         <em class="brace">}</em>
<a id="L870" name="L870"></a> 870         <strong class="reserved">else</strong><em class="brace">{</em>
<a id="L871" name="L871"></a> 871             <em class="comment">//NOT_SUPPORTED_ERR: Raised if the vesion is set to a value that is not supported by</em>
<a id="L872" name="L872"></a> 872             <em class="comment">//this document</em>
<a id="L873" name="L873"></a> 873             <em class="comment">//we dont support any other XML version</em>
<a id="L874" name="L874"></a> 874             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L875" name="L875"></a> 875             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L876" name="L876"></a> 876 
<a id="L877" name="L877"></a> 877         <em class="brace">}</em>
<a id="L878" name="L878"></a> 878         <strong class="reserved">if</strong>((<a href="../D/23793.html" title="Multiple defined in 7 places.">getXmlVersion</a>()).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("1.1"))<em class="brace">{</em>
<a id="L879" name="L879"></a> 879             xml11Version = <strong class="reserved">true</strong>;
<a id="L880" name="L880"></a> 880         <em class="brace">}</em>
<a id="L881" name="L881"></a> 881         <strong class="reserved">else</strong><em class="brace">{</em>
<a id="L882" name="L882"></a> 882             xml11Version = <strong class="reserved">false</strong>;
<a id="L883" name="L883"></a> 883         <em class="brace">}</em>
<a id="L884" name="L884"></a> 884     <em class="brace">}</em>
<a id="L885" name="L885"></a> 885 
<div class="comment">
      @deprecated This method is internal and only exists for
      compatibility with older applications. New applications
      should never call this method.</div>
<a id="L891" name="L891"></a> 891     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28387.html" title="Multiple referred from 18 places.">setVersion</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L892" name="L892"></a> 892         <a href="../D/34367.html" title="Multiple defined in 6 places.">setXmlVersion</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L893" name="L893"></a> 893     <em class="brace">}</em>
<a id="L894" name="L894"></a> 894 
<div class="comment">
      DOM Level 3 WD - Experimental.
      The version of this document (part of XML Declaration)</div>
<a id="L899" name="L899"></a> 899 
<a id="L900" name="L900"></a> 900     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19938.html" title="Multiple referred from 8 places.">getXmlVersion</a>() <em class="brace">{</em>
<a id="L901" name="L901"></a> 901         <strong class="reserved">return</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> == <strong class="reserved">null</strong>)?"1.0":<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>;
<a id="L902" name="L902"></a> 902     <em class="brace">}</em>
<a id="L903" name="L903"></a> 903 
<div class="comment">
      @deprecated This method is internal and only exists for
      compatibility with older applications. New applications
      should never call this method.</div>
<a id="L909" name="L909"></a> 909     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19788.html" title="Multiple referred from 46 places.">getVersion</a>() <em class="brace">{</em>
<a id="L910" name="L910"></a> 910         <strong class="reserved">return</strong> <a href="../D/23793.html" title="Multiple defined in 7 places.">getXmlVersion</a>();
<a id="L911" name="L911"></a> 911     <em class="brace">}</em>
<a id="L912" name="L912"></a> 912 
<div class="comment">
      DOM Level 3 CR - Experimental.
      Xmlstandalone - An attribute specifying, as part of the XML declaration,
      whether this document is standalone
      @exception DOMException
         NOT_SUPPORTED_ERR: Raised if this document does not support the
        "XML" feature.
      @since DOM Level 3</div>
<a id="L923" name="L923"></a> 923     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28439.html" title="Multiple referred from 3 places.">setXmlStandalone</a>(<strong class="reserved">boolean</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)
<a id="L924" name="L924"></a> 924                                   <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L925" name="L925"></a> 925             standalone = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L926" name="L926"></a> 926     <em class="brace">}</em>
<a id="L927" name="L927"></a> 927 
<div class="comment">
      @deprecated This method is internal and only exists for
      compatibility with older applications. New applications
      should never call this method.</div>
<a id="L933" name="L933"></a> 933     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28217.html" title="Multiple referred from 10 places.">setStandalone</a>(<strong class="reserved">boolean</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L934" name="L934"></a> 934         <a href="../D/34366.html" title="Multiple defined in 5 places.">setXmlStandalone</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L935" name="L935"></a> 935     <em class="brace">}</em>
<a id="L936" name="L936"></a> 936 
<div class="comment">
      DOM Level 3 WD - Experimental.
      standalone that specifies whether this document is standalone
      (part of XML Declaration)</div>
<a id="L942" name="L942"></a> 942     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/19937.html" title="Multiple referred from 3 places.">getXmlStandalone</a>() <em class="brace">{</em>
<a id="L943" name="L943"></a> 943         <strong class="reserved">return</strong> standalone;
<a id="L944" name="L944"></a> 944     <em class="brace">}</em>
<a id="L945" name="L945"></a> 945 
<div class="comment">
      @deprecated This method is internal and only exists for
      compatibility with older applications. New applications
      should never call this method.</div>
<a id="L951" name="L951"></a> 951     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/19148.html" title="Multiple referred from 11 places.">getStandalone</a>() <em class="brace">{</em>
<a id="L952" name="L952"></a> 952         <strong class="reserved">return</strong> <a href="../D/23792.html" title="Multiple defined in 5 places.">getXmlStandalone</a>();
<a id="L953" name="L953"></a> 953     <em class="brace">}</em>
<a id="L954" name="L954"></a> 954 
<div class="comment">
      DOM Level 3 WD - Experimental.
      The location of the document or <code>null</code> if undefined.
      <br>Beware that when the <code>Document</code> supports the feature
      "HTML" , the href attribute of the HTML BASE element takes precedence
      over this attribute.
      @since DOM Level 3</div>
<a id="L963" name="L963"></a> 963     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16232.html" title="Multiple referred from 11 places.">getDocumentURI</a>()<em class="brace">{</em>
<a id="L964" name="L964"></a> 964         <strong class="reserved">return</strong> fDocumentURI;
<a id="L965" name="L965"></a> 965     <em class="brace">}</em>
<a id="L966" name="L966"></a> 966 
<a id="L967" name="L967"></a> 967 
<div class="comment">
      DOM Level 3 WD - Experimental.
      Renaming node</div>
<a id="L972" name="L972"></a> 972     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> renameNode(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n,<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>,<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L973" name="L973"></a> 973     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a><em class="brace">{</em>
<a id="L974" name="L974"></a> 974 
<a id="L975" name="L975"></a> 975         <strong class="reserved">if</strong> (errorChecking &amp;&amp; n.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>() != <strong class="reserved">this</strong> &amp;&amp; n != <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L976" name="L976"></a> 976             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L977" name="L977"></a> 977                     <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "WRONG_DOCUMENT_ERR", <strong class="reserved">null</strong>);
<a id="L978" name="L978"></a> 978             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.WRONG_DOCUMENT_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L979" name="L979"></a> 979         <em class="brace">}</em>
<a id="L980" name="L980"></a> 980         <strong class="reserved">switch</strong> (n.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981             <strong class="reserved">case</strong> ELEMENT_NODE: <em class="brace">{</em>
<a id="L982" name="L982"></a> 982                 <a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a> el = (<a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a>) n;
<a id="L983" name="L983"></a> 983                 <strong class="reserved">if</strong> (el <strong class="reserved">instanceof</strong> <a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a>) <em class="brace">{</em>
<a id="L984" name="L984"></a> 984                     ((<a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a>) el).<a href="../D/31002.html" title="Multiple defined in 12 places.">rename</a>(<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L985" name="L985"></a> 985 
<a id="L986" name="L986"></a> 986                     <em class="comment">// fire user data NODE_RENAMED event</em>
<a id="L987" name="L987"></a> 987                     <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(el, <strong class="reserved">null</strong>, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_RENAMED);
<a id="L988" name="L988"></a> 988                 <em class="brace">}</em>
<a id="L989" name="L989"></a> 989                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L990" name="L990"></a> 990                     <strong class="reserved">if</strong> (<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L991" name="L991"></a> 991                         <strong class="reserved">if</strong> (errorChecking) <em class="brace">{</em>
<a id="L992" name="L992"></a> 992                             <strong class="reserved">int</strong> colon1 = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L993" name="L993"></a> 993                             <strong class="reserved">if</strong>(colon1 != -1)<em class="brace">{</em>
<a id="L994" name="L994"></a> 994                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L995" name="L995"></a> 995                                     <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L996" name="L996"></a> 996                                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L997" name="L997"></a> 997                                             "NAMESPACE_ERR",
<a id="L998" name="L998"></a> 998                                             <strong class="reserved">null</strong>);
<a id="L999" name="L999"></a> 999                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NAMESPACE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1000" name="L1000"></a>1000                             <em class="brace">}</em>
<a id="L1001" name="L1001"></a>1001                             <strong class="reserved">if</strong> (!<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,xml11Version)) <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L1003" name="L1003"></a>1003                                         <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L1004" name="L1004"></a>1004                                         "INVALID_CHARACTER_ERR", <strong class="reserved">null</strong>);
<a id="L1005" name="L1005"></a>1005                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR,
<a id="L1006" name="L1006"></a>1006                                         <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1007" name="L1007"></a>1007                             <em class="brace">}</em>
<a id="L1008" name="L1008"></a>1008                         <em class="brace">}</em>
<a id="L1009" name="L1009"></a>1009                         el.<a href="../D/31002.html" title="Multiple defined in 12 places.">rename</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1010" name="L1010"></a>1010 
<a id="L1011" name="L1011"></a>1011                         <em class="comment">// fire user data NODE_RENAMED event</em>
<a id="L1012" name="L1012"></a>1012                         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(el, <strong class="reserved">null</strong>,
<a id="L1013" name="L1013"></a>1013                                 <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_RENAMED);
<a id="L1014" name="L1014"></a>1014                     <em class="brace">}</em>
<a id="L1015" name="L1015"></a>1015                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1016" name="L1016"></a>1016                         <em class="comment">// we need to create a new object</em>
<a id="L1017" name="L1017"></a>1017                         <a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a> nel =
<a id="L1018" name="L1018"></a>1018                             <strong class="reserved">new</strong> <a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a>(<strong class="reserved">this</strong>, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1019" name="L1019"></a>1019 
<a id="L1020" name="L1020"></a>1020                         <em class="comment">// register event listeners on new node</em>
<a id="L1021" name="L1021"></a>1021                         <a href="../D/13490.html" title="Multiple defined in 2 places.">copyEventListeners</a>(el, nel);
<a id="L1022" name="L1022"></a>1022 
<a id="L1023" name="L1023"></a>1023                         <em class="comment">// remove user data from old node</em>
<a id="L1024" name="L1024"></a>1024                         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/5445.html#L2406" title="Defined at 2406 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">removeUserDataTable</a>(el);
<a id="L1025" name="L1025"></a>1025 
<a id="L1026" name="L1026"></a>1026                         <em class="comment">// remove old node from parent if any</em>
<a id="L1027" name="L1027"></a>1027                         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = el.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L1028" name="L1028"></a>1028                         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> nextSib = el.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1029" name="L1029"></a>1029                         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1030" name="L1030"></a>1030                             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(el);
<a id="L1031" name="L1031"></a>1031                         <em class="brace">}</em>
<a id="L1032" name="L1032"></a>1032                         <em class="comment">// move children to new node</em>
<a id="L1033" name="L1033"></a>1033                         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = el.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1034" name="L1034"></a>1034                         <strong class="reserved">while</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1035" name="L1035"></a>1035                             el.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(child);
<a id="L1036" name="L1036"></a>1036                             nel.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(child);
<a id="L1037" name="L1037"></a>1037                             child = el.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1038" name="L1038"></a>1038                         <em class="brace">}</em>
<a id="L1039" name="L1039"></a>1039                         <em class="comment">// move specified attributes to new node</em>
<a id="L1040" name="L1040"></a>1040                         nel.<a href="../D/27817.html" title="Multiple defined in 2 places.">moveSpecifiedAttributes</a>(el);
<a id="L1041" name="L1041"></a>1041 
<a id="L1042" name="L1042"></a>1042                         <em class="comment">// attach user data to new node</em>
<a id="L1043" name="L1043"></a>1043                         <a href="../S/5445.html#L2418" title="Defined at 2418 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">setUserDataTable</a>(nel, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1044" name="L1044"></a>1044 
<a id="L1045" name="L1045"></a>1045                         <em class="comment">// and fire user data NODE_RENAMED event</em>
<a id="L1046" name="L1046"></a>1046                         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(el, nel,
<a id="L1047" name="L1047"></a>1047                                 <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_RENAMED);
<a id="L1048" name="L1048"></a>1048 
<a id="L1049" name="L1049"></a>1049                         <em class="comment">// insert new node where old one was</em>
<a id="L1050" name="L1050"></a>1050                         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1051" name="L1051"></a>1051                             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(nel, nextSib);
<a id="L1052" name="L1052"></a>1052                         <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053                         el = nel;
<a id="L1054" name="L1054"></a>1054                     <em class="brace">}</em>
<a id="L1055" name="L1055"></a>1055                 <em class="brace">}</em>
<a id="L1056" name="L1056"></a>1056                 <em class="comment">// fire ElementNameChanged event</em>
<a id="L1057" name="L1057"></a>1057                 <a href="../D/31010.html" title="Multiple defined in 2 places.">renamedElement</a>((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) n, el);
<a id="L1058" name="L1058"></a>1058                 <strong class="reserved">return</strong> el;
<a id="L1059" name="L1059"></a>1059             <em class="brace">}</em>
<a id="L1060" name="L1060"></a>1060             <strong class="reserved">case</strong> ATTRIBUTE_NODE: <em class="brace">{</em>
<a id="L1061" name="L1061"></a>1061                 <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) n;
<a id="L1062" name="L1062"></a>1062 
<a id="L1063" name="L1063"></a>1063                 <em class="comment">// dettach attr from element</em>
<a id="L1064" name="L1064"></a>1064                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el = <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>.<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L1065" name="L1065"></a>1065                 <strong class="reserved">if</strong> (el != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066                     el.<a href="../D/30713.html" title="Multiple defined in 6 places.">removeAttributeNode</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L1067" name="L1067"></a>1067                 <em class="brace">}</em>
<a id="L1068" name="L1068"></a>1068                 <strong class="reserved">if</strong> (n <strong class="reserved">instanceof</strong> <a href="../S/5470.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/AttrNSImpl.java.">AttrNSImpl</a>) <em class="brace">{</em>
<a id="L1069" name="L1069"></a>1069                     ((<a href="../S/5470.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/AttrNSImpl.java.">AttrNSImpl</a>) <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>).<a href="../D/31002.html" title="Multiple defined in 12 places.">rename</a>(<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1070" name="L1070"></a>1070                     <em class="comment">// reattach attr to element</em>
<a id="L1071" name="L1071"></a>1071                     <strong class="reserved">if</strong> (el != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1072" name="L1072"></a>1072                         el.<a href="../D/31946.html" title="Multiple defined in 6 places.">setAttributeNodeNS</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L1073" name="L1073"></a>1073                     <em class="brace">}</em>
<a id="L1074" name="L1074"></a>1074 
<a id="L1075" name="L1075"></a>1075                     <em class="comment">// fire user data NODE_RENAMED event</em>
<a id="L1076" name="L1076"></a>1076                     <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>, <strong class="reserved">null</strong>, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_RENAMED);
<a id="L1077" name="L1077"></a>1077                 <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079                     <strong class="reserved">if</strong> (<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1080" name="L1080"></a>1080                         <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>.<a href="../D/31002.html" title="Multiple defined in 12 places.">rename</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1081" name="L1081"></a>1081                         <em class="comment">// reattach attr to element</em>
<a id="L1082" name="L1082"></a>1082                         <strong class="reserved">if</strong> (el != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1083" name="L1083"></a>1083                             el.<a href="../D/31945.html" title="Multiple defined in 7 places.">setAttributeNode</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L1084" name="L1084"></a>1084                         <em class="brace">}</em>
<a id="L1085" name="L1085"></a>1085 
<a id="L1086" name="L1086"></a>1086                         <em class="comment">// fire user data NODE_RENAMED event</em>
<a id="L1087" name="L1087"></a>1087                         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>, <strong class="reserved">null</strong>, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_RENAMED);
<a id="L1088" name="L1088"></a>1088                     <em class="brace">}</em>
<a id="L1089" name="L1089"></a>1089                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090                         <em class="comment">// we need to create a new object</em>
<a id="L1091" name="L1091"></a>1091                         <a href="../S/5470.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/AttrNSImpl.java.">AttrNSImpl</a> nat = <strong class="reserved">new</strong> <a href="../S/5470.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/AttrNSImpl.java.">AttrNSImpl</a>(<strong class="reserved">this</strong>, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1092" name="L1092"></a>1092 
<a id="L1093" name="L1093"></a>1093                         <em class="comment">// register event listeners on new node</em>
<a id="L1094" name="L1094"></a>1094                         <a href="../D/13490.html" title="Multiple defined in 2 places.">copyEventListeners</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>, nat);
<a id="L1095" name="L1095"></a>1095 
<a id="L1096" name="L1096"></a>1096                         <em class="comment">// remove user data from old node</em>
<a id="L1097" name="L1097"></a>1097                         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = <a href="../S/5445.html#L2406" title="Defined at 2406 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">removeUserDataTable</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L1098" name="L1098"></a>1098 
<a id="L1099" name="L1099"></a>1099                         <em class="comment">// move children to new node</em>
<a id="L1100" name="L1100"></a>1100                         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1101" name="L1101"></a>1101                         <strong class="reserved">while</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1102" name="L1102"></a>1102                             <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(child);
<a id="L1103" name="L1103"></a>1103                             nat.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(child);
<a id="L1104" name="L1104"></a>1104                             child = <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1105" name="L1105"></a>1105                         <em class="brace">}</em>
<a id="L1106" name="L1106"></a>1106 
<a id="L1107" name="L1107"></a>1107                         <em class="comment">// attach user data to new node</em>
<a id="L1108" name="L1108"></a>1108                         <a href="../S/5445.html#L2418" title="Defined at 2418 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">setUserDataTable</a>(nat, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1109" name="L1109"></a>1109 
<a id="L1110" name="L1110"></a>1110                         <em class="comment">// and fire user data NODE_RENAMED event</em>
<a id="L1111" name="L1111"></a>1111                         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>, nat, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_RENAMED);
<a id="L1112" name="L1112"></a>1112 
<a id="L1113" name="L1113"></a>1113                         <em class="comment">// reattach attr to element</em>
<a id="L1114" name="L1114"></a>1114                         <strong class="reserved">if</strong> (el != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1115" name="L1115"></a>1115                             el.<a href="../D/31945.html" title="Multiple defined in 7 places.">setAttributeNode</a>(nat);
<a id="L1116" name="L1116"></a>1116                         <em class="brace">}</em>
<a id="L1117" name="L1117"></a>1117                         <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> = nat;
<a id="L1118" name="L1118"></a>1118                     <em class="brace">}</em>
<a id="L1119" name="L1119"></a>1119                 <em class="brace">}</em>
<a id="L1120" name="L1120"></a>1120                 <em class="comment">// fire AttributeNameChanged event</em>
<a id="L1121" name="L1121"></a>1121                 <a href="../D/31009.html" title="Multiple defined in 2 places.">renamedAttrNode</a>((<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>) n, <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L1122" name="L1122"></a>1122 
<a id="L1123" name="L1123"></a>1123                 <strong class="reserved">return</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>;
<a id="L1124" name="L1124"></a>1124             <em class="brace">}</em>
<a id="L1125" name="L1125"></a>1125             <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L1126" name="L1126"></a>1126                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L1127" name="L1127"></a>1127                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1128" name="L1128"></a>1128             <em class="brace">}</em>
<a id="L1129" name="L1129"></a>1129         <em class="brace">}</em>
<a id="L1130" name="L1130"></a>1130 
<a id="L1131" name="L1131"></a>1131     <em class="brace">}</em>
<a id="L1132" name="L1132"></a>1132 
<a id="L1133" name="L1133"></a>1133 
<div class="comment">
       DOM Level 3 WD - Experimental
       Normalize document.</div>
<a id="L1138" name="L1138"></a>1138     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5445.html#L1158" title="Referred from 1158 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">normalizeDocument</a>()<em class="brace">{</em>
<a id="L1139" name="L1139"></a>1139         <em class="comment">// No need to normalize if already normalized.</em>
<a id="L1140" name="L1140"></a>1140         <strong class="reserved">if</strong> (<a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>() &amp;&amp; !<a href="../S/5445.html#L2598" title="Defined at 2598 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isNormalizeDocRequired</a>()) <em class="brace">{</em>
<a id="L1141" name="L1141"></a>1141             <strong class="reserved">return</strong>;
<a id="L1142" name="L1142"></a>1142         <em class="brace">}</em>
<a id="L1143" name="L1143"></a>1143         <strong class="reserved">if</strong> (<a href="../D/27943.html" title="Multiple defined in 2 places.">needsSyncChildren</a>()) <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144             <a href="../D/35168.html" title="Multiple defined in 14 places.">synchronizeChildren</a>();
<a id="L1145" name="L1145"></a>1145         <em class="brace">}</em>
<a id="L1146" name="L1146"></a>1146 
<a id="L1147" name="L1147"></a>1147         <strong class="reserved">if</strong> (domNormalizer == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1148" name="L1148"></a>1148             domNormalizer = <strong class="reserved">new</strong> <a href="../S/5428.html#L99" title="Defined at 99 in src/com/sun/org/apache/xerces/internal/dom/DOMNormalizer.java.">DOMNormalizer</a>();
<a id="L1149" name="L1149"></a>1149         <em class="brace">}</em>
<a id="L1150" name="L1150"></a>1150 
<a id="L1151" name="L1151"></a>1151         <strong class="reserved">if</strong> (fConfiguration == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1152" name="L1152"></a>1152             fConfiguration =  <strong class="reserved">new</strong> <a href="../S/5485.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/dom/DOMConfigurationImpl.java.">DOMConfigurationImpl</a>();
<a id="L1153" name="L1153"></a>1153         <em class="brace">}</em>
<a id="L1154" name="L1154"></a>1154         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155             fConfiguration.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L1156" name="L1156"></a>1156         <em class="brace">}</em>
<a id="L1157" name="L1157"></a>1157 
<a id="L1158" name="L1158"></a>1158         domNormalizer.<a href="../D/28286.html" title="Multiple defined in 6 places.">normalizeDocument</a>(<strong class="reserved">this</strong>, fConfiguration);
<a id="L1159" name="L1159"></a>1159         <a href="../D/25965.html" title="Multiple defined in 5 places.">isNormalized</a>(<strong class="reserved">true</strong>);
<a id="L1160" name="L1160"></a>1160         <em class="comment">//set the XMLversion changed value to false -- once we have finished</em>
<a id="L1161" name="L1161"></a>1161         <em class="comment">//doing normalization</em>
<a id="L1162" name="L1162"></a>1162         xmlVersionChanged = <strong class="reserved">false</strong> ;
<a id="L1163" name="L1163"></a>1163     <em class="brace">}</em>
<a id="L1164" name="L1164"></a>1164 
<a id="L1165" name="L1165"></a>1165 
<div class="comment">
      DOM Level 3 CR - Experimental
       The configuration used when <code>Document.normalizeDocument</code> is
      invoked.
      @since DOM Level 3</div>
<a id="L1173" name="L1173"></a>1173     <strong class="reserved">public</strong> <a href="../S/144.html#L388" title="Defined at 388 in src/org/w3c/dom/DOMConfiguration.java.">DOMConfiguration</a> <a href="../S/5488.html#L133" title="Referred from 133 in src/com/sun/org/apache/xerces/internal/dom/PSVIDocumentImpl.java.">getDomConfig</a>()<em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174         <strong class="reserved">if</strong> (fConfiguration == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1175" name="L1175"></a>1175             fConfiguration = <strong class="reserved">new</strong> <a href="../S/5485.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/dom/DOMConfigurationImpl.java.">DOMConfigurationImpl</a>();
<a id="L1176" name="L1176"></a>1176         <em class="brace">}</em>
<a id="L1177" name="L1177"></a>1177         <strong class="reserved">return</strong> fConfiguration;
<a id="L1178" name="L1178"></a>1178     <em class="brace">}</em>
<a id="L1179" name="L1179"></a>1179 
<a id="L1180" name="L1180"></a>1180 
<div class="comment">
      Returns the absolute base URI of this node or null if the implementation
      wasn't able to obtain an absolute URI. Note: If the URI is malformed, a
      null is returned.
      @return The absolute base URI of this node or null.
      @since DOM Level 3</div>
<a id="L1189" name="L1189"></a>1189     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15233.html" title="Multiple referred from 34 places.">getBaseURI</a>() <em class="brace">{</em>
<a id="L1190" name="L1190"></a>1190         <strong class="reserved">if</strong> (fDocumentURI != <strong class="reserved">null</strong> &amp;&amp; fDocumentURI.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0 ) <em class="brace">{</em><em class="comment">// attribute value is always empty string</em>
<a id="L1191" name="L1191"></a>1191             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1192" name="L1192"></a>1192                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>(fDocumentURI).<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1193" name="L1193"></a>1193             <em class="brace">}</em>
<a id="L1194" name="L1194"></a>1194             <strong class="reserved">catch</strong> (com.sun.org.apache.xerces.internal.util.<a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>.<a href="../D/5390.html" title="Multiple defined in 3 places.">MalformedURIException</a> e)<em class="brace">{</em>
<a id="L1195" name="L1195"></a>1195                 <em class="comment">// REVISIT: what should happen in this case?</em>
<a id="L1196" name="L1196"></a>1196                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1197" name="L1197"></a>1197             <em class="brace">}</em>
<a id="L1198" name="L1198"></a>1198         <em class="brace">}</em>
<a id="L1199" name="L1199"></a>1199         <strong class="reserved">return</strong> fDocumentURI;
<a id="L1200" name="L1200"></a>1200     <em class="brace">}</em>
<a id="L1201" name="L1201"></a>1201 
<div class="comment">
      DOM Level 3 WD - Experimental.</div>
<a id="L1205" name="L1205"></a>1205     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27272.html" title="Multiple referred from 13 places.">setDocumentURI</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> documentURI)<em class="brace">{</em>
<a id="L1206" name="L1206"></a>1206         fDocumentURI = documentURI;
<a id="L1207" name="L1207"></a>1207     <em class="brace">}</em>
<a id="L1208" name="L1208"></a>1208 
<a id="L1209" name="L1209"></a>1209 
<a id="L1210" name="L1210"></a>1210     <em class="comment">//</em>
<a id="L1211" name="L1211"></a>1211     <em class="comment">// DOM L3 LS</em>
<a id="L1212" name="L1212"></a>1212     <em class="comment">//</em>
<div class="comment">
      DOM Level 3 WD - Experimental.
      Indicates whether the method load should be synchronous or
      asynchronous. When the async attribute is set to <code>true</code>
      the load method returns control to the caller before the document has
      completed loading. The default value of this property is
      <code>false</code>.
      <br>Setting the value of this attribute might throw NOT_SUPPORTED_ERR
      if the implementation doesn't support the mode the attribute is being
      set to. Should the DOM spec define the default value of this
      property? What if implementing both async and sync IO is impractical
      in some systems?  2001-09-14. default is <code>false</code> but we
      need to check with Mozilla and IE.</div>
<a id="L1227" name="L1227"></a>1227     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getAsync() <em class="brace">{</em>
<a id="L1228" name="L1228"></a>1228         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1229" name="L1229"></a>1229     <em class="brace">}</em>
<a id="L1230" name="L1230"></a>1230 
<div class="comment">
      DOM Level 3 WD - Experimental.
      Indicates whether the method load should be synchronous or
      asynchronous. When the async attribute is set to <code>true</code>
      the load method returns control to the caller before the document has
      completed loading. The default value of this property is
      <code>false</code>.
      <br>Setting the value of this attribute might throw NOT_SUPPORTED_ERR
      if the implementation doesn't support the mode the attribute is being
      set to. Should the DOM spec define the default value of this
      property? What if implementing both async and sync IO is impractical
      in some systems?  2001-09-14. default is <code>false</code> but we
      need to check with Mozilla and IE.</div>
<a id="L1245" name="L1245"></a>1245     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setAsync(<strong class="reserved">boolean</strong> async) <em class="brace">{</em>
<a id="L1246" name="L1246"></a>1246         <strong class="reserved">if</strong> (async) <em class="brace">{</em>
<a id="L1247" name="L1247"></a>1247             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L1248" name="L1248"></a>1248             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1249" name="L1249"></a>1249         <em class="brace">}</em>
<a id="L1250" name="L1250"></a>1250     <em class="brace">}</em>
<div class="comment">
      DOM Level 3 WD - Experimental.
      If the document is currently being loaded as a result of the method
      <code>load</code> being invoked the loading and parsing is
      immediately aborted. The possibly partial result of parsing the
      document is discarded and the document is cleared.</div>
<a id="L1258" name="L1258"></a>1258     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9495.html" title="Multiple referred from 10 places.">abort</a>() <em class="brace">{</em>
<a id="L1259" name="L1259"></a>1259     <em class="brace">}</em>
<a id="L1260" name="L1260"></a>1260 
<div class="comment">
      DOM Level 3 WD - Experimental.
      Replaces the content of the document with the result of parsing the
      given URI. Invoking this method will either block the caller or
      return to the caller immediately depending on the value of the async
      attribute. Once the document is fully loaded a "load" event (as
      defined in [<a href="http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331">DOM Level 3 Events</a>]
      , except that the <code>Event.targetNode</code> will be the document,
      not an element) will be dispatched on the document. If an error
      occurs, an implementation dependent "error" event will be dispatched
      on the document. If this method is called on a document that is
      currently loading, the current load is interrupted and the new URI
      load is initiated.
      <br> When invoking this method the parameters used in the
      <code>DOMParser</code> interface are assumed to have their default
      values with the exception that the parameters <code>"entities"</code>
      , <code>"normalize-characters"</code>,
      <code>"check-character-normalization"</code> are set to
      <code>"false"</code>.
      <br> The result of a call to this method is the same the result of a
      call to <code>DOMParser.parseWithContext</code> with an input stream
      referencing the URI that was passed to this call, the document as the
      context node, and the action <code>ACTION_REPLACE_CHILDREN</code>.
      @param uri The URI reference for the XML file to be loaded. If this is
       a relative URI, the base URI used by the implementation is
       implementation dependent.
      @return If async is set to <code>true</code> <code>load</code> returns
        <code>true</code> if the document load was successfully initiated.
        If an error occurred when initiating the document load,
        <code>load</code> returns <code>false</code>.If async is set to
        <code>false</code> <code>load</code> returns <code>true</code> if
        the document was successfully loaded and parsed. If an error
        occurred when either loading or parsing the URI, <code>load</code>
        returns <code>false</code>.</div>
<a id="L1297" name="L1297"></a>1297     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22543.html" title="Multiple referred from 196 places.">load</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L1298" name="L1298"></a>1298         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1299" name="L1299"></a>1299     <em class="brace">}</em>
<a id="L1300" name="L1300"></a>1300 
<div class="comment">
      DOM Level 3 WD - Experimental.
      Replace the content of the document with the result of parsing the
      input string, this method is always synchronous.
      @param source A string containing an XML document.
      @return <code>true</code> if parsing the input string succeeded
        without errors, otherwise <code>false</code>.</div>
<a id="L1309" name="L1309"></a>1309     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> loadXML(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>) <em class="brace">{</em>
<a id="L1310" name="L1310"></a>1310         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1311" name="L1311"></a>1311     <em class="brace">}</em>
<a id="L1312" name="L1312"></a>1312 
<div class="comment">
      DOM Level 3 WD - Experimental.
      Save the document or the given node and all its descendants to a string
      (i.e. serialize the document or node).
      <br>The parameters used in the <code>LSSerializer</code> interface are
      assumed to have their default values when invoking this method.
      <br> The result of a call to this method is the same the result of a
      call to <code>LSSerializer.writeToString</code> with the document as
      the node to write.
      @param node Specifies what to serialize, if this parameter is
        <code>null</code> the whole document is serialized, if it's
        non-null the given node is serialized.
      @return The serialized document or <code>null</code> in case an error
        occurred.
      @exception DOMException
        WRONG_DOCUMENT_ERR: Raised if the node passed in as the node
        parameter is from an other document.</div>
<a id="L1331" name="L1331"></a>1331     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> saveXML(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)
<a id="L1332" name="L1332"></a>1332     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L1333" name="L1333"></a>1333         <strong class="reserved">if</strong> ( errorChecking &amp;&amp; <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong> &amp;&amp;
<a id="L1334" name="L1334"></a>1334             <strong class="reserved">this</strong> != <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>() ) <em class="brace">{</em>
<a id="L1335" name="L1335"></a>1335             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "WRONG_DOCUMENT_ERR", <strong class="reserved">null</strong>);
<a id="L1336" name="L1336"></a>1336             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.WRONG_DOCUMENT_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1337" name="L1337"></a>1337         <em class="brace">}</em>
<a id="L1338" name="L1338"></a>1338         <a href="../S/132.html#L61" title="Defined at 61 in src/org/w3c/dom/ls/DOMImplementationLS.java.">DOMImplementationLS</a> domImplLS = (<a href="../S/132.html#L61" title="Defined at 61 in src/org/w3c/dom/ls/DOMImplementationLS.java.">DOMImplementationLS</a>)<a href="../S/5448.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/dom/DOMImplementationImpl.java.">DOMImplementationImpl</a>.<a href="../D/18159.html" title="Multiple defined in 12 places.">getDOMImplementation</a>();
<a id="L1339" name="L1339"></a>1339         <a href="../S/142.html#L208" title="Defined at 208 in src/org/w3c/dom/ls/LSSerializer.java.">LSSerializer</a> xmlWriter = domImplLS.<a href="../D/13998.html" title="Multiple defined in 2 places.">createLSSerializer</a>();
<a id="L1340" name="L1340"></a>1340         <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1341" name="L1341"></a>1341             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <strong class="reserved">this</strong>;
<a id="L1342" name="L1342"></a>1342         <em class="brace">}</em>
<a id="L1343" name="L1343"></a>1343         <strong class="reserved">return</strong> xmlWriter.<a href="../D/37193.html" title="Multiple defined in 2 places.">writeToString</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1344" name="L1344"></a>1344     <em class="brace">}</em>
<a id="L1345" name="L1345"></a>1345 
<div class="comment">
      Sets whether the DOM implementation generates mutation events
      upon operations.</div>
<a id="L1350" name="L1350"></a>1350     <strong class="reserved">void</strong> <a href="../R/27792.html" title="Multiple referred from 10 places.">setMutationEvents</a>(<strong class="reserved">boolean</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L1351" name="L1351"></a>1351         <em class="comment">// does nothing by default - overidden in subclass</em>
<a id="L1352" name="L1352"></a>1352     <em class="brace">}</em>
<a id="L1353" name="L1353"></a>1353 
<div class="comment">
      Returns true if the DOM implementation generates mutation events.</div>
<a id="L1357" name="L1357"></a>1357     <strong class="reserved">boolean</strong> <a href="../R/17818.html" title="Multiple referred from 7 places.">getMutationEvents</a>() <em class="brace">{</em>
<a id="L1358" name="L1358"></a>1358         <em class="comment">// does nothing by default - overriden in subclass</em>
<a id="L1359" name="L1359"></a>1359         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1360" name="L1360"></a>1360     <em class="brace">}</em>
<a id="L1361" name="L1361"></a>1361 
<a id="L1362" name="L1362"></a>1362 
<a id="L1363" name="L1363"></a>1363 
<a id="L1364" name="L1364"></a>1364     <em class="comment">// non-DOM factory methods</em>
<a id="L1365" name="L1365"></a>1365 
<div class="comment">
      NON-DOM
      Factory method; creates a DocumentType having this Document
      as its OwnerDoc. (REC-DOM-Level-1-19981001 left the process of building
      DTD information unspecified.)
      @param name The name of the Entity we wish to provide a value for.
      @throws DOMException(NOT_SUPPORTED_ERR) for HTML documents, where
      DTDs are not permitted. (HTML not yet implemented.)</div>
<a id="L1377" name="L1377"></a>1377     <strong class="reserved">public</strong> <a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> <a href="../R/12384.html" title="Multiple referred from 4 places.">createDocumentType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>,
<a id="L1378" name="L1378"></a>1378     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> publicID,
<a id="L1379" name="L1379"></a>1379     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> systemID)
<a id="L1380" name="L1380"></a>1380     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L1381" name="L1381"></a>1381 
<a id="L1382" name="L1382"></a>1382         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>(<strong class="reserved">this</strong>, <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>, publicID, systemID);
<a id="L1383" name="L1383"></a>1383 
<a id="L1384" name="L1384"></a>1384     <em class="brace">}</em> <em class="comment">// createDocumentType(String):DocumentType</em>
<a id="L1385" name="L1385"></a>1385 
<div class="comment">
      NON-DOM
      Factory method; creates an Entity having this Document
      as its OwnerDoc. (REC-DOM-Level-1-19981001 left the process of building
      DTD information unspecified.)
      @param name The name of the Entity we wish to provide a value for.
      @throws DOMException(NOT_SUPPORTED_ERR) for HTML documents, where
      nonstandard entities are not permitted. (HTML not yet
      implemented.)</div>
<a id="L1398" name="L1398"></a>1398     <strong class="reserved">public</strong> <a href="../D/2913.html" title="Multiple defined in 2 places.">Entity</a> <a href="../R/12419.html" title="Multiple referred from 5 places.">createEntity</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1399" name="L1399"></a>1399     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L1400" name="L1400"></a>1400 
<a id="L1401" name="L1401"></a>1401 
<a id="L1402" name="L1402"></a>1402         <strong class="reserved">if</strong> (errorChecking &amp;&amp; !<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,xml11Version)) <em class="brace">{</em>
<a id="L1403" name="L1403"></a>1403             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INVALID_CHARACTER_ERR", <strong class="reserved">null</strong>);
<a id="L1404" name="L1404"></a>1404             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1405" name="L1405"></a>1405         <em class="brace">}</em>
<a id="L1406" name="L1406"></a>1406         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>(<strong class="reserved">this</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1407" name="L1407"></a>1407 
<a id="L1408" name="L1408"></a>1408     <em class="brace">}</em> <em class="comment">// createEntity(String):Entity</em>
<a id="L1409" name="L1409"></a>1409 
<div class="comment">
      NON-DOM
      Factory method; creates a Notation having this Document
      as its OwnerDoc. (REC-DOM-Level-1-19981001 left the process of building
      DTD information unspecified.)
      @param name The name of the Notation we wish to describe
      @throws DOMException(NOT_SUPPORTED_ERR) for HTML documents, where
      notations are not permitted. (HTML not yet
      implemented.)</div>
<a id="L1422" name="L1422"></a>1422     <strong class="reserved">public</strong> <a href="../D/6156.html" title="Multiple defined in 2 places.">Notation</a> <a href="../R/12603.html" title="Multiple referred from 3 places.">createNotation</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1423" name="L1423"></a>1423     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L1424" name="L1424"></a>1424 
<a id="L1425" name="L1425"></a>1425         <strong class="reserved">if</strong> (errorChecking &amp;&amp; !<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,xml11Version)) <em class="brace">{</em>
<a id="L1426" name="L1426"></a>1426             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INVALID_CHARACTER_ERR", <strong class="reserved">null</strong>);
<a id="L1427" name="L1427"></a>1427             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1428" name="L1428"></a>1428         <em class="brace">}</em>
<a id="L1429" name="L1429"></a>1429         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5453.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/dom/NotationImpl.java.">NotationImpl</a>(<strong class="reserved">this</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1430" name="L1430"></a>1430 
<a id="L1431" name="L1431"></a>1431     <em class="brace">}</em> <em class="comment">// createNotation(String):Notation</em>
<a id="L1432" name="L1432"></a>1432 
<div class="comment">
      NON-DOM Factory method: creates an element definition. Element
      definitions hold default attribute values.</div>
<a id="L1437" name="L1437"></a>1437     <strong class="reserved">public</strong> <a href="../S/5433.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/ElementDefinitionImpl.java.">ElementDefinitionImpl</a> <a href="../S/5273.html#L2465" title="Referred from 2465 in src/com/sun/org/apache/xerces/internal/parsers/AbstractDOMParser.java.">createElementDefinition</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1438" name="L1438"></a>1438     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L1439" name="L1439"></a>1439 
<a id="L1440" name="L1440"></a>1440         <strong class="reserved">if</strong> (errorChecking &amp;&amp; !<a href="../S/5445.html#L2209" title="Defined at 2209 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isXMLName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,xml11Version)) <em class="brace">{</em>
<a id="L1441" name="L1441"></a>1441             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "INVALID_CHARACTER_ERR", <strong class="reserved">null</strong>);
<a id="L1442" name="L1442"></a>1442             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1443" name="L1443"></a>1443         <em class="brace">}</em>
<a id="L1444" name="L1444"></a>1444         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5433.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/ElementDefinitionImpl.java.">ElementDefinitionImpl</a>(<strong class="reserved">this</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1445" name="L1445"></a>1445 
<a id="L1446" name="L1446"></a>1446     <em class="brace">}</em> <em class="comment">// createElementDefinition(String):ElementDefinitionImpl</em>
<a id="L1447" name="L1447"></a>1447 
<a id="L1448" name="L1448"></a>1448     <em class="comment">// other non-DOM methods</em>
<a id="L1449" name="L1449"></a>1449 
<div class="comment">
 NON-DOM:  Get the number associated with this document.   Used to
      order documents in the implementation.</div>
<a id="L1453" name="L1453"></a>1453     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17986.html" title="Multiple referred from 6 places.">getNodeNumber</a>() <em class="brace">{</em>
<a id="L1454" name="L1454"></a>1454         <strong class="reserved">if</strong> (documentNumber==0) <em class="brace">{</em>
<a id="L1455" name="L1455"></a>1455 
<a id="L1456" name="L1456"></a>1456             <a href="../S/5467.html#L58" title="Defined at 58 in src/com/sun/org/apache/xerces/internal/dom/CoreDOMImplementationImpl.java.">CoreDOMImplementationImpl</a> cd = (<a href="../S/5467.html#L58" title="Defined at 58 in src/com/sun/org/apache/xerces/internal/dom/CoreDOMImplementationImpl.java.">CoreDOMImplementationImpl</a>)<a href="../S/5467.html#L58" title="Defined at 58 in src/com/sun/org/apache/xerces/internal/dom/CoreDOMImplementationImpl.java.">CoreDOMImplementationImpl</a>.<a href="../D/18159.html" title="Multiple defined in 12 places.">getDOMImplementation</a>();
<a id="L1457" name="L1457"></a>1457             documentNumber = cd.<a href="../S/5467.html#L467" title="Defined at 467 in src/com/sun/org/apache/xerces/internal/dom/CoreDOMImplementationImpl.java.">assignDocumentNumber</a>();
<a id="L1458" name="L1458"></a>1458         <em class="brace">}</em>
<a id="L1459" name="L1459"></a>1459         <strong class="reserved">return</strong> documentNumber;
<a id="L1460" name="L1460"></a>1460     <em class="brace">}</em>
<a id="L1461" name="L1461"></a>1461 
<a id="L1462" name="L1462"></a>1462 
<div class="comment">
 NON-DOM:  Get a number associated with a node created with respect
      to this document.   Needed for compareDocumentPosition when nodes
      are disconnected.  This is only used on demand.</div>
<a id="L1467" name="L1467"></a>1467     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17986.html" title="Multiple referred from 6 places.">getNodeNumber</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1468" name="L1468"></a>1468 
<a id="L1469" name="L1469"></a>1469         <em class="comment">// Check if the node is already in the hash</em>
<a id="L1470" name="L1470"></a>1470         <em class="comment">// If so, retrieve the node number</em>
<a id="L1471" name="L1471"></a>1471         <em class="comment">// If not, assign a number to the node</em>
<a id="L1472" name="L1472"></a>1472         <em class="comment">// Node numbers are negative, from -1 to -n</em>
<a id="L1473" name="L1473"></a>1473         <strong class="reserved">int</strong> <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>;
<a id="L1474" name="L1474"></a>1474         <strong class="reserved">if</strong> (nodeTable == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1475" name="L1475"></a>1475             nodeTable = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L1476" name="L1476"></a>1476             <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> = --nodeCounter;
<a id="L1477" name="L1477"></a>1477             nodeTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(<a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>));
<a id="L1478" name="L1478"></a>1478         <em class="brace">}</em>
<a id="L1479" name="L1479"></a>1479         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1480" name="L1480"></a>1480             <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> n = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)nodeTable.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1481" name="L1481"></a>1481             <strong class="reserved">if</strong> (n== <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1482" name="L1482"></a>1482                 <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> = --nodeCounter;
<a id="L1483" name="L1483"></a>1483                 nodeTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(<a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>));
<a id="L1484" name="L1484"></a>1484             <em class="brace">}</em>
<a id="L1485" name="L1485"></a>1485             <strong class="reserved">else</strong>
<a id="L1486" name="L1486"></a>1486                 <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a> = n.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1487" name="L1487"></a>1487         <em class="brace">}</em>
<a id="L1488" name="L1488"></a>1488         <strong class="reserved">return</strong> <a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>;
<a id="L1489" name="L1489"></a>1489     <em class="brace">}</em>
<a id="L1490" name="L1490"></a>1490 
<div class="comment">
      Copies a node from another document to this document. The new nodes are
      created using this document's factory methods and are populated with the
      data from the source's accessor methods defined by the DOM interfaces.
      Its behavior is otherwise similar to that of cloneNode.
      <p>
      According to the DOM specifications, document nodes cannot be imported
      and a NOT_SUPPORTED_ERR exception is thrown if attempted.</p></div>
<a id="L1500" name="L1500"></a>1500     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20443.html" title="Multiple referred from 12 places.">importNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <strong class="reserved">boolean</strong> deep)
<a id="L1501" name="L1501"></a>1501     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L1502" name="L1502"></a>1502         <strong class="reserved">return</strong> <a href="../D/24390.html" title="Multiple defined in 6 places.">importNode</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, deep, <strong class="reserved">false</strong>, <strong class="reserved">null</strong>);
<a id="L1503" name="L1503"></a>1503     <em class="brace">}</em> <em class="comment">// importNode(Node,boolean):Node</em>
<a id="L1504" name="L1504"></a>1504 
<div class="comment">
      Overloaded implementation of DOM's importNode method. This method
      provides the core functionality for the public importNode and cloneNode
      methods.
      The reversedIdentifiers parameter is provided for cloneNode to
      preserve the document's identifiers. The Hashtable has Elements as the
      keys and their identifiers as the values. When an element is being
      imported, a check is done for an associated identifier. If one exists,
      the identifier is registered with the new, imported element. If
      reversedIdentifiers is null, the parameter is not applied.</div>
<a id="L1517" name="L1517"></a>1517     <strong class="reserved">private</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/20443.html" title="Multiple referred from 12 places.">importNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <strong class="reserved">boolean</strong> deep, <strong class="reserved">boolean</strong> cloningDoc,
<a id="L1518" name="L1518"></a>1518     <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> reversedIdentifiers)
<a id="L1519" name="L1519"></a>1519     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L1520" name="L1520"></a>1520         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> newnode=<strong class="reserved">null</strong>;
<a id="L1521" name="L1521"></a>1521                 <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> userData = <strong class="reserved">null</strong>;
<a id="L1522" name="L1522"></a>1522 
<a id="L1523" name="L1523"></a>1523         <em class="comment">// Sigh. This doesn't work; too many nodes have private data that</em>
<a id="L1524" name="L1524"></a>1524         <em class="comment">// would have to be manually tweaked. May be able to add local</em>
<a id="L1525" name="L1525"></a>1525         <em class="comment">// shortcuts to each nodetype. Consider ?????</em>
<a id="L1526" name="L1526"></a>1526         <em class="comment">// if(source instanceof NodeImpl &amp;&amp;</em>
<a id="L1527" name="L1527"></a>1527         <em class="comment">//  !(source instanceof DocumentImpl))</em>
<a id="L1528" name="L1528"></a>1528         <em class="comment">// {</em>
<a id="L1529" name="L1529"></a>1529         <em class="comment">//  // Can't clone DocumentImpl since it invokes us...</em>
<a id="L1530" name="L1530"></a>1530         <em class="comment">//  newnode=(NodeImpl)source.cloneNode(false);</em>
<a id="L1531" name="L1531"></a>1531         <em class="comment">//  newnode.ownerDocument=this;</em>
<a id="L1532" name="L1532"></a>1532         <em class="comment">// }</em>
<a id="L1533" name="L1533"></a>1533         <em class="comment">// else</em>
<a id="L1534" name="L1534"></a>1534                 <strong class="reserved">if</strong>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> <strong class="reserved">instanceof</strong> <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)
<a id="L1535" name="L1535"></a>1535                         userData = ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>).<a href="../D/23488.html" title="Multiple defined in 3 places.">getUserDataRecord</a>();
<a id="L1536" name="L1536"></a>1536         <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>();
<a id="L1537" name="L1537"></a>1537         <strong class="reserved">switch</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L1538" name="L1538"></a>1538             <strong class="reserved">case</strong> ELEMENT_NODE: <em class="brace">{</em>
<a id="L1539" name="L1539"></a>1539                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> newElement;
<a id="L1540" name="L1540"></a>1540                 <strong class="reserved">boolean</strong> domLevel20 = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>().<a href="../D/19619.html" title="Multiple defined in 10 places.">getImplementation</a>().<a href="../D/24096.html" title="Multiple defined in 7 places.">hasFeature</a>("XML", "2.0");
<a id="L1541" name="L1541"></a>1541                 <em class="comment">// Create element according to namespace support/qualification.</em>
<a id="L1542" name="L1542"></a>1542                 <strong class="reserved">if</strong>(domLevel20 == <strong class="reserved">false</strong> || <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>() == <strong class="reserved">null</strong>)
<a id="L1543" name="L1543"></a>1543                     newElement = <a href="../D/13831.html" title="Multiple defined in 10 places.">createElement</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1544" name="L1544"></a>1544                 <strong class="reserved">else</strong>
<a id="L1545" name="L1545"></a>1545                     newElement = <a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>(),
<a id="L1546" name="L1546"></a>1546                     <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1547" name="L1547"></a>1547 
<a id="L1548" name="L1548"></a>1548                 <em class="comment">// Copy element's attributes, if any.</em>
<a id="L1549" name="L1549"></a>1549                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> sourceAttrs = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1550" name="L1550"></a>1550                 <strong class="reserved">if</strong> (sourceAttrs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1551" name="L1551"></a>1551                     <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = sourceAttrs.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L1552" name="L1552"></a>1552                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++) <em class="brace">{</em>
<a id="L1553" name="L1553"></a>1553                         <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>)sourceAttrs.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L1554" name="L1554"></a>1554 
<a id="L1555" name="L1555"></a>1555                         <em class="comment">// NOTE: this methods is used for both importingNode</em>
<a id="L1556" name="L1556"></a>1556                         <em class="comment">// and cloning the document node. In case of the</em>
<a id="L1557" name="L1557"></a>1557                         <em class="comment">// clonning default attributes should be copied.</em>
<a id="L1558" name="L1558"></a>1558                         <em class="comment">// But for importNode defaults should be ignored.</em>
<a id="L1559" name="L1559"></a>1559                         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/22666.html" title="Multiple defined in 7 places.">getSpecified</a>() || cloningDoc) <em class="brace">{</em>
<a id="L1560" name="L1560"></a>1560                             <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> newAttr = (<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>)<a href="../D/24390.html" title="Multiple defined in 6 places.">importNode</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <strong class="reserved">true</strong>, cloningDoc,
<a id="L1561" name="L1561"></a>1561                             reversedIdentifiers);
<a id="L1562" name="L1562"></a>1562 
<a id="L1563" name="L1563"></a>1563                             <em class="comment">// Attach attribute according to namespace</em>
<a id="L1564" name="L1564"></a>1564                             <em class="comment">// support/qualification.</em>
<a id="L1565" name="L1565"></a>1565                             <strong class="reserved">if</strong> (domLevel20 == <strong class="reserved">false</strong> ||
<a id="L1566" name="L1566"></a>1566                             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>() == <strong class="reserved">null</strong>)
<a id="L1567" name="L1567"></a>1567                                 newElement.<a href="../D/31945.html" title="Multiple defined in 7 places.">setAttributeNode</a>(newAttr);
<a id="L1568" name="L1568"></a>1568                             <strong class="reserved">else</strong>
<a id="L1569" name="L1569"></a>1569                                 newElement.<a href="../D/31946.html" title="Multiple defined in 6 places.">setAttributeNodeNS</a>(newAttr);
<a id="L1570" name="L1570"></a>1570                         <em class="brace">}</em>
<a id="L1571" name="L1571"></a>1571                     <em class="brace">}</em>
<a id="L1572" name="L1572"></a>1572                 <em class="brace">}</em>
<a id="L1573" name="L1573"></a>1573 
<a id="L1574" name="L1574"></a>1574                 <em class="comment">// Register element identifier.</em>
<a id="L1575" name="L1575"></a>1575                 <strong class="reserved">if</strong> (reversedIdentifiers != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1576" name="L1576"></a>1576                     <em class="comment">// Does element have an associated identifier?</em>
<a id="L1577" name="L1577"></a>1577                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> elementId = reversedIdentifiers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L1578" name="L1578"></a>1578                     <strong class="reserved">if</strong> (elementId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1579" name="L1579"></a>1579                         <strong class="reserved">if</strong> (identifiers == <strong class="reserved">null</strong>)
<a id="L1580" name="L1580"></a>1580                             identifiers = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L1581" name="L1581"></a>1581 
<a id="L1582" name="L1582"></a>1582                         identifiers.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(elementId, newElement);
<a id="L1583" name="L1583"></a>1583                     <em class="brace">}</em>
<a id="L1584" name="L1584"></a>1584                 <em class="brace">}</em>
<a id="L1585" name="L1585"></a>1585 
<a id="L1586" name="L1586"></a>1586                 newnode = newElement;
<a id="L1587" name="L1587"></a>1587                 <strong class="reserved">break</strong>;
<a id="L1588" name="L1588"></a>1588             <em class="brace">}</em>
<a id="L1589" name="L1589"></a>1589 
<a id="L1590" name="L1590"></a>1590             <strong class="reserved">case</strong> ATTRIBUTE_NODE: <em class="brace">{</em>
<a id="L1591" name="L1591"></a>1591 
<a id="L1592" name="L1592"></a>1592                 <strong class="reserved">if</strong>( <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>().<a href="../D/19619.html" title="Multiple defined in 10 places.">getImplementation</a>().<a href="../D/24096.html" title="Multiple defined in 7 places.">hasFeature</a>("XML", "2.0") )<em class="brace">{</em>
<a id="L1593" name="L1593"></a>1593                     <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1594" name="L1594"></a>1594                         newnode = <a href="../D/13618.html" title="Multiple defined in 9 places.">createAttribute</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1595" name="L1595"></a>1595                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1596" name="L1596"></a>1596                         newnode = <a href="../D/13620.html" title="Multiple defined in 8 places.">createAttributeNS</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>(),
<a id="L1597" name="L1597"></a>1597                         <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1598" name="L1598"></a>1598                     <em class="brace">}</em>
<a id="L1599" name="L1599"></a>1599                 <em class="brace">}</em>
<a id="L1600" name="L1600"></a>1600                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1601" name="L1601"></a>1601                     newnode = <a href="../D/13618.html" title="Multiple defined in 9 places.">createAttribute</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1602" name="L1602"></a>1602                 <em class="brace">}</em>
<a id="L1603" name="L1603"></a>1603                 <em class="comment">// if source is an AttrImpl from this very same implementation</em>
<a id="L1604" name="L1604"></a>1604                 <em class="comment">// avoid creating the child nodes if possible</em>
<a id="L1605" name="L1605"></a>1605                 <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> <strong class="reserved">instanceof</strong> <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) <em class="brace">{</em>
<a id="L1606" name="L1606"></a>1606                     <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L1607" name="L1607"></a>1607                     <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/24190.html" title="Multiple defined in 2 places.">hasStringValue</a>()) <em class="brace">{</em>
<a id="L1608" name="L1608"></a>1608                         <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> newattr = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) newnode;
<a id="L1609" name="L1609"></a>1609                         newattr.<a href="../D/34263.html" title="Multiple defined in 100 places.">setValue</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>());
<a id="L1610" name="L1610"></a>1610                         deep = <strong class="reserved">false</strong>;
<a id="L1611" name="L1611"></a>1611                     <em class="brace">}</em>
<a id="L1612" name="L1612"></a>1612                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1613" name="L1613"></a>1613                         deep = <strong class="reserved">true</strong>;
<a id="L1614" name="L1614"></a>1614                     <em class="brace">}</em>
<a id="L1615" name="L1615"></a>1615                 <em class="brace">}</em>
<a id="L1616" name="L1616"></a>1616                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1617" name="L1617"></a>1617                     <em class="comment">// According to the DOM spec the kids carry the value.</em>
<a id="L1618" name="L1618"></a>1618                     <em class="comment">// However, there are non compliant implementations out</em>
<a id="L1619" name="L1619"></a>1619                     <em class="comment">// there that fail to do so. To avoid ending up with no</em>
<a id="L1620" name="L1620"></a>1620                     <em class="comment">// value at all, in this case we simply copy the text value</em>
<a id="L1621" name="L1621"></a>1621                     <em class="comment">// directly.</em>
<a id="L1622" name="L1622"></a>1622                     <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1623" name="L1623"></a>1623                         newnode.<a href="../D/33367.html" title="Multiple defined in 12 places.">setNodeValue</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L1624" name="L1624"></a>1624                         deep = <strong class="reserved">false</strong>;
<a id="L1625" name="L1625"></a>1625                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1626" name="L1626"></a>1626                         deep = <strong class="reserved">true</strong>;
<a id="L1627" name="L1627"></a>1627                     <em class="brace">}</em>
<a id="L1628" name="L1628"></a>1628                 <em class="brace">}</em>
<a id="L1629" name="L1629"></a>1629                 <strong class="reserved">break</strong>;
<a id="L1630" name="L1630"></a>1630             <em class="brace">}</em>
<a id="L1631" name="L1631"></a>1631 
<a id="L1632" name="L1632"></a>1632             <strong class="reserved">case</strong> TEXT_NODE: <em class="brace">{</em>
<a id="L1633" name="L1633"></a>1633                 newnode = <a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L1634" name="L1634"></a>1634                 <strong class="reserved">break</strong>;
<a id="L1635" name="L1635"></a>1635             <em class="brace">}</em>
<a id="L1636" name="L1636"></a>1636 
<a id="L1637" name="L1637"></a>1637             <strong class="reserved">case</strong> CDATA_SECTION_NODE: <em class="brace">{</em>
<a id="L1638" name="L1638"></a>1638                 newnode = <a href="../D/13657.html" title="Multiple defined in 5 places.">createCDATASection</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L1639" name="L1639"></a>1639                 <strong class="reserved">break</strong>;
<a id="L1640" name="L1640"></a>1640             <em class="brace">}</em>
<a id="L1641" name="L1641"></a>1641 
<a id="L1642" name="L1642"></a>1642             <strong class="reserved">case</strong> ENTITY_REFERENCE_NODE: <em class="brace">{</em>
<a id="L1643" name="L1643"></a>1643                 newnode = <a href="../D/13861.html" title="Multiple defined in 6 places.">createEntityReference</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1644" name="L1644"></a>1644                 <em class="comment">// the subtree is created according to this doc by the method</em>
<a id="L1645" name="L1645"></a>1645                 <em class="comment">// above, so avoid carrying over original subtree</em>
<a id="L1646" name="L1646"></a>1646                 deep = <strong class="reserved">false</strong>;
<a id="L1647" name="L1647"></a>1647                 <strong class="reserved">break</strong>;
<a id="L1648" name="L1648"></a>1648             <em class="brace">}</em>
<a id="L1649" name="L1649"></a>1649 
<a id="L1650" name="L1650"></a>1650             <strong class="reserved">case</strong> ENTITY_NODE: <em class="brace">{</em>
<a id="L1651" name="L1651"></a>1651                 <a href="../D/2913.html" title="Multiple defined in 2 places.">Entity</a> srcentity = (<a href="../D/2913.html" title="Multiple defined in 2 places.">Entity</a>)<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L1652" name="L1652"></a>1652                 <a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a> newentity =
<a id="L1653" name="L1653"></a>1653                 (<a href="../S/5487.html#L62" title="Defined at 62 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">EntityImpl</a>)<a href="../S/5445.html#L1398" title="Defined at 1398 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">createEntity</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1654" name="L1654"></a>1654                 newentity.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a>(srcentity.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>());
<a id="L1655" name="L1655"></a>1655                 newentity.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(srcentity.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>());
<a id="L1656" name="L1656"></a>1656                 newentity.<a href="../S/5487.html#L331" title="Defined at 331 in src/com/sun/org/apache/xerces/internal/dom/EntityImpl.java.">setNotationName</a>(srcentity.<a href="../D/21022.html" title="Multiple defined in 3 places.">getNotationName</a>());
<a id="L1657" name="L1657"></a>1657                 <em class="comment">// Kids carry additional value,</em>
<a id="L1658" name="L1658"></a>1658                 <em class="comment">// allow deep import temporarily</em>
<a id="L1659" name="L1659"></a>1659                 newentity.<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>(<strong class="reserved">false</strong>);
<a id="L1660" name="L1660"></a>1660                 newnode = newentity;
<a id="L1661" name="L1661"></a>1661                 <strong class="reserved">break</strong>;
<a id="L1662" name="L1662"></a>1662             <em class="brace">}</em>
<a id="L1663" name="L1663"></a>1663 
<a id="L1664" name="L1664"></a>1664             <strong class="reserved">case</strong> PROCESSING_INSTRUCTION_NODE: <em class="brace">{</em>
<a id="L1665" name="L1665"></a>1665                 newnode = <a href="../D/14127.html" title="Multiple defined in 6 places.">createProcessingInstruction</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>(),
<a id="L1666" name="L1666"></a>1666                 <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L1667" name="L1667"></a>1667                 <strong class="reserved">break</strong>;
<a id="L1668" name="L1668"></a>1668             <em class="brace">}</em>
<a id="L1669" name="L1669"></a>1669 
<a id="L1670" name="L1670"></a>1670             <strong class="reserved">case</strong> COMMENT_NODE: <em class="brace">{</em>
<a id="L1671" name="L1671"></a>1671                 newnode = <a href="../D/13703.html" title="Multiple defined in 6 places.">createComment</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L1672" name="L1672"></a>1672                 <strong class="reserved">break</strong>;
<a id="L1673" name="L1673"></a>1673             <em class="brace">}</em>
<a id="L1674" name="L1674"></a>1674 
<a id="L1675" name="L1675"></a>1675             <strong class="reserved">case</strong> DOCUMENT_TYPE_NODE: <em class="brace">{</em>
<a id="L1676" name="L1676"></a>1676                 <em class="comment">// unless this is used as part of cloning a Document</em>
<a id="L1677" name="L1677"></a>1677                 <em class="comment">// forbid it for the sake of being compliant to the DOM spec</em>
<a id="L1678" name="L1678"></a>1678                 <strong class="reserved">if</strong> (!cloningDoc) <em class="brace">{</em>
<a id="L1679" name="L1679"></a>1679                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L1680" name="L1680"></a>1680                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1681" name="L1681"></a>1681                 <em class="brace">}</em>
<a id="L1682" name="L1682"></a>1682                 <a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a> srcdoctype = (<a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a>)<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L1683" name="L1683"></a>1683                 <a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a> newdoctype = (<a href="../S/5444.html#L54" title="Defined at 54 in src/com/sun/org/apache/xerces/internal/dom/DocumentTypeImpl.java.">DocumentTypeImpl</a>)
<a id="L1684" name="L1684"></a>1684                 <a href="../D/13815.html" title="Multiple defined in 5 places.">createDocumentType</a>(srcdoctype.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>(),
<a id="L1685" name="L1685"></a>1685                 srcdoctype.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>(),
<a id="L1686" name="L1686"></a>1686                 srcdoctype.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>());
<a id="L1687" name="L1687"></a>1687                 <em class="comment">// Values are on NamedNodeMaps</em>
<a id="L1688" name="L1688"></a>1688                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> smap = srcdoctype.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a>();
<a id="L1689" name="L1689"></a>1689                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> tmap = newdoctype.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a>();
<a id="L1690" name="L1690"></a>1690                 <strong class="reserved">if</strong>(smap != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691                     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; smap.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L1692" name="L1692"></a>1692                         tmap.<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a>(<a href="../D/24390.html" title="Multiple defined in 6 places.">importNode</a>(smap.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i), <strong class="reserved">true</strong>, <strong class="reserved">true</strong>,
<a id="L1693" name="L1693"></a>1693                         reversedIdentifiers));
<a id="L1694" name="L1694"></a>1694                     <em class="brace">}</em>
<a id="L1695" name="L1695"></a>1695                 <em class="brace">}</em>
<a id="L1696" name="L1696"></a>1696                 smap = srcdoctype.<a href="../D/21023.html" title="Multiple defined in 3 places.">getNotations</a>();
<a id="L1697" name="L1697"></a>1697                 tmap = newdoctype.<a href="../D/21023.html" title="Multiple defined in 3 places.">getNotations</a>();
<a id="L1698" name="L1698"></a>1698                 <strong class="reserved">if</strong> (smap != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1699" name="L1699"></a>1699                     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; smap.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L1700" name="L1700"></a>1700                         tmap.<a href="../D/33319.html" title="Multiple defined in 6 places.">setNamedItem</a>(<a href="../D/24390.html" title="Multiple defined in 6 places.">importNode</a>(smap.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i), <strong class="reserved">true</strong>, <strong class="reserved">true</strong>,
<a id="L1701" name="L1701"></a>1701                         reversedIdentifiers));
<a id="L1702" name="L1702"></a>1702                     <em class="brace">}</em>
<a id="L1703" name="L1703"></a>1703                 <em class="brace">}</em>
<a id="L1704" name="L1704"></a>1704 
<a id="L1705" name="L1705"></a>1705                 <em class="comment">// NOTE: At this time, the DOM definition of DocumentType</em>
<a id="L1706" name="L1706"></a>1706                 <em class="comment">// doesn't cover Elements and their Attributes. domimpl's</em>
<a id="L1707" name="L1707"></a>1707                 <em class="comment">// extentions in that area will not be preserved, even if</em>
<a id="L1708" name="L1708"></a>1708                 <em class="comment">// copying from domimpl to domimpl. We could special-case</em>
<a id="L1709" name="L1709"></a>1709                 <em class="comment">// that here. Arguably we should. Consider. ?????</em>
<a id="L1710" name="L1710"></a>1710                 newnode = newdoctype;
<a id="L1711" name="L1711"></a>1711                 <strong class="reserved">break</strong>;
<a id="L1712" name="L1712"></a>1712             <em class="brace">}</em>
<a id="L1713" name="L1713"></a>1713 
<a id="L1714" name="L1714"></a>1714             <strong class="reserved">case</strong> DOCUMENT_FRAGMENT_NODE: <em class="brace">{</em>
<a id="L1715" name="L1715"></a>1715                 newnode = <a href="../D/13813.html" title="Multiple defined in 8 places.">createDocumentFragment</a>();
<a id="L1716" name="L1716"></a>1716                 <em class="comment">// No name, kids carry value</em>
<a id="L1717" name="L1717"></a>1717                 <strong class="reserved">break</strong>;
<a id="L1718" name="L1718"></a>1718             <em class="brace">}</em>
<a id="L1719" name="L1719"></a>1719 
<a id="L1720" name="L1720"></a>1720             <strong class="reserved">case</strong> NOTATION_NODE: <em class="brace">{</em>
<a id="L1721" name="L1721"></a>1721                 <a href="../D/6156.html" title="Multiple defined in 2 places.">Notation</a> srcnotation = (<a href="../D/6156.html" title="Multiple defined in 2 places.">Notation</a>)<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L1722" name="L1722"></a>1722                 <a href="../S/5453.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/dom/NotationImpl.java.">NotationImpl</a> newnotation =
<a id="L1723" name="L1723"></a>1723                 (<a href="../S/5453.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/dom/NotationImpl.java.">NotationImpl</a>)<a href="../S/5445.html#L1422" title="Defined at 1422 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">createNotation</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1724" name="L1724"></a>1724                 newnotation.<a href="../D/33634.html" title="Multiple defined in 14 places.">setPublicId</a>(srcnotation.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>());
<a id="L1725" name="L1725"></a>1725                 newnotation.<a href="../D/34059.html" title="Multiple defined in 31 places.">setSystemId</a>(srcnotation.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>());
<a id="L1726" name="L1726"></a>1726                 <em class="comment">// Kids carry additional value</em>
<a id="L1727" name="L1727"></a>1727                 newnode = newnotation;
<a id="L1728" name="L1728"></a>1728                 <em class="comment">// No name, no value</em>
<a id="L1729" name="L1729"></a>1729                 <strong class="reserved">break</strong>;
<a id="L1730" name="L1730"></a>1730             <em class="brace">}</em>
<a id="L1731" name="L1731"></a>1731             <strong class="reserved">case</strong> DOCUMENT_NODE : <em class="comment">// Can't import document nodes</em>
<a id="L1732" name="L1732"></a>1732             <strong class="reserved">default</strong>: <em class="brace">{</em>           <em class="comment">// Unknown node type</em>
<a id="L1733" name="L1733"></a>1733                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L1734" name="L1734"></a>1734                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1735" name="L1735"></a>1735             <em class="brace">}</em>
<a id="L1736" name="L1736"></a>1736         <em class="brace">}</em>
<a id="L1737" name="L1737"></a>1737 
<a id="L1738" name="L1738"></a>1738                 <strong class="reserved">if</strong>(userData != <strong class="reserved">null</strong>)
<a id="L1739" name="L1739"></a>1739                         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, newnode, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_IMPORTED,userData);
<a id="L1740" name="L1740"></a>1740 
<a id="L1741" name="L1741"></a>1741         <em class="comment">// If deep, replicate and attach the kids.</em>
<a id="L1742" name="L1742"></a>1742         <strong class="reserved">if</strong> (deep) <em class="brace">{</em>
<a id="L1743" name="L1743"></a>1743             <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> srckid = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1744" name="L1744"></a>1744             srckid != <strong class="reserved">null</strong>;
<a id="L1745" name="L1745"></a>1745             srckid = srckid.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L1746" name="L1746"></a>1746                 newnode.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(<a href="../D/24390.html" title="Multiple defined in 6 places.">importNode</a>(srckid, <strong class="reserved">true</strong>, cloningDoc,
<a id="L1747" name="L1747"></a>1747                 reversedIdentifiers));
<a id="L1748" name="L1748"></a>1748             <em class="brace">}</em>
<a id="L1749" name="L1749"></a>1749         <em class="brace">}</em>
<a id="L1750" name="L1750"></a>1750         <strong class="reserved">if</strong> (newnode.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_NODE) <em class="brace">{</em>
<a id="L1751" name="L1751"></a>1751             ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)newnode).<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a>(<strong class="reserved">true</strong>, <strong class="reserved">true</strong>);
<a id="L1752" name="L1752"></a>1752         <em class="brace">}</em>
<a id="L1753" name="L1753"></a>1753         <strong class="reserved">return</strong> newnode;
<a id="L1754" name="L1754"></a>1754 
<a id="L1755" name="L1755"></a>1755     <em class="brace">}</em> <em class="comment">// importNode(Node,boolean,boolean,Hashtable):Node</em>
<a id="L1756" name="L1756"></a>1756 
<div class="comment">
      DOM Level 3 WD - Experimental
      Change the node's ownerDocument, and its subtree, to this Document
      @param source The node to adopt.
      @see #importNode
     *</div>
<a id="L1764" name="L1764"></a>1764     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/5101.html#L175" title="Referred from 175 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">adoptNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>) <em class="brace">{</em>
<a id="L1765" name="L1765"></a>1765         <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1766" name="L1766"></a>1766                 <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> userData = <strong class="reserved">null</strong>;
<a id="L1767" name="L1767"></a>1767         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1768" name="L1768"></a>1768             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = (<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>) <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L1769" name="L1769"></a>1769         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> e) <em class="brace">{</em>
<a id="L1770" name="L1770"></a>1770             <em class="comment">// source node comes from a different DOMImplementation</em>
<a id="L1771" name="L1771"></a>1771             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1772" name="L1772"></a>1772         <em class="brace">}</em>
<a id="L1773" name="L1773"></a>1773 
<a id="L1774" name="L1774"></a>1774         <em class="comment">// Return null if the source is null</em>
<a id="L1775" name="L1775"></a>1775 
<a id="L1776" name="L1776"></a>1776         <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1777" name="L1777"></a>1777                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1778" name="L1778"></a>1778         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1779" name="L1779"></a>1779 
<a id="L1780" name="L1780"></a>1780             <a href="../S/119.html#L50" title="Defined at 50 in src/org/w3c/dom/DOMImplementation.java.">DOMImplementation</a> thisImpl = <strong class="reserved">this</strong>.<a href="../D/19619.html" title="Multiple defined in 10 places.">getImplementation</a>();
<a id="L1781" name="L1781"></a>1781             <a href="../S/119.html#L50" title="Defined at 50 in src/org/w3c/dom/DOMImplementation.java.">DOMImplementation</a> otherImpl = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>().<a href="../D/19619.html" title="Multiple defined in 10 places.">getImplementation</a>();
<a id="L1782" name="L1782"></a>1782 
<a id="L1783" name="L1783"></a>1783             <em class="comment">// when the source node comes from a different implementation.</em>
<a id="L1784" name="L1784"></a>1784             <strong class="reserved">if</strong> (thisImpl != otherImpl) <em class="brace">{</em>
<a id="L1785" name="L1785"></a>1785 
<a id="L1786" name="L1786"></a>1786                 <em class="comment">// Adopting from a DefferedDOM to DOM</em>
<a id="L1787" name="L1787"></a>1787                 <strong class="reserved">if</strong> (thisImpl <strong class="reserved">instanceof</strong> com.sun.org.apache.xerces.internal.dom.<a href="../S/5448.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/dom/DOMImplementationImpl.java.">DOMImplementationImpl</a> &amp;&amp;
<a id="L1788" name="L1788"></a>1788                         otherImpl <strong class="reserved">instanceof</strong> com.sun.org.apache.xerces.internal.dom.<a href="../S/5456.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/dom/DeferredDOMImplementationImpl.java.">DeferredDOMImplementationImpl</a>) <em class="brace">{</em>
<a id="L1789" name="L1789"></a>1789                     <em class="comment">// traverse the DOM and expand deffered nodes and then allow adoption</em>
<a id="L1790" name="L1790"></a>1790                     <a href="../S/5445.html#L1908" title="Defined at 1908 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">undeferChildren</a> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1791" name="L1791"></a>1791                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( thisImpl <strong class="reserved">instanceof</strong> com.sun.org.apache.xerces.internal.dom.<a href="../S/5456.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/dom/DeferredDOMImplementationImpl.java.">DeferredDOMImplementationImpl</a>
<a id="L1792" name="L1792"></a>1792                         &amp;&amp; otherImpl <strong class="reserved">instanceof</strong> com.sun.org.apache.xerces.internal.dom.<a href="../S/5448.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/dom/DOMImplementationImpl.java.">DOMImplementationImpl</a>) <em class="brace">{</em>
<a id="L1793" name="L1793"></a>1793                     <em class="comment">// Adopting from a DOM into a DefferedDOM, this should be okay</em>
<a id="L1794" name="L1794"></a>1794                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1795" name="L1795"></a>1795                     <em class="comment">// Adopting between two dissimilar DOM's is not allowed</em>
<a id="L1796" name="L1796"></a>1796                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1797" name="L1797"></a>1797                 <em class="brace">}</em>
<a id="L1798" name="L1798"></a>1798                 <em class="brace">}</em>
<a id="L1799" name="L1799"></a>1799         <em class="brace">}</em>
<a id="L1800" name="L1800"></a>1800 
<a id="L1801" name="L1801"></a>1801         <strong class="reserved">switch</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()) <em class="brace">{</em>
<a id="L1802" name="L1802"></a>1802             <strong class="reserved">case</strong> ATTRIBUTE_NODE: <em class="brace">{</em>
<a id="L1803" name="L1803"></a>1803                 <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1804" name="L1804"></a>1804                 <em class="comment">// remove node from wherever it is</em>
<a id="L1805" name="L1805"></a>1805                 <strong class="reserved">if</strong>( <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>() != <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L1806" name="L1806"></a>1806                     <em class="comment">//1. owner element attribute is set to null</em>
<a id="L1807" name="L1807"></a>1807                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>().<a href="../D/30713.html" title="Multiple defined in 6 places.">removeAttributeNode</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L1808" name="L1808"></a>1808                 <em class="brace">}</em>
<a id="L1809" name="L1809"></a>1809                 <em class="comment">//2. specified flag is set to true</em>
<a id="L1810" name="L1810"></a>1810                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/26266.html" title="Multiple defined in 20 places.">isSpecified</a>(<strong class="reserved">true</strong>);
<a id="L1811" name="L1811"></a>1811                                 userData = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/23488.html" title="Multiple defined in 3 places.">getUserDataRecord</a>();
<a id="L1812" name="L1812"></a>1812 
<a id="L1813" name="L1813"></a>1813                 <em class="comment">//3. change ownership</em>
<a id="L1814" name="L1814"></a>1814                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(<strong class="reserved">this</strong>);
<a id="L1815" name="L1815"></a>1815                                 <strong class="reserved">if</strong>(userData != <strong class="reserved">null</strong> )
<a id="L1816" name="L1816"></a>1816                                         <a href="../S/5445.html#L2418" title="Defined at 2418 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">setUserDataTable</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,userData);
<a id="L1817" name="L1817"></a>1817                 <strong class="reserved">break</strong>;
<a id="L1818" name="L1818"></a>1818             <em class="brace">}</em>
<a id="L1819" name="L1819"></a>1819             <em class="comment">//entity, notation nodes are read only nodes.. so they can't be adopted.</em>
<a id="L1820" name="L1820"></a>1820             <em class="comment">//runtime will fall through to NOTATION_NODE</em>
<a id="L1821" name="L1821"></a>1821             <strong class="reserved">case</strong> ENTITY_NODE:
<a id="L1822" name="L1822"></a>1822             <strong class="reserved">case</strong> NOTATION_NODE:<em class="brace">{</em>
<a id="L1823" name="L1823"></a>1823                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NO_MODIFICATION_ALLOWED_ERR", <strong class="reserved">null</strong>);
<a id="L1824" name="L1824"></a>1824                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NO_MODIFICATION_ALLOWED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1825" name="L1825"></a>1825 
<a id="L1826" name="L1826"></a>1826             <em class="brace">}</em>
<a id="L1827" name="L1827"></a>1827             <em class="comment">//document, documentype nodes can't be adopted.</em>
<a id="L1828" name="L1828"></a>1828             <em class="comment">//runtime will fall through to DocumentTypeNode</em>
<a id="L1829" name="L1829"></a>1829             <strong class="reserved">case</strong> DOCUMENT_NODE:
<a id="L1830" name="L1830"></a>1830             <strong class="reserved">case</strong> DOCUMENT_TYPE_NODE: <em class="brace">{</em>
<a id="L1831" name="L1831"></a>1831                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN, "NOT_SUPPORTED_ERR", <strong class="reserved">null</strong>);
<a id="L1832" name="L1832"></a>1832                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NOT_SUPPORTED_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1833" name="L1833"></a>1833             <em class="brace">}</em>
<a id="L1834" name="L1834"></a>1834             <strong class="reserved">case</strong> ENTITY_REFERENCE_NODE: <em class="brace">{</em>
<a id="L1835" name="L1835"></a>1835                                 userData = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/23488.html" title="Multiple defined in 3 places.">getUserDataRecord</a>();
<a id="L1836" name="L1836"></a>1836                 <em class="comment">// remove node from wherever it is</em>
<a id="L1837" name="L1837"></a>1837                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L1838" name="L1838"></a>1838                 <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1839" name="L1839"></a>1839                     <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L1840" name="L1840"></a>1840                 <em class="brace">}</em>
<a id="L1841" name="L1841"></a>1841                 <em class="comment">// discard its replacement value</em>
<a id="L1842" name="L1842"></a>1842                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child;
<a id="L1843" name="L1843"></a>1843                 <strong class="reserved">while</strong> ((child = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1844" name="L1844"></a>1844                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(child);
<a id="L1845" name="L1845"></a>1845                 <em class="brace">}</em>
<a id="L1846" name="L1846"></a>1846                 <em class="comment">// change ownership</em>
<a id="L1847" name="L1847"></a>1847                 <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(<strong class="reserved">this</strong>);
<a id="L1848" name="L1848"></a>1848                                 <strong class="reserved">if</strong>(userData != <strong class="reserved">null</strong>)
<a id="L1849" name="L1849"></a>1849                                         <a href="../S/5445.html#L2418" title="Defined at 2418 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">setUserDataTable</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,userData);
<a id="L1850" name="L1850"></a>1850                 <em class="comment">// set its new replacement value if any</em>
<a id="L1851" name="L1851"></a>1851                 <strong class="reserved">if</strong> (docType == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1852" name="L1852"></a>1852                     <strong class="reserved">break</strong>;
<a id="L1853" name="L1853"></a>1853                 <em class="brace">}</em>
<a id="L1854" name="L1854"></a>1854                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> entities = docType.<a href="../D/18794.html" title="Multiple defined in 3 places.">getEntities</a>();
<a id="L1855" name="L1855"></a>1855                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> entityNode = entities.<a href="../D/20798.html" title="Multiple defined in 5 places.">getNamedItem</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1856" name="L1856"></a>1856                 <strong class="reserved">if</strong> (entityNode == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1857" name="L1857"></a>1857                     <strong class="reserved">break</strong>;
<a id="L1858" name="L1858"></a>1858                 <em class="brace">}</em>
<a id="L1859" name="L1859"></a>1859                 <strong class="reserved">for</strong> (child = entityNode.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1860" name="L1860"></a>1860                 child != <strong class="reserved">null</strong>; child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L1861" name="L1861"></a>1861                     <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> childClone = child.<a href="../D/12908.html" title="Multiple defined in 21 places.">cloneNode</a>(<strong class="reserved">true</strong>);
<a id="L1862" name="L1862"></a>1862                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(childClone);
<a id="L1863" name="L1863"></a>1863                 <em class="brace">}</em>
<a id="L1864" name="L1864"></a>1864                 <strong class="reserved">break</strong>;
<a id="L1865" name="L1865"></a>1865             <em class="brace">}</em>
<a id="L1866" name="L1866"></a>1866             <strong class="reserved">case</strong> ELEMENT_NODE: <em class="brace">{</em>
<a id="L1867" name="L1867"></a>1867                                 userData = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/23488.html" title="Multiple defined in 3 places.">getUserDataRecord</a>();
<a id="L1868" name="L1868"></a>1868                 <em class="comment">// remove node from wherever it is</em>
<a id="L1869" name="L1869"></a>1869                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L1870" name="L1870"></a>1870                 <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1871" name="L1871"></a>1871                     <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L1872" name="L1872"></a>1872                 <em class="brace">}</em>
<a id="L1873" name="L1873"></a>1873                 <em class="comment">// change ownership</em>
<a id="L1874" name="L1874"></a>1874                 <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(<strong class="reserved">this</strong>);
<a id="L1875" name="L1875"></a>1875                                 <strong class="reserved">if</strong>(userData != <strong class="reserved">null</strong>)
<a id="L1876" name="L1876"></a>1876                                         <a href="../S/5445.html#L2418" title="Defined at 2418 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">setUserDataTable</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,userData);
<a id="L1877" name="L1877"></a>1877                 <em class="comment">// reconcile default attributes</em>
<a id="L1878" name="L1878"></a>1878                 ((<a href="../D/2805.html" title="Multiple defined in 2 places.">ElementImpl</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../S/5475.html#L1153" title="Defined at 1153 in src/com/sun/org/apache/xerces/internal/dom/ElementImpl.java.">reconcileDefaultAttributes</a>();
<a id="L1879" name="L1879"></a>1879                 <strong class="reserved">break</strong>;
<a id="L1880" name="L1880"></a>1880             <em class="brace">}</em>
<a id="L1881" name="L1881"></a>1881             <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L1882" name="L1882"></a>1882                                 userData = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/23488.html" title="Multiple defined in 3 places.">getUserDataRecord</a>();
<a id="L1883" name="L1883"></a>1883                 <em class="comment">// remove node from wherever it is</em>
<a id="L1884" name="L1884"></a>1884                 <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L1885" name="L1885"></a>1885                 <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1886" name="L1886"></a>1886                     <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/30731.html" title="Multiple defined in 14 places.">removeChild</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L1887" name="L1887"></a>1887                 <em class="brace">}</em>
<a id="L1888" name="L1888"></a>1888                 <em class="comment">// change ownership</em>
<a id="L1889" name="L1889"></a>1889                 <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/33466.html" title="Multiple defined in 6 places.">setOwnerDocument</a>(<strong class="reserved">this</strong>);
<a id="L1890" name="L1890"></a>1890                                 <strong class="reserved">if</strong>(userData != <strong class="reserved">null</strong>)
<a id="L1891" name="L1891"></a>1891                                         <a href="../S/5445.html#L2418" title="Defined at 2418 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">setUserDataTable</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>,userData);
<a id="L1892" name="L1892"></a>1892             <em class="brace">}</em>
<a id="L1893" name="L1893"></a>1893         <em class="brace">}</em>
<a id="L1894" name="L1894"></a>1894 
<a id="L1895" name="L1895"></a>1895                 <em class="comment">//DOM L3 Core CR</em>
<a id="L1896" name="L1896"></a>1896                 <em class="comment">//http://www.w3.org/TR/2003/CR-DOM-Level-3-Core-20031107/core.html#UserDataHandler-ADOPTED</em>
<a id="L1897" name="L1897"></a>1897                 <strong class="reserved">if</strong>(userData != <strong class="reserved">null</strong>)
<a id="L1898" name="L1898"></a>1898                         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <strong class="reserved">null</strong>, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a>.NODE_ADOPTED,userData);
<a id="L1899" name="L1899"></a>1899 
<a id="L1900" name="L1900"></a>1900         <strong class="reserved">return</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1901" name="L1901"></a>1901     <em class="brace">}</em>
<a id="L1902" name="L1902"></a>1902 
<div class="comment">
      Traverses the DOM Tree and expands deferred nodes and their
      children.</div>
<a id="L1908" name="L1908"></a>1908     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29625.html" title="Multiple referred from 2 places.">undeferChildren</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1909" name="L1909"></a>1909 
<a id="L1910" name="L1910"></a>1910         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1911" name="L1911"></a>1911 
<a id="L1912" name="L1912"></a>1912         <strong class="reserved">while</strong> (<strong class="reserved">null</strong> != <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L1913" name="L1913"></a>1913 
<a id="L1914" name="L1914"></a>1914             <strong class="reserved">if</strong> (((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L1915" name="L1915"></a>1915                 ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L1916" name="L1916"></a>1916             <em class="brace">}</em>
<a id="L1917" name="L1917"></a>1917 
<a id="L1918" name="L1918"></a>1918             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1919" name="L1919"></a>1919             <strong class="reserved">if</strong> (<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1920" name="L1920"></a>1920                 <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L1921" name="L1921"></a>1921                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++i) <em class="brace">{</em>
<a id="L1922" name="L1922"></a>1922                     <a href="../S/5445.html#L1908" title="Defined at 1908 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">undeferChildren</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i));
<a id="L1923" name="L1923"></a>1923                 <em class="brace">}</em>
<a id="L1924" name="L1924"></a>1924             <em class="brace">}</em>
<a id="L1925" name="L1925"></a>1925 
<a id="L1926" name="L1926"></a>1926             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = <strong class="reserved">null</strong>;
<a id="L1927" name="L1927"></a>1927             <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1928" name="L1928"></a>1928 
<a id="L1929" name="L1929"></a>1929             <strong class="reserved">while</strong> (<strong class="reserved">null</strong> == <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>) <em class="brace">{</em>
<a id="L1930" name="L1930"></a>1930 
<a id="L1931" name="L1931"></a>1931                 <strong class="reserved">if</strong> (<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>))
<a id="L1932" name="L1932"></a>1932                     <strong class="reserved">break</strong>;
<a id="L1933" name="L1933"></a>1933 
<a id="L1934" name="L1934"></a>1934                 <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1935" name="L1935"></a>1935 
<a id="L1936" name="L1936"></a>1936                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> == <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>) <em class="brace">{</em>
<a id="L1937" name="L1937"></a>1937                     <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L1938" name="L1938"></a>1938 
<a id="L1939" name="L1939"></a>1939                     <strong class="reserved">if</strong> ((<strong class="reserved">null</strong> == <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) || (<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>))) <em class="brace">{</em>
<a id="L1940" name="L1940"></a>1940                         <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a> = <strong class="reserved">null</strong>;
<a id="L1941" name="L1941"></a>1941                         <strong class="reserved">break</strong>;
<a id="L1942" name="L1942"></a>1942                     <em class="brace">}</em>
<a id="L1943" name="L1943"></a>1943                 <em class="brace">}</em>
<a id="L1944" name="L1944"></a>1944             <em class="brace">}</em>
<a id="L1945" name="L1945"></a>1945 
<a id="L1946" name="L1946"></a>1946             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>;
<a id="L1947" name="L1947"></a>1947         <em class="brace">}</em>
<a id="L1948" name="L1948"></a>1948     <em class="brace">}</em>
<a id="L1949" name="L1949"></a>1949 
<a id="L1950" name="L1950"></a>1950     <em class="comment">// identifier maintenence</em>
<div class="comment">
      Introduced in DOM Level 2
      Returns the Element whose ID is given by elementId. If no such element
      exists, returns null. Behavior is not defined if more than one element
      has this ID.
      <p>
      Note: The DOM implementation must have information that says which
      attributes are of type ID. Attributes with the name "ID" are not of type
      ID unless so defined. Implementations that do not know whether
      attributes are of type ID or not are expected to return null.
      @see #getIdentifier</p></div>
<a id="L1963" name="L1963"></a>1963     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16314.html" title="Multiple referred from 11 places.">getElementById</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> elementId) <em class="brace">{</em>
<a id="L1964" name="L1964"></a>1964         <strong class="reserved">return</strong> <a href="../D/19568.html" title="Multiple defined in 11 places.">getIdentifier</a>(elementId);
<a id="L1965" name="L1965"></a>1965     <em class="brace">}</em>
<a id="L1966" name="L1966"></a>1966 
<div class="comment">
      Remove all identifiers from the ID table</div>
<a id="L1970" name="L1970"></a>1970     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/5428.html#L213" title="Referred from 213 in src/com/sun/org/apache/xerces/internal/dom/DOMNormalizer.java.">clearIdentifiers</a>()<em class="brace">{</em>
<a id="L1971" name="L1971"></a>1971         <strong class="reserved">if</strong> (identifiers != <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L1972" name="L1972"></a>1972             identifiers.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L1973" name="L1973"></a>1973         <em class="brace">}</em>
<a id="L1974" name="L1974"></a>1974     <em class="brace">}</em>
<a id="L1975" name="L1975"></a>1975 
<div class="comment">
      Registers an identifier name with a specified element node.
      If the identifier is already registered, the new element
      node replaces the previous node. If the specified element
      node is null, removeIdentifier() is called.
      @see #getIdentifier
      @see #removeIdentifier</div>
<a id="L1985" name="L1985"></a>1985     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25314.html" title="Multiple referred from 8 places.">putIdentifier</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> idName, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L1986" name="L1986"></a>1986 
<a id="L1987" name="L1987"></a>1987         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1988" name="L1988"></a>1988             <a href="../S/5445.html#L2041" title="Defined at 2041 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">removeIdentifier</a>(idName);
<a id="L1989" name="L1989"></a>1989             <strong class="reserved">return</strong>;
<a id="L1990" name="L1990"></a>1990         <em class="brace">}</em>
<a id="L1991" name="L1991"></a>1991 
<a id="L1992" name="L1992"></a>1992         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L1993" name="L1993"></a>1993             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L1994" name="L1994"></a>1994         <em class="brace">}</em>
<a id="L1995" name="L1995"></a>1995 
<a id="L1996" name="L1996"></a>1996         <strong class="reserved">if</strong> (identifiers == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1997" name="L1997"></a>1997             identifiers = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L1998" name="L1998"></a>1998         <em class="brace">}</em>
<a id="L1999" name="L1999"></a>1999 
<a id="L2000" name="L2000"></a>2000         identifiers.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(idName, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L2001" name="L2001"></a>2001 
<a id="L2002" name="L2002"></a>2002     <em class="brace">}</em> <em class="comment">// putIdentifier(String,Element)</em>
<a id="L2003" name="L2003"></a>2003 
<div class="comment">
      Returns a previously registered element with the specified
      identifier name, or null if no element is registered.
      @see #putIdentifier
      @see #removeIdentifier</div>
<a id="L2011" name="L2011"></a>2011     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16971.html" title="Multiple referred from 27 places.">getIdentifier</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> idName) <em class="brace">{</em>
<a id="L2012" name="L2012"></a>2012 
<a id="L2013" name="L2013"></a>2013         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L2014" name="L2014"></a>2014             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L2015" name="L2015"></a>2015         <em class="brace">}</em>
<a id="L2016" name="L2016"></a>2016 
<a id="L2017" name="L2017"></a>2017         <strong class="reserved">if</strong> (identifiers == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2018" name="L2018"></a>2018             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2019" name="L2019"></a>2019         <em class="brace">}</em>
<a id="L2020" name="L2020"></a>2020         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) identifiers.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(idName);
<a id="L2021" name="L2021"></a>2021         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2022" name="L2022"></a>2022             <em class="comment">// check that the element is in the tree</em>
<a id="L2023" name="L2023"></a>2023             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = elem.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L2024" name="L2024"></a>2024             <strong class="reserved">while</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2025" name="L2025"></a>2025                 <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L2026" name="L2026"></a>2026                     <strong class="reserved">return</strong> elem;
<a id="L2027" name="L2027"></a>2027                 <em class="brace">}</em>
<a id="L2028" name="L2028"></a>2028                 <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L2029" name="L2029"></a>2029             <em class="brace">}</em>
<a id="L2030" name="L2030"></a>2030         <em class="brace">}</em>
<a id="L2031" name="L2031"></a>2031         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2032" name="L2032"></a>2032     <em class="brace">}</em> <em class="comment">// getIdentifier(String):Element</em>
<a id="L2033" name="L2033"></a>2033 
<div class="comment">
      Removes a previously registered element with the specified
      identifier name.
      @see #putIdentifier
      @see #getIdentifier</div>
<a id="L2041" name="L2041"></a>2041     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25981.html" title="Multiple referred from 7 places.">removeIdentifier</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> idName) <em class="brace">{</em>
<a id="L2042" name="L2042"></a>2042 
<a id="L2043" name="L2043"></a>2043         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L2044" name="L2044"></a>2044             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L2045" name="L2045"></a>2045         <em class="brace">}</em>
<a id="L2046" name="L2046"></a>2046 
<a id="L2047" name="L2047"></a>2047         <strong class="reserved">if</strong> (identifiers == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2048" name="L2048"></a>2048             <strong class="reserved">return</strong>;
<a id="L2049" name="L2049"></a>2049         <em class="brace">}</em>
<a id="L2050" name="L2050"></a>2050 
<a id="L2051" name="L2051"></a>2051         identifiers.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(idName);
<a id="L2052" name="L2052"></a>2052 
<a id="L2053" name="L2053"></a>2053     <em class="brace">}</em> <em class="comment">// removeIdentifier(String)</em>
<a id="L2054" name="L2054"></a>2054 
<div class="comment">
     /** Returns an enumeration registered of identifier names. */</div>
<a id="L2056" name="L2056"></a>2056     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> getIdentifiers() <em class="brace">{</em>
<a id="L2057" name="L2057"></a>2057 
<a id="L2058" name="L2058"></a>2058         <strong class="reserved">if</strong> (<a href="../D/27944.html" title="Multiple defined in 2 places.">needsSyncData</a>()) <em class="brace">{</em>
<a id="L2059" name="L2059"></a>2059             <a href="../D/35169.html" title="Multiple defined in 16 places.">synchronizeData</a>();
<a id="L2060" name="L2060"></a>2060         <em class="brace">}</em>
<a id="L2061" name="L2061"></a>2061 
<a id="L2062" name="L2062"></a>2062         <strong class="reserved">if</strong> (identifiers == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2063" name="L2063"></a>2063             identifiers = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L2064" name="L2064"></a>2064         <em class="brace">}</em>
<a id="L2065" name="L2065"></a>2065 
<a id="L2066" name="L2066"></a>2066         <strong class="reserved">return</strong> identifiers.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L2067" name="L2067"></a>2067 
<a id="L2068" name="L2068"></a>2068     <em class="brace">}</em> <em class="comment">// getIdentifiers():Enumeration</em>
<a id="L2069" name="L2069"></a>2069 
<a id="L2070" name="L2070"></a>2070     <em class="comment">//</em>
<a id="L2071" name="L2071"></a>2071     <em class="comment">// DOM2: Namespace methods</em>
<a id="L2072" name="L2072"></a>2072     <em class="comment">//</em>
<a id="L2073" name="L2073"></a>2073 
<div class="comment">
      Introduced in DOM Level 2. <p>
      Creates an element of the given qualified name and namespace URI.
      If the given namespaceURI is null or an empty string and the
      qualifiedName has a prefix that is "xml", the created element
      is bound to the predefined namespace
      "http://www.w3.org/XML/1998/namespace" [Namespaces].
      @param namespaceURI The namespace URI of the element to
                          create.
      @param qualifiedName The qualified name of the element type to
                           instantiate.
      @return Element A new Element object with the following attributes:
      @throws DOMException INVALID_CHARACTER_ERR: Raised if the specified
      name contains an invalid character.
      @throws DOMException NAMESPACE_ERR: Raised if the qualifiedName has a
                           prefix that is "xml" and the namespaceURI is
                           neither null nor an empty string nor
                           "http://www.w3.org/XML/1998/namespace", or
                           if the qualifiedName has a prefix different
                           from "xml" and the namespaceURI is null or an
                           empty string.
      @since WD-DOM-Level-2-19990923</p></div>
<a id="L2097" name="L2097"></a>2097     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12407.html" title="Multiple referred from 31 places.">createElementNS</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>)
<a id="L2098" name="L2098"></a>2098     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L2099" name="L2099"></a>2099         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a>(<strong class="reserved">this</strong>, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>);
<a id="L2100" name="L2100"></a>2100     <em class="brace">}</em>
<a id="L2101" name="L2101"></a>2101 
<div class="comment">
      NON-DOM: a factory method used by the Xerces DOM parser
      to create an element.
      @param namespaceURI The namespace URI of the element to
                          create.
      @param qualifiedName The qualified name of the element type to
                           instantiate.
      @param localpart  The local name of the attribute to instantiate.
      @return Element A new Element object with the following attributes:
      @exception DOMException INVALID_CHARACTER_ERR: Raised if the specified
                        name contains an invalid character.</div>
<a id="L2116" name="L2116"></a>2116     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12407.html" title="Multiple referred from 31 places.">createElementNS</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>,
<a id="L2117" name="L2117"></a>2117     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> localpart)
<a id="L2118" name="L2118"></a>2118     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L2119" name="L2119"></a>2119         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5431.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/dom/ElementNSImpl.java.">ElementNSImpl</a>(<strong class="reserved">this</strong>, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>, localpart);
<a id="L2120" name="L2120"></a>2120     <em class="brace">}</em>
<a id="L2121" name="L2121"></a>2121 
<div class="comment">
      Introduced in DOM Level 2. <p>
      Creates an attribute of the given qualified name and namespace URI.
      If the given namespaceURI is null or an empty string and the
      qualifiedName has a prefix that is "xml", the created element
      is bound to the predefined namespace
      "http://www.w3.org/XML/1998/namespace" [Namespaces].
      @param namespaceURI  The namespace URI of the attribute to
                           create. When it is null or an empty string,
                           this method behaves like createAttribute.
      @param qualifiedName The qualified name of the attribute to
                           instantiate.
      @return Attr         A new Attr object.
      @throws DOMException INVALID_CHARACTER_ERR: Raised if the specified
      name contains an invalid character.
      @since WD-DOM-Level-2-19990923</p></div>
<a id="L2140" name="L2140"></a>2140     <strong class="reserved">public</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../R/12218.html" title="Multiple referred from 12 places.">createAttributeNS</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>)
<a id="L2141" name="L2141"></a>2141     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L2142" name="L2142"></a>2142         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5470.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/AttrNSImpl.java.">AttrNSImpl</a>(<strong class="reserved">this</strong>, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>);
<a id="L2143" name="L2143"></a>2143     <em class="brace">}</em>
<a id="L2144" name="L2144"></a>2144 
<div class="comment">
      NON-DOM: a factory method used by the Xerces DOM parser
      to create an element.
      @param namespaceURI  The namespace URI of the attribute to
                           create. When it is null or an empty string,
                           this method behaves like createAttribute.
      @param qualifiedName The qualified name of the attribute to
                           instantiate.
      @param localpart     The local name of the attribute to instantiate.
      @return Attr         A new Attr object.
      @throws DOMException INVALID_CHARACTER_ERR: Raised if the specified
      name contains an invalid character.</div>
<a id="L2160" name="L2160"></a>2160     <strong class="reserved">public</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../R/12218.html" title="Multiple referred from 12 places.">createAttributeNS</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>,
<a id="L2161" name="L2161"></a>2161     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> localpart)
<a id="L2162" name="L2162"></a>2162     <strong class="reserved">throws</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a> <em class="brace">{</em>
<a id="L2163" name="L2163"></a>2163         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5470.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/dom/AttrNSImpl.java.">AttrNSImpl</a>(<strong class="reserved">this</strong>, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../S/7693.html#L68" title="Defined at 68 in src/com/sun/javadoc/ProgramElementDoc.java.">qualifiedName</a>, localpart);
<a id="L2164" name="L2164"></a>2164     <em class="brace">}</em>
<a id="L2165" name="L2165"></a>2165 
<div class="comment">
      Introduced in DOM Level 2. <p>
      Returns a NodeList of all the Elements with a given local name and
      namespace URI in the order in which they would be encountered in a
      preorder traversal of the Document tree.
      @param namespaceURI  The namespace URI of the elements to match
                           on. The special value "*" matches all
                           namespaces. When it is null or an empty
                           string, this method behaves like
                           getElementsByTagName.
      @param localName     The local name of the elements to match on.
                           The special value "*" matches all local names.
      @return NodeList     A new NodeList object containing all the matched
                           Elements.
      @since WD-DOM-Level-2-19990923</p></div>
<a id="L2182" name="L2182"></a>2182     <strong class="reserved">public</strong> <a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> <a href="../R/16338.html" title="Multiple referred from 25 places.">getElementsByTagNameNS</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>,
<a id="L2183" name="L2183"></a>2183     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>) <em class="brace">{</em>
<a id="L2184" name="L2184"></a>2184         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5480.html#L76" title="Defined at 76 in src/com/sun/org/apache/xerces/internal/dom/DeepNodeListImpl.java.">DeepNodeListImpl</a>(<strong class="reserved">this</strong>, <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>);
<a id="L2185" name="L2185"></a>2185     <em class="brace">}</em>
<a id="L2186" name="L2186"></a>2186 
<a id="L2187" name="L2187"></a>2187     <em class="comment">//</em>
<a id="L2188" name="L2188"></a>2188     <em class="comment">// Object methods</em>
<a id="L2189" name="L2189"></a>2189     <em class="comment">//</em>
<a id="L2190" name="L2190"></a>2190 
<div class="comment">
     /** Clone. */</div>
<a id="L2192" name="L2192"></a>2192     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <strong class="reserved">throws</strong> <a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> <em class="brace">{</em>
<a id="L2193" name="L2193"></a>2193         <a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a> newdoc = (<a href="../S/5445.html#L87" title="Defined at 87 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">CoreDocumentImpl</a>) <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L2194" name="L2194"></a>2194         newdoc.docType = <strong class="reserved">null</strong>;
<a id="L2195" name="L2195"></a>2195         newdoc.docElement = <strong class="reserved">null</strong>;
<a id="L2196" name="L2196"></a>2196         <strong class="reserved">return</strong> newdoc;
<a id="L2197" name="L2197"></a>2197     <em class="brace">}</em>
<a id="L2198" name="L2198"></a>2198 
<a id="L2199" name="L2199"></a>2199     <em class="comment">//</em>
<a id="L2200" name="L2200"></a>2200     <em class="comment">// Public static methods</em>
<a id="L2201" name="L2201"></a>2201     <em class="comment">//</em>
<a id="L2202" name="L2202"></a>2202 
<div class="comment">
      Check the string against XML's definition of acceptable names for
      elements and attributes and so on using the XMLCharacterProperties
      utility class</div>
<a id="L2208" name="L2208"></a>2208 
<a id="L2209" name="L2209"></a>2209     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/22272.html" title="Multiple referred from 17 places.">isXMLName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s, <strong class="reserved">boolean</strong> xml11Version) <em class="brace">{</em>
<a id="L2210" name="L2210"></a>2210 
<a id="L2211" name="L2211"></a>2211         <strong class="reserved">if</strong> (s == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2212" name="L2212"></a>2212             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2213" name="L2213"></a>2213         <em class="brace">}</em>
<a id="L2214" name="L2214"></a>2214         <strong class="reserved">if</strong>(!xml11Version)
<a id="L2215" name="L2215"></a>2215             <strong class="reserved">return</strong> <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26450.html" title="Multiple defined in 4 places.">isValidName</a>(s);
<a id="L2216" name="L2216"></a>2216         <strong class="reserved">else</strong>
<a id="L2217" name="L2217"></a>2217             <strong class="reserved">return</strong> <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26539.html" title="Multiple defined in 2 places.">isXML11ValidName</a>(s);
<a id="L2218" name="L2218"></a>2218 
<a id="L2219" name="L2219"></a>2219     <em class="brace">}</em> <em class="comment">// isXMLName(String):boolean</em>
<a id="L2220" name="L2220"></a>2220 
<div class="comment">
      Checks if the given qualified name is legal with respect
      to the version of XML to which this document must conform.
      @param prefix prefix of qualified name
      @param local local part of qualified name</div>
<a id="L2228" name="L2228"></a>2228     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/22191.html" title="Multiple referred from 2 places.">isValidQName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> local, <strong class="reserved">boolean</strong> xml11Version) <em class="brace">{</em>
<a id="L2229" name="L2229"></a>2229 
<a id="L2230" name="L2230"></a>2230         <em class="comment">// check that both prefix and local part match NCName</em>
<a id="L2231" name="L2231"></a>2231         <strong class="reserved">if</strong> (local == <strong class="reserved">null</strong>) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2232" name="L2232"></a>2232         <strong class="reserved">boolean</strong> validNCName = <strong class="reserved">false</strong>;
<a id="L2233" name="L2233"></a>2233 
<a id="L2234" name="L2234"></a>2234         <strong class="reserved">if</strong> (!xml11Version) <em class="brace">{</em>
<a id="L2235" name="L2235"></a>2235             validNCName = (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <strong class="reserved">null</strong> || <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26449.html" title="Multiple defined in 5 places.">isValidNCName</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>))
<a id="L2236" name="L2236"></a>2236                 &amp;&amp; <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26449.html" title="Multiple defined in 5 places.">isValidNCName</a>(local);
<a id="L2237" name="L2237"></a>2237         <em class="brace">}</em>
<a id="L2238" name="L2238"></a>2238         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2239" name="L2239"></a>2239             validNCName = (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <strong class="reserved">null</strong> || <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26538.html" title="Multiple defined in 2 places.">isXML11ValidNCName</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>))
<a id="L2240" name="L2240"></a>2240                 &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26538.html" title="Multiple defined in 2 places.">isXML11ValidNCName</a>(local);
<a id="L2241" name="L2241"></a>2241         <em class="brace">}</em>
<a id="L2242" name="L2242"></a>2242 
<a id="L2243" name="L2243"></a>2243         <strong class="reserved">return</strong> validNCName;
<a id="L2244" name="L2244"></a>2244     <em class="brace">}</em>
<a id="L2245" name="L2245"></a>2245     <em class="comment">//</em>
<a id="L2246" name="L2246"></a>2246     <em class="comment">// Protected methods</em>
<a id="L2247" name="L2247"></a>2247     <em class="comment">//</em>
<a id="L2248" name="L2248"></a>2248 
<div class="comment">
      Uses the kidOK lookup table to check whether the proposed
      tree structure is legal.</div>
<a id="L2253" name="L2253"></a>2253     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21631.html" title="Multiple referred from 4 places.">isKidOK</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child) <em class="brace">{</em>
<a id="L2254" name="L2254"></a>2254         <strong class="reserved">if</strong> (allowGrammarAccess &amp;&amp;
<a id="L2255" name="L2255"></a>2255         <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE) <em class="brace">{</em>
<a id="L2256" name="L2256"></a>2256             <strong class="reserved">return</strong> child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE;
<a id="L2257" name="L2257"></a>2257         <em class="brace">}</em>
<a id="L2258" name="L2258"></a>2258         <strong class="reserved">return</strong> 0 != (kidOK[<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()] &amp; 1 &lt;&lt; child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>());
<a id="L2259" name="L2259"></a>2259     <em class="brace">}</em>
<a id="L2260" name="L2260"></a>2260 
<div class="comment">
      Denotes that this node has changed.</div>
<a id="L2264" name="L2264"></a>2264     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/11033.html" title="Multiple referred from 54 places.">changed</a>() <em class="brace">{</em>
<a id="L2265" name="L2265"></a>2265         <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>++;
<a id="L2266" name="L2266"></a>2266     <em class="brace">}</em>
<a id="L2267" name="L2267"></a>2267 
<div class="comment">
      Returns the number of changes to this node.</div>
<a id="L2271" name="L2271"></a>2271     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/11035.html" title="Multiple referred from 90 places.">changes</a>() <em class="brace">{</em>
<a id="L2272" name="L2272"></a>2272         <strong class="reserved">return</strong> <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>;
<a id="L2273" name="L2273"></a>2273     <em class="brace">}</em>
<a id="L2274" name="L2274"></a>2274 
<a id="L2275" name="L2275"></a>2275     <em class="comment">//  NodeListCache pool</em>
<a id="L2276" name="L2276"></a>2276 
<div class="comment">
      Returns a NodeListCache for the given node.</div>
<a id="L2280" name="L2280"></a>2280     <a href="../S/5472.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/dom/NodeListCache.java.">NodeListCache</a> <a href="../R/17983.html" title="Multiple referred from 2 places.">getNodeListCache</a>(<a href="../S/5474.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">ParentNode</a> <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>) <em class="brace">{</em>
<a id="L2281" name="L2281"></a>2281         <strong class="reserved">if</strong> (fFreeNLCache == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2282" name="L2282"></a>2282             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5472.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/dom/NodeListCache.java.">NodeListCache</a>(<a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>);
<a id="L2283" name="L2283"></a>2283         <em class="brace">}</em>
<a id="L2284" name="L2284"></a>2284         <a href="../S/5472.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/dom/NodeListCache.java.">NodeListCache</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = fFreeNLCache;
<a id="L2285" name="L2285"></a>2285         fFreeNLCache = fFreeNLCache.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L2286" name="L2286"></a>2286         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.fChild = <strong class="reserved">null</strong>;
<a id="L2287" name="L2287"></a>2287         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.fChildIndex = -1;
<a id="L2288" name="L2288"></a>2288         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.fLength = -1;
<a id="L2289" name="L2289"></a>2289         <em class="comment">// revoke previous ownership</em>
<a id="L2290" name="L2290"></a>2290         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.fOwner != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2291" name="L2291"></a>2291             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.fOwner.fNodeListCache = <strong class="reserved">null</strong>;
<a id="L2292" name="L2292"></a>2292         <em class="brace">}</em>
<a id="L2293" name="L2293"></a>2293         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.fOwner = <a href="../D/28636.html" title="Multiple defined in 2 places.">owner</a>;
<a id="L2294" name="L2294"></a>2294         <em class="comment">// c.next = null; not necessary, except for confused people...</em>
<a id="L2295" name="L2295"></a>2295         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L2296" name="L2296"></a>2296     <em class="brace">}</em>
<a id="L2297" name="L2297"></a>2297 
<div class="comment">
      Puts the given NodeListCache in the free list.
      Note: The owner node can keep using it until we reuse it</div>
<a id="L2302" name="L2302"></a>2302     <strong class="reserved">void</strong> <a href="../S/5474.html#L778" title="Referred from 778 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">freeNodeListCache</a>(<a href="../S/5472.html#L35" title="Defined at 35 in src/com/sun/org/apache/xerces/internal/dom/NodeListCache.java.">NodeListCache</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L2303" name="L2303"></a>2303         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = fFreeNLCache;
<a id="L2304" name="L2304"></a>2304         fFreeNLCache = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L2305" name="L2305"></a>2305     <em class="brace">}</em>
<a id="L2306" name="L2306"></a>2306 
<a id="L2307" name="L2307"></a>2307 
<a id="L2308" name="L2308"></a>2308 
<div class="comment">
      Associate an object to a key on this node. The object can later be
      retrieved from this node by calling <code>getUserData</code> with the
      same key.
      @param n The node to associate the object to.
      @param key The key to associate the object to.
      @param data The object to associate to the given key, or
        <code>null</code> to remove any existing association to that key.
      @param handler The handler to associate to that key, or
        <code>null</code>.
      @return Returns the <code>DOMObject</code> previously associated to
        the given key on this node, or <code>null</code> if there was none.
      @since DOM Level 3
      REVISIT: we could use a free list of UserDataRecord here</div>
<a id="L2325" name="L2325"></a>2325     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/28362.html" title="Multiple referred from 15 places.">setUserData</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L2326" name="L2326"></a>2326     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../S/21.html#L54" title="Defined at 54 in src/org/w3c/dom/UserDataHandler.java.">UserDataHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <em class="brace">{</em>
<a id="L2327" name="L2327"></a>2327         <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2328" name="L2328"></a>2328             <strong class="reserved">if</strong> (userData != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2329" name="L2329"></a>2329                 <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> t = (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) userData.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n);
<a id="L2330" name="L2330"></a>2330                 <strong class="reserved">if</strong> (t != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2331" name="L2331"></a>2331                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = t.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L2332" name="L2332"></a>2332                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2333" name="L2333"></a>2333                         <a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a> r = (<a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L2334" name="L2334"></a>2334                         <strong class="reserved">return</strong> r.fData;
<a id="L2335" name="L2335"></a>2335                     <em class="brace">}</em>
<a id="L2336" name="L2336"></a>2336                 <em class="brace">}</em>
<a id="L2337" name="L2337"></a>2337             <em class="brace">}</em>
<a id="L2338" name="L2338"></a>2338             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2339" name="L2339"></a>2339         <em class="brace">}</em>
<a id="L2340" name="L2340"></a>2340         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2341" name="L2341"></a>2341             <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> t;
<a id="L2342" name="L2342"></a>2342             <strong class="reserved">if</strong> (userData == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2343" name="L2343"></a>2343                 userData = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L2344" name="L2344"></a>2344                 t = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L2345" name="L2345"></a>2345                 userData.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(n, t);
<a id="L2346" name="L2346"></a>2346             <em class="brace">}</em>
<a id="L2347" name="L2347"></a>2347             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2348" name="L2348"></a>2348                 t = (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) userData.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n);
<a id="L2349" name="L2349"></a>2349                 <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2350" name="L2350"></a>2350                     t = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L2351" name="L2351"></a>2351                     userData.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(n, t);
<a id="L2352" name="L2352"></a>2352                 <em class="brace">}</em>
<a id="L2353" name="L2353"></a>2353             <em class="brace">}</em>
<a id="L2354" name="L2354"></a>2354             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = t.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">new</strong> <a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>));
<a id="L2355" name="L2355"></a>2355             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2356" name="L2356"></a>2356                 <a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a> r = (<a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L2357" name="L2357"></a>2357                 <strong class="reserved">return</strong> r.fData;
<a id="L2358" name="L2358"></a>2358             <em class="brace">}</em>
<a id="L2359" name="L2359"></a>2359             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2360" name="L2360"></a>2360         <em class="brace">}</em>
<a id="L2361" name="L2361"></a>2361     <em class="brace">}</em>
<a id="L2362" name="L2362"></a>2362 
<a id="L2363" name="L2363"></a>2363 
<div class="comment">
      Retrieves the object associated to a key on a this node. The object
      must first have been set to this node by calling
      <code>setUserData</code> with the same key.
      @param n The node the object is associated to.
      @param key The key the object is associated to.
      @return Returns the <code>DOMObject</code> associated to the given key
        on this node, or <code>null</code> if there was none.
      @since DOM Level 3</div>
<a id="L2374" name="L2374"></a>2374     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/19719.html" title="Multiple referred from 24 places.">getUserData</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L2375" name="L2375"></a>2375         <strong class="reserved">if</strong> (userData == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2376" name="L2376"></a>2376             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2377" name="L2377"></a>2377         <em class="brace">}</em>
<a id="L2378" name="L2378"></a>2378         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> t = (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) userData.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n);
<a id="L2379" name="L2379"></a>2379         <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2380" name="L2380"></a>2380             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2381" name="L2381"></a>2381         <em class="brace">}</em>
<a id="L2382" name="L2382"></a>2382         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = t.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L2383" name="L2383"></a>2383         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2384" name="L2384"></a>2384             <a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a> r = (<a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L2385" name="L2385"></a>2385             <strong class="reserved">return</strong> r.fData;
<a id="L2386" name="L2386"></a>2386         <em class="brace">}</em>
<a id="L2387" name="L2387"></a>2387         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2388" name="L2388"></a>2388     <em class="brace">}</em>
<a id="L2389" name="L2389"></a>2389 
<a id="L2390" name="L2390"></a>2390         <strong class="reserved">protected</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> <a href="../R/19720.html" title="Multiple referred from 7 places.">getUserDataRecord</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n)<em class="brace">{</em>
<a id="L2391" name="L2391"></a>2391         <strong class="reserved">if</strong> (userData == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2392" name="L2392"></a>2392             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2393" name="L2393"></a>2393         <em class="brace">}</em>
<a id="L2394" name="L2394"></a>2394         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> t = (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) userData.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n);
<a id="L2395" name="L2395"></a>2395         <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2396" name="L2396"></a>2396             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2397" name="L2397"></a>2397         <em class="brace">}</em>
<a id="L2398" name="L2398"></a>2398                 <strong class="reserved">return</strong> t;
<a id="L2399" name="L2399"></a>2399         <em class="brace">}</em>
<a id="L2400" name="L2400"></a>2400 
<div class="comment">
      Remove user data table for the given node.
      @param n The node this operation applies to.
      @return The removed table.</div>
<a id="L2406" name="L2406"></a>2406     <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> <a href="../R/26096.html" title="Multiple referred from 2 places.">removeUserDataTable</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n) <em class="brace">{</em>
<a id="L2407" name="L2407"></a>2407         <strong class="reserved">if</strong> (userData == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2408" name="L2408"></a>2408             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2409" name="L2409"></a>2409         <em class="brace">}</em>
<a id="L2410" name="L2410"></a>2410         <strong class="reserved">return</strong> (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) userData.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n);
<a id="L2411" name="L2411"></a>2411     <em class="brace">}</em>
<a id="L2412" name="L2412"></a>2412 
<div class="comment">
      Set user data table for the given node.
      @param n The node this operation applies to.
      @param data The user data table.</div>
<a id="L2418" name="L2418"></a>2418     <strong class="reserved">void</strong> <a href="../R/28363.html" title="Multiple referred from 6 places.">setUserDataTable</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n, <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L2419" name="L2419"></a>2419                 <strong class="reserved">if</strong> (userData == <strong class="reserved">null</strong>)
<a id="L2420" name="L2420"></a>2420                         userData = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L2421" name="L2421"></a>2421         <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2422" name="L2422"></a>2422             userData.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(n, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2423" name="L2423"></a>2423         <em class="brace">}</em>
<a id="L2424" name="L2424"></a>2424     <em class="brace">}</em>
<a id="L2425" name="L2425"></a>2425 
<div class="comment">
      Call user data handlers when a node is deleted (finalized)
      @param n The node this operation applies to.
      @param c The copy node or null.
      @param operation The operation - import, clone, or delete.</div>
<a id="L2432" name="L2432"></a>2432     <strong class="reserved">void</strong> <a href="../R/10859.html" title="Multiple referred from 13 places.">callUserDataHandlers</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">short</strong> <a href="../D/28537.html" title="Multiple defined in 8 places.">operation</a>) <em class="brace">{</em>
<a id="L2433" name="L2433"></a>2433         <strong class="reserved">if</strong> (userData == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2434" name="L2434"></a>2434             <strong class="reserved">return</strong>;
<a id="L2435" name="L2435"></a>2435         <em class="brace">}</em>
<a id="L2436" name="L2436"></a>2436         <em class="comment">//Hashtable t = (Hashtable) userData.get(n);</em>
<a id="L2437" name="L2437"></a>2437                 <strong class="reserved">if</strong>(n <strong class="reserved">instanceof</strong> <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)<em class="brace">{</em>
<a id="L2438" name="L2438"></a>2438                         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> t = ((<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a>)n).<a href="../D/23488.html" title="Multiple defined in 3 places.">getUserDataRecord</a>();
<a id="L2439" name="L2439"></a>2439                         <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong> || t.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L2440" name="L2440"></a>2440                                 <strong class="reserved">return</strong>;
<a id="L2441" name="L2441"></a>2441                         <em class="brace">}</em>
<a id="L2442" name="L2442"></a>2442                         <a href="../D/12115.html" title="Multiple defined in 2 places.">callUserDataHandlers</a>(n, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/28537.html" title="Multiple defined in 8 places.">operation</a>,t);
<a id="L2443" name="L2443"></a>2443                 <em class="brace">}</em>
<a id="L2444" name="L2444"></a>2444     <em class="brace">}</em>
<a id="L2445" name="L2445"></a>2445 
<div class="comment">
      Call user data handlers when a node is deleted (finalized)
      @param n The node this operation applies to.
      @param c The copy node or null.
      @param operation The operation - import, clone, or delete.
          @param handlers Data associated with n.</div>
<a id="L2453" name="L2453"></a>2453         <strong class="reserved">void</strong> <a href="../R/10859.html" title="Multiple referred from 13 places.">callUserDataHandlers</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">short</strong> <a href="../D/28537.html" title="Multiple defined in 8 places.">operation</a>,<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a> userData) <em class="brace">{</em>
<a id="L2454" name="L2454"></a>2454         <strong class="reserved">if</strong> (userData == <strong class="reserved">null</strong> || userData.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L2455" name="L2455"></a>2455             <strong class="reserved">return</strong>;
<a id="L2456" name="L2456"></a>2456         <em class="brace">}</em>
<a id="L2457" name="L2457"></a>2457         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = userData.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L2458" name="L2458"></a>2458         <strong class="reserved">while</strong> (<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L2459" name="L2459"></a>2459             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L2460" name="L2460"></a>2460             <a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a> r = (<a href="../S/5474.html#L1026" title="Defined at 1026 in src/com/sun/org/apache/xerces/internal/dom/ParentNode.java.">UserDataRecord</a>) userData.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L2461" name="L2461"></a>2461             <strong class="reserved">if</strong> (r.fHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2462" name="L2462"></a>2462                 r.fHandler.<a href="../D/23942.html" title="Multiple defined in 13 places.">handle</a>(<a href="../D/28537.html" title="Multiple defined in 8 places.">operation</a>, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, r.fData, n, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L2463" name="L2463"></a>2463             <em class="brace">}</em>
<a id="L2464" name="L2464"></a>2464         <em class="brace">}</em>
<a id="L2465" name="L2465"></a>2465     <em class="brace">}</em>
<a id="L2466" name="L2466"></a>2466 
<div class="comment">
      Call user data handlers to let them know the nodes they are related to
      are being deleted. The alternative would be to do that on Node but
      because the nodes are used as the keys we have a reference to them that
      prevents them from being gc'ed until the document is. At the same time,
      doing it here has the advantage of avoiding a finalize() method on Node,
      which would affect all nodes and not just the ones that have a user
      data.</div>
<a id="L2476" name="L2476"></a>2476     <em class="comment">// Temporarily comment out this method, because</em>
<a id="L2477" name="L2477"></a>2477     <em class="comment">// 1. It seems that finalizers are not guaranteed to be called, so the</em>
<a id="L2478" name="L2478"></a>2478     <em class="comment">//    functionality is not implemented.</em>
<a id="L2479" name="L2479"></a>2479     <em class="comment">// 2. It affects the performance greatly in multi-thread environment.</em>
<a id="L2480" name="L2480"></a>2480     <em class="comment">// -SG</em>
<div class="comment">
public void finalize() {
        if (userData == null) {
            return;
        }
        Enumeration nodes = userData.keys();
        while (nodes.hasMoreElements()) {
            Object node = nodes.nextElement();
            Hashtable t = (Hashtable) userData.get(node);
            if (t != null &amp;&amp; !t.isEmpty()) {
                Enumeration keys = t.keys();
                while (keys.hasMoreElements()) {
                    String key = (String) keys.nextElement();
                    UserDataRecord r = (UserDataRecord) t.get(key);
                    if (r.fHandler != null) {
                        r.fHandler.handle(UserDataHandler.NODE_DELETED,
                                          key, r.fData, null, null);
                    }
                }
            }
        }
    }</div>
<a id="L2502" name="L2502"></a>2502 
<a id="L2503" name="L2503"></a>2503     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/11255.html" title="Multiple referred from 2 places.">checkNamespaceWF</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> qname, <strong class="reserved">int</strong> colon1,
<a id="L2504" name="L2504"></a>2504     <strong class="reserved">int</strong> colon2) <em class="brace">{</em>
<a id="L2505" name="L2505"></a>2505 
<a id="L2506" name="L2506"></a>2506         <strong class="reserved">if</strong> (!errorChecking) <em class="brace">{</em>
<a id="L2507" name="L2507"></a>2507             <strong class="reserved">return</strong>;
<a id="L2508" name="L2508"></a>2508         <em class="brace">}</em>
<a id="L2509" name="L2509"></a>2509         <em class="comment">// it is an error for NCName to have more than one ':'</em>
<a id="L2510" name="L2510"></a>2510         <em class="comment">// check if it is valid QName [Namespace in XML production 6]</em>
<a id="L2511" name="L2511"></a>2511         <em class="comment">// :camera , nikon:camera:minolta, camera:</em>
<a id="L2512" name="L2512"></a>2512         <strong class="reserved">if</strong> (colon1 == 0 || colon1 == qname.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1 || colon2 != colon1) <em class="brace">{</em>
<a id="L2513" name="L2513"></a>2513             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L2514" name="L2514"></a>2514             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L2515" name="L2515"></a>2515             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L2516" name="L2516"></a>2516             "NAMESPACE_ERR",
<a id="L2517" name="L2517"></a>2517             <strong class="reserved">null</strong>);
<a id="L2518" name="L2518"></a>2518             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NAMESPACE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L2519" name="L2519"></a>2519         <em class="brace">}</em>
<a id="L2520" name="L2520"></a>2520     <em class="brace">}</em>
<a id="L2521" name="L2521"></a>2521     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/11136.html" title="Multiple referred from 2 places.">checkDOMNSErr</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>,
<a id="L2522" name="L2522"></a>2522     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>) <em class="brace">{</em>
<a id="L2523" name="L2523"></a>2523         <strong class="reserved">if</strong> (errorChecking) <em class="brace">{</em>
<a id="L2524" name="L2524"></a>2524             <strong class="reserved">if</strong> (<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2525" name="L2525"></a>2525                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L2526" name="L2526"></a>2526                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L2527" name="L2527"></a>2527                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L2528" name="L2528"></a>2528                 "NAMESPACE_ERR",
<a id="L2529" name="L2529"></a>2529                 <strong class="reserved">null</strong>);
<a id="L2530" name="L2530"></a>2530                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NAMESPACE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L2531" name="L2531"></a>2531             <em class="brace">}</em>
<a id="L2532" name="L2532"></a>2532             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xml")
<a id="L2533" name="L2533"></a>2533             &amp;&amp; !<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XML_URI)) <em class="brace">{</em>
<a id="L2534" name="L2534"></a>2534                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L2535" name="L2535"></a>2535                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L2536" name="L2536"></a>2536                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L2537" name="L2537"></a>2537                 "NAMESPACE_ERR",
<a id="L2538" name="L2538"></a>2538                 <strong class="reserved">null</strong>);
<a id="L2539" name="L2539"></a>2539                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NAMESPACE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L2540" name="L2540"></a>2540             <em class="brace">}</em>
<a id="L2541" name="L2541"></a>2541             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (
<a id="L2542" name="L2542"></a>2542             <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xmlns")
<a id="L2543" name="L2543"></a>2543             &amp;&amp; !<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XMLNS_URI)
<a id="L2544" name="L2544"></a>2544             || (!<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("xmlns")
<a id="L2545" name="L2545"></a>2545             &amp;&amp; <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/5973.html" title="Multiple defined in 2 places.">NamespaceContext</a>.XMLNS_URI))) <em class="brace">{</em>
<a id="L2546" name="L2546"></a>2546                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L2547" name="L2547"></a>2547                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L2548" name="L2548"></a>2548                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L2549" name="L2549"></a>2549                 "NAMESPACE_ERR",
<a id="L2550" name="L2550"></a>2550                 <strong class="reserved">null</strong>);
<a id="L2551" name="L2551"></a>2551                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.NAMESPACE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L2552" name="L2552"></a>2552             <em class="brace">}</em>
<a id="L2553" name="L2553"></a>2553         <em class="brace">}</em>
<a id="L2554" name="L2554"></a>2554     <em class="brace">}</em>
<a id="L2555" name="L2555"></a>2555 
<div class="comment">
      Checks if the given qualified name is legal with respect
      to the version of XML to which this document must conform.
      @param prefix prefix of qualified name
      @param local local part of qualified name</div>
<a id="L2563" name="L2563"></a>2563     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/11312.html" title="Multiple referred from 6 places.">checkQName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> local) <em class="brace">{</em>
<a id="L2564" name="L2564"></a>2564         <strong class="reserved">if</strong> (!errorChecking) <em class="brace">{</em>
<a id="L2565" name="L2565"></a>2565             <strong class="reserved">return</strong>;
<a id="L2566" name="L2566"></a>2566         <em class="brace">}</em>
<a id="L2567" name="L2567"></a>2567 
<a id="L2568" name="L2568"></a>2568                 <em class="comment">// check that both prefix and local part match NCName</em>
<a id="L2569" name="L2569"></a>2569         <strong class="reserved">boolean</strong> validNCName = <strong class="reserved">false</strong>;
<a id="L2570" name="L2570"></a>2570         <strong class="reserved">if</strong> (!xml11Version) <em class="brace">{</em>
<a id="L2571" name="L2571"></a>2571             validNCName = (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <strong class="reserved">null</strong> || <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26449.html" title="Multiple defined in 5 places.">isValidNCName</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>))
<a id="L2572" name="L2572"></a>2572                 &amp;&amp; <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26449.html" title="Multiple defined in 5 places.">isValidNCName</a>(local);
<a id="L2573" name="L2573"></a>2573         <em class="brace">}</em>
<a id="L2574" name="L2574"></a>2574         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2575" name="L2575"></a>2575             validNCName = (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <strong class="reserved">null</strong> || <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26538.html" title="Multiple defined in 2 places.">isXML11ValidNCName</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>))
<a id="L2576" name="L2576"></a>2576                 &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26538.html" title="Multiple defined in 2 places.">isXML11ValidNCName</a>(local);
<a id="L2577" name="L2577"></a>2577         <em class="brace">}</em>
<a id="L2578" name="L2578"></a>2578 
<a id="L2579" name="L2579"></a>2579         <strong class="reserved">if</strong> (!validNCName) <em class="brace">{</em>
<a id="L2580" name="L2580"></a>2580             <em class="comment">// REVISIT: add qname parameter to the message</em>
<a id="L2581" name="L2581"></a>2581             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L2582" name="L2582"></a>2582             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L2583" name="L2583"></a>2583             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.DOM_DOMAIN,
<a id="L2584" name="L2584"></a>2584             "INVALID_CHARACTER_ERR",
<a id="L2585" name="L2585"></a>2585             <strong class="reserved">null</strong>);
<a id="L2586" name="L2586"></a>2586             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>(<a href="../S/55.html#L62" title="Defined at 62 in src/org/w3c/dom/DOMException.java.">DOMException</a>.INVALID_CHARACTER_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L2587" name="L2587"></a>2587         <em class="brace">}</em>
<a id="L2588" name="L2588"></a>2588     <em class="brace">}</em>
<a id="L2589" name="L2589"></a>2589 
<div class="comment">
      We could have more xml versions in future , but for now we could
      do with this to handle XML 1.0 and 1.1</div>
<a id="L2594" name="L2594"></a>2594     <strong class="reserved">boolean</strong> <a href="../R/22270.html" title="Multiple referred from 21 places.">isXML11Version</a>()<em class="brace">{</em>
<a id="L2595" name="L2595"></a>2595         <strong class="reserved">return</strong> xml11Version;
<a id="L2596" name="L2596"></a>2596     <em class="brace">}</em>
<a id="L2597" name="L2597"></a>2597 
<a id="L2598" name="L2598"></a>2598     <strong class="reserved">boolean</strong> <a href="../S/5445.html#L1140" title="Referred from 1140 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">isNormalizeDocRequired</a>()<em class="brace">{</em>
<a id="L2599" name="L2599"></a>2599         <em class="comment">// REVISIT: Implement to optimize when normalization</em>
<a id="L2600" name="L2600"></a>2600         <em class="comment">// is required</em>
<a id="L2601" name="L2601"></a>2601         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2602" name="L2602"></a>2602     <em class="brace">}</em>
<a id="L2603" name="L2603"></a>2603 
<a id="L2604" name="L2604"></a>2604     <em class="comment">//we should be checking the (elements, attribute, entity etc.) names only when</em>
<a id="L2605" name="L2605"></a>2605     <em class="comment">//version of the document is changed.</em>
<a id="L2606" name="L2606"></a>2606     <strong class="reserved">boolean</strong> <a href="../R/22273.html" title="Multiple referred from 5 places.">isXMLVersionChanged</a>()<em class="brace">{</em>
<a id="L2607" name="L2607"></a>2607         <strong class="reserved">return</strong> xmlVersionChanged ;
<a id="L2608" name="L2608"></a>2608     <em class="brace">}</em>
<div class="comment">
      NON-DOM: kept for backward compatibility
      Store user data related to a given node
      This is a place where we could use weak references! Indeed, the node
      here won't be GC'ed as long as some user data is attached to it, since
      the userData table will have a reference to the node.</div>
<a id="L2616" name="L2616"></a>2616     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/28362.html" title="Multiple referred from 15 places.">setUserData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> n, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L2617" name="L2617"></a>2617         <a href="../D/34247.html" title="Multiple defined in 16 places.">setUserData</a>(n, "XERCES1DOMUSERDATA", <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">null</strong>);
<a id="L2618" name="L2618"></a>2618     <em class="brace">}</em>
<a id="L2619" name="L2619"></a>2619 
<div class="comment">
      NON-DOM: kept for backward compatibility
      Retreive user data related to a given node</div>
<a id="L2624" name="L2624"></a>2624     <strong class="reserved">protected</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/19719.html" title="Multiple referred from 24 places.">getUserData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> n) <em class="brace">{</em>
<a id="L2625" name="L2625"></a>2625         <strong class="reserved">return</strong> <a href="../D/23486.html" title="Multiple defined in 18 places.">getUserData</a>(n, "XERCES1DOMUSERDATA");
<a id="L2626" name="L2626"></a>2626     <em class="brace">}</em>
<a id="L2627" name="L2627"></a>2627 
<a id="L2628" name="L2628"></a>2628 
<a id="L2629" name="L2629"></a>2629     <em class="comment">// Event related methods overidden in subclass</em>
<a id="L2630" name="L2630"></a>2630 
<a id="L2631" name="L2631"></a>2631     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/9721.html" title="Multiple referred from 3 places.">addEventListener</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L2632" name="L2632"></a>2632     <a href="../D/2994.html" title="Multiple defined in 2 places.">EventListener</a> listener,
<a id="L2633" name="L2633"></a>2633     <strong class="reserved">boolean</strong> useCapture) <em class="brace">{</em>
<a id="L2634" name="L2634"></a>2634         <em class="comment">// does nothing by default - overidden in subclass</em>
<a id="L2635" name="L2635"></a>2635     <em class="brace">}</em>
<a id="L2636" name="L2636"></a>2636 
<a id="L2637" name="L2637"></a>2637     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25961.html" title="Multiple referred from 5 places.">removeEventListener</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L2638" name="L2638"></a>2638     <a href="../D/2994.html" title="Multiple defined in 2 places.">EventListener</a> listener,
<a id="L2639" name="L2639"></a>2639     <strong class="reserved">boolean</strong> useCapture) <em class="brace">{</em>
<a id="L2640" name="L2640"></a>2640         <em class="comment">// does nothing by default - overidden in subclass</em>
<a id="L2641" name="L2641"></a>2641     <em class="brace">}</em>
<a id="L2642" name="L2642"></a>2642 
<a id="L2643" name="L2643"></a>2643     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/12101.html" title="Multiple referred from 2 places.">copyEventListeners</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> src, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> tgt) <em class="brace">{</em>
<a id="L2644" name="L2644"></a>2644         <em class="comment">// does nothing by default - overidden in subclass</em>
<a id="L2645" name="L2645"></a>2645     <em class="brace">}</em>
<a id="L2646" name="L2646"></a>2646 
<a id="L2647" name="L2647"></a>2647     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/13320.html" title="Multiple referred from 46 places.">dispatchEvent</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/2985.html" title="Multiple defined in 3 places.">Event</a> event) <em class="brace">{</em>
<a id="L2648" name="L2648"></a>2648         <em class="comment">// does nothing by default - overidden in subclass</em>
<a id="L2649" name="L2649"></a>2649         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2650" name="L2650"></a>2650     <em class="brace">}</em>
<a id="L2651" name="L2651"></a>2651 
<a id="L2652" name="L2652"></a>2652     <em class="comment">// Notification methods overidden in subclasses</em>
<a id="L2653" name="L2653"></a>2653 
<div class="comment">
      A method to be called when some text was changed in a text node,
      so that live objects can be notified.</div>
<a id="L2658" name="L2658"></a>2658     <strong class="reserved">void</strong> <a href="../S/5471.html#L146" title="Referred from 146 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">replacedText</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L2659" name="L2659"></a>2659     <em class="brace">}</em>
<a id="L2660" name="L2660"></a>2660 
<div class="comment">
      A method to be called when some text was deleted from a text node,
      so that live objects can be notified.</div>
<a id="L2665" name="L2665"></a>2665     <strong class="reserved">void</strong> <a href="../S/5471.html#L255" title="Referred from 255 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">deletedText</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L2666" name="L2666"></a>2666     <em class="brace">}</em>
<a id="L2667" name="L2667"></a>2667 
<div class="comment">
      A method to be called when some text was inserted into a text node,
      so that live objects can be notified.</div>
<a id="L2672" name="L2672"></a>2672     <strong class="reserved">void</strong> <a href="../S/5471.html#L308" title="Referred from 308 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">insertedText</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L2673" name="L2673"></a>2673     <em class="brace">}</em>
<a id="L2674" name="L2674"></a>2674 
<div class="comment">
      A method to be called when a character data node is about to be modified</div>
<a id="L2678" name="L2678"></a>2678     <strong class="reserved">void</strong> <a href="../S/5471.html#L129" title="Referred from 129 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">modifyingCharacterData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L2679" name="L2679"></a>2679     <em class="brace">}</em>
<a id="L2680" name="L2680"></a>2680 
<div class="comment">
      A method to be called when a character data node has been modified</div>
<a id="L2684" name="L2684"></a>2684     <strong class="reserved">void</strong> <a href="../R/23334.html" title="Multiple referred from 2 places.">modifiedCharacterData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L2685" name="L2685"></a>2685     <em class="brace">}</em>
<a id="L2686" name="L2686"></a>2686 
<div class="comment">
      A method to be called when a node is about to be inserted in the tree.</div>
<a id="L2690" name="L2690"></a>2690     <strong class="reserved">void</strong> <a href="../R/20827.html" title="Multiple referred from 2 places.">insertingNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L2691" name="L2691"></a>2691     <em class="brace">}</em>
<a id="L2692" name="L2692"></a>2692 
<div class="comment">
      A method to be called when a node has been inserted in the tree.</div>
<a id="L2696" name="L2696"></a>2696     <strong class="reserved">void</strong> <a href="../R/20824.html" title="Multiple referred from 2 places.">insertedNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> newInternal, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L2697" name="L2697"></a>2697     <em class="brace">}</em>
<a id="L2698" name="L2698"></a>2698 
<div class="comment">
      A method to be called when a node is about to be removed from the tree.</div>
<a id="L2702" name="L2702"></a>2702     <strong class="reserved">void</strong> <a href="../R/26108.html" title="Multiple referred from 2 places.">removingNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> oldChild, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L2703" name="L2703"></a>2703     <em class="brace">}</em>
<a id="L2704" name="L2704"></a>2704 
<div class="comment">
      A method to be called when a node has been removed from the tree.</div>
<a id="L2708" name="L2708"></a>2708     <strong class="reserved">void</strong> <a href="../R/26107.html" title="Multiple referred from 7 places.">removedNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L2709" name="L2709"></a>2709     <em class="brace">}</em>
<a id="L2710" name="L2710"></a>2710 
<div class="comment">
      A method to be called when a node is about to be replaced in the tree.</div>
<a id="L2714" name="L2714"></a>2714     <strong class="reserved">void</strong> <a href="../R/26178.html" title="Multiple referred from 2 places.">replacingNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L2715" name="L2715"></a>2715     <em class="brace">}</em>
<a id="L2716" name="L2716"></a>2716 
<div class="comment">
      A method to be called when a node has been replaced in the tree.</div>
<a id="L2720" name="L2720"></a>2720     <strong class="reserved">void</strong> <a href="../R/26172.html" title="Multiple referred from 2 places.">replacedNode</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L2721" name="L2721"></a>2721     <em class="brace">}</em>
<a id="L2722" name="L2722"></a>2722 
<div class="comment">
      A method to be called when a character data node is about to be replaced</div>
<a id="L2726" name="L2726"></a>2726     <strong class="reserved">void</strong> <a href="../S/5471.html#L364" title="Referred from 364 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">replacingData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L2727" name="L2727"></a>2727     <em class="brace">}</em>
<a id="L2728" name="L2728"></a>2728 
<div class="comment">
       method to be called when a character data node has been replaced.</div>
<a id="L2732" name="L2732"></a>2732     <strong class="reserved">void</strong> <a href="../S/5471.html#L372" title="Referred from 372 in src/com/sun/org/apache/xerces/internal/dom/CharacterDataImpl.java.">replacedCharacterData</a>(<a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2733" name="L2733"></a>2733     <em class="brace">}</em>
<a id="L2734" name="L2734"></a>2734 
<a id="L2735" name="L2735"></a>2735 
<div class="comment">
      A method to be called when an attribute value has been modified</div>
<a id="L2739" name="L2739"></a>2739     <strong class="reserved">void</strong> <a href="../S/5449.html#L423" title="Referred from 423 in src/com/sun/org/apache/xerces/internal/dom/AttrImpl.java.">modifiedAttrValue</a>(<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldvalue) <em class="brace">{</em>
<a id="L2740" name="L2740"></a>2740     <em class="brace">}</em>
<a id="L2741" name="L2741"></a>2741 
<div class="comment">
      A method to be called when an attribute node has been set</div>
<a id="L2745" name="L2745"></a>2745     <strong class="reserved">void</strong> <a href="../R/26917.html" title="Multiple referred from 3 places.">setAttrNode</a>(<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/29600.html" title="Multiple defined in 22 places.">previous</a>) <em class="brace">{</em>
<a id="L2746" name="L2746"></a>2746     <em class="brace">}</em>
<a id="L2747" name="L2747"></a>2747 
<div class="comment">
      A method to be called when an attribute node has been removed</div>
<a id="L2751" name="L2751"></a>2751     <strong class="reserved">void</strong> <a href="../R/26106.html" title="Multiple referred from 2 places.">removedAttrNode</a>(<a href="../D/564.html" title="Multiple defined in 2 places.">AttrImpl</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/6088.html" title="Multiple defined in 3 places.">NodeImpl</a> oldOwner, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L2752" name="L2752"></a>2752     <em class="brace">}</em>
<a id="L2753" name="L2753"></a>2753 
<div class="comment">
      A method to be called when an attribute node has been renamed</div>
<a id="L2757" name="L2757"></a>2757     <strong class="reserved">void</strong> <a href="../S/5445.html#L1121" title="Referred from 1121 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">renamedAttrNode</a>(<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> oldAt, <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> newAt) <em class="brace">{</em>
<a id="L2758" name="L2758"></a>2758     <em class="brace">}</em>
<a id="L2759" name="L2759"></a>2759 
<div class="comment">
      A method to be called when an element has been renamed</div>
<a id="L2763" name="L2763"></a>2763     <strong class="reserved">void</strong> <a href="../S/5445.html#L1057" title="Referred from 1057 in src/com/sun/org/apache/xerces/internal/dom/CoreDocumentImpl.java.">renamedElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> oldEl, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> newEl) <em class="brace">{</em>
<a id="L2764" name="L2764"></a>2764     <em class="brace">}</em>
<a id="L2765" name="L2765"></a>2765 
<a id="L2766" name="L2766"></a>2766 <em class="brace">}</em> <em class="comment">// class CoreDocumentImpl</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L301">[^]</a><a href="#L2763">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>