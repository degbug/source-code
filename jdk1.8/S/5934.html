<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/resolver/Resolver.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L89">[^]</a><a href="#L603">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L89" title="Defined at 89.">setupReaders</a></li>
<li><a href="#L120" title="Defined at 120.">addEntry</a></li>
<li><a href="#L162" title="Defined at 162.">resolveURI</a></li>
<li><a href="#L219" title="Defined at 219.">resolveSystem</a></li>
<li><a href="#L281" title="Defined at 281.">resolvePublic</a></li>
<li><a href="#L321" title="Defined at 321.">resolveExternalSystem</a></li>
<li><a href="#L339" title="Defined at 339.">resolveExternalPublic</a></li>
<li><a href="#L359" title="Defined at 359.">queryResolver</a></li>
<li><a href="#L412" title="Defined at 412.">appendVector</a></li>
<li><a href="#L428" title="Defined at 428.">resolveAllSystemReverse</a></li>
<li><a href="#L454" title="Defined at 454.">resolveSystemReverse</a></li>
<li><a href="#L491" title="Defined at 491.">resolveAllSystem</a></li>
<li><a href="#L526" title="Defined at 526.">resolveAllLocalSystem</a></li>
<li><a href="#L554" title="Defined at 554.">resolveLocalSystemReverse</a></li>
<li><a href="#L603" title="Defined at 603.">resolveAllSubordinateCatalogs</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L5" name="L5"></a>   5 <em class="comment">// Resolver.java - Represents an extension of OASIS Open Catalog files.</em>
<a id="L6" name="L6"></a>   6 
<div class="comment">
  Copyright 2001-2004 The Apache Software Foundation or its licensors,
  as applicable.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L23" name="L23"></a>  23 
<a id="L24" name="L24"></a>  24 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.resolver;
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.IOException;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.FileNotFoundException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Vector;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.net.URL;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.net.URLConnection;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.net.MalformedURLException;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.xml.parsers.SAXParserFactory;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.utils.SecuritySupport;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.readers.SAXCatalogReader;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.readers.OASISXMLCatalogReader;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.resolver.readers.TR9401CatalogReader;
<a id="L40" name="L40"></a>  40 
<div class="comment">
  An extension to OASIS Open Catalog files, this class supports
  suffix-based matching and an external RFC2483 resolver.
  @see Catalog
  @author Norman Walsh
  <a href="mailto:Norman.Walsh@Sun.COM">Norman.Walsh@Sun.COM</a>
  @version 1.0</div>
<a id="L52" name="L52"></a>  52 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/6675.html" title="Multiple referred from 72 places.">Resolver</a> <strong class="reserved">extends</strong> <a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a> <em class="brace">{</em>
<div class="comment">
    The URISUFFIX Catalog Entry type.
    <p>URI suffix entries match URIs that end in a specified suffix.</p></div>
<a id="L58" name="L58"></a>  58   <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> URISUFFIX = <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>.<a href="../S/5935.html#L80" title="Defined at 80 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">addEntryType</a>("URISUFFIX", 2);
<a id="L59" name="L59"></a>  59 
<div class="comment">
    The SYSTEMSUFFIX Catalog Entry type.
    <p>System suffix entries match system identifiers that end in a
    specified suffix.</p></div>
<a id="L66" name="L66"></a>  66   <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SYSTEMSUFFIX = <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>.<a href="../S/5935.html#L80" title="Defined at 80 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">addEntryType</a>("SYSTEMSUFFIX", 2);
<a id="L67" name="L67"></a>  67 
<div class="comment">
    The RESOLVER Catalog Entry type.
    <p>A hook for providing support for web-based backup resolvers.</p></div>
<a id="L73" name="L73"></a>  73   <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> RESOLVER = <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>.<a href="../S/5935.html#L80" title="Defined at 80 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">addEntryType</a>("RESOLVER", 1);
<a id="L74" name="L74"></a>  74 
<div class="comment">
    The SYSTEMREVERSE Catalog Entry type.
    <p>This is a bit of a hack. There's no actual SYSTEMREVERSE entry,
    but this entry type is used to indicate that a reverse lookup is
    being performed. (This allows the Resolver to implement
    RFC2483 I2N and I2NS.)</p></div>
<a id="L83" name="L83"></a>  83   <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SYSTEMREVERSE
<a id="L84" name="L84"></a>  84     = <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>.<a href="../S/5935.html#L80" title="Defined at 80 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">addEntryType</a>("SYSTEMREVERSE", 1);
<a id="L85" name="L85"></a>  85 
<div class="comment">
    Setup readers.</div>
<a id="L89" name="L89"></a>  89   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5933.html#L702" title="Referred from 702 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">setupReaders</a>() <em class="brace">{</em>
<a id="L90" name="L90"></a>  90     <a href="../S/3844.html#L43" title="Defined at 43 in src/javax/xml/parsers/SAXParserFactory.java.">SAXParserFactory</a> spf = catalogManager.<a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a>() ?
<a id="L91" name="L91"></a>  91                     <a href="../S/3844.html#L43" title="Defined at 43 in src/javax/xml/parsers/SAXParserFactory.java.">SAXParserFactory</a>.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>() : <strong class="reserved">new</strong> <a href="../S/5399.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/jaxp/SAXParserFactoryImpl.java.">SAXParserFactoryImpl</a>();
<a id="L92" name="L92"></a>  92     spf.<a href="../D/33323.html" title="Multiple defined in 3 places.">setNamespaceAware</a>(<strong class="reserved">true</strong>);
<a id="L93" name="L93"></a>  93     spf.<a href="../D/34262.html" title="Multiple defined in 5 places.">setValidating</a>(<strong class="reserved">false</strong>);
<a id="L94" name="L94"></a>  94 
<a id="L95" name="L95"></a>  95     <a href="../S/5939.html#L79" title="Defined at 79 in src/com/sun/org/apache/xml/internal/resolver/readers/SAXCatalogReader.java.">SAXCatalogReader</a> saxReader = <strong class="reserved">new</strong> <a href="../S/5939.html#L79" title="Defined at 79 in src/com/sun/org/apache/xml/internal/resolver/readers/SAXCatalogReader.java.">SAXCatalogReader</a>(spf);
<a id="L96" name="L96"></a>  96 
<a id="L97" name="L97"></a>  97     saxReader.<a href="../D/32106.html" title="Multiple defined in 2 places.">setCatalogParser</a>(<strong class="reserved">null</strong>, "XMLCatalog",
<a id="L98" name="L98"></a>  98                                "com.sun.org.apache.xml.internal.resolver.readers.XCatalogReader");
<a id="L99" name="L99"></a>  99 
<a id="L100" name="L100"></a> 100     saxReader.<a href="../D/32106.html" title="Multiple defined in 2 places.">setCatalogParser</a>(<a href="../S/5938.html#L47" title="Defined at 47 in src/com/sun/org/apache/xml/internal/resolver/readers/OASISXMLCatalogReader.java.">OASISXMLCatalogReader</a>.namespaceName,
<a id="L101" name="L101"></a> 101                                "catalog",
<a id="L102" name="L102"></a> 102                                "com.sun.org.apache.xml.internal.resolver.readers.ExtendedXMLCatalogReader");
<a id="L103" name="L103"></a> 103 
<a id="L104" name="L104"></a> 104     <a href="../S/5932.html#L444" title="Defined at 444 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">addReader</a>("application/xml", saxReader);
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106     <a href="../S/5941.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/readers/TR9401CatalogReader.java.">TR9401CatalogReader</a> textReader = <strong class="reserved">new</strong> <a href="../S/5941.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/readers/TR9401CatalogReader.java.">TR9401CatalogReader</a>();
<a id="L107" name="L107"></a> 107     <a href="../S/5932.html#L444" title="Defined at 444 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">addReader</a>("text/plain", textReader);
<a id="L108" name="L108"></a> 108   <em class="brace">}</em>
<a id="L109" name="L109"></a> 109 
<div class="comment">
    Cleanup and process a Catalog entry.
    <p>This method processes each Catalog entry, changing mapped
    relative system identifiers into absolute ones (based on the current
    base URI), and maintaining other information about the current
    catalog.</p>
    @param entry The CatalogEntry to process.</div>
<a id="L120" name="L120"></a> 120   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9713.html" title="Multiple referred from 25 places.">addEntry</a>(<a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a> entry) <em class="brace">{</em>
<a id="L121" name="L121"></a> 121     <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = entry.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>();
<a id="L122" name="L122"></a> 122 
<a id="L123" name="L123"></a> 123     <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == URISUFFIX) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> suffix = <a href="../S/5932.html#L2122" title="Defined at 2122 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">normalizeURI</a>(entry.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0));
<a id="L125" name="L125"></a> 125       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fsi = <a href="../D/27199.html" title="Multiple defined in 3 places.">makeAbsolute</a>(<a href="../S/5932.html#L2122" title="Defined at 2122 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">normalizeURI</a>(entry.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(1)));
<a id="L126" name="L126"></a> 126 
<a id="L127" name="L127"></a> 127       entry.<a href="../S/5935.html#L248" title="Defined at 248 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">setEntryArg</a>(1, fsi);
<a id="L128" name="L128"></a> 128 
<a id="L129" name="L129"></a> 129       catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(4, "URISUFFIX", suffix, fsi);
<a id="L130" name="L130"></a> 130     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == SYSTEMSUFFIX) <em class="brace">{</em>
<a id="L131" name="L131"></a> 131       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> suffix = <a href="../S/5932.html#L2122" title="Defined at 2122 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">normalizeURI</a>(entry.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0));
<a id="L132" name="L132"></a> 132       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fsi = <a href="../D/27199.html" title="Multiple defined in 3 places.">makeAbsolute</a>(<a href="../S/5932.html#L2122" title="Defined at 2122 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">normalizeURI</a>(entry.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(1)));
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134       entry.<a href="../S/5935.html#L248" title="Defined at 248 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">setEntryArg</a>(1, fsi);
<a id="L135" name="L135"></a> 135 
<a id="L136" name="L136"></a> 136       catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(4, "SYSTEMSUFFIX", suffix, fsi);
<a id="L137" name="L137"></a> 137     <em class="brace">}</em>
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139     <strong class="reserved">super</strong>.<a href="../D/10783.html" title="Multiple defined in 9 places.">addEntry</a>(entry);
<a id="L140" name="L140"></a> 140   <em class="brace">}</em>
<a id="L141" name="L141"></a> 141 
<div class="comment">
    Return the applicable URI.
    <p>If a URI entry exists in the Catalog
    for the URI specified, return the mapped value.</p>
    <p>In the Resolver (as opposed to the Catalog) class, if the
    URI isn't found by the usual algorithm, URISUFFIX entries are
    considered.</p>
    <p>URI comparison is case sensitive.</p>
    @param uri The URI to locate in the catalog.
    @return The resolved URI.
    @throws MalformedURLException The system identifier of a
    subordinate catalog cannot be turned into a valid URL.
    @throws IOException Error reading subordinate catalog file.</div>
<a id="L162" name="L162"></a> 162   <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26392.html" title="Multiple referred from 8 places.">resolveURI</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri)
<a id="L163" name="L163"></a> 163     <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L164" name="L164"></a> 164 
<a id="L165" name="L165"></a> 165     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolved = <strong class="reserved">super</strong>.<a href="../D/31316.html" title="Multiple defined in 4 places.">resolveURI</a>(uri);
<a id="L166" name="L166"></a> 166     <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167       <strong class="reserved">return</strong> resolved;
<a id="L168" name="L168"></a> 168     <em class="brace">}</em>
<a id="L169" name="L169"></a> 169 
<a id="L170" name="L170"></a> 170     <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> en = catalogEntries.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L171" name="L171"></a> 171     <strong class="reserved">while</strong> (en.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L172" name="L172"></a> 172       <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a> e = (<a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>) en.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L173" name="L173"></a> 173       <strong class="reserved">if</strong> (e.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>() == RESOLVER) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174         resolved = <a href="../S/5934.html#L321" title="Defined at 321 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveExternalSystem</a>(uri, e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0));
<a id="L175" name="L175"></a> 175         <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176           <strong class="reserved">return</strong> resolved;
<a id="L177" name="L177"></a> 177         <em class="brace">}</em>
<a id="L178" name="L178"></a> 178       <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (e.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>() == URISUFFIX) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> suffix = e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0);
<a id="L180" name="L180"></a> 180         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(1);
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182         <strong class="reserved">if</strong> (suffix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &lt;= uri.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()
<a id="L183" name="L183"></a> 183             &amp;&amp; uri.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(uri.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-suffix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(suffix)) <em class="brace">{</em>
<a id="L184" name="L184"></a> 184           <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L185" name="L185"></a> 185         <em class="brace">}</em>
<a id="L186" name="L186"></a> 186       <em class="brace">}</em>
<a id="L187" name="L187"></a> 187     <em class="brace">}</em>
<a id="L188" name="L188"></a> 188 
<a id="L189" name="L189"></a> 189     <em class="comment">// Otherwise, look in the subordinate catalogs</em>
<a id="L190" name="L190"></a> 190     <strong class="reserved">return</strong> <a href="../S/5932.html#L2014" title="Defined at 2014 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">resolveSubordinateCatalogs</a>(<a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a>.<a href="../D/9247.html" title="Multiple defined in 4 places.">URI</a>,
<a id="L191" name="L191"></a> 191                                       <strong class="reserved">null</strong>,
<a id="L192" name="L192"></a> 192                                       <strong class="reserved">null</strong>,
<a id="L193" name="L193"></a> 193                                       uri);
<a id="L194" name="L194"></a> 194   <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<div class="comment">
    Return the applicable SYSTEM system identifier, resorting
    to external RESOLVERs if necessary.
    <p>If a SYSTEM entry exists in the Catalog
    for the system ID specified, return the mapped value.</p>
    <p>In the Resolver (as opposed to the Catalog) class, if the
    URI isn't found by the usual algorithm, SYSTEMSUFFIX entries are
    considered.</p>
    <p>On Windows-based operating systems, the comparison between
    the system identifier provided and the SYSTEM entries in the
    Catalog is case-insensitive.</p>
    @param systemId The system ID to locate in the catalog.
    @return The system identifier to use for systemId.
    @throws MalformedURLException The formal system identifier of a
    subordinate catalog cannot be turned into a valid URL.
    @throws IOException Error reading subordinate catalog file.</div>
<a id="L219" name="L219"></a> 219   <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26385.html" title="Multiple referred from 10 places.">resolveSystem</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L220" name="L220"></a> 220     <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L221" name="L221"></a> 221 
<a id="L222" name="L222"></a> 222     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolved = <strong class="reserved">super</strong>.<a href="../D/31308.html" title="Multiple defined in 3 places.">resolveSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L223" name="L223"></a> 223     <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L224" name="L224"></a> 224       <strong class="reserved">return</strong> resolved;
<a id="L225" name="L225"></a> 225     <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<a id="L227" name="L227"></a> 227     <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> en = catalogEntries.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L228" name="L228"></a> 228     <strong class="reserved">while</strong> (en.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229       <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a> e = (<a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>) en.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L230" name="L230"></a> 230       <strong class="reserved">if</strong> (e.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>() == RESOLVER) <em class="brace">{</em>
<a id="L231" name="L231"></a> 231         resolved = <a href="../S/5934.html#L321" title="Defined at 321 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveExternalSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0));
<a id="L232" name="L232"></a> 232         <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233           <strong class="reserved">return</strong> resolved;
<a id="L234" name="L234"></a> 234         <em class="brace">}</em>
<a id="L235" name="L235"></a> 235       <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (e.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>() == SYSTEMSUFFIX) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> suffix = e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0);
<a id="L237" name="L237"></a> 237         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(1);
<a id="L238" name="L238"></a> 238 
<a id="L239" name="L239"></a> 239         <strong class="reserved">if</strong> (suffix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &lt;= <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()
<a id="L240" name="L240"></a> 240             &amp;&amp; <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-suffix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(suffix)) <em class="brace">{</em>
<a id="L241" name="L241"></a> 241           <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L242" name="L242"></a> 242         <em class="brace">}</em>
<a id="L243" name="L243"></a> 243       <em class="brace">}</em>
<a id="L244" name="L244"></a> 244     <em class="brace">}</em>
<a id="L245" name="L245"></a> 245 
<a id="L246" name="L246"></a> 246     <strong class="reserved">return</strong> <a href="../S/5932.html#L2014" title="Defined at 2014 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">resolveSubordinateCatalogs</a>(<a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a>.SYSTEM,
<a id="L247" name="L247"></a> 247                                       <strong class="reserved">null</strong>,
<a id="L248" name="L248"></a> 248                                       <strong class="reserved">null</strong>,
<a id="L249" name="L249"></a> 249                                       <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L250" name="L250"></a> 250   <em class="brace">}</em>
<a id="L251" name="L251"></a> 251 
<div class="comment">
    Return the applicable PUBLIC or SYSTEM identifier, resorting
    to external resolvers if necessary.
    <p>This method searches the Catalog and returns the system
    identifier specified for the given system or
    public identifiers. If
    no appropriate PUBLIC or SYSTEM entry is found in the Catalog,
    null is returned.</p>
    <p>Note that a system or public identifier in the current catalog
    (or subordinate catalogs) will be used in preference to an
    external resolver. Further, if a systemId is present, the external
    resolver(s) will be queried for that before the publicId.</p>
    @param publicId The public identifier to locate in the catalog.
    Public identifiers are normalized before comparison.
    @param systemId The nominal system identifier for the entity
    in question (as provided in the source document).
    @throws MalformedURLException The formal system identifier of a
    subordinate catalog cannot be turned into a valid URL.
    @throws IOException Error reading subordinate catalog file.
    @return The system identifier to use.
    Note that the nominal system identifier is not returned if a
    match is not found in the catalog, instead null is returned
    to indicate that no match was found.</div>
<a id="L281" name="L281"></a> 281   <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26377.html" title="Multiple referred from 13 places.">resolvePublic</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L282" name="L282"></a> 282     <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolved = <strong class="reserved">super</strong>.<a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L285" name="L285"></a> 285     <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286       <strong class="reserved">return</strong> resolved;
<a id="L287" name="L287"></a> 287     <em class="brace">}</em>
<a id="L288" name="L288"></a> 288 
<a id="L289" name="L289"></a> 289     <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> en = catalogEntries.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L290" name="L290"></a> 290     <strong class="reserved">while</strong> (en.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291       <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a> e = (<a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>) en.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L292" name="L292"></a> 292       <strong class="reserved">if</strong> (e.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>() == RESOLVER) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294           resolved = <a href="../S/5934.html#L321" title="Defined at 321 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveExternalSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>,
<a id="L295" name="L295"></a> 295                                            e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0));
<a id="L296" name="L296"></a> 296           <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297             <strong class="reserved">return</strong> resolved;
<a id="L298" name="L298"></a> 298           <em class="brace">}</em>
<a id="L299" name="L299"></a> 299         <em class="brace">}</em>
<a id="L300" name="L300"></a> 300         resolved = <a href="../S/5934.html#L339" title="Defined at 339 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveExternalPublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0));
<a id="L301" name="L301"></a> 301         <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302           <strong class="reserved">return</strong> resolved;
<a id="L303" name="L303"></a> 303         <em class="brace">}</em>
<a id="L304" name="L304"></a> 304       <em class="brace">}</em>
<a id="L305" name="L305"></a> 305     <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<a id="L307" name="L307"></a> 307     <strong class="reserved">return</strong> <a href="../S/5932.html#L2014" title="Defined at 2014 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">resolveSubordinateCatalogs</a>(<a href="../S/5932.html#L198" title="Defined at 198 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">Catalog</a>.PUBLIC,
<a id="L308" name="L308"></a> 308                                       <strong class="reserved">null</strong>,
<a id="L309" name="L309"></a> 309                                       <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L310" name="L310"></a> 310                                       <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L311" name="L311"></a> 311   <em class="brace">}</em>
<a id="L312" name="L312"></a> 312 
<div class="comment">
      Query an external RFC2483 resolver for a system identifier.
      @param systemId The system ID to locate.
      @param resolver The name of the resolver to use.
      @return The system identifier to use for the systemId.</div>
<a id="L321" name="L321"></a> 321     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26340.html" title="Multiple referred from 3 places.">resolveExternalSystem</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolver)
<a id="L322" name="L322"></a> 322         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L323" name="L323"></a> 323         <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a> r = <a href="../S/5934.html#L359" title="Defined at 359 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">queryResolver</a>(resolver, "i2l", <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, <strong class="reserved">null</strong>);
<a id="L324" name="L324"></a> 324         <strong class="reserved">if</strong> (r != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325             <strong class="reserved">return</strong> r.<a href="../D/31308.html" title="Multiple defined in 3 places.">resolveSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L326" name="L326"></a> 326         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L327" name="L327"></a> 327             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L328" name="L328"></a> 328         <em class="brace">}</em>
<a id="L329" name="L329"></a> 329     <em class="brace">}</em>
<a id="L330" name="L330"></a> 330 
<div class="comment">
      Query an external RFC2483 resolver for a public identifier.
      @param publicId The system ID to locate.
      @param resolver The name of the resolver to use.
      @return The system identifier to use for the systemId.</div>
<a id="L339" name="L339"></a> 339     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/5934.html#L300" title="Referred from 300 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveExternalPublic</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolver)
<a id="L340" name="L340"></a> 340         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L341" name="L341"></a> 341         <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a> r = <a href="../S/5934.html#L359" title="Defined at 359 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">queryResolver</a>(resolver, "fpi2l", <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <strong class="reserved">null</strong>);
<a id="L342" name="L342"></a> 342         <strong class="reserved">if</strong> (r != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343             <strong class="reserved">return</strong> r.<a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <strong class="reserved">null</strong>);
<a id="L344" name="L344"></a> 344         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L345" name="L345"></a> 345             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L346" name="L346"></a> 346         <em class="brace">}</em>
<a id="L347" name="L347"></a> 347     <em class="brace">}</em>
<a id="L348" name="L348"></a> 348 
<div class="comment">
      Query an external RFC2483 resolver.
      @param resolver The URL of the RFC2483 resolver.
      @param command The command to send the resolver.
      @param arg1 The first argument to the resolver.
      @param arg2 The second argument to the resolver, usually null.
      @return The Resolver constructed.</div>
<a id="L359" name="L359"></a> 359     <strong class="reserved">protected</strong> <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a> <a href="../R/25373.html" title="Multiple referred from 2 places.">queryResolver</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolver,
<a id="L360" name="L360"></a> 360                                      <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/13010.html" title="Multiple defined in 4 places.">command</a>,
<a id="L361" name="L361"></a> 361                                      <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg1,
<a id="L362" name="L362"></a> 362                                      <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> arg2) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363         <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> iStream = <strong class="reserved">null</strong>;
<a id="L364" name="L364"></a> 364         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> RFC2483 = resolver + "?command=" + <a href="../D/13010.html" title="Multiple defined in 4 places.">command</a>
<a id="L365" name="L365"></a> 365             + "&amp;format=tr9401&amp;uri=" + arg1
<a id="L366" name="L366"></a> 366             + "&amp;uri2=" + arg2;
<a id="L367" name="L367"></a> 367         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a> = <strong class="reserved">null</strong>;
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L370" name="L370"></a> 370             <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(RFC2483);
<a id="L371" name="L371"></a> 371 
<a id="L372" name="L372"></a> 372             <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> urlCon = url.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>();
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374             urlCon.<a href="../S/758.html#L987" title="Defined at 987 in src/java/net/URLConnection.java.">setUseCaches</a>(<strong class="reserved">false</strong>);
<a id="L375" name="L375"></a> 375 
<a id="L376" name="L376"></a> 376             <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a> r = (<a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a>) <a href="../S/5932.html#L501" title="Defined at 501 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">newCatalog</a>();
<a id="L377" name="L377"></a> 377 
<a id="L378" name="L378"></a> 378             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cType = urlCon.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>();
<a id="L379" name="L379"></a> 379 
<a id="L380" name="L380"></a> 380             <em class="comment">// I don't care about the character set or subtype</em>
<a id="L381" name="L381"></a> 381             <strong class="reserved">if</strong> (cType.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(";") &gt; 0) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382                 cType = cType.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, cType.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(";"));
<a id="L383" name="L383"></a> 383             <em class="brace">}</em>
<a id="L384" name="L384"></a> 384 
<a id="L385" name="L385"></a> 385             r.<a href="../D/29102.html" title="Multiple defined in 3 places.">parseCatalog</a>(cType, urlCon.<a href="../D/19744.html" title="Multiple defined in 16 places.">getInputStream</a>());
<a id="L386" name="L386"></a> 386 
<a id="L387" name="L387"></a> 387             <strong class="reserved">return</strong> r;
<a id="L388" name="L388"></a> 388         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5936.html#L38" title="Defined at 38 in src/com/sun/org/apache/xml/internal/resolver/CatalogException.java.">CatalogException</a> cex) <em class="brace">{</em>
<a id="L389" name="L389"></a> 389           <strong class="reserved">if</strong> (cex.<a href="../S/5936.html#L150" title="Defined at 150 in src/com/sun/org/apache/xml/internal/resolver/CatalogException.java.">getExceptionType</a>() == <a href="../S/5936.html#L38" title="Defined at 38 in src/com/sun/org/apache/xml/internal/resolver/CatalogException.java.">CatalogException</a>.UNPARSEABLE) <em class="brace">{</em>
<a id="L390" name="L390"></a> 390             catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "Unparseable catalog: " + RFC2483);
<a id="L391" name="L391"></a> 391           <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cex.<a href="../S/5936.html#L150" title="Defined at 150 in src/com/sun/org/apache/xml/internal/resolver/CatalogException.java.">getExceptionType</a>()
<a id="L392" name="L392"></a> 392                      == <a href="../S/5936.html#L38" title="Defined at 38 in src/com/sun/org/apache/xml/internal/resolver/CatalogException.java.">CatalogException</a>.UNKNOWN_FORMAT) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "Unknown catalog format: " + RFC2483);
<a id="L394" name="L394"></a> 394           <em class="brace">}</em>
<a id="L395" name="L395"></a> 395           <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L396" name="L396"></a> 396         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mue) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397             catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "Malformed resolver URL: " + RFC2483);
<a id="L398" name="L398"></a> 398             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L399" name="L399"></a> 399         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ie) <em class="brace">{</em>
<a id="L400" name="L400"></a> 400             catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "I/O Exception opening resolver: " + RFC2483);
<a id="L401" name="L401"></a> 401             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L402" name="L402"></a> 402         <em class="brace">}</em>
<a id="L403" name="L403"></a> 403     <em class="brace">}</em>
<a id="L404" name="L404"></a> 404 
<div class="comment">
      Append two vectors, returning the result.
      @param vec The first vector
      @param appvec The vector to be appended
      @return The vector vec, with appvec's elements appended to it</div>
<a id="L412" name="L412"></a> 412     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/10255.html" title="Multiple referred from 6 places.">appendVector</a>(<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> vec, <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> appvec) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413         <strong class="reserved">if</strong> (appvec != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = 0; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; appvec.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++) <em class="brace">{</em>
<a id="L415" name="L415"></a> 415                 vec.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(appvec.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>));
<a id="L416" name="L416"></a> 416             <em class="brace">}</em>
<a id="L417" name="L417"></a> 417         <em class="brace">}</em>
<a id="L418" name="L418"></a> 418         <strong class="reserved">return</strong> vec;
<a id="L419" name="L419"></a> 419     <em class="brace">}</em>
<a id="L420" name="L420"></a> 420 
<div class="comment">
      Find the URNs for a given system identifier in all catalogs.
      @param systemId The system ID to locate.
      @return A vector of URNs that map to the systemId.</div>
<a id="L428" name="L428"></a> 428     <strong class="reserved">public</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/26321.html" title="Multiple referred from 2 places.">resolveAllSystemReverse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L429" name="L429"></a> 429         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L430" name="L430"></a> 430         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> resolved = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L431" name="L431"></a> 431 
<a id="L432" name="L432"></a> 432         <em class="comment">// If there's a SYSTEM entry in this catalog, use it</em>
<a id="L433" name="L433"></a> 433         <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> localResolved = <a href="../S/5934.html#L554" title="Defined at 554 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveLocalSystemReverse</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L435" name="L435"></a> 435             resolved = <a href="../S/5934.html#L412" title="Defined at 412 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">appendVector</a>(resolved, localResolved);
<a id="L436" name="L436"></a> 436         <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<a id="L438" name="L438"></a> 438         <em class="comment">// Otherwise, look in the subordinate catalogs</em>
<a id="L439" name="L439"></a> 439         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> subResolved = <a href="../S/5934.html#L603" title="Defined at 603 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllSubordinateCatalogs</a>(SYSTEMREVERSE,
<a id="L440" name="L440"></a> 440                                                            <strong class="reserved">null</strong>,
<a id="L441" name="L441"></a> 441                                                            <strong class="reserved">null</strong>,
<a id="L442" name="L442"></a> 442                                                            <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L443" name="L443"></a> 443 
<a id="L444" name="L444"></a> 444         <strong class="reserved">return</strong> <a href="../S/5934.html#L412" title="Defined at 412 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">appendVector</a>(resolved, subResolved);
<a id="L445" name="L445"></a> 445     <em class="brace">}</em>
<a id="L446" name="L446"></a> 446 
<div class="comment">
      Find the URN for a given system identifier.
      @param systemId The system ID to locate.
      @return A (single) URN that maps to the systemId.</div>
<a id="L454" name="L454"></a> 454     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolveSystemReverse(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L455" name="L455"></a> 455         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L456" name="L456"></a> 456         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> resolved = <a href="../S/5934.html#L428" title="Defined at 428 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllSystemReverse</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L457" name="L457"></a> 457         <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong> &amp;&amp; resolved.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L458" name="L458"></a> 458             <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) resolved.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(0);
<a id="L459" name="L459"></a> 459         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L460" name="L460"></a> 460             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L461" name="L461"></a> 461         <em class="brace">}</em>
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      Return the applicable SYSTEM system identifiers.
      <p>If one or more SYSTEM entries exists in the Catalog
      for the system ID specified, return the mapped values.</p>
      <p>The caller is responsible for doing any necessary
      normalization of the system identifier before calling
      this method. For example, a relative system identifier in
      a document might be converted to an absolute system identifier
      before attempting to resolve it.</p>
      <p>Note that this function will force all subordinate catalogs
      to be loaded.</p>
      <p>On Windows-based operating systems, the comparison between
      the system identifier provided and the SYSTEM entries in the
      Catalog is case-insensitive.</p>
      @param systemId The system ID to locate in the catalog.
      @return The system identifier to use for the notation.
      @throws MalformedURLException The formal system identifier of a
      subordinate catalog cannot be turned into a valid URL.
      @throws IOException Error reading subordinate catalog file.</div>
<a id="L491" name="L491"></a> 491     <strong class="reserved">public</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/5934.html#L679" title="Referred from 679 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllSystem</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L492" name="L492"></a> 492         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L493" name="L493"></a> 493         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> resolutions = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495         <em class="comment">// If there are SYSTEM entries in this catalog, start with them</em>
<a id="L496" name="L496"></a> 496         <strong class="reserved">if</strong> (<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497             <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> localResolutions = <a href="../S/5934.html#L526" title="Defined at 526 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllLocalSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L498" name="L498"></a> 498             resolutions = <a href="../S/5934.html#L412" title="Defined at 412 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">appendVector</a>(resolutions, localResolutions);
<a id="L499" name="L499"></a> 499         <em class="brace">}</em>
<a id="L500" name="L500"></a> 500 
<a id="L501" name="L501"></a> 501         <em class="comment">// Then look in the subordinate catalogs</em>
<a id="L502" name="L502"></a> 502         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> subResolutions = <a href="../S/5934.html#L603" title="Defined at 603 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllSubordinateCatalogs</a>(SYSTEM,
<a id="L503" name="L503"></a> 503                                                               <strong class="reserved">null</strong>,
<a id="L504" name="L504"></a> 504                                                               <strong class="reserved">null</strong>,
<a id="L505" name="L505"></a> 505                                                               <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L506" name="L506"></a> 506         resolutions = <a href="../S/5934.html#L412" title="Defined at 412 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">appendVector</a>(resolutions, subResolutions);
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508         <strong class="reserved">if</strong> (resolutions.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509             <strong class="reserved">return</strong> resolutions;
<a id="L510" name="L510"></a> 510         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513     <em class="brace">}</em>
<a id="L514" name="L514"></a> 514 
<div class="comment">
      Return all applicable SYSTEM system identifiers in this
      catalog.
      <p>If one or more SYSTEM entries exists in the catalog file
      for the system ID specified, return the mapped values.</p>
      @param systemId The system ID to locate in the catalog
      @return A vector of the mapped system identifiers or null</div>
<a id="L526" name="L526"></a> 526     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/5934.html#L497" title="Referred from 497 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllLocalSystem</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L528" name="L528"></a> 528         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> osname = <a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("os.name");
<a id="L529" name="L529"></a> 529         <strong class="reserved">boolean</strong> <a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a> = (osname.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("Windows") &gt;= 0);
<a id="L530" name="L530"></a> 530         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> en = catalogEntries.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L531" name="L531"></a> 531         <strong class="reserved">while</strong> (en.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532             <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a> e = (<a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>) en.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L533" name="L533"></a> 533             <strong class="reserved">if</strong> (e.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>() == SYSTEM
<a id="L534" name="L534"></a> 534                 &amp;&amp; (e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L535" name="L535"></a> 535                     || (<a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a>
<a id="L536" name="L536"></a> 536                         &amp;&amp; e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0).<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)))) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537                 <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(1));
<a id="L538" name="L538"></a> 538             <em class="brace">}</em>
<a id="L539" name="L539"></a> 539         <em class="brace">}</em>
<a id="L540" name="L540"></a> 540         <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0) <em class="brace">{</em>
<a id="L541" name="L541"></a> 541             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L542" name="L542"></a> 542         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L543" name="L543"></a> 543             <strong class="reserved">return</strong> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L544" name="L544"></a> 544         <em class="brace">}</em>
<a id="L545" name="L545"></a> 545     <em class="brace">}</em>
<a id="L546" name="L546"></a> 546 
<div class="comment">
      Find the URNs for a given system identifier in the current catalog.
      @param systemId The system ID to locate.
      @return A vector of URNs that map to the systemId.</div>
<a id="L554" name="L554"></a> 554     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../S/5934.html#L434" title="Referred from 434 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveLocalSystemReverse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>) <em class="brace">{</em>
<a id="L555" name="L555"></a> 555         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L556" name="L556"></a> 556         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> osname = <a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("os.name");
<a id="L557" name="L557"></a> 557         <strong class="reserved">boolean</strong> <a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a> = (osname.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("Windows") &gt;= 0);
<a id="L558" name="L558"></a> 558         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> en = catalogEntries.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L559" name="L559"></a> 559         <strong class="reserved">while</strong> (en.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L560" name="L560"></a> 560             <a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a> e = (<a href="../S/5935.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">CatalogEntry</a>) en.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L561" name="L561"></a> 561             <strong class="reserved">if</strong> (e.<a href="../D/18824.html" title="Multiple defined in 2 places.">getEntryType</a>() == SYSTEM
<a id="L562" name="L562"></a> 562                 &amp;&amp; (e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(1).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L563" name="L563"></a> 563                     || (<a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a>
<a id="L564" name="L564"></a> 564                         &amp;&amp; e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(1).<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)))) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565                 <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(e.<a href="../S/5935.html#L226" title="Defined at 226 in src/com/sun/org/apache/xml/internal/resolver/CatalogEntry.java.">getEntryArg</a>(0));
<a id="L566" name="L566"></a> 566             <em class="brace">}</em>
<a id="L567" name="L567"></a> 567         <em class="brace">}</em>
<a id="L568" name="L568"></a> 568         <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0) <em class="brace">{</em>
<a id="L569" name="L569"></a> 569             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L570" name="L570"></a> 570         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L571" name="L571"></a> 571             <strong class="reserved">return</strong> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L572" name="L572"></a> 572         <em class="brace">}</em>
<a id="L573" name="L573"></a> 573     <em class="brace">}</em>
<a id="L574" name="L574"></a> 574 
<div class="comment">
      Search the subordinate catalogs, in order, looking for all
      match.
      <p>This method searches the Catalog and returns all of the system
      identifiers specified for the given entity type with the given
      name, public, and system identifiers. In some contexts, these
      may be null.</p>
      @param entityType The CatalogEntry type for which this query is
      being conducted. This is necessary in order to do the approprate
      query on a subordinate catalog.
      @param entityName The name of the entity being searched for, if
      appropriate.
      @param publicId The public identifier of the entity in question
      (as provided in the source document).
      @param systemId The nominal system identifier for the entity
      in question (as provided in the source document).
      @throws MalformedURLException The formal system identifier of a
      delegated catalog cannot be turned into a valid URL.
      @throws IOException Error reading delegated catalog file.
      @return The system identifier to use.
      Note that the nominal system identifier is not returned if a
      match is not found in the catalog, instead null is returned
      to indicate that no match was found.</div>
<a id="L603" name="L603"></a> 603     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> <a href="../R/26319.html" title="Multiple referred from 2 places.">resolveAllSubordinateCatalogs</a>(<strong class="reserved">int</strong> entityType,
<a id="L604" name="L604"></a> 604                                               <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> entityName,
<a id="L605" name="L605"></a> 605                                               <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L606" name="L606"></a> 606                                               <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>)
<a id="L607" name="L607"></a> 607         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L608" name="L608"></a> 608 
<a id="L609" name="L609"></a> 609         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> resolutions = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L610" name="L610"></a> 610 
<a id="L611" name="L611"></a> 611         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> catPos = 0; catPos &lt; catalogs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); catPos++) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612             <a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <strong class="reserved">null</strong>;
<a id="L613" name="L613"></a> 613 
<a id="L614" name="L614"></a> 614             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L615" name="L615"></a> 615                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a>) catalogs.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(catPos);
<a id="L616" name="L616"></a> 616             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> e) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> catfile = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) catalogs.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(catPos);
<a id="L618" name="L618"></a> 618                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../D/7320.html" title="Multiple defined in 4 places.">Resolver</a>) <a href="../S/5932.html#L501" title="Defined at 501 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">newCatalog</a>();
<a id="L619" name="L619"></a> 619 
<a id="L620" name="L620"></a> 620                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L621" name="L621"></a> 621                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/29102.html" title="Multiple defined in 3 places.">parseCatalog</a>(catfile);
<a id="L622" name="L622"></a> 622                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mue) <em class="brace">{</em>
<a id="L623" name="L623"></a> 623                     catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "Malformed Catalog URL", catfile);
<a id="L624" name="L624"></a> 624                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1431.html#L43" title="Defined at 43 in src/java/io/FileNotFoundException.java.">FileNotFoundException</a> fnfe) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625                     catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "Failed to load catalog, file not found",
<a id="L626" name="L626"></a> 626                           catfile);
<a id="L627" name="L627"></a> 627                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L628" name="L628"></a> 628                     catalogManager.<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>(1, "Failed to load catalog, I/O error", catfile);
<a id="L629" name="L629"></a> 629                 <em class="brace">}</em>
<a id="L630" name="L630"></a> 630 
<a id="L631" name="L631"></a> 631                 catalogs.<a href="../D/32553.html" title="Multiple defined in 11 places.">setElementAt</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, catPos);
<a id="L632" name="L632"></a> 632             <em class="brace">}</em>
<a id="L633" name="L633"></a> 633 
<a id="L634" name="L634"></a> 634             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resolved = <strong class="reserved">null</strong>;
<a id="L635" name="L635"></a> 635 
<a id="L636" name="L636"></a> 636             <em class="comment">// Ok, now what are we supposed to call here?</em>
<a id="L637" name="L637"></a> 637             <strong class="reserved">if</strong> (entityType == DOCTYPE) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638                 resolved = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/5932.html#L1192" title="Defined at 1192 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">resolveDoctype</a>(entityName,
<a id="L639" name="L639"></a> 639                                             <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L640" name="L640"></a> 640                                             <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L641" name="L641"></a> 641                 <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L642" name="L642"></a> 642                     <em class="comment">// Only find one DOCTYPE resolution</em>
<a id="L643" name="L643"></a> 643                     resolutions.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(resolved);
<a id="L644" name="L644"></a> 644                     <strong class="reserved">return</strong> resolutions;
<a id="L645" name="L645"></a> 645                 <em class="brace">}</em>
<a id="L646" name="L646"></a> 646             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityType == DOCUMENT) <em class="brace">{</em>
<a id="L647" name="L647"></a> 647                 resolved = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31256.html" title="Multiple defined in 2 places.">resolveDocument</a>();
<a id="L648" name="L648"></a> 648                 <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L649" name="L649"></a> 649                     <em class="comment">// Only find one DOCUMENT resolution</em>
<a id="L650" name="L650"></a> 650                     resolutions.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(resolved);
<a id="L651" name="L651"></a> 651                     <strong class="reserved">return</strong> resolutions;
<a id="L652" name="L652"></a> 652                 <em class="brace">}</em>
<a id="L653" name="L653"></a> 653             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityType == ENTITY) <em class="brace">{</em>
<a id="L654" name="L654"></a> 654                 resolved = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31257.html" title="Multiple defined in 27 places.">resolveEntity</a>(entityName,
<a id="L655" name="L655"></a> 655                                            <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L656" name="L656"></a> 656                                            <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L657" name="L657"></a> 657                 <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L658" name="L658"></a> 658                     <em class="comment">// Only find one ENTITY resolution</em>
<a id="L659" name="L659"></a> 659                     resolutions.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(resolved);
<a id="L660" name="L660"></a> 660                     <strong class="reserved">return</strong> resolutions;
<a id="L661" name="L661"></a> 661                 <em class="brace">}</em>
<a id="L662" name="L662"></a> 662             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityType == NOTATION) <em class="brace">{</em>
<a id="L663" name="L663"></a> 663                 resolved = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/5932.html#L1391" title="Defined at 1391 in src/com/sun/org/apache/xml/internal/resolver/Catalog.java.">resolveNotation</a>(entityName,
<a id="L664" name="L664"></a> 664                                              <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L665" name="L665"></a> 665                                              <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L666" name="L666"></a> 666                 <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L667" name="L667"></a> 667                     <em class="comment">// Only find one NOTATION resolution</em>
<a id="L668" name="L668"></a> 668                     resolutions.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(resolved);
<a id="L669" name="L669"></a> 669                     <strong class="reserved">return</strong> resolutions;
<a id="L670" name="L670"></a> 670                 <em class="brace">}</em>
<a id="L671" name="L671"></a> 671             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityType == PUBLIC) <em class="brace">{</em>
<a id="L672" name="L672"></a> 672                 resolved = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/31298.html" title="Multiple defined in 3 places.">resolvePublic</a>(<a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L673" name="L673"></a> 673                 <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674                     <em class="comment">// Only find one PUBLIC resolution</em>
<a id="L675" name="L675"></a> 675                     resolutions.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(resolved);
<a id="L676" name="L676"></a> 676                     <strong class="reserved">return</strong> resolutions;
<a id="L677" name="L677"></a> 677                 <em class="brace">}</em>
<a id="L678" name="L678"></a> 678             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityType == SYSTEM) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679                 <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> localResolutions = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/5934.html#L491" title="Defined at 491 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllSystem</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L680" name="L680"></a> 680                 resolutions = <a href="../S/5934.html#L412" title="Defined at 412 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">appendVector</a>(resolutions, localResolutions);
<a id="L681" name="L681"></a> 681                 <strong class="reserved">break</strong>;
<a id="L682" name="L682"></a> 682             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityType == SYSTEMREVERSE) <em class="brace">{</em>
<a id="L683" name="L683"></a> 683                 <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> localResolutions = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/5934.html#L428" title="Defined at 428 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">resolveAllSystemReverse</a>(<a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>);
<a id="L684" name="L684"></a> 684                 resolutions = <a href="../S/5934.html#L412" title="Defined at 412 in src/com/sun/org/apache/xml/internal/resolver/Resolver.java.">appendVector</a>(resolutions, localResolutions);
<a id="L685" name="L685"></a> 685             <em class="brace">}</em>
<a id="L686" name="L686"></a> 686         <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<a id="L688" name="L688"></a> 688         <strong class="reserved">if</strong> (resolutions != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L689" name="L689"></a> 689             <strong class="reserved">return</strong> resolutions;
<a id="L690" name="L690"></a> 690         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L691" name="L691"></a> 691             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L692" name="L692"></a> 692         <em class="brace">}</em>
<a id="L693" name="L693"></a> 693     <em class="brace">}</em>
<a id="L694" name="L694"></a> 694 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L89">[^]</a><a href="#L603">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>