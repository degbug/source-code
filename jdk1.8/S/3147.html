<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/TablePrintable.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L206">[^]</a><a href="#L450">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L206" title="Defined at 206.">print</a></li>
<li><a href="#L411" title="Defined at 411.">printText</a></li>
<li><a href="#L450" title="Defined at 450.">findNextClip</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2003, 2008, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.swing.table.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.print.*;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.awt.geom.*;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.text.MessageFormat;
<a id="L33" name="L33"></a>  33 
<div class="comment">
  An implementation of <code>Printable</code> for printing
  <code>JTable</code>s.
  <p>
  This implementation spreads table rows naturally in sequence
  across multiple pages, fitting as many rows as possible per page.
  The distribution of columns, on the other hand, is controlled by a
  printing mode parameter passed to the constructor. When
  <code>JTable.PrintMode.NORMAL</code> is used, the implementation
  handles columns in a similar manner to how it handles rows, spreading them
  across multiple pages (in an order consistent with the table's
  <code>ComponentOrientation</code>).
  When <code>JTable.PrintMode.FIT_WIDTH</code> is given, the implementation
  scales the output smaller if necessary, to ensure that all columns fit on
  the page. (Note that width and height are scaled equally, ensuring that the
  aspect ratio remains the same).
  </p><p>
  The portion of table printed on each page is headed by the
  appropriate section of the table's <code>JTableHeader</code>.
  </p><p>
  Header and footer text can be added to the output by providing
  <code>MessageFormat</code> instances to the constructor. The
  printing code requests Strings from the formats by calling
  their <code>format</code> method with a single parameter:
  an <code>Object</code> array containing a single element of type
  <code>Integer</code>, representing the current page number.
  </p><p>
  There are certain circumstances where this <code>Printable</code>
  cannot fit items appropriately, resulting in clipped output.
  These are:
  </p><ul><li>In any mode, when the header or footer text is too wide to
        fit completely in the printable area. The implementation
        prints as much of the text as possible starting from the beginning,
        as determined by the table's <code>ComponentOrientation</code>.
    </li><li>In any mode, when a row is too tall to fit in the
        printable area. The upper most portion of the row
        is printed and no lower border is shown.
    </li><li>In <code>JTable.PrintMode.NORMAL</code> when a column
        is too wide to fit in the printable area. The center of the
        column is printed and no left and right borders are shown.
  </li></ul>
  <p>
  It is entirely valid for a developer to wrap this <code>Printable</code>
  inside another in order to create complex reports and documents. They may
  even request that different pages be rendered into different sized
  printable areas. The implementation was designed to handle this by
  performing most of its calculations on the fly. However, providing different
  sizes works best when <code>JTable.PrintMode.FIT_WIDTH</code> is used, or
  when only the printable width is changed between pages. This is because when
  it is printing a set of rows in <code>JTable.PrintMode.NORMAL</code> and the
  implementation determines a need to distribute columns across pages,
  it assumes that all of those rows will fit on each subsequent page needed
  to fit the columns.
  </p><p>
  It is the responsibility of the developer to ensure that the table is not
  modified in any way after this <code>Printable</code> is created (invalid
  modifications include changes in: size, renderers, or underlying data).
  The behavior of this <code>Printable</code> is undefined if the table is
  changed at any time after creation.
  @author  Shannon Hickey</p></div>
<a id="L97" name="L97"></a>  97 <strong class="reserved">class</strong> <a href="../S/3173.html#L6430" title="Referred from 6430 in src/javax/swing/JTable.java.">TablePrintable</a> <strong class="reserved">implements</strong> <a href="../S/2215.html#L102" title="Defined at 102 in src/java/awt/print/Printable.java.">Printable</a> <em class="brace">{</em>
<a id="L98" name="L98"></a>  98 
<div class="comment">
     /** The table to print. */</div>
<a id="L100" name="L100"></a> 100     <strong class="reserved">private</strong> <a href="../S/3173.html#L219" title="Defined at 219 in src/javax/swing/JTable.java.">JTable</a> table;
<a id="L101" name="L101"></a> 101 
<div class="comment">
     /** For quick reference to the table's header. */</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">private</strong> <a href="../S/3184.html#L63" title="Defined at 63 in src/javax/swing/table/JTableHeader.java.">JTableHeader</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>;
<a id="L104" name="L104"></a> 104 
<div class="comment">
     /** For quick reference to the table's column model. */</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">private</strong> <a href="../S/3187.html#L42" title="Defined at 42 in src/javax/swing/table/TableColumnModel.java.">TableColumnModel</a> colModel;
<a id="L107" name="L107"></a> 107 
<div class="comment">
     /** To save multiple calculations of total column width. */</div>
<a id="L109" name="L109"></a> 109     <strong class="reserved">private</strong> <strong class="reserved">int</strong> totalColWidth;
<a id="L110" name="L110"></a> 110 
<div class="comment">
     /** The printing mode of this printable. */</div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">private</strong> <a href="../S/3173.html#L219" title="Defined at 219 in src/javax/swing/JTable.java.">JTable</a>.<a href="../S/3173.html#L258" title="Defined at 258 in src/javax/swing/JTable.java.">PrintMode</a> printMode;
<a id="L113" name="L113"></a> 113 
<div class="comment">
     /** Provides the header text for the table. */</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">private</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> headerFormat;
<a id="L116" name="L116"></a> 116 
<div class="comment">
     /** Provides the footer text for the table. */</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">private</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> footerFormat;
<a id="L119" name="L119"></a> 119 
<div class="comment">
     /** The most recent page index asked to print. */</div>
<a id="L121" name="L121"></a> 121     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = -1;
<a id="L122" name="L122"></a> 122 
<div class="comment">
     /** The next row to print. */</div>
<a id="L124" name="L124"></a> 124     <strong class="reserved">private</strong> <strong class="reserved">int</strong> row = 0;
<a id="L125" name="L125"></a> 125 
<div class="comment">
     /** The next column to print. */</div>
<a id="L127" name="L127"></a> 127     <strong class="reserved">private</strong> <strong class="reserved">int</strong> col = 0;
<a id="L128" name="L128"></a> 128 
<div class="comment">
     /** Used to store an area of the table to be printed. */</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a> = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(0, 0, 0, 0);
<a id="L131" name="L131"></a> 131 
<div class="comment">
     /** Used to store an area of the table's header to be printed. */</div>
<a id="L133" name="L133"></a> 133     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> hclip = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(0, 0, 0, 0);
<a id="L134" name="L134"></a> 134 
<div class="comment">
     /** Saves the creation of multiple rectangles. */</div>
<a id="L136" name="L136"></a> 136     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> tempRect = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(0, 0, 0, 0);
<a id="L137" name="L137"></a> 137 
<div class="comment">
     /** Vertical space to leave between table and header/footer text. */</div>
<a id="L139" name="L139"></a> 139     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> H_F_SPACE = 8;
<a id="L140" name="L140"></a> 140 
<div class="comment">
     /** Font size for the header text. */</div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">float</strong> HEADER_FONT_SIZE = 18.0f;
<a id="L143" name="L143"></a> 143 
<div class="comment">
     /** Font size for the footer text. */</div>
<a id="L145" name="L145"></a> 145     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">float</strong> FOOTER_FONT_SIZE = 12.0f;
<a id="L146" name="L146"></a> 146 
<div class="comment">
     /** The font to use in rendering header text. */</div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">private</strong> <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> headerFont;
<a id="L149" name="L149"></a> 149 
<div class="comment">
     /** The font to use in rendering footer text. */</div>
<a id="L151" name="L151"></a> 151     <strong class="reserved">private</strong> <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> footerFont;
<a id="L152" name="L152"></a> 152 
<div class="comment">
      Create a new <code>TablePrintable</code> for the given
      <code>JTable</code>. Header and footer text can be specified using the
      two <code>MessageFormat</code> parameters. When called upon to provide
      a String, each format is given the current page number.
      @param  table         the table to print
      @param  printMode     the printing mode for this printable
      @param  headerFormat  a <code>MessageFormat</code> specifying the text to
                            be used in printing a header, or null for none
      @param  footerFormat  a <code>MessageFormat</code> specifying the text to
                            be used in printing a footer, or null for none
      @throws IllegalArgumentException if passed an invalid print mode</div>
<a id="L167" name="L167"></a> 167     <strong class="reserved">public</strong> TablePrintable(<a href="../S/3173.html#L219" title="Defined at 219 in src/javax/swing/JTable.java.">JTable</a> table,
<a id="L168" name="L168"></a> 168                           <a href="../S/3173.html#L219" title="Defined at 219 in src/javax/swing/JTable.java.">JTable</a>.<a href="../S/3173.html#L258" title="Defined at 258 in src/javax/swing/JTable.java.">PrintMode</a> printMode,
<a id="L169" name="L169"></a> 169                           <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> headerFormat,
<a id="L170" name="L170"></a> 170                           <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> footerFormat) <em class="brace">{</em>
<a id="L171" name="L171"></a> 171 
<a id="L172" name="L172"></a> 172         <strong class="reserved">this</strong>.table = table;
<a id="L173" name="L173"></a> 173 
<a id="L174" name="L174"></a> 174         <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a> = table.<a href="../S/3173.html#L909" title="Defined at 909 in src/javax/swing/JTable.java.">getTableHeader</a>();
<a id="L175" name="L175"></a> 175         colModel = table.<a href="../D/17810.html" title="Multiple defined in 2 places.">getColumnModel</a>();
<a id="L176" name="L176"></a> 176         totalColWidth = colModel.<a href="../D/23218.html" title="Multiple defined in 2 places.">getTotalColumnWidth</a>();
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178         <strong class="reserved">if</strong> (<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179             <em class="comment">// the header clip height can be set once since it's unchanging</em>
<a id="L180" name="L180"></a> 180             hclip.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L181" name="L181"></a> 181         <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183         <strong class="reserved">this</strong>.printMode = printMode;
<a id="L184" name="L184"></a> 184 
<a id="L185" name="L185"></a> 185         <strong class="reserved">this</strong>.headerFormat = headerFormat;
<a id="L186" name="L186"></a> 186         <strong class="reserved">this</strong>.footerFormat = footerFormat;
<a id="L187" name="L187"></a> 187 
<a id="L188" name="L188"></a> 188         <em class="comment">// derive the header and footer font from the table's font</em>
<a id="L189" name="L189"></a> 189         headerFont = table.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>().<a href="../D/14849.html" title="Multiple defined in 6 places.">deriveFont</a>(<a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a>.BOLD,
<a id="L190" name="L190"></a> 190                                                 HEADER_FONT_SIZE);
<a id="L191" name="L191"></a> 191         footerFont = table.<a href="../D/19178.html" title="Multiple defined in 44 places.">getFont</a>().<a href="../D/14849.html" title="Multiple defined in 6 places.">deriveFont</a>(<a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a>.PLAIN,
<a id="L192" name="L192"></a> 192                                                 FOOTER_FONT_SIZE);
<a id="L193" name="L193"></a> 193     <em class="brace">}</em>
<a id="L194" name="L194"></a> 194 
<div class="comment">
      Prints the specified page of the table into the given {@link Graphics}
      context, in the specified format.
      @param   graphics    the context into which the page is drawn
      @param   pageFormat  the size and orientation of the page being drawn
      @param   pageIndex   the zero based index of the page to be drawn
      @return  PAGE_EXISTS if the page is rendered successfully, or
               NO_SUCH_PAGE if a non-existent page index is specified
      @throws  PrinterException if an error causes printing to be aborted</div>
<a id="L206" name="L206"></a> 206     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/24978.html" title="Multiple referred from 1157 places.">print</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> graphics, <a href="../S/2216.html#L38" title="Defined at 38 in src/java/awt/print/PageFormat.java.">PageFormat</a> pageFormat, <strong class="reserved">int</strong> pageIndex)
<a id="L207" name="L207"></a> 207                                                        <strong class="reserved">throws</strong> <a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a> <em class="brace">{</em>
<a id="L208" name="L208"></a> 208 
<a id="L209" name="L209"></a> 209         <em class="comment">// for easy access to these values</em>
<a id="L210" name="L210"></a> 210         <strong class="reserved">final</strong> <strong class="reserved">int</strong> imgWidth = (<strong class="reserved">int</strong>)pageFormat.<a href="../D/19606.html" title="Multiple defined in 2 places.">getImageableWidth</a>();
<a id="L211" name="L211"></a> 211         <strong class="reserved">final</strong> <strong class="reserved">int</strong> imgHeight = (<strong class="reserved">int</strong>)pageFormat.<a href="../D/19605.html" title="Multiple defined in 2 places.">getImageableHeight</a>();
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213         <strong class="reserved">if</strong> (imgWidth &lt;= 0) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a>("Width of printable area is too small.");
<a id="L215" name="L215"></a> 215         <em class="brace">}</em>
<a id="L216" name="L216"></a> 216 
<a id="L217" name="L217"></a> 217         <em class="comment">// to pass the page number when formatting the header and footer text</em>
<a id="L218" name="L218"></a> 218         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] pageNumber = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(pageIndex + 1)<em class="brace">}</em>;
<a id="L219" name="L219"></a> 219 
<a id="L220" name="L220"></a> 220         <em class="comment">// fetch the formatted header text, if any</em>
<a id="L221" name="L221"></a> 221         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> headerText = <strong class="reserved">null</strong>;
<a id="L222" name="L222"></a> 222         <strong class="reserved">if</strong> (headerFormat != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L223" name="L223"></a> 223             headerText = headerFormat.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(pageNumber);
<a id="L224" name="L224"></a> 224         <em class="brace">}</em>
<a id="L225" name="L225"></a> 225 
<a id="L226" name="L226"></a> 226         <em class="comment">// fetch the formatted footer text, if any</em>
<a id="L227" name="L227"></a> 227         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> footerText = <strong class="reserved">null</strong>;
<a id="L228" name="L228"></a> 228         <strong class="reserved">if</strong> (footerFormat != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229             footerText = footerFormat.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(pageNumber);
<a id="L230" name="L230"></a> 230         <em class="brace">}</em>
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232         <em class="comment">// to store the bounds of the header and footer text</em>
<a id="L233" name="L233"></a> 233         <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> hRect = <strong class="reserved">null</strong>;
<a id="L234" name="L234"></a> 234         <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> fRect = <strong class="reserved">null</strong>;
<a id="L235" name="L235"></a> 235 
<a id="L236" name="L236"></a> 236         <em class="comment">// the amount of vertical space needed for the header and footer text</em>
<a id="L237" name="L237"></a> 237         <strong class="reserved">int</strong> headerTextSpace = 0;
<a id="L238" name="L238"></a> 238         <strong class="reserved">int</strong> footerTextSpace = 0;
<a id="L239" name="L239"></a> 239 
<a id="L240" name="L240"></a> 240         <em class="comment">// the amount of vertical space available for printing the table</em>
<a id="L241" name="L241"></a> 241         <strong class="reserved">int</strong> availableSpace = imgHeight;
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243         <em class="comment">// if there's header text, find out how much space is needed for it</em>
<a id="L244" name="L244"></a> 244         <em class="comment">// and subtract that from the available space</em>
<a id="L245" name="L245"></a> 245         <strong class="reserved">if</strong> (headerText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L246" name="L246"></a> 246             graphics.<a href="../D/32750.html" title="Multiple defined in 25 places.">setFont</a>(headerFont);
<a id="L247" name="L247"></a> 247             hRect = graphics.<a href="../D/19185.html" title="Multiple defined in 25 places.">getFontMetrics</a>().<a href="../D/22773.html" title="Multiple defined in 8 places.">getStringBounds</a>(headerText,
<a id="L248" name="L248"></a> 248                                                               graphics);
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250             headerTextSpace = (<strong class="reserved">int</strong>)<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/12285.html" title="Multiple defined in 2 places.">ceil</a>(hRect.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>());
<a id="L251" name="L251"></a> 251             availableSpace -= headerTextSpace + H_F_SPACE;
<a id="L252" name="L252"></a> 252         <em class="brace">}</em>
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254         <em class="comment">// if there's footer text, find out how much space is needed for it</em>
<a id="L255" name="L255"></a> 255         <em class="comment">// and subtract that from the available space</em>
<a id="L256" name="L256"></a> 256         <strong class="reserved">if</strong> (footerText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             graphics.<a href="../D/32750.html" title="Multiple defined in 25 places.">setFont</a>(footerFont);
<a id="L258" name="L258"></a> 258             fRect = graphics.<a href="../D/19185.html" title="Multiple defined in 25 places.">getFontMetrics</a>().<a href="../D/22773.html" title="Multiple defined in 8 places.">getStringBounds</a>(footerText,
<a id="L259" name="L259"></a> 259                                                               graphics);
<a id="L260" name="L260"></a> 260 
<a id="L261" name="L261"></a> 261             footerTextSpace = (<strong class="reserved">int</strong>)<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/12285.html" title="Multiple defined in 2 places.">ceil</a>(fRect.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>());
<a id="L262" name="L262"></a> 262             availableSpace -= footerTextSpace + H_F_SPACE;
<a id="L263" name="L263"></a> 263         <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265         <strong class="reserved">if</strong> (availableSpace &lt;= 0) <em class="brace">{</em>
<a id="L266" name="L266"></a> 266             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a>("Height of printable area is too small.");
<a id="L267" name="L267"></a> 267         <em class="brace">}</em>
<a id="L268" name="L268"></a> 268 
<a id="L269" name="L269"></a> 269         <em class="comment">// depending on the print mode, we may need a scale factor to</em>
<a id="L270" name="L270"></a> 270         <em class="comment">// fit the table's entire width on the page</em>
<a id="L271" name="L271"></a> 271         <strong class="reserved">double</strong> sf = 1.0D;
<a id="L272" name="L272"></a> 272         <strong class="reserved">if</strong> (printMode == <a href="../S/3173.html#L219" title="Defined at 219 in src/javax/swing/JTable.java.">JTable</a>.<a href="../S/3173.html#L258" title="Defined at 258 in src/javax/swing/JTable.java.">PrintMode</a>.FIT_WIDTH &amp;&amp;
<a id="L273" name="L273"></a> 273                 totalColWidth &gt; imgWidth) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274 
<a id="L275" name="L275"></a> 275             <em class="comment">// if not, we would have thrown an acception previously</em>
<a id="L276" name="L276"></a> 276             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> imgWidth &gt; 0;
<a id="L277" name="L277"></a> 277 
<a id="L278" name="L278"></a> 278             <em class="comment">// it must be, according to the if-condition, since imgWidth &gt; 0</em>
<a id="L279" name="L279"></a> 279             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> totalColWidth &gt; 1;
<a id="L280" name="L280"></a> 280 
<a id="L281" name="L281"></a> 281             sf = (<strong class="reserved">double</strong>)imgWidth / (<strong class="reserved">double</strong>)totalColWidth;
<a id="L282" name="L282"></a> 282         <em class="brace">}</em>
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284         <em class="comment">// dictated by the previous two assertions</em>
<a id="L285" name="L285"></a> 285         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> sf &gt; 0;
<a id="L286" name="L286"></a> 286 
<a id="L287" name="L287"></a> 287         <em class="comment">// This is in a loop for two reasons:</em>
<a id="L288" name="L288"></a> 288         <em class="comment">// First, it allows us to catch up in case we're called starting</em>
<a id="L289" name="L289"></a> 289         <em class="comment">// with a non-zero pageIndex. Second, we know that we can be called</em>
<a id="L290" name="L290"></a> 290         <em class="comment">// for the same page multiple times. The condition of this while</em>
<a id="L291" name="L291"></a> 291         <em class="comment">// loop acts as a check, ensuring that we don't attempt to do the</em>
<a id="L292" name="L292"></a> 292         <em class="comment">// calculations again when we are called subsequent times for the</em>
<a id="L293" name="L293"></a> 293         <em class="comment">// same page.</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">while</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> &lt; pageIndex) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295             <em class="comment">// if we are finished all columns in all rows</em>
<a id="L296" name="L296"></a> 296             <strong class="reserved">if</strong> (row &gt;= table.<a href="../D/22156.html" title="Multiple defined in 20 places.">getRowCount</a>() &amp;&amp; col == 0) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297                 <strong class="reserved">return</strong> NO_SUCH_PAGE;
<a id="L298" name="L298"></a> 298             <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300             <em class="comment">// rather than multiplying every row and column by the scale factor</em>
<a id="L301" name="L301"></a> 301             <em class="comment">// in findNextClip, just pass a width and height that have already</em>
<a id="L302" name="L302"></a> 302             <em class="comment">// been divided by it</em>
<a id="L303" name="L303"></a> 303             <strong class="reserved">int</strong> scaledWidth = (<strong class="reserved">int</strong>)(imgWidth / sf);
<a id="L304" name="L304"></a> 304             <strong class="reserved">int</strong> scaledHeight = (<strong class="reserved">int</strong>)((availableSpace - hclip.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) / sf);
<a id="L305" name="L305"></a> 305 
<a id="L306" name="L306"></a> 306             <em class="comment">// calculate the area of the table to be printed for this page</em>
<a id="L307" name="L307"></a> 307             <a href="../S/3147.html#L450" title="Defined at 450 in src/javax/swing/TablePrintable.java.">findNextClip</a>(scaledWidth, scaledHeight);
<a id="L308" name="L308"></a> 308 
<a id="L309" name="L309"></a> 309             <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>++;
<a id="L310" name="L310"></a> 310         <em class="brace">}</em>
<a id="L311" name="L311"></a> 311 
<a id="L312" name="L312"></a> 312         <em class="comment">// create a copy of the graphics so we don't affect the one given to us</em>
<a id="L313" name="L313"></a> 313         <a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a> g2d = (<a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a>)graphics.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>();
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315         <em class="comment">// translate into the co-ordinate system of the pageFormat</em>
<a id="L316" name="L316"></a> 316         g2d.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(pageFormat.<a href="../D/19607.html" title="Multiple defined in 2 places.">getImageableX</a>(), pageFormat.<a href="../D/19608.html" title="Multiple defined in 2 places.">getImageableY</a>());
<a id="L317" name="L317"></a> 317 
<a id="L318" name="L318"></a> 318         <em class="comment">// to save and store the transform</em>
<a id="L319" name="L319"></a> 319         <a href="../S/2328.html#L114" title="Defined at 114 in src/java/awt/geom/AffineTransform.java.">AffineTransform</a> oldTrans;
<a id="L320" name="L320"></a> 320 
<a id="L321" name="L321"></a> 321         <em class="comment">// if there's footer text, print it at the bottom of the imageable area</em>
<a id="L322" name="L322"></a> 322         <strong class="reserved">if</strong> (footerText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L323" name="L323"></a> 323             oldTrans = g2d.<a href="../D/23248.html" title="Multiple defined in 7 places.">getTransform</a>();
<a id="L324" name="L324"></a> 324 
<a id="L325" name="L325"></a> 325             g2d.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(0, imgHeight - footerTextSpace);
<a id="L326" name="L326"></a> 326 
<a id="L327" name="L327"></a> 327             <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(g2d, footerText, fRect, footerFont, imgWidth);
<a id="L328" name="L328"></a> 328 
<a id="L329" name="L329"></a> 329             g2d.<a href="../D/34182.html" title="Multiple defined in 4 places.">setTransform</a>(oldTrans);
<a id="L330" name="L330"></a> 330         <em class="brace">}</em>
<a id="L331" name="L331"></a> 331 
<a id="L332" name="L332"></a> 332         <em class="comment">// if there's header text, print it at the top of the imageable area</em>
<a id="L333" name="L333"></a> 333         <em class="comment">// and then translate downwards</em>
<a id="L334" name="L334"></a> 334         <strong class="reserved">if</strong> (headerText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335             <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(g2d, headerText, hRect, headerFont, imgWidth);
<a id="L336" name="L336"></a> 336 
<a id="L337" name="L337"></a> 337             g2d.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(0, headerTextSpace + H_F_SPACE);
<a id="L338" name="L338"></a> 338         <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340         <em class="comment">// constrain the table output to the available space</em>
<a id="L341" name="L341"></a> 341         tempRect.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = 0;
<a id="L342" name="L342"></a> 342         tempRect.y = 0;
<a id="L343" name="L343"></a> 343         tempRect.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = imgWidth;
<a id="L344" name="L344"></a> 344         tempRect.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = availableSpace;
<a id="L345" name="L345"></a> 345         g2d.<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>(tempRect);
<a id="L346" name="L346"></a> 346 
<a id="L347" name="L347"></a> 347         <em class="comment">// if we have a scale factor, scale the graphics object to fit</em>
<a id="L348" name="L348"></a> 348         <em class="comment">// the entire width</em>
<a id="L349" name="L349"></a> 349         <strong class="reserved">if</strong> (sf != 1.0D) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350             g2d.<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>(sf, sf);
<a id="L351" name="L351"></a> 351 
<a id="L352" name="L352"></a> 352         <em class="comment">// otherwise, ensure that the current portion of the table is</em>
<a id="L353" name="L353"></a> 353         <em class="comment">// centered horizontally</em>
<a id="L354" name="L354"></a> 354         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L355" name="L355"></a> 355             <strong class="reserved">int</strong> diff = (imgWidth - <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) / 2;
<a id="L356" name="L356"></a> 356             g2d.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(diff, 0);
<a id="L357" name="L357"></a> 357         <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<a id="L359" name="L359"></a> 359         <em class="comment">// store the old transform and clip for later restoration</em>
<a id="L360" name="L360"></a> 360         oldTrans = g2d.<a href="../D/23248.html" title="Multiple defined in 7 places.">getTransform</a>();
<a id="L361" name="L361"></a> 361         <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> oldClip = g2d.<a href="../D/17729.html" title="Multiple defined in 5 places.">getClip</a>();
<a id="L362" name="L362"></a> 362 
<a id="L363" name="L363"></a> 363         <em class="comment">// if there's a table header, print the current section and</em>
<a id="L364" name="L364"></a> 364         <em class="comment">// then translate downwards</em>
<a id="L365" name="L365"></a> 365         <strong class="reserved">if</strong> (<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366             hclip.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L367" name="L367"></a> 367             hclip.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369             g2d.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(-hclip.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, 0);
<a id="L370" name="L370"></a> 370             g2d.<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>(hclip);
<a id="L371" name="L371"></a> 371             <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>(g2d);
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373             <em class="comment">// restore the original transform and clip</em>
<a id="L374" name="L374"></a> 374             g2d.<a href="../D/34182.html" title="Multiple defined in 4 places.">setTransform</a>(oldTrans);
<a id="L375" name="L375"></a> 375             g2d.<a href="../D/32167.html" title="Multiple defined in 6 places.">setClip</a>(oldClip);
<a id="L376" name="L376"></a> 376 
<a id="L377" name="L377"></a> 377             <em class="comment">// translate downwards</em>
<a id="L378" name="L378"></a> 378             g2d.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(0, hclip.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<a id="L381" name="L381"></a> 381         <em class="comment">// print the current section of the table</em>
<a id="L382" name="L382"></a> 382         g2d.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(-<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, -<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.y);
<a id="L383" name="L383"></a> 383         g2d.<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>(<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>);
<a id="L384" name="L384"></a> 384         table.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>(g2d);
<a id="L385" name="L385"></a> 385 
<a id="L386" name="L386"></a> 386         <em class="comment">// restore the original transform and clip</em>
<a id="L387" name="L387"></a> 387         g2d.<a href="../D/34182.html" title="Multiple defined in 4 places.">setTransform</a>(oldTrans);
<a id="L388" name="L388"></a> 388         g2d.<a href="../D/32167.html" title="Multiple defined in 6 places.">setClip</a>(oldClip);
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390         <em class="comment">// draw a box around the table</em>
<a id="L391" name="L391"></a> 391         g2d.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>.BLACK);
<a id="L392" name="L392"></a> 392         g2d.<a href="../D/15210.html" title="Multiple defined in 2 places.">drawRect</a>(0, 0, <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, hclip.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> + <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L393" name="L393"></a> 393 
<a id="L394" name="L394"></a> 394         <em class="comment">// dispose the graphics copy</em>
<a id="L395" name="L395"></a> 395         g2d.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L396" name="L396"></a> 396 
<a id="L397" name="L397"></a> 397         <strong class="reserved">return</strong> PAGE_EXISTS;
<a id="L398" name="L398"></a> 398     <em class="brace">}</em>
<a id="L399" name="L399"></a> 399 
<div class="comment">
      A helper method that encapsulates common code for rendering the
      header and footer text.
      @param  g2d       the graphics to draw into
      @param  text      the text to draw, non null
      @param  rect      the bounding rectangle for this text,
                        as calculated at the given font, non null
      @param  font      the font to draw the text in, non null
      @param  imgWidth  the width of the area to draw into</div>
<a id="L411" name="L411"></a> 411     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25050.html" title="Multiple referred from 288 places.">printText</a>(<a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a> g2d,
<a id="L412" name="L412"></a> 412                            <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>,
<a id="L413" name="L413"></a> 413                            <a href="../S/2335.html#L43" title="Defined at 43 in src/java/awt/geom/Rectangle2D.java.">Rectangle2D</a> rect,
<a id="L414" name="L414"></a> 414                            <a href="../S/2176.html#L224" title="Defined at 224 in src/java/awt/Font.java.">Font</a> font,
<a id="L415" name="L415"></a> 415                            <strong class="reserved">int</strong> imgWidth) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417             <strong class="reserved">int</strong> tx;
<a id="L418" name="L418"></a> 418 
<a id="L419" name="L419"></a> 419             <em class="comment">// if the text is small enough to fit, center it</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">if</strong> (rect.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &lt; imgWidth) <em class="brace">{</em>
<a id="L421" name="L421"></a> 421                 tx = (<strong class="reserved">int</strong>)((imgWidth - rect.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>()) / 2);
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423             <em class="comment">// otherwise, if the table is LTR, ensure the left side of</em>
<a id="L424" name="L424"></a> 424             <em class="comment">// the text shows; the right can be clipped</em>
<a id="L425" name="L425"></a> 425             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (table.<a href="../S/2177.html#L8910" title="Defined at 8910 in src/java/awt/Component.java.">getComponentOrientation</a>().<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>()) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426                 tx = 0;
<a id="L427" name="L427"></a> 427 
<a id="L428" name="L428"></a> 428             <em class="comment">// otherwise, ensure the right side of the text shows</em>
<a id="L429" name="L429"></a> 429             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L430" name="L430"></a> 430                 tx = -(<strong class="reserved">int</strong>)(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/12285.html" title="Multiple defined in 2 places.">ceil</a>(rect.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>()) - imgWidth);
<a id="L431" name="L431"></a> 431             <em class="brace">}</em>
<a id="L432" name="L432"></a> 432 
<a id="L433" name="L433"></a> 433             <strong class="reserved">int</strong> ty = (<strong class="reserved">int</strong>)<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/12285.html" title="Multiple defined in 2 places.">ceil</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(rect.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>()));
<a id="L434" name="L434"></a> 434             g2d.<a href="../D/32183.html" title="Multiple defined in 19 places.">setColor</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a>.BLACK);
<a id="L435" name="L435"></a> 435             g2d.<a href="../D/32750.html" title="Multiple defined in 25 places.">setFont</a>(font);
<a id="L436" name="L436"></a> 436             g2d.<a href="../D/15218.html" title="Multiple defined in 9 places.">drawString</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, tx, ty);
<a id="L437" name="L437"></a> 437     <em class="brace">}</em>
<a id="L438" name="L438"></a> 438 
<div class="comment">
      Calculate the area of the table to be printed for
      the next page. This should only be called if there
      are rows and columns left to print.
      To avoid an infinite loop in printing, this will
      always put at least one cell on each page.
      @param  pw  the width of the area to print in
      @param  ph  the height of the area to print in</div>
<a id="L450" name="L450"></a> 450     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3147.html#L307" title="Referred from 307 in src/javax/swing/TablePrintable.java.">findNextClip</a>(<strong class="reserved">int</strong> pw, <strong class="reserved">int</strong> ph) <em class="brace">{</em>
<a id="L451" name="L451"></a> 451         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> ltr = table.<a href="../S/2177.html#L8910" title="Defined at 8910 in src/java/awt/Component.java.">getComponentOrientation</a>().<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>();
<a id="L452" name="L452"></a> 452 
<a id="L453" name="L453"></a> 453         <em class="comment">// if we're ready to start a new set of rows</em>
<a id="L454" name="L454"></a> 454         <strong class="reserved">if</strong> (col == 0) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             <strong class="reserved">if</strong> (ltr) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456                 <em class="comment">// adjust clip to the left of the first column</em>
<a id="L457" name="L457"></a> 457                 <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = 0;
<a id="L458" name="L458"></a> 458             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L459" name="L459"></a> 459                 <em class="comment">// adjust clip to the right of the first column</em>
<a id="L460" name="L460"></a> 460                 <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = totalColWidth;
<a id="L461" name="L461"></a> 461             <em class="brace">}</em>
<a id="L462" name="L462"></a> 462 
<a id="L463" name="L463"></a> 463             <em class="comment">// adjust clip to the top of the next set of rows</em>
<a id="L464" name="L464"></a> 464             <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.y += <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L465" name="L465"></a> 465 
<a id="L466" name="L466"></a> 466             <em class="comment">// adjust clip width and height to be zero</em>
<a id="L467" name="L467"></a> 467             <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = 0;
<a id="L468" name="L468"></a> 468             <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = 0;
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470             <em class="comment">// fit as many rows as possible, and at least one</em>
<a id="L471" name="L471"></a> 471             <strong class="reserved">int</strong> rowCount = table.<a href="../D/22156.html" title="Multiple defined in 20 places.">getRowCount</a>();
<a id="L472" name="L472"></a> 472             <strong class="reserved">int</strong> rowHeight = table.<a href="../D/22163.html" title="Multiple defined in 7 places.">getRowHeight</a>(row);
<a id="L473" name="L473"></a> 473             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L474" name="L474"></a> 474                 <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> += rowHeight;
<a id="L475" name="L475"></a> 475 
<a id="L476" name="L476"></a> 476                 <strong class="reserved">if</strong> (++row &gt;= rowCount) <em class="brace">{</em>
<a id="L477" name="L477"></a> 477                     <strong class="reserved">break</strong>;
<a id="L478" name="L478"></a> 478                 <em class="brace">}</em>
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480                 rowHeight = table.<a href="../D/22163.html" title="Multiple defined in 7 places.">getRowHeight</a>(row);
<a id="L481" name="L481"></a> 481             <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> + rowHeight &lt;= ph);
<a id="L482" name="L482"></a> 482         <em class="brace">}</em>
<a id="L483" name="L483"></a> 483 
<a id="L484" name="L484"></a> 484         <em class="comment">// we can short-circuit for JTable.PrintMode.FIT_WIDTH since</em>
<a id="L485" name="L485"></a> 485         <em class="comment">// we'll always fit all columns on the page</em>
<a id="L486" name="L486"></a> 486         <strong class="reserved">if</strong> (printMode == <a href="../S/3173.html#L219" title="Defined at 219 in src/javax/swing/JTable.java.">JTable</a>.<a href="../S/3173.html#L258" title="Defined at 258 in src/javax/swing/JTable.java.">PrintMode</a>.FIT_WIDTH) <em class="brace">{</em>
<a id="L487" name="L487"></a> 487             <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = 0;
<a id="L488" name="L488"></a> 488             <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = totalColWidth;
<a id="L489" name="L489"></a> 489             <strong class="reserved">return</strong>;
<a id="L490" name="L490"></a> 490         <em class="brace">}</em>
<a id="L491" name="L491"></a> 491 
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (ltr) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493             <em class="comment">// adjust clip to the left of the next set of columns</em>
<a id="L494" name="L494"></a> 494             <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L495" name="L495"></a> 495         <em class="brace">}</em>
<a id="L496" name="L496"></a> 496 
<a id="L497" name="L497"></a> 497         <em class="comment">// adjust clip width to be zero</em>
<a id="L498" name="L498"></a> 498         <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = 0;
<a id="L499" name="L499"></a> 499 
<a id="L500" name="L500"></a> 500         <em class="comment">// fit as many columns as possible, and at least one</em>
<a id="L501" name="L501"></a> 501         <strong class="reserved">int</strong> colCount = table.<a href="../D/17802.html" title="Multiple defined in 19 places.">getColumnCount</a>();
<a id="L502" name="L502"></a> 502         <strong class="reserved">int</strong> colWidth = colModel.<a href="../D/17799.html" title="Multiple defined in 7 places.">getColumn</a>(col).<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L503" name="L503"></a> 503         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L504" name="L504"></a> 504             <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> += colWidth;
<a id="L505" name="L505"></a> 505             <strong class="reserved">if</strong> (!ltr) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506                 <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> -= colWidth;
<a id="L507" name="L507"></a> 507             <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<a id="L509" name="L509"></a> 509             <strong class="reserved">if</strong> (++col &gt;= colCount) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510                 <em class="comment">// reset col to 0 to indicate we're finished all columns</em>
<a id="L511" name="L511"></a> 511                 col = 0;
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513                 <strong class="reserved">break</strong>;
<a id="L514" name="L514"></a> 514             <em class="brace">}</em>
<a id="L515" name="L515"></a> 515 
<a id="L516" name="L516"></a> 516             colWidth = colModel.<a href="../D/17799.html" title="Multiple defined in 7 places.">getColumn</a>(col).<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L517" name="L517"></a> 517         <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> + colWidth &lt;= pw);
<a id="L518" name="L518"></a> 518 
<a id="L519" name="L519"></a> 519     <em class="brace">}</em>
<a id="L520" name="L520"></a> 520 
<a id="L521" name="L521"></a> 521 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L206">[^]</a><a href="#L450">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>