<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L120">[^]</a><a href="#L376">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L120" title="Defined at 120.">getORB</a></li>
<li><a href="#L129" title="Defined at 129.">setStage</a></li>
<li><a href="#L139" title="Defined at 139.">checkStage</a></li>
<li><a href="#L154" title="Defined at 154.">arguments</a></li>
<li><a href="#L162" title="Defined at 162.">orb_id</a></li>
<li><a href="#L174" title="Defined at 174.">codec_factory</a></li>
<li><a href="#L188" title="Defined at 188.">register_initial_reference</a></li>
<li><a href="#L235" title="Defined at 235.">resolve_initial_references</a></li>
<li><a href="#L264" title="Defined at 264.">add_client_request_interceptor_with_policy</a></li>
<li><a href="#L279" title="Defined at 279.">add_client_request_interceptor</a></li>
<li><a href="#L291" title="Defined at 291.">add_server_request_interceptor_with_policy</a></li>
<li><a href="#L306" title="Defined at 306.">add_server_request_interceptor</a></li>
<li><a href="#L318" title="Defined at 318.">add_ior_interceptor_with_policy</a></li>
<li><a href="#L333" title="Defined at 333.">add_ior_interceptor</a></li>
<li><a href="#L350" title="Defined at 350.">allocate_slot_id</a></li>
<li><a href="#L363" title="Defined at 363.">register_policy_factory</a></li>
<li><a href="#L376" title="Defined at 376.">nullParam</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2003, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> com.sun.corba.se.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.interceptors;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> org.omg.CORBA.BAD_PARAM;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> org.omg.CORBA.BAD_INV_ORDER;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> org.omg.CORBA.CompletionStatus;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> org.omg.CORBA.NO_IMPLEMENT;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> org.omg.CORBA.OBJECT_NOT_EXIST;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> org.omg.CORBA.LocalObject;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> org.omg.CORBA.Policy;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> org.omg.CORBA.PolicyError;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> org.omg.IOP.CodecFactory;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> org.omg.PortableInterceptor.ORBInitInfo;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> org.omg.PortableInterceptor.ClientRequestInterceptor;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> org.omg.PortableInterceptor.IORInterceptor;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> org.omg.PortableInterceptor.PolicyFactory;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> org.omg.PortableInterceptor.ServerRequestInterceptor;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> org.omg.PortableInterceptor.ORBInitInfoPackage.DuplicateName;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> org.omg.PortableInterceptor.ORBInitInfoPackage.InvalidName;
<a id="L44" name="L44"></a>  44 
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> com.sun.corba.se.spi.orb.ORB;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> com.sun.corba.se.spi.legacy.interceptor.ORBInitInfoExt ;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> com.sun.corba.se.spi.logging.CORBALogDomains;
<a id="L48" name="L48"></a>  48 
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> com.sun.corba.se.impl.orbutil.ORBUtility;
<a id="L50" name="L50"></a>  50 
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> com.sun.corba.se.impl.logging.InterceptorsSystemException;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> com.sun.corba.se.impl.logging.ORBUtilSystemException;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> com.sun.corba.se.impl.logging.OMGSystemException;
<a id="L54" name="L54"></a>  54 
<div class="comment">
  ORBInitInfoImpl is the implementation of the ORBInitInfo class to be
  passed to ORBInitializers, as described in orbos/99-12-02.</div>
<a id="L59" name="L59"></a>  59 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/5680.html" title="Multiple referred from 9 places.">ORBInitInfoImpl</a>
<a id="L60" name="L60"></a>  60     <strong class="reserved">extends</strong> org.omg.CORBA.<a href="../S/287.html#L57" title="Defined at 57 in src/org/omg/CORBA/LocalObject.java.">LocalObject</a>
<a id="L61" name="L61"></a>  61     <strong class="reserved">implements</strong> <a href="../S/507.html#L25" title="Defined at 25 in src/org/omg/PortableInterceptor/ORBInitInfo.java.">ORBInitInfo</a>, <a href="../S/7468.html#L38" title="Defined at 38 in src/com/sun/corba/se/spi/legacy/interceptor/ORBInitInfoExt.java.">ORBInitInfoExt</a>
<a id="L62" name="L62"></a>  62 <em class="brace">{</em>
<a id="L63" name="L63"></a>  63     <em class="comment">// The ORB we are initializing</em>
<a id="L64" name="L64"></a>  64     <strong class="reserved">private</strong> <a href="../D/6219.html" title="Multiple defined in 5 places.">ORB</a> <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>;
<a id="L65" name="L65"></a>  65 
<a id="L66" name="L66"></a>  66     <strong class="reserved">private</strong> <a href="../S/7266.html#L30" title="Defined at 30 in src/com/sun/corba/se/impl/logging/InterceptorsSystemException.java.">InterceptorsSystemException</a> wrapper ;
<a id="L67" name="L67"></a>  67     <strong class="reserved">private</strong> <a href="../S/7263.html#L38" title="Defined at 38 in src/com/sun/corba/se/impl/logging/ORBUtilSystemException.java.">ORBUtilSystemException</a> orbutilWrapper ;
<a id="L68" name="L68"></a>  68     <strong class="reserved">private</strong> <a href="../S/7267.html#L43" title="Defined at 43 in src/com/sun/corba/se/impl/logging/OMGSystemException.java.">OMGSystemException</a> omgWrapper ;
<a id="L69" name="L69"></a>  69 
<a id="L70" name="L70"></a>  70     <em class="comment">// The arguments passed to ORB_init</em>
<a id="L71" name="L71"></a>  71     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] args;
<a id="L72" name="L72"></a>  72 
<a id="L73" name="L73"></a>  73     <em class="comment">// The ID of the ORB being initialized</em>
<a id="L74" name="L74"></a>  74     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> orbId;
<a id="L75" name="L75"></a>  75 
<a id="L76" name="L76"></a>  76     <em class="comment">// The CodecFactory</em>
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> <a href="../S/610.html#L17" title="Defined at 17 in src/org/omg/IOP/CodecFactory.java.">CodecFactory</a> codecFactory;
<a id="L78" name="L78"></a>  78 
<a id="L79" name="L79"></a>  79     <em class="comment">// The current stage of initialization</em>
<a id="L80" name="L80"></a>  80     <strong class="reserved">private</strong> <strong class="reserved">int</strong> stage = STAGE_PRE_INIT;
<a id="L81" name="L81"></a>  81 
<a id="L82" name="L82"></a>  82     <em class="comment">// The pre-initialization stage (pre_init() being called)</em>
<a id="L83" name="L83"></a>  83     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> STAGE_PRE_INIT = 0;
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85     <em class="comment">// The post-initialization stage (post_init() being called)</em>
<a id="L86" name="L86"></a>  86     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> STAGE_POST_INIT = 1;
<a id="L87" name="L87"></a>  87 
<a id="L88" name="L88"></a>  88     <em class="comment">// Reject all calls - this object should no longer be around.</em>
<a id="L89" name="L89"></a>  89     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> STAGE_CLOSED = 2;
<a id="L90" name="L90"></a>  90 
<a id="L91" name="L91"></a>  91     <em class="comment">// The description for the OBJECT_NOT_EXIST exception in STAGE_CLOSED</em>
<a id="L92" name="L92"></a>  92     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> MESSAGE_ORBINITINFO_INVALID =
<a id="L93" name="L93"></a>  93         "ORBInitInfo object is only valid during ORB_init";
<a id="L94" name="L94"></a>  94 
<div class="comment">
      Creates a new ORBInitInfoImpl object (scoped to package)
      @param args The arguments passed to ORB_init.</div>
<a id="L100" name="L100"></a> 100     ORBInitInfoImpl( <a href="../D/6219.html" title="Multiple defined in 5 places.">ORB</a> <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] args,
<a id="L101" name="L101"></a> 101         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> orbId, <a href="../S/610.html#L17" title="Defined at 17 in src/org/omg/IOP/CodecFactory.java.">CodecFactory</a> codecFactory )
<a id="L102" name="L102"></a> 102     <em class="brace">{</em>
<a id="L103" name="L103"></a> 103         <strong class="reserved">this</strong>.<a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a> = <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>;
<a id="L104" name="L104"></a> 104 
<a id="L105" name="L105"></a> 105         wrapper = <a href="../S/7266.html#L30" title="Defined at 30 in src/com/sun/corba/se/impl/logging/InterceptorsSystemException.java.">InterceptorsSystemException</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>( <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>,
<a id="L106" name="L106"></a> 106             <a href="../S/7576.html#L57" title="Defined at 57 in src/com/sun/corba/se/spi/logging/CORBALogDomains.java.">CORBALogDomains</a>.RPC_PROTOCOL ) ;
<a id="L107" name="L107"></a> 107         orbutilWrapper = <a href="../S/7263.html#L38" title="Defined at 38 in src/com/sun/corba/se/impl/logging/ORBUtilSystemException.java.">ORBUtilSystemException</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>( <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>,
<a id="L108" name="L108"></a> 108             <a href="../S/7576.html#L57" title="Defined at 57 in src/com/sun/corba/se/spi/logging/CORBALogDomains.java.">CORBALogDomains</a>.RPC_PROTOCOL ) ;
<a id="L109" name="L109"></a> 109         omgWrapper = <a href="../S/7267.html#L43" title="Defined at 43 in src/com/sun/corba/se/impl/logging/OMGSystemException.java.">OMGSystemException</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>( <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>,
<a id="L110" name="L110"></a> 110             <a href="../S/7576.html#L57" title="Defined at 57 in src/com/sun/corba/se/spi/logging/CORBALogDomains.java.">CORBALogDomains</a>.RPC_PROTOCOL ) ;
<a id="L111" name="L111"></a> 111 
<a id="L112" name="L112"></a> 112         <strong class="reserved">this</strong>.args = args;
<a id="L113" name="L113"></a> 113         <strong class="reserved">this</strong>.orbId = orbId;
<a id="L114" name="L114"></a> 114         <strong class="reserved">this</strong>.codecFactory = codecFactory;
<a id="L115" name="L115"></a> 115     <em class="brace">}</em>
<a id="L116" name="L116"></a> 116 
<div class="comment">
 Return the ORB behind this ORBInitInfo.  This is defined in the
      ORBInitInfoExt interface.</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">public</strong> <a href="../D/6219.html" title="Multiple defined in 5 places.">ORB</a> <a href="../R/18064.html" title="Multiple referred from 23 places.">getORB</a>()
<a id="L121" name="L121"></a> 121     <em class="brace">{</em>
<a id="L122" name="L122"></a> 122         <strong class="reserved">return</strong> <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a> ;
<a id="L123" name="L123"></a> 123     <em class="brace">}</em>
<a id="L124" name="L124"></a> 124 
<div class="comment">
      Sets the current stage we are in.  This limits access to certain
      functionality.</div>
<a id="L129" name="L129"></a> 129     <strong class="reserved">void</strong> <a href="../R/28216.html" title="Multiple referred from 3 places.">setStage</a>( <strong class="reserved">int</strong> stage ) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130         <strong class="reserved">this</strong>.stage = stage;
<a id="L131" name="L131"></a> 131     <em class="brace">}</em>
<a id="L132" name="L132"></a> 132 
<div class="comment">
      Throws an exception if the current stage is STAGE_CLOSED.
      This is called before any method is invoked to ensure that
      no method invocations are attempted after all calls to post_init()
      are completed.</div>
<a id="L139" name="L139"></a> 139     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11368.html" title="Multiple referred from 10 places.">checkStage</a>() <em class="brace">{</em>
<a id="L140" name="L140"></a> 140         <strong class="reserved">if</strong>( stage == STAGE_CLOSED ) <em class="brace">{</em>
<a id="L141" name="L141"></a> 141             <strong class="reserved">throw</strong> wrapper.<a href="../D/28575.html" title="Multiple defined in 4 places.">orbinitinfoInvalid</a>() ;
<a id="L142" name="L142"></a> 142         <em class="brace">}</em>
<a id="L143" name="L143"></a> 143     <em class="brace">}</em>
<a id="L144" name="L144"></a> 144 
<div class="comment">
     ******************************************************************
      The following are implementations of the ORBInitInfo operations.
     ******************************************************************</div>
<a id="L149" name="L149"></a> 149 
<div class="comment">
      This attribute contains the arguments passed to ORB_init.  They may
      or may not contain the ORB's arguments</div>
<a id="L154" name="L154"></a> 154     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/10304.html" title="Multiple referred from 334 places.">arguments</a> () <em class="brace">{</em>
<a id="L155" name="L155"></a> 155         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L156" name="L156"></a> 156         <strong class="reserved">return</strong> args;
<a id="L157" name="L157"></a> 157     <em class="brace">}</em>
<a id="L158" name="L158"></a> 158 
<div class="comment">
      This attribute is the ID of the ORB being initialized</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> orb_id () <em class="brace">{</em>
<a id="L163" name="L163"></a> 163         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L164" name="L164"></a> 164         <strong class="reserved">return</strong> orbId;
<a id="L165" name="L165"></a> 165     <em class="brace">}</em>
<a id="L166" name="L166"></a> 166 
<div class="comment">
      This attribute is the IOP::CodecFactory.  The CodecFactory is normally
      obtained via a call to ORB::resolve_initial_references( "CodecFactory" )
      but since the ORB is not yet available and Interceptors, particularly
      when processing service contexts, will require a Codec, a means of
      obtaining a Codec is necessary during ORB intialization.</div>
<a id="L174" name="L174"></a> 174     <strong class="reserved">public</strong> <a href="../S/610.html#L17" title="Defined at 17 in src/org/omg/IOP/CodecFactory.java.">CodecFactory</a> codec_factory () <em class="brace">{</em>
<a id="L175" name="L175"></a> 175         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L176" name="L176"></a> 176         <strong class="reserved">return</strong> codecFactory;
<a id="L177" name="L177"></a> 177     <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<div class="comment">
      See orbos/99-12-02, Chapter 11, Dynamic Initial References on page
      11-81.  This operation is identical to ORB::register_initial_reference
      described there.  This same functionality exists here because the ORB,
      not yet fully initialized, is not yet available but initial references
      may need to be registered as part of Interceptor registration.
      <p>
      This method may not be called during post_init.</p></div>
<a id="L188" name="L188"></a> 188     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25830.html" title="Multiple referred from 7 places.">register_initial_reference</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>,
<a id="L189" name="L189"></a> 189                                             org.omg.CORBA.<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj )
<a id="L190" name="L190"></a> 190         <strong class="reserved">throws</strong> <a href="../D/4389.html" title="Multiple defined in 3 places.">InvalidName</a>
<a id="L191" name="L191"></a> 191     <em class="brace">{</em>
<a id="L192" name="L192"></a> 192         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L193" name="L193"></a> 193         <strong class="reserved">if</strong>( <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> == <strong class="reserved">null</strong> ) <a href="../D/28353.html" title="Multiple defined in 8 places.">nullParam</a>();
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195         <em class="comment">// As per CORBA 3.0 section 21.8.1,</em>
<a id="L196" name="L196"></a> 196         <em class="comment">// if null is passed as the obj parameter,</em>
<a id="L197" name="L197"></a> 197         <em class="comment">// throw BAD_PARAM with minor code OMGSystemException.RIR_WITH_NULL_OBJECT.</em>
<a id="L198" name="L198"></a> 198         <em class="comment">// Though the spec is talking about IDL null, we will address both</em>
<a id="L199" name="L199"></a> 199         <em class="comment">// Java null and IDL null:</em>
<a id="L200" name="L200"></a> 200         <em class="comment">// Note: Local Objects can never be nil!</em>
<a id="L201" name="L201"></a> 201         <strong class="reserved">if</strong>( obj == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202             <strong class="reserved">throw</strong> omgWrapper.<a href="../D/31430.html" title="Multiple defined in 4 places.">rirWithNullObject</a>() ;
<a id="L203" name="L203"></a> 203         <em class="brace">}</em>
<a id="L204" name="L204"></a> 204 
<a id="L205" name="L205"></a> 205         <em class="comment">// This check was made to determine that the objref is a</em>
<a id="L206" name="L206"></a> 206         <em class="comment">// non-local objref that is fully</em>
<a id="L207" name="L207"></a> 207         <em class="comment">// initialized: this was called only for its side-effects of</em>
<a id="L208" name="L208"></a> 208         <em class="comment">// possibly throwing exceptions.  However, registering</em>
<a id="L209" name="L209"></a> 209         <em class="comment">// local objects should be permitted!</em>
<a id="L210" name="L210"></a> 210         <em class="comment">// XXX/Revisit?</em>
<a id="L211" name="L211"></a> 211         <em class="comment">// IOR ior = ORBUtility.getIOR( obj ) ;</em>
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213         <em class="comment">// Delegate to ORB.  If ORB version throws InvalidName, convert to</em>
<a id="L214" name="L214"></a> 214         <em class="comment">// equivalent Portable Interceptors InvalidName.</em>
<a id="L215" name="L215"></a> 215         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L216" name="L216"></a> 216             <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>.<a href="../D/30613.html" title="Multiple defined in 5 places.">register_initial_reference</a>( <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, obj );
<a id="L217" name="L217"></a> 217         <em class="brace">}</em> <strong class="reserved">catch</strong>( org.omg.CORBA.ORBPackage.<a href="../D/4389.html" title="Multiple defined in 3 places.">InvalidName</a> e ) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218             <a href="../D/4389.html" title="Multiple defined in 3 places.">InvalidName</a> exc = <strong class="reserved">new</strong> <a href="../D/4389.html" title="Multiple defined in 3 places.">InvalidName</a>( e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>() );
<a id="L219" name="L219"></a> 219             exc.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>( e ) ;
<a id="L220" name="L220"></a> 220             <strong class="reserved">throw</strong> exc ;
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222     <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<div class="comment">
      This operation is only valid during post_init.  It is identical to
      ORB::resolve_initial_references.  This same functionality exists here
      because the ORB, not yet fully initialized, is not yet available,
      but initial references may be required from the ORB as part
      of Interceptor registration.
      <p>
      (incorporates changes from errata in orbos/00-01-01)
      </p><p>
      This method may not be called during pre_init.</p></div>
<a id="L235" name="L235"></a> 235     <strong class="reserved">public</strong> org.omg.CORBA.<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/26412.html" title="Multiple referred from 26 places.">resolve_initial_references</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>)
<a id="L236" name="L236"></a> 236         <strong class="reserved">throws</strong> <a href="../D/4389.html" title="Multiple defined in 3 places.">InvalidName</a>
<a id="L237" name="L237"></a> 237     <em class="brace">{</em>
<a id="L238" name="L238"></a> 238         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L239" name="L239"></a> 239         <strong class="reserved">if</strong>( <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> == <strong class="reserved">null</strong> ) <a href="../D/28353.html" title="Multiple defined in 8 places.">nullParam</a>();
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241         <strong class="reserved">if</strong>( stage == STAGE_PRE_INIT ) <em class="brace">{</em>
<a id="L242" name="L242"></a> 242             <em class="comment">// Initializer is not allowed to invoke this method during</em>
<a id="L243" name="L243"></a> 243             <em class="comment">// this stage.</em>
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245             <em class="comment">// _REVISIT_ Spec issue: What exception should really be</em>
<a id="L246" name="L246"></a> 246             <em class="comment">// thrown here?</em>
<a id="L247" name="L247"></a> 247             <strong class="reserved">throw</strong> wrapper.<a href="../D/31429.html" title="Multiple defined in 4 places.">rirInvalidPreInit</a>() ;
<a id="L248" name="L248"></a> 248         <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250         org.omg.CORBA.<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> objRef = <strong class="reserved">null</strong>;
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L253" name="L253"></a> 253             objRef = <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>.<a href="../D/31336.html" title="Multiple defined in 5 places.">resolve_initial_references</a>( <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> );
<a id="L254" name="L254"></a> 254         <em class="brace">}</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">catch</strong>( org.omg.CORBA.ORBPackage.<a href="../D/4389.html" title="Multiple defined in 3 places.">InvalidName</a> e ) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256             <em class="comment">// Convert PIDL to IDL exception:</em>
<a id="L257" name="L257"></a> 257             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4389.html" title="Multiple defined in 3 places.">InvalidName</a>();
<a id="L258" name="L258"></a> 258         <em class="brace">}</em>
<a id="L259" name="L259"></a> 259 
<a id="L260" name="L260"></a> 260         <strong class="reserved">return</strong> objRef;
<a id="L261" name="L261"></a> 261     <em class="brace">}</em>
<a id="L262" name="L262"></a> 262 
<a id="L263" name="L263"></a> 263     <em class="comment">// New method from CORBA 3.1</em>
<a id="L264" name="L264"></a> 264     <strong class="reserved">public</strong> <strong class="reserved">void</strong> add_client_request_interceptor_with_policy (
<a id="L265" name="L265"></a> 265         <a href="../S/493.html#L28" title="Defined at 28 in src/org/omg/PortableInterceptor/ClientRequestInterceptor.java.">ClientRequestInterceptor</a> interceptor, <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>[] policies )
<a id="L266" name="L266"></a> 266         <strong class="reserved">throws</strong> <a href="../S/477.html#L11" title="Defined at 11 in src/org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateName.java.">DuplicateName</a>
<a id="L267" name="L267"></a> 267     <em class="brace">{</em>
<a id="L268" name="L268"></a> 268         <em class="comment">// XXX ignore policies for now</em>
<a id="L269" name="L269"></a> 269         <a href="../D/11183.html" title="Multiple defined in 2 places.">add_client_request_interceptor</a>( interceptor ) ;
<a id="L270" name="L270"></a> 270     <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<div class="comment">
      This operation is used to add a client-side request Interceptor to
      the list of client-side request Interceptors.
      <p>
      If a client-side request Interceptor has already been registered
      with this Interceptor's name, DuplicateName is raised.</p></div>
<a id="L279" name="L279"></a> 279     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/6868.html#L269" title="Referred from 269 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">add_client_request_interceptor</a> (
<a id="L280" name="L280"></a> 280         <a href="../S/493.html#L28" title="Defined at 28 in src/org/omg/PortableInterceptor/ClientRequestInterceptor.java.">ClientRequestInterceptor</a> interceptor)
<a id="L281" name="L281"></a> 281         <strong class="reserved">throws</strong> <a href="../S/477.html#L11" title="Defined at 11 in src/org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateName.java.">DuplicateName</a>
<a id="L282" name="L282"></a> 282     <em class="brace">{</em>
<a id="L283" name="L283"></a> 283         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L284" name="L284"></a> 284         <strong class="reserved">if</strong>( interceptor == <strong class="reserved">null</strong> ) <a href="../D/28353.html" title="Multiple defined in 8 places.">nullParam</a>();
<a id="L285" name="L285"></a> 285 
<a id="L286" name="L286"></a> 286         <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>.<a href="../D/21308.html" title="Multiple defined in 4 places.">getPIHandler</a>().<a href="../D/30614.html" title="Multiple defined in 4 places.">register_interceptor</a>( interceptor,
<a id="L287" name="L287"></a> 287             <a href="../S/6865.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/interceptors/InterceptorList.java.">InterceptorList</a>.INTERCEPTOR_TYPE_CLIENT );
<a id="L288" name="L288"></a> 288     <em class="brace">}</em>
<a id="L289" name="L289"></a> 289 
<a id="L290" name="L290"></a> 290     <em class="comment">// New method from CORBA 3.1</em>
<a id="L291" name="L291"></a> 291     <strong class="reserved">public</strong> <strong class="reserved">void</strong> add_server_request_interceptor_with_policy (
<a id="L292" name="L292"></a> 292         <a href="../S/459.html#L28" title="Defined at 28 in src/org/omg/PortableInterceptor/ServerRequestInterceptor.java.">ServerRequestInterceptor</a> interceptor, <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>[] policies )
<a id="L293" name="L293"></a> 293         <strong class="reserved">throws</strong> <a href="../S/477.html#L11" title="Defined at 11 in src/org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateName.java.">DuplicateName</a>, <a href="../S/391.html#L35" title="Defined at 35 in src/org/omg/CORBA/PolicyError.java.">PolicyError</a>
<a id="L294" name="L294"></a> 294     <em class="brace">{</em>
<a id="L295" name="L295"></a> 295         <em class="comment">// XXX ignore policies for now</em>
<a id="L296" name="L296"></a> 296         <a href="../D/11200.html" title="Multiple defined in 2 places.">add_server_request_interceptor</a>( interceptor ) ;
<a id="L297" name="L297"></a> 297     <em class="brace">}</em>
<a id="L298" name="L298"></a> 298 
<div class="comment">
      This operation is used to add a server-side request Interceptor to
      the list of server-side request Interceptors.
      <p>
      If a server-side request Interceptor has already been registered
      with this Interceptor's name, DuplicateName is raised.</p></div>
<a id="L306" name="L306"></a> 306     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/6868.html#L296" title="Referred from 296 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">add_server_request_interceptor</a> (
<a id="L307" name="L307"></a> 307         <a href="../S/459.html#L28" title="Defined at 28 in src/org/omg/PortableInterceptor/ServerRequestInterceptor.java.">ServerRequestInterceptor</a> interceptor)
<a id="L308" name="L308"></a> 308         <strong class="reserved">throws</strong> <a href="../S/477.html#L11" title="Defined at 11 in src/org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateName.java.">DuplicateName</a>
<a id="L309" name="L309"></a> 309     <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L311" name="L311"></a> 311         <strong class="reserved">if</strong>( interceptor == <strong class="reserved">null</strong> ) <a href="../D/28353.html" title="Multiple defined in 8 places.">nullParam</a>();
<a id="L312" name="L312"></a> 312 
<a id="L313" name="L313"></a> 313         <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>.<a href="../D/21308.html" title="Multiple defined in 4 places.">getPIHandler</a>().<a href="../D/30614.html" title="Multiple defined in 4 places.">register_interceptor</a>( interceptor,
<a id="L314" name="L314"></a> 314             <a href="../S/6865.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/interceptors/InterceptorList.java.">InterceptorList</a>.INTERCEPTOR_TYPE_SERVER );
<a id="L315" name="L315"></a> 315     <em class="brace">}</em>
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317     <em class="comment">// New method from CORBA 3.1</em>
<a id="L318" name="L318"></a> 318     <strong class="reserved">public</strong> <strong class="reserved">void</strong> add_ior_interceptor_with_policy (
<a id="L319" name="L319"></a> 319         <a href="../S/498.html#L26" title="Defined at 26 in src/org/omg/PortableInterceptor/IORInterceptor.java.">IORInterceptor</a> interceptor, <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>[] policies )
<a id="L320" name="L320"></a> 320         <strong class="reserved">throws</strong> <a href="../S/477.html#L11" title="Defined at 11 in src/org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateName.java.">DuplicateName</a>, <a href="../S/391.html#L35" title="Defined at 35 in src/org/omg/CORBA/PolicyError.java.">PolicyError</a>
<a id="L321" name="L321"></a> 321     <em class="brace">{</em>
<a id="L322" name="L322"></a> 322         <em class="comment">// XXX ignore policies for now</em>
<a id="L323" name="L323"></a> 323         <a href="../D/11191.html" title="Multiple defined in 2 places.">add_ior_interceptor</a>( interceptor ) ;
<a id="L324" name="L324"></a> 324     <em class="brace">}</em>
<a id="L325" name="L325"></a> 325 
<div class="comment">
      This operation is used to add an IOR Interceptor to
      the list of IOR Interceptors.
      <p>
      If an IOR Interceptor has already been registered
      with this Interceptor's name, DuplicateName is raised.</p></div>
<a id="L333" name="L333"></a> 333     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/6868.html#L323" title="Referred from 323 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">add_ior_interceptor</a> (
<a id="L334" name="L334"></a> 334         <a href="../S/498.html#L26" title="Defined at 26 in src/org/omg/PortableInterceptor/IORInterceptor.java.">IORInterceptor</a> interceptor )
<a id="L335" name="L335"></a> 335         <strong class="reserved">throws</strong> <a href="../S/477.html#L11" title="Defined at 11 in src/org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateName.java.">DuplicateName</a>
<a id="L336" name="L336"></a> 336     <em class="brace">{</em>
<a id="L337" name="L337"></a> 337         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L338" name="L338"></a> 338         <strong class="reserved">if</strong>( interceptor == <strong class="reserved">null</strong> ) <a href="../D/28353.html" title="Multiple defined in 8 places.">nullParam</a>();
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340         <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>.<a href="../D/21308.html" title="Multiple defined in 4 places.">getPIHandler</a>().<a href="../D/30614.html" title="Multiple defined in 4 places.">register_interceptor</a>( interceptor,
<a id="L341" name="L341"></a> 341             <a href="../S/6865.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/interceptors/InterceptorList.java.">InterceptorList</a>.INTERCEPTOR_TYPE_IOR );
<a id="L342" name="L342"></a> 342     <em class="brace">}</em>
<a id="L343" name="L343"></a> 343 
<div class="comment">
      A service calls allocate_slot_id to allocate a slot on
      PortableInterceptor::Current.
      @return The index to the slot which has been allocated.</div>
<a id="L350" name="L350"></a> 350     <strong class="reserved">public</strong> <strong class="reserved">int</strong> allocate_slot_id () <em class="brace">{</em>
<a id="L351" name="L351"></a> 351         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L352" name="L352"></a> 352 
<a id="L353" name="L353"></a> 353         <strong class="reserved">return</strong> ((<a href="../S/6872.html#L45" title="Defined at 45 in src/com/sun/corba/se/impl/interceptors/PICurrent.java.">PICurrent</a>)<a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>.<a href="../D/21308.html" title="Multiple defined in 4 places.">getPIHandler</a>().<a href="../D/21306.html" title="Multiple defined in 3 places.">getPICurrent</a>()).<a href="../S/6872.html#L87" title="Defined at 87 in src/com/sun/corba/se/impl/interceptors/PICurrent.java.">allocateSlotId</a>( );
<a id="L354" name="L354"></a> 354 
<a id="L355" name="L355"></a> 355     <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Register a PolicyFactory for the given PolicyType.
      <p>
      If a PolicyFactory already exists for the given PolicyType,
      BAD_INV_ORDER is raised with a minor code of TBD_BIO+2.</p></div>
<a id="L363" name="L363"></a> 363     <strong class="reserved">public</strong> <strong class="reserved">void</strong> register_policy_factory( <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L364" name="L364"></a> 364                                          <a href="../S/491.html#L25" title="Defined at 25 in src/org/omg/PortableInterceptor/PolicyFactory.java.">PolicyFactory</a> policy_factory )
<a id="L365" name="L365"></a> 365     <em class="brace">{</em>
<a id="L366" name="L366"></a> 366         <a href="../S/6868.html#L139" title="Defined at 139 in src/com/sun/corba/se/impl/interceptors/ORBInitInfoImpl.java.">checkStage</a>();
<a id="L367" name="L367"></a> 367         <strong class="reserved">if</strong>( policy_factory == <strong class="reserved">null</strong> ) <a href="../D/28353.html" title="Multiple defined in 8 places.">nullParam</a>();
<a id="L368" name="L368"></a> 368         <a href="../D/28564.html" title="Multiple defined in 24 places.">orb</a>.<a href="../D/21308.html" title="Multiple defined in 4 places.">getPIHandler</a>().<a href="../D/30584.html" title="Multiple defined in 3 places.">registerPolicyFactory</a>( <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, policy_factory );
<a id="L369" name="L369"></a> 369     <em class="brace">}</em>
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371 
<div class="comment">
      Called when an invalid null parameter was passed.  Throws a
      BAD_PARAM with a minor code of 1</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/23843.html" title="Multiple referred from 47 places.">nullParam</a>()
<a id="L377" name="L377"></a> 377         <strong class="reserved">throws</strong> <a href="../S/432.html#L47" title="Defined at 47 in src/org/omg/CORBA/BAD_PARAM.java.">BAD_PARAM</a>
<a id="L378" name="L378"></a> 378     <em class="brace">{</em>
<a id="L379" name="L379"></a> 379         <strong class="reserved">throw</strong> orbutilWrapper.<a href="../D/28353.html" title="Multiple defined in 8 places.">nullParam</a>() ;
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L120">[^]</a><a href="#L376">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>