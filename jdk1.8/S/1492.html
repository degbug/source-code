<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/time/chrono/AbstractChronology.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L176">[^]</a><a href="#L780">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L176" title="Defined at 176.">registerChrono</a></li>
<li><a href="#L189" title="Defined at 189.">registerChrono</a></li>
<li><a href="#L215" title="Defined at 215.">initCache</a></li>
<li><a href="#L254" title="Defined at 254.">ofLocale</a></li>
<li><a href="#L292" title="Defined at 292.">of</a></li>
<li><a href="#L321" title="Defined at 321.">of0</a></li>
<li><a href="#L339" title="Defined at 339.">getAvailableChronologies</a></li>
<li><a href="#L453" title="Defined at 453.">resolveDate</a></li>
<li><a href="#L498" title="Defined at 498.">resolveProlepticMonth</a></li>
<li><a href="#L513" title="Defined at 513.">resolveYearOfEra</a></li>
<li><a href="#L551" title="Defined at 551.">resolveYMD</a></li>
<li><a href="#L571" title="Defined at 571.">resolveYD</a></li>
<li><a href="#L581" title="Defined at 581.">resolveYMAA</a></li>
<li><a href="#L599" title="Defined at 599.">resolveYMAD</a></li>
<li><a href="#L617" title="Defined at 617.">resolveYAA</a></li>
<li><a href="#L633" title="Defined at 633.">resolveYAD</a></li>
<li><a href="#L649" title="Defined at 649.">resolveAligned</a></li>
<li><a href="#L673" title="Defined at 673.">addFieldValue</a></li>
<li><a href="#L697" title="Defined at 697.">compareTo</a></li>
<li><a href="#L714" title="Defined at 714.">equals</a></li>
<li><a href="#L736" title="Defined at 736.">hashCode</a></li>
<li><a href="#L747" title="Defined at 747.">toString</a></li>
<li><a href="#L762" title="Defined at 762.">writeReplace</a></li>
<li><a href="#L772" title="Defined at 772.">readObject</a></li>
<li><a href="#L776" title="Defined at 776.">writeExternal</a></li>
<li><a href="#L780" title="Defined at 780.">readExternal</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  Copyright (c) 2012, Stephen Colebourne &amp; Michael Nascimento Santos
  All rights reserved.
  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
   * Neither the name of JSR-310 nor the names of its contributors
     may be used to endorse or promote products derived from this software
     without specific prior written permission.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div>
<a id="L62" name="L62"></a>  62 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>.chrono;
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.ALIGNED_WEEK_OF_MONTH;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.ALIGNED_WEEK_OF_YEAR;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.DAY_OF_MONTH;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.DAY_OF_WEEK;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.DAY_OF_YEAR;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.EPOCH_DAY;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.ERA;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.MONTH_OF_YEAR;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.PROLEPTIC_MONTH;
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.YEAR;
<a id="L76" name="L76"></a>  76 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.YEAR_OF_ERA;
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.DAYS;
<a id="L78" name="L78"></a>  78 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.MONTHS;
<a id="L79" name="L79"></a>  79 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.WEEKS;
<a id="L80" name="L80"></a>  80 <strong class="reserved">import</strong> static java.time.temporal.TemporalAdjusters.nextOrSame;
<a id="L81" name="L81"></a>  81 
<a id="L82" name="L82"></a>  82 <strong class="reserved">import</strong> java.io.DataInput;
<a id="L83" name="L83"></a>  83 <strong class="reserved">import</strong> java.io.DataOutput;
<a id="L84" name="L84"></a>  84 <strong class="reserved">import</strong> java.io.IOException;
<a id="L85" name="L85"></a>  85 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L86" name="L86"></a>  86 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L87" name="L87"></a>  87 <strong class="reserved">import</strong> java.io.ObjectStreamException;
<a id="L88" name="L88"></a>  88 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L89" name="L89"></a>  89 <strong class="reserved">import</strong> java.time.DateTimeException;
<a id="L90" name="L90"></a>  90 <strong class="reserved">import</strong> java.time.DayOfWeek;
<a id="L91" name="L91"></a>  91 <strong class="reserved">import</strong> java.time.format.ResolverStyle;
<a id="L92" name="L92"></a>  92 <strong class="reserved">import</strong> java.time.temporal.ChronoField;
<a id="L93" name="L93"></a>  93 <strong class="reserved">import</strong> java.time.temporal.TemporalAdjusters;
<a id="L94" name="L94"></a>  94 <strong class="reserved">import</strong> java.time.temporal.TemporalField;
<a id="L95" name="L95"></a>  95 <strong class="reserved">import</strong> java.time.temporal.ValueRange;
<a id="L96" name="L96"></a>  96 <strong class="reserved">import</strong> java.util.Comparator;
<a id="L97" name="L97"></a>  97 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L98" name="L98"></a>  98 <strong class="reserved">import</strong> java.util.List;
<a id="L99" name="L99"></a>  99 <strong class="reserved">import</strong> java.util.Locale;
<a id="L100" name="L100"></a> 100 <strong class="reserved">import</strong> java.util.Map;
<a id="L101" name="L101"></a> 101 <strong class="reserved">import</strong> java.util.Objects;
<a id="L102" name="L102"></a> 102 <strong class="reserved">import</strong> java.util.ServiceLoader;
<a id="L103" name="L103"></a> 103 <strong class="reserved">import</strong> java.util.Set;
<a id="L104" name="L104"></a> 104 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106 <strong class="reserved">import</strong> sun.util.logging.PlatformLogger;
<a id="L107" name="L107"></a> 107 
<div class="comment">
  An abstract implementation of a calendar system, used to organize and identify dates.
  <p>
  The main date and time API is built on the ISO calendar system.
  The chronology operates behind the scenes to represent the general concept of a calendar system.
  </p><p>
  See {@link Chronology} for more details.
  @implSpec
  This class is separated from the <code>Chronology</code> interface so that the static methods
  are not inherited. While <code>Chronology</code> can be implemented directly, it is strongly
  recommended to extend this abstract class instead.
  </p><p>
  This class must be implemented with care to ensure other classes operate correctly.
  All implementations that can be instantiated must be final, immutable and thread-safe.
  Subclasses should be Serializable wherever possible.
  @since 1.8</p></div>
<a id="L127" name="L127"></a> 127 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/73.html" title="Multiple referred from 20 places.">AbstractChronology</a> <strong class="reserved">implements</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> <em class="brace">{</em>
<a id="L128" name="L128"></a> 128 
<div class="comment">
      ChronoLocalDate order constant.</div>
<a id="L132" name="L132"></a> 132     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a>&gt; DATE_ORDER =
<a id="L133" name="L133"></a> 133         (<a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a>&gt; &amp; <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>) (date1, date2) -&gt; <em class="brace">{</em>
<a id="L134" name="L134"></a> 134             <strong class="reserved">return</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(date1.<a href="../D/35390.html" title="Multiple defined in 6 places.">toEpochDay</a>(), date2.<a href="../D/35390.html" title="Multiple defined in 6 places.">toEpochDay</a>());
<a id="L135" name="L135"></a> 135         <em class="brace">}</em>;
<div class="comment">
      ChronoLocalDateTime order constant.</div>
<a id="L139" name="L139"></a> 139     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/1503.html#L120" title="Defined at 120 in src/java/time/chrono/ChronoLocalDateTime.java.">ChronoLocalDateTime</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a>&gt;&gt; DATE_TIME_ORDER =
<a id="L140" name="L140"></a> 140         (<a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/1503.html#L120" title="Defined at 120 in src/java/time/chrono/ChronoLocalDateTime.java.">ChronoLocalDateTime</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a>&gt;&gt; &amp; <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>) (dateTime1, dateTime2) -&gt; <em class="brace">{</em>
<a id="L141" name="L141"></a> 141             <strong class="reserved">int</strong> cmp = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(dateTime1.<a href="../D/35429.html" title="Multiple defined in 7 places.">toLocalDate</a>().<a href="../D/35390.html" title="Multiple defined in 6 places.">toEpochDay</a>(), dateTime2.<a href="../D/35429.html" title="Multiple defined in 7 places.">toLocalDate</a>().<a href="../D/35390.html" title="Multiple defined in 6 places.">toEpochDay</a>());
<a id="L142" name="L142"></a> 142             <strong class="reserved">if</strong> (cmp == 0) <em class="brace">{</em>
<a id="L143" name="L143"></a> 143                 cmp = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(dateTime1.<a href="../D/35431.html" title="Multiple defined in 8 places.">toLocalTime</a>().<a href="../S/1527.html#L1463" title="Defined at 1463 in src/java/time/LocalTime.java.">toNanoOfDay</a>(), dateTime2.<a href="../D/35431.html" title="Multiple defined in 8 places.">toLocalTime</a>().<a href="../S/1527.html#L1463" title="Defined at 1463 in src/java/time/LocalTime.java.">toNanoOfDay</a>());
<a id="L144" name="L144"></a> 144             <em class="brace">}</em>
<a id="L145" name="L145"></a> 145             <strong class="reserved">return</strong> cmp;
<a id="L146" name="L146"></a> 146         <em class="brace">}</em>;
<div class="comment">
      ChronoZonedDateTime order constant.</div>
<a id="L150" name="L150"></a> 150     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;?&gt;&gt; INSTANT_ORDER =
<a id="L151" name="L151"></a> 151             (<a href="../D/1687.html" title="Multiple defined in 3 places.">Comparator</a>&lt;<a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;?&gt;&gt; &amp; <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>) (dateTime1, dateTime2) -&gt; <em class="brace">{</em>
<a id="L152" name="L152"></a> 152                 <strong class="reserved">int</strong> cmp = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(dateTime1.<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>(), dateTime2.<a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>());
<a id="L153" name="L153"></a> 153                 <strong class="reserved">if</strong> (cmp == 0) <em class="brace">{</em>
<a id="L154" name="L154"></a> 154                     cmp = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(dateTime1.<a href="../D/35431.html" title="Multiple defined in 8 places.">toLocalTime</a>().<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>(), dateTime2.<a href="../D/35431.html" title="Multiple defined in 8 places.">toLocalTime</a>().<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>());
<a id="L155" name="L155"></a> 155                 <em class="brace">}</em>
<a id="L156" name="L156"></a> 156                 <strong class="reserved">return</strong> cmp;
<a id="L157" name="L157"></a> 157             <em class="brace">}</em>;
<a id="L158" name="L158"></a> 158 
<div class="comment">
      Map of available calendars by ID.</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; CHRONOS_BY_ID = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;();
<div class="comment">
      Map of available calendars by calendar type.</div>
<a id="L166" name="L166"></a> 166     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; CHRONOS_BY_TYPE = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;();
<a id="L167" name="L167"></a> 167 
<div class="comment">
      Register a Chronology by its ID and type for lookup by {@link #of(String)}.
      Chronologies must not be registered until they are completely constructed.
      Specifically, not in the constructor of Chronology.
      @param chrono the chronology to register; not null
      @return the already registered Chronology if any, may be null</div>
<a id="L176" name="L176"></a> 176     <strong class="reserved">static</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> <a href="../R/25757.html" title="Multiple referred from 10 places.">registerChrono</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono) <em class="brace">{</em>
<a id="L177" name="L177"></a> 177         <strong class="reserved">return</strong> <a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(chrono, chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L178" name="L178"></a> 178     <em class="brace">}</em>
<a id="L179" name="L179"></a> 179 
<div class="comment">
      Register a Chronology by ID and type for lookup by {@link #of(String)}.
      Chronos must not be registered until they are completely constructed.
      Specifically, not in the constructor of Chronology.
      @param chrono the chronology to register; not null
      @param id the ID to register the chronology; not null
      @return the already registered Chronology if any, may be null</div>
<a id="L189" name="L189"></a> 189     <strong class="reserved">static</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> <a href="../R/25757.html" title="Multiple referred from 10 places.">registerChrono</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190         <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> prev = CHRONOS_BY_ID.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, chrono);
<a id="L191" name="L191"></a> 191         <strong class="reserved">if</strong> (prev == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L192" name="L192"></a> 192             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = chrono.<a href="../D/17463.html" title="Multiple defined in 9 places.">getCalendarType</a>();
<a id="L193" name="L193"></a> 193             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L194" name="L194"></a> 194                 CHRONOS_BY_TYPE.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, chrono);
<a id="L195" name="L195"></a> 195             <em class="brace">}</em>
<a id="L196" name="L196"></a> 196         <em class="brace">}</em>
<a id="L197" name="L197"></a> 197         <strong class="reserved">return</strong> prev;
<a id="L198" name="L198"></a> 198     <em class="brace">}</em>
<a id="L199" name="L199"></a> 199 
<div class="comment">
      Initialization of the maps from id and type to Chronology.
      The ServiceLoader is used to find and register any implementations
      of {@link java.time.chrono.AbstractChronology} found in the bootclass loader.
      The built-in chronologies are registered explicitly.
      Calendars configured via the Thread's context classloader are local
      to that thread and are ignored.
      <p>
      The initialization is done only once using the registration
      of the IsoChronology as the test and the final step.
      Multiple threads may perform the initialization concurrently.
      Only the first registration of each Chronology is retained by the
      ConcurrentHashMap.
      @return true if the cache was initialized</p></div>
<a id="L215" name="L215"></a> 215     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/20546.html" title="Multiple referred from 3 places.">initCache</a>() <em class="brace">{</em>
<a id="L216" name="L216"></a> 216         <strong class="reserved">if</strong> (CHRONOS_BY_ID.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("ISO") == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L217" name="L217"></a> 217             <em class="comment">// Initialization is incomplete</em>
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219             <em class="comment">// Register built-in Chronologies</em>
<a id="L220" name="L220"></a> 220             <a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(<a href="../S/1502.html#L217" title="Defined at 217 in src/java/time/chrono/HijrahChronology.java.">HijrahChronology</a>.INSTANCE);
<a id="L221" name="L221"></a> 221             <a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(<a href="../S/1507.html#L123" title="Defined at 123 in src/java/time/chrono/JapaneseChronology.java.">JapaneseChronology</a>.INSTANCE);
<a id="L222" name="L222"></a> 222             <a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(<a href="../S/1501.html#L108" title="Defined at 108 in src/java/time/chrono/MinguoChronology.java.">MinguoChronology</a>.INSTANCE);
<a id="L223" name="L223"></a> 223             <a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(<a href="../S/1491.html#L109" title="Defined at 109 in src/java/time/chrono/ThaiBuddhistChronology.java.">ThaiBuddhistChronology</a>.INSTANCE);
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225             <em class="comment">// Register Chronologies from the ServiceLoader</em>
<a id="L226" name="L226"></a> 226             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("rawtypes")
<a id="L227" name="L227"></a> 227             <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>&lt;<a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a>&gt; loader =  <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a>.<strong class="reserved">class</strong>, <strong class="reserved">null</strong>);
<a id="L228" name="L228"></a> 228             <strong class="reserved">for</strong> (<a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a> chrono : loader) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>();
<a id="L230" name="L230"></a> 230                 <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("ISO") || <a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(chrono) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L231" name="L231"></a> 231                     <em class="comment">// Log the attempt to replace an existing Chronology</em>
<a id="L232" name="L232"></a> 232                     PlatformLogger <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = PlatformLogger.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>("java.time.chrono");
<a id="L233" name="L233"></a> 233                     <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/36831.html" title="Multiple defined in 36 places.">warning</a>("Ignoring duplicate Chronology, from ServiceLoader configuration "  + <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L234" name="L234"></a> 234                 <em class="brace">}</em>
<a id="L235" name="L235"></a> 235             <em class="brace">}</em>
<a id="L236" name="L236"></a> 236 
<a id="L237" name="L237"></a> 237             <em class="comment">// finally, register IsoChronology to mark initialization is complete</em>
<a id="L238" name="L238"></a> 238             <a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(<a href="../S/1513.html#L123" title="Defined at 123 in src/java/time/chrono/IsoChronology.java.">IsoChronology</a>.INSTANCE);
<a id="L239" name="L239"></a> 239             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L240" name="L240"></a> 240         <em class="brace">}</em>
<a id="L241" name="L241"></a> 241         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L242" name="L242"></a> 242     <em class="brace">}</em>
<a id="L243" name="L243"></a> 243 
<a id="L244" name="L244"></a> 244     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Obtains an instance of <code>Chronology</code> from a locale.
      <p>
      See {@link Chronology#ofLocale(Locale)}.
      @param locale  the locale to use to obtain the calendar system, not null
      @return the calendar system associated with the locale, not null
      @throws java.time.DateTimeException if the locale-specified calendar cannot be found</p></div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">static</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> <a href="../S/1511.html#L225" title="Referred from 225 in src/java/time/chrono/Chronology.java.">ofLocale</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, "locale");
<a id="L256" name="L256"></a> 256         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1206" title="Defined at 1206 in src/java/util/Locale.java.">getUnicodeLocaleType</a>("ca");
<a id="L257" name="L257"></a> 257         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong> || "iso".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) || "iso8601".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258             <strong class="reserved">return</strong> <a href="../S/1513.html#L123" title="Defined at 123 in src/java/time/chrono/IsoChronology.java.">IsoChronology</a>.INSTANCE;
<a id="L259" name="L259"></a> 259         <em class="brace">}</em>
<a id="L260" name="L260"></a> 260         <em class="comment">// Not pre-defined; lookup by the type</em>
<a id="L261" name="L261"></a> 261         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L262" name="L262"></a> 262             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = CHRONOS_BY_TYPE.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L263" name="L263"></a> 263             <strong class="reserved">if</strong> (chrono != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L264" name="L264"></a> 264                 <strong class="reserved">return</strong> chrono;
<a id="L265" name="L265"></a> 265             <em class="brace">}</em>
<a id="L266" name="L266"></a> 266             <em class="comment">// If not found, do the initialization (once) and repeat the lookup</em>
<a id="L267" name="L267"></a> 267         <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../S/1492.html#L215" title="Defined at 215 in src/java/time/chrono/AbstractChronology.java.">initCache</a>());
<a id="L268" name="L268"></a> 268 
<a id="L269" name="L269"></a> 269         <em class="comment">// Look for a Chronology using ServiceLoader of the Thread's ContextClassLoader</em>
<a id="L270" name="L270"></a> 270         <em class="comment">// Application provided Chronologies must not be cached</em>
<a id="L271" name="L271"></a> 271         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("rawtypes")
<a id="L272" name="L272"></a> 272         <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>&lt;<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; loader = <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<strong class="reserved">class</strong>);
<a id="L273" name="L273"></a> 273         <strong class="reserved">for</strong> (<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono : loader) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(chrono.<a href="../D/17463.html" title="Multiple defined in 9 places.">getCalendarType</a>())) <em class="brace">{</em>
<a id="L275" name="L275"></a> 275                 <strong class="reserved">return</strong> chrono;
<a id="L276" name="L276"></a> 276             <em class="brace">}</em>
<a id="L277" name="L277"></a> 277         <em class="brace">}</em>
<a id="L278" name="L278"></a> 278         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Unknown calendar system: " + <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L279" name="L279"></a> 279     <em class="brace">}</em>
<a id="L280" name="L280"></a> 280 
<a id="L281" name="L281"></a> 281     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Obtains an instance of <code>Chronology</code> from a chronology ID or
      calendar system type.
      <p>
      See {@link Chronology#of(String)}.
      @param id  the chronology ID or calendar system type, not null
      @return the chronology with the identifier requested, not null
      @throws java.time.DateTimeException if the chronology cannot be found</p></div>
<a id="L292" name="L292"></a> 292     <strong class="reserved">static</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> <a href="../R/23902.html" title="Multiple referred from 267 places.">of</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, "id");
<a id="L294" name="L294"></a> 294         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L295" name="L295"></a> 295             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1492.html#L321" title="Defined at 321 in src/java/time/chrono/AbstractChronology.java.">of0</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L296" name="L296"></a> 296             <strong class="reserved">if</strong> (chrono != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297                 <strong class="reserved">return</strong> chrono;
<a id="L298" name="L298"></a> 298             <em class="brace">}</em>
<a id="L299" name="L299"></a> 299             <em class="comment">// If not found, do the initialization (once) and repeat the lookup</em>
<a id="L300" name="L300"></a> 300         <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../S/1492.html#L215" title="Defined at 215 in src/java/time/chrono/AbstractChronology.java.">initCache</a>());
<a id="L301" name="L301"></a> 301 
<a id="L302" name="L302"></a> 302         <em class="comment">// Look for a Chronology using ServiceLoader of the Thread's ContextClassLoader</em>
<a id="L303" name="L303"></a> 303         <em class="comment">// Application provided Chronologies must not be cached</em>
<a id="L304" name="L304"></a> 304         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("rawtypes")
<a id="L305" name="L305"></a> 305         <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>&lt;<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; loader = <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<strong class="reserved">class</strong>);
<a id="L306" name="L306"></a> 306         <strong class="reserved">for</strong> (<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono : loader) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307             <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>()) || <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(chrono.<a href="../D/17463.html" title="Multiple defined in 9 places.">getCalendarType</a>())) <em class="brace">{</em>
<a id="L308" name="L308"></a> 308                 <strong class="reserved">return</strong> chrono;
<a id="L309" name="L309"></a> 309             <em class="brace">}</em>
<a id="L310" name="L310"></a> 310         <em class="brace">}</em>
<a id="L311" name="L311"></a> 311         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Unknown chronology: " + <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<div class="comment">
      Obtains an instance of <code>Chronology</code> from a chronology ID or
      calendar system type.
      @param id  the chronology ID or calendar system type, not null
      @return the chronology with the identifier requested, or <code>null</code> if not found</div>
<a id="L321" name="L321"></a> 321     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> <a href="../S/1492.html#L295" title="Referred from 295 in src/java/time/chrono/AbstractChronology.java.">of0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322         <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = CHRONOS_BY_ID.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L323" name="L323"></a> 323         <strong class="reserved">if</strong> (chrono == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324             chrono = CHRONOS_BY_TYPE.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L325" name="L325"></a> 325         <em class="brace">}</em>
<a id="L326" name="L326"></a> 326         <strong class="reserved">return</strong> chrono;
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Returns the available chronologies.
      <p>
      Each returned <code>Chronology</code> is available for use in the system.
      The set of chronologies includes the system chronologies and
      any chronologies provided by the application via ServiceLoader
      configuration.
      @return the independent, modifiable set of the available chronology IDs, not null</p></div>
<a id="L339" name="L339"></a> 339     <strong class="reserved">static</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; <a href="../R/15196.html" title="Multiple referred from 2 places.">getAvailableChronologies</a>() <em class="brace">{</em>
<a id="L340" name="L340"></a> 340         <a href="../S/1492.html#L215" title="Defined at 215 in src/java/time/chrono/AbstractChronology.java.">initCache</a>();       <em class="comment">// force initialization</em>
<a id="L341" name="L341"></a> 341         <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; chronos = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;(CHRONOS_BY_ID.<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>());
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343         <em class="comment">/// Add in Chronologies from the ServiceLoader configuration</em>
<a id="L344" name="L344"></a> 344         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("rawtypes")
<a id="L345" name="L345"></a> 345         <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>&lt;<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>&gt; loader = <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<strong class="reserved">class</strong>);
<a id="L346" name="L346"></a> 346         <strong class="reserved">for</strong> (<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono : loader) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347             chronos.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(chrono);
<a id="L348" name="L348"></a> 348         <em class="brace">}</em>
<a id="L349" name="L349"></a> 349         <strong class="reserved">return</strong> chronos;
<a id="L350" name="L350"></a> 350     <em class="brace">}</em>
<a id="L351" name="L351"></a> 351 
<a id="L352" name="L352"></a> 352     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Creates an instance.</div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">protected</strong> AbstractChronology() <em class="brace">{</em>
<a id="L357" name="L357"></a> 357     <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<a id="L359" name="L359"></a> 359     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Resolves parsed <code>ChronoField</code> values into a date during parsing.
      <p>
      Most <code>TemporalField</code> implementations are resolved using the
      resolve method on the field. By contrast, the <code>ChronoField</code> class
      defines fields that only have meaning relative to the chronology.
      As such, <code>ChronoField</code> date fields are resolved here in the
      context of a specific chronology.
      </p><p>
      <code>ChronoField</code> instances are resolved by this method, which may
      be overridden in subclasses.
      </p><ul><li><code>EPOCH_DAY</code> - If present, this is converted to a date and
       all other date fields are then cross-checked against the date.
      </li><li><code>PROLEPTIC_MONTH</code> - If present, then it is split into the
       <code>YEAR</code> and <code>MONTH_OF_YEAR</code>. If the mode is strict or smart
       then the field is validated.
      </li><li><code>YEAR_OF_ERA</code> and <code>ERA</code> - If both are present, then they
       are combined to form a <code>YEAR</code>. In lenient mode, the <code>YEAR_OF_ERA</code>
       range is not validated, in smart and strict mode it is. The <code>ERA</code> is
       validated for range in all three modes. If only the <code>YEAR_OF_ERA</code> is
       present, and the mode is smart or lenient, then the last available era
       is assumed. In strict mode, no era is assumed and the <code>YEAR_OF_ERA</code> is
       left untouched. If only the <code>ERA</code> is present, then it is left untouched.
      </li><li><code>YEAR</code>, <code>MONTH_OF_YEAR</code> and <code>DAY_OF_MONTH</code> -
       If all three are present, then they are combined to form a date.
       In all three modes, the <code>YEAR</code> is validated.
       If the mode is smart or strict, then the month and day are validated.
       If the mode is lenient, then the date is combined in a manner equivalent to
       creating a date on the first day of the first month in the requested year,
       then adding the difference in months, then the difference in days.
       If the mode is smart, and the day-of-month is greater than the maximum for
       the year-month, then the day-of-month is adjusted to the last day-of-month.
       If the mode is strict, then the three fields must form a valid date.
      </li><li><code>YEAR</code> and <code>DAY_OF_YEAR</code> -
       If both are present, then they are combined to form a date.
       In all three modes, the <code>YEAR</code> is validated.
       If the mode is lenient, then the date is combined in a manner equivalent to
       creating a date on the first day of the requested year, then adding
       the difference in days.
       If the mode is smart or strict, then the two fields must form a valid date.
      </li><li><code>YEAR</code>, <code>MONTH_OF_YEAR</code>, <code>ALIGNED_WEEK_OF_MONTH</code> and
       <code>ALIGNED_DAY_OF_WEEK_IN_MONTH</code> -
       If all four are present, then they are combined to form a date.
       In all three modes, the <code>YEAR</code> is validated.
       If the mode is lenient, then the date is combined in a manner equivalent to
       creating a date on the first day of the first month in the requested year, then adding
       the difference in months, then the difference in weeks, then in days.
       If the mode is smart or strict, then the all four fields are validated to
       their outer ranges. The date is then combined in a manner equivalent to
       creating a date on the first day of the requested year and month, then adding
       the amount in weeks and days to reach their values. If the mode is strict,
       the date is additionally validated to check that the day and week adjustment
       did not change the month.
      </li><li><code>YEAR</code>, <code>MONTH_OF_YEAR</code>, <code>ALIGNED_WEEK_OF_MONTH</code> and
       <code>DAY_OF_WEEK</code> - If all four are present, then they are combined to
       form a date. The approach is the same as described above for
       years, months and weeks in <code>ALIGNED_DAY_OF_WEEK_IN_MONTH</code>.
       The day-of-week is adjusted as the next or same matching day-of-week once
       the years, months and weeks have been handled.
      </li><li><code>YEAR</code>, <code>ALIGNED_WEEK_OF_YEAR</code> and <code>ALIGNED_DAY_OF_WEEK_IN_YEAR</code> -
       If all three are present, then they are combined to form a date.
       In all three modes, the <code>YEAR</code> is validated.
       If the mode is lenient, then the date is combined in a manner equivalent to
       creating a date on the first day of the requested year, then adding
       the difference in weeks, then in days.
       If the mode is smart or strict, then the all three fields are validated to
       their outer ranges. The date is then combined in a manner equivalent to
       creating a date on the first day of the requested year, then adding
       the amount in weeks and days to reach their values. If the mode is strict,
       the date is additionally validated to check that the day and week adjustment
       did not change the year.
      </li><li><code>YEAR</code>, <code>ALIGNED_WEEK_OF_YEAR</code> and <code>DAY_OF_WEEK</code> -
       If all three are present, then they are combined to form a date.
       The approach is the same as described above for years and weeks in
       <code>ALIGNED_DAY_OF_WEEK_IN_YEAR</code>. The day-of-week is adjusted as the
       next or same matching day-of-week once the years and weeks have been handled.
      </li></ul>
      <p>
      The default implementation is suitable for most calendar systems.
      If {@link java.time.temporal.ChronoField#YEAR_OF_ERA} is found without an {@link java.time.temporal.ChronoField#ERA}
      then the last era in {@link #eras()} is used.
      The implementation assumes a 7 day week, that the first day-of-month
      has the value 1, that first day-of-year has the value 1, and that the
      first of the month and year always exists.
      @param fieldValues  the map of fields to values, which can be updated, not null
      @param resolverStyle  the requested type of resolve, not null
      @return the resolved date, null if insufficient information to create a date
      @throws java.time.DateTimeException if the date cannot be resolved, typically
       because of a conflict in the input data</p></div>
<a id="L452" name="L452"></a> 452     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L453" name="L453"></a> 453     <strong class="reserved">public</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../R/26331.html" title="Multiple referred from 6 places.">resolveDate</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L454" name="L454"></a> 454         <em class="comment">// check epoch-day before inventing era</em>
<a id="L455" name="L455"></a> 455         <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L423" title="Defined at 423 in src/java/time/temporal/ChronoField.java.">EPOCH_DAY</a>)) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456             <strong class="reserved">return</strong> <a href="../D/14463.html" title="Multiple defined in 6 places.">dateEpochDay</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L423" title="Defined at 423 in src/java/time/temporal/ChronoField.java.">EPOCH_DAY</a>));
<a id="L457" name="L457"></a> 457         <em class="brace">}</em>
<a id="L458" name="L458"></a> 458 
<a id="L459" name="L459"></a> 459         <em class="comment">// fix proleptic month before inventing era</em>
<a id="L460" name="L460"></a> 460         <a href="../D/31296.html" title="Multiple defined in 2 places.">resolveProlepticMonth</a>(fieldValues, resolverStyle);
<a id="L461" name="L461"></a> 461 
<a id="L462" name="L462"></a> 462         <em class="comment">// invent era if necessary to resolve year-of-era</em>
<a id="L463" name="L463"></a> 463         <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> resolved = <a href="../D/31335.html" title="Multiple defined in 3 places.">resolveYearOfEra</a>(fieldValues, resolverStyle);
<a id="L464" name="L464"></a> 464         <strong class="reserved">if</strong> (resolved != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465             <strong class="reserved">return</strong> resolved;
<a id="L466" name="L466"></a> 466         <em class="brace">}</em>
<a id="L467" name="L467"></a> 467 
<a id="L468" name="L468"></a> 468         <em class="comment">// build date</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>)) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470             <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>)) <em class="brace">{</em>
<a id="L471" name="L471"></a> 471                 <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>)) <em class="brace">{</em>
<a id="L472" name="L472"></a> 472                     <strong class="reserved">return</strong> <a href="../D/31334.html" title="Multiple defined in 3 places.">resolveYMD</a>(fieldValues, resolverStyle);
<a id="L473" name="L473"></a> 473                 <em class="brace">}</em>
<a id="L474" name="L474"></a> 474                 <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>)) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475                     <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L364" title="Defined at 364 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_MONTH</a>)) <em class="brace">{</em>
<a id="L476" name="L476"></a> 476                         <strong class="reserved">return</strong> <a href="../S/1492.html#L581" title="Defined at 581 in src/java/time/chrono/AbstractChronology.java.">resolveYMAA</a>(fieldValues, resolverStyle);
<a id="L477" name="L477"></a> 477                     <em class="brace">}</em>
<a id="L478" name="L478"></a> 478                     <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>)) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479                         <strong class="reserved">return</strong> <a href="../S/1492.html#L599" title="Defined at 599 in src/java/time/chrono/AbstractChronology.java.">resolveYMAD</a>(fieldValues, resolverStyle);
<a id="L480" name="L480"></a> 480                     <em class="brace">}</em>
<a id="L481" name="L481"></a> 481                 <em class="brace">}</em>
<a id="L482" name="L482"></a> 482             <em class="brace">}</em>
<a id="L483" name="L483"></a> 483             <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>)) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484                 <strong class="reserved">return</strong> <a href="../D/31331.html" title="Multiple defined in 2 places.">resolveYD</a>(fieldValues, resolverStyle);
<a id="L485" name="L485"></a> 485             <em class="brace">}</em>
<a id="L486" name="L486"></a> 486             <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>)) <em class="brace">{</em>
<a id="L487" name="L487"></a> 487                 <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L382" title="Defined at 382 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_YEAR</a>)) <em class="brace">{</em>
<a id="L488" name="L488"></a> 488                     <strong class="reserved">return</strong> <a href="../S/1492.html#L617" title="Defined at 617 in src/java/time/chrono/AbstractChronology.java.">resolveYAA</a>(fieldValues, resolverStyle);
<a id="L489" name="L489"></a> 489                 <em class="brace">}</em>
<a id="L490" name="L490"></a> 490                 <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>)) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491                     <strong class="reserved">return</strong> <a href="../S/1492.html#L633" title="Defined at 633 in src/java/time/chrono/AbstractChronology.java.">resolveYAD</a>(fieldValues, resolverStyle);
<a id="L492" name="L492"></a> 492                 <em class="brace">}</em>
<a id="L493" name="L493"></a> 493             <em class="brace">}</em>
<a id="L494" name="L494"></a> 494         <em class="brace">}</em>
<a id="L495" name="L495"></a> 495         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L496" name="L496"></a> 496     <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<a id="L498" name="L498"></a> 498     <strong class="reserved">void</strong> <a href="../S/1492.html#L460" title="Referred from 460 in src/java/time/chrono/AbstractChronology.java.">resolveProlepticMonth</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L499" name="L499"></a> 499         <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> pMonth = fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L486" title="Defined at 486 in src/java/time/temporal/ChronoField.java.">PROLEPTIC_MONTH</a>);
<a id="L500" name="L500"></a> 500         <strong class="reserved">if</strong> (pMonth != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L501" name="L501"></a> 501             <strong class="reserved">if</strong> (resolverStyle != <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502                 <a href="../S/1483.html#L486" title="Defined at 486 in src/java/time/temporal/ChronoField.java.">PROLEPTIC_MONTH</a>.<a href="../D/12705.html" title="Multiple defined in 2 places.">checkValidValue</a>(pMonth);
<a id="L503" name="L503"></a> 503             <em class="brace">}</em>
<a id="L504" name="L504"></a> 504             <em class="comment">// first day-of-month is likely to be safest for setting proleptic-month</em>
<a id="L505" name="L505"></a> 505             <em class="comment">// cannot add to year zero, as not all chronologies have a year zero</em>
<a id="L506" name="L506"></a> 506             <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> chronoDate = <a href="../D/14465.html" title="Multiple defined in 18 places.">dateNow</a>()
<a id="L507" name="L507"></a> 507                     .<a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>, 1).<a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(<a href="../S/1483.html#L486" title="Defined at 486 in src/java/time/temporal/ChronoField.java.">PROLEPTIC_MONTH</a>, pMonth);
<a id="L508" name="L508"></a> 508             <a href="../S/1492.html#L673" title="Defined at 673 in src/java/time/chrono/AbstractChronology.java.">addFieldValue</a>(fieldValues, <a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>, chronoDate.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>));
<a id="L509" name="L509"></a> 509             <a href="../S/1492.html#L673" title="Defined at 673 in src/java/time/chrono/AbstractChronology.java.">addFieldValue</a>(fieldValues, <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, chronoDate.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>));
<a id="L510" name="L510"></a> 510         <em class="brace">}</em>
<a id="L511" name="L511"></a> 511     <em class="brace">}</em>
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1492.html#L463" title="Referred from 463 in src/java/time/chrono/AbstractChronology.java.">resolveYearOfEra</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L514" name="L514"></a> 514         <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> yoeLong = fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L521" title="Defined at 521 in src/java/time/temporal/ChronoField.java.">YEAR_OF_ERA</a>);
<a id="L515" name="L515"></a> 515         <strong class="reserved">if</strong> (yoeLong != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L516" name="L516"></a> 516             <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> eraLong = fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>);
<a id="L517" name="L517"></a> 517             <strong class="reserved">int</strong> yoe;
<a id="L518" name="L518"></a> 518             <strong class="reserved">if</strong> (resolverStyle != <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519                 yoe = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L521" title="Defined at 521 in src/java/time/temporal/ChronoField.java.">YEAR_OF_ERA</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(yoeLong, <a href="../S/1483.html#L521" title="Defined at 521 in src/java/time/temporal/ChronoField.java.">YEAR_OF_ERA</a>);
<a id="L520" name="L520"></a> 520             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L521" name="L521"></a> 521                 yoe = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35416.html" title="Multiple defined in 2 places.">toIntExact</a>(yoeLong);
<a id="L522" name="L522"></a> 522             <em class="brace">}</em>
<a id="L523" name="L523"></a> 523             <strong class="reserved">if</strong> (eraLong != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524                 <a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a> eraObj = <a href="../D/15692.html" title="Multiple defined in 6 places.">eraOf</a>(<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(eraLong, <a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>));
<a id="L525" name="L525"></a> 525                 <a href="../S/1492.html#L673" title="Defined at 673 in src/java/time/chrono/AbstractChronology.java.">addFieldValue</a>(fieldValues, <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>(eraObj, yoe));
<a id="L526" name="L526"></a> 526             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                 <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>)) <em class="brace">{</em>
<a id="L528" name="L528"></a> 528                     <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>), <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L529" name="L529"></a> 529                     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> chronoDate = <a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, 1);
<a id="L530" name="L530"></a> 530                     <a href="../S/1492.html#L673" title="Defined at 673 in src/java/time/chrono/AbstractChronology.java.">addFieldValue</a>(fieldValues, <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>(chronoDate.<a href="../D/18840.html" title="Multiple defined in 6 places.">getEra</a>(), yoe));
<a id="L531" name="L531"></a> 531                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532                     <em class="comment">// do not invent era if strict</em>
<a id="L533" name="L533"></a> 533                     <em class="comment">// reinstate the field removed earlier, no cross-check issues</em>
<a id="L534" name="L534"></a> 534                     fieldValues.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/1483.html#L521" title="Defined at 521 in src/java/time/temporal/ChronoField.java.">YEAR_OF_ERA</a>, yoeLong);
<a id="L535" name="L535"></a> 535                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L536" name="L536"></a> 536                     <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a>&gt; <a href="../D/15693.html" title="Multiple defined in 6 places.">eras</a> = <a href="../D/15693.html" title="Multiple defined in 6 places.">eras</a>();
<a id="L537" name="L537"></a> 537                     <strong class="reserved">if</strong> (<a href="../D/15693.html" title="Multiple defined in 6 places.">eras</a>.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538                         <a href="../S/1492.html#L673" title="Defined at 673 in src/java/time/chrono/AbstractChronology.java.">addFieldValue</a>(fieldValues, <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, yoe);
<a id="L539" name="L539"></a> 539                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L540" name="L540"></a> 540                         <a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a> eraObj = <a href="../D/15693.html" title="Multiple defined in 6 places.">eras</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/15693.html" title="Multiple defined in 6 places.">eras</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1);
<a id="L541" name="L541"></a> 541                         <a href="../S/1492.html#L673" title="Defined at 673 in src/java/time/chrono/AbstractChronology.java.">addFieldValue</a>(fieldValues, <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>(eraObj, yoe));
<a id="L542" name="L542"></a> 542                     <em class="brace">}</em>
<a id="L543" name="L543"></a> 543                 <em class="brace">}</em>
<a id="L544" name="L544"></a> 544             <em class="brace">}</em>
<a id="L545" name="L545"></a> 545         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>)) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546             <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>).<a href="../D/12705.html" title="Multiple defined in 2 places.">checkValidValue</a>(fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>), <a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>);  <em class="comment">// always validated</em>
<a id="L547" name="L547"></a> 547         <em class="brace">}</em>
<a id="L548" name="L548"></a> 548         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L549" name="L549"></a> 549     <em class="brace">}</em>
<a id="L550" name="L550"></a> 550 
<a id="L551" name="L551"></a> 551     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../R/26410.html" title="Multiple referred from 2 places.">resolveYMD</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L552" name="L552"></a> 552         <strong class="reserved">int</strong> y = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>), <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L553" name="L553"></a> 553         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L554" name="L554"></a> 554             <strong class="reserved">long</strong> months = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>), 1);
<a id="L555" name="L555"></a> 555             <strong class="reserved">long</strong> days = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>), 1);
<a id="L556" name="L556"></a> 556             <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, 1, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(months, <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(days, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L557" name="L557"></a> 557         <em class="brace">}</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">int</strong> moy = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>), <a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>);
<a id="L559" name="L559"></a> 559         <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> domRange = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>);
<a id="L560" name="L560"></a> 560         <strong class="reserved">int</strong> dom = domRange.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>), <a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>);
<a id="L561" name="L561"></a> 561         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.SMART) <em class="brace">{</em>  <em class="comment">// previous valid</em>
<a id="L562" name="L562"></a> 562             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L563" name="L563"></a> 563                 <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, moy, dom);
<a id="L564" name="L564"></a> 564             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565                 <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, moy, 1).<a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(<a href="../S/1474.html#L113" title="Defined at 113 in src/java/time/temporal/TemporalAdjusters.java.">TemporalAdjusters</a>.<a href="../S/1474.html#L188" title="Defined at 188 in src/java/time/temporal/TemporalAdjusters.java.">lastDayOfMonth</a>());
<a id="L566" name="L566"></a> 566             <em class="brace">}</em>
<a id="L567" name="L567"></a> 567         <em class="brace">}</em>
<a id="L568" name="L568"></a> 568         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, moy, dom);
<a id="L569" name="L569"></a> 569     <em class="brace">}</em>
<a id="L570" name="L570"></a> 570 
<a id="L571" name="L571"></a> 571     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../R/26407.html" title="Multiple referred from 2 places.">resolveYD</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L572" name="L572"></a> 572         <strong class="reserved">int</strong> y = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>), <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L573" name="L573"></a> 573         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L574" name="L574"></a> 574             <strong class="reserved">long</strong> days = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>), 1);
<a id="L575" name="L575"></a> 575             <strong class="reserved">return</strong> <a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(y, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(days, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L576" name="L576"></a> 576         <em class="brace">}</em>
<a id="L577" name="L577"></a> 577         <strong class="reserved">int</strong> doy = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>), <a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L578" name="L578"></a> 578         <strong class="reserved">return</strong> <a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(y, doy);  <em class="comment">// smart is same as strict</em>
<a id="L579" name="L579"></a> 579     <em class="brace">}</em>
<a id="L580" name="L580"></a> 580 
<a id="L581" name="L581"></a> 581     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1492.html#L476" title="Referred from 476 in src/java/time/chrono/AbstractChronology.java.">resolveYMAA</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <strong class="reserved">int</strong> y = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>), <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L583" name="L583"></a> 583         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584             <strong class="reserved">long</strong> months = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>), 1);
<a id="L585" name="L585"></a> 585             <strong class="reserved">long</strong> weeks = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>), 1);
<a id="L586" name="L586"></a> 586             <strong class="reserved">long</strong> days = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L364" title="Defined at 364 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_MONTH</a>), 1);
<a id="L587" name="L587"></a> 587             <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, 1, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(months, <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(weeks, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(days, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L588" name="L588"></a> 588         <em class="brace">}</em>
<a id="L589" name="L589"></a> 589         <strong class="reserved">int</strong> moy = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>), <a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>);
<a id="L590" name="L590"></a> 590         <strong class="reserved">int</strong> aw = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>), <a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>);
<a id="L591" name="L591"></a> 591         <strong class="reserved">int</strong> ad = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L364" title="Defined at 364 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_MONTH</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L364" title="Defined at 364 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_MONTH</a>), <a href="../S/1483.html#L364" title="Defined at 364 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_MONTH</a>);
<a id="L592" name="L592"></a> 592         <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, moy, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>((aw - 1) * 7 + (ad - 1), <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L593" name="L593"></a> 593         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT &amp;&amp; <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>) != moy) <em class="brace">{</em>
<a id="L594" name="L594"></a> 594             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Strict mode rejected resolved date as it is in a different month");
<a id="L595" name="L595"></a> 595         <em class="brace">}</em>
<a id="L596" name="L596"></a> 596         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L597" name="L597"></a> 597     <em class="brace">}</em>
<a id="L598" name="L598"></a> 598 
<a id="L599" name="L599"></a> 599     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1492.html#L479" title="Referred from 479 in src/java/time/chrono/AbstractChronology.java.">resolveYMAD</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600         <strong class="reserved">int</strong> y = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>), <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L601" name="L601"></a> 601         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602             <strong class="reserved">long</strong> months = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>), 1);
<a id="L603" name="L603"></a> 603             <strong class="reserved">long</strong> weeks = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>), 1);
<a id="L604" name="L604"></a> 604             <strong class="reserved">long</strong> dow = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>), 1);
<a id="L605" name="L605"></a> 605             <strong class="reserved">return</strong> <a href="../S/1492.html#L649" title="Defined at 649 in src/java/time/chrono/AbstractChronology.java.">resolveAligned</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, 1, 1), months, weeks, dow);
<a id="L606" name="L606"></a> 606         <em class="brace">}</em>
<a id="L607" name="L607"></a> 607         <strong class="reserved">int</strong> moy = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>), <a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>);
<a id="L608" name="L608"></a> 608         <strong class="reserved">int</strong> aw = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>), <a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>);
<a id="L609" name="L609"></a> 609         <strong class="reserved">int</strong> dow = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>), <a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);
<a id="L610" name="L610"></a> 610         <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(y, moy, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>((aw - 1) * 7, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>).<a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(<a href="../S/1474.html#L412" title="Defined at 412 in src/java/time/temporal/TemporalAdjusters.java.">nextOrSame</a>(<a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(dow)));
<a id="L611" name="L611"></a> 611         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT &amp;&amp; <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>) != moy) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Strict mode rejected resolved date as it is in a different month");
<a id="L613" name="L613"></a> 613         <em class="brace">}</em>
<a id="L614" name="L614"></a> 614         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L615" name="L615"></a> 615     <em class="brace">}</em>
<a id="L616" name="L616"></a> 616 
<a id="L617" name="L617"></a> 617     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1492.html#L488" title="Referred from 488 in src/java/time/chrono/AbstractChronology.java.">resolveYAA</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L618" name="L618"></a> 618         <strong class="reserved">int</strong> y = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>), <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L619" name="L619"></a> 619         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L620" name="L620"></a> 620             <strong class="reserved">long</strong> weeks = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>), 1);
<a id="L621" name="L621"></a> 621             <strong class="reserved">long</strong> days = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L382" title="Defined at 382 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_YEAR</a>), 1);
<a id="L622" name="L622"></a> 622             <strong class="reserved">return</strong> <a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(y, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(weeks, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(days, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L623" name="L623"></a> 623         <em class="brace">}</em>
<a id="L624" name="L624"></a> 624         <strong class="reserved">int</strong> aw = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>), <a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>);
<a id="L625" name="L625"></a> 625         <strong class="reserved">int</strong> ad = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L382" title="Defined at 382 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L382" title="Defined at 382 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_YEAR</a>), <a href="../S/1483.html#L382" title="Defined at 382 in src/java/time/temporal/ChronoField.java.">ALIGNED_DAY_OF_WEEK_IN_YEAR</a>);
<a id="L626" name="L626"></a> 626         <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(y, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>((aw - 1) * 7 + (ad - 1), <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L627" name="L627"></a> 627         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT &amp;&amp; <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>) != y) <em class="brace">{</em>
<a id="L628" name="L628"></a> 628             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Strict mode rejected resolved date as it is in a different year");
<a id="L629" name="L629"></a> 629         <em class="brace">}</em>
<a id="L630" name="L630"></a> 630         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L631" name="L631"></a> 631     <em class="brace">}</em>
<a id="L632" name="L632"></a> 632 
<a id="L633" name="L633"></a> 633     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1492.html#L491" title="Referred from 491 in src/java/time/chrono/AbstractChronology.java.">resolveYAD</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L634" name="L634"></a> 634         <strong class="reserved">int</strong> y = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>), <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L635" name="L635"></a> 635         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636             <strong class="reserved">long</strong> weeks = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>), 1);
<a id="L637" name="L637"></a> 637             <strong class="reserved">long</strong> dow = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>), 1);
<a id="L638" name="L638"></a> 638             <strong class="reserved">return</strong> <a href="../S/1492.html#L649" title="Defined at 649 in src/java/time/chrono/AbstractChronology.java.">resolveAligned</a>(<a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(y, 1), 0, weeks, dow);
<a id="L639" name="L639"></a> 639         <em class="brace">}</em>
<a id="L640" name="L640"></a> 640         <strong class="reserved">int</strong> aw = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>), <a href="../S/1483.html#L455" title="Defined at 455 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_YEAR</a>);
<a id="L641" name="L641"></a> 641         <strong class="reserved">int</strong> dow = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>).<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>), <a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);
<a id="L642" name="L642"></a> 642         <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(y, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>((aw - 1) * 7, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>).<a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(<a href="../S/1474.html#L412" title="Defined at 412 in src/java/time/temporal/TemporalAdjusters.java.">nextOrSame</a>(<a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(dow)));
<a id="L643" name="L643"></a> 643         <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT &amp;&amp; <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>) != y) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Strict mode rejected resolved date as it is in a different year");
<a id="L645" name="L645"></a> 645         <em class="brace">}</em>
<a id="L646" name="L646"></a> 646         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L647" name="L647"></a> 647     <em class="brace">}</em>
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649     <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../R/26317.html" title="Multiple referred from 2 places.">resolveAligned</a>(<a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> base, <strong class="reserved">long</strong> months, <strong class="reserved">long</strong> weeks, <strong class="reserved">long</strong> dow) <em class="brace">{</em>
<a id="L650" name="L650"></a> 650         <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = base.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(months, <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(weeks, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>);
<a id="L651" name="L651"></a> 651         <strong class="reserved">if</strong> (dow &gt; 7) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652             <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>((dow - 1) / 7, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>);
<a id="L653" name="L653"></a> 653             dow = ((dow - 1) % 7) + 1;
<a id="L654" name="L654"></a> 654         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (dow &lt; 1) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655             <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(dow,  7) / 7, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>);
<a id="L656" name="L656"></a> 656             dow = ((dow + 6) % 7) + 1;
<a id="L657" name="L657"></a> 657         <em class="brace">}</em>
<a id="L658" name="L658"></a> 658         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(<a href="../S/1474.html#L412" title="Defined at 412 in src/java/time/temporal/TemporalAdjusters.java.">nextOrSame</a>(<a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>((<strong class="reserved">int</strong>) dow)));
<a id="L659" name="L659"></a> 659     <em class="brace">}</em>
<a id="L660" name="L660"></a> 660 
<div class="comment">
      Adds a field-value pair to the map, checking for conflicts.
      <p>
      If the field is not already present, then the field-value pair is added to the map.
      If the field is already present and it has the same value as that specified, no action occurs.
      If the field is already present and it has a different value to that specified, then
      an exception is thrown.
      @param field  the field to add, not null
      @param value  the value to add, not null
      @throws java.time.DateTimeException if the field is already present with a different value</p></div>
<a id="L673" name="L673"></a> 673     <strong class="reserved">void</strong> <a href="../R/9731.html" title="Multiple referred from 12 places.">addFieldValue</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a> field, <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674         <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> old = fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(field);  <em class="comment">// check first for better error message</em>
<a id="L675" name="L675"></a> 675         <strong class="reserved">if</strong> (old != <strong class="reserved">null</strong> &amp;&amp; old.<a href="../D/27086.html" title="Multiple defined in 24 places.">longValue</a>() != <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Conflict found: " + field + " " + old + " differs from " + field + " " + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L677" name="L677"></a> 677         <em class="brace">}</em>
<a id="L678" name="L678"></a> 678         fieldValues.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(field, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L679" name="L679"></a> 679     <em class="brace">}</em>
<a id="L680" name="L680"></a> 680 
<a id="L681" name="L681"></a> 681     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Compares this chronology to another chronology.
      <p>
      The comparison order first by the chronology ID string, then by any
      additional information specific to the subclass.
      It is "consistent with equals", as defined by {@link Comparable}.
      @implSpec
      This implementation compares the chronology ID.
      Subclasses must compare any additional state that they store.
      @param other  the other chronology to compare to, not null
      @return the comparator value, negative if less, positive if greater</p></div>
<a id="L696" name="L696"></a> 696     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L697" name="L697"></a> 697     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11724.html" title="Multiple referred from 291 places.">compareTo</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> other) <em class="brace">{</em>
<a id="L698" name="L698"></a> 698         <strong class="reserved">return</strong> <a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>().<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(other.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L699" name="L699"></a> 699     <em class="brace">}</em>
<a id="L700" name="L700"></a> 700 
<div class="comment">
      Checks if this chronology is equal to another chronology.
      <p>
      The comparison is based on the entire state of the object.
      @implSpec
      This implementation checks the type and calls
      {@link #compareTo(java.time.chrono.Chronology)}.
      @param obj  the object to check, null returns false
      @return true if this is equal to the other chronology</p></div>
<a id="L713" name="L713"></a> 713     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L714" name="L714"></a> 714     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L715" name="L715"></a> 715         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj) <em class="brace">{</em>
<a id="L716" name="L716"></a> 716            <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L717" name="L717"></a> 717         <em class="brace">}</em>
<a id="L718" name="L718"></a> 718         <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a>) <em class="brace">{</em>
<a id="L719" name="L719"></a> 719             <strong class="reserved">return</strong> <a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>((<a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a>) obj) == 0;
<a id="L720" name="L720"></a> 720         <em class="brace">}</em>
<a id="L721" name="L721"></a> 721         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L722" name="L722"></a> 722     <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<div class="comment">
      A hash code for this chronology.
      <p>
      The hash code should be based on the entire state of the object.
      @implSpec
      This implementation is based on the chronology ID and class.
      Subclasses should add any additional state that they store.
      @return a suitable hash code</p></div>
<a id="L735" name="L735"></a> 735     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L736" name="L736"></a> 736     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L737" name="L737"></a> 737         <strong class="reserved">return</strong> <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() ^ <a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L738" name="L738"></a> 738     <em class="brace">}</em>
<a id="L739" name="L739"></a> 739 
<a id="L740" name="L740"></a> 740     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Outputs this chronology as a <code>String</code>, using the chronology ID.
      @return a string representation of this chronology, not null</div>
<a id="L746" name="L746"></a> 746     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L747" name="L747"></a> 747     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L748" name="L748"></a> 748         <strong class="reserved">return</strong> <a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>();
<a id="L749" name="L749"></a> 749     <em class="brace">}</em>
<a id="L750" name="L750"></a> 750 
<a id="L751" name="L751"></a> 751     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Writes the Chronology using a
      <a href="../../../serialized-form.html#java.time.chrono.Ser">dedicated serialized form</a>.
      <pre>       out.writeByte(1);  // identifies this as a Chronology
       out.writeUTF(getId());
      </pre>
      @return the instance of <code>Ser</code>, not null</div>
<a id="L762" name="L762"></a> 762     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/30703.html" title="Multiple referred from 7 places.">writeReplace</a>() <em class="brace">{</em>
<a id="L763" name="L763"></a> 763         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>(<a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.CHRONO_TYPE, <strong class="reserved">this</strong>);
<a id="L764" name="L764"></a> 764     <em class="brace">}</em>
<a id="L765" name="L765"></a> 765 
<div class="comment">
      Defend against malicious streams.
      @param s the stream to read
      @throws java.io.InvalidObjectException always</div>
<a id="L772" name="L772"></a> 772     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1384.html#L34" title="Defined at 34 in src/java/io/ObjectStreamException.java.">ObjectStreamException</a> <em class="brace">{</em>
<a id="L773" name="L773"></a> 773         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Deserialization via serialization delegate");
<a id="L774" name="L774"></a> 774     <em class="brace">}</em>
<a id="L775" name="L775"></a> 775 
<a id="L776" name="L776"></a> 776     <strong class="reserved">void</strong> <a href="../R/30621.html" title="Multiple referred from 43 places.">writeExternal</a>(<a href="../S/1422.html#L50" title="Defined at 50 in src/java/io/DataOutput.java.">DataOutput</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L777" name="L777"></a> 777         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37198.html" title="Multiple defined in 10 places.">writeUTF</a>(<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L778" name="L778"></a> 778     <em class="brace">}</em>
<a id="L779" name="L779"></a> 779 
<a id="L780" name="L780"></a> 780     <strong class="reserved">static</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> <a href="../R/25469.html" title="Multiple referred from 41 places.">readExternal</a>(<a href="../S/1438.html#L149" title="Defined at 149 in src/java/io/DataInput.java.">DataInput</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L781" name="L781"></a> 781         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30284.html" title="Multiple defined in 9 places.">readUTF</a>();
<a id="L782" name="L782"></a> 782         <strong class="reserved">return</strong> <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L783" name="L783"></a> 783     <em class="brace">}</em>
<a id="L784" name="L784"></a> 784 
<a id="L785" name="L785"></a> 785 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L176">[^]</a><a href="#L780">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>