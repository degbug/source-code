<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/KeyPairGenerator.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L162">[^]</a><a href="#L695">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L162" title="Defined at 162.">getAlgorithm</a></li>
<li><a href="#L166" title="Defined at 166.">getInstance</a></li>
<li><a href="#L212" title="Defined at 212.">getInstance</a></li>
<li><a href="#L276" title="Defined at 276.">getInstance</a></li>
<li><a href="#L313" title="Defined at 313.">getInstance</a></li>
<li><a href="#L325" title="Defined at 325.">getProvider</a></li>
<li><a href="#L330" title="Defined at 330.">disableFailover</a></li>
<li><a href="#L350" title="Defined at 350.">initialize</a></li>
<li><a href="#L368" title="Defined at 368.">initialize</a></li>
<li><a href="#L409" title="Defined at 409.">initialize</a></li>
<li><a href="#L437" title="Defined at 437.">initialize</a></li>
<li><a href="#L469" title="Defined at 469.">genKeyPair</a></li>
<li><a href="#L487" title="Defined at 487.">generateKeyPair</a></li>
<li><a href="#L585" title="Defined at 585.">nextSpi</a></li>
<li><a href="#L630" title="Defined at 630.">disableFailover</a></li>
<li><a href="#L638" title="Defined at 638.">initialize</a></li>
<li><a href="#L664" title="Defined at 664.">initialize</a></li>
<li><a href="#L695" title="Defined at 695.">generateKeyPair</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2014, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.*;
<a id="L29" name="L29"></a>  29 
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.security.spec.AlgorithmParameterSpec;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.Provider.Service;
<a id="L33" name="L33"></a>  33 
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> sun.security.jca.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> sun.security.jca.GetInstance.Instance;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> sun.security.util.Debug;
<a id="L37" name="L37"></a>  37 
<div class="comment">
  The KeyPairGenerator class is used to generate pairs of
  public and private keys. Key pair generators are constructed using the
  <code>getInstance</code> factory methods (static methods that
  return instances of a given class).
  <p>A Key pair generator for a particular algorithm creates a public/private
  key pair that can be used with this algorithm. It also associates
  algorithm-specific parameters with each of the generated keys.
  </p><p>There are two ways to generate a key pair: in an algorithm-independent
  manner, and in an algorithm-specific manner.
  The only difference between the two is the initialization of the object:
  </p><ul><li><b>Algorithm-Independent Initialization</b>
  <p>All key pair generators share the concepts of a keysize and a
  source of randomness. The keysize is interpreted differently for different
  algorithms (e.g., in the case of the <i>DSA</i> algorithm, the keysize
  corresponds to the length of the modulus).
  There is an
  {@link #initialize(int, java.security.SecureRandom) initialize}
  method in this KeyPairGenerator class that takes these two universally
  shared types of arguments. There is also one that takes just a
  <code>keysize</code> argument, and uses the <code>SecureRandom</code>
  implementation of the highest-priority installed provider as the source
  of randomness. (If none of the installed providers supply an implementation
  of <code>SecureRandom</code>, a system-provided source of randomness is
  used.)
  </p><p>Since no other parameters are specified when you call the above
  algorithm-independent <code>initialize</code> methods, it is up to the
  provider what to do about the algorithm-specific parameters (if any) to be
  associated with each of the keys.
  </p><p>If the algorithm is the <i>DSA</i> algorithm, and the keysize (modulus
  size) is 512, 768, or 1024, then the <i>Sun</i> provider uses a set of
  precomputed values for the <code>p</code>, <code>q</code>, and
  <code>g</code> parameters. If the modulus size is not one of the above
  values, the <i>Sun</i> provider creates a new set of parameters. Other
  providers might have precomputed parameter sets for more than just the
  three modulus sizes mentioned above. Still others might not have a list of
  precomputed parameters at all and instead always create new parameter sets.
  </p></li><li><b>Algorithm-Specific Initialization</b>
  <p>For situations where a set of algorithm-specific parameters already
  exists (e.g., so-called <i>community parameters</i> in DSA), there are two
  {@link #initialize(java.security.spec.AlgorithmParameterSpec)
  initialize} methods that have an <code>AlgorithmParameterSpec</code>
  argument. One also has a <code>SecureRandom</code> argument, while the
  the other uses the <code>SecureRandom</code>
  implementation of the highest-priority installed provider as the source
  of randomness. (If none of the installed providers supply an implementation
  of <code>SecureRandom</code>, a system-provided source of randomness is
  used.)
  </p></li></ul>
  <p>In case the client does not explicitly initialize the KeyPairGenerator
  (via a call to an <code>initialize</code> method), each provider must
  supply (and document) a default initialization.
  For example, the <i>Sun</i> provider uses a default modulus size (keysize)
  of 1024 bits.
  </p><p>Note that this class is abstract and extends from
  <code>KeyPairGeneratorSpi</code> for historical reasons.
  Application developers should only take notice of the methods defined in
  this <code>KeyPairGenerator</code> class; all the methods in
  the superclass are intended for cryptographic service providers who wish to
  supply their own implementations of key pair generators.
  </p><p> Every implementation of the Java platform is required to support the
  following standard <code>KeyPairGenerator</code> algorithms and keysizes in
  parentheses:
  </p><ul><li><code>DiffieHellman</code> (1024)</li><li><code>DSA</code> (1024)</li><li><code>RSA</code> (1024, 2048)</li>
  </ul>
  These algorithms are described in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyPairGenerator">
  KeyPairGenerator section</a> of the
  Java Cryptography Architecture Standard Algorithm Name Documentation.
  Consult the release documentation for your implementation to see if any
  other algorithms are supported.
  @author Benjamin Renaud
  @see java.security.spec.AlgorithmParameterSpec</div>
<a id="L127" name="L127"></a> 127 
<a id="L128" name="L128"></a> 128 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/4375.html" title="Multiple referred from 10 places.">KeyPairGenerator</a> <strong class="reserved">extends</strong> <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> <em class="brace">{</em>
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a> pdebug =
<a id="L131" name="L131"></a> 131                         <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("provider", "Provider");
<a id="L132" name="L132"></a> 132     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> skipDebug =
<a id="L133" name="L133"></a> 133         <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.isOn("engine=") &amp;&amp; !<a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.isOn("keypairgenerator");
<a id="L134" name="L134"></a> 134 
<a id="L135" name="L135"></a> 135     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm;
<a id="L136" name="L136"></a> 136 
<a id="L137" name="L137"></a> 137     <em class="comment">// The provider</em>
<a id="L138" name="L138"></a> 138     <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L139" name="L139"></a> 139 
<div class="comment">
      Creates a KeyPairGenerator object for the specified algorithm.
      @param algorithm the standard string name of the algorithm.
      See the KeyPairGenerator section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyPairGenerator">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard algorithm names.</div>
<a id="L149" name="L149"></a> 149     <strong class="reserved">protected</strong> KeyPairGenerator(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L150" name="L150"></a> 150         <strong class="reserved">this</strong>.algorithm = algorithm;
<a id="L151" name="L151"></a> 151     <em class="brace">}</em>
<a id="L152" name="L152"></a> 152 
<div class="comment">
      Returns the standard name of the algorithm for this key pair generator.
      See the KeyPairGenerator section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyPairGenerator">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard algorithm names.
      @return the standard string name of the algorithm.</div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14999.html" title="Multiple referred from 32 places.">getAlgorithm</a>() <em class="brace">{</em>
<a id="L163" name="L163"></a> 163         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.algorithm;
<a id="L164" name="L164"></a> 164     <em class="brace">}</em>
<a id="L165" name="L165"></a> 165 
<a id="L166" name="L166"></a> 166     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>,
<a id="L167" name="L167"></a> 167             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L168" name="L168"></a> 168         <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a> kpg;
<a id="L169" name="L169"></a> 169         <strong class="reserved">if</strong> (<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> <strong class="reserved">instanceof</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170             kpg = (<a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a>)<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L171" name="L171"></a> 171         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L172" name="L172"></a> 172             <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> spi = (<a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a>)<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L173" name="L173"></a> 173             kpg = <strong class="reserved">new</strong> <a href="../D/2367.html" title="Multiple defined in 7 places.">Delegate</a>(spi, algorithm);
<a id="L174" name="L174"></a> 174         <em class="brace">}</em>
<a id="L175" name="L175"></a> 175         kpg.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L176" name="L176"></a> 176 
<a id="L177" name="L177"></a> 177         <strong class="reserved">if</strong> (!skipDebug &amp;&amp; pdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178             pdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("KeyPairGenerator." + algorithm +
<a id="L179" name="L179"></a> 179                 " algorithm from: " + kpg.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L180" name="L180"></a> 180         <em class="brace">}</em>
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182         <strong class="reserved">return</strong> kpg;
<a id="L183" name="L183"></a> 183     <em class="brace">}</em>
<a id="L184" name="L184"></a> 184 
<div class="comment">
      Returns a KeyPairGenerator object that generates public/private
      key pairs for the specified algorithm.
      <p> This method traverses the list of registered security Providers,
      starting with the most preferred Provider.
      A new KeyPairGenerator object encapsulating the
      KeyPairGeneratorSpi implementation from the first
      Provider that supports the specified algorithm is returned.
      </p><p> Note that the list of registered providers may be retrieved via
      the {@link Security#getProviders() Security.getProviders()} method.
      @param algorithm the standard string name of the algorithm.
      See the KeyPairGenerator section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyPairGenerator">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard algorithm names.
      @return the new KeyPairGenerator object.
      @exception NoSuchAlgorithmException if no Provider supports a
               KeyPairGeneratorSpi implementation for the
               specified algorithm.
      @see Provider</p></div>
<a id="L212" name="L212"></a> 212     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm)
<a id="L213" name="L213"></a> 213             <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <em class="brace">{</em>
<a id="L214" name="L214"></a> 214         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/7863.html" title="Multiple defined in 2 places.">Service</a>&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> =
<a id="L215" name="L215"></a> 215                 GetInstance.<a href="../D/22449.html" title="Multiple defined in 3 places.">getServices</a>("KeyPairGenerator", algorithm);
<a id="L216" name="L216"></a> 216         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/7863.html" title="Multiple defined in 2 places.">Service</a>&gt; t = <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L217" name="L217"></a> 217         <strong class="reserved">if</strong> (t.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>() == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>
<a id="L219" name="L219"></a> 219                 (algorithm + " KeyPairGenerator not available");
<a id="L220" name="L220"></a> 220         <em class="brace">}</em>
<a id="L221" name="L221"></a> 221         <em class="comment">// find a working Spi or KeyPairGenerator subclass</em>
<a id="L222" name="L222"></a> 222         <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = <strong class="reserved">null</strong>;
<a id="L223" name="L223"></a> 223         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L224" name="L224"></a> 224             <a href="../D/7863.html" title="Multiple defined in 2 places.">Service</a> s = t.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L225" name="L225"></a> 225             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L226" name="L226"></a> 226                 Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> =
<a id="L227" name="L227"></a> 227                     GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(s, <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a>.<strong class="reserved">class</strong>);
<a id="L228" name="L228"></a> 228                 <strong class="reserved">if</strong> (<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> <strong class="reserved">instanceof</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a>) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229                     <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>, algorithm);
<a id="L230" name="L230"></a> 230                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L231" name="L231"></a> 231                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/2367.html" title="Multiple defined in 7 places.">Delegate</a>(<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>, t, algorithm);
<a id="L232" name="L232"></a> 232                 <em class="brace">}</em>
<a id="L233" name="L233"></a> 233             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> e) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234                 <strong class="reserved">if</strong> (<a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235                     <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = e;
<a id="L236" name="L236"></a> 236                 <em class="brace">}</em>
<a id="L237" name="L237"></a> 237             <em class="brace">}</em>
<a id="L238" name="L238"></a> 238         <em class="brace">}</em> <strong class="reserved">while</strong> (t.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>());
<a id="L239" name="L239"></a> 239         <strong class="reserved">throw</strong> <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a>;
<a id="L240" name="L240"></a> 240     <em class="brace">}</em>
<a id="L241" name="L241"></a> 241 
<div class="comment">
      Returns a KeyPairGenerator object that generates public/private
      key pairs for the specified algorithm.
      <p> A new KeyPairGenerator object encapsulating the
      KeyPairGeneratorSpi implementation from the specified provider
      is returned.  The specified provider must be registered
      in the security provider list.
      </p><p> Note that the list of registered providers may be retrieved via
      the {@link Security#getProviders() Security.getProviders()} method.
      @param algorithm the standard string name of the algorithm.
      See the KeyPairGenerator section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyPairGenerator">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard algorithm names.
      @param provider the string name of the provider.
      @return the new KeyPairGenerator object.
      @exception NoSuchAlgorithmException if a KeyPairGeneratorSpi
               implementation for the specified algorithm is not
               available from the specified provider.
      @exception NoSuchProviderException if the specified provider is not
               registered in the security provider list.
      @exception IllegalArgumentException if the provider name is null
               or empty.
      @see Provider</p></div>
<a id="L276" name="L276"></a> 276     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm,
<a id="L277" name="L277"></a> 277             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L278" name="L278"></a> 278             <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a> <em class="brace">{</em>
<a id="L279" name="L279"></a> 279         Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> = GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("KeyPairGenerator",
<a id="L280" name="L280"></a> 280                 <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a>.<strong class="reserved">class</strong>, algorithm, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L281" name="L281"></a> 281         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>, algorithm);
<a id="L282" name="L282"></a> 282     <em class="brace">}</em>
<a id="L283" name="L283"></a> 283 
<div class="comment">
      Returns a KeyPairGenerator object that generates public/private
      key pairs for the specified algorithm.
      <p> A new KeyPairGenerator object encapsulating the
      KeyPairGeneratorSpi implementation from the specified Provider
      object is returned.  Note that the specified Provider object
      does not have to be registered in the provider list.
      @param algorithm the standard string name of the algorithm.
      See the KeyPairGenerator section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyPairGenerator">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard algorithm names.
      @param provider the provider.
      @return the new KeyPairGenerator object.
      @exception NoSuchAlgorithmException if a KeyPairGeneratorSpi
               implementation for the specified algorithm is not available
               from the specified Provider object.
      @exception IllegalArgumentException if the specified provider is null.
      @see Provider
      @since 1.4</p></div>
<a id="L313" name="L313"></a> 313     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm,
<a id="L314" name="L314"></a> 314             <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <em class="brace">{</em>
<a id="L315" name="L315"></a> 315         Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> = GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("KeyPairGenerator",
<a id="L316" name="L316"></a> 316                 <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a>.<strong class="reserved">class</strong>, algorithm, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L317" name="L317"></a> 317         <strong class="reserved">return</strong> <a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>, algorithm);
<a id="L318" name="L318"></a> 318     <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<div class="comment">
      Returns the provider of this key pair generator object.
      @return the provider of this key pair generator object</div>
<a id="L325" name="L325"></a> 325     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../R/18534.html" title="Multiple referred from 23 places.">getProvider</a>() <em class="brace">{</em>
<a id="L326" name="L326"></a> 326         <a href="../D/14918.html" title="Multiple defined in 2 places.">disableFailover</a>();
<a id="L327" name="L327"></a> 327         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L328" name="L328"></a> 328     <em class="brace">}</em>
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330     <strong class="reserved">void</strong> <a href="../R/13298.html" title="Multiple referred from 2 places.">disableFailover</a>() <em class="brace">{</em>
<a id="L331" name="L331"></a> 331         <em class="comment">// empty, overridden in Delegate</em>
<a id="L332" name="L332"></a> 332     <em class="brace">}</em>
<a id="L333" name="L333"></a> 333 
<div class="comment">
      Initializes the key pair generator for a certain keysize using
      a default parameter set and the <code>SecureRandom</code>
      implementation of the highest-priority installed provider as the source
      of randomness.
      (If none of the installed providers supply an implementation of
      <code>SecureRandom</code>, a system-provided source of randomness is
      used.)
      @param keysize the keysize. This is an
      algorithm-specific metric, such as modulus length, specified in
      number of bits.
      @exception InvalidParameterException if the <code>keysize</code> is not
      supported by this KeyPairGenerator object.</div>
<a id="L350" name="L350"></a> 350     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20681.html" title="Multiple referred from 99 places.">initialize</a>(<strong class="reserved">int</strong> keysize) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351         <a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(keysize, JCAUtil.getSecureRandom());
<a id="L352" name="L352"></a> 352     <em class="brace">}</em>
<a id="L353" name="L353"></a> 353 
<div class="comment">
      Initializes the key pair generator for a certain keysize with
      the given source of randomness (and a default parameter set).
      @param keysize the keysize. This is an
      algorithm-specific metric, such as modulus length, specified in
      number of bits.
      @param random the source of randomness.
      @exception InvalidParameterException if the <code>keysize</code> is not
      supported by this KeyPairGenerator object.
      @since 1.2</div>
<a id="L368" name="L368"></a> 368     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20681.html" title="Multiple referred from 99 places.">initialize</a>(<strong class="reserved">int</strong> keysize, <a href="../S/1198.html#L94" title="Defined at 94 in src/java/security/SecureRandom.java.">SecureRandom</a> <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>) <em class="brace">{</em>
<a id="L369" name="L369"></a> 369         <em class="comment">// This does nothing, because either</em>
<a id="L370" name="L370"></a> 370         <em class="comment">// 1. the implementation object returned by getInstance() is an</em>
<a id="L371" name="L371"></a> 371         <em class="comment">//    instance of KeyPairGenerator which has its own</em>
<a id="L372" name="L372"></a> 372         <em class="comment">//    initialize(keysize, random) method, so the application would</em>
<a id="L373" name="L373"></a> 373         <em class="comment">//    be calling that method directly, or</em>
<a id="L374" name="L374"></a> 374         <em class="comment">// 2. the implementation returned by getInstance() is an instance</em>
<a id="L375" name="L375"></a> 375         <em class="comment">//    of Delegate, in which case initialize(keysize, random) is</em>
<a id="L376" name="L376"></a> 376         <em class="comment">//    overridden to call the corresponding SPI method.</em>
<a id="L377" name="L377"></a> 377         <em class="comment">// (This is a special case, because the API and SPI method have the</em>
<a id="L378" name="L378"></a> 378         <em class="comment">// same name.)</em>
<a id="L379" name="L379"></a> 379     <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<div class="comment">
      Initializes the key pair generator using the specified parameter
      set and the <code>SecureRandom</code>
      implementation of the highest-priority installed provider as the source
      of randomness.
      (If none of the installed providers supply an implementation of
      <code>SecureRandom</code>, a system-provided source of randomness is
      used.).
      <p>This concrete method has been added to this previously-defined
      abstract class.
      This method calls the KeyPairGeneratorSpi
      {@link KeyPairGeneratorSpi#initialize(
      java.security.spec.AlgorithmParameterSpec,
      java.security.SecureRandom) initialize} method,
      passing it <code>params</code> and a source of randomness (obtained
      from the highest-priority installed provider or system-provided if none
      of the installed providers supply one).
      That <code>initialize</code> method always throws an
      UnsupportedOperationException if it is not overridden by the provider.
      @param params the parameter set used to generate the keys.
      @exception InvalidAlgorithmParameterException if the given parameters
      are inappropriate for this key pair generator.
      @since 1.2</p></div>
<a id="L409" name="L409"></a> 409     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20681.html" title="Multiple referred from 99 places.">initialize</a>(<a href="../S/1236.html#L44" title="Defined at 44 in src/java/security/spec/AlgorithmParameterSpec.java.">AlgorithmParameterSpec</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>)
<a id="L410" name="L410"></a> 410             <strong class="reserved">throws</strong> <a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a> <em class="brace">{</em>
<a id="L411" name="L411"></a> 411         <a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(<a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>, JCAUtil.getSecureRandom());
<a id="L412" name="L412"></a> 412     <em class="brace">}</em>
<a id="L413" name="L413"></a> 413 
<div class="comment">
      Initializes the key pair generator with the given parameter
      set and source of randomness.
      <p>This concrete method has been added to this previously-defined
      abstract class.
      This method calls the KeyPairGeneratorSpi {@link
      KeyPairGeneratorSpi#initialize(
      java.security.spec.AlgorithmParameterSpec,
      java.security.SecureRandom) initialize} method,
      passing it <code>params</code> and <code>random</code>.
      That <code>initialize</code>
      method always throws an
      UnsupportedOperationException if it is not overridden by the provider.
      @param params the parameter set used to generate the keys.
      @param random the source of randomness.
      @exception InvalidAlgorithmParameterException if the given parameters
      are inappropriate for this key pair generator.
      @since 1.2</p></div>
<a id="L437" name="L437"></a> 437     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20681.html" title="Multiple referred from 99 places.">initialize</a>(<a href="../S/1236.html#L44" title="Defined at 44 in src/java/security/spec/AlgorithmParameterSpec.java.">AlgorithmParameterSpec</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>,
<a id="L438" name="L438"></a> 438                            <a href="../S/1198.html#L94" title="Defined at 94 in src/java/security/SecureRandom.java.">SecureRandom</a> <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>)
<a id="L439" name="L439"></a> 439         <strong class="reserved">throws</strong> <a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a>
<a id="L440" name="L440"></a> 440     <em class="brace">{</em>
<a id="L441" name="L441"></a> 441         <em class="comment">// This does nothing, because either</em>
<a id="L442" name="L442"></a> 442         <em class="comment">// 1. the implementation object returned by getInstance() is an</em>
<a id="L443" name="L443"></a> 443         <em class="comment">//    instance of KeyPairGenerator which has its own</em>
<a id="L444" name="L444"></a> 444         <em class="comment">//    initialize(params, random) method, so the application would</em>
<a id="L445" name="L445"></a> 445         <em class="comment">//    be calling that method directly, or</em>
<a id="L446" name="L446"></a> 446         <em class="comment">// 2. the implementation returned by getInstance() is an instance</em>
<a id="L447" name="L447"></a> 447         <em class="comment">//    of Delegate, in which case initialize(params, random) is</em>
<a id="L448" name="L448"></a> 448         <em class="comment">//    overridden to call the corresponding SPI method.</em>
<a id="L449" name="L449"></a> 449         <em class="comment">// (This is a special case, because the API and SPI method have the</em>
<a id="L450" name="L450"></a> 450         <em class="comment">// same name.)</em>
<a id="L451" name="L451"></a> 451     <em class="brace">}</em>
<a id="L452" name="L452"></a> 452 
<div class="comment">
      Generates a key pair.
      <p>If this KeyPairGenerator has not been initialized explicitly,
      provider-specific defaults will be used for the size and other
      (algorithm-specific) values of the generated keys.
      </p><p>This will generate a new key pair every time it is called.
      </p><p>This method is functionally equivalent to
      {@link #generateKeyPair() generateKeyPair}.
      @return the generated key pair
      @since 1.2</p></div>
<a id="L469" name="L469"></a> 469     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1328.html#L41" title="Defined at 41 in src/java/security/KeyPair.java.">KeyPair</a> genKeyPair() <em class="brace">{</em>
<a id="L470" name="L470"></a> 470         <strong class="reserved">return</strong> <a href="../D/16648.html" title="Multiple defined in 3 places.">generateKeyPair</a>();
<a id="L471" name="L471"></a> 471     <em class="brace">}</em>
<a id="L472" name="L472"></a> 472 
<div class="comment">
      Generates a key pair.
      <p>If this KeyPairGenerator has not been initialized explicitly,
      provider-specific defaults will be used for the size and other
      (algorithm-specific) values of the generated keys.
      </p><p>This will generate a new key pair every time it is called.
      </p><p>This method is functionally equivalent to
      {@link #genKeyPair() genKeyPair}.
      @return the generated key pair</p></div>
<a id="L487" name="L487"></a> 487     <strong class="reserved">public</strong> <a href="../S/1328.html#L41" title="Defined at 41 in src/java/security/KeyPair.java.">KeyPair</a> <a href="../R/14853.html" title="Multiple referred from 3 places.">generateKeyPair</a>() <em class="brace">{</em>
<a id="L488" name="L488"></a> 488         <em class="comment">// This does nothing (except returning null), because either:</em>
<a id="L489" name="L489"></a> 489         <em class="comment">//</em>
<a id="L490" name="L490"></a> 490         <em class="comment">// 1. the implementation object returned by getInstance() is an</em>
<a id="L491" name="L491"></a> 491         <em class="comment">//    instance of KeyPairGenerator which has its own implementation</em>
<a id="L492" name="L492"></a> 492         <em class="comment">//    of generateKeyPair (overriding this one), so the application</em>
<a id="L493" name="L493"></a> 493         <em class="comment">//    would be calling that method directly, or</em>
<a id="L494" name="L494"></a> 494         <em class="comment">//</em>
<a id="L495" name="L495"></a> 495         <em class="comment">// 2. the implementation returned by getInstance() is an instance</em>
<a id="L496" name="L496"></a> 496         <em class="comment">//    of Delegate, in which case generateKeyPair is</em>
<a id="L497" name="L497"></a> 497         <em class="comment">//    overridden to invoke the corresponding SPI method.</em>
<a id="L498" name="L498"></a> 498         <em class="comment">//</em>
<a id="L499" name="L499"></a> 499         <em class="comment">// (This is a special case, because in JDK 1.1.x the generateKeyPair</em>
<a id="L500" name="L500"></a> 500         <em class="comment">// method was used both as an API and a SPI method.)</em>
<a id="L501" name="L501"></a> 501         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L502" name="L502"></a> 502     <em class="brace">}</em>
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504 
<div class="comment">
      The following class allows providers to extend from KeyPairGeneratorSpi
      rather than from KeyPairGenerator. It represents a KeyPairGenerator
      with an encapsulated, provider-supplied SPI object (of type
      KeyPairGeneratorSpi).
      If the provider implementation is an instance of KeyPairGeneratorSpi,
      the getInstance() methods above return an instance of this class, with
      the SPI object encapsulated.
      Note: All SPI methods from the original KeyPairGenerator class have been
      moved up the hierarchy into a new class (KeyPairGeneratorSpi), which has
      been interposed in the hierarchy between the API (KeyPairGenerator)
      and its original parent (Object).</div>
<a id="L519" name="L519"></a> 519 
<a id="L520" name="L520"></a> 520     <em class="comment">//</em>
<a id="L521" name="L521"></a> 521     <em class="comment">// error failover notes:</em>
<a id="L522" name="L522"></a> 522     <em class="comment">//</em>
<a id="L523" name="L523"></a> 523     <em class="comment">//  . we failover if the implementation throws an error during init</em>
<a id="L524" name="L524"></a> 524     <em class="comment">//    by retrying the init on other providers</em>
<a id="L525" name="L525"></a> 525     <em class="comment">//</em>
<a id="L526" name="L526"></a> 526     <em class="comment">//  . we also failover if the init succeeded but the subsequent call</em>
<a id="L527" name="L527"></a> 527     <em class="comment">//    to generateKeyPair() fails. In order for this to work, we need</em>
<a id="L528" name="L528"></a> 528     <em class="comment">//    to remember the parameters to the last successful call to init</em>
<a id="L529" name="L529"></a> 529     <em class="comment">//    and initialize() the next spi using them.</em>
<a id="L530" name="L530"></a> 530     <em class="comment">//</em>
<a id="L531" name="L531"></a> 531     <em class="comment">//  . although not specified, KeyPairGenerators could be thread safe,</em>
<a id="L532" name="L532"></a> 532     <em class="comment">//    so we make sure we do not interfere with that</em>
<a id="L533" name="L533"></a> 533     <em class="comment">//</em>
<a id="L534" name="L534"></a> 534     <em class="comment">//  . failover is not available, if:</em>
<a id="L535" name="L535"></a> 535     <em class="comment">//    . getInstance(algorithm, provider) was used</em>
<a id="L536" name="L536"></a> 536     <em class="comment">//    . a provider extends KeyPairGenerator rather than</em>
<a id="L537" name="L537"></a> 537     <em class="comment">//      KeyPairGeneratorSpi (JDK 1.1 style)</em>
<a id="L538" name="L538"></a> 538     <em class="comment">//    . once getProvider() is called</em>
<a id="L539" name="L539"></a> 539     <em class="comment">//</em>
<a id="L540" name="L540"></a> 540 
<a id="L541" name="L541"></a> 541     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2176.html" title="Multiple referred from 163 places.">Delegate</a> <strong class="reserved">extends</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a> <em class="brace">{</em>
<a id="L542" name="L542"></a> 542 
<a id="L543" name="L543"></a> 543         <em class="comment">// The provider implementation (delegate)</em>
<a id="L544" name="L544"></a> 544         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> spi;
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L547" name="L547"></a> 547 
<a id="L548" name="L548"></a> 548         <strong class="reserved">private</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/7863.html" title="Multiple defined in 2 places.">Service</a>&gt; serviceIterator;
<a id="L549" name="L549"></a> 549 
<a id="L550" name="L550"></a> 550         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> I_NONE   = 1;
<a id="L551" name="L551"></a> 551         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> I_SIZE   = 2;
<a id="L552" name="L552"></a> 552         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> I_PARAMS = 3;
<a id="L553" name="L553"></a> 553 
<a id="L554" name="L554"></a> 554         <strong class="reserved">private</strong> <strong class="reserved">int</strong> initType;
<a id="L555" name="L555"></a> 555         <strong class="reserved">private</strong> <strong class="reserved">int</strong> initKeySize;
<a id="L556" name="L556"></a> 556         <strong class="reserved">private</strong> <a href="../S/1236.html#L44" title="Defined at 44 in src/java/security/spec/AlgorithmParameterSpec.java.">AlgorithmParameterSpec</a> <a href="../S/4452.html#L544" title="Defined at 544 in src/javax/sql/rowset/BaseRowSet.java.">initParams</a>;
<a id="L557" name="L557"></a> 557         <strong class="reserved">private</strong> <a href="../S/1198.html#L94" title="Defined at 94 in src/java/security/SecureRandom.java.">SecureRandom</a> initRandom;
<a id="L558" name="L558"></a> 558 
<a id="L559" name="L559"></a> 559         <em class="comment">// constructor</em>
<a id="L560" name="L560"></a> 560         Delegate(<a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> spi, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L561" name="L561"></a> 561             <strong class="reserved">super</strong>(algorithm);
<a id="L562" name="L562"></a> 562             <strong class="reserved">this</strong>.spi = spi;
<a id="L563" name="L563"></a> 563         <em class="brace">}</em>
<a id="L564" name="L564"></a> 564 
<a id="L565" name="L565"></a> 565         Delegate(Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>, <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/7863.html" title="Multiple defined in 2 places.">Service</a>&gt; serviceIterator,
<a id="L566" name="L566"></a> 566                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567             <strong class="reserved">super</strong>(algorithm);
<a id="L568" name="L568"></a> 568             spi = (<a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a>)<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L569" name="L569"></a> 569             <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L570" name="L570"></a> 570             <strong class="reserved">this</strong>.serviceIterator = serviceIterator;
<a id="L571" name="L571"></a> 571             initType = I_NONE;
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573             <strong class="reserved">if</strong> (!skipDebug &amp;&amp; pdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L574" name="L574"></a> 574                 pdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("KeyPairGenerator." + algorithm +
<a id="L575" name="L575"></a> 575                     " algorithm from: " + <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L576" name="L576"></a> 576             <em class="brace">}</em>
<a id="L577" name="L577"></a> 577         <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<div class="comment">
          Update the active spi of this class and return the next
          implementation for failover. If no more implemenations are
          available, this method returns null. However, the active spi of
          this class is never set to null.</div>
<a id="L585" name="L585"></a> 585         <strong class="reserved">private</strong> <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> <a href="../R/23694.html" title="Multiple referred from 8 places.">nextSpi</a>(<a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> oldSpi,
<a id="L586" name="L586"></a> 586                 <strong class="reserved">boolean</strong> reinit) <em class="brace">{</em>
<a id="L587" name="L587"></a> 587             <strong class="reserved">synchronized</strong> (<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>) <em class="brace">{</em>
<a id="L588" name="L588"></a> 588                 <em class="comment">// somebody else did a failover concurrently</em>
<a id="L589" name="L589"></a> 589                 <em class="comment">// try that spi now</em>
<a id="L590" name="L590"></a> 590                 <strong class="reserved">if</strong> ((oldSpi != <strong class="reserved">null</strong>) &amp;&amp; (oldSpi != spi)) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                     <strong class="reserved">return</strong> spi;
<a id="L592" name="L592"></a> 592                 <em class="brace">}</em>
<a id="L593" name="L593"></a> 593                 <strong class="reserved">if</strong> (serviceIterator == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L594" name="L594"></a> 594                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L595" name="L595"></a> 595                 <em class="brace">}</em>
<a id="L596" name="L596"></a> 596                 <strong class="reserved">while</strong> (serviceIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L597" name="L597"></a> 597                     <a href="../D/7863.html" title="Multiple defined in 2 places.">Service</a> s = serviceIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L598" name="L598"></a> 598                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L599" name="L599"></a> 599                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> inst = s.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(<strong class="reserved">null</strong>);
<a id="L600" name="L600"></a> 600                         <em class="comment">// ignore non-spis</em>
<a id="L601" name="L601"></a> 601                         <strong class="reserved">if</strong> (inst <strong class="reserved">instanceof</strong> <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602                             <strong class="reserved">continue</strong>;
<a id="L603" name="L603"></a> 603                         <em class="brace">}</em>
<a id="L604" name="L604"></a> 604                         <strong class="reserved">if</strong> (inst <strong class="reserved">instanceof</strong> <a href="../S/1196.html#L128" title="Defined at 128 in src/java/security/KeyPairGenerator.java.">KeyPairGenerator</a>) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605                             <strong class="reserved">continue</strong>;
<a id="L606" name="L606"></a> 606                         <em class="brace">}</em>
<a id="L607" name="L607"></a> 607                         <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> spi = (<a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a>)inst;
<a id="L608" name="L608"></a> 608                         <strong class="reserved">if</strong> (reinit) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609                             <strong class="reserved">if</strong> (initType == I_SIZE) <em class="brace">{</em>
<a id="L610" name="L610"></a> 610                                 spi.<a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(initKeySize, initRandom);
<a id="L611" name="L611"></a> 611                             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (initType == I_PARAMS) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612                                 spi.<a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(<a href="../S/4452.html#L544" title="Defined at 544 in src/javax/sql/rowset/BaseRowSet.java.">initParams</a>, initRandom);
<a id="L613" name="L613"></a> 613                             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (initType != I_NONE) <em class="brace">{</em>
<a id="L614" name="L614"></a> 614                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>
<a id="L615" name="L615"></a> 615                                     ("KeyPairGenerator initType: " + initType);
<a id="L616" name="L616"></a> 616                             <em class="brace">}</em>
<a id="L617" name="L617"></a> 617                         <em class="brace">}</em>
<a id="L618" name="L618"></a> 618                         <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = s.<a href="../D/21756.html" title="Multiple defined in 24 places.">getProvider</a>();
<a id="L619" name="L619"></a> 619                         <strong class="reserved">this</strong>.spi = spi;
<a id="L620" name="L620"></a> 620                         <strong class="reserved">return</strong> spi;
<a id="L621" name="L621"></a> 621                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L622" name="L622"></a> 622                         <em class="comment">// ignore</em>
<a id="L623" name="L623"></a> 623                     <em class="brace">}</em>
<a id="L624" name="L624"></a> 624                 <em class="brace">}</em>
<a id="L625" name="L625"></a> 625                 <a href="../D/14918.html" title="Multiple defined in 2 places.">disableFailover</a>();
<a id="L626" name="L626"></a> 626                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L627" name="L627"></a> 627             <em class="brace">}</em>
<a id="L628" name="L628"></a> 628         <em class="brace">}</em>
<a id="L629" name="L629"></a> 629 
<a id="L630" name="L630"></a> 630         <strong class="reserved">void</strong> <a href="../R/13298.html" title="Multiple referred from 2 places.">disableFailover</a>() <em class="brace">{</em>
<a id="L631" name="L631"></a> 631             serviceIterator = <strong class="reserved">null</strong>;
<a id="L632" name="L632"></a> 632             initType = 0;
<a id="L633" name="L633"></a> 633             <a href="../S/4452.html#L544" title="Defined at 544 in src/javax/sql/rowset/BaseRowSet.java.">initParams</a> = <strong class="reserved">null</strong>;
<a id="L634" name="L634"></a> 634             initRandom = <strong class="reserved">null</strong>;
<a id="L635" name="L635"></a> 635         <em class="brace">}</em>
<a id="L636" name="L636"></a> 636 
<a id="L637" name="L637"></a> 637         <em class="comment">// engine method</em>
<a id="L638" name="L638"></a> 638         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20681.html" title="Multiple referred from 99 places.">initialize</a>(<strong class="reserved">int</strong> keysize, <a href="../S/1198.html#L94" title="Defined at 94 in src/java/security/SecureRandom.java.">SecureRandom</a> <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>) <em class="brace">{</em>
<a id="L639" name="L639"></a> 639             <strong class="reserved">if</strong> (serviceIterator == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L640" name="L640"></a> 640                 spi.<a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(keysize, <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>);
<a id="L641" name="L641"></a> 641                 <strong class="reserved">return</strong>;
<a id="L642" name="L642"></a> 642             <em class="brace">}</em>
<a id="L643" name="L643"></a> 643             <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = <strong class="reserved">null</strong>;
<a id="L644" name="L644"></a> 644             <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> mySpi = spi;
<a id="L645" name="L645"></a> 645             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L646" name="L646"></a> 646                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L647" name="L647"></a> 647                     mySpi.<a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(keysize, <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>);
<a id="L648" name="L648"></a> 648                     initType = I_SIZE;
<a id="L649" name="L649"></a> 649                     initKeySize = keysize;
<a id="L650" name="L650"></a> 650                     <a href="../S/4452.html#L544" title="Defined at 544 in src/javax/sql/rowset/BaseRowSet.java.">initParams</a> = <strong class="reserved">null</strong>;
<a id="L651" name="L651"></a> 651                     initRandom = <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>;
<a id="L652" name="L652"></a> 652                     <strong class="reserved">return</strong>;
<a id="L653" name="L653"></a> 653                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> e) <em class="brace">{</em>
<a id="L654" name="L654"></a> 654                     <strong class="reserved">if</strong> (<a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655                         <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = e;
<a id="L656" name="L656"></a> 656                     <em class="brace">}</em>
<a id="L657" name="L657"></a> 657                     mySpi = <a href="../D/28185.html" title="Multiple defined in 2 places.">nextSpi</a>(mySpi, <strong class="reserved">false</strong>);
<a id="L658" name="L658"></a> 658                 <em class="brace">}</em>
<a id="L659" name="L659"></a> 659             <em class="brace">}</em> <strong class="reserved">while</strong> (mySpi != <strong class="reserved">null</strong>);
<a id="L660" name="L660"></a> 660             <strong class="reserved">throw</strong> <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a>;
<a id="L661" name="L661"></a> 661         <em class="brace">}</em>
<a id="L662" name="L662"></a> 662 
<a id="L663" name="L663"></a> 663         <em class="comment">// engine method</em>
<a id="L664" name="L664"></a> 664         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20681.html" title="Multiple referred from 99 places.">initialize</a>(<a href="../S/1236.html#L44" title="Defined at 44 in src/java/security/spec/AlgorithmParameterSpec.java.">AlgorithmParameterSpec</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>,
<a id="L665" name="L665"></a> 665                 <a href="../S/1198.html#L94" title="Defined at 94 in src/java/security/SecureRandom.java.">SecureRandom</a> <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>) <strong class="reserved">throws</strong> <a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a> <em class="brace">{</em>
<a id="L666" name="L666"></a> 666             <strong class="reserved">if</strong> (serviceIterator == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L667" name="L667"></a> 667                 spi.<a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(<a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>, <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>);
<a id="L668" name="L668"></a> 668                 <strong class="reserved">return</strong>;
<a id="L669" name="L669"></a> 669             <em class="brace">}</em>
<a id="L670" name="L670"></a> 670             <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = <strong class="reserved">null</strong>;
<a id="L671" name="L671"></a> 671             <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> mySpi = spi;
<a id="L672" name="L672"></a> 672             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L673" name="L673"></a> 673                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L674" name="L674"></a> 674                     mySpi.<a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>(<a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>, <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>);
<a id="L675" name="L675"></a> 675                     initType = I_PARAMS;
<a id="L676" name="L676"></a> 676                     initKeySize = 0;
<a id="L677" name="L677"></a> 677                     <a href="../S/4452.html#L544" title="Defined at 544 in src/javax/sql/rowset/BaseRowSet.java.">initParams</a> = <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>;
<a id="L678" name="L678"></a> 678                     initRandom = <a href="../D/30092.html" title="Multiple defined in 3 places.">random</a>;
<a id="L679" name="L679"></a> 679                     <strong class="reserved">return</strong>;
<a id="L680" name="L680"></a> 680                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L681" name="L681"></a> 681                     <strong class="reserved">if</strong> (<a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682                         <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = e;
<a id="L683" name="L683"></a> 683                     <em class="brace">}</em>
<a id="L684" name="L684"></a> 684                     mySpi = <a href="../D/28185.html" title="Multiple defined in 2 places.">nextSpi</a>(mySpi, <strong class="reserved">false</strong>);
<a id="L685" name="L685"></a> 685                 <em class="brace">}</em>
<a id="L686" name="L686"></a> 686             <em class="brace">}</em> <strong class="reserved">while</strong> (mySpi != <strong class="reserved">null</strong>);
<a id="L687" name="L687"></a> 687             <strong class="reserved">if</strong> (<a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> <strong class="reserved">instanceof</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) <em class="brace">{</em>
<a id="L688" name="L688"></a> 688                 <strong class="reserved">throw</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>)<a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a>;
<a id="L689" name="L689"></a> 689             <em class="brace">}</em>
<a id="L690" name="L690"></a> 690             <em class="comment">// must be an InvalidAlgorithmParameterException</em>
<a id="L691" name="L691"></a> 691             <strong class="reserved">throw</strong> (<a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a>)<a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a>;
<a id="L692" name="L692"></a> 692         <em class="brace">}</em>
<a id="L693" name="L693"></a> 693 
<a id="L694" name="L694"></a> 694         <em class="comment">// engine method</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">public</strong> <a href="../S/1328.html#L41" title="Defined at 41 in src/java/security/KeyPair.java.">KeyPair</a> <a href="../R/14853.html" title="Multiple referred from 3 places.">generateKeyPair</a>() <em class="brace">{</em>
<a id="L696" name="L696"></a> 696             <strong class="reserved">if</strong> (serviceIterator == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L697" name="L697"></a> 697                 <strong class="reserved">return</strong> spi.<a href="../D/16648.html" title="Multiple defined in 3 places.">generateKeyPair</a>();
<a id="L698" name="L698"></a> 698             <em class="brace">}</em>
<a id="L699" name="L699"></a> 699             <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = <strong class="reserved">null</strong>;
<a id="L700" name="L700"></a> 700             <a href="../S/1327.html#L52" title="Defined at 52 in src/java/security/KeyPairGeneratorSpi.java.">KeyPairGeneratorSpi</a> mySpi = spi;
<a id="L701" name="L701"></a> 701             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L702" name="L702"></a> 702                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L703" name="L703"></a> 703                     <strong class="reserved">return</strong> mySpi.<a href="../D/16648.html" title="Multiple defined in 3 places.">generateKeyPair</a>();
<a id="L704" name="L704"></a> 704                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a> e) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705                     <strong class="reserved">if</strong> (<a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L706" name="L706"></a> 706                         <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a> = e;
<a id="L707" name="L707"></a> 707                     <em class="brace">}</em>
<a id="L708" name="L708"></a> 708                     mySpi = <a href="../D/28185.html" title="Multiple defined in 2 places.">nextSpi</a>(mySpi, <strong class="reserved">true</strong>);
<a id="L709" name="L709"></a> 709                 <em class="brace">}</em>
<a id="L710" name="L710"></a> 710             <em class="brace">}</em> <strong class="reserved">while</strong> (mySpi != <strong class="reserved">null</strong>);
<a id="L711" name="L711"></a> 711             <strong class="reserved">throw</strong> <a href="../S/2542.html#L58" title="Defined at 58 in src/java/rmi/server/RMIFailureHandler.java.">failure</a>;
<a id="L712" name="L712"></a> 712         <em class="brace">}</em>
<a id="L713" name="L713"></a> 713     <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<a id="L715" name="L715"></a> 715 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L162">[^]</a><a href="#L695">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>