<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/management/remote/JMXServiceURL.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L344">[^]</a><a href="#L659">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L344" title="Defined at 344.">readObject</a></li>
<li><a href="#L386" title="Defined at 386.">validate</a></li>
<li><a href="#L410" title="Defined at 410.">validate</a></li>
<li><a href="#L414" title="Defined at 414.">validateHost</a></li>
<li><a href="#L530" title="Defined at 530.">getProtocol</a></li>
<li><a href="#L550" title="Defined at 550.">getHost</a></li>
<li><a href="#L560" title="Defined at 560.">getPort</a></li>
<li><a href="#L572" title="Defined at 572.">getURLPath</a></li>
<li><a href="#L593" title="Defined at 593.">toString</a></li>
<li><a href="#L627" title="Defined at 627.">equals</a></li>
<li><a href="#L638" title="Defined at 638.">hashCode</a></li>
<li><a href="#L645" title="Defined at 645.">isNumericIPv6Address</a></li>
<li><a href="#L651" title="Defined at 651.">indexOf</a></li>
<li><a href="#L659" title="Defined at 659.">indexOfFirstNotInSet</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2002, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.management.remote;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.jmx.remote.util.ClassLogger;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.jmx.remote.util.EnvHelp;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.io.IOException;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.net.InetAddress;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.net.MalformedURLException;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.net.UnknownHostException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.util.BitSet;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.util.StringTokenizer;
<a id="L42" name="L42"></a>  42 
<div class="comment">
  <p>The address of a JMX API connector server.  Instances of this class
  are immutable.</p>
  <p>The address is an <em>Abstract Service URL</em> for SLP, as
  defined in RFC 2609 and amended by RFC 3111.  It must look like
  this:</p>
  <blockquote>
  <code>service:jmx:<em>protocol</em>:<em>sap</em></code>
  </blockquote>
  <p>Here, <code><em>protocol</em></code> is the transport
  protocol to be used to connect to the connector server.  It is
  a string of one or more ASCII characters, each of which is a
  letter, a digit, or one of the characters <code>+</code> or
  <code>-</code>.  The first character must be a letter.
  Uppercase letters are converted into lowercase ones.</p>
  <p><code><em>sap</em></code> is the address at which the connector
  server is found.  This address uses a subset of the syntax defined
  by RFC 2609 for IP-based protocols.  It is a subset because the
  <code>user@host</code> syntax is not supported.</p>
  <p>The other syntaxes defined by RFC 2609 are not currently
  supported by this class.</p>
  <p>The supported syntax is:</p>
  <blockquote>
  <code>//<em>[host[</em>:<em>port]][url-path]</em></code>
  </blockquote>
  <p>Square brackets <code>[]</code> indicate optional parts of
  the address.  Not all protocols will recognize all optional
  parts.</p>
  <p>The <code><em>host</em></code> is a host name, an IPv4 numeric
  host address, or an IPv6 numeric address enclosed in square
  brackets.</p>
  <p>The <code><em>port</em></code> is a decimal port number.  0
  means a default or anonymous port, depending on the protocol.</p>
  <p>The <code><em>host</em></code> and <code><em>port</em></code>
  can be omitted.  The <code><em>port</em></code> cannot be supplied
  without a <code><em>host</em></code>.</p>
  <p>The <code><em>url-path</em></code>, if any, begins with a slash
  (<code>/</code>) or a semicolon (<code>;</code>) and continues to
  the end of the address.  It can contain attributes using the
  semicolon syntax specified in RFC 2609.  Those attributes are not
  parsed by this class and incorrect attribute syntax is not
  detected.</p>
  <p>Although it is legal according to RFC 2609 to have a
  <code><em>url-path</em></code> that begins with a semicolon, not
  all implementations of SLP allow it, so it is recommended to avoid
  that syntax.</p>
  <p>Case is not significant in the initial
  <code>service:jmx:<em>protocol</em></code> string or in the host
  part of the address.  Depending on the protocol, case can be
  significant in the <code><em>url-path</em></code>.</p>
  @see <a href="http://www.ietf.org/rfc/rfc2609.txt">RFC 2609,
  "Service Templates and <code>Service:</code> Schemes"</a>
  @see <a href="http://www.ietf.org/rfc/rfc3111.txt">RFC 3111,
  "Service Location Protocol Modifications for IPv6"</a>
  @since 1.5</div>
<a id="L121" name="L121"></a> 121 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/4204.html" title="Multiple referred from 37 places.">JMXServiceURL</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L122" name="L122"></a> 122 
<a id="L123" name="L123"></a> 123     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 8173364409860779292L;
<a id="L124" name="L124"></a> 124 
<div class="comment">
      <p>Constructs a <code>JMXServiceURL</code> by parsing a Service URL
      string.</p>
      @param serviceURL the URL string to be parsed.
      @exception NullPointerException if <code>serviceURL</code> is
      null.
      @exception MalformedURLException if <code>serviceURL</code>
      does not conform to the syntax for an Abstract Service URL or
      if it is not a valid name for a JMX Remote API service.  A
      <code>JMXServiceURL</code> must begin with the string
      <code>"service:jmx:"</code> (case-insensitive).  It must not
      contain any characters that are not printable ASCII characters.</div>
<a id="L141" name="L141"></a> 141     <strong class="reserved">public</strong> JMXServiceURL(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> serviceURL) <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L142" name="L142"></a> 142         <strong class="reserved">final</strong> <strong class="reserved">int</strong> serviceURLLength = serviceURL.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L143" name="L143"></a> 143 
<div class="comment">
 Check that there are no non-ASCII characters in the URL,
           following RFC 2609.  </div>
<a id="L146" name="L146"></a> 146         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; serviceURLLength; i++) <em class="brace">{</em>
<a id="L147" name="L147"></a> 147             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = serviceURL.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L148" name="L148"></a> 148             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt; 32 || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 127) <em class="brace">{</em>
<a id="L149" name="L149"></a> 149                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Service URL contains " +
<a id="L150" name="L150"></a> 150                                                 "non-ASCII character 0x" +
<a id="L151" name="L151"></a> 151                                                 <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>));
<a id="L152" name="L152"></a> 152             <em class="brace">}</em>
<a id="L153" name="L153"></a> 153         <em class="brace">}</em>
<a id="L154" name="L154"></a> 154 
<a id="L155" name="L155"></a> 155         <em class="comment">// Parse the required prefix</em>
<a id="L156" name="L156"></a> 156         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> requiredPrefix = "service:jmx:";
<a id="L157" name="L157"></a> 157         <strong class="reserved">final</strong> <strong class="reserved">int</strong> requiredPrefixLength = requiredPrefix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L158" name="L158"></a> 158         <strong class="reserved">if</strong> (!serviceURL.<a href="../D/30514.html" title="Multiple defined in 14 places.">regionMatches</a>(<strong class="reserved">true</strong>, <em class="comment">// ignore case</em>
<a id="L159" name="L159"></a> 159                                       0,    <em class="comment">// serviceURL offset</em>
<a id="L160" name="L160"></a> 160                                       requiredPrefix,
<a id="L161" name="L161"></a> 161                                       0,    <em class="comment">// requiredPrefix offset</em>
<a id="L162" name="L162"></a> 162                                       requiredPrefixLength)) <em class="brace">{</em>
<a id="L163" name="L163"></a> 163             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Service URL must start with " +
<a id="L164" name="L164"></a> 164                                             requiredPrefix);
<a id="L165" name="L165"></a> 165         <em class="brace">}</em>
<a id="L166" name="L166"></a> 166 
<a id="L167" name="L167"></a> 167         <em class="comment">// Parse the protocol name</em>
<a id="L168" name="L168"></a> 168         <strong class="reserved">final</strong> <strong class="reserved">int</strong> protoStart = requiredPrefixLength;
<a id="L169" name="L169"></a> 169         <strong class="reserved">final</strong> <strong class="reserved">int</strong> protoEnd = <a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(serviceURL, ':', protoStart);
<a id="L170" name="L170"></a> 170         <strong class="reserved">this</strong>.protocol =
<a id="L171" name="L171"></a> 171             serviceURL.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(protoStart, protoEnd).<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L172" name="L172"></a> 172 
<a id="L173" name="L173"></a> 173         <strong class="reserved">if</strong> (!serviceURL.<a href="../D/30514.html" title="Multiple defined in 14 places.">regionMatches</a>(protoEnd, "://", 0, 3)) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Missing \"://\" after " +
<a id="L175" name="L175"></a> 175                                             "protocol name");
<a id="L176" name="L176"></a> 176         <em class="brace">}</em>
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178         <em class="comment">// Parse the host name</em>
<a id="L179" name="L179"></a> 179         <strong class="reserved">final</strong> <strong class="reserved">int</strong> hostStart = protoEnd + 3;
<a id="L180" name="L180"></a> 180         <strong class="reserved">final</strong> <strong class="reserved">int</strong> hostEnd;
<a id="L181" name="L181"></a> 181         <strong class="reserved">if</strong> (hostStart &lt; serviceURLLength
<a id="L182" name="L182"></a> 182             &amp;&amp; serviceURL.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(hostStart) == '[') <em class="brace">{</em>
<a id="L183" name="L183"></a> 183             hostEnd = serviceURL.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(']', hostStart) + 1;
<a id="L184" name="L184"></a> 184             <strong class="reserved">if</strong> (hostEnd == 0)
<a id="L185" name="L185"></a> 185                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Bad host name: [ without ]");
<a id="L186" name="L186"></a> 186             <strong class="reserved">this</strong>.host = serviceURL.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(hostStart + 1, hostEnd - 1);
<a id="L187" name="L187"></a> 187             <strong class="reserved">if</strong> (!<a href="../S/3612.html#L645" title="Defined at 645 in src/javax/management/remote/JMXServiceURL.java.">isNumericIPv6Address</a>(<strong class="reserved">this</strong>.host)) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Address inside [...] must " +
<a id="L189" name="L189"></a> 189                                                 "be numeric IPv6 address");
<a id="L190" name="L190"></a> 190             <em class="brace">}</em>
<a id="L191" name="L191"></a> 191         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L192" name="L192"></a> 192             hostEnd =
<a id="L193" name="L193"></a> 193                 <a href="../S/3612.html#L659" title="Defined at 659 in src/javax/management/remote/JMXServiceURL.java.">indexOfFirstNotInSet</a>(serviceURL, hostNameBitSet, hostStart);
<a id="L194" name="L194"></a> 194             <strong class="reserved">this</strong>.host = serviceURL.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(hostStart, hostEnd);
<a id="L195" name="L195"></a> 195         <em class="brace">}</em>
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197         <em class="comment">// Parse the port number</em>
<a id="L198" name="L198"></a> 198         <strong class="reserved">final</strong> <strong class="reserved">int</strong> portEnd;
<a id="L199" name="L199"></a> 199         <strong class="reserved">if</strong> (hostEnd &lt; serviceURLLength &amp;&amp; serviceURL.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(hostEnd) == ':') <em class="brace">{</em>
<a id="L200" name="L200"></a> 200             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L201" name="L201"></a> 201                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Cannot give port number " +
<a id="L202" name="L202"></a> 202                                                 "without host name");
<a id="L203" name="L203"></a> 203             <em class="brace">}</em>
<a id="L204" name="L204"></a> 204             <strong class="reserved">final</strong> <strong class="reserved">int</strong> portStart = hostEnd + 1;
<a id="L205" name="L205"></a> 205             portEnd =
<a id="L206" name="L206"></a> 206                 <a href="../S/3612.html#L659" title="Defined at 659 in src/javax/management/remote/JMXServiceURL.java.">indexOfFirstNotInSet</a>(serviceURL, numericBitSet, portStart);
<a id="L207" name="L207"></a> 207             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> portString = serviceURL.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(portStart, portEnd);
<a id="L208" name="L208"></a> 208             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L209" name="L209"></a> 209                 <strong class="reserved">this</strong>.port = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(portString);
<a id="L210" name="L210"></a> 210             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> e) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Bad port number: \"" +
<a id="L212" name="L212"></a> 212                                                 portString + "\": " + e);
<a id="L213" name="L213"></a> 213             <em class="brace">}</em>
<a id="L214" name="L214"></a> 214         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L215" name="L215"></a> 215             portEnd = hostEnd;
<a id="L216" name="L216"></a> 216             <strong class="reserved">this</strong>.port = 0;
<a id="L217" name="L217"></a> 217         <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219         <em class="comment">// Parse the URL path</em>
<a id="L220" name="L220"></a> 220         <strong class="reserved">final</strong> <strong class="reserved">int</strong> urlPathStart = portEnd;
<a id="L221" name="L221"></a> 221         <strong class="reserved">if</strong> (urlPathStart &lt; serviceURLLength)
<a id="L222" name="L222"></a> 222             <strong class="reserved">this</strong>.urlPath = serviceURL.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(urlPathStart);
<a id="L223" name="L223"></a> 223         <strong class="reserved">else</strong>
<a id="L224" name="L224"></a> 224             <strong class="reserved">this</strong>.urlPath = "";
<a id="L225" name="L225"></a> 225 
<a id="L226" name="L226"></a> 226         <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>();
<a id="L227" name="L227"></a> 227     <em class="brace">}</em>
<a id="L228" name="L228"></a> 228 
<div class="comment">
      <p>Constructs a <code>JMXServiceURL</code> with the given protocol,
      host, and port.  This constructor is equivalent to
      {@link #JMXServiceURL(String, String, int, String)
      JMXServiceURL(protocol, host, port, null)}.</p>
      @param protocol the protocol part of the URL.  If null, defaults
      to <code>jmxmp</code>.
      @param host the host part of the URL.  If null, defaults to the
      local host name, as determined by
      <code>InetAddress.getLocalHost().getHostName()</code>.  If it
      is a numeric IPv6 address, it can optionally be enclosed in
      square brackets <code>[]</code>.
      @param port the port part of the URL.
      @exception MalformedURLException if one of the parts is
      syntactically incorrect, or if <code>host</code> is null and it
      is not possible to find the local host name, or if
      <code>port</code> is negative.</div>
<a id="L251" name="L251"></a> 251     <strong class="reserved">public</strong> JMXServiceURL(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port)
<a id="L252" name="L252"></a> 252             <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">this</strong>(protocol, host, port, <strong class="reserved">null</strong>);
<a id="L254" name="L254"></a> 254     <em class="brace">}</em>
<a id="L255" name="L255"></a> 255 
<div class="comment">
      <p>Constructs a <code>JMXServiceURL</code> with the given parts.
      @param protocol the protocol part of the URL.  If null, defaults
      to <code>jmxmp</code>.
      @param host the host part of the URL.  If null, defaults to the
      local host name, as determined by
      <code>InetAddress.getLocalHost().getHostName()</code>.  If it
      is a numeric IPv6 address, it can optionally be enclosed in
      square brackets <code>[]</code>.
      @param port the port part of the URL.
      @param urlPath the URL path part of the URL.  If null, defaults to
      the empty string.
      @exception MalformedURLException if one of the parts is
      syntactically incorrect, or if <code>host</code> is null and it
      is not possible to find the local host name, or if
      <code>port</code> is negative.</p></div>
<a id="L278" name="L278"></a> 278     <strong class="reserved">public</strong> JMXServiceURL(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port,
<a id="L279" name="L279"></a> 279                          <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> urlPath)
<a id="L280" name="L280"></a> 280             <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">if</strong> (protocol == <strong class="reserved">null</strong>)
<a id="L282" name="L282"></a> 282             protocol = "jmxmp";
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284         <strong class="reserved">if</strong> (host == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285             <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> local;
<a id="L286" name="L286"></a> 286             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L287" name="L287"></a> 287                 local = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1470" title="Defined at 1470 in src/java/net/InetAddress.java.">getLocalHost</a>();
<a id="L288" name="L288"></a> 288             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> e) <em class="brace">{</em>
<a id="L289" name="L289"></a> 289                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Local host name unknown: " +
<a id="L290" name="L290"></a> 290                                                 e);
<a id="L291" name="L291"></a> 291             <em class="brace">}</em>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293             host = local.<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>();
<a id="L294" name="L294"></a> 294 
<div class="comment">
 We might have a hostname that violates DNS naming
               rules, for example that contains an `_'.  While we
               could be strict and throw an exception, this is rather
               user-hostile.  Instead we use its numerical IP address.
               We can only reasonably do this for the host==null case.
               If we're given an explicit host name that is illegal we
               have to reject it.  (Bug 5057532.)  </div>
<a id="L302" name="L302"></a> 302             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L303" name="L303"></a> 303                 <a href="../S/3612.html#L414" title="Defined at 414 in src/javax/management/remote/JMXServiceURL.java.">validateHost</a>(host, port);
<a id="L304" name="L304"></a> 304             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> e) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305                 <strong class="reserved">if</strong> (<a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../S/6492.html#L81" title="Defined at 81 in src/com/sun/jmx/remote/util/ClassLogger.java.">fineOn</a>()) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306                     <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/16274.html" title="Multiple defined in 5 places.">fine</a>("JMXServiceURL",
<a id="L307" name="L307"></a> 307                                 "Replacing illegal local host name " +
<a id="L308" name="L308"></a> 308                                 host + " with numeric IP address " +
<a id="L309" name="L309"></a> 309                                 "(see RFC 1034)", e);
<a id="L310" name="L310"></a> 310                 <em class="brace">}</em>
<a id="L311" name="L311"></a> 311                 host = local.<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>();
<div class="comment">
 Use the numeric address, which could be either IPv4
                   or IPv6.  validateHost will accept either.  </div>
<a id="L314" name="L314"></a> 314             <em class="brace">}</em>
<a id="L315" name="L315"></a> 315         <em class="brace">}</em>
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317         <strong class="reserved">if</strong> (host.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("[")) <em class="brace">{</em>
<a id="L318" name="L318"></a> 318             <strong class="reserved">if</strong> (!host.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("]")) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Host starts with [ but " +
<a id="L320" name="L320"></a> 320                                                 "does not end with ]");
<a id="L321" name="L321"></a> 321             <em class="brace">}</em>
<a id="L322" name="L322"></a> 322             host = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1, host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L323" name="L323"></a> 323             <strong class="reserved">if</strong> (!<a href="../S/3612.html#L645" title="Defined at 645 in src/javax/management/remote/JMXServiceURL.java.">isNumericIPv6Address</a>(host)) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Address inside [...] must " +
<a id="L325" name="L325"></a> 325                                                 "be numeric IPv6 address");
<a id="L326" name="L326"></a> 326             <em class="brace">}</em>
<a id="L327" name="L327"></a> 327             <strong class="reserved">if</strong> (host.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("["))
<a id="L328" name="L328"></a> 328                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("More than one [[...]]");
<a id="L329" name="L329"></a> 329         <em class="brace">}</em>
<a id="L330" name="L330"></a> 330 
<a id="L331" name="L331"></a> 331         <strong class="reserved">this</strong>.protocol = protocol.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L332" name="L332"></a> 332         <strong class="reserved">this</strong>.host = host;
<a id="L333" name="L333"></a> 333         <strong class="reserved">this</strong>.port = port;
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335         <strong class="reserved">if</strong> (urlPath == <strong class="reserved">null</strong>)
<a id="L336" name="L336"></a> 336             urlPath = "";
<a id="L337" name="L337"></a> 337         <strong class="reserved">this</strong>.urlPath = urlPath;
<a id="L338" name="L338"></a> 338 
<a id="L339" name="L339"></a> 339         <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>();
<a id="L340" name="L340"></a> 340     <em class="brace">}</em>
<a id="L341" name="L341"></a> 341 
<a id="L342" name="L342"></a> 342     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> INVALID_INSTANCE_MSG =
<a id="L343" name="L343"></a> 343             "Trying to deserialize an invalid instance of JMXServiceURL";
<a id="L344" name="L344"></a> 344     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>  inputStream) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L345" name="L345"></a> 345         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> gf = inputStream.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L346" name="L346"></a> 346         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> h = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("host", <strong class="reserved">null</strong>);
<a id="L347" name="L347"></a> 347         <strong class="reserved">int</strong> p = (<strong class="reserved">int</strong>)gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("port", -1);
<a id="L348" name="L348"></a> 348         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> proto = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("protocol", <strong class="reserved">null</strong>);
<a id="L349" name="L349"></a> 349         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("urlPath", <strong class="reserved">null</strong>);
<a id="L350" name="L350"></a> 350 
<a id="L351" name="L351"></a> 351         <strong class="reserved">if</strong> (proto == <strong class="reserved">null</strong> || url == <strong class="reserved">null</strong> || h == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L352" name="L352"></a> 352             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(INVALID_INSTANCE_MSG).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('[');
<a id="L353" name="L353"></a> 353             <strong class="reserved">boolean</strong> <a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> = <strong class="reserved">true</strong>;
<a id="L354" name="L354"></a> 354             <strong class="reserved">if</strong> (proto == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("protocol=null");
<a id="L356" name="L356"></a> 356                 <a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> = <strong class="reserved">false</strong>;
<a id="L357" name="L357"></a> 357             <em class="brace">}</em>
<a id="L358" name="L358"></a> 358             <strong class="reserved">if</strong> (h == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> ? "" : ",").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("host=null");
<a id="L360" name="L360"></a> 360                 <a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> = <strong class="reserved">false</strong>;
<a id="L361" name="L361"></a> 361             <em class="brace">}</em>
<a id="L362" name="L362"></a> 362             <strong class="reserved">if</strong> (url == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> ? "" : ",").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("urlPath=null");
<a id="L364" name="L364"></a> 364             <em class="brace">}</em>
<a id="L365" name="L365"></a> 365             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(']');
<a id="L366" name="L366"></a> 366             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>(sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L367" name="L367"></a> 367         <em class="brace">}</em>
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369         <strong class="reserved">if</strong> (h.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>("[") || h.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>("]")) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Invalid host name: " + h);
<a id="L371" name="L371"></a> 371         <em class="brace">}</em>
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374             <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>(proto, h, p, url);
<a id="L375" name="L375"></a> 375             <strong class="reserved">this</strong>.protocol = proto;
<a id="L376" name="L376"></a> 376             <strong class="reserved">this</strong>.host = h;
<a id="L377" name="L377"></a> 377             <strong class="reserved">this</strong>.port = p;
<a id="L378" name="L378"></a> 378             <strong class="reserved">this</strong>.urlPath = url;
<a id="L379" name="L379"></a> 379         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> e) <em class="brace">{</em>
<a id="L380" name="L380"></a> 380             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>(INVALID_INSTANCE_MSG + ": " +
<a id="L381" name="L381"></a> 381                                              e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L382" name="L382"></a> 382         <em class="brace">}</em>
<a id="L383" name="L383"></a> 383 
<a id="L384" name="L384"></a> 384     <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<a id="L386" name="L386"></a> 386     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30051.html" title="Multiple referred from 135 places.">validate</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> proto, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> h, <strong class="reserved">int</strong> p, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url)
<a id="L387" name="L387"></a> 387         <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L388" name="L388"></a> 388         <em class="comment">// Check protocol</em>
<a id="L389" name="L389"></a> 389         <strong class="reserved">final</strong> <strong class="reserved">int</strong> protoEnd = <a href="../S/3612.html#L659" title="Defined at 659 in src/javax/management/remote/JMXServiceURL.java.">indexOfFirstNotInSet</a>(proto, protocolBitSet, 0);
<a id="L390" name="L390"></a> 390         <strong class="reserved">if</strong> (protoEnd == 0 || protoEnd &lt; proto.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()
<a id="L391" name="L391"></a> 391             || !alphaBitSet.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(proto.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0))) <em class="brace">{</em>
<a id="L392" name="L392"></a> 392             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Missing or invalid protocol " +
<a id="L393" name="L393"></a> 393                                             "name: \"" + proto + "\"");
<a id="L394" name="L394"></a> 394         <em class="brace">}</em>
<a id="L395" name="L395"></a> 395 
<a id="L396" name="L396"></a> 396         <em class="comment">// Check host</em>
<a id="L397" name="L397"></a> 397         <a href="../S/3612.html#L414" title="Defined at 414 in src/javax/management/remote/JMXServiceURL.java.">validateHost</a>(h, p);
<a id="L398" name="L398"></a> 398 
<a id="L399" name="L399"></a> 399         <em class="comment">// Check port</em>
<a id="L400" name="L400"></a> 400         <strong class="reserved">if</strong> (p &lt; 0)
<a id="L401" name="L401"></a> 401             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Bad port: " + p);
<a id="L402" name="L402"></a> 402 
<a id="L403" name="L403"></a> 403         <em class="comment">// Check URL path</em>
<a id="L404" name="L404"></a> 404         <strong class="reserved">if</strong> (url.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L405" name="L405"></a> 405             <strong class="reserved">if</strong> (!url.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("/") &amp;&amp; !url.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(";"))
<a id="L406" name="L406"></a> 406                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Bad URL path: " + url);
<a id="L407" name="L407"></a> 407         <em class="brace">}</em>
<a id="L408" name="L408"></a> 408     <em class="brace">}</em>
<a id="L409" name="L409"></a> 409 
<a id="L410" name="L410"></a> 410     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30051.html" title="Multiple referred from 135 places.">validate</a>() <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L411" name="L411"></a> 411         <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>(<strong class="reserved">this</strong>.protocol, <strong class="reserved">this</strong>.host, <strong class="reserved">this</strong>.port, <strong class="reserved">this</strong>.urlPath);
<a id="L412" name="L412"></a> 412     <em class="brace">}</em>
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/30065.html" title="Multiple referred from 2 places.">validateHost</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> h, <strong class="reserved">int</strong> port)
<a id="L415" name="L415"></a> 415             <strong class="reserved">throws</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <em class="brace">{</em>
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417         <strong class="reserved">if</strong> (h.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418             <strong class="reserved">if</strong> (port != 0) <em class="brace">{</em>
<a id="L419" name="L419"></a> 419                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Cannot give port number " +
<a id="L420" name="L420"></a> 420                                                 "without host name");
<a id="L421" name="L421"></a> 421             <em class="brace">}</em>
<a id="L422" name="L422"></a> 422             <strong class="reserved">return</strong>;
<a id="L423" name="L423"></a> 423         <em class="brace">}</em>
<a id="L424" name="L424"></a> 424 
<a id="L425" name="L425"></a> 425         <strong class="reserved">if</strong> (<a href="../S/3612.html#L645" title="Defined at 645 in src/javax/management/remote/JMXServiceURL.java.">isNumericIPv6Address</a>(h)) <em class="brace">{</em>
<div class="comment">
 We assume J2SE &gt;= 1.4 here.  Otherwise you can't
               use the address anyway.  We can't call
               InetAddress.getByName without checking for a
               numeric IPv6 address, because we mustn't try to do
               a DNS lookup in case the address is not actually
               numeric.  </div>
<a id="L432" name="L432"></a> 432             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L433" name="L433"></a> 433                 <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/17396.html" title="Multiple defined in 3 places.">getByName</a>(h);
<a id="L434" name="L434"></a> 434             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<div class="comment">
 We should really catch UnknownHostException
                   here, but a bug in JDK 1.4 causes it to throw
                   ArrayIndexOutOfBoundsException, e.g. if the
                   string is ":".  </div>
<a id="L439" name="L439"></a> 439                 <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> bad =
<a id="L440" name="L440"></a> 440                     <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Bad IPv6 address: " + h);
<a id="L441" name="L441"></a> 441                 <a href="../S/6493.html#L55" title="Defined at 55 in src/com/sun/jmx/remote/util/EnvHelp.java.">EnvHelp</a>.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(bad, e);
<a id="L442" name="L442"></a> 442                 <strong class="reserved">throw</strong> bad;
<a id="L443" name="L443"></a> 443             <em class="brace">}</em>
<a id="L444" name="L444"></a> 444         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<div class="comment">
 Tiny state machine to check valid host name.  This
               checks the hostname grammar from RFC 1034 (DNS),
               page 11.  A hostname is a dot-separated list of one
               or more labels, where each label consists of
               letters, numbers, or hyphens.  A label cannot begin
               or end with a hyphen.  Empty hostnames are not
               allowed.  Note that numeric IPv4 addresses are a
               special case of this grammar.
               The state is entirely captured by the last
               character seen, with a virtual `.' preceding the
               name.  We represent any alphanumeric character by
               `a'.
               We need a special hack to check, as required by the
               RFC 2609 (SLP) grammar, that the last component of
               the hostname begins with a letter.  Respecting the
               intent of the RFC, we only do this if there is more
               than one component.  If your local hostname begins
               with a digit, we don't reject it.  </div>
<a id="L465" name="L465"></a> 465             <strong class="reserved">final</strong> <strong class="reserved">int</strong> hostLen = h.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L466" name="L466"></a> 466             <strong class="reserved">char</strong> lastc = '.';
<a id="L467" name="L467"></a> 467             <strong class="reserved">boolean</strong> sawDot = <strong class="reserved">false</strong>;
<a id="L468" name="L468"></a> 468             <strong class="reserved">char</strong> componentStart = 0;
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470             <a href="../D/27168.html" title="Multiple defined in 2 places.">loop</a>:
<a id="L471" name="L471"></a> 471             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; hostLen; i++) <em class="brace">{</em>
<a id="L472" name="L472"></a> 472                 <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = h.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L473" name="L473"></a> 473                 <strong class="reserved">boolean</strong> isAlphaNumeric = alphaNumericBitSet.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L474" name="L474"></a> 474                 <strong class="reserved">if</strong> (lastc == '.')
<a id="L475" name="L475"></a> 475                     componentStart = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L476" name="L476"></a> 476                 <strong class="reserved">if</strong> (isAlphaNumeric)
<a id="L477" name="L477"></a> 477                     lastc = 'a';
<a id="L478" name="L478"></a> 478                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '-') <em class="brace">{</em>
<a id="L479" name="L479"></a> 479                     <strong class="reserved">if</strong> (lastc == '.')
<a id="L480" name="L480"></a> 480                         <strong class="reserved">break</strong>; <em class="comment">// will throw exception</em>
<a id="L481" name="L481"></a> 481                     lastc = '-';
<a id="L482" name="L482"></a> 482                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '.') <em class="brace">{</em>
<a id="L483" name="L483"></a> 483                     sawDot = <strong class="reserved">true</strong>;
<a id="L484" name="L484"></a> 484                     <strong class="reserved">if</strong> (lastc != 'a')
<a id="L485" name="L485"></a> 485                         <strong class="reserved">break</strong>; <em class="comment">// will throw exception</em>
<a id="L486" name="L486"></a> 486                     lastc = '.';
<a id="L487" name="L487"></a> 487                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L488" name="L488"></a> 488                     lastc = '.'; <em class="comment">// will throw exception</em>
<a id="L489" name="L489"></a> 489                     <strong class="reserved">break</strong>;
<a id="L490" name="L490"></a> 490                 <em class="brace">}</em>
<a id="L491" name="L491"></a> 491             <em class="brace">}</em>
<a id="L492" name="L492"></a> 492 
<a id="L493" name="L493"></a> 493             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L494" name="L494"></a> 494                 <strong class="reserved">if</strong> (lastc != 'a')
<a id="L495" name="L495"></a> 495                     <strong class="reserved">throw</strong> randomException;
<a id="L496" name="L496"></a> 496                 <strong class="reserved">if</strong> (sawDot &amp;&amp; !alphaBitSet.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(componentStart)) <em class="brace">{</em>
<div class="comment">
 Must be a numeric IPv4 address.  In addition to
                       the explicitly-thrown exceptions, we can get
                       NoSuchElementException from the calls to
                       tok.nextToken and NumberFormatException from
                       the call to Integer.parseInt.  Using exceptions
                       for control flow this way is a bit evil but it
                       does simplify things enormously.  </div>
<a id="L504" name="L504"></a> 504                     <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a> tok = <strong class="reserved">new</strong> <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a>(h, ".", <strong class="reserved">true</strong>);
<a id="L505" name="L505"></a> 505                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 4; i++) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ns = tok.<a href="../D/28195.html" title="Multiple defined in 10 places.">nextToken</a>();
<a id="L507" name="L507"></a> 507                         <strong class="reserved">int</strong> n = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(ns);
<a id="L508" name="L508"></a> 508                         <strong class="reserved">if</strong> (n &lt; 0 || n &gt; 255)
<a id="L509" name="L509"></a> 509                             <strong class="reserved">throw</strong> randomException;
<a id="L510" name="L510"></a> 510                         <strong class="reserved">if</strong> (i &lt; 3 &amp;&amp; !tok.<a href="../D/28195.html" title="Multiple defined in 10 places.">nextToken</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("."))
<a id="L511" name="L511"></a> 511                             <strong class="reserved">throw</strong> randomException;
<a id="L512" name="L512"></a> 512                     <em class="brace">}</em>
<a id="L513" name="L513"></a> 513                     <strong class="reserved">if</strong> (tok.<a href="../D/24131.html" title="Multiple defined in 2 places.">hasMoreTokens</a>())
<a id="L514" name="L514"></a> 514                         <strong class="reserved">throw</strong> randomException;
<a id="L515" name="L515"></a> 515                 <em class="brace">}</em>
<a id="L516" name="L516"></a> 516             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L517" name="L517"></a> 517                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a>("Bad host: \"" + h + "\"");
<a id="L518" name="L518"></a> 518             <em class="brace">}</em>
<a id="L519" name="L519"></a> 519         <em class="brace">}</em>
<a id="L520" name="L520"></a> 520     <em class="brace">}</em>
<a id="L521" name="L521"></a> 521 
<a id="L522" name="L522"></a> 522     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> randomException = <strong class="reserved">new</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a>();
<a id="L523" name="L523"></a> 523 
<a id="L524" name="L524"></a> 524 
<div class="comment">
      <p>The protocol part of the Service URL.
      @return the protocol part of the Service URL.  This is never null.</p></div>
<a id="L530" name="L530"></a> 530     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18529.html" title="Multiple referred from 40 places.">getProtocol</a>() <em class="brace">{</em>
<a id="L531" name="L531"></a> 531         <strong class="reserved">return</strong> protocol;
<a id="L532" name="L532"></a> 532     <em class="brace">}</em>
<a id="L533" name="L533"></a> 533 
<div class="comment">
      <p>The host part of the Service URL.  If the Service URL was
      constructed with the constructor that takes a URL string
      parameter, the result is the substring specifying the host in
      that URL.  If the Service URL was constructed with a
      constructor that takes a separate host parameter, the result is
      the string that was specified.  If that string was null, the
      result is
      <code>InetAddress.getLocalHost().getHostName()</code>.</p>
      <p>In either case, if the host was specified using the
      <code>[...]</code> syntax for numeric IPv6 addresses, the
      square brackets are not included in the return value here.</p>
      @return the host part of the Service URL.  This is never null.</div>
<a id="L550" name="L550"></a> 550     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16910.html" title="Multiple referred from 54 places.">getHost</a>() <em class="brace">{</em>
<a id="L551" name="L551"></a> 551         <strong class="reserved">return</strong> host;
<a id="L552" name="L552"></a> 552     <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<div class="comment">
      <p>The port of the Service URL.  If no port was
      specified, the returned value is 0.</p>
      @return the port of the Service URL, or 0 if none.</div>
<a id="L560" name="L560"></a> 560     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18374.html" title="Multiple referred from 119 places.">getPort</a>() <em class="brace">{</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">return</strong> port;
<a id="L562" name="L562"></a> 562     <em class="brace">}</em>
<a id="L563" name="L563"></a> 563 
<div class="comment">
      <p>The URL Path part of the Service URL.  This is an empty
      string, or a string beginning with a slash (<code>/</code>), or
      a string beginning with a semicolon (<code>;</code>).
      @return the URL Path part of the Service URL.  This is never
      null.</p></div>
<a id="L572" name="L572"></a> 572     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19661.html" title="Multiple referred from 7 places.">getURLPath</a>() <em class="brace">{</em>
<a id="L573" name="L573"></a> 573         <strong class="reserved">return</strong> urlPath;
<a id="L574" name="L574"></a> 574     <em class="brace">}</em>
<a id="L575" name="L575"></a> 575 
<div class="comment">
      <p>The string representation of this Service URL.  If the value
      returned by this method is supplied to the
      <code>JMXServiceURL</code> constructor, the resultant object is
      equal to this one.</p>
      <p>The <code><em>host</em></code> part of the returned string
      is the value returned by {@link #getHost()}.  If that value
      specifies a numeric IPv6 address, it is surrounded by square
      brackets <code>[]</code>.</p>
      <p>The <code><em>port</em></code> part of the returned string
      is the value returned by {@link #getPort()} in its shortest
      decimal form.  If the value is zero, it is omitted.</p>
      @return the string representation of this Service URL.</div>
<a id="L593" name="L593"></a> 593     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<div class="comment">
 We don't bother synchronizing the access to toString.  At worst,
           n threads will independently compute and store the same value.  </div>
<a id="L596" name="L596"></a> 596         <strong class="reserved">if</strong> (<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> != <strong class="reserved">null</strong>)
<a id="L597" name="L597"></a> 597             <strong class="reserved">return</strong> <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>;
<a id="L598" name="L598"></a> 598         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>("service:jmx:");
<a id="L599" name="L599"></a> 599         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>()).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("://");
<a id="L600" name="L600"></a> 600         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a> = <a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>();
<a id="L601" name="L601"></a> 601         <strong class="reserved">if</strong> (<a href="../S/3612.html#L645" title="Defined at 645 in src/javax/management/remote/JMXServiceURL.java.">isNumericIPv6Address</a>(<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>))
<a id="L602" name="L602"></a> 602             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('[').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(']');
<a id="L603" name="L603"></a> 603         <strong class="reserved">else</strong>
<a id="L604" name="L604"></a> 604             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>);
<a id="L605" name="L605"></a> 605         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a> = <a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L606" name="L606"></a> 606         <strong class="reserved">if</strong> (<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a> != 0)
<a id="L607" name="L607"></a> 607             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>);
<a id="L608" name="L608"></a> 608         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/3612.html#L572" title="Defined at 572 in src/javax/management/remote/JMXServiceURL.java.">getURLPath</a>());
<a id="L609" name="L609"></a> 609         <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a> = <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L610" name="L610"></a> 610         <strong class="reserved">return</strong> <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>;
<a id="L611" name="L611"></a> 611     <em class="brace">}</em>
<a id="L612" name="L612"></a> 612 
<div class="comment">
      <p>Indicates whether some other object is equal to this one.
      This method returns true if and only if <code>obj</code> is an
      instance of <code>JMXServiceURL</code> whose {@link
      #getProtocol()}, {@link #getHost()}, {@link #getPort()}, and
      {@link #getURLPath()} methods return the same values as for
      this object.  The values for {@link #getProtocol()} and {@link
      #getHost()} can differ in case without affecting equality.
      @param obj the reference object with which to compare.
      @return <code>true</code> if this object is the same as the
      <code>obj</code> argument; <code>false</code> otherwise.</p></div>
<a id="L627" name="L627"></a> 627     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L628" name="L628"></a> 628         <strong class="reserved">if</strong> (!(obj <strong class="reserved">instanceof</strong> <a href="../S/3612.html#L121" title="Defined at 121 in src/javax/management/remote/JMXServiceURL.java.">JMXServiceURL</a>))
<a id="L629" name="L629"></a> 629             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L630" name="L630"></a> 630         <a href="../S/3612.html#L121" title="Defined at 121 in src/javax/management/remote/JMXServiceURL.java.">JMXServiceURL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = (<a href="../S/3612.html#L121" title="Defined at 121 in src/javax/management/remote/JMXServiceURL.java.">JMXServiceURL</a>) obj;
<a id="L631" name="L631"></a> 631         <strong class="reserved">return</strong>
<a id="L632" name="L632"></a> 632             (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>().<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>()) &amp;&amp;
<a id="L633" name="L633"></a> 633              <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>().<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>()) &amp;&amp;
<a id="L634" name="L634"></a> 634              <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() == <a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() &amp;&amp;
<a id="L635" name="L635"></a> 635              <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../S/3612.html#L572" title="Defined at 572 in src/javax/management/remote/JMXServiceURL.java.">getURLPath</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3612.html#L572" title="Defined at 572 in src/javax/management/remote/JMXServiceURL.java.">getURLPath</a>()));
<a id="L636" name="L636"></a> 636     <em class="brace">}</em>
<a id="L637" name="L637"></a> 637 
<a id="L638" name="L638"></a> 638     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L639" name="L639"></a> 639         <strong class="reserved">return</strong> <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L640" name="L640"></a> 640     <em class="brace">}</em>
<a id="L641" name="L641"></a> 641 
<div class="comment">
 True if this string, assumed to be a valid argument to
      InetAddress.getByName, is a numeric IPv6 address.</div>
<a id="L645" name="L645"></a> 645     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21806.html" title="Multiple referred from 4 places.">isNumericIPv6Address</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646         <em class="comment">// address contains colon if and only if it's a numeric IPv6 address</em>
<a id="L647" name="L647"></a> 647         <strong class="reserved">return</strong> (s.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':') &gt;= 0);
<a id="L648" name="L648"></a> 648     <em class="brace">}</em>
<a id="L649" name="L649"></a> 649 
<a id="L650" name="L650"></a> 650     <em class="comment">// like String.indexOf but returns string length not -1 if not present</em>
<a id="L651" name="L651"></a> 651     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/20511.html" title="Multiple referred from 769 places.">indexOf</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s, <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> fromIndex) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = s.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, fromIndex);
<a id="L653" name="L653"></a> 653         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0)
<a id="L654" name="L654"></a> 654             <strong class="reserved">return</strong> s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L655" name="L655"></a> 655         <strong class="reserved">else</strong>
<a id="L656" name="L656"></a> 656             <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L657" name="L657"></a> 657     <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/20513.html" title="Multiple referred from 3 places.">indexOfFirstNotInSet</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s, <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>,
<a id="L660" name="L660"></a> 660                                             <strong class="reserved">int</strong> fromIndex) <em class="brace">{</em>
<a id="L661" name="L661"></a> 661         <strong class="reserved">final</strong> <strong class="reserved">int</strong> slen = s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L662" name="L662"></a> 662         <strong class="reserved">int</strong> i = fromIndex;
<a id="L663" name="L663"></a> 663         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L664" name="L664"></a> 664             <strong class="reserved">if</strong> (i &gt;= slen)
<a id="L665" name="L665"></a> 665                 <strong class="reserved">break</strong>;
<a id="L666" name="L666"></a> 666             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L667" name="L667"></a> 667             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 128)
<a id="L668" name="L668"></a> 668                 <strong class="reserved">break</strong>; <em class="comment">// not ASCII</em>
<a id="L669" name="L669"></a> 669             <strong class="reserved">if</strong> (!<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>))
<a id="L670" name="L670"></a> 670                 <strong class="reserved">break</strong>;
<a id="L671" name="L671"></a> 671             i++;
<a id="L672" name="L672"></a> 672         <em class="brace">}</em>
<a id="L673" name="L673"></a> 673         <strong class="reserved">return</strong> i;
<a id="L674" name="L674"></a> 674     <em class="brace">}</em>
<a id="L675" name="L675"></a> 675 
<a id="L676" name="L676"></a> 676     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> alphaBitSet = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(128);
<a id="L677" name="L677"></a> 677     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> numericBitSet = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(128);
<a id="L678" name="L678"></a> 678     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> alphaNumericBitSet = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(128);
<a id="L679" name="L679"></a> 679     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> protocolBitSet = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(128);
<a id="L680" name="L680"></a> 680     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> hostNameBitSet = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(128);
<a id="L681" name="L681"></a> 681     <strong class="reserved">static</strong> <em class="brace">{</em>
<div class="comment">
 J2SE 1.4 adds lots of handy methods to BitSet that would
           allow us to simplify here, e.g. by not writing loops, but
           we want to work on J2SE 1.3 too.  </div>
<a id="L685" name="L685"></a> 685 
<a id="L686" name="L686"></a> 686         <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = '0'; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= '9'; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>++)
<a id="L687" name="L687"></a> 687             numericBitSet.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L688" name="L688"></a> 688 
<a id="L689" name="L689"></a> 689         <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = 'A'; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'Z'; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>++)
<a id="L690" name="L690"></a> 690             alphaBitSet.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L691" name="L691"></a> 691         <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = 'a'; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'z'; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>++)
<a id="L692" name="L692"></a> 692             alphaBitSet.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L693" name="L693"></a> 693 
<a id="L694" name="L694"></a> 694         alphaNumericBitSet.<a href="../D/28550.html" title="Multiple defined in 8 places.">or</a>(alphaBitSet);
<a id="L695" name="L695"></a> 695         alphaNumericBitSet.<a href="../D/28550.html" title="Multiple defined in 8 places.">or</a>(numericBitSet);
<a id="L696" name="L696"></a> 696 
<a id="L697" name="L697"></a> 697         protocolBitSet.<a href="../D/28550.html" title="Multiple defined in 8 places.">or</a>(alphaNumericBitSet);
<a id="L698" name="L698"></a> 698         protocolBitSet.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>('+');
<a id="L699" name="L699"></a> 699         protocolBitSet.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>('-');
<a id="L700" name="L700"></a> 700 
<a id="L701" name="L701"></a> 701         hostNameBitSet.<a href="../D/28550.html" title="Multiple defined in 8 places.">or</a>(alphaNumericBitSet);
<a id="L702" name="L702"></a> 702         hostNameBitSet.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>('-');
<a id="L703" name="L703"></a> 703         hostNameBitSet.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>('.');
<a id="L704" name="L704"></a> 704     <em class="brace">}</em>
<a id="L705" name="L705"></a> 705 
<div class="comment">
      The value returned by {@link #getProtocol()}.</div>
<a id="L709" name="L709"></a> 709     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol;
<a id="L710" name="L710"></a> 710 
<div class="comment">
      The value returned by {@link #getHost()}.</div>
<a id="L714" name="L714"></a> 714     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host;
<a id="L715" name="L715"></a> 715 
<div class="comment">
      The value returned by {@link #getPort()}.</div>
<a id="L719" name="L719"></a> 719     <strong class="reserved">private</strong> <strong class="reserved">int</strong> port;
<a id="L720" name="L720"></a> 720 
<div class="comment">
      The value returned by {@link #getURLPath()}.</div>
<a id="L724" name="L724"></a> 724     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> urlPath;
<a id="L725" name="L725"></a> 725 
<div class="comment">
      Cached result of {@link #toString()}.</div>
<a id="L729" name="L729"></a> 729     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>;
<a id="L730" name="L730"></a> 730 
<a id="L731" name="L731"></a> 731     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/6492.html#L30" title="Defined at 30 in src/com/sun/jmx/remote/util/ClassLogger.java.">ClassLogger</a> <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> =
<a id="L732" name="L732"></a> 732         <strong class="reserved">new</strong> <a href="../S/6492.html#L30" title="Defined at 30 in src/com/sun/jmx/remote/util/ClassLogger.java.">ClassLogger</a>("javax.management.remote.misc", "JMXServiceURL");
<a id="L733" name="L733"></a> 733 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L344">[^]</a><a href="#L659">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>