<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/Security.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L77">[^]</a><a href="#L1093">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L77" title="Defined at 77.">initialize</a></li>
<li><a href="#L196" title="Defined at 196.">initializeStatic</a></li>
<li><a href="#L211" title="Defined at 211.">securityPropFile</a></li>
<li><a href="#L226" title="Defined at 226.">getProviderProperty</a></li>
<li><a href="#L263" title="Defined at 263.">getProviderProperty</a></li>
<li><a href="#L305" title="Defined at 305.">getAlgorithmProperty</a></li>
<li><a href="#L356" title="Defined at 356.">insertProviderAt</a></li>
<li><a href="#L396" title="Defined at 396.">addProvider</a></li>
<li><a href="#L438" title="Defined at 438.">removeProvider</a></li>
<li><a href="#L451" title="Defined at 451.">getProviders</a></li>
<li><a href="#L467" title="Defined at 467.">getProvider</a></li>
<li><a href="#L531" title="Defined at 531.">getProviders</a></li>
<li><a href="#L602" title="Defined at 602.">getProviders</a></li>
<li><a href="#L669" title="Defined at 669.">getSpiClass</a></li>
<li><a href="#L691" title="Defined at 691.">getImpl</a></li>
<li><a href="#L702" title="Defined at 702.">getImpl</a></li>
<li><a href="#L721" title="Defined at 721.">getImpl</a></li>
<li><a href="#L727" title="Defined at 727.">getImpl</a></li>
<li><a href="#L757" title="Defined at 757.">getProperty</a></li>
<li><a href="#L791" title="Defined at 791.">setProperty</a></li>
<li><a href="#L807" title="Defined at 807.">invalidateSMCache</a></li>
<li><a href="#L851" title="Defined at 851.">check</a></li>
<li><a href="#L858" title="Defined at 858.">checkInsertProvider</a></li>
<li><a href="#L879" title="Defined at 879.">getAllQualifyingCandidates</a></li>
<li><a href="#L897" title="Defined at 897.">getProvidersNotUsingCache</a></li>
<li><a href="#L918" title="Defined at 918.">isCriterionSatisfied</a></li>
<li><a href="#L977" title="Defined at 977.">isStandardAttr</a></li>
<li><a href="#L993" title="Defined at 993.">isConstraintSatisfied</a></li>
<li><a href="#L1017" title="Defined at 1017.">getFilterComponents</a></li>
<li><a href="#L1093" title="Defined at 1093.">getAlgorithms</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1996, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.lang.reflect.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.*;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.net.URL;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> sun.security.util.Debug;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> sun.security.util.PropertyExpander;
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> sun.security.jca.*;
<a id="L37" name="L37"></a>  37 
<div class="comment">
  <p>This class centralizes all security properties and common security
  methods. One of its primary uses is to manage providers.
  </p><p>The default values of security properties are read from an
  implementation-specific location, which is typically the properties file
  <code>lib/security/java.security</code> in the Java installation directory.
  @author Benjamin Renaud</p></div>
<a id="L48" name="L48"></a>  48 
<a id="L49" name="L49"></a>  49 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6989.html" title="Multiple referred from 46 places.">Security</a> <em class="brace">{</em>
<a id="L50" name="L50"></a>  50 
<div class="comment">
     /* Are we debugging? -- for developers */</div>
<a id="L52" name="L52"></a>  52     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a> sdebug =
<a id="L53" name="L53"></a>  53                         <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("properties");
<a id="L54" name="L54"></a>  54 
<div class="comment">
     /* The java.security properties */</div>
<a id="L56" name="L56"></a>  56     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> props;
<a id="L57" name="L57"></a>  57 
<a id="L58" name="L58"></a>  58     <em class="comment">// An element in the cache</em>
<a id="L59" name="L59"></a>  59     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6340.html" title="Multiple referred from 4 places.">ProviderProperty</a> <em class="brace">{</em>
<a id="L60" name="L60"></a>  60         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L61" name="L61"></a>  61         <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L62" name="L62"></a>  62     <em class="brace">}</em>
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L65" name="L65"></a>  65         <em class="comment">// doPrivileged here because there are multiple</em>
<a id="L66" name="L66"></a>  66         <em class="comment">// things in initialize that might require privs.</em>
<a id="L67" name="L67"></a>  67         <em class="comment">// (the FileInputStream call and the File.exists call,</em>
<a id="L68" name="L68"></a>  68         <em class="comment">// the securityPropFile call, etc)</em>
<a id="L69" name="L69"></a>  69         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L70" name="L70"></a>  70             <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L71" name="L71"></a>  71                 <a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>();
<a id="L72" name="L72"></a>  72                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L73" name="L73"></a>  73             <em class="brace">}</em>
<a id="L74" name="L74"></a>  74         <em class="brace">}</em>);
<a id="L75" name="L75"></a>  75     <em class="brace">}</em>
<a id="L76" name="L76"></a>  76 
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/20681.html" title="Multiple referred from 99 places.">initialize</a>() <em class="brace">{</em>
<a id="L78" name="L78"></a>  78         props = <strong class="reserved">new</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a>();
<a id="L79" name="L79"></a>  79         <strong class="reserved">boolean</strong> loadedProps = <strong class="reserved">false</strong>;
<a id="L80" name="L80"></a>  80         <strong class="reserved">boolean</strong> overrideAll = <strong class="reserved">false</strong>;
<a id="L81" name="L81"></a>  81 
<a id="L82" name="L82"></a>  82         <em class="comment">// first load the system properties file</em>
<a id="L83" name="L83"></a>  83         <em class="comment">// to determine the value of security.overridePropertiesFile</em>
<a id="L84" name="L84"></a>  84         <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> propFile = <a href="../S/1265.html#L211" title="Defined at 211 in src/java/security/Security.java.">securityPropFile</a>("java.security");
<a id="L85" name="L85"></a>  85         <strong class="reserved">if</strong> (propFile.<a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a>()) <em class="brace">{</em>
<a id="L86" name="L86"></a>  86             <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <strong class="reserved">null</strong>;
<a id="L87" name="L87"></a>  87             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L88" name="L88"></a>  88                 <a href="../S/1386.html#L49" title="Defined at 49 in src/java/io/FileInputStream.java.">FileInputStream</a> fis = <strong class="reserved">new</strong> <a href="../S/1386.html#L49" title="Defined at 49 in src/java/io/FileInputStream.java.">FileInputStream</a>(propFile);
<a id="L89" name="L89"></a>  89                 <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <strong class="reserved">new</strong> <a href="../S/1411.html#L51" title="Defined at 51 in src/java/io/BufferedInputStream.java.">BufferedInputStream</a>(fis);
<a id="L90" name="L90"></a>  90                 props.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>);
<a id="L91" name="L91"></a>  91                 loadedProps = <strong class="reserved">true</strong>;
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93                 <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L94" name="L94"></a>  94                     sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("reading security properties file: " +
<a id="L95" name="L95"></a>  95                                 propFile);
<a id="L96" name="L96"></a>  96                 <em class="brace">}</em>
<a id="L97" name="L97"></a>  97             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L98" name="L98"></a>  98                 <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L99" name="L99"></a>  99                     sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("unable to load security properties from " +
<a id="L100" name="L100"></a> 100                                 propFile);
<a id="L101" name="L101"></a> 101                     e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L102" name="L102"></a> 102                 <em class="brace">}</em>
<a id="L103" name="L103"></a> 103             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L104" name="L104"></a> 104                 <strong class="reserved">if</strong> (<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L105" name="L105"></a> 105                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L106" name="L106"></a> 106                         <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L107" name="L107"></a> 107                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L108" name="L108"></a> 108                         <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L109" name="L109"></a> 109                             sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("unable to close input stream");
<a id="L110" name="L110"></a> 110                         <em class="brace">}</em>
<a id="L111" name="L111"></a> 111                     <em class="brace">}</em>
<a id="L112" name="L112"></a> 112                 <em class="brace">}</em>
<a id="L113" name="L113"></a> 113             <em class="brace">}</em>
<a id="L114" name="L114"></a> 114         <em class="brace">}</em>
<a id="L115" name="L115"></a> 115 
<a id="L116" name="L116"></a> 116         <strong class="reserved">if</strong> ("true".<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(props.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>
<a id="L117" name="L117"></a> 117                 ("security.overridePropertiesFile"))) <em class="brace">{</em>
<a id="L118" name="L118"></a> 118 
<a id="L119" name="L119"></a> 119             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> extraPropFile = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>
<a id="L120" name="L120"></a> 120                                         ("java.security.properties");
<a id="L121" name="L121"></a> 121             <strong class="reserved">if</strong> (extraPropFile != <strong class="reserved">null</strong> &amp;&amp; extraPropFile.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("=")) <em class="brace">{</em>
<a id="L122" name="L122"></a> 122                 overrideAll = <strong class="reserved">true</strong>;
<a id="L123" name="L123"></a> 123                 extraPropFile = extraPropFile.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L124" name="L124"></a> 124             <em class="brace">}</em>
<a id="L125" name="L125"></a> 125 
<a id="L126" name="L126"></a> 126             <strong class="reserved">if</strong> (overrideAll) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127                 props = <strong class="reserved">new</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a>();
<a id="L128" name="L128"></a> 128                 <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L129" name="L129"></a> 129                     sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>
<a id="L130" name="L130"></a> 130                         ("overriding other security properties files!");
<a id="L131" name="L131"></a> 131                 <em class="brace">}</em>
<a id="L132" name="L132"></a> 132             <em class="brace">}</em>
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134             <em class="comment">// now load the user-specified file so its values</em>
<a id="L135" name="L135"></a> 135             <em class="comment">// will win if they conflict with the earlier values</em>
<a id="L136" name="L136"></a> 136             <strong class="reserved">if</strong> (extraPropFile != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L137" name="L137"></a> 137                 <a href="../S/1411.html#L51" title="Defined at 51 in src/java/io/BufferedInputStream.java.">BufferedInputStream</a> bis = <strong class="reserved">null</strong>;
<a id="L138" name="L138"></a> 138                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L139" name="L139"></a> 139                     <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> propURL;
<a id="L140" name="L140"></a> 140 
<a id="L141" name="L141"></a> 141                     extraPropFile = PropertyExpander.<a href="../D/15823.html" title="Multiple defined in 8 places.">expand</a>(extraPropFile);
<a id="L142" name="L142"></a> 142                     propFile = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(extraPropFile);
<a id="L143" name="L143"></a> 143                     <strong class="reserved">if</strong> (propFile.<a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a>()) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144                         propURL = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>
<a id="L145" name="L145"></a> 145                                 ("file:" + propFile.<a href="../S/1433.html#L614" title="Defined at 614 in src/java/io/File.java.">getCanonicalPath</a>());
<a id="L146" name="L146"></a> 146                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L147" name="L147"></a> 147                         propURL = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(extraPropFile);
<a id="L148" name="L148"></a> 148                     <em class="brace">}</em>
<a id="L149" name="L149"></a> 149                     bis = <strong class="reserved">new</strong> <a href="../S/1411.html#L51" title="Defined at 51 in src/java/io/BufferedInputStream.java.">BufferedInputStream</a>(propURL.<a href="../S/768.html#L1037" title="Defined at 1037 in src/java/net/URL.java.">openStream</a>());
<a id="L150" name="L150"></a> 150                     props.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(bis);
<a id="L151" name="L151"></a> 151                     loadedProps = <strong class="reserved">true</strong>;
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153                     <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L154" name="L154"></a> 154                         sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("reading security properties file: " +
<a id="L155" name="L155"></a> 155                                         propURL);
<a id="L156" name="L156"></a> 156                         <strong class="reserved">if</strong> (overrideAll) <em class="brace">{</em>
<a id="L157" name="L157"></a> 157                             sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>
<a id="L158" name="L158"></a> 158                                 ("overriding other security properties files!");
<a id="L159" name="L159"></a> 159                         <em class="brace">}</em>
<a id="L160" name="L160"></a> 160                     <em class="brace">}</em>
<a id="L161" name="L161"></a> 161                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162                     <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L163" name="L163"></a> 163                         sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>
<a id="L164" name="L164"></a> 164                                 ("unable to load security properties from " +
<a id="L165" name="L165"></a> 165                                 extraPropFile);
<a id="L166" name="L166"></a> 166                         e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L167" name="L167"></a> 167                     <em class="brace">}</em>
<a id="L168" name="L168"></a> 168                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L169" name="L169"></a> 169                     <strong class="reserved">if</strong> (bis != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L171" name="L171"></a> 171                             bis.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L172" name="L172"></a> 172                         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L173" name="L173"></a> 173                             <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174                                 sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("unable to close input stream");
<a id="L175" name="L175"></a> 175                             <em class="brace">}</em>
<a id="L176" name="L176"></a> 176                         <em class="brace">}</em>
<a id="L177" name="L177"></a> 177                     <em class="brace">}</em>
<a id="L178" name="L178"></a> 178                 <em class="brace">}</em>
<a id="L179" name="L179"></a> 179             <em class="brace">}</em>
<a id="L180" name="L180"></a> 180         <em class="brace">}</em>
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182         <strong class="reserved">if</strong> (!loadedProps) <em class="brace">{</em>
<a id="L183" name="L183"></a> 183             <a href="../S/1265.html#L196" title="Defined at 196 in src/java/security/Security.java.">initializeStatic</a>();
<a id="L184" name="L184"></a> 184             <strong class="reserved">if</strong> (sdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L185" name="L185"></a> 185                 sdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("unable to load security properties " +
<a id="L186" name="L186"></a> 186                         "-- using defaults");
<a id="L187" name="L187"></a> 187             <em class="brace">}</em>
<a id="L188" name="L188"></a> 188         <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<a id="L190" name="L190"></a> 190     <em class="brace">}</em>
<a id="L191" name="L191"></a> 191 
<div class="comment">
      Initialize to default values, if <java.home>/lib/java.security
      is not found.</java.home></div>
<a id="L196" name="L196"></a> 196     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1265.html#L183" title="Referred from 183 in src/java/security/Security.java.">initializeStatic</a>() <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         props.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("security.provider.1", "sun.security.provider.Sun");
<a id="L198" name="L198"></a> 198         props.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("security.provider.2", "sun.security.rsa.SunRsaSign");
<a id="L199" name="L199"></a> 199         props.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("security.provider.3", "com.sun.net.ssl.internal.ssl.Provider");
<a id="L200" name="L200"></a> 200         props.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("security.provider.4", "com.sun.crypto.provider.SunJCE");
<a id="L201" name="L201"></a> 201         props.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("security.provider.5", "sun.security.jgss.SunProvider");
<a id="L202" name="L202"></a> 202         props.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("security.provider.6", "com.sun.security.sasl.Provider");
<a id="L203" name="L203"></a> 203     <em class="brace">}</em>
<a id="L204" name="L204"></a> 204 
<div class="comment">
      Don't let anyone instantiate this.</div>
<a id="L208" name="L208"></a> 208     <strong class="reserved">private</strong> Security() <em class="brace">{</em>
<a id="L209" name="L209"></a> 209     <em class="brace">}</em>
<a id="L210" name="L210"></a> 210 
<a id="L211" name="L211"></a> 211     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../S/1265.html#L84" title="Referred from 84 in src/java/security/Security.java.">securityPropFile</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filename) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212         <em class="comment">// maybe check for a system property which will specify where to</em>
<a id="L213" name="L213"></a> 213         <em class="comment">// look. Someday.</em>
<a id="L214" name="L214"></a> 214         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> sep = <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a>;
<a id="L215" name="L215"></a> 215         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.home") + sep + "lib" + sep +
<a id="L216" name="L216"></a> 216                         "security" + sep + filename);
<a id="L217" name="L217"></a> 217     <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<div class="comment">
      Looks up providers, and returns the property (and its associated
      provider) mapping the key, if any.
      The order in which the providers are looked up is the
      provider-preference order, as specificed in the security
      properties file.</div>
<a id="L226" name="L226"></a> 226     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1265.html#L59" title="Defined at 59 in src/java/security/Security.java.">ProviderProperty</a> <a href="../R/18541.html" title="Multiple referred from 4 places.">getProviderProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         <a href="../S/1265.html#L59" title="Defined at 59 in src/java/security/Security.java.">ProviderProperty</a> entry = <strong class="reserved">null</strong>;
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>&gt; <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a> = Providers.getProviderList().<a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>();
<a id="L230" name="L230"></a> 230         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); i++) <em class="brace">{</em>
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> matchKey = <strong class="reserved">null</strong>;
<a id="L233" name="L233"></a> 233             <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> prov = <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L234" name="L234"></a> 234             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> prop = prov.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L235" name="L235"></a> 235 
<a id="L236" name="L236"></a> 236             <strong class="reserved">if</strong> (prop == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L237" name="L237"></a> 237                 <em class="comment">// Is there a match if we do a case-insensitive property name</em>
<a id="L238" name="L238"></a> 238                 <em class="comment">// comparison? Let's try ...</em>
<a id="L239" name="L239"></a> 239                 <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; e = prov.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L240" name="L240"></a> 240                                 e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() &amp;&amp; prop == <strong class="reserved">null</strong>; ) <em class="brace">{</em>
<a id="L241" name="L241"></a> 241                     matchKey = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L242" name="L242"></a> 242                     <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(matchKey)) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243                         prop = prov.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(matchKey);
<a id="L244" name="L244"></a> 244                         <strong class="reserved">break</strong>;
<a id="L245" name="L245"></a> 245                     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246                 <em class="brace">}</em>
<a id="L247" name="L247"></a> 247             <em class="brace">}</em>
<a id="L248" name="L248"></a> 248 
<a id="L249" name="L249"></a> 249             <strong class="reserved">if</strong> (prop != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L250" name="L250"></a> 250                 <a href="../S/1265.html#L59" title="Defined at 59 in src/java/security/Security.java.">ProviderProperty</a> <a href="../S/919.html#L617" title="Defined at 617 in src/java/util/jar/JarFile.java.">newEntry</a> = <strong class="reserved">new</strong> <a href="../S/1265.html#L59" title="Defined at 59 in src/java/security/Security.java.">ProviderProperty</a>();
<a id="L251" name="L251"></a> 251                 <a href="../S/919.html#L617" title="Defined at 617 in src/java/util/jar/JarFile.java.">newEntry</a>.<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = prop;
<a id="L252" name="L252"></a> 252                 <a href="../S/919.html#L617" title="Defined at 617 in src/java/util/jar/JarFile.java.">newEntry</a>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = prov;
<a id="L253" name="L253"></a> 253                 <strong class="reserved">return</strong> <a href="../S/919.html#L617" title="Defined at 617 in src/java/util/jar/JarFile.java.">newEntry</a>;
<a id="L254" name="L254"></a> 254             <em class="brace">}</em>
<a id="L255" name="L255"></a> 255         <em class="brace">}</em>
<a id="L256" name="L256"></a> 256 
<a id="L257" name="L257"></a> 257         <strong class="reserved">return</strong> entry;
<a id="L258" name="L258"></a> 258     <em class="brace">}</em>
<a id="L259" name="L259"></a> 259 
<div class="comment">
      Returns the property (if any) mapping the key for the given provider.</div>
<a id="L263" name="L263"></a> 263     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18541.html" title="Multiple referred from 4 places.">getProviderProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <em class="brace">{</em>
<a id="L264" name="L264"></a> 264         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> prop = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L265" name="L265"></a> 265         <strong class="reserved">if</strong> (prop == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L266" name="L266"></a> 266             <em class="comment">// Is there a match if we do a case-insensitive property name</em>
<a id="L267" name="L267"></a> 267             <em class="comment">// comparison? Let's try ...</em>
<a id="L268" name="L268"></a> 268             <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; e = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L269" name="L269"></a> 269                                 e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() &amp;&amp; prop == <strong class="reserved">null</strong>; ) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> matchKey = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L271" name="L271"></a> 271                 <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(matchKey)) <em class="brace">{</em>
<a id="L272" name="L272"></a> 272                     prop = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(matchKey);
<a id="L273" name="L273"></a> 273                     <strong class="reserved">break</strong>;
<a id="L274" name="L274"></a> 274                 <em class="brace">}</em>
<a id="L275" name="L275"></a> 275             <em class="brace">}</em>
<a id="L276" name="L276"></a> 276         <em class="brace">}</em>
<a id="L277" name="L277"></a> 277         <strong class="reserved">return</strong> prop;
<a id="L278" name="L278"></a> 278     <em class="brace">}</em>
<a id="L279" name="L279"></a> 279 
<div class="comment">
      Gets a specified property for an algorithm. The algorithm name
      should be a standard name. See the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard algorithm names.
      One possible use is by specialized algorithm parsers, which may map
      classes to algorithms which they understand (much like Key parsers
      do).
      @param algName the algorithm name.
      @param propName the name of the property to get.
      @return the value of the specified property.
      @deprecated This method used to return the value of a proprietary
      property in the master file of the "SUN" Cryptographic Service
      Provider in order to determine how to parse algorithm-specific
      parameters. Use the new provider-based and algorithm-independent
      <code>AlgorithmParameters</code> and <code>KeyFactory</code> engine
      classes (introduced in the J2SE version 1.2 platform) instead.</div>
<a id="L304" name="L304"></a> 304     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L305" name="L305"></a> 305     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getAlgorithmProperty(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algName,
<a id="L306" name="L306"></a> 306                                               <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propName) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <a href="../S/1265.html#L59" title="Defined at 59 in src/java/security/Security.java.">ProviderProperty</a> entry = <a href="../D/21763.html" title="Multiple defined in 2 places.">getProviderProperty</a>("Alg." + propName
<a id="L308" name="L308"></a> 308                                                      + "." + algName);
<a id="L309" name="L309"></a> 309         <strong class="reserved">if</strong> (entry != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310             <strong class="reserved">return</strong> entry.<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L311" name="L311"></a> 311         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L312" name="L312"></a> 312             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L313" name="L313"></a> 313         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314     <em class="brace">}</em>
<a id="L315" name="L315"></a> 315 
<div class="comment">
      Adds a new provider, at a specified position. The position is
      the preference order in which providers are searched for
      requested algorithms.  The position is 1-based, that is,
      1 is most preferred, followed by 2, and so on.
      <p>If the given provider is installed at the requested position,
      the provider that used to be at that position, and all providers
      with a position greater than <code>position</code>, are shifted up
      one position (towards the end of the list of installed providers).
      </p><p>A provider cannot be added if it is already installed.
      </p><p>If there is a security manager, the
      {@link java.lang.SecurityManager#checkSecurityAccess} method is called
      with the <code>"insertProvider"</code> permission target name to see if
      it's ok to add a new provider. If this permission check is denied,
      <code>checkSecurityAccess</code> is called again with the
      <code>"insertProvider."+provider.getName()</code> permission target name. If
      both checks are denied, a <code>SecurityException</code> is thrown.
      @param provider the provider to be added.
      @param position the preference position that the caller would
      like for this provider.
      @return the actual preference position in which the provider was
      added, or -1 if the provider was not added because it is
      already installed.
      @throws  NullPointerException if provider is null
      @throws  SecurityException
               if a security manager exists and its {@link
               java.lang.SecurityManager#checkSecurityAccess} method
               denies access to add a new provider
      @see #getProvider
      @see #removeProvider
      @see java.security.SecurityPermission</p></div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">int</strong> <a href="../S/1265.html#L403" title="Referred from 403 in src/java/security/Security.java.">insertProviderAt</a>(<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L357" name="L357"></a> 357             <strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> providerName = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L359" name="L359"></a> 359         <a href="../S/1265.html#L858" title="Defined at 858 in src/java/security/Security.java.">checkInsertProvider</a>(providerName);
<a id="L360" name="L360"></a> 360         ProviderList <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = Providers.getFullProviderList();
<a id="L361" name="L361"></a> 361         ProviderList <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a> = ProviderList.insertAt(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> - 1);
<a id="L362" name="L362"></a> 362         <strong class="reserved">if</strong> (<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> == <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363             <strong class="reserved">return</strong> -1;
<a id="L364" name="L364"></a> 364         <em class="brace">}</em>
<a id="L365" name="L365"></a> 365         Providers.setProviderList(<a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>);
<a id="L366" name="L366"></a> 366         <strong class="reserved">return</strong> <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>(providerName) + 1;
<a id="L367" name="L367"></a> 367     <em class="brace">}</em>
<a id="L368" name="L368"></a> 368 
<div class="comment">
      Adds a provider to the next position available.
      <p>If there is a security manager, the
      {@link java.lang.SecurityManager#checkSecurityAccess} method is called
      with the <code>"insertProvider"</code> permission target name to see if
      it's ok to add a new provider. If this permission check is denied,
      <code>checkSecurityAccess</code> is called again with the
      <code>"insertProvider."+provider.getName()</code> permission target name. If
      both checks are denied, a <code>SecurityException</code> is thrown.
      @param provider the provider to be added.
      @return the preference position in which the provider was
      added, or -1 if the provider was not added because it is
      already installed.
      @throws  NullPointerException if provider is null
      @throws  SecurityException
               if a security manager exists and its {@link
               java.lang.SecurityManager#checkSecurityAccess} method
               denies access to add a new provider
      @see #getProvider
      @see #removeProvider
      @see java.security.SecurityPermission</p></div>
<a id="L396" name="L396"></a> 396     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> addProvider(<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <em class="brace">{</em>
<div class="comment">
          We can't assign a position here because the statically
          registered providers may not have been installed yet.
          insertProviderAt() will fix that value after it has
          loaded the static providers.</div>
<a id="L403" name="L403"></a> 403         <strong class="reserved">return</strong> <a href="../S/1265.html#L356" title="Defined at 356 in src/java/security/Security.java.">insertProviderAt</a>(<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, 0);
<a id="L404" name="L404"></a> 404     <em class="brace">}</em>
<a id="L405" name="L405"></a> 405 
<div class="comment">
      Removes the provider with the specified name.
      <p>When the specified provider is removed, all providers located
      at a position greater than where the specified provider was are shifted
      down one position (towards the head of the list of installed
      providers).
      </p><p>This method returns silently if the provider is not installed or
      if name is null.
      </p><p>First, if there is a security manager, its
      <code>checkSecurityAccess</code>
      method is called with the string <code>"removeProvider."+name</code>
      to see if it's ok to remove the provider.
      If the default implementation of <code>checkSecurityAccess</code>
      is used (i.e., that method is not overriden), then this will result in
      a call to the security manager's <code>checkPermission</code> method
      with a <code>SecurityPermission("removeProvider."+name)</code>
      permission.
      @param name the name of the provider to remove.
      @throws  SecurityException
               if a security manager exists and its {@link
               java.lang.SecurityManager#checkSecurityAccess} method
               denies
               access to remove the provider
      @see #getProvider
      @see #addProvider</p></div>
<a id="L438" name="L438"></a> 438     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> removeProvider(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439         <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>("removeProvider." + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L440" name="L440"></a> 440         ProviderList <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = Providers.getFullProviderList();
<a id="L441" name="L441"></a> 441         ProviderList <a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a> = ProviderList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L442" name="L442"></a> 442         Providers.setProviderList(<a href="../D/28034.html" title="Multiple defined in 2 places.">newList</a>);
<a id="L443" name="L443"></a> 443     <em class="brace">}</em>
<a id="L444" name="L444"></a> 444 
<div class="comment">
      Returns an array containing all the installed providers. The order of
      the providers in the array is their preference order.
      @return an array of all the installed providers.</div>
<a id="L451" name="L451"></a> 451     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] <a href="../R/18544.html" title="Multiple referred from 16 places.">getProviders</a>() <em class="brace">{</em>
<a id="L452" name="L452"></a> 452         <strong class="reserved">return</strong> Providers.getFullProviderList().<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L453" name="L453"></a> 453     <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<div class="comment">
      Returns the provider installed with the specified name, if
      any. Returns null if no provider with the specified name is
      installed or if name is null.
      @param name the name of the provider to get.
      @return the provider of the specified name.
      @see #removeProvider
      @see #addProvider</div>
<a id="L467" name="L467"></a> 467     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../R/18534.html" title="Multiple referred from 23 places.">getProvider</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L468" name="L468"></a> 468         <strong class="reserved">return</strong> Providers.getProviderList().<a href="../D/21756.html" title="Multiple defined in 24 places.">getProvider</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L469" name="L469"></a> 469     <em class="brace">}</em>
<a id="L470" name="L470"></a> 470 
<div class="comment">
      Returns an array containing all installed providers that satisfy the
      specified selection criterion, or null if no such providers have been
      installed. The returned providers are ordered
      according to their
      {@linkplain #insertProviderAt(java.security.Provider, int) preference order}.
      <p> A cryptographic service is always associated with a particular
      algorithm or type. For example, a digital signature service is
      always associated with a particular algorithm (e.g., DSA),
      and a CertificateFactory service is always associated with
      a particular certificate type (e.g., X.509).
      </p><p>The selection criterion must be specified in one of the following two
      formats:
      </p><ul><li> <i>{@literal <crypto_service>.<algorithm_or_type>}</algorithm_or_type></crypto_service></i>
      <p> The cryptographic service name must not contain any dots.
      </p><p> A
      provider satisfies the specified selection criterion iff the provider
      implements the
      specified algorithm or type for the specified cryptographic service.
      </p><p> For example, "CertificateFactory.X.509"
      would be satisfied by any provider that supplied
      a CertificateFactory implementation for X.509 certificates.
      </p></li><li> <i>{@literal <crypto_service>.<algorithm_or_type>
      <attribute_name>:<attribute_value>}</attribute_value></attribute_name></algorithm_or_type></crypto_service></i>
      <p> The cryptographic service name must not contain any dots. There
      must be one or more space characters between the
      <i>{@literal <algorithm_or_type>}</algorithm_or_type></i> and the
      <i>{@literal <attribute_name>}</attribute_name></i>.
       </p><p> A provider satisfies this selection criterion iff the
      provider implements the specified algorithm or type for the specified
      cryptographic service and its implementation meets the
      constraint expressed by the specified attribute name/value pair.
      </p><p> For example, "Signature.SHA1withDSA KeySize:1024" would be
      satisfied by any provider that implemented
      the SHA1withDSA signature algorithm with a keysize of 1024 (or larger).
      </p></li></ul>
      <p> See the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard cryptographic service names, standard
      algorithm names and standard attribute names.
      @param filter the criterion for selecting
      providers. The filter is case-insensitive.
      @return all the installed providers that satisfy the selection
      criterion, or null if no such providers have been installed.
      @throws InvalidParameterException
              if the filter is not in the required format
      @throws NullPointerException if filter is null
      @see #getProviders(java.util.Map)
      @since 1.3</p></div>
<a id="L531" name="L531"></a> 531     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] <a href="../R/18544.html" title="Multiple referred from 16 places.">getProviders</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <strong class="reserved">null</strong>;
<a id="L533" name="L533"></a> 533         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>;
<a id="L534" name="L534"></a> 534         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L535" name="L535"></a> 535 
<a id="L536" name="L536"></a> 536         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == -1) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L538" name="L538"></a> 538             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = "";
<a id="L539" name="L539"></a> 539         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L540" name="L540"></a> 540             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L541" name="L541"></a> 541             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1);
<a id="L542" name="L542"></a> 542         <em class="brace">}</em>
<a id="L543" name="L543"></a> 543 
<a id="L544" name="L544"></a> 544         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; hashtableFilter = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;&gt;(1);
<a id="L545" name="L545"></a> 545         hashtableFilter.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L546" name="L546"></a> 546 
<a id="L547" name="L547"></a> 547         <strong class="reserved">return</strong> (<a href="../D/21766.html" title="Multiple defined in 5 places.">getProviders</a>(hashtableFilter));
<a id="L548" name="L548"></a> 548     <em class="brace">}</em>
<a id="L549" name="L549"></a> 549 
<div class="comment">
      Returns an array containing all installed providers that satisfy the
      specified* selection criteria, or null if no such providers have been
      installed. The returned providers are ordered
      according to their
      {@linkplain #insertProviderAt(java.security.Provider, int)
      preference order}.
      <p>The selection criteria are represented by a map.
      Each map entry represents a selection criterion.
      A provider is selected iff it satisfies all selection
      criteria. The key for any entry in such a map must be in one of the
      following two formats:
      </p><ul><li> <i>{@literal <crypto_service>.<algorithm_or_type>}</algorithm_or_type></crypto_service></i>
      <p> The cryptographic service name must not contain any dots.
      </p><p> The value associated with the key must be an empty string.
      </p><p> A provider
      satisfies this selection criterion iff the provider implements the
      specified algorithm or type for the specified cryptographic service.
      </p></li><li>  <i>{@literal <crypto_service>}.
      {@literal <algorithm_or_type> <attribute_name>}</attribute_name></algorithm_or_type></crypto_service></i>
      <p> The cryptographic service name must not contain any dots. There
      must be one or more space characters between the
      <i>{@literal <algorithm_or_type>}</algorithm_or_type></i>
      and the <i>{@literal <attribute_name>}</attribute_name></i>.
      </p><p> The value associated with the key must be a non-empty string.
      A provider satisfies this selection criterion iff the
      provider implements the specified algorithm or type for the specified
      cryptographic service and its implementation meets the
      constraint expressed by the specified attribute name/value pair.
      </p></li></ul>
      <p> See the <a href="../../../technotes/guides/security/StandardNames.html">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard cryptographic service names, standard
      algorithm names and standard attribute names.
      @param filter the criteria for selecting
      providers. The filter is case-insensitive.
      @return all the installed providers that satisfy the selection
      criteria, or null if no such providers have been installed.
      @throws InvalidParameterException
              if the filter is not in the required format
      @throws NullPointerException if filter is null
      @see #getProviders(java.lang.String)
      @since 1.3</p></div>
<a id="L602" name="L602"></a> 602     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] <a href="../R/18544.html" title="Multiple referred from 16 places.">getProviders</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603         <em class="comment">// Get all installed providers first.</em>
<a id="L604" name="L604"></a> 604         <em class="comment">// Then only return those providers who satisfy the selection criteria.</em>
<a id="L605" name="L605"></a> 605         <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] allProviders = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/21766.html" title="Multiple defined in 5 places.">getProviders</a>();
<a id="L606" name="L606"></a> 606         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>();
<a id="L607" name="L607"></a> 607         <a href="../S/1146.html#L118" title="Defined at 118 in src/java/util/LinkedHashSet.java.">LinkedHashSet</a>&lt;<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>&gt; candidates = <strong class="reserved">new</strong> <a href="../S/1146.html#L118" title="Defined at 118 in src/java/util/LinkedHashSet.java.">LinkedHashSet</a>&lt;&gt;(5);
<a id="L608" name="L608"></a> 608 
<a id="L609" name="L609"></a> 609         <em class="comment">// Returns all installed providers</em>
<a id="L610" name="L610"></a> 610         <em class="comment">// if the selection criteria is null.</em>
<a id="L611" name="L611"></a> 611         <strong class="reserved">if</strong> ((<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a> == <strong class="reserved">null</strong>) || (allProviders == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612             <strong class="reserved">return</strong> allProviders;
<a id="L613" name="L613"></a> 613         <em class="brace">}</em>
<a id="L614" name="L614"></a> 614 
<a id="L615" name="L615"></a> 615         <strong class="reserved">boolean</strong> firstSearch = <strong class="reserved">true</strong>;
<a id="L616" name="L616"></a> 616 
<a id="L617" name="L617"></a> 617         <em class="comment">// For each selection criterion, remove providers</em>
<a id="L618" name="L618"></a> 618         <em class="comment">// which don't satisfy the criterion from the candidate set.</em>
<a id="L619" name="L619"></a> 619         <strong class="reserved">for</strong> (<a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; ite = <a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>(); ite.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>(); ) <em class="brace">{</em>
<a id="L620" name="L620"></a> 620             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = ite.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L621" name="L621"></a> 621             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L622" name="L622"></a> 622 
<a id="L623" name="L623"></a> 623             <a href="../S/1146.html#L118" title="Defined at 118 in src/java/util/LinkedHashSet.java.">LinkedHashSet</a>&lt;<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>&gt; newCandidates = <a href="../S/1265.html#L879" title="Defined at 879 in src/java/security/Security.java.">getAllQualifyingCandidates</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L624" name="L624"></a> 624                                                                allProviders);
<a id="L625" name="L625"></a> 625             <strong class="reserved">if</strong> (firstSearch) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626                 candidates = newCandidates;
<a id="L627" name="L627"></a> 627                 firstSearch = <strong class="reserved">false</strong>;
<a id="L628" name="L628"></a> 628             <em class="brace">}</em>
<a id="L629" name="L629"></a> 629 
<a id="L630" name="L630"></a> 630             <strong class="reserved">if</strong> ((newCandidates != <strong class="reserved">null</strong>) &amp;&amp; !newCandidates.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L631" name="L631"></a> 631                 <em class="comment">// For each provider in the candidates set, if it</em>
<a id="L632" name="L632"></a> 632                 <em class="comment">// isn't in the newCandidate set, we should remove</em>
<a id="L633" name="L633"></a> 633                 <em class="comment">// it from the candidate set.</em>
<a id="L634" name="L634"></a> 634                 <strong class="reserved">for</strong> (<a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>&gt; cansIte = candidates.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L635" name="L635"></a> 635                      cansIte.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>(); ) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636                     <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> prov = cansIte.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L637" name="L637"></a> 637                     <strong class="reserved">if</strong> (!newCandidates.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(prov)) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638                         cansIte.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L639" name="L639"></a> 639                     <em class="brace">}</em>
<a id="L640" name="L640"></a> 640                 <em class="brace">}</em>
<a id="L641" name="L641"></a> 641             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L642" name="L642"></a> 642                 candidates = <strong class="reserved">null</strong>;
<a id="L643" name="L643"></a> 643                 <strong class="reserved">break</strong>;
<a id="L644" name="L644"></a> 644             <em class="brace">}</em>
<a id="L645" name="L645"></a> 645         <em class="brace">}</em>
<a id="L646" name="L646"></a> 646 
<a id="L647" name="L647"></a> 647         <strong class="reserved">if</strong> ((candidates == <strong class="reserved">null</strong>) || (candidates.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()))
<a id="L648" name="L648"></a> 648             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L649" name="L649"></a> 649 
<a id="L650" name="L650"></a> 650         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] candidatesArray = candidates.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L651" name="L651"></a> 651         <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[candidatesArray.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L652" name="L652"></a> 652 
<a id="L653" name="L653"></a> 653         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L654" name="L654"></a> 654             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i] = (<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>)candidatesArray[i];
<a id="L655" name="L655"></a> 655         <em class="brace">}</em>
<a id="L656" name="L656"></a> 656 
<a id="L657" name="L657"></a> 657         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L658" name="L658"></a> 658     <em class="brace">}</em>
<a id="L659" name="L659"></a> 659 
<a id="L660" name="L660"></a> 660     <em class="comment">// Map containing cached Spi Class objects of the specified type</em>
<a id="L661" name="L661"></a> 661     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;&gt; spiMap =
<a id="L662" name="L662"></a> 662             <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;();
<a id="L663" name="L663"></a> 663 
<div class="comment">
      Return the Class object for the given engine type
      (e.g. "MessageDigest"). Works for Spis in the java.security package
      only.</div>
<a id="L669" name="L669"></a> 669     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/19131.html" title="Multiple referred from 6 places.">getSpiClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L670" name="L670"></a> 670         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> = spiMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L671" name="L671"></a> 671         <strong class="reserved">if</strong> (<a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L672" name="L672"></a> 672             <strong class="reserved">return</strong> <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>;
<a id="L673" name="L673"></a> 673         <em class="brace">}</em>
<a id="L674" name="L674"></a> 674         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L675" name="L675"></a> 675             <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>("java.security." + <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> + "Spi");
<a id="L676" name="L676"></a> 676             spiMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>);
<a id="L677" name="L677"></a> 677             <strong class="reserved">return</strong> <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>;
<a id="L678" name="L678"></a> 678         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>("Spi class not found", e);
<a id="L680" name="L680"></a> 680         <em class="brace">}</em>
<a id="L681" name="L681"></a> 681     <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<div class="comment">
      Returns an array of objects: the first object in the array is
      an instance of an implementation of the requested algorithm
      and type, and the second object in the array identifies the provider
      of that implementation.
      The <code>provider</code> argument can be null, in which case all
      configured providers will be searched in order of preference.</div>
<a id="L691" name="L691"></a> 691     <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../R/17001.html" title="Multiple referred from 114 places.">getImpl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L692" name="L692"></a> 692             <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a> <em class="brace">{</em>
<a id="L693" name="L693"></a> 693         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L694" name="L694"></a> 694             <strong class="reserved">return</strong> GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>
<a id="L695" name="L695"></a> 695                 (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/1265.html#L669" title="Defined at 669 in src/java/security/Security.java.">getSpiClass</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>), algorithm).<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L696" name="L696"></a> 696         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L697" name="L697"></a> 697             <strong class="reserved">return</strong> GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>
<a id="L698" name="L698"></a> 698                 (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/1265.html#L669" title="Defined at 669 in src/java/security/Security.java.">getSpiClass</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>), algorithm, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>).<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L699" name="L699"></a> 699         <em class="brace">}</em>
<a id="L700" name="L700"></a> 700     <em class="brace">}</em>
<a id="L701" name="L701"></a> 701 
<a id="L702" name="L702"></a> 702     <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../R/17001.html" title="Multiple referred from 114 places.">getImpl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L703" name="L703"></a> 703             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>) <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L704" name="L704"></a> 704             <a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a>, <a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a> <em class="brace">{</em>
<a id="L705" name="L705"></a> 705         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L706" name="L706"></a> 706             <strong class="reserved">return</strong> GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>
<a id="L707" name="L707"></a> 707                 (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/1265.html#L669" title="Defined at 669 in src/java/security/Security.java.">getSpiClass</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>), algorithm, <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>).<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L708" name="L708"></a> 708         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L709" name="L709"></a> 709             <strong class="reserved">return</strong> GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>
<a id="L710" name="L710"></a> 710                 (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/1265.html#L669" title="Defined at 669 in src/java/security/Security.java.">getSpiClass</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>), algorithm, <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>).<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L711" name="L711"></a> 711         <em class="brace">}</em>
<a id="L712" name="L712"></a> 712     <em class="brace">}</em>
<a id="L713" name="L713"></a> 713 
<div class="comment">
      Returns an array of objects: the first object in the array is
      an instance of an implementation of the requested algorithm
      and type, and the second object in the array identifies the provider
      of that implementation.
      The <code>provider</code> argument cannot be null.</div>
<a id="L721" name="L721"></a> 721     <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../R/17001.html" title="Multiple referred from 114 places.">getImpl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L722" name="L722"></a> 722             <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <em class="brace">{</em>
<a id="L723" name="L723"></a> 723         <strong class="reserved">return</strong> GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>
<a id="L724" name="L724"></a> 724             (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/1265.html#L669" title="Defined at 669 in src/java/security/Security.java.">getSpiClass</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>), algorithm, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>).<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L725" name="L725"></a> 725     <em class="brace">}</em>
<a id="L726" name="L726"></a> 726 
<a id="L727" name="L727"></a> 727     <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../R/17001.html" title="Multiple referred from 114 places.">getImpl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algorithm, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L728" name="L728"></a> 728             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>) <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L729" name="L729"></a> 729             <a href="../S/1218.html#L40" title="Defined at 40 in src/java/security/InvalidAlgorithmParameterException.java.">InvalidAlgorithmParameterException</a> <em class="brace">{</em>
<a id="L730" name="L730"></a> 730         <strong class="reserved">return</strong> GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>
<a id="L731" name="L731"></a> 731             (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/1265.html#L669" title="Defined at 669 in src/java/security/Security.java.">getSpiClass</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>), algorithm, <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>).<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L732" name="L732"></a> 732     <em class="brace">}</em>
<a id="L733" name="L733"></a> 733 
<div class="comment">
      Gets a security property value.
      <p>First, if there is a security manager, its
      <code>checkPermission</code>  method is called with a
      <code>java.security.SecurityPermission("getProperty."+key)</code>
      permission to see if it's ok to retrieve the specified
      security property value..
      @param key the key of the property being retrieved.
      @return the value of the security property corresponding to key.
      @throws  SecurityException
               if a security manager exists and its {@link
               java.lang.SecurityManager#checkPermission} method
               denies
               access to retrieve the specified security property value
      @throws  NullPointerException is key is null
      @see #setProperty
      @see java.security.SecurityPermission</p></div>
<a id="L757" name="L757"></a> 757     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18510.html" title="Multiple referred from 728 places.">getProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L758" name="L758"></a> 758         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L759" name="L759"></a> 759         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L760" name="L760"></a> 760             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/1261.html#L313" title="Defined at 313 in src/java/security/SecurityPermission.java.">SecurityPermission</a>("getProperty."+
<a id="L761" name="L761"></a> 761                                                       <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>));
<a id="L762" name="L762"></a> 762         <em class="brace">}</em>
<a id="L763" name="L763"></a> 763         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = props.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L764" name="L764"></a> 764         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>)
<a id="L765" name="L765"></a> 765             <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>(); <em class="comment">// could be a class name with trailing ws</em>
<a id="L766" name="L766"></a> 766         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L767" name="L767"></a> 767     <em class="brace">}</em>
<a id="L768" name="L768"></a> 768 
<div class="comment">
      Sets a security property value.
      <p>First, if there is a security manager, its
      <code>checkPermission</code> method is called with a
      <code>java.security.SecurityPermission("setProperty."+key)</code>
      permission to see if it's ok to set the specified
      security property value.
      @param key the name of the property to be set.
      @param datum the value of the property to be set.
      @throws  SecurityException
               if a security manager exists and its {@link
               java.lang.SecurityManager#checkPermission} method
               denies access to set the specified security property value
      @throws  NullPointerException if key or datum is null
      @see #getProperty
      @see java.security.SecurityPermission</p></div>
<a id="L791" name="L791"></a> 791     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/27976.html" title="Multiple referred from 343 places.">setProperty</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> datum) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792         <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>("setProperty."+<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L793" name="L793"></a> 793         props.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, datum);
<a id="L794" name="L794"></a> 794         <a href="../S/1265.html#L807" title="Defined at 807 in src/java/security/Security.java.">invalidateSMCache</a>(<div class="comment">
/* See below. */</div>
<a id="L795" name="L795"></a> 795     <em class="brace">}</em>
<a id="L796" name="L796"></a> 796 
<div class="comment">
      Implementation detail:  If the property we just set in
      setProperty() was either "package.access" or
      "package.definition", we need to signal to the SecurityManager
      class that the value has just changed, and that it should
      invalidate it's local cache values.
      Rather than create a new API entry for this function,
      we use reflection to set a private variable.</div>
<a id="L807" name="L807"></a> 807     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1265.html#L794" title="Referred from 794 in src/java/security/Security.java.">invalidateSMCache</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L808" name="L808"></a> 808 
<a id="L809" name="L809"></a> 809         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> pa = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("package.access");
<a id="L810" name="L810"></a> 810         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> pd = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("package.definition");
<a id="L811" name="L811"></a> 811 
<a id="L812" name="L812"></a> 812         <strong class="reserved">if</strong> (pa || pd) <em class="brace">{</em>
<a id="L813" name="L813"></a> 813             <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L814" name="L814"></a> 814                 <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L815" name="L815"></a> 815                     <strong class="reserved">try</strong> <em class="brace">{</em>
<div class="comment">
                         /* Get the class via the bootstrap class loader. */</div>
<a id="L817" name="L817"></a> 817                         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; cl = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(
<a id="L818" name="L818"></a> 818                             "java.lang.SecurityManager", <strong class="reserved">false</strong>, <strong class="reserved">null</strong>);
<a id="L819" name="L819"></a> 819                         <a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> f = <strong class="reserved">null</strong>;
<a id="L820" name="L820"></a> 820                         <strong class="reserved">boolean</strong> accessible = <strong class="reserved">false</strong>;
<a id="L821" name="L821"></a> 821 
<a id="L822" name="L822"></a> 822                         <strong class="reserved">if</strong> (pa) <em class="brace">{</em>
<a id="L823" name="L823"></a> 823                             f = cl.<a href="../S/1722.html#L2065" title="Defined at 2065 in src/java/lang/Class.java.">getDeclaredField</a>("packageAccessValid");
<a id="L824" name="L824"></a> 824                             accessible = f.<a href="../D/25151.html" title="Multiple defined in 4 places.">isAccessible</a>();
<a id="L825" name="L825"></a> 825                             f.<a href="../D/31850.html" title="Multiple defined in 2 places.">setAccessible</a>(<strong class="reserved">true</strong>);
<a id="L826" name="L826"></a> 826                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L827" name="L827"></a> 827                             f = cl.<a href="../S/1722.html#L2065" title="Defined at 2065 in src/java/lang/Class.java.">getDeclaredField</a>("packageDefinitionValid");
<a id="L828" name="L828"></a> 828                             accessible = f.<a href="../D/25151.html" title="Multiple defined in 4 places.">isAccessible</a>();
<a id="L829" name="L829"></a> 829                             f.<a href="../D/31850.html" title="Multiple defined in 2 places.">setAccessible</a>(<strong class="reserved">true</strong>);
<a id="L830" name="L830"></a> 830                         <em class="brace">}</em>
<a id="L831" name="L831"></a> 831                         f.<a href="../D/32011.html" title="Multiple defined in 8 places.">setBoolean</a>(f, <strong class="reserved">false</strong>);
<a id="L832" name="L832"></a> 832                         f.<a href="../D/31850.html" title="Multiple defined in 2 places.">setAccessible</a>(accessible);
<a id="L833" name="L833"></a> 833                     <em class="brace">}</em>
<a id="L834" name="L834"></a> 834                     <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e1) <em class="brace">{</em>
<div class="comment">
 If we couldn't get the class, it hasn't
                          been loaded yet.  If there is no such
                          field, we shouldn't try to set it.  There
                          shouldn't be a security execption, as we
                          are loaded by boot class loader, and we
                          are inside a doPrivileged() here.
                          NOOP: don't do anything...</div>
<a id="L844" name="L844"></a> 844                     <em class="brace">}</em>
<a id="L845" name="L845"></a> 845                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L846" name="L846"></a> 846                 <div class="comment">
/* run */</div>
<a id="L847" name="L847"></a> 847             <div class="comment">
/* PrivilegedAction */</div>
<a id="L848" name="L848"></a> 848         <div class="comment">
/* if */</div>
<a id="L849" name="L849"></a> 849     <em class="brace">}</em>
<a id="L850" name="L850"></a> 850 
<a id="L851" name="L851"></a> 851     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/11065.html" title="Multiple referred from 127 places.">check</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> directive) <em class="brace">{</em>
<a id="L852" name="L852"></a> 852         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L853" name="L853"></a> 853         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L854" name="L854"></a> 854             security.<a href="../S/1785.html#L1758" title="Defined at 1758 in src/java/lang/SecurityManager.java.">checkSecurityAccess</a>(directive);
<a id="L855" name="L855"></a> 855         <em class="brace">}</em>
<a id="L856" name="L856"></a> 856     <em class="brace">}</em>
<a id="L857" name="L857"></a> 857 
<a id="L858" name="L858"></a> 858     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1265.html#L359" title="Referred from 359 in src/java/security/Security.java.">checkInsertProvider</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L859" name="L859"></a> 859         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L860" name="L860"></a> 860         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L861" name="L861"></a> 861             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L862" name="L862"></a> 862                 security.<a href="../S/1785.html#L1758" title="Defined at 1758 in src/java/lang/SecurityManager.java.">checkSecurityAccess</a>("insertProvider");
<a id="L863" name="L863"></a> 863             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se1) <em class="brace">{</em>
<a id="L864" name="L864"></a> 864                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L865" name="L865"></a> 865                     security.<a href="../S/1785.html#L1758" title="Defined at 1758 in src/java/lang/SecurityManager.java.">checkSecurityAccess</a>("insertProvider." + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L866" name="L866"></a> 866                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se2) <em class="brace">{</em>
<a id="L867" name="L867"></a> 867                     <em class="comment">// throw first exception, but add second to suppressed</em>
<a id="L868" name="L868"></a> 868                     se1.<a href="../S/1726.html#L1041" title="Defined at 1041 in src/java/lang/Throwable.java.">addSuppressed</a>(se2);
<a id="L869" name="L869"></a> 869                     <strong class="reserved">throw</strong> se1;
<a id="L870" name="L870"></a> 870                 <em class="brace">}</em>
<a id="L871" name="L871"></a> 871             <em class="brace">}</em>
<a id="L872" name="L872"></a> 872         <em class="brace">}</em>
<a id="L873" name="L873"></a> 873     <em class="brace">}</em>
<a id="L874" name="L874"></a> 874 
<div class="comment">
     Returns all providers who satisfy the specified
     criterion.</div>
<a id="L879" name="L879"></a> 879     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1146.html#L118" title="Defined at 118 in src/java/util/LinkedHashSet.java.">LinkedHashSet</a>&lt;<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>&gt; <a href="../S/1265.html#L623" title="Referred from 623 in src/java/security/Security.java.">getAllQualifyingCandidates</a>(
<a id="L880" name="L880"></a> 880                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filterKey,
<a id="L881" name="L881"></a> 881                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filterValue,
<a id="L882" name="L882"></a> 882                                                 <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] allProviders) <em class="brace">{</em>
<a id="L883" name="L883"></a> 883         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] filterComponents = <a href="../S/1265.html#L1017" title="Defined at 1017 in src/java/security/Security.java.">getFilterComponents</a>(filterKey,
<a id="L884" name="L884"></a> 884                                                         filterValue);
<a id="L885" name="L885"></a> 885 
<a id="L886" name="L886"></a> 886         <em class="comment">// The first component is the service name.</em>
<a id="L887" name="L887"></a> 887         <em class="comment">// The second is the algorithm name.</em>
<a id="L888" name="L888"></a> 888         <em class="comment">// If the third isn't null, that is the attrinute name.</em>
<a id="L889" name="L889"></a> 889         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a> = filterComponents[0];
<a id="L890" name="L890"></a> 890         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algName = filterComponents[1];
<a id="L891" name="L891"></a> 891         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName = filterComponents[2];
<a id="L892" name="L892"></a> 892 
<a id="L893" name="L893"></a> 893         <strong class="reserved">return</strong> <a href="../S/1265.html#L897" title="Defined at 897 in src/java/security/Security.java.">getProvidersNotUsingCache</a>(<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>, algName, attrName,
<a id="L894" name="L894"></a> 894                                          filterValue, allProviders);
<a id="L895" name="L895"></a> 895     <em class="brace">}</em>
<a id="L896" name="L896"></a> 896 
<a id="L897" name="L897"></a> 897     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1146.html#L118" title="Defined at 118 in src/java/util/LinkedHashSet.java.">LinkedHashSet</a>&lt;<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>&gt; <a href="../S/1265.html#L893" title="Referred from 893 in src/java/security/Security.java.">getProvidersNotUsingCache</a>(
<a id="L898" name="L898"></a> 898                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>,
<a id="L899" name="L899"></a> 899                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algName,
<a id="L900" name="L900"></a> 900                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L901" name="L901"></a> 901                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filterValue,
<a id="L902" name="L902"></a> 902                                                 <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] allProviders) <em class="brace">{</em>
<a id="L903" name="L903"></a> 903         <a href="../S/1146.html#L118" title="Defined at 118 in src/java/util/LinkedHashSet.java.">LinkedHashSet</a>&lt;<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>&gt; candidates = <strong class="reserved">new</strong> <a href="../S/1146.html#L118" title="Defined at 118 in src/java/util/LinkedHashSet.java.">LinkedHashSet</a>&lt;&gt;(5);
<a id="L904" name="L904"></a> 904         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; allProviders.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L905" name="L905"></a> 905             <strong class="reserved">if</strong> (<a href="../S/1265.html#L918" title="Defined at 918 in src/java/security/Security.java.">isCriterionSatisfied</a>(allProviders[i], <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>,
<a id="L906" name="L906"></a> 906                                      algName,
<a id="L907" name="L907"></a> 907                                      attrName, filterValue)) <em class="brace">{</em>
<a id="L908" name="L908"></a> 908                 candidates.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(allProviders[i]);
<a id="L909" name="L909"></a> 909             <em class="brace">}</em>
<a id="L910" name="L910"></a> 910         <em class="brace">}</em>
<a id="L911" name="L911"></a> 911         <strong class="reserved">return</strong> candidates;
<a id="L912" name="L912"></a> 912     <em class="brace">}</em>
<a id="L913" name="L913"></a> 913 
<div class="comment">
      Returns true if the given provider satisfies
      the selection criterion key:value.</div>
<a id="L918" name="L918"></a> 918     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/1265.html#L905" title="Referred from 905 in src/java/security/Security.java.">isCriterionSatisfied</a>(<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> prov,
<a id="L919" name="L919"></a> 919                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>,
<a id="L920" name="L920"></a> 920                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algName,
<a id="L921" name="L921"></a> 921                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L922" name="L922"></a> 922                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filterValue) <em class="brace">{</em>
<a id="L923" name="L923"></a> 923         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a> + '.' + algName;
<a id="L924" name="L924"></a> 924 
<a id="L925" name="L925"></a> 925         <strong class="reserved">if</strong> (attrName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L926" name="L926"></a> 926             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> += ' ' + attrName;
<a id="L927" name="L927"></a> 927         <em class="brace">}</em>
<a id="L928" name="L928"></a> 928         <em class="comment">// Check whether the provider has a property</em>
<a id="L929" name="L929"></a> 929         <em class="comment">// whose key is the same as the given key.</em>
<a id="L930" name="L930"></a> 930         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propValue = <a href="../D/21763.html" title="Multiple defined in 2 places.">getProviderProperty</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, prov);
<a id="L931" name="L931"></a> 931 
<a id="L932" name="L932"></a> 932         <strong class="reserved">if</strong> (propValue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L933" name="L933"></a> 933             <em class="comment">// Check whether we have an alias instead</em>
<a id="L934" name="L934"></a> 934             <em class="comment">// of a standard name in the key.</em>
<a id="L935" name="L935"></a> 935             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> standardName = <a href="../D/21763.html" title="Multiple defined in 2 places.">getProviderProperty</a>("Alg.Alias." +
<a id="L936" name="L936"></a> 936                                                       <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a> + "." +
<a id="L937" name="L937"></a> 937                                                       algName,
<a id="L938" name="L938"></a> 938                                                       prov);
<a id="L939" name="L939"></a> 939             <strong class="reserved">if</strong> (standardName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L940" name="L940"></a> 940                 <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a> + "." + standardName;
<a id="L941" name="L941"></a> 941 
<a id="L942" name="L942"></a> 942                 <strong class="reserved">if</strong> (attrName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L943" name="L943"></a> 943                     <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> += ' ' + attrName;
<a id="L944" name="L944"></a> 944                 <em class="brace">}</em>
<a id="L945" name="L945"></a> 945 
<a id="L946" name="L946"></a> 946                 propValue = <a href="../D/21763.html" title="Multiple defined in 2 places.">getProviderProperty</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, prov);
<a id="L947" name="L947"></a> 947             <em class="brace">}</em>
<a id="L948" name="L948"></a> 948 
<a id="L949" name="L949"></a> 949             <strong class="reserved">if</strong> (propValue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L950" name="L950"></a> 950                 <em class="comment">// The provider doesn't have the given</em>
<a id="L951" name="L951"></a> 951                 <em class="comment">// key in its property list.</em>
<a id="L952" name="L952"></a> 952                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L953" name="L953"></a> 953             <em class="brace">}</em>
<a id="L954" name="L954"></a> 954         <em class="brace">}</em>
<a id="L955" name="L955"></a> 955 
<a id="L956" name="L956"></a> 956         <em class="comment">// If the key is in the format of:</em>
<a id="L957" name="L957"></a> 957         <em class="comment">// &lt;crypto_service&gt;.&lt;algorithm_or_type&gt;,</em>
<a id="L958" name="L958"></a> 958         <em class="comment">// there is no need to check the value.</em>
<a id="L959" name="L959"></a> 959 
<a id="L960" name="L960"></a> 960         <strong class="reserved">if</strong> (attrName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L961" name="L961"></a> 961             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L962" name="L962"></a> 962         <em class="brace">}</em>
<a id="L963" name="L963"></a> 963 
<a id="L964" name="L964"></a> 964         <em class="comment">// If we get here, the key must be in the</em>
<a id="L965" name="L965"></a> 965         <em class="comment">// format of &lt;crypto_service&gt;.&lt;algorithm_or_provider&gt; &lt;attribute_name&gt;.</em>
<a id="L966" name="L966"></a> 966         <strong class="reserved">if</strong> (<a href="../S/1265.html#L977" title="Defined at 977 in src/java/security/Security.java.">isStandardAttr</a>(attrName)) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967             <strong class="reserved">return</strong> <a href="../S/1265.html#L993" title="Defined at 993 in src/java/security/Security.java.">isConstraintSatisfied</a>(attrName, filterValue, propValue);
<a id="L968" name="L968"></a> 968         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L969" name="L969"></a> 969             <strong class="reserved">return</strong> filterValue.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(propValue);
<a id="L970" name="L970"></a> 970         <em class="brace">}</em>
<a id="L971" name="L971"></a> 971     <em class="brace">}</em>
<a id="L972" name="L972"></a> 972 
<div class="comment">
      Returns true if the attribute is a standard attribute;
      otherwise, returns false.</div>
<a id="L977" name="L977"></a> 977     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/1265.html#L966" title="Referred from 966 in src/java/security/Security.java.">isStandardAttr</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>) <em class="brace">{</em>
<a id="L978" name="L978"></a> 978         <em class="comment">// For now, we just have two standard attributes:</em>
<a id="L979" name="L979"></a> 979         <em class="comment">// KeySize and ImplementedIn.</em>
<a id="L980" name="L980"></a> 980         <strong class="reserved">if</strong> (<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("KeySize"))
<a id="L981" name="L981"></a> 981             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L982" name="L982"></a> 982 
<a id="L983" name="L983"></a> 983         <strong class="reserved">if</strong> (<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("ImplementedIn"))
<a id="L984" name="L984"></a> 984             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L985" name="L985"></a> 985 
<a id="L986" name="L986"></a> 986         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L987" name="L987"></a> 987     <em class="brace">}</em>
<a id="L988" name="L988"></a> 988 
<div class="comment">
      Returns true if the requested attribute value is supported;
      otherwise, returns false.</div>
<a id="L993" name="L993"></a> 993     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/1265.html#L967" title="Referred from 967 in src/java/security/Security.java.">isConstraintSatisfied</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>,
<a id="L994" name="L994"></a> 994                                                  <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L995" name="L995"></a> 995                                                  <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> prop) <em class="brace">{</em>
<a id="L996" name="L996"></a> 996         <em class="comment">// For KeySize, prop is the max key size the</em>
<a id="L997" name="L997"></a> 997         <em class="comment">// provider supports for a specific &lt;crypto_service&gt;.&lt;algorithm&gt;.</em>
<a id="L998" name="L998"></a> 998         <strong class="reserved">if</strong> (<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("KeySize")) <em class="brace">{</em>
<a id="L999" name="L999"></a> 999             <strong class="reserved">int</strong> requestedSize = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1000" name="L1000"></a>1000             <strong class="reserved">int</strong> maxSize = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(prop);
<a id="L1001" name="L1001"></a>1001             <strong class="reserved">if</strong> (requestedSize &lt;= maxSize) <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1003" name="L1003"></a>1003             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1004" name="L1004"></a>1004                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1005" name="L1005"></a>1005             <em class="brace">}</em>
<a id="L1006" name="L1006"></a>1006         <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007 
<a id="L1008" name="L1008"></a>1008         <em class="comment">// For Type, prop is the type of the implementation</em>
<a id="L1009" name="L1009"></a>1009         <em class="comment">// for a specific &lt;crypto service&gt;.&lt;algorithm&gt;.</em>
<a id="L1010" name="L1010"></a>1010         <strong class="reserved">if</strong> (<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("ImplementedIn")) <em class="brace">{</em>
<a id="L1011" name="L1011"></a>1011             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(prop);
<a id="L1012" name="L1012"></a>1012         <em class="brace">}</em>
<a id="L1013" name="L1013"></a>1013 
<a id="L1014" name="L1014"></a>1014         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1015" name="L1015"></a>1015     <em class="brace">}</em>
<a id="L1016" name="L1016"></a>1016 
<a id="L1017" name="L1017"></a>1017     <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../S/1265.html#L883" title="Referred from 883 in src/java/security/Security.java.">getFilterComponents</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filterKey, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> filterValue) <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018         <strong class="reserved">int</strong> algIndex = filterKey.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('.');
<a id="L1019" name="L1019"></a>1019 
<a id="L1020" name="L1020"></a>1020         <strong class="reserved">if</strong> (algIndex &lt; 0) <em class="brace">{</em>
<a id="L1021" name="L1021"></a>1021             <em class="comment">// There must be a dot in the filter, and the dot</em>
<a id="L1022" name="L1022"></a>1022             <em class="comment">// shouldn't be at the beginning of this string.</em>
<a id="L1023" name="L1023"></a>1023             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1201.html#L36" title="Defined at 36 in src/java/security/InvalidParameterException.java.">InvalidParameterException</a>("Invalid filter");
<a id="L1024" name="L1024"></a>1024         <em class="brace">}</em>
<a id="L1025" name="L1025"></a>1025 
<a id="L1026" name="L1026"></a>1026         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a> = filterKey.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, algIndex);
<a id="L1027" name="L1027"></a>1027         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> algName = <strong class="reserved">null</strong>;
<a id="L1028" name="L1028"></a>1028         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName = <strong class="reserved">null</strong>;
<a id="L1029" name="L1029"></a>1029 
<a id="L1030" name="L1030"></a>1030         <strong class="reserved">if</strong> (filterValue.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031             <em class="comment">// The filterValue is an empty string. So the filterKey</em>
<a id="L1032" name="L1032"></a>1032             <em class="comment">// should be in the format of &lt;crypto_service&gt;.&lt;algorithm_or_type&gt;.</em>
<a id="L1033" name="L1033"></a>1033             algName = filterKey.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(algIndex + 1).<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">if</strong> (algName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1035" name="L1035"></a>1035                 <em class="comment">// There must be a algorithm or type name.</em>
<a id="L1036" name="L1036"></a>1036                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1201.html#L36" title="Defined at 36 in src/java/security/InvalidParameterException.java.">InvalidParameterException</a>("Invalid filter");
<a id="L1037" name="L1037"></a>1037             <em class="brace">}</em>
<a id="L1038" name="L1038"></a>1038         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039             <em class="comment">// The filterValue is a non-empty string. So the filterKey must be</em>
<a id="L1040" name="L1040"></a>1040             <em class="comment">// in the format of</em>
<a id="L1041" name="L1041"></a>1041             <em class="comment">// &lt;crypto_service&gt;.&lt;algorithm_or_type&gt; &lt;attribute_name&gt;</em>
<a id="L1042" name="L1042"></a>1042             <strong class="reserved">int</strong> attrIndex = filterKey.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(' ');
<a id="L1043" name="L1043"></a>1043 
<a id="L1044" name="L1044"></a>1044             <strong class="reserved">if</strong> (attrIndex == -1) <em class="brace">{</em>
<a id="L1045" name="L1045"></a>1045                 <em class="comment">// There is no attribute name in the filter.</em>
<a id="L1046" name="L1046"></a>1046                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1201.html#L36" title="Defined at 36 in src/java/security/InvalidParameterException.java.">InvalidParameterException</a>("Invalid filter");
<a id="L1047" name="L1047"></a>1047             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048                 attrName = filterKey.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(attrIndex + 1).<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L1049" name="L1049"></a>1049                 <strong class="reserved">if</strong> (attrName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1050" name="L1050"></a>1050                     <em class="comment">// There is no attribute name in the filter.</em>
<a id="L1051" name="L1051"></a>1051                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1201.html#L36" title="Defined at 36 in src/java/security/InvalidParameterException.java.">InvalidParameterException</a>("Invalid filter");
<a id="L1052" name="L1052"></a>1052                 <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053             <em class="brace">}</em>
<a id="L1054" name="L1054"></a>1054 
<a id="L1055" name="L1055"></a>1055             <em class="comment">// There must be an algorithm name in the filter.</em>
<a id="L1056" name="L1056"></a>1056             <strong class="reserved">if</strong> ((attrIndex &lt; algIndex) ||
<a id="L1057" name="L1057"></a>1057                 (algIndex == attrIndex - 1)) <em class="brace">{</em>
<a id="L1058" name="L1058"></a>1058                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1201.html#L36" title="Defined at 36 in src/java/security/InvalidParameterException.java.">InvalidParameterException</a>("Invalid filter");
<a id="L1059" name="L1059"></a>1059             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1060" name="L1060"></a>1060                 algName = filterKey.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(algIndex + 1, attrIndex);
<a id="L1061" name="L1061"></a>1061             <em class="brace">}</em>
<a id="L1062" name="L1062"></a>1062         <em class="brace">}</em>
<a id="L1063" name="L1063"></a>1063 
<a id="L1064" name="L1064"></a>1064         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[3];
<a id="L1065" name="L1065"></a>1065         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[0] = <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>;
<a id="L1066" name="L1066"></a>1066         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[1] = algName;
<a id="L1067" name="L1067"></a>1067         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[2] = attrName;
<a id="L1068" name="L1068"></a>1068 
<a id="L1069" name="L1069"></a>1069         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1070" name="L1070"></a>1070     <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071 
<div class="comment">
      Returns a Set of Strings containing the names of all available
      algorithms or types for the specified Java cryptographic service
      (e.g., Signature, MessageDigest, Cipher, Mac, KeyStore). Returns
      an empty Set if there is no provider that supports the
      specified service or if serviceName is null. For a complete list
      of Java cryptographic services, please see the
      <a href="../../../technotes/guides/security/crypto/CryptoSpec.html">Java
      Cryptography Architecture API Specification &amp; Reference</a>.
      Note: the returned set is immutable.
      @param serviceName the name of the Java cryptographic
      service (e.g., Signature, MessageDigest, Cipher, Mac, KeyStore).
      Note: this parameter is case-insensitive.
      @return a Set of Strings containing the names of all available
      algorithms or types for the specified Java cryptographic service
      or an empty set if no provider supports the specified service.
      @since 1.4
     *</div>
<a id="L1093" name="L1093"></a>1093     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; getAlgorithms(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>) <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094 
<a id="L1095" name="L1095"></a>1095         <strong class="reserved">if</strong> ((<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a> == <strong class="reserved">null</strong>) || (<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) ||
<a id="L1096" name="L1096"></a>1096             (<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("."))) <em class="brace">{</em>
<a id="L1097" name="L1097"></a>1097             <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L1098" name="L1098"></a>1098         <em class="brace">}</em>
<a id="L1099" name="L1099"></a>1099 
<a id="L1100" name="L1100"></a>1100         <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;();
<a id="L1101" name="L1101"></a>1101         <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a> = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/21766.html" title="Multiple defined in 5 places.">getProviders</a>();
<a id="L1102" name="L1102"></a>1102 
<a id="L1103" name="L1103"></a>1103         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1104" name="L1104"></a>1104             <em class="comment">// Check the keys for each provider.</em>
<a id="L1105" name="L1105"></a>1105             <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; e = <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>[i].<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L1106" name="L1106"></a>1106                                                 e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>(); ) <em class="brace">{</em>
<a id="L1107" name="L1107"></a>1107                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> currentKey =
<a id="L1108" name="L1108"></a>1108                         ((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>()).<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ENGLISH);
<a id="L1109" name="L1109"></a>1109                 <strong class="reserved">if</strong> (currentKey.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(
<a id="L1110" name="L1110"></a>1110                         <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>.<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ENGLISH))) <em class="brace">{</em>
<a id="L1111" name="L1111"></a>1111                     <em class="comment">// We should skip the currentKey if it contains a</em>
<a id="L1112" name="L1112"></a>1112                     <em class="comment">// whitespace. The reason is: such an entry in the</em>
<a id="L1113" name="L1113"></a>1113                     <em class="comment">// provider property contains attributes for the</em>
<a id="L1114" name="L1114"></a>1114                     <em class="comment">// implementation of an algorithm. We are only interested</em>
<a id="L1115" name="L1115"></a>1115                     <em class="comment">// in entries which lead to the implementation</em>
<a id="L1116" name="L1116"></a>1116                     <em class="comment">// classes.</em>
<a id="L1117" name="L1117"></a>1117                     <strong class="reserved">if</strong> (currentKey.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(" ") &lt; 0) <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118                         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(currentKey.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(
<a id="L1119" name="L1119"></a>1119                                                 <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() + 1));
<a id="L1120" name="L1120"></a>1120                     <em class="brace">}</em>
<a id="L1121" name="L1121"></a>1121                 <em class="brace">}</em>
<a id="L1122" name="L1122"></a>1122             <em class="brace">}</em>
<a id="L1123" name="L1123"></a>1123         <em class="brace">}</em>
<a id="L1124" name="L1124"></a>1124         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>);
<a id="L1125" name="L1125"></a>1125     <em class="brace">}</em>
<a id="L1126" name="L1126"></a>1126 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L77">[^]</a><a href="#L1093">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>