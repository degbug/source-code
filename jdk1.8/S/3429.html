<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/RepaintManager.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L255">[^]</a><a href="#L1735">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L255" title="Defined at 255.">currentManager</a></li>
<li><a href="#L268" title="Defined at 268.">currentManager</a></li>
<li><a href="#L287" title="Defined at 287.">currentManager</a></li>
<li><a href="#L298" title="Defined at 298.">setCurrentManager</a></li>
<li><a href="#L332" title="Defined at 332.">displayChanged</a></li>
<li><a href="#L344" title="Defined at 344.">addInvalidComponent</a></li>
<li><a href="#L386" title="Defined at 386.">removeInvalidComponent</a></li>
<li><a href="#L408" title="Defined at 408.">addDirtyRegion0</a></li>
<li><a href="#L481" title="Defined at 481.">addDirtyRegion</a></li>
<li><a href="#L505" title="Defined at 505.">addDirtyRegion</a></li>
<li><a href="#L521" title="Defined at 521.">addDirtyRegion</a></li>
<li><a href="#L525" title="Defined at 525.">scheduleHeavyWeightPaints</a></li>
<li><a href="#L556" title="Defined at 556.">nativeAddDirtyRegion</a></li>
<li><a href="#L577" title="Defined at 577.">nativeQueueSurfaceDataRunnable</a></li>
<li><a href="#L607" title="Defined at 607.">extendDirtyRegion</a></li>
<li><a href="#L624" title="Defined at 624.">getDirtyRegion</a></li>
<li><a href="#L643" title="Defined at 643.">markCompletelyDirty</a></li>
<li><a href="#L656" title="Defined at 656.">markCompletelyClean</a></li>
<li><a href="#L673" title="Defined at 673.">isCompletelyDirty</a></li>
<li><a href="#L693" title="Defined at 693.">validateInvalidComponents</a></li>
<li><a href="#L725" title="Defined at 725.">prePaintDirtyRegions</a></li>
<li><a href="#L746" title="Defined at 746.">updateWindows</a></li>
<li><a href="#L773" title="Defined at 773.">isPainting</a></li>
<li><a href="#L782" title="Defined at 782.">paintDirtyRegions</a></li>
<li><a href="#L792" title="Defined at 792.">paintDirtyRegions</a></li>
<li><a href="#L879" title="Defined at 879.">adjustRoots</a></li>
<li><a href="#L897" title="Defined at 897.">collectDirtyComponents</a></li>
<li><a href="#L984" title="Defined at 984.">toString</a></li>
<li><a href="#L1000" title="Defined at 1000.">getOffscreenBuffer</a></li>
<li><a href="#L1020" title="Defined at 1020.">getVolatileOffscreenBuffer</a></li>
<li><a href="#L1060" title="Defined at 1060.">_getOffscreenBuffer</a></li>
<li><a href="#L1115" title="Defined at 1115.">setDoubleBufferMaximumSize</a></li>
<li><a href="#L1124" title="Defined at 1124.">clearImages</a></li>
<li><a href="#L1128" title="Defined at 1128.">clearImages</a></li>
<li><a href="#L1153" title="Defined at 1153.">getDoubleBufferMaximumSize</a></li>
<li><a href="#L1181" title="Defined at 1181.">setDoubleBufferingEnabled</a></li>
<li><a href="#L1200" title="Defined at 1200.">isDoubleBufferingEnabled</a></li>
<li><a href="#L1209" title="Defined at 1209.">resetDoubleBuffer</a></li>
<li><a href="#L1218" title="Defined at 1218.">resetVolatileDoubleBuffer</a></li>
<li><a href="#L1229" title="Defined at 1229.">useVolatileDoubleBuffer</a></li>
<li><a href="#L1237" title="Defined at 1237.">isPaintingThread</a></li>
<li><a href="#L1259" title="Defined at 1259.">paint</a></li>
<li><a href="#L1285" title="Defined at 1285.">copyArea</a></li>
<li><a href="#L1292" title="Defined at 1292.">addRepaintListener</a></li>
<li><a href="#L1296" title="Defined at 1296.">removeRepaintListener</a></li>
<li><a href="#L1311" title="Defined at 1311.">notifyRepaintPerformed</a></li>
<li><a href="#L1333" title="Defined at 1333.">beginPaint</a></li>
<li><a href="#L1354" title="Defined at 1354.">endPaint</a></li>
<li><a href="#L1378" title="Defined at 1378.">show</a></li>
<li><a href="#L1386" title="Defined at 1386.">doubleBufferingChanged</a></li>
<li><a href="#L1397" title="Defined at 1397.">setPaintManager</a></li>
<li><a href="#L1412" title="Defined at 1412.">getPaintManager</a></li>
<li><a href="#L1439" title="Defined at 1439.">scheduleProcessingRunnable</a></li>
<li><a href="#L1479" title="Defined at 1479.">paint</a></li>
<li><a href="#L1522" title="Defined at 1522.">copyArea</a></li>
<li><a href="#L1530" title="Defined at 1530.">beginPaint</a></li>
<li><a href="#L1536" title="Defined at 1536.">endPaint</a></li>
<li><a href="#L1544" title="Defined at 1544.">show</a></li>
<li><a href="#L1552" title="Defined at 1552.">doubleBufferingChanged</a></li>
<li><a href="#L1558" title="Defined at 1558.">paintDoubleBuffered</a></li>
<li><a href="#L1603" title="Defined at 1603.">getValidImage</a></li>
<li><a href="#L1617" title="Defined at 1617.">repaintRoot</a></li>
<li><a href="#L1631" title="Defined at 1631.">isRepaintingRoot</a></li>
<li><a href="#L1639" title="Defined at 1639.">dispose</a></li>
<li><a href="#L1665" title="Defined at 1665.">displayChanged</a></li>
<li><a href="#L1669" title="Defined at 1669.">paletteChanged</a></li>
<li><a href="#L1672" title="Defined at 1672.">scheduleDisplayChanges</a></li>
<li><a href="#L1693" title="Defined at 1693.">run</a></li>
<li><a href="#L1710" title="Defined at 1710.">markPending</a></li>
<li><a href="#L1718" title="Defined at 1718.">run</a></li>
<li><a href="#L1735" title="Defined at 1735.">getDelegate</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2014, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.event.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.image.VolatileImage;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.AccessControlContext;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.concurrent.atomic.AtomicInteger;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.applet.*;
<a id="L37" name="L37"></a>  37 
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> sun.awt.AWTAccessor;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> sun.awt.AppContext;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> sun.awt.DisplayChangedListener;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> sun.awt.SunToolkit;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> sun.java2d.SunGraphicsEnvironment;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> sun.misc.JavaSecurityAccess;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> sun.misc.SharedSecrets;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> sun.security.action.GetPropertyAction;
<a id="L46" name="L46"></a>  46 
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> com.sun.java.swing.SwingUtilities3;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> sun.swing.SwingAccessor;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> sun.swing.SwingUtilities2.RepaintListener;
<a id="L50" name="L50"></a>  50 
<div class="comment">
  This class manages repaint requests, allowing the number
  of repaints to be minimized, for example by collapsing multiple
  requests into a single repaint for members of a component tree.
  <p>
  As of 1.6 <code>RepaintManager</code> handles repaint requests
  for Swing's top level components (<code>JApplet</code>,
  <code>JWindow</code>, <code>JFrame</code> and <code>JDialog</code>).
  Any calls to <code>repaint</code> on one of these will call into the
  appropriate <code>addDirtyRegion</code> method.
  @author Arnaud Weber</p></div>
<a id="L64" name="L64"></a>  64 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/6619.html" title="Multiple referred from 56 places.">RepaintManager</a>
<a id="L65" name="L65"></a>  65 <em class="brace">{</em>
<div class="comment">
      Whether or not the RepaintManager should handle paint requests
      for top levels.</div>
<a id="L70" name="L70"></a>  70     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> HANDLE_TOP_LEVEL_PAINT;
<a id="L71" name="L71"></a>  71 
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> BUFFER_STRATEGY_NOT_SPECIFIED = 0;
<a id="L73" name="L73"></a>  73     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> BUFFER_STRATEGY_SPECIFIED_ON = 1;
<a id="L74" name="L74"></a>  74     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> BUFFER_STRATEGY_SPECIFIED_OFF = 2;
<a id="L75" name="L75"></a>  75 
<a id="L76" name="L76"></a>  76     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">short</strong> BUFFER_STRATEGY_TYPE;
<a id="L77" name="L77"></a>  77 
<div class="comment">
      Maps from GraphicsConfiguration to VolatileImage.</div>
<a id="L81" name="L81"></a>  81     <strong class="reserved">private</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a>,<a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a>&gt; volatileMap = <strong class="reserved">new</strong>
<a id="L82" name="L82"></a>  82                         <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a>,<a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a>&gt;(1);
<a id="L83" name="L83"></a>  83 
<a id="L84" name="L84"></a>  84     <em class="comment">//</em>
<a id="L85" name="L85"></a>  85     <em class="comment">// As of 1.6 Swing handles scheduling of paint events from native code.</em>
<a id="L86" name="L86"></a>  86     <em class="comment">// That is, SwingPaintEventDispatcher is invoked on the toolkit thread,</em>
<a id="L87" name="L87"></a>  87     <em class="comment">// which in turn invokes nativeAddDirtyRegion.  Because this is invoked</em>
<a id="L88" name="L88"></a>  88     <em class="comment">// from the native thread we can not invoke any public methods and so</em>
<a id="L89" name="L89"></a>  89     <em class="comment">// we introduce these added maps.  So, any time nativeAddDirtyRegion is</em>
<a id="L90" name="L90"></a>  90     <em class="comment">// invoked the region is added to hwDirtyComponents and a work request</em>
<a id="L91" name="L91"></a>  91     <em class="comment">// is scheduled.  When the work request is processed all entries in</em>
<a id="L92" name="L92"></a>  92     <em class="comment">// this map are pushed to the real map (dirtyComponents) and then</em>
<a id="L93" name="L93"></a>  93     <em class="comment">// painted with the rest of the components.</em>
<a id="L94" name="L94"></a>  94     <em class="comment">//</em>
<a id="L95" name="L95"></a>  95     <strong class="reserved">private</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; hwDirtyComponents;
<a id="L96" name="L96"></a>  96 
<a id="L97" name="L97"></a>  97     <strong class="reserved">private</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; dirtyComponents;
<a id="L98" name="L98"></a>  98     <strong class="reserved">private</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; tmpDirtyComponents;
<a id="L99" name="L99"></a>  99     <strong class="reserved">private</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; invalidComponents;
<a id="L100" name="L100"></a> 100 
<a id="L101" name="L101"></a> 101     <em class="comment">// List of Runnables that need to be processed before painting from AWT.</em>
<a id="L102" name="L102"></a> 102     <strong class="reserved">private</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt; runnableList;
<a id="L103" name="L103"></a> 103 
<a id="L104" name="L104"></a> 104     <strong class="reserved">boolean</strong>   doubleBufferingEnabled = <strong class="reserved">true</strong>;
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106     <strong class="reserved">private</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> doubleBufferMaxSize;
<a id="L107" name="L107"></a> 107 
<a id="L108" name="L108"></a> 108     <em class="comment">// Support for both the standard and volatile offscreen buffers exists to</em>
<a id="L109" name="L109"></a> 109     <em class="comment">// provide backwards compatibility for the [rare] programs which may be</em>
<a id="L110" name="L110"></a> 110     <em class="comment">// calling getOffScreenBuffer() and not expecting to get a VolatileImage.</em>
<a id="L111" name="L111"></a> 111     <em class="comment">// Swing internally is migrating to use *only* the volatile image buffer.</em>
<a id="L112" name="L112"></a> 112 
<a id="L113" name="L113"></a> 113     <em class="comment">// Support for standard offscreen buffer</em>
<a id="L114" name="L114"></a> 114     <em class="comment">//</em>
<a id="L115" name="L115"></a> 115     <a href="../S/3429.html#L1644" title="Defined at 1644 in src/javax/swing/RepaintManager.java.">DoubleBufferInfo</a> standardDoubleBuffer;
<a id="L116" name="L116"></a> 116 
<div class="comment">
      Object responsible for hanlding core paint functionality.</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">private</strong> <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> paintManager;
<a id="L121" name="L121"></a> 121 
<a id="L122" name="L122"></a> 122     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> repaintManagerKey = <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a>.<strong class="reserved">class</strong>;
<a id="L123" name="L123"></a> 123 
<a id="L124" name="L124"></a> 124     <em class="comment">// Whether or not a VolatileImage should be used for double-buffered painting</em>
<a id="L125" name="L125"></a> 125     <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> volatileImageBufferEnabled = <strong class="reserved">true</strong>;
<div class="comment">
      Type of VolatileImage which should be used for double-buffered
      painting.</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> volatileBufferType;
<div class="comment">
      Value of the system property awt.nativeDoubleBuffering.</div>
<a id="L134" name="L134"></a> 134     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> nativeDoubleBuffering;
<a id="L135" name="L135"></a> 135 
<a id="L136" name="L136"></a> 136     <em class="comment">// The maximum number of times Swing will attempt to use the VolatileImage</em>
<a id="L137" name="L137"></a> 137     <em class="comment">// buffer during a paint operation.</em>
<a id="L138" name="L138"></a> 138     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> VOLATILE_LOOP_MAX = 2;
<a id="L139" name="L139"></a> 139 
<div class="comment">
      Number of <code>beginPaint</code> that have been invoked.</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">private</strong> <strong class="reserved">int</strong> paintDepth = 0;
<a id="L144" name="L144"></a> 144 
<div class="comment">
      Type of buffer strategy to use.  Will be one of the BUFFER_STRATEGY_
      constants.</div>
<a id="L149" name="L149"></a> 149     <strong class="reserved">private</strong> <strong class="reserved">short</strong> bufferStrategyType;
<a id="L150" name="L150"></a> 150 
<a id="L151" name="L151"></a> 151     <em class="comment">//</em>
<a id="L152" name="L152"></a> 152     <em class="comment">// BufferStrategyPaintManager has the unique characteristic that it</em>
<a id="L153" name="L153"></a> 153     <em class="comment">// must deal with the buffer being lost while painting to it.  For</em>
<a id="L154" name="L154"></a> 154     <em class="comment">// example, if we paint a component and show it and the buffer has</em>
<a id="L155" name="L155"></a> 155     <em class="comment">// become lost we must repaint the whole window.  To deal with that</em>
<a id="L156" name="L156"></a> 156     <em class="comment">// the PaintManager calls into repaintRoot, and if we're still in</em>
<a id="L157" name="L157"></a> 157     <em class="comment">// the process of painting the repaintRoot field is set to the JRootPane</em>
<a id="L158" name="L158"></a> 158     <em class="comment">// and after the current JComponent.paintImmediately call finishes</em>
<a id="L159" name="L159"></a> 159     <em class="comment">// paintImmediately will be invoked on the repaintRoot.  In this</em>
<a id="L160" name="L160"></a> 160     <em class="comment">// way we don't try to show garbage to the screen.</em>
<a id="L161" name="L161"></a> 161     <em class="comment">//</em>
<div class="comment">
      True if we're in the process of painting the dirty regions.  This is
      set to true in <code>paintDirtyRegions</code>.</div>
<a id="L166" name="L166"></a> 166     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> painting;
<div class="comment">
      If the PaintManager calls into repaintRoot during painting this field
      will be set to the root.</div>
<a id="L171" name="L171"></a> 171     <strong class="reserved">private</strong> <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a>;
<a id="L172" name="L172"></a> 172 
<div class="comment">
      The Thread that has initiated painting.  If null it
      indicates painting is not currently in progress.</div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">private</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> paintThread;
<a id="L178" name="L178"></a> 178 
<div class="comment">
      Runnable used to process all repaint/revalidate requests.</div>
<a id="L182" name="L182"></a> 182     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/3429.html#L1702" title="Defined at 1702 in src/javax/swing/RepaintManager.java.">ProcessingRunnable</a> processingRunnable;
<a id="L183" name="L183"></a> 183 
<a id="L184" name="L184"></a> 184     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> JavaSecurityAccess javaSecurityAccess =
<a id="L185" name="L185"></a> 185             SharedSecrets.getJavaSecurityAccess();
<a id="L186" name="L186"></a> 186 
<div class="comment">
      Listener installed to detect display changes. When display changes,
      schedules a callback to notify all RepaintManagers of the display
      changes.</div>
<a id="L192" name="L192"></a> 192     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> DisplayChangedListener displayChangedHandler =
<a id="L193" name="L193"></a> 193             <strong class="reserved">new</strong> <a href="../S/3429.html#L1657" title="Defined at 1657 in src/javax/swing/RepaintManager.java.">DisplayChangedHandler</a>();
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L196" name="L196"></a> 196         SwingAccessor.setRepaintManagerAccessor(<strong class="reserved">new</strong> SwingAccessor.RepaintManagerAccessor() <em class="brace">{</em>
<a id="L197" name="L197"></a> 197             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L198" name="L198"></a> 198             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L1292" title="Defined at 1292 in src/javax/swing/RepaintManager.java.">addRepaintListener</a>(<a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> rm, RepaintListener l) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199                 rm.<a href="../S/3429.html#L1292" title="Defined at 1292 in src/javax/swing/RepaintManager.java.">addRepaintListener</a>(l);
<a id="L200" name="L200"></a> 200             <em class="brace">}</em>
<a id="L201" name="L201"></a> 201             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L202" name="L202"></a> 202             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L1296" title="Defined at 1296 in src/javax/swing/RepaintManager.java.">removeRepaintListener</a>(<a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> rm, RepaintListener l) <em class="brace">{</em>
<a id="L203" name="L203"></a> 203                 rm.<a href="../S/3429.html#L1296" title="Defined at 1296 in src/javax/swing/RepaintManager.java.">removeRepaintListener</a>(l);
<a id="L204" name="L204"></a> 204             <em class="brace">}</em>
<a id="L205" name="L205"></a> 205         <em class="brace">}</em>);
<a id="L206" name="L206"></a> 206 
<a id="L207" name="L207"></a> 207         volatileImageBufferEnabled = "true".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.
<a id="L208" name="L208"></a> 208                 <a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(
<a id="L209" name="L209"></a> 209                 "swing.volatileImageBufferEnabled", "true")));
<a id="L210" name="L210"></a> 210         <strong class="reserved">boolean</strong> headless = <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a>.<a href="../D/25646.html" title="Multiple defined in 2 places.">isHeadless</a>();
<a id="L211" name="L211"></a> 211         <strong class="reserved">if</strong> (volatileImageBufferEnabled &amp;&amp; headless) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212             volatileImageBufferEnabled = <strong class="reserved">false</strong>;
<a id="L213" name="L213"></a> 213         <em class="brace">}</em>
<a id="L214" name="L214"></a> 214         nativeDoubleBuffering = "true".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L215" name="L215"></a> 215                     <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("awt.nativeDoubleBuffering")));
<a id="L216" name="L216"></a> 216         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> bs = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L217" name="L217"></a> 217                           <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("swing.bufferPerWindow"));
<a id="L218" name="L218"></a> 218         <strong class="reserved">if</strong> (headless) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219             BUFFER_STRATEGY_TYPE = BUFFER_STRATEGY_SPECIFIED_OFF;
<a id="L220" name="L220"></a> 220         <em class="brace">}</em>
<a id="L221" name="L221"></a> 221         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (bs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L222" name="L222"></a> 222             BUFFER_STRATEGY_TYPE = BUFFER_STRATEGY_NOT_SPECIFIED;
<a id="L223" name="L223"></a> 223         <em class="brace">}</em>
<a id="L224" name="L224"></a> 224         <strong class="reserved">else</strong> <strong class="reserved">if</strong> ("true".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(bs)) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225             BUFFER_STRATEGY_TYPE = BUFFER_STRATEGY_SPECIFIED_ON;
<a id="L226" name="L226"></a> 226         <em class="brace">}</em>
<a id="L227" name="L227"></a> 227         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L228" name="L228"></a> 228             BUFFER_STRATEGY_TYPE = BUFFER_STRATEGY_SPECIFIED_OFF;
<a id="L229" name="L229"></a> 229         <em class="brace">}</em>
<a id="L230" name="L230"></a> 230         HANDLE_TOP_LEVEL_PAINT = "true".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L231" name="L231"></a> 231                <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("swing.handleTopLevelPaint", "true")));
<a id="L232" name="L232"></a> 232         <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a> ge = <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a>.
<a id="L233" name="L233"></a> 233                 <a href="../S/2120.html#L80" title="Defined at 80 in src/java/awt/GraphicsEnvironment.java.">getLocalGraphicsEnvironment</a>();
<a id="L234" name="L234"></a> 234         <strong class="reserved">if</strong> (ge <strong class="reserved">instanceof</strong> SunGraphicsEnvironment) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235             ((SunGraphicsEnvironment) ge).addDisplayChangedListener(
<a id="L236" name="L236"></a> 236                     displayChangedHandler);
<a id="L237" name="L237"></a> 237         <em class="brace">}</em>
<a id="L238" name="L238"></a> 238         <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a> tk = <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>();
<a id="L239" name="L239"></a> 239         <strong class="reserved">if</strong> ((tk <strong class="reserved">instanceof</strong> SunToolkit)
<a id="L240" name="L240"></a> 240                 &amp;&amp; ((SunToolkit) tk).isSwingBackbufferTranslucencySupported()) <em class="brace">{</em>
<a id="L241" name="L241"></a> 241             volatileBufferType = <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.TRANSLUCENT;
<a id="L242" name="L242"></a> 242         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L243" name="L243"></a> 243             volatileBufferType = <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.OPAQUE;
<a id="L244" name="L244"></a> 244         <em class="brace">}</em>
<a id="L245" name="L245"></a> 245     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246 
<div class="comment">
      Return the RepaintManager for the calling thread given a Component.
      @param c a Component -- unused in the default implementation, but could
               be used by an overridden version to return a different RepaintManager
               depending on the Component
      @return the RepaintManager object</div>
<a id="L255" name="L255"></a> 255     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> <a href="../R/12864.html" title="Multiple referred from 36 places.">currentManager</a>(<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256         <em class="comment">// Note: DisplayChangedRunnable passes in null as the component, so if</em>
<a id="L257" name="L257"></a> 257         <em class="comment">// component is ever used to determine the current</em>
<a id="L258" name="L258"></a> 258         <em class="comment">// RepaintManager, DisplayChangedRunnable will need to be modified</em>
<a id="L259" name="L259"></a> 259         <em class="comment">// accordingly.</em>
<a id="L260" name="L260"></a> 260         <strong class="reserved">return</strong> <a href="../D/14425.html" title="Multiple defined in 3 places.">currentManager</a>(AppContext.getAppContext());
<a id="L261" name="L261"></a> 261     <em class="brace">}</em>
<a id="L262" name="L262"></a> 262 
<div class="comment">
      Returns the RepaintManager for the specified AppContext.  If
      a RepaintManager has not been created for the specified
      AppContext this will return null.</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">static</strong> <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> <a href="../R/12864.html" title="Multiple referred from 36 places.">currentManager</a>(AppContext appContext) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> rm = (<a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a>)appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(repaintManagerKey);
<a id="L270" name="L270"></a> 270         <strong class="reserved">if</strong> (rm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271             rm = <strong class="reserved">new</strong> <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a>(BUFFER_STRATEGY_TYPE);
<a id="L272" name="L272"></a> 272             appContext.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(repaintManagerKey, rm);
<a id="L273" name="L273"></a> 273         <em class="brace">}</em>
<a id="L274" name="L274"></a> 274         <strong class="reserved">return</strong> rm;
<a id="L275" name="L275"></a> 275     <em class="brace">}</em>
<a id="L276" name="L276"></a> 276 
<div class="comment">
      Return the RepaintManager for the calling thread given a JComponent.
      <p>
     Note: This method exists for backward binary compatibility with earlier
      versions of the Swing library. It simply returns the result returned by
      {@link #currentManager(Component)}.
      @param c a JComponent -- unused
      @return the RepaintManager object</p></div>
<a id="L287" name="L287"></a> 287     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> <a href="../R/12864.html" title="Multiple referred from 36 places.">currentManager</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L288" name="L288"></a> 288         <strong class="reserved">return</strong> <a href="../D/14425.html" title="Multiple defined in 3 places.">currentManager</a>((<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L289" name="L289"></a> 289     <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<a id="L291" name="L291"></a> 291 
<div class="comment">
      Set the RepaintManager that should be used for the calling
      thread. <b>aRepaintManager</b> will become the current RepaintManager
      for the calling thread's thread group.
      @param aRepaintManager  the RepaintManager object to use</div>
<a id="L298" name="L298"></a> 298     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> setCurrentManager(<a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> aRepaintManager) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299         <strong class="reserved">if</strong> (aRepaintManager != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L300" name="L300"></a> 300             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1863" title="Defined at 1863 in src/javax/swing/SwingUtilities.java.">appContextPut</a>(repaintManagerKey, aRepaintManager);
<a id="L301" name="L301"></a> 301         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L302" name="L302"></a> 302             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1867" title="Defined at 1867 in src/javax/swing/SwingUtilities.java.">appContextRemove</a>(repaintManagerKey);
<a id="L303" name="L303"></a> 303         <em class="brace">}</em>
<a id="L304" name="L304"></a> 304     <em class="brace">}</em>
<a id="L305" name="L305"></a> 305 
<div class="comment">
      Create a new RepaintManager instance. You rarely call this constructor.
      directly. To get the default RepaintManager, use
      RepaintManager.currentManager(JComponent) (normally "this").</div>
<a id="L311" name="L311"></a> 311     <strong class="reserved">public</strong> RepaintManager() <em class="brace">{</em>
<a id="L312" name="L312"></a> 312         <em class="comment">// Because we can't know what a subclass is doing with the</em>
<a id="L313" name="L313"></a> 313         <em class="comment">// volatile image we immediately punt in subclasses.  If this</em>
<a id="L314" name="L314"></a> 314         <em class="comment">// poses a problem we'll need a more sophisticated detection algorithm,</em>
<a id="L315" name="L315"></a> 315         <em class="comment">// or API.</em>
<a id="L316" name="L316"></a> 316         <strong class="reserved">this</strong>(BUFFER_STRATEGY_SPECIFIED_OFF);
<a id="L317" name="L317"></a> 317     <em class="brace">}</em>
<a id="L318" name="L318"></a> 318 
<a id="L319" name="L319"></a> 319     <strong class="reserved">private</strong> RepaintManager(<strong class="reserved">short</strong> bufferStrategyType) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320         <em class="comment">// If native doublebuffering is being used, do NOT use</em>
<a id="L321" name="L321"></a> 321         <em class="comment">// Swing doublebuffering.</em>
<a id="L322" name="L322"></a> 322         doubleBufferingEnabled = !nativeDoubleBuffering;
<a id="L323" name="L323"></a> 323         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324             dirtyComponents = <strong class="reserved">new</strong> <a href="../S/863.html#L138" title="Defined at 138 in src/java/util/IdentityHashMap.java.">IdentityHashMap</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt;();
<a id="L325" name="L325"></a> 325             tmpDirtyComponents = <strong class="reserved">new</strong> <a href="../S/863.html#L138" title="Defined at 138 in src/java/util/IdentityHashMap.java.">IdentityHashMap</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt;();
<a id="L326" name="L326"></a> 326             <strong class="reserved">this</strong>.bufferStrategyType = bufferStrategyType;
<a id="L327" name="L327"></a> 327             hwDirtyComponents = <strong class="reserved">new</strong> <a href="../S/863.html#L138" title="Defined at 138 in src/java/util/IdentityHashMap.java.">IdentityHashMap</a>&lt;<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt;();
<a id="L328" name="L328"></a> 328         <em class="brace">}</em>
<a id="L329" name="L329"></a> 329         processingRunnable = <strong class="reserved">new</strong> <a href="../S/3429.html#L1702" title="Defined at 1702 in src/javax/swing/RepaintManager.java.">ProcessingRunnable</a>();
<a id="L330" name="L330"></a> 330     <em class="brace">}</em>
<a id="L331" name="L331"></a> 331 
<a id="L332" name="L332"></a> 332     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L1694" title="Referred from 1694 in src/javax/swing/RepaintManager.java.">displayChanged</a>() <em class="brace">{</em>
<a id="L333" name="L333"></a> 333         <a href="../D/12849.html" title="Multiple defined in 2 places.">clearImages</a>();
<a id="L334" name="L334"></a> 334     <em class="brace">}</em>
<a id="L335" name="L335"></a> 335 
<div class="comment">
      Mark the component as in need of layout and queue a runnable
      for the event dispatching thread that will validate the components
      first isValidateRoot() ancestor.
      @see JComponent#isValidateRoot
      @see #removeInvalidComponent</div>
<a id="L344" name="L344"></a> 344     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/9806.html" title="Multiple referred from 2 places.">addInvalidComponent</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> invalidComponent)
<a id="L345" name="L345"></a> 345     <em class="brace">{</em>
<a id="L346" name="L346"></a> 346         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(invalidComponent);
<a id="L347" name="L347"></a> 347         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L348" name="L348"></a> 348             delegate.<a href="../S/3429.html#L344" title="Defined at 344 in src/javax/swing/RepaintManager.java.">addInvalidComponent</a>(invalidComponent);
<a id="L349" name="L349"></a> 349             <strong class="reserved">return</strong>;
<a id="L350" name="L350"></a> 350         <em class="brace">}</em>
<a id="L351" name="L351"></a> 351         <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/3954.html#L241" title="Defined at 241 in src/javax/xml/bind/Validator.java.">validateRoot</a> =
<a id="L352" name="L352"></a> 352             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L2060" title="Defined at 2060 in src/javax/swing/SwingUtilities.java.">getValidateRoot</a>(invalidComponent, <strong class="reserved">true</strong>);
<a id="L353" name="L353"></a> 353 
<a id="L354" name="L354"></a> 354         <strong class="reserved">if</strong> (<a href="../S/3954.html#L241" title="Defined at 241 in src/javax/xml/bind/Validator.java.">validateRoot</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355             <strong class="reserved">return</strong>;
<a id="L356" name="L356"></a> 356         <em class="brace">}</em>
<a id="L357" name="L357"></a> 357 
<div class="comment">
 Lazily create the invalidateComponents vector and add the
          validateRoot if it's not there already.  If this validateRoot
          is already in the vector, we're done.</div>
<a id="L362" name="L362"></a> 362         <strong class="reserved">if</strong> (invalidComponents == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363             invalidComponents = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt;();
<a id="L364" name="L364"></a> 364         <em class="brace">}</em>
<a id="L365" name="L365"></a> 365         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L366" name="L366"></a> 366             <strong class="reserved">int</strong> n = invalidComponents.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L367" name="L367"></a> 367             <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368                 <strong class="reserved">if</strong>(<a href="../S/3954.html#L241" title="Defined at 241 in src/javax/xml/bind/Validator.java.">validateRoot</a> == invalidComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i)) <em class="brace">{</em>
<a id="L369" name="L369"></a> 369                     <strong class="reserved">return</strong>;
<a id="L370" name="L370"></a> 370                 <em class="brace">}</em>
<a id="L371" name="L371"></a> 371             <em class="brace">}</em>
<a id="L372" name="L372"></a> 372         <em class="brace">}</em>
<a id="L373" name="L373"></a> 373         invalidComponents.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/3954.html#L241" title="Defined at 241 in src/javax/xml/bind/Validator.java.">validateRoot</a>);
<a id="L374" name="L374"></a> 374 
<a id="L375" name="L375"></a> 375         <em class="comment">// Queue a Runnable to invoke paintDirtyRegions and</em>
<a id="L376" name="L376"></a> 376         <em class="comment">// validateInvalidComponents.</em>
<a id="L377" name="L377"></a> 377         <a href="../S/3429.html#L1439" title="Defined at 1439 in src/javax/swing/RepaintManager.java.">scheduleProcessingRunnable</a>(SunToolkit.targetToAppContext(invalidComponent));
<a id="L378" name="L378"></a> 378     <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<a id="L380" name="L380"></a> 380 
<div class="comment">
      Remove a component from the list of invalid components.
      @see #addInvalidComponent</div>
<a id="L386" name="L386"></a> 386     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/25989.html" title="Multiple referred from 2 places.">removeInvalidComponent</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>) <em class="brace">{</em>
<a id="L387" name="L387"></a> 387         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>);
<a id="L388" name="L388"></a> 388         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L389" name="L389"></a> 389             delegate.<a href="../S/3429.html#L386" title="Defined at 386 in src/javax/swing/RepaintManager.java.">removeInvalidComponent</a>(<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>);
<a id="L390" name="L390"></a> 390             <strong class="reserved">return</strong>;
<a id="L391" name="L391"></a> 391         <em class="brace">}</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong>(invalidComponents != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = invalidComponents.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>);
<a id="L394" name="L394"></a> 394             <strong class="reserved">if</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395                 invalidComponents.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L396" name="L396"></a> 396             <em class="brace">}</em>
<a id="L397" name="L397"></a> 397         <em class="brace">}</em>
<a id="L398" name="L398"></a> 398     <em class="brace">}</em>
<a id="L399" name="L399"></a> 399 
<a id="L400" name="L400"></a> 400 
<div class="comment">
      Add a component in the list of components that should be refreshed.
      If <i>c</i> already has a dirty region, the rectangle <i>(x,y,w,h)</i>
      will be unioned with the region that should be redrawn.
      @see JComponent#repaint</div>
<a id="L408" name="L408"></a> 408     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/9692.html" title="Multiple referred from 4 places.">addDirtyRegion0</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<div class="comment">
 Special cases we don't have to bother with.</div>
<a id="L411" name="L411"></a> 411         <strong class="reserved">if</strong> ((w &lt;= 0) || (h &lt;= 0) || (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412             <strong class="reserved">return</strong>;
<a id="L413" name="L413"></a> 413         <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415         <strong class="reserved">if</strong> ((<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &lt;= 0) || (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &lt;= 0)) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">return</strong>;
<a id="L417" name="L417"></a> 417         <em class="brace">}</em>
<a id="L418" name="L418"></a> 418 
<a id="L419" name="L419"></a> 419         <strong class="reserved">if</strong> (<a href="../S/3429.html#L607" title="Defined at 607 in src/javax/swing/RepaintManager.java.">extendDirtyRegion</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h)) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420             <em class="comment">// Component was already marked as dirty, region has been</em>
<a id="L421" name="L421"></a> 421             <em class="comment">// extended, no need to continue.</em>
<a id="L422" name="L422"></a> 422             <strong class="reserved">return</strong>;
<a id="L423" name="L423"></a> 423         <em class="brace">}</em>
<a id="L424" name="L424"></a> 424 
<div class="comment">
 Make sure that c and all it ancestors (up to an Applet or
          Window) are visible.  This loop has the same effect as
          checking c.isShowing() (and note that it's still possible
          that c is completely obscured by an opaque ancestor in
          the specified rectangle).</div>
<a id="L431" name="L431"></a> 431         <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> = <strong class="reserved">null</strong>;
<a id="L432" name="L432"></a> 432 
<a id="L433" name="L433"></a> 433         <em class="comment">// Note: We can't synchronize around this, Frame.getExtendedState</em>
<a id="L434" name="L434"></a> 434         <em class="comment">// is synchronized so that if we were to synchronize around this</em>
<a id="L435" name="L435"></a> 435         <em class="comment">// it could lead to the possibility of getting locks out</em>
<a id="L436" name="L436"></a> 436         <em class="comment">// of order and deadlocking.</em>
<a id="L437" name="L437"></a> 437         <strong class="reserved">for</strong> (<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> p = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>; p != <strong class="reserved">null</strong>; p = p.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>()) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438             <strong class="reserved">if</strong> (!p.<a href="../D/26487.html" title="Multiple defined in 29 places.">isVisible</a>() || (p.<a href="../D/21465.html" title="Multiple defined in 3 places.">getPeer</a>() == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                 <strong class="reserved">return</strong>;
<a id="L440" name="L440"></a> 440             <em class="brace">}</em>
<a id="L441" name="L441"></a> 441             <strong class="reserved">if</strong> ((p <strong class="reserved">instanceof</strong> <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>) || (p <strong class="reserved">instanceof</strong> <a href="../S/1457.html#L50" title="Defined at 50 in src/java/applet/Applet.java.">Applet</a>)) <em class="brace">{</em>
<a id="L442" name="L442"></a> 442                 <em class="comment">// Iconified frames are still visible!</em>
<a id="L443" name="L443"></a> 443                 <strong class="reserved">if</strong> (p <strong class="reserved">instanceof</strong> <a href="../S/2118.html#L135" title="Defined at 135 in src/java/awt/Frame.java.">Frame</a> &amp;&amp;
<a id="L444" name="L444"></a> 444                         (((<a href="../S/2118.html#L135" title="Defined at 135 in src/java/awt/Frame.java.">Frame</a>)p).<a href="../D/18949.html" title="Multiple defined in 2 places.">getExtendedState</a>() &amp; <a href="../S/2118.html#L135" title="Defined at 135 in src/java/awt/Frame.java.">Frame</a>.ICONIFIED) ==
<a id="L445" name="L445"></a> 445                                     <a href="../S/2118.html#L135" title="Defined at 135 in src/java/awt/Frame.java.">Frame</a>.ICONIFIED) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                     <strong class="reserved">return</strong>;
<a id="L447" name="L447"></a> 447                 <em class="brace">}</em>
<a id="L448" name="L448"></a> 448                 <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> = p;
<a id="L449" name="L449"></a> 449                 <strong class="reserved">break</strong>;
<a id="L450" name="L450"></a> 450             <em class="brace">}</em>
<a id="L451" name="L451"></a> 451         <em class="brace">}</em>
<a id="L452" name="L452"></a> 452 
<a id="L453" name="L453"></a> 453         <strong class="reserved">if</strong> (<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> == <strong class="reserved">null</strong>) <strong class="reserved">return</strong>;
<a id="L454" name="L454"></a> 454 
<a id="L455" name="L455"></a> 455         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456             <strong class="reserved">if</strong> (<a href="../S/3429.html#L607" title="Defined at 607 in src/javax/swing/RepaintManager.java.">extendDirtyRegion</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h)) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457                 <em class="comment">// In between last check and this check another thread</em>
<a id="L458" name="L458"></a> 458                 <em class="comment">// queued up runnable, can bail here.</em>
<a id="L459" name="L459"></a> 459                 <strong class="reserved">return</strong>;
<a id="L460" name="L460"></a> 460             <em class="brace">}</em>
<a id="L461" name="L461"></a> 461             dirtyComponents.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h));
<a id="L462" name="L462"></a> 462         <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<a id="L464" name="L464"></a> 464         <em class="comment">// Queue a Runnable to invoke paintDirtyRegions and</em>
<a id="L465" name="L465"></a> 465         <em class="comment">// validateInvalidComponents.</em>
<a id="L466" name="L466"></a> 466         <a href="../S/3429.html#L1439" title="Defined at 1439 in src/javax/swing/RepaintManager.java.">scheduleProcessingRunnable</a>(SunToolkit.targetToAppContext(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>));
<a id="L467" name="L467"></a> 467     <em class="brace">}</em>
<a id="L468" name="L468"></a> 468 
<div class="comment">
      Add a component in the list of components that should be refreshed.
      If <i>c</i> already has a dirty region, the rectangle <i>(x,y,w,h)</i>
      will be unioned with the region that should be redrawn.
      @param c Component to repaint, null results in nothing happening.
      @param x X coordinate of the region to repaint
      @param y Y coordinate of the region to repaint
      @param w Width of the region to repaint
      @param h Height of the region to repaint
      @see JComponent#repaint</div>
<a id="L481" name="L481"></a> 481     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9691.html" title="Multiple referred from 9 places.">addDirtyRegion</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h)
<a id="L482" name="L482"></a> 482     <em class="brace">{</em>
<a id="L483" name="L483"></a> 483         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L484" name="L484"></a> 484         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L485" name="L485"></a> 485             delegate.<a href="../D/10757.html" title="Multiple defined in 3 places.">addDirtyRegion</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h);
<a id="L486" name="L486"></a> 486             <strong class="reserved">return</strong>;
<a id="L487" name="L487"></a> 487         <em class="brace">}</em>
<a id="L488" name="L488"></a> 488         <a href="../S/3429.html#L408" title="Defined at 408 in src/javax/swing/RepaintManager.java.">addDirtyRegion0</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h);
<a id="L489" name="L489"></a> 489     <em class="brace">}</em>
<a id="L490" name="L490"></a> 490 
<div class="comment">
      Adds <code>window</code> to the list of <code>Component</code>s that
      need to be repainted.
      @param window Window to repaint, null results in nothing happening.
      @param x X coordinate of the region to repaint
      @param y Y coordinate of the region to repaint
      @param w Width of the region to repaint
      @param h Height of the region to repaint
      @see JFrame#repaint
      @see JWindow#repaint
      @see JDialog#repaint
      @since 1.6</div>
<a id="L505" name="L505"></a> 505     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9691.html" title="Multiple referred from 9 places.">addDirtyRegion</a>(<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a> window, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506         <a href="../S/3429.html#L408" title="Defined at 408 in src/javax/swing/RepaintManager.java.">addDirtyRegion0</a>(window, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h);
<a id="L507" name="L507"></a> 507     <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<div class="comment">
      Adds <code>applet</code> to the list of <code>Component</code>s that
      need to be repainted.
      @param applet Applet to repaint, null results in nothing happening.
      @param x X coordinate of the region to repaint
      @param y Y coordinate of the region to repaint
      @param w Width of the region to repaint
      @param h Height of the region to repaint
      @see JApplet#repaint
      @since 1.6</div>
<a id="L521" name="L521"></a> 521     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9691.html" title="Multiple referred from 9 places.">addDirtyRegion</a>(<a href="../S/1457.html#L50" title="Defined at 50 in src/java/applet/Applet.java.">Applet</a> applet, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522         <a href="../S/3429.html#L408" title="Defined at 408 in src/javax/swing/RepaintManager.java.">addDirtyRegion0</a>(applet, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h);
<a id="L523" name="L523"></a> 523     <em class="brace">}</em>
<a id="L524" name="L524"></a> 524 
<a id="L525" name="L525"></a> 525     <strong class="reserved">void</strong> <a href="../S/3429.html#L1729" title="Referred from 1729 in src/javax/swing/RepaintManager.java.">scheduleHeavyWeightPaints</a>() <em class="brace">{</em>
<a id="L526" name="L526"></a> 526         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; hws;
<a id="L527" name="L527"></a> 527 
<a id="L528" name="L528"></a> 528         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529             <strong class="reserved">if</strong> (hwDirtyComponents.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0) <em class="brace">{</em>
<a id="L530" name="L530"></a> 530                 <strong class="reserved">return</strong>;
<a id="L531" name="L531"></a> 531             <em class="brace">}</em>
<a id="L532" name="L532"></a> 532             hws = hwDirtyComponents;
<a id="L533" name="L533"></a> 533             hwDirtyComponents =  <strong class="reserved">new</strong> <a href="../S/863.html#L138" title="Defined at 138 in src/java/util/IdentityHashMap.java.">IdentityHashMap</a>&lt;<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt;();
<a id="L534" name="L534"></a> 534         <em class="brace">}</em>
<a id="L535" name="L535"></a> 535         <strong class="reserved">for</strong> (<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> hw : hws.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>()) <em class="brace">{</em>
<a id="L536" name="L536"></a> 536             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a> = hws.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(hw);
<a id="L537" name="L537"></a> 537             <strong class="reserved">if</strong> (hw <strong class="reserved">instanceof</strong> <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538                 <a href="../D/10757.html" title="Multiple defined in 3 places.">addDirtyRegion</a>((<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>)hw, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.y,
<a id="L539" name="L539"></a> 539                                <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L540" name="L540"></a> 540             <em class="brace">}</em>
<a id="L541" name="L541"></a> 541             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (hw <strong class="reserved">instanceof</strong> <a href="../S/1457.html#L50" title="Defined at 50 in src/java/applet/Applet.java.">Applet</a>) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542                 <a href="../D/10757.html" title="Multiple defined in 3 places.">addDirtyRegion</a>((<a href="../S/1457.html#L50" title="Defined at 50 in src/java/applet/Applet.java.">Applet</a>)hw, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.y,
<a id="L543" name="L543"></a> 543                                <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L544" name="L544"></a> 544             <em class="brace">}</em>
<a id="L545" name="L545"></a> 545             <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// SwingHeavyWeight</em>
<a id="L546" name="L546"></a> 546                 <a href="../S/3429.html#L408" title="Defined at 408 in src/javax/swing/RepaintManager.java.">addDirtyRegion0</a>(hw, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.y,
<a id="L547" name="L547"></a> 547                                 <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L548" name="L548"></a> 548             <em class="brace">}</em>
<a id="L549" name="L549"></a> 549         <em class="brace">}</em>
<a id="L550" name="L550"></a> 550     <em class="brace">}</em>
<a id="L551" name="L551"></a> 551 
<a id="L552" name="L552"></a> 552     <em class="comment">//</em>
<a id="L553" name="L553"></a> 553     <em class="comment">// This is called from the toolkit thread when a native expose is</em>
<a id="L554" name="L554"></a> 554     <em class="comment">// received.</em>
<a id="L555" name="L555"></a> 555     <em class="comment">//</em>
<a id="L556" name="L556"></a> 556     <strong class="reserved">void</strong> <a href="../R/23453.html" title="Multiple referred from 2 places.">nativeAddDirtyRegion</a>(AppContext appContext, <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>,
<a id="L557" name="L557"></a> 557                               <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">if</strong> (w &gt; 0 &amp;&amp; h &gt; 0) <em class="brace">{</em>
<a id="L559" name="L559"></a> 559             <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L560" name="L560"></a> 560                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a> = hwDirtyComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L561" name="L561"></a> 561                 <strong class="reserved">if</strong> (<a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L562" name="L562"></a> 562                     hwDirtyComponents.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h));
<a id="L563" name="L563"></a> 563                 <em class="brace">}</em>
<a id="L564" name="L564"></a> 564                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L565" name="L565"></a> 565                     hwDirtyComponents.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L517" title="Defined at 517 in src/javax/swing/SwingUtilities.java.">computeUnion</a>(
<a id="L566" name="L566"></a> 566                                               <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>));
<a id="L567" name="L567"></a> 567                 <em class="brace">}</em>
<a id="L568" name="L568"></a> 568             <em class="brace">}</em>
<a id="L569" name="L569"></a> 569             <a href="../S/3429.html#L1439" title="Defined at 1439 in src/javax/swing/RepaintManager.java.">scheduleProcessingRunnable</a>(appContext);
<a id="L570" name="L570"></a> 570         <em class="brace">}</em>
<a id="L571" name="L571"></a> 571     <em class="brace">}</em>
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573     <em class="comment">//</em>
<a id="L574" name="L574"></a> 574     <em class="comment">// This is called from the toolkit thread when awt needs to run a</em>
<a id="L575" name="L575"></a> 575     <em class="comment">// Runnable before we paint.</em>
<a id="L576" name="L576"></a> 576     <em class="comment">//</em>
<a id="L577" name="L577"></a> 577     <strong class="reserved">void</strong> <a href="../S/3120.html#L89" title="Referred from 89 in src/javax/swing/SwingPaintEventDispatcher.java.">nativeQueueSurfaceDataRunnable</a>(AppContext appContext,
<a id="L578" name="L578"></a> 578                                         <strong class="reserved">final</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">final</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> r)
<a id="L579" name="L579"></a> 579     <em class="brace">{</em>
<a id="L580" name="L580"></a> 580         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L581" name="L581"></a> 581             <strong class="reserved">if</strong> (runnableList == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582                 runnableList = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt;();
<a id="L583" name="L583"></a> 583             <em class="brace">}</em>
<a id="L584" name="L584"></a> 584             runnableList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L585" name="L585"></a> 585                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L586" name="L586"></a> 586                     <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> stack = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L587" name="L587"></a> 587                     <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc =
<a id="L588" name="L588"></a> 588                         AWTAccessor.getComponentAccessor().<a href="../D/16722.html" title="Multiple defined in 5 places.">getAccessControlContext</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L589" name="L589"></a> 589                     javaSecurityAccess.<a href="../D/15040.html" title="Multiple defined in 2 places.">doIntersectionPrivilege</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L590" name="L590"></a> 590                         <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L591" name="L591"></a> 591                             r.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L592" name="L592"></a> 592                             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L593" name="L593"></a> 593                         <em class="brace">}</em>
<a id="L594" name="L594"></a> 594                     <em class="brace">}</em>, stack, acc);
<a id="L595" name="L595"></a> 595                 <em class="brace">}</em>
<a id="L596" name="L596"></a> 596             <em class="brace">}</em>);
<a id="L597" name="L597"></a> 597         <em class="brace">}</em>
<a id="L598" name="L598"></a> 598         <a href="../S/3429.html#L1439" title="Defined at 1439 in src/javax/swing/RepaintManager.java.">scheduleProcessingRunnable</a>(appContext);
<a id="L599" name="L599"></a> 599     <em class="brace">}</em>
<a id="L600" name="L600"></a> 600 
<div class="comment">
      Extends the dirty region for the specified component to include
      the new region.
      @return false if <code>c</code> is not yet marked dirty.</div>
<a id="L607" name="L607"></a> 607     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/14180.html" title="Multiple referred from 2 places.">extendDirtyRegion</a>(
<a id="L608" name="L608"></a> 608         <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r = dirtyComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L610" name="L610"></a> 610         <strong class="reserved">if</strong> (r != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L611" name="L611"></a> 611             <em class="comment">// A non-null r implies c is already marked as dirty,</em>
<a id="L612" name="L612"></a> 612             <em class="comment">// and that the parent is valid. Therefore we can</em>
<a id="L613" name="L613"></a> 613             <em class="comment">// just union the rect and bail.</em>
<a id="L614" name="L614"></a> 614             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L517" title="Defined at 517 in src/javax/swing/SwingUtilities.java.">computeUnion</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h, r);
<a id="L615" name="L615"></a> 615             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L616" name="L616"></a> 616         <em class="brace">}</em>
<a id="L617" name="L617"></a> 617         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L618" name="L618"></a> 618     <em class="brace">}</em>
<a id="L619" name="L619"></a> 619 
<div class="comment">
 Return the current dirty region for a component.
       Return an empty rectangle if the component is not
       dirty.</div>
<a id="L624" name="L624"></a> 624     <strong class="reserved">public</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/16177.html" title="Multiple referred from 4 places.">getDirtyRegion</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> aComponent) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(aComponent);
<a id="L626" name="L626"></a> 626         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L627" name="L627"></a> 627             <strong class="reserved">return</strong> delegate.<a href="../S/3429.html#L624" title="Defined at 624 in src/javax/swing/RepaintManager.java.">getDirtyRegion</a>(aComponent);
<a id="L628" name="L628"></a> 628         <em class="brace">}</em>
<a id="L629" name="L629"></a> 629         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r;
<a id="L630" name="L630"></a> 630         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L631" name="L631"></a> 631             r = dirtyComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(aComponent);
<a id="L632" name="L632"></a> 632         <em class="brace">}</em>
<a id="L633" name="L633"></a> 633         <strong class="reserved">if</strong>(r == <strong class="reserved">null</strong>)
<a id="L634" name="L634"></a> 634             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(0,0,0,0);
<a id="L635" name="L635"></a> 635         <strong class="reserved">else</strong>
<a id="L636" name="L636"></a> 636             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(r);
<a id="L637" name="L637"></a> 637     <em class="brace">}</em>
<a id="L638" name="L638"></a> 638 
<div class="comment">
      Mark a component completely dirty. <b>aComponent</b> will be
      completely painted during the next paintDirtyRegions() call.</div>
<a id="L643" name="L643"></a> 643     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L646" title="Referred from 646 in src/javax/swing/RepaintManager.java.">markCompletelyDirty</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> aComponent) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(aComponent);
<a id="L645" name="L645"></a> 645         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646             delegate.<a href="../S/3429.html#L643" title="Defined at 643 in src/javax/swing/RepaintManager.java.">markCompletelyDirty</a>(aComponent);
<a id="L647" name="L647"></a> 647             <strong class="reserved">return</strong>;
<a id="L648" name="L648"></a> 648         <em class="brace">}</em>
<a id="L649" name="L649"></a> 649         <a href="../D/10757.html" title="Multiple defined in 3 places.">addDirtyRegion</a>(aComponent,0,0,<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE,<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L650" name="L650"></a> 650     <em class="brace">}</em>
<a id="L651" name="L651"></a> 651 
<div class="comment">
      Mark a component completely clean. <b>aComponent</b> will not
      get painted during the next paintDirtyRegions() call.</div>
<a id="L656" name="L656"></a> 656     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23096.html" title="Multiple referred from 6 places.">markCompletelyClean</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> aComponent) <em class="brace">{</em>
<a id="L657" name="L657"></a> 657         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(aComponent);
<a id="L658" name="L658"></a> 658         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659             delegate.<a href="../S/3429.html#L656" title="Defined at 656 in src/javax/swing/RepaintManager.java.">markCompletelyClean</a>(aComponent);
<a id="L660" name="L660"></a> 660             <strong class="reserved">return</strong>;
<a id="L661" name="L661"></a> 661         <em class="brace">}</em>
<a id="L662" name="L662"></a> 662         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L663" name="L663"></a> 663                 dirtyComponents.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(aComponent);
<a id="L664" name="L664"></a> 664         <em class="brace">}</em>
<a id="L665" name="L665"></a> 665     <em class="brace">}</em>
<a id="L666" name="L666"></a> 666 
<div class="comment">
      Convenience method that returns true if <b>aComponent</b> will be completely
      painted during the next paintDirtyRegions(). If computing dirty regions is
      expensive for your component, use this method and avoid computing dirty region
      if it return true.</div>
<a id="L673" name="L673"></a> 673     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/3429.html#L676" title="Referred from 676 in src/javax/swing/RepaintManager.java.">isCompletelyDirty</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> aComponent) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(aComponent);
<a id="L675" name="L675"></a> 675         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676             <strong class="reserved">return</strong> delegate.<a href="../S/3429.html#L673" title="Defined at 673 in src/javax/swing/RepaintManager.java.">isCompletelyDirty</a>(aComponent);
<a id="L677" name="L677"></a> 677         <em class="brace">}</em>
<a id="L678" name="L678"></a> 678         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r;
<a id="L679" name="L679"></a> 679 
<a id="L680" name="L680"></a> 680         r = <a href="../S/3429.html#L624" title="Defined at 624 in src/javax/swing/RepaintManager.java.">getDirtyRegion</a>(aComponent);
<a id="L681" name="L681"></a> 681         <strong class="reserved">if</strong>(r.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> == <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE &amp;&amp;
<a id="L682" name="L682"></a> 682            r.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> == <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE)
<a id="L683" name="L683"></a> 683             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L684" name="L684"></a> 684         <strong class="reserved">else</strong>
<a id="L685" name="L685"></a> 685             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L686" name="L686"></a> 686     <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<a id="L688" name="L688"></a> 688 
<div class="comment">
      Validate all of the components that have been marked invalid.
      @see #addInvalidComponent</div>
<a id="L693" name="L693"></a> 693     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L1731" title="Referred from 1731 in src/javax/swing/RepaintManager.java.">validateInvalidComponents</a>() <em class="brace">{</em>
<a id="L694" name="L694"></a> 694         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; ic;
<a id="L695" name="L695"></a> 695         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696             <strong class="reserved">if</strong> (invalidComponents == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L697" name="L697"></a> 697                 <strong class="reserved">return</strong>;
<a id="L698" name="L698"></a> 698             <em class="brace">}</em>
<a id="L699" name="L699"></a> 699             ic = invalidComponents;
<a id="L700" name="L700"></a> 700             invalidComponents = <strong class="reserved">null</strong>;
<a id="L701" name="L701"></a> 701         <em class="brace">}</em>
<a id="L702" name="L702"></a> 702         <strong class="reserved">int</strong> n = ic.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L703" name="L703"></a> 703         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704             <strong class="reserved">final</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = ic.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L705" name="L705"></a> 705             <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> stack = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L706" name="L706"></a> 706             <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc =
<a id="L707" name="L707"></a> 707                 AWTAccessor.getComponentAccessor().<a href="../D/16722.html" title="Multiple defined in 5 places.">getAccessControlContext</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L708" name="L708"></a> 708             javaSecurityAccess.<a href="../D/15040.html" title="Multiple defined in 2 places.">doIntersectionPrivilege</a>(
<a id="L709" name="L709"></a> 709                 <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L710" name="L710"></a> 710                     <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L711" name="L711"></a> 711                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>();
<a id="L712" name="L712"></a> 712                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L713" name="L713"></a> 713                     <em class="brace">}</em>
<a id="L714" name="L714"></a> 714                 <em class="brace">}</em>, stack, acc);
<a id="L715" name="L715"></a> 715         <em class="brace">}</em>
<a id="L716" name="L716"></a> 716     <em class="brace">}</em>
<a id="L717" name="L717"></a> 717 
<a id="L718" name="L718"></a> 718 
<div class="comment">
      This is invoked to process paint requests.  It's needed
      for backward compatibility in so far as RepaintManager would previously
      not see paint requests for top levels, so, we have to make sure
      a subclass correctly paints any dirty top levels.</div>
<a id="L725" name="L725"></a> 725     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L1732" title="Referred from 1732 in src/javax/swing/RepaintManager.java.">prePaintDirtyRegions</a>() <em class="brace">{</em>
<a id="L726" name="L726"></a> 726         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; dirtyComponents;
<a id="L727" name="L727"></a> 727         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>&gt; runnableList;
<a id="L728" name="L728"></a> 728         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L729" name="L729"></a> 729             dirtyComponents = <strong class="reserved">this</strong>.dirtyComponents;
<a id="L730" name="L730"></a> 730             runnableList = <strong class="reserved">this</strong>.runnableList;
<a id="L731" name="L731"></a> 731             <strong class="reserved">this</strong>.runnableList = <strong class="reserved">null</strong>;
<a id="L732" name="L732"></a> 732         <em class="brace">}</em>
<a id="L733" name="L733"></a> 733         <strong class="reserved">if</strong> (runnableList != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L734" name="L734"></a> 734             <strong class="reserved">for</strong> (<a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnable : runnableList) <em class="brace">{</em>
<a id="L735" name="L735"></a> 735                 runnable.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L736" name="L736"></a> 736             <em class="brace">}</em>
<a id="L737" name="L737"></a> 737         <em class="brace">}</em>
<a id="L738" name="L738"></a> 738         <a href="../D/28785.html" title="Multiple defined in 2 places.">paintDirtyRegions</a>();
<a id="L739" name="L739"></a> 739         <strong class="reserved">if</strong> (dirtyComponents.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L740" name="L740"></a> 740             <em class="comment">// This'll only happen if a subclass isn't correctly dealing</em>
<a id="L741" name="L741"></a> 741             <em class="comment">// with toplevels.</em>
<a id="L742" name="L742"></a> 742             <a href="../D/28785.html" title="Multiple defined in 2 places.">paintDirtyRegions</a>(dirtyComponents);
<a id="L743" name="L743"></a> 743         <em class="brace">}</em>
<a id="L744" name="L744"></a> 744     <em class="brace">}</em>
<a id="L745" name="L745"></a> 745 
<a id="L746" name="L746"></a> 746     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L869" title="Referred from 869 in src/javax/swing/RepaintManager.java.">updateWindows</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; dirtyComponents) <em class="brace">{</em>
<a id="L747" name="L747"></a> 747         <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a> toolkit = <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>();
<a id="L748" name="L748"></a> 748         <strong class="reserved">if</strong> (!(toolkit <strong class="reserved">instanceof</strong> SunToolkit &amp;&amp;
<a id="L749" name="L749"></a> 749               ((SunToolkit)toolkit).needUpdateWindow()))
<a id="L750" name="L750"></a> 750         <em class="brace">{</em>
<a id="L751" name="L751"></a> 751             <strong class="reserved">return</strong>;
<a id="L752" name="L752"></a> 752         <em class="brace">}</em>
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>&gt; <a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>&gt;();
<a id="L755" name="L755"></a> 755         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; dirtyComps = dirtyComponents.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>();
<a id="L756" name="L756"></a> 756         <strong class="reserved">for</strong> (<a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; it = dirtyComps.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>(); it.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>();) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757             <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a> = it.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L758" name="L758"></a> 758             <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a> window = <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a> <strong class="reserved">instanceof</strong> <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a> ?
<a id="L759" name="L759"></a> 759                 (<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>)<a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a> :
<a id="L760" name="L760"></a> 760                 <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L134" title="Defined at 134 in src/javax/swing/SwingUtilities.java.">getWindowAncestor</a>(<a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>);
<a id="L761" name="L761"></a> 761             <strong class="reserved">if</strong> (window != <strong class="reserved">null</strong> &amp;&amp;
<a id="L762" name="L762"></a> 762                 !window.<a href="../D/25996.html" title="Multiple defined in 14 places.">isOpaque</a>())
<a id="L763" name="L763"></a> 763             <em class="brace">{</em>
<a id="L764" name="L764"></a> 764                 <a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(window);
<a id="L765" name="L765"></a> 765             <em class="brace">}</em>
<a id="L766" name="L766"></a> 766         <em class="brace">}</em>
<a id="L767" name="L767"></a> 767 
<a id="L768" name="L768"></a> 768         <strong class="reserved">for</strong> (<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a> window : <a href="../S/6727.html#L5" title="Defined at 5 in src/com/sun/java/swing/plaf/windows/resources/windows.java.">windows</a>) <em class="brace">{</em>
<a id="L769" name="L769"></a> 769             AWTAccessor.getWindowAccessor().<a href="../D/36249.html" title="Multiple defined in 2 places.">updateWindow</a>(window);
<a id="L770" name="L770"></a> 770         <em class="brace">}</em>
<a id="L771" name="L771"></a> 771     <em class="brace">}</em>
<a id="L772" name="L772"></a> 772 
<a id="L773" name="L773"></a> 773     <strong class="reserved">boolean</strong> <a href="../R/21853.html" title="Multiple referred from 6 places.">isPainting</a>() <em class="brace">{</em>
<a id="L774" name="L774"></a> 774         <strong class="reserved">return</strong> painting;
<a id="L775" name="L775"></a> 775     <em class="brace">}</em>
<a id="L776" name="L776"></a> 776 
<div class="comment">
      Paint all of the components that have been marked dirty.
      @see #addDirtyRegion</div>
<a id="L782" name="L782"></a> 782     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24217.html" title="Multiple referred from 3 places.">paintDirtyRegions</a>() <em class="brace">{</em>
<a id="L783" name="L783"></a> 783         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>  <em class="comment">// swap for thread safety</em>
<a id="L784" name="L784"></a> 784             <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; tmp = tmpDirtyComponents;
<a id="L785" name="L785"></a> 785             tmpDirtyComponents = dirtyComponents;
<a id="L786" name="L786"></a> 786             dirtyComponents = tmp;
<a id="L787" name="L787"></a> 787             dirtyComponents.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L788" name="L788"></a> 788         <em class="brace">}</em>
<a id="L789" name="L789"></a> 789         <a href="../D/28785.html" title="Multiple defined in 2 places.">paintDirtyRegions</a>(tmpDirtyComponents);
<a id="L790" name="L790"></a> 790     <em class="brace">}</em>
<a id="L791" name="L791"></a> 791 
<a id="L792" name="L792"></a> 792     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/24217.html" title="Multiple referred from 3 places.">paintDirtyRegions</a>(
<a id="L793" name="L793"></a> 793         <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; tmpDirtyComponents)
<a id="L794" name="L794"></a> 794     <em class="brace">{</em>
<a id="L795" name="L795"></a> 795         <strong class="reserved">if</strong> (tmpDirtyComponents.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L796" name="L796"></a> 796             <strong class="reserved">return</strong>;
<a id="L797" name="L797"></a> 797         <em class="brace">}</em>
<a id="L798" name="L798"></a> 798 
<a id="L799" name="L799"></a> 799         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; roots =
<a id="L800" name="L800"></a> 800             <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt;(tmpDirtyComponents.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L801" name="L801"></a> 801         <strong class="reserved">for</strong> (<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a> : tmpDirtyComponents.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>()) <em class="brace">{</em>
<a id="L802" name="L802"></a> 802             <a href="../S/3429.html#L897" title="Defined at 897 in src/javax/swing/RepaintManager.java.">collectDirtyComponents</a>(tmpDirtyComponents, <a href="../S/2499.html#L96" title="Defined at 96 in src/java/rmi/dgc/DGC.java.">dirty</a>, roots);
<a id="L803" name="L803"></a> 803         <em class="brace">}</em>
<a id="L804" name="L804"></a> 804 
<a id="L805" name="L805"></a> 805         <strong class="reserved">final</strong> <a href="../S/1089.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicInteger.java.">AtomicInteger</a> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = <strong class="reserved">new</strong> <a href="../S/1089.html#L54" title="Defined at 54 in src/java/util/concurrent/atomic/AtomicInteger.java.">AtomicInteger</a>(roots.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L806" name="L806"></a> 806         painting = <strong class="reserved">true</strong>;
<a id="L807" name="L807"></a> 807         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L808" name="L808"></a> 808             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j=0 ; j &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(); j++) <em class="brace">{</em>
<a id="L809" name="L809"></a> 809                 <strong class="reserved">final</strong> <strong class="reserved">int</strong> i = j;
<a id="L810" name="L810"></a> 810                 <strong class="reserved">final</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> dirtyComponent = roots.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(j);
<a id="L811" name="L811"></a> 811                 <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> stack = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L812" name="L812"></a> 812                 <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc =
<a id="L813" name="L813"></a> 813                     AWTAccessor.getComponentAccessor().<a href="../D/16722.html" title="Multiple defined in 5 places.">getAccessControlContext</a>(dirtyComponent);
<a id="L814" name="L814"></a> 814                 javaSecurityAccess.<a href="../D/15040.html" title="Multiple defined in 2 places.">doIntersectionPrivilege</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L815" name="L815"></a> 815                     <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L816" name="L816"></a> 816                         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> rect = tmpDirtyComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(dirtyComponent);
<a id="L817" name="L817"></a> 817                         <em class="comment">// Sometimes when RepaintManager is changed during the painting</em>
<a id="L818" name="L818"></a> 818                         <em class="comment">// we may get null here, see #6995769 for details</em>
<a id="L819" name="L819"></a> 819                         <strong class="reserved">if</strong> (rect == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L820" name="L820"></a> 820                             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L821" name="L821"></a> 821                         <em class="brace">}</em>
<a id="L822" name="L822"></a> 822 
<a id="L823" name="L823"></a> 823                         <strong class="reserved">int</strong> localBoundsH = dirtyComponent.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L824" name="L824"></a> 824                         <strong class="reserved">int</strong> localBoundsW = dirtyComponent.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L825" name="L825"></a> 825                         <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L486" title="Defined at 486 in src/javax/swing/SwingUtilities.java.">computeIntersection</a>(0,
<a id="L826" name="L826"></a> 826                                                            0,
<a id="L827" name="L827"></a> 827                                                            localBoundsW,
<a id="L828" name="L828"></a> 828                                                            localBoundsH,
<a id="L829" name="L829"></a> 829                                                            rect);
<a id="L830" name="L830"></a> 830                         <strong class="reserved">if</strong> (dirtyComponent <strong class="reserved">instanceof</strong> <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831                             ((<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>)dirtyComponent).<a href="../D/28835.html" title="Multiple defined in 4 places.">paintImmediately</a>(
<a id="L832" name="L832"></a> 832                                 rect.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,rect.y,rect.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, rect.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L833" name="L833"></a> 833                         <em class="brace">}</em>
<a id="L834" name="L834"></a> 834                         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (dirtyComponent.<a href="../D/26239.html" title="Multiple defined in 14 places.">isShowing</a>()) <em class="brace">{</em>
<a id="L835" name="L835"></a> 835                             <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g = <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>.<a href="../D/31522.html" title="Multiple defined in 2 places.">safelyGetGraphics</a>(
<a id="L836" name="L836"></a> 836                                     dirtyComponent, dirtyComponent);
<a id="L837" name="L837"></a> 837                             <em class="comment">// If the Graphics goes away, it means someone disposed of</em>
<a id="L838" name="L838"></a> 838                             <em class="comment">// the window, don't do anything.</em>
<a id="L839" name="L839"></a> 839                             <strong class="reserved">if</strong> (g != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L840" name="L840"></a> 840                                 g.<a href="../D/32167.html" title="Multiple defined in 6 places.">setClip</a>(rect.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, rect.y, rect.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, rect.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L841" name="L841"></a> 841                                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L842" name="L842"></a> 842                                     dirtyComponent.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(g);
<a id="L843" name="L843"></a> 843                                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L844" name="L844"></a> 844                                     g.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L845" name="L845"></a> 845                                 <em class="brace">}</em>
<a id="L846" name="L846"></a> 846                             <em class="brace">}</em>
<a id="L847" name="L847"></a> 847                         <em class="brace">}</em>
<a id="L848" name="L848"></a> 848                         <em class="comment">// If the repaintRoot has been set, service it now and</em>
<a id="L849" name="L849"></a> 849                         <em class="comment">// remove any components that are children of repaintRoot.</em>
<a id="L850" name="L850"></a> 850                         <strong class="reserved">if</strong> (<a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L851" name="L851"></a> 851                             <a href="../S/3429.html#L879" title="Defined at 879 in src/javax/swing/RepaintManager.java.">adjustRoots</a>(<a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a>, roots, i + 1);
<a id="L852" name="L852"></a> 852                             <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(roots.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L853" name="L853"></a> 853                             paintManager.<a href="../S/3429.html#L1631" title="Defined at 1631 in src/javax/swing/RepaintManager.java.">isRepaintingRoot</a> = <strong class="reserved">true</strong>;
<a id="L854" name="L854"></a> 854                             <a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a>.<a href="../D/28835.html" title="Multiple defined in 4 places.">paintImmediately</a>(0, 0, <a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a>.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(),
<a id="L855" name="L855"></a> 855                                                          <a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a>.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>());
<a id="L856" name="L856"></a> 856                             paintManager.<a href="../S/3429.html#L1631" title="Defined at 1631 in src/javax/swing/RepaintManager.java.">isRepaintingRoot</a> = <strong class="reserved">false</strong>;
<a id="L857" name="L857"></a> 857                             <em class="comment">// Only service repaintRoot once.</em>
<a id="L858" name="L858"></a> 858                             <a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a> = <strong class="reserved">null</strong>;
<a id="L859" name="L859"></a> 859                         <em class="brace">}</em>
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L862" name="L862"></a> 862                     <em class="brace">}</em>
<a id="L863" name="L863"></a> 863                 <em class="brace">}</em>, stack, acc);
<a id="L864" name="L864"></a> 864             <em class="brace">}</em>
<a id="L865" name="L865"></a> 865         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L866" name="L866"></a> 866             painting = <strong class="reserved">false</strong>;
<a id="L867" name="L867"></a> 867         <em class="brace">}</em>
<a id="L868" name="L868"></a> 868 
<a id="L869" name="L869"></a> 869         <a href="../S/3429.html#L746" title="Defined at 746 in src/javax/swing/RepaintManager.java.">updateWindows</a>(tmpDirtyComponents);
<a id="L870" name="L870"></a> 870 
<a id="L871" name="L871"></a> 871         tmpDirtyComponents.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L872" name="L872"></a> 872     <em class="brace">}</em>
<a id="L873" name="L873"></a> 873 
<a id="L874" name="L874"></a> 874 
<div class="comment">
      Removes any components from roots that are children of
      root.</div>
<a id="L879" name="L879"></a> 879     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L851" title="Referred from 851 in src/javax/swing/RepaintManager.java.">adjustRoots</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>,
<a id="L880" name="L880"></a> 880                              <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; roots, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L881" name="L881"></a> 881         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = roots.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1; i &gt;= <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>; i--) <em class="brace">{</em>
<a id="L882" name="L882"></a> 882             <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = roots.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L883" name="L883"></a> 883             <strong class="reserved">for</strong>(;;) <em class="brace">{</em>
<a id="L884" name="L884"></a> 884                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong> || !(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>)) <em class="brace">{</em>
<a id="L885" name="L885"></a> 885                     <strong class="reserved">break</strong>;
<a id="L886" name="L886"></a> 886                 <em class="brace">}</em>
<a id="L887" name="L887"></a> 887                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L888" name="L888"></a> 888             <em class="brace">}</em>
<a id="L889" name="L889"></a> 889             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>) <em class="brace">{</em>
<a id="L890" name="L890"></a> 890                 roots.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(i);
<a id="L891" name="L891"></a> 891             <em class="brace">}</em>
<a id="L892" name="L892"></a> 892         <em class="brace">}</em>
<a id="L893" name="L893"></a> 893     <em class="brace">}</em>
<a id="L894" name="L894"></a> 894 
<a id="L895" name="L895"></a> 895     <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> tmp = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>();
<a id="L896" name="L896"></a> 896 
<a id="L897" name="L897"></a> 897     <strong class="reserved">void</strong> <a href="../S/3429.html#L802" title="Referred from 802 in src/javax/swing/RepaintManager.java.">collectDirtyComponents</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>,<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>&gt; dirtyComponents,
<a id="L898" name="L898"></a> 898                                 <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> dirtyComponent,
<a id="L899" name="L899"></a> 899                                 <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>&gt; roots) <em class="brace">{</em>
<a id="L900" name="L900"></a> 900         <strong class="reserved">int</strong> dx, dy, rootDx, rootDy;
<a id="L901" name="L901"></a> 901         <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>, rootDirtyComponent,<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L902" name="L902"></a> 902         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> cBounds;
<a id="L903" name="L903"></a> 903 
<a id="L904" name="L904"></a> 904         <em class="comment">// Find the highest parent which is dirty.  When we get out of this</em>
<a id="L905" name="L905"></a> 905         <em class="comment">// rootDx and rootDy will contain the translation from the</em>
<a id="L906" name="L906"></a> 906         <em class="comment">// rootDirtyComponent's coordinate system to the coordinates of the</em>
<a id="L907" name="L907"></a> 907         <em class="comment">// original dirty component.  The tmp Rect is also used to compute the</em>
<a id="L908" name="L908"></a> 908         <em class="comment">// visible portion of the dirtyRect.</em>
<a id="L909" name="L909"></a> 909 
<a id="L910" name="L910"></a> 910         <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> = rootDirtyComponent = dirtyComponent;
<a id="L911" name="L911"></a> 911 
<a id="L912" name="L912"></a> 912         <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = dirtyComponent.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>();
<a id="L913" name="L913"></a> 913         <strong class="reserved">int</strong> y = dirtyComponent.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>();
<a id="L914" name="L914"></a> 914         <strong class="reserved">int</strong> w = dirtyComponent.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L915" name="L915"></a> 915         <strong class="reserved">int</strong> h = dirtyComponent.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L916" name="L916"></a> 916 
<a id="L917" name="L917"></a> 917         dx = rootDx = 0;
<a id="L918" name="L918"></a> 918         dy = rootDy = 0;
<a id="L919" name="L919"></a> 919         tmp.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(dirtyComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(dirtyComponent));
<a id="L920" name="L920"></a> 920 
<a id="L921" name="L921"></a> 921         <em class="comment">// System.out.println("Collect dirty component for bound " + tmp +</em>
<a id="L922" name="L922"></a> 922         <em class="comment">//                                   "component bounds is " + cBounds);;</em>
<a id="L923" name="L923"></a> 923         <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L486" title="Defined at 486 in src/javax/swing/SwingUtilities.java.">computeIntersection</a>(0,0,w,h,tmp);
<a id="L924" name="L924"></a> 924 
<a id="L925" name="L925"></a> 925         <strong class="reserved">if</strong> (tmp.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L926" name="L926"></a> 926             <em class="comment">// System.out.println("Empty 1");</em>
<a id="L927" name="L927"></a> 927             <strong class="reserved">return</strong>;
<a id="L928" name="L928"></a> 928         <em class="brace">}</em>
<a id="L929" name="L929"></a> 929 
<a id="L930" name="L930"></a> 930         <strong class="reserved">for</strong>(;;) <em class="brace">{</em>
<a id="L931" name="L931"></a> 931             <strong class="reserved">if</strong>(!(<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> <strong class="reserved">instanceof</strong> <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>))
<a id="L932" name="L932"></a> 932                 <strong class="reserved">break</strong>;
<a id="L933" name="L933"></a> 933 
<a id="L934" name="L934"></a> 934             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L935" name="L935"></a> 935             <strong class="reserved">if</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">null</strong>)
<a id="L936" name="L936"></a> 936                 <strong class="reserved">break</strong>;
<a id="L937" name="L937"></a> 937 
<a id="L938" name="L938"></a> 938             <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L939" name="L939"></a> 939 
<a id="L940" name="L940"></a> 940             dx += <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L941" name="L941"></a> 941             dy += y;
<a id="L942" name="L942"></a> 942             tmp.<a href="../D/33134.html" title="Multiple defined in 29 places.">setLocation</a>(tmp.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, tmp.y + y);
<a id="L943" name="L943"></a> 943 
<a id="L944" name="L944"></a> 944             <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>();
<a id="L945" name="L945"></a> 945             y = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>();
<a id="L946" name="L946"></a> 946             w = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>();
<a id="L947" name="L947"></a> 947             h = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>();
<a id="L948" name="L948"></a> 948             tmp = <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L486" title="Defined at 486 in src/javax/swing/SwingUtilities.java.">computeIntersection</a>(0,0,w,h,tmp);
<a id="L949" name="L949"></a> 949 
<a id="L950" name="L950"></a> 950             <strong class="reserved">if</strong> (tmp.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L951" name="L951"></a> 951                 <em class="comment">// System.out.println("Empty 2");</em>
<a id="L952" name="L952"></a> 952                 <strong class="reserved">return</strong>;
<a id="L953" name="L953"></a> 953             <em class="brace">}</em>
<a id="L954" name="L954"></a> 954 
<a id="L955" name="L955"></a> 955             <strong class="reserved">if</strong> (dirtyComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L956" name="L956"></a> 956                 rootDirtyComponent = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>;
<a id="L957" name="L957"></a> 957                 rootDx = dx;
<a id="L958" name="L958"></a> 958                 rootDy = dy;
<a id="L959" name="L959"></a> 959             <em class="brace">}</em>
<a id="L960" name="L960"></a> 960         <em class="brace">}</em>
<a id="L961" name="L961"></a> 961 
<a id="L962" name="L962"></a> 962         <strong class="reserved">if</strong> (dirtyComponent != rootDirtyComponent) <em class="brace">{</em>
<a id="L963" name="L963"></a> 963             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r;
<a id="L964" name="L964"></a> 964             tmp.<a href="../D/33134.html" title="Multiple defined in 29 places.">setLocation</a>(tmp.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + rootDx - dx,
<a id="L965" name="L965"></a> 965                             tmp.y + rootDy - dy);
<a id="L966" name="L966"></a> 966             r = dirtyComponents.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(rootDirtyComponent);
<a id="L967" name="L967"></a> 967             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L517" title="Defined at 517 in src/javax/swing/SwingUtilities.java.">computeUnion</a>(tmp.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,tmp.y,tmp.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>,tmp.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>,r);
<a id="L968" name="L968"></a> 968         <em class="brace">}</em>
<a id="L969" name="L969"></a> 969 
<a id="L970" name="L970"></a> 970         <em class="comment">// If we haven't seen this root before, then we need to add it to the</em>
<a id="L971" name="L971"></a> 971         <em class="comment">// list of root dirty Views.</em>
<a id="L972" name="L972"></a> 972 
<a id="L973" name="L973"></a> 973         <strong class="reserved">if</strong> (!roots.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(rootDirtyComponent))
<a id="L974" name="L974"></a> 974             roots.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(rootDirtyComponent);
<a id="L975" name="L975"></a> 975     <em class="brace">}</em>
<a id="L976" name="L976"></a> 976 
<a id="L977" name="L977"></a> 977 
<div class="comment">
      Returns a string that displays and identifies this
      object's properties.
      @return a String representation of this object</div>
<a id="L984" name="L984"></a> 984     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L985" name="L985"></a> 985         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> sb = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L986" name="L986"></a> 986         <strong class="reserved">if</strong>(dirtyComponents != <strong class="reserved">null</strong>)
<a id="L987" name="L987"></a> 987             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("" + dirtyComponents);
<a id="L988" name="L988"></a> 988         <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L989" name="L989"></a> 989     <em class="brace">}</em>
<a id="L990" name="L990"></a> 990 
<a id="L991" name="L991"></a> 991 
<div class="comment">
      Return the offscreen buffer that should be used as a double buffer with
      the component <code>c</code>.
      By default there is a double buffer per RepaintManager.
      The buffer might be smaller than <code>(proposedWidth,proposedHeight)</code>
      This happens when the maximum double buffer size as been set for the receiving
      repaint manager.</div>
<a id="L1000" name="L1000"></a>1000     <strong class="reserved">public</strong> <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> <a href="../R/18114.html" title="Multiple referred from 2 places.">getOffscreenBuffer</a>(<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>,<strong class="reserved">int</strong> proposedWidth,<strong class="reserved">int</strong> proposedHeight) <em class="brace">{</em>
<a id="L1001" name="L1001"></a>1001         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1002" name="L1002"></a>1002         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1003" name="L1003"></a>1003             <strong class="reserved">return</strong> delegate.<a href="../S/3429.html#L1000" title="Defined at 1000 in src/javax/swing/RepaintManager.java.">getOffscreenBuffer</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, proposedWidth, proposedHeight);
<a id="L1004" name="L1004"></a>1004         <em class="brace">}</em>
<a id="L1005" name="L1005"></a>1005         <strong class="reserved">return</strong> <a href="../S/3429.html#L1060" title="Defined at 1060 in src/javax/swing/RepaintManager.java.">_getOffscreenBuffer</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, proposedWidth, proposedHeight);
<a id="L1006" name="L1006"></a>1006     <em class="brace">}</em>
<a id="L1007" name="L1007"></a>1007 
<div class="comment">
    Return a volatile offscreen buffer that should be used as a
    double buffer with the specified component <code>c</code>.
    The image returned will be an instance of VolatileImage, or null
    if a VolatileImage object could not be instantiated.
    This buffer might be smaller than <code>(proposedWidth,proposedHeight)</code>.
    This happens when the maximum double buffer size has been set for this
    repaint manager.
    @see java.awt.image.VolatileImage
    @since 1.4</div>
<a id="L1020" name="L1020"></a>1020     <strong class="reserved">public</strong> <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> <a href="../R/19832.html" title="Multiple referred from 3 places.">getVolatileOffscreenBuffer</a>(<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>,
<a id="L1021" name="L1021"></a>1021                                             <strong class="reserved">int</strong> proposedWidth,<strong class="reserved">int</strong> proposedHeight) <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../D/18402.html" title="Multiple defined in 10 places.">getDelegate</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1023" name="L1023"></a>1023         <strong class="reserved">if</strong> (delegate != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1024" name="L1024"></a>1024             <strong class="reserved">return</strong> delegate.<a href="../S/3429.html#L1020" title="Defined at 1020 in src/javax/swing/RepaintManager.java.">getVolatileOffscreenBuffer</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, proposedWidth,
<a id="L1025" name="L1025"></a>1025                                                         proposedHeight);
<a id="L1026" name="L1026"></a>1026         <em class="brace">}</em>
<a id="L1027" name="L1027"></a>1027 
<a id="L1028" name="L1028"></a>1028         <em class="comment">// If the window is non-opaque, it's double-buffered at peer's level</em>
<a id="L1029" name="L1029"></a>1029         <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a> w = (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>) ? (<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> : <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L134" title="Defined at 134 in src/javax/swing/SwingUtilities.java.">getWindowAncestor</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1030" name="L1030"></a>1030         <strong class="reserved">if</strong> (!w.<a href="../D/25996.html" title="Multiple defined in 14 places.">isOpaque</a>()) <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031             <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a> tk = <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>();
<a id="L1032" name="L1032"></a>1032             <strong class="reserved">if</strong> ((tk <strong class="reserved">instanceof</strong> SunToolkit) &amp;&amp; (((SunToolkit)tk).needUpdateWindow())) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1034" name="L1034"></a>1034             <em class="brace">}</em>
<a id="L1035" name="L1035"></a>1035         <em class="brace">}</em>
<a id="L1036" name="L1036"></a>1036 
<a id="L1037" name="L1037"></a>1037         <a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a> <a href="../D/13217.html" title="Multiple defined in 5 places.">config</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/19361.html" title="Multiple defined in 3 places.">getGraphicsConfiguration</a>();
<a id="L1038" name="L1038"></a>1038         <strong class="reserved">if</strong> (<a href="../D/13217.html" title="Multiple defined in 5 places.">config</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039             <a href="../D/13217.html" title="Multiple defined in 5 places.">config</a> = <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a>.<a href="../S/2120.html#L80" title="Defined at 80 in src/java/awt/GraphicsEnvironment.java.">getLocalGraphicsEnvironment</a>().
<a id="L1040" name="L1040"></a>1040                             <a href="../S/2120.html#L245" title="Defined at 245 in src/java/awt/GraphicsEnvironment.java.">getDefaultScreenDevice</a>().<a href="../S/2309.html#L192" title="Defined at 192 in src/java/awt/GraphicsDevice.java.">getDefaultConfiguration</a>();
<a id="L1041" name="L1041"></a>1041         <em class="brace">}</em>
<a id="L1042" name="L1042"></a>1042         <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> maxSize = <a href="../S/3429.html#L1153" title="Defined at 1153 in src/javax/swing/RepaintManager.java.">getDoubleBufferMaximumSize</a>();
<a id="L1043" name="L1043"></a>1043         <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = proposedWidth &lt; 1 ? 1 :
<a id="L1044" name="L1044"></a>1044             (proposedWidth &gt; maxSize.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>? maxSize.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> : proposedWidth);
<a id="L1045" name="L1045"></a>1045         <strong class="reserved">int</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = proposedHeight &lt; 1 ? 1 :
<a id="L1046" name="L1046"></a>1046             (proposedHeight &gt; maxSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>? maxSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> : proposedHeight);
<a id="L1047" name="L1047"></a>1047         <a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a> image = volatileMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/13217.html" title="Multiple defined in 5 places.">config</a>);
<a id="L1048" name="L1048"></a>1048         <strong class="reserved">if</strong> (image == <strong class="reserved">null</strong> || image.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &lt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> ||
<a id="L1049" name="L1049"></a>1049                              image.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &lt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1050" name="L1050"></a>1050             <strong class="reserved">if</strong> (image != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1051" name="L1051"></a>1051                 image.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L1052" name="L1052"></a>1052             <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053             image = <a href="../D/13217.html" title="Multiple defined in 5 places.">config</a>.<a href="../D/13709.html" title="Multiple defined in 4 places.">createCompatibleVolatileImage</a>(<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>,
<a id="L1054" name="L1054"></a>1054                                                          volatileBufferType);
<a id="L1055" name="L1055"></a>1055             volatileMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/13217.html" title="Multiple defined in 5 places.">config</a>, image);
<a id="L1056" name="L1056"></a>1056         <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057         <strong class="reserved">return</strong> image;
<a id="L1058" name="L1058"></a>1058     <em class="brace">}</em>
<a id="L1059" name="L1059"></a>1059 
<a id="L1060" name="L1060"></a>1060     <strong class="reserved">private</strong> <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> <a href="../S/3429.html#L1005" title="Referred from 1005 in src/javax/swing/RepaintManager.java.">_getOffscreenBuffer</a>(<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> proposedWidth, <strong class="reserved">int</strong> proposedHeight) <em class="brace">{</em>
<a id="L1061" name="L1061"></a>1061         <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> maxSize = <a href="../S/3429.html#L1153" title="Defined at 1153 in src/javax/swing/RepaintManager.java.">getDoubleBufferMaximumSize</a>();
<a id="L1062" name="L1062"></a>1062         <a href="../S/3429.html#L1644" title="Defined at 1644 in src/javax/swing/RepaintManager.java.">DoubleBufferInfo</a> doubleBuffer;
<a id="L1063" name="L1063"></a>1063         <strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L1064" name="L1064"></a>1064 
<a id="L1065" name="L1065"></a>1065         <em class="comment">// If the window is non-opaque, it's double-buffered at peer's level</em>
<a id="L1066" name="L1066"></a>1066         <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a> w = (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>) ? (<a href="../S/2106.html#L148" title="Defined at 148 in src/java/awt/Window.java.">Window</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> : <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L134" title="Defined at 134 in src/javax/swing/SwingUtilities.java.">getWindowAncestor</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1067" name="L1067"></a>1067         <strong class="reserved">if</strong> (!w.<a href="../D/25996.html" title="Multiple defined in 14 places.">isOpaque</a>()) <em class="brace">{</em>
<a id="L1068" name="L1068"></a>1068             <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a> tk = <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>();
<a id="L1069" name="L1069"></a>1069             <strong class="reserved">if</strong> ((tk <strong class="reserved">instanceof</strong> SunToolkit) &amp;&amp; (((SunToolkit)tk).needUpdateWindow())) <em class="brace">{</em>
<a id="L1070" name="L1070"></a>1070                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1071" name="L1071"></a>1071             <em class="brace">}</em>
<a id="L1072" name="L1072"></a>1072         <em class="brace">}</em>
<a id="L1073" name="L1073"></a>1073 
<a id="L1074" name="L1074"></a>1074         <strong class="reserved">if</strong> (standardDoubleBuffer == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075             standardDoubleBuffer = <strong class="reserved">new</strong> <a href="../S/3429.html#L1644" title="Defined at 1644 in src/javax/swing/RepaintManager.java.">DoubleBufferInfo</a>();
<a id="L1076" name="L1076"></a>1076         <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077         doubleBuffer = standardDoubleBuffer;
<a id="L1078" name="L1078"></a>1078 
<a id="L1079" name="L1079"></a>1079         <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = proposedWidth &lt; 1? 1 :
<a id="L1080" name="L1080"></a>1080                   (proposedWidth &gt; maxSize.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>? maxSize.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> : proposedWidth);
<a id="L1081" name="L1081"></a>1081         <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = proposedHeight &lt; 1? 1 :
<a id="L1082" name="L1082"></a>1082                   (proposedHeight &gt; maxSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>? maxSize.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> : proposedHeight);
<a id="L1083" name="L1083"></a>1083 
<a id="L1084" name="L1084"></a>1084         <strong class="reserved">if</strong> (doubleBuffer.needsReset || (doubleBuffer.image != <strong class="reserved">null</strong> &amp;&amp;
<a id="L1085" name="L1085"></a>1085                                         (doubleBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> &lt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> ||
<a id="L1086" name="L1086"></a>1086                                          doubleBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> &lt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>))) <em class="brace">{</em>
<a id="L1087" name="L1087"></a>1087             doubleBuffer.needsReset = <strong class="reserved">false</strong>;
<a id="L1088" name="L1088"></a>1088             <strong class="reserved">if</strong> (doubleBuffer.image != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1089" name="L1089"></a>1089                 doubleBuffer.image.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L1090" name="L1090"></a>1090                 doubleBuffer.image = <strong class="reserved">null</strong>;
<a id="L1091" name="L1091"></a>1091             <em class="brace">}</em>
<a id="L1092" name="L1092"></a>1092             <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(doubleBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>);
<a id="L1093" name="L1093"></a>1093             <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(doubleBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1094" name="L1094"></a>1094         <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095 
<a id="L1096" name="L1096"></a>1096         <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = doubleBuffer.image;
<a id="L1097" name="L1097"></a>1097 
<a id="L1098" name="L1098"></a>1098         <strong class="reserved">if</strong> (doubleBuffer.image == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1099" name="L1099"></a>1099             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/13944.html" title="Multiple defined in 13 places.">createImage</a>(<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> , <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1100" name="L1100"></a>1100             doubleBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <strong class="reserved">new</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>(<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1101" name="L1101"></a>1101             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> <strong class="reserved">instanceof</strong> <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>) <em class="brace">{</em>
<a id="L1102" name="L1102"></a>1102                 ((<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>).<a href="../S/3152.html#L3357" title="Defined at 3357 in src/javax/swing/JComponent.java.">setCreatedDoubleBuffer</a>(<strong class="reserved">true</strong>);
<a id="L1103" name="L1103"></a>1103                 doubleBuffer.image = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1104" name="L1104"></a>1104             <em class="brace">}</em>
<a id="L1105" name="L1105"></a>1105             <em class="comment">// JComponent will inform us when it is no longer valid</em>
<a id="L1106" name="L1106"></a>1106             <em class="comment">// (via removeNotify) we have no such hook to other components,</em>
<a id="L1107" name="L1107"></a>1107             <em class="comment">// therefore we don't keep a ref to the Component</em>
<a id="L1108" name="L1108"></a>1108             <em class="comment">// (indirectly through the Image) by stashing the image.</em>
<a id="L1109" name="L1109"></a>1109         <em class="brace">}</em>
<a id="L1110" name="L1110"></a>1110         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1111" name="L1111"></a>1111     <em class="brace">}</em>
<a id="L1112" name="L1112"></a>1112 
<a id="L1113" name="L1113"></a>1113 
<div class="comment">
     /** Set the maximum double buffer size. **/</div>
<a id="L1115" name="L1115"></a>1115     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setDoubleBufferMaximumSize(<a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> d) <em class="brace">{</em>
<a id="L1116" name="L1116"></a>1116         doubleBufferMaxSize = d;
<a id="L1117" name="L1117"></a>1117         <strong class="reserved">if</strong> (doubleBufferMaxSize == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118             <a href="../D/12849.html" title="Multiple defined in 2 places.">clearImages</a>();
<a id="L1119" name="L1119"></a>1119         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1120" name="L1120"></a>1120             <a href="../D/12849.html" title="Multiple defined in 2 places.">clearImages</a>(d.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, d.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1121" name="L1121"></a>1121         <em class="brace">}</em>
<a id="L1122" name="L1122"></a>1122     <em class="brace">}</em>
<a id="L1123" name="L1123"></a>1123 
<a id="L1124" name="L1124"></a>1124     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11521.html" title="Multiple referred from 4 places.">clearImages</a>() <em class="brace">{</em>
<a id="L1125" name="L1125"></a>1125         <a href="../D/12849.html" title="Multiple defined in 2 places.">clearImages</a>(0, 0);
<a id="L1126" name="L1126"></a>1126     <em class="brace">}</em>
<a id="L1127" name="L1127"></a>1127 
<a id="L1128" name="L1128"></a>1128     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11521.html" title="Multiple referred from 4 places.">clearImages</a>(<strong class="reserved">int</strong> <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <strong class="reserved">int</strong> <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1129" name="L1129"></a>1129         <strong class="reserved">if</strong> (standardDoubleBuffer != <strong class="reserved">null</strong> &amp;&amp; standardDoubleBuffer.image != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1130" name="L1130"></a>1130             <strong class="reserved">if</strong> (standardDoubleBuffer.image.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(<strong class="reserved">null</strong>) &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> ||
<a id="L1131" name="L1131"></a>1131                 standardDoubleBuffer.image.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(<strong class="reserved">null</strong>) &gt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132                 standardDoubleBuffer.image.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L1133" name="L1133"></a>1133                 standardDoubleBuffer.image = <strong class="reserved">null</strong>;
<a id="L1134" name="L1134"></a>1134             <em class="brace">}</em>
<a id="L1135" name="L1135"></a>1135         <em class="brace">}</em>
<a id="L1136" name="L1136"></a>1136         <em class="comment">// Clear out the VolatileImages</em>
<a id="L1137" name="L1137"></a>1137         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a>&gt; gcs = volatileMap.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>().<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1138" name="L1138"></a>1138         <strong class="reserved">while</strong> (gcs.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1139" name="L1139"></a>1139             <a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a> <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> = gcs.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1140" name="L1140"></a>1140             <a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a> image = volatileMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>);
<a id="L1141" name="L1141"></a>1141             <strong class="reserved">if</strong> (image.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> || image.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &gt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>) <em class="brace">{</em>
<a id="L1142" name="L1142"></a>1142                 image.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L1143" name="L1143"></a>1143                 gcs.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1144" name="L1144"></a>1144             <em class="brace">}</em>
<a id="L1145" name="L1145"></a>1145         <em class="brace">}</em>
<a id="L1146" name="L1146"></a>1146     <em class="brace">}</em>
<a id="L1147" name="L1147"></a>1147 
<div class="comment">
      Returns the maximum double buffer size.
      @return a Dimension object representing the maximum size</div>
<a id="L1153" name="L1153"></a>1153     <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/16244.html" title="Multiple referred from 2 places.">getDoubleBufferMaximumSize</a>() <em class="brace">{</em>
<a id="L1154" name="L1154"></a>1154         <strong class="reserved">if</strong> (doubleBufferMaxSize == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1156" name="L1156"></a>1156                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> virtualBounds = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>();
<a id="L1157" name="L1157"></a>1157                 <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a> ge = <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a>.
<a id="L1158" name="L1158"></a>1158                                                  <a href="../S/2120.html#L80" title="Defined at 80 in src/java/awt/GraphicsEnvironment.java.">getLocalGraphicsEnvironment</a>();
<a id="L1159" name="L1159"></a>1159                 <strong class="reserved">for</strong> (<a href="../S/2309.html#L78" title="Defined at 78 in src/java/awt/GraphicsDevice.java.">GraphicsDevice</a> gd : ge.<a href="../S/2120.html#L235" title="Defined at 235 in src/java/awt/GraphicsEnvironment.java.">getScreenDevices</a>()) <em class="brace">{</em>
<a id="L1160" name="L1160"></a>1160                     <a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a> <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> = gd.<a href="../S/2309.html#L192" title="Defined at 192 in src/java/awt/GraphicsDevice.java.">getDefaultConfiguration</a>();
<a id="L1161" name="L1161"></a>1161                     virtualBounds = virtualBounds.<strong class="reserved">union</strong>(<a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>());
<a id="L1162" name="L1162"></a>1162                 <em class="brace">}</em>
<a id="L1163" name="L1163"></a>1163                 doubleBufferMaxSize = <strong class="reserved">new</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>(virtualBounds.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>,
<a id="L1164" name="L1164"></a>1164                                                     virtualBounds.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L1165" name="L1165"></a>1165             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2385.html#L36" title="Defined at 36 in src/java/awt/HeadlessException.java.">HeadlessException</a> e) <em class="brace">{</em>
<a id="L1166" name="L1166"></a>1166                 doubleBufferMaxSize = <strong class="reserved">new</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE);
<a id="L1167" name="L1167"></a>1167             <em class="brace">}</em>
<a id="L1168" name="L1168"></a>1168         <em class="brace">}</em>
<a id="L1169" name="L1169"></a>1169         <strong class="reserved">return</strong> doubleBufferMaxSize;
<a id="L1170" name="L1170"></a>1170     <em class="brace">}</em>
<a id="L1171" name="L1171"></a>1171 
<div class="comment">
      Enables or disables double buffering in this RepaintManager.
      CAUTION: The default value for this property is set for optimal
      paint performance on the given platform and it is not recommended
      that programs modify this property directly.
      @param aFlag  true to activate double buffering
      @see #isDoubleBufferingEnabled</div>
<a id="L1181" name="L1181"></a>1181     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setDoubleBufferingEnabled(<strong class="reserved">boolean</strong> aFlag) <em class="brace">{</em>
<a id="L1182" name="L1182"></a>1182         doubleBufferingEnabled = aFlag;
<a id="L1183" name="L1183"></a>1183         <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> paintManager = <a href="../S/3429.html#L1412" title="Defined at 1412 in src/javax/swing/RepaintManager.java.">getPaintManager</a>();
<a id="L1184" name="L1184"></a>1184         <strong class="reserved">if</strong> (!aFlag &amp;&amp; paintManager.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L1185" name="L1185"></a>1185             <a href="../S/3429.html#L1397" title="Defined at 1397 in src/javax/swing/RepaintManager.java.">setPaintManager</a>(<strong class="reserved">new</strong> <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a>());
<a id="L1186" name="L1186"></a>1186         <em class="brace">}</em>
<a id="L1187" name="L1187"></a>1187     <em class="brace">}</em>
<a id="L1188" name="L1188"></a>1188 
<div class="comment">
      Returns true if this RepaintManager is double buffered.
      The default value for this property may vary from platform
      to platform.  On platforms where native double buffering
      is supported in the AWT, the default value will be <code>false</code>
      to avoid unnecessary buffering in Swing.
      On platforms where native double buffering is not supported,
      the default value will be <code>true</code>.
      @return true if this object is double buffered</div>
<a id="L1200" name="L1200"></a>1200     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21380.html" title="Multiple referred from 2 places.">isDoubleBufferingEnabled</a>() <em class="brace">{</em>
<a id="L1201" name="L1201"></a>1201         <strong class="reserved">return</strong> doubleBufferingEnabled;
<a id="L1202" name="L1202"></a>1202     <em class="brace">}</em>
<a id="L1203" name="L1203"></a>1203 
<div class="comment">
      This resets the double buffer. Actually, it marks the double buffer
      as invalid, the double buffer will then be recreated on the next
      invocation of getOffscreenBuffer.</div>
<a id="L1209" name="L1209"></a>1209     <strong class="reserved">void</strong> <a href="../S/3152.html#L4768" title="Referred from 4768 in src/javax/swing/JComponent.java.">resetDoubleBuffer</a>() <em class="brace">{</em>
<a id="L1210" name="L1210"></a>1210         <strong class="reserved">if</strong> (standardDoubleBuffer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1211" name="L1211"></a>1211             standardDoubleBuffer.needsReset = <strong class="reserved">true</strong>;
<a id="L1212" name="L1212"></a>1212         <em class="brace">}</em>
<a id="L1213" name="L1213"></a>1213     <em class="brace">}</em>
<a id="L1214" name="L1214"></a>1214 
<div class="comment">
      This resets the volatile double buffer.</div>
<a id="L1218" name="L1218"></a>1218     <strong class="reserved">void</strong> <a href="../S/3429.html#L1497" title="Referred from 1497 in src/javax/swing/RepaintManager.java.">resetVolatileDoubleBuffer</a>(<a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a> <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>) <em class="brace">{</em>
<a id="L1219" name="L1219"></a>1219         <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> image = volatileMap.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>);
<a id="L1220" name="L1220"></a>1220         <strong class="reserved">if</strong> (image != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1221" name="L1221"></a>1221             image.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L1222" name="L1222"></a>1222         <em class="brace">}</em>
<a id="L1223" name="L1223"></a>1223     <em class="brace">}</em>
<a id="L1224" name="L1224"></a>1224 
<div class="comment">
      Returns true if we should use the <code>Image</code> returned
      from <code>getVolatileOffscreenBuffer</code> to do double buffering.</div>
<a id="L1229" name="L1229"></a>1229     <strong class="reserved">boolean</strong> <a href="../S/3429.html#L1487" title="Referred from 1487 in src/javax/swing/RepaintManager.java.">useVolatileDoubleBuffer</a>() <em class="brace">{</em>
<a id="L1230" name="L1230"></a>1230         <strong class="reserved">return</strong> volatileImageBufferEnabled;
<a id="L1231" name="L1231"></a>1231     <em class="brace">}</em>
<a id="L1232" name="L1232"></a>1232 
<div class="comment">
      Returns true if the current thread is the thread painting.  This
      will return false if no threads are painting.</div>
<a id="L1237" name="L1237"></a>1237     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/21856.html" title="Multiple referred from 2 places.">isPaintingThread</a>() <em class="brace">{</em>
<a id="L1238" name="L1238"></a>1238         <strong class="reserved">return</strong> (<a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>() == paintThread);
<a id="L1239" name="L1239"></a>1239     <em class="brace">}</em>
<a id="L1240" name="L1240"></a>1240     <em class="comment">//</em>
<a id="L1241" name="L1241"></a>1241     <em class="comment">// Paint methods.  You very, VERY rarely need to invoke these.</em>
<a id="L1242" name="L1242"></a>1242     <em class="comment">// They are invoked directly from JComponent's painting code and</em>
<a id="L1243" name="L1243"></a>1243     <em class="comment">// when painting happens outside the normal flow: DefaultDesktopManager</em>
<a id="L1244" name="L1244"></a>1244     <em class="comment">// and JViewport.  If you end up needing these methods in other places be</em>
<a id="L1245" name="L1245"></a>1245     <em class="comment">// careful that you don't get stuck in a paint loop.</em>
<a id="L1246" name="L1246"></a>1246     <em class="comment">//</em>
<a id="L1247" name="L1247"></a>1247 
<div class="comment">
      Paints a region of a component
      @param paintingComponent Component to paint
      @param bufferComponent Component to obtain buffer for
      @param g Graphics to paint to
      @param x X-coordinate
      @param y Y-coordinate
      @param w Width
      @param h Height</div>
<a id="L1259" name="L1259"></a>1259     <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> paintingComponent,
<a id="L1260" name="L1260"></a>1260                <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> bufferComponent, <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g,
<a id="L1261" name="L1261"></a>1261                <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L1262" name="L1262"></a>1262         <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> paintManager = <a href="../S/3429.html#L1412" title="Defined at 1412 in src/javax/swing/RepaintManager.java.">getPaintManager</a>();
<a id="L1263" name="L1263"></a>1263         <strong class="reserved">if</strong> (!<a href="../S/3429.html#L1237" title="Defined at 1237 in src/javax/swing/RepaintManager.java.">isPaintingThread</a>()) <em class="brace">{</em>
<a id="L1264" name="L1264"></a>1264             <em class="comment">// We're painting to two threads at once.  PaintManager deals</em>
<a id="L1265" name="L1265"></a>1265             <em class="comment">// with this a bit better than BufferStrategyPaintManager, use</em>
<a id="L1266" name="L1266"></a>1266             <em class="comment">// it to avoid possible exceptions/corruption.</em>
<a id="L1267" name="L1267"></a>1267             <strong class="reserved">if</strong> (paintManager.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L1268" name="L1268"></a>1268                 paintManager = <strong class="reserved">new</strong> <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a>();
<a id="L1269" name="L1269"></a>1269                 paintManager.repaintManager = <strong class="reserved">this</strong>;
<a id="L1270" name="L1270"></a>1270             <em class="brace">}</em>
<a id="L1271" name="L1271"></a>1271         <em class="brace">}</em>
<a id="L1272" name="L1272"></a>1272         <strong class="reserved">if</strong> (!paintManager.<a href="../D/28657.html" title="Multiple defined in 228 places.">paint</a>(paintingComponent, bufferComponent, g,
<a id="L1273" name="L1273"></a>1273                                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h)) <em class="brace">{</em>
<a id="L1274" name="L1274"></a>1274             g.<a href="../D/32167.html" title="Multiple defined in 6 places.">setClip</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h);
<a id="L1275" name="L1275"></a>1275             paintingComponent.<a href="../S/3152.html#L5200" title="Defined at 5200 in src/javax/swing/JComponent.java.">paintToOffscreen</a>(g, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + w, y + h);
<a id="L1276" name="L1276"></a>1276         <em class="brace">}</em>
<a id="L1277" name="L1277"></a>1277     <em class="brace">}</em>
<a id="L1278" name="L1278"></a>1278 
<div class="comment">
      Does a copy area on the specified region.
      @param clip Whether or not the copyArea needs to be clipped to the
                  Component's bounds.</div>
<a id="L1285" name="L1285"></a>1285     <strong class="reserved">void</strong> <a href="../R/12092.html" title="Multiple referred from 9 places.">copyArea</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h,
<a id="L1286" name="L1286"></a>1286                   <strong class="reserved">int</strong> deltaX, <strong class="reserved">int</strong> deltaY, <strong class="reserved">boolean</strong> <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>) <em class="brace">{</em>
<a id="L1287" name="L1287"></a>1287         <a href="../S/3429.html#L1412" title="Defined at 1412 in src/javax/swing/RepaintManager.java.">getPaintManager</a>().<a href="../D/13479.html" title="Multiple defined in 5 places.">copyArea</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, g, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h, deltaX, deltaY, <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>);
<a id="L1288" name="L1288"></a>1288     <em class="brace">}</em>
<a id="L1289" name="L1289"></a>1289 
<a id="L1290" name="L1290"></a>1290     <strong class="reserved">private</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;RepaintListener&gt; repaintListeners = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;(1);
<a id="L1291" name="L1291"></a>1291 
<a id="L1292" name="L1292"></a>1292     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/9935.html" title="Multiple referred from 2 places.">addRepaintListener</a>(RepaintListener l) <em class="brace">{</em>
<a id="L1293" name="L1293"></a>1293         repaintListeners.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(l);
<a id="L1294" name="L1294"></a>1294     <em class="brace">}</em>
<a id="L1295" name="L1295"></a>1295 
<a id="L1296" name="L1296"></a>1296     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26057.html" title="Multiple referred from 2 places.">removeRepaintListener</a>(RepaintListener l) <em class="brace">{</em>
<a id="L1297" name="L1297"></a>1297         repaintListeners.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(l);
<a id="L1298" name="L1298"></a>1298     <em class="brace">}</em>
<a id="L1299" name="L1299"></a>1299 
<div class="comment">
      Notify the attached repaint listeners that an area of the <code>c</code> component
      has been immediately repainted, that is without scheduling a repaint runnable,
      due to performing a "blit" (via calling the <code>copyArea</code> method).
      @param c the component
      @param x the x coordinate of the area
      @param y the y coordinate of the area
      @param w the width of the area
      @param h the height of the area</div>
<a id="L1311" name="L1311"></a>1311     <strong class="reserved">void</strong> <a href="../R/23829.html" title="Multiple referred from 4 places.">notifyRepaintPerformed</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L1312" name="L1312"></a>1312         <strong class="reserved">for</strong> (RepaintListener l : repaintListeners) <em class="brace">{</em>
<a id="L1313" name="L1313"></a>1313             l.repaintPerformed(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h);
<a id="L1314" name="L1314"></a>1314         <em class="brace">}</em>
<a id="L1315" name="L1315"></a>1315     <em class="brace">}</em>
<a id="L1316" name="L1316"></a>1316 
<div class="comment">
      Invoked prior to any paint/copyArea method calls.  This will
      be followed by an invocation of <code>endPaint</code>.
      <b>WARNING</b>: Callers of this method need to wrap the call
      in a <code>try/finally</code>, otherwise if an exception is thrown
      during the course of painting the RepaintManager may
      be left in a state in which the screen is not updated, eg:
      <pre>      repaintManager.beginPaint();
      try {
        repaintManager.paint(...);
      } finally {
        repaintManager.endPaint();
      }
      </pre></div>
<a id="L1333" name="L1333"></a>1333     <strong class="reserved">void</strong> <a href="../R/10572.html" title="Multiple referred from 6 places.">beginPaint</a>() <em class="brace">{</em>
<a id="L1334" name="L1334"></a>1334         <strong class="reserved">boolean</strong> multiThreadedPaint = <strong class="reserved">false</strong>;
<a id="L1335" name="L1335"></a>1335         <strong class="reserved">int</strong> paintDepth;
<a id="L1336" name="L1336"></a>1336         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> <a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a> = <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>();
<a id="L1337" name="L1337"></a>1337         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1338" name="L1338"></a>1338             paintDepth = <strong class="reserved">this</strong>.paintDepth;
<a id="L1339" name="L1339"></a>1339             <strong class="reserved">if</strong> (paintThread == <strong class="reserved">null</strong> || <a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a> == paintThread) <em class="brace">{</em>
<a id="L1340" name="L1340"></a>1340                 paintThread = <a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>;
<a id="L1341" name="L1341"></a>1341                 <strong class="reserved">this</strong>.paintDepth++;
<a id="L1342" name="L1342"></a>1342             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1343" name="L1343"></a>1343                 multiThreadedPaint = <strong class="reserved">true</strong>;
<a id="L1344" name="L1344"></a>1344             <em class="brace">}</em>
<a id="L1345" name="L1345"></a>1345         <em class="brace">}</em>
<a id="L1346" name="L1346"></a>1346         <strong class="reserved">if</strong> (!multiThreadedPaint &amp;&amp; paintDepth == 0) <em class="brace">{</em>
<a id="L1347" name="L1347"></a>1347             <a href="../S/3429.html#L1412" title="Defined at 1412 in src/javax/swing/RepaintManager.java.">getPaintManager</a>().<a href="../D/11817.html" title="Multiple defined in 3 places.">beginPaint</a>();
<a id="L1348" name="L1348"></a>1348         <em class="brace">}</em>
<a id="L1349" name="L1349"></a>1349     <em class="brace">}</em>
<a id="L1350" name="L1350"></a>1350 
<div class="comment">
      Invoked after <code>beginPaint</code> has been invoked.</div>
<a id="L1354" name="L1354"></a>1354     <strong class="reserved">void</strong> <a href="../R/13783.html" title="Multiple referred from 6 places.">endPaint</a>() <em class="brace">{</em>
<a id="L1355" name="L1355"></a>1355         <strong class="reserved">if</strong> (<a href="../S/3429.html#L1237" title="Defined at 1237 in src/javax/swing/RepaintManager.java.">isPaintingThread</a>()) <em class="brace">{</em>
<a id="L1356" name="L1356"></a>1356             <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> paintManager = <strong class="reserved">null</strong>;
<a id="L1357" name="L1357"></a>1357             <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1358" name="L1358"></a>1358                 <strong class="reserved">if</strong> (--paintDepth == 0) <em class="brace">{</em>
<a id="L1359" name="L1359"></a>1359                     paintManager = <a href="../S/3429.html#L1412" title="Defined at 1412 in src/javax/swing/RepaintManager.java.">getPaintManager</a>();
<a id="L1360" name="L1360"></a>1360                 <em class="brace">}</em>
<a id="L1361" name="L1361"></a>1361             <em class="brace">}</em>
<a id="L1362" name="L1362"></a>1362             <strong class="reserved">if</strong> (paintManager != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1363" name="L1363"></a>1363                 paintManager.<a href="../D/15467.html" title="Multiple defined in 3 places.">endPaint</a>();
<a id="L1364" name="L1364"></a>1364                 <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1365" name="L1365"></a>1365                     paintThread = <strong class="reserved">null</strong>;
<a id="L1366" name="L1366"></a>1366                 <em class="brace">}</em>
<a id="L1367" name="L1367"></a>1367             <em class="brace">}</em>
<a id="L1368" name="L1368"></a>1368         <em class="brace">}</em>
<a id="L1369" name="L1369"></a>1369     <em class="brace">}</em>
<a id="L1370" name="L1370"></a>1370 
<div class="comment">
      If possible this will show a previously rendered portion of
      a Component.  If successful, this will return true, otherwise false.
      <p>
      WARNING: This method is invoked from the native toolkit thread, be
      very careful as to what methods this invokes!</p></div>
<a id="L1378" name="L1378"></a>1378     <strong class="reserved">boolean</strong> <a href="../R/28563.html" title="Multiple referred from 47 places.">show</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379         <strong class="reserved">return</strong> <a href="../S/3429.html#L1412" title="Defined at 1412 in src/javax/swing/RepaintManager.java.">getPaintManager</a>().<a href="../D/34512.html" title="Multiple defined in 29 places.">show</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h);
<a id="L1380" name="L1380"></a>1380     <em class="brace">}</em>
<a id="L1381" name="L1381"></a>1381 
<div class="comment">
      Invoked when the doubleBuffered or useTrueDoubleBuffering
      properties of a JRootPane change.  This may come in on any thread.</div>
<a id="L1386" name="L1386"></a>1386     <strong class="reserved">void</strong> <a href="../R/13483.html" title="Multiple referred from 3 places.">doubleBufferingChanged</a>(<a href="../S/2772.html#L203" title="Defined at 203 in src/javax/swing/JRootPane.java.">JRootPane</a> rootPane) <em class="brace">{</em>
<a id="L1387" name="L1387"></a>1387         <a href="../S/3429.html#L1412" title="Defined at 1412 in src/javax/swing/RepaintManager.java.">getPaintManager</a>().<a href="../D/15126.html" title="Multiple defined in 3 places.">doubleBufferingChanged</a>(rootPane);
<a id="L1388" name="L1388"></a>1388     <em class="brace">}</em>
<a id="L1389" name="L1389"></a>1389 
<div class="comment">
      Sets the <code>PaintManager</code> that is used to handle all
      double buffered painting.
      @param paintManager The PaintManager to use.  Passing in null indicates
             the fallback PaintManager should be used.</div>
<a id="L1397" name="L1397"></a>1397     <strong class="reserved">void</strong> <a href="../R/27899.html" title="Multiple referred from 3 places.">setPaintManager</a>(<a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> paintManager) <em class="brace">{</em>
<a id="L1398" name="L1398"></a>1398         <strong class="reserved">if</strong> (paintManager == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1399" name="L1399"></a>1399             paintManager = <strong class="reserved">new</strong> <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a>();
<a id="L1400" name="L1400"></a>1400         <em class="brace">}</em>
<a id="L1401" name="L1401"></a>1401         <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> oldPaintManager;
<a id="L1402" name="L1402"></a>1402         <strong class="reserved">synchronized</strong>(<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1403" name="L1403"></a>1403             oldPaintManager = <strong class="reserved">this</strong>.paintManager;
<a id="L1404" name="L1404"></a>1404             <strong class="reserved">this</strong>.paintManager = paintManager;
<a id="L1405" name="L1405"></a>1405             paintManager.repaintManager = <strong class="reserved">this</strong>;
<a id="L1406" name="L1406"></a>1406         <em class="brace">}</em>
<a id="L1407" name="L1407"></a>1407         <strong class="reserved">if</strong> (oldPaintManager != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1408" name="L1408"></a>1408             oldPaintManager.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L1409" name="L1409"></a>1409         <em class="brace">}</em>
<a id="L1410" name="L1410"></a>1410     <em class="brace">}</em>
<a id="L1411" name="L1411"></a>1411 
<a id="L1412" name="L1412"></a>1412     <strong class="reserved">private</strong> <strong class="reserved">synchronized</strong> <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> <a href="../R/18236.html" title="Multiple referred from 7 places.">getPaintManager</a>() <em class="brace">{</em>
<a id="L1413" name="L1413"></a>1413         <strong class="reserved">if</strong> (paintManager == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1414" name="L1414"></a>1414             <a href="../S/3429.html#L1460" title="Defined at 1460 in src/javax/swing/RepaintManager.java.">PaintManager</a> paintManager = <strong class="reserved">null</strong>;
<a id="L1415" name="L1415"></a>1415             <strong class="reserved">if</strong> (doubleBufferingEnabled &amp;&amp; !nativeDoubleBuffering) <em class="brace">{</em>
<a id="L1416" name="L1416"></a>1416                 <strong class="reserved">switch</strong> (bufferStrategyType) <em class="brace">{</em>
<a id="L1417" name="L1417"></a>1417                 <strong class="reserved">case</strong> BUFFER_STRATEGY_NOT_SPECIFIED:
<a id="L1418" name="L1418"></a>1418                     <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a> tk = <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>();
<a id="L1419" name="L1419"></a>1419                     <strong class="reserved">if</strong> (tk <strong class="reserved">instanceof</strong> SunToolkit) <em class="brace">{</em>
<a id="L1420" name="L1420"></a>1420                         SunToolkit stk = (SunToolkit) tk;
<a id="L1421" name="L1421"></a>1421                         <strong class="reserved">if</strong> (stk.useBufferPerWindow()) <em class="brace">{</em>
<a id="L1422" name="L1422"></a>1422                             paintManager = <strong class="reserved">new</strong> <a href="../S/3167.html#L48" title="Defined at 48 in src/javax/swing/BufferStrategyPaintManager.java.">BufferStrategyPaintManager</a>();
<a id="L1423" name="L1423"></a>1423                         <em class="brace">}</em>
<a id="L1424" name="L1424"></a>1424                     <em class="brace">}</em>
<a id="L1425" name="L1425"></a>1425                     <strong class="reserved">break</strong>;
<a id="L1426" name="L1426"></a>1426                 <strong class="reserved">case</strong> BUFFER_STRATEGY_SPECIFIED_ON:
<a id="L1427" name="L1427"></a>1427                     paintManager = <strong class="reserved">new</strong> <a href="../S/3167.html#L48" title="Defined at 48 in src/javax/swing/BufferStrategyPaintManager.java.">BufferStrategyPaintManager</a>();
<a id="L1428" name="L1428"></a>1428                     <strong class="reserved">break</strong>;
<a id="L1429" name="L1429"></a>1429                 <strong class="reserved">default</strong>:
<a id="L1430" name="L1430"></a>1430                     <strong class="reserved">break</strong>;
<a id="L1431" name="L1431"></a>1431                 <em class="brace">}</em>
<a id="L1432" name="L1432"></a>1432             <em class="brace">}</em>
<a id="L1433" name="L1433"></a>1433             <em class="comment">// null case handled in setPaintManager</em>
<a id="L1434" name="L1434"></a>1434             <a href="../S/3429.html#L1397" title="Defined at 1397 in src/javax/swing/RepaintManager.java.">setPaintManager</a>(paintManager);
<a id="L1435" name="L1435"></a>1435         <em class="brace">}</em>
<a id="L1436" name="L1436"></a>1436         <strong class="reserved">return</strong> paintManager;
<a id="L1437" name="L1437"></a>1437     <em class="brace">}</em>
<a id="L1438" name="L1438"></a>1438 
<a id="L1439" name="L1439"></a>1439     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26672.html" title="Multiple referred from 4 places.">scheduleProcessingRunnable</a>(AppContext <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1440" name="L1440"></a>1440         <strong class="reserved">if</strong> (processingRunnable.<a href="../S/3429.html#L1710" title="Defined at 1710 in src/javax/swing/RepaintManager.java.">markPending</a>()) <em class="brace">{</em>
<a id="L1441" name="L1441"></a>1441             <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a> tk = <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>();
<a id="L1442" name="L1442"></a>1442             <strong class="reserved">if</strong> (tk <strong class="reserved">instanceof</strong> SunToolkit) <em class="brace">{</em>
<a id="L1443" name="L1443"></a>1443                 SunToolkit.getSystemEventQueueImplPP(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>).
<a id="L1444" name="L1444"></a>1444                   <a href="../D/29484.html" title="Multiple defined in 6 places.">postEvent</a>(<strong class="reserved">new</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>(<a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>(),
<a id="L1445" name="L1445"></a>1445                                                 processingRunnable));
<a id="L1446" name="L1446"></a>1446             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1447" name="L1447"></a>1447                 <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>().<a href="../S/2437.html#L1716" title="Defined at 1716 in src/java/awt/Toolkit.java.">getSystemEventQueue</a>().
<a id="L1448" name="L1448"></a>1448                       <a href="../D/29484.html" title="Multiple defined in 6 places.">postEvent</a>(<strong class="reserved">new</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>(<a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>(),
<a id="L1449" name="L1449"></a>1449                                                     processingRunnable));
<a id="L1450" name="L1450"></a>1450             <em class="brace">}</em>
<a id="L1451" name="L1451"></a>1451         <em class="brace">}</em>
<a id="L1452" name="L1452"></a>1452     <em class="brace">}</em>
<a id="L1453" name="L1453"></a>1453 
<a id="L1454" name="L1454"></a>1454 
<div class="comment">
      PaintManager is used to handle all double buffered painting for
      Swing.  Subclasses should call back into the JComponent method
      <code>paintToOffscreen</code> to handle the actual painting.</div>
<a id="L1460" name="L1460"></a>1460     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5986.html" title="Multiple referred from 14 places.">PaintManager</a> <em class="brace">{</em>
<div class="comment">
          RepaintManager the PaintManager has been installed on.</div>
<a id="L1464" name="L1464"></a>1464         <strong class="reserved">protected</strong> <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> repaintManager;
<a id="L1465" name="L1465"></a>1465         <strong class="reserved">boolean</strong> <a href="../S/3429.html#L1631" title="Defined at 1631 in src/javax/swing/RepaintManager.java.">isRepaintingRoot</a>;
<a id="L1466" name="L1466"></a>1466 
<div class="comment">
          Paints a region of a component
          @param paintingComponent Component to paint
          @param bufferComponent Component to obtain buffer for
          @param g Graphics to paint to
          @param x X-coordinate
          @param y Y-coordinate
          @param w Width
          @param h Height
          @return true if painting was successful.</div>
<a id="L1479" name="L1479"></a>1479         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> paintingComponent,
<a id="L1480" name="L1480"></a>1480                              <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> bufferComponent, <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g,
<a id="L1481" name="L1481"></a>1481                              <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L1482" name="L1482"></a>1482             <em class="comment">// First attempt to use VolatileImage buffer for performance.</em>
<a id="L1483" name="L1483"></a>1483             <em class="comment">// If this fails (which should rarely occur), fallback to a</em>
<a id="L1484" name="L1484"></a>1484             <em class="comment">// standard Image buffer.</em>
<a id="L1485" name="L1485"></a>1485             <strong class="reserved">boolean</strong> paintCompleted = <strong class="reserved">false</strong>;
<a id="L1486" name="L1486"></a>1486             <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> offscreen;
<a id="L1487" name="L1487"></a>1487             <strong class="reserved">if</strong> (repaintManager.<a href="../S/3429.html#L1229" title="Defined at 1229 in src/javax/swing/RepaintManager.java.">useVolatileDoubleBuffer</a>() &amp;&amp;
<a id="L1488" name="L1488"></a>1488                 (offscreen = <a href="../S/3429.html#L1603" title="Defined at 1603 in src/javax/swing/RepaintManager.java.">getValidImage</a>(repaintManager.
<a id="L1489" name="L1489"></a>1489                 <a href="../S/3429.html#L1020" title="Defined at 1020 in src/javax/swing/RepaintManager.java.">getVolatileOffscreenBuffer</a>(bufferComponent, w, h))) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1490" name="L1490"></a>1490                 <a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a> vImage = (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.image.<a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a>)offscreen;
<a id="L1491" name="L1491"></a>1491                 <a href="../S/2117.html#L109" title="Defined at 109 in src/java/awt/GraphicsConfiguration.java.">GraphicsConfiguration</a> <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> = bufferComponent.
<a id="L1492" name="L1492"></a>1492                                             <a href="../D/19361.html" title="Multiple defined in 3 places.">getGraphicsConfiguration</a>();
<a id="L1493" name="L1493"></a>1493                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; !paintCompleted &amp;&amp;
<a id="L1494" name="L1494"></a>1494                          i &lt; <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a>.VOLATILE_LOOP_MAX; i++) <em class="brace">{</em>
<a id="L1495" name="L1495"></a>1495                     <strong class="reserved">if</strong> (vImage.<a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>(<a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>) ==
<a id="L1496" name="L1496"></a>1496                                    <a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a>.IMAGE_INCOMPATIBLE) <em class="brace">{</em>
<a id="L1497" name="L1497"></a>1497                         repaintManager.<a href="../S/3429.html#L1218" title="Defined at 1218 in src/javax/swing/RepaintManager.java.">resetVolatileDoubleBuffer</a>(<a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>);
<a id="L1498" name="L1498"></a>1498                         offscreen = repaintManager.<a href="../S/3429.html#L1020" title="Defined at 1020 in src/javax/swing/RepaintManager.java.">getVolatileOffscreenBuffer</a>(
<a id="L1499" name="L1499"></a>1499                             bufferComponent,w, h);
<a id="L1500" name="L1500"></a>1500                         vImage = (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.image.<a href="../S/2232.html#L133" title="Defined at 133 in src/java/awt/image/VolatileImage.java.">VolatileImage</a>)offscreen;
<a id="L1501" name="L1501"></a>1501                     <em class="brace">}</em>
<a id="L1502" name="L1502"></a>1502                     <a href="../S/3429.html#L1558" title="Defined at 1558 in src/javax/swing/RepaintManager.java.">paintDoubleBuffered</a>(paintingComponent, vImage, g, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y,
<a id="L1503" name="L1503"></a>1503                                         w, h);
<a id="L1504" name="L1504"></a>1504                     paintCompleted = !vImage.<a href="../D/13373.html" title="Multiple defined in 5 places.">contentsLost</a>();
<a id="L1505" name="L1505"></a>1505                 <em class="brace">}</em>
<a id="L1506" name="L1506"></a>1506             <em class="brace">}</em>
<a id="L1507" name="L1507"></a>1507             <em class="comment">// VolatileImage painting loop failed, fallback to regular</em>
<a id="L1508" name="L1508"></a>1508             <em class="comment">// offscreen buffer</em>
<a id="L1509" name="L1509"></a>1509             <strong class="reserved">if</strong> (!paintCompleted &amp;&amp; (offscreen = <a href="../S/3429.html#L1603" title="Defined at 1603 in src/javax/swing/RepaintManager.java.">getValidImage</a>(
<a id="L1510" name="L1510"></a>1510                       repaintManager.<a href="../S/3429.html#L1000" title="Defined at 1000 in src/javax/swing/RepaintManager.java.">getOffscreenBuffer</a>(
<a id="L1511" name="L1511"></a>1511                       bufferComponent, w, h))) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1512" name="L1512"></a>1512                 <a href="../S/3429.html#L1558" title="Defined at 1558 in src/javax/swing/RepaintManager.java.">paintDoubleBuffered</a>(paintingComponent, offscreen, g, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w,
<a id="L1513" name="L1513"></a>1513                                     h);
<a id="L1514" name="L1514"></a>1514                 paintCompleted = <strong class="reserved">true</strong>;
<a id="L1515" name="L1515"></a>1515             <em class="brace">}</em>
<a id="L1516" name="L1516"></a>1516             <strong class="reserved">return</strong> paintCompleted;
<a id="L1517" name="L1517"></a>1517         <em class="brace">}</em>
<a id="L1518" name="L1518"></a>1518 
<div class="comment">
          Does a copy area on the specified region.</div>
<a id="L1522" name="L1522"></a>1522         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12092.html" title="Multiple referred from 9 places.">copyArea</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w,
<a id="L1523" name="L1523"></a>1523                              <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> deltaX, <strong class="reserved">int</strong> deltaY, <strong class="reserved">boolean</strong> <a href="../D/12883.html" title="Multiple defined in 2 places.">clip</a>) <em class="brace">{</em>
<a id="L1524" name="L1524"></a>1524             g.<a href="../D/13479.html" title="Multiple defined in 5 places.">copyArea</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, w, h, deltaX, deltaY);
<a id="L1525" name="L1525"></a>1525         <em class="brace">}</em>
<a id="L1526" name="L1526"></a>1526 
<div class="comment">
          Invoked prior to any calls to paint or copyArea.</div>
<a id="L1530" name="L1530"></a>1530         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10572.html" title="Multiple referred from 6 places.">beginPaint</a>() <em class="brace">{</em>
<a id="L1531" name="L1531"></a>1531         <em class="brace">}</em>
<a id="L1532" name="L1532"></a>1532 
<div class="comment">
          Invoked to indicate painting has been completed.</div>
<a id="L1536" name="L1536"></a>1536         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13783.html" title="Multiple referred from 6 places.">endPaint</a>() <em class="brace">{</em>
<a id="L1537" name="L1537"></a>1537         <em class="brace">}</em>
<a id="L1538" name="L1538"></a>1538 
<div class="comment">
          Shows a region of a previously rendered component.  This
          will return true if successful, false otherwise.  The default
          implementation returns false.</div>
<a id="L1544" name="L1544"></a>1544         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/28563.html" title="Multiple referred from 47 places.">show</a>(<a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L1545" name="L1545"></a>1545             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1546" name="L1546"></a>1546         <em class="brace">}</em>
<a id="L1547" name="L1547"></a>1547 
<div class="comment">
          Invoked when the doubleBuffered or useTrueDoubleBuffering
          properties of a JRootPane change.  This may come in on any thread.</div>
<a id="L1552" name="L1552"></a>1552         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13483.html" title="Multiple referred from 3 places.">doubleBufferingChanged</a>(<a href="../S/2772.html#L203" title="Defined at 203 in src/javax/swing/JRootPane.java.">JRootPane</a> rootPane) <em class="brace">{</em>
<a id="L1553" name="L1553"></a>1553         <em class="brace">}</em>
<a id="L1554" name="L1554"></a>1554 
<div class="comment">
          Paints a portion of a component to an offscreen buffer.</div>
<a id="L1558" name="L1558"></a>1558         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24219.html" title="Multiple referred from 2 places.">paintDoubleBuffered</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> image,
<a id="L1559" name="L1559"></a>1559                             <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g, <strong class="reserved">int</strong> clipX, <strong class="reserved">int</strong> clipY,
<a id="L1560" name="L1560"></a>1560                             <strong class="reserved">int</strong> clipW, <strong class="reserved">int</strong> clipH) <em class="brace">{</em>
<a id="L1561" name="L1561"></a>1561             <a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> osg = image.<a href="../D/19360.html" title="Multiple defined in 12 places.">getGraphics</a>();
<a id="L1562" name="L1562"></a>1562             <strong class="reserved">int</strong> bw = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(clipW, image.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(<strong class="reserved">null</strong>));
<a id="L1563" name="L1563"></a>1563             <strong class="reserved">int</strong> bh = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(clipH, image.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(<strong class="reserved">null</strong>));
<a id="L1564" name="L1564"></a>1564             <strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,y,maxx,maxy;
<a id="L1565" name="L1565"></a>1565 
<a id="L1566" name="L1566"></a>1566             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1567" name="L1567"></a>1567                 <strong class="reserved">for</strong>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = clipX, maxx = clipX+clipW; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; maxx ;  <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += bw ) <em class="brace">{</em>
<a id="L1568" name="L1568"></a>1568                     <strong class="reserved">for</strong>(y=clipY, maxy = clipY + clipH; y &lt; maxy ; y += bh) <em class="brace">{</em>
<a id="L1569" name="L1569"></a>1569                         osg.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(-<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, -y);
<a id="L1570" name="L1570"></a>1570                         osg.<a href="../D/32167.html" title="Multiple defined in 6 places.">setClip</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,y,bw,bh);
<a id="L1571" name="L1571"></a>1571                         <strong class="reserved">if</strong> (volatileBufferType != <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.OPAQUE
<a id="L1572" name="L1572"></a>1572                                 &amp;&amp; osg <strong class="reserved">instanceof</strong> <a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a>) <em class="brace">{</em>
<a id="L1573" name="L1573"></a>1573                             <strong class="reserved">final</strong> <a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a> g2d = (<a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a>) osg;
<a id="L1574" name="L1574"></a>1574                             <strong class="reserved">final</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> oldBg = g2d.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>();
<a id="L1575" name="L1575"></a>1575                             g2d.<a href="../D/31972.html" title="Multiple defined in 25 places.">setBackground</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>());
<a id="L1576" name="L1576"></a>1576                             g2d.<a href="../D/12862.html" title="Multiple defined in 2 places.">clearRect</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, bw, bh);
<a id="L1577" name="L1577"></a>1577                             g2d.<a href="../D/31972.html" title="Multiple defined in 25 places.">setBackground</a>(oldBg);
<a id="L1578" name="L1578"></a>1578                         <em class="brace">}</em>
<a id="L1579" name="L1579"></a>1579                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/3152.html#L5200" title="Defined at 5200 in src/javax/swing/JComponent.java.">paintToOffscreen</a>(osg, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, bw, bh, maxx, maxy);
<a id="L1580" name="L1580"></a>1580                         g.<a href="../D/32167.html" title="Multiple defined in 6 places.">setClip</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, bw, bh);
<a id="L1581" name="L1581"></a>1581                         <strong class="reserved">if</strong> (volatileBufferType != <a href="../S/2170.html#L34" title="Defined at 34 in src/java/awt/Transparency.java.">Transparency</a>.OPAQUE
<a id="L1582" name="L1582"></a>1582                                 &amp;&amp; g <strong class="reserved">instanceof</strong> <a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a>) <em class="brace">{</em>
<a id="L1583" name="L1583"></a>1583                             <strong class="reserved">final</strong> <a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a> g2d = (<a href="../S/2098.html#L407" title="Defined at 407 in src/java/awt/Graphics2D.java.">Graphics2D</a>) g;
<a id="L1584" name="L1584"></a>1584                             <strong class="reserved">final</strong> <a href="../S/2307.html#L68" title="Defined at 68 in src/java/awt/Composite.java.">Composite</a> oldComposite = g2d.<a href="../S/2098.html#L1152" title="Defined at 1152 in src/java/awt/Graphics2D.java.">getComposite</a>();
<a id="L1585" name="L1585"></a>1585                             g2d.<a href="../S/2098.html#L859" title="Defined at 859 in src/java/awt/Graphics2D.java.">setComposite</a>(<a href="../S/2356.html#L346" title="Defined at 346 in src/java/awt/AlphaComposite.java.">AlphaComposite</a>.Src);
<a id="L1586" name="L1586"></a>1586                             g2d.<a href="../D/15196.html" title="Multiple defined in 16 places.">drawImage</a>(image, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1587" name="L1587"></a>1587                             g2d.<a href="../S/2098.html#L859" title="Defined at 859 in src/java/awt/Graphics2D.java.">setComposite</a>(oldComposite);
<a id="L1588" name="L1588"></a>1588                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1589" name="L1589"></a>1589                             g.<a href="../D/15196.html" title="Multiple defined in 16 places.">drawImage</a>(image, <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1590" name="L1590"></a>1590                         <em class="brace">}</em>
<a id="L1591" name="L1591"></a>1591                         osg.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y);
<a id="L1592" name="L1592"></a>1592                     <em class="brace">}</em>
<a id="L1593" name="L1593"></a>1593                 <em class="brace">}</em>
<a id="L1594" name="L1594"></a>1594             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1595" name="L1595"></a>1595                 osg.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L1596" name="L1596"></a>1596             <em class="brace">}</em>
<a id="L1597" name="L1597"></a>1597         <em class="brace">}</em>
<a id="L1598" name="L1598"></a>1598 
<div class="comment">
          If <code>image</code> is non-null with a positive size it
          is returned, otherwise null is returned.</div>
<a id="L1603" name="L1603"></a>1603         <strong class="reserved">private</strong> <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> <a href="../R/19745.html" title="Multiple referred from 2 places.">getValidImage</a>(<a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> image) <em class="brace">{</em>
<a id="L1604" name="L1604"></a>1604             <strong class="reserved">if</strong> (image != <strong class="reserved">null</strong> &amp;&amp; image.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>(<strong class="reserved">null</strong>) &gt; 0 &amp;&amp;
<a id="L1605" name="L1605"></a>1605                                  image.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>(<strong class="reserved">null</strong>) &gt; 0) <em class="brace">{</em>
<a id="L1606" name="L1606"></a>1606                 <strong class="reserved">return</strong> image;
<a id="L1607" name="L1607"></a>1607             <em class="brace">}</em>
<a id="L1608" name="L1608"></a>1608             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1609" name="L1609"></a>1609         <em class="brace">}</em>
<a id="L1610" name="L1610"></a>1610 
<div class="comment">
          Schedules a repaint for the specified component.  This differs
          from <code>root.repaint</code> in that if the RepaintManager is
          currently processing paint requests it'll process this request
          with the current set of requests.</div>
<a id="L1617" name="L1617"></a>1617         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26130.html" title="Multiple referred from 14 places.">repaintRoot</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>) <em class="brace">{</em>
<a id="L1618" name="L1618"></a>1618             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> (repaintManager.<a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a> == <strong class="reserved">null</strong>);
<a id="L1619" name="L1619"></a>1619             <strong class="reserved">if</strong> (repaintManager.painting) <em class="brace">{</em>
<a id="L1620" name="L1620"></a>1620                 repaintManager.<a href="../S/3429.html#L1617" title="Defined at 1617 in src/javax/swing/RepaintManager.java.">repaintRoot</a> = <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L1621" name="L1621"></a>1621             <em class="brace">}</em>
<a id="L1622" name="L1622"></a>1622             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1623" name="L1623"></a>1623                 <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>();
<a id="L1624" name="L1624"></a>1624             <em class="brace">}</em>
<a id="L1625" name="L1625"></a>1625         <em class="brace">}</em>
<a id="L1626" name="L1626"></a>1626 
<div class="comment">
          Returns true if the component being painted is the root component
          that was previously passed to <code>repaintRoot</code>.</div>
<a id="L1631" name="L1631"></a>1631         <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21950.html" title="Multiple referred from 6 places.">isRepaintingRoot</a>() <em class="brace">{</em>
<a id="L1632" name="L1632"></a>1632             <strong class="reserved">return</strong> <a href="../S/3429.html#L1631" title="Defined at 1631 in src/javax/swing/RepaintManager.java.">isRepaintingRoot</a>;
<a id="L1633" name="L1633"></a>1633         <em class="brace">}</em>
<a id="L1634" name="L1634"></a>1634 
<div class="comment">
          Cleans up any state.  After invoked the PaintManager will no
          longer be used anymore.</div>
<a id="L1639" name="L1639"></a>1639         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13337.html" title="Multiple referred from 363 places.">dispose</a>() <em class="brace">{</em>
<a id="L1640" name="L1640"></a>1640         <em class="brace">}</em>
<a id="L1641" name="L1641"></a>1641     <em class="brace">}</em>
<a id="L1642" name="L1642"></a>1642 
<a id="L1643" name="L1643"></a>1643 
<a id="L1644" name="L1644"></a>1644     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2387.html" title="Multiple referred from 3 places.">DoubleBufferInfo</a> <em class="brace">{</em>
<a id="L1645" name="L1645"></a>1645         <strong class="reserved">public</strong> <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> image;
<a id="L1646" name="L1646"></a>1646         <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L1647" name="L1647"></a>1647         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> needsReset = <strong class="reserved">false</strong>;
<a id="L1648" name="L1648"></a>1648     <em class="brace">}</em>
<a id="L1649" name="L1649"></a>1649 
<a id="L1650" name="L1650"></a>1650 
<div class="comment">
      Listener installed to detect display changes. When display changes,
      schedules a callback to notify all RepaintManagers of the display
      changes. Only one DisplayChangedHandler is ever installed. The
      singleton instance will schedule notification for all AppContexts.</div>
<a id="L1657" name="L1657"></a>1657     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/3429.html#L193" title="Referred from 193 in src/javax/swing/RepaintManager.java.">DisplayChangedHandler</a> <strong class="reserved">implements</strong>
<a id="L1658" name="L1658"></a>1658                                              DisplayChangedListener <em class="brace">{</em>
<a id="L1659" name="L1659"></a>1659         <em class="comment">// Empty non private constructor was added because access to this</em>
<a id="L1660" name="L1660"></a>1660         <em class="comment">// class shouldn't be generated by the compiler using synthetic</em>
<a id="L1661" name="L1661"></a>1661         <em class="comment">// accessor method</em>
<a id="L1662" name="L1662"></a>1662         DisplayChangedHandler() <em class="brace">{</em>
<a id="L1663" name="L1663"></a>1663         <em class="brace">}</em>
<a id="L1664" name="L1664"></a>1664 
<a id="L1665" name="L1665"></a>1665         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L1694" title="Referred from 1694 in src/javax/swing/RepaintManager.java.">displayChanged</a>() <em class="brace">{</em>
<a id="L1666" name="L1666"></a>1666             <a href="../S/3429.html#L1672" title="Defined at 1672 in src/javax/swing/RepaintManager.java.">scheduleDisplayChanges</a>();
<a id="L1667" name="L1667"></a>1667         <em class="brace">}</em>
<a id="L1668" name="L1668"></a>1668 
<a id="L1669" name="L1669"></a>1669         <strong class="reserved">public</strong> <strong class="reserved">void</strong> paletteChanged() <em class="brace">{</em>
<a id="L1670" name="L1670"></a>1670         <em class="brace">}</em>
<a id="L1671" name="L1671"></a>1671 
<a id="L1672" name="L1672"></a>1672         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/3429.html#L1666" title="Referred from 1666 in src/javax/swing/RepaintManager.java.">scheduleDisplayChanges</a>() <em class="brace">{</em>
<a id="L1673" name="L1673"></a>1673             <em class="comment">// To avoid threading problems, we notify each RepaintManager</em>
<a id="L1674" name="L1674"></a>1674             <em class="comment">// on the thread it was created on.</em>
<a id="L1675" name="L1675"></a>1675             <strong class="reserved">for</strong> (AppContext <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> : AppContext.getAppContexts()) <em class="brace">{</em>
<a id="L1676" name="L1676"></a>1676                 <strong class="reserved">synchronized</strong>(<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1677" name="L1677"></a>1677                     <strong class="reserved">if</strong> (!<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/25453.html" title="Multiple defined in 2 places.">isDisposed</a>()) <em class="brace">{</em>
<a id="L1678" name="L1678"></a>1678                         <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a> eventQueue = (<a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>)<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(
<a id="L1679" name="L1679"></a>1679                             AppContext.EVENT_QUEUE_KEY);
<a id="L1680" name="L1680"></a>1680                         <strong class="reserved">if</strong> (eventQueue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1681" name="L1681"></a>1681                             eventQueue.<a href="../D/29484.html" title="Multiple defined in 6 places.">postEvent</a>(<strong class="reserved">new</strong> <a href="../S/2403.html#L59" title="Defined at 59 in src/java/awt/event/InvocationEvent.java.">InvocationEvent</a>(
<a id="L1682" name="L1682"></a>1682                                 <a href="../S/2437.html#L113" title="Defined at 113 in src/java/awt/Toolkit.java.">Toolkit</a>.<a href="../S/2437.html#L852" title="Defined at 852 in src/java/awt/Toolkit.java.">getDefaultToolkit</a>(),
<a id="L1683" name="L1683"></a>1683                                 <strong class="reserved">new</strong> <a href="../S/3429.html#L1692" title="Defined at 1692 in src/javax/swing/RepaintManager.java.">DisplayChangedRunnable</a>()));
<a id="L1684" name="L1684"></a>1684                         <em class="brace">}</em>
<a id="L1685" name="L1685"></a>1685                     <em class="brace">}</em>
<a id="L1686" name="L1686"></a>1686                 <em class="brace">}</em>
<a id="L1687" name="L1687"></a>1687             <em class="brace">}</em>
<a id="L1688" name="L1688"></a>1688         <em class="brace">}</em>
<a id="L1689" name="L1689"></a>1689     <em class="brace">}</em>
<a id="L1690" name="L1690"></a>1690 
<a id="L1691" name="L1691"></a>1691 
<a id="L1692" name="L1692"></a>1692     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/3429.html#L1683" title="Referred from 1683 in src/javax/swing/RepaintManager.java.">DisplayChangedRunnable</a> <strong class="reserved">implements</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> <em class="brace">{</em>
<a id="L1693" name="L1693"></a>1693         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em>
<a id="L1694" name="L1694"></a>1694             <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a>.<a href="../D/14425.html" title="Multiple defined in 3 places.">currentManager</a>((<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>)<strong class="reserved">null</strong>).<a href="../D/14966.html" title="Multiple defined in 2 places.">displayChanged</a>();
<a id="L1695" name="L1695"></a>1695         <em class="brace">}</em>
<a id="L1696" name="L1696"></a>1696     <em class="brace">}</em>
<a id="L1697" name="L1697"></a>1697 
<a id="L1698" name="L1698"></a>1698 
<div class="comment">
      Runnable used to process all repaint/revalidate requests.</div>
<a id="L1702" name="L1702"></a>1702     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6292.html" title="Multiple referred from 2 places.">ProcessingRunnable</a> <strong class="reserved">implements</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> <em class="brace">{</em>
<a id="L1703" name="L1703"></a>1703         <em class="comment">// If true, we're wainting on the EventQueue.</em>
<a id="L1704" name="L1704"></a>1704         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> pending;
<a id="L1705" name="L1705"></a>1705 
<div class="comment">
          Marks this processing runnable as pending. If this was not
          already marked as pending, true is returned.</div>
<a id="L1710" name="L1710"></a>1710         <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../S/3429.html#L1440" title="Referred from 1440 in src/javax/swing/RepaintManager.java.">markPending</a>() <em class="brace">{</em>
<a id="L1711" name="L1711"></a>1711             <strong class="reserved">if</strong> (!pending) <em class="brace">{</em>
<a id="L1712" name="L1712"></a>1712                 pending = <strong class="reserved">true</strong>;
<a id="L1713" name="L1713"></a>1713                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1714" name="L1714"></a>1714             <em class="brace">}</em>
<a id="L1715" name="L1715"></a>1715             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1716" name="L1716"></a>1716         <em class="brace">}</em>
<a id="L1717" name="L1717"></a>1717 
<a id="L1718" name="L1718"></a>1718         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em>
<a id="L1719" name="L1719"></a>1719             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1720" name="L1720"></a>1720                 pending = <strong class="reserved">false</strong>;
<a id="L1721" name="L1721"></a>1721             <em class="brace">}</em>
<a id="L1722" name="L1722"></a>1722             <em class="comment">// First pass, flush any heavy paint events into real paint</em>
<a id="L1723" name="L1723"></a>1723             <em class="comment">// events.  If there are pending heavy weight requests this will</em>
<a id="L1724" name="L1724"></a>1724             <em class="comment">// result in q'ing this request up one more time.  As</em>
<a id="L1725" name="L1725"></a>1725             <em class="comment">// long as no other requests come in between now and the time</em>
<a id="L1726" name="L1726"></a>1726             <em class="comment">// the second one is processed nothing will happen.  This is not</em>
<a id="L1727" name="L1727"></a>1727             <em class="comment">// ideal, but the logic needed to suppress the second request is</em>
<a id="L1728" name="L1728"></a>1728             <em class="comment">// more headache than it's worth.</em>
<a id="L1729" name="L1729"></a>1729             <a href="../S/3429.html#L525" title="Defined at 525 in src/javax/swing/RepaintManager.java.">scheduleHeavyWeightPaints</a>();
<a id="L1730" name="L1730"></a>1730             <em class="comment">// Do the actual validation and painting.</em>
<a id="L1731" name="L1731"></a>1731             <a href="../S/3429.html#L693" title="Defined at 693 in src/javax/swing/RepaintManager.java.">validateInvalidComponents</a>();
<a id="L1732" name="L1732"></a>1732             <a href="../S/3429.html#L725" title="Defined at 725 in src/javax/swing/RepaintManager.java.">prePaintDirtyRegions</a>();
<a id="L1733" name="L1733"></a>1733         <em class="brace">}</em>
<a id="L1734" name="L1734"></a>1734     <em class="brace">}</em>
<a id="L1735" name="L1735"></a>1735     <strong class="reserved">private</strong> <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> <a href="../R/16099.html" title="Multiple referred from 36 places.">getDelegate</a>(<a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1736" name="L1736"></a>1736         <a href="../S/3429.html#L64" title="Defined at 64 in src/javax/swing/RepaintManager.java.">RepaintManager</a> delegate = <a href="../S/6630.html#L57" title="Defined at 57 in src/com/sun/java/swing/SwingUtilities3.java.">SwingUtilities3</a>.<a href="../S/6630.html#L119" title="Defined at 119 in src/com/sun/java/swing/SwingUtilities3.java.">getDelegateRepaintManager</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1737" name="L1737"></a>1737         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == delegate) <em class="brace">{</em>
<a id="L1738" name="L1738"></a>1738             delegate = <strong class="reserved">null</strong>;
<a id="L1739" name="L1739"></a>1739         <em class="brace">}</em>
<a id="L1740" name="L1740"></a>1740         <strong class="reserved">return</strong> delegate;
<a id="L1741" name="L1741"></a>1741     <em class="brace">}</em>
<a id="L1742" name="L1742"></a>1742 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L255">[^]</a><a href="#L1735">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>