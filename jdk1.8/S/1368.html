<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/KeyStore.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L224">[^]</a><a href="#L1996">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L224" title="Defined at 224.">getProtectionParameter</a></li>
<li><a href="#L316" title="Defined at 316.">getProtectionAlgorithm</a></li>
<li><a href="#L328" title="Defined at 328.">getProtectionParameters</a></li>
<li><a href="#L345" title="Defined at 345.">getPassword</a></li>
<li><a href="#L358" title="Defined at 358.">destroy</a></li>
<li><a href="#L370" title="Defined at 370.">isDestroyed</a></li>
<li><a href="#L404" title="Defined at 404.">getCallbackHandler</a></li>
<li><a href="#L426" title="Defined at 426.">getAttributes</a></li>
<li><a href="#L442" title="Defined at 442.">getName</a></li>
<li><a href="#L450" title="Defined at 450.">getValue</a></li>
<li><a href="#L568" title="Defined at 568.">getPrivateKey</a></li>
<li><a href="#L583" title="Defined at 583.">getCertificateChain</a></li>
<li><a href="#L597" title="Defined at 597.">getCertificate</a></li>
<li><a href="#L610" title="Defined at 610.">getAttributes</a></li>
<li><a href="#L618" title="Defined at 618.">toString</a></li>
<li><a href="#L688" title="Defined at 688.">getSecretKey</a></li>
<li><a href="#L701" title="Defined at 701.">getAttributes</a></li>
<li><a href="#L709" title="Defined at 709.">toString</a></li>
<li><a href="#L772" title="Defined at 772.">getTrustedCertificate</a></li>
<li><a href="#L785" title="Defined at 785.">getAttributes</a></li>
<li><a href="#L793" title="Defined at 793.">toString</a></li>
<li><a href="#L844" title="Defined at 844.">getInstance</a></li>
<li><a href="#L890" title="Defined at 890.">getInstance</a></li>
<li><a href="#L931" title="Defined at 931.">getInstance</a></li>
<li><a href="#L963" title="Defined at 963.">getDefaultType</a></li>
<li><a href="#L981" title="Defined at 981.">getProvider</a></li>
<li><a href="#L991" title="Defined at 991.">getType</a></li>
<li><a href="#L1016" title="Defined at 1016.">getKey</a></li>
<li><a href="#L1042" title="Defined at 1042.">getCertificateChain</a></li>
<li><a href="#L1075" title="Defined at 1075.">getCertificate</a></li>
<li><a href="#L1095" title="Defined at 1095.">getCreationDate</a></li>
<li><a href="#L1127" title="Defined at 1127.">setKeyEntry</a></li>
<li><a href="#L1167" title="Defined at 1167.">setKeyEntry</a></li>
<li><a href="#L1195" title="Defined at 1195.">setCertificateEntry</a></li>
<li><a href="#L1212" title="Defined at 1212.">deleteEntry</a></li>
<li><a href="#L1229" title="Defined at 1229.">aliases</a></li>
<li><a href="#L1248" title="Defined at 1248.">containsAlias</a></li>
<li><a href="#L1265" title="Defined at 1265.">size</a></li>
<li><a href="#L1288" title="Defined at 1288.">isKeyEntry</a></li>
<li><a href="#L1311" title="Defined at 1311.">isCertificateEntry</a></li>
<li><a href="#L1346" title="Defined at 1346.">getCertificateAlias</a></li>
<li><a href="#L1370" title="Defined at 1370.">store</a></li>
<li><a href="#L1400" title="Defined at 1400.">store</a></li>
<li><a href="#L1442" title="Defined at 1442.">load</a></li>
<li><a href="#L1475" title="Defined at 1475.">load</a></li>
<li><a href="#L1511" title="Defined at 1511.">getEntry</a></li>
<li><a href="#L1548" title="Defined at 1548.">setEntry</a></li>
<li><a href="#L1581" title="Defined at 1581.">entryInstanceOf</a></li>
<li><a href="#L1630" title="Defined at 1630.">getKeyStore</a></li>
<li><a href="#L1647" title="Defined at 1647.">getProtectionParameter</a></li>
<li><a href="#L1669" title="Defined at 1669.">newInstance</a></li>
<li><a href="#L1742" title="Defined at 1742.">newInstance</a></li>
<li><a href="#L1785" title="Defined at 1785.">getKeyStore</a></li>
<li><a href="#L1868" title="Defined at 1868.">getProtectionParameter</a></li>
<li><a href="#L1907" title="Defined at 1907.">newInstance</a></li>
<li><a href="#L1996" title="Defined at 1996.">getProtectionParameter</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.net.URI;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.security.cert.Certificate;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.security.cert.X509Certificate;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.cert.CertificateException;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.spec.AlgorithmParameterSpec;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.crypto.SecretKey;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> javax.security.auth.DestroyFailedException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> javax.security.auth.callback.*;
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> sun.security.util.Debug;
<a id="L41" name="L41"></a>  41 
<div class="comment">
  This class represents a storage facility for cryptographic
  keys and certificates.
  <p> A <code>KeyStore</code> manages different types of entries.
  Each type of entry implements the <code>KeyStore.Entry</code> interface.
  Three basic <code>KeyStore.Entry</code> implementations are provided:
  </p><ul><li><b>KeyStore.PrivateKeyEntry</b>
  <p> This type of entry holds a cryptographic <code>PrivateKey</code>,
  which is optionally stored in a protected format to prevent
  unauthorized access.  It is also accompanied by a certificate chain
  for the corresponding public key.
  </p><p> Private keys and certificate chains are used by a given entity for
  self-authentication. Applications for this authentication include software
  distribution organizations which sign JAR files as part of releasing
  and/or licensing software.
  </p></li><li><b>KeyStore.SecretKeyEntry</b>
  <p> This type of entry holds a cryptographic <code>SecretKey</code>,
  which is optionally stored in a protected format to prevent
  unauthorized access.
  </p></li><li><b>KeyStore.TrustedCertificateEntry</b>
  <p> This type of entry contains a single public key <code>Certificate</code>
  belonging to another party. It is called a <i>trusted certificate</i>
  because the keystore owner trusts that the public key in the certificate
  indeed belongs to the identity identified by the <i>subject</i> (owner)
  of the certificate.
  </p><p>This type of entry can be used to authenticate other parties.
  </p></li></ul>
  <p> Each entry in a keystore is identified by an "alias" string. In the
  case of private keys and their associated certificate chains, these strings
  distinguish among the different ways in which the entity may authenticate
  itself. For example, the entity may authenticate itself using different
  certificate authorities, or using different public key algorithms.
  </p><p> Whether aliases are case sensitive is implementation dependent. In order
  to avoid problems, it is recommended not to use aliases in a KeyStore that
  only differ in case.
  </p><p> Whether keystores are persistent, and the mechanisms used by the
  keystore if it is persistent, are not specified here. This allows
  use of a variety of techniques for protecting sensitive (e.g., private or
  secret) keys. Smart cards or other integrated cryptographic engines
  (SafeKeyper) are one option, and simpler mechanisms such as files may also
  be used (in a variety of formats).
  </p><p> Typical ways to request a KeyStore object include
  relying on the default type and providing a specific keystore type.
  </p><ul><li>To rely on the default type:
  <pre>     KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());
  </pre>
  The system will return a keystore implementation for the default type.
  </li><li>To provide a specific keystore type:
  <pre>       KeyStore ks = KeyStore.getInstance("JKS");
  </pre>
  The system will return the most preferred implementation of the
  specified keystore type available in the environment. <p>
  </p></li></ul>
  <p> Before a keystore can be accessed, it must be
  {@link #load(java.io.InputStream, char[]) loaded}.
  </p><pre>     KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());
     // get user password and file input stream
     char[] password = getPassword();
     try (FileInputStream fis = new FileInputStream("keyStoreName")) {
         ks.load(fis, password);
     }
  </pre>
  To create an empty keystore using the above <code>load</code> method,
  pass <code>null</code> as the <code>InputStream</code> argument.
  <p> Once the keystore has been loaded, it is possible
  to read existing entries from the keystore, or to write new entries
  into the keystore:
  </p><pre>     KeyStore.ProtectionParameter protParam =
         new KeyStore.PasswordProtection(password);
     // get my private key
     KeyStore.PrivateKeyEntry pkEntry = (KeyStore.PrivateKeyEntry)
         ks.getEntry("privateKeyAlias", protParam);
     PrivateKey myPrivateKey = pkEntry.getPrivateKey();
     // save my secret key
     javax.crypto.SecretKey mySecretKey;
     KeyStore.SecretKeyEntry skEntry =
         new KeyStore.SecretKeyEntry(mySecretKey);
     ks.setEntry("secretKeyAlias", skEntry, protParam);
     // store away the keystore
     try (FileOutputStream fos = new FileOutputStream("newKeyStoreName")) {
         ks.store(fos, password);
     }
  </pre>
  Note that although the same password may be used to
  load the keystore, to protect the private key entry,
  to protect the secret key entry, and to store the keystore
  (as is shown in the sample code above),
  different passwords or other protection parameters
  may also be used.
  <p> Every implementation of the Java platform is required to support
  the following standard <code>KeyStore</code> type:
  </p><ul><li><code>PKCS12</code></li>
  </ul>
  This type is described in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyStore">
  KeyStore section</a> of the
  Java Cryptography Architecture Standard Algorithm Name Documentation.
  Consult the release documentation for your implementation to see if any
  other types are supported.
  @author Jan Luehe
  @see java.security.PrivateKey
  @see javax.crypto.SecretKey
  @see java.security.cert.Certificate
  @since 1.2</div>
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/4392.html" title="Multiple referred from 81 places.">KeyStore</a> <em class="brace">{</em>
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a> pdebug =
<a id="L183" name="L183"></a> 183                         <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("provider", "Provider");
<a id="L184" name="L184"></a> 184     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> skipDebug =
<a id="L185" name="L185"></a> 185         <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.isOn("engine=") &amp;&amp; !<a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.isOn("keystore");
<a id="L186" name="L186"></a> 186 
<div class="comment">
      Constant to lookup in the Security properties file to determine
      the default keystore type.
      In the Security properties file, the default keystore type is given as:
      <pre>      keystore.type=jks
      </pre></div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> KEYSTORE_TYPE = "keystore.type";
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197     <em class="comment">// The keystore type</em>
<a id="L198" name="L198"></a> 198     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L199" name="L199"></a> 199 
<a id="L200" name="L200"></a> 200     <em class="comment">// The provider</em>
<a id="L201" name="L201"></a> 201     <strong class="reserved">private</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L202" name="L202"></a> 202 
<a id="L203" name="L203"></a> 203     <em class="comment">// The provider implementation</em>
<a id="L204" name="L204"></a> 204     <strong class="reserved">private</strong> <a href="../S/1317.html#L54" title="Defined at 54 in src/java/security/KeyStoreSpi.java.">KeyStoreSpi</a> keyStoreSpi;
<a id="L205" name="L205"></a> 205 
<a id="L206" name="L206"></a> 206     <em class="comment">// Has this keystore been initialized (loaded)?</em>
<a id="L207" name="L207"></a> 207     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> = <strong class="reserved">false</strong>;
<a id="L208" name="L208"></a> 208 
<div class="comment">
      A marker interface for <code>KeyStore</code>
      {@link #load(KeyStore.LoadStoreParameter) load}
      and
      {@link #store(KeyStore.LoadStoreParameter) store}
      parameters.
      @since 1.5</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">interface</strong> <a href="../R/4672.html" title="Multiple referred from 7 places.">LoadStoreParameter</a> <em class="brace">{</em>
<div class="comment">
          Gets the parameter used to protect keystore data.
          @return the parameter used to protect keystore data, or null</div>
<a id="L224" name="L224"></a> 224         <strong class="reserved">public</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> <a href="../R/18528.html" title="Multiple referred from 3 places.">getProtectionParameter</a>();
<a id="L225" name="L225"></a> 225     <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<div class="comment">
      A marker interface for keystore protection parameters.
      <p> The information stored in a <code>ProtectionParameter</code>
      object protects the contents of a keystore.
      For example, protection parameters may be used to check
      the integrity of keystore data, or to protect the
      confidentiality of sensitive keystore data
      (such as a <code>PrivateKey</code>).
      @since 1.5</p></div>
<a id="L239" name="L239"></a> 239     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">interface</strong> <a href="../R/6331.html" title="Multiple referred from 25 places.">ProtectionParameter</a> <em class="brace">{</em> <em class="brace">}</em>
<a id="L240" name="L240"></a> 240 
<div class="comment">
      A password-based implementation of <code>ProtectionParameter</code>.
      @since 1.5</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6067.html" title="Multiple referred from 12 places.">PasswordProtection</a> <strong class="reserved">implements</strong>
<a id="L247" name="L247"></a> 247                 <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a>, <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.security.auth.<a href="../S/2648.html#L34" title="Defined at 34 in src/javax/security/auth/Destroyable.java.">Destroyable</a> <em class="brace">{</em>
<a id="L248" name="L248"></a> 248 
<a id="L249" name="L249"></a> 249         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">char</strong>[] password;
<a id="L250" name="L250"></a> 250         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protectionAlgorithm;
<a id="L251" name="L251"></a> 251         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1236.html#L44" title="Defined at 44 in src/java/security/spec/AlgorithmParameterSpec.java.">AlgorithmParameterSpec</a> protectionParameters;
<a id="L252" name="L252"></a> 252         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> destroyed = <strong class="reserved">false</strong>;
<a id="L253" name="L253"></a> 253 
<div class="comment">
          Creates a password parameter.
          <p> The specified <code>password</code> is cloned before it is stored
          in the new <code>PasswordProtection</code> object.
          @param password the password, which may be <code>null</code></p></div>
<a id="L262" name="L262"></a> 262         <strong class="reserved">public</strong> PasswordProtection(<strong class="reserved">char</strong>[] password) <em class="brace">{</em>
<a id="L263" name="L263"></a> 263             <strong class="reserved">this</strong>.password = (password == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : password.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L264" name="L264"></a> 264             <strong class="reserved">this</strong>.protectionAlgorithm = <strong class="reserved">null</strong>;
<a id="L265" name="L265"></a> 265             <strong class="reserved">this</strong>.protectionParameters = <strong class="reserved">null</strong>;
<a id="L266" name="L266"></a> 266         <em class="brace">}</em>
<a id="L267" name="L267"></a> 267 
<div class="comment">
          Creates a password parameter and specifies the protection algorithm
          and associated parameters to use when encrypting a keystore entry.
          <p>
          The specified <code>password</code> is cloned before it is stored in the
          new <code>PasswordProtection</code> object.
          @param password the password, which may be <code>null</code>
          @param protectionAlgorithm the encryption algorithm name, for
              example, <code>PBEWithHmacSHA256AndAES_256</code>.
              See the Cipher section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#Cipher">
          Java Cryptography Architecture Standard Algorithm Name
          Documentation</a>
              for information about standard encryption algorithm names.
          @param protectionParameters the encryption algorithm parameter
              specification, which may be <code>null</code>
          @exception NullPointerException if <code>protectionAlgorithm</code> is
              <code>null</code>
          @since 1.8</p></div>
<a id="L290" name="L290"></a> 290         <strong class="reserved">public</strong> PasswordProtection(<strong class="reserved">char</strong>[] password, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protectionAlgorithm,
<a id="L291" name="L291"></a> 291             <a href="../S/1236.html#L44" title="Defined at 44 in src/java/security/spec/AlgorithmParameterSpec.java.">AlgorithmParameterSpec</a> protectionParameters) <em class="brace">{</em>
<a id="L292" name="L292"></a> 292             <strong class="reserved">if</strong> (protectionAlgorithm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L294" name="L294"></a> 294             <em class="brace">}</em>
<a id="L295" name="L295"></a> 295             <strong class="reserved">this</strong>.password = (password == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : password.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L296" name="L296"></a> 296             <strong class="reserved">this</strong>.protectionAlgorithm = protectionAlgorithm;
<a id="L297" name="L297"></a> 297             <strong class="reserved">this</strong>.protectionParameters = protectionParameters;
<a id="L298" name="L298"></a> 298         <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<div class="comment">
          Gets the name of the protection algorithm.
          If none was set then the keystore provider will use its default
          protection algorithm. The name of the default protection algorithm
          for a given keystore type is set using the
          <code>'keystore.<type>.keyProtectionAlgorithm'</type></code> security property.
          For example, the
          <code>keystore.PKCS12.keyProtectionAlgorithm</code> property stores the
          name of the default key protection algorithm used for PKCS12
          keystores. If the security property is not set, an
          implementation-specific algorithm will be used.
          @return the algorithm name, or <code>null</code> if none was set
          @since 1.8</div>
<a id="L316" name="L316"></a> 316         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getProtectionAlgorithm() <em class="brace">{</em>
<a id="L317" name="L317"></a> 317             <strong class="reserved">return</strong> protectionAlgorithm;
<a id="L318" name="L318"></a> 318         <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<div class="comment">
          Gets the parameters supplied for the protection algorithm.
          @return the algorithm parameter specification, or <code> null</code>,
              if none was set
          @since 1.8</div>
<a id="L328" name="L328"></a> 328         <strong class="reserved">public</strong> <a href="../S/1236.html#L44" title="Defined at 44 in src/java/security/spec/AlgorithmParameterSpec.java.">AlgorithmParameterSpec</a> getProtectionParameters() <em class="brace">{</em>
<a id="L329" name="L329"></a> 329             <strong class="reserved">return</strong> protectionParameters;
<a id="L330" name="L330"></a> 330         <em class="brace">}</em>
<a id="L331" name="L331"></a> 331 
<div class="comment">
          Gets the password.
          <p>Note that this method returns a reference to the password.
          If a clone of the array is created it is the caller's
          responsibility to zero out the password information
          after it is no longer needed.
          @see #destroy()
          @return the password, which may be <code>null</code>
          @exception IllegalStateException if the password has
                       been cleared (destroyed)</p></div>
<a id="L345" name="L345"></a> 345         <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">char</strong>[] <a href="../R/18297.html" title="Multiple referred from 20 places.">getPassword</a>() <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <strong class="reserved">if</strong> (destroyed) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("password has been cleared");
<a id="L348" name="L348"></a> 348             <em class="brace">}</em>
<a id="L349" name="L349"></a> 349             <strong class="reserved">return</strong> password;
<a id="L350" name="L350"></a> 350         <em class="brace">}</em>
<a id="L351" name="L351"></a> 351 
<div class="comment">
          Clears the password.
          @exception DestroyFailedException if this method was unable
               to clear the password</div>
<a id="L358" name="L358"></a> 358         <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/13259.html" title="Multiple referred from 100 places.">destroy</a>() <strong class="reserved">throws</strong> <a href="../S/2662.html#L36" title="Defined at 36 in src/javax/security/auth/DestroyFailedException.java.">DestroyFailedException</a> <em class="brace">{</em>
<a id="L359" name="L359"></a> 359             destroyed = <strong class="reserved">true</strong>;
<a id="L360" name="L360"></a> 360             <strong class="reserved">if</strong> (password != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361                 <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/16028.html" title="Multiple defined in 25 places.">fill</a>(password, ' ');
<a id="L362" name="L362"></a> 362             <em class="brace">}</em>
<a id="L363" name="L363"></a> 363         <em class="brace">}</em>
<a id="L364" name="L364"></a> 364 
<div class="comment">
          Determines if password has been cleared.
          @return true if the password has been cleared, false otherwise</div>
<a id="L370" name="L370"></a> 370         <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">boolean</strong> <a href="../R/21353.html" title="Multiple referred from 9 places.">isDestroyed</a>() <em class="brace">{</em>
<a id="L371" name="L371"></a> 371             <strong class="reserved">return</strong> destroyed;
<a id="L372" name="L372"></a> 372         <em class="brace">}</em>
<a id="L373" name="L373"></a> 373     <em class="brace">}</em>
<a id="L374" name="L374"></a> 374 
<div class="comment">
      A ProtectionParameter encapsulating a CallbackHandler.
      @since 1.5</div>
<a id="L380" name="L380"></a> 380     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1150.html" title="Multiple referred from 6 places.">CallbackHandlerProtection</a>
<a id="L381" name="L381"></a> 381             <strong class="reserved">implements</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> <em class="brace">{</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/2659.html#L68" title="Defined at 68 in src/javax/security/auth/callback/CallbackHandler.java.">CallbackHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L384" name="L384"></a> 384 
<div class="comment">
          Constructs a new CallbackHandlerProtection from a
          CallbackHandler.
          @param handler the CallbackHandler
          @exception NullPointerException if handler is null</div>
<a id="L392" name="L392"></a> 392         <strong class="reserved">public</strong> CallbackHandlerProtection(<a href="../S/2659.html#L68" title="Defined at 68 in src/javax/security/auth/callback/CallbackHandler.java.">CallbackHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <strong class="reserved">if</strong> (<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L394" name="L394"></a> 394                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("handler must not be null");
<a id="L395" name="L395"></a> 395             <em class="brace">}</em>
<a id="L396" name="L396"></a> 396             <strong class="reserved">this</strong>.<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> = <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L397" name="L397"></a> 397         <em class="brace">}</em>
<a id="L398" name="L398"></a> 398 
<div class="comment">
          Returns the CallbackHandler.
          @return the CallbackHandler.</div>
<a id="L404" name="L404"></a> 404         <strong class="reserved">public</strong> <a href="../S/2659.html#L68" title="Defined at 68 in src/javax/security/auth/callback/CallbackHandler.java.">CallbackHandler</a> <a href="../R/15428.html" title="Multiple referred from 2 places.">getCallbackHandler</a>() <em class="brace">{</em>
<a id="L405" name="L405"></a> 405             <strong class="reserved">return</strong> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>;
<a id="L406" name="L406"></a> 406         <em class="brace">}</em>
<a id="L407" name="L407"></a> 407 
<a id="L408" name="L408"></a> 408     <em class="brace">}</em>
<a id="L409" name="L409"></a> 409 
<div class="comment">
      A marker interface for <code>KeyStore</code> entry types.
      @since 1.5</div>
<a id="L415" name="L415"></a> 415     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">interface</strong> <a href="../R/2694.html" title="Multiple referred from 1260 places.">Entry</a> <em class="brace">{</em>
<a id="L416" name="L416"></a> 416 
<div class="comment">
          Retrieves the attributes associated with an entry.
          <p>
          The default implementation returns an empty <code>Set</code>.
          @return an unmodifiable <code>Set</code> of attributes, possibly empty
          @since 1.8</p></div>
<a id="L426" name="L426"></a> 426         <strong class="reserved">public</strong> <strong class="reserved">default</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L427" name="L427"></a> 427             <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt;<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L428" name="L428"></a> 428         <em class="brace">}</em>
<a id="L429" name="L429"></a> 429 
<div class="comment">
          An attribute associated with a keystore entry.
          It comprises a name and one or more values.
          @since 1.8</div>
<a id="L436" name="L436"></a> 436         <strong class="reserved">public</strong> <strong class="reserved">interface</strong> <a href="../R/519.html" title="Multiple referred from 1315 places.">Attribute</a> <em class="brace">{</em>
<div class="comment">
              Returns the attribute's name.
              @return the attribute name</div>
<a id="L442" name="L442"></a> 442             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>();
<a id="L443" name="L443"></a> 443 
<div class="comment">
              Returns the attribute's value.
              Multi-valued attributes encode their values as a single string.
              @return the attribute value</div>
<a id="L450" name="L450"></a> 450             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19753.html" title="Multiple referred from 961 places.">getValue</a>();
<a id="L451" name="L451"></a> 451         <em class="brace">}</em>
<a id="L452" name="L452"></a> 452     <em class="brace">}</em>
<a id="L453" name="L453"></a> 453 
<div class="comment">
      A <code>KeyStore</code> entry that holds a <code>PrivateKey</code>
      and corresponding certificate chain.
      @since 1.5</div>
<a id="L460" name="L460"></a> 460     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6271.html" title="Multiple referred from 5 places.">PrivateKeyEntry</a> <strong class="reserved">implements</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a> <em class="brace">{</em>
<a id="L461" name="L461"></a> 461 
<a id="L462" name="L462"></a> 462         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1256.html#L59" title="Defined at 59 in src/java/security/PrivateKey.java.">PrivateKey</a> privKey;
<a id="L463" name="L463"></a> 463         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain;
<a id="L464" name="L464"></a> 464         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L465" name="L465"></a> 465 
<div class="comment">
          Constructs a <code>PrivateKeyEntry</code> with a
          <code>PrivateKey</code> and corresponding certificate chain.
          <p> The specified <code>chain</code> is cloned before it is stored
          in the new <code>PrivateKeyEntry</code> object.
          @param privateKey the <code>PrivateKey</code>
          @param chain an array of <code>Certificate</code>s
               representing the certificate chain.
               The chain must be ordered and contain a
               <code>Certificate</code> at index 0
               corresponding to the private key.
          @exception NullPointerException if
               <code>privateKey</code> or <code>chain</code>
               is <code>null</code>
          @exception IllegalArgumentException if the specified chain has a
               length of 0, if the specified chain does not contain
               <code>Certificate</code>s of the same type,
               or if the <code>PrivateKey</code> algorithm
               does not match the algorithm of the <code>PublicKey</code>
               in the end entity <code>Certificate</code> (at index 0)</p></div>
<a id="L490" name="L490"></a> 490         <strong class="reserved">public</strong> PrivateKeyEntry(<a href="../S/1256.html#L59" title="Defined at 59 in src/java/security/PrivateKey.java.">PrivateKey</a> privateKey, <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491             <strong class="reserved">this</strong>(privateKey, chain, <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt;<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>());
<a id="L492" name="L492"></a> 492         <em class="brace">}</em>
<a id="L493" name="L493"></a> 493 
<div class="comment">
          Constructs a <code>PrivateKeyEntry</code> with a <code>PrivateKey</code> and
          corresponding certificate chain and associated entry attributes.
          <p> The specified <code>chain</code> and <code>attributes</code> are cloned
          before they are stored in the new <code>PrivateKeyEntry</code> object.
          @param privateKey the <code>PrivateKey</code>
          @param chain an array of <code>Certificate</code>s
               representing the certificate chain.
               The chain must be ordered and contain a
               <code>Certificate</code> at index 0
               corresponding to the private key.
          @param attributes the attributes
          @exception NullPointerException if <code>privateKey</code>, <code>chain</code>
               or <code>attributes</code> is <code>null</code>
          @exception IllegalArgumentException if the specified chain has a
               length of 0, if the specified chain does not contain
               <code>Certificate</code>s of the same type,
               or if the <code>PrivateKey</code> algorithm
               does not match the algorithm of the <code>PublicKey</code>
               in the end entity <code>Certificate</code> (at index 0)
          @since 1.8</p></div>
<a id="L520" name="L520"></a> 520         <strong class="reserved">public</strong> PrivateKeyEntry(<a href="../S/1256.html#L59" title="Defined at 59 in src/java/security/PrivateKey.java.">PrivateKey</a> privateKey, <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain,
<a id="L521" name="L521"></a> 521            <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522 
<a id="L523" name="L523"></a> 523             <strong class="reserved">if</strong> (privateKey == <strong class="reserved">null</strong> || chain == <strong class="reserved">null</strong> || <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L525" name="L525"></a> 525             <em class="brace">}</em>
<a id="L526" name="L526"></a> 526             <strong class="reserved">if</strong> (chain.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L528" name="L528"></a> 528                                 ("invalid zero-length input chain");
<a id="L529" name="L529"></a> 529             <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<a id="L531" name="L531"></a> 531             <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] clonedChain = chain.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L532" name="L532"></a> 532             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> certType = clonedChain[0].<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L533" name="L533"></a> 533             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt; clonedChain.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L534" name="L534"></a> 534                 <strong class="reserved">if</strong> (!certType.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(clonedChain[i].<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>())) <em class="brace">{</em>
<a id="L535" name="L535"></a> 535                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L536" name="L536"></a> 536                                 ("chain does not contain certificates " +
<a id="L537" name="L537"></a> 537                                 "of the same type");
<a id="L538" name="L538"></a> 538                 <em class="brace">}</em>
<a id="L539" name="L539"></a> 539             <em class="brace">}</em>
<a id="L540" name="L540"></a> 540             <strong class="reserved">if</strong> (!privateKey.<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>
<a id="L541" name="L541"></a> 541                         (clonedChain[0].<a href="../D/21782.html" title="Multiple defined in 14 places.">getPublicKey</a>().<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>())) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L543" name="L543"></a> 543                                 ("private key algorithm does not match " +
<a id="L544" name="L544"></a> 544                                 "algorithm of public key in end entity " +
<a id="L545" name="L545"></a> 545                                 "certificate (at index 0)");
<a id="L546" name="L546"></a> 546             <em class="brace">}</em>
<a id="L547" name="L547"></a> 547             <strong class="reserved">this</strong>.privKey = privateKey;
<a id="L548" name="L548"></a> 548 
<a id="L549" name="L549"></a> 549             <strong class="reserved">if</strong> (clonedChain[0] <strong class="reserved">instanceof</strong> <a href="../D/9813.html" title="Multiple defined in 2 places.">X509Certificate</a> &amp;&amp;
<a id="L550" name="L550"></a> 550                 !(clonedChain <strong class="reserved">instanceof</strong> <a href="../D/9813.html" title="Multiple defined in 2 places.">X509Certificate</a>[])) <em class="brace">{</em>
<a id="L551" name="L551"></a> 551 
<a id="L552" name="L552"></a> 552                 <strong class="reserved">this</strong>.chain = <strong class="reserved">new</strong> <a href="../D/9813.html" title="Multiple defined in 2 places.">X509Certificate</a>[clonedChain.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L553" name="L553"></a> 553                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(clonedChain, 0,
<a id="L554" name="L554"></a> 554                                 <strong class="reserved">this</strong>.chain, 0, clonedChain.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L555" name="L555"></a> 555             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L556" name="L556"></a> 556                 <strong class="reserved">this</strong>.chain = clonedChain;
<a id="L557" name="L557"></a> 557             <em class="brace">}</em>
<a id="L558" name="L558"></a> 558 
<a id="L559" name="L559"></a> 559             <strong class="reserved">this</strong>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> =
<a id="L560" name="L560"></a> 560                 <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>));
<a id="L561" name="L561"></a> 561         <em class="brace">}</em>
<a id="L562" name="L562"></a> 562 
<div class="comment">
          Gets the <code>PrivateKey</code> from this entry.
          @return the <code>PrivateKey</code> from this entry</div>
<a id="L568" name="L568"></a> 568         <strong class="reserved">public</strong> <a href="../S/1256.html#L59" title="Defined at 59 in src/java/security/PrivateKey.java.">PrivateKey</a> <a href="../R/18487.html" title="Multiple referred from 3 places.">getPrivateKey</a>() <em class="brace">{</em>
<a id="L569" name="L569"></a> 569             <strong class="reserved">return</strong> privKey;
<a id="L570" name="L570"></a> 570         <em class="brace">}</em>
<a id="L571" name="L571"></a> 571 
<div class="comment">
          Gets the <code>Certificate</code> chain from this entry.
          <p> The stored chain is cloned before being returned.
          @return an array of <code>Certificate</code>s corresponding
               to the certificate chain for the public key.
               If the certificates are of type X.509,
               the runtime type of the returned array is
               <code>X509Certificate[]</code>.</p></div>
<a id="L583" name="L583"></a> 583         <strong class="reserved">public</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] <a href="../R/15487.html" title="Multiple referred from 2 places.">getCertificateChain</a>() <em class="brace">{</em>
<a id="L584" name="L584"></a> 584             <strong class="reserved">return</strong> chain.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L585" name="L585"></a> 585         <em class="brace">}</em>
<a id="L586" name="L586"></a> 586 
<div class="comment">
          Gets the end entity <code>Certificate</code>
          from the certificate chain in this entry.
          @return the end entity <code>Certificate</code> (at index 0)
               from the certificate chain in this entry.
               If the certificate is of type X.509,
               the runtime type of the returned certificate is
               <code>X509Certificate</code>.</div>
<a id="L597" name="L597"></a> 597         <strong class="reserved">public</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> <a href="../R/15485.html" title="Multiple referred from 7 places.">getCertificate</a>() <em class="brace">{</em>
<a id="L598" name="L598"></a> 598             <strong class="reserved">return</strong> chain[0];
<a id="L599" name="L599"></a> 599         <em class="brace">}</em>
<a id="L600" name="L600"></a> 600 
<div class="comment">
          Retrieves the attributes associated with an entry.
          <p>
          @return an unmodifiable <code>Set</code> of attributes, possibly empty
          @since 1.8</p></div>
<a id="L609" name="L609"></a> 609         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L610" name="L610"></a> 610         <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L611" name="L611"></a> 611             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L612" name="L612"></a> 612         <em class="brace">}</em>
<a id="L613" name="L613"></a> 613 
<div class="comment">
          Returns a string representation of this PrivateKeyEntry.
          @return a string representation of this PrivateKeyEntry.</div>
<a id="L618" name="L618"></a> 618         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L619" name="L619"></a> 619             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L620" name="L620"></a> 620             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("Private key entry and certificate chain with "
<a id="L621" name="L621"></a> 621                 + chain.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + " elements:\r\n");
<a id="L622" name="L622"></a> 622             <strong class="reserved">for</strong> (<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> cert : chain) <em class="brace">{</em>
<a id="L623" name="L623"></a> 623                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(cert);
<a id="L624" name="L624"></a> 624                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("\r\n");
<a id="L625" name="L625"></a> 625             <em class="brace">}</em>
<a id="L626" name="L626"></a> 626             <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L627" name="L627"></a> 627         <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629     <em class="brace">}</em>
<a id="L630" name="L630"></a> 630 
<div class="comment">
      A <code>KeyStore</code> entry that holds a <code>SecretKey</code>.
      @since 1.5</div>
<a id="L636" name="L636"></a> 636     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6979.html" title="Multiple referred from 4 places.">SecretKeyEntry</a> <strong class="reserved">implements</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a> <em class="brace">{</em>
<a id="L637" name="L637"></a> 637 
<a id="L638" name="L638"></a> 638         <strong class="reserved">private</strong> <strong class="reserved">final</strong> SecretKey sKey;
<a id="L639" name="L639"></a> 639         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L640" name="L640"></a> 640 
<div class="comment">
          Constructs a <code>SecretKeyEntry</code> with a
          <code>SecretKey</code>.
          @param secretKey the <code>SecretKey</code>
          @exception NullPointerException if <code>secretKey</code>
               is <code>null</code></div>
<a id="L650" name="L650"></a> 650         <strong class="reserved">public</strong> SecretKeyEntry(SecretKey secretKey) <em class="brace">{</em>
<a id="L651" name="L651"></a> 651             <strong class="reserved">if</strong> (secretKey == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L653" name="L653"></a> 653             <em class="brace">}</em>
<a id="L654" name="L654"></a> 654             <strong class="reserved">this</strong>.sKey = secretKey;
<a id="L655" name="L655"></a> 655             <strong class="reserved">this</strong>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt;<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L656" name="L656"></a> 656         <em class="brace">}</em>
<a id="L657" name="L657"></a> 657 
<div class="comment">
          Constructs a <code>SecretKeyEntry</code> with a <code>SecretKey</code> and
          associated entry attributes.
          <p> The specified <code>attributes</code> is cloned before it is stored
          in the new <code>SecretKeyEntry</code> object.
          @param secretKey the <code>SecretKey</code>
          @param attributes the attributes
          @exception NullPointerException if <code>secretKey</code> or
              <code>attributes</code> is <code>null</code>
          @since 1.8</p></div>
<a id="L673" name="L673"></a> 673         <strong class="reserved">public</strong> SecretKeyEntry(SecretKey secretKey, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674 
<a id="L675" name="L675"></a> 675             <strong class="reserved">if</strong> (secretKey == <strong class="reserved">null</strong> || <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L677" name="L677"></a> 677             <em class="brace">}</em>
<a id="L678" name="L678"></a> 678             <strong class="reserved">this</strong>.sKey = secretKey;
<a id="L679" name="L679"></a> 679             <strong class="reserved">this</strong>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> =
<a id="L680" name="L680"></a> 680                 <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>));
<a id="L681" name="L681"></a> 681         <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<div class="comment">
          Gets the <code>SecretKey</code> from this entry.
          @return the <code>SecretKey</code> from this entry</div>
<a id="L688" name="L688"></a> 688         <strong class="reserved">public</strong> SecretKey <a href="../R/18893.html" title="Multiple referred from 4 places.">getSecretKey</a>() <em class="brace">{</em>
<a id="L689" name="L689"></a> 689             <strong class="reserved">return</strong> sKey;
<a id="L690" name="L690"></a> 690         <em class="brace">}</em>
<a id="L691" name="L691"></a> 691 
<div class="comment">
          Retrieves the attributes associated with an entry.
          <p>
          @return an unmodifiable <code>Set</code> of attributes, possibly empty
          @since 1.8</p></div>
<a id="L700" name="L700"></a> 700         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L701" name="L701"></a> 701         <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L702" name="L702"></a> 702             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L703" name="L703"></a> 703         <em class="brace">}</em>
<a id="L704" name="L704"></a> 704 
<div class="comment">
          Returns a string representation of this SecretKeyEntry.
          @return a string representation of this SecretKeyEntry.</div>
<a id="L709" name="L709"></a> 709         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L710" name="L710"></a> 710             <strong class="reserved">return</strong> "Secret key entry with algorithm " + sKey.<a href="../D/16849.html" title="Multiple defined in 22 places.">getAlgorithm</a>();
<a id="L711" name="L711"></a> 711         <em class="brace">}</em>
<a id="L712" name="L712"></a> 712     <em class="brace">}</em>
<a id="L713" name="L713"></a> 713 
<div class="comment">
      A <code>KeyStore</code> entry that holds a trusted
      <code>Certificate</code>.
      @since 1.5</div>
<a id="L720" name="L720"></a> 720     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8338.html" title="Multiple referred from 5 places.">TrustedCertificateEntry</a> <strong class="reserved">implements</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a> <em class="brace">{</em>
<a id="L721" name="L721"></a> 721 
<a id="L722" name="L722"></a> 722         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> cert;
<a id="L723" name="L723"></a> 723         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L724" name="L724"></a> 724 
<div class="comment">
          Constructs a <code>TrustedCertificateEntry</code> with a
          trusted <code>Certificate</code>.
          @param trustedCert the trusted <code>Certificate</code>
          @exception NullPointerException if
               <code>trustedCert</code> is <code>null</code></div>
<a id="L734" name="L734"></a> 734         <strong class="reserved">public</strong> TrustedCertificateEntry(<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> trustedCert) <em class="brace">{</em>
<a id="L735" name="L735"></a> 735             <strong class="reserved">if</strong> (trustedCert == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L737" name="L737"></a> 737             <em class="brace">}</em>
<a id="L738" name="L738"></a> 738             <strong class="reserved">this</strong>.cert = trustedCert;
<a id="L739" name="L739"></a> 739             <strong class="reserved">this</strong>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt;<a href="../S/1147.html#L4301" title="Defined at 4301 in src/java/util/Collections.java.">emptySet</a>();
<a id="L740" name="L740"></a> 740         <em class="brace">}</em>
<a id="L741" name="L741"></a> 741 
<div class="comment">
          Constructs a <code>TrustedCertificateEntry</code> with a
          trusted <code>Certificate</code> and associated entry attributes.
          <p> The specified <code>attributes</code> is cloned before it is stored
          in the new <code>TrustedCertificateEntry</code> object.
          @param trustedCert the trusted <code>Certificate</code>
          @param attributes the attributes
          @exception NullPointerException if <code>trustedCert</code> or
              <code>attributes</code> is <code>null</code>
          @since 1.8</p></div>
<a id="L757" name="L757"></a> 757         <strong class="reserved">public</strong> TrustedCertificateEntry(<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> trustedCert,
<a id="L758" name="L758"></a> 758            <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759             <strong class="reserved">if</strong> (trustedCert == <strong class="reserved">null</strong> || <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L760" name="L760"></a> 760                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L761" name="L761"></a> 761             <em class="brace">}</em>
<a id="L762" name="L762"></a> 762             <strong class="reserved">this</strong>.cert = trustedCert;
<a id="L763" name="L763"></a> 763             <strong class="reserved">this</strong>.<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> =
<a id="L764" name="L764"></a> 764                 <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>));
<a id="L765" name="L765"></a> 765         <em class="brace">}</em>
<a id="L766" name="L766"></a> 766 
<div class="comment">
          Gets the trusted <code>Certficate</code> from this entry.
          @return the trusted <code>Certificate</code> from this entry</div>
<a id="L772" name="L772"></a> 772         <strong class="reserved">public</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> <a href="../S/1317.html#L527" title="Referred from 527 in src/java/security/KeyStoreSpi.java.">getTrustedCertificate</a>() <em class="brace">{</em>
<a id="L773" name="L773"></a> 773             <strong class="reserved">return</strong> cert;
<a id="L774" name="L774"></a> 774         <em class="brace">}</em>
<a id="L775" name="L775"></a> 775 
<div class="comment">
          Retrieves the attributes associated with an entry.
          <p>
          @return an unmodifiable <code>Set</code> of attributes, possibly empty
          @since 1.8</p></div>
<a id="L784" name="L784"></a> 784         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L785" name="L785"></a> 785         <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L786" name="L786"></a> 786             <strong class="reserved">return</strong> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L787" name="L787"></a> 787         <em class="brace">}</em>
<a id="L788" name="L788"></a> 788 
<div class="comment">
          Returns a string representation of this TrustedCertificateEntry.
          @return a string representation of this TrustedCertificateEntry.</div>
<a id="L793" name="L793"></a> 793         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L794" name="L794"></a> 794             <strong class="reserved">return</strong> "Trusted certificate entry:\r\n" + cert.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L795" name="L795"></a> 795         <em class="brace">}</em>
<a id="L796" name="L796"></a> 796     <em class="brace">}</em>
<a id="L797" name="L797"></a> 797 
<div class="comment">
      Creates a KeyStore object of the given type, and encapsulates the given
      provider implementation (SPI object) in it.
      @param keyStoreSpi the provider implementation.
      @param provider the provider.
      @param type the keystore type.</div>
<a id="L806" name="L806"></a> 806     <strong class="reserved">protected</strong> KeyStore(<a href="../S/1317.html#L54" title="Defined at 54 in src/java/security/KeyStoreSpi.java.">KeyStoreSpi</a> keyStoreSpi, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)
<a id="L807" name="L807"></a> 807     <em class="brace">{</em>
<a id="L808" name="L808"></a> 808         <strong class="reserved">this</strong>.keyStoreSpi = keyStoreSpi;
<a id="L809" name="L809"></a> 809         <strong class="reserved">this</strong>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L810" name="L810"></a> 810         <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L811" name="L811"></a> 811 
<a id="L812" name="L812"></a> 812         <strong class="reserved">if</strong> (!skipDebug &amp;&amp; pdebug != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L813" name="L813"></a> 813             pdebug.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("KeyStore." + <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>() + " type from: " +
<a id="L814" name="L814"></a> 814                 <strong class="reserved">this</strong>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L815" name="L815"></a> 815         <em class="brace">}</em>
<a id="L816" name="L816"></a> 816     <em class="brace">}</em>
<a id="L817" name="L817"></a> 817 
<div class="comment">
      Returns a keystore object of the specified type.
      <p> This method traverses the list of registered security Providers,
      starting with the most preferred Provider.
      A new KeyStore object encapsulating the
      KeyStoreSpi implementation from the first
      Provider that supports the specified type is returned.
      </p><p> Note that the list of registered providers may be retrieved via
      the {@link Security#getProviders() Security.getProviders()} method.
      @param type the type of keystore.
      See the KeyStore section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyStore">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard keystore types.
      @return a keystore object of the specified type.
      @exception KeyStoreException if no Provider supports a
               KeyStoreSpi implementation for the
               specified type.
      @see Provider</p></div>
<a id="L844" name="L844"></a> 844     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)
<a id="L845" name="L845"></a> 845         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L846" name="L846"></a> 846     <em class="brace">{</em>
<a id="L847" name="L847"></a> 847         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L848" name="L848"></a> 848             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] objs = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, "KeyStore", (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<strong class="reserved">null</strong>);
<a id="L849" name="L849"></a> 849             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>((<a href="../S/1317.html#L54" title="Defined at 54 in src/java/security/KeyStoreSpi.java.">KeyStoreSpi</a>)objs[0], (<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>)objs[1], <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L850" name="L850"></a> 850         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L851" name="L851"></a> 851             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> + " not found", nsae);
<a id="L852" name="L852"></a> 852         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a> nspe) <em class="brace">{</em>
<a id="L853" name="L853"></a> 853             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> + " not found", nspe);
<a id="L854" name="L854"></a> 854         <em class="brace">}</em>
<a id="L855" name="L855"></a> 855     <em class="brace">}</em>
<a id="L856" name="L856"></a> 856 
<div class="comment">
      Returns a keystore object of the specified type.
      <p> A new KeyStore object encapsulating the
      KeyStoreSpi implementation from the specified provider
      is returned.  The specified provider must be registered
      in the security provider list.
      </p><p> Note that the list of registered providers may be retrieved via
      the {@link Security#getProviders() Security.getProviders()} method.
      @param type the type of keystore.
      See the KeyStore section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyStore">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard keystore types.
      @param provider the name of the provider.
      @return a keystore object of the specified type.
      @exception KeyStoreException if a KeyStoreSpi
               implementation for the specified type is not
               available from the specified provider.
      @exception NoSuchProviderException if the specified provider is not
               registered in the security provider list.
      @exception IllegalArgumentException if the provider name is null
               or empty.
      @see Provider</p></div>
<a id="L890" name="L890"></a> 890     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L891" name="L891"></a> 891         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>, <a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a>
<a id="L892" name="L892"></a> 892     <em class="brace">{</em>
<a id="L893" name="L893"></a> 893         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong> || <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)
<a id="L894" name="L894"></a> 894             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("missing provider");
<a id="L895" name="L895"></a> 895         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L896" name="L896"></a> 896             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] objs = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, "KeyStore", <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L897" name="L897"></a> 897             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>((<a href="../S/1317.html#L54" title="Defined at 54 in src/java/security/KeyStoreSpi.java.">KeyStoreSpi</a>)objs[0], (<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>)objs[1], <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L898" name="L898"></a> 898         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L899" name="L899"></a> 899             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> + " not found", nsae);
<a id="L900" name="L900"></a> 900         <em class="brace">}</em>
<a id="L901" name="L901"></a> 901     <em class="brace">}</em>
<a id="L902" name="L902"></a> 902 
<div class="comment">
      Returns a keystore object of the specified type.
      <p> A new KeyStore object encapsulating the
      KeyStoreSpi implementation from the specified Provider
      object is returned.  Note that the specified Provider object
      does not have to be registered in the provider list.
      @param type the type of keystore.
      See the KeyStore section in the <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#KeyStore">
      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
      for information about standard keystore types.
      @param provider the provider.
      @return a keystore object of the specified type.
      @exception KeyStoreException if KeyStoreSpi
               implementation for the specified type is not available
               from the specified Provider object.
      @exception IllegalArgumentException if the specified provider is null.
      @see Provider
      @since 1.4</p></div>
<a id="L931" name="L931"></a> 931     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L932" name="L932"></a> 932         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L933" name="L933"></a> 933     <em class="brace">{</em>
<a id="L934" name="L934"></a> 934         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong>)
<a id="L935" name="L935"></a> 935             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("missing provider");
<a id="L936" name="L936"></a> 936         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L937" name="L937"></a> 937             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] objs = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, "KeyStore", <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L938" name="L938"></a> 938             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>((<a href="../S/1317.html#L54" title="Defined at 54 in src/java/security/KeyStoreSpi.java.">KeyStoreSpi</a>)objs[0], (<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>)objs[1], <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L939" name="L939"></a> 939         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L940" name="L940"></a> 940             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> + " not found", nsae);
<a id="L941" name="L941"></a> 941         <em class="brace">}</em>
<a id="L942" name="L942"></a> 942     <em class="brace">}</em>
<a id="L943" name="L943"></a> 943 
<div class="comment">
      Returns the default keystore type as specified by the
      <code>keystore.type</code> security property, or the string
      {@literal "jks"} (acronym for {@literal "Java keystore"})
      if no such property exists.
      <p>The default keystore type can be used by applications that do not
      want to use a hard-coded keystore type when calling one of the
      <code>getInstance</code> methods, and want to provide a default keystore
      type in case a user does not specify its own.
      </p><p>The default keystore type can be changed by setting the value of the
      <code>keystore.type</code> security property to the desired keystore type.
      @return the default keystore type as specified by the
      <code>keystore.type</code> security property, or the string {@literal "jks"}
      if no such property exists.
      @see java.security.Security security properties</p></div>
<a id="L963" name="L963"></a> 963     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4494.html#L224" title="Referred from 224 in src/com/sun/security/auth/module/KeyStoreLoginModule.java.">getDefaultType</a>() <em class="brace">{</em>
<a id="L964" name="L964"></a> 964         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> kstype;
<a id="L965" name="L965"></a> 965         kstype = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;() <em class="brace">{</em>
<a id="L966" name="L966"></a> 966             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L967" name="L967"></a> 967                 <strong class="reserved">return</strong> <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(KEYSTORE_TYPE);
<a id="L968" name="L968"></a> 968             <em class="brace">}</em>
<a id="L969" name="L969"></a> 969         <em class="brace">}</em>);
<a id="L970" name="L970"></a> 970         <strong class="reserved">if</strong> (kstype == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L971" name="L971"></a> 971             kstype = "jks";
<a id="L972" name="L972"></a> 972         <em class="brace">}</em>
<a id="L973" name="L973"></a> 973         <strong class="reserved">return</strong> kstype;
<a id="L974" name="L974"></a> 974     <em class="brace">}</em>
<a id="L975" name="L975"></a> 975 
<div class="comment">
      Returns the provider of this keystore.
      @return the provider of this keystore.</div>
<a id="L981" name="L981"></a> 981     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../R/18534.html" title="Multiple referred from 23 places.">getProvider</a>()
<a id="L982" name="L982"></a> 982     <em class="brace">{</em>
<a id="L983" name="L983"></a> 983         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L984" name="L984"></a> 984     <em class="brace">}</em>
<a id="L985" name="L985"></a> 985 
<div class="comment">
      Returns the type of this keystore.
      @return the type of this keystore.</div>
<a id="L991" name="L991"></a> 991     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>()
<a id="L992" name="L992"></a> 992     <em class="brace">{</em>
<a id="L993" name="L993"></a> 993         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L994" name="L994"></a> 994     <em class="brace">}</em>
<a id="L995" name="L995"></a> 995 
<div class="comment">
      Returns the key associated with the given alias, using the given
      password to recover it.  The key must have been associated with
      the alias by a call to <code>setKeyEntry</code>,
      or by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code> or <code>SecretKeyEntry</code>.
      @param alias the alias name
      @param password the password for recovering the key
      @return the requested key, or null if the given alias does not exist
      or does not identify a key-related entry.
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).
      @exception NoSuchAlgorithmException if the algorithm for recovering the
      key cannot be found
      @exception UnrecoverableKeyException if the key cannot be recovered
      (e.g., the given password is wrong).</div>
<a id="L1016" name="L1016"></a>1016     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../R/17222.html" title="Multiple referred from 269 places.">getKey</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <strong class="reserved">char</strong>[] password)
<a id="L1017" name="L1017"></a>1017         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L1018" name="L1018"></a>1018             <a href="../S/1210.html#L35" title="Defined at 35 in src/java/security/UnrecoverableKeyException.java.">UnrecoverableKeyException</a>
<a id="L1019" name="L1019"></a>1019     <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1021" name="L1021"></a>1021             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1022" name="L1022"></a>1022         <em class="brace">}</em>
<a id="L1023" name="L1023"></a>1023         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L74" title="Defined at 74 in src/java/security/KeyStoreSpi.java.">engineGetKey</a>(alias, password);
<a id="L1024" name="L1024"></a>1024     <em class="brace">}</em>
<a id="L1025" name="L1025"></a>1025 
<div class="comment">
      Returns the certificate chain associated with the given alias.
      The certificate chain must have been associated with the alias
      by a call to <code>setKeyEntry</code>,
      or by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code>.
      @param alias the alias name
      @return the certificate chain (ordered with the user's certificate first
      followed by zero or more certificate authorities), or null if the given alias
      does not exist or does not contain a certificate chain
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</div>
<a id="L1042" name="L1042"></a>1042     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] <a href="../R/15487.html" title="Multiple referred from 2 places.">getCertificateChain</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1043" name="L1043"></a>1043         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1044" name="L1044"></a>1044     <em class="brace">{</em>
<a id="L1045" name="L1045"></a>1045         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1047" name="L1047"></a>1047         <em class="brace">}</em>
<a id="L1048" name="L1048"></a>1048         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L90" title="Defined at 90 in src/java/security/KeyStoreSpi.java.">engineGetCertificateChain</a>(alias);
<a id="L1049" name="L1049"></a>1049     <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050 
<div class="comment">
      Returns the certificate associated with the given alias.
      <p> If the given alias name identifies an entry
      created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>,
      then the trusted certificate contained in that entry is returned.
      </p><p> If the given alias name identifies an entry
      created by a call to <code>setKeyEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code>,
      then the first element of the certificate chain in that entry
      is returned.
      @param alias the alias name
      @return the certificate, or null if the given alias does not exist or
      does not contain a certificate.
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</p></div>
<a id="L1075" name="L1075"></a>1075     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> <a href="../R/15485.html" title="Multiple referred from 7 places.">getCertificate</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1076" name="L1076"></a>1076         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1077" name="L1077"></a>1077     <em class="brace">{</em>
<a id="L1078" name="L1078"></a>1078         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1080" name="L1080"></a>1080         <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L113" title="Defined at 113 in src/java/security/KeyStoreSpi.java.">engineGetCertificate</a>(alias);
<a id="L1082" name="L1082"></a>1082     <em class="brace">}</em>
<a id="L1083" name="L1083"></a>1083 
<div class="comment">
      Returns the creation date of the entry identified by the given alias.
      @param alias the alias name
      @return the creation date of this entry, or null if the given alias does
      not exist
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</div>
<a id="L1095" name="L1095"></a>1095     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> getCreationDate(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1096" name="L1096"></a>1096         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1097" name="L1097"></a>1097     <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1099" name="L1099"></a>1099             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1100" name="L1100"></a>1100         <em class="brace">}</em>
<a id="L1101" name="L1101"></a>1101         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L123" title="Defined at 123 in src/java/security/KeyStoreSpi.java.">engineGetCreationDate</a>(alias);
<a id="L1102" name="L1102"></a>1102     <em class="brace">}</em>
<a id="L1103" name="L1103"></a>1103 
<div class="comment">
      Assigns the given key to the given alias, protecting it with the given
      password.
      <p>If the given key is of type <code>java.security.PrivateKey</code>,
      it must be accompanied by a certificate chain certifying the
      corresponding public key.
      </p><p>If the given alias already exists, the keystore information
      associated with it is overridden by the given key (and possibly
      certificate chain).
      @param alias the alias name
      @param key the key to be associated with the alias
      @param password the password to protect the key
      @param chain the certificate chain for the corresponding public
      key (only required if the given key is of type
      <code>java.security.PrivateKey</code>).
      @exception KeyStoreException if the keystore has not been initialized
      (loaded), the given key cannot be protected, or this operation fails
      for some other reason</p></div>
<a id="L1127" name="L1127"></a>1127     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> setKeyEntry(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <strong class="reserved">char</strong>[] password,
<a id="L1128" name="L1128"></a>1128                                   <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain)
<a id="L1129" name="L1129"></a>1129         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1130" name="L1130"></a>1130     <em class="brace">{</em>
<a id="L1131" name="L1131"></a>1131         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1133" name="L1133"></a>1133         <em class="brace">}</em>
<a id="L1134" name="L1134"></a>1134         <strong class="reserved">if</strong> ((<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> <strong class="reserved">instanceof</strong> <a href="../S/1256.html#L59" title="Defined at 59 in src/java/security/PrivateKey.java.">PrivateKey</a>) &amp;&amp;
<a id="L1135" name="L1135"></a>1135             (chain == <strong class="reserved">null</strong> || chain.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0)) <em class="brace">{</em>
<a id="L1136" name="L1136"></a>1136             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Private key must be "
<a id="L1137" name="L1137"></a>1137                                                + "accompanied by certificate "
<a id="L1138" name="L1138"></a>1138                                                + "chain");
<a id="L1139" name="L1139"></a>1139         <em class="brace">}</em>
<a id="L1140" name="L1140"></a>1140         keyStoreSpi.<a href="../D/15568.html" title="Multiple defined in 2 places.">engineSetKeyEntry</a>(alias, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, password, chain);
<a id="L1141" name="L1141"></a>1141     <em class="brace">}</em>
<a id="L1142" name="L1142"></a>1142 
<div class="comment">
      Assigns the given key (that has already been protected) to the given
      alias.
      <p>If the protected key is of type
      <code>java.security.PrivateKey</code>, it must be accompanied by a
      certificate chain certifying the corresponding public key. If the
      underlying keystore implementation is of type <code>jks</code>,
      <code>key</code> must be encoded as an
      <code>EncryptedPrivateKeyInfo</code> as defined in the PKCS #8 standard.
      </p><p>If the given alias already exists, the keystore information
      associated with it is overridden by the given key (and possibly
      certificate chain).
      @param alias the alias name
      @param key the key (in protected format) to be associated with the alias
      @param chain the certificate chain for the corresponding public
               key (only useful if the protected key is of type
               <code>java.security.PrivateKey</code>).
      @exception KeyStoreException if the keystore has not been initialized
      (loaded), or if this operation fails for some other reason.</p></div>
<a id="L1167" name="L1167"></a>1167     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> setKeyEntry(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <strong class="reserved">byte</strong>[] <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L1168" name="L1168"></a>1168                                   <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] chain)
<a id="L1169" name="L1169"></a>1169         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1170" name="L1170"></a>1170     <em class="brace">{</em>
<a id="L1171" name="L1171"></a>1171         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1173" name="L1173"></a>1173         <em class="brace">}</em>
<a id="L1174" name="L1174"></a>1174         keyStoreSpi.<a href="../D/15568.html" title="Multiple defined in 2 places.">engineSetKeyEntry</a>(alias, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, chain);
<a id="L1175" name="L1175"></a>1175     <em class="brace">}</em>
<a id="L1176" name="L1176"></a>1176 
<div class="comment">
      Assigns the given trusted certificate to the given alias.
      <p> If the given alias identifies an existing entry
      created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>,
      the trusted certificate in the existing entry
      is overridden by the given certificate.
      @param alias the alias name
      @param cert the certificate
      @exception KeyStoreException if the keystore has not been initialized,
      or the given alias already exists and does not identify an
      entry containing a trusted certificate,
      or this operation fails for some other reason.</p></div>
<a id="L1195" name="L1195"></a>1195     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> setCertificateEntry(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> cert)
<a id="L1196" name="L1196"></a>1196         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1197" name="L1197"></a>1197     <em class="brace">{</em>
<a id="L1198" name="L1198"></a>1198         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1199" name="L1199"></a>1199             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1200" name="L1200"></a>1200         <em class="brace">}</em>
<a id="L1201" name="L1201"></a>1201         keyStoreSpi.<a href="../S/1317.html#L194" title="Defined at 194 in src/java/security/KeyStoreSpi.java.">engineSetCertificateEntry</a>(alias, cert);
<a id="L1202" name="L1202"></a>1202     <em class="brace">}</em>
<a id="L1203" name="L1203"></a>1203 
<div class="comment">
      Deletes the entry identified by the given alias from this keystore.
      @param alias the alias name
      @exception KeyStoreException if the keystore has not been initialized,
      or if the entry cannot be removed.</div>
<a id="L1212" name="L1212"></a>1212     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/13209.html" title="Multiple referred from 12 places.">deleteEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1213" name="L1213"></a>1213         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1214" name="L1214"></a>1214     <em class="brace">{</em>
<a id="L1215" name="L1215"></a>1215         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1216" name="L1216"></a>1216             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1217" name="L1217"></a>1217         <em class="brace">}</em>
<a id="L1218" name="L1218"></a>1218         keyStoreSpi.<a href="../S/1317.html#L205" title="Defined at 205 in src/java/security/KeyStoreSpi.java.">engineDeleteEntry</a>(alias);
<a id="L1219" name="L1219"></a>1219     <em class="brace">}</em>
<a id="L1220" name="L1220"></a>1220 
<div class="comment">
      Lists all the alias names of this keystore.
      @return enumeration of the alias names
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</div>
<a id="L1229" name="L1229"></a>1229     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/10120.html" title="Multiple referred from 164 places.">aliases</a>()
<a id="L1230" name="L1230"></a>1230         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1231" name="L1231"></a>1231     <em class="brace">{</em>
<a id="L1232" name="L1232"></a>1232         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1233" name="L1233"></a>1233             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1234" name="L1234"></a>1234         <em class="brace">}</em>
<a id="L1235" name="L1235"></a>1235         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L213" title="Defined at 213 in src/java/security/KeyStoreSpi.java.">engineAliases</a>();
<a id="L1236" name="L1236"></a>1236     <em class="brace">}</em>
<a id="L1237" name="L1237"></a>1237 
<div class="comment">
      Checks if the given alias exists in this keystore.
      @param alias the alias name
      @return true if the alias exists, false otherwise
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</div>
<a id="L1248" name="L1248"></a>1248     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> containsAlias(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1249" name="L1249"></a>1249         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1250" name="L1250"></a>1250     <em class="brace">{</em>
<a id="L1251" name="L1251"></a>1251         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1252" name="L1252"></a>1252             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1253" name="L1253"></a>1253         <em class="brace">}</em>
<a id="L1254" name="L1254"></a>1254         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L222" title="Defined at 222 in src/java/security/KeyStoreSpi.java.">engineContainsAlias</a>(alias);
<a id="L1255" name="L1255"></a>1255     <em class="brace">}</em>
<a id="L1256" name="L1256"></a>1256 
<div class="comment">
      Retrieves the number of entries in this keystore.
      @return the number of entries in this keystore
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</div>
<a id="L1265" name="L1265"></a>1265     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>()
<a id="L1266" name="L1266"></a>1266         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1267" name="L1267"></a>1267     <em class="brace">{</em>
<a id="L1268" name="L1268"></a>1268         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1269" name="L1269"></a>1269             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1270" name="L1270"></a>1270         <em class="brace">}</em>
<a id="L1271" name="L1271"></a>1271         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L229" title="Defined at 229 in src/java/security/KeyStoreSpi.java.">engineSize</a>();
<a id="L1272" name="L1272"></a>1272     <em class="brace">}</em>
<a id="L1273" name="L1273"></a>1273 
<div class="comment">
      Returns true if the entry identified by the given alias
      was created by a call to <code>setKeyEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code> or a <code>SecretKeyEntry</code>.
      @param alias the alias for the keystore entry to be checked
      @return true if the entry identified by the given alias is a
      key-related entry, false otherwise.
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</div>
<a id="L1288" name="L1288"></a>1288     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/21629.html" title="Multiple referred from 4 places.">isKeyEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1289" name="L1289"></a>1289         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1290" name="L1290"></a>1290     <em class="brace">{</em>
<a id="L1291" name="L1291"></a>1291         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1292" name="L1292"></a>1292             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1293" name="L1293"></a>1293         <em class="brace">}</em>
<a id="L1294" name="L1294"></a>1294         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L242" title="Defined at 242 in src/java/security/KeyStoreSpi.java.">engineIsKeyEntry</a>(alias);
<a id="L1295" name="L1295"></a>1295     <em class="brace">}</em>
<a id="L1296" name="L1296"></a>1296 
<div class="comment">
      Returns true if the entry identified by the given alias
      was created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>.
      @param alias the alias for the keystore entry to be checked
      @return true if the entry identified by the given alias contains a
      trusted certificate, false otherwise.
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</div>
<a id="L1311" name="L1311"></a>1311     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../S/1297.html#L151" title="Referred from 151 in src/java/security/cert/PKIXParameters.java.">isCertificateEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1312" name="L1312"></a>1312         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1313" name="L1313"></a>1313     <em class="brace">{</em>
<a id="L1314" name="L1314"></a>1314         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1315" name="L1315"></a>1315             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1316" name="L1316"></a>1316         <em class="brace">}</em>
<a id="L1317" name="L1317"></a>1317         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L255" title="Defined at 255 in src/java/security/KeyStoreSpi.java.">engineIsCertificateEntry</a>(alias);
<a id="L1318" name="L1318"></a>1318     <em class="brace">}</em>
<a id="L1319" name="L1319"></a>1319 
<div class="comment">
      Returns the (alias) name of the first keystore entry whose certificate
      matches the given certificate.
      <p> This method attempts to match the given certificate with each
      keystore entry. If the entry being considered was
      created by a call to <code>setCertificateEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>TrustedCertificateEntry</code>,
      then the given certificate is compared to that entry's certificate.
      </p><p> If the entry being considered was
      created by a call to <code>setKeyEntry</code>,
      or created by a call to <code>setEntry</code> with a
      <code>PrivateKeyEntry</code>,
      then the given certificate is compared to the first
      element of that entry's certificate chain.
      @param cert the certificate to match with.
      @return the alias name of the first entry with a matching certificate,
      or null if no such entry exists in this keystore.
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).</p></div>
<a id="L1346" name="L1346"></a>1346     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getCertificateAlias(<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> cert)
<a id="L1347" name="L1347"></a>1347         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1348" name="L1348"></a>1348     <em class="brace">{</em>
<a id="L1349" name="L1349"></a>1349         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1350" name="L1350"></a>1350             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1351" name="L1351"></a>1351         <em class="brace">}</em>
<a id="L1352" name="L1352"></a>1352         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L280" title="Defined at 280 in src/java/security/KeyStoreSpi.java.">engineGetCertificateAlias</a>(cert);
<a id="L1353" name="L1353"></a>1353     <em class="brace">}</em>
<a id="L1354" name="L1354"></a>1354 
<div class="comment">
      Stores this keystore to the given output stream, and protects its
      integrity with the given password.
      @param stream the output stream to which this keystore is written.
      @param password the password to generate the keystore integrity check
      @exception KeyStoreException if the keystore has not been initialized
      (loaded).
      @exception IOException if there was an I/O problem with data
      @exception NoSuchAlgorithmException if the appropriate data integrity
      algorithm could not be found
      @exception CertificateException if any of the certificates included in
      the keystore data could not be stored</div>
<a id="L1370" name="L1370"></a>1370     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/28915.html" title="Multiple referred from 34 places.">store</a>(<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>, <strong class="reserved">char</strong>[] password)
<a id="L1371" name="L1371"></a>1371         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L1372" name="L1372"></a>1372             <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a>
<a id="L1373" name="L1373"></a>1373     <em class="brace">{</em>
<a id="L1374" name="L1374"></a>1374         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1375" name="L1375"></a>1375             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1376" name="L1376"></a>1376         <em class="brace">}</em>
<a id="L1377" name="L1377"></a>1377         keyStoreSpi.<a href="../D/15574.html" title="Multiple defined in 2 places.">engineStore</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>, password);
<a id="L1378" name="L1378"></a>1378     <em class="brace">}</em>
<a id="L1379" name="L1379"></a>1379 
<div class="comment">
      Stores this keystore using the given <code>LoadStoreParameter</code>.
      @param param the <code>LoadStoreParameter</code>
               that specifies how to store the keystore,
               which may be <code>null</code>
      @exception IllegalArgumentException if the given
               <code>LoadStoreParameter</code>
               input is not recognized
      @exception KeyStoreException if the keystore has not been initialized
               (loaded)
      @exception IOException if there was an I/O problem with data
      @exception NoSuchAlgorithmException if the appropriate data integrity
               algorithm could not be found
      @exception CertificateException if any of the certificates included in
               the keystore data could not be stored
      @since 1.5</div>
<a id="L1400" name="L1400"></a>1400     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/28915.html" title="Multiple referred from 34 places.">store</a>(<a href="../S/1368.html#L218" title="Defined at 218 in src/java/security/KeyStore.java.">LoadStoreParameter</a> param)
<a id="L1401" name="L1401"></a>1401                 <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>,
<a id="L1402" name="L1402"></a>1402                 <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a> <em class="brace">{</em>
<a id="L1403" name="L1403"></a>1403         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1404" name="L1404"></a>1404             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1405" name="L1405"></a>1405         <em class="brace">}</em>
<a id="L1406" name="L1406"></a>1406         keyStoreSpi.<a href="../D/15574.html" title="Multiple defined in 2 places.">engineStore</a>(param);
<a id="L1407" name="L1407"></a>1407     <em class="brace">}</em>
<a id="L1408" name="L1408"></a>1408 
<div class="comment">
      Loads this KeyStore from the given input stream.
      <p>A password may be given to unlock the keystore
      (e.g. the keystore resides on a hardware token device),
      or to check the integrity of the keystore data.
      If a password is not given for integrity checking,
      then integrity checking is not performed.
      </p><p>In order to create an empty keystore, or if the keystore cannot
      be initialized from a stream, pass <code>null</code>
      as the <code>stream</code> argument.
      </p><p> Note that if this keystore has already been loaded, it is
      reinitialized and loaded again from the given input stream.
      @param stream the input stream from which the keystore is loaded,
      or <code>null</code>
      @param password the password used to check the integrity of
      the keystore, the password used to unlock the keystore,
      or <code>null</code>
      @exception IOException if there is an I/O or format problem with the
      keystore data, if a password is required but not given,
      or if the given password was incorrect. If the error is due to a
      wrong password, the {@link Throwable#getCause cause} of the
      <code>IOException</code> should be an
      <code>UnrecoverableKeyException</code>
      @exception NoSuchAlgorithmException if the algorithm used to check
      the integrity of the keystore cannot be found
      @exception CertificateException if any of the certificates in the
      keystore could not be loaded</p></div>
<a id="L1442" name="L1442"></a>1442     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/22543.html" title="Multiple referred from 196 places.">load</a>(<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>, <strong class="reserved">char</strong>[] password)
<a id="L1443" name="L1443"></a>1443         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a>
<a id="L1444" name="L1444"></a>1444     <em class="brace">{</em>
<a id="L1445" name="L1445"></a>1445         keyStoreSpi.<a href="../D/15551.html" title="Multiple defined in 2 places.">engineLoad</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>, password);
<a id="L1446" name="L1446"></a>1446         <a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> = <strong class="reserved">true</strong>;
<a id="L1447" name="L1447"></a>1447     <em class="brace">}</em>
<a id="L1448" name="L1448"></a>1448 
<div class="comment">
      Loads this keystore using the given <code>LoadStoreParameter</code>.
      <p> Note that if this KeyStore has already been loaded, it is
      reinitialized and loaded again from the given parameter.
      @param param the <code>LoadStoreParameter</code>
               that specifies how to load the keystore,
               which may be <code>null</code>
      @exception IllegalArgumentException if the given
               <code>LoadStoreParameter</code>
               input is not recognized
      @exception IOException if there is an I/O or format problem with the
               keystore data. If the error is due to an incorrect
              <code>ProtectionParameter</code> (e.g. wrong password)
              the {@link Throwable#getCause cause} of the
              <code>IOException</code> should be an
              <code>UnrecoverableKeyException</code>
      @exception NoSuchAlgorithmException if the algorithm used to check
               the integrity of the keystore cannot be found
      @exception CertificateException if any of the certificates in the
               keystore could not be loaded
      @since 1.5</p></div>
<a id="L1475" name="L1475"></a>1475     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/22543.html" title="Multiple referred from 196 places.">load</a>(<a href="../S/1368.html#L218" title="Defined at 218 in src/java/security/KeyStore.java.">LoadStoreParameter</a> param)
<a id="L1476" name="L1476"></a>1476                 <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>,
<a id="L1477" name="L1477"></a>1477                 <a href="../D/1348.html" title="Multiple defined in 2 places.">CertificateException</a> <em class="brace">{</em>
<a id="L1478" name="L1478"></a>1478 
<a id="L1479" name="L1479"></a>1479         keyStoreSpi.<a href="../D/15551.html" title="Multiple defined in 2 places.">engineLoad</a>(param);
<a id="L1480" name="L1480"></a>1480         <a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> = <strong class="reserved">true</strong>;
<a id="L1481" name="L1481"></a>1481     <em class="brace">}</em>
<a id="L1482" name="L1482"></a>1482 
<div class="comment">
      Gets a keystore <code>Entry</code> for the specified alias
      with the specified protection parameter.
      @param alias get the keystore <code>Entry</code> for this alias
      @param protParam the <code>ProtectionParameter</code>
               used to protect the <code>Entry</code>,
               which may be <code>null</code>
      @return the keystore <code>Entry</code> for the specified alias,
               or <code>null</code> if there is no such entry
      @exception NullPointerException if
               <code>alias</code> is <code>null</code>
      @exception NoSuchAlgorithmException if the algorithm for recovering the
               entry cannot be found
      @exception UnrecoverableEntryException if the specified
               <code>protParam</code> were insufficient or invalid
      @exception UnrecoverableKeyException if the entry is a
               <code>PrivateKeyEntry</code> or <code>SecretKeyEntry</code>
               and the specified <code>protParam</code> does not contain
               the information needed to recover the key (e.g. wrong password)
      @exception KeyStoreException if the keystore has not been initialized
               (loaded).
      @see #setEntry(String, KeyStore.Entry, KeyStore.ProtectionParameter)
      @since 1.5</div>
<a id="L1511" name="L1511"></a>1511     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a> <a href="../R/16396.html" title="Multiple referred from 29 places.">getEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protParam)
<a id="L1512" name="L1512"></a>1512                 <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a>, <a href="../S/1332.html#L35" title="Defined at 35 in src/java/security/UnrecoverableEntryException.java.">UnrecoverableEntryException</a>,
<a id="L1513" name="L1513"></a>1513                 <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a> <em class="brace">{</em>
<a id="L1514" name="L1514"></a>1514 
<a id="L1515" name="L1515"></a>1515         <strong class="reserved">if</strong> (alias == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1516" name="L1516"></a>1516             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L1517" name="L1517"></a>1517         <em class="brace">}</em>
<a id="L1518" name="L1518"></a>1518         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1519" name="L1519"></a>1519             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1520" name="L1520"></a>1520         <em class="brace">}</em>
<a id="L1521" name="L1521"></a>1521         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L445" title="Defined at 445 in src/java/security/KeyStoreSpi.java.">engineGetEntry</a>(alias, protParam);
<a id="L1522" name="L1522"></a>1522     <em class="brace">}</em>
<a id="L1523" name="L1523"></a>1523 
<div class="comment">
      Saves a keystore <code>Entry</code> under the specified alias.
      The protection parameter is used to protect the
      <code>Entry</code>.
      <p> If an entry already exists for the specified alias,
      it is overridden.
      @param alias save the keystore <code>Entry</code> under this alias
      @param entry the <code>Entry</code> to save
      @param protParam the <code>ProtectionParameter</code>
               used to protect the <code>Entry</code>,
               which may be <code>null</code>
      @exception NullPointerException if
               <code>alias</code> or <code>entry</code>
               is <code>null</code>
      @exception KeyStoreException if the keystore has not been initialized
               (loaded), or if this operation fails for some other reason
      @see #getEntry(String, KeyStore.ProtectionParameter)
      @since 1.5</p></div>
<a id="L1548" name="L1548"></a>1548     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/27339.html" title="Multiple referred from 5 places.">setEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias, <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a> entry,
<a id="L1549" name="L1549"></a>1549                         <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protParam)
<a id="L1550" name="L1550"></a>1550                 <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a> <em class="brace">{</em>
<a id="L1551" name="L1551"></a>1551         <strong class="reserved">if</strong> (alias == <strong class="reserved">null</strong> || entry == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1552" name="L1552"></a>1552             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L1553" name="L1553"></a>1553         <em class="brace">}</em>
<a id="L1554" name="L1554"></a>1554         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1555" name="L1555"></a>1555             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1556" name="L1556"></a>1556         <em class="brace">}</em>
<a id="L1557" name="L1557"></a>1557         keyStoreSpi.<a href="../S/1317.html#L504" title="Defined at 504 in src/java/security/KeyStoreSpi.java.">engineSetEntry</a>(alias, entry, protParam);
<a id="L1558" name="L1558"></a>1558     <em class="brace">}</em>
<a id="L1559" name="L1559"></a>1559 
<div class="comment">
      Determines if the keystore <code>Entry</code> for the specified
      <code>alias</code> is an instance or subclass of the specified
      <code>entryClass</code>.
      @param alias the alias name
      @param entryClass the entry class
      @return true if the keystore <code>Entry</code> for the specified
               <code>alias</code> is an instance or subclass of the
               specified <code>entryClass</code>, false otherwise
      @exception NullPointerException if
               <code>alias</code> or <code>entryClass</code>
               is <code>null</code>
      @exception KeyStoreException if the keystore has not been
               initialized (loaded)
      @since 1.5</div>
<a id="L1580" name="L1580"></a>1580     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong>
<a id="L1581" name="L1581"></a>1581         entryInstanceOf(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias,
<a id="L1582" name="L1582"></a>1582                         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&gt; entryClass)
<a id="L1583" name="L1583"></a>1583         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1584" name="L1584"></a>1584     <em class="brace">{</em>
<a id="L1585" name="L1585"></a>1585 
<a id="L1586" name="L1586"></a>1586         <strong class="reserved">if</strong> (alias == <strong class="reserved">null</strong> || entryClass == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1587" name="L1587"></a>1587             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("invalid null input");
<a id="L1588" name="L1588"></a>1588         <em class="brace">}</em>
<a id="L1589" name="L1589"></a>1589         <strong class="reserved">if</strong> (!<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L1590" name="L1590"></a>1590             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("Uninitialized keystore");
<a id="L1591" name="L1591"></a>1591         <em class="brace">}</em>
<a id="L1592" name="L1592"></a>1592         <strong class="reserved">return</strong> keyStoreSpi.<a href="../S/1317.html#L577" title="Defined at 577 in src/java/security/KeyStoreSpi.java.">engineEntryInstanceOf</a>(alias, entryClass);
<a id="L1593" name="L1593"></a>1593     <em class="brace">}</em>
<a id="L1594" name="L1594"></a>1594 
<div class="comment">
      A description of a to-be-instantiated KeyStore object.
      <p>An instance of this class encapsulates the information needed to
      instantiate and initialize a KeyStore object. That process is
      triggered when the {@linkplain #getKeyStore} method is called.
      </p><p>This makes it possible to decouple configuration from KeyStore
      object creation and e.g. delay a password prompt until it is
      needed.
      @see KeyStore
      @see javax.net.ssl.KeyStoreBuilderParameters
      @since 1.5</p></div>
<a id="L1610" name="L1610"></a>1610     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/932.html" title="Multiple referred from 91 places.">Builder</a> <em class="brace">{</em>
<a id="L1611" name="L1611"></a>1611 
<a id="L1612" name="L1612"></a>1612         <em class="comment">// maximum times to try the callbackhandler if the password is wrong</em>
<a id="L1613" name="L1613"></a>1613         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAX_CALLBACK_TRIES = 3;
<a id="L1614" name="L1614"></a>1614 
<div class="comment">
          Construct a new Builder.</div>
<a id="L1618" name="L1618"></a>1618         <strong class="reserved">protected</strong> Builder() <em class="brace">{</em>
<a id="L1619" name="L1619"></a>1619             <em class="comment">// empty</em>
<a id="L1620" name="L1620"></a>1620         <em class="brace">}</em>
<a id="L1621" name="L1621"></a>1621 
<div class="comment">
          Returns the KeyStore described by this object.
          @return the <code>KeyStore</code> described by this object
          @exception KeyStoreException if an error occurred during the
            operation, for example if the KeyStore could not be
            instantiated or loaded</div>
<a id="L1630" name="L1630"></a>1630         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../R/17241.html" title="Multiple referred from 2 places.">getKeyStore</a>() <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>;
<a id="L1631" name="L1631"></a>1631 
<div class="comment">
          Returns the ProtectionParameters that should be used to obtain
          the {@link KeyStore.Entry Entry} with the given alias.
          The <code>getKeyStore</code> method must be invoked before this
          method may be called.
          @return the ProtectionParameters that should be used to obtain
            the {@link KeyStore.Entry Entry} with the given alias.
          @param alias the alias of the KeyStore entry
          @throws NullPointerException if alias is null
          @throws KeyStoreException if an error occurred during the
            operation
          @throws IllegalStateException if the getKeyStore method has
            not been invoked prior to calling this method</div>
<a id="L1647" name="L1647"></a>1647         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> <a href="../R/18528.html" title="Multiple referred from 3 places.">getProtectionParameter</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1648" name="L1648"></a>1648             <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>;
<a id="L1649" name="L1649"></a>1649 
<div class="comment">
          Returns a new Builder that encapsulates the given KeyStore.
          The {@linkplain #getKeyStore} method of the returned object
          will return <code>keyStore</code>, the {@linkplain
          #getProtectionParameter getProtectionParameter()} method will
          return <code>protectionParameters</code>.
          <p> This is useful if an existing KeyStore object needs to be
          used with Builder-based APIs.
          @return a new Builder object
          @param keyStore the KeyStore to be encapsulated
          @param protectionParameter the ProtectionParameter used to
            protect the KeyStore entries
          @throws NullPointerException if keyStore or
            protectionParameters is null
          @throws IllegalArgumentException if the keyStore has not been
            initialized</p></div>
<a id="L1669" name="L1669"></a>1669         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../R/23567.html" title="Multiple referred from 523 places.">newInstance</a>(<strong class="reserved">final</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> keyStore,
<a id="L1670" name="L1670"></a>1670                 <strong class="reserved">final</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protectionParameter) <em class="brace">{</em>
<a id="L1671" name="L1671"></a>1671             <strong class="reserved">if</strong> ((keyStore == <strong class="reserved">null</strong>) || (protectionParameter == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1672" name="L1672"></a>1672                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1673" name="L1673"></a>1673             <em class="brace">}</em>
<a id="L1674" name="L1674"></a>1674             <strong class="reserved">if</strong> (keyStore.<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L1675" name="L1675"></a>1675                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("KeyStore not initialized");
<a id="L1676" name="L1676"></a>1676             <em class="brace">}</em>
<a id="L1677" name="L1677"></a>1677             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a>() <em class="brace">{</em>
<a id="L1678" name="L1678"></a>1678                 <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> getCalled;
<a id="L1679" name="L1679"></a>1679 
<a id="L1680" name="L1680"></a>1680                 <strong class="reserved">public</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../D/19950.html" title="Multiple defined in 2 places.">getKeyStore</a>() <em class="brace">{</em>
<a id="L1681" name="L1681"></a>1681                     getCalled = <strong class="reserved">true</strong>;
<a id="L1682" name="L1682"></a>1682                     <strong class="reserved">return</strong> keyStore;
<a id="L1683" name="L1683"></a>1683                 <em class="brace">}</em>
<a id="L1684" name="L1684"></a>1684 
<a id="L1685" name="L1685"></a>1685                 <strong class="reserved">public</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> <a href="../D/21748.html" title="Multiple defined in 5 places.">getProtectionParameter</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1686" name="L1686"></a>1686                 <em class="brace">{</em>
<a id="L1687" name="L1687"></a>1687                     <strong class="reserved">if</strong> (alias == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1688" name="L1688"></a>1688                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1689" name="L1689"></a>1689                     <em class="brace">}</em>
<a id="L1690" name="L1690"></a>1690                     <strong class="reserved">if</strong> (getCalled == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>
<a id="L1692" name="L1692"></a>1692                             ("getKeyStore() must be called first");
<a id="L1693" name="L1693"></a>1693                     <em class="brace">}</em>
<a id="L1694" name="L1694"></a>1694                     <strong class="reserved">return</strong> protectionParameter;
<a id="L1695" name="L1695"></a>1695                 <em class="brace">}</em>
<a id="L1696" name="L1696"></a>1696             <em class="brace">}</em>;
<a id="L1697" name="L1697"></a>1697         <em class="brace">}</em>
<a id="L1698" name="L1698"></a>1698 
<div class="comment">
          Returns a new Builder object.
          <p>The first call to the {@link #getKeyStore} method on the returned
          builder will create a KeyStore of type <code>type</code> and call
          its {@link KeyStore#load load()} method.
          The <code>inputStream</code> argument is constructed from
          <code>file</code>.
          If <code>protection</code> is a
          <code>PasswordProtection</code>, the password is obtained by
          calling the <code>getPassword</code> method.
          Otherwise, if <code>protection</code> is a
          <code>CallbackHandlerProtection</code>, the password is obtained
          by invoking the CallbackHandler.
          </p><p>Subsequent calls to {@link #getKeyStore} return the same object
          as the initial call. If the initial call to failed with a
          KeyStoreException, subsequent calls also throw a
          KeyStoreException.
          </p><p>The KeyStore is instantiated from <code>provider</code> if
          non-null. Otherwise, all installed providers are searched.
          </p><p>Calls to {@link #getProtectionParameter getProtectionParameter()}
          will return a {@link KeyStore.PasswordProtection PasswordProtection}
          object encapsulating the password that was used to invoke the
          <code>load</code> method.
          </p><p><em>Note</em> that the {@link #getKeyStore} method is executed
          within the {@link AccessControlContext} of the code invoking this
          method.
          @return a new Builder object
          @param type the type of KeyStore to be constructed
          @param provider the provider from which the KeyStore is to
            be instantiated (or null)
          @param file the File that contains the KeyStore data
          @param protection the ProtectionParameter securing the KeyStore data
          @throws NullPointerException if type, file or protection is null
          @throws IllegalArgumentException if protection is not an instance
            of either PasswordProtection or CallbackHandlerProtection; or
            if file does not exist or does not refer to a normal file</p></div>
<a id="L1742" name="L1742"></a>1742         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../R/23567.html" title="Multiple referred from 523 places.">newInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L1743" name="L1743"></a>1743                 <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protection) <em class="brace">{</em>
<a id="L1744" name="L1744"></a>1744             <strong class="reserved">if</strong> ((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) || (<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> == <strong class="reserved">null</strong>) || (protection == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1745" name="L1745"></a>1745                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1746" name="L1746"></a>1746             <em class="brace">}</em>
<a id="L1747" name="L1747"></a>1747             <strong class="reserved">if</strong> ((protection <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a> == <strong class="reserved">false</strong>) &amp;&amp;
<a id="L1748" name="L1748"></a>1748                 (protection <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L380" title="Defined at 380 in src/java/security/KeyStore.java.">CallbackHandlerProtection</a> == <strong class="reserved">false</strong>)) <em class="brace">{</em>
<a id="L1749" name="L1749"></a>1749                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L1750" name="L1750"></a>1750                 ("Protection must be PasswordProtection or " +
<a id="L1751" name="L1751"></a>1751                  "CallbackHandlerProtection");
<a id="L1752" name="L1752"></a>1752             <em class="brace">}</em>
<a id="L1753" name="L1753"></a>1753             <strong class="reserved">if</strong> (<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../S/1433.html#L874" title="Defined at 874 in src/java/io/File.java.">isFile</a>() == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L1754" name="L1754"></a>1754                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L1755" name="L1755"></a>1755                     ("File does not exist or it does not refer " +
<a id="L1756" name="L1756"></a>1756                      "to a normal file: " + <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>);
<a id="L1757" name="L1757"></a>1757             <em class="brace">}</em>
<a id="L1758" name="L1758"></a>1758             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1368.html#L1762" title="Defined at 1762 in src/java/security/KeyStore.java.">FileBuilder</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, protection,
<a id="L1759" name="L1759"></a>1759                 <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>());
<a id="L1760" name="L1760"></a>1760         <em class="brace">}</em>
<a id="L1761" name="L1761"></a>1761 
<a id="L1762" name="L1762"></a>1762         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1368.html#L1758" title="Referred from 1758 in src/java/security/KeyStore.java.">FileBuilder</a> <strong class="reserved">extends</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <em class="brace">{</em>
<a id="L1763" name="L1763"></a>1763 
<a id="L1764" name="L1764"></a>1764             <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L1765" name="L1765"></a>1765             <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L1766" name="L1766"></a>1766             <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L1767" name="L1767"></a>1767             <strong class="reserved">private</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protection;
<a id="L1768" name="L1768"></a>1768             <strong class="reserved">private</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> keyProtection;
<a id="L1769" name="L1769"></a>1769             <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1770" name="L1770"></a>1770 
<a id="L1771" name="L1771"></a>1771             <strong class="reserved">private</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> keyStore;
<a id="L1772" name="L1772"></a>1772 
<a id="L1773" name="L1773"></a>1773             <strong class="reserved">private</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> oldException;
<a id="L1774" name="L1774"></a>1774 
<a id="L1775" name="L1775"></a>1775             FileBuilder(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>,
<a id="L1776" name="L1776"></a>1776                     <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protection,
<a id="L1777" name="L1777"></a>1777                     <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>) <em class="brace">{</em>
<a id="L1778" name="L1778"></a>1778                 <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L1779" name="L1779"></a>1779                 <strong class="reserved">this</strong>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L1780" name="L1780"></a>1780                 <strong class="reserved">this</strong>.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L1781" name="L1781"></a>1781                 <strong class="reserved">this</strong>.protection = protection;
<a id="L1782" name="L1782"></a>1782                 <strong class="reserved">this</strong>.<a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>;
<a id="L1783" name="L1783"></a>1783             <em class="brace">}</em>
<a id="L1784" name="L1784"></a>1784 
<a id="L1785" name="L1785"></a>1785             <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../R/17241.html" title="Multiple referred from 2 places.">getKeyStore</a>() <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1786" name="L1786"></a>1786             <em class="brace">{</em>
<a id="L1787" name="L1787"></a>1787                 <strong class="reserved">if</strong> (keyStore != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1788" name="L1788"></a>1788                     <strong class="reserved">return</strong> keyStore;
<a id="L1789" name="L1789"></a>1789                 <em class="brace">}</em>
<a id="L1790" name="L1790"></a>1790                 <strong class="reserved">if</strong> (oldException != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1791" name="L1791"></a>1791                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1792" name="L1792"></a>1792                         ("Previous KeyStore instantiation failed",
<a id="L1793" name="L1793"></a>1793                          oldException);
<a id="L1794" name="L1794"></a>1794                 <em class="brace">}</em>
<a id="L1795" name="L1795"></a>1795                 <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> =
<a id="L1796" name="L1796"></a>1796                         <strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>&gt;() <em class="brace">{</em>
<a id="L1797" name="L1797"></a>1797                     <strong class="reserved">public</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1798" name="L1798"></a>1798                         <strong class="reserved">if</strong> (protection <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L380" title="Defined at 380 in src/java/security/KeyStore.java.">CallbackHandlerProtection</a> == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L1799" name="L1799"></a>1799                             <strong class="reserved">return</strong> <a href="../S/2923.html#L232" title="Defined at 232 in src/javax/swing/plaf/basic/BasicDirectoryModel.java.">run0</a>();
<a id="L1800" name="L1800"></a>1800                         <em class="brace">}</em>
<a id="L1801" name="L1801"></a>1801                         <em class="comment">// when using a CallbackHandler,</em>
<a id="L1802" name="L1802"></a>1802                         <em class="comment">// reprompt if the password is wrong</em>
<a id="L1803" name="L1803"></a>1803                         <strong class="reserved">int</strong> tries = 0;
<a id="L1804" name="L1804"></a>1804                         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L1805" name="L1805"></a>1805                             tries++;
<a id="L1806" name="L1806"></a>1806                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1807" name="L1807"></a>1807                                 <strong class="reserved">return</strong> <a href="../S/2923.html#L232" title="Defined at 232 in src/javax/swing/plaf/basic/BasicDirectoryModel.java.">run0</a>();
<a id="L1808" name="L1808"></a>1808                             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L1809" name="L1809"></a>1809                                 <strong class="reserved">if</strong> ((tries &lt; MAX_CALLBACK_TRIES)
<a id="L1810" name="L1810"></a>1810                                         &amp;&amp; (e.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>() <strong class="reserved">instanceof</strong> <a href="../S/1210.html#L35" title="Defined at 35 in src/java/security/UnrecoverableKeyException.java.">UnrecoverableKeyException</a>)) <em class="brace">{</em>
<a id="L1811" name="L1811"></a>1811                                     <strong class="reserved">continue</strong>;
<a id="L1812" name="L1812"></a>1812                                 <em class="brace">}</em>
<a id="L1813" name="L1813"></a>1813                                 <strong class="reserved">throw</strong> e;
<a id="L1814" name="L1814"></a>1814                             <em class="brace">}</em>
<a id="L1815" name="L1815"></a>1815                         <em class="brace">}</em>
<a id="L1816" name="L1816"></a>1816                     <em class="brace">}</em>
<a id="L1817" name="L1817"></a>1817                     <strong class="reserved">public</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../S/2923.html#L232" title="Defined at 232 in src/javax/swing/plaf/basic/BasicDirectoryModel.java.">run0</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1818" name="L1818"></a>1818                         <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> ks;
<a id="L1819" name="L1819"></a>1819                         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1820" name="L1820"></a>1820                             ks = <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1821" name="L1821"></a>1821                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1822" name="L1822"></a>1822                             ks = <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L1823" name="L1823"></a>1823                         <em class="brace">}</em>
<a id="L1824" name="L1824"></a>1824                         <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">null</strong>;
<a id="L1825" name="L1825"></a>1825                         <strong class="reserved">char</strong>[] password = <strong class="reserved">null</strong>;
<a id="L1826" name="L1826"></a>1826                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1827" name="L1827"></a>1827                             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">new</strong> <a href="../S/1386.html#L49" title="Defined at 49 in src/java/io/FileInputStream.java.">FileInputStream</a>(<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>);
<a id="L1828" name="L1828"></a>1828                             <strong class="reserved">if</strong> (protection <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>) <em class="brace">{</em>
<a id="L1829" name="L1829"></a>1829                                 password =
<a id="L1830" name="L1830"></a>1830                                 ((<a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>)protection).<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>();
<a id="L1831" name="L1831"></a>1831                                 keyProtection = protection;
<a id="L1832" name="L1832"></a>1832                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1833" name="L1833"></a>1833                                 <a href="../S/2659.html#L68" title="Defined at 68 in src/javax/security/auth/callback/CallbackHandler.java.">CallbackHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> =
<a id="L1834" name="L1834"></a>1834                                     ((<a href="../S/1368.html#L380" title="Defined at 380 in src/java/security/KeyStore.java.">CallbackHandlerProtection</a>)protection)
<a id="L1835" name="L1835"></a>1835                                     .<a href="../S/1368.html#L404" title="Defined at 404 in src/java/security/KeyStore.java.">getCallbackHandler</a>();
<a id="L1836" name="L1836"></a>1836                                 <a href="../S/2651.html#L35" title="Defined at 35 in src/javax/security/auth/callback/PasswordCallback.java.">PasswordCallback</a> <a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a> = <strong class="reserved">new</strong> <a href="../S/2651.html#L35" title="Defined at 35 in src/javax/security/auth/callback/PasswordCallback.java.">PasswordCallback</a>
<a id="L1837" name="L1837"></a>1837                                     ("Password for keystore " + <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L1838" name="L1838"></a>1838                                     <strong class="reserved">false</strong>);
<a id="L1839" name="L1839"></a>1839                                 <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/23942.html" title="Multiple defined in 13 places.">handle</a>(<strong class="reserved">new</strong> <a href="../D/1261.html" title="Multiple defined in 2 places.">Callback</a>[] <em class="brace">{</em><a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a><em class="brace">}</em>);
<a id="L1840" name="L1840"></a>1840                                 password = <a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a>.<a href="../D/21429.html" title="Multiple defined in 6 places.">getPassword</a>();
<a id="L1841" name="L1841"></a>1841                                 <strong class="reserved">if</strong> (password == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1842" name="L1842"></a>1842                                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>("No password" +
<a id="L1843" name="L1843"></a>1843                                                                 " provided");
<a id="L1844" name="L1844"></a>1844                                 <em class="brace">}</em>
<a id="L1845" name="L1845"></a>1845                                 <a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a>.<a href="../S/2651.html#L136" title="Defined at 136 in src/javax/security/auth/callback/PasswordCallback.java.">clearPassword</a>();
<a id="L1846" name="L1846"></a>1846                                 keyProtection = <strong class="reserved">new</strong> <a href="../S/1368.html#L246" title="Defined at 246 in src/java/security/KeyStore.java.">PasswordProtection</a>(password);
<a id="L1847" name="L1847"></a>1847                             <em class="brace">}</em>
<a id="L1848" name="L1848"></a>1848                             ks.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>, password);
<a id="L1849" name="L1849"></a>1849                             <strong class="reserved">return</strong> ks;
<a id="L1850" name="L1850"></a>1850                         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1851" name="L1851"></a>1851                             <strong class="reserved">if</strong> (<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1852" name="L1852"></a>1852                                 <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L1853" name="L1853"></a>1853                             <em class="brace">}</em>
<a id="L1854" name="L1854"></a>1854                         <em class="brace">}</em>
<a id="L1855" name="L1855"></a>1855                     <em class="brace">}</em>
<a id="L1856" name="L1856"></a>1856                 <em class="brace">}</em>;
<a id="L1857" name="L1857"></a>1857                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1858" name="L1858"></a>1858                     keyStore = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L1859" name="L1859"></a>1859                     <strong class="reserved">return</strong> keyStore;
<a id="L1860" name="L1860"></a>1860                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> e) <em class="brace">{</em>
<a id="L1861" name="L1861"></a>1861                     oldException = e.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L1862" name="L1862"></a>1862                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1863" name="L1863"></a>1863                         ("KeyStore instantiation failed", oldException);
<a id="L1864" name="L1864"></a>1864                 <em class="brace">}</em>
<a id="L1865" name="L1865"></a>1865             <em class="brace">}</em>
<a id="L1866" name="L1866"></a>1866 
<a id="L1867" name="L1867"></a>1867             <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a>
<a id="L1868" name="L1868"></a>1868                         <a href="../R/18528.html" title="Multiple referred from 3 places.">getProtectionParameter</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias) <em class="brace">{</em>
<a id="L1869" name="L1869"></a>1869                 <strong class="reserved">if</strong> (alias == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1870" name="L1870"></a>1870                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1871" name="L1871"></a>1871                 <em class="brace">}</em>
<a id="L1872" name="L1872"></a>1872                 <strong class="reserved">if</strong> (keyStore == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1873" name="L1873"></a>1873                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>
<a id="L1874" name="L1874"></a>1874                         ("getKeyStore() must be called first");
<a id="L1875" name="L1875"></a>1875                 <em class="brace">}</em>
<a id="L1876" name="L1876"></a>1876                 <strong class="reserved">return</strong> keyProtection;
<a id="L1877" name="L1877"></a>1877             <em class="brace">}</em>
<a id="L1878" name="L1878"></a>1878         <em class="brace">}</em>
<a id="L1879" name="L1879"></a>1879 
<div class="comment">
          Returns a new Builder object.
          <p>Each call to the {@link #getKeyStore} method on the returned
          builder will return a new KeyStore object of type <code>type</code>.
          Its {@link KeyStore#load(KeyStore.LoadStoreParameter) load()}
          method is invoked using a
          <code>LoadStoreParameter</code> that encapsulates
          <code>protection</code>.
          </p><p>The KeyStore is instantiated from <code>provider</code> if
          non-null. Otherwise, all installed providers are searched.
          </p><p>Calls to {@link #getProtectionParameter getProtectionParameter()}
          will return <code>protection</code>.
          </p><p><em>Note</em> that the {@link #getKeyStore} method is executed
          within the {@link AccessControlContext} of the code invoking this
          method.
          @return a new Builder object
          @param type the type of KeyStore to be constructed
          @param provider the provider from which the KeyStore is to
            be instantiated (or null)
          @param protection the ProtectionParameter securing the Keystore
          @throws NullPointerException if type or protection is null</p></div>
<a id="L1907" name="L1907"></a>1907         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a> <a href="../R/23567.html" title="Multiple referred from 523 places.">newInstance</a>(<strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L1908" name="L1908"></a>1908                 <strong class="reserved">final</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>, <strong class="reserved">final</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protection) <em class="brace">{</em>
<a id="L1909" name="L1909"></a>1909             <strong class="reserved">if</strong> ((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) || (protection == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1910" name="L1910"></a>1910                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1911" name="L1911"></a>1911             <em class="brace">}</em>
<a id="L1912" name="L1912"></a>1912             <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L1913" name="L1913"></a>1913             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/1017.html" title="Multiple defined in 9 places.">Builder</a>() <em class="brace">{</em>
<a id="L1914" name="L1914"></a>1914                 <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> getCalled;
<a id="L1915" name="L1915"></a>1915                 <strong class="reserved">private</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> oldException;
<a id="L1916" name="L1916"></a>1916 
<a id="L1917" name="L1917"></a>1917                 <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>
<a id="L1918" name="L1918"></a>1918                         = <strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>&gt;() <em class="brace">{</em>
<a id="L1919" name="L1919"></a>1919 
<a id="L1920" name="L1920"></a>1920                     <strong class="reserved">public</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1921" name="L1921"></a>1921                         <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> ks;
<a id="L1922" name="L1922"></a>1922                         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1923" name="L1923"></a>1923                             ks = <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L1924" name="L1924"></a>1924                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1925" name="L1925"></a>1925                             ks = <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L1926" name="L1926"></a>1926                         <em class="brace">}</em>
<a id="L1927" name="L1927"></a>1927                         <a href="../S/1368.html#L218" title="Defined at 218 in src/java/security/KeyStore.java.">LoadStoreParameter</a> param = <strong class="reserved">new</strong> <a href="../S/1368.html#L1988" title="Defined at 1988 in src/java/security/KeyStore.java.">SimpleLoadStoreParameter</a>(protection);
<a id="L1928" name="L1928"></a>1928                         <strong class="reserved">if</strong> (protection <strong class="reserved">instanceof</strong> <a href="../S/1368.html#L380" title="Defined at 380 in src/java/security/KeyStore.java.">CallbackHandlerProtection</a> == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L1929" name="L1929"></a>1929                             ks.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(param);
<a id="L1930" name="L1930"></a>1930                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1931" name="L1931"></a>1931                             <em class="comment">// when using a CallbackHandler,</em>
<a id="L1932" name="L1932"></a>1932                             <em class="comment">// reprompt if the password is wrong</em>
<a id="L1933" name="L1933"></a>1933                             <strong class="reserved">int</strong> tries = 0;
<a id="L1934" name="L1934"></a>1934                             <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L1935" name="L1935"></a>1935                                 tries++;
<a id="L1936" name="L1936"></a>1936                                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1937" name="L1937"></a>1937                                     ks.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(param);
<a id="L1938" name="L1938"></a>1938                                     <strong class="reserved">break</strong>;
<a id="L1939" name="L1939"></a>1939                                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L1940" name="L1940"></a>1940                                     <strong class="reserved">if</strong> (e.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>() <strong class="reserved">instanceof</strong> <a href="../S/1210.html#L35" title="Defined at 35 in src/java/security/UnrecoverableKeyException.java.">UnrecoverableKeyException</a>) <em class="brace">{</em>
<a id="L1941" name="L1941"></a>1941                                         <strong class="reserved">if</strong> (tries &lt; MAX_CALLBACK_TRIES) <em class="brace">{</em>
<a id="L1942" name="L1942"></a>1942                                             <strong class="reserved">continue</strong>;
<a id="L1943" name="L1943"></a>1943                                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1944" name="L1944"></a>1944                                             oldException = e;
<a id="L1945" name="L1945"></a>1945                                         <em class="brace">}</em>
<a id="L1946" name="L1946"></a>1946                                     <em class="brace">}</em>
<a id="L1947" name="L1947"></a>1947                                     <strong class="reserved">throw</strong> e;
<a id="L1948" name="L1948"></a>1948                                 <em class="brace">}</em>
<a id="L1949" name="L1949"></a>1949                             <em class="brace">}</em>
<a id="L1950" name="L1950"></a>1950                         <em class="brace">}</em>
<a id="L1951" name="L1951"></a>1951                         getCalled = <strong class="reserved">true</strong>;
<a id="L1952" name="L1952"></a>1952                         <strong class="reserved">return</strong> ks;
<a id="L1953" name="L1953"></a>1953                     <em class="brace">}</em>
<a id="L1954" name="L1954"></a>1954                 <em class="brace">}</em>;
<a id="L1955" name="L1955"></a>1955 
<a id="L1956" name="L1956"></a>1956                 <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../S/1368.html#L180" title="Defined at 180 in src/java/security/KeyStore.java.">KeyStore</a> <a href="../D/19950.html" title="Multiple defined in 2 places.">getKeyStore</a>()
<a id="L1957" name="L1957"></a>1957                         <strong class="reserved">throws</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a> <em class="brace">{</em>
<a id="L1958" name="L1958"></a>1958                     <strong class="reserved">if</strong> (oldException != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1959" name="L1959"></a>1959                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1960" name="L1960"></a>1960                             ("Previous KeyStore instantiation failed",
<a id="L1961" name="L1961"></a>1961                              oldException);
<a id="L1962" name="L1962"></a>1962                     <em class="brace">}</em>
<a id="L1963" name="L1963"></a>1963                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1964" name="L1964"></a>1964                         <strong class="reserved">return</strong> <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>, <a href="../S/1916.html#L117" title="Defined at 117 in src/java/nio/file/WatchEvent.java.">context</a>);
<a id="L1965" name="L1965"></a>1965                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> e) <em class="brace">{</em>
<a id="L1966" name="L1966"></a>1966                         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = e.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L1967" name="L1967"></a>1967                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1194.html#L37" title="Defined at 37 in src/java/security/KeyStoreException.java.">KeyStoreException</a>
<a id="L1968" name="L1968"></a>1968                             ("KeyStore instantiation failed", cause);
<a id="L1969" name="L1969"></a>1969                     <em class="brace">}</em>
<a id="L1970" name="L1970"></a>1970                 <em class="brace">}</em>
<a id="L1971" name="L1971"></a>1971 
<a id="L1972" name="L1972"></a>1972                 <strong class="reserved">public</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> <a href="../D/21748.html" title="Multiple defined in 5 places.">getProtectionParameter</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> alias)
<a id="L1973" name="L1973"></a>1973                 <em class="brace">{</em>
<a id="L1974" name="L1974"></a>1974                     <strong class="reserved">if</strong> (alias == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1975" name="L1975"></a>1975                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1976" name="L1976"></a>1976                     <em class="brace">}</em>
<a id="L1977" name="L1977"></a>1977                     <strong class="reserved">if</strong> (getCalled == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L1978" name="L1978"></a>1978                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>
<a id="L1979" name="L1979"></a>1979                             ("getKeyStore() must be called first");
<a id="L1980" name="L1980"></a>1980                     <em class="brace">}</em>
<a id="L1981" name="L1981"></a>1981                     <strong class="reserved">return</strong> protection;
<a id="L1982" name="L1982"></a>1982                 <em class="brace">}</em>
<a id="L1983" name="L1983"></a>1983             <em class="brace">}</em>;
<a id="L1984" name="L1984"></a>1984         <em class="brace">}</em>
<a id="L1985" name="L1985"></a>1985 
<a id="L1986" name="L1986"></a>1986     <em class="brace">}</em>
<a id="L1987" name="L1987"></a>1987 
<a id="L1988" name="L1988"></a>1988     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/7258.html" title="Multiple referred from 2 places.">SimpleLoadStoreParameter</a> <strong class="reserved">implements</strong> <a href="../S/1368.html#L218" title="Defined at 218 in src/java/security/KeyStore.java.">LoadStoreParameter</a> <em class="brace">{</em>
<a id="L1989" name="L1989"></a>1989 
<a id="L1990" name="L1990"></a>1990         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protection;
<a id="L1991" name="L1991"></a>1991 
<a id="L1992" name="L1992"></a>1992         SimpleLoadStoreParameter(<a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> protection) <em class="brace">{</em>
<a id="L1993" name="L1993"></a>1993             <strong class="reserved">this</strong>.protection = protection;
<a id="L1994" name="L1994"></a>1994         <em class="brace">}</em>
<a id="L1995" name="L1995"></a>1995 
<a id="L1996" name="L1996"></a>1996         <strong class="reserved">public</strong> <a href="../S/1368.html#L239" title="Defined at 239 in src/java/security/KeyStore.java.">ProtectionParameter</a> <a href="../R/18528.html" title="Multiple referred from 3 places.">getProtectionParameter</a>() <em class="brace">{</em>
<a id="L1997" name="L1997"></a>1997             <strong class="reserved">return</strong> protection;
<a id="L1998" name="L1998"></a>1998         <em class="brace">}</em>
<a id="L1999" name="L1999"></a>1999     <em class="brace">}</em>
<a id="L2000" name="L2000"></a>2000 
<a id="L2001" name="L2001"></a>2001 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L224">[^]</a><a href="#L1996">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>