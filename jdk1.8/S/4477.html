<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/sql/rowset/serial/SerialBlob.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L171">[^]</a><a href="#L590">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L171" title="Defined at 171.">getBytes</a></li>
<li><a href="#L202" title="Defined at 202.">length</a></li>
<li><a href="#L219" title="Defined at 219.">getBinaryStream</a></li>
<li><a href="#L246" title="Defined at 246.">position</a></li>
<li><a href="#L292" title="Defined at 292.">position</a></li>
<li><a href="#L318" title="Defined at 318.">setBytes</a></li>
<li><a href="#L354" title="Defined at 354.">setBytes</a></li>
<li><a href="#L404" title="Defined at 404.">setBinaryStream</a></li>
<li><a href="#L428" title="Defined at 428.">truncate</a></li>
<li><a href="#L463" title="Defined at 463.">getBinaryStream</a></li>
<li><a href="#L485" title="Defined at 485.">free</a></li>
<li><a href="#L507" title="Defined at 507.">equals</a></li>
<li><a href="#L524" title="Defined at 524.">hashCode</a></li>
<li><a href="#L536" title="Defined at 536.">clone</a></li>
<li><a href="#L552" title="Defined at 552.">readObject</a></li>
<li><a href="#L571" title="Defined at 571.">writeObject</a></li>
<li><a href="#L590" title="Defined at 590.">isValid</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2003, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.sql.rowset.serial;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.sql.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.lang.reflect.*;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L32" name="L32"></a>  32 
<a id="L33" name="L33"></a>  33 
<div class="comment">
  A serialized mapping in the Java programming language of an SQL
  <code>BLOB</code> value.
  <p>
  The <code>SerialBlob</code> class provides a constructor for creating
  an instance from a <code>Blob</code> object.  Note that the
  <code>Blob</code>
  object should have brought the SQL <code>BLOB</code> value's data over
  to the client before a <code>SerialBlob</code> object
  is constructed from it.  The data of an SQL <code>BLOB</code> value can
  be materialized on the client as an array of bytes (using the method
  <code>Blob.getBytes</code>) or as a stream of uninterpreted bytes
  (using the method <code>Blob.getBinaryStream</code>).
  </p><p>
  <code>SerialBlob</code> methods make it possible to make a copy of a
  <code>SerialBlob</code> object as an array of bytes or as a stream.
  They also make it possible to locate a given pattern of bytes or a
  <code>Blob</code> object within a <code>SerialBlob</code> object
  and to update or truncate a <code>Blob</code> object.
  </p><h3> Thread safety </h3>
  <p> A SerialBlob is not safe for use by multiple concurrent threads.  If a
  SerialBlob is to be used by more than one thread then access to the SerialBlob
  should be controlled by appropriate synchronization.
  @author Jonathan Bruce</p></div>
<a id="L62" name="L62"></a>  62 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7035.html" title="Multiple referred from 8 places.">SerialBlob</a> <strong class="reserved">implements</strong> <a href="../S/2595.html#L60" title="Defined at 60 in src/java/sql/Blob.java.">Blob</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>, <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L63" name="L63"></a>  63 
<div class="comment">
      A serialized array of uninterpreted bytes representing the
      value of this <code>SerialBlob</code> object.
      @serial</div>
<a id="L69" name="L69"></a>  69     <strong class="reserved">private</strong> <strong class="reserved">byte</strong>[] <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>;
<a id="L70" name="L70"></a>  70 
<div class="comment">
      The internal representation of the <code>Blob</code> object on which this
      <code>SerialBlob</code> object is based.</div>
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <a href="../S/2595.html#L60" title="Defined at 60 in src/java/sql/Blob.java.">Blob</a> blob;
<a id="L76" name="L76"></a>  76 
<div class="comment">
      The number of bytes in this <code>SerialBlob</code> object's
      array of bytes.
      @serial</div>
<a id="L82" name="L82"></a>  82     <strong class="reserved">private</strong> <strong class="reserved">long</strong> len;
<a id="L83" name="L83"></a>  83 
<div class="comment">
      The original number of bytes in this <code>SerialBlob</code> object's
      array of bytes when it was first established.
      @serial</div>
<a id="L89" name="L89"></a>  89     <strong class="reserved">private</strong> <strong class="reserved">long</strong> origLen;
<a id="L90" name="L90"></a>  90 
<div class="comment">
      Constructs a <code>SerialBlob</code> object that is a serialized version of
      the given <code>byte</code> array.
      <p>
      The new <code>SerialBlob</code> object is initialized with the data from the
      <code>byte</code> array, thus allowing disconnected <code>RowSet</code>
      objects to establish serialized <code>Blob</code> objects without
      touching the data source.
      @param b the <code>byte</code> array containing the data for the
             <code>Blob</code> object to be serialized
      @throws SerialException if an error occurs during serialization
      @throws SQLException if a SQL errors occurs</p></div>
<a id="L105" name="L105"></a> 105     <strong class="reserved">public</strong> SerialBlob(<strong class="reserved">byte</strong>[] b)
<a id="L106" name="L106"></a> 106             <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L107" name="L107"></a> 107 
<a id="L108" name="L108"></a> 108         len = b.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L109" name="L109"></a> 109         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[(<strong class="reserved">int</strong>)len];
<a id="L110" name="L110"></a> 110         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; len; i++) <em class="brace">{</em>
<a id="L111" name="L111"></a> 111             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i] = b[i];
<a id="L112" name="L112"></a> 112         <em class="brace">}</em>
<a id="L113" name="L113"></a> 113         origLen = len;
<a id="L114" name="L114"></a> 114     <em class="brace">}</em>
<a id="L115" name="L115"></a> 115 
<a id="L116" name="L116"></a> 116 
<div class="comment">
      Constructs a <code>SerialBlob</code> object that is a serialized
      version of the given <code>Blob</code> object.
      <p>
      The new <code>SerialBlob</code> object is initialized with the
      data from the <code>Blob</code> object; therefore, the
      <code>Blob</code> object should have previously brought the
      SQL <code>BLOB</code> value's data over to the client from
      the database. Otherwise, the new <code>SerialBlob</code> object
      will contain no data.
      @param blob the <code>Blob</code> object from which this
          <code>SerialBlob</code> object is to be constructed;
          cannot be null.
      @throws SerialException if an error occurs during serialization
      @throws SQLException if the <code>Blob</code> passed to this
          to this constructor is a <code>null</code>.
      @see java.sql.Blob</p></div>
<a id="L136" name="L136"></a> 136     <strong class="reserved">public</strong> SerialBlob (<a href="../S/2595.html#L60" title="Defined at 60 in src/java/sql/Blob.java.">Blob</a> blob)
<a id="L137" name="L137"></a> 137             <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139         <strong class="reserved">if</strong> (blob == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L140" name="L140"></a> 140             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a>(
<a id="L141" name="L141"></a> 141                     "Cannot instantiate a SerialBlob object with a null Blob object");
<a id="L142" name="L142"></a> 142         <em class="brace">}</em>
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144         len = blob.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L145" name="L145"></a> 145         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = blob.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>(1, (<strong class="reserved">int</strong>)len );
<a id="L146" name="L146"></a> 146         <strong class="reserved">this</strong>.blob = blob;
<a id="L147" name="L147"></a> 147         origLen = len;
<a id="L148" name="L148"></a> 148     <em class="brace">}</em>
<a id="L149" name="L149"></a> 149 
<div class="comment">
      Copies the specified number of bytes, starting at the given
      position, from this <code>SerialBlob</code> object to
      another array of bytes.
      <p>
      Note that if the given number of bytes to be copied is larger than
      the length of this <code>SerialBlob</code> object's array of
      bytes, the given number will be shortened to the array's length.
      @param pos the ordinal position of the first byte in this
                 <code>SerialBlob</code> object to be copied;
                 numbering starts at <code>1</code>; must not be less
                 than <code>1</code> and must be less than or equal
                 to the length of this <code>SerialBlob</code> object
      @param length the number of bytes to be copied
      @return an array of bytes that is a copy of a region of this
              <code>SerialBlob</code> object, starting at the given
              position and containing the given number of consecutive bytes
      @throws SerialException if the given starting position is out of bounds;
      if <code>free</code> had previously been called on this object</p></div>
<a id="L171" name="L171"></a> 171     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] <a href="../R/15387.html" title="Multiple referred from 178 places.">getBytes</a>(<strong class="reserved">long</strong> pos, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L172" name="L172"></a> 172         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L173" name="L173"></a> 173         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; len) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174             <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = (<strong class="reserved">int</strong>)len;
<a id="L175" name="L175"></a> 175         <em class="brace">}</em>
<a id="L176" name="L176"></a> 176 
<a id="L177" name="L177"></a> 177         <strong class="reserved">if</strong> (pos &lt; 1 || len - pos &lt; 0 ) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid arguments: position cannot be "
<a id="L179" name="L179"></a> 179                     + "less than 1 or greater than the length of the SerialBlob");
<a id="L180" name="L180"></a> 180         <em class="brace">}</em>
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182         pos--; <em class="comment">// correct pos to array index</em>
<a id="L183" name="L183"></a> 183 
<a id="L184" name="L184"></a> 184         <strong class="reserved">byte</strong>[] b = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L185" name="L185"></a> 185 
<a id="L186" name="L186"></a> 186         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L187" name="L187"></a> 187             b[i] = <strong class="reserved">this</strong>.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[(<strong class="reserved">int</strong>)pos];
<a id="L188" name="L188"></a> 188             pos++;
<a id="L189" name="L189"></a> 189         <em class="brace">}</em>
<a id="L190" name="L190"></a> 190         <strong class="reserved">return</strong> b;
<a id="L191" name="L191"></a> 191     <em class="brace">}</em>
<a id="L192" name="L192"></a> 192 
<div class="comment">
      Retrieves the number of bytes in this <code>SerialBlob</code>
      object's array of bytes.
      @return a <code>long</code> indicating the length in bytes of this
              <code>SerialBlob</code> object's array of bytes
      @throws SerialException if an error occurs;
      if <code>free</code> had previously been called on this object</div>
<a id="L202" name="L202"></a> 202     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/22477.html" title="Multiple referred from 12963 places.">length</a>() <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L203" name="L203"></a> 203         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L204" name="L204"></a> 204         <strong class="reserved">return</strong> len;
<a id="L205" name="L205"></a> 205     <em class="brace">}</em>
<a id="L206" name="L206"></a> 206 
<div class="comment">
      Returns this <code>SerialBlob</code> object as an input stream.
      Unlike the related method, <code>setBinaryStream</code>,
      a stream is produced regardless of whether the <code>SerialBlob</code>
      was created with a <code>Blob</code> object or a <code>byte</code> array.
      @return a <code>java.io.InputStream</code> object that contains
              this <code>SerialBlob</code> object's array of bytes
      @throws SerialException if an error occurs;
      if <code>free</code> had previously been called on this object
      @see #setBinaryStream</div>
<a id="L219" name="L219"></a> 219     <strong class="reserved">public</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> getBinaryStream() <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L220" name="L220"></a> 220         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L221" name="L221"></a> 221         <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a> = <strong class="reserved">new</strong> <a href="../S/1443.html#L44" title="Defined at 44 in src/java/io/ByteArrayInputStream.java.">ByteArrayInputStream</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L222" name="L222"></a> 222         <strong class="reserved">return</strong> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>;
<a id="L223" name="L223"></a> 223     <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<div class="comment">
      Returns the position in this <code>SerialBlob</code> object where
      the given pattern of bytes begins, starting the search at the
      specified position.
      @param pattern the pattern of bytes for which to search
      @param start the position of the byte in this
                   <code>SerialBlob</code> object from which to begin
                   the search; the first position is <code>1</code>;
                   must not be less than <code>1</code> nor greater than
                   the length of this <code>SerialBlob</code> object
      @return the position in this <code>SerialBlob</code> object
              where the given pattern begins, starting at the specified
              position; <code>-1</code> if the pattern is not found
              or the given starting position is out of bounds; position
              numbering for the return value starts at <code>1</code>
      @throws SerialException if an error occurs when serializing the blob;
      if <code>free</code> had previously been called on this object
      @throws SQLException if there is an error accessing the <code>BLOB</code>
              value from the database</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/24840.html" title="Multiple referred from 1781 places.">position</a>(<strong class="reserved">byte</strong>[] <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, <strong class="reserved">long</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>)
<a id="L247" name="L247"></a> 247             <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L248" name="L248"></a> 248 
<a id="L249" name="L249"></a> 249         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L250" name="L250"></a> 250         <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; 1 || <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &gt; len) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251             <strong class="reserved">return</strong> -1;
<a id="L252" name="L252"></a> 252         <em class="brace">}</em>
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254         <strong class="reserved">int</strong> pos = (<strong class="reserved">int</strong>)<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>-1; <em class="comment">// internally Blobs are stored as arrays.</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">int</strong> i = 0;
<a id="L256" name="L256"></a> 256         <strong class="reserved">long</strong> patlen = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L257" name="L257"></a> 257 
<a id="L258" name="L258"></a> 258         <strong class="reserved">while</strong> (pos &lt; len) <em class="brace">{</em>
<a id="L259" name="L259"></a> 259             <strong class="reserved">if</strong> (<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>[i] == <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[pos]) <em class="brace">{</em>
<a id="L260" name="L260"></a> 260                 <strong class="reserved">if</strong> (i + 1 == patlen) <em class="brace">{</em>
<a id="L261" name="L261"></a> 261                     <strong class="reserved">return</strong> (pos + 1) - (patlen - 1);
<a id="L262" name="L262"></a> 262                 <em class="brace">}</em>
<a id="L263" name="L263"></a> 263                 i++; pos++; <em class="comment">// increment pos, and i</em>
<a id="L264" name="L264"></a> 264             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>[i] != <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[pos]) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265                 pos++; <em class="comment">// increment pos only</em>
<a id="L266" name="L266"></a> 266             <em class="brace">}</em>
<a id="L267" name="L267"></a> 267         <em class="brace">}</em>
<a id="L268" name="L268"></a> 268         <strong class="reserved">return</strong> -1; <em class="comment">// not found</em>
<a id="L269" name="L269"></a> 269     <em class="brace">}</em>
<a id="L270" name="L270"></a> 270 
<div class="comment">
      Returns the position in this <code>SerialBlob</code> object where
      the given <code>Blob</code> object begins, starting the search at the
      specified position.
      @param pattern the <code>Blob</code> object for which to search;
      @param start the position of the byte in this
                   <code>SerialBlob</code> object from which to begin
                   the search; the first position is <code>1</code>;
                   must not be less than <code>1</code> nor greater than
                   the length of this <code>SerialBlob</code> object
      @return the position in this <code>SerialBlob</code> object
              where the given <code>Blob</code> object begins, starting
              at the specified position; <code>-1</code> if the pattern is
              not found or the given starting position is out of bounds;
              position numbering for the return value starts at <code>1</code>
      @throws SerialException if an error occurs when serializing the blob;
      if <code>free</code> had previously been called on this object
      @throws SQLException if there is an error accessing the <code>BLOB</code>
              value from the database</div>
<a id="L292" name="L292"></a> 292     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/24840.html" title="Multiple referred from 1781 places.">position</a>(<a href="../S/2595.html#L60" title="Defined at 60 in src/java/sql/Blob.java.">Blob</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>, <strong class="reserved">long</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>)
<a id="L293" name="L293"></a> 293             <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L295" name="L295"></a> 295         <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>(1, (<strong class="reserved">int</strong>)(<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>())), <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L296" name="L296"></a> 296     <em class="brace">}</em>
<a id="L297" name="L297"></a> 297 
<div class="comment">
      Writes the given array of bytes to the <code>BLOB</code> value that
      this <code>Blob</code> object represents, starting at position
      <code>pos</code>, and returns the number of bytes written.
      @param pos the position in the SQL <code>BLOB</code> value at which
          to start writing. The first position is <code>1</code>;
          must not be less than <code>1</code> nor greater than
          the length of this <code>SerialBlob</code> object.
      @param bytes the array of bytes to be written to the <code>BLOB</code>
             value that this <code>Blob</code> object represents
      @return the number of bytes written
      @throws SerialException if there is an error accessing the
          <code>BLOB</code> value; or if an invalid position is set; if an
          invalid offset value is set;
      if <code>free</code> had previously been called on this object
      @throws SQLException if there is an error accessing the <code>BLOB</code>
              value from the database
      @see #getBytes</div>
<a id="L318" name="L318"></a> 318     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/26984.html" title="Multiple referred from 2 places.">setBytes</a>(<strong class="reserved">long</strong> pos, <strong class="reserved">byte</strong>[] bytes)
<a id="L319" name="L319"></a> 319             <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L320" name="L320"></a> 320         <strong class="reserved">return</strong> <a href="../D/32068.html" title="Multiple defined in 18 places.">setBytes</a>(pos, bytes, 0, bytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L321" name="L321"></a> 321     <em class="brace">}</em>
<a id="L322" name="L322"></a> 322 
<div class="comment">
      Writes all or part of the given <code>byte</code> array to the
      <code>BLOB</code> value that this <code>Blob</code> object represents
      and returns the number of bytes written.
      Writing starts at position <code>pos</code> in the <code>BLOB</code>
      value; <i>len</i> bytes from the given byte array are written.
      @param pos the position in the <code>BLOB</code> object at which
          to start writing. The first position is <code>1</code>;
          must not be less than <code>1</code> nor greater than
          the length of this <code>SerialBlob</code> object.
      @param bytes the array of bytes to be written to the <code>BLOB</code>
          value
      @param offset the offset in the <code>byte</code> array at which
          to start reading the bytes. The first offset position is
          <code>0</code>; must not be less than <code>0</code> nor greater
          than the length of the <code>byte</code> array
      @param length the number of bytes to be written to the
          <code>BLOB</code> value from the array of bytes <i>bytes</i>.
      @return the number of bytes written
      @throws SerialException if there is an error accessing the
          <code>BLOB</code> value; if an invalid position is set; if an
          invalid offset value is set; if number of bytes to be written
          is greater than the <code>SerialBlob</code> length; or the combined
          values of the length and offset is greater than the Blob buffer;
      if <code>free</code> had previously been called on this object
      @throws SQLException if there is an error accessing the <code>BLOB</code>
              value from the database.
      @see #getBytes</div>
<a id="L354" name="L354"></a> 354     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/26984.html" title="Multiple referred from 2 places.">setBytes</a>(<strong class="reserved">long</strong> pos, <strong class="reserved">byte</strong>[] bytes, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L355" name="L355"></a> 355             <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L356" name="L356"></a> 356 
<a id="L357" name="L357"></a> 357         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L358" name="L358"></a> 358         <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; 0 || <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt; bytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid offset in byte array set");
<a id="L360" name="L360"></a> 360         <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362         <strong class="reserved">if</strong> (pos &lt; 1 || pos &gt; <strong class="reserved">this</strong>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid position in BLOB object set");
<a id="L364" name="L364"></a> 364         <em class="brace">}</em>
<a id="L365" name="L365"></a> 365 
<a id="L366" name="L366"></a> 366         <strong class="reserved">if</strong> ((<strong class="reserved">long</strong>)(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) &gt; origLen) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Buffer is not sufficient to hold the value");
<a id="L368" name="L368"></a> 368         <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370         <strong class="reserved">if</strong> ((<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) &gt; bytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid OffSet. Cannot have combined offset " +
<a id="L372" name="L372"></a> 372                     "and length that is greater that the Blob buffer");
<a id="L373" name="L373"></a> 373         <em class="brace">}</em>
<a id="L374" name="L374"></a> 374 
<a id="L375" name="L375"></a> 375         <strong class="reserved">int</strong> i = 0;
<a id="L376" name="L376"></a> 376         pos--; <em class="comment">// correct to array indexing</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">while</strong> ( i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + i +1) &lt; (bytes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) ) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             <strong class="reserved">this</strong>.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[(<strong class="reserved">int</strong>)pos + i] = bytes[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + i ];
<a id="L379" name="L379"></a> 379             i++;
<a id="L380" name="L380"></a> 380         <em class="brace">}</em>
<a id="L381" name="L381"></a> 381         <strong class="reserved">return</strong> i;
<a id="L382" name="L382"></a> 382     <em class="brace">}</em>
<a id="L383" name="L383"></a> 383 
<div class="comment">
      Retrieves a stream that can be used to write to the <code>BLOB</code>
      value that this <code>Blob</code> object represents.  The stream begins
      at position <code>pos</code>. This method forwards the
      <code>setBinaryStream()</code> call to the underlying <code>Blob</code> in
      the event that this <code>SerialBlob</code> object is instantiated with a
      <code>Blob</code>. If this <code>SerialBlob</code> is instantiated with
      a <code>byte</code> array, a <code>SerialException</code> is thrown.
      @param pos the position in the <code>BLOB</code> value at which
             to start writing
      @return a <code>java.io.OutputStream</code> object to which data can
              be written
      @throws SQLException if there is an error accessing the
                 <code>BLOB</code> value
      @throws SerialException if the SerialBlob in not instantiated with a
          <code>Blob</code> object that supports <code>setBinaryStream()</code>;
      if <code>free</code> had previously been called on this object
      @see #getBinaryStream</div>
<a id="L404" name="L404"></a> 404     <strong class="reserved">public</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../S/4477.html#L409" title="Referred from 409 in src/javax/sql/rowset/serial/SerialBlob.java.">setBinaryStream</a>(<strong class="reserved">long</strong> pos)
<a id="L405" name="L405"></a> 405             <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L406" name="L406"></a> 406 
<a id="L407" name="L407"></a> 407         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L408" name="L408"></a> 408         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.blob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409             <strong class="reserved">return</strong> <strong class="reserved">this</strong>.blob.<a href="../D/31999.html" title="Multiple defined in 17 places.">setBinaryStream</a>(pos);
<a id="L410" name="L410"></a> 410         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L411" name="L411"></a> 411             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Unsupported operation. SerialBlob cannot " +
<a id="L412" name="L412"></a> 412                 "return a writable binary stream, unless instantiated with a Blob object " +
<a id="L413" name="L413"></a> 413                 "that provides a setBinaryStream() implementation");
<a id="L414" name="L414"></a> 414         <em class="brace">}</em>
<a id="L415" name="L415"></a> 415     <em class="brace">}</em>
<a id="L416" name="L416"></a> 416 
<div class="comment">
      Truncates the <code>BLOB</code> value that this <code>Blob</code>
      object represents to be <code>len</code> bytes in length.
      @param length the length, in bytes, to which the <code>BLOB</code>
             value that this <code>Blob</code> object represents should be
             truncated
      @throws SerialException if there is an error accessing the Blob value;
          or the length to truncate is greater that the SerialBlob length;
      if <code>free</code> had previously been called on this object</div>
<a id="L428" name="L428"></a> 428     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29532.html" title="Multiple referred from 7 places.">truncate</a>(<strong class="reserved">long</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L429" name="L429"></a> 429         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L430" name="L430"></a> 430         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; len) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>(
<a id="L432" name="L432"></a> 432                     "Length more than what can be truncated");
<a id="L433" name="L433"></a> 433         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong>((<strong class="reserved">int</strong>)<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[0];
<a id="L435" name="L435"></a> 435             len = <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L436" name="L436"></a> 436         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L437" name="L437"></a> 437             len = <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L438" name="L438"></a> 438             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">this</strong>.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>(1, (<strong class="reserved">int</strong>)len);
<a id="L439" name="L439"></a> 439         <em class="brace">}</em>
<a id="L440" name="L440"></a> 440     <em class="brace">}</em>
<a id="L441" name="L441"></a> 441 
<a id="L442" name="L442"></a> 442 
<div class="comment">
      Returns an
      <code>InputStream</code> object that contains a partial
      <code>Blob</code> value, starting with the byte specified by pos, which is
      length bytes in length.
      @param pos the offset to the first byte of the partial value to be
      retrieved. The first byte in the <code>Blob</code> is at position 1
      @param length the length in bytes of the partial value to be retrieved
      @return
      <code>InputStream</code> through which the partial <code>Blob</code> value can
      be read.
      @throws SQLException if pos is less than 1 or if pos is greater than the
      number of bytes in the <code>Blob</code> or if pos + length is greater than
      the number of bytes in the <code>Blob</code>
      @throws SerialException if the <code>free</code> method had been previously
      called on this object
      @since 1.6</div>
<a id="L463" name="L463"></a> 463     <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> getBinaryStream(<strong class="reserved">long</strong> pos, <strong class="reserved">long</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L464" name="L464"></a> 464         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L465" name="L465"></a> 465         <strong class="reserved">if</strong> (pos &lt; 1 || pos &gt; <strong class="reserved">this</strong>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L466" name="L466"></a> 466             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid position in BLOB object set");
<a id="L467" name="L467"></a> 467         <em class="brace">}</em>
<a id="L468" name="L468"></a> 468         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 1 || <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; len - pos + 1) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>(
<a id="L470" name="L470"></a> 470                     "length is &lt; 1 or pos + length &gt; total number of bytes");
<a id="L471" name="L471"></a> 471         <em class="brace">}</em>
<a id="L472" name="L472"></a> 472         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1443.html#L44" title="Defined at 44 in src/java/io/ByteArrayInputStream.java.">ByteArrayInputStream</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, (<strong class="reserved">int</strong>) pos - 1, (<strong class="reserved">int</strong>) <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L473" name="L473"></a> 473     <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475 
<div class="comment">
      This method frees the <code>SeriableBlob</code> object and releases the
      resources that it holds. The object is invalid once the <code>free</code>
      method is called. <p> If <code>free</code> is called multiple times, the
      subsequent calls to <code>free</code> are treated as a no-op. </p>
      @throws SQLException if an error occurs releasing the Blob's resources
      @since 1.6</div>
<a id="L485" name="L485"></a> 485     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14791.html" title="Multiple referred from 62 places.">free</a>() <strong class="reserved">throws</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L486" name="L486"></a> 486         <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L487" name="L487"></a> 487             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">null</strong>;
<a id="L488" name="L488"></a> 488             <strong class="reserved">if</strong> (blob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L489" name="L489"></a> 489                 blob.<a href="../D/16577.html" title="Multiple defined in 8 places.">free</a>();
<a id="L490" name="L490"></a> 490             <em class="brace">}</em>
<a id="L491" name="L491"></a> 491             blob = <strong class="reserved">null</strong>;
<a id="L492" name="L492"></a> 492         <em class="brace">}</em>
<a id="L493" name="L493"></a> 493     <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<div class="comment">
      Compares this SerialBlob to the specified object.  The result is {@code
      true} if and only if the argument is not <code>null</code> and is a {@code
      SerialBlob} object that represents the same sequence of bytes as this
      object.
      @param  obj The object to compare this <code>SerialBlob</code> against
      @return <code>true</code> if the given object represents a <code>SerialBlob</code>
               equivalent to this SerialBlob, <code>false</code> otherwise</div>
<a id="L507" name="L507"></a> 507     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L510" name="L510"></a> 510         <em class="brace">}</em>
<a id="L511" name="L511"></a> 511         <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <a href="../S/4477.html#L62" title="Defined at 62 in src/javax/sql/rowset/serial/SerialBlob.java.">SerialBlob</a>) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512             <a href="../S/4477.html#L62" title="Defined at 62 in src/javax/sql/rowset/serial/SerialBlob.java.">SerialBlob</a> sb = (<a href="../S/4477.html#L62" title="Defined at 62 in src/javax/sql/rowset/serial/SerialBlob.java.">SerialBlob</a>)obj;
<a id="L513" name="L513"></a> 513             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.len == sb.len) <em class="brace">{</em>
<a id="L514" name="L514"></a> 514                 <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, sb.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L515" name="L515"></a> 515             <em class="brace">}</em>
<a id="L516" name="L516"></a> 516         <em class="brace">}</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L518" name="L518"></a> 518     <em class="brace">}</em>
<a id="L519" name="L519"></a> 519 
<div class="comment">
      Returns a hash code for this <code>SerialBlob</code>.
      @return  a hash code value for this object.</div>
<a id="L524" name="L524"></a> 524     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L525" name="L525"></a> 525        <strong class="reserved">return</strong> ((31 + <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>)) * 31 + (<strong class="reserved">int</strong>)len) * 31 + (<strong class="reserved">int</strong>)origLen;
<a id="L526" name="L526"></a> 526     <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<div class="comment">
      Returns a clone of this <code>SerialBlob</code>. The copy will contain a
      reference to a clone of the internal byte array, not a reference
      to the original internal byte array of this <code>SerialBlob</code> object.
      The underlying <code>Blob</code> object will be set to null.
      @return  a clone of this SerialBlob</div>
<a id="L536" name="L536"></a> 536     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L537" name="L537"></a> 537         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L538" name="L538"></a> 538             <a href="../S/4477.html#L62" title="Defined at 62 in src/javax/sql/rowset/serial/SerialBlob.java.">SerialBlob</a> sb = (<a href="../S/4477.html#L62" title="Defined at 62 in src/javax/sql/rowset/serial/SerialBlob.java.">SerialBlob</a>) <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L539" name="L539"></a> 539             sb.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> != <strong class="reserved">null</strong>) ? <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, (<strong class="reserved">int</strong>)len) : <strong class="reserved">null</strong>;
<a id="L540" name="L540"></a> 540             sb.blob = <strong class="reserved">null</strong>;
<a id="L541" name="L541"></a> 541             <strong class="reserved">return</strong> sb;
<a id="L542" name="L542"></a> 542         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543             <em class="comment">// this shouldn't happen, since we are Cloneable</em>
<a id="L544" name="L544"></a> 544             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>();
<a id="L545" name="L545"></a> 545         <em class="brace">}</em>
<a id="L546" name="L546"></a> 546     <em class="brace">}</em>
<a id="L547" name="L547"></a> 547 
<div class="comment">
      readObject is called to restore the state of the SerialBlob from
      a stream.</div>
<a id="L552" name="L552"></a> 552     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L553" name="L553"></a> 553             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L554" name="L554"></a> 554 
<a id="L555" name="L555"></a> 555         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L556" name="L556"></a> 556         <strong class="reserved">byte</strong>[] tmp = (<strong class="reserved">byte</strong>[])<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("buf", <strong class="reserved">null</strong>);
<a id="L557" name="L557"></a> 557         <strong class="reserved">if</strong> (tmp == <strong class="reserved">null</strong>)
<a id="L558" name="L558"></a> 558             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("buf is null and should not be!");
<a id="L559" name="L559"></a> 559         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = tmp.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L560" name="L560"></a> 560         len = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("len", 0L);
<a id="L561" name="L561"></a> 561         <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != len)
<a id="L562" name="L562"></a> 562             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("buf is not the expected size");
<a id="L563" name="L563"></a> 563         origLen = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("origLen", 0L);
<a id="L564" name="L564"></a> 564         blob = (<a href="../S/2595.html#L60" title="Defined at 60 in src/java/sql/Blob.java.">Blob</a>) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("blob", <strong class="reserved">null</strong>);
<a id="L565" name="L565"></a> 565     <em class="brace">}</em>
<a id="L566" name="L566"></a> 566 
<div class="comment">
      writeObject is called to save the state of the SerialBlob
      to a stream.</div>
<a id="L571" name="L571"></a> 571     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L572" name="L572"></a> 572             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L573" name="L573"></a> 573 
<a id="L574" name="L574"></a> 574         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L575" name="L575"></a> 575         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("buf", <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L576" name="L576"></a> 576         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("len", len);
<a id="L577" name="L577"></a> 577         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("origLen", origLen);
<a id="L578" name="L578"></a> 578         <em class="comment">// Note: this check to see if it is an instance of Serializable</em>
<a id="L579" name="L579"></a> 579         <em class="comment">// is for backwards compatibiity</em>
<a id="L580" name="L580"></a> 580         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("blob", blob <strong class="reserved">instanceof</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> ? blob : <strong class="reserved">null</strong>);
<a id="L581" name="L581"></a> 581         s.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L582" name="L582"></a> 582     <em class="brace">}</em>
<a id="L583" name="L583"></a> 583 
<div class="comment">
      Check to see if this object had previously had its <code>free</code> method
      called
      @throws SerialException</div>
<a id="L590" name="L590"></a> 590     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/22162.html" title="Multiple referred from 125 places.">isValid</a>() <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L592" name="L592"></a> 592             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Error: You cannot call a method on a " +
<a id="L593" name="L593"></a> 593                     "SerialBlob instance once free() has been called.");
<a id="L594" name="L594"></a> 594         <em class="brace">}</em>
<a id="L595" name="L595"></a> 595     <em class="brace">}</em>
<a id="L596" name="L596"></a> 596 
<div class="comment">
      The identifier that assists in the serialization of this
      <code>SerialBlob</code> object.</div>
<a id="L601" name="L601"></a> 601     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -8144641928112860441L;
<a id="L602" name="L602"></a> 602 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L171">[^]</a><a href="#L590">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>